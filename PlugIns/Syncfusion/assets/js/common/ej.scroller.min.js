/*!
*  filename: ej.scroller.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.core.min"],n):n()})(function(){(function(n,t,i,r){"use strict";t.widget("ejScroller","ej.Scroller",{defaults:{height:250,autoHide:!1,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:r,enableTouchScroll:!0,create:null,destroy:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:t.util.valueFunction("scrollTop"),scrollLeft:t.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return this._content&&this._content.length&&this._content[0].offsetParent||(this._content=this.element.children("div").first().addClass("e-content")),this._content},_setFirst:!0,_init:function(){this.element.addClass("e-widget");this.content();this._ensureScrollers();this.model.enableRTL===r&&(this.model.enableRTL=this.element.css("direction")==="rtl");this.model.enableRTL&&this.element.addClass("e-rtl");this.scrollLeft()&&this.content().scrollLeft(this.scrollLeft());this.scrollTop()&&this.content().scrollTop(this.scrollTop());this._on(this.content(),"scroll",this._scroll);this.model.targetPane!=null&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll);this.model.autoHide&&(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave",this._scrollerHover))},_ensureScrollers:function(){var r=n.fn.jquery,t,i,u,f;this.model.height&&this.element.height(this.model.height);this.model.width&&this.element.width(this.model.width);this._off(this.content(),"mousedown touchstart");this.content().length>0&&(this.isVScroll()?this._v||(u=this._createScroller("Height","Y","Top","e-v",this.isHScroll()),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:u},this._mouseDownOnContent)):(this._v=null,this.element.find(".e-vscroll").remove()),this.isHScroll()?this._h||(f=this._createScroller("Width","X","Left","e-h",this.isVScroll()),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:f},this._mouseDownOnContent)):(this.element.find(".e-hscroll").remove(),this._h=null),this._v||this._h||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0?this.element.hasClass("e-hscrollbar")||this.element.addClass("e-hscrollbar"):this.element.hasClass("e-hscrollbar")&&(this.element.removeClass("e-hscrollbar"),this._v&&this.content().outerHeight(this.content().outerHeight()-1)),this.isHScroll()||this.isVScroll()?(this.content().addClass("e-content"),r==="1.7.1"||r==="1.7.2"?(t="height",i="width"):(t="outerHeight",i="outerWidth"),this.content()[t](this.element.height()-(this.isHScroll()&&!this.model.autoHide?this.model.scrollerSize:0)),this.content()[i](this.element.width()-(this.isVScroll()&&!this.model.autoHide?this.model.scrollerSize:0))):this.content().removeClass("e-content"))},isHScroll:function(){if(this.model.width>0){var n=this.content().find(this.model.targetPane);return this.model.targetPane!=null&&n.length?n[0].scrollWidth+n.siblings().width()>this.model.width:this.content()[0].scrollWidth>this.model.width}return!1},isVScroll:function(){return this.model.height>0&&this.content()[0].scrollHeight>this.model.height},_setModel:function(n){for(var t in n)if(t==="enableRTL")n[t]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");else if(t==="scrollLeft")this.content().scrollLeft(this.scrollLeft());else if(t==="scrollTop")this.content().scrollTop(this.scrollTop());else if(t==="touchScroll")this.model.enableTouchScroll?(this._v&&this._on(this.content(),"mousedown touchstart",{d:this._v},this._mouseDownOnContent),this._h&&this._on(this.content(),"mousedown touchstart",{d:this._h},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");else{this.scrollTop(0);this.scrollLeft(0);this.refresh();break}},_createScroller:function(t,i,r,u,f){var l=u=="e-v"?"v":"h",h,e=this["_"+l]={},c=n.fn.jquery,o,s;return e.dimension=t,e.xy=i,e.position=r,e.css=u,e.isOtherScroll=f,e.uDimension=t,o=t==="Width"?"Height":"Width",h=c==="1.7.1"||c==="1.7.2"?o.toLowerCase():"outer"+o,this.content()[h](this.element[o.toLowerCase()]()-(this.isVScroll()&&!this.model.autoHide?this.model.scrollerSize:0)),this._calculateLayout(e),this._createLayout(e),s=this[e.main].find(".e-button"),this._off(s,"mousedown")._on(s,"mousedown",{d:e,step:1},this._spaceMouseDown),this._off(u==="e-v"?this.element:this[e.scroll],"mousewheel DOMMouseScroll")._on(u==="e-v"?this.element:this[e.scroll],"mousewheel DOMMouseScroll",{d:e},this._mouseWheel),this._off(this[e.scroll],"mousedown")._on(this[e.scroll],"mousedown",{d:e},this._spaceMouseDown),this._off(this[e.handler],"mousedown touchstart")._on(this[e.handler],"mousedown touchstart",{d:e},this._mouseDown),e},_createLayout:function(i){var r="<div class='"+i.css+"{0}' style='"+i.dimension+":{1}px'>{2}<\/div>",f=n.fn.jquery,e={},o,u;e[i.dimension]=i.modelDim;u=t.buildTag("div."+i.css+"scroll",String.format(r,"up e-icon e-button",i.buttonSize)+String.format(r,"handlespace",i.handleSpace,String.format(r,"handle",i.handle))+String.format(r,"down e-icon e-button",i.buttonSize),e);i.css=="e-v"&&n(this.element.find(">.e-content")).length>0?n(this.element.find(">.e-content")).after(u):this.element.append(u);this.isVScroll()||this.element.height(this.content().height()+this.model.scrollerSize);o=f==="1.7.1"||f==="1.7.2"?i.uDimension.toLowerCase():"outer"+i.uDimension;this[i.handler]=this.element.find("."+i.handler)[o](i.handle);this[i.scroll]=this[i.handler].parent();this[i.main]=this[i.scroll].parent();this[i.main].find(".e-button")["outer"+i.uDimension](i.buttonSize);this.model.autoHide&&this[i.main].hide()},_calculateLayout:function(n){n.enableRTL=this.model.enableRTL===r?this.element.css("direction")==="rtl":this.model.enableRTL;n.enableRTL=n.css==="e-h"?n.enableRTL:!1;n.scrollDim="scroll"+n.dimension;n.lPosition=n.position.toLowerCase();n.clientXy="page"+n.xy;n.scrollVal="scroll"+n.position;n.scrollOneStepBy=this.model.scrollOneStepBy;n.modelDim=this.model[n.dimension=n.dimension.toLowerCase()]-(n.isOtherScroll?this.model.scrollerSize:0);n.handler=n.css+"handle";n.buttonSize=this.model.buttonSize;n.main=n.css+"scroll";n.scroll=n.css+"ScrollSpace";n.handleSpace=n.modelDim-2*n.buttonSize;var t=this.content().find(this.model.targetPane);n.sScrollDim=this.model.targetPane!=null&&t.length&&n.dimension!="height"?t[0][n.scrollDim]+t.parent().width()-t.width():this.content()[0][n.scrollDim];n.scrollable=n.sScrollDim-n.modelDim;n.handle=Math.floor(n.modelDim/n.sScrollDim*n.handleSpace);n.handle<20&&(n.handle=20);n.onePx=n.scrollable/(n.handleSpace-n.handle);n.fromScroller=!1;n.up=!0;n.vInterval=r;n.scrollable*=n.enableRTL?-1:1},_updateLayout:function(n){this.element.find("."+n.css+"scroll").css(n.dimension,n.modelDim+"px").find(".e-button").css(n.dimension,this.model.buttonSize).end().find("."+n.css+"handlespace").css(n.dimension,n.handleSpace+"px").find("."+n.css+"handle").css(n.dimension,n.handle+"px")},refresh:function(){this._ensureScrollers();this.scrollLeft()&&this.content().scrollLeft(this.scrollLeft());(this.scrollTop()&&this._v==null||this._v!=null&&!this._v.skipChange)&&this.content().scrollTop(this.scrollTop());this._v&&(this._v.dimension="Height",this._v.isOtherScroll=this.isVScroll()&&this.isHScroll()?!0:!1,this.isVScroll()&&!this._calculateLayout(this._v)&&this._updateLayout(this._v));this._h&&(this._h.dimension="Width",this._h.isOtherScroll=this.isVScroll()&&this.isHScroll()?!0:!1,this.isHScroll()&&!this._calculateLayout(this._h)&&this._updateLayout(this._h));this.model.targetPane!=null&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll)},_keyPressed:function(n,t){if(["input","select","textarea"].indexOf(t.tagName.toLowerCase())!==-1)return!0;var i,r;if(["up","down","pageUp","pageDown"].indexOf(n)!==-1)i=this._v,r="o";else if(["left","right","pageLeft","pageRight"].indexOf(n)!==-1)i=this._h,r="i";else return!0;return i?!this._changeTop(i,(n.indexOf(r)<0?-1:1)*(n[0]!=="p"?1:3)*i.scrollOneStepBy,"key"):!0},scrollY:function(n,t,i){if(t){if(this._trigger("scroll",{source:i||"custom",scrollData:this._v,scrollTop:n}))return;this.scrollTop(n);this.content().scrollTop(n);return}this.content().stop().animate({scrollTop:n},100,"linear")},scrollX:function(n,t,i){if(t){if(this._trigger("scroll",{source:i||"custom",scrollData:this._h,scrollLeft:n}))return;this.scrollLeft(n);this.model.targetPane!=null?this.content().find(this.model.targetPane).scrollLeft(n):this.content().scrollLeft(n);return}this.content().stop().animate({scrollLeft:n},100,"linear")},_changeTop:function(n,t,i){var u=this.model.targetPane!=null&&n.dimension!="height"?this.content().find(this.model.targetPane)[n.scrollVal]():this.content()[n.scrollVal](),r;return n.dimension=="height"&&u==0&&(u=this.scrollTop()!=0?this.scrollTop():0),r=u+t,(n.enableRTL?r<n.scrollable:r>n.scrollable)&&(r=n.scrollable),(n.enableRTL?r>0:r<0)&&(r=0),r!==u&&this["scroll"+n.xy](r,!0,i),r!==u},_mouseWheel:function(n){if(n.data){var t=0,r=n.data.d,u=n;(n=n.originalEvent,n.wheelDelta?(t=-n.wheelDelta/120,i.opera&&parseFloat(i.opera.version,10)<10&&(t=-t)):n.detail&&(t=n.detail/3),t)&&this._changeTop(r,t*r.scrollOneStepBy,"wheel")&&(n.preventDefault?n.preventDefault():u.preventDefault(),r.css==="e-h"&&(u.stopImmediatePropagation(),u.stopPropagation()))}},_scrollerHover:function(n){n.type!="mouseenter"||this.content().siblings().is(":visible")?n.type=="mouseleave"&&this.content().siblings().hide():this.content().siblings().css("display","block")},_mouseUp:function(i){if(i.data){var r=i.data.d;i.type==="mouseup"&&this[r.handler].removeClass("e-active");i.type!=="mouseup"&&i.type!=="touchend"&&(i.toElement||i.relatedTarget)||(this._off(n(document),"mousemove touchmove"),n(document).off("mouseout mouseup touchend",t.proxy(this._mouseUp,this)),r.fromScroller=!1,this[r.scroll].off("mousemove"),this[r.handler].off("mousemove").css("transition",""),i.data.source!=="thumb"||t.isNullOrUndefined(this.model)||n.when(this.content()).done(t.proxy(function(){this._trigger("thumbEnd",{originalEvent:i,scrollData:r})},this)));r.up=!0}},_mouseDownOnContent:function(i){var r=i.data.d;if(!this._trigger("thumbStart",{originalEvent:i,scrollData:r})&&(i.which!=3||i.button!=2)){r.fromScroller=!0;this[r.handler].css("transition","none");var u=null,f=1,e=5,o;this._on(n(document),"mousemove touchmove",function(n){var t,s,i;n.preventDefault();t=n.type=="mousemove"?n[r.clientXy]:n.originalEvent.changedTouches[0][r.clientXy];u&&t!==u&&(s=t-u,i=this.model[r.scrollVal]-s*r.onePx/e,f==1&&Math.abs(s)>e&&(o=r.position,f=0),f==0&&(u=t),i>=0&&i<=r.scrollable&&o===r.position&&(this["scroll"+r.xy](i,!0,"thumb"),this[r.handler].css(r.position.toLowerCase(),i/r.onePx+"px"),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:n,scrollData:r})));u==null&&(u=t)});n(document).one("mouseup touchend",{d:r,source:"thumb"},t.proxy(this._mouseUp,this));n(document).mouseout({d:r,source:"thumb"},t.proxy(this._mouseUp,this))}},_mouseDown:function(i){var r=i.data.d,f,u;i.preventDefault();r.fromScroller=!0;this[r.handler].css("transition","none");u=parseInt(this[r.handler].css(r.lPosition))||0;this._on(n(document),"mousemove touchmove",function(n){n.preventDefault();var t=1,i=n.type=="mousemove"?n[r.clientXy]:n.originalEvent.changedTouches[0][r.clientXy];f&&i!==f&&(u+=i-f,(r.enableRTL?u>0:u<0)&&(t=u=0),u*(r.enableRTL?-1:1)+r.handle>=r.handleSpace&&(t=u=(r.handleSpace-r.handle)*(r.enableRTL?-1:1)),this["scroll"+r.xy](Math.ceil(u*r.onePx),!0,"thumb"),this[r.handler].css(r.position.toLowerCase(),u+"px"),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:n,scrollData:r}));t===1&&(f=i)});this._trigger("thumbStart",{originalEvent:i,scrollData:r});n(document).one("mouseup touchend",{d:r,source:"thumb"},t.proxy(this._mouseUp,this));n(document).mouseout({d:r,source:"thumb"},t.proxy(this._mouseUp,this))},_spaceMouseDown:function(i){var r,u,f;if(i.data&&(r=i.data.d,i.which===1&&i.target!==this[r.handler][0])){u=(i.data.step||3)*r.scrollOneStepBy;f=i.data.top||this[r.handler].offset()[r.lPosition];i[r.clientXy]=i[r.clientXy]||0;i[r.clientXy]<f&&(u*=-1);this._changeTop(r,u,u===3?"track":"button");i.data.step!==1&&this[r.scroll].mousemove(function(){r.up=!0});r.up=!1;r.vInterval=setInterval(t.proxy(function(){if((u<0?f+u/r.onePx<i[r.clientXy]:f+r.handle+u/r.onePx>i[r.clientXy])&&(r.up=!0),r.up){clearInterval(r.vInterval);return}this._changeTop(r,u,u===3?"track":"button");f=i.data.top||this[r.handler].offset()[r.lPosition]},this),150);n(document).one("mouseup",{d:r},t.proxy(this._mouseUp,this));n(document).mouseout({d:r},t.proxy(this._mouseUp,this))}},_scroll:function(n){for(var t,r=[this._v,this._h],i=0;i<2;i++)if(t=r[i],t&&!t.skipChange){if(t.sTop=this.model.targetPane!=null&&i==1?this.content().find(this.model.targetPane)[0][t.scrollVal]:n.target[t.scrollVal],this[t.scrollVal](t.sTop),t.fromScroller)return;this[t.handler].css(t.lPosition,t.sTop/t.onePx+"px")}},_changevHandlerPosition:function(n){n=this._v!=null&&n>=this._v.scrollable?this._v.scrollable:n;this._v!=null&&n>=0&&n<=this._v.scrollable&&this[this._v.handler].css(this._v.lPosition,n/this._v.onePx+"px")},_changehHandlerPosition:function(n){n=this._h!=null&&n>=this._h.scrollable?this._h.scrollable:n;this._h!=null&&n>=0&&n<=this._h.scrollable&&this[this._h.handler].css(this._h.lPosition,n/this._h.onePx+"px")},_destroy:function(){this.element.css({width:"",height:""}).find(".e-vscroll,.e-hscroll").remove();this.content().removeClass("e-content").css({width:"",height:""})}})})(jQuery,Syncfusion,window)})