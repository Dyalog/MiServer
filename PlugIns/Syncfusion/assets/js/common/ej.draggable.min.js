/*!
*  filename: ej.draggable.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:!1,clone:!1,distance:1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,destroy:null,helper:function(){return n('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){};this.resizables={};helpers={};this._wireEvents()},_setModel:function(){},_destroy:function(){n(document).unbind(t.eventType.mouseUp,this._destroyHandler).unbind(t.eventType.mouseUp,this._dragStopHandler).unbind(t.eventType.mouseMove,this._dragStartHandler).unbind(t.eventType.mouseMove,this._dragHandler).unbind("selectstart",!1);t.widgetBase.droppables[this.scope]=null},_initialize:function(i){var u=i,r;i.preventDefault();i=this._getCoordinate(i);this.target=n(u.currentTarget);this._initPosition={x:i.pageX,y:i.pageY};n(document).bind(t.eventType.mouseMove,this._dragStartHandler).bind(t.eventType.mouseUp,this._destroyHandler);this.model.clone||(r=this.element.offset(),this._relXposition=i.pageX-r.left,this._relYposition=i.pageY-r.top);n(document.documentElement).trigger(t.eventType.mouseDown,u)},_setDragArea:function(){var t=n(this.model.dragArea)[0],i;t&&(i=n(t).css("overflow")!="hidden",this.dragArea=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helper.outerWidth()-this.margins.left-this.margins.right,(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helper.outerHeight()-this.margins.top-this.margins.bottom],this.relativeArea=n(this.model.dragArea))},_dragStart:function(i){var r=i,s,u,f;i=this._getCoordinate(i);this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0};this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.position=this._getMousePosition(r);var e=this._initPosition.x-i.pageX,o=this._initPosition.y-i.pageY,h=Math.sqrt(e*e+o*o);if(h>=this.model.distance){if(s=this.model.handle=this.helper=this.model.helper({sender:r,element:this.target}),this.model.dragArea&&this._setDragArea(),this.model.dragStart&&(u=null,r.type=="touchmove"?(f=r.originalEvent.changedTouches[0],u=document.elementFromPoint(f.pageX,f.pageY)):u=r.originalEvent.target||r.target,this._trigger("dragStart",{event:r,element:this.element,target:u})))return this._destroy(),!1;n(document).unbind(t.eventType.mouseMove,this._dragStartHandler).unbind(t.eventType.mouseUp,this._destroyHandler).bind(t.eventType.mouseMove,this._dragHandler).bind(t.eventType.mouseUp,this._dragStopHandler).bind("selectstart",!1);t.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:s.css({position:"absolute",left:this.position.left,top:this.position.top}),destroy:this._destroyHandler}}},_drag:function(i){var f,r,u;this.position=this._getMousePosition(i);this.position.top<0&&(this.position.top=0);n(document).height()<this.position.top&&(this.position.top=n(document).height());n(document).width()<this.position.left&&(this.position.left=n(document).width());f=t.widgetBase.droppables[this.model.scope].helper;this.model.drag&&(r=null,i.type=="touchmove"?(u=i.originalEvent.changedTouches[0],r=document.elementFromPoint(u.pageX,u.pageY)):r=i.originalEvent.target||i.target,this._trigger("drag",{event:i,element:this.target,target:r}));t.widgetBase.droppables[this.model.scope].helper.css({left:this.position.left,top:this.position.top})},_dragStop:function(n){var t,i;(n.type=="mouseup"||n.type=="touchend")&&this._destroy(n);this.model.dragStop&&(t=null,n.type=="touchend"?(i=n.originalEvent.changedTouches[0],t=document.elementFromPoint(i.pageX,i.pageY)):t=n.originalEvent.target||n.target,this._trigger("dragStop",{event:n,element:this.target,target:t}))},_wireEvents:function(){this._on(this.element,t.eventType.mouseDown,this._initialize);this._dragStartHandler=n.proxy(this._dragStart,this);this._destroyHandler=n.proxy(this._destroy,this);this._dragStopHandler=n.proxy(this._dragStop,this);this._dragHandler=n.proxy(this._drag,this)},_getMousePosition:function(n){var i,r,t;return n=this._getCoordinate(n),i=this.model.clone?n.pageX:n.pageX-this._relXposition,r=this.model.clone?n.pageY:n.pageY-this._relYposition,this.dragArea&&(this.relativeArea?(t=this.relativeArea.offset(),_area=[this.dragArea[0]+t.left,this.dragArea[1]+t.top,this.dragArea[2]+t.left,this.dragArea[3]+t.top]):_area=this.dragArea,n.pageX-this.margins.left<_area[0]&&(i=_area[0]+this.margins.left),n.pageY-this.margins.top<_area[1]&&(r=_area[1]+this.margins.top),n.pageX-this.margins.left>_area[2]&&(i=_area[2]+this.margins.left),n.pageY-this.margins.top>_area[3]&&(r=_area[3]+this.margins.top)),{left:i-this.margins.left-this.model.cursorAt.left,top:r-this.margins.top-this.model.cursorAt.top}},_getCoordinate:function(n){var t=n;return(n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend")&&(t=n.originalEvent.changedTouches[0]),t}})})(jQuery,Syncfusion),function(n,t){t.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],defaults:{accept:null,scope:"default",drop:null,over:null,out:null},_init:function(){this.model.accept?n(this.element).delegate(this.accept,"mouseenter",n.proxy(this._over,this)).delegate(this.accept,"mouseup",n.proxy(this._drop,this)).delegate(this.accept,"mouseleave",n.proxy(this._out,this)):(n(this.element).bind("mouseup",n.proxy(this._drop,this)),n(this.element).bind("mouseenter",n.proxy(this._over,this)),n(this.element).bind("mouseleave",n.proxy(this._out,this)));this._on(n(document),"touchend",this._drop)},_setModel:function(){},_destroy:function(){},_over:function(n){this._trigger("mouseover",n)},_out:function(n){this._trigger("mouseout",n)},_drop:function(i){var r=t.widgetBase.droppables[this.model.scope],f=!t.isNullOrUndefined(r.helper)&&r.helper.is(":visible"),u=this._isDropArea(i);r&&!t.isNullOrUndefined(this.model.drop)&&f&&u.canDrop&&this.model.drop(n.extend(i,{dropTarget:u.target},!0),r)},_isDropArea:function(t){var i={canDrop:!0,target:n(t.target)},e,r,o,u,f;if(t.type=="touchend")for(e=t.originalEvent.changedTouches[0],r=document.elementFromPoint(e.pageX,e.pageY),i.canDrop=!1,o=n(r).parents(),u=0;u<this.element.length;u++){if(n(r).is(n(this.element[u])))i={canDrop:!0,target:n(r)};else for(f=0;f<o.length;f++)if(n(this.element[u]).is(n(o[f]))){i={canDrop:!0,target:n(r)};break}if(i.canDrop)break}return i}})}(jQuery,Syncfusion),function(n,t){t.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,destroy:null,helper:function(){return n('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element;this.handle!=null?n(this.target).delegate(this.handle,t.eventType.mouseDown,n.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):n(this.target).bind("mouseover",n.proxy(this._mouseover,this));this._resizeStartHandler=n.proxy(this._resizeStart,this);this._destroyHandler=n.proxy(this._destroy,this);this._resizeStopHandler=n.proxy(this._resizeStop,this);this._resizeHandler=n.proxy(this._resize,this)},_mouseover:function(i){n(i.target).hasClass("e-resizable")?(n(i.target).css({cursor:"se-resize"}),n(this.target).bind(t.eventType.mouseDown,n.proxy(this._mousedown,this))):(n(this.target).unbind(t.eventType.mouseDown),n(this.target).css({cursor:""}))},_blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},_setModel:function(){},_mousedown:function(i){var r=i;return i=this._getCoordinate(i),this.target=n(r.currentTarget),this._initPosition={x:i.pageX,y:i.pageY},n(document).bind(t.eventType.mouseMove,this._resizeStartHandler).bind(t.eventType.mouseUp,this._destroyHandler),n(document.documentElement).trigger(t.eventType.mouseDown,r),!1},_resizeStart:function(i){var r,u;if(n(i.target).hasClass("e-resizable")){i=this._getCoordinate(i);var f=this._initPosition.x-i.pageX,e=this._initPosition.y-i.pageY,o=Math.sqrt(f*f+e*e);o>=this.model.distance&&(this.model.resizeStart!=null&&this.model.resizeStart({element:this.target}),r=this.model.helper({element:this.target}),u=this.getElementPosition(r),n(document).unbind(t.eventType.mouseMove,this._resizeStartHandler).unbind(t.eventType.mouseUp,this._destroyHandler).bind(t.eventType.mouseMove,this._resizeHandler).bind(t.eventType.mouseUp,this._resizeStopHandler).bind("selectstart",!1),t.widgetBase.resizables[this.scope]={resizable:this.target,helper:r.css({width:i.pageX-u.left+this.model.cursorAt.left,height:i.pageY-u.top+this.model.cursorAt.top}),destroy:this._destroyHandler})}},_resize:function(n){n=this._getCoordinate(n);this.model.resize!=null&&this.model.resize({element:this.target});var u=this.getElementPosition(t.widgetBase.resizables[this.scope].helper),i=n.pageX-u.left+this.model.cursorAt.left,r=n.pageY-u.top+this.model.cursorAt.top;i<this.model.minWidth&&(i=this.model.minWidth);r<this.model.minHeight&&(r=this.model.minHeight);this.model.maxHeight!=null&&r>this.model.maxHeight&&(r=this.model.maxHeight);this.model.maxWidth!=null&&i>this.model.maxWidth&&(i=this.model.maxWidth);t.widgetBase.resizables[this.scope].helper.css({width:i,height:r})},_resizeStop:function(n){this.model.resizeStop!=null&&this.model.resizeStop({element:this.target});(n.type=="mouseup"||n.type=="touchend")&&this._destroy(n)},_destroy:function(){n(document).unbind(t.eventType.mouseUp,this._destroyHandler).unbind(t.eventType.mouseUp,this._resizeStopHandler).unbind(t.eventType.mouseMove,this._resizeStartHandler).unbind(t.eventType.mouseMove,this._resizeHandler).unbind("selectstart",!1);t.widgetBase.resizables[this.scope]=null},getElementPosition:function(n){return n!=null&&n.length>0?{left:n[0].offsetLeft,top:n[0].offsetTop}:null},_getCoordinate:function(n){var t=n;return(n.type=="touchmove"||n.type=="touchstart"||n.type=="touchend")&&(t=n.originalEvent.changedTouches[0]),t}})}(jQuery,Syncfusion)})