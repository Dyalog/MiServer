/*!
*  filename: ej.radialmenubase.min.js
*  version : 12.4.0.24
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejRadialMenuBase","ej.RadialMenuBase",{defaults:{width:300,enableAnimation:!0},dataTypes:{enableAnimation:"boolean"},_initialization:function(){this._svgLink="http://www.w3.org/2000/svg";this._menuItems=n(this.element.children()).clone();n(this.element.children()).remove();this._menuCount=n(this._menuItems.children()).length;this._startXY=this.model.width/2},_createSVGElement:function(){var t=document.createElementNS(this._svgLink,"svg");return this.model.width!=null&&(t.setAttribute("width",this.model.width),t.setAttribute("height",this.model.width)),n(t)},_createGroupElement:function(t){var i=document.createElementNS(this._svgLink,"g");return t&&i.setAttribute("id",t),n(i)},_createImageElement:function(n,t,i,r,u){var e=i.attr("data-ej-imagepath"),o=i.attr("data-ej-imagename"),s=i.attr("data-ej-imageurl"),h=s?s:this.model.renderMode.toLowerCase()!="flat"?e+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+o:e+"/"+this.model.renderMode.toLowerCase()+"/"+o,f=document.createElementNS(this._svgLink,"image");return f.setAttribute("width",n),f.setAttribute("height",t),f.setAttributeNS("http://www.w3.org/1999/xlink","href",h),f.setAttribute("x",r),f.setAttribute("y",u),f},_createTextElement:function(n,t,i,r){var u=document.createElementNS(this._svgLink,"text");return u.setAttribute("x",n),u.setAttribute("y",t),u.setAttribute("class",i),u.textContent=r,u},_createPathElement:function(n,t,i){var r=document.createElementNS(this._svgLink,"path");return r.setAttribute("index",n),r.setAttribute("d",t),r.setAttribute("class",i),r},_createPolygonElement:function(n,t){var i=document.createElementNS(this._svgLink,"polygon");return i.setAttribute("points","10,10 0,10 5,5"),i.setAttribute("index",n),i.setAttribute("fill","#FFFFFF"),i.setAttribute("transform",t),i},_createCircleElement:function(n,t,i,r){var u=document.createElementNS(this._svgLink,"circle");return u.setAttribute("cx",n),u.setAttribute("cy",t),u.setAttribute("r",i),u.setAttribute("class",r),u},_calculateRadialArc:function(n,t,i,r,u){for(var a,l,h=0,e=2*Math.PI*h,o=2*Math.PI*(h+1/n),s=.5*t*Math.min(this.model.width,this.model.width),v=i*t*Math.min(this.model.width,this.model.width),c=r*s,y=u*s,p=360/n,w=p/2,b=[],k=[],d=[],g=[],nt=[],tt=[],it=[],rt=[],ut=[],ft=[],et=[],ot=[],st=[],ht=[],f=0;f<n;f++)a=-.5*Math.PI,e=e+a,o=o+a-1e-6,ht[f]=o-e<Math.PI?0:1,l=(e+o)/2,b[f]=this._startXY+s*Math.cos(e),k[f]=this._startXY+s*Math.sin(e),d[f]=this._startXY+s*Math.cos(o),g[f]=this._startXY+s*Math.sin(o),nt[f]=this._startXY+v*Math.cos(l),tt[f]=this._startXY+v*Math.sin(l),it[f]=this._startXY+c*Math.cos(e),rt[f]=this._startXY+c*Math.sin(e),ut[f]=this._startXY+c*Math.cos(o),ft[f]=this._startXY+c*Math.sin(o),et[f]=this._startXY+y*Math.cos(l),ot[f]=this._startXY+y*Math.sin(l),st[f]=w,h+=1/n,e=2*Math.PI*h,o=2*Math.PI*(h+1/n),w+=p;return{x1:b,y1:k,x2:d,y2:g,midx:nt,midy:tt,dStartX:it,dStartY:rt,dEndX:ut,dEndY:ft,dmidx:et,dmidy:ot,deg:st,longArc:ht,radius:s,dradius:c}},_renderRadialMenu:function(){var i,h,c;this._radialSVG=this._createSVGElement();this._radialChildSVG=this._createSVGElement();this._childArcGroup=this._createGroupElement("childarcgroup");this._polygonGroup=this._createGroupElement("polygongroup");this._polygonGroup.attr("transform","translate(-10,-10)");this._radialArcGroup=this._createGroupElement();this._menuItemsGroup=this._createGroupElement("menuitemsgroup");this._menuItemsGroup.attr("transform","translate(-10,-10)");this._menuItemsArcPaths=this._createGroupElement("menuitemsarcpaths");this._menuItemsPaths=this._createGroupElement();this._radialSVGDiv=t.buildTag("div#radialsvgdiv."+this._prefix+"abs").css("height",this.model.width);this._radialCircleSVGDiv=t.buildTag("div#radialcirclesvgdiv."+this._prefix+"abs "+this._prefix+"displaynone");this._radialChildSVGDiv=t.buildTag("div#radialchildsvgdiv."+this._prefix+"abs "+this._prefix+"displaynone");var r=this._calculateRadialArc(this._menuCount,1,.28,.8,.95),u=this._calculateRadialArc(this._menuCount,.79,null,.97,null),f=this._calculateRadialArc(this._menuCount,.8,null,.3,null);for(i=0;i<this._menuCount;i++){var s="M "+r.x1[i]+" "+r.y1[i]+" A "+r.radius+" "+r.radius+" 0 "+r.longArc[i]+" 1 "+r.x2[i]+" "+r.y2[i]+" L "+r.dEndX[i]+" "+r.dEndY[i]+" A "+r.dradius+" "+r.dradius+" 1 "+r.longArc[i]+" 0 "+r.dStartX[i]+" "+r.dStartY[i]+" z",l="M "+u.x1[i]+" "+u.y1[i]+" A "+u.radius+" "+u.radius+" 0 "+u.longArc[i]+" 1 "+u.x2[i]+" "+u.y2[i]+" L "+u.dEndX[i]+" "+u.dEndY[i]+" A "+u.dradius+" "+u.dradius+" 1 "+u.longArc[i]+" 0 "+u.dStartX[i]+" "+u.dStartY[i]+" z",a="M "+f.x1[i]+" "+f.y1[i]+" A "+f.radius+" "+f.radius+" 0 "+f.longArc[i]+" 1 "+f.x2[i]+" "+f.y2[i]+" L "+f.dEndX[i]+" "+f.dEndY[i]+" A "+f.dradius+" "+f.dradius+" 1 "+f.longArc[i]+" 0 "+f.dStartX[i]+" "+f.dStartY[i]+" z",o=n(this._menuItems.children("li")[i]),e=this._createGroupElement(),v=this.model.renderMode?"data-ej-"+this.model.renderMode+"-text":"data-ej-text";this._menuItemsArcPaths.append(this._createPathElement(i,l,""+this._prefix+"arcbgcolor"));this._menuItemsPaths.append(this._createPathElement(i,a,""+this._prefix+"itembgcolor"));this._radialArcGroup.append(this._createPathElement(i,s,""+this._prefix+"default"));e.attr({cursor:"context-menu",index:i});e.append(this._createImageElement(20,20,o,r.midx[i],r.midy[i]-10));e.append(this._createTextElement(r.midx[i]+10,r.midy[i]+25,""+this._prefix+"textcolor",o.attr(v)));this._menuItemsGroup.append(e);o.children().length!=0&&(h=r.deg[i]>270?"translate("+(r.dmidx[i]+5)+","+(r.dmidy[i]+15)+")rotate("+r.deg[i]+")":"translate("+(r.dmidx[i]+10)+","+(r.dmidy[i]+10)+")rotate("+r.deg[i]+")",this._childArcGroup.append(this._createPathElement(i,s,""+this._prefix+"childdefault")),this._polygonGroup.append(this._createPolygonElement(i,h)))}c=this._createCircleElement(this._startXY,this._startXY,this._startXY/3.5,""+this._prefix+"circlebgcolor");this._menuItemsArcGroup=this._radialArcGroup.clone();this._radialChildSVG.append(this._menuItemsPaths).append(this._menuItemsGroup).append(this._menuItemsArcGroup).append(this._childArcGroup).append(this._polygonGroup).append(this._menuItemsArcPaths).append(c);this._radialContainer.append(this._radialSVGDiv.append(this._radialCircleSVGDiv.append(this._radialSVG.append(this._radialArcGroup))).append(this._radialChildSVGDiv.append(this._radialChildSVG)))},_renderRadialChildMenu:function(i){var f,r,o;for(this._menuChildSVG=this._createSVGElement(),this._menuChildSVGDiv=t.buildTag("div#menuchildsvgdiv."+this._prefix+"abs"),this.model.enableAnimation?(this._radialChildSVGDiv.removeClass(""+this._prefix+"radialshow").addClass(""+this._prefix+"scalehide"),this._radialChildAnimate(),this._menuChildSVGDiv.addClass(""+this._prefix+"scaleshow")):this._radialChildSVGDiv.addClass(""+this._prefix+"displaynone"),this._radial.removeClass(this.model.imageClass).addClass(""+this._prefix+"backarrow "+this.model.backImageClass+""),this._childItemsGroup=this._createGroupElement("childitemsgroup"),this._childItemsGroup.attr("transform","translate(-10,-10)"),this._childItemArcGroup=this._createGroupElement(),this._childItemsArcPaths=this._createGroupElement("childitemsarcpaths"),this._childItemsPaths=this._createGroupElement(),f=n(this._menuItems.children()[i]).children(),childcount=n(f.children()).length,pointsVal=this._calculateRadialArc(childcount,1,.28,.8,null),pointsArcVal=this._calculateRadialArc(childcount,.79,null,.97,null),pointsItemVal=this._calculateRadialArc(childcount,.8,null,.3,null),r=0;r<childcount;r++){var s="M "+pointsVal.x1[r]+" "+pointsVal.y1[r]+" A "+pointsVal.radius+" "+pointsVal.radius+" 0 "+pointsVal.longArc[r]+" 1 "+pointsVal.x2[r]+" "+pointsVal.y2[r]+" L "+pointsVal.dEndX[r]+" "+pointsVal.dEndY[r]+" A "+pointsVal.dradius+" "+pointsVal.dradius+" 1 "+pointsVal.longArc[r]+" 0 "+pointsVal.dStartX[r]+" "+pointsVal.dStartY[r]+" z",h="M "+pointsArcVal.x1[r]+" "+pointsArcVal.y1[r]+" A "+pointsArcVal.radius+" "+pointsArcVal.radius+" 0 "+pointsArcVal.longArc[r]+" 1 "+pointsArcVal.x2[r]+" "+pointsArcVal.y2[r]+" L "+pointsArcVal.dEndX[r]+" "+pointsArcVal.dEndY[r]+" A "+pointsArcVal.dradius+" "+pointsArcVal.dradius+" 1 "+pointsArcVal.longArc[r]+" 0 "+pointsArcVal.dStartX[r]+" "+pointsArcVal.dStartY[r]+" z",c="M "+pointsItemVal.x1[r]+" "+pointsItemVal.y1[r]+" A "+pointsItemVal.radius+" "+pointsItemVal.radius+" 0 "+pointsItemVal.longArc[r]+" 1 "+pointsItemVal.x2[r]+" "+pointsItemVal.y2[r]+" L "+pointsItemVal.dEndX[r]+" "+pointsItemVal.dEndY[r]+" A "+pointsItemVal.dradius+" "+pointsItemVal.dradius+" 1 "+pointsItemVal.longArc[r]+" 0 "+pointsItemVal.dStartX[r]+" "+pointsItemVal.dStartY[r]+" z",u=this._createGroupElement(),e=n(f.children("li")[r]),l=this.model.renderMode?"data-ej-"+this.model.renderMode+"-text":"data-ej-text";this._childItemArcGroup.append(this._createPathElement(r,s,""+this._prefix+"default"));this._childItemsArcPaths.append(this._createPathElement(r,h,""+this._prefix+"arcbgcolor"));this._childItemsPaths.append(this._createPathElement(r,c,""+this._prefix+"itembgcolor"));u.attr({cursor:"context-menu",index:r});u.append(this._createImageElement(20,20,e,pointsVal.midx[r],pointsVal.midy[r]-10));u.append(this._createTextElement(pointsVal.midx[r]+10,pointsVal.midy[r]+25,""+this._prefix+"textcolor",e.attr(l)));this._childItemsGroup.append(u)}o=this._createCircleElement(this._startXY,this._startXY,this._startXY/3.5,""+this._prefix+"circlebgcolor");this._radialSVGDiv.append(this._menuChildSVGDiv.append(this._menuChildSVG.append(this._childItemsPaths).append(this._childItemsGroup).append(this._childItemArcGroup).append(this._childItemsArcPaths).append(o)))},_setModel:function(){this._refresh()},_refresh:function(){this._destroy();this._init()},_destroy:function(){this.element.removeAttr("class style").children().remove();this.element.append(this._menuItems)}})})(jQuery,Syncfusion)})