/*!
*  filename: ej.touch.min.js
*  version : 12.2.0.36
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i){function d(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n}function l(t,i,r){var u=r.type;r.type=i;n.event.dispatch.call(t,r);r.type=u}function g(n,t){if(t)for(prop in t)prop in n||(n[prop]=t[prop])}function o(n){return n.originalEvent.touches?n.originalEvent.touches[0]:r?n.originalEvent:n}function p(n){var t=r?n.originalEvent.pointerType:n.originalEvent.touches?"touch":"mouse",u=r&&c==i?t==4?"mouse":"touch":t;return n.pointerType=u,n.type!="mousedown"&&n.type!="mouseup"&&g(n,n.originalEvent),n}function s(t,i,r){var o,s,h,u={},e,f;return r&&(f=r.originalEvent.touches?[r.originalEvent.touches[0],t.originalEvent.changedTouches[0]]:[r.originalEvent,t.originalEvent],i._isSwipe||i._isdrag?(o=n.event.special.pinch._getdistance(f[0],f[1]),s=i.time,e={pageX:i.stop.pageX,pageY:i.stop.pageY}):i._isPinch&&(o=n.event.special.pinch.distance(t),s=t.timeStamp-r.timeStamp,h=i._pinchDistance),i._isDelta&&(u._dTime=t.timeStamp-r.timeStamp,u._x=f[1].pageX-f[0].pageX,u._y=f[1].pageY-f[0].pageY)),{options:t,delta:{time:u._dTime||null,X:u._x||null,Y:u._y||null},distance:o,scale:i._isPinch?h:null,time:s,velocity:{XY:o/u._dTime||null,X:u._x/u._dTime||null,Y:u._y/u._dTime||null},currentPosition:{pageX:e?e.pageX:null,pageY:e?e.pageY:null}}}function h(){var n=new Date;return n.getTime()}function a(n){r&&n.css("-ms-touch-action","pinch-zoom").css("touch-action","pinch-zoom")}var y=n(document);n.each("touchstart touchmove touchend tap doubletap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstop scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};n.attrFn&&(n.attrFn[i]=!0)});var r=d().isMSPointerEnabled,c=d().pointerEnabled,v="ontouchstart"in window,nt="scroll",f=r?c?"pointerdown":"MSPointerDown":v?"touchstart":"mousedown",e=r?c?"pointerup":"MSPointerUp":v?"touchend":"mouseup",u=r?c?"pointermove":"MSPointerMove":v?"touchmove":"mousemove",w=r?c?"pointercancel":"MSPointerCancel":v?"touchcancel":"mouseleave",tt=r?f:"touchstart mousedown",b=r?e:"touchend mouseup",k=r?u:"touchmove mousemove";n.event.special.ejtouchmove={setup:function(){function s(){}function h(n){if(!(n.which&&n.which!==1)){var f=n.target,i=n.originalEvent;r&&(t={x:i.x,y:i.y});o.bind(u,c)}}function c(n){if(!(n.which&&n.which!==1)){var f=n.target,u=n.originalEvent;g(n,n.originalEvent);(!r||!t||Math.abs(t.x-u.x)>10||Math.abs(t.y-u.y)>10&&r)&&l(i,"ejtouchmove",n)}}var i=this,o=n(i),t;o.bind(f,h);y.bind(e,s);t={}}};n.event.special.swipeupdown={setup:function(){var r=this,t=n(r);a(t);t.bind(f,function(r){function l(n){if(n.preventDefault(),n.stopPropagation(),f){var t=o(n);h={time:(new Date).getTime(),coords:[t.pageX,t.pageY]};Math.abs(f.coords[1]-h.coords[1])>10&&n.preventDefault()}}var a=r,c=o(r),f={time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:n(r.target)},h;t.bind(u,l).one(e,function(r){if(r.preventDefault(),t.unbind(u,l),f&&h&&h.time-f.time<1e3&&Math.abs(f.coords[1]-h.coords[1])>30&&Math.abs(f.coords[0]-h.coords[0])<75){var o={time:h.time-f.time,_isSwipe:!0,_isDelta:!0,stop:h},e=s(r,o,a);f.origin.trigger(n.extend(!0,{type:"swipeupdown"},e)).trigger(n.extend(!0,{type:f.coords[1]>h.coords[1]?"swipeup":"swipedown"},e))}f=h=i})})}};n.event.special.scrollstart={enabled:!0,setup:function(){function u(n,r){t=r;l(i,t?"scrollstart":"scrollstop",n)}var i=this,f=n(i),t,r;f.bind(nt,function(i){n.event.special.scrollstart.enabled&&(t||u(i,!0),clearTimeout(r),r=setTimeout(function(){u(i,!1)},250))})}};n.event.special.tap={doubleTapThreshold:500,tapholdThreshold:750,canDoubleTap:function(t){return h()-t.doubleTapStartTime<=n.event.special.tap.doubleTapThreshold},setup:function(){var u=this,i=n(u),t=i.data();a(i);t.isDoubleTapWait=!1;t.stopProcess=!1;t.preTouchend=null;t.preTouchstart=null;i.bind(tt,function(f){function e(){clearTimeout(o);i.unbind(b,c);i.unbind(w,e);y.unbind(k,s)}function s(n){var t=n,i=f;r?(t=n.originalEvent,i=f.originalEvent):n.type=="touchmove"&&f.type=="touchstart"&&(t=n.originalEvent.changedTouches[0],i=f.originalEvent.changedTouches[0]);t.pageX==i.pageX&&t.pageY==i.pageY||e()}function c(i){i.type=="touchend"&&(t.preTouchend=h());e();a===i.currentTarget&&(l(u,"tap",n.extend(p(i),{time:h()-t.startTime})),t.isDoubleTapWait&&n.event.special.tap.canDoubleTap(t)?(t.isDoubleTapWait=!1,l(u,"doubletap",n.extend(p(i),{time:h()-t.doubleTapStartTime}))):(t.isDoubleTapWait&&(t.isDoubleTapWait=!1,t.doubleTapStartTime=t.startTime),n.event.special.tap.canDoubleTap(t)&&(t.isDoubleTapWait=!0)))}t=i.data();t.startTime=h();t.isDoubleTapWait||(t.doubleTapStartTime=t.startTime);f.type=="touchstart"&&(t.preTouchstart=t.startTime);t.stopProcess=f.type=="mousedown"&&(t.startTime-t.preTouchend<300||t.startTime-t.preTouchstart<30)?!0:!1;var a=f.currentTarget,v=f.originalEvent,o;f.which&&f.which!==1||t.stopProcess?t.stopProcess&&(t.stopProcess=!1):(i.bind(b,c),i.bind(w,e),y.bind(k,s),o=setTimeout(function(){t.isDoubleTapWait&&(t.isDoubleTapWait=!1);l(u,"taphold",n.extend(p(f),{options:v,time:h()-t.startTime}))},n.event.special.tap.tapholdThreshold))})}};n.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,pointers:window.navigator.msPointerEnabled,start:function(t){var i=o(t);return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:n(t.target)}},stop:function(n){var t=o(n);return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i,r,u){if(i.time-t.time<n.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistanceThreshold){var e={time:i.time-t.time,_isSwipe:!0,_isDelta:!0,stop:i},f=s(r,e,u);t.origin.trigger(n.extend(!0,{type:"swipe"},f)).trigger(n.extend(!0,{type:t.coords[0]>i.coords[0]?"swipeleft":"swiperight"},f))}},setup:function(){var r=this,t=n(r);a(t);t.bind(f,function(r){function s(t){f&&(o=n.event.special.swipe.stop(t),Math.abs(f.coords[0]-o.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var f=n.event.special.swipe.start(r),o,h=r;n(r.target).data("_dataTouchStart",{event:r,_now:(new Date).getTime()});t.bind(u,s).one(e,function(r){t.unbind(u,s);f&&o&&n.event.special.swipe.handleSwipe(f,o,r,h);f=o=i})})}};n.event.special.pinch={distance:function(t){return t.originalEvent.touches.length<2?null:n.event.special.pinch._getdistance(t.originalEvent.touches[0],t.originalEvent.touches[1])},_getdistance:function(n,t){return Math.sqrt((n.pageX-t.pageX)*(n.pageX-t.pageX)+(n.pageY-t.pageY)*(n.pageY-t.pageY))},setup:function(){var r=this,t=n(r);a(t);t.bind(f,function(r){var h=r;if(r.originalEvent.touches&&r.originalEvent.touches.length>=2){var o=n.event.special.pinch.distance(r),f,v=5,c=o,l,y=s(r,{_isPinch:!0,_pinchDistance:c},h);n(r.target).trigger(n.extend(!0,{type:"pinch"},y));function a(t){l=t;f=n.event.special.pinch.distance(t)||null;o&&f&&Math.abs(o-f)>v&&(n(t.target).trigger(n.extend(!0,{type:o>f?"pinchin":"pinchout"},s(t,{_isPinch:!0,_pinchDistance:c},h))),o=f)}t.bind(u,a).one(e,function(){t.unbind(u,a);n(r.target).trigger(n.extend(!0,{type:"pinchstop"},s(l,{_isPinch:!0,_pinchDistance:f},h)));o=f=i})}})}};n.event.special.touchdrag={setup:function(){var r=this,t=n(r);a(t);t.bind(f,function(r){function c(t){h&&(f=o(t),n.event.special.pinch._getdistance(h,f)>5&&n(t.target).trigger(n.extend(!0,{type:"touchdrag"},s(t,{_isdrag:!0,stop:f,_isDelta:!0},l))))}var h=o(r),f,l=r;n(r.target).data("_dataTouchStart",{event:r,_now:(new Date).getTime()});t.bind(u,c).one(e,function(){t.unbind(u,c);h=f=i})})}};n.each({scrollstop:"scrollstart",doubletap:"tap",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)}}})})(jQuery,Syncfusion)