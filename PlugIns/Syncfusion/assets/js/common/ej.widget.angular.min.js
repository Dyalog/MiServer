/*!
*  filename: ej.widget.angular.min.js
*  version : 12.4.0.24
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i,r,u){"use strict";var c=r.module("ejangular",[]),f={firstCap:function(n){return n.charAt(0).toUpperCase()+n.slice(1)},generatePropMap:function(n,i,r,u){var o=i||{},s,e;u?u+=".":u="";r=r||"";for(e in n)s=r+f.firstCap(e.toLowerCase()),t.isPlainObject(n[e])&&f.generatePropMap(n[e],o,s,u+e),o[s]=u+e;return o},getModel:function(n,i,r,u,e,o,s){var v={},a,h,p=i.$attr||i,y=!n,c,w,l;n=n||(i===p?{}:p);s=s||"";for(c in p)if(y||c[0]==="e"&&/[A-Z]/.test(c[1])){if(h=i[c]||"",y||(c=c.slice(1)),typeof h=="object"){for(w=y?n[c]||c:c,l=0;l<h.length;l++)h[l]=f.getModel(null,h[l],r,u,e,o,s+w+"["+l+"]");t.createObject(w,h,v);continue}if(a=n[c]||c,+h||/^['"].+['"]$/.test(h)||!(h.split(".")[0]in r)){t.createObject(a,f.processData(h.replace(/^['"]|['"]$/g,"")),v);continue}u.push({key:h,value:s+a});h=y||e.indexOf(a)===-1||o&&c[0]==="V"&&c==="Value"?t.getObject(h,r):f.addTwoWays(h,r,t.getObject(h,r));t.createObject(a,h,v)}return v},addTwoWays:function(n,i,r){return function(u){if(t.isNullOrUndefined(u))return r;r=u;t.createObject(n,r,i);f.applyScope(i)}},processData:function(n){return n==="true"?!0:n==="false"?!1:+n+""===n?+n:n},addWatches:function(n,i,r,u){for(var e,f=0;f<i.length;f++)e="$watch",n[i[f].key]instanceof Array&&(e="$watchCollection"),n[e](i[f].key,t.proxy(u,n,{control:r,watch:i[f]}))},raise:function(n,i,r){if(i!==r){var u=t.getObject(n.watch.value,n.control.model);(typeof u=="function"&&(u=u()),u!==i||u instanceof Array)&&(n.control.observables.indexOf(n.watch.value)===-1||n.control.type==="editor"&&n.watch.value==="value"||(i=f.addTwoWays(n.watch.key,this,i)),n.control.option(n.watch.value,i,i instanceof Array))}},angToEjProp:function(n,t){for(var i in t)if(t[i]===n)return i},modelChange:function(n,i){this.option("change",function(r){r.value!==t.getObject(i,n)&&(t.createObject(i,r.value,n),f.applyScope(n))})},getDirectiveName:function(n){if(n.length<4)return"";var t=n[2]==="m"?4:3;return n.slice(0,t)+n.slice(t).toLowerCase()},applyScope:function(n){setTimeout(function(){n.$digest()},0)},loadTags:function(n,t){var e=n,u,o,i,r;if(e)return e;for(e={},i=0;i<t.length;i++){for(u=t[i].attr||[],o={},r=0;r<u.length;r++)typeof u[r]=="object"?o["e-tag"]=f.loadTags(null,u[r]):o[u[r].toLowerCase().replace(/\./g,"-")]=u[r];e["e-"+t[i].tag.toLowerCase().replace(/\./g,"-")]={field:t[i].tag,attr:o,content:t[i].content,singular:(t[i].singular||t[i].tag.replace(/s$/,"")).replace(/\./g,"-")}}return e},getTagValues:function(t,i){var h=n(i).children(),e={$attr:{}},o,l,a;if(h.length===0)return e;for(o=0;o<h.length;o++){var s=n(h.get(o)),c,u=s.prop("tagName").toLowerCase(),r=t[u];if(!r){if(u=s[0].attributes[0],!u)continue;if(u=u.nodeName,r=t[u],!r)continue}l="e-"+r.singular;c=s.children(l+",["+l+"]");a=c.toArray().map(function(t){var i=f.readAttributes(t,r.attr),u,e;return r.content?(u=t.innerHTML,u.length&&(i[r.content]=t.innerHTML,i.$attr[r.content]=r.content)):r.attr["e-tag"]&&(e=f.getTagValues(r.attr["e-tag"],t),n.extend(!0,i||{},e)),i}).filter(function(n){return n});c.remove();s.remove();a.length&&(f.createAndAddAttr(r.field,a,e),e.$attr[r.field.toLowerCase().replace(/\..+/g,"")]=r.field.replace(/\..+/g,""))}return e},readAttributes:function(n,t){for(var e,r=n.attributes,i,f={},o={},u=0;u<r.length;u++)i=r[u].nodeName.replace(/^e-/i,"").toLowerCase(),i=t[i]||i,e=i.toLowerCase().replace(/\.([a-z]?)/g,function(n,t){return t.toUpperCase()}),f[e]=r[u].value||r[u].nodeValue,o[e]=i;return r.length&&(f.$attr=o),f},childRaise:function(n,i,r){var e,u;i!==r&&(e=t.getArrayObject(n.watch.value,n.control.model),e!==i||e instanceof Array)&&(t.setArrayObject(n.watch.value,i,n.control.model),u=f.parseFnAndIndex(n.watch.value),n.control[u[0]]&&n.control[u[0]](u[1],u[2],i,r))},parseFnAndIndex:function(n){for(var r="",e=n.lastIndexOf("]"),i=f.getAllFnIndices(n,[]),u={},t=0;t<i.length;t++)r+="_"+i[t].prop,u[i[t].prop]=i[t].index;return[r.replace(/\./g,"_"),u,n.slice(e+1)]},getAllFnIndices:function(n,t){var i=n.indexOf("["),r;return i===-1?null:(r=n.indexOf("]"),t.push({index:parseInt(n.substring(i+1,r),10),prop:n.substring(0,i)}),f.getAllFnIndices(n.slice(r+1),t),t)},addChildTwoway:function(n,i,r){for(var e={},u=0;u<i.length;u++)e[i[u].value]=i[u].key;n._notifyArrayChange=function(n,i){var u=e[n];u&&(t.createObject(u,i,r),f.applyScope(r))}},refreshTemplate:function(t,i,r){var e=n(t).find(".ej-angular-template"),u,f;for(u in r){if(f=e.filter("."+r[u].key),!f.length){r[u].scope.$destroy();continue}i(f.not(".ng-scope"))(r[u].scope)}},iterateAndGetModel:function(n,t,i,r){var s,o,e,u;if(n instanceof Array)for(e=0;e<n.length;e++)n[e]=f.getModel(null,n[e],i,t,[],!1,(r.endsWith(".")?r.slice(0,-1):r)+"["+e+"]");else for(u in n)u.slice(0,1)!=="$"&&(o=n.$attr&&n.$attr[u]?n.$attr[u]:u,s=f.iterateAndGetModel(n[u],t,i,r+o+"."),delete n[u],n[o]=s);return n},createAndAddAttr:function(n,i,r){for(var o=n.split("."),s=r||window,u=s,f,h=o.length,e=0;e<h;e++)f=o[e].toLowerCase(),e+1==h?(f in u||!u.$attr||(u.$attr[f]=o[e]),u[f]=t.isNullOrUndefined(i)?{$attr:{}}:i):t.isNullOrUndefined(u[f])&&(u.$attr&&(u.$attr[f]=o[e]),u[f]={$attr:{}}),u=u[f];return s}},o,l,s,e,h;t.getArrayObject=function(n,i){return n=n.replace(/\[([0-9]+)]/g,".$1."),t.getObject(n,i)};t.setArrayObject=function(n,i,r){return n=n.replace(/\[([0-9]+)]/g,".$1."),t.createObject(n,i,r)};o={transclude:{transclude:!0,template:function(){return"<div ng-transclude><\/div>"}},defaults:{terminal:!0}};l=function(i,r){s[i]=f.generatePropMap(r.defaults);r.observables=r.observables||[];r._notifyArrayChange=function(){};var e=n.extend({},o[r.type]||o.defaults,r.angular);c.directive(f.getDirectiveName(i),["$compile",function(o){return n.extend({restrict:"CEA",link:function(e,h,c){var p=[],w=r.type==="editor",b=f.getModel(s[i],c,e,p,r.observables,w),y=[],k,v,l,a;if(r._tags&&r._tags.length&&(k=r["ob.tags"]=f.loadTags(r["ob.tags"],r._tags),v=f.getTagValues(k,h),v=f.iterateAndGetModel(v,y,e,""),delete v.$attr,t.copyObject(b,v)),l=n(h)[i](b).data(i),a=l["tmpl.$newscope"],f.addWatches(e,p,l,f.raise),y.length&&(f.addWatches(e,y,l,f.childRaise),f.addChildTwoway(l,y,e)),w&&f.modelChange.apply(l,[e,c.eValue]),a){f.refreshTemplate(h,o,a);l.element.on(i+"refresh",function(){f.refreshTemplate(h,o,a)})}e.$on("$destroy",function(){l.destroy();l=u;for(var n in a)a[n].scope.$destroy(),delete a[n];a=u})}},e)}])};c.directive("ejTemplate",["$compile",function(n){return{restrict:"EA",priority:999,terminal:!0,link:function(t,i,r){var u=t.$parent.$new(!0);t.ejObject&&(u.ejId=t.ejId,u.ejObject=t.ejObject,u.items=t.items,u.model=t.model,u.data=t.items[r.ejProp],n(i.children(),t)(u),t.$parent.$$phase||u.$digest())}}}]);s={};e=i.registeredWidgets;for(h in e)l(e[h].name,e[h].proto);Array.prototype.map=Array.prototype.map||function(n,t){for(var i=[],r=0;r<this.length;)i.push(n.call(t,this[r++]));return i};t.template["text/ng-template"]=function(i,r,u,f){var h=angular.element(i.element[0]),e,s,o=i["tmpl.$newscope"];return o&&o[r]||(o=o||{},o[r]={scope:h.scope().$new(!0),key:t.getGuid("tmpl")},e=o[r].scope,e.model=i.model,e.ejId=i._id,e.ejObject=i,i["tmpl.$newscope"]=o),e=o[r].scope,t.isNullOrUndefined(f)?(f=1,e.items=[u]):(e.items||(e.items=[]),e.items[f]=u),s=r||"",s.startsWith("#")&&(s=n(s).html()),"<div ej-template ej-prop='"+f+"' class='"+o[r].key+" ej-angular-template'>"+s+"<\/div>"};t.template.render=t.template["text/ng-template"]})(window.jQuery,window.Syncfusion,window.Syncfusion.widget,window.angular)