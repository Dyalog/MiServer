/*!
*  filename: ej.mobile.tab.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.mobile.core.min","./ej.mobile.application.min","./ej.mobile.listview.min","./ej.mobile.scrollpanel.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.unobtrusive.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t,i){t.widget("ejmTab","ej.mobile.Tab",{_setFirst:!0,_rootCSS:"e-m-tab",defaults:{theme:"auto",renderMode:"auto",allowScrolling:!1,enableAjax:!1,enableCache:!1,selectedItemIndex:0,enablePersistence:!1,badge:{enabled:!1,value:0,maxValue:100},ios7:{imageClass:"",overflowBadge:{enabled:!1,value:0,maxValue:100}},android:{showImage:!1,imageClass:"",position:"fixed"},windows:{enableCustomText:!1,position:"normal",renderDefault:!1},flat:{position:"fixed"},load:null,loadComplete:null,touchStart:null,touchEnd:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,ajaxComplete:null,ajaxSettings:{type:"GET",cache:!1,async:!0,dataType:"html",contentType:"html",url:"",data:{}}},observables:["selectedItemIndex"],selectedItemIndex:t.util.valueFunction("selectedItemIndex"),dataTypes:{android:{position:"enum"},windows:{position:"enum"},flat:{position:"enum"},renderMode:"enum",theme:"enum",enablePersistence:"boolean"},_init:function(){this._renderControl();this._wireEvents()},_load:function(){t.setRenderMode(this);t.setTheme(this);this._touchStart=this.model.touchStart;this._touchEnd=this.model.touchEnd;this.model.renderMode=="windows"&&t.isMobile()&&this.model.windows.renderDefault&&(this.model.theme="default");this._hasMoreItem=!1;this._storedContent=[];this._orgEle=this.element.clone();this._index=0;this._length=this.element.find("li").length;this._x=0;this._y=0;this._preventEndAfterMove=!1;this.model.id=this.element[0].id;this.selectedItemIndex()<0&&this.selectedItemIndex(this.selectedItemIndex(0));this.model.load&&this._trigger("load")},_renderControl:function(){var i,r,f,u;this._load();this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme).addClass(t.isMobile()?"e-m-mobile":"e-m-tablet");i=this;this.t_container=t.buildTag("div.e-m-tab-container");this._ulItems=this.element.find("ul").addClass("e-m-tab-hdr e-m-clearall e-m-user-select");this._content=t.buildTag("div.e-m-content-container");this._tabWrapper=t.buildTag("div#"+this.model.id+"_wrapper.e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-tab-content",this._content);this._tabWrapper.addClass(t.isMobile()?"e-m-mobile":"e-m-tablet");this.element.parent().append(this._tabWrapper);this.model.renderMode=="ios7"?App.activePage.append(this.element):(this.model[this.model.renderMode].position=="fixed"&&App.activePage.prepend(this.element),this.element.addClass(this.model[this.model.renderMode].position=="normal"?"e-m-rel":"e-m-fixed"));this._tabLiItems=this.element.find("li");i=this;n.each(i._tabLiItems,function(r,u){i._storedContent[r]||t.getBooleanVal(u,"data-ej-enableajax",i.model.enableAjax)||(i._storedContent[r]=u.hasAttribute("data-ej-href")?t.getCurrentPage().find(n(u).attr("data-ej-href")):n(u).html())});this["_"+this.model.renderMode+"Properties"]&&this["_"+this.model.renderMode+"Properties"]();this._tabLiItems=this.element.find("li").addClass("e-m-tabitem e-m-user-select e-m-state-default");this._tabLiItems.each(function(r,u){i._renderTabItems(u,r);var f=t.getAttrVal(u,"data-ej-badge-value",0),e=t.getAttrVal(u,"data-ej-badge-maxvalue",i.model.badge.maxValue),o=t.buildTag("div.e-m-tab-badgediv",t.buildTag("div.e-m-tab-badge",(f<=e?f:e+"+").toString()));n(u).find(".e-m-tabitem-anchor").append(o);t.getBooleanVal(u,"data-ej-badge-enabled",i.model.badge.enabled)||o.hide()});this._hasMoreItem&&(r=t.buildTag("li.e-m-tabitem e-m-tab-more e-m-user-select e-m-state-default","More","",{"data-ej-ios7-imageclass":"e-m-tab-moreimg","data-ej-text":"More"}),r=this._renderTabItems(r,this._tabLiItems.length),this.model[this.model.renderMode].overflowBadge.enabled&&(f=t.buildTag("div.e-m-tab-badgediv",t.buildTag("div.e-m-tab-badge",(this.model[this.model.renderMode].overflowBadge.value<=this.model[this.model.renderMode].overflowBadge.maxValue?this.model[this.model.renderMode].overflowBadge.value:this.model[this.model.renderMode].overflowBadge.maxValue+"+").toString())),r.append(f)),this._ulItems.append(r));this.element.append(this.t_container.append(this._ulItems));this.model.renderMode=="windows"&&(this._tabContents=this._tabWrapper.find(".e-m-content"),t.isMobile()?(this.t_container.width(window.innerWidth),u=0,this._tabLiItems.each(function(){u+=n(this).outerWidth()}),this._ulItems.width(u),this._tabContents.width(window.innerWidth),this._tabWrapper.width(window.innerWidth),this._tabWrapper.css({overflow:"hidden",position:"relative"})):this._tabWrapper.parent().css({overflow:"hidden",position:"relative"}),this._tabContents.addClass("e-m-state-block").removeClass("e-m-state-hide"),this._tabWrapper.addClass("e-m-preventscroll"),this._isSameHeaderTouch=!0);this.model.enableAjax||t.getBooleanVal(this._tabLiItems[this.selectedItemIndex()],"data-ej-enableajax",this.model.enableAjax)?this._loadAjaxContent(this._tabLiItems[this.selectedItemIndex()]):this._setDimensions();this["_"+this.model.renderMode+"RenderTab"]&&this["_"+this.model.renderMode+"RenderTab"]();this.element.find("#"+this.model.id+"_header"+this.selectedItemIndex()).removeClass("e-m-state-default").addClass("e-m-state-active");this._liEle=this.element.find("li");this._anchorEle=this.element.find("a");this._liEle.first().addClass("e-m-firstitem");this._liEle.last().addClass("e-m-lastitem");this.model.renderMode=="windows"&&this._setWindowsTabPosition(!0);(this.model.renderMode=="ios7"||this.model[this.model.renderMode].position!="fixed"||this.model.allowScrolling)&&(this.model.renderMode!="windows"||this.model[this.model.renderMode].position!="fixed")||this._tabWrapper.css("margin-top",this.element.outerHeight());this.model.loadComplete&&this._trigger("loadComplete")},_ios7Properties:function(){var r=this.element.find("li").length,i;(t.isMobile()&&r>5||!t.isMobile()&&r>6)&&(this._hasMoreItem=!0,i=t.isMobile()?3:4,this._listControl=t.buildTag("div#"+this.model.id+"_list",t.buildTag("ul"),{},{}),this._listControl.find("ul").append(n(this.element.find("li").get(i)).nextAll()),this._content.append(this._listControl),this._listControl.ejmListView({headerTitle:"More",theme:this.model.theme,allowScrolling:!0,renderMode:this.model.renderMode,windows:{renderDefault:this.model.windows.renderDefault}}),this._listControl.attr("id",this.model.id+"_content"+(i+1)).addClass("e-m-state-hide e-m-tab-more"));this.element.addClass("e-m-fixed")},_androidRenderTab:function(){this._renderingScrolling()},_flatRenderTab:function(){this._renderingScrolling()},_windowsRenderTab:function(){t.isMobile()||this._renderingScrolling()},_renderingScrolling:function(){t._removeHidden(this.element);(this._ulItems[0].scrollWidth>window.innerWidth&&this.model[this.model.renderMode].position=="fixed"||this._ulItems[0].scrollWidth>this.element.innerWidth()&&this.model[this.model.renderMode].position=="normal")&&this._renderScrollPanel(this.model.id+"_scroll",this.model.id,!0,!1,!1,!0,!1);t._setHidden(this.element)},_createImageTag:function(i){if(this.model.android.showImage||this.model.renderMode=="ios7"){var r=t.buildTag("div","","",{"class":"e-m-tab-image "+t.getAttrVal(i,"data-ej-"+this.model.renderMode+"-imageclass",this.model[this.model.renderMode].imageClass)});return n(i).hasClass("e-m-tab-more")&&n(r).addClass("e-m-fontimage"),r}},_renderTabItems:function(i,r){var e=t.buildTag("a.e-m-tabitem-anchor e-m-remove-shadow"),o=this.model.renderMode=="ios7"||this.model.renderMode=="android"?this._createImageTag(i):"",s=t.buildTag("div.e-m-tab-text e-m-user-select"),u=t.getAttrVal(i,"data-ej-text","Item"),f;return u=this.model.renderMode=="windows"&&t.isMobile()?this.model.windows.enableCustomText?u:u.toLowerCase():u,e.append(o?s.append(o).append(t.buildTag("div.e-m-text",u)):s.append(u)),n(i).hasClass("e-m-tab-more")||t.getBooleanVal(i,"data-ej-enableajax",this.model.enableAjax)||(f=t.buildTag("div.e-m-content e-m-state-hide#"+this.model.id+"_content"+r,this._storedContent[r]),r==this.selectedItemIndex()&&f.removeClass("e-m-state-hide").addClass("e-m-state-block"),this._content.append(f)),n(i).attr("id",this.model.id+"_header"+r).empty().append(e),i},_renderScrollPanel:function(n,r,u,f,e,o,s){var h=t.buildTag("div#"+n,"",{},{});h.ejmScrollPanel({enableNativeScrolling:o?!1:i,theme:this.model.theme,preventDefault:!1,adjustFixedPosition:o?!1:!0,renderMode:this.model.renderMode,target:r,showScrollbars:o?!1:!0,enableHrScroll:u,enableVrScroll:f,autoAdjustHeight:e,isRelative:s});o?this._headerScroller=h.ejmScrollPanel("instance"):this._scroller=h.ejmScrollPanel("instance")},_loadAjaxContent:function(i){var r=this,u=n(i).attr("data-ej-href"),f,e;(!n.support.pushstate||t.isWindowsWebView())&&(u=App.route.makeUrlAbsolute(u));f={content:r._content,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};this.model.ajaxBeforeLoad&&this._trigger("ajaxBeforeLoad",f);e={cache:r.model.ajaxSettings.cache,async:r.model.ajaxSettings.async,type:r.model.ajaxSettings.type,contentType:r.model.ajaxSettings.contentType,url:t.isWindowsWebView()?u:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u,dataType:r.model.ajaxSettings.dataType,data:r.model.ajaxSettings.data,successHandler:function(f){var o=n(r._content).find("#"+r.model.id+"_content"+r._index),e,s,h;r.model.enableCache&&o.length!=0||(o.length&&o.remove(),e=t.buildTag("div.e-m-content e-m-state-hide#"+r.model.id+"_content"+r._index,/<\/?body[^>]*>/gmi.test(f)?f.split(/<\/?body[^>]*>/gmi)[1]:f||""),r._content.append(e),r.model.renderMode=="windows"?(r._content.children().length>1&&e.css("left",window.innerWidth),r.model.renderMode=="windows"&&t.isMobile()&&(s=t.buildTag("div#"+r.model.id+"_content_scroll","",{},{}),s.ejmScrollPanel({theme:r.model.theme,preventDefault:!1,adjustFixedPosition:!0,renderMode:r.model.renderMode,target:r.model.id+"_content"+r._index,showScrollbars:!0,scrollMove:n.proxy(r._onScrollMove,this)})),r._hideContent(r._content,parseInt(r._index),i)):(r._hideContent(r._content,r._index,i),r._setDimensions()),t.widget.init(n(e)));h={content:r._content,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};r.model.ajaxSuccess&&r._trigger("ajaxSuccess",h)},errorHandler:function(t,f,e){var o={xhr:t,textStatus:f,errorThrown:e,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};r.model.ajaxError&&r._trigger("ajaxError",o)},completeHandler:function(){var t={content:r._content,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};r.model.ajaxComplete&&r._trigger("ajaxComplete",t)}};t.sendAjaxRequest(e)},_hideContent:function(i,r,u){var f,e,o;u&&n(u).hasClass("e-m-tab-more")&&this.model.allowScrolling?this._scroller.disable():this.model.allowScrolling&&this._scroller&&this._scroller.enable();f=i.find(".e-m-state-block");e=i.find("#"+this.model.id+"_content"+r).removeClass("e-m-state-hide").addClass("e-m-state-block");this._scroller&&(f.attr("scrollX",this._scroller.getScrollPosition().x).attr("scrollY",this._scroller.getScrollPosition().y),e.attr("scrollX")&&e.attr("scrollY")?this._scroller.scrollTo(parseInt(e.attr("scrollX")),parseInt(e.attr("scrollY"))):this._scroller.scrollTo(0,0));f.length>0&&e.length>0&&(f[0].id!=e[0].id||t.getBooleanVal(u,"data-ej-enableajax",this.model.enableAjax)&&!this.model.enableCache&&!f.hasClass("e-m-tab-more"))&&(this.model.renderMode!="windows"?(f.removeClass("e-m-state-block").addClass("e-m-state-hide"),this.model.enableCache||!t.getBooleanVal(f,"data-ej-enableajax",this.model.enableAjax)||f.hasClass("e-m-tab-more")||f.remove()):this._content.children().length>1&&(o=this,this._content.css("left",0),this._tabContents=this._content.find(".e-m-content"),this.model.enableCache?this.model.enableCache&&n(this._tabContents).not(n(this._tabContents[r])).css("left",-window.innerWidth):n(this._tabContents[0]).css("left",-window.innerWidth),n(this._tabContents[this.model.enableCache?r:1]).animate({left:0},{queue:!0,duration:250,complete:function(){o.model.enableCache||n(o._tabContents[0]).remove()}}),n(this._tabContents[r]).next().css("left",window.innerWidth),this._tabLiItems.length-1==r&&n(this._tabContents[0]).css("left",window.innerWidth)),this._scroller&&this._scroller.refresh())},_setDimensions:function(){var u,i,r;if(this.model.allowScrolling)if(u=n(this._content.children()).outerHeight(),this._scroller)this._content.find("#"+this.model.id+"_content"+this._index).length>0&&this._content.css("height",n(this._content.find("#"+this.model.id+"_content"+this._index))[0].scrollHeight);else if(this.model.renderMode=="windows"&&t.isMobile())for(i=0;i<this._tabContents.length;i++)r=t.buildTag("div#"+this._tabContents[i].id+"_scroll","",{},{}),r.ejmScrollPanel({theme:this.model.theme,preventDefault:!1,enableNativeScrolling:!0,adjustFixedPosition:!0,renderMode:this.model.renderMode,target:this._tabContents[i],showScrollbars:!0,scrollMove:n.proxy(this._onScrollMove,this)}),this._scroller=r.ejmScrollPanel("instance");else this._renderScrollPanel(this.model.id+"_contentscroll",this.model.id+"_wrapper",!1,!0,!0),this._content.css("height",n(this._content.find(".e-m-state-block"))[0].scrollHeight);else this._content.children().height(window.innerHeight-this.element.outerHeight());this.model.renderMode=="windows"&&t.isMobile()&&this._tabWrapper.height(window.innerHeight-this.element.outerHeight())},_scrollHeader:function(t){if(this._headerScroller){var r=n(t),i=r.offset().left,u=r.outerWidth(),f=window.innerWidth;this.model[this.model.renderMode].position=="normal"&&(i=i-this.element.offset().left,f=this.element.outerWidth());i>0&&i+u>f?this._headerScroller.scrollTo(this._tabLiItems.index(r)==this._tabLiItems.length-1?this._headerScroller._maxScrollX:this._headerScroller._x-u,0,300):i<0&&this._headerScroller.scrollTo(this._tabLiItems.index(r)==0?0:this._headerScroller._x+u,0,300)}},_androidTouchEnd:function(t){n(this._currentTab).removeClass("e-m-pressed");this._scrollHeader(t)},_windowsTouchEnd:function(i){if(t.isMobile()){var r=0,u=n(i);u=n(i).prevAll();u.each(function(t,i){r=r+n(i).outerWidth()})}else this._scrollHeader(i)},_onTouchStartHandler:function(i){this._currentTab=i.currentTarget;this.isMoved=!1;this._preventEndAfterMove=!1;this._isSameHeaderTouch=n(i.currentTarget).hasClass("e-m-state-active");this._index=n(this._currentTab)[0].id.split(this.model.id+"_header")[1];this.model.renderMode=="android"&&n(this._currentTab).addClass("e-m-pressed");var r={item:n(this._currentTab),text:n(this._currentTab).find(".e-m-text").text(),index:n(this._currentTab).index()};this.model.touchStart=t.getAttrVal(this._currentTab,"data-ej-touchstart",this._touchStart);this.model.touchStart&&this._trigger("touchStart",r);t.listenTouchEvent(this._liEle,t.moveEvent(),this._touchMoveDelegate)},_onTouchMoveHandler:function(){(this.model.renderMode!="windows"||this.model.renderMode=="windows"&&t.isMobile())&&(this.isMoved=!0);this.model.renderMode=="android"&&n(this._currentTab).removeClass("e-m-pressed");this._headerMoved=!0},_onTouchEndHandler:function(){var i,r;(this._preventEndAfterMove||this.isMoved)&&!t.isWindows()||(this._reverse=!1,i=(parseInt(this._index)-1<0?this._length-1:parseInt(this._index)-1).toString(),this._tabWrapper.find("#"+this.model.id+"_content"+i).length>0&&(this._tabWrapper.find("#"+this.model.id+"_content"+i)[0].style[t.transform]=""),this._enableTab(this._currentTab,this._index),r={item:n(this._currentTab),text:n(this._currentTab).find(".e-m-text").html(),index:n(this._currentTab).index()},this.model.touchEnd=t.getAttrVal(this._currentTab,"data-ej-touchend",this._touchEnd),this.model.touchEnd&&this._trigger("touchEnd",r));this.isMoved=!1;t.listenTouchEvent(this._liEle,t.moveEvent(),this._touchMoveDelegate,!0)},_enableTab:function(i,r){this._index=r;this.model.renderMode=="windows"&&(this.model.renderMode!="windows"||t.isMobile())||(this.selectedItemIndex(r),this._length>1&&(this["_"+this.model.renderMode+"TouchEnd"]&&this["_"+this.model.renderMode+"TouchEnd"](i),this.element.find(".e-m-state-active").removeClass("e-m-state-active").addClass("e-m-state-default"),n(i).removeClass("e-m-state-default").addClass("e-m-state-active")));var u=t.getBooleanVal(i,"data-ej-enableajax",this.model.enableAjax);u&&this.model.enableCache&&n(this._tabWrapper.find("#"+this.model.id+"_content"+r)).length>0&&n(this._tabWrapper.find("#"+this.model.id+"_content"+r)).hasClass("e-m-state-hide")||!u&&n(this._tabWrapper.find("#"+this.model.id+"_content"+r)).hasClass("e-m-state-hide")||n(i).hasClass("e-m-tab-more")?this._hideContent(this._tabWrapper,r,i):u&&this._loadAjaxContent(i)},_onContentTouchStartHandler:function(n){this._headerTouch=!1;this._setInitialTouchPoints(n)},_onHeaderTouchStartHandler:function(n){this._headerTouch=!0;this._setInitialTouchPoints(n)},_setInitialTouchPoints:function(n){var i=n.touches?n.touches[0]:n;this._x=0;this._y=0;this._distX=0;this._distY=0;this._directionX=0;this._directionY=0;this._lockedDir=0;this._moved=!1;this._startX=parseInt(this._tabLiItems.css("left"))?parseInt(this._tabLiItems.css("left")):0;this._startY=0;this._absStartX=this._x;this._absStartY=this._y;this._pointX=i.pageX;this._pointY=i.pageY;this._startTime=Date.now();this._endTime=0;this._reverse=!1;this._end=!1;t.listenEvents([window,window],[t.moveEvent(),t.endEvent(),t.cancelEvent()],[this._contentTouchMoveDelegate,this._contentTouchEndDelegate,this._contentTouchEndDelegate])},_onContentTouchMoveHandler:function(n){if(!this._contentScroll){var i=n.touches?n.touches[0]:n,f=i.pageX-this._pointX,e=i.pageY-this._pointY,s=Date.now(),t,o,r,u;if(this._pointX=i.pageX,this._pointY=i.pageY,this._distX+=f,this._distY+=e,r=Math.abs(this._distX),u=Math.abs(this._distY),s-this._endTime>300&&r<10&&u<10)return;if(this._lockedDir||(this._lockedDir=r>u+5?"horizontal":u>=r?"vertical":"vertical"),this._lockedDir=="horizontal"){if(e=0,t=this._x+f,o=this._y+e,t>0){this._reverse=!0;return}this._ulItems.css("left",this._cloned?this._clonedLeft+t/3:t/3);this._content.css("left",t)}else this._lockedDir=="vertical"&&(f=0);this._headerMove||(this._headerMove=!1);this._headerMove&&(this._preventEndAfterMove=!0);this._x=t;this._y=o;this._moved=!0}},_onContentTouchEndHandler:function(n){if(t.listenEvents([window,window],[t.moveEvent(),t.endEvent(),t.cancelEvent()],[this._contentTouchMoveDelegate,this._contentTouchEndDelegate,this._contentTouchEndDelegate],!0),!this._reverse){var r=n.touches?n.touches[0]:n,u=t.getTime()-this._startTime,i=this._x,f=this;((this._moved||!this._isSameHeaderTouch)&&this._lockedDir=="horizontal"||this._headerTouch&&!this._isSameHeaderTouch)&&this._setWindowsTabPosition(Math.abs(i)<window.innerWidth/3&&this._moved,!0);this._moved=!1}},_setWindowsTabPosition:function(i,r){var c=0,o=0,a=this,s=this._ulItems.find(".e-m-tabitem.e-m-state-active"),u=this._reverse?s.prev():s.next(),f=this._tabLiItems.index(s),h,l,e;if(this._tabLiItems.length-1==f&&(u=n(this._tabLiItems[0])),i&&this._isSameHeaderTouch?(u=s,r?this._content.animate({left:0},{queue:!0,duration:250}):this._content.css("left",0),n(this._tabContents).not(n(this._tabContents[f])).css("left",-window.innerWidth),n(this._tabContents[f]).next().css("left",window.innerWidth),n(this._tabContents[f]).animate({left:0},{queue:!0,duration:250})):(f=this._tabLiItems.index(u),this._headerTouch||this._enableTab(u,f),this._content.css("left",0),n(this._tabContents).not(n(this._tabContents[f])).css("left",-window.innerWidth),n(this._tabContents[f]).animate({left:0},{queue:!0,duration:250}),n(this._tabContents[f]).next().css("left",window.innerWidth),this._tabLiItems.length-1==f&&n(this._tabContents[0]).css("left",window.innerWidth)),t.isMobile()){for(o=u.outerWidth(),h=u.nextAll(),e=0;e<h.length;e++)o+=n(h[e]).outerWidth();for(l=this._tabLiItems.index(u),e=0;e<l;e++)c+=n(this._tabLiItems[e]).outerWidth();r&&i?this._ulItems.animate({left:0},{queue:!0,duration:250}):this._ulItems.css("left",0);this._tabLiItems.animate({left:-c},i?{queue:!0,duration:0}:{queue:!1,duration:250,complete:function(){o<window.innerWidth&&u.prevAll().css("left",o);a._tabLiItems.removeClass("e-m-state-active").addClass("e-m-state-default");u.addClass("e-m-state-active")}});o<window.innerWidth&&u.prevAll().css("left",o)}},_hide:function(n,i,r,u){n.removeClass("e-m-state-block").addClass("e-m-state-hide").unbind(t.transitionEndEvent(),u);!i.model.enableCache&&r&&n.remove();i._scroller&&i._scroller.refresh()},_appendPrevEleHandler:function(){this.proxy._appendElement(this.ele,this.tab,this.proxy,this.currentTab,this.cloned,this.delegate)},_changeHandler:function(){this._setDimensions()},_anchorClickHandler:function(n){n.preventDefault()},_createDelegates:function(){this._anchorClickDelegate=n.proxy(this._anchorClickHandler,this);this._touchStartDelegate=n.proxy(this._onTouchStartHandler,this);this._touchMoveDelegate=n.proxy(this._onTouchMoveHandler,this);this._touchEndDelegate=n.proxy(this._onTouchEndHandler,this);this._touchCancelDelegate=n.proxy(this._onTouchEndHandler,this);this._changeDelegate=n.proxy(this._changeHandler,this);this.model.renderMode=="windows"&&this._length>1&&(this._contentTouchStartDelegate=n.proxy(this._onContentTouchStartHandler,this),this._contentTouchMoveDelegate=n.proxy(this._onContentTouchMoveHandler,this),this._contentTouchEndDelegate=n.proxy(this._onContentTouchEndHandler,this),this._headerTouchStartDelegate=n.proxy(this._onHeaderTouchStartHandler,this))},_wireEvents:function(i){this._createDelegates();var r=i?"unbind":"bind";t.listenEvents([this._liEle,this._liEle,this._anchorEle,this._anchorEle],[t.startEvent(),t.endEvent(),t.tapEvent(),t.tapHoldEvent()],[this._touchStartDelegate,this._touchEndDelegate,this._touchCancelDelegate,this._anchorClickDelegate,this._anchorClickDelegate],i);this.model.renderMode=="windows"&&this._length>1&&t.listenEvents([this.element],[t.startEvent()],[this._headerTouchStartDelegate]);this.model.renderMode=="windows"&&t.isMobile()&&this._length>1&&t.listenEvents([this._tabWrapper],[t.startEvent()],[this._contentTouchStartDelegate]);n(window)[r]("orientationchange",this._changeDelegate);n(window)[r]("resize",this._changeDelegate)},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setTheme:function(n){n&&(this.model.theme=n,this.element.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme),this._tabWrapper.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme),this._listControl&&this._listControl.ejmListView("model.theme",this.model.theme))},_isEnable:function(i){return i=this.model.renderMode=="windows"&&t.isMobile()?n(i).find(".e-m-tabitem-anchor"):i,i.hasClass("e-m-state-disabled")?!1:!0},_refresh:function(){this._destroy();this.element.addClass("e-m-tab");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html());this._tabWrapper.remove();var i=this;n.each(this._storedContent,function(n,i){t.getCurrentPage().append(i)})},_destroy:function(){this._wireEvents(!0);this._clearElement()},showBadge:function(t){if(t>=0&&this._isEnable(n(this.element.find("li.e-m-tabitem")[t]))){var i=n(this.element.find("li.e-m-tabitem")[t]),r=i.find(".e-m-tab-badgediv");r.length&&(i.attr("data-ej-badge-enabled",!0),r.show())}},hideBadge:function(t){if(t>=0&&this._isEnable(n(this.element.find("li.e-m-tabitem")[t]))){var i=n(this.element.find("li.e-m-tabitem")[t]),r=i.find(".e-m-tab-badgediv");r.length&&(i.attr("data-ej-badge-enabled",!1),r.hide())}},updateBadgeValue:function(i,r){var u,f,e;i>=0&&this._isEnable(n(this.element.find("li.e-m-tabitem")[i]))&&(u=n(this.element.find("li.e-m-tabitem")[i]),f=u.find(".e-m-tab-badge"),f.length&&(e=u.hasClass("e-m-tab-more")?Number(this.model.ios7.overflowBadge.maxValue):Number(t.getAttrVal(u,"data-ej-badge-maxvalue",this.model.badge.maxValue)),u.attr("data-ej-badge-value",r),f.html((r<=e?r:e+"+").toString())))},selectItem:function(t){t>=0&&this._isEnable(n(this._tabLiItems[t]))&&(this._currentTab=this._tabLiItems[t],this._index=t,this._onTouchEndHandler())},enableItem:function(i){if(i>=0){var r=this.model.renderMode=="windows"&&t.isMobile()?n(n(this._tabLiItems[i]).find(".e-m-tabitem-anchor")):n(this._tabLiItems[i]);r.removeClass("e-m-state-disabled");this.enableContent(i)}},disableItem:function(i){if(i>=0){var r=this.model.renderMode=="windows"&&t.isMobile()?n(n(this._tabLiItems[i]).find(".e-m-tabitem-anchor")):n(this._tabLiItems[i]);r.addClass("e-m-state-disabled");this.disableContent(i)}},enableContent:function(n){n>=0?this._tabWrapper.find("#"+this.model.id+"_content"+n).removeClass("e-m-state-disabled"):this._tabWrapper.removeClass("e-m-state-disabled")},disableContent:function(n){n>=0?this._tabWrapper.find("#"+this.model.id+"_content"+n).addClass("e-m-state-disabled"):this._tabWrapper.addClass("e-m-state-disabled")},addItem:function(t,i){i>=0?t.insertBefore(n(this._orgEle.children().children()[i])):this._orgEle.children().append(t);this._refresh()},addOverflowItem:function(n,t){this._listControl&&t>=0&&(this._className=this._listControl.attr("class"),this._listControl.ejmListView("addItem",n,t),this._listControl.addClass(this._className))},removeItem:function(t){t>=0&&(n(this.element.find(".e-m-tabitem")[t]).remove(),this._content.find("#"+this.model.id+"_content"+t).remove())},removeOverflowItem:function(n){this._listControl&&n>=0&&this._listControl.ejmListView("removeItem",n)},getItemsCount:function(){return this._hasMoreItem?this.element.find(".e-m-tabitem").length-1:this.element.find(".e-m-tabitem").length},getOverflowItemCount:function(){if(this._listControl)return this._listControl.ejmListView("getItemsCount")}});t.mobile.Tab.Position={Fixed:"fixed",Normal:"normal"}})(jQuery,Syncfusion)})