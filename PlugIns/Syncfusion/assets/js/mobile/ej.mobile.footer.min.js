/*!
*  filename: ej.mobile.footer.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.mobile.core.min","./ej.mobile.application.min","./ej.mobile.button.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.unobtrusive.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t){t.widget("ejmFooter","ej.mobile.Footer",{_setFirst:!0,_rootCSS:"e-m-footer",defaults:{hideForUnSupportedDevice:!1,leftButtonNavigationUrl:null,rightButtonNavigationUrl:null,title:"Title",showTitle:!0,position:"fixed",leftButtonCaption:"Left",rightButtonCaption:"Right",renderMode:"auto",theme:"auto",showLeftButton:!1,showRightButton:!1,enablePersistence:!1,templateId:null,leftButtonTap:null,rightButtonTap:null,windows:{renderDefault:!1}},dataTypes:{showTitle:"boolean",position:"enum",renderMode:"enum",theme:"enum",enablePersistence:"boolean",windows:{renderDefault:"boolean"}},_init:function(){(!this.model.hideForUnSupportedDevice||this.model.hideForUnSupportedDevice&&this.model.renderMode=="ios7")&&this._renderControl()},_renderFooterTemplate:function(){this._templateContainer=t.buildTag("div.e-m-footer-content");var n=t.getCurrentPage().find("#"+this.model.templateId);n.length?(this.element.empty(),t.destroyWidgets(n),this._template=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n):(this._template=this.element[0].innerHTML.trim(),this.element.empty());this.element.append(this._templateContainer.append(this._template))},_renderDefaultFooter:function(){this._footerContainer=t.buildTag("div.e-m-footer-content");this.element[0].innerHTML.trim()==""?(this.element.append(this._footerContainer),this["_"+this.model.renderMode+"ButtonProperties"]&&this["_"+this.model.renderMode+"ButtonProperties"]()):(this._template=this.element[0].innerHTML.trim(),this.element.empty(),this.element.append(this._footerContainer.append(this._template)))},_renderControl:function(){this._orgEle=n(this.element).clone();t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this.model.height>0&&n(this.element).css({height:this.model.height});this.model.width>0&&n(this.element).css({width:this.model.width});this.element.addClass("e-m-"+this.model.renderMode+" e-m-footer e-m-"+this.model.position+" e-m-"+this.model.theme);this.model.templateId==null?this._renderDefaultFooter():this._renderFooterTemplate();var i=this.element.find(".e-m-footer-text");i.length==0&&!this._template&&this.model.showTitle&&this._showFooterTitle()},_leftButtonCommon:function(){this._leftButton=t.buildTag("div.e-m-footer-left");this._leftButtonAnchorTag=t.buildTag("a",this.model.leftButtonCaption,"",{"data-role":"ejmactionlink","data-ej-rendermode":this.model.renderMode,"data-ej-bindback":this.model.bindBack,"data-ej-theme":this.model.theme});this._ios7Buttons(this._leftButton,this._leftButtonAnchorTag,this.model.leftButtonTap,"header",this.model.leftButtonNavigationUrl)},_rightButtonCommon:function(){this._rightButton=t.buildTag("div.e-m-footer-right");this._rightButtonAnchorTag=t.buildTag("a",this.model.rightButtonCaption,"",{"data-role":"ejmactionlink","data-ej-rendermode":this.model.renderMode,"data-ej-theme":this.model.theme});this._ios7Buttons(this._rightButton,this._rightButtonAnchorTag,this.model.rightButtonTap,"header",this.model.rightButtonNavigationUrl)},_ios7Buttons:function(n,i,r,u,f){r!=null?r.name?i.attr("data-ej-touchend",r.name):i.attr("data-ej-touchend",r):"";i.attr("data-ej-"+this.model.renderMode+"-style",u);f!=null&&i.attr("href",f);n.append(i);n.hasClass("e-m-header-left")?this.element.find(".e-m-footer-content").prepend(n):this.element.find(".e-m-footer-content").append(n);t.widget.init(n)},_showFooterTitle:function(){this._titleSpan=t.buildTag("span.e-m-footer-text e-m-"+this.model.theme+" e-m-user-select",this.model.title,"","");titleDiv=t.buildTag("div.e-m-footer-title","","","").append(this._titleSpan);this._footerContainer.append(titleDiv);this.model.renderMode=="ios7"&&this._titleSpan.text().length>18&&(this.model.showLeftButton&&this._titleSpan.css("margin-left","65px"),this.model.showRightButton&&this._titleSpan.css("margin-right","50px"))},_ios7ButtonProperties:function(){this.model.showLeftButton&&this._leftButtonCommon();this.model.showTitle&&this._showFooterTitle();this.model.showRightButton&&this._rightButtonCommon()},_setShowLeftButton:function(n){this.model.showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this._leftButtonCommon()},_setShowRightButton:function(n){this.model.showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setShowTitle:function(n){this.model.showTitle=n;this._titleSpan[n?"show":"hide"]()},_setTitle:function(n){this.model.title=n;this._titleSpan.html(n)},_setLeftButtonCaption:function(n){this.model.leftButtonCaption=n;this.element.find(this._leftButtonAnchorTag).html(n)},_setRightButtonCaption:function(n){this.model.rightButtonCaption=n;this.element.find(this._rightButtonAnchorTag).html(n)},_setLeftButtonTap:function(n){this.model.leftButtonTap=n;this.element.find(this._leftButtonAnchorTag).ejmActionlink({touchEnd:n})},_setRightButtonTap:function(n){this.model.rightButtonTap=n;this.element.find(this._rightButtonAnchorTag).ejmActionlink({touchEnd:n})},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),t=="renderMode"||t=="position"?r=!0:this[i]&&this[i](n[t]);r&&this._refresh()},_setTheme:function(n){this.model.theme=n;this.element.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase());this.element.find(".e-m-footer-left .e-m-btn").ejmActionlink({theme:n});this.element.find(".e-m-footer-right .e-m-btn").ejmActionlink({theme:n})},_refresh:function(){this._destroy();this.element.addClass("ejm-footer");this._renderControl()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElement()},getTitle:function(){return this._titleSpan.html()}});t.mobile.Footer.Position={Normal:"normal",Fixed:"fixed"}})(jQuery,Syncfusion)})