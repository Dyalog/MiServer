/*!
*  filename: ej.mobile.checkbox.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.mobile.core.min","./ej.mobile.application.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.unobtrusive.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t,i){t.widget("ejmCheckBox","ej.mobile.CheckBox",{_setFirst:!0,_rootCSS:"e-m-chkbox",defaults:{touchStart:null,touchEnd:null,renderMode:"auto",preventDefault:!1,theme:"auto",enabled:!0,checked:!1,enableTriState:!1,checkState:"uncheck",text:"",enablePersistence:!1,windows:{renderDefault:!1}},dataTypes:{renderMode:"enum",theme:"enum",enabled:"boolean",checked:"boolean",checkState:"enum",enableTriState:"boolean",enablePersistence:"boolean"},_init:function(){this._renderControl();this._wireEvents(!1)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this.isChkboxChecked=this.model.checked||this.model.enableTriState&&this.model.checkState=="check"?!0:!1;this._wrapper=t.buildTag("div.e-m-chkbox e-m-"+this.model.renderMode+" e-m-"+this.model.theme,"",{},{});n(this.element).attr("style","display:none");this.element.wrap(this._wrapper);this._wrapper=this.element.parent();var i=t.buildTag("div.e-m-rootel");this.innerDiv=t.buildTag("div.e-m-chk-innerel e-m-inact e-m-fontimage","","",{},{});this.isChkboxChecked&&(this.element.attr("checked",!0),this.innerDiv.removeClass("e-m-inact").addClass("e-m-active"));i.append(this.innerDiv);this._wrapper.append(i);this._setEnabled(this.model.enabled);this.model.checkState=="indeterminate"&&this.model.enableTriState==!0&&this._setAllowIndeterminate(this.model.enableTriState);this._setTextWrapper(this.model.text)},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchStopHandler=n.proxy(this._touchEnd,this);this._activeHandler=n.proxy(this._active,this);this._touchMoveHandler=n.proxy(this._removeActive,this)},_wireEvents:function(n){this._createDelegates();t.listenEvents([this._wrapper,this._wrapper,this._wrapper,this._wrapper,this._wrapper,this._wrapper],["click","click",t.startEvent(),t.endEvent(),t.cancelEvent(),"mouseleave"],[this._touchStartHandler,this._touchStopHandler,this._activeHandler,this._touchMoveHandler,this._touchMoveHandler,this._touchMoveHandler],n)},_setAllowIndeterminate:function(t){t?(this.innerDiv.removeClass("e-m-inact e-m-active").addClass("e-chk-indeter"),n(this.element).attr("indeterminate",!0)):(this._wrapper.find(".e-chk-indeter").removeClass("e-chk-indeter"),this.element.removeAttr("indeterminate"),n(this.element).attr("indeterminate",!1),this.model.checkState=="check"?this._checked():this._unChecked())},_addAndroidGlow:function(){this.model.renderMode=="android"&&this._wrapper.find(".e-m-rootel ").addClass("e-m-state-glow")},_checked:function(){this._wrapper.find(".e-m-chk-innerel").removeClass("e-m-inact e-chk-indeter").addClass("e-m-active");this.element.attr("checked",!0)},_unChecked:function(){this._wrapper.find(".e-m-chk-innerel").removeClass("e-chk-indeter e-m-active").addClass("e-m-inact");this.element.attr("checked",!1)},_checkedStateHandler:function(){this._wrapper.find(".e-m-rootel").children().hasClass("e-m-inact")?(this._checked(),this.model.checked=this.isChkboxChecked=!0,this.model.checkState=="indeterminate"&&(this.model.enableTriState=!0)):this._wrapper.find(".e-m-rootel").children().hasClass("e-m-active")?this.model.enableTriState?this.model.checkState=="indeterminate"?(this._setAllowIndeterminate(!0),this.isChkboxChecked=!0):this._setAllowIndeterminate(!1):(this._unChecked(),this.isChkboxChecked=!1):this._wrapper.find(".e-m-rootel").children().hasClass("e-chk-indeter")&&(this.model.checked=this.isChkboxChecked=!1,this._setAllowIndeterminate(!1),this.model.enableTriState=!1)},_triStateHandler:function(){this.model.enableTriState?this.model.checkState=="indeterminate"?this._setAllowIndeterminate(!0):this._setAllowIndeterminate(!1):this._wrapper.find(".e-m-rootel").children().hasClass("e-m-inact")?(this._checked(),this.model.checked=this.isChkboxChecked=!0):this._wrapper.find(".e-m-rootel").children().hasClass("e-m-active")&&(this._unChecked(),this.model.checked=this.isChkboxChecked=!1)},_touchStart:function(){if(!this.model.preventDefault){var n={value:this.element.val(),isChecked:this.model.checked};this.model.touchStart&&this._trigger("touchStart",n)}},_touchEnd:function(){if(!this.model.preventDefault){this._checkedStateHandler();var n={value:this.element.val(),isChecked:this.model.checked};this.model.touchEnd&&this._trigger("touchEnd",n)}},_active:function(){this.model.renderMode=="windows"&&this._wrapper.find(".e-m-rootel").addClass("e-m-windowsaccent");this.model.renderMode=="android"&&!this.model.preventDefault;this._addAndroidGlow()},_removeActive:function(){this.model.renderMode=="windows"&&this._wrapper.find(".e-m-rootel").removeClass("e-m-windowsaccent");this.model.renderMode=="android"&&this._wrapper.find(".e-m-rootel").removeClass("e-m-state-glow")},_setTextWrapper:function(n){n!=""&&(this.txtSpan=t.buildTag("div.e-m-chktext",n),this._wrapper.append(this.txtSpan))},_setText:function(n){this.txtSpan?this.txtSpan.html(n):this._setTextWrapper(n)},_setEnabled:function(n){this.model.enabled=n;this._wrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_setTheme:function(n){this.model.theme=n;this._wrapper.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase())},_setChecked:function(n){this._wrapper.find(".e-m-chk-innerel")[n?"addClass":"removeClass"]("e-m-active");this._wrapper.find(".e-m-chk-innerel")[n?"removeClass":"addClass"]("e-m-inact");this.element.attr("checked",n);this.model.checked=this.isChkboxChecked=n},_setRenderMode:function(){t.setRenderMode(this);this._wrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setState:function(n){this.model.checkState=n;this._triStateHandler()},_setModel:function(n){var t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t])},_refresh:function(){this._destroy();this.element.find("input").addClass("e-m-chkbox");this._renderControl()},_clearElement:function(){this.element.insertAfter(this._wrapper);this._wrapper.remove();this.element.removeAttr("class")},_destroy:function(){this._wireEvents(!0);this._clearElement()},isChecked:function(){if(this.isChkboxChecked!=null&&this.isChkboxChecked!=i)return this.isChkboxChecked}});t.mobile.CheckBox.CheckState={Uncheck:"uncheck",Check:"check",Indeterminate:"indeterminate"}})(jQuery,Syncfusion)})