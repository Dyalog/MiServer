/*!
*  filename: ej.mobile.all.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function Scrollbar(n,t){this._wrapper=typeof t.el=="string"?document.querySelector(t.el):t.el;this._sb=this._wrapper.children[0];this._sbStyle=this._sb.style;this.scroller=n;this.model={listenX:!0,listenY:!0,enableInteraction:!1,enableResize:!0,enableShrink:!1,enableFade:!1,speedRatioX:0,disableTouch:!1,speedRatioY:0,ignoreBoundaries:!1};for(var i in t)this.model[i]=t[i];this._sizeRatioX=1;this._sizeRatioY=1;this._maxPosX=0;this._maxPosY=0;this.model.enableFade&&(this._sbStyle[ej.transform]=this.scroller.model.translateZ,this._sbStyle[ej.transitionDuration]=ej.isLowerAndroid()?"0.001s":"0ms",this._sbStyle.opacity="0");this._createDelegates();this._wireEvents()}window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var f,e,r,o,u;t.consts={NamespaceJoin:"-"};t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"};t.Orientation={Horizontal:"horizontal",Vertical:"vertical"};Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n,t){return n[t]!==i});String.format=function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n+1]);return t.replace(/\{[0-9]\}/g,"")};t.defineClass=function(n,r,u,f){if(!n||!u)return i;for(var o=n.split("."),s=window,e=0;e<o.length-1;e++)t.isNullOrUndefined(s[o[e]])&&(s[o[e]]={}),s=s[o[e]];return(f||t.isNullOrUndefined(s[o[e]]))&&(r=typeof r=="function"?r:function(){},s[o[e]]=r,s[o[e]].prototype=u),s[o[e]]};t.util={getNameSpace:function(n){var i=n.toLowerCase().split(".");return i[0]==="ej"&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(n,r){var u,e,f;if(!r)return i;for(u=r,e=n.split("."),f=0;f<e.length;f++){if(t.util.isNullOrUndefined(u))break;u=u[e[f]]}return u},createObject:function(n,i,r){for(var f=n.split("."),o=r||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t.isNullOrUndefined(i)?{}:i:t.isNullOrUndefined(e[f[u]])&&(e[f[u]]={}),e=e[f[u]];return o},isNullOrUndefined:function(n){return n===i||n===null},print:function(i){var f=t.buildTag("div"),o=i.clone(),r,e,u;f.append(o);r=window.open("","pint","'height=452,width=1024,tabbar=no");r.document.write("<!DOCTYPE html>");e=n("head").find("link");t.browserInfo().name==="msie"?(u="",e.each(function(t,i){n(i).attr("href",i.href);u+=i.outerHTML}),r.document.write("<html><head><\/head><body>"+u+f[0].innerHTML+"<\/body><\/html>")):(u="",r.document.write("<html><head>"),e.each(function(t,i){n(i).attr("href",i.href);u+=i.outerHTML}),r.document.writeln(u+"<\/head><body>"),r.document.writeln(f[0].innerHTML+"<\/body><\/html>"));r.focus();setTimeout(function(){t.isNullOrUndefined(r.window)||(r.print(),r.location.reload(),setTimeout(function(){r.close()},1e3))},1e3)},buildTag:function(t,r,u,f){var s=/^[a-z]*[0-9a-z]+/ig.exec(t)[0],e=/#([a-z]+[-_0-9a-z]+)/ig.exec(t),o;return e=e?e[e.length-1]:i,o=/\.([a-z]+[-_0-9a-z ]+)/ig.exec(t),o=o?o[o.length-1]:i,n(document.createElement(s)).attr(e?{id:e}:{}).addClass(o||"").css(u||{}).attr(f||{}).html(r||"")},_preventDefaultException:function(n,t){if(n)for(var i in t)if(t[i].test(n[i]))return!0;return!1},getMaxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute"||n(t).css("position")=="fixed")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},getDimension:function(t,i){var e,u=n(t).parents().andSelf().filter(":hidden"),r,f;return u&&(r={visibility:"hidden",display:"block"},f=[],u.each(function(){var t={};for(var n in r)t[n]=this.style[n],this.style[n]=r[n];f.push(t)}),e=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),u.each(function(n){var i=f[n];for(var t in r)this.style[t]=i[t]})),e},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||n.support.hasPointer?n.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(n("head"),"data-ej-forceset",!1)?t.getBooleanVal(n("head"),"data-ej-device",this._device()):this._device()},isWindowsWebView:function(){return location.href.indexOf("x-wmapp")!=-1},_device:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},isTouchDevice:function(){return"ontouchstart"in window&&this.isDevice()},getClearString:function(t){return n.trim(t.replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u.toLowerCase()=="true":r},_getSkewClass:function(n,t,i){var h=n.width(),c=n.height(),f=n.offset().left,e=n.offset().left+h,o=n.offset().top,s=n.offset().top+c,r=h*.3,u=c*.3;return t<f+r&&i<o+u?"e-m-skew-topleft":t>e-r&&i<o+u?"e-m-skew-topright":t>e-r&&i>s-u?"e-m-skew-bottomright":t<f+r&&i>s-u?"e-m-skew-bottomleft":t>f+r&&i<o+u&&t<e-r?"e-m-skew-top":t<f+r?"e-m-skew-left":t>e-r?"e-m-skew-right":i>s-u?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){n(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_touchStartPoints:function(n,t){var i=n.touches?n.touches[0]:n;t._distX=0;t._distY=0;t._moved=!1;t._pointX=i.pageX;t._pointY=i.pageY},_isTouchMoved:function(n,t){var i=n.touches?n.touches[0]:n,f=i.pageX-t._pointX,e=i.pageY-t._pointY,o=Date.now(),r,u;return t._pointX=i.pageX,t._pointY=i.pageY,t._distX+=f,t._distY+=e,r=Math.abs(t._distX),u=Math.abs(t._distY),!(r<5&&u<5)},listenEvents:function(n,i,r,u,f){for(var e=0;e<n.length;e++)t.listenTouchEvent(n[e],i[e],r[e],u,f)},listenTouchEvent:function(i,r,u,f,e){for(var o,s=f?"removeEventListener":"addEventListener",l=f?"off":"on",c=n(i),h=0;h<c.length;h++){o=c[h];switch(r){case"touchstart":t._bindEvent(o,s,r,u,"mousedown","MSPointerDown","pointerdown",e);break;case"touchmove":t._bindEvent(o,s,r,u,"mousemove","MSPointerMove","pointermove",e);break;case"touchend":t._bindEvent(o,s,r,u,"mouseup","MSPointerUp","pointerup",e);break;case"touchcancel":t._bindEvent(o,s,r,u,"mousecancel","MSPointerCancel","pointercancel",e);break;case"tap":case"taphold":case"ejtouchmove":n(o)[l](r,u);break;default:o[s](r,u,!0)}}},_bindEvent:function(t,i,r,u,f,e,o){n.support.hasPointer?t[i](window.navigator.pointerEnabled?o:e,u,!0):t[i](r,u,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var i="t,webkitT,MozT,msT,OT".split(","),r,n=0,u=i.length;n<u;n++)if(r=i[n]+"ransform",r in t.styles)return i[n].substr(0,i[n].length-1);return!1},addPrefix:function(n){return t.userAgent()===""?n:(n=n.charAt(0).toUpperCase()+n.substr(1),t.userAgent()+n)},destroyWidgets:function(t){var i=n(t).find("[data-role *= ejm]");i.each(function(t,i){var r=n(i),u=r.data("ejWidgets");u&&r[u]("destroy")})},getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r}};n.extend(t,t.util);t.widgetBase={droppables:{"default":[]},resizables:{"default":[]},_renderEjTemplate:function(n,i){return t.template.render(this,n,i)},destroy:function(){var u,r,f,i;if(!this._trigger("destroy")){this.model.enablePersistence&&this.persistState();try{this._destroy()}catch(e){}for(u=this.element.data("ejWidgets")||[],i=0;i<u.length;i++)u[i]==this.pluginName&&u.splice(i,1);for(u.length||this.element.removeData("ejWidgets");this._events;){if(r=this._events.pop(),f=[],!r)break;for(i=0;i<r[1].length;i++)n.isPlainObject(r[1][i])||f.push(r[1][i]);n.fn.off.apply(r[0],f)}this._events=null;this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName);this.element=null;this.model=null}},_on:function(i){this._events||(this._events=[]);for(var r=[].splice.call(arguments,1,arguments.length-1),u={},f=r.length;u&&typeof u!="function";)u=r[--f];return r[f]=t.proxy(r[f],this),this._events.push([i,r,u,r[f]]),n.fn.on.apply(i,r),this},_off:function(t,i,r,u){var e=this._events,s,o,f,h;if(!e||!e.length)return this;for(typeof r=="function"&&(s=u,u=r,r=s),o=0;o<e.length;o++)if(f=e[o],h=f[0].length&&(!u||f[2]===u)&&f[1][0]===i&&(!r||f[1][1]===r)&&n.inArray(t[0],f[0])>-1,h){n.fn.off.apply(t,u?[i,r,f[3]]:[i,r]);e.splice(o,1);break}return this},_trigger:function(i,r){var f=this.model[i],e,u,o={},s;return(n.extend(o,r),f&&(typeof f=="string"&&(f=t.util.getObject(f,window)),n.isFunction(f)&&(u=t.event(i,this.model,r),e=f.call(this,u),r&&n.extend(r,u),u.cancel||!t.isNullOrUndefined(e))))?e===!1||u.cancel:(s=Boolean(r),r=r||{},r.originalEventType=i,r.type=this.pluginName+i,u=n.Event(r.type,t.event(r.type,this.model,r)),this.element.trigger(u),s&&n.extend(r,u),t.isOnWebForms&&u.cancel==!1&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,r,o),u.cancel)},setModel:function(i,r){var u,o,s,e;if(!this._trigger("modelChange",{changes:i})){for(u in i){if(!r){if(this.model[u]===i[u]){delete i[u];continue}if(n.isPlainObject(i[u])&&(f(this.model[u],i[u]),n.isEmptyObject(i[u])))continue}if(this.dataTypes&&(o=this._isValidModelValue(u,this.dataTypes,i),o!==!0))throw"setModel - Invalid input for property :"+u+" - "+o;this.model.notifyOnEachPropertyChanges&&this.model[u]!==i[u]&&(s={oldValue:this.model[u],newValue:i[u]},i[u]=this._trigger(u+"Change",s)?this.model[u]:s.newValue)}if(!n.isEmptyObject(i)&&(this._setFirst?(e=i.dataSource,e&&delete i.dataSource,n.extend(!0,this.model,i),e&&(this.model.dataSource=e instanceof Array?e.slice():e,i.dataSource=this.model.dataSource),this._setModel&&this._setModel(i)):this._setModel&&this._setModel(i)===!1||n.extend(!0,this.model,i),"enablePersistence"in i))if(i.enablePersistence===!0){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler)}else n(window).off("unload",this._persistHandler)}},option:function(r,u,f){if(!r)return this.model;if(n.isPlainObject(r))return this.setModel(r);if(typeof r=="string"){r=r.replace(/^model\./,"");var e=t.getObject(r,this.model);if(u===i)return e;if(f&&u===t.extensions.modelGUID)return this._setModel(t.createObject(r,t.getObject(r,this.model),{}));if(f||t.getObject(r,this.model)!==u)return this.setModel(t.createObject(r,u,{}),f)}return i},_isValidModelValue:function(n,t,i){var u=t[n],r=i[n],f,e,o;if(!u)return!0;if(typeof u=="string"){if(u=="enum"&&(i[n]=r?r.toString().toLowerCase():r,u="string"),u==="array"){if(r instanceof Array)return!0}else if(u==="data"||typeof r===u)return!0;return"Expected type - "+u}if(r instanceof Array){for(e=0;e<r.length;e++)if(f=this._isValidModelValue(n,t,r[e]),f!==!0)return" ["+e+"] - "+f;return!0}for(o in r)if(f=this._isValidModelValue(o,u,r),f!==!0)return o+" : "+f;return!0},persistState:function(){var n=r({},this.model),i;if(this._ignoreOnPersist)for(i=0;i<this._ignoreOnPersist;i++)delete n[this._ignoreOnPersist[i]];this._persistState&&(n.customPersists={},this._persistState(n.customPersists));window.localStorage?window.localStorage.setItem(this.pluginName+this._id,JSON.stringify(n)):document.cookie&&t.cookie.set(this.pluginName+this._id,n)},restoreState:function(i){var r=null,u;window.localStorage?r=window.localStorage.getItem(this.pluginName+this._id):document.cookie&&(r=t.cookie.get(this.pluginName+this._id));r&&(u=JSON.parse(r),this._restoreState&&(this._restoreState(u.customPersists),delete u.customPersists),this.model=n.extend(!0,this.model,u));!i&&r&&this._setModel&&this._setModel(this.model)}};f=function(t,i){for(var r in t)t[r]===i[r]&&delete i[r],n.isPlainObject(i[r])&&n.isPlainObject(t[r])&&f(t[r],i[r])};t.widget=function(f,s,h){var l,c,a;if(typeof f=="object"){h=s;for(l in f)c=f[l],c instanceof Array&&(h._rootCSS=c[1],c=c[0]),t.widget(l,c,h),f[l]instanceof Array&&(h._rootCSS="");return}a=h._rootCSS||t.getNameSpace(s);h=t.defineClass(s,function(i,u){var y,p,w,c,b,k,d,l,v;if(this.sfType=s,this.pluginName=f,this.instance=o,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},n.extend(this,t.widgetBase),this.dataTypes)for(y in u)if(p=this._isValidModelValue(y,this.dataTypes,u),p!==!0)throw"setModel - Invalid input for property :"+y+" - "+p;for(w=i.data("ejWidgets")||[],w.push(f),i.data("ejWidgets",w),c=0;t.widget.observables&&this.observables&&c<this.observables.length;c++)b=t.getObject(this.observables[c],u),b&&t.createObject(this.observables[c],t.widget.observables.register(b,this.observables[c],this,i),u);if(this.element=i.jquery?i:n(i),this.model=r(!0,{},h.prototype.defaults,u),this.model.keyConfigs=r(this.keyConfigs),this.element.addClass(a+" e-js").data(f,this),this._id=i[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.enablePersistence){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler);this.restoreState(!0)}if(this._init(),typeof this.model.keyConfigs=="object"&&!(this.model.keyConfigs instanceof Array)){k=!1;this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus);for(d in this.model.keyConfigs)if(d!=="focus"){k=!0;break}k&&this._keyPressed&&(l=i,v="keydown",this.keySettings&&(l=this.keySettings.getElement?this.keySettings.getElement()||l:l,v=this.keySettings.event||v),this._on(l,v,function(n){if(this.model.keyConfigs){var t=e.getActionFromCode(this.model.keyConfigs,n.which,n.ctrlKey,n.shiftKey,n.altKey),i={code:n.which,ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};t&&this._keyPressed(t,n.target,i,n)===!1&&n.preventDefault()}}))}this._trigger("create")},h);n.fn[f]=function(r){for(var v,c=0;c<this.length;c++){var l=n(this[c]),e=l.data(f),y=e&&l.hasClass(a),o=null;if(!y){r&&typeof r!="object"?u(f+": methods/properties can be accessed only after plugin creation"):new h(l,r);continue}if(r)if(n.isPlainObject(r))e.setModel(r);else if((r.indexOf("_")===0||t.isNullOrUndefined(o=t.getObject(r,e)))&&r.indexOf("model.")!==0)u(s+": function/property - "+r+" does not exist");else{if(!o||!n.isFunction(o)){if(arguments.length==1)return o;e.option(r,arguments[1]);continue}if(v=o.apply(e,[].splice.call(arguments,1,arguments.length-1)),v!==i)return v}}return this};t.widget.register(f,s,h.prototype)};n.extend(t.widget,function(){var n={},i=function(i,r,f){t.isNullOrUndefined(n[i])||u("ej.widget : The widget named "+i+" is trying to register twice.");n[i]={name:i,className:r,proto:f}};return{register:i,registeredWidgets:n}}());t.widget.destroyAll=function(n){var u,r,t,i;if(n&&n.length)for(u=0;u<n.length;u++)if(r=n.eq(u).data(),t=r.ejWidgets,t&&t.length)for(i=0;i<t.length;i++)r[t[i]]&&r[t[i]].destroy&&r[t[i]].destroy()};t.cookie={get:function(n){var t=RegExp(n+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(n,t,i){typeof t=="object"&&(t=JSON.stringify(t));t=escape(t)+(i==null?"":"; expires="+i.toUTCString());document.cookie=n+"="+t}};e={getActionFromCode:function(n,t,i,r,u){var o,f;i=i||!1;r=r||!1;u=u||!1;for(o in n)if(o!=="focus"&&(f=e.getKeyObject(n[o]),t===f.code&&i==f.isCtrl&&r==f.isShift&&u==f.isAlt))return o;return null},getKeyObject:function(n){var i={isCtrl:!1,isShift:!1,isAlt:!1},t;for(n=n.split("+"),t=0;t<n.length;t++)n[t]==="ctrl"?i.isCtrl=!0:n[t]==="shift"?i.isShift=!0:n[t]==="alt"?i.isAlt=!0:i.code=parseInt(n[t],10);return i}};t.browserInfo=function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n};t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"};t.event=function(t,i,r){return n.extend(r||{},{type:t,model:i,cancel:!1})};t.proxy=function(n,t,i){return!n||typeof n!="function"?null:"bind"in n&&t?i?n.bind(t,i):n.bind(t):function(){var r=i?[i]:[];return r.push.apply(r,arguments),n.apply(t||this,r)}};t.hasStyle=function(n){var r=document.documentElement.style,i,t;if(n in r)return!0;for(i=["ms","Moz","Webkit","O","Khtml"],n=n[0].toUpperCase()+n.slice(1),t=0;t<i.length;t++)if(i[t]+n in r)return!0;return!1};Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1};String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n};r=t.copyObject=function(n,u){var h=2,c,f,s,o,e;for(typeof n!="boolean"&&(h=1),s=[].slice.call(arguments,h),h===1&&(u=n,n=i),o=0;o<s.length;o++)for(e in s[o])(c=u[e],f=s[o][e],f!==i&&c!==f&&s[o]!==f&&u!==f)&&(f instanceof Array?u[e]=o===0&&n?f.slice():f.slice():t.isPlainObject(f)?(u[e]=c||{},n?r(n,u[e],f):r(u[e],f)):u[e]=f);return u};o=function(){return this};t.template={render:function(t,i,r){return i.slice(0,1)!=="#"&&(i=["<div>",i,"<\/div>"].join("")),n(i).render(r)}};t.template.defaults=t.template.render;t.isPlainObject=function(n){if(!n||typeof n!="object"||n.nodeType||jQuery.isWindow(n))return!1;try{if(n.constructor&&!n.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(f){return!1}var r,u=t.support.isOwnLast;for(r in n)if(u)break;return r===i||n.hasOwnProperty(r)};t.util.valueFunction=function(n){return function(r){var u=t.getObject(n,this.model);if(r===i)return typeof u=="function"?u():u;typeof u=="function"?(this["ob.values"][n]=r,u.call(this,r)):t.createObject(n,r,this.model)}};t.util.getVal=function(n){return typeof n=="function"?n():n};t.support={isOwnLast:function(){var n=function(){this.a=1},t;n.prototype.b=1;for(t in new n)return t==="b"}(),outerHTML:function(){return document.createElement("div").outerHTML!==i}()};u=t.throwError=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}};t.extensions={};t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion);$.fn.addAttrs=function(n){var t=$(this);$.each(n,function(n,i){i&&i.specified&&t.attr(i.name,i.value)})};$.fn.removeAttrs=function(n){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,r){r&&r.specified&&n.test(r.name)&&t.removeAttr(r.name)})})};$.fn.removeEmptyAttrs=function(){return this.each(function(){var n=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&i.value===""&&n.removeAttr(i.name)})})};ej.mobUtil={cssUA:ej.userAgent?"-"+ej.userAgent().toLowerCase()+"-":"",transform:ej.addPrefix("transform"),transition:ej.addPrefix("transition"),transitionProperty:ej.addPrefix("transitionProperty"),transformStyle:ej.addPrefix("transformStyle"),transitionDuration:ej.addPrefix("transitionDuration"),transformOrigin:ej.addPrefix("transformOrigin"),transitionTimingFunction:ej.addPrefix("transitionTimingFunction"),transitionDelay:ej.addPrefix("transitionDelay"),ease:{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return Math.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*Math.pow(2,-10*n)*Math.sin((n-t/4)*2*Math.PI/t)+1}}},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||ej.getBooleanVal($("head"),"data-ej-mobile",!1)===!0},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||ej.getBooleanVal($("head"),"data-ej-tablet",!1)===!0},isIOS:function(){return ej.getBooleanVal($("head"),"data-ej-forceset",!1)?ej.getBooleanVal($("head"),"data-ej-ios",this._ios()):this._ios()},isIOS7:function(){return ej.getBooleanVal($("head"),"data-ej-forceset",!1)?ej.getBooleanVal($("head"),"data-ej-ios7",this._ios7()):this._ios7()},isAndroid:function(){return ej.getBooleanVal($("head"),"data-ej-forceset",!1)?ej.getBooleanVal($("head"),"data-ej-android",this._android()):this._android()},setTransition:function(){return ej.isAndroid()?"pop":ej.isWindows()?ej.isMobile()?"turn":"none":"slide"},isLowerAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},getAndroidVersion:function(){return this._android()&&navigator.userAgent.toLowerCase().match(/android\s+([\d\.]+)/)?parseFloat(navigator.userAgent.toLowerCase().match(/android\s+([\d\.]+)/)[1]):!1},isWindows:function(){return ej.getBooleanVal($("head"),"data-ej-forceset",!1)?ej.getBooleanVal($("head"),"data-ej-windows",this._windows()):this._windows()},isFlat:function(){return ej.getBooleanVal($("head"),"data-ej-forceset",!1)?ej.getBooleanVal($("head"),"data-ej-flat",!1):ej.getBooleanVal($("head"),"data-ej-flat",!1)===!0},isLowerResolution:function(){return window.innerWidth<770||ej.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!(typeof Android=="undefined")},hasTheme:function(n){return n.hasClass("e-m-dark")||n.hasClass("e-m-light")||n.hasClass("e-m-default")},setTheme:function(n){n.model.renderMode=="windows"||ej.isMobile()||n.model.theme!="default"||(n.model.theme="auto");var t=ej.getAttrVal($("head"),"data-ej-theme","auto");n.model.theme=n.model.theme=="auto"?t=="auto"?n.model.renderMode=="ios7"||(n.model.renderMode=="android"||n.model.renderMode=="windows")&&!ej.isMobile()?"light":"dark":t:n.model.theme},hasRenderMode:function(n){return n.hasClass("e-m-ios7")||n.hasClass("e-m-android")||n.hasClass("e-m-windows")||n.hasClass("e-m-flat")},setRenderMode:function(n){n.model.renderMode=ej.getAttrVal(n.element,"data-rendermode",n.model.renderMode);n.model.renderMode=="auto"&&(n.model.renderMode=ej.isAndroid()?"android":ej.isIOS()?"ios7":ej.isWindows()?"windows":ej.isFlat()?"flat":"ios7")},getRenderMode:function(){return this.isAndroid()?"android":this.isIOS()?"ios7":this.isWindows()?"windows":this.isFlat()?"flat":"ios7"},isPortrait:function(){var n=document.documentElement;return n&&n.clientWidth/n.clientHeight<1.1},getCurrentPage:function(){return App._renderingPage?App._renderingPage:App.activePage},browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},round:function(n,t,i){return t*(i?Math.ceil(n/t):Math.floor(n/t))},logBase:function(n,t){return Math.log(n)/Math.log(t)},correctRect:function(n,t,i,r){return{X:Math.min(n,i),Y:Math.min(t,r),Width:Math.abs(i-n),Height:Math.abs(r-t)}},measureText:function(n,t,i){var r=document.createElement("DIV"),u;return r.innerHTML=n,i!=null&&(r.style.font=i),r.style.backgroundColor="white",r.style.position="absolute",r.style.top=-100,r.style.left=0,t&&(r.style.maxwidth=t+"px"),document.body.appendChild(r),u={width:r.offsetWidth,height:r.offsetHeight},$(r).remove(),u},getTime:Date.now||(new Date).getTime(),getFontString:function(n){return n==null&&(n={}),n.FontFamily||(n.FontFamily="Arial"),n.FontStyle||(n.FontStyle=0),n.Size||(n.Size="12px"),ej.GetFontStyle(n.FontStyle)+" "+n.Size+" "+n.FontFamily},getFontStyle:function(n){switch(n){case 0:return"Regular";case 1:return"Bold";case 2:return"Italic";case 4:return"Underline";case 8:return"StrikeOut"}},hexFromRGB:function(n){var i=n.R,r=n.G,u=n.B,t=[i.toString(16),r.toString(16),u.toString(16)];return $.each(t,function(n,i){i.length===1&&(t[n]="0"+i)}),t.join("").toUpperCase()},sendAjaxRequest:function(n){$.ajax({type:n.type,cache:n.cache,url:n.url,dataType:n.dataType,data:n.data,contentType:n.contentType,async:n.async,success:n.successHandler,error:n.errorHandler,beforeSend:n.beforeSendHandler,complete:n.completeHandler})},setCaretToPos:function(n,t,i){if(n.setSelectionRange&&n.type!="number")n.focus(),n.setSelectionRange(t,i);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0);r.moveStart("character",t);r.moveEnd("character",i);r.select()}},_momentum:function(n,t,i,r,u){var o=.0006,e=Math.abs(n)/t,f=e*e/(2*o),h=0,s=0;return n>0&&f>i?(s=u/(6/(f/e*o)),i=i+s,e=e*i/f,f=i):n<0&&f>r&&(s=u/(6/(f/e*o)),r=r+s,e=e*r/f,f=r),f=f*(n<0?-1:1),h=e/o,{dist:f,time:Math.round(h)}},_nativeMomentum:function(n,t,i,r,u,f,e){var h=n-t,s=Math.abs(h)/i,o,c;return f=f==null?.0006:f,o=n+s*s/(2*(f/e))*(h<0?-1:1),c=s/f,o<r?(o=u?r-u/2.5*(s/8):r,h=Math.abs(o-n),c=h/s):o>0&&(o=u?u/2.5*(s/8):0,h=Math.abs(n)+o,c=h/s),{dest:Math.round(o),duration:c}},_setHidden:function(){var n=this;this.hidden.each(function(t){var r=n.tmp[t];for(var i in prop)this.style[i]=r[i]})},_removeHidden:function(n){var t=this;this.hidden=$(n).parents().andSelf().filter(":hidden");prop={visibility:"hidden",display:"block"};this.tmp=[];this.hidden.each(function(){var i={};for(var n in prop)i[n]=this.style[n],this.style[n]=prop[n];t.tmp.push(i)})},_transitionTime:function(n,t){n+="ms";t.style[ej.transitionDuration]=n},_slideOutWithoutDuration:function(n,t){ej._transitionTime(0,n);n.style[ej.transform]=t?"translateX(-100%)":"translateX(100%)"},_slideInWithoutDuration:function(n,t){ej._transitionTime(0,n);n.style[ej.transform]=t?"translateX(100%)":"translateX(-100%)"},_slideOutWithDuration:function(n,t){ej._transitionTime(300,n);n.style[ej.transform]=t?"translateX(-100%)":"translateX(100%)"},_slideInWithDuration:function(n,t){ej._transitionTime(300,n);n.style[ej.transform]=t?"translateX(100%)":"translateX(-100%)"},_slide:function(n){ej._transitionTime(300,n);n.style[ej.transform]="translateX(0)"},_device:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_ios:function(){return/(ipad|iphone|ipod touch)/i.test(navigator.userAgent.toLowerCase())&&!this._windows()||ej.getBooleanVal($("head"),"data-ej-ios7",!1)===!0},_ios7:function(){return/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i.test(navigator.userAgent.toLowerCase())&&!this._windows()||ej.getBooleanVal($("head"),"data-ej-ios7",!1)===!0},_android:function(){return/android/i.test(navigator.userAgent.toLowerCase())&&!this._windows()||ej.getBooleanVal($("head"),"data-ej-android",!1)===!0},_windows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())||ej.getBooleanVal($("head"),"data-ej-windows",!1)===!0},_getFontString:function(n,t){return n.model.fontStyle[t.FontStyle]+" "+(t.Size==null?"11px":t.Size)+" "+t.FontFamily},_setScroller:function(n){n._wrpWd=n.element[0].clientWidth;n._scrollerWidth=n.element[0].scrollWidth;n._maxScrollX=n._wrpWd-n._scrollerWidth},_inputTouchStart:function(n,t){var i=n.touches?n.touches[0]:n;t._moved=!1;t._distX=0;t._x=t._x==undefined?t.element[0].scrollLeft:t._x;t._cloned=!1;t._startX=0;t._pointX=i.pageX;t._startTime=ej.getTime()},_inputTouchMove:function(n,t){var u=n.touches?n.touches[0]:n,i=u.pageX-t._pointX,r,f;(i>0&&(t._reverse=!0),t.element[0].scrollLeft==0&&i>0||i>0&&t.element[0].scrollLeft<i||i<0&&t.element[0].scrollLeftMax<=t.element[0].scrollLeft)||(i>0&&t.element[0].scrollLeft+i>t.element[0].scrollLeftMax&&(t._x<0&&(t._x=-t._x),i=-i),r=t._x+i,f=ej.getTime(),t._distX+=i,ej._translateText(t.element,r))},_inputTouchEnd:function(n,t){var r=n.touches?n.changedTouches[0]:n,i=r.pageX-t._pointX,u=i,f=ej.getTime();t._distX+=i;ej._translateText(t.element,t.element[0].scrollLeft);t._x=-t.element[0].scrollLeft},_translateText:function(n,t){n[0].scrollLeft=Math.abs(t)},_setGradientColor:function(n,t,i){var r=n;i.Name||typeof i=="string"?t.addColorStop(0,ej._getColor(i)):$.each(i,function(n,i){t.addColorStop(i.ColorStop!=NaN?i.ColorStop:0,typeof i.Color=="string"?i.Color:ej._getColor(i.Color))})},_pushValue:function(n,t,r){var u=[],r;for(i=0;i<r;i++)u[i]=n[i];for(u[r]=t,r=u.length,i=r;i<=n.length;i++)u[i]=n[i-1];return u}};$.extend(ej,ej.mobUtil);ej.mobile={};ej.mobile.RenderMode={Auto:"auto",IOS7:"ios7",Android:"android",Windows:"windows"};ej.mobile.Theme={Auto:"auto",Dark:"dark",Light:"light"};window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i,r){"use strict";var f,g,nt,p,k,l,u;t.DataManager=function(i,f,e){if(!(this instanceof t.DataManager))return new t.DataManager(i,f,e);i||u("DataManger : a dataSource is required to create Manager");e=e||i.adaptor;typeof e=="string"&&(e=new t[e]);var o=[],s=this;return i instanceof Array?o={json:i,offline:!0}:typeof i=="object"?n.isPlainObject(i)?(i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),o={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:i.offline!==r?i.offline:i.adaptor=="remoteSaveAdaptor"?!1:i.url?!1:!0,requiresFormat:i.requiresFormat}):(i.jquery||yt(i))&&(o={json:this._getJsonFromElement(i),offline:!0,table:i}):typeof i=="string"&&(o={url:i,offline:!1,dataType:"json"}),o.requiresFormat!==r||t.support.cors||(o.requiresFormat=l(o.crossDomain)?!0:o.crossDomain),o.dataType===r&&(o.dataType="json"),this.dataSource=o,this.defaultQuery=f,o.url&&o.offline&&!o.json?(this.isDataAvailable=!1,this.adaptor=e||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(f||t.Query()).done(function(n){s.dataSource.offline=!0;s.isDataAvailable=!0;o.json=n.result;s.adaptor=new t.JsonAdaptor})):this.adaptor=o.offline?new t.JsonAdaptor:new t.ODataAdaptor,o.enableCaching&&(e=new t.CacheAdaptor(this.adaptor,o.timeTillExpiration,o.cachingPageSize)),!o.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(o.jsonp="callback"),this.adaptor=e||this.adaptor,this};t.DataManager.prototype={setDefaultQuery:function(n){this.defaultQuery=n},executeQuery:function(i,f,e,o){var h,s,c;return typeof i=="function"&&(o=e,e=f,f=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),h=n.Deferred(),h.then(f,e,o),s={query:i},this.dataSource.offline||this.dataSource.url==r?k(function(){var n=this.executeLocal(i);s=this._getDeferedArgs(i,n,s);h.resolveWith(this,[s])},this):(c=this.adaptor.processQuery(this,i),t.isNullOrUndefined(c.url)?k(function(){s=this._getDeferedArgs(i,c,s);h.resolveWith(this,[s])},this):this._makeRequest(c,h,s,i)),h.promise()},_getDeferedArgs:function(n,t,i){return n._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=it(n._fromTable,i.result,this),i.getKnockoutModel=rt(i.result),i},executeLocal:function(i){var e,r;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,e=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,s=i._subQuery._lookup,f=i._requiresCount?e.result:e;for(s&&s instanceof Array&&b(i._subQuery._fKey,o,f,s),r=0;r<f.length;r++)f[r][o]instanceof Array&&(f[r]=n.extend({},f[r]),f[r][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(f[r][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(e,this,i)},_makeRequest:function(t,i,r,u){var e=!!u._subQuerySelector,c=s(function(n){r.error=n;i.rejectWith(this,[r])},this),l=s(function(n,t,f,o,s){e||(r.xhr=f,r.count=parseInt(t,10),r.result=n,r.request=o,r.getTableModel=it(u._fromTable,n,this),r.getKnockoutModel=rt(n),r.actual=s,i.resolveWith(this,[r]))},this),a=s(function(t,i){var f=n.Deferred(),s={parent:r},e,o;return u._subQuery._isChild=!0,e=this.adaptor.processQuery(this,u._subQuery,t?this.adaptor.processResponse(t):i),o=this._makeRequest(e,f,s,u._subQuery),f.then(function(n){t&&(b(u._subQuery._fKey,u._subQuery._fromTable,t,n),l(t))},c),o},this),v=w(function(n,t,i,r){n=h.parseJson(n);var f=this.adaptor.processResponse(n,this,u,i,r),o=0;if(u._requiresCount&&(o=f.count,f=f.result),!u._subQuery){l(f,o,i,r,n);return}e||a(f)},this),f=n.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:s(this._beforeSend,this),processData:!1,success:v,error:c},t),o;return f=n.ajax(f),e&&(o=u._subQuerySelector.call(this,{query:u._subQuery,parent:u}),o&&o.length?(f=n.when(f,a(null,o)),f.then(w(function(n,t,i){var r=this.adaptor.processResponse(n[0],this,u,n[2],i[0]),o=0,f;u._requiresCount&&(o=r.count,r=r.result);f=this.adaptor.processResponse(t[0],this,u._subQuery,t[2],i[1]);o=0;u._subQuery._requiresCount&&(o=f.count,f=f.result);b(u._subQuery._fKey,u._subQuery._fromTable,r,f);e=!1;l(r,o,n[2])},this),c)):e=!1),f},_beforeSend:function(n,t){var i,f,r,u;for(this.adaptor.beforeSend(this,n,t),i=this.dataSource.headers,r=0;i&&r<i.length;r++){f=[];for(u in i[r])f.push(u),n.setRequestHeader(u,i[r][u])}},saveChanges:function(t,i,r){var e={url:r,key:i||this.dataSource.key},f=this.adaptor.batchRequest(this,t,e),u;return this.dataSource.offline?f:(u=n.Deferred(),n.ajax(n.extend({beforeSend:s(this._beforeSend,this),success:w(function(n,i,r,f){u.resolveWith(this,this.adaptor.processResponse(n,this,null,r,f,t))},this),fail:function(n){u.rejectWith(this,n)}},f)),u)},insert:function(t,i){var u=this.adaptor.insert(this,t,i),r;return this.dataSource.offline?u:(r=n.Deferred(),n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",processData:!1,beforeSend:s(this._beforeSend,this),success:w(function(n,t,i,u){n=this.adaptor.processResponse(h.parseJson(n),this,null,i,u);r.resolveWith(this,[{record:n,dataManager:this}])},this),error:function(n){r.rejectWith(this,[{error:n,dataManager:this}])}},u)),r.promise())},remove:function(t,i,r){typeof i=="object"&&(i=i[t]);var u=this.adaptor.remove(this,t,i,r);return this.dataSource.offline?u:n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:s(this._beforeSend,this),dataType:"json"},u))},update:function(t,i,r){var u=this.adaptor.update(this,t,i,r);return this.dataSource.offline?u:n.ajax(n.extend({contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:s(this._beforeSend,this)},u))},_getJsonFromElement:function(i){typeof i=="string"&&(i=n(n(i).html()));i=i.jquery?i[0]:i;var r=i.tagName.toLowerCase();return r!=="table"&&u("ej.DataManager : Unsupported htmlElement : "+r),t.parseTable(i)}};var b=function(n,t,i,r){var f,e={},o;for(r.result&&(r=r.result),r.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),f=0;f<r.length;f++)o=e[r[f][n]]||(e[r[f][n]]=[]),o.push(r[f]);for(f=0;f<i.length;f++)i[f][t]=e[i[f][n]]},c={accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},h={parseJson:function(n){var t=typeof n;return t==="string"?n=JSON.parse(n,h.jsonReviver):n instanceof Array?h.iterateAndReviveArray(n):t==="object"&&h.iterateAndReviveJson(n),n},iterateAndReviveArray:function(n){for(var t=0;t<n.length;t++)typeof n[t]=="object"?h.iterateAndReviveJson(n[t]):n[t]=h.parseJson(n[t])},iterateAndReviveJson:function(n){var t;for(var i in n)i.startsWith("__")||(t=n[i],typeof t=="object"?t instanceof Array?h.iterateAndReviveArray(t):h.iterateAndReviveJson(t):n[i]=h.jsonReviver(i,t))},jsonReviver:function(n,t){var u=t,r,i;if(typeof t=="string"){if(r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),r)return new Date(parseInt(r[1]));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=new Date(t),t=="Invalid Date"&&(i=u.split(/[^0-9]/),t=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])))}return t},isJson:function(n){return typeof n[0]=="string"?n:t.parseJSON(n)}};t.isJSON=h.isJson;t.parseJSON=h.parseJson;t.Query=function(n){return(this instanceof t.Query)?(this.queries=[],this._key="",this._fKey="",typeof n=="string"?this._fromTable=n||"":n&&n instanceof Array&&(this._lookup=n),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(n)};t.Query.prototype={key:function(n){return typeof n=="string"&&(this._key=n),this},using:function(n){return n instanceof t.DataManager?(this.dataManagar=n,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(n,i,r,f){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeQuery(this,i,r,f):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(n){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var n=new t.Query;return n.queries=this.queries.slice(0),n._key=this._key,n._isChild=this._isChild,n.dataManagar=this.dataManager,n._fromTable=this._fromTable,n._params=this._params.slice(0),n._expands=this._expands.slice(0),n._sortedColumns=this._sortedColumns.slice(0),n._groupedColumns=this._groupedColumns.slice(0),n._subQuerySelector=this._subQuerySelector,n._subQuery=this._subQuery,n._fKey=this._fKey,n._requiresCount=this._requiresCount,n},from:function(n){return typeof n=="string"&&(this._fromTable=n),this},addParams:function(n,i){return typeof i=="function"||t.isPlainObject(i)?typeof i=="function"&&this._params.push({key:n,fn:i}):this._params.push({key:n,value:i}),this},expand:function(n){return this._expands=typeof n=="string"?[].slice.call(arguments,0):n.slice(0),this},where:function(n,i,r,f){i=(i||t.FilterOperators.equal).toLowerCase();var e=null;return typeof n=="string"?e=new t.Predicate(n,i,r,f):n instanceof t.Predicate?e=n:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:e}),this},search:function(n,i,r,u){i&&typeof i!="boolean"?typeof i=="string"&&(i=[i]):(i=[],u=i);typeof r=="boolean"&&(u=r,r=null);r=r||t.FilterOperators.contains;r.length<3&&(r=t.data.operatorSymbols[r]);var f=t.data.fnOperators[r]||t.data.fnOperators.processSymbols(r);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:r,searchKey:n,ignoreCase:u,comparer:f}}),this},sortBy:function(n,i,r){var o=t.sortOrder.Ascending,s,u,e,f;if(typeof n=="string"&&n.toLowerCase().endsWith(" desc")&&(n=n.replace(/ desc$/i,""),i=t.sortOrder.Descending),typeof i=="boolean"?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:typeof i=="function"&&(o="custom"),i&&typeof i!="string"||(o=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),r)for(s=a(this.queries,"onSortBy"),e=0;e<s.length;e++)if(u=s[e].e.fieldName,typeof u=="string"){if(u===n)return}else if(u instanceof Array)for(f=0;f<u.length;f++)if(u[f]===n||n.toLowerCase()===u[f]+" desc")return;return this.queries.push({fn:"onSortBy",e:{fieldName:n,comparer:i,direction:o}}),this},sortByDesc:function(n){return this.sortBy(n,t.sortOrder.Descending)},group:function(n){return this.sortBy(n,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:n}}),this},page:function(n,t){return this.queries.push({fn:"onPage",e:{pageIndex:n,pageSize:t}}),this},range:function(n,t){return(typeof n!="number"||typeof t!="number")&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:n,end:t}}),this},take:function(n){return typeof n!="number"&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:n}}),this},skip:function(n){return typeof n!="number"&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:n}}),this},select:function(n){return typeof n=="string"&&(n=[].slice.call(arguments,0)),n instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:n}}),this},hierarchy:function(n,i){return n&&n instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),typeof i=="function"&&(this._subQuerySelector=i),this._subQuery=n,this},foreignKey:function(n){return typeof n=="string"&&(this._fKey=n),this},requiresCount:function(){return this._requiresCount=!0,this}};t.Adaptor=function(n){this.dataSource=n;this.pvt={};this.init.apply(this,[].slice.call(arguments,1))};t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where"},init:function(){},extend:function(t){var i=function(t){this.dataSource=t;this.options&&(this.options=n.extend({},this.options));this.init.apply(this,[].slice.call(arguments,0));this.pvt={}},u,r;i.prototype=new this.type;i.prototype.type=i;u=i.prototype.base={};for(r in t)i.prototype[r]&&(u[r]=i.prototype[r]);return n.extend(!0,i.prototype,t),i},processQuery:function(){},processResponse:function(n){return n},convertToQueryString:function(t){return n.param(t)},type:t.Adaptor};t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(n,t,i){var b=a(t.queries,"onSortBy"),nt=a(t.queries,"onGroup"),tt=a(t.queries,"onWhere"),it=a(t.queries,"onSearch"),v=d(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),rt=t._params,k=n.dataSource.url,r,p,w=null,c=this.options,h={sorted:[],grouped:[],filters:[],searches:[]},e,s,y,g;for(v.onPage?(r=v.onPage,p=f(r.pageIndex,t),w=f(r.pageSize,t),p=(p-1)*w):v.onRange&&(r=v.onRange,p=r.start,w=r.end-r.start),s=0;s<b.length;s++)r=f(b[s].e.fieldName,t),h.sorted.push(o(this,"onEachSort",{name:r,direction:b[s].e.direction},t));for(i&&(r=this.getFiltersFrom(i,t),r&&h.filters.push(o(this,"onEachWhere",r.toJSON(),t))),s=0;s<tt.length;s++){h.filters.push(o(this,"onEachWhere",tt[s].e.toJSON(),t));for(y in h.filters[s])l(h[y])&&delete h[y]}for(s=0;s<it.length;s++)r=it[s].e,h.searches.push(o(this,"onEachSearch",{fields:r.fieldNames,operator:r.operator,key:r.searchKey,ignoreCase:r.ignoreCase},t));for(s=0;s<nt.length;s++)h.grouped.push(f(nt[s].e.fieldName,t));for(e={},e[c.from]=t._fromTable,c.expand&&(e[c.expand]=t._expands),e[c.select]=v.onSelect?o(this,"onSelect",f(v.onSelect.fieldNames,t),t):"",e[c.count]=t._requiresCount?o(this,"onCount",t._requiresCount,t):"",e[c.search]=h.searches.length?o(this,"onSearch",h.searches,t):"",e[c.skip]=v.onSkip?o(this,"onSkip",f(v.onSkip.nos,t),t):"",e[c.take]=v.onTake?o(this,"onTake",f(v.onTake.nos,t),t):"",e[c.where]=h.filters.length||h.searches.length?o(this,"onWhere",h.filters,t):"",e[c.sortBy]=h.sorted.length?o(this,"onSortBy",h.sorted,t):"",e[c.group]=h.grouped.length?o(this,"onGroup",h.grouped,t):"",s=0;r=rt[s];s++)e[r.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),e[r.key]=r.value,r.fn&&(e[r.key]=r.fn.call(t,r.key,t,n));for(y in e)(l(e[y])||e[y]===""||e[y].length===0)&&delete e[y];return(c.skip in e&&c.take in e||w===null||(e[c.skip]=o(this,"onSkip",p,t),e[c.take]=o(this,"onTake",w,t)),g=this.pvt,this.pvt={},this.options.requestType==="json")?{data:JSON.stringify(e),url:k,ejPvtData:g,type:"POST",contentType:"application/json; charset=utf-8"}:(r=this.convertToQueryString(e,t,n),{type:"GET",url:r.length?k.replace(/\/*$/,"/"+r):k,ejPvtData:g})},convertToQueryString:function(t,i,r){return r.dataSource.url&&r.dataSource.url.indexOf("?")!==-1?n.param(t):"?"+n.param(t)},processResponse:function(n,i,r,u,f,e){var h=f.ejPvtData||{},l=JSON.parse(f.data),c,o,s;if(l&&l.action==="batch"&&n.added)return e.added=n.added,e;if(n.d&&(n=n.d),h.groups&&h.groups.length){for(c=h.groups,o={},n.count&&(o.count=n.count),n.result&&(n=n.result),s=0;s<c.length;s++)n=t.group(n,c[s]);return o.count?o.result=n:o=n,o}return n},onGroup:function(n){this.pvt.groups=n},batchRequest:function(n,t,i){return{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key})}},beforeSend:function(){},insert:function(n,t,i){return{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},remove:function(n,t,i,r){return{type:"POST",url:n.dataSource.removeUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({key:i,keyColumn:t,table:r,action:"remove"})}},update:function(n,t,i,r){return{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},getFiltersFrom:function(n,i){var r;n instanceof Array&&n.length||u("ej.SubQuery: Array of key values required");var f=i._fKey,e,o=f,s=[],h=typeof n[0]!="object";for(typeof n[0]!="object"&&(o=null),r=0;r<n.length;r++)e=h?n[r]:t.pvt.getObject(o,n[r]),s.push(new t.Predicate(f,"==",e));return t.Predicate.or(s)}});t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(n,i,r){var f,u;t.isNullOrUndefined(n)||(this.cacheAdaptor=n);this.pageSize=r;this.guidId=t.getGuid("cacheAdaptor");f={keys:[],results:[]};window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(f));u=this.guidId;t.isNullOrUndefined(i)||setInterval(function(){for(var e,r=t.parseJSON(window.localStorage.getItem(u)),f=[],n=0;n<r.results.length;n++)r.results[n].timeStamp=new Date-new Date(r.results[n].timeStamp),new Date-new Date(r.results[n].timeStamp)>i&&f.push(n);for(e=f,n=0;n<f.length;n++)r.results.splice(f[n],1),r.keys.splice(f[n],1);window.localStorage.removeItem(u);window.localStorage.setItem(u,JSON.stringify(r))},i)},generateKey:function(n,t){var s=a(t.queries,"onSortBy"),h=a(t.queries,"onGroup"),o=a(t.queries,"onWhere"),c=a(t.queries,"onSearch"),v=a(t.queries,"onPage"),l=d(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),y=t._params,r=n,u,i,f,e;for(r+=l.onPage.pageIndex,s.forEach(function(n){r+=n.e.direction+n.e.fieldName}),h.forEach(function(n){r+=n.e.fieldName}),c.forEach(function(n){r+=n.e.searchKey}),u=0;u<o.length;u++)if(i=o[u],i.e.isComplex){for(f=t.clone(),f.queries=[],e=0;e<i.e.predicates.length;e++)f.queries.push({fn:"onWhere",e:i.e.predicates[e],filter:t.queries.filter});r+=i.e.condition+this.generateKey(n,f)}else r+=i.e.field+i.e.operator+i.e.value;return r},processQuery:function(n,i){var f=this.generateKey(n.dataSource.url,i),r,u;return(window.localStorage&&(r=t.parseJSON(window.localStorage.getItem(this.guidId))),u=r?r.results[r.keys.indexOf(f)]:null,u!=null)?u:this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))},processResponse:function(n,i,r){var n=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0)),f=this.generateKey(i.dataSource.url,r),u={};for(window.localStorage&&(u=t.parseJSON(window.localStorage.getItem(this.guidId))),u.results[u.keys.push(f)-1]={keys:f,result:n.result,timeStamp:new Date,count:n.count};u.results.length>this.pageSize;)u.results.splice(0,1),u.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(u)),n}});var a=function(n,t){return n.filter(function(n){return n.fn===t})||[]},d=function(n,t){for(var r=n.filter(function(n){return t.indexOf(n.fn)!==-1}),u={},i=0;i<r.length;i++)u[r[i].fn]||(u[r[i].fn]=r[i].e);return u},o=function(n,t,i,r){if(n[t]){var u=n[t](i,r);l(u)||(i=u)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(n,t){return n.isComplex?this.onComplexPredicate(n,t):this.onPredicate(n,t)},onPredicate:function(n,i,r){var o="",e=n.operator,u=n.value,s=typeof u,f=this._p(n.field),h;return(u instanceof Date&&(u="datetime'"+pt(u)+"'"),s==="string"&&(u="'"+u+"'",r&&(f="cast("+f+", 'Edm.String')"),n.ignoreCase&&(f="tolower("+f+")",u=u.toLowerCase())),e=t.data.odBiOperator[n.operator],e)?(o+=f,o+=e,o+u):(e=t.data.odUniOperator[n.operator],!e||s!=="string")?"":(e==="substringof"&&(h=u,u=f,f=h),o+=e+"(",o+=f+",",o+(u+")"))},onComplexPredicate:function(n,t){for(var r=[],i=0;i<n.predicates.length;i++)r.push("("+this.onEachWhere(n.predicates[i],t)+")");return r.join(" "+n.condition+" ")},onWhere:function(n){return this.pvt.searches&&n.push(this.onEachWhere(this.pvt.searches,null,!0)),n.join(" and ")},onEachSearch:function(n){var r,i;for(n.fields.length===0&&u("Query() - Search : oData search requires list of field names to search"),r=this.pvt.searches||[],i=0;i<n.fields.length;i++)r.push(new t.Predicate(n.fields[i],n.operator,n.key,n.ignoreCase));this.pvt.searches=r},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(n){var i=[],t;if(n.name instanceof Array)for(t=0;t<n.name.length;t++)i.push(this._p(n.name[t]));else i.push(this._p(n.name)+(n.direction==="descending"?" desc":""));return i.join(",")},onSortBy:function(n){return n.reverse().join(",")},onGroup:function(n){return this.pvt.groups=n,""},onSelect:function(n){for(var t=0;t<n.length;t++)n[t]=this._p(n[t]);return n.join(",")},onCount:function(n){return n===!0?"allpages":""},beforeSend:function(n,t,i){i.url.endsWith(this.options.batch)&&i.type.toLowerCase()==="post"&&(t.setRequestHeader("Accept",c.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined"));n.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,r,u,f,e,o){var y=e&&e.ejPvtData,a,p,k,w,d,c,v,b,s;if(e&&this.options.batch&&e.url.endsWith(this.options.batch)&&e.type.toLowerCase()==="post"){if(a=f.getResponseHeader("Content-Type"),a=a.substring(a.indexOf("=batchresponse")+1),i=i.split(a),i.length<2)return;for(i=i[1],w=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(w[0],""),d=w[1],i=i.split(d),s=i.length;s>-1;s--)/\bContent-ID:/i.test(i[s])&&/\bHTTP.+201/.test(i[s])&&(p=parseInt(/\bContent-ID: (\d+)/i.exec(i[s])[1]),o.added[p]&&(k=h.parseJson(/^\{.+\}/m.exec(i[s])[0]),n.extend(o.added[p],this.processResponse(k))));return o}if(c=f&&f.getResponseHeader("DataServiceVersion"),v=null,c=c&&parseInt(c,10)||2,u&&u._requiresCount&&((i.__count||i["odata.count"])&&(v=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(v=i.__count||i["odata.count"])),c===3&&i.value&&(i=i.value),i.d&&(i=i.d),c<3&&i.results&&(i=i.results),y&&y.groups&&y.groups.length)for(b=y.groups,s=0;s<b.length;s++)i=t.group(i,b[s]);return l(v)?i:{result:i,count:v}},convertToQueryString:function(n,t,i){var r=[],u=n.table||"",f;delete n.table;i.dataSource.requiresFormat&&(n.$format="json");for(f in n)r.push(f+"="+n[f]);return(r=r.join("&"),i.dataSource.url&&i.dataSource.url.indexOf("?")!==-1&&!u)?r:r.length?u+"?"+r:u||""},insert:function(n,t,i){return{url:n.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(n,t,i,r){return{type:"DELETE",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i+")"}},update:function(n,t,i,r){return{type:"PUT",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(n,i,r){var e=r.guid=t.getGuid(c.batchPre),o=n.dataSource.url.replace(/\/*$/,"/"+this.options.batch),f={url:r.url,key:r.key,cid:1,cSet:t.getGuid(c.changeSet)},u="--"+e+"\n";return u+="Content-Type: multipart/mixed; boundary="+f.cSet.replace("--","")+"\n",u+=this.generateInsertRequest(i.added,f),u+=this.generateUpdateRequest(i.changed,f),u+=this.generateDeleteRequest(i.deleted,f),u+=f.cSet+"--\n",u+="--"+e+"--",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+e,data:u}},generateDeleteRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=c.changeSetContent+"\n\n",i+="DELETE ",i+=t.url+"("+n[r][t.key]+") HTTP/1.1\n",i+="Accept: "+c.accept+"\n",i+=c.batchChangeSetContentType+"\n";return i+"\n"},generateInsertRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=c.changeSetContent+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+c.accept+"\n",i+="Content-Id: "+r+"\n",i+=c.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n";return i},generateUpdateRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=c.changeSetContent+"\n\n",i+="PUT ",i+=t.url+"("+n[r][t.key]+") HTTP/1.1\n",i+="Accept: "+c.accept+"\n",i+=c.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n\n";return i},_p:function(n){return n.replace(/\./g,"/")}});t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(n,t){for(var i=n.dataSource.json.slice(0),o=i.length,s=!0,f,u,e=0;e<t.queries.length;e++)u=t.queries[e],f=this[u.fn].call(this,i,u.e,t),i=f!==r?f:i,(u.fn==="onPage"||u.fn==="onSkip"||u.fn==="onTake"||u.fn==="onRange")&&(s=!1),s&&(o=i.length);return t._requiresCount&&(i={result:i,count:o}),i},batchRequest:function(n,t,i){for(var r=0;r<t.added.length;r++)this.insert(n,t.added[r]);for(r=0;r<t.changed.length;r++)this.update(n,i.key,t.changed[r]);for(r=0;r<t.deleted.length;r++)this.remove(n,i.key,t.deleted[r]);return t},onWhere:function(n,t){return n?n.filter(function(n){return t.validate(n)}):n},onSearch:function(n,i){return!n||!n.length?n:(i.fieldNames.length===0&&t.pvt.getFieldList(n[0],i.fieldNames),n.filter(function(n){for(var r=0;r<i.fieldNames.length;r++)if(i.comparer.call(n,t.pvt.getObject(i.fieldNames[r],n),i.searchKey,i.ignoreCase))return!0;return!1}))},onSortBy:function(n,i,r){var o,u,e;if(!n)return n;if(u=f(i.fieldName,r),!u)return n.sort(i.comparer);if(u instanceof Array){for(u=u.slice(0),e=u.length-1;e>=0;e--)u[e]&&(o=i.comparer,u[e].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),u[e]=u[e].replace(" desc","")),n=tt(n,u[e],o));return n}return tt(n,u,i.comparer)},onGroup:function(n,i,r){return n?t.group(n,f(i.fieldName,r)):n},onPage:function(n,t,i){var r=f(t.pageSize,i),u=(f(t.pageIndex,i)-1)*r,e=u+r;return n?n.slice(u,e):n},onRange:function(n,t){return n?n.slice(f(t.start),f(t.end)):n},onTake:function(n,t){return n?n.slice(0,f(t.nos)):n},onSkip:function(n,t){return n?n.slice(f(t.nos)):n},onSelect:function(n,i){return n?t.select(n,f(i.fieldNames)):n},insert:function(n,t){return n.dataSource.json.push(t)},remove:function(n,t,i){var u=n.dataSource.json,r;for(typeof i=="object"&&(i=i[t]),r=0;r<u.length;r++)if(u[r][t]===i)break;return r!==u.length?u.splice(r,1):null},update:function(t,i,r){for(var f=t.dataSource.json,e=r[i],u=0;u<f.length;u++)if(f[u][i]===e)break;return u<f.length?n.extend(f[u],r):null}});t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,batchRequest:function(n,i,r){for(var u=0;u<i.added.length;u++)t.JsonAdaptor.prototype.insert(n,i.added[u]);for(u=0;u<i.changed.length;u++)t.JsonAdaptor.prototype.update(n,r.key,i.changed[u]);for(u=0;u<i.deleted.length;u++)t.JsonAdaptor.prototype.remove(n,r.key,i.deleted[u]);return{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:i.changed,added:i.added,deleted:i.deleted,action:"batch",table:r.url,key:r.key})}}});t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(n,t){return{type:"POST",url:n.dataSource.url,data:JSON.stringify(t)}},remove:function(n,t,i){return{type:"DELETE",url:n.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(n,t,i){return{type:"PUT",url:n.dataSource.url,data:JSON.stringify(i)}},processResponse:function(n,i,r,u,f){var o=f&&f.ejPvtData,e,s,c,h;if(f&&f.type.toLowerCase()!="post"){if(e=u&&u.getResponseHeader("DataServiceVersion"),s=null,e=e&&parseInt(e,10)||2,r&&r._requiresCount&&n.Count&&(s=n.Count),e<3&&n.Items&&(n=n.Items),o&&o.groups&&o.groups.length)for(c=o.groups,h=0;h<c.length;h++)n=t.group(n,c[h]);return l(s)?n:{result:n,count:s}}}});f=function(n,t){return typeof n=="function"?n.call(t||{}):n};t.TableModel=function(i,r,f,e){var c,o,l,h;if(!y(this,t.TableModel))return new t.TableModel(r);for(y(r,Array)||u("ej.TableModel - Json Array is required"),c=[],l=s(st,this),h=0;h<r.length;h++){o=new t.Model(r[h],this);o.state="unchanged";o.on("stateChange",l);e&&o.computes(e);c.push(o)}return this.name=i||"table1",this.rows=t.NotifierArray(c),this._deleted=[],this._events=n({}),this.dataManager=f,this._isDirty=!1,this};t.TableModel.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},setDataManager:function(n){this.dataManagar=n},saveChanges:function(){if(this.dataManager&&y(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var n=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);n.done(s(function(n){for(var t=this.toArray(),i=0;i<t.length;i++)t.state==="added"&&t.set(this.key,n.added.filter(function(n){return n[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this));n.fail(s(function(n){this.rejectChanges();this._events.triggerHandler({type:"reject",table:this,error:n})},this));this._isDirty=!1}},rejectChanges:function(){for(var t=this.toArray(),n=0;n<t.length;n++)t[n].revert(!0);this._isDirty=!1;this._events.triggerHandler({type:"reject",table:this})},insert:function(n){var i=new t.Model(n);i._isDirty=this._isDirty=!0;this.rows.push(i);this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(n){var r;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i=n,t,f=this.key,e=i[f];t=this.rows.array.filter(function(n){return n.get(f)===e});t=t[0];for(r in i)t.set(r,i[r]);this._isDirty=!0;this._events.triggerHandler({type:"update",model:t,table:this})},remove:function(n){var t,i,e,f;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,n&&typeof n=="object"&&(n=n[t]!==r?n[t]:n.get(t)),f=0;f<this.rows.length();f++)if(this.rows.array[f].get(t)===n){i=f;break}i>-1&&(e=this.rows.removeAt(i),e.markDelete(),this._deleted.push({model:e,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:e,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var i={added:[],changed:[]},r=this.toArray(),n=0;n<r.length;n++)i[r[n].state]&&i[r[n].state].push(r[n].json);return i.deleted=t.select(this._deleted,["model"]),i},toArray:function(){return this.rows.toArray()},setDirty:function(n,t){this._isDirty!==!!n&&(this._isDirty=!!n,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(n){return this.rows.array[n]},length:function(){return this.rows.array.length},bindTo:function(t){var i=g,e=n(t.html()),f=this.toArray(),u,r;for(n.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(i=nt),i.insertBefore(t),t.detach().empty(),r=0;r<f.length;r++)u=e.clone(),f[r].bindTo(u),t.append(u);t.insertAfter(i);i.remove()}};g=i?n(document.createElement("div")):{};nt=i?n(document.createElement("tr")):{};t.Model=function(i,r,u){typeof r=="string"&&(u=r,r=null);this.$id=ft("m");this.json=i;this.table=r instanceof t.TableModel?r:null;this.name=u||this.table&&this.table.name;this.dataManager=r instanceof t.DataManager?r:r.dataManagar;this.actual={};this._events=n({});this.isDirty=!1;this.state="added";this._props=[];this._computeEls={};this._fields={};this._attrEls={};this._updates={};this.computed={}};t.Model.prototype={computes:function(t){n.extend(this.computed,t)},on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},set:function(n,t){var i=this.json,e=n,f,u;for(n=n.split("."),u=0;u<n.length-1;u++)n=n[0],i=i[n[0]];this.isDirty=!0;this.changeState("changed",{from:"set"});f=i[n];this.actual[n]!==r||n in this.actual||(this.actual[n]=t);i[n]=t;this._updateValues(n,t);this._events.triggerHandler({type:e,current:t,previous:f,model:this})},get:function(n){return t.pvt.getObject(n,this.json)},revert:function(n){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1;n?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,r){return(i=i||this.dataManagar,r=r||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),this.state==="added")?i.insert(this.json,this.name).done(t.proxy(function(t){n.extend(this.json,t.record)},this)):this.state==="changed"?i.update(r,this.json,this.name):this.state==="deleted"?i.remove(r,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1;this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if(this.state==="added")if(t==="deleted")t="unchanged";else return;var r=t;i=i||{};this.state=t;this._events.triggerHandler(n.extend({type:"stateChange",current:t,previous:r,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var n in this.json)this._props.push(n),this._updates[n]={read:[],input:[]};return this._props},bindTo:function(t){var h=this.properties(),e=n(t),r,i,o=e.find("[ej-observe], [ej-computed], [ej-prop]"),s=o.length,u,f;for(e.data("ejModel",this),u={fields:[],props:[],computes:[]},f=0;f<s;f++){if(r=o.eq(f),i=r.attr("ej-prop"),i&&this._processAttrib(i,r,u),i=r.attr("ej-observe"),i&&this._props.indexOf(i)!==-1){this._processField(r,i,u);continue}if(i=r.attr("ej-computed"),i){this._processComputed(i,r,u);continue}}e.data("ejModelBinding"+this.$id,u)},unbind:function(t){var l=this.properties(),u,r={props:this._attrEls,computes:this._computeEls},f=!1,i,c,e,s,h,o;t&&(r=n(t).removeData("ejModel").data("ejModelBinding"+this.$id)||r,f=!0);for(i in this.computed)u=r.computes[i],i=this.computed[i],u&&i.deps&&(this.off(i.deps.join(" "),u.handle),f&&delete this._computeEls[i]);f||(this._computeEls={});for(i in r.props)u=r.props[i],u&&(this.off(u.deps.join(" "),u.handle),delete r.props[i],f&&delete this._attrEls[i]);if(f||(this._attrEls={}),r.fields&&r.fields.length)for(c=r.fields.length,o=0;o<c;o++)e=r.fields[o],n(e).off("change",null,this._changeHandler),h=this.formElements.indexOf(e.tagName.toLowerCase())!==-1?"input":"read",s=this._updates[h].indexOf(e),s!==-1&&this._updates[h].splice(s,1)},_processComputed:function(n,t,i){if(n){var r,u=[],f=ot(n),e=this.formElements.indexOf(t[0].tagName.toLowerCase())!==-1?"val":"html";this.computed[n]&&this.computed[f]||(this.computed[f]={value:new Function("var e = this; return "+n),deps:this._generateDeps(n)},n=f);r=this.computed[n];r.get||(r.get=function(){r.value.call(this.json)});u=r.deps;r=r.value;this._updateDeps(u);this._updateElement(t,e,r);r={el:t,handle:s(this._computeHandle,this,{value:n,type:e})};this._computeEls[n]=r;i.computes[n]=r;this.on(u.join(" "),r.handle)}},_computeHandle:function(n){var t=this._computeEls[n.value];t&&this.computed[n.value]&&this._updateElement(t.el,n.type,this.computed[n.value].value)},_updateElement:function(t,i,r){t[i](r.call(n.extend({},this.json,this.computed)))},_updateDeps:function(n){for(var i=0;i<n.length;i++)!(n[i]in this.json)&&n[i]in this.computed&&t.merge(n,this.computed[n[i]].deps)},_generateDeps:function(n){for(var r=n.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),t,u=[],i=0;i<r.length;i++)r[i].startsWith("#ej.#")&&(t=r[i].replace("#ej.#","").split(" ")[0],t&&this._props.indexOf(t)!==-1&&u.push(t));return u},_processAttrib:function(n,t,i){var o,u={},r,f,e;for(n=n.replace(/^ +| +$/g,"").split(";"),r=0;r<n.length;r++)(n[r]=n[r].split(":"),n[r].length<2)||(e=n[r][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""),u[e]=n[r][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));n=u;f=[];for(e in n)f.push(n[e]);this._updateDeps(f);this._updateProps(t,n);u=ft("emak");o={el:t,handle:s(this._attrHandle,this,u),value:n,deps:f};t.prop("ejmodelattrkey",u);i.props[u]=o;this._attrEls[u]=o;this.on(f.join(" "),o.handle)},_attrHandle:function(n){var t=this._attrEls[n];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var u=this.json,r,e=this.computed;for(var f in i)r=i[f],r in u?r=u[r]:r in this.computed&&(r=this.computed[r],r&&(r=r.value.call(n.extend({},this.json,this.computed)))),l(r)||t.prop(f,r)},_updateValues:function(n,t){var i=this._updates[n];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,r){if(t)for(var u=t.length-1;u>-1;u--){if(!t[u].offsetParent){t.splice(u,1);continue}n(t[u])[i](r)}},_changeHandler:function(t){t.data.self.set(t.data.prop,n(this).val())},_processField:function(n,t,i){var u={self:this,prop:t},r=this.get(t);if(i.fields.push(n[0]),this.formElements.indexOf(n[0].tagName.toLowerCase())===-1)return n.html(r),this._updates[t].read.push(n[0]);n.val(r).off("change",null,this._changeHandler).on("change",null,u,this._changeHandler);return this._updates[t].input.push(n[0])},formElements:["input","select","textarea"]};var et=/[^\w]+/g,ot=function(n){return n.replace(et,"_")},st=function(n){this.setDirty(!0,n.model)};if(t.Predicate=function(n,i,r,u){return(this instanceof t.Predicate)?(typeof n=="string"?(this.field=n,this.operator=i,this.value=r,this.ignoreCase=u,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(n instanceof t.Predicate&&r instanceof t.Predicate||r instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[n],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r)),this):new t.Predicate(n,i,r,u)},t.Predicate.and=function(){return p._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return p._combinePredicates([].slice.call(arguments,0),"or")},p={_combinePredicates:function(n,i){if(!n.length)return r;if(n.length===1){if(!y(n[0],Array))return n[0];n=n[0]}return new t.Predicate(n[0],i,n.slice(1))},_combine:function(n,i,r,f,e,o){return i instanceof t.Predicate?t.Predicate[e](n,i):typeof i=="string"?t.Predicate[e](n,new t.Predicate(i,r,f,o)):u("Predicate - "+e+" : invalid arguments")}},t.Predicate.prototype={and:function(n,t,i,r){return p._combine(this,n,t,i,"and",r)},or:function(n,t,i,r){return p._combine(this,n,t,i,"or",r)},validate:function(n){var f=this.predicates,r,u,i;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,n),this.value,this.ignoreCase);for(r=this.condition==="and",i=0;i<f.length;i++)if(u=f[i].validate(n),r){if(!u)return!1}else if(u)return!0;return r},toJSON:function(){var t,i,n;if(this.isComplex)for(t=[],i=this.predicates,n=0;n<i.length;n++)t.push(i[n].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:t}}},t.dataUtil={swap:function(n,t,i){if(t!=i){var r=n[t];n[t]=n[i];n[i]=r}},mergeSort:function(n,i,r){return r&&typeof r!="string"||(r=t.pvt.fnSort(r,!0)),typeof i=="function"&&(r=i,i=null),t.pvt.mergeSort(n,i,r)},max:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnDescending)},min:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnAscending)},distinct:function(n,t,i){for(var f=[],r,e={},u=0;u<n.length;u++)r=v(n,t,u),r in e||(f.push(i?n[u]:r),e[r]=1);return f},sum:function(n,t){for(var f=0,i,e=typeof v(n,t,0)!="number",u=0;u<n.length;u++)i=v(n,t,u),i!==r&&(e&&+i&&(i=+i),f+=i);return f},avg:function(n,i){return t.sum(n,i)/n.length},select:function(n,i){for(var u=[],r=0;r<n.length;r++)u.push(t.pvt.extractFields(n[r],i));return u},group:function(n,i,r){var u,o,f,s,e;if(r=r||1,n.GROUPGUID==t.pvt.consts.GROUPGUID){for(u=0;u<n.length;u++)n[u].items=t.group(n[u].items,i,n.level+1),n[u].count=n[u].items.length;return n.childLevels+=1,n}for(o={},f=[],f.GROUPGUID=t.pvt.consts.GROUPGUID,f.level=r,f.childLevels=0,f.records=n,s=0;s<n.length;s++)e=v(n,i,s),o[e]||(o[e]={key:e,count:0,items:[],field:i},f.push(o[e])),o[e].count+=1,o[e].items.push(n[s]);return f},parseTable:function(i,r,u){var o=i.rows,s,a=[],v=[],f,h,c,l,e;if(!o.length)return[];u=u||0;switch((r||"").toLowerCase()){case t.headerOption.tHead:s=i.tHead.rows[u];break;case t.headerOption.row:default:s=i.rows[u]}for(h=s.cells,f=0;f<h.length;f++)a.push(n.trim(h[f].innerHTML));for(f=u+1;f<o.length;f++){for(c={},l=o[f].cells,e=0;e<l.length;e++)c[a[e]]=l[e].innerHTML;v.push(c)}return v}},t.headerOption={tHead:"thead",row:"row"},t.pvt={filterQueries:a,mergeSort:function(n,i,r){if(n.length<=1)return n;var e=parseInt(n.length/2,10),u=n.slice(0,e),f=n.slice(e);return u=t.pvt.mergeSort(u,i,r),f=t.pvt.mergeSort(f,i,r),t.pvt.merge(u,f,i,r)},getItemFromComparer:function(n,t,i){for(var f=v(n,t,0),u,e=n[0],r=1;r<n.length;r++)u=v(n,t,r),i(f,u)>0&&(f=u,e=n[r]);return e},quickSelect:function(n,i,r,u,f,e){if(r==u)return n[r];var o=t.pvt.partition(n,i,r,u,e),s=o-r+1;return s==f?n[o]:f<s?t.pvt.quickSelect(n,i,r,o-1,f,e):t.pvt.quickSelect(n,i,o+1,u,f-s,e)},extractFields:function(n,i){var u={},r;if(i.length==1)return t.pvt.getObject(i[0],n);for(r=0;r<i.length;r++)u[i[r].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[r],n);return u},partition:function(n,i,r,u,f){var e=parseInt((r+u)/2,10),s=v(n,i,e),o;for(t.swap(n,e,u),e=r,o=r;o<u;o++)f(v(n,i,o),s)&&(t.swap(n,o,e),e++);return t.swap(n,e,u),e},fnSort:function(n){return(n=n?n.toLowerCase():t.sortOrder.Ascending,n==t.sortOrder.Ascending)?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(n,i){return function(r,u){return i(t.pvt.getObject(n,r),t.pvt.getObject(n,u))}},fnAscending:function(n,t){return n&&n.localeCompare?n.localeCompare(t):n===r?t===r?0:1:t===r?-1:n-t},fnDescending:function(n,t){return n&&n.localeCompare?n.localeCompare(t)*-1:n===r?t===r?0:-1:t===r?1:t-n},merge:function(n,t,i,r){for(var u=[],f;n.length>0||t.length>0;)f=n.length>0&&t.length>0?r?r(v(n,i,0),v(t,i,0))<1?n:t:n[0][i]<n[0][i]?n:t:n.length>0?n:t,u.push(f.shift());return u},getObject:function(n,t){var i,f,u;if(!t)return r;if(!n)return t;if(n.indexOf(".")===-1)return t[n];for(i=t,f=n.split("."),u=0;u<f.length;u++){if(i==null)break;i=i[f[u]]}return i},createObject:function(n,t,i){for(var f=n.split("."),o=i||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t===r?{}:t:e[f[u]]==null&&(e[f[u]]={}),e=e[f[u]];return o},getFieldList:function(n,i,u){if(u===r&&(u=""),i===r||i===null)return t.pvt.getFieldList(n,[],u);for(var f in n)typeof n[f]!="object"||n[f]instanceof Array?i.push(u+f):t.pvt.getFieldList(n[f],i,u+f+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(n,t,i){return i?e(n)==e(t):n==t},notequal:function(n,i,r){return!t.data.fnOperators.equal(n,i,r)},lessthan:function(n,t,i){return i?e(n)<e(t):n<t},greaterthan:function(n,t,i){return i?e(n)>e(t):n>t},lessthanorequal:function(n,t,i){return i?e(n)<=e(t):n<=t},greaterthanorequal:function(n,t,i){return i?e(n)>=e(t):n>=t},contains:function(n,t,i){return i?!l(n)&&!l(t)&&e(n).indexOf(e(t))!=-1:!l(n)&&!l(t)&&n.toString().indexOf(t)!=-1},notnull:function(n){return n!==null},isnull:function(n){return n===null},startswith:function(n,t,i){return i?n&&t&&e(n).startsWith(e(t)):n&&t&&n.startsWith(t)},endswith:function(n,t,i){return i?n&&t&&e(n).endsWith(e(t)):n&&t&&n.endsWith(t)},processSymbols:function(n){var r=t.data.operatorSymbols[n],i;return r&&(i=t.data.fnOperators[r],i)?i:u("Query - Process Operator : Invalid operator")},processOperator:function(n){var i=t.data.fnOperators[n];return i?i:t.data.fnOperators.processSymbols(n)}},t.NotifierArray=function(i){return y(this,t.NotifierArray)?(this.array=i,this._events=n({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},push:function(n){var t;return t=y(n,Array)?[].push.apply(this.array,n):this.array.push(n),this._raise("add",{item:n,index:this.length()-1}),t},pop:function(){var n=this.array.pop();return this._raise("remove",{item:n,index:this.length()-1}),n},addAt:function(n,t){return this.array.splice(n,0,t),this._raise("add",{item:t,index:n}),t},removeAt:function(n){var t=this.array.splice(n,1)[0];return this._raise("remove",{item:t,index:n}),t},remove:function(n){var t=this.array.indexOf(n);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:n,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(n.extend({type:t},i));this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},n.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(n,t){for(var i=0,r=this.length;i<r;++i)n.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(n){var i,u,t,r;if(typeof n!="function")throw new TypeError;for(i=[],u=arguments[1]||this,t=0;t<this.length;t++)r=this[t],n.call(u,r,t,this)&&i.push(r);return i},String.prototype.endsWith=String.prototype.endsWith||function(n){return this.slice(-n.length)===n},String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n},t.support||(t.support={}),t.support.stableSort=function(){for(var t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),n=0;n<17;n++)if(n!==t[n])return!1;return!0}(),t.support.cors=n.support.cors,!n.support.cors&&window.XDomainRequest){var ht=/^https?:\/\//i,ct=/^get|post$/i,lt=new RegExp("^"+location.protocol,"i"),at=/\/xml/i;n.ajaxTransport("text html xml json",function(n,t){if(n.crossDomain&&n.async&&ct.test(n.type)&&ht.test(t.url)&&lt.test(t.url)){var i=null,u=(t.dataType||"").toLowerCase();return{send:function(f,e){i=new XDomainRequest;/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout);i.ontimeout=function(){e(500,"timeout")};i.onload=function(){var o="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,t={code:200,message:"success"},f={text:i.responseText},n;try{if(u==="json")try{f.json=JSON.parse(i.responseText)}catch(h){t.code=500;t.message="parseerror"}else if(u==="xml"||u!=="text"&&at.test(i.contentType)){n=new ActiveXObject("Microsoft.XMLDOM");n.async=!1;try{n.loadXML(i.responseText)}catch(h){n=r}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){t.code=500;t.message="parseerror";throw"Invalid XML: "+i.responseText;}f.xml=n}}catch(s){throw s;}finally{e(t.code,t.message,f,o)}};i.onerror=function(){e(500,"error",{text:i.responseText})};navigator.userAgent.indexOf("MSIE 9.0")!=-1&&(i.onprogress=function(){});i.open(n.type,n.url);i.send()},abort:function(){i&&i.abort()}}}})}n.support.cors=!0;t.sortOrder={Ascending:"ascending",Descending:"descending"};t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"};k=function(n,t){t&&(n=s(n,t));(window.setImmediate||window.setTimeout)(n,0)};t.support.enableLocalizedSort=!1;var tt=function(n,i,r){return t.support.stableSort?!t.support.enableLocalizedSort&&typeof t.pvt.getObject(i,n[0]||{})=="string"&&(r===t.pvt.fnAscending||r===t.pvt.fnDescending)?vt(n,i,r===t.pvt.fnDescending):n.sort(t.pvt.fnGetComparer(i,r)):t.mergeSort(n,i,r)},vt=function(n,i,r){var u=Object.prototype.toString;Object.prototype.toString=i.indexOf(".")===-1?function(){return this[i]}:function(){return t.pvt.getObject(i,this)};n=n.sort();Object.prototype.toString=u;r&&n.reverse()},e=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString():n===0||n===!1?n.toString():""},v=function(n,i,r){return i?t.pvt.getObject(i,n[r]):n[r]},yt=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&n.nodeType===1&&typeof n=="object"&&typeof n.nodeName=="string"},y=function(n,t){return n instanceof t},it=function(n,i,r,u){return function(f){return typeof f=="object"&&(u=f,f=null),new t.TableModel(f||n,i,r,u)}},rt=function(t){return function(i,r){var o,h,e,f,s;for(r=r||window.ko,r||u("Knockout is undefined"),h=[],s=0;s<t.length;s++){o={};for(e in t[s])e.startsWith("_")||(o[e]=r.observable(t[s][e]));for(e in i)f=i[e],n.isPlainObject(f)?(f.owner||(f.owner=o),f=r.computed(f)):f=r.computed(f,o),o[e]=f;h.push(o)}return r.observableArray(h)}},ut=0,ft=function(n){return ut+=1,n+ut};t.getGuid=function(n){var i="0123456789abcdef",t;return(n||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){return t=Math.random()*16|0,i[r===19?t&3|8:t]})};var w=function(n,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),n.apply(t||this,i)}},s=function(n,t,i){return"bind"in n?i?n.bind(t,i):n.bind(t):function(){var r=i?[i]:[];r.push.apply(r,arguments);n.apply(t||this,r)}},pt=function(n){return n=JSON.parse(JSON.stringify({val:n})).val,n.slice(0)};t.merge=function(n,t){n&&t&&Array.prototype.push.apply(n,t)};l=function(n){return n===r||n===null};u=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}}(window.jQuery,window.Syncfusion,window.document),function(n,t){function k(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n}function c(t,i,r){var u=r.type;r.type=i;n.event.dispatch.call(t,r);r.type=u}function d(n,t){if(t)for(prop in t)prop in n||(n[prop]=t[prop])}function e(n){return n.originalEvent.touches?n.originalEvent.touches[0]:i?n.originalEvent:n}function y(n){var r=i?n.originalEvent.pointerType:n.originalEvent.touches?"touch":"mouse",u=i&&h==t?r==4?"mouse":"touch":r;return n.pointerType=u,n.type!="mousedown"&&n.type!="mouseup"&&d(n,n.originalEvent),n}function o(t,i,r){var o,s,h,u={},e,f;return r&&(f=r.originalEvent.touches?[r.originalEvent.touches[0],t.originalEvent.changedTouches[0]]:[r.originalEvent,t.originalEvent],i._isSwipe||i._isdrag?(o=n.event.special.pinch._getdistance(f[0],f[1]),s=i.time,e={pageX:i.stopPoint.pageX,pageY:i.stopPoint.pageY}):i._isPinch&&(o=n.event.special.pinch.distance(t),s=t.timeStamp-r.timeStamp,h=i._pinchDistance),i._isDelta&&(u._dTime=t.timeStamp-r.timeStamp,u._x=f[1].pageX-f[0].pageX,u._y=f[1].pageY-f[0].pageY)),{options:t,delta:{time:u._dTime||null,X:u._x||null,Y:u._y||null},distance:o,scale:i._isPinch?h:null,time:s,velocity:{XY:o/u._dTime||null,X:u._x/u._dTime||null,Y:u._y/u._dTime||null},currentPosition:{pageX:e?e.pageX:null,pageY:e?e.pageY:null}}}function s(){var n=new Date;return n.getTime()}function l(n){i&&n.css("-ms-touch-action","pinch-zoom").css("touch-action","pinch-zoom")}var v=n(document);n.each("touchstart touchmove touchend tap doubletap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstop scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};n.attrFn&&(n.attrFn[i]=!0)});var i=k().isMSPointerEnabled,h=k().pointerEnabled,a="ontouchstart"in window,g="scroll",u=i?h?"pointerdown":"MSPointerDown":a?"touchstart":"mousedown",f=i?h?"pointerup":"MSPointerUp":a?"touchend":"mouseup",r=i?h?"pointermove":"MSPointerMove":a?"touchmove":"mousemove",p=i?h?"pointercancel":"MSPointerCancel":a?"touchcancel":"mouseleave",nt=i?u:"touchstart mousedown",w=i?f:"touchend mouseup",b=i?r:"touchmove mousemove";n.event.special.ejtouchmove={setup:function(){function s(){}function h(n){if(!(n.which&&n.which!==1)){var f=n.target,u=n.originalEvent;i&&(t={x:u.x,y:u.y});o.bind(r,l)}}function l(n){if(!(n.which&&n.which!==1)){var u=n.target,r=n.originalEvent;d(n,n.originalEvent);(!i||!t||Math.abs(t.x-r.x)>10||Math.abs(t.y-r.y)>10&&i)&&c(e,"ejtouchmove",n)}}var e=this,o=n(e),t;o.bind(u,h);v.bind(f,s);t={}}};n.event.special.swipeupdown={setup:function(){var s=this,i=n(s);l(i);i.bind(u,function(u){function l(n){if(n.preventDefault(),n.stopPropagation(),s){var t=e(n);h={time:(new Date).getTime(),coords:[t.pageX,t.pageY]};Math.abs(s.coords[1]-h.coords[1])>10&&n.preventDefault()}}var a=u,c=e(u),s={time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:n(u.target)},h;i.bind(r,l).one(f,function(u){if(u.preventDefault(),i.unbind(r,l),s&&h&&h.time-s.time<1e3&&Math.abs(s.coords[1]-h.coords[1])>30&&Math.abs(s.coords[0]-h.coords[0])<75){var e={time:h.time-s.time,_isSwipe:!0,_isDelta:!0,stopPoint:h},f=o(u,e,a);s.origin.trigger(n.extend(!0,{type:"swipeupdown"},f)).trigger(n.extend(!0,{type:s.coords[1]>h.coords[1]?"swipeup":"swipedown"},f))}s=h=t})})}};n.event.special.scrollstart={isEnabled:!0,setup:function(){function u(n,r){t=r;c(i,t?"scrollstart":"scrollstop",n)}var i=this,f=n(i),t,r;f.bind(g,function(i){n.event.special.scrollstart.isEnabled&&(t||u(i,!0),clearTimeout(r),r=setTimeout(function(){u(i,!1)},250))})}};n.event.special.tap={doubleTapThreshold:500,tapholdThreshold:750,canDoubleTap:function(t){return s()-t.doubleTapStartTime<=n.event.special.tap.doubleTapThreshold},setup:function(){var u=this,r=n(u),t=r.data();l(r);t.isDoubleTapWait=!1;t.stopProcess=!1;t.preTouchend=null;t.preTouchstart=null;r.bind(nt,function(f){function e(){clearTimeout(o);r.unbind(w,l);r.unbind(p,e);v.unbind(b,h)}function h(n){var t=n,r=f;i?(t=n.originalEvent,r=f.originalEvent):n.type=="touchmove"&&f.type=="touchstart"&&(t=n.originalEvent.changedTouches[0],r=f.originalEvent.changedTouches[0]);t.pageX==r.pageX&&t.pageY==r.pageY||e()}function l(i){i.type=="touchend"&&(t.preTouchend=s());e();a===i.currentTarget&&(c(u,"tap",n.extend(y(i),{time:s()-t.startTime})),t.isDoubleTapWait&&n.event.special.tap.canDoubleTap(t)?(t.isDoubleTapWait=!1,c(u,"doubletap",n.extend(y(i),{time:s()-t.doubleTapStartTime}))):(t.isDoubleTapWait&&(t.isDoubleTapWait=!1,t.doubleTapStartTime=t.startTime),n.event.special.tap.canDoubleTap(t)&&(t.isDoubleTapWait=!0)))}t=r.data();t.startTime=s();t.isDoubleTapWait||(t.doubleTapStartTime=t.startTime);f.type=="touchstart"&&(t.preTouchstart=t.startTime);t.stopProcess=f.type=="mousedown"&&(t.startTime-t.preTouchend<300||t.startTime-t.preTouchstart<30)?!0:!1;var a=f.currentTarget,k=f.originalEvent,o;f.which&&f.which!==1||t.stopProcess?t.stopProcess&&(t.stopProcess=!1):(r.bind(w,l),r.bind(p,e),v.bind(b,h),o=setTimeout(function(){t.isDoubleTapWait&&(t.isDoubleTapWait=!1);c(u,"taphold",n.extend(y(f),{options:k,time:s()-t.startTime}))},n.event.special.tap.tapholdThreshold))})}};n.event.special.swipe={scrollSupression:10,duration:1e3,horizontalDistance:30,verticalDistance:75,pointers:window.navigator.msPointerEnabled,startPoint:function(t){var i=e(t);return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:n(t.target)}},stopPoint:function(n){var t=e(n);return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i,r,u){if(i.time-t.time<n.event.special.swipe.duration&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistance&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistance){var e={time:i.time-t.time,_isSwipe:!0,_isDelta:!0,stopPoint:i},f=o(r,e,u);t.origin.trigger(n.extend(!0,{type:"swipe"},f)).trigger(n.extend(!0,{type:t.coords[0]>i.coords[0]?"swipeleft":"swiperight"},f))}},setup:function(){var e=this,i=n(e);l(i);i.bind(u,function(u){function s(t){e&&(o=n.event.special.swipe.stopPoint(t),Math.abs(e.coords[0]-o.coords[0])>n.event.special.swipe.scrollSupression&&t.preventDefault())}var e=n.event.special.swipe.startPoint(u),o,h=u;n(u.target).data("_dataTouchStart",{event:u,_now:(new Date).getTime()});i.bind(r,s).one(f,function(u){i.unbind(r,s);e&&o&&n.event.special.swipe.handleSwipe(e,o,u,h);e=o=t})})}};n.event.special.pinch={distance:function(t){return t.originalEvent.touches.length<2?null:n.event.special.pinch._getdistance(t.originalEvent.touches[0],t.originalEvent.touches[1])},_getdistance:function(n,t){return Math.sqrt((n.pageX-t.pageX)*(n.pageX-t.pageX)+(n.pageY-t.pageY)*(n.pageY-t.pageY))},setup:function(){var e=this,i=n(e);l(i);i.bind(u,function(u){var h=u;if(u.originalEvent.touches&&u.originalEvent.touches.length>=2){var s=n.event.special.pinch.distance(u),e,v=5,c=s,l,y=o(u,{_isPinch:!0,_pinchDistance:c},h);n(u.target).trigger(n.extend(!0,{type:"pinch"},y));function a(t){l=t;e=n.event.special.pinch.distance(t)||null;s&&e&&Math.abs(s-e)>v&&(n(t.target).trigger(n.extend(!0,{type:s>e?"pinchin":"pinchout"},o(t,{_isPinch:!0,_pinchDistance:c},h))),s=e)}i.bind(r,a).one(f,function(){i.unbind(r,a);n(u.target).trigger(n.extend(!0,{type:"pinchstop"},o(l,{_isPinch:!0,_pinchDistance:e},h)));s=e=t})}})}};n.event.special.touchdrag={setup:function(){var s=this,i=n(s);l(i);i.bind(u,function(u){function c(t){h&&(s=e(t),n.event.special.pinch._getdistance(h,s)>5&&n(t.target).trigger(n.extend(!0,{type:"touchdrag"},o(t,{_isdrag:!0,stopPoint:s,_isDelta:!0},l))))}var h=e(u),s,l=u;n(u.target).data("_dataTouchStart",{event:u,_now:(new Date).getTime()});i.bind(r,c).one(f,function(){i.unbind(r,c);h=s=t})})}};n.each({scrollstop:"scrollstart",doubletap:"tap",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)}}})}(jQuery),function(n,t){t.widget("ejRadialMenuBase","ej.RadialMenuBase",{_initialization:function(){this._svgLink="http://www.w3.org/2000/svg";this._menuItems=n(this.element.children()).clone();n(this.element.children()).remove();this._menuCount=n(this._menuItems.children()).length;this._startXY=this.model.width/2},_createSVGElement:function(){var n=document.createElementNS(this._svgLink,"svg");return this.model.width!=null&&(n.setAttribute("width",this.model.width),n.setAttribute("height",this.model.width)),n},_createGroupElement:function(){return document.createElementNS(this._svgLink,"g")},_createImageElement:function(){return document.createElementNS(this._svgLink,"image")},_createTextElement:function(){return document.createElementNS(this._svgLink,"text")},_createPathElement:function(){return document.createElementNS(this._svgLink,"path")},_createPolygonElement:function(){return document.createElementNS(this._svgLink,"polygon")},_createCircleElement:function(){return document.createElementNS(this._svgLink,"circle")},_calculateRadialArc:function(n,t,i,r,u){for(var a,l,h=0,e=2*Math.PI*h,o=2*Math.PI*(h+1/n),s=.5*t*Math.min(this.model.width,this.model.width),v=i*t*Math.min(this.model.width,this.model.width),c=r*s,y=u*s,p=360/n,w=p/2,b=[],k=[],d=[],g=[],nt=[],tt=[],it=[],rt=[],ut=[],ft=[],et=[],ot=[],st=[],ht=[],f=0;f<n;f++)a=-.5*Math.PI,e=e+a,o=o+a-1e-6,ht[f]=o-e<Math.PI?0:1,l=(e+o)/2,b[f]=this._startXY+s*Math.cos(e),k[f]=this._startXY+s*Math.sin(e),d[f]=this._startXY+s*Math.cos(o),g[f]=this._startXY+s*Math.sin(o),nt[f]=this._startXY+v*Math.cos(l),tt[f]=this._startXY+v*Math.sin(l),it[f]=this._startXY+c*Math.cos(e),rt[f]=this._startXY+c*Math.sin(e),ut[f]=this._startXY+c*Math.cos(o),ft[f]=this._startXY+c*Math.sin(o),et[f]=this._startXY+y*Math.cos(l),ot[f]=this._startXY+y*Math.sin(l),st[f]=w,h+=1/n,e=2*Math.PI*h,o=2*Math.PI*(h+1/n),w+=p;return{x1:b,y1:k,x2:d,y2:g,midx:nt,midy:tt,dStartX:it,dStartY:rt,dEndX:ut,dEndY:ft,dmidx:et,dmidy:ot,deg:st,longArc:ht,radius:s,dradius:c}},_renderRadial:function(){this._radialSVG=this._createSVGElement();this._radialChildSVG=this._createSVGElement();this._radial=t.buildTag("div."+this._prefix+"radial "+this._prefix+"abs "+this.model.imageClass+"").css({left:this._startXY-22+"px",top:this._startXY-22+"px"});this._radialContainer=t.buildTag("div."+this._prefix+"rel").css({height:this.model.width,width:this.model.width});this.element.append(this._radialContainer.append(this._radial)).addClass(""+this._prefix+"radialmenu "+this._prefix+"overlow "+this._prefix+"user-select");this._renderRadialMenu()},_renderRadialMenu:function(){var i,l,k,o,a,v,y,s,e,c;this._childArcGroup=this._createGroupElement();this._childArcGroup.setAttribute("id","childarcgroup");this._polygonGroup=this._createGroupElement();this._polygonGroup.setAttribute("id","polygongroup");this._polygonGroup.setAttribute("transform","translate(-10,-10)");this._radialArcGroup=this._createGroupElement();this._menuItemsGroup=this._createGroupElement();this._menuItemsGroup.setAttribute("id","menuitemsgroup");this._menuItemsGroup.setAttribute("transform","translate(-10,-10)");this._menuItemsArcPaths=this._createGroupElement();this._menuItemsArcPaths.setAttribute("id","menuitemsarcpaths");this._menuItemsPaths=this._createGroupElement();this._radialSVGDiv=t.buildTag("div#radialsvgdiv."+this._prefix+"abs").css("height",this.model.width);this._radialCircleSVGDiv=t.buildTag("div#radialcirclesvgdiv."+this._prefix+"abs "+this._prefix+"displaynone");this._radialChildSVGDiv=t.buildTag("div#radialchildsvgdiv."+this._prefix+"abs "+this._prefix+"displaynone");var r=this._calculateRadialArc(this._menuCount,1,.28,.8,.95),u=this._calculateRadialArc(this._menuCount,.79,null,.97,null),f=this._calculateRadialArc(this._menuCount,.8,null,.3,null),p,w,b;for(i=0;i<this._menuCount;i++){p="M "+r.x1[i]+" "+r.y1[i]+" A "+r.radius+" "+r.radius+" 0 "+r.longArc[i]+" 1 "+r.x2[i]+" "+r.y2[i]+" L "+r.dEndX[i]+" "+r.dEndY[i]+" A "+r.dradius+" "+r.dradius+" 1 "+r.longArc[i]+" 0 "+r.dStartX[i]+" "+r.dStartY[i]+" z";w="M "+u.x1[i]+" "+u.y1[i]+" A "+u.radius+" "+u.radius+" 0 "+u.longArc[i]+" 1 "+u.x2[i]+" "+u.y2[i]+" L "+u.dEndX[i]+" "+u.dEndY[i]+" A "+u.dradius+" "+u.dradius+" 1 "+u.longArc[i]+" 0 "+u.dStartX[i]+" "+u.dStartY[i]+" z";b="M "+f.x1[i]+" "+f.y1[i]+" A "+f.radius+" "+f.radius+" 0 "+f.longArc[i]+" 1 "+f.x2[i]+" "+f.y2[i]+" L "+f.dEndX[i]+" "+f.dEndY[i]+" A "+f.dradius+" "+f.dradius+" 1 "+f.longArc[i]+" 0 "+f.dStartX[i]+" "+f.dStartY[i]+" z";n(n(this._menuItems.children()[i]).find("ul")).length!=0&&(l=this._createPathElement(),l.setAttribute("class",""+this._prefix+"childdefault"),l.setAttribute("index",i),l.setAttribute("d",p),k=r.deg[i]>270?"translate("+(r.dmidx[i]+5)+","+(r.dmidy[i]+15)+")rotate("+r.deg[i]+")":"translate("+(r.dmidx[i]+10)+","+(r.dmidy[i]+10)+")rotate("+r.deg[i]+")",o=this._createPolygonElement(),o.setAttribute("points","10,10 0,10 5,5"),o.setAttribute("index",i),o.setAttribute("fill","#FFFFFF"),o.setAttribute("transform",k),n(this._childArcGroup).append(l),n(this._polygonGroup).append(o));a=this._createPathElement();a.setAttribute("class",""+this._prefix+"default");a.setAttribute("index",i);a.setAttribute("d",p);v=this._createPathElement();v.setAttribute("class",""+this._prefix+"bgcolor");v.setAttribute("index",i);v.setAttribute("d",w);n(this._menuItemsArcPaths).append(v);y=this._createPathElement();y.setAttribute("class",""+this._prefix+"bgcolor");y.setAttribute("index",i);y.setAttribute("d",b);n(this._menuItemsPaths).append(y);n(this._radialArcGroup).append(a);s=this._createGroupElement();s.setAttribute("cursor","context-menu");s.setAttribute("index",i);var h=this._createImageElement(),d=n(this._menuItems.children("li")[i]).attr("data-ej-imagepath"),g=n(this._menuItems.children("li")[i]).attr("data-ej-imagename"),nt=n(this._menuItems.children("li")[i]).attr("data-ej-imageurl"),tt=nt?nt:this.model.renderMode.toLowerCase()!="flat"?d+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+g:d+"/"+this.model.renderMode.toLowerCase()+"/"+g;h.setAttribute("width",20);h.setAttribute("height",20);h.setAttributeNS("http://www.w3.org/1999/xlink","href",tt);h.setAttribute("x",r.midx[i]);h.setAttribute("y",r.midy[i]-10);n(s).append(h);e=this._createTextElement();e.textContent=n(this._menuItems.children("li")[i]).attr("data-ej-text");e.setAttribute("x",r.midx[i]+10);e.setAttribute("y",r.midy[i]+25);e.setAttribute("style","text-anchor: middle;font-size: 12px;font-family: Segoe UI;");e.setAttribute("class",""+this._prefix+"textcolor");n(s).append(e);n(this._menuItemsGroup).append(s)}c=this._createCircleElement();c.setAttribute("cx",this._startXY);c.setAttribute("cy",this._startXY);c.setAttribute("r",this._startXY/3.5);c.setAttribute("class",""+this._prefix+"bgcolor");n(this._radialSVG).append(this._radialArcGroup);this._menuItemsArcGroup=n(this._radialArcGroup).clone();n(this._radialChildSVG).append(this._menuItemsPaths).append(this._menuItemsGroup).append(this._menuItemsArcGroup).append(this._childArcGroup).append(this._polygonGroup).append(this._menuItemsArcPaths).append(c);this._radialContainer.append(this._radialSVGDiv.append(n(this._radialCircleSVGDiv).append(this._radialSVG)).append(n(this._radialChildSVGDiv).append(this._radialChildSVG)));this._arcEnterLeaveHandler=n.proxy(this._arcEnterLeaveHandler,this);this._arcClickHandler=n.proxy(this._arcClickHandler,this);this._menuItemHandler=n.proxy(this._menuItemHandler,this);this._menuItemArcClickHandler=n.proxy(this._menuItemArcClickHandler,this);this._menuItemTouchStartHandler=n.proxy(this._menuItemStartHandler,this);this._menuItemArcTouchStartHandler=n.proxy(this._menuItemArcStartHandler,this);t.listenEvents([n(this._childArcGroup).children(),n(this._childArcGroup).children(),n(this._childArcGroup).children()],["mouseenter","mouseleave",t.tapEvent()],[this._arcEnterLeaveHandler,this._arcEnterLeaveHandler,this._arcClickHandler],!1);t.listenEvents([n(this._polygonGroup).children(),n(this._polygonGroup).children()],["mouseenter",t.tapEvent()],[this._arcEnterLeaveHandler,this._arcClickHandler],!1);t.listenEvents([n(this._menuItemsGroup).children(),n(this._menuItemsGroup).children(),n(this._menuItemsGroup).children()],["mouseenter",t.tapEvent(),t.startEvent()],[this._menuItemHandler,this._menuItemHandler,this._menuItemTouchStartHandler],!1);t.listenEvents([n(this._menuItemsPaths).children(),n(this._menuItemsPaths).children(),n(this._menuItemsPaths).children(),n(this._menuItemsArcGroup).children(),n(this._menuItemsArcGroup).children()],["mouseenter","mouseleave",t.tapEvent(),t.tapEvent(),t.startEvent()],[this._menuItemHandler,this._menuItemHandler,this._menuItemHandler,this._menuItemArcClickHandler,this._menuItemArcTouchStartHandler],!1)},_arcClickHandler:function(i){var s,a,r,v,y,p,h,o,l;this._menuChildSVG=this._createSVGElement();this._radialChildSVGDiv.removeClass(""+this._prefix+"radialshow").addClass(""+this._prefix+"scalehide");this._radialChildAnimate();this._radial.removeClass(this.model.imageClass).addClass(""+this._prefix+"backarrow "+this.model.backImageClass+"");this._index=parseInt(n(i.target).attr("index"));s=n(this._menuItems.children()[this._index]).children();a=n(s.children()).length;this._childItemsGroup=this._createGroupElement();this._childItemsGroup.setAttribute("id","childitemsgroup");this._childItemsGroup.setAttribute("transform","translate(-10,-10)");this._childItemArcGroup=this._createGroupElement();this._childItemsArcPaths=this._createGroupElement();this._childItemsArcPaths.setAttribute("id","childitemsarcpaths");this._childItemsPaths=this._createGroupElement();var w,b,k,u=this._calculateRadialArc(a,1,.28,.8,null),f=this._calculateRadialArc(a,.79,null,.97,null),e=this._calculateRadialArc(a,.8,null,.3,null);for(r=0;r<a;r++){w="M "+u.x1[r]+" "+u.y1[r]+" A "+u.radius+" "+u.radius+" 0 "+u.longArc[r]+" 1 "+u.x2[r]+" "+u.y2[r]+" L "+u.dEndX[r]+" "+u.dEndY[r]+" A "+u.dradius+" "+u.dradius+" 1 "+u.longArc[r]+" 0 "+u.dStartX[r]+" "+u.dStartY[r]+" z";b="M "+f.x1[r]+" "+f.y1[r]+" A "+f.radius+" "+f.radius+" 0 "+f.longArc[r]+" 1 "+f.x2[r]+" "+f.y2[r]+" L "+f.dEndX[r]+" "+f.dEndY[r]+" A "+f.dradius+" "+f.dradius+" 1 "+f.longArc[r]+" 0 "+f.dStartX[r]+" "+f.dStartY[r]+" z";k="M "+e.x1[r]+" "+e.y1[r]+" A "+e.radius+" "+e.radius+" 0 "+e.longArc[r]+" 1 "+e.x2[r]+" "+e.y2[r]+" L "+e.dEndX[r]+" "+e.dEndY[r]+" A "+e.dradius+" "+e.dradius+" 1 "+e.longArc[r]+" 0 "+e.dStartX[r]+" "+e.dStartY[r]+" z";v=this._createPathElement();v.setAttribute("class",""+this._prefix+"default");v.setAttribute("index",r);v.setAttribute("d",w);n(this._childItemArcGroup).append(v);y=this._createPathElement();y.setAttribute("class",""+this._prefix+"bgcolor");y.setAttribute("index",r);y.setAttribute("d",b);n(this._childItemsArcPaths).append(y);p=this._createPathElement();p.setAttribute("class",""+this._prefix+"bgcolor");p.setAttribute("index",r);p.setAttribute("d",k);n(this._childItemsPaths).append(p);h=this._createGroupElement();h.setAttribute("cursor","context-menu");h.setAttribute("index",r);var c=this._createImageElement(),d=n(s.children("li")[r]).attr("data-ej-imagepath"),g=n(s.children("li")[r]).attr("data-ej-imagename"),nt=n(s.children()[r]).attr("data-ej-imageurl"),tt=nt?nt:this.model.renderMode.toLowerCase()!="flat"?d+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+g:d+"/"+this.model.renderMode.toLowerCase()+"/"+g;c.setAttribute("width",20);c.setAttribute("height",20);c.setAttributeNS("http://www.w3.org/1999/xlink","href",tt);c.setAttribute("x",u.midx[r]);c.setAttribute("y",u.midy[r]-10);n(h).append(c);o=this._createTextElement();o.textContent=n(s.children()[r]).attr("data-ej-text");o.setAttribute("x",u.midx[r]+10);o.setAttribute("y",u.midy[r]+25);o.setAttribute("style","text-anchor: middle;font-size: 12px;font-family: Segoe UI;");o.setAttribute("class",""+this._prefix+"textcolor");n(h).append(o);n(this._childItemsGroup).append(h)}l=this._createCircleElement();l.setAttribute("cx",this._startXY);l.setAttribute("cy",this._startXY);l.setAttribute("r",this._startXY/3.5);l.setAttribute("class",""+this._prefix+"bgcolor");this._menuChildSVGDiv=t.buildTag("div#menuchildsvgdiv."+this._prefix+"abs "+this._prefix+"scaleshow");this._radialSVGDiv.append(n(this._menuChildSVGDiv).append(n(this._menuChildSVG).append(this._childItemsPaths).append(this._childItemsGroup).append(this._childItemArcGroup).append(this._childItemsArcPaths).append(l)));this._childItemArcClickHandler=n.proxy(this._childItemArcClickHandler,this);this._childItemHandler=n.proxy(this._childItemHandler,this);this._childItemArcTouchStartHandler=n.proxy(this._childItemArcStartHandler,this);this._childItemTouchStartHandler=n.proxy(this._childItemStartHandler,this);t.listenEvents([n(this._childItemArcGroup).children(),n(this._childItemArcGroup).children(),n(this._childItemsGroup).children(),n(this._childItemsGroup).children(),n(this._childItemsGroup).children(),n(this._childItemsPaths).children(),n(this._childItemsPaths).children(),n(this._childItemsPaths).children()],[t.startEvent(),t.tapEvent(),t.startEvent(),t.tapEvent(),"mouseenter",t.tapEvent(),"mouseleave","mouseenter"],[this._childItemArcTouchStartHandler,this._childItemArcClickHandler,this._childItemTouchStartHandler,this._childItemHandler,this._childItemHandler,this._childItemHandler,this._childItemHandler,this._childItemHandler],!1)},_arcEnterLeaveHandler:function(t){var i=parseInt(n(t.target).attr("index"));t.type=="mouseenter"?t.currentTarget.tagName=="path"?n(t.target).attr("class",""+this._prefix+"active"):n(n("#childarcgroup path[index="+i+"]")).attr("class",""+this._prefix+"active"):t.currentTarget.tagName=="path"?n(t.target).attr("class",""+this._prefix+"childdefault"):n(n("#childarcgroup path[index="+i+"]")).attr("class",""+this._prefix+"childdefault")},_menuItemHandler:function(t){var i=parseInt(n(t.currentTarget).attr("index")),r;t.type=="mouseenter"?n(n("#menuitemsarcpaths path[index="+i+"]")).attr("class",""+this._prefix+"childdefault"):t.type=="mouseleave"?n(n("#menuitemsarcpaths path[index="+i+"]")).attr("class",""+this._prefix+"bgcolor"):(r=t.currentTarget.tagName=="path"?n(n(n(this._menuItemsGroup).children()[i]).children()).text():n(t.currentTarget).text(),this.model[this._endEvent]&&this._trigger(this._endEvent,{text:r,index:i,childIndex:null}),this.model.select&&this._trigger("select",{text:r,index:i,childIndex:null}))},_childItemHandler:function(t){var i=parseInt(n(t.currentTarget).attr("index")),r;t.type=="mouseenter"?n(n("#childitemsarcpaths path[index="+i+"]")).attr("class",""+this._prefix+"childdefault"):t.type=="mouseleave"?n(n("#childitemsarcpaths path[index="+i+"]")).attr("class",""+this._prefix+"bgcolor"):(r=t.currentTarget.tagName=="path"?n(n(n(this._childItemsGroup).children()[i]).children()).text():n(t.currentTarget).text(),this.model[this._endEvent]&&this._trigger(this._endEvent,{text:r,index:this._index,childIndex:i}),this.model.select&&this._trigger("select",{text:r,index:this._index,childIndex:i}))},_childItemArcClickHandler:function(t){var i=parseInt(n(t.target).attr("index")),r=n(n(n(this._childItemsGroup).children()[i]).children("text")).text();this.model[this._endEvent]&&this._trigger(this._endEvent,{text:r,index:this._index,childIndex:i});this.model.select&&this._trigger("select",{text:r,index:this._index,childIndex:i})},_menuItemArcClickHandler:function(t){var i=parseInt(n(t.target).attr("index")),r=n(n(n(this._menuItemsGroup).children()[i]).children("text")).text();this.model[this._endEvent]&&this._trigger(this._endEvent,{text:r,index:i,childIndex:null});this.model.select&&this._trigger("select",{text:r,index:i,childIndex:null})},_menuItemStartHandler:function(t){var i=parseInt(n(t.currentTarget).attr("index")),r=t.currentTarget.tagName=="path"?n(n(n(this._menuItemsGroup).children()[i]).children()).text():n(t.currentTarget).text();this.model[this._startEvent]&&this._trigger(this._startEvent,{text:r,index:i,childIndex:null})},_childItemStartHandler:function(t){var i=parseInt(n(t.currentTarget).attr("index")),r=t.currentTarget.tagName=="path"?n(n(n(this._childItemsGroup).children()[i]).children()).text():n(t.currentTarget).text();this.model[this._startEvent]&&this._trigger(this._startEvent,{text:r,index:this._index,childIndex:i})},_childItemArcStartHandler:function(t){var i=parseInt(n(t.target).attr("index")),r=n(n(n(this._childItemsGroup).children()[i]).children("text")).text();this.model[this._startEvent]&&this._trigger(this._startEvent,{text:r,index:this._index,childIndex:i})},_menuItemArcStartHandler:function(t){var i=parseInt(n(t.target).attr("index")),r=n(n(n(this._menuItemsGroup).children()[i]).children("text")).text();this.model[this._startEvent]&&this._trigger(this._startEvent,{text:r,index:i,childIndex:null})},_setModel:function(){this._refresh()},_refresh:function(){this._destroy();this._init()},_destroy:function(){this.element.removeAttr("class style").children().remove();this.element.append(this._menuItems)}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejNavigationDrawerBase","ej.NavigationDrawerBase",{defaults:{direction:"left",targetId:null,position:"normal",enableListView:!1,listViewSettings:{},type:"overlay",width:"auto",swipe:null,open:null,beforeClose:null},dataTypes:{direction:"enum",type:"enum"},_renderControl:function(){this._elementOverlay=t.buildTag("div#"+this._id+"_Overlay",{},{},{"class":this._rootCSS+" "+this._prefixClass+"nb-layout "+this._prefixClass+"nb-overlay"});this._elementShadow=t.buildTag("div#"+this._id+"_shadow",{},{},{"class":this._rootCSS+" "+this._prefixClass+"nb-shadow "+this._prefixClass+"nb-type-"+(this.model.type=="slide"?"slide":"overlay")});this._elementOverlay.css("z-index",t.getMaxZindex()+1);this.element.css("z-index",t.getMaxZindex()+2);this.element.addClass(this._prefixClass+"user-select");this._nbHome.append(this._elementOverlay);this._elementOverlay.hide();this.element.hide();this.element.addClass(this._prefixClass+"nb-layout "+(this.model.direction.toLowerCase()=="left"?this._prefixClass+"nb-left":this._prefixClass+"nb-right"));this.element.addClass(this._prefixClass+"nb-type-"+(this.model.type=="slide"?"slide":"overlay"));this.element.prepend(this._elementShadow);this._setWidth();this._setLayout()},_transform:function(n,t,i){var r="-"+this._browser+"-transform",u="translate3d("+n+"px,0px,0px) scale(1)",f="-"+this._browser+"-transition-property",e="transform",o="-"+this._browser+"-transition-duration",s=t+"ms";i?(this.element.addClass(""+this._prefixClass+"nb-animate"),this.element.css(r,u).css(f,e).css(o,s)):(this._nbHome.addClass(this._rootCSS+" "+this._prefixClass+"nb-animate"),this._nbHome.css(r,u).css(f,e).css(o,s))},_show:function(){this.element.show();this.element.addClass(""+this._prefixClass+"nb-opened");this.model.direction=="left"?this._transform(n(this.element).width(),400,this._isTransitionElement()):this._transform(-n(this.element).width(),400,this._isTransitionElement());this._elementOverlay.show();this._data={element:this.element};this.model.enableListbox?n.extend(this._data,{listbox:this._lb}):i;this._trigger("open",this._data)},_hide:function(){t.listenTouchEvent(this._isTransitionElement()?this.element:this._nbHome,t.transitionEndEvent(),this._transitionCloseHandler,!1);this.element.removeClass(""+this._prefixClass+"nb-opened");this._transform(0,400,this._isTransitionElement());this._elementOverlay.hide()},_isOpened:function(){return this.element.hasClass(""+this._prefixClass+"nb-opened")},_isOtherOpened:function(){return n("."+this._prefixClass+"nb-opened").length},_isTransitionElement:function(){return this.model.type=="overlay"?!0:!1},_setWidth:function(){n(this._nbHome).width()<500?this.element.css("maxwidth","80%"):this.element.css("maxwidth","40%");this.element.height("100%")},_setLayout:function(){this.element.show();this.model.direction.toLowerCase()=="left"?this.element.offset({left:this._nbHome.offset().left!=0?-(this.element.width()-this._nbHome.offset().left):-this.element.width()}):this.element.offset({left:this._nbHome.offset().left!=0?n(this._nbHome).width()+this._nbHome.offset().left:n(this._nbHome).width()});this.element.hide()},_destroy:function(){this._wireEvents(!0);this._elementOverlay.remove();this._elementShadow.remove();this._elementWrapper&&this.element.unwrap();this.element.removeAttr("class style");this.element.offset({left:0});this._destroyEJMPlugin()},_refresh:function(){this._destroy();this._init()},_createDelegate:function(){this._swipeStartHandler=n.proxy(this._swipeStart,this);this._swipeEndHandler=n.proxy(this._swipeEnd,this);this._swipeMoveHandler=n.proxy(this._swipeMove,this);this._touchMoveHandler=n.proxy(this._touchMove,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._transitionCloseHandler=n.proxy(this._transitionCloseEnd,this);this._targetTouchStartHandler=n.proxy(this._targetTouchStart,this);this._targetTouchMoveHandler=n.proxy(this._targetTouchMove,this);this._targetTouchEndHandler=n.proxy(this._targetTouchEnd,this);this._onOrientationChangeHandler=n.proxy(this._onOrientationChangeEvent,this);this._onResizeEventHandler=n.proxy(this._onResizeEvent,this)},_wireEvents:function(i){var r;this.model.targetId?(r=t.getCurrentPage?t.getCurrentPage():n("body"),t.listenEvents([r.find("#"+this.model.targetId)],[t.endEvent()],[this._targetTouchEndHandler],i)):t.listenEvents([this._nbHome,this._nbHome],[t.startEvent(),t.endEvent()],[this._swipeStartHandler,this._swipeEndHandler],i);t.listenTouchEvent(this._elementOverlay,t.endEvent(),this._targetTouchEndHandler,i);t.isTouchDevice()?t.listenEvents([window,window],["orientationchange","resize"],[this._onOrientationChangeHandler,this._onResizeEventHandler],i):t.listenTouchEvent(window,"resize",this._onResizeEventHandler,i)},_transitionCloseEnd:function(){this.element.hide();t.listenTouchEvent(this._isTransitionElement()?this.element:this._nbHome,t.transitionEndEvent(),this._transitionCloseHandler,!0)},_targetTouchEnd:function(r){r.preventDefault();t.isTouchDevice()&&(r=r.changedTouches[0]);this._isOpened()?(Math.abs(this._relativeX)<50||Math.abs(this._relativeX)<-50)&&r.clientX!=this._startSwipeOffsetActualX?this._show():(this._data={element:this.element},this.model.enableListbox?n.extend(this._data,{listbox:this._lb}):i,this._trigger("beforeclose",this._data),this._hide()):t.isIOS7?t.isIOS7()&&r.target.id!=this.model.targetId||this._isOtherOpened()||this._show():r.target.id==this.model.targetId&&(this._isOtherOpened()||this._show())},_swipeStart:function(n){t.isTouchDevice()&&(n=n.changedTouches[0]);this._startSwipeOffsetX=n.clientX-this._nbHome.offset().left;this._startSwipeOffsetActualX=n.clientX;this._containerX=this._isTransitionElement()?this.element.offset().left:this._nbHome.offset().left;t.listenTouchEvent(this._nbHome,t.moveEvent(),this._swipeMoveHandler,!1)},_swipeMove:function(i){t.isTouchDevice()&&(i=i.changedTouches[0]);var r=this._isOpened()?this._swipeDirection!=this.model.direction.toLowerCase()?!0:!1:!1;this._swipeDirection=this._startSwipeOffsetX&&this._startSwipeOffsetX>i.clientX-this._nbHome.offset().left?"right":"left";r?this._startSwipeOffsetX&&this._isOpened()&&(this._relativeX=i.clientX-this._startSwipeOffsetX,this._relativeY=i.clientY-this._startSwipeOffsetY,n(i.target).hasClass(""+this._prefixClass+"nb-overlay")&&((n.isFunction(t.isIOS7)?t.isIOS7():!1)?(this._hide(),t.listenTouchEvent(this._nbHome,t.moveEvent(),this._swipeMoveHandler,!0)):(this.model.direction=="left"?-this._relativeX<this.element.width():this._relativeX<this.element.width())&&this._transform(this.model.direction=="left"?this.element.width()+this._relativeX-this._nbHome.offset().left:-(this.element.width()-this._relativeX-this._nbHome.offset().left),0,this._isTransitionElement()))):this._swipeDirection!=this.model.direction.toLowerCase()||this._isOtherOpened()?t.listenEvents([this._nbHome,this._nbHome,this._nbHome],[t.moveEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler],!0):t.listenEvents([this._nbHome,this._nbHome,this._nbHome],[t.moveEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler],!1)},_swipeEnd:function(n){t.isTouchDevice()&&(n=n.changedTouches[0]);t.listenTouchEvent(this._nbHome,t.moveEvent(),this._swipeMoveHandler,!0)},_touchMove:function(r){t.isTouchDevice()&&(r=r.changedTouches[0]);t.listenTouchEvent(this._nbHome,t.moveEvent(),this._swipeMoveHandler,!0);this._isTransitionElement()&&(this._containerX=0);this._startSwipeOffsetX&&!this._isOpened()&&(this._relativeX=r.clientX-this._startSwipeOffsetX,this._relativeY=r.clientY-this._startSwipeOffsetY,(this.model.direction=="left"?this._startSwipeOffsetX<50:this._startSwipeOffsetX>this._nbHome.width()-50&&!(n.isFunction(t.isIOS7)?t.isIOS7():!1))?(this.element.show(),(this.model.direction=="left"?this._relativeX-this._nbHome.offset().left<this.element.width():this._relativeX-this._nbHome.offset().left>-this.element.width())&&(!this._containerX||this.model.targetHome?this._transform(this._containerX+this._relativeX-this._nbHome.offset().left,0,this._isTransitionElement()):i)):(n.isFunction(t.isIOS7)?t.isIOS7():!1)&&this._show())},_touchEnd:function(r){t.isTouchDevice()&&(r=r.changedTouches[0]);t.listenTouchEvent(this._nbHome,t.moveEvent(),this._touchMoveHandler,!0);t.listenTouchEvent(this._isTransitionElement()?this.element:this._nbHome,t.transitionEndEvent(),this._transitionCloseHandler,!0);this._isOpened()||(n.isFunction(t.isIOS7)?t.isIOS7():!1)||(this._containerX?this._hide():(this._relativeX=r.clientX-this._startSwipeOffsetX,this._relativeY=r.clientY-this._startSwipeOffsetY,(this.model.direction=="left"?this._startSwipeOffsetX<50:this._startSwipeOffsetX>this._nbHome.width()-50)&&(this._relativeX>30||this._relativeX<-30?this._show():this._hide())));this._data={targetElement:this._nbHome,element:this.element,direction:this._swipeDirection};this.model.enableListbox?n.extend(this._data,{listbox:this._lb}):i;this._trigger("swipe",this._data);t.listenTouchEvent(this._nbHome,t.endEvent(),this._touchEndHandler,!0);t.listenTouchEvent(this._nbHome,"mouseleave",this._touchEndHandler,!0)},_onOrientationChangeEvent:function(){var n;n=this._isOpened()?"opned":"clsed";this.element.show();(window.orientation==0||window.orientation==180||window.orientation==90)&&window.scrollTo(0,0);this._transform(0,0,this._isTransitionElement());this.element.hide();this.element.removeClass(""+this._prefixClass+"nb-opened");this._setWidth();this._setLayout();n=="opned"&&this._show()},_onResizeEvent:function(){var n;n=this._isOpened()?"opned":"clsed";this.element.show();this._transform(0,0,this._isTransitionElement());this.element.hide();this.element.removeClass(""+this._prefixClass+"nb-opened");this._setWidth();this._setLayout();n=="opned"&&this._show()},open:function(){this._show()},close:function(){this._data={element:this.element};this.model.enableListbox?n.extend(this._data,{listbox:this._lb}):i;this._trigger("beforeClose",this._data);this._hide()},toggle:function(){this._isOpened()?this.close():this.open()}})}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("ejListViewBase","ej.ListViewBase",{defaults:{height:null,width:null,selectedItemIndex:-1,enableGroupList:!1,enableAjax:!1,enableCache:!1,enablePersistence:!1,load:null,loadComplete:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,ajaxComplete:null,ajaxSettings:{type:"GET",cache:!1,async:!0,dataType:"html",contentType:"html",url:"",data:{}},renderTemplate:!1,templateId:null,persistSelection:!1,preventSelection:!1,dataBinding:!1,dataSource:[],query:null,showHeader:!1,headerTitle:"Title",headerBackButtonTap:"Back",fieldSettings:{navigateUrl:"navigateUrl",href:"href",enableAjax:"enableAjax",preventSelection:"preventSelection",persistSelection:"persistSelection",text:"text",enableCheckMark:"enableCheckMark",checked:"checked",primaryKey:"primaryKey",parentPrimaryKey:"parentPrimaryKey",imageClass:"imageClass",imageUrl:"imageUrl",childHeaderTitle:"childHeaderTitle",childId:"childId",childHeaderBackButtonText:"childHeaderBackButtonText",renderTemplate:"renderTemplate",templateId:"templateId",touchStart:"touchStart",touchEnd:"touchEnd",attributes:"attributes"},enableFiltering:!1,enableCheckMark:!1},observables:["selectedItemIndex","dataSource"],selectedItemIndex:ej.util.valueFunction("selectedItemIndex"),dataSource:ej.util.valueFunction("dataSource"),_load:function(){if(this._orgEle=this.element.clone(),this._index=0,this._items=[],this._indexVal=0,this.model.id=this.element[0].id,this.model.load&&this._trigger("load"),this.model.fieldSettings=eval(this.model.fieldSettings),this.model.fieldSettings&&this.model.query!=null){var proxy=this;this.dataSource().executeQuery(eval(this.model.query)).done(function(n){proxy.model.dataSource=n.result;proxy._renderControl()})}else this._renderControl()},_renderControl:function(){var f,i,e,o,t,s,n,u,r;if(this.element.addClass(this._prefixClass+"parentlv "),this._lbEle=ej.buildTag("div."+this._rootCSS),this._lbEle.addClass("subpage"),ej.isMobile&&this._lbEle.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme).addClass(ej.isMobile()?"e-m-mobile":"e-m-tablet").addClass(this.model.ios7.inline?"e-m-inline":""),this._lContainer=ej.buildTag("div."+this._prefixClass+"list-container#"+this.model.id+"_container"),n=this.element.find(">ul"),this.model.showHeader&&(f=this._renderHeader(this.model.id,this.model.showHeaderBackButton,this.model.headerTitle,this.model.headerBackButtonText),this._lbEle.prepend(f)),ej.isMobile&&this.model.allowScrolling&&this._renderScrollPanel(this._lbEle,this.model.id+"_scroll",this.model.id+"_container"),this.model.dataBinding&&!this.model.renderTemplate&&this.element.empty(),this.model.renderTemplate&&(this.model.templateId?ej.getCurrentPage().find("#"+this.model.templateId).length&&(this._template=ej.getCurrentPage().find("#"+this.model.templateId),ej.destroyWidgets(this._template),this._template.remove(),this._template=this._template[0].nodeName&&this._template[0].nodeName.toLowerCase()=="script"?ej.getClearString(this._template[0].innerHTML):this._template[0].outerHTML):(ej.destroyWidgets(this.element),this._template=this.element.html(),this.element.empty())),!this.model.renderTemplate||this.model.dataBinding||this.model.enableGroupList){if(!this.model.renderTemplate||this.model.renderTemplate&&this.model.dataBinding||this.model.renderTemplate&&this.model.enableGroupList){if(this.model.enableGroupList){if(this._lContainer.addClass(this._prefixClass+"grouped"),i=ej.buildTag("div."+this._prefixClass+"grouplist"),n=this.element.children(),n.length)for(e=this.model.dataBinding?this.dataSource().length:n.length,t=0;t<e;t++)this.model.dataBinding?(this._items=this.dataSource()[t].items,this.model.renderTemplate?ulItem=n[t]:(ulItem=ej.buildTag("ul"),this._lbEle.append(ulItem))):(this._items=[],ulItem=n[t]),o=this.model.dataBinding?this.dataSource()[t].key:ej.getAttrVal($(ulItem),"data-ej-grouplisttitle","GroupList"+(t+1)),s=ej.buildTag("div."+this._prefixClass+"groupdiv",ej.buildTag("div."+this._prefixClass+"grouptitle",o)),i.append(s.append(this._renderListItems($(ulItem).addClass(this._prefixClass+"grouped"))));else this._template&&(ej.destroyWidgets(this._template),i[0].innerHTML=this._template);this._lContainer.append(i);ej.widget.init&&ej.widget.init(i)}else this.model.dataBinding&&(n=ej.buildTag("ul"),this._items=this.dataSource()),n.length?(ej.destroyWidgets(n),this._lContainer.append(this._renderListItems(n))):this._template&&(ej.destroyWidgets(this._template),this._lContainer[0].innerHTML=this._template);this.element.prepend(this._lbEle);this.model.enableFiltering&&this._createFilterWrapper(this._lbEle);this._lbEle.append(this._lContainer);ej.widget.init&&ej.widget.init(this._lContainer);u=this.element.find("li."+this._prefixClass+"list");u.removeEmptyAttrs();u.find("."+this._prefixClass+"list-anchor").removeEmptyAttrs();ej.widget.init&&ej.widget.init(this._lbEle);r=this.element.find("ul");r.find("li:first").addClass(this._prefixClass+"firstitem");r.find("li:last").addClass(this._prefixClass+"lastitem");this._liEl=this.element.find("li");this.selectedItemIndex()>=0&&!this.model.preventSelection&&this.model.persistSelection&&!ej.getBooleanVal(r[this.selectedItemIndex()],"data-preventselection",this.model.preventSelection)&&ej.getBooleanVal(r[this.selectedItemIndex()],"data-persistselection",this.model.persistSelection)&&(this._currentItem=$(this._liEl[this.selectedItemIndex()]),this._prevItem=this._currentItem,this._currentItem.removeClass(this._prefixClass+"state-default").addClass(this._prefixClass+"state-active"));$(this.element.find("."+this._prefixClass+"lv-check").parent()).addClass(this._prefixClass+"lv-checkdiv");$(this.element.find("."+this._prefixClass+"lv-check").closest("li."+this._prefixClass+"list")).addClass(this._prefixClass+"list-check");$(this.element.find("."+this._prefixClass+"lv-input").closest("."+this._prefixClass+"lv-filter")).addClass(this._prefixClass+"lv-inputdiv");this._wireEvents()}}else this.element.append(this._lbEle.append(this._lContainer)),this._template&&(this._lContainer.append(this._template),ej.widget.init&&ej.widget.init(this._lContainer));this._setHeightWidth();this.model.loadComplete&&this._trigger("loadComplete")},_createFilterWrapper:function(n){var t=this._createFilterDiv(),i=ej.buildTag("a."+this._prefixClass+"lv-anchor",ej.buildTag("span."+this._prefixClass+"input-btn"),{},{Title:"Clear text","data-role":"none"});$(t).append(i);n.append(t)},_renderListItems:function(ul){var proxy=this,ulItems,j;if(ul.addClass(this._prefixClass+"list-hdr "+this._prefixClass+"clearall"),this._liItems=ul.find(">li"),this._liItems.length&&!this.model.dataBinding||this.model.dataBinding){this._renderParentChildTemplate();this.model.dataBinding||this._liItems.each(function(n,t){proxy._generateData(t,null,ej.getAttrVal(t,"data-ej-primarykey",null))});this._items=eval(this._items);var dataMgr=ej.DataManager(this._items),parentItem=dataMgr.executeLocal(ej.Query().from(this._items).where(ej.Predicate(this.model.fieldSettings.parentPrimaryKey,ej.FilterOperators.equal,null)).group(this.model.fieldSettings.parentPrimaryKey)),grouped=dataMgr.executeLocal(ej.Query().from(this._items).where(ej.Predicate(this.model.fieldSettings.parentPrimaryKey,ej.FilterOperators.notEqual,null)).group(this.model.fieldSettings.parentPrimaryKey));if(parentItem[0])for(ul.empty().html($(this.jsRender).render(parentItem[0].items)),grouped.length&&(this.element.append($(this.jsChildRender).render(grouped)),$.each(grouped,function(n,t){var u,r,i;for(ej.widget.init&&ej.widget.init(proxy.element.find("#child"+t.key)),u=proxy.element.find("#child"+t.key).find("ul"),r=u.find("li"),k=0,i=0;i<r.length;i++)grouped[k].items[i]&&grouped[k].items[i].attributes&&$(r[i]).addAttrs(grouped[k].items[i].attributes);k++})),ulItems=ul.find(">li"),j=0;j<ulItems.length;j++)parentItem[0].items[j]&&parentItem[0].items[j].attributes&&$(ulItems[j]).addAttrs(parentItem[0].items[j].attributes)}return this._initEJCheckBox&&this._initEJCheckBox(ul),ul},_renderParentChildTemplate:function(){var t=this._renderLists(),i,n,r;$.views.helpers({_checkAjaxUrls:this._checkAjaxUrl,_checkImgUrls:this._checkImgUrl,_checkIsChecked:this._checkIsCheck,Object:this,ej:ej});this.jsRender=ej.buildTag("script#"+this.model.id+"_Template","",{},{type:"text/x-jsrender"});ej.browserInfo().name=="msie"&&ej.browserInfo().version<10?this.jsRender[0].innerText=t[0].outerHTML.replace(/&gt;/g,">"):this.jsRender[0].innerHTML=t[0].outerHTML.replace(/&gt;/g,">");this.jsChildRender=ej.buildTag("script#"+this.model.id+"_ChildTemplate","",{},{type:"text/x-jsrender"});i=ej.buildTag("ul."+this._prefixClass+"childcontainer "+this._prefixClass+"list-hdr "+this._prefixClass+"clearall");t.addClass(this._prefixClass+"childli");i[0].innerHTML="{{for items}}"+t[0].outerHTML+"{{/for}}";n=ej.buildTag("div."+this._rootCSS+" subpage "+this._prefixClass+"childitem","",{},{id:"{{if key}}child{{>key}}{{else "+this.model.fieldSettings.childId+"}}{{>"+this.model.fieldSettings.childId+"}}{{else}}{{/if}}",style:"display:none"});ej.isMobile&&n.addClass(this._prefixClass+this.model.renderMode+this._prefixClass+this.model.theme+!ej.isMobile()?" e-m-tablet":" e-m-mobile");r=ej.buildTag("div."+this._prefixClass+"list-container","",{},{id:"{{if key}}child{{>key}}{{else "+this.model.fieldSettings.childId+"}}{{>"+this.model.fieldSettings.childId+"}}{{else}}{{/if}}_container"});this.model.showHeader&&n.append(this._renderHeader("{{if key}}child{{>key}}{{else "+this.model.fieldSettings.childId+"}}{{>"+this.model.fieldSettings.childId+"}}{{else}}{{/if}}",!0,"Title"));this.model.enableFiltering&&this._createFilterWrapper(n);n.append(r.append(i));ej.isMobile&&this.model.allowScrolling&&this._renderScrollPanel(n,"{{if key}}child{{>key}}{{else "+this.model.fieldSettings.childId+"}}{{>"+this.model.fieldSettings.childId+"}}{{else}}{{/if}}_scroll","{{if key}}child{{>key}}{{else "+this.model.fieldSettings.childId+"}}{{>"+this.model.fieldSettings.childId+"}}{{else}}{{/if}}_container");ej.browserInfo().name=="msie"&&ej.browserInfo().version<10?this.jsChildRender[0].innerText=n[0].outerHTML.replace(/&gt;/g,">"):this.jsChildRender[0].innerHTML=n[0].outerHTML.replace(/&gt;/g,">")},_renderLists:function(){var n=ej.buildTag("li","",{},{"class":this._prefixClass+"user-select "+this._prefixClass+"list "+this._prefixClass+"state-default{{if "+this.model.fieldSettings.primaryKey+" || "+this.model.fieldSettings.enableAjax+" || "+this.model.enableAjax+"}} "+this._prefixClass+"arrow{{/if}}{{if "+this.model.fieldSettings.imageClass+"}} "+this._prefixClass+"margin{{else}}{{if "+this.model.fieldSettings.imageUrl+"}} "+this._prefixClass+"margin{{/if}}{{/if}}","data-childid":"{{if "+this.model.fieldSettings.primaryKey+"}}child{{>"+this.model.fieldSettings.primaryKey+"}}{{else "+this.model.fieldSettings.childId+"}}{{>"+this.model.fieldSettings.childId+"}}{{else}}{{/if}}","data-childtitle":"{{>"+this.model.fieldSettings.childHeaderTitle+"}}","data-childbackbutton":"{{>"+this.model.fieldSettings.childHeaderBackButtonText+"}}","data-preventSelection":"{{>"+this.model.fieldSettings.preventSelection+"}}","data-persistSelection":"{{>"+this.model.fieldSettings.persistSelection+"}}","data-navigateUrl":"{{>"+this.model.fieldSettings.navigateUrl+"}}","data-loadajax":"{{>"+this.model.fieldSettings.enableAjax+"}}","data-href":"{{>"+this.model.fieldSettings.href+"}}{{:~_checkAjaxUrls()}}","data-check":"{{>"+this.model.fieldSettings.enableCheckMark+"}}","data-templateid":"{{>"+this.model.fieldSettings.renderTemplate+"}}","data-touchstart":"{{>"+this.model.fieldSettings.touchStart+"}}","data-touchend":"{{>"+this.model.fieldSettings.touchEnd+"}}"}),i;if(this.model.renderTemplate)this.model.dataBinding&&this._template&&(n[0].innerHTML=this._template);else{var r=ej.buildTag("a","",{},{"class":this._prefixClass+"list-anchor "+this._prefixClass+"remove-shadow{{if "+this.model.fieldSettings.imageClass+"}} "+this._prefixClass+"margin{{else}}{{if "+this.model.fieldSettings.imageUrl+"}} "+this._prefixClass+"margin{{/if}}{{/if}}{{if "+this.model.fieldSettings.primaryKey+" || "+this.model.fieldSettings.enableAjax+" || "+this.model.enableAjax+"}} "+this._prefixClass+"fontimage{{/if}}",href:"{{>"+this.model.fieldSettings.navigateUrl+"}}"}),u=ej.buildTag("span","{{>"+this.model.fieldSettings.text+"}}",{},{"class":this._prefixClass+"list-text "+this._prefixClass+"rel "+this._prefixClass+"user-select{{if "+this.model.fieldSettings.imageClass+"}} "+this._prefixClass+"text{{else}}{{if "+this.model.fieldSettings.imageUrl+"}} "+this._prefixClass+"text{{/if}}{{/if}}"}),f=ej.buildTag("div","",{},{"class":this._prefixClass+"list-img "+this._prefixClass+"rel "+this._prefixClass+"user-select {{>"+this.model.fieldSettings.imageClass+"}}"}),t=this._createCheckBox();r[0].innerHTML=this.model.renderMode=="windows"&&ej.isMobile()?"{{if !"+this.model.fieldSettings.primaryKey+"}}{{if "+this.model.fieldSettings.enableAjax+" == undefined || "+this.model.fieldSettings.enableAjax+".toString() == 'false'}}{{if !"+this.model.fieldSettings.navigateUrl+"}}{{if "+this.model.fieldSettings.enableCheckMark+" !== undefined}}{{if "+this.model.fieldSettings.enableCheckMark+".toString() == 'false' ? "+this.model.fieldSettings.enableCheckMark+" : "+this.model.enableCheckMark+"}}"+t[0].outerHTML+"{{/if}}{{else}}{{if "+this.model.enableCheckMark+"}}"+t[0].outerHTML+"{{/if}}{{/if}}{{/if}}{{/if}}{{/if}}{{if "+this.model.fieldSettings.imageClass+"}}"+f[0].outerHTML+"{{else}}{{if "+this.model.fieldSettings.imageUrl+"}}{{:~_checkImgUrls()}}{{/if}}{{/if}}"+u[0].outerHTML:"{{if "+this.model.fieldSettings.imageClass+"}}"+f[0].outerHTML+"{{else}}{{if "+this.model.fieldSettings.imageUrl+"}}{{:~_checkImgUrls()}}{{/if}}{{/if}}"+u[0].outerHTML+"{{if !"+this.model.fieldSettings.primaryKey+"}}{{if "+this.model.fieldSettings.enableAjax+" == undefined || "+this.model.fieldSettings.enableAjax+".toString() == 'false'}}{{if !"+this.model.fieldSettings.navigateUrl+"}}{{if "+this.model.fieldSettings.enableCheckMark+" !== undefined}}{{if "+this.model.fieldSettings.enableCheckMark+".toString() == 'false' ? "+this.model.fieldSettings.enableCheckMark+" : "+this.model.enableCheckMark+"}}"+t[0].outerHTML+"{{/if}}{{else}}{{if "+this.model.enableCheckMark+"}}"+t[0].outerHTML+"{{/if}}{{/if}}{{/if}}{{/if}}{{/if}}";n[0].innerHTML="{{if "+this.model.fieldSettings.renderTemplate+" == undefined || "+this.model.fieldSettings.renderTemplate+".toString() == 'false'}}"+r[0].outerHTML+"{{else}}{{:templateId}}{{/if}}"}return this.model.renderMode=="ios7"&&(i=ej.buildTag("div."+this._prefixClass+"list-div"),i[0].innerHTML=n[0].innerHTML,n.empty().append(i)),n},_renderChild:function(n){this._currentItem.attr("data-childid",n);this._currentItem.attr("data-childtitle")||this._currentItem.attr("data-childtitle",this._currentItem.text());this._createListDiv(n);this._div.hide();ej.isMobile&&this._div.addClass(ej.isMobile()?this._prefixClass+"m-mobile":this._prefixClass+"m-tablet");this._container=ej.buildTag("div."+this._prefixClass+"list-container#"+n+"_container");this.element.append(this._div);this.model.allowScrolling&&this._renderScrollPanel(this._div,n+"_scroll",n+"_container")},_checkAjaxUrl:function(){var r=this.data.href,t=this.getRsc("helpers","Object"),i=this.getRsc("helpers","ej"),n;r&&r.indexOf("#")!=-1&&r!="#"?t._storedContent[this.index]?t._storedContent[this.index]&&i.getCurrentPage().find(r).length&&(n=i.getCurrentPage().find(r).remove(),n=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?i.getClearString(n[0].innerHTML):n[0].outerHTML,t._storedContent=i._pushValue(t._storedContent,n,this.index)):(n=i.getCurrentPage().find(r).remove(),t._storedContent[this.index]=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?i.getClearString(n[0].innerHTML):n[0].outerHTML):t._storedContent[this.index]&&(t._storedContent=i._pushValue(t._storedContent,"",this.index))},_checkImgUrl:function(){var n=this.getRsc("helpers","Object"),t=this.data[n.model.fieldSettings.imageUrl];return $.support.pushstate||(t=typeof App=="object"?App.route.makeUrlAbsolute(t,!0):t),"<img src = "+t+" class='"+n._prefixClass+"list-img "+n._prefixClass+"rel "+n._prefixClass+"user-select'/>"},_checkIsCheck:function(){return this.data[this.getRsc("helpers","Object").model.fieldSettings.checked]?!0:!1},_generateData:function(n,t,i){var f=ej.getAttrVal(n,"data-ej-text",$(n).text()),e=null,u=$(n),c=ej.getAttrVal(n,"data-ej-childbuttontext",""),o=ej.getBooleanVal(n,"data-ej-rendertemplate",!1),r,s,h;o&&(ej.getCurrentPage().find("#"+ej.getAttrVal(n,"data-ej-templateid")).length?(r=ej.getCurrentPage().find("#"+ej.getAttrVal(n,"data-ej-templateid")).remove(),this._storedTemplate[this._indexVal]=r[0].nodeName&&r[0].nodeName.toLowerCase()=="script"?ej.getClearString(r[0].innerHTML):r[0].outerHTML):this._storedTemplate[this._indexVal]?this._storedTemplate[this._indexVal]&&ej.getCurrentPage().find("#"+ej.getAttrVal(n,"data-ej-templateid")).length&&(r=ej.getCurrentPage().find("#"+ej.getAttrVal(n,"data-ej-templateid")).remove(),r=r[0].nodeName&&r[0].nodeName.toLowerCase()=="script"?ej.getClearString(r[0].innerHTML):r[0].outerHTML,this._storedTemplate=ej._pushValue(this._storedTemplate,r,this._indexVal)):this._storedTemplate[this._indexVal]=n.innerHTML,this._indexVal++);u.find(">ul").length&&(s=this,e=ej.getAttrVal(n,"data-ej-childtitle",f),h=u.find(">ul").find(">li"),h.each(function(n,t){s._generateData(t,ej.getAttrVal(t,"data-ej-parentkey",i),ej.getAttrVal(t,"data-ej-primarykey",null))}));this._items[this._index]={navigateUrl:ej.getAttrVal(n,"data-ej-navigateUrl",""),href:ej.getAttrVal(n,"data-ej-href",""),enableAjax:ej.getBooleanVal(n,"data-ej-enableAjax",this.model.enableAjax),preventSelection:ej.getBooleanVal(n,"data-ej-preventSelection",this.model.preventSelection),persistSelection:ej.getBooleanVal(n,"data-ej-persistSelection",this.model.persistSelection),text:f,enableCheckMark:ej.getBooleanVal(n,"data-ej-enableCheckMark",this.model.enableCheckMark),checked:ej.getBooleanVal(n,"data-ej-checked",!1),primaryKey:i,parentPrimaryKey:t,imageClass:ej.getAttrVal(n,"data-ej-imageclass",""),imageUrl:ej.getAttrVal(n,"data-ej-imageurl",""),childHeaderTitle:e,childId:ej.getAttrVal(n,"data-ej-childid","page_"+parseInt(Math.random().toFixed(3)*1e3)),childHeaderBackButtonText:c,renderTemplate:o,templateId:this._storedTemplate[this._indexVal-1],touchStart:ej.getAttrVal(n,"data-ej-touchstart",null),touchEnd:ej.getAttrVal(n,"data-ej-touchend",null),attributes:u.removeAttrs(/^data-ej-/)[0].attributes};this._index+=1},_onTouchStartHandler:function(n){ej.isDevice()||ej._preventDefaultException(n.target,this._preventDefaultException)||n.preventDefault&&n.preventDefault();ej.isWindows&&ej.isWindows()&&ej._touchStartPoints(n,this);this._currentItem=$(n.currentTarget);this._scroll=!1;ej.getBooleanVal(this._currentItem,"data-preventSelection",this.model.preventSelection)||this._addSelection();this.model.renderMode!="windows"||this.model.windows.preventSkew||this._currentItem.addClass(ej.isMobile()?ej._getSkewClass($(this._currentItem),n.pageX,n.pageY):this._prefixClass+"m-skew-center");this._triggerStartEvent(this._returnData());ej.listenEvents([this._liEl,this._liEl],[ej.endEvent(),ej.moveEvent(),ej.cancelEvent()],[this._touchEndDelegate,this._touchMoveDelegate,this._touchMoveDelegate]);$(window).bind(ej.endEvent(),this._docClickDelegate)},_onTouchMoveHandler:function(n){(!ej.isWindows||ej.isWindows&&!ej.isWindows()||ej.isWindows&&ej.isWindows()&&ej._isTouchMoved(n,this))&&(this._scroll=!0,ej.getBooleanVal(this._currentItem,"data-persistSelection",this.model.persistSelection)?this._prevItem&&this._prevItem[0]!=this._currentItem[0]&&this._removeSelection():this._removeSelection(),this.model.renderMode!="windows"||this.model.windows.preventSkew||ej._removeSkewClass(this._currentItem))},_onTouchEndHandler:function(n){var u,r,t,i,f;if(this._isFromAjax=!1,ej.getBooleanVal(this._currentItem,"data-persistSelection",this.model.persistSelection)||this._removeSelection(),this.model.renderMode!="windows"||this.model.windows.preventSkew||ej._removeSkewClass(this._currentItem),this._scroll)return this._setCurrent(),this._unbindEvents(n),!1;if(this._scroll)this.model.renderMode!="windows"||ej.isMobile()||this._touchEndEventHandler();else{if(this._currentItem.find("."+this._prefixClass+"lv-check").length&&(u=this._currentItem.find("."+this._prefixClass+"lv-check"),this._toggleCheckboxValue(u)),r=ej.mobile?this._currentItem.attr("data-childbackbutton")==undefined?this._currentItem.closest("."+this._rootCSS+"").find("."+this._prefixClass+"header").length?this._currentItem.closest("."+this._rootCSS+"").find("."+this._prefixClass+"header").ejmHeader("getTitle"):"Back":ej.getAttrVal(this._currentItem,"data-childbackbutton"):this._currentItem.attr("data-childbackbutton")==undefined?this._currentItem.closest("."+this._rootCSS+"").find("."+this._prefixClass+"header").length?this._currentItem.closest("."+this._rootCSS+"").find("."+this._prefixClass+"header ."+this._prefixClass+"htitle").text():"Back":ej.getAttrVal(this._currentItem,"data-childbackbutton"),t=this._currentItem.attr("data-href"),this._currentItem.attr("data-navigateUrl"))this._touchEndEventHandler();else{if(i=this.element.find("[data-ajaxurl='"+this._convertToRelativeUrl(t)+"']"),ej.getBooleanVal(this._currentItem,"data-loadajax",this.model.enableAjax)&&(!this.model.enableCache||i.length==0)){i.length&&i.remove();this.loadAjaxContent(t,r);this._unbindEvents(n);return}t&&t.indexOf("#")!=-1&&($("#"+t.replace("#","")).length||(this._renderChild(ej.getAttrVal(this._currentItem,"data-childid","page_"+parseInt(Math.random().toFixed(3)*1e3))),f=ej.buildTag("div."+this._prefixClass+"content",this._storedContent[this._currentItem.index()]),this._div.append(this._container.append(f)),ej.widget.init&&ej.widget.init(this._div)));this._updateContent(this._currentItem,r);this._touchEndEventHandler()}this._prevItem=this._currentItem}this._unbindEvents(n)},_setCurrent:function(){this._prevItem&&ej.getBooleanVal(this._currentItem,"data-persistSelection",this.model.persistSelection)&&(this._currentItem=this._prevItem,this._currentItem.removeClass(this._prefixClass+"state-default").addClass(this._prefixClass+"state-active"))},_unbindEvents:function(n){n&&n.target.nodeName&&n.target.nodeName.toLowerCase()!="a"&&(this._scroll=!1);ej.listenEvents([this._liEl,this._liEl],[ej.endEvent(),ej.moveEvent(),ej.cancelEvent()],[this._touchEndDelegate,this._touchMoveDelegate,this._touchMoveDelegate],!0)},_addSelection:function(){this._scroll||(this._currentItem.closest("."+this._prefixClass+"list-container").find("."+this._prefixClass+"state-active").removeClass(this._prefixClass+"state-active").addClass(this._prefixClass+"state-default"),this._currentItem.removeClass(this._prefixClass+"state-default").addClass(this._prefixClass+"state-active"))},_removeSelection:function(){var n=this;n._currentItem.removeClass(this._prefixClass+"state-active").addClass(this._prefixClass+"state-default")},_setHeightWidth:function(){if(this.model.autoAdjustHeight)this.element.height(window.innerHeight);else if(this.model.height)this.element.height(this.model.height);else{var n=this.element[0].scrollHeight?this.element[0].scrollHeight:ej.getDimension(this._lbEle.find("."+this._prefixClass+"list-container"),"outerHeight");this.model.showHeader&&(n=n+ej.getDimension(this._lbEle.find("."+this._prefixClass+"header"),"outerHeight"));this.model.enableFiltering&&(n=n+ej.getDimension(this._lbEle.find("."+this._prefixClass+"lv-inputdiv"),"outerHeight"));this.element.height(n)}this.model.width&&this.element.width(this.model.width)},_touchEndEventHandler:function(){this._triggerEndEvent(this._returnData())},_docClick:function(){this._scroll&&this._setCurrent();$(window).unbind(ej.endEvent(),this._docClickDelegate);ej.listenEvents([this._liEl,this._liEl],[ej.endEvent(),ej.moveEvent()],[this._touchEndDelegate,this._touchMoveDelegate],!0)},_popStateNavigation:function(n,t){t.pageUrl&&this.model.enableFiltering&&this._initializeFiltering($("div[data-url='"+t.pageUrl.replace("#","")+"']"))},_anchorClickHandler:function(n){if(this._scroll)return ej.blockDefaultActions(n),!1},_onResize:function(){var n=this;setTimeout(function(){n._setHeightWidth()},ej.isAndroid()?200:0)},_onScrollStop:function(n){ej.blockDefaultActions(n)},_createDelegates:function(){this._anchorClickDelegate=$.proxy(this._anchorClickHandler,this);this._keyup=$.proxy(this._onKeyUp,this);this._touchStartDelegate=$.proxy(this._onTouchStartHandler,this);this._touchEndDelegate=$.proxy(this._onTouchEndHandler,this);this._touchMoveDelegate=$.proxy(this._onTouchMoveHandler,this);this._resizeDelegate=$.proxy(this._onResize,this);this._popStateDelegate=$.proxy(this._popStateNavigation,this);this._docClickDelegate=$.proxy(this._docClick,this)},_wireEvents:function(n){var t,i;this._createDelegates();t=n?"unbind":"bind";this.model.autoAdjustHeight&&(i=!ej.isDevice()&&!ej.isTouchDevice()?"resize":"orientationchange",ej.listenEvents([window],[i],[this._resizeDelegate],n));ej.listenEvents([this._liEl.find("a"),this.element.find("."+this._prefixClass+"lv-input"),this._liEl,this._liEl],["click","keyup",ej.startEvent(),ej.cancelEvent()],[this._anchorClickDelegate,this._keyup,this._touchStartDelegate,this._touchMoveDelegate],n);this._lContainer.on("scrollstop",$.proxy(this._onScrollStop,this));$("body")[t]("viewpopstate",this._popStateDelegate);this.model.enableFiltering&&this._initializeFiltering(this._lbEle)},_initializeFiltering:function(n){var i,t;for(this._searchItems=$(n).find("."+this._prefixClass+"list"),this._emptyFilterTextValue(n),n.find("."+this._prefixClass+'list[style*="display: none"]').show(),i="a",this._elementText=[],t=0;t<this._searchItems.length;t++)$(this._searchItems[t]).find(i)?this._elementText.push($.trim($(this._searchItems[t]).find(i).html().replace(new RegExp("<[^<]+>","g"),"").toLowerCase())):this._elementText.push("")},_onKeyUp:function(n){for(var t=0;t<this._searchItems.length;t++)this._elementText[t].indexOf(n.target.value)==-1?$(this._searchItems[t]).css("display","none"):$(this._searchItems[t]).css("display","")},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setTheme:function(n){if(n&&(this.model.theme=n,this._lbEle.removeClass("e-m-dark e-m-light e-default").addClass("e-m-"+this.model.theme),this.model.enableFiltering&&this.element.find("."+this._prefixClass+"text-input").ejmTextBox("model.theme",this.model.theme),this.model.showHeader&&this._lbEle.find("#"+this.model.id+"_header").ejmHeader("model.theme",this.model.theme),this.element.find("."+this._prefixClass+"childitem").length)){$(this.element.find("."+this._prefixClass+"childitem")).removeClass("e-m-dark e-m-light e-default").addClass("e-m-"+this.model.theme);var t=this.element.find("."+this._prefixClass+"childitem ."+this._prefixClass+"header"),i=this;t.each(function(n,t){$(t).ejmHeader("model.theme",i.model.theme)})}},_setDataSource:function(n,t){this.model.dataBinding&&n&&(this.dataSource(n),t&&(this.model.fieldSettings=t),this._refresh())},_getElement:function(n){return n?this.element.find("#"+n):this._lbEle},_isEnable:function(n){return n.hasClass(this._prefixClass+"state-disabled")?!1:!0},_refresh:function(){this._destroy();this.element.addClass(this._rootCSS);this._load()},_clearElement:function(){this.element.removeAttr("class");this.element.empty().html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()},loadAjaxContent:function(n,t){var i=this,r,u;this._isFromAjax=!0;this._renderChild(ej.getAttrVal(this._currentItem,"data-childid","page_"+parseInt(Math.random().toFixed(3)*1e3)));(!$.support.pushstate||ej.isWindowsWebView())&&(n=App.route.makeUrlAbsolute(n));r={content:i._div,item:i._currentItem,index:$(i._currentItem).index(),text:$(i._currentItem).text(),url:i.model.ajaxSettings.url?i.model.ajaxSettings.url:n};this.model.ajaxBeforeLoad&&this._trigger("ajaxBeforeLoad",r);u={cache:i.model.ajaxSettings.cache,async:i.model.ajaxSettings.async,type:i.model.ajaxSettings.type,contentType:i.model.ajaxSettings.contentType,url:ej.isWindowsWebView()?n:i.model.ajaxSettings.url?i.model.ajaxSettings.url:n,dataType:i.model.ajaxSettings.dataType,data:i.model.ajaxSettings.data,successHandler:function(r){var f=ej.buildTag("div."+this._prefixClass+"content",/<\/?body[^>]*>/gmi.test(r)?r.split(/<\/?body[^>]*>/gmi)[1]:r||""),u;i._div.append(i._container.append(f));i._div.attr("data-ajaxurl",App.route.convertToRelativeUrl(n));i._updateContent(i._currentItem,t);u={content:i._div,item:i._currentItem,index:$(i._currentItem).index(),text:$(i._currentItem).text(),url:i.model.ajaxSettings.url?i.model.ajaxSettings.url:n};i.model.ajaxSuccess&&i._trigger("ajaxSuccess",u)},errorHandler:function(t,r,u){var f={xhr:t,textStatus:r,errorThrown:u,item:i._currentItem,index:$(i._currentItem).index(),text:$(i._currentItem).text(),url:i.model.ajaxSettings.url?i.model.ajaxSettings.url:n};i.model.ajaxError&&i._trigger("ajaxError",f)},completeHandler:function(){var t={content:i._div,item:i._currentItem,index:$(i._currentItem).index(),text:$(i._currentItem).text(),url:i.model.ajaxSettings.url?i.model.ajaxSettings.url:n};i.model.ajaxComplete&&i._trigger("ajaxComplete",t)}};ej.sendAjaxRequest(u)},selectItem:function(n,t){n>=0&&this._isEnable($(this._getElement(t).find("li."+this._prefixClass+"list")[n]))&&(this._currentItem=$(this._getElement(t).find("li."+this._prefixClass+"list")[n]),this._prevItem=this._currentItem,this._onTouchEndHandler())},setActive:function(n,t){n>=0&&(element=this._getElement(t),this._isEnable($(element.find("li."+this._prefixClass+"list")[n]))&&ej.getBooleanVal($(element.find("li."+this._prefixClass+"list")[n]),"data-persistSelection",this.model.persistSelection)&&(element.find("li."+this._prefixClass+"list."+this._prefixClass+"state-active").removeClass(this._prefixClass+"state-active").addClass(this._prefixClass+"state-default"),this._currentItem=$(element.find("li."+this._prefixClass+"list")[n]),this._prevItem=this._currentItem,this._currentItem.removeClass(this._prefixClass+"state-default").addClass(this._prefixClass+"state-active")))},deActive:function(n,t){n>=0&&this._isEnable($(this._getElement(t).find("li."+this._prefixClass+"list")[n]))&&$(this._getElement(t).find("li."+this._prefixClass+"list")[n]).removeClass(this._prefixClass+"state-active").addClass(this._prefixClass+"state-default")},enableItem:function(n,t){n>=0&&$(this._getElement(t).find("li."+this._prefixClass+"list")[n]).removeClass(this._prefixClass+"state-disabled")},disableItem:function(n,t){n>=0&&$(this._getElement(t).find("li."+this._prefixClass+"list")[n]).addClass(this._prefixClass+"state-disabled")},removeCheckMark:function(n,t){element=this._getElement(t);n>=0&&this._isEnable($(element.find("li."+this._prefixClass+"list")[n]))?$(element.find("li."+this._prefixClass+"list")[n]).find("."+this._prefixClass+"lv-checkdiv").remove():element.find("."+this._prefixClass+"lv-checkdiv").remove()},checkItem:function(n,t){n>=0&&this._isEnable($(this._getElement(t).find("li."+this._prefixClass+"list")[n]))&&this._setCheckboxValue($(this._getElement(t).find("."+this._prefixClass+"lv-check")[n]),!0)},unCheckItem:function(n,t){n>=0&&this._isEnable($(this._getElement(t).find("li."+this._prefixClass+"list")[n]))&&this._setCheckboxValue($(this._getElement(t).find("."+this._prefixClass+"lv-check")[n]),!1)},checkAllItem:function(n){var t=this;this._getElement(n).find("."+this._prefixClass+"lv-check").each(function(i,r){t._isEnable($(t._getElement(n).find("li."+t._prefixClass+"list")[i]))&&t._setCheckboxValue($(r),!0)})},unCheckAllItem:function(n){var t=this;this._getElement(n).find("."+this._prefixClass+"lv-check").each(function(i,r){t._isEnable($(t._getElement(n).find("li."+t._prefixClass+"list")[i]))&&t._setCheckboxValue($(r),!1)})},getActiveItem:function(n){return this._getElement(n).find("li."+this._prefixClass+"list."+this._prefixClass+"state-active")},getActiveItemText:function(n){return this._getElement(n).find("li."+this._prefixClass+"list."+this._prefixClass+"state-active").text()},getItemText:function(n,t){if(n>=0)return $(this._getElement(t).find("li."+this._prefixClass+"list")[n]).text()},getCheckedItems:function(n){return this._getElement(n).find("input."+this._prefixClass+'lv-check[checked="checked"]').closest("li."+this._prefixClass+"list")},getCheckedItemsText:function(n){return $(this._getElement(n).find("input."+this._prefixClass+'lv-check[checked="checked"]').closest("li."+this._prefixClass+"list")).map(function(){return $(this).text()}).get()},hasChild:function(n,t){if(n>=0)return this.element.find("#"+$(this._getElement(t).find("li."+this._prefixClass+"list")[n]).attr("data-childid")).length?!0:!1},isChecked:function(n,t){if(n>=0)return $(this._getElement(t).find("li."+this._prefixClass+"list input."+this._prefixClass+"lv-check")[n]).attr("checked")=="checked"?!0:!1},showItem:function(n,t){n>=0&&$(this._getElement(t).find("li."+this._prefixClass+"list")[n]).css("visibility","")},hideItem:function(n,t){n>=0&&$(this._getElement(t).find("li."+this._prefixClass+"list")[n]).css("visibility","hidden")},show:function(n){this._getElement(n).css("visibility","")},hide:function(n){this._getElement(n).css("visibility","hidden")},addItem:function(n,t){t>=0?n.insertBefore($(this._orgEle.children().children()[t])):this._orgEle.children().append(n);this._refresh()},removeItem:function(n,t){if(n>=0){element=this._getElement(t);var i=$(element.find("li."+this._prefixClass+"list")[n]).attr("data-childid");this.element.find($("#"+i).length)&&this.element.find($("#"+i)).remove();$(element.find("li."+this._prefixClass+"list")[n]).remove()}},getItemsCount:function(n){return this._getElement(n).find("li."+this._prefixClass+"list").length}})}(jQuery,Syncfusion),function(){App={window:$(window),document:$(document),html:$("html"),addMetaTags:!0,preventWindowsAccentColor:!1,head:$("head"),renderEJMControlsByDef:!0,pageTransition:"auto",hashMonitoring:!0,allowPushState:!0,allowPopState:!1,transferWithinSamePage:!1,applyMobileStyles:!0,enableAjax:!0,enableFormSubmission:!0,enableSwipe:!0,loadHashPage:!1,setClass:function(n,t){n.addClass("e-m-"+t)},getLocation:function(n){var t=n?this.route.splitUrl(n):location,i=this.route.splitUrl(n||location.href).hash;return i=i==="#"?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},transferPage:function(n,t,i,r){var u,f,e;if(App.waitingPopUpImage.css("top",window.innerHeight/2-16),App.waitingPopUp.show(),App._parentSubPage=!1,u=$.extend({},App.transferPage.defaults,i),u.transition=="auto"&&(u.transition=ej.setTransition()),u.hashMonitoring===undefined&&(u.hashMonitoring=!0),u.pageContainer=$("body"),u.fromPage=n?typeof n=="string"?$("#"+App.route._stripHash(n)):n:App.activePage,data={toPage:t,fromPage:u.fromPage,options:u},isTargetString=typeof t=="string",isTargetString){App.loadView(t,u).done(function(t,i,r,u){App.transferPage(n,r,i,u)}).fail(function(n,t){data.url=n;data.options=t;App.container.trigger("viewtransferfailed",data)});return}u.loadHashPage&&!App.allowPopState&&(t=App.container.find("[data-url='"+window.location.hash.replace("#","")+"']").length>0?App.container.find("[data-url='"+window.location.hash.replace("#","")+"']"):App.container.find(window.location.hash));(t||App.allowPopState)&&(App.createPage($(t)),App.allowPopState&&(App.activeSubPage=null),(n&&n.hasClass("subpage")&&u.hashMonitoring&&window.location.hash==""&&u.direction!="back"||u.parentSubPage)&&(App._parentSubPage=!0),!App.allowPopState&&t.hasClass("subpage")?(App.activePage=t.parents(".appview"),App.activeSubPage=t,t.addClass("subview")):t&&(App.activePage=t,App.activeSubPage=null,App._parentSubPage=!1),App.allowPopState=!1,App.setPageRenderMode(t));t&&t.hasClass("subpage")&&App._parentSubPage&&!u.loadHashPage&&(App.fromUrl=u.fromPage.attr("id")?u.fromPage.attr("id"):"page"+parseInt((Math.random()*100).toFixed(2)),u.fromPage.attr("data-url",App.fromUrl),f="#"+App.fromUrl,data={transition:u.transition,title:document.title,pageUrl:f,parentSubPage:App._parentSubPage},App.hashMonitoring&&u.hashMonitoring&&!u.fromHashChange&&App.urlRouter.change(data,!0),App._parentSubPage=!1);($.support.pushstate&&App.route.baseUrl.hrefNoHash!=App.route.splitUrl(App.getLocation()).hrefNoHash||!$.support.pushstate&&App.directorychanged)&&n&&n.hasClass("subpage")&&(u.fromPage=n=n.parents(".appview"),App.activeSubPage=null);u.fromPage.addClass(u.transition+(u.reverse?" reverse":""));f=t?t.attr("data-url"):"";f&&!App.route._isPath(f)&&f.indexOf("#")<0&&(f="#"+f);u.fromHashChange||(data={transition:u.transition,pageUrl:f,title:document.title},App.hashMonitoring&&u.hashMonitoring&&App.urlRouter.change(data,!0));e={transition:u.transition,options:u,title:document.title,toPage:t,fromPage:u.fromPage,pageUrl:f};t&&t[0]!==u.fromPage[0]&&u.reloadSamePage&&($.support.hasTransition||(u.transition="none"),App._transitionView(t,u,r,e));App.waitingPopUp.hide()},loadView:function(n,t){App.transferWithinSamePage=!1;var r=$.Deferred(),u=$.extend({},App.loadView.defaults,t),i=null;return(absUrl=this.route.makeUrlAbsolute(n),relUrl=this.route.convertToRelativeUrl(absUrl),ej.isWindowsWebView()&&(relUrl=relUrl.replace(/x-wmapp\d+\W?([\/])?([\/])?([w][w][w])/g,"")),i=App.container.children("[data-url ='"+relUrl+"']"),i.length==0&&relUrl&&!App.route._isPath(relUrl)||i.length==0&&t.direction=="back")?(i=App.container.children("#"+relUrl),i.length==0&&App.activePage.find("[data-url ='"+relUrl+"']").length?(i=App.activePage.find("[data-url ='"+relUrl+"']"),i.attr("data-appcache",!0),i.length>0&&(App.transferWithinSamePage=!0)):App.activePage.find("#"+relUrl).length&&(i=App.activePage.find("#"+relUrl),i.attr("data-appcache",!0),i.length>0&&(App.transferWithinSamePage=!0)),i.length?r.resolve(absUrl,t,i,!1):r.reject(absUrl,t,i,!1)):i.length?r.resolve(absUrl,t,i,!1):(data={toPage:n,options:u,absUrl:absUrl,relUrl:App.route.convertToRelativeUrl(absUrl)},App.container.trigger("viewbeforeload",data),$.ajax({url:absUrl,type:u.type,data:u.data,contentType:u.contentType,dataType:"html",success:function(n,f,e){i=$("<div><\/div>");document.title=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;i[0].innerHTML=n;curPage=i.find("*[data-role='appview']").first();relUrl=App.route.convertToRelativeUrl(absUrl);curPage.length||(curPage=$("<div>"+(/<\/?body[^>]*>/gmi.test(n)?n.split(/<\/?body[^>]*>/gmi)[1]:n||"")+"<\/div>"));curPage.attr("data-apptransition",u.transition).attr("data-url",ej.isWindowsWebView()?relUrl.replace(/x-wmapp\d+\W?([\/])?([\/])?([w][w][w])/g,""):relUrl).hide();App._ios7WebviewContent(curPage);App._renderingPage=curPage;curPage.appendTo($("body"));App.setPageRenderMode(curPage);App._renderingPage=undefined;data.xhr=e;data.textStatus=f;data.currentPage=curPage;data.options=t;App.container.trigger("viewload",data);r.resolve(absUrl,t,curPage,!0)},error:function(n,i,u){data.xhr=n;data.textStatus=i;data.options=t;data.errorThrown=u;App.container.trigger("viewloadfailed",data);r.reject(absUrl,t)}}),r.promise())},createPage:function(n){App.firstPage||(App.firstPage=n);n.hasClass("subpage")||n.addClass("appview");n.attr("data-url")||n.attr("data-url",n.hasClass("subpage")?n.attr("id")||location.pathname+location.search:location.pathname+location.search);n.attr("data-role","appview")},setWindowsTheme:function(){ej.isWindows()&&ej.isMobile()&&ej.isDevice()&&!App.preventWindowsAccentColor&&$("<div style='background: Background' />").css("background-color")!="background"&&(Number($("<div style='background: Background' />").css("background-color").split(",")[1])==0?$(".appview").removeClass("e-m-light e-m-dark").addClass("e-m-dark"):$(".appview").removeClass("e-m-light e-m-dark").addClass("e-m-light"))},setPageRenderMode:function(n){var t=n?n:App.activePage,i;if(ej.hasRenderMode(t)||(App.transferPage.defaults.transition=ej.isAndroid()?"pop":ej.isWindows()&&ej.isMobile()?"turn":"slide",i=ej.getRenderMode(),App.setClass(t,i),App.container.addClass("e-m-"+i)),!ej.hasTheme(t)){var u=ej.getAttrVal($("head"),"data-ej-theme","auto"),r=ej.getRenderMode(),i=u=="auto"?r=="ios7"||(r=="android"||r=="windows")&&!ej.isMobile()?"light":"dark":u;t.addClass("e-m-"+i);App.container.addClass("e-m-"+i)}ej.isMobile()?t.addClass("e-m-mobile"):t.addClass("e-m-tablet")},renderEJMControls:function(n){var t=n?n:App.activePage;App.renderEJMControlsByDef&&(t.find("input[type='button']:not([data-role]),input[type='submit']:not([data-role]),input[type='reset']:not([data-role])").attr("data-role","ejmbutton"),t.find("a:not([data-role])").attr("data-role","ejmactionlink"),t.find("input:not([data-role]):not([type]),input[type='text']:not([data-role]),input[type='tel']:not([data-role]),input[type='email']:not([data-role]),input[type='password']:not([data-role])").attr("data-role","ejmtextbox"),t.find("input[type='checkbox']:not([data-role])").filter(function(){if(!$(this).closest("[data-role='ejmgroupbutton']").length)return this}).attr("data-role","ejmcheckbox"),t.find("input[type='radio']:not([data-role])").filter(function(){if(!$(this).closest("[data-role='ejmgroupbutton']").length)return this}).attr("data-role","ejmradiobutton"),t.find("input[type='date']:not([data-role])").attr("data-role","ejmdatepicker"),t.find("input[type='time']:not([data-role])").attr("data-role","ejmtimepicker"))},initPage:function(){var n=$("[data-role ='appview']");n.length||(n=$("body").wrapInner("<div data-role='appview' class ='appview'><\/div>").children(0));n.each(function(){var n=$(this),t;n.attr("data-url")||(t=n.hasClass("subpage")?n.attr("id")||location.pathname+location.search:location.pathname+location.search,n.attr("data-url",ej.isWindowsWebView()?t.replace(/([w][w][w])/g,""):t));n.hasClass("appview")||n.addClass("appview");n.attr("data-apptransition")||n.attr("data-apptransition",App.pageTransition)});App.activePage=App.firstPage=n.first();n.not(App.activePage).hide();App._ios7WebviewContent(n);App.container=$("body");$.support.pushstate&&App.allowPushState&&!App.preventHashAssignPopState&&App.urlRouter.clean(App._parseLocation().href);App.enableAjax&&(App.activePage.addClass("none"),App.transferPage(null,App.activePage,{transition:"none",reverse:!1,changeHash:!1,fromHashChange:!0,loadHashPage:App.loadHashPage&&window.location.hash!=""?!0:!1}),App.activePage.removeClass("none"));App.container.trigger("viewtransfer",{currentPage:App.activeSubPage?App.activeSubPage:App.activePage,initialLoading:!0})},_ios7WebviewContent:function(n){n.each(function(){var n=$(this);ej.isIOSWebView()&&n.addClass("e-m-webview-content")})},_onFormSubmission:function(n){n=$.extend(n,{transition:"auto",reverse:!1,changeHash:!1,fromHashChange:!0});App.enableAjax&&App.transferPage(n.fromPage,n.url,{transition:"none",reverse:!1,changeHash:!1,fromHashChange:!0})},_reloadPage:function(n,t){t.hasClass("subpage")&&t.parents(".appview").show()},_parseLocation:function(){return this.route.splitUrl(this.getLocation())},_lookForLink:function(n){while(n){if(typeof n.nodeName=="string"&&n.nodeName.toLowerCase()==="a")break;n=n.parentNode}return n},_isPage:function(n){return n.attr("data-url")!==undefined},_transitionView:function(n,t,i,r){t.transition!="pop"&&n.addClass(t.transition+" out"+(t.reverse?" reverse":"")).show();(i||t.isFromAjax)&&(App.renderEJMControls(n),ej.widget.init(n));App.container.trigger("viewbeforetransfer",r);setTimeout(function(){t.transition=="pop"&&n.addClass(t.transition+" out"+(t.reverse?" reverse":"")).show();n.attr("data-apptransition",t.transition);var i=$.Deferred();t.deferred=i;App._setInPageTransition(n,t);App._setOutPageTransition(n,t);App._removeNones(n,t);i.promise()})},_setInPageTransition:function(n,t){setTimeout(function(){t.toPage=n;t.transition=="none"?App._transitionIn(t):t.fromPage.bind(ej.transitionEndEvent(),$.proxy(App._transitionIn,t)).addClass(t.transition+" in")})},_setOutPageTransition:function(n,t){setTimeout(function(){t.transition=="none"?App._transitionOut(t,n):t.transition!="turn"&&n.bind(ej.transitionEndEvent(),$.proxy(App._transitionOut,n)).removeClass("out")})},_removeNones:function(n,t){t.fromPage.removeClass("none");n.removeClass("none")},_transitionIn:function(n){n=n.fromPage===undefined?this:n;n.fromPage.attr("data-appcache")=="true"||n.appCache||n.fromPage[0]==App.firstPage[0]||!App.route._isPath(n.fromPage.attr("data-url"))?n.fromPage.hide().removeClass(n.transition+" in reverse none"):App.activePage[0]!=n.fromPage[0]&&n.fromPage.remove();n.loadHashPage&&App._reloadPage(n.fromPage,n.toPage);n.fromPage.trigger("appfrompageanimationend",n);n.fromPage.unbind(ej.transitionEndEvent(),App._transitionIn);$.support.pushstate&&(App.route.baseUrl=App.route.splitUrl(App.getLocation()));n.transition=="turn"&&n.toPage.bind(ej.transitionEndEvent(),$.proxy(App._transitionOut,n.toPage)).removeClass("out")},_transitionOut:function(n,t){n=n.fromPage===undefined?this:t;$(n).removeClass($(n).attr("data-apptransition")+" out reverse none");$(n).unbind(ej.transitionEndEvent(),App._transitionOut);$(n).trigger("apptopageanimationend",n);n.hasClass("subpage")?App.container.trigger("subviewtransfer",n):App.container.trigger("viewtransfer",n)},_popState:function(n){if(!App._preventNavigate){var t=n.originalEvent.state||{},i=location.href;n.historyState&&$.extend(t,n.historyState);n.originalEvent.type=="hashchange"&&$.extend(t,n.hashchangeState);App.enableAjax&&App._handleNavigate(t,n,"back");$(document.activeElement).length&&document.activeElement.tagName.toLowerCase()=="input"&&document.activeElement.blur()}App._preventNavigate=!1},_handleNavigate:function(n,t,i){var r=App.route._stripHash(n.url),f=App.pageHistory.heap.length===0?"none":undefined,u={fromHashChange:!0,reverse:n.direction==="back"||i=="back",loadHashPage:(n.direction==="back"||i=="back")&&window.location.hash!=""?!0:!1};$.extend(u,n,{transition:(App.pageHistory.lastHistory()||{}).transition||f});r&&(n.title&&(document.title=n.title),App.currentDirectory&&(App.currentDirectory=App.route.splitUrl(r).directory),r=App.route._isPath(r)?r:App.route.makeUrlAbsolute("#"+r),App.allowPopState||(data={toPage:r,state:n},App.container.trigger("viewpopstate",data)),App.transferPage(App.activeSubPage&&App.activeSubPage.length?App.activeSubPage:undefined,App.allowPopState?undefined:r,u),n.parentSubPage&&(App.allowPopState=!0,window.history.back()))}};App.transferPage.defaults={transition:$.support.hasTransition?"auto":"none",reverse:!1,changeHash:!0,reloadSamePage:!0,samePage:!1};App.route={urlSplitReg:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,splitUrl:function(n){if($.type(n)==="object")return n;var t=this.urlSplitReg.exec(n||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},addSearchParams:function(n,t){var i=path.parseUrl(n),u=typeof t=="object"?$.param(t):t,r=i.search||"?";return i.hrefNoSearch+r+(r.charAt(r.length-1)!=="?"?"&":"")+u+(i.hash||"")},makeUrlAbsolute:function(n,t){var i=$("<a href ='"+n+"'><\/a>")[0],u,r;return $("body").append(i),u=App.currentDirectory&&n.indexOf(App.currentDirectory)==-1?App.currentDirectory+n:i.pathname.indexOf("/")!=0?"/"+i.pathname:i.pathname,r=i.protocol+"//"+(ej.isWindowsWebView()?"www":i.host)+u+i.search+i.hash,App._parentSubPage&&(r=App.route.baseUrl.hrefNoHash+n),$(i).remove(),$.support.pushstate||!App.route._isDirectoryChanged(r)||t?App.directorychanged=!1:(App.directorychanged=!0,App.currentDirectory=App.route.splitUrl(r).directory,App.route.baseUrl=App.route.splitUrl(r)),r},clean:function(n){return n.replace(this.documentBase.domain,"")},cleanHash:function(n){return path.stripHash(n.replace(/\?.*$/,"").replace(dialogHashKey,""))},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},convertToRelativeUrl:function(n){var t=this.splitUrl(n);return this._isSamePage(t)?t.hash.replace(/^#/,"").replace(/\?.*$/,""):this._isSameDomain(t,this.baseUrl)?t.hrefNoHash.replace(this.baseUrl.domain,""):window.decodeURIComponent(n)},cleanUrl:function(n){var t,r=this._isPath(n),i=this.splitUrl(n),u=i.hash;return t=r?this._stripHash(n):n,t=this._isPath(i.hash)?this._stripHash(i.hash):t,this.makeUrlAbsolute(t)},_isSameDomain:function(n,t){return this.splitUrl(n).domain===this.splitUrl(t).domain},_isSamePage:function(n){var t=App.route.splitUrl(n);return t.protocol!==""?!App.route._isPath(t.hash)&&t.hash&&t.hrefNoHash===App.route.baseUrl.hrefNoHash:/^#/.test(t.href)},_isDirectoryChanged:function(n){return App.route.baseUrl.directory!=App.route.splitUrl(n).directory},_isPath:function(n){return/\//.test(n)},_stripHash:function(n){return n?n.replace(/^#/,""):""},_stripQueryParams:function(n){return n.replace(/\?.*$/,"")},_isHashValid:function(n){return/^#[^#]+$/.test(n)},_isExternal:function(n){var t=path.parseUrl(n);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1}};$.extend(App.route,{baseUrl:App.route.splitUrl(App.getLocation())});App.documentUrl=function(n){this.history=n;this.ignoreInitialHashChange=!0;App.window.bind({"popstate.history":$.proxy(this._popState,this),"hashchange.history":$.proxy(this._hashChange,this)})};$.extend(App.documentUrl.prototype,{clean:function(n,t){var i,r,u=App.route._isPath(n)?App.route._stripHash(n):n;return r=App.route.cleanUrl(n),i=$.extend({hash:u,url:r},t),window.history.replaceState(i,i.title||document.title,r),i},hash:function(n,t){var i,u,r,f;return i=App.route.splitUrl(n),u=App.getLocation(),u.pathname+u.search==i.pathname+i.seach?r=i.hash?i.hash:i.pathname+i.search:App.route._isPath(n)?(f=App.route.splitUrl(t),r=f.pathname+f.search):r=n,r},change:function(n,t){var i,r,u,f,e;r=App.route.cleanUrl(n.pageUrl);u=this.hash(n.pageUrl,r);App.preventHashAssignPopState=!0;t&&u!==App.route._stripHash(App._parseLocation().hash)&&(this.preventNextHashChange=t);e=App.route.splitUrl(r);window.location.hash=u;App.preventHashAssignPopState=!1;i=$.extend({url:r,hash:u,title:document.title},n);$.support.pushstate&&App.allowPushState&&(f=new $.Event("popstate"),f.originalEvent={type:"popstate",state:null},this.clean(n.pageUrl,i),t||App.window.trigger(f));this.history.add(i.url,i)},_popState:function(n){var t,i;if(App.preventHashAssignPopState){App.preventHashAssignPopState=!1;n.stopImmediatePropagation();return}if(this.ignorePopState){this.ignorePopState=!1;return}if(!n.originalEvent.state&&this.history.heap.length===1&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1),t=App._parseLocation().hash,!n.originalEvent.state&&t){i=this.clean(t);this.history.add(i.url,i);n.historyState=i;return}this.history.direct({url:(n.originalEvent.state||{}).url||t,present:function(t,i){n.historyState=$.extend({},t);n.historyState.direction=i}})},_hashchange:function(n){var i,t;if(!$.support.pushstate||!App.allowPushState){if(this.preventNextHashChange){this.preventNextHashChange=!1;n.stopImmediatePropagation();return}i=this.history;t=App._parseLocation().hash;this.history.direct({url:t,present:function(t,i){n.hashchangeState=$.extend({},t);n.hashchangeState.direction=i},missing:function(){i.add(t,{hash:t,title:document.title})}})}}});App.History=function(n,t){this.heap=n||[];this.activeIndex=t||0};$.extend(App.History.prototype,{activeHistory:function(){return this.heap[this.activeIndex]},lastHistory:function(){return this.heap[this.previousIndex]},nextHistory:function(){return this.heap[this.activeIndex+1]},prevHistory:function(){return this.heap[this.activeIndex-1]},add:function(n,t){t=t||{};this.nextHistory()&&this.clearForward();t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash);t.url=n;this.heap.push(t);this.activeIndex=this.heap.length-1},replace:function(n){App.preventHashAssignPopState=!0;location.replace(n);App.preventHashAssignPopState=!1},clearForward:function(){this.heap=this.heap.slice(0,this.activeIndex+1)},find:function(n,t,i){t=t||this.heap;for(var u,e=t.length,f,r=0;r<e;r++)if(u=t[r],(decodeURIComponent(n)===decodeURIComponent(u.url)||decodeURIComponent(n)===decodeURIComponent(u.hash))&&(f=r,i))return f;return f},direct:function(n){var t=this.closest(n.url),i=this.activeIndex;t!==undefined&&(this.activeIndex=t,this.previousIndex=i);t<i?(n.present||n.back||$.noop)(this.activeHistory(),"back"):t>i?(n.present||n.forward||$.noop)(this.activeHistory(),"forward"):t===undefined&&n.missing&&n.missing(this.activeHistory())},closest:function(n){var t,i=this.activeIndex;return t=this.find(n,this.heap.slice(0,i)),t===undefined&&(t=this.find(n,this.heap.slice(i),!0),t=t===undefined?t:t+i),t},clearHistory:function(n){n=n?n:this.activeIndex;App._preventNavigate=!0;window.history.go(-n)}});App.document.bind("click",function(n){var r=null,i,t;if(!n.isDefaultPrevented()&&(i=App._lookForLink(n.target),t=$(i),i&&!(n.which>1))){if(t.attr("data-ej-apprelation")=="back"){history.back();n.preventDefault();return}if(href=t.attr("href")||"#",href.indexOf("#")!=-1)if(href=href.replace(/[^#]*#/,""),href)App.route._isPath(href)?href=App.route.makeUrlAbsolute(href):(r=t.closest(".subpage").length>0?t.closest(".subpage"):t.closest(".appview"),href=App.route.makeUrlAbsolute("#"+href));else{n.preventDefault();return}var u=t.attr("data-ej-apptransition"),f=t.attr("data-ej-appdirection")==="reverse",e=t.attr("data-ej-appajax")==="false";App.enableAjax&&!e&&(App.transferPage(r,href,{transition:u,reverse:f,loadHashPage:!1}),n.preventDefault())}});App.window.on("focusin",function(){App.setWindowsTheme()});$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:ej.userAgent()!==!1,pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles})}();App.addMetaTags&&($("meta[name='description'],meta[name='author'],meta[name='viewport'],meta[name='apple-mobile-web-app-capable'],meta[charset='UTF-8'],meta[http-equiv='X-UA-Compatible']").remove(),App.head.prepend("<meta charset='UTF-8'><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' /><meta name='apple-mobile-web-app-capable' content='yes' /><meta name='description' content='syncfusion' /><meta name='author' content='syncfusion' /><meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' />"));$(function(){var t,n;if((App.applyMobileStyles&&$("body").find("[data-role*='ejm']").length>0||App.applyMobileStyles)&&$("body").addClass("e-m-user-select e-m-viewport"),$(window)[0].addEventListener("touchmove",function(n){$(n.target).closest(".e-m-scroll-native").length==0&&ej.isTouchDevice()&&ej.blockDefaultActions(n)}),/(ipad|iphone|ipod touch);.*os 7_\d/i.test(navigator.userAgent.toLowerCase()))$(document).on("blur","input, select, textarea",function(){window.setTimeout(function(){document.activeElement.nodeName&&document.activeElement.nodeName.toLowerCase()!="input"&&window.scrollTo(0,0)})});$(window)[0].addEventListener("orientationchange",function(){window.setTimeout(function(){ej.getRenderMode()=="ios7"&&window.scrollTo(0,0)})});App.waitingPopUp||(t=ej.isMobile()?"mobile":"tablet",App.waitingPopUp=ej.buildTag("div.e-m-waitingpopup e-m-"+ej.getRenderMode()+" e-m-"+t,"<div class='e-m-image'>Loading...<\/div>"),App.waitingPopUpImage=App.waitingPopUp.find(".e-m-image"));App.setWindowsTheme();n=App._parseLocation();App.pageHistory=new App.History;App.urlRouter=new App.documentUrl(App.pageHistory);App.pageHistory.add(n.href,{hash:n.hash,title:document.title});App.initPage();App.renderEJMControls(App.activePage);App.window.bind("popstate",App._popState);$.support.pushstate||App.window.bind("hashchange",App._popState);App.container.append(App.waitingPopUp);App.setPageRenderMode();App.enableFormSubmission&&App.document.find("form").bind("submit",function(n){App._onFormSubmission({fromPage:$(n.currentTarget).closest(".appview"),url:$(n.currentTarget).attr("action"),method:$(n.currentTarget).attr("method"),formData:$(n.currentTarget).serialize()})});App.container.on("swipeleft swiperight",function(n){var t=$.extend(n,{direction:n.handleObj.type});App.container.trigger("appviewSwipe",t)})}),function(n,t,r){t.widget("ejmAccordion","ej.mobile.Accordion",{_setFirst:!0,_rootCSS:"e-m-acc",validTags:["div","span"],defaults:{renderMode:"auto",collapsible:!1,selectedItems:[0],disabledItems:[],theme:"auto",heightAdjustMode:"content",showHeaderIcon:!1,enableCache:!0,enableMultipleOpen:!1,enablePersistence:!1,enabled:!0,spinnerText:"loading...",windows:{renderDefault:!1},active:null,beforeActive:null,ajaxLoad:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null},dataTypes:{renderMode:"enum",collapsible:"boolean",theme:"enum",showHeaderIcon:"boolean",enableCache:"boolean",heightAdjustMode:"enum",enableMultipleOpen:"boolean",selectedItems:"array",enabled:"boolean",disabledItems:"array"},observableArray:["selectedItems"],selectedItems:t.util.valueFunction("selectedItems"),_init:function(){this._cloneElement=n(this.element).clone();this._renderControl();this._icons=this.element.find(".e-m-acc-img");this._contentElements=this.element.find("> .e-m-acc-content");this._items=this.element.find(">.e-m-acc-header");this._anchors=this._items.find(".e-m-acc-link");this._maxAutoHeight=0;this._createDelegates();this._wireEvents(!1);this.show();this._displayHeaderIcon(this.model.showHeaderIcon);this._load();this._enabledAction(this.model.enabled);this.disableItems(this.model.disabledItems)},_renderControl:function(){var i,u,f;t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");i=this;this.element.addClass("e-m-user-select");this.element.addClass("e-m-acc e-m-"+this.model.renderMode);this.element.addClass("e-m-"+this.model.theme);u=t.buildTag("div");u.append(this.element.html());this.element.empty();f=u.find(">ul >li");n.each(f,function(u,e){var s=t.buildTag("div.e-m-acc-header e-m-acc-innerdiv"),o=t.buildTag("h3.e-m-acc-header e-m-acc-item"),h=t.buildTag("div.e-m-acc e-m-acc-content"),l=t.getAttrVal(e,"data-ej-ajaxurl","#"),a=t.getAttrVal(e,"data-ej-text"),c=t.getAttrVal(e,"data-ej-logoclass");s.append(t.buildTag("div.e-m-acc-link",a));s.append(t.buildTag("a.e-m-acc-linkhref","","",{href:l}));s.append(t.buildTag("div.e-m-fontimage e-m-acc-img"));c!=r&&s.append(t.buildTag("div.e-m-acc-logourl "+c));o=o.append(s);h.html(n(e).html().trim());i.element.append(o).append(h);o.attr("tabindex",u);h.attr("id","header-content-"+(u+1));!i.model.enableMultipleOpen&&i.selectedItems().length>1&&i.selectedItems().splice(1,i.selectedItems().length);n.inArray(u,i.selectedItems())>-1?o.addClass("e-m-acc-state-active"):(o.addClass("e-m-acc-state-default"),h.hide());u==0&&o.addClass("e-m-acc-border-top");u==f.length-1&&(o.addClass("e-m-acc-border-bottom"),h.addClass("e-m-acc-content-border-bottom"))})},_createDelegates:function(){this._onOrientationChangeHandler=n.proxy(this._onOrientationChangeHandler,this);this._onResizeEventHandler=n.proxy(this._onResizeEventHandler,this);this._onClickHandler=n.proxy(this._onClickHandler,this);this._onStartHandler=n.proxy(this._onStartHandler,this);this._onTouchMoveHandler=n.proxy(this._onTouchMoveHandler,this)},_wireEvents:function(n){t.listenEvents([window,window,this._items,this._items],["orientationchange","resize",t.endEvent(),t.startEvent()],[this._onOrientationChangeHandler,this._onResizeEventHandler,this._onClickHandler,this._onStartHandler],n)},_onClickHandler:function(i){if(t.blockDefaultActions(i),!this._scroll){var r=n(i.currentTarget);this._select(r,i)}},_onResizeEventHandler:function(n){n.preventDefault();this._setHeightAdjustMode(this.model.heightAdjustMode)},_onOrientationChangeHandler:function(n){n.preventDefault();this._setHeightAdjustMode(this.model.heightAdjustMode)},_onStartHandler:function(n){n.preventDefault();this._scroll=!1;t._touchStartPoints(n,this);t.listenTouchEvent(this._items,t.moveEvent(),this._onTouchMoveHandler)},_onTouchMoveHandler:function(n){t._isTouchMoved(n,this)&&(n.preventDefault(),this._scroll=!0)},_load:function(){var u=this,t;for(u._setHeightAdjustMode(this.model.heightAdjustMode),this._items.filter(".e-m-acc-state-default").next().hide(),t=0;t<this.selectedItems().length;t++){var i=n(this._getContentElement(this.selectedItems()[t])),r=n(n(i).prev()).find(".e-m-acc-link"),f=n(n(i).prev()).find(".e-m-acc-linkhref"),e=n(r).attr("href");i.is(":empty")&&e!="#"&&this._sendAjaxRequest(i,r,f)}},_getContentElement:function(n){var i,r,t,u;if(!isNaN(+n))for(i=this._contentElements,r=new RegExp("-"+(n+1)+"$"),t=0,u=i.length;t<u;t++)if(r.test(i[t].id))return i[t]},_ajaxSuccessHandler:function(t,i,r,u,f,e){f!=null&&u.html(f);n(i).html(t);n(i).addClass("e-m-acc-ajax");n(r).remove();this.model.ajaxLoad&&this._trigger("ajaxLoad");var t={data:t,url:e.attr("href"),content:i};this.model.ajaxSuccess&&this._trigger("ajaxSuccess",t);this.model.heightAdjustMode=="auto"&&this._enableAutoHeight()},_ajaxErrorHandler:function(n,t,i){var n={data:n,url:t.attr("href"),title:i};this.model.ajaxError&&this._trigger("ajaxError",n)},_sendAjaxRequest:function(i,r,u){var s=t.buildTag("span.e-m-acc-ajax-loading"),f,e,h,c,o,l;this.model.spinnerText!=null&&this.model.spinnerText!=""&&(f=r.html(),r.html(this.model.spinnerText));e=u.attr("href");(!n.support.pushstate||t.isWindowsWebView())&&(e=App.route.makeUrlAbsolute(u.attr("href")));h=n(n(r).parent()).find("span.e-m-acc-ajax-loading");n(h).is(":empty")||r.parent().append(s);c={url:u.attr("href")};this.model.ajaxBeforeLoad&&this._trigger("ajaxBeforeLoad",c);o=this;l={type:"GET",cache:!0,url:e,data:{},dataType:"html",successHandler:function(n){o._ajaxSuccessHandler(n,i,s,r,f,u)},errorHandler:function(n){o._ajaxErrorHandler(n,u,f)}};t.sendAjaxRequest(l)},_enableAutoHeight:function(){for(i=0;i<this.selectedItems().length;i++){var u=!1,t=this._contentElements,u=n(t[this.selectedItems()[i]]).is(":empty"),r=0;t.each(function(){r=Math.max(r,n(this).outerHeight()-20)});u||t.height(r)}},_enableFillSpace:function(){var i=this,r=this.element.parent().height(),t;this.element.parent().css({overflow:"auto"});i._items.each(function(){r-=n(this).outerHeight()});t=0;i._items.next().each(function(){t=Math.max(t,n(this).innerHeight()-n(this).height())}).height(r-t).css({overflow:"auto"})},_select:function(i,r){var u;if(n(i).hasClass("e-m-acc-state-disabled"))t.blockDefaultActions(r);else{u={activeItemIndex:i};this.model.beforeActive&&this._trigger("beforeActive",u);var o=this._getContentElement(this._items.index(i)),h=i.find(".e-m-acc-link"),s=i.find(".e-m-acc-linkhref"),c=s.attr("href"),l=n(o).is(":empty"),f=this.element.find(".e-m-acc-header.e-m-acc-state-active")[0],e=n(f).attr("tabindex"),a=this._getContentElement(parseInt(e));this.model.enableMultipleOpen?n(i[0]).hasClass("e-m-acc-state-active")?this._hideTab(this._items.index(i)):this._showTab(this._items.index(i)):f==i[0]?this.model.collapsible&&this._hideTab(this._items.index(i)):(this._hideTab(e),this._showTab(this._items.index(i)));u={selectedItemIndices:this.selectedItems(),lastSelectedItemIndices:n(f).index(".e-m-acc-header"),items:this._items};this.model.active&&this._trigger("active",u);t.blockDefaultActions(r)}},_showTab:function(t){if(t==null)return!1;this._isAjaxContent(parseInt(t));var i=this._getContentElement(parseInt(t)),r=n(i.previousSibling).hasClass("e-m-state-disabled");if(r)return!1;n(i.previousSibling).addClass("e-m-acc-state-active").removeClass("e-m-acc-state-default");this.model.renderMode=="android"?n(i).slideDown("fast"):n(i).slideDown(300,"linear");this._addSelectedItems(parseInt(t))},_isAjaxContent:function(t){var i=n(this._getContentElement(t)),f=n(n(i).prev()).find(".e-m-acc-link"),r=n(n(i).prev()).find(".e-m-acc-linkhref"),u=n(r).attr("href");(i.is(":empty")&&u!="#"||!this.model.enableCache&&u!="#")&&this._sendAjaxRequest(i,f,r)},_hideTab:function(t){if(t==null)return!1;var i=this._getContentElement(parseInt(t));n(i.previousSibling).removeClass("e-m-acc-state-active").addClass("e-m-acc-state-default");this.model.renderMode=="android"?n(i).slideUp("fast"):n(i).slideUp(300,"linear");this._deleteSelectedItems(parseInt(t))},_addSelectedItems:function(t){n.inArray(t,this.selectedItems())<0&&this.selectedItems().push(t)},_deleteSelectedItems:function(t){n.inArray(t,this.selectedItems())>-1&&(position=n.inArray(t,this.selectedItems()),this.selectedItems().splice(position,1))},_setRenderMode:function(n){n=="auto"?t.setRenderMode(this):this.model.renderMode=n;this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setTheme:function(n){this.element.removeClass("e-m-dark e-m-light").addClass("e-m-"+n)},_enabledAction:function(n){n?(this._enableAll(),this._wireEvents(!1)):(this._disableAll(),this._wireEvents(!0))},_displayHeaderIcon:function(n){this.model.showHeaderIcon=n;var t=n?"inline-block":"none";this._icons.css("display",t)},_setHeightAdjustMode:function(n){n=="fill"?this._enableFillSpace():n=="auto"?this._enableAutoHeight():this._contentElements.css({height:"auto",overflow:"hidden"})},_setMultipleOpen:function(n){this.model.enableMultipleOpen=n;this.collapseAll()},enableItems:function(t){if(!this.model.enabled)return!1;if(n.isArray(t)){var i=this;n.each(t,function(t,r){n(i._items[r]).removeClass("e-m-state-disabled")})}else n(this._items[t]).removeClass("e-m-state-disabled")},disableItems:function(t){if(!this.model.enabled)return!1;if(n.isArray(t)){var i=this;n.each(t,function(t,r){n(i._items[r]).addClass("e-m-state-disabled")})}else n(this._items[t]).addClass("e-m-state-disabled")},_enableAll:function(){var t=[];n.each(this._items,function(i,r){n(r).removeClass("e-m-state-disabled");t.push(i)})},_disableAll:function(){var t=[];n.each(this._items,function(i,r){n(r).addClass("e-m-state-disabled");t.push(i)})},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this._setTheme(n.theme);break;case"selectedItems":this.selectItems(n.selectedItems);break;case"disabledItems":this.disableItems(n.disabledItems);break;case"showHeaderIcon":this._displayHeaderIcon(n.showHeaderIcon);break;case"heightAdjustMode":this._setHeightAdjustMode(n.heightAdjustMode);break;case"collapsible":this.model.collapsible=n.collapsible;break;case"enableMultipleOpen":this._setMultipleOpen(n.enableMultipleOpen);break;case"enabled":this._enabledAction(n.enabled);break;case"spinnerText":this.model.spinnerText=n.spinnerText}},_destroy:function(){this._wireEvents(!0);this._cloneElement.insertBefore(this.element);this.element.remove()},show:function(){n(this.element).css("display","block")},hide:function(){n(this.element).css("display","none")},selectItems:function(t){var r,u,f,e,i;if(!this.model.enabled)return!1;if(this.model.enableMultipleOpen)for(i=0;i<t.length;i++)this._showTab(t[i]);else(!n.isArray(t)||n.isArray(t)&&t.length==1)&&(r=parseInt(this.element.find(".e-m-acc-header.e-m-acc-state-active").attr("tabindex")),e=this.element.find(".e-m-acc-header.e-m-acc-state-active")[0],f=this._getContentElement(parseInt(t)),u=f.previousSibling,u==e?this.model.collapsible&&this._hideTab(parseInt(n(u).attr("tabindex"))):(isNaN(r)||this._hideTab(parseInt(r)),this._showTab(t)))},deselectItems:function(t){if(!this.model.enabled)return!1;if(this.model.enableMultipleOpen)for(var i=0;i<t.length;i++)this._hideTab(t[i]);else(!n.isArray(t)||n.isArray(t)&&t.length==1)&&this._hideTab(t)},collapseAll:function(){if(!this.model.enabled)return!1;this.deselectItems(n.makeArray(this.selectedItems()))},expandAll:function(){if(!this.model.enabled)return!1;var t=this;if(!this.model.enableMultipleOpen)return!1;n.each(t._items,function(i){n.inArray(i,t.selectedItems())>-1||t._showTab(i)})},getItemsCount:function(){if(this._items)return this._items.length}});t.mobile.Accordion.HeightAdjustMode={Content:"content",Auto:"auto",Fill:"fill"}}(jQuery,Syncfusion),function($,ej){ej.widget("ejmAutocomplete","ej.mobile.Autocomplete",{_setFirst:!0,_rootCSS:"e-m-acc-wrapper",defaults:{allowScrolling:!0,windows:{renderDefault:!1},filterType:"contains",caseSensitiveSearch:!1,enableAutoFill:!1,delimiterChar:",",enableMultiSelect:!1,enableCheckbox:!0,dataSource:null,renderMode:"auto",itemsCount:5,field:"text",imageField:null,theme:"auto",mapper:null,watermarkText:"Search",imageClass:null,allowSorting:!0,sortOrder:"ascending",value:"",emptyResultText:"No suggestions",showEmptyResultText:!0,minCharacter:1,enableDistinct:!1,enablePersistence:!1,enabled:!0,mode:"default",touchEnd:null,keyPress:null,select:null,change:null,focusIn:null,focusOut:null},dataTypes:{filterType:"enum",renderMode:"enum",caseSensitiveSearch:"boolean",theme:"enum",enableAutoFill:"boolean",enableMultiSelect:"boolean",enableCheckbox:"boolean",dataSource:"data",allowSorting:"boolean",sortOrder:"enum",emptyResultText:"string",delimiterChar:"string",showEmptyResultText:"boolean",minCharacter:"number",enableDistinct:"boolean",enablePersistence:"boolean",enable:"boolean",mode:"enum",field:"string"},_init:function(){this._cloneElement=this.element.clone();this._initialize();this._renderControl();ej._setScroller(this);this._wireEvents()},_initialize:function(){this._queryString="";this._filterMode="server";typeof this.model.mapper!="string"&&(this._filterMode="client");window.accFields={text:this.model.field,imageClass:this.model.imageClass,imageUrl:this.model.imageField};window.noresult={text:"emptyResultText"};window.noSuggSource=[{}];window.noSuggSource[0][this.model.field]=this.model.emptyResultText;this.model.delimiterChar=this.model.delimiterChar+" "},_renderControl:function(){ej.setRenderMode(this);ej.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&ej.isMobile()&&(this.model.theme="default");this._id=this.element[0].id;this.element.addClass("e-m-acc-input").attr("placeholder",this.model.watermarkText).addClass("e-m-acc-"+this.model.mode);this._accwrapper=ej.buildTag("div#"+this._id+"_wrapper.e-m-acc-wrapper").addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme).addClass("e-m-acc-"+this.model.mode);this._accwrapper=this.element.wrap(this._accwrapper).parent();this._search=ej.buildTag("div.e-m-acc-searchicon").addClass("e-m-fontimage").appendTo(this._accwrapper);this._custAnd=ej.buildTag("div.e-m-acc-custand").appendTo(this._accwrapper);this._clrElement=ej.buildTag("div.e-m-acc-clear").addClass("e-m-fontimage").appendTo(this._accwrapper);this._accList=ej.buildTag("div#"+this._id+"list.e-m-acc-list").appendTo(this._accwrapper);this._accList.ejmListView({adjustFixedPosition:!1,renderMode:this.model.renderMode,theme:this.model.theme,showHeader:!1,allowScrolling:this.model.allowScrolling,dataBinding:!0,fieldSettings:window.accFields,touchEnd:$.proxy(this._touchEnd,this),enableCheckMark:this.model.enableCheckbox&&this.model.enableMultiSelect?!0:!1,windows:{renderDefault:this.model.windows.renderDefault}});this.model.renderMode!="ios7"||ej.isMobile()||(this._accMenu=ej.buildTag("div#"+this._id+"menu.e-m-acc-menu"),this._accMenu.ejmMenu({renderTemplate:!0,renderMode:this.model.renderMode,theme:this.model.theme,allowScrolling:!1,showOn:"",targetId:""+this._id+"",templateId:""+this._id+"list",onShow:$.proxy(this._onMenuShow,this),ios7:{title:"Results"},windows:{renderDefault:this.model.windows.renderDefault}}),$("#"+this._id+"menu_overlay").css("pointer-events","none"));this._accList.hide();this.model.value&&this.element.val(this.model.value);this._clear();this.model.enabled||this._setEnabled(!1)},_touchStart:function(n){ej._inputTouchStart(n,this);ej.listenEvents([window,window,window],[ej.moveEvent(),ej.cancelEvent(),ej.endEvent()],[this._touchMoveProxy,this._touchEndProxy,this._touchEndProxy],!1)},_touchMove:function(n){ej._inputTouchMove(n,this)},_touchInputEnd:function(n){ej._inputTouchEnd(n,this);ej.listenEvents([window,window,window],[ej.moveEvent(),ej.cancelEvent(),ej.endEvent()],[this._touchMoveProxy,this._touchEndProxy,this._touchEndProxy],!0)},_createDelegates:function(){this._onFocusDelegate=$.proxy(this._onFocusHandler,this);this._onBlurDelegate=$.proxy(this._onBlurHandler,this);this._onDocClickDelegate=$.proxy(this._docClick,this);this._onKeypressDelegate=$.proxy(this._onKeypressHandler,this);this._onClearClickDelegate=$.proxy(this._onClearClickHandler,this);this._touchStartProxy=$.proxy(this._touchStart,this);this._touchMoveProxy=$.proxy(this._touchMove,this);this._touchEndProxy=$.proxy(this._touchInputEnd,this)},_wireEvents:function(n){this._createDelegates();ej.listenEvents([this.element,this.element,this.element],["focus","blur","keyup"],[this._onFocusDelegate,this._onBlurDelegate,this._onKeypressDelegate],n);ej.isDevice()&&ej.listenTouchEvent(this.element,ej.startEvent(),this._touchStartProxy,n);ej.listenEvents([App.document,this._accwrapper.find(".e-m-acc-clear")],[ej.tapEvent(),ej.endEvent()],[this._onDocClickDelegate,this._onClearClickDelegate],n)},_onFocusHandler:function(){var n=this,r=this.element.val().substring(this.element.val().length-2,this.element.val().length),t,i;r==this.model.delimiterChar&&this.element.val(this.element.val().replace(this.element.val().lastIndexOf(this.model.delimiterChar),""));this._temptext=this.element.val();this._tempobj=this.element;!this.model.enableMultiSelect||this._accList.is(":visible")||this.element.val()==""||this._focus||this.element.val()[this.element.val().length-1]==this.model.delimiterChar.trim()||(this.element.val(this.element.val()+this.model.delimiterChar),this._focus=!0);this.model.renderMode=="android"?this._custAnd.addClass("e-m-acc-focus"):this.element.addClass("e-m-acc-focus");t=this.element.val();this.element.val(t);n.element[0].scrollLeft=n.element[0].scrollWidth;window.setTimeout(function(){ej.setCaretToPos(n.element[0],n.element.val().length,n.element.val().length)});i={value:this.element.val()!=""?this.element.val().substring(0,this.element.val().length-2):this.element.val()};this.model.focusIn&&this._trigger("focusIn",i)},_onBlurHandler:function(){this.model.renderMode=="android"?this._custAnd.removeClass("e-m-acc-focus"):this.element.removeClass("e-m-acc-focus");this.element[0].scrollLeft=0;var n={value:this.element.val()!=""?this.element.val().substring(0,this.element.val().length-2):this.element.val()};this.model.focusOut&&this._trigger("focusOut",n)},_onClearClickHandler:function(){this.element.val("");this.element.attr("placeholder",this.model.watermarkText);this.model.renderMode=="ios7"&&(this._clrElement.css("display","none"),this._accList&&this._accList.css("display","none"))},_touchEnd:function(n){this._checkflag=n.isChecked;this._selectedVal=n.text;this._checkeditems=n.checkedItemsText.toString();this._selectedVal!=this.model.emptyResultText&&(this.model.enableMultiSelect?(this._tempword=this._selectedVal,this._setMultiValueText(this._selectedVal)):(this.element.val(this._selectedVal),this._hideSuggestions()));n.value=this.element.val()!=""?this.element.val().substring(0,this.element.val().length-2):this.element.val();this._selectedItems=n.checkedItemsText;this._selectedVal!=this.model.emptyResultText&&(this.model.touchEnd&&this._trigger("touchEnd",n),this.model.select&&this._trigger("select",n),this.model.change&&this._trigger("change",n))},_setMultiValueText:function(n){var u=this,e=this._getDelimiterIndex()==-1?this._getDelimiterIndex()+1:this._getDelimiterIndex()+2,f=this.element.val(),i=this.element.val().indexOf(n)>-1,r,o,t;if(this.model.enableMultiSelect)for(i=!1,r=f.split(this.model.delimiterChar),o=this._checkeditems.split(this.model.delimiterChar),t=0;t<r.length;t++)r[t]==this._tempword&&(i=!0);i?this._checkflag||this.element.val(this.element.val().replace(this._tempword+this.model.delimiterChar,"")):this._checkflag&&this.element.val(f.substring(0,e)+n+this.model.delimiterChar);window.setTimeout(function(){u.element[0].scrollLeft=u.element[0].scrollWidth})},_getDelimiterIndex:function(){return this.element.val().lastIndexOf(this.model.delimiterChar)},_clear:function(){this.model.renderMode=="ios7"&&(this.element.val()==""?this._clrElement.css("display","none"):this._clrElement.css("display","inline"))},_showSuggestions:function(n){var t=this;t._accList.show();t.model.renderMode=="ios7"&&!ej.isMobile()&&this.element.val().length&&$("#"+t._id+"menu").ejmMenu("show",n);this._hideNoResults()},_hideSuggestions:function(){var n=this;n.model.renderMode!="ios7"||ej.isMobile()||$("#"+n._id+"menu").ejmMenu("hide");n._accList.hide()},_onKeypressHandler:function(n){var t,i,r;if((n.keycode==8||n.keycode==46)&&(this._focus=!0),this._keycode=n.keyCode,t=this,this._clear(),i={value:this.element.val()},this.model.keyPress&&this._trigger("keyPress",i),this._textValue=n.target.value,n.keyCode==13)n.preventDefault();else{if(this.model.value=this.element.val(),this._textValue==""){this._hideSuggestions();return}this.model.enableMultiSelect?(r=this._getDelimiterIndex()==-1?this._getDelimiterIndex()+1:this._getDelimiterIndex()+2,this._queryString=this._textValue.substring(r)):this._queryString=this._textValue;this._queryString.length>=this.model.minCharacter?this._filterMode=="client"?(this._resultData=this._filterResult(),this._renderSuggestionList(this._resultData),this.model.enableAutoFill&&n.keyCode!=8&&this.model.filterType=="startswith"&&(this._resultData.length==0?(t._accList.ejmListView({dataSource:window.noSuggSource}),t._accList.find(".e-m-lv-checkdiv").remove()):this._setInputText(this._resultData[0])),this._showSuggestions(n),ej.getCurrentPage().find("#"+this._id+"list_scroll").ejmScrollPanel("refresh"),this._setListHeight(this._resultData),this._checkSelectedItems()):this._sendAjaxRequest(n):this._hideSuggestions()}this._accList.text()==this.model.emptyResultText&&this._accList.ejmListView("removeCheckMark");ej._setScroller(this);this._x=this.element[0].scrollLeft},_setListHeight:function(n){n.length>this.model.itemsCount?this._accList.ejmListView({height:this._accList.find("li.e-m-list").outerHeight()*this.model.itemsCount+(this.model.renderMode=="windows"?10:0)}):this._accList.text()==this.model.emptyResultText?this._accList.ejmListView({height:this._accList.find("li.e-m-list").outerHeight()+(this.model.renderMode=="windows"?10:0)}):this._accList.ejmListView({height:this._accList.find("li.e-m-list").outerHeight()*n.length+(this.model.renderMode=="windows"?10:0)});this.model.renderMode!="ios7"||ej.isMobile()||(this._accMenu.height(this._accList.find(".e-m-list-container").outerHeight()+49),this._accMenu.find(".e-m-menu-container").height(this._accList.find(".e-m-list-container").outerHeight()),this._accMenu.find(".e-m-menu-container .e-m-lv").height(this._accList.find(".e-m-list-container").outerHeight()))},_sendAjaxRequest:function(n){var i={};$.extend(!0,i,n);var r=ej.DataManager({url:this.model.mapper,crossDomain:!0}),t=this,u=ej.Query().where(this.model.field,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);r.executeQuery(u).done(function(n){t._renderSuggestionList(n.result);t.model.dataSource=n.result;t._resultData=n.result;t.model.enableAutoFill&&t._keycode!=8&&t.model.filterType=="startswith"&&t._setInputText(t._resultData[0]);t._showSuggestions(i);t._setListHeight(n.result);t._checkSelectedItems();t.element.val()==""&&t._hideSuggestions()})},_checkSelectedItems:function(){var n=this;n.model.enableMultiSelect&&n.model.enableCheckbox&&n._accList.find(".e-m-list ").each(function(t,i){var r=$(i).text();n._tempobj.val().indexOf(r)>-1&&n._accList.ejmListView("checkItem",$(i).index())})},_renderSuggestionList:function(n){if(n.value=this.element.val()!=""?this.element.val().substring(0,this.element.val().length-2):this.element.val(),this.element.val()!=this._temptext&&this.model.change&&this._trigger("change",n),this.model.enableDistinct){var t=this.model.field,i={_name:null};i._name=t&&t.name?t.name:"name";this._resultData=ej.dataUtil.distinct(n,i._name,!0)}else this._resultData=n;this._resultData.length==0&&this._accList.ejmListView("getItemText",0)!=this.model.emptyResultText?(this._accList.ejmListView({dataSource:window.noSuggSource}),this._accList.find(".e-m-lv-checkdiv").remove()):this._resultData.length&&this._accList.ejmListView({dataSource:this._resultData});ej.listenEvents([this._accList,this._accList],[ej.startEvent(),ej.endEvent()],[this._onTouchStartDelegate,this._onTouchEndDelegate],!1)},_addSortingQuery:function(n,t){if(this.model.allowSorting){var i=this.model.sortOrder=="descending"?!0:!1;n.sortBy(t,i)}},_setInputText:function(n){var i=this._getDelimiterIndex()+1,r=this.element.val(),u=this.element[0].selectionStart,f=this.element.val().indexOf(n.name)>-1,t;f||this.element.val(r.substring(0,i)+n[this.model.field]);this.element[0].selectionStart=u;t=this.element[0].selectionEnd;this.element[0].selectionEnd=t},_filterResult:function(){datasource=eval(this.model.dataSource);var dataManager=ej.DataManager(datasource),field=this._isJson(datasource)?this.model.field:"",query=ej.Query().where(field,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch);return this._addSortingQuery(query,field),dataManager.executeLocal(query)},_isJson:function(n){return typeof n[0]=="object"},_docClick:function(n){this.model.enableMultiSelect&&($(n.target).closest(".e-m-list").length==!0||$(n.target).hasClass("e-m-acc-input")||(this.element.val().substring(this.element.val().length-2,this.element.val().length)==this.model.delimiterChar&&this.element.val(this.element.val().substring(0,this.element.val().length-2)),this._focus=!1));$(n.target).closest(".e-m-list").length!=!0&&n.target.id!=this._id&&this._hideSuggestions();this.model.renderMode=="ios7"&&(ej.isMobile()||$(n.target).closest(".e-m-menu").length==!0||$(n.target).hasClass("e-m-acc-input")||this._hideSuggestions());$(n.target).hasClass("e-m-acc-input")||this.element.blur()},_setModel:function(n){if(!this.model.enabled&&ej.isNullOrUndefined(n.enabled))return!1;for(var t in n)switch(t){case"theme":this._setTheme(n.theme);break;case"renderMode":this._setRenderMode(n.renderMode);break;case"showEmptyResultText":this._setShowEmptyResultText(n.showEmptyResultText);break;case"value":this._setValue(n.value);break;case"watermarkText":this.model.watermarkText=n.watermarkText;this._setWatermarkText(n.watermarkText);break;case"enabled":this._setEnabled(n.enabled);break;case"mode":this._setMode(n.mode)}},_setRenderMode:function(n){this.model.renderMode=n;n=="auto"&&ej.setRenderMode(this);var t=this.model.renderMode;this._accwrapper.removeClass("e-m-android e-m-ios7 e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setTheme:function(n){this.model.theme=n;this.model.theme=="auto"&&ej.setTheme(this);this._accwrapper.removeClass("e-m-light e-m-dark").addClass("e-m-"+this.model.theme)},_setShowEmptyResultText:function(n){this.model.showEmptyResultText=n;this._hideNoResults()},_hideNoResults:function(){this.model.showEmptyResultText||(!this._resultData||this._resultData.length!=0)&&this._resultData||this._accList.ejmListView("getItemText",0)!=this.model.emptyResultText||this._hideSuggestions()},_setValue:function(n){(typeof n=="object"||typeof n=="number"&&isNaN(n))&&(n="");this.model.value=n=$.trim(n);this.element.val("");n&&this.element.val(n)},_setWatermarkText:function(n){this.model.watermarkText?this.element.attr("placeholder",n):this.element.val()==""&&this.element.val(n)},_setMode:function(n){n&&(this.model.mode=n,this._accwrapper.removeClass("e-m-acc-default e-m-acc-search").addClass("e-m-acc-"+this.model.mode),this.element.removeClass("e-m-acc-default e-m-acc-search").addClass("e-m-acc-"+this.model.mode))},_refresh:function(){this._destroy();this._renderControl();this._wireEvents()},_destroy:function(){this.element.html(this._cloneElement.html());this._accList&&(this._accList.ejmListView("destroy"),this._accList.remove());this._accMenu&&(this._accMenu.ejmMenu("destroy"),this._accMenu.remove())},_setEnabled:function(n){n?(this.model.enabled=!0,this.enable()):(this.model.enabled=!1,this.disable())},enable:function(){this.element.removeClass("e-m-state-disabled")},disable:function(){this._accList.hide();this.element.addClass("e-m-state-disabled")},getValue:function(){return this.element.val()},getSelectedItems:function(){return this._selectedItems},clearText:function(){this.model.enabled&&(this.element.val(""),this._isFocused?this.element.blur():this._onBlurHandler())}});ej.mobile.Autocomplete.FilterType={StartsWith:"startswith",Contains:"contains"};ej.mobile.Autocomplete.Mode={Search:"search",Default:"default"};ej.mobile.Autocomplete.SortOrder={Ascending:"ascending",Descending:"descending"}}(jQuery,Syncfusion),function(n,t){t.widget({ejmButton:"ej.mobile.Button",ejmActionlink:"ej.mobile.Actionlink"},{_setFirst:!0,_rootCSS:"e-m-btn",defaults:{touchStart:null,touchEnd:null,enabled:!0,renderMode:"auto",text:"",theme:"auto",imageClass:null,imagePosition:"left",contentType:"text",enablePersistence:!1,ios7:{style:"normal",color:""},android:{style:"normal"},windows:{style:"normal",renderDefault:!1},flat:{style:"normal"}},dataTypes:{enabled:"boolean",theme:"enum",renderMode:"enum",imagePoisition:"enum",contentType:"enum",enablePersistence:"boolean",android:{style:"enum"},windows:{style:"enum",renderDefault:"boolean"},ios7:{style:"enum",color:"enum"},flat:{style:"enum"}},_init:function(){this._renderControl()},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._isLinkButton=this.element[0].nodeName=="A";this._wrapper=t.buildTag("div.e-m-btnwrapper e-m-"+this.model.renderMode+" e-m-"+this.model.theme,"",{},{style:this.model.style});this._isLinkButton&&this._wrapper.addClass("e-m-actionlink "+this.element.attr("class"));this.element.addClass("e-m-clearall e-m-btn-tag e-m-font-normal e-m-state-default e-m-user-select");this._setImage();this._setText(this.model.text);this.model[this.model.renderMode].style=="back"&&this.element.addClass("e-m-fontimage");this["_"+this.model.renderMode+"Properties"]&&this["_"+this.model.renderMode+"Properties"]();this.element.wrap(this._wrapper);this._wrapper=this.element.parent();this._createDelegates();this._controlStatus(this.model.enabled)},_ios7Properties:function(){this.model.ios7.style=="back"?this._isLinkButton&&this._wrapper.addClass("e-m-btn-"+this.model.ios7.style):this._wrapper.addClass("e-m-btn-"+this.model.ios7.style);this._isLinkButton&&this.model.ios7.color!=""&&this._wrapper.removeClass("e-m-"+this.model.theme).addClass("e-m-"+this.model.ios7.color)},_androidProperties:function(){this._wrapper.addClass(" e-m-"+this.model.theme+" e-m-btn-"+this.model.android.style);this.element.removeClass("e-m-font-normal").addClass("e-m-font-"+this.model.android.style)},_windowsProperties:function(){this._wrapper.addClass("e-m-btn-"+this.model.windows.style);this.model.windows.style=="back"&&(this._isLinkButton?this.element.empty():this.element.attr("value",""))},_flatProperties:function(){this._wrapper.addClass(" e-m-btn-"+this.model.flat.style)},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._touchMoveHandler=n.proxy(this._touchMove,this)},_wireEvents:function(n){t.listenEvents([this._wrapper,this._wrapper,this._wrapper],[t.startEvent(),t.endEvent(),t.cancelEvent()],[this._touchStartHandler,this._touchEndHandler,this._touchEndHandler],n)},_touchStart:function(n){this._start=!0;this._move=!1;t.isWindows()&&t._touchStartPoints(n,this);this._wrapper.addClass("e-m-state-active").removeClass("e-m-state-default");this.model.touchStart&&this._trigger("touchStart",data={text:this.model.text});t.listenTouchEvent(window,t.moveEvent(),this._touchMoveHandler,!1)},_touchMove:function(n){(!t.isWindows()||t.isWindows()&&t._isTouchMoved(n,this))&&(this._move=!0)},_touchEnd:function(){if(t.listenTouchEvent(window,t.moveEvent(),this._touchMoveHandler,!1),this._wrapper.addClass("e-m-state-default").removeClass("e-m-state-active"),!this._start||this._move){this._start=!1;this._move=!1;return}this.model[this.model.renderMode].style!="back"||this.model.touchEnd?this.model.touchEnd&&this._trigger("touchEnd",data={text:this.model.text}):history.back()},_controlStatus:function(n){var t=n?"removeClass":"addClass";this.element[t]("e-m-state-disabled");this._wrapper[t]("e-m-state-disabled");this._wireEvents(!n)},_setImage:function(){this.model.imageClass&&(this._wrapper.addClass(" e-m-btn-image"),this.model.contentType!="text"&&this.element.addClass(this.model.imageClass),this.model.contentType=="both"&&this.element.addClass("e-m-image-"+this.model.imagePosition),this.model.contentType=="image"&&(this._wrapper.addClass("e-m-btn-imageonly"),this.element.attr("value","")))},_setModel:function(n){for(var t in n)setprop="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[setprop]&&this[setprop](n[t])},_setRenderMode:function(n){this.model.renderMode=n;this._wrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat e-m-corner-all").addClass("e-m-"+this.model.renderMode);this._wrapper.addClass("e-m-btn-"+this.model[this.model.renderMode].style)},_setTheme:function(){this._wrapper.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme)},_setIos7:function(n){n.style&&this._setButtonStyle(n.style);n.color&&this._setColor(n.color)},_setAndroid:function(n){this._setButtonStyle(n.style)},_setFlat:function(n){this._setButtonStyle(n.style)},_setWindows:function(n){this._setButtonStyle(n.style)},_setButtonStyle:function(n){this.model[this.model.renderMode].style=n;this._wrapper.removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header e-m-btn-dialog").addClass("e-m-btn-"+this.model[this.model.renderMode].style);this._setText(this.model.text)},_setColor:function(n){this.model.ios7.style=="normal"&&(this.model[this.model.renderMode].color=n,this._wrapper.removeClass("e-m-red e-m-black e-m-green e-m-blue e-m-gray e-m-"+this.model.theme).addClass("e-m-"+this.model[this.model.renderMode].color))},_setEnabled:function(){this._controlStatus(this.model.enabled)},_setText:function(n){this.model.text=n?n:this.element[0].nodeName=="A"||this.element[0].nodeName=="BUTTON"?this.element.html():this.element.attr("value")?this.element.attr("value"):this.model.text;this.element[0].nodeName=="A"||this.element[0].nodeName=="BUTTON"?this.model.renderMode=="windows"&&this.model.windows.style=="back"?this.element.empty():this.element.html(this.model.text):this.element.attr("value",this.model.text)},_clearElement:function(){this.element.insertAfter(this._wrapper);this._wrapper.remove();this.element.removeAttr("class");this.element.addClass("e-m-btn")},_destroy:function(){this._wireEvents(!0);this._clearElement()},enable:function(){this.model.enabled=!0;this._controlStatus(!0)},disable:function(){this.model.enable=!1;this._controlStatus(!1)}});t.mobile.Button.IOS7={};t.mobile.Button.IOS7.Style={Normal:"normal",Back:"back",Header:"header",Dialog:"dialog"};t.mobile.Button.IOS7.Color={Gray:"gray",Black:"black",Blue:"blue",Green:"green",Red:"red"};t.mobile.Button.Android={};t.mobile.Button.Android.Style={Normal:"normal",Small:"small",Dialog:"dialog"};t.mobile.Button.Windows={};t.mobile.Button.Windows.Style={Normal:"normal",Back:"back"};t.mobile.Button.Flat={};t.mobile.Button.Flat.Style={Normal:"normal",Back:"back",Header:"header"};t.mobile.Button.ImagePosition={Left:"left",Right:"right"};t.mobile.Button.ContentType={Text:"text",Image:"image",Both:"both"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmCheckBox","ej.mobile.CheckBox",{_setFirst:!0,_rootCSS:"e-m-chkbox",defaults:{touchStart:null,touchEnd:null,renderMode:"auto",preventDefault:!1,theme:"auto",enabled:!0,checked:!1,enableTriState:!1,checkState:"uncheck",text:"",enablePersistence:!1,windows:{renderDefault:!1}},dataTypes:{renderMode:"enum",theme:"enum",enabled:"boolean",checked:"boolean",checkState:"enum",enableTriState:"boolean",enablePersistence:"boolean"},_init:function(){this._renderControl();this._wireEvents(!1)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this.isChkboxChecked=this.model.checked||this.model.enableTriState&&this.model.checkState=="check"?!0:!1;this._wrapper=t.buildTag("div.e-m-chkbox e-m-"+this.model.renderMode+" e-m-"+this.model.theme,"",{},{});n(this.element).attr("style","display:none");this.element.wrap(this._wrapper);this._wrapper=this.element.parent();var i=t.buildTag("div.e-m-rootel");this.innerDiv=t.buildTag("div.e-m-chk-innerel e-m-inact e-m-fontimage","","",{},{});this.isChkboxChecked&&(this.element.attr("checked",!0),this.innerDiv.removeClass("e-m-inact").addClass("e-m-active"));i.append(this.innerDiv);this._wrapper.append(i);this._setEnabled(this.model.enabled);this.model.checkState=="indeterminate"&&this.model.enableTriState==!0&&this._setAllowIndeterminate(this.model.enableTriState);this._setTextWrapper(this.model.text)},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchStopHandler=n.proxy(this._touchEnd,this);this._activeHandler=n.proxy(this._active,this);this._touchMoveHandler=n.proxy(this._removeActive,this)},_wireEvents:function(n){this._createDelegates();t.listenEvents([this._wrapper,this._wrapper,this._wrapper,this._wrapper,this._wrapper,this._wrapper],["click","click",t.startEvent(),t.endEvent(),t.cancelEvent(),"mouseleave"],[this._touchStartHandler,this._touchStopHandler,this._activeHandler,this._touchMoveHandler,this._touchMoveHandler,this._touchMoveHandler],n)},_setAllowIndeterminate:function(t){t?(this.innerDiv.removeClass("e-m-inact e-m-active").addClass("e-chk-indeter"),n(this.element).attr("indeterminate",!0)):(this._wrapper.find(".e-chk-indeter").removeClass("e-chk-indeter"),this.element.removeAttr("indeterminate"),n(this.element).attr("indeterminate",!1),this.model.checkState=="check"?this._checked():this._unChecked())},_addAndroidGlow:function(){this.model.renderMode=="android"&&this._wrapper.find(".e-m-rootel ").addClass("e-m-state-glow")},_checked:function(){this._wrapper.find(".e-m-chk-innerel").removeClass("e-m-inact e-chk-indeter").addClass("e-m-active");this.element.attr("checked",!0)},_unChecked:function(){this._wrapper.find(".e-m-chk-innerel").removeClass("e-chk-indeter e-m-active").addClass("e-m-inact");this.element.attr("checked",!1)},_checkedStateHandler:function(){this._wrapper.find(".e-m-rootel").children().hasClass("e-m-inact")?(this._checked(),this.model.checked=this.isChkboxChecked=!0,this.model.checkState=="indeterminate"&&(this.model.enableTriState=!0)):this._wrapper.find(".e-m-rootel").children().hasClass("e-m-active")?this.model.enableTriState?this.model.checkState=="indeterminate"?(this._setAllowIndeterminate(!0),this.isChkboxChecked=!0):this._setAllowIndeterminate(!1):(this._unChecked(),this.isChkboxChecked=!1):this._wrapper.find(".e-m-rootel").children().hasClass("e-chk-indeter")&&(this.model.checked=this.isChkboxChecked=!1,this._setAllowIndeterminate(!1),this.model.enableTriState=!1)},_triStateHandler:function(){this.model.enableTriState?this.model.checkState=="indeterminate"?this._setAllowIndeterminate(!0):this._setAllowIndeterminate(!1):this._wrapper.find(".e-m-rootel").children().hasClass("e-m-inact")?(this._checked(),this.model.checked=this.isChkboxChecked=!0):this._wrapper.find(".e-m-rootel").children().hasClass("e-m-active")&&(this._unChecked(),this.model.checked=this.isChkboxChecked=!1)},_touchStart:function(){if(!this.model.preventDefault){var n={value:this.element.val(),isChecked:this.model.checked};this.model.touchStart&&this._trigger("touchStart",n)}},_touchEnd:function(){if(!this.model.preventDefault){this._checkedStateHandler();var n={value:this.element.val(),isChecked:this.model.checked};this.model.touchEnd&&this._trigger("touchEnd",n)}},_active:function(){this.model.renderMode=="windows"&&this._wrapper.find(".e-m-rootel").addClass("e-m-windowsaccent");this.model.renderMode=="android"&&!this.model.preventDefault;this._addAndroidGlow()},_removeActive:function(){this.model.renderMode=="windows"&&this._wrapper.find(".e-m-rootel").removeClass("e-m-windowsaccent");this.model.renderMode=="android"&&this._wrapper.find(".e-m-rootel").removeClass("e-m-state-glow")},_setTextWrapper:function(n){n!=""&&(this.txtSpan=t.buildTag("div.e-m-chktext",n),this._wrapper.append(this.txtSpan))},_setText:function(n){this.txtSpan?this.txtSpan.html(n):this._setTextWrapper(n)},_setEnabled:function(n){this.model.enabled=n;this._wrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_setTheme:function(n){this.model.theme=n;this._wrapper.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase())},_setChecked:function(n){this._wrapper.find(".e-m-chk-innerel")[n?"addClass":"removeClass"]("e-m-active");this._wrapper.find(".e-m-chk-innerel")[n?"removeClass":"addClass"]("e-m-inact");this.element.attr("checked",n);this.model.checked=this.isChkboxChecked=n},_setRenderMode:function(){t.setRenderMode(this);this._wrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setState:function(n){this.model.checkState=n;this._triStateHandler()},_setModel:function(n){var t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t])},_refresh:function(){this._destroy();this.element.find("input").addClass("e-m-chkbox");this._renderControl()},_clearElement:function(){this.element.insertAfter(this._wrapper);this._wrapper.remove();this.element.removeAttr("class")},_destroy:function(){this._wireEvents(!0);this._clearElement()},isChecked:function(){if(this.isChkboxChecked!=null&&this.isChkboxChecked!=i)return this.isChkboxChecked}});t.mobile.CheckBox.CheckState={Uncheck:"uncheck",Check:"check",Indeterminate:"indeterminate"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmDatePicker","ej.mobile.DatePicker",{_setFirst:!0,_rootCSS:"e-m-datepicker",defaults:{dateFormat:"",renderMode:"auto",minDate:null,maxDate:null,theme:"auto",culture:"en-US",value:new Date,enabled:!0,enablePersistence:!1,select:null,load:null,focusIn:null,focusOut:null,open:null,close:null,change:null,ios7:{renderDefault:!1},windows:{renderDefault:!1}},dataTypes:{renderMode:"enum",theme:"enum",enabled:"boolean",ios7:{renderDefault:"boolean"},windows:{renderDefault:"boolean"},enablePersistence:"boolean"},_init:function(){this._createDelegates();this._renderControl();this._wireEvents()},_datepickerInitialize:function(){this._winrt=this.model.renderMode=="windows"&&!t.isMobile();this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._id=n(this.element).attr("name")?n(this.element).attr("name"):n(this.element).attr("id");n(this.element).attr("id",n(this.element).attr("id")?n(this.element).attr("id"):this._id);this._menuTargetId=n(this.element).attr("id");this._setCulture(this.model.culture);this.model.dateFormat=this.model.dateFormat==""?Date.format:this.model.dateFormat;this.model.minDate=this.model.minDate?Globalize.format(new Date(this.model.minDate),this.model.dateFormat):Globalize.format(new Date((new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+((new Date).getFullYear()-15)),this.model.dateFormat);this.model.maxDate=this.model.maxDate?Globalize.format(new Date(this.model.maxDate),this.model.dateFormat):Globalize.format(new Date((new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+((new Date).getFullYear()+15)),this.model.dateFormat);this.model.value=Globalize.format(new Date(this.model.value),this.model.dateFormat);this._currentDate=new Date(this.model.minDate)>new Date(this.model.value)?this.model.minDate:new Date(this.model.maxDate)<new Date(this.model.value)?this.model.maxDate:new Date(this.model.value)!=new Date?this.model.value:new Date;this._valindx=this.model.renderMode=="android"?1:2},_setCulture:function(n){this.culture=Globalize.culture(n);this.culture&&(Date.dayNames=this.culture.calendar.days.names,Date.abbrDayNames=this.culture.calendar.days.namesAbbr,Date.monthNames=this.culture.calendar.months.names,Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,Date.format=this.culture.calendar.patterns.d)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this._datepickerInitialize();this._datepickerwrapper=t.buildTag("div.e-m-datepickerwrapper e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-user-select#"+this._id+"_Wrapper","",{},{});this._datepickerwrapper.width(this.element[0].style.width);this.element.width("99%").attr({name:this._id}).wrap(this._datepickerwrapper);this._datepickerwrapper=this.element.parent();t.isDevice()&&this.model.renderMode=="ios7"&&this.model.ios7.renderDefault?this.element.attr({type:"date"}):(this.element.attr({readonly:!0}),this._outerdiv=t.buildTag("div.e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-dp e-m-user-select #"+this._id+"_dp","",{},{}),this._innerdiv=t.buildTag("div.e-m-dpinner","",{},{}),this._wrapdiv=t.buildTag("div.e-m-dpwrap","",{},{}),this._visibletexthtml=this._winrt?"":this.model.renderMode=="android"?"<div class='e-m-text e-m-invisible-text'><\/div>":"<div class='e-m-text e-m-invisible-text'><\/div><div class='e-m-text e-m-invisible-text'><\/div>",this._months=t.buildTag("div.e-m-dp e-m-dpmonth e-m-left","<div class='e-m-datewrapper'><div id="+this._id+"_dpmonth><div class='e-m-dpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-dp-overlay'><\/div><\/div>",{},{}),this._days=t.buildTag("div.e-m-dp e-m-dpdate e-m-center","<div class='e-m-datewrapper'><div id="+this._id+"_dpdate><div class='e-m-dpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-dp-overlay'><\/div><\/div>",{},{}),this._years=t.buildTag("div.e-m-dp e-m-dpyear e-m-right","<div class='e-m-datewrapper'><div id="+this._id+"_dpyear><div class='e-m-dpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-dp-overlay'><\/div><\/div>",{},{}),this["_"+this.model.renderMode+"Rendering"](),this._scrollInitialize(),this._minDateInitialize(),this._maxDateInitialize(),this._setInitialDate());this.model.load&&this._trigger("load",this._argsValue());this._controlStatus(this.model.enabled)},_scrollPanel:function(i){this["_"+i]=t.buildTag("div#'"+this._id+"'dp'"+i+"'_scrollpanel","",{},{});this._outerdiv.find("#"+this._id+"_dp"+i).append(this["_"+i]);this["_"+i].ejmScrollPanel({enableNativeScrolling:!1,enableTransition:!1,enableTransform:!1,showScrollbars:!1,target:this._id+"_dp"+i,targetHeight:this._targetHeight,renderMode:this.model.renderMode,scrollEnd:n.proxy(this._onScrollStop,this),enableBounce:!1,scrollStart:n.proxy(this._onScrollStart,this),enableDisplacement:!0,displacementValue:this._displacement,displacementTime:t.isWindows()?800:350})},_scrollInitialize:function(){this._displacement=this.model.renderMode=="ios7"?40:this.model.renderMode=="android"?45:94;this._targetHeight=this.model.renderMode=="ios7"?200:this.model.renderMode=="android"?135:this._winrt?0:window.innerHeight-this._toolbar.height();this._winrt||(this._scrollPanel("date"),this._scrollPanel("month"),this._scrollPanel("year"),(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(n(this._outerdiv).css("top",-window.innerHeight+"px").addClass("flip"),n(this._toolbar).css("visibility","hidden")),this._domElements())},_minDateInitialize:function(){if(!this._winrt){this._minDate=new Date(this.model.minDate);var n=this._minDate.getDate(),t=this._minDate.getMonth();this._minMonths=this._monthtext.slice(0+this._valindx,t+this._valindx);this._minDates=this._datetext.slice(0+this._valindx,n+this._valindx-1)}},_maxDateInitialize:function(){if(!this._winrt){this._maxDate=new Date(this.model.maxDate);var n=this._maxDate.getDate(),t=this._maxDate.getMonth();this._maxMonths=this._monthtext.slice(t+1+this._valindx,12+this._valindx);this._maxDates=this._datetext.slice(n+this._valindx,31+this._valindx)}},_renderTemplate:function(){var t={};t["default"]="<div class='e-m-text {{:class}}'>{{:value}}<\/div>";t.monthtemplate="<div class='e-m-text'>{{:secondvalue}}<\/div>";t.windows="<div class='e-m-text {{:class}}'><div class='e-m-text-inner'>{{:value}}<\/div><div class='e-m-text-val e-m-dp-dayweek'>{{:secondvalue}}<\/div><\/div>";t.winrt="<option value='{{:value}}'>{{:value}}<\/option>";t.winrtmonths="<option value='{{:value}}'>{{:secondvalue}}<\/option>";n.templates(t)},_renderDateContent:function(){this._renderTemplate();this._monthsRendering();this._daysRendering();this._yearsRendering();this._innerdiv.append(this._wrapdiv);this._outerdiv.append(this._innerdiv)},_ios7Rendering:function(){this._renderDateContent();this._innerdiv.append("<div class='e-m-ios7-overlay'><\/div>");this._menu=t.buildTag("div#"+this._id+"_menu.e-m-dp-menu");this._menu.append(this._outerdiv);this._menu.ejmMenu({renderTemplate:!0,allowScrolling:!1,targetId:this._menuTargetId,height:205,width:this._outerdiv.width(),theme:this.model.theme,renderMode:this.model.renderMode,ios7:{showTitle:!1,showCancelButton:!1}})},_androidRendering:function(){this._datepickerwrapper.append("<span class='e-m-textspan'><\/div>");this._renderDateContent();this._dialog=t.buildTag("div.e-m-dp-dialog#"+this._id+"_dialog");this._dialog.ejmDialog({allowScrolling:!1,theme:this.model.theme,title:"Set Date",leftButtonCaption:"Done",mode:"alert",renderMode:this.model.renderMode});this._dialog.find("#"+this._id+"_dialogcontent").append(this._outerdiv)},_windowsRendering:function(){this._outerdiv.append("<div class='e-m-dp-header'>CHOOSE DATE<\/div>");this.model.renderMode!="windows"||t.isMobile()?(this._renderDateContent(),this._toolbar=t.buildTag("div#"+this._id+"_toolbar.e-m-dp-tb","<ul><li data-ej-iconname='done'><\/li><li data-ej-iconname='close'><\/li><\/ul>"),App.activePage.append(this._outerdiv),this._toolbar.ejmToolbar({theme:this.model.theme,renderMode:this.model.renderMode,touchEnd:n.proxy(this._winToolbarItem,this),windows:{renderDefault:this.model.windows.renderDefault}})):(this._renderDateContent(),this._dialog=t.buildTag("div.e-m-dp-dialog#"+this._id+"_dialog"),this._dialog.ejmDialog({showModal:!0,allowScrolling:!1,theme:this.model.theme,title:"Set Date",leftButtonCaption:"Done",rightButtonCaption:"Cancel",mode:"confirm",renderMode:this.model.renderMode,windows:{renderDefault:this.model.windows.renderDefault}}),this._dialog.find("#"+this._id+"_dialogcontent").append(this._outerdiv))},_flatRendering:function(){this._windowsRendering()},_daysRendering:function(){var n=[],r=this._getDaysInMonth(new Date(this.model.value)),t;for(i=1;i<=31;i++)t=Date.dayNames[new Date(new Date(this.model.value).getMonth()+1+"/"+i+"/"+new Date(this.model.value).getFullYear()).getDay()],i<=r?n.push({value:i,secondvalue:t,"class":""}):n.push({value:i,secondvalue:t,"class":"e-m-state-disabled"});this._columnRendering("days",n)},_winrtContent:function(i,r){this._select=t.buildTag("select");r=n.render[i=="months"?"winrtmonths":"winrt"](r);this["_"+i].find(".e-m-dpouter").html(this._select.append(r));this._wrapdiv.append(this["_"+i])},_monthsRendering:function(){var n=[],t=this.model.renderMode=="android"?"abbrMonthNames":"monthNames";for(i=0;i<12;i++)n.push({secondvalue:Date[t][i],value:i+1});this._columnRendering("months",n)},_yearsRendering:function(){var n=[];for(i=new Date(this.model.minDate).getFullYear();i<=new Date(this.model.maxDate).getFullYear();i++)n.push({value:i});this._columnRendering("years",n)},_columnRendering:function(t,i){if(this._winrt)this._winrtContent(t,i);else{var r=this.model.renderMode=="windows"||this.model.renderMode=="flat"?"windows":t=="years"?"default":t=="months"?"monthtemplate":"default";i=n.render[r](i)+this._visibletexthtml;this["_"+t].find(".e-m-dpouter").html(this["_"+t].find(".e-m-dpouter").html()+i);this._wrapdiv.append(this["_"+t])}},_createDelegates:function(){this._docClickHndlr=n.proxy(this._documentClick,this);this._winScrlHndlr=n.proxy(this._outerScroll,this);this._focusHndlr=n.proxy(this._showDatePicker,this);this._blurHndlr=n.proxy(this._blurEventHandler,this);this._andBtnClkHndlr=n.proxy(this._androidDialogButtonClick,this);this._winrtBtnClkHndlr=n.proxy(this._winrtDialogButtonClick,this)},_wireEvents:function(i){this.model.renderMode=="android"?t.listenTouchEvent(n(this._dialog).find(".e-m-btn"),t.tapEvent(),this._andBtnClkHndlr,i):this._winrt?t.listenTouchEvent(n(this._dialog).find(".e-m-btn"),t.tapEvent(),this._winrtBtnClkHndlr,i):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.listenTouchEvent(n(this._outerdiv).find(".e-m-dpwrap .e-m-dp"),t.startEvent(),this._winScrlHndlr,i);t.listenEvents([n(this.element),n(this.element)],["focus","blur"],[this._focusHndlr,this._blurHndlr],i)},_scrollCoordinates:function(){var n={};return n.Scrolldate=Math.round(this._date.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollmonth=Math.round(this._month.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollyear=Math.round(this._year.ejmScrollPanel("getScrollPosition").y/this._displacement),n.date=-n.Scrolldate+1,n.month=-n.Scrollmonth+1,n.year=-n.Scrollyear+new Date(this.model.minDate).getFullYear(),n},_domElements:function(){this._datetext=this._outerdiv.find("#"+this._id+"_dpdate .e-m-text");this._monthtext=this._outerdiv.find("#"+this._id+"_dpmonth .e-m-text");this._yeartext=this._outerdiv.find("#"+this._id+"_dpyear .e-m-text")},_activeText:function(t,i,r,u){(u&&u=="dpdate"||u==null)&&(n(this._datetext).removeClass("e-m-text-active"),n(this._datetext[t-1+this._valindx]).addClass("e-m-text-active"));(u&&u=="dpmonth"||u==null)&&(n(this._monthtext).removeClass("e-m-text-active"),n(this._monthtext[i-1+this._valindx]).addClass("e-m-text-active"));(u&&u=="dpyear"||u==null)&&(n(this._yeartext).removeClass("e-m-text-active"),n(this._yeartext[r-new Date(this.model.minDate).getFullYear()+this._valindx]).addClass("e-m-text-active"))},_setDateInput:function(){n(this.element).val(Globalize.format(new Date(this._currentDate),this.model.dateFormat));this._menuHide()},_winrtInitialDate:function(t){var t=new Date(this._currentDate);n("#"+this._id+"_dpdate").find("select option[value='"+t.getDate()+"']").attr("selected",!0);n("#"+this._id+"_dpmonth").find("select option[value='"+(t.getMonth()+1)+"']").attr("selected",!0);n("#"+this._id+"_dpyear").find("select option[value='"+t.getFullYear()+"']").attr("selected",!0)},_setInitialDate:function(){if(this._winrt)this._winrtInitialDate(this._currentDate);else{this._setValue(this._currentDate);var t=this;setTimeout(function(){t._setProperDate(100)},200)}n(this.element).val(Globalize.format(new Date(this._currentDate),this.model.dateFormat));this._previousDate=n(this.element).val()},_setValue:function(n){var n=new Date(n);this._time=t.isAndroid()||t.isWindows()?0:200;this._date.ejmScrollPanel("scrollTo",0,-this._displacement*(n.getDate()-1),this._time);this._month.ejmScrollPanel("scrollTo",0,-this._displacement*n.getMonth(),this._time);this._year.ejmScrollPanel("scrollTo",0,-this._displacement*(n.getFullYear()-new Date(this.model.minDate).getFullYear()),this._time)},_checkMinMax:function(n){if(n.year==this._minDate.getFullYear()||n.year==this._maxDate.getFullYear()){var t=n.year==this._minDate.getFullYear()?"min":"max";this["_"+t+"Months"].addClass("e-m-state-disabled");(t=="min"?n.month<this._minDate.getMonth()+1:n.month>this._maxDate.getMonth()+1)?(n.month=this["_"+t+"Date"].getMonth()+1,this._month.ejmScrollPanel("scrollTo",0,-this._displacement*this["_"+t+"Date"].getMonth(),this._time)):(t=="min"?n.month==this._minDate.getMonth()+1:n.month==this._maxDate.getMonth()+1)?(this["_"+t+"Dates"].addClass("e-m-state-disabled"),(t=="min"?n.date<this._minDate.getDate():n.date>this._maxDate.getDate())&&(n.date=this["_"+t+"Date"].getDate(),this._date.ejmScrollPanel("scrollTo",0,-this._displacement*(this["_"+t+"Date"].getDate()-1),this._time))):this["_"+t+"Dates"].removeClass("e-m-state-disabled");t=="min"?(this._maxMonths.removeClass("e-m-state-disabled"),this._maxDates.removeClass("e-m-state-disabled")):(this._minMonths.removeClass("e-m-state-disabled"),this._minDates.removeClass("e-m-state-disabled"))}else this._minMonths.removeClass("e-m-state-disabled"),this._minDates.removeClass("e-m-state-disabled"),this._maxMonths.removeClass("e-m-state-disabled"),this._maxDates.removeClass("e-m-state-disabled");return n},_setProperDate:function(t,i){var r=this._scrollCoordinates(),e,f,u;for(r=this._checkMinMax(r),e=this,f=this._getDaysInMonth(new Date(r.month+"/1/"+r.year)),u=27;u<=30;u++)u<f?r.year!=this._maxDate.getFullYear()?n(this._datetext[u+this._valindx]).removeClass("e-m-state-disabled"):r.month!=this._maxDate.getMonth()+1&&n(this._datetext[u+this._valindx]).removeClass("e-m-state-disabled"):n(this._datetext[u+this._valindx]).addClass("e-m-state-disabled");f<r.date&&(r.date=f,this._date.ejmScrollPanel("scrollTo",0,-this._displacement*(f-1),this._time));this.model.renderMode=="ios7"?setTimeout(function(){n(e.element).val(Globalize.format(new Date(r.month+"/"+r.date+"/"+r.year),e.model.dateFormat))},t):this.model.renderMode=="android"&&this._dialog.ejmDialog({title:Globalize.format(new Date(r.month+"/"+r.date+"/"+r.year),this.model.dateFormat)});this._currentDate=r.month+"/"+r.date+"/"+r.year;this._activeText(r.date,r.month,r.year,i);this.model.change&&this._trigger("change",this._argsValue())},_argsValue:function(){return{value:Globalize.format(this._currentDate,this.model.dateFormat)}},_onScrollStop:function(n){if(!n.object._moved){var t=n.model.target.replace(this._id+"_","");this._setProperDate(this.model.renderMode=="windows"?700:200,t);this["_"+this.model.renderMode+"ScrollStop"]&&this["_"+this.model.renderMode+"ScrollStop"](n.model.target,t,n)}},_windowsScrollStop:function(t,i){for(var f,e,r=this._scrollCoordinates(),u=0;u<this._getDaysInMonth(new Date(r.month+"/"+r.date+"/"+r.year));u++)f=Date.dayNames[new Date(r.month+"/"+(u+1)+"/"+r.year).getDay()],n(this._datetext[u]).find(".e-m-dp-dayweek").html(f);e=this._id+"_"+this._target;this._hideWrapper(i)},_flatScrollStop:function(n,t,i){this._windowsScrollStop(n,t,i)},_onScrollStart:function(n){this._target=n.model.target.replace(this._id+"_","");this["_"+this.model.renderMode+"ScrollStart"]&&this["_"+this.model.renderMode+"ScrollStart"](n.model.target,this._target)},_windowsScrollStart:function(t,i){n("#"+t+"").find(".e-m-text.e-m-text-active").removeClass("e-m-text-active");this._hideWrapper(i)},_flatScrollStart:function(n,t){this._windowsScrollStart(n,t)},_hideWrapper:function(t){t&&t=="dpdate"&&(this._year.ejmScrollPanel("instance")._moved||n("#"+this._id+"_dpyear").closest(".e-m-datewrapper").removeClass("e-m-scrollstart"),this._month.ejmScrollPanel("instance")._moved||n("#"+this._id+"_dpmonth").closest(".e-m-datewrapper").removeClass("e-m-scrollstart"));t&&t=="dpmonth"&&(this._year.ejmScrollPanel("instance")._moved||n("#"+this._id+"_dpyear").closest(".e-m-datewrapper").removeClass("e-m-scrollstart"),this._date.ejmScrollPanel("instance")._moved||n("#"+this._id+"_dpdate").closest(".e-m-datewrapper").removeClass("e-m-scrollstart"));t&&t=="dpyear"&&(this._month.ejmScrollPanel("instance")._moved||n("#"+this._id+"_dpmonth").closest(".e-m-datewrapper").removeClass("e-m-scrollstart"),this._date.ejmScrollPanel("instance")._moved||n("#"+this._id+"_dpdate").closest(".e-m-datewrapper").removeClass("e-m-scrollstart"))},_documentClick:function(t){n(t.target).closest("#"+this._id+"_dp.e-m-"+this.model.renderMode+".e-m-dp").size()==0&&n(t.target).closest("#"+this._id+"_Wrapper.e-m-"+this.model.renderMode+".e-m-datepickerwrapper").size()==0?this._menuHide():this._showDatePicker()},_blurEventHandler:function(){this.model.focusOut&&this._trigger("focusOut",this._argsValue())},_menuHide:function(){this._previousDate!=n(this.element).val()&&this.model.select&&this._trigger("select",this._argsValue());this._previousDate=n(this.element).val();this._hideDatePicker()},_winToolbarItem:function(n){n.itemname=="done"?this._setDateInput():this._hideDatePicker()},_winrtDialogButtonClick:function(t){n(t.target).val()=="Done"?(this._currentDate=n("#"+this._id+"_dpmonth").find("select option:selected").val()+"/"+n("#"+this._id+"_dpdate").find("select option:selected").val()+"/"+n("#"+this._id+"_dpyear").find("select option:selected").val(),this._setDateInput()):this._showHidePicker(!0)},_androidDialogButtonClick:function(){this._setDateInput()},_outerScroll:function(t){n(t.target).closest(".e-m-dp").find(".e-m-datewrapper").addClass("e-m-scrollstart")},_showHidePicker:function(n){var f={currentTarget:this._datepickerwrapper},r=n?"hidden":"visible",u=n?"out":"in",i=t.getMaxZindex();this.element.next("span")[n?"removeClass":"addClass"]("e-m-focusin");this._winrt?this._dialog.ejmDialog(n?"close":"open"):this.model.renderMode=="android"?this._dialog.css("visibility",n?"hidden":"visible").css("z-index",i+1):this.model.renderMode=="windows"&&(this._outerdiv.css({top:n?"":"0px",bottom:n?window.innerHeight+"px":this._toolbar.outerHeight()+"px","z-index":i+1,"visibility ":r}).removeClass("in out").addClass(u),this._outerdiv.find(".e-m-dp-header").css({"z-index":i+2}),this._toolbar.css({"z-index":i+2,visibility:r}))},_showDatePicker:function(){this.model.focusIn&&this._trigger("focusIn",this._argsValue());this._showHidePicker();this._outerdiv.find(".e-m-datewrapper").removeClass("e-m-scrollstart");this.model.open&&this._trigger("open",this._argsValue())},_hideDatePicker:function(){this._showHidePicker(!0);this.model.close&&this._trigger("close",this._argsValue())},_getDaysInMonth:function(n){return[31,this._isLeapYear(n.getFullYear())?29:28,31,30,31,30,31,31,30,31,30,31][n.getMonth()]},_isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},_refreshScroller:function(){this._date.ejmScrollPanel("refresh");this._month.ejmScrollPanel("refresh");this._year.ejmScrollPanel("refresh")},_setModel:function(n){var i;for(var t in n)t=="renderMode"||t=="minDate"||t=="maxDate"||this.model.renderMode=="ios7"&&t=="renderDefault"?i=!0:(setprop="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[setprop]&&this[setprop](n[t]));i&&this._refresh()},_setTheme:function(n){this.model.theme=n;this._datepickerwrapper.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme);this.model.renderMode!="ios7"||t.isMobile()||this._menu.ejmMenu({theme:this.model.theme});this.model.renderMode=="android"?this._dialog.ejmDialog({theme:this.model.theme}):this.model.renderMode=="windows"&&this._toolbar.ejmToolbar({theme:this.model.theme})},_setEnabled:function(n){this._controlStatus(n)},_setDateFormat:function(t){this.model.dateFormat=t;n(this.element).val(Globalize.format(new Date(this._currentDate),t))},_controlStatus:function(n){this._datepickerwrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_refresh:function(){this._destroy();this.element.addClass("e-m-datepicker");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.insertAfter(this._datepickerwrapper);this._datepickerwrapper.remove();this._dialog?(this._dialog.ejmDialog("instance")._destroy(),this._dialog.remove(),this._dialog=null):this._toolbar?(this._toolbar.ejmToolbar("instance")._destroy(),this._toolbar.remove(),this._toolbar=null):this._menu&&(this._menu.ejmMenu("instance")._destroy(),this._menu.remove(),this._menu=null);this.element=n(this.element);this._outerdiv.remove()},_destroy:function(){this._wireEvents(!0);this._clearElement()},show:function(n){var n={currentTarget:this._datepickerwrapper};this.model.renderMode=="ios7"?this._menu.ejmMenu("show",n):this._showHidePicker()},hide:function(n){var n={currentTarget:this._datepickerwrapper};this.model.renderMode=="ios7"?this._menu.ejmMenu("hide",n):this._showHidePicker(!0)},enable:function(){this.model.enabled=!0;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},disable:function(){this.model.enabled=!1;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},getValue:function(){return n(this.element).val()},setCurrentDate:function(n){this._currentDate=n;this._setInitialDate()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmDialog","ej.mobile.Dialog",{_setFirst:!0,_rootCSS:"e-m-dialog",defaults:{enableAutoOpen:!1,title:null,beforeClose:null,open:null,close:null,buttonTap:null,renderMode:"auto",theme:"auto",enableModal:!1,showButtons:!0,allowScrolling:!0,enableNativeScrolling:t.isAndroid()&&t.isLowerAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1,mode:"alert",leftButtonCaption:"Cancel",rightButtonCaption:"Continue",checkDOMChanges:!1,templateId:null,targetHeight:null,enablePersistence:!1,windows:{renderDefault:!1}},dataTypes:{enableAutoOpen:"boolean",renderMode:"enum",enableModal:"boolean",allowScrolling:"boolean",showButtons:"boolean",checkDOMChanges:"boolean",mode:"enum",enablePersistence:"boolean"},_init:function(){this.id=this.element.attr("id");this._browser=t.browser();this._body=App.activePage;t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._orgEle=this.element.clone();this._renderControl();this._wireEvents()},_renderControl:function(){if(this.element.addClass("e-m-"+this.model.renderMode+" e-m-dialog e-m-user-select e-m-"+this.model.theme+""),this.model.templateId&&t.getCurrentPage().find("#"+this.model.templateId).length){var n=t.getCurrentPage().find("#"+this.model.templateId);this._template=n;t.destroyWidgets(this._template);this._html=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n}else this._html=this.model.templateId?this._template:this.element.html();this.element.empty();this.model.buttonTap&&this.model.buttonTap.name&&(this.model.buttonTap=this.model.buttonTap.name);this["_"+this.model.mode+"Type"]();this._dialogInit()},_confirmType:function(){this._renderConfirmAlertDialog()},_alertType:function(){this._renderConfirmAlertDialog()},_normalType:function(){this._renderNormalDialog()},_fullviewType:function(){this._renderFullViewDialog()},_renderConfirmAlertDialog:function(){this.element.addClass("e-m-dlg-table");this._outerDiv=t.buildTag("div.e-m-dlg-table-cell");this._innerDiv=t.buildTag("div.e-m-dlg e-m-dlg-inner e-m-dlg-alert e-m-"+this.model.theme+"");this.model.enableAutoOpen&&this._innerDiv.addClass("e-m-dlg-showanimate").addClass("e-m-dlg-open");this._contDiv=t.buildTag("div.e-m-dlg-content");var n=t.buildTag("div.e-m-dlg-title",this.model.title);this._contDiv.append(n);this._templateDiv=t.buildTag("div#"+this.id+"content.e-m-dlg-desc");this._contDiv.append(this._templateDiv.html(this._html));this.model.showButtons?this._renderDialogButton():this._innerDiv.append(this._contDiv);t.widget.init(this._innerDiv);this.element.append(this._outerDiv.append(this._innerDiv));this.model.allowScrolling&&this._scroll()},_renderNormalDialog:function(){this.element.addClass("e-m-dlg-table");this._outerDiv=t.buildTag("div").css({display:"table-cell"});this._innerDiv=t.buildTag("div.e-m-dlg-inner e-m-"+this.model.theme+" e-m-dlg e-m-dlg-normal");this.model.mode=="fullview"&&this._innerDiv.addClass("e-m-dlgfullview");this.model.enableAutoOpen&&this._innerDiv.addClass("e-m-dlg-open");this.header=t.buildTag("div#"+this.id+"header",{},{},{"data-role":"ejmheader","data-ej-title":this.model.title,"data-ej-rendermode":this.model.renderMode,"data-ej-theme":this.model.theme,"data-ej-position":"normal"});this.model.showButtons&&(this.model.renderMode=="ios7"?this._header():this._headerTemplate());this._innerDiv.append(this.header);this._content=t.buildTag("div#"+this.id+"content.e-m-dlg-content").css("padding","10px 15px");this._content.html(this._html);this._innerDiv.append(this._content);t.widget.init(this._innerDiv);this.element.append(this._outerDiv.append(this._innerDiv));this._headerHeight=this.element.find(".e-m-header").outerHeight();this._height=window.innerHeight-(this._headerHeight+20);this._content.height(this._height);this._scrollWrapper=t.buildTag("div#"+this.id+"_scroll");this._content.append(this._scrollWrapper);this._scrollPanel()},_renderFullViewDialog:function(){this.model.renderMode=="ios7"?this._renderNormalDialog():this._fullViewDialog()},_scroll:function(){this._scrollWrapper=t.buildTag("div#"+this.id+"_scroll");this._templateDiv.append(this._scrollWrapper);this._height=t.getDimension(this._templateDiv,"outerHeight");this._titHeight=t.getDimension(this.element.find(".e-m-dlg-title"),"outerHeight");this._btnHeight=t.getDimension(this.element.find(".e-m-dlg-btn"),"outerHeight");this._dlgScrollHeight=this.model.targetHeight?this.model.targetHeight:window.innerHeight-(this._titHeight+this._btnHeight+50);this._height>this._dlgScrollHeight&&(this._templateDiv.height(this._dlgScrollHeight).css("padding","0px 15px"),this._scrollPanel())},_scrollPanel:function(){this._scrollWrapper.ejmScrollPanel({target:this.id+"content",targetHeight:this._dlgScrollHeight,checkDOMChanges:this.model.checkDOMChanges,enableHrScroll:!1,enableVerScroll:!0,renderMode:this.model.renderMode,enableNativeScrolling:this.model.enableNativeScrolling})},_header:function(){this.header.attr({"data-ej-leftbuttoncaption":this.model.leftButtonCaption,"data-ej-rightbuttoncaption":this.model.rightButtonCaption,"data-ej-leftbuttonstyle":"header","data-ej-showleftbutton":"true","data-ej-showrightbutton":"true"});this.model.buttonTap&&this.header.attr({"data-ej-leftbuttontap":this.model.buttonTap,"data-ej-rightbuttontap":this.model.buttonTap})},_headerTemplate:function(){var n=t.buildTag("div.e-m-norbtnok"),i=t.buildTag("div.e-m-norbtncancel"),r=t.buildTag("input#btnok",{},{},{type:"button","data-role":"ejmbutton","data-ej-text":this.model.leftButtonCaption,"data-ej-rendermode":this.model.renderMode,"data-ej-inline":"true","data-ej-theme":this.model.theme,windows:{renderDefault:this.model.windows.renderDefault}}),u=t.buildTag("input#btncancel",{},{},{type:"button","data-role":"ejmbutton","data-ej-text":this.model.rightButtonCaption,"data-ej-rendermode":this.model.renderMode,"data-ej-inline":"true","data-ej-theme":this.model.theme,windows:{renderDefault:this.model.windows.renderDefault}});this.model.buttonTap&&(r.attr({"data-ej-touchend":this.model.buttonTap}),u.attr({"data-ej-touchend":this.model.buttonTap}));n.append(r);i.append(u);this.header.append(n).append(i)},_fullViewDialog:function(){var e,n,i,r,u,f;this._innerDiv=t.buildTag("div.e-m-dlg e-m-"+this.model.theme+" e-m-dlg-open e-m-dlgfullview");this._contDiv=t.buildTag("div.e-m-dlg-content");e=t.buildTag("div.e-m-dlg-title",this.model.title);this._contDiv.append(e);this._templateDiv=t.buildTag("div#"+this.id+"content.e-m-dlg-desc");this._contDiv.append(this._templateDiv.html(this._html));this.model.showButtons&&(n=t.buildTag("div.e-m-dlg-btn"),i=t.buildTag("input",{},{},{type:"button"}),n.append(i),r=this.model.renderMode=="windows"?"normal":"dialog",this._renderButton(i,this.model.leftButtonCaption,this.id+"_left",r),u=t.buildTag("input",{},{},{type:"button"}),n.append(u),this._renderButton(u,this.model.rightButtonCaption,this.id+"_right",r),this._innerDiv.append(this._contDiv.append(n)));this._innerDiv.append(this._contDiv);t.widget.init(this._innerDiv);this.element.append(this._innerDiv);this._scrollWrapper=t.buildTag("div#"+this.id+"_scroll");this._templateDiv.append(this._scrollWrapper);this._fullTitHeight=this.element.find(".e-m-dlg-title").outerHeight();this._fullBtnHeight=this.element.find(".e-m-dlg-btn").outerHeight();f=this.model.targetHeight?this.model.targetHeight:window.innerHeight-(this._fullTitHeight+this._fullBtnHeight+20);this._templateDiv.height(f).css("padding","10px 15px");this._scrollPanel();this._scrollWrapper.ejmScrollPanel({targetHeight:f})},_renderDialogButton:function(){var n=t.buildTag("div.e-m-dlg-btn"),i,r,u;this.model.mode=="alert"&&n.addClass("e-m-alert");i=t.buildTag("input",{},{},{type:"button"});n.append(i);r=this.model.renderMode=="windows"?"normal":"dialog";this._renderButton(i,this.model.leftButtonCaption,this.id+"_left",r);this.model.mode=="confirm"&&(u=t.buildTag("input",{},{},{type:"button"}),n.append(u),this._renderButton(u,this.model.rightButtonCaption,this.id+"_right",r));this._innerDiv.append(this._contDiv.append(n))},_renderButton:function(n,t,i,r){this.model.renderMode!="flat"&&n.attr("data-ej-theme",this.model.theme);n.attr({"data-role":"ejmbutton","data-ej-text":t,id:i+"_btn","data-ej-rendermode":this.model.renderMode,"data-ej-touchend":this.model.buttonTap,windows:{renderDefault:this.model.windows.renderDefault}}).attr("data-ej-"+this.model.renderMode+"-style",r)},_dialogInit:function(){this.element.parents("form").length>0?this.element.appendTo(this.element.parents("form")):this.element.appendTo(App.activePage);this.model.enableModal&&this.model.mode!="fullview"&&this._setModal();this.model.enableAutoOpen||(this.element.css("display","none"),this._body.find("#"+this.id+"_dialog_overlay").css("display","none"));this._setDialogPosition()},_wireEvents:function(i){t.listenEvents([window,window],["resize","orientationchange"],[n.proxy(this._onResize,this),n.proxy(this._onOrientationChange,this)],i)},_onResize:function(){this._setDialogPosition();this.element.css({"z-index":t.getMaxZindex()+1})},_onOrientationChange:function(){var n=this;window.setTimeout(function(){n._setDialogPosition()},t.isAndroid()?200:0)},_setDialogPosition:function(){var t;n(this.element).is(":visible")&&(this.model.mode=="normal"||this.model.mode=="fullview"&&this.model.renderMode=="ios7"?(this._height=window.innerHeight-(this._headerHeight+20),this._content.height(this._height)):this.model.mode=="fullview"&&this.model.renderMode!="ios7"?(t=this.model.targetHeight?this.model.targetHeight:window.innerHeight-(this._fullTitHeight+this._fullBtnHeight+20),this.element.find(".e-m-dlg-desc").height(t),this._scrollWrapper.ejmScrollPanel({targetHeight:t})):(t=this.model.targetHeight?this.model.targetHeight:window.innerHeight-(this._titHeight+this._btnHeight+50),this._height>t&&(this._templateDiv.height(t).css("padding","0px 15px"),this._scrollPanel(),this._scrollWrapper.ejmScrollPanel({targetHeight:t}))))},_setModal:function(){var n=this._body.find("#"+this.id+"_dialog_overlay");(n==null||n.length<=0)&&(n=t.buildTag("div#"+this.id+"_dialog_overlay.e-m-"+this.model.renderMode+" e-m-overlay"));this._body.append(n)},_refresh:function(){this._destroy();this._renderControl();this._wireEvents(!1)},_destroy:function(){this.element.removeAttr("class");this.model.enableModal&&this._body.find("#"+this.id+"_dialog_overlay").remove();this.element.html(this._orgEle.html())},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i]():r=!0;r&&this._refresh()},_setRenderMode:function(){this._refresh()},_setTheme:function(){this.element.removeClass("e-m-dark e-m-light").addClass("e-m-"+this.model.theme+"");this.element.find(".e-m-dlg-open").removeClass("e-m-dark e-m-light").addClass("e-m-"+this.model.theme+"");this.element.find(".e-m-dlg-btn").find(".e-m-btn").ejmButton({theme:this.model.theme});this.element.find(".e-m-header").ejmHeader({theme:this.model.theme});this.element.find(".e-m-header").find(".e-m-btn").ejmButton({theme:this.model.theme});this.element.find(".e-m-scrollpanel").ejmScrollPanel({theme:this.model.theme})},_setMode:function(){this._refresh()},_setTitle:function(){this.element.children().hasClass("e-m-header")?this.element.find(".e-m-header").ejmHeader({title:this.model.title}):this.element.find(".e-m-dlg-title").html(this.model.title)},_setEnableModal:function(){this.model.enableModal&&this.model.enableAutoOpen&&this.model.mode!="fullview"?this._setModal():this._body.find("#"+this.id+"_dialog_overlay").remove()},_setShowButtons:function(){this._refresh()},_setButtonTap:function(){this.element.find(".e-m-btn").ejmButton({touchEnd:this.model.buttonTap})},_setBeforeClose:function(){},_setClose:function(){},_setOpen:function(){},open:function(){this.element.css({"z-index":t.getMaxZindex()+1});this.model.enableModal&&this.model.mode!="fullview"&&this._body.find("#"+this.id+"_dialog_overlay").css("display","block");this.element.css("display","table");this._innerDiv.removeClass("e-m-dlg-hideanimate").addClass("e-m-dlg-showanimate").addClass("e-m-dlg-open");var n={title:this.model.title};this.model.open&&this._trigger("open",n)},close:function(){var n={title:this.model.title};this.model.beforeClose&&this._trigger("beforeClose",n);this.model.enableModal&&this.model.mode!="fullview"&&this._body.find("#"+this.id+"_dialog_overlay").css("display","none");this._innerDiv.removeClass("e-m-dlg-showanimate").addClass("e-m-dlg-hideanimate").removeClass("e-m-dlg-open");this.element.css("display","none");this.model.close&&this._trigger("close",n)},isOpened:function(){return n(this.element).is(":visible")?!0:!1}});t.mobile.Dialog.Mode={Alert:"alert",Confirm:"confirm",Normal:"normal",FullView:"fullview"}}(jQuery,Syncfusion),function(n,t,i){t.widget({ejmNumeric:"ej.mobile.Numeric"},{_setFirst:!0,_rootCSS:"e-m-editor-input",type:"editor",defaults:{renderMode:"auto",showSpinButton:!0,showBorder:!0,decimalPlaces:0,enableStrictMode:!1,incrementStep:1,value:null,name:null,enablePersistence:!1,enabled:!0,readOnly:!1,minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,theme:"auto",watermarkText:"",windows:{renderDefault:!1},change:null,focusIn:null,focusOut:null},observables:["value"],value:t.util.valueFunction("value"),dataTypes:{renderMode:"enum",showSpinButton:"boolean",showBorder:"boolean",decimalPlaces:"number",enableStrictMode:"boolean",enablePersistence:"boolean",enabled:"boolean",readOnly:"boolean",incrementStep:"number",minValue:"number",maxValue:"number",theme:"enum"},_init:function(){this._dataInit();this._renderControl();this._validateMinMaxValue();this._wireEvents(!1);this.model.enabled?this.enable():(this.disable(),this._wireEvents(!0))},_dataInit:function(){var n=this.element,t=this.model;this._startValue=0;this._inputTextBox=n[0];this._keypressFlag=!0;this._incrementFlag=!0;this._isleftspinner=!0},_renderControl:function(){var i,n,r;t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");i=this.element;n=this.model;n.name=n.name!=null?n.name:i[0].id;this.element.attr("name",this.model.name);this._wrapper=t.buildTag("div.e-m-editor e-m-"+n.renderMode+" e-m-"+n.theme);i.addClass("e-m-editor-input").after(this._wrapper);r=t.buildTag("span.e-m-textspan");this._inputdiv=t.buildTag("div.e-m-inputspan");this._inputdiv.append(i).append(r);this._wrapper.append(this._inputdiv);n.showSpinButton&&(this._spinner=t.buildTag("div.e-m-spinner"),this._spinButtonDown=t.buildTag("div.e-m-spinner-left"),this._spinButtonUp=t.buildTag("div.e-m-spinner-right"),this._spinLeft=t.buildTag("span.e-m-spin-left e-m-fontimage"),this._spinRight=t.buildTag("span.e-m-spin-right e-m-fontimage"),this._spinButtonDown.append(this._spinLeft),this._spinButtonUp.append(this._spinRight),this._spinner.append(this._spinButtonDown).append(this._spinButtonUp),this._wrapper.append(this._spinner));n.showBorder||this._showBorder(!1);this._inputTextBox=i[0];this.value()===null&&this.model.watermarkText!==""&&this._setWaterMark();this.model.readOnly&&this._setReadOnly(this.model.readOnly)},_createDelegate:function(){this._spinnerHanlder=n.proxy(this._onSpinnerClick,this);this._spinnerHanlder=n.proxy(this._onSpinnerClick,this);this._keyDownProxy=n.proxy(this._keyDown,this);this._keyPressProxy=n.proxy(this._keyPress,this);this._keyUpProxy=n.proxy(this._keyUp,this);this._focusInProxy=n.proxy(this._focusIn,this);this._focusOutProxy=n.proxy(this._focusOut,this);this._clear=n.proxy(this._clearText,this);this._showClear=n.proxy(this._showClear,this);this._mouseMoveHandler=n.proxy(this._onMouseMove,this)},_wireEvents:function(n){var i=this.element,r=this.model;this._createDelegate();r.showSpinButton&&t.listenEvents([this._spinner,this._spinner],[t.startEvent(),t.endEvent()],[this._spinnerHanlder,this._spinnerHanlder],n);t.listenEvents([i,i,i,i,i],["focus","blur","keydown","keypress","keyup"],[this._focusInProxy,this._focusOutProxy,this._keyDownProxy,this._keyPressProxy,this._keyUpProxy],n)},_onMouseMove:function(){var n=this._isleftspinner?"_spinButtonDown":"_spinButtonUp",i=this._isleftspinner?"_spinLeft":"_spinRight";this._errorClass(!1);clearTimeout(this._timeout);this[n].removeClass("e-m-state-active");this[i].removeClass("e-m-state-active");this._inputTextBox.value=this._inputTextBox.value===this.model.watermarkText?"":this._inputTextBox.value;t.listenEvents([this._spinner,this._spinner],[t.moveEvent(),"mouseleave"],[this._mouseMoveHandler,this._mouseMoveHandler],!0)},_onSpinnerClick:function(n){var u,i,r,f;this.model.enabled&&(this._removeWaterMark(),this._isleftspinner=n.target.className.indexOf("e-m-spin-left")===-1?!1:!0,n.preventDefault(),u=this,this._incrementFlag=!this._isleftspinner,i=this._isleftspinner?"_spinButtonDown":"_spinButtonUp",r=this._isleftspinner?"_spinLeft":"_spinRight",n.type===t.endEvent()||n.type=="MSPointerUp"||n.type=="pointerup"?(this._errorClass(!1),clearTimeout(this._timeout),this[i].removeClass("e-m-state-active"),this[r].removeClass("e-m-state-active"),this._inputTextBox.value=this._inputTextBox.value===this.model.watermarkText?"":this._inputTextBox.value,this._updateValue(n)):(n.type==t.startEvent()||n.type=="MSPointerDown"||n.type=="pointerdown")&&(this[i].addClass("e-m-state-active"),this[r].addClass("e-m-state-active"),this._timeout=setInterval(function(){u._updateValue(n)},150),t.listenEvents([this._spinner,this._spinner],[t.moveEvent(),"mouseleave"],[this._mouseMoveHandler,this._mouseMoveHandler],!1)),f={value:this.element.val()},this.model.change&&n.type===t.endEvent()&&this._trigger("change",f))},_mouseWheel:function(n){var t=0;n||(n=window.event);t=n.wheelDelta?n.wheelDelta/60:-n.detail/2;this._incrementFlag=t>0?!0:t<0?!1:this._incrementFlag;t!=0&&this._updateValue(e);this._cancelEvent(n)},_errorClass:function(n){n?this.element.addClass("error"):this.element.removeClass("error")},_showBorder:function(n){n?(this.element.removeClass("e-m-noborder"),this.element.parent().find(".e-m-noborder").addClass("e-m-textspan").removeClass("e-m-noborder")):(this._showSpinButton(!1),this.element.addClass("e-m-noborder"),this.element.parent().find(".e-m-textspan").addClass("e-m-noborder").removeClass("e-m-textspan"))},_showAlert:function(){var t=this;this.element.addClass("error").animate({Opacity:1},700,null,function(){n(t._inputTextBox).removeClass("error")})},_updateValue:function(){this._inputTextBox.value==""?this.value(this._startValue):this.value(parseFloat(this._inputTextBox.value));(setFlag=this._incrementFlag&&this.value()<this.model.maxValue)?this.value(this.value()+this.model.incrementStep):(setFlag=!this._incrementFlag&&this.value()>this.model.minValue)?this.value(this.value()-this.model.incrementStep):this._showAlert();setFlag&&this.setValue(this.value());this._validateMinMaxValue()},_setWaterMark:function(){n(this._inputTextBox).addClass("e-m-watermarktext");(this.model.watermarkText!=""&&this.value()===""||this.value()===null)&&n(this._inputTextBox).attr("placeholder",this.model.watermarkText)},_removeWaterMark:function(){n(this._inputTextBox).removeClass("e-m-watermarktext")},_raiseChangeEvent:function(){var n=this._numberValue();this._preVal&&this._preVal.toString()!=n&&(this._preVal=n,this._raiseChangeEvent(),this.model.change&&this._trigger("change",{value:this.value()}))},_keyUp:function(){var n={value:this.element.val()};this.model.change&&this._trigger("change",n)},_keyPress:function(n){if(!this._keypressFlag)return this._keypressFlag=!0,this._cancelEvent(n),!1},_keyDown:function(n){var s=this.model,o=n.keyCode>=48&&n.keyCode<=57,f=n.keyCode>=96&&n.keyCode<=105,v=n.keyCode==46||n.keyCode==127,h=n.keyCode==8,l,e;if(o||f||this._allowKeyCodes(n)){if((n.shiftKey==!0||n.ctrlKey==!0)&&n.keyCode!=9)return this._keypressFlag=!1,this._cancelEvent(n),!1;if(o||f||h||v){var c=this._inputTextBox.type=="number"?0:this._caretPosition(),t=this._inputTextBox.value.substring(0,c),r=this._inputTextBox.value.substring(c),u=this._inputTextBox.type=="number"?0:this._getSelection(this._inputTextBox.value);f&&(n.keyCode-=48);o||f?u.length==0?this.value(parseFloat(t+String.fromCharCode(n.keyCode)+r)):this.value(parseFloat(t.substring(0,t.length-u.length)+String.fromCharCode(n.keyCode)+r)):h?(l=u.length==0?1:u.length,this.value(t.substring(0,t.length-l)+r)):u.length==0?this.value(t+r.substring(1,r.length)):this.value(t.substring(0,t.length-u.length)+r.substring(0,r.length));s.change&&this._trigger("change",{value:this.value()})}if((n.keyCode==38||n.keyCode==40)&&(n.preventDefault(),this._incrementFlag=n.keyCode==38,this._updateValue(n)),n.keyCode==190&&this.model.decimalPlaces!=0||n.keyCode==110&&this.model.decimalPlaces!=0){if(e=this._inputTextBox.value.split("."),e[1]==i){var a=this._caretPosition(),y=e[0].substring(0,a),p=e[0].substring(a);this.value(y+"."+p);this._setSelectionRange(this.value().length,this.value().length);this._inputTextBox.value=this.value()}else this.value(this._inputTextBox.value);s.change&&this._trigger("change",{value:this.value()});this._cancelEvent(n)}(n.keyCode==190||n.keyCode==110||n.keyCode==109||n.keyCode==189&&(this._caretPosition()!=0&&this._getSelection()!=this.value()||this.model.minValue>=0))&&this._cancelEvent(n)}else this._keypressFlag=!1,this._cancelEvent(n),this._showAlert()},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_validateMinMaxValue:function(){this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue);this.value()!==""&&this.model.maxValue<this.value()?this.model.enableStrictMode?this.value(this.model.maxValue):this._showAlert():this.value()!==""&&this.model.minValue>this.value()&&(this.model.enableStrictMode?this.value(this.model.minValue):this._showAlert());this.value()!==""&&(this._inputTextBox.value=this.value())},_focusIn:function(){var n=this;this._removeWaterMark();this.model.renderMode=="android"?this.element.parent().find(".e-m-textspan").addClass("e-m-active"):this.element.addClass("e-m-active");this._errorClass(!1);this._inputTextBox.value===this.model.watermarkText&&(this._inputTextBox.value="");this.value(this._inputTextBox.value!==this.model.watermarkText&&this._inputTextBox.value===""?0:this._inputTextBox.value);n.element[0].scrollLeft=n.element[0].scrollWidth;window.setTimeout(function(){t.setCaretToPos(n.element[0],n.element.val().length,n.element.val().length)});this.model.focusIn&&this._trigger("focusIn",{value:this.model.value})},_focusOut:function(){this.model.renderMode=="android"?this.element.parent().find(".e-m-textspan").removeClass("e-m-active"):this.element.removeClass("e-m-active");this._errorClass(!1);this._inputTextBox.value<this.model.minValue&&this._inputTextBox.value!==""?(this._inputTextBox.value=this.model.minValue.toFixed(this.model.decimalPlaces),this.value(this._inputTextBox.value)):this._inputTextBox.value>this.model.maxValue&&(this._inputTextBox.value=this.model.maxValue.toFixed(this.model.decimalPlaces),this.value(this._inputTextBox.value));this._inputTextBox.value!="NaN"&&this._inputTextBox.value!=""&&(this.value(this._inputTextBox.value),this._validateMinMaxValue());this._inputTextBox.value==""&&this._setWaterMark();this.element[0].scrollLeft=0;this.model.focusOut&&this._trigger("focusOut",{value:this.model.value})},_getSelection:function(n){var t=null;return document.selection?(t=document.selection.createRange(),t.text):n.substring(this._inputTextBox.selectionStart,this._inputTextBox.selectionEnd)},_setSelectionRange:function(n,t){var i=this._inputTextBox,r;i.setSelectionRange?(i.focus(),i.setSelectionRange(n,t)):i.createTextRange&&(r=i.createTextRange(),r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r.select())},_caretPosition:function(){var n=this._inputTextBox,t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionEnd),t},_allowKeyCodes:function(n){for(var i=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110],t=0,t=0;t<19;t++)if(n.keyCode==i[t])return!0;return!1},_setRenderMode:function(n){this.model.renderMode=n;this.element.closest(".e-m-editor").removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+n)},_setTheme:function(n){this.model.theme=n;this.element.closest(".e-m-editor").removeClass("e-m-dark e-m-light").addClass("e-m-"+n)},_showSpinButton:function(n){this._spinner&&this._spinner.css("display",n?"table-cell":"none")},_setDecimal:function(n){this.model.decimalPlaces=n},_setReadOnly:function(n){n?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setModel:function(n){var i=!1;for(var r in n)switch(r){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this._setTheme(n.theme);break;case"value":t.isNullOrUndefined(n.minValue)&&t.isNullOrUndefined(n.maxValue)?(this.setValue(n[r]),n[r]=this.value()):i=!0;break;case"showSpinButton":this._showSpinButton(n.showSpinButton);break;case"showBorder":this._showBorder(n.showBorder);break;case"enabled":n.enabled?(this.enable(),this._wireEvents(!1)):(this.disable(),this._wireEvents(!0));break;case"readOnly":this._setReadOnly(n.readOnly);break;case"decimalPlaces":this._setDecimal(n.decimalPlaces);break;case"incrementStep":if(isNaN(n.incrementStep))return;this.model.incrementStep=parseFloat(n.incrementStep.toFixed(this.model.decimalPlaces));break;case"minValue":if(isNaN(n.minValue))return;this.model.minValue=parseFloat(n.minValue.toFixed(this.model.decimalPlaces));i=!0;break;case"maxValue":if(isNaN(n.maxValue))return;this.model.maxValue=parseFloat(n.maxValue.toFixed(this.model.decimalPlaces));i=!0;break;case"watermarkText":this.model.watermarkText=n.watermarkText;this._setWaterMark();break;case"enableStrictMode":this.model.enableStrictMode=n.enableStrictMode}i&&(this._validateMinMaxValue(!0),n.value=this.value(),n.maxValue=this.model.maxValue,n.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue))},_refresh:function(){this._clearElement();this._renderControl();this._wireEvents(!1)},_clearElement:function(){this._wireEvents(!0);this.element.parent().removeAttr("class")},_destroy:function(){this._cloneElement.insertBefore(this.element);this.element.remove()},enable:function(){this.model.enabled=!0;n(".e-m-editor-input").prop("disabled",!1);this.element.closest(".e-m-editor").removeClass("e-m-state-disabled")},disable:function(){this.model.enabled=!1;n(".e-m-editor-input").prop("disabled",!0);this.element.closest(".e-m-editor").addClass("e-m-state-disabled")},getValue:function(){return this._inputTextBox.value},setValue:function(n){this.value(n);this._validateMinMaxValue();n==null&&(this._inputTextBox.value==this.model.watermarkText||this._inputTextBox.value!="")&&this._setWaterMark()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmFooter","ej.mobile.Footer",{_setFirst:!0,_rootCSS:"e-m-footer",defaults:{hideForUnSupportedDevice:!1,leftButtonNavigationUrl:null,rightButtonNavigationUrl:null,title:"Title",showTitle:!0,position:"fixed",leftButtonCaption:"Left",rightButtonCaption:"Right",renderMode:"auto",theme:"auto",showLeftButton:!1,showRightButton:!1,enablePersistence:!1,templateId:null,leftButtonTap:null,rightButtonTap:null,windows:{renderDefault:!1}},dataTypes:{showTitle:"boolean",position:"enum",renderMode:"enum",theme:"enum",enablePersistence:"boolean",windows:{renderDefault:"boolean"}},_init:function(){(!this.model.hideForUnSupportedDevice||this.model.hideForUnSupportedDevice&&this.model.renderMode=="ios7")&&this._renderControl()},_renderFooterTemplate:function(){this._templateContainer=t.buildTag("div.e-m-footer-content");var n=t.getCurrentPage().find("#"+this.model.templateId);n.length?(this.element.empty(),t.destroyWidgets(n),this._template=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n):(this._template=this.element[0].innerHTML.trim(),this.element.empty());this.element.append(this._templateContainer.append(this._template))},_renderDefaultFooter:function(){this._footerContainer=t.buildTag("div.e-m-footer-content");this.element[0].innerHTML.trim()==""?(this.element.append(this._footerContainer),this["_"+this.model.renderMode+"ButtonProperties"]&&this["_"+this.model.renderMode+"ButtonProperties"]()):(this._template=this.element[0].innerHTML.trim(),this.element.empty(),this.element.append(this._footerContainer.append(this._template)))},_renderControl:function(){this._orgEle=n(this.element).clone();t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this.model.height>0&&n(this.element).css({height:this.model.height});this.model.width>0&&n(this.element).css({width:this.model.width});this.element.addClass("e-m-"+this.model.renderMode+" e-m-footer e-m-"+this.model.position+" e-m-"+this.model.theme);this.model.templateId==null?this._renderDefaultFooter():this._renderFooterTemplate();var i=this.element.find(".e-m-footer-text");i.length==0&&!this._template&&this.model.showTitle&&this._showFooterTitle()},_leftButtonCommon:function(){this._leftButton=t.buildTag("div.e-m-footer-left");this._leftButtonAnchorTag=t.buildTag("a",this.model.leftButtonCaption,"",{"data-role":"ejmactionlink","data-ej-rendermode":this.model.renderMode,"data-ej-bindback":this.model.bindBack,"data-ej-theme":this.model.theme});this._ios7Buttons(this._leftButton,this._leftButtonAnchorTag,this.model.leftButtonTap,"header",this.model.leftButtonNavigationUrl)},_rightButtonCommon:function(){this._rightButton=t.buildTag("div.e-m-footer-right");this._rightButtonAnchorTag=t.buildTag("a",this.model.rightButtonCaption,"",{"data-role":"ejmactionlink","data-ej-rendermode":this.model.renderMode,"data-ej-theme":this.model.theme});this._ios7Buttons(this._rightButton,this._rightButtonAnchorTag,this.model.rightButtonTap,"header",this.model.rightButtonNavigationUrl)},_ios7Buttons:function(n,i,r,u,f){r!=null?r.name?i.attr("data-ej-touchend",r.name):i.attr("data-ej-touchend",r):"";i.attr("data-ej-"+this.model.renderMode+"-style",u);f!=null&&i.attr("href",f);n.append(i);n.hasClass("e-m-header-left")?this.element.find(".e-m-footer-content").prepend(n):this.element.find(".e-m-footer-content").append(n);t.widget.init(n)},_showFooterTitle:function(){this._titleSpan=t.buildTag("span.e-m-footer-text e-m-"+this.model.theme+" e-m-user-select",this.model.title,"","");titleDiv=t.buildTag("div.e-m-footer-title","","","").append(this._titleSpan);this._footerContainer.append(titleDiv);this.model.renderMode=="ios7"&&this._titleSpan.text().length>18&&(this.model.showLeftButton&&this._titleSpan.css("margin-left","65px"),this.model.showRightButton&&this._titleSpan.css("margin-right","50px"))},_ios7ButtonProperties:function(){this.model.showLeftButton&&this._leftButtonCommon();this.model.showTitle&&this._showFooterTitle();this.model.showRightButton&&this._rightButtonCommon()},_setShowLeftButton:function(n){this.model.showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this._leftButtonCommon()},_setShowRightButton:function(n){this.model.showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setShowTitle:function(n){this.model.showTitle=n;this._titleSpan[n?"show":"hide"]()},_setTitle:function(n){this.model.title=n;this._titleSpan.html(n)},_setLeftButtonCaption:function(n){this.model.leftButtonCaption=n;this.element.find(this._leftButtonAnchorTag).html(n)},_setRightButtonCaption:function(n){this.model.rightButtonCaption=n;this.element.find(this._rightButtonAnchorTag).html(n)},_setLeftButtonTap:function(n){this.model.leftButtonTap=n;this.element.find(this._leftButtonAnchorTag).ejmActionlink({touchEnd:n})},_setRightButtonTap:function(n){this.model.rightButtonTap=n;this.element.find(this._rightButtonAnchorTag).ejmActionlink({touchEnd:n})},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),t=="renderMode"||t=="position"?r=!0:this[i]&&this[i](n[t]);r&&this._refresh()},_setTheme:function(n){this.model.theme=n;this.element.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase());this.element.find(".e-m-footer-left .e-m-btn").ejmActionlink({theme:n});this.element.find(".e-m-footer-right .e-m-btn").ejmActionlink({theme:n})},_refresh:function(){this._destroy();this.element.addClass("ejm-footer");this._renderControl()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElement()},getTitle:function(){return this._titleSpan.html()}});t.mobile.Footer.Position={Normal:"normal",Fixed:"fixed"}}(jQuery,Syncfusion),function(n,t,r){t.widget("ejmGrid","ej.mobile.Grid",{_setFirst:!0,_rootCSS:"e-m-grid-core",validTags:["div"],defaults:{allowPaging:!1,allowSorting:!1,allowFiltering:!1,allowScrolling:!1,allowSelection:!0,dataSource:null,caption:"",cssClass:"",theme:"auto",enablePersistence:!1,selectedRowIndex:-1,rowSelecting:null,rowSelected:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null,load:null,queryCellInfo:null,rowDataBound:null,modelChange:null,pageSettings:{pageSize:5,currentPage:1,display:"normal",type:"scrollable",totalRecordsCount:null},scrollSettings:{enableColumnScrolling:!1,height:"auto",width:"auto",enableRowScrolling:!0,enableNativeScrolling:t.isAndroid()&&t.isLowerAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1},sortSettings:{allowMultiSorting:!1,sortedColumns:[]},filterSettings:{filterBarMode:"onenter",interval:1500,filteredColumns:[]},showCaption:!1,allowColumnSelector:!1,transition:t.isAndroid()?"pop":t.isWindows()?"turn":"slide",renderMode:"auto",query:t.Query(),columns:[]},dataTypes:{allowPaging:"boolean",allowSorting:"boolean",allowFiltering:"boolean",allowSelection:"boolean",allowScrolling:"boolean",sortSettings:{allowMultiSorting:"boolean",sortedColumns:"array"},filterSettings:{filteredColumns:"array"},dataSource:"data",query:"data",columns:"array",pageSettings:{pageSize:"number",display:"enum",type:"enum"},scrollSettings:{enableRowScrolling:"boolean",enableColumnScrolling:"boolean"},renderMode:"enum",theme:"enum",allowColumnSelector:"boolean",showCaption:"boolean",transition:"string"},observables:["dataSource","selectedRowIndex","pageSettings.currentPage"],dataSource:t.util.valueFunction("dataSource"),selectedRowIndex:t.util.valueFunction("selectedRowIndex"),currentPage:t.util.valueFunction("pageSettings.currentPage"),_init:function(){this._trigger("load");this._page=t.getCurrentPage();this._hiddenColumns=[];this._visibleColumns=[];this._columns=[];this._rowSelect=!0;this._colInit=!1;this._touchMove=!1;this._controlInit=!0;this.model.renderMode=="auto"&&t.setRenderMode(this);t.setTheme(this);this.model.allowSorting&&(this._curSort="clearsorting",this._sortedColumns=[],this._sortDirection=[],this._handleInitialSorting());this._id=this.element[0].id;this._render();this._createDelegates();this._wireEvents(!1)},_handleInitialSorting:function(){var t=this,i=this.model.sortSettings.sortedColumns.length;n.each(this.model.sortSettings.sortedColumns,function(n,r){(t.model.sortSettings.allowMultiSorting||n==i-1)&&(t._sortedColumns.push(r.columnName),t._sortDirection.push(r.sortDirection))})},_render:function(){this._renderClientgrid();this._content=this.element.find(".e-m-grid-content");this.model.allowPaging&&this._createPagerObject();this.model.allowFiltering&&(this._createFilterObject(),this._filters=this._filteringMgr.model.filterConditions=this.model.filterSettings.filteredColumns);this.model.allowColumnSelector&&this._createColumnListContainer();this._load()},_createColumnListContainer:function(){var i,r,u,f,e;this.element.wrap(t.buildTag("div.e-m-grid-parent-container"));this._parentElement=this.element.parent();i=t.buildTag("div.e-m-grid-colnavcontainer e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" subpage e-m-state-hide e-m-grid-core#"+this._id+"colnav",{},{},{"data-url":this._id+"colnav"});r=t.buildTag("div.e-m-grid-colnavhdr",{},{},{"data-role":"ejmheader","data-ej-title":"Hide Column","data-ej-theme":this.model.theme,"data-ej-rendermode":this.model.renderMode,"data-ej-showrightbutton":!0,"data-ej-rightbuttoncaption":"Done","data-ej-showleftbutton":!0,"data-ej-leftbuttoncaption":"Cancel","data-ej-position":"normal"});i.append(r);this._subPagelistDiv=t.buildTag("div",{},{},{"data-role":"ejmlistview","data-ej-theme":this.model.theme,"data-ej-rendermode":this.model.renderMode,"data-ej-showheader":!1,"data-ej-enablecheckmark":!0});u=t.buildTag("ul");n.each(this.model.columns,function(n,i){var r=t.buildTag("li",{},{},{"data-ej-text":i.headerText});u.append(r)});this._subPagelistDiv.append(u);i.append(this._subPagelistDiv);(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(f=t.buildTag("input",{},{},{"data-role":"ejmbutton","data-ej-theme":this.model.theme,"data-ej-rendermode":this.model.renderMode,"data-ej-text":"Done",type:"button"}),e=t.buildTag("input",{},{},{"data-role":"ejmbutton","data-ej-theme":this.model.theme,"data-ej-rendermode":this.model.renderMode,"data-ej-text":"Cancel",type:"button"}),i.append(f).append(e));this._warningDialog=t.buildTag("div",{},{},{"data-role":"ejmdialog","data-ej-theme":this.model.theme,"data-ej-rendermode":this.model.renderMode,"data-ej-title":"Warning","data-ej-mode":"alert","data-ej-leftbuttoncaption":"Ok","data-ej-enablemodal":!0,"data-ej-enableautoopen":!1}).append(t.buildTag("div").html("Atleast one column must be displayed in grid"));i.append(this._warningDialog);t.isMobile()?n("body").append(i):this._parentElement.append(i);t.widget.init(i);this.model.renderMode=="android"||this.model.renderMode=="windows"?(f.ejmButton({touchEnd:t.proxy(this._columnSelectionDoneHandler,this)}),e.ejmButton({touchEnd:t.proxy(this._columnSelectionCancelHandler,this)})):r.ejmHeader({rightButtonTap:t.proxy(this._columnSelectionDoneHandler,this),leftButtonTap:t.proxy(this._columnSelectionCancelHandler,this)});this._subPagelistDiv.ejmListView({touchEnd:t.proxy(this._onColumnSelectHandler,this)});this._warningDialog.ejmDialog({buttonTap:t.proxy(this._dialogButtonClick,this)})},_dialogButtonClick:function(){this._warningDialog.ejmDialog("close")},_columnSelectionCancelHandler:function(){if(this._colHideList!=this._prevColHideList){if(this._subPagelistDiv.ejmListView("unCheckAllItem"),this._prevColHideList)for(var n=0;n<this._prevColHideList.length;n++)this._subPagelistDiv.ejmListView("checkItem",this._columns.indexOf(this._prevColHideList[n]));this._colHideList=this._prevColHideList}history.back()},_columnSelectionDoneHandler:function(){if(this._colHideList&&this._colHideList.length==this.model.columns.length)this._warningDialog.ejmDialog("open");else{if(this._colHideList){this._colHideList&&this._hiddenColumns!=this._colHideList&&this.hideColumns(this._colHideList);var t=this;this._colShowList=[];n.each(this.model.columns,function(n,i){t._colHideList.indexOf(i.headerText)==-1&&t._colShowList.push(i.headerText)});this._colShowList&&this._visibleColumns.toString()!=this._colShowList.toString()&&this.showColumns(this._colShowList)}history.back()}this._prevColHideList=this._colHideList},_onColumnSelectHandler:function(n){this._colHideList=n.checkedItemsText},_createPagerObject:function(){var i=this.model.pageSettings,t;i.id=this._id;t=n("#"+this._id+"_pager");t.ejmGridPager(i);this._pager=t.ejmGridPager("instance");this._pager.model.currentPage=parseInt(this.currentPage())},_createFilterObject:function(){var n=this.element.find(".e-m-grid-header"),t=this.model.filterSettings;t.id=this._id;n.ejmGridFilter(t);this._filteringMgr=n.ejmGridFilter("instance")},_renderClientgrid:function(){this.element.addClass("e-m-grid-core e-m-core subpage");this.model.cssClass!=""&&this.model.cssClass!=r&&(this.element.addClass(this.model.cssClass),this._cssClass=this.model.cssClass);this._mainContainer=t.buildTag("div.e-m-grid-container#"+this._id+"container");this.model.allowFiltering&&this._mainContainer.addClass("e-m-filter");this.model.allowFiltering&&this._renderFilterBar();(this.model.showCaption||this.model.allowColumnSelector)&&this._renderCaption();this.model.allowColumnSelector&&(this._colNavigator=t.buildTag("div.e-m-grid-colnav e-m-fontimage"),this.element.find(".e-m-caption-row").append(this._colNavigator));this.element.append(this._mainContainer);this.model.allowScrolling&&this.model.scrollSettings.enableColumnScrolling&&(this._innerContainer=t.buildTag("div.e-m-grid-innercontainer").appendTo(this._mainContainer));this._renderHeader();this._renderContent();this._setRenderMode();this._setTheme()},_setRenderMode:function(){var t="e-m-android e-m-ios7 e-m-windows e-m-flat";this.element.removeClass(t).addClass("e-m-"+this.model.renderMode);n("#"+this._id+"_pager").removeClass(t).addClass("e-m-"+this.model.renderMode)},_setTheme:function(){this.element.removeClass("e-m-light e-m-dark").addClass("e-m-"+this.model.theme);n("#"+this._id+"_pager").removeClass("e-m-light e-m-dark").addClass("e-m-"+this.model.theme)},_renderContent:function(){var n=t.buildTag("div#"+this._id+"_content.e-m-grid-content");this._renderInnerContent(n);this._innerContainer?this._innerContainer.append(n):this._mainContainer.append(n);this.model.allowPaging&&this._renderPager()},_renderPager:function(){var i=t.buildTag("div#"+this._id+"_pager.e-m-grid-core e-m-grid-pager e-m-pager-"+this.model.pageSettings.display+" e-m-pagertype-"+this.model.pageSettings.type+" e-m-"+this.model.renderMode+" e-m-"+this.model.theme),r=t.buildTag("div.e-m-grid-pwrapper e-m-state-default"),n=t.buildTag("div.e-m-grid-inrpgr e-m-state-default");this.model.pageSettings.type=="normal"&&(t.buildTag("div.e-m-grid-first  e-m-fontimage").append(t.buildTag("div.e-m-grid-hfirst  e-m-fontimage")).appendTo(n),t.buildTag("div.e-m-grid-prev  e-m-fontimage").append(t.buildTag("div.e-m-grid-hprev  e-m-fontimage")).appendTo(n));t.buildTag("div#"+this._id+"_pgrtxt.e-m-grid-ptxt").html("1").appendTo(n);this.model.pageSettings.type=="normal"&&(t.buildTag("div.e-m-grid-next  e-m-fontimage").append(t.buildTag("div.e-m-grid-hnext  e-m-fontimage")).appendTo(n),t.buildTag("div.e-m-grid-last  e-m-fontimage").append(t.buildTag("div.e-m-grid-hlast  e-m-fontimage")).appendTo(n));n.appendTo(r);r.appendTo(i);i.css("z-index",t.getMaxZindex());this.model.pageSettings.display==t.mobile.Grid.PagerDisplay.Fixed?i.appendTo(t.getCurrentPage()):i.appendTo(this.element)},_renderInnerContent:function(n){var i=t.buildTag("table.e-m-grid-table",{},{},{cellspacing:"0.25px","data-role":this.element[0].id+"_Table"}),r;this._renderColGrp(i,!1);r=t.buildTag("tbody").append(t.buildTag("tr").append(t.buildTag("td.e-m-grid-emptycell",{},{},{colspan:this.model.columns.length}).html("No records to display")));i.append(r);n.append(i);this._setGridContentTable(i[0])},_renderCaption:function(){var n=t.buildTag("div.e-m-state-default e-m-caption-row").append(t.buildTag("span").html(this.model.caption+": "+this.model.dataSource.length+" Items"));this.element.prepend(n)},_renderFilterBar:function(){var n=t.buildTag("div.e-m-grid-fbardiv"),f=t.buildTag("span.e-m-grid-search  e-m-fontimage"),i=t.buildTag("div.e-m-grid-finput"),r=t.buildTag("span.e-m-grid-clear  e-m-fontimage"),u=t.buildTag("input.e-m-text-input",{},{},{"data-role":"none"});t.isDevice()&&t.isAndroid()&&u.addClass("e-m-placeholder-css");t.buildTag("form").append(u).append(f).append(r).appendTo(i);n.append(i);this.model.renderMode=="windows"&&!t.isMobile()?r.css("display","none"):"";this.element.append(n)},_renderHeader:function(){var n=t.buildTag("div.e-m-state-default e-m-grid-header"),r=t.buildTag("div.e-m-grid-inrhdr"),u=t.buildTag("div.e-m-grid-hdrsettings"),i=t.buildTag("table.e-m-grid-table",{},{},{cellspacing:"0.25px"});this._renderColGrp(i,!0);this._renderTHead(i);u.append(i);r.append(u);n.append(r);this._innerContainer?this._innerContainer.append(n):this._mainContainer.append(n)},_renderColGrp:function(i,r){var u=this,f=t.buildTag("colgroup");this._colWidth=0;this._setHorScrWidth=!0;this._hiddenColumns=[];this._visibleColumns=[];n.each(u.model.columns,function(n,i){var e=t.buildTag("col");i.width&&i.width>0?(e.css("width",i.width+"px"),u._colWidth=u._colWidth+i.width):u._setHorScrWidth=!1;f.append(e);i.headerText||(i.headerText=i.field);i.visible==!1?(r?u._hiddenColumns.push(i.headerText):{},e.addClass("e-hide")):(r?u._visibleColumns.push(i.headerText):{},u.model.columns[n].visible=!0);u._columns.push(i.headerText)});setTimeout(function(){u.element.width()>u._colWidth&&u._setHorScrWidth&&u._colWidth>0&&!t.isMobile()&&u.model.allowScrolling&&u.model.scrollSettings.enableColumnScrolling&&u.element.width(u._colWidth)},100);i.append(f)},_renderTHead:function(i){var u=this,f=t.buildTag("thead"),e=t.buildTag("tr.e-m-grid-hbar"),o,s;this.model.columns.length>0&&typeof this.model.columns[0]=="string"&&(o=n.extend({},this.model.columns),this.model.columns=[],n.each(o,function(n,t){u.model.columns.push({field:t,headerText:t})}));n.each(u.model.columns,function(i,f){var s=t.buildTag("th.e-m-grid-hdrcell e-m-state-default"),h,o,c,l,a,v;f.visible==!1&&s.addClass("e-hide");f.textAlign!=r&&s.css("text-align",f.textAlign);i==u.model.columns.length-1&&s.addClass("e-m-grid-lastth");h=t.buildTag("div.e-m-grid-col-elem e-m-grid-coldesc e-m-grid-hcell");n.each(u.model.sortSettings.sortedColumns,function(n,t){t.columnName==f.field&&h.addClass("e-m-grid-"+t.sortDirection)});o="e-m-grid-hcelldiv";u.model.allowSorting&&(f.allowSorting==r||f.allowSorting)&&(o=o+" e-m-sort");u.model.allowFiltering&&(o=o+" e-m-filter");c=t.buildTag("div."+o);l=t.buildTag("span.e-m-title").html(f.headerText);c.append(l);u.model.allowSorting&&(f.allowSorting==r||f.allowSorting)&&(a=t.buildTag("span.e-m-grid-sort e-m-fontimage"),l.append(a));h.append(c);u.model.allowFiltering&&(f.allowFiltering==r||f.allowFiltering)&&(v=t.buildTag("span.e-m-grid-fltr e-m-fontimage"),h.append(v));s.append(h);e.append(s)});f.append(e);i.append(f);s=t.buildTag("tbody",{},{display:"none"}).append(t.buildTag("tr").append(t.buildTag("td")));i.append(s)},_renderColElements:function(n){return t.buildTag("div.e-m-grid-col-child e-m-grid-col-"+n).append(t.buildTag("span.e-m-grid-"+n+"  e-m-fontimage"))},_load:function(){this.model.allowSelection&&!this._selectionManager&&(this.element.ejmGridSelectionManager(this.model.pageSettings),this._selectionManager=this.element.ejmGridSelectionManager("instance"));this._checkWaitingPopup()&&this.element.ejWaitingPopup({autoDisplay:!1});this.refreshContent("refresh")},_addInitialTemplate:function(){var e,u,o,i,f;this._colInit=!0;this.model.pageSettings.totalRecordsCount&&(this._initColumns(this.model.currentViewData[0]!=r?this.model.currentViewData[0]:this.model.currentViewData.value),this.element.find(".e-m-grid-header").remove(),this._renderHeader(),e=this.element.find(".e-m-grid-header"),e.insertBefore(this.element.find(".e-m-grid-content")));u=this.element[0].id;o=this._page.find("#"+u+"_JSONTemplate");n.views.helpers({_gridFormatting:this._formatting});i=t.buildTag("tbody");f=t.buildTag("tr");n(i).attr("id",u+"_JSONTemplate").css("display","none");n.each(this.model.columns,function(i,u){var e=t.buildTag("td.e-m-grid-rowcell");u.visible==!1&&e.addClass("e-hide");e.html("{{:"+u.field+"}}");u.textAlign!=r&&e.css("text-align",u.textAlign);(u.format!=r&&u.format!=""||u.type&&u.type.toLowerCase()=="datetime")&&(u.format!=""&&u.format||(u.format="{0:"+Globalize.culture().calendar.patterns.d+"}"),e.html("{{:~_gridFormatting('"+u.format+"',"+u.field+",'"+u.field+"')}}"));t.isNullOrUndefined(u.cssClass)||e.addClass(u.cssClass);n(f).append(e)});n(i).append(f);n(this._page).append(i)},_handleQueryCell:function(n){if(n&&n.length!=0&&(this._gridRows=this._getGridContentTable().rows,this.model.queryCellInfo!=null||this.model.rowDataBound!=null))for(var t=0;t<this._gridRows.length;t++)this._rowEventtrigger(this._gridRows[t],n[t])},_rowEventtrigger:function(n,t){var i,r;for(this._trigger("rowDataBound",{element:n,data:t}),i=n.cells,cellIndex=0;cellIndex<i.length;cellIndex++)r={element:i[cellIndex],data:t,text:i[cellIndex].innerHTML},this._trigger("queryCellInfo",r)},_checkWaitingPopup:function(){return n.isFunction(n.fn.ejWaitingPopup)},_renderScrollPager:function(){this._controlInit=!1;this._pgrTxtContainer=n("#"+this._id+"_pgrtxt");this._updateScrollPager();this._pageScroller=this._createScroller({enableHrScroll:!0,enableVrScroll:!1,showScrollbars:!1,autoAdjustHeight:!1,target:this._id+"_pgrtxt",adjustFixedPosition:!1,rendermode:this.model.renderMode,scrollEnd:t.proxy(this._pageScrollEndHandler,this)})},_pageScrollEndHandler:function(){var i=this._pageScroller.ejmScrollPanel("getScrollPosition").x,r=this._pager.element.find(".e-m-page-num"),f=parseInt(n(r).last().css("margin-left").replace("px","")),t=n(r).first().width()+f,s=Math.round(i/t),u=0;if(99*t<-i){var e=-99*t,h=i-e,o=n(r).last().width()+f,c=Math.round(h/o),l=c*o;u=e+l}else u=s*t;this._pageScroller.ejmScrollPanel("scrollTo",u,0)},_updateScrollPager:function(){var u={},r=[],t;for(n.templates.pager||(u.pager="{{if pageNumber < 100 }}<div class='e-m-page-num'>{{:pageNumber}}<\/div>{{else}}<div class='e-m-page-num e-m-page-large'>{{:pageNumber}}<\/div>{{/if}}",n.templates(u)),i=1;i<=this._getPageCount();i++)r.push({pageNumber:i});this._pgrTxtContainer.find(".e-m-pscroll").length>0?(t=n.render.pager(r),this._pgrTxtContainer.find(".e-m-pscroll").html(t)):(t="<div class='e-m-pscroll'>"+n.render.pager(r)+"<\/div>",this._pgrTxtContainer.html(t));n(this._pgrTxtContainer.find(".e-m-page-num")[parseInt(this.currentPage())-1]).addClass("e-m-state-active");this._pageScroller&&this._pageScroller.ejmScrollPanel("refresh")},_findPredicate:function(){var i,r;return n.each(this._filters,function(n,u){var f=!1;typeof u.value=="string"&&(f=!u.isCaseSensitive);r&&r!=u.columnName&&(u.predicate="and");u.value!=""&&(i=i?i[u.predicate](u.columnName,u.operator,u.value,f):t.Predicate(u.columnName,u.operator,u.value,f));r=u.columnName}),i},_createQuery:function(i){var u,f=[],r=[],e;return r=this.model.enablePersistence?(new t.Query).requiresCount():this.model.query.clone().requiresCount(),this.model.allowFiltering&&(u=this._findPredicate(),u&&(i=="filtering"&&(this.currentPage(1),this._pager&&(this._pager.model.currentPage=1)),r=r.where(u))),this._sortedColumns&&this.model.allowSorting&&(e=this,n.each(this._sortedColumns,function(n,t){e._sortDirection[n]=="descending"&&(t=t+" desc");e._sortDirection[n]!="clearsorting"&&f.push(t)}),f.length>0&&r.sortBy(f)),this.model.allowPaging&&(this._getPageCount()<parseInt(this.currentPage())&&this.model.pageSettings.totalRecordsCount&&this.currentPage(1),r.page(parseInt(this.currentPage()),this.model.pageSettings.pageSize)),r},_getPageCount:function(){return Math.ceil(this.model.pageSettings.totalRecordsCount/this._pager.model.pageSize)},_afterDataProcess:function(n,t){var r,u,i;this.model.allowFiltering&&this.model.allowPaging&&(this.model.pageSettings.totalRecordsCount<=this._pager.model.pageSize?this._pager.model.currentPage=1:(r=this._getPageCount(),this._pager.model.currentPage=this._pager.model.currentPage<r?this._pager.model.currentPage:r),this.currentPage(this._pager.model.currentPage));this._commonSuccessAction(this.model.pageSettings.totalRecordsCount,n);this._jsonSuccessAction(t,n);this.model.allowScrolling&&(this.model.scrollSettings.enableRowScrolling&&!this._verScroller&&(this._verScroller=this._createScroller({adjustFixedPosition:!1,showScrollbars:!1,targetHeight:this.model.scrollSettings.height,rendermode:this.model.renderMode,target:this._id+"_content"})),this.model.scrollSettings.enableColumnScrolling&&!this._horScroller&&(u={enableHrScroll:!0,enableVrScroll:!1,showScrollbars:!1,autoAdjustHeight:!1,target:this._id+"container",adjustFixedPosition:!1,rendermode:this.model.renderMode},i=this,setTimeout(function(){(i._setHorScrWidth||i.element.width()<i._colWidth)&&(u.scrollWidth=i._colWidth);i._horScroller=i._createScroller(u)},0)))},_createScroller:function(n){var i=t.buildTag("div");return i.appendTo(this._page),n.enableNativeScrolling=this.model.scrollSettings.enableNativeScrolling,i.ejmScrollPanel(n),i},_sendSortingRequest:function(n,t){var r=!1;if(t=t.toLowerCase(),n!=null&&n!="")if(this.model.sortSettings.allowMultiSorting){for(i=0;i<this._sortedColumns.length;i++)this._sortedColumns[i]==n&&(r=!0,this._sortDirection[i]=t);r==!1&&(this._sortedColumns.push(n),this._sortDirection.push(t))}else this._sortedColumns[0]=n,this._sortDirection[0]=t;this.refreshContent("sorting")},_setDateFilters:function(t){var u=new Date(t.value.setDate(t.value.getDate()-1)),f=new Date(t.value.setDate(t.value.getDate()+2)),i=n.extend({},t),r=n.extend({},t);i.value=u;i.operator=">";i.predicate="and";r.value=f;r.operator="<";r.predicate="and";this._filters.push(i);this._filters.push(r)},_sendFilteringRequest:function(t,i,u){var h=!1,f,e,o,s;if(t!=null)for(f=0;f<t.length;f++)i[f]!=null&&(e={columnName:this._filteringMgr._currentFilterColumn.field,operator:t[f],value:i[f],predicate:u,isCaseSensitive:this._filteringMgr._currentFilterColumn.isCaseSensitive==r?!1:this._filteringMgr._currentFilterColumn.isCaseSensitive},this._filters.length==0?this._filteringMgr._currentFilterColumn.type.toLowerCase()=="datetime"&&t=="equal"?this._setDateFilters(e):this._filters.push(e):(o=this,h||(s=[],n.each(this._filters,function(n,t){t.columnName==e.columnName&&s.push(t)}),n.each(s,function(){o._filters.splice(n.inArray(this,o._filters),1)})),this._filteringMgr._currentFilterColumn.type.toLowerCase()=="datetime"&&i[0]!=""&&t=="equal"?this._setDateFilters(e):this._filters.push(e))),h=!0;this._filteringMgr.model.filterConditions=this._filters;this.refreshContent("filtering")},_commonSuccessAction:function(t,i){var u,r;(i=="refresh"||i=="filtering")&&(this.model.pageSettings.totalRecordsCount=t,u=this.model.caption==""?"":this.model.caption+" :",this.element.find(".e-m-caption-row span").html(u+t+" Items"));this._pager!=null&&((this._pager.model.currentPage==0||this.model.pageSettings.totalRecordsCount<=this.model.pageSettings.pageSize)&&(this._pager._currentPageNo=1),this._pager.model.totalRecordsCount=t,this._pager._findLastPageNo(),this._pager._refreshPager());i=="filtering"?this._mainContainer.css("margin-top",-this.element.find(".e-m-grid-fbardiv").height()-1+"px"):i=="sorting"&&(r=n(this.element.find(".e-m-grid-hcell")),this.model.sortSettings.allowMultiSorting?n(r[this._currentColIdx]).removeClass("e-m-grid-ascending e-m-grid-descending e-m-clearsorting").addClass("e-m-grid-"+this._currentSortDirection):(r.removeClass("e-m-grid-ascending e-m-grid-descending e-m-clearsorting"),n(r[this._currentColIdx]).addClass("e-m-grid-"+this._currentSortDirection)))},_jsonSuccessAction:function(t,i){var o=this,r=t,u=null,f,e;this._curTable=this.element.find(".e-m-grid-content table");i=="paging"&&(o=this,this._pager._refreshPager(),this._selectionManager._parent=this._curTable);u=n(this._curTable).find("tbody:first")[0];n(u).empty();r&&r.length>0?n(u).html(n("#"+this.element[0].id+"_JSONTemplate").render(r)):(f=document.createElement("tr"),e=document.createElement("td"),n(e).addClass("e-m-grid-emptycell").attr("colspan","7").html("No Records to Display"),n(f).append(e),n(u).append(f));this._hiddenColumns.length>0&&this.hideColumns(this._colHideList);this._handleQueryCell(r);this._onRequestSuccess(i)},_formatting:function(t,i,r){var u,s,e,o,h,c,f;return typeof i=="string"&&i.indexOf("Date(")!=-1&&(i=new Date(parseInt(i.replace(/[^0-9 +]/g,""))),this.data[r]=i),t=t.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),u=t,s=t.split("{0:"),h=t.split("}"),e=s[0],o=h[1],t.indexOf("{0:")!=-1?(c=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),f=c.exec(t),f!=null&&i!=null?e!=null&&o!=null?e+Globalize.format(i,f[2],Globalize.culture().name)+o:Globalize.format(i,f[2],Globalize.culture().name):i!=null?i:""):this.data!=null&&this.data.Value==null?(n.each(this.data,function(n,t){u=u.replace(new RegExp("\\{"+n+"\\}","gm"),t)}),u):this.data.Value},_onRequestSuccess:function(t){var i,r;this.model.allowSorting&&t=="sorting"&&(!this.model.sortSettings.allowMultiSorting&&this._prevSortedCell&&n(this._prevSortedCell).removeClass(this._prevSortDirection.toLowerCase()),i=this,i.model.sortSettings.sortedColumns=[],n.each(this._sortedColumns,function(n,t){i.model.sortSettings.sortedColumns.push({columnName:t,sortDirection:i._sortDirection[n]})}));r={requestType:t};this._trigger("actionSuccess",r);this._prevSortDirection=this._currentSortDirection;this._prevSortedCell=this._currentClickedCell},_colNavigationHandler:function(){t.isMobile()?App.transferPage(App.activePage,"#"+this._id+"colnav",{transition:this.model.transition,parentSubPage:!0}):App.transferPage(this.element,"#"+this._id+"colnav",{transition:this.model.transition,parentSubPage:!0})},_touchStartHandler:function(i){var r=this._findColTarget(n(i.target));(r.hasClass("e-m-grid-col-elem")||r.hasClass("e-m-grid-clear")||this.model.allowColumnSelector&&r.hasClass("e-m-grid-colnav"))&&n(r).addClass("e-m-state-active");t.listenEvents([this.element],[t.moveEvent()],[this._touchMoveDelegate],!1)},_touchMoveHandler:function(){this._touchMove=!0},_findColTarget:function(n){return(n.hasClass("e-m-grid-hcell")||n.hasClass("e-m-grid-hcelldiv")||n.hasClass("e-m-grid-sort")||n.hasClass("e-m-grid-fltr")||n.hasClass("e-m-title"))&&(n=n.parent()),(n.hasClass("e-m-grid-hcelldiv")||n.hasClass("e-m-title"))&&(n=n.parent()),n.hasClass("e-m-grid-hcelldiv")&&(n=n.parent()),n},_touchEndHandler:function(i){var r,u;this.element.find(".e-m-grid-col-elem").removeClass("e-m-state-active");this._touchMove||(this.model.allowSelection&&this._selectionManager!=null&&this._selectionManager._selectHandler(i),this.model.allowColumnSelector&&n(i.target).hasClass("e-m-grid-colnav")&&(this._colNavigationHandler(i),n(i.target).removeClass("e-m-state-active")),n(i.target).hasClass("e-m-grid-clear")&&n(i.target).removeClass("e-m-state-active"),r=i.target,n(r).hasClass("e-m-text-input")||(i.preventDefault(),i.returnValue=!1),u=n(r).parents("table:first"),this._currentColIdx&&(this._currentClickedCell=n(this.element.find(".e-m-grid-hbar").first().find("th")[this._currentColIdx]).find("div:first").first()),r!=null&&r.parentNode!=null&&(this._processSortDirection(i,r)&&this._currentSortColumn!=null&&(this.model.sortSettings.allowMultiSorting||(this._sortedColumns=[],this._sortDirection=[]),this._sendSortingRequest(this._currentSortColumn,this._currentSortDirection)),this.model.allowFiltering&&n(r).hasClass("e-m-grid-fltr")&&(this._currentColIdx=n(r).parents("th.e-m-grid-hdrcell")[0].cellIndex,this._filteringMgr._currentFilterColumn=this.model.columns[this._currentColIdx],this._filteringMgr._displayFilterbar())),n(i.target).hasClass("e-m-text-input")||n(i.target).hasClass("e-m-grid-clear")||n(i.target).hasClass("e-m-grid-fltr")||!this.model.allowFiltering||(this._filteringMgr._fDiv.css("visibility","hidden"),n(this.element).find(".e-m-grid-container").css("margin-top",-this._filteringMgr._fDiv.height()-1+"px"),this._filteringMgr._fBarVisible=!1,this._filteringMgr._fInput.blur()));this._touchMove=!1;t.listenEvents([this.element],[t.moveEvent()],[this._touchMoveDelegate],!0)},_processSortDirection:function(t,i){var r,u;if(this.model.allowSorting&&(n(i).hasClass("e-m-grid-hcelldiv")||n(i).hasClass("e-m-grid-sort")||n(i).hasClass("e-m-title"))){if(r=n(t.target).parents("th.e-m-grid-hdrcell")[0],n(r).find(".e-m-sort").length>0){if(this._currentColIdx=r.cellIndex,u=n(r).find("div.e-m-grid-col-elem")[0],this._currentColIdx>=0){if(this._currentSortColumn=this.getColumnMemberByIndex(this._currentColIdx),this._currentSortColumn==null)return!1;this._currentSortDirection=n(u).hasClass("e-m-grid-ascending")?"descending":n(u).hasClass("e-m-grid-descending")?"clearsorting":"ascending"}return!0}return!1}return!1},_wireEvents:function(n){t.listenEvents([this.element,this.element,this.element],[t.startEvent(),t.endEvent()],[this._touchStartDelegate,this._touchEndDelegate],n);this._filteringMgr&&this.model.allowFiltering&&this._filteringMgr._wireEvents(n);this._pager&&this.model.allowPaging&&this._pager._wireEvents(n)},_createDelegates:function(){this._touchStartDelegate=n.proxy(this._touchStartHandler,this);this._touchEndDelegate=n.proxy(this._touchEndHandler,this);this._touchMoveDelegate=n.proxy(this._touchMoveHandler,this)},_getGridContentTable:function(){return this._gridContentTable},_setGridContentTable:function(n){this._gridContentTable=n},_hideHeaderColumn:function(t){for(var f=this.element.find(".e-m-grid-header .e-m-grid-table"),e=f.find("thead"),o=e.find(".e-m-grid-hdrcell"),i=f.find("colgroup").find("col"),r=0;r<t.length;r++){var s=this.getColumnByHeaderText(t[r]),u=n.inArray(s,this.model.columns),h=o.eq(u).addClass("e-hide").index();i.length>this.model.columns.length&&(i=i.slice(i.length-this.model.columns.length));i.eq(u).addClass("e-hide");n(this._curTable).find("col").eq(u).addClass("e-hide")}},_showHeaderColumn:function(t){for(var u=this.element.find(".e-m-grid-header .e-m-grid-table"),f=u.find("thead"),e=f.find(".e-m-grid-hdrcell"),o=u.find("colgroup").find("col"),i=0;i<t.length;i++){var s=this.getColumnByHeaderText(t[i]),r=n.inArray(s,this.model.columns),h=e.eq(r).removeClass("e-hide").index();o.eq(r).removeClass("e-hide");n(this._curTable).find("col").eq(r).removeClass("e-hide")}},_showHideColumns:function(t,i,r,u){var f,h=0,e,o,s,c;if(n.isArray(i))for(f=0;f<i.length;f++)e=n.inArray(i[f],u),e!=-1&&(r.push(i[f]),u.splice(e,1));else e=n.inArray(i,u),e!=-1&&(r.push(i),u.splice(e,1));for(f=0;f<this.model.columns.length;f++)if(n.inArray(this.model.columns[f].headerText,r)!=-1&&(o=!1,s="addClass",t=="show"&&(o=!0,s="removeClass"),this.model.columns[f].visible=o,n(this._curTable).find("tr td:nth-child("+(f+1)+")")[s]("e-hide"),h++),r.length==h)break;c=t=="hide"?"_hideHeaderColumn":"_showHeaderColumn";this[c](r)},_initColumns:function(n){for(var i,f,u,e;n.items!=r;)n=n.items[0];if(this.model.columns.length==0&&n)for(i in n)n.hasOwnProperty(i)&&(typeof n[i]!="object"||n[i]instanceof Date)&&(f=n[i],this.model.columns.push({field:i,type:f!=null?f.getDay?"date":typeof f:null}));else for(u=0;u<this.model.columns.length;u++)t.isNullOrUndefined(this.model.columns[u].type)&&(e=n[this.model.columns[u].field],this.model.columns[u].type=e!=null?e.getDay?"date":typeof e:null)},_refresh:function(){this._destroy();this.element.addClass("m-grid");this._render();this._wireEvents(!1)},_destroy:function(){this._wireEvents(!0);this.element.empty().removeAttr("class");n("#"+this._id+"_pager").remove()},_processDataSource:function(n,t,i){var r=this,u;this._checkWaitingPopup()&&this.element.ejWaitingPopup("show");u=t.executeQuery(n);u.done(function(t){n.queries=[];r.model.pageSettings.totalRecordsCount=t.count;r.model.currentViewData=t.result;r._colInit||r._addInitialTemplate();r.model.pageSettings.type=="scrollable"&&r.model.allowPaging&&r._controlInit&&r._renderScrollPager();!r.model.totalRecorsCount&&r.model.allowPaging&&r._pager._findLastPageNo();r._afterDataProcess(i,t.result);r._verScroller&&r._verScroller.ejmScrollPanel("refresh");r._checkWaitingPopup()&&r.element.ejWaitingPopup("hide");r.selectedRowIndex()!=-1&&r.model.allowSelection&&r._rowSelect&&(r._selectionManager._selectRow(r.selectedRowIndex()),r._rowSelect=!1)});u.always(function(){var n={requestType:i};r._trigger("actionComplete",n)});u.fail(function(){r._checkWaitingPopup()&&r.element.ejWaitingPopup("hide");var n={requestType:i};r._trigger("actionFailure",n)})},refreshContent:function(i){var o,u,e,f;i||(i="refresh");o={requestType:i};this._trigger("actionBegin",o);f=this;f.model.pageSettings.type=="scrollable"&&f.model.allowPaging&&f._pgrTxtContainer&&(this._pgrTxtContainer.find(".e-m-page-num").removeClass("e-m-state-active"),n(this._pgrTxtContainer.find(".e-m-page-num")[parseInt(f.currentPage())-1]).addClass("e-m-state-active"));this.dataSource()instanceof t.DataManager?(u=this.dataSource(),u.dataSource.table!=null&&u.dataSource.table.css("display","none"),e=this._createQuery(i),columnNames=[],n.each(this.model.columns,function(n,t){columnNames.push(t.field)}),e=e.select(columnNames),this.dataSource().ready!=r?(f=this,this.dataSource().ready.done(function(n){u=t.DataManager(n.result);f._processDataSource(e,u,i)})):this._processDataSource(e,u,i)):(u=t.DataManager(this.dataSource()),e=this._createQuery(i),this._processDataSource(e,u,i))},scrollRefresh:function(){this._verScroller&&this._verScroller.ejmScrollPanel("refresh");this._horScroller&&this._horScroller.ejmScrollPanel("refresh")},getColumnByHeaderText:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].headerText==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByIndex:function(n){return n<this.model.columns.length?this.model.columns[n]:null},getColumnIndexByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t},getColumnMemberByIndex:function(n){return n<0?null:this.model.columns.length>n?this.model.columns[n].field:null},getColumnFieldNames:function(){for(var t=[],n=0;n<this.model.columns.length;n++)this.model.columns[n].field&&t.push(this.model.columns[n].field);return t},hideColumns:function(n){this._showHideColumns("hide",n,this._hiddenColumns,this._visibleColumns)},showColumns:function(n){this._showHideColumns("show",n,this._visibleColumns,this._hiddenColumns)},_setModel:function(i){var u=!1,e=!1,f=!1;for(var r in i){typeof i[r]=="object"&&r!="dataSource"&&n.each(i[r],function(n){r=n});switch(r){case"renderMode":this.model.renderMode=i.renderMode;this._setRenderMode();break;case"theme":this._setTheme();break;case"pageSize":this._pager.model.pageSize=this.model.pageSettings.pageSize;f=!0;break;case"currentPage":this.model.allowPaging&&((t.isNullOrUndefined(i[r])||this._pager.model.currentPage!=parseInt(this.currentPage()))&&(this._pager.model.currentPage=parseInt(this.currentPage())),f=!0);break;case"display":case"type":this.model.allowPaging&&(n.extend(this.model.pageSettings,i[r]),this._pager.model.display=this.model.pageSettings.display,this._pager.model.type=this.model.pageSettings.type,u=!0);break;case"dataSource":e=!0;break;case"allowPaging":case"allowFiltering":case"allowSorting":case"allowScrolling":case"allowColumnSelector":u=!0;break;case"sortedColumns":this.model.allowSorting&&(this._sortedColumns=[],this._sortDirection=[],this._handleInitialSorting(),this.refreshContent("sorting"));break;case"filteredColumns":this.model.allowFiltering&&(this._filters=i.filterSettings.filteredColumns,this.refreshContent("filtering"));break;case"showCaption":this.model.showCaption?this._renderCaption():this.element.find(".e-m-caption-row").remove();break;case"caption":this.element.find(".e-m-caption-row span").html(this.model.caption+": "+this.dataSource().length+" Items");break;case"cssClass":this.element.addClass(this.model.cssClass).removeClass(this._cssClass);this._cssClass=this.model.cssClass;break;case"selectedRowIndex":this.model.allowSelection&&(this._selectionManager._selectRow(this.selectedRowIndex()),this._rowSelect=!1)}}u?(this._controlInit=!0,this._verScroller&&(this._verScroller.remove(),this._verScroller=null),this._horScroller&&(this._horScroller.remove(),this._horScroller=null),this._pageScroller&&(this._pageScroller.remove(),this._pageScroller=null),this._refresh()):e?this.refreshContent("refresh"):f&&this.refreshContent("paging")}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmGridFilter","ej.mobile.GridFilter",{_rootCSS:"e-m-filter",_init:function(){this.page=t.getCurrentPage();this._fDiv=this.page.find("#"+this.model.id+" .e-m-grid-fbardiv");this._fInput=n(this._fDiv).find("input");this._currentFilterColumn=null;this.predicate="or";this._filterValue="";this._oldFilterValue="";this._operatorValue=[];this._filterValueOldLenth=0;this._filterValueCurrentLenth=0;this._currentFilterbarValue=null;this._alreadyFilterProcessed=!1;this._oldFilterColumn=null;this._skipFilterProcess=!1;this._tokens=["%","<","<=",">",">=","!","=","*"];this._tokenNames=["startswith","lessthan","lessthanorequal","greaterthan","greaterthanorequal","notequal","equal","contains"];this._tokenType=null;this._fltrValCollection=[];this._colFltrValues=[]},_wireEvents:function(i){var f=i?"off":"on",r=n(this._fDiv).find(".e-m-grid-clear"),u=n(this._fDiv).find("form");t.listenEvents([r,u],[t.endEvent(),"submit"],[n.proxy(this._clearHandler,this),n.proxy(this._filterBarValueHandler,this)],i);this.model.filterBarMode=="immediate"&&t.listenEvents([this._fInput],["keyup"],[n.proxy(this._filterBarValueHandler,this)],i)},_clearHandler:function(){this._fInput.val("");this._fInput.focus()},_displayFilterbar:function(){var r,i,t;this._fBarVisible?(n("#"+this.model.id).find(".e-m-grid-container").css("margin-top",-this._fDiv.height()-1+"px"),this._fBarVisible=!1,this._fInput.blur()):(this._fInput.val(""),this._colFltrValues[this._currentFilterColumn.field]!=null?this._fInput.val(this._colFltrValues[this._currentFilterColumn.field]):this.model.filterConditions&&(t="",i=this,n.each(this.model.filterConditions,function(u,f){if(f.columnName==i._currentFilterColumn.field){if(r&&(t=t+" "+(r=="or"?"||":"&&")+" "),f.operator=="startswith"||f.operator=="endswith")t=t+(f.operator=="startswith"?f.value+"%":"%"+f.value);else{var u=n.inArray(f.operator,i._tokenNames);u=u==-1?1:u;t=t+i._tokens[u]+f.value}r=f.predicate}})),i=this,t=i._fInput.val(),this._fInput.attr("placeholder",this._currentFilterColumn.headerText),this._fDiv.css("visibility","visible"),n("#"+this.model.id).find(".e-m-grid-container").css("margin-top","0px"),this._fBarVisible=!0)},_filterBarValueHandler:function(t){if(t.preventDefault(),!(t.type=="submit"&&this.model.filterBarMode=="immediate")){var i=t.keyCode;if(i!=9){if(this._currentFilterColumn==null)return;if(this._currentFilterColumn!=this._oldFilterColumn&&(this._filterValueOldLenth=0),this._currentFilterbarValue=n(this.page.find("#"+this.model.id+" input")).val(),this._colFltrValues[this._currentFilterColumn.field]=this._currentFilterbarValue,this._filterValueCurrentLenth=this._currentFilterbarValue.length,(this._filterValueCurrentLenth==0&&this._filterValueOldLenth==0||this._currentFilterbarValue==this._oldFilterValue)&&this._currentFilterColumn==this._oldFilterColumn)return!1;if(this._skipFilterProcess=this._checkForSkipInput(),this._skipFilterProcess)return this._skipFilterProcess=!1,!1;this._checkFilterProcess()}}return!1},_createValidationDialog:function(){this._validationDlg=t.buildTag("div").append(t.buildTag("div.e-m-filter-validate").html("Enter valid filter data"));this.element.append(this._validationDlg);this._validationDlg.ejmDialog({leftButtonCaption:"Ok",theme:this._gridObj.model.theme,renderMode:this._gridObj.model.renderMode,title:"Warning",mode:"alert",enableAutoOpen:!1,enableModal:!0});this._validationDlg.ejmDialog({buttonTap:t.proxy(this._OkBtnHandler,this)})},_OkBtnHandler:function(){this._validationDlg.ejmDialog("close");this._fInput.focus()},_checkFilterProcess:function(){this.model.filterBarMode=="immediate"?this._alreadyFilterProcessed?(this._stopTimer(),this._startTimer()):(this._alreadyFilterProcessed=!0,this._startTimer()):this._processFilter()},_startTimer:function(){var n=this;this._timer=window.setTimeout(function(){n._processFilter()},n.model.interval)},_stopTimer:function(){this._oldFilterColumn=this._currentFilterColumn;this._filterValueOldLenth=this._filterValueCurrentLenth;this._timer!=null&&window.clearTimeout(this._timer)},_processFilter:function(){this._findPredicate();this._fInput.blur();this._gridObj||(this._gridObj=n("#"+this.model.id).ejmGrid("instance"));!this._skipFilterProcess&&this._fltrValCollection.length>0?this._gridObj._sendFilteringRequest(this._operatorValue,this._fltrValCollection,this.predicate):(this._validationDlg||this._createValidationDialog(),this._validationDlg.find(".e-m-filter-validate").html('Enter valid filter data. The current filter column is of type "'+this._currentFilterColumn.type+'"'),this._validationDlg.ejmDialog("open"));this._oldFilterValue=this._filterValue;this._filterValue="";this._fltrValCollection=[];this._operatorValue=[];this._tokenType=null},_findPredicate:function(){var t=this._currentFilterbarValue.replace(/ and /i," AND ").replace(/ or /i," OR ").replace(/ && /i," AND ").replace(" || "," OR "),i=t.split(" "),n;i.length!=0?i[1]=="AND"?(this._skipFilterProcess=!1,this.predicate="and",n=t.split(" AND "),this._validator(n)):i[1]=="OR"?(this._skipFilterProcess=!1,this.predicate="or",n=t.split(" OR "),this._validator(n)):this._validateFilterValue(this._currentFilterbarValue.trim()):this._validateFilterValue(this._currentFilterbarValue.trim())},_validator:function(t){var i=this;n.each(t,function(n,t){t!=""?(i._validateFilterValue(t,i._currentFilterColumn.type),i._filterValue=""):(i._skipFilterProcess=!0,i.filterValueCollection=[],i._operatorValue=[],i.TokenType=null)})},_checkNumericDataType:function(){if(this._currentFilterColumn.type.toLowerCase()=="number"||this._currentFilterColumn.type.toLowerCase()=="double"||this._currentFilterColumn.type.toLowerCase()=="decimal"||this._currentFilterColumn.type.toLowerCase()=="datetime")return!0},_checkForSkipInput:function(){var i=!1,u=this,r,t;if(this._checkNumericDataType()&&n.each([">","<","=","!"," "],function(n,t){t==u._currentFilterbarValue&&(i=!0)}),this._currentFilterColumn.type.toLowerCase()=="string")for(r=[">","<","=","!"],t=0;t<this._currentFilterbarValue.length;t++)jQuery.inArray(this._currentFilterbarValue[t],r)!=-1&&(i=!0);return i},_validateFilterValue:function(n){var u,f,r;if(this._findFilterValue(n),(this._tokenType==null||this._tokenType==i)&&this._currentFilterColumn.type.toLowerCase()=="string"?this._operatorValue.push(t.FilterOperators.startsWith):(this._tokenType==null||this._tokenType==i)&&this._checkNumericDataType()&&this._operatorValue.push(t.FilterOperators.equal),this._currentFilterColumn.type.toLowerCase()=="datetime"&&(u=this._currentFilterColumn.format==""?Globalize.culture().calendar.patterns.d:this._currentFilterColumn.format.split(":")[1].replace("}",""),this._filterValue!=""&&(this._filterValue=Globalize.parseDate(this._filterValue,u))),this._checkNumericDataType()){for(f=[">","<","=","!"," "],r=0;r<this._filterValue.length;r++)char=this._filterValue.charAt(r),jQuery.inArray(char,f)!=-1&&(this._skipFilterProcess=!0);this._currentFilterColumn.type.toLowerCase()!="datetime"&&this._filterValue!=""&&(this._filterValue=parseFloat(this._filterValue))}(this.model.filterConditions.length>0&&this._filterValue==""||this.model.filterConditions.length>=0&&this._filterValue!="")&&this._fltrValCollection.push(this._filterValue);this._operatorValue.length!=this._fltrValCollection.length&&this._operatorValue.push(t.FilterOperators.equal)},_findOperators:function(n,i){switch(i){case"%":n?(this._tokenType="startsWith",this._operatorValue.push(t.FilterOperators.startsWith)):(this._tokenType="endsWith",this._operatorValue.push(t.FilterOperators.endsWith));break;case"*":this._tokenType="contains";this._operatorValue.push(t.FilterOperators.contains);break;case"<":this._tokenType="lessThan";this._operatorValue.push(t.FilterOperators.lessThan);break;case"<=":this._tokenType="lessThanOrEqual";this._operatorValue.push(t.FilterOperators.lessThanOrEqual);break;case"=":this._tokenType="equal";this._operatorValue.push(t.FilterOperators.equal);break;case"!":this._tokenType="notEqual";this._operatorValue.push(t.FilterOperators.notEqual);break;case">=":this._tokenType="greaterThanOrEqual";this._operatorValue.push(t.FilterOperators.greaterThanOrEqual);break;case">":this._tokenType="greaterThan";this._operatorValue.push(t.FilterOperators.greaterThan)}},_checkNumeric:function(n){var i="0123456789.<>=!",r=!0,t;for(this._currentFilterColumn.type.toLowerCase()=="datetime"&&(i="0123456789.AMP<>=!/: "),t=0;t<n.length;t++)char=n.charAt(t),jQuery.inArray(char,i)==-1&&(r=!1);return r},_findFilterValue:function(n){var i,r;n!=""&&(this._currentFilterColumn.type.toLowerCase()=="string"?this._getToken(n):this._currentFilterColumn.type.toLowerCase()=="boolean"&&n.length==1?(i="01",jQuery.inArray(n,i)!=-1?(n=="1"?this._filterValue="True":n=="0"&&(this._filterValue="False"),this._operatorValue.push(t.FilterOperators.equal)):this._skipFilterProcess=!0):this._checkNumericDataType()?(r=this._checkNumeric(n),r?this._getToken(n):this._skipFilterProcess=!0):this._skipFilterProcess=!0)},_getToken:function(n){(n==null||n==i)&&(this._filterValue="");var t=n.split("");this._getTokens(t,t[0])},_getTokens:function(n,i){var o,e,r,u,f;if(this._isToken(i))if(this._findOperators(this._filterValue!="",i),this._tokenType=="lessThan"||this._tokenType=="greaterThan"){if(n.length>1)if(n.splice(0,1),u=n,f=u[0],this._isToken(f)){if(o=this._tokenType,this._findOperators(!1,f),this._tokenType=="equal")if(o=="lessThan"){for(this._tokenType="lessThanOrEqual",e=this._operatorValue.length,r=this._operatorValue.length;r>e-2;r--)this._operatorValue.splice(r-1,1);this._operatorValue.push(t.FilterOperators.lessThanOrEqual)}else if(o=="greaterThan"){for(this._tokenType="greaterThanOrEqual",e=this._operatorValue.length,r=this._operatorValue.length;r>e-2;r--)this._operatorValue.splice(r-1,1);this._operatorValue.push(t.FilterOperators.greaterThanOrEqual)}this._skipAndTokenizeBlock(u)}else this._getFilterValue(u,f)}else n.length>1&&(n.splice(0,1),u=n,f=u[0],this._getFilterValue(u,f));else this._getFilterValue(n,i)},_getFilterValue:function(n,t){this._filterValue+=t;this._skipAndTokenizeBlock(n)},_skipAndTokenizeBlock:function(n){if(n.length>1){n.splice(0,1);var t=n,i=t[0];this._getTokens(t,i)}},_isToken:function(n){return jQuery.inArray(n,this._tokens)==-1?!1:!0}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmGridPager","ej.mobile.GridPager",{_rootCSS:"e-m-grid-core",_init:function(){this._page=t.getCurrentPage();this._findLastPageNo();this._pElement=this._page.find("#"+this.model.id+"_pager");this._pLast=this._pElement.find(".e-m-grid-last");this._pFirst=this._pElement.find(".e-m-grid-first");this._pPrev=this._pElement.find(".e-m-grid-prev");this._pNext=this._pElement.find(".e-m-grid-next");this._pTxt=this._pElement.find(".e-m-grid-ptxt")},_wireEvents:function(i){var r=this._pElement.find(".e-m-grid-inrpgr >div");t.listenEvents([r,r],[t.endEvent(),t.startEvent()],[n.proxy(this._pageHandler,this),n.proxy(this._tStartHandler,this)],i);this.model.type==t.mobile.Grid.PagerType.Scrollable&&t.listenEvents([this._pElement.find(".e-m-grid-ptxt")],[t.endEvent()],[n.proxy(this._scrollPageHandler,this)],i)},_findLastPageNo:function(){this._lastPNo=this.model.totalRecordsCount%this.model.pageSize>0?parseInt(this.model.totalRecordsCount/this.model.pageSize)+1:parseInt(this.model.totalRecordsCount/this.model.pageSize)},_isPageBtn:function(n){var t=n.hasClass("e-m-grid-next")||n.hasClass("e-m-grid-prev")||n.hasClass("e-m-grid-last")||n.hasClass("e-m-grid-first")?!0:!1,i=n.hasClass("e-m-grid-dnext")||n.hasClass("e-m-grid-dprev")||n.hasClass("e-m-grid-dlast")||n.hasClass("e-m-grid-dfirst")?!0:!1;return t&&!i},_tStartHandler:function(t){var i=n(t.target),r="",u;i.hasClass("e-m-grid-next")&&!i.hasClass("e-m-grid-dnext")?r="hnext":i.hasClass("e-m-grid-prev")&&!i.hasClass("e-m-grid-dprev")?r="hprev":i.hasClass("e-m-grid-last")&&!i.hasClass("e-m-grid-dlast")?r="hlast":i.hasClass("e-m-grid-first")&&!i.hasClass("e-m-grid-dfirst")&&(r="hfirst");u=this._pElement.find(".e-m-grid-"+r);u.length>0&&u.css("display","block").addClass("e-m-state-active")},_pageHandler:function(t){this._tMove||this._sendPageRequest(n(t.target))},_scrollPageHandler:function(t){if(this._gridObj=this._gridObj?this._gridObj:n("#"+this.model.id).ejmGrid("instance"),!this._gridObj._touchMove&&n(t.target).hasClass("e-m-page-num")){var i=parseInt(this.model.currentPage);this.model.currentPage=parseInt(n(t.target).html());i!=this.model.currentPage&&(this._gridObj.currentPage(this.model.currentPage),this._gridObj.refreshContent("paging"))}},_sendPageRequest:function(t){var u=this.model.currentPage,i="",r;(t.hasClass("e-m-grid-hnext")||t.hasClass("e-m-grid-next"))&&!t.hasClass("e-m-grid-dnext")?(this.model.currentPage=this.model.currentPage+1,i="hnext"):(t.hasClass("e-m-grid-hprev")||t.hasClass("e-m-grid-prev"))&&!t.hasClass("e-m-grid-dprev")?(this.model.currentPage=this.model.currentPage-1,i="hprev"):t.hasClass("e-m-grid-hlast")||t.hasClass("e-m-grid-last")?(this.model.currentPage=this._lastPNo,i="hlast"):(t.hasClass("e-m-grid-hfirst")||t.hasClass("e-m-grid-first"))&&(this.model.currentPage=1,i="hfirst");r=this._pElement.find(".e-m-grid-"+i);r.length>0&&r.css("display","none").removeClass("e-m-state-active");this._gridObj||(this._gridObj=n("#"+this.model.id).ejmGrid("instance"));u!=this.model.currentPage&&(this._gridObj.currentPage(this.model.currentPage),this._gridObj.refreshContent("paging"));this._tMove=!1},_refreshPager:function(){this.model.type==t.mobile.Grid.PagerType.Normal?(this._pLast.removeClass("e-m-grid-dlast"),this._pNext.removeClass("e-m-grid-dnext"),this._pFirst.removeClass("e-m-grid-dfirst"),this._pPrev.removeClass("e-m-grid-dprev"),this.model.currentPage==this._lastPNo&&(this._pLast.addClass("e-m-grid-dlast"),this._pNext.addClass("e-m-grid-dnext")),this.model.currentPage==1&&(this._pFirst.addClass("e-m-grid-dfirst"),this._pPrev.addClass("e-m-grid-dprev")),this._pTxt.html(this.model.currentPage)):this.model.type==t.mobile.Grid.PagerType.Scrollable&&(this._gridObj||(this._gridObj=n("#"+this.model.id).ejmGrid("instance")),this._gridObj._updateScrollPager())}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmGridSelectionManager","ej.mobile.GridSelectionManager",{_rootCSS:"e-m-grid-core",_init:function(){this._record={}},_selectRow:function(t,i){var r=this.element.find(".e-m-grid-content tr")[t],u;this._cleanUp();this._selectedRowIndex=r;r&&(this._setCurrentRecord(r.rowIndex),this._gridObj.selectedRowIndex(t),u={rowIndex:r.rowIndex,row:r,cell:i,data:this._record},this._gridObj._trigger("rowSelecting",u),n(r).find("td.e-m-grid-rowcell").addClass("e-m-state-active"),this._gridObj._trigger("rowSelected",u))},_setCurrentRecord:function(n){this._gridObj||(this._gridObj=this.element.ejmGrid("instance"));this._record=this._gridObj.model.currentViewData[n]},_getRow:function(t){return n(t).parents("tr:first")[0]},_getRowCell:function(t){return t.tagName=="TD"&&n(t).hasClass("e-m-grid-rowcell")?n(t):n(t).parents("td.e-m-grid-rowcell:first").length>0?n(t).parents("td.e-m-grid-rowcell:first"):n(n(t).parents("tr:first")[0]).find(".e-m-grid-rowcell")},_getAllRowCells:function(t){return n(t.parentNode).children("td:[class*=e-m-grid-rowcell]")},_deSelectRow:function(){if(this._selectedRowIndex!=null){this._setCurrentRecord(this._selectedRowIndex);var t={row:this._selectedRowIndex,record:this._record};n(this._selectedCell).removeClass("e-m-grid-current-cell");n(this._selectedRowIndex).find("td.e-m-grid-rowcell").removeClass("e-m-state-active")}},_cleanUp:function(){this._selectedRowIndex&&this._deSelectRow()},_selectHandler:function(t){var i=this._getRowCell(t.target),r=this._getRow(t.target),u=this.element.find(".e-m-grid-content table:first")[0];i==null||i.length<1||!n(i).hasClass("e-m-grid-rowcell")||n(i).parents("table:first")[0]!=u||this._selectRow(r.rowIndex,i[0])}});t.mobile.Grid.PagerDisplay={Normal:"normal",Fixed:"fixed"};t.mobile.Grid.PagerType={Normal:"normal",Scrollable:"scrollable"};t.mobile.Grid.Actions={Paging:"paging",Sorting:"sorting",Filtering:"filtering",Refresh:"refresh"};t.mobile.Grid.FilterBarMode={Immediate:"immediate",OnEnter:"onenter"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmGroupButton","ej.mobile.GroupButton",{_setFirst:!0,_rootCSS:"e-m-grpbtn",defaults:{selectedItemIndex:0,renderMode:"auto",theme:"auto",enablePersistence:!1,windows:{renderDefault:!1},touchStart:null,touchEnd:null},dataTypes:{renderMode:"enum",theme:"enum",enablePersistence:"boolean"},observables:["selectedItemIndex"],selectedItemIndex:t.util.valueFunction("selectedItemIndex"),_init:function(){this._orgEle=this.element.clone();this._renderControl();this._setWidth();this._setControlWidth();this._wireEvents(!1)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");this._groupItems=this.element.children();this._count=this._groupItems.length;this.element.addClass("e-m-grpbtn e-m-"+this.model.renderMode+" e-m-"+this.model.theme);n.each(this._groupItems,function(i,r){imageClass=t.getAttrVal(r,"data-ej-imageclass");imagePath=t.getAttrVal(r,"data-ej-imageurl");imageClass?n(this).addClass(imageClass):imagePath&&(n(this).css({"background-image":"url('"+imagePath+"')"}),n(this).addClass("e-m-gbimage"),n(this).text().trim()==""&&n(this).addClass("e-m-imageonly"));n(this).addClass("e-m-btn e-m-default")});this.model.renderMode=="ios7"&&(this.element.find(".e-m-btn:first").addClass("e-m-corner-left"),this.element.find(".e-m-btn:last").addClass("e-m-corner-right"));this._selectItem(this.selectedItemIndex())},_setWidth:function(){var i=0,r;this.model.renderMode=="ios7"&&(r=this.element.find(".e-m-btn"),n.each(r,function(n,r){i=i>t.getDimension(r,"width")?i:t.getDimension(r,"width")}),i=i+1,this._width=i,n(r).css({"min-width":i+"px"}))},_setControlWidth:function(){var i=0,r=this.element.find(".e-m-btn"),u=this.model.renderMode,f=this._width;n.each(r,function(n,r){i=i+t.getDimension(r,"outerWidth")});this.model.renderMode!="ios7"&&(i=i+1);n(this.element).css({"min-width":i+"px"})},_wireEvents:function(i){this._touchStartHandler=n.proxy(this._touchStartHandler,this);this._touchEndHandler=n.proxy(this._touchEndHandler,this);var r=this.element.find(".e-m-btn");t.listenEvents([r,r],[t.startEvent(),t.endEvent()],[this._touchStartHandler,this._touchEndHandler],i)},_touchStartHandler:function(t){this.currentText=n(t.target).text();this.data={text:this.currentText.trim()};this.model.touchStart&&this._trigger("touchStart",this.data)},_touchEndHandler:function(t){var i=n(t.currentTarget);i.find("input").length==0||i.find("input[type='groupbutton']").length==0?(this.element.find(".e-m-active").removeClass("e-m-active").addClass("e-m-default").find("input[type='radio']").attr("checked",!1),i.removeClass("e-m-default").addClass("e-m-active").find("input[type='radio']").attr("checked",!0)):i.find("input").is(":checked")?i.removeClass("e-m-active").addClass("e-m-default"):i.removeClass("e-m-default").addClass("e-m-active");this.selectedItemIndex(n(t.currentTarget).index());this.model.touchEnd&&this._trigger("touchEnd",this.data)},_selectItem:function(t){t>=0&&(this.selectedItemIndex(t),this.element.find(".e-m-active").removeClass("e-m-active").addClass("e-m-default"),n(this.element.find(".e-m-btn")[this.selectedItemIndex()]).removeClass("e-m-default").addClass("e-m-active"),n(this.element.find("input")[this.selectedItemIndex()]).attr("checked",!0),this.currentText=n(this.element.find(".e-m-btn")[this.selectedItemIndex()]).text(),this.data={text:this.currentText.trim()},this.model.touchend&&this._trigger("touchend",this.data))},_setModel:function(n){var r=!1,t,i,u;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),u=typeof n[t]=="function"?this[t]():n[t],this[i]?this[i](u):r=!0;r&&this._refresh()},_setTheme:function(n){this.model.theme=n;this.element.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+n)},_setSelectedItemIndex:function(n){this._selectItem(n)},_refresh:function(){this._destroy();this.element.addClass("ejm-groupbutton");this._renderControl();this._setWidth();this._setControlWidth();this._wireEvents(!1)},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmHeader","ej.mobile.Header",{_setFirst:!0,_rootCSS:"e-m-header",defaults:{hideForUnSupportedDevice:!1,leftButtonNavigationUrl:null,leftButtonImageClass:null,leftButtonImageUrl:null,rightButtonNavigationUrl:null,rightButtonImageClass:null,rightButtonImageUrl:null,title:"Title",showTitle:!0,position:"fixed",leftButtonCaption:"Back",rightButtonCaption:"Right",leftButtonStyle:"back",rightButtonStyle:"header",renderMode:"auto",theme:"auto",showLeftButton:!1,showRightButton:!1,templateId:null,android:{backButtonImageClass:null},enablePersistence:!1,leftButtonTap:null,rightButtonTap:null,windows:{renderDefault:!1,enableCustomText:!1}},dataTypes:{showTitle:"boolean",position:"enum",leftButtonStyle:"enum",rightButtonStyle:"enum",renderMode:"enum",theme:"enum",windows:{renderDefault:"boolean",enableCustomText:"boolean"},enablePersistence:"boolean"},_init:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");(!this.model.hideForUnSupportedDevice||this.model.hideForUnSupportedDevice&&this.model.renderMode=="ios7")&&(this._renderControl(),t.isIOSWebView()&&t.isIOS()&&this.model.position=="fixed"&&(this.element.addClass("e-m-webview"),t.getCurrentPage().addClass("e-m-fixed-header")))},_renderHeaderTemplate:function(){this._templateContainer=t.buildTag("div.e-m-header-content");var n=t.getCurrentPage().find("#"+this.model.templateId);n.length?(this.element.empty(),t.destroyWidgets(n),this._template=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n):(this._template=this.element[0].innerHTML.trim(),this.element.empty());t.widget.init(this._template);this.element.append(this._templateContainer.append(this._template))},_renderDefaultHeader:function(){this._headerContainer=t.buildTag("div.e-m-header-content");this.element[0].innerHTML.trim()==""?(this.element.append(this._headerContainer),this["_"+this.model.renderMode+"ButtonProperties"]&&this["_"+this.model.renderMode+"ButtonProperties"]()):(this._template=this.element[0].innerHTML.trim(),this.element.empty(),this.element.append(this._headerContainer.append(this._template)))},_renderControl:function(){this._orgEle=n(this.element).clone();this.model.height>0&&n(this.element).css({height:this.model.height});this.model.width>0&&n(this.element).css({width:this.model.width});this.element.addClass("e-m-"+this.model.renderMode+" e-m-header e-m-"+this.model.position+" e-m-"+this.model.theme);this.model.templateId==null?this._renderDefaultHeader():this._renderHeaderTemplate();var t=this.element.find(".e-m-header-text");t.length==0&&!this._template&&this.model.showTitle&&this._showHeaderTitle()},_buttonProperties:function(){this.model.showLeftButton&&this._leftButtonCommon();this.model.showTitle&&this._showHeaderTitle();this.model.showRightButton&&this._rightButtonCommon()},_leftButtonCommon:function(){this._leftButton=t.buildTag("div.e-m-header-left");this._renderMode=this.model.renderMode;this._theme=this.model.theme;this.model.renderMode=="windows"&&(this.model.leftButtonCaption="");var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this._theme};this.model.leftButtonImageClass&&(n["data-ej-contenttype"]="image",n["data-ej-imageposition"]="center",n["data-ej-imageclass"]=this.model.leftButtonImageClass,this.model.leftButtonStyle=null,this.model.leftButtonCaption="");this._leftButtonAnchorTag=t.buildTag("a",this.model.leftButtonCaption,"",n);this._buttons(this._leftButton,this._leftButtonAnchorTag,this.model.leftButtonTap,this.model.leftButtonStyle,this.model.leftButtonNavigationUrl)},_rightButtonCommon:function(){this._rightButton=t.buildTag("div.e-m-header-right");this._renderMode=this.model.renderMode;var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this.model.rightButtonImageClass&&(n["data-ej-contenttype"]="image",n["data-ej-imageposition"]="center",n["data-ej-imageclass"]=this.model.rightButtonImageClass,this.model.rightButtonStyle=null,this.model.rightButtonCaption="");this._rightButtonAnchorTag=t.buildTag("a",this.model.rightButtonCaption,"",n);this._buttons(this._rightButton,this._rightButtonAnchorTag,this.model.rightButtonTap,this.model.rightButtonStyle,this.model.rightButtonNavigationUrl)},_buttons:function(n,i,r,u,f){r!=null?r.name?i.attr("data-ej-touchend",r.name):i.attr("data-ej-touchend",r):"";u&&i.attr("data-ej-"+this._renderMode+"-style",u);f!=null&&i.attr("href",f);n.append(i);n.hasClass("e-m-header-left")?this.element.find(".e-m-header-content").prepend(n):this.element.find(".e-m-header-content").append(n);t.widget.init(n)},_showHeaderTitle:function(){this._titleSpan=t.buildTag("span.e-m-header-text e-m-"+this.model.theme+" e-m-user-select",this.model.renderMode=="windows"&&t.isMobile()?this.model.windows.enableCustomText?this.model.title:this.model.title.toLowerCase():this.model.title,"","");titleDiv=t.buildTag("div.e-m-header-title","","","").append(this._titleSpan);this._headerContainer.append(titleDiv);(this.model.renderMode=="ios7"||this.model.renderMode=="flat")&&this._titleSpan.text().length>18&&(this.model.showLeftButton&&this._titleSpan.css("margin-left","90px"),this.model.showRightButton&&this._titleSpan.css("margin-right","70px"));this.model.showLeftButton&&this.model.showRightButton&&this._headerContainer.find(".e-m-header-title").css("text-align","center")},_ios7ButtonProperties:function(){this._buttonProperties()},_androidButtonProperties:function(){this.model.showLeftButton&&this.model.leftButtonImageClass==null?(this._leftDiv=t.buildTag("div.e-m-header-left"),this._spanTag=t.buildTag("div.e-m-header-button e-m-fontimage"),this._leftDiv.append(this._spanTag),this._headerContainer.prepend(this._leftDiv),this.model.android.backButtonImageClass&&(this._imageDiv=t.buildTag("div."+this.model.android.backButtonImageClass,"",{display:"table-cell",width:"50px","background-position":"center","background-repeat":"no-repeat"},""),this._imageDiv.insertAfter(this._leftDiv)),this._wireEvents(!1)):this._buttonProperties()},_windowsButtonProperties:function(){this._buttonProperties()},_flatButtonProperties:function(){this._buttonProperties()},_wireEvents:function(i){this._touchStartHandler=n.proxy(this._onTouchStart,this);this._touchStopHandler=n.proxy(this._onTouchEnd,this);this.model.renderMode=="android"&&this.model.showLeftButton&&t.listenEvents([this._leftDiv,this._leftDiv,this._imageDiv,this._imageDiv],[t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent()],[this._touchStartHandler,this._touchStopHandler,this._touchStartHandler,this._touchStopHandler],i)},_onTouchStart:function(){this.element.find(this._leftDiv).addClass("active");this.element.find(this._imageDiv).addClass("active")},_onTouchEnd:function(){this.element.find(this._leftDiv).removeClass("active");this.element.find(this._imageDiv).removeClass("active");history.back()},_setShowLeftButton:function(n){this.model.showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this.model.renderMode=="android"||this.model.leftButtonImageClass!=null?this._androidButtonProperties():this._leftButtonCommon()},_setLeftButtonStyle:function(n){this.element.find(this._leftButtonAnchorTag).ejmActionlink({style:n})},_setShowRightButton:function(n){this.model.showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setRightButtonStyle:function(n){this.element.find(this._rightButtonAnchorTag).ejmActionlink({style:n})},_setShowTitle:function(n){this.model.showTitle=n;this._titleSpan[n?"show":"hide"]()},_setTitle:function(n){this._titleSpan&&(this.model.title=this.model.renderMode!="windows"||this.model.windows.enableCustomText?n:n.toLowerCase(),this._titleSpan.html(this.model.title))},_setLeftButtonCaption:function(n){this.model.leftButtonCaption=n;this.element.find(this._leftButtonAnchorTag).html(n)},_setRightButtonCaption:function(n){this.model.rightButtonCaption=n;this.element.find(this._rightButtonAnchorTag).html(n)},_setLeftButtonTap:function(n){this.model.leftButtonTap=n;this.element.find(this._leftButtonAnchorTag).ejmActionlink({touchEnd:n})},_setRightButtonTap:function(n){this.model.rightButtonTap=n;this.element.find(this._rightButtonAnchorTag).ejmActionlink({touchEnd:n})},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),t=="renderMode"||t=="position"?r=!0:this[i]&&this[i](n[t]);r&&this._refresh()},_setTheme:function(n){this.model.theme=n;this.element.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase());this.element.find(".e-m-header-left .e-m-btn").ejmActionlink({theme:n});this.element.find(".e-m-header-right .e-m-btn").ejmActionlink({theme:n})},_refresh:function(){this._destroy();this.element.addClass("e-m-header");this._renderControl();this._wireEvents(!1)},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElement();this._wireEvents(!0)},getTitle:function(){if(this._titleSpan)return this._titleSpan.html()}});t.mobile.Header.Position={Normal:"normal",Fixed:"fixed"};t.mobile.Header.HeaderLeftButtonStyle={Back:"back",Header:"header",Normal:"normal"};t.mobile.Header.HeaderRightButtonStyle={Header:"header",Normal:"normal"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmTab","ej.mobile.Tab",{_setFirst:!0,_rootCSS:"e-m-tab",defaults:{theme:"auto",renderMode:"auto",allowScrolling:!1,enableAjax:!1,enableCache:!1,selectedItemIndex:0,enablePersistence:!1,badge:{enabled:!1,value:0,maxValue:100},ios7:{imageClass:"",overflowBadge:{enabled:!1,value:0,maxValue:100}},android:{showImage:!1,imageClass:"",position:"fixed"},windows:{enableCustomText:!1,position:"normal",renderDefault:!1},flat:{position:"fixed"},load:null,loadComplete:null,touchStart:null,touchEnd:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,ajaxComplete:null,ajaxSettings:{type:"GET",cache:!1,async:!0,dataType:"html",contentType:"html",url:"",data:{}}},observables:["selectedItemIndex"],selectedItemIndex:t.util.valueFunction("selectedItemIndex"),dataTypes:{android:{position:"enum"},windows:{position:"enum"},flat:{position:"enum"},renderMode:"enum",theme:"enum",enablePersistence:"boolean"},_init:function(){this._renderControl();this._wireEvents()},_load:function(){t.setRenderMode(this);t.setTheme(this);this._touchStart=this.model.touchStart;this._touchEnd=this.model.touchEnd;this.model.renderMode=="windows"&&t.isMobile()&&this.model.windows.renderDefault&&(this.model.theme="default");this._hasMoreItem=!1;this._storedContent=[];this._orgEle=this.element.clone();this._index=0;this._length=this.element.find("li").length;this._x=0;this._y=0;this._preventEndAfterMove=!1;this.model.id=this.element[0].id;this.selectedItemIndex()<0&&this.selectedItemIndex(this.selectedItemIndex(0));this.model.load&&this._trigger("load")},_renderControl:function(){var i,r,f,u;this._load();this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme).addClass(t.isMobile()?"e-m-mobile":"e-m-tablet");i=this;this.t_container=t.buildTag("div.e-m-tab-container");this._ulItems=this.element.find("ul").addClass("e-m-tab-hdr e-m-clearall e-m-user-select");this._content=t.buildTag("div.e-m-content-container");this._tabWrapper=t.buildTag("div#"+this.model.id+"_wrapper.e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-tab-content",this._content);this._tabWrapper.addClass(t.isMobile()?"e-m-mobile":"e-m-tablet");this.element.parent().append(this._tabWrapper);this.model.renderMode=="ios7"?App.activePage.append(this.element):(this.model[this.model.renderMode].position=="fixed"&&App.activePage.prepend(this.element),this.element.addClass(this.model[this.model.renderMode].position=="normal"?"e-m-rel":"e-m-fixed"));this._tabLiItems=this.element.find("li");i=this;n.each(i._tabLiItems,function(r,u){i._storedContent[r]||t.getBooleanVal(u,"data-ej-enableajax",i.model.enableAjax)||(i._storedContent[r]=u.hasAttribute("data-ej-href")?t.getCurrentPage().find(n(u).attr("data-ej-href")):n(u).html())});this["_"+this.model.renderMode+"Properties"]&&this["_"+this.model.renderMode+"Properties"]();this._tabLiItems=this.element.find("li").addClass("e-m-tabitem e-m-user-select e-m-state-default");this._tabLiItems.each(function(r,u){i._renderTabItems(u,r);var f=t.getAttrVal(u,"data-ej-badge-value",0),e=t.getAttrVal(u,"data-ej-badge-maxvalue",i.model.badge.maxValue),o=t.buildTag("div.e-m-tab-badgediv",t.buildTag("div.e-m-tab-badge",(f<=e?f:e+"+").toString()));n(u).find(".e-m-tabitem-anchor").append(o);t.getBooleanVal(u,"data-ej-badge-enabled",i.model.badge.enabled)||o.hide()});this._hasMoreItem&&(r=t.buildTag("li.e-m-tabitem e-m-tab-more e-m-user-select e-m-state-default","More","",{"data-ej-ios7-imageclass":"e-m-tab-moreimg","data-ej-text":"More"}),r=this._renderTabItems(r,this._tabLiItems.length),this.model[this.model.renderMode].overflowBadge.enabled&&(f=t.buildTag("div.e-m-tab-badgediv",t.buildTag("div.e-m-tab-badge",(this.model[this.model.renderMode].overflowBadge.value<=this.model[this.model.renderMode].overflowBadge.maxValue?this.model[this.model.renderMode].overflowBadge.value:this.model[this.model.renderMode].overflowBadge.maxValue+"+").toString())),r.append(f)),this._ulItems.append(r));this.element.append(this.t_container.append(this._ulItems));this.model.renderMode=="windows"&&(this._tabContents=this._tabWrapper.find(".e-m-content"),t.isMobile()?(this.t_container.width(window.innerWidth),u=0,this._tabLiItems.each(function(){u+=n(this).outerWidth()}),this._ulItems.width(u),this._tabContents.width(window.innerWidth),this._tabWrapper.width(window.innerWidth),this._tabWrapper.css({overflow:"hidden",position:"relative"})):this._tabWrapper.parent().css({overflow:"hidden",position:"relative"}),this._tabContents.addClass("e-m-state-block").removeClass("e-m-state-hide"),this._tabWrapper.addClass("e-m-preventscroll"),this._isSameHeaderTouch=!0);this.model.enableAjax||t.getBooleanVal(this._tabLiItems[this.selectedItemIndex()],"data-ej-enableajax",this.model.enableAjax)?this._loadAjaxContent(this._tabLiItems[this.selectedItemIndex()]):this._setDimensions();this["_"+this.model.renderMode+"RenderTab"]&&this["_"+this.model.renderMode+"RenderTab"]();this.element.find("#"+this.model.id+"_header"+this.selectedItemIndex()).removeClass("e-m-state-default").addClass("e-m-state-active");this._liEle=this.element.find("li");this._anchorEle=this.element.find("a");this._liEle.first().addClass("e-m-firstitem");this._liEle.last().addClass("e-m-lastitem");this.model.renderMode=="windows"&&this._setWindowsTabPosition(!0);(this.model.renderMode=="ios7"||this.model[this.model.renderMode].position!="fixed"||this.model.allowScrolling)&&(this.model.renderMode!="windows"||this.model[this.model.renderMode].position!="fixed")||this._tabWrapper.css("margin-top",this.element.outerHeight());this.model.loadComplete&&this._trigger("loadComplete")},_ios7Properties:function(){var r=this.element.find("li").length,i;(t.isMobile()&&r>5||!t.isMobile()&&r>6)&&(this._hasMoreItem=!0,i=t.isMobile()?3:4,this._listControl=t.buildTag("div#"+this.model.id+"_list",t.buildTag("ul"),{},{}),this._listControl.find("ul").append(n(this.element.find("li").get(i)).nextAll()),this._content.append(this._listControl),this._listControl.ejmListView({headerTitle:"More",theme:this.model.theme,allowScrolling:!0,renderMode:this.model.renderMode,windows:{renderDefault:this.model.windows.renderDefault}}),this._listControl.attr("id",this.model.id+"_content"+(i+1)).addClass("e-m-state-hide e-m-tab-more"));this.element.addClass("e-m-fixed")},_androidRenderTab:function(){this._renderingScrolling()},_flatRenderTab:function(){this._renderingScrolling()},_windowsRenderTab:function(){t.isMobile()||this._renderingScrolling()},_renderingScrolling:function(){t._removeHidden(this.element);(this._ulItems[0].scrollWidth>window.innerWidth&&this.model[this.model.renderMode].position=="fixed"||this._ulItems[0].scrollWidth>this.element.innerWidth()&&this.model[this.model.renderMode].position=="normal")&&this._renderScrollPanel(this.model.id+"_scroll",this.model.id,!0,!1,!1,!0,!1);t._setHidden(this.element)},_createImageTag:function(i){if(this.model.android.showImage||this.model.renderMode=="ios7"){var r=t.buildTag("div","","",{"class":"e-m-tab-image "+t.getAttrVal(i,"data-ej-"+this.model.renderMode+"-imageclass",this.model[this.model.renderMode].imageClass)});return n(i).hasClass("e-m-tab-more")&&n(r).addClass("e-m-fontimage"),r}},_renderTabItems:function(i,r){var e=t.buildTag("a.e-m-tabitem-anchor e-m-remove-shadow"),o=this.model.renderMode=="ios7"||this.model.renderMode=="android"?this._createImageTag(i):"",s=t.buildTag("div.e-m-tab-text e-m-user-select"),u=t.getAttrVal(i,"data-ej-text","Item"),f;return u=this.model.renderMode=="windows"&&t.isMobile()?this.model.windows.enableCustomText?u:u.toLowerCase():u,e.append(o?s.append(o).append(t.buildTag("div.e-m-text",u)):s.append(u)),n(i).hasClass("e-m-tab-more")||t.getBooleanVal(i,"data-ej-enableajax",this.model.enableAjax)||(f=t.buildTag("div.e-m-content e-m-state-hide#"+this.model.id+"_content"+r,this._storedContent[r]),r==this.selectedItemIndex()&&f.removeClass("e-m-state-hide").addClass("e-m-state-block"),this._content.append(f)),n(i).attr("id",this.model.id+"_header"+r).empty().append(e),i},_renderScrollPanel:function(n,r,u,f,e,o,s){var h=t.buildTag("div#"+n,"",{},{});h.ejmScrollPanel({enableNativeScrolling:o?!1:i,theme:this.model.theme,preventDefault:!1,adjustFixedPosition:o?!1:!0,renderMode:this.model.renderMode,target:r,showScrollbars:o?!1:!0,enableHrScroll:u,enableVrScroll:f,autoAdjustHeight:e,isRelative:s});o?this._headerScroller=h.ejmScrollPanel("instance"):this._scroller=h.ejmScrollPanel("instance")},_loadAjaxContent:function(i){var r=this,u=n(i).attr("data-ej-href"),f,e;(!n.support.pushstate||t.isWindowsWebView())&&(u=App.route.makeUrlAbsolute(u));f={content:r._content,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};this.model.ajaxBeforeLoad&&this._trigger("ajaxBeforeLoad",f);e={cache:r.model.ajaxSettings.cache,async:r.model.ajaxSettings.async,type:r.model.ajaxSettings.type,contentType:r.model.ajaxSettings.contentType,url:t.isWindowsWebView()?u:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u,dataType:r.model.ajaxSettings.dataType,data:r.model.ajaxSettings.data,successHandler:function(f){var o=n(r._content).find("#"+r.model.id+"_content"+r._index),e,s,h;r.model.enableCache&&o.length!=0||(o.length&&o.remove(),e=t.buildTag("div.e-m-content e-m-state-hide#"+r.model.id+"_content"+r._index,/<\/?body[^>]*>/gmi.test(f)?f.split(/<\/?body[^>]*>/gmi)[1]:f||""),r._content.append(e),r.model.renderMode=="windows"?(r._content.children().length>1&&e.css("left",window.innerWidth),r.model.renderMode=="windows"&&t.isMobile()&&(s=t.buildTag("div#"+r.model.id+"_content_scroll","",{},{}),s.ejmScrollPanel({theme:r.model.theme,preventDefault:!1,adjustFixedPosition:!0,renderMode:r.model.renderMode,target:r.model.id+"_content"+r._index,showScrollbars:!0,scrollMove:n.proxy(r._onScrollMove,this)})),r._hideContent(r._content,parseInt(r._index),i)):(r._hideContent(r._content,r._index,i),r._setDimensions()),t.widget.init(n(e)));h={content:r._content,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};r.model.ajaxSuccess&&r._trigger("ajaxSuccess",h)},errorHandler:function(t,f,e){var o={xhr:t,textStatus:f,errorThrown:e,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};r.model.ajaxError&&r._trigger("ajaxError",o)},completeHandler:function(){var t={content:r._content,item:i,index:n(i).index(),text:n(i).find(".e-m-text").text(),url:r.model.ajaxSettings.url?r.model.ajaxSettings.url:u};r.model.ajaxComplete&&r._trigger("ajaxComplete",t)}};t.sendAjaxRequest(e)},_hideContent:function(i,r,u){var f,e,o;u&&n(u).hasClass("e-m-tab-more")&&this.model.allowScrolling?this._scroller.disable():this.model.allowScrolling&&this._scroller&&this._scroller.enable();f=i.find(".e-m-state-block");e=i.find("#"+this.model.id+"_content"+r).removeClass("e-m-state-hide").addClass("e-m-state-block");this._scroller&&(f.attr("scrollX",this._scroller.getScrollPosition().x).attr("scrollY",this._scroller.getScrollPosition().y),e.attr("scrollX")&&e.attr("scrollY")?this._scroller.scrollTo(parseInt(e.attr("scrollX")),parseInt(e.attr("scrollY"))):this._scroller.scrollTo(0,0));f.length>0&&e.length>0&&(f[0].id!=e[0].id||t.getBooleanVal(u,"data-ej-enableajax",this.model.enableAjax)&&!this.model.enableCache&&!f.hasClass("e-m-tab-more"))&&(this.model.renderMode!="windows"?(f.removeClass("e-m-state-block").addClass("e-m-state-hide"),this.model.enableCache||!t.getBooleanVal(f,"data-ej-enableajax",this.model.enableAjax)||f.hasClass("e-m-tab-more")||f.remove()):this._content.children().length>1&&(o=this,this._content.css("left",0),this._tabContents=this._content.find(".e-m-content"),this.model.enableCache?this.model.enableCache&&n(this._tabContents).not(n(this._tabContents[r])).css("left",-window.innerWidth):n(this._tabContents[0]).css("left",-window.innerWidth),n(this._tabContents[this.model.enableCache?r:1]).animate({left:0},{queue:!0,duration:250,complete:function(){o.model.enableCache||n(o._tabContents[0]).remove()}}),n(this._tabContents[r]).next().css("left",window.innerWidth),this._tabLiItems.length-1==r&&n(this._tabContents[0]).css("left",window.innerWidth)),this._scroller&&this._scroller.refresh())},_setDimensions:function(){var u,i,r;if(this.model.allowScrolling)if(u=n(this._content.children()).outerHeight(),this._scroller)this._content.find("#"+this.model.id+"_content"+this._index).length>0&&this._content.css("height",n(this._content.find("#"+this.model.id+"_content"+this._index))[0].scrollHeight);else if(this.model.renderMode=="windows"&&t.isMobile())for(i=0;i<this._tabContents.length;i++)r=t.buildTag("div#"+this._tabContents[i].id+"_scroll","",{},{}),r.ejmScrollPanel({theme:this.model.theme,preventDefault:!1,enableNativeScrolling:!0,adjustFixedPosition:!0,renderMode:this.model.renderMode,target:this._tabContents[i],showScrollbars:!0,scrollMove:n.proxy(this._onScrollMove,this)}),this._scroller=r.ejmScrollPanel("instance");else this._renderScrollPanel(this.model.id+"_contentscroll",this.model.id+"_wrapper",!1,!0,!0),this._content.css("height",n(this._content.find(".e-m-state-block"))[0].scrollHeight);else this._content.children().height(window.innerHeight-this.element.outerHeight());this.model.renderMode=="windows"&&t.isMobile()&&this._tabWrapper.height(window.innerHeight-this.element.outerHeight())},_scrollHeader:function(t){if(this._headerScroller){var r=n(t),i=r.offset().left,u=r.outerWidth(),f=window.innerWidth;this.model[this.model.renderMode].position=="normal"&&(i=i-this.element.offset().left,f=this.element.outerWidth());i>0&&i+u>f?this._headerScroller.scrollTo(this._tabLiItems.index(r)==this._tabLiItems.length-1?this._headerScroller._maxScrollX:this._headerScroller._x-u,0,300):i<0&&this._headerScroller.scrollTo(this._tabLiItems.index(r)==0?0:this._headerScroller._x+u,0,300)}},_androidTouchEnd:function(t){n(this._currentTab).removeClass("e-m-pressed");this._scrollHeader(t)},_windowsTouchEnd:function(i){if(t.isMobile()){var r=0,u=n(i);u=n(i).prevAll();u.each(function(t,i){r=r+n(i).outerWidth()})}else this._scrollHeader(i)},_onTouchStartHandler:function(i){this._currentTab=i.currentTarget;this.isMoved=!1;this._preventEndAfterMove=!1;this._isSameHeaderTouch=n(i.currentTarget).hasClass("e-m-state-active");this._index=n(this._currentTab)[0].id.split(this.model.id+"_header")[1];this.model.renderMode=="android"&&n(this._currentTab).addClass("e-m-pressed");var r={item:n(this._currentTab),text:n(this._currentTab).find(".e-m-text").text(),index:n(this._currentTab).index()};this.model.touchStart=t.getAttrVal(this._currentTab,"data-ej-touchstart",this._touchStart);this.model.touchStart&&this._trigger("touchStart",r);t.listenTouchEvent(this._liEle,t.moveEvent(),this._touchMoveDelegate)},_onTouchMoveHandler:function(){(this.model.renderMode!="windows"||this.model.renderMode=="windows"&&t.isMobile())&&(this.isMoved=!0);this.model.renderMode=="android"&&n(this._currentTab).removeClass("e-m-pressed");this._headerMoved=!0},_onTouchEndHandler:function(){var i,r;(this._preventEndAfterMove||this.isMoved)&&!t.isWindows()||(this._reverse=!1,i=(parseInt(this._index)-1<0?this._length-1:parseInt(this._index)-1).toString(),this._tabWrapper.find("#"+this.model.id+"_content"+i).length>0&&(this._tabWrapper.find("#"+this.model.id+"_content"+i)[0].style[t.transform]=""),this._enableTab(this._currentTab,this._index),r={item:n(this._currentTab),text:n(this._currentTab).find(".e-m-text").html(),index:n(this._currentTab).index()},this.model.touchEnd=t.getAttrVal(this._currentTab,"data-ej-touchend",this._touchEnd),this.model.touchEnd&&this._trigger("touchEnd",r));this.isMoved=!1;t.listenTouchEvent(this._liEle,t.moveEvent(),this._touchMoveDelegate,!0)},_enableTab:function(i,r){this._index=r;this.model.renderMode=="windows"&&(this.model.renderMode!="windows"||t.isMobile())||(this.selectedItemIndex(r),this._length>1&&(this["_"+this.model.renderMode+"TouchEnd"]&&this["_"+this.model.renderMode+"TouchEnd"](i),this.element.find(".e-m-state-active").removeClass("e-m-state-active").addClass("e-m-state-default"),n(i).removeClass("e-m-state-default").addClass("e-m-state-active")));var u=t.getBooleanVal(i,"data-ej-enableajax",this.model.enableAjax);u&&this.model.enableCache&&n(this._tabWrapper.find("#"+this.model.id+"_content"+r)).length>0&&n(this._tabWrapper.find("#"+this.model.id+"_content"+r)).hasClass("e-m-state-hide")||!u&&n(this._tabWrapper.find("#"+this.model.id+"_content"+r)).hasClass("e-m-state-hide")||n(i).hasClass("e-m-tab-more")?this._hideContent(this._tabWrapper,r,i):u&&this._loadAjaxContent(i)},_onContentTouchStartHandler:function(n){this._headerTouch=!1;this._setInitialTouchPoints(n)},_onHeaderTouchStartHandler:function(n){this._headerTouch=!0;this._setInitialTouchPoints(n)},_setInitialTouchPoints:function(n){var i=n.touches?n.touches[0]:n;this._x=0;this._y=0;this._distX=0;this._distY=0;this._directionX=0;this._directionY=0;this._lockedDir=0;this._moved=!1;this._startX=parseInt(this._tabLiItems.css("left"))?parseInt(this._tabLiItems.css("left")):0;this._startY=0;this._absStartX=this._x;this._absStartY=this._y;this._pointX=i.pageX;this._pointY=i.pageY;this._startTime=Date.now();this._endTime=0;this._reverse=!1;this._end=!1;t.listenEvents([window,window],[t.moveEvent(),t.endEvent(),t.cancelEvent()],[this._contentTouchMoveDelegate,this._contentTouchEndDelegate,this._contentTouchEndDelegate])},_onContentTouchMoveHandler:function(n){if(!this._contentScroll){var i=n.touches?n.touches[0]:n,f=i.pageX-this._pointX,e=i.pageY-this._pointY,s=Date.now(),t,o,r,u;if(this._pointX=i.pageX,this._pointY=i.pageY,this._distX+=f,this._distY+=e,r=Math.abs(this._distX),u=Math.abs(this._distY),s-this._endTime>300&&r<10&&u<10)return;if(this._lockedDir||(this._lockedDir=r>u+5?"horizontal":u>=r?"vertical":"vertical"),this._lockedDir=="horizontal"){if(e=0,t=this._x+f,o=this._y+e,t>0){this._reverse=!0;return}this._ulItems.css("left",this._cloned?this._clonedLeft+t/3:t/3);this._content.css("left",t)}else this._lockedDir=="vertical"&&(f=0);this._headerMove||(this._headerMove=!1);this._headerMove&&(this._preventEndAfterMove=!0);this._x=t;this._y=o;this._moved=!0}},_onContentTouchEndHandler:function(n){if(t.listenEvents([window,window],[t.moveEvent(),t.endEvent(),t.cancelEvent()],[this._contentTouchMoveDelegate,this._contentTouchEndDelegate,this._contentTouchEndDelegate],!0),!this._reverse){var r=n.touches?n.touches[0]:n,u=t.getTime()-this._startTime,i=this._x,f=this;((this._moved||!this._isSameHeaderTouch)&&this._lockedDir=="horizontal"||this._headerTouch&&!this._isSameHeaderTouch)&&this._setWindowsTabPosition(Math.abs(i)<window.innerWidth/3&&this._moved,!0);this._moved=!1}},_setWindowsTabPosition:function(i,r){var c=0,o=0,a=this,s=this._ulItems.find(".e-m-tabitem.e-m-state-active"),u=this._reverse?s.prev():s.next(),f=this._tabLiItems.index(s),h,l,e;if(this._tabLiItems.length-1==f&&(u=n(this._tabLiItems[0])),i&&this._isSameHeaderTouch?(u=s,r?this._content.animate({left:0},{queue:!0,duration:250}):this._content.css("left",0),n(this._tabContents).not(n(this._tabContents[f])).css("left",-window.innerWidth),n(this._tabContents[f]).next().css("left",window.innerWidth),n(this._tabContents[f]).animate({left:0},{queue:!0,duration:250})):(f=this._tabLiItems.index(u),this._headerTouch||this._enableTab(u,f),this._content.css("left",0),n(this._tabContents).not(n(this._tabContents[f])).css("left",-window.innerWidth),n(this._tabContents[f]).animate({left:0},{queue:!0,duration:250}),n(this._tabContents[f]).next().css("left",window.innerWidth),this._tabLiItems.length-1==f&&n(this._tabContents[0]).css("left",window.innerWidth)),t.isMobile()){for(o=u.outerWidth(),h=u.nextAll(),e=0;e<h.length;e++)o+=n(h[e]).outerWidth();for(l=this._tabLiItems.index(u),e=0;e<l;e++)c+=n(this._tabLiItems[e]).outerWidth();r&&i?this._ulItems.animate({left:0},{queue:!0,duration:250}):this._ulItems.css("left",0);this._tabLiItems.animate({left:-c},i?{queue:!0,duration:0}:{queue:!1,duration:250,complete:function(){o<window.innerWidth&&u.prevAll().css("left",o);a._tabLiItems.removeClass("e-m-state-active").addClass("e-m-state-default");u.addClass("e-m-state-active")}});o<window.innerWidth&&u.prevAll().css("left",o)}},_hide:function(n,i,r,u){n.removeClass("e-m-state-block").addClass("e-m-state-hide").unbind(t.transitionEndEvent(),u);!i.model.enableCache&&r&&n.remove();i._scroller&&i._scroller.refresh()},_appendPrevEleHandler:function(){this.proxy._appendElement(this.ele,this.tab,this.proxy,this.currentTab,this.cloned,this.delegate)},_changeHandler:function(){this._setDimensions()},_anchorClickHandler:function(n){n.preventDefault()},_createDelegates:function(){this._anchorClickDelegate=n.proxy(this._anchorClickHandler,this);this._touchStartDelegate=n.proxy(this._onTouchStartHandler,this);this._touchMoveDelegate=n.proxy(this._onTouchMoveHandler,this);this._touchEndDelegate=n.proxy(this._onTouchEndHandler,this);this._touchCancelDelegate=n.proxy(this._onTouchEndHandler,this);this._changeDelegate=n.proxy(this._changeHandler,this);this.model.renderMode=="windows"&&this._length>1&&(this._contentTouchStartDelegate=n.proxy(this._onContentTouchStartHandler,this),this._contentTouchMoveDelegate=n.proxy(this._onContentTouchMoveHandler,this),this._contentTouchEndDelegate=n.proxy(this._onContentTouchEndHandler,this),this._headerTouchStartDelegate=n.proxy(this._onHeaderTouchStartHandler,this))},_wireEvents:function(i){this._createDelegates();var r=i?"unbind":"bind";t.listenEvents([this._liEle,this._liEle,this._anchorEle,this._anchorEle],[t.startEvent(),t.endEvent(),t.tapEvent(),t.tapHoldEvent()],[this._touchStartDelegate,this._touchEndDelegate,this._touchCancelDelegate,this._anchorClickDelegate,this._anchorClickDelegate],i);this.model.renderMode=="windows"&&this._length>1&&t.listenEvents([this.element],[t.startEvent()],[this._headerTouchStartDelegate]);this.model.renderMode=="windows"&&t.isMobile()&&this._length>1&&t.listenEvents([this._tabWrapper],[t.startEvent()],[this._contentTouchStartDelegate]);n(window)[r]("orientationchange",this._changeDelegate);n(window)[r]("resize",this._changeDelegate)},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setTheme:function(n){n&&(this.model.theme=n,this.element.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme),this._tabWrapper.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme),this._listControl&&this._listControl.ejmListView("model.theme",this.model.theme))},_isEnable:function(i){return i=this.model.renderMode=="windows"&&t.isMobile()?n(i).find(".e-m-tabitem-anchor"):i,i.hasClass("e-m-state-disabled")?!1:!0},_refresh:function(){this._destroy();this.element.addClass("e-m-tab");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html());this._tabWrapper.remove();var i=this;n.each(this._storedContent,function(n,i){t.getCurrentPage().append(i)})},_destroy:function(){this._wireEvents(!0);this._clearElement()},showBadge:function(t){if(t>=0&&this._isEnable(n(this.element.find("li.e-m-tabitem")[t]))){var i=n(this.element.find("li.e-m-tabitem")[t]),r=i.find(".e-m-tab-badgediv");r.length&&(i.attr("data-ej-badge-enabled",!0),r.show())}},hideBadge:function(t){if(t>=0&&this._isEnable(n(this.element.find("li.e-m-tabitem")[t]))){var i=n(this.element.find("li.e-m-tabitem")[t]),r=i.find(".e-m-tab-badgediv");r.length&&(i.attr("data-ej-badge-enabled",!1),r.hide())}},updateBadgeValue:function(i,r){var u,f,e;i>=0&&this._isEnable(n(this.element.find("li.e-m-tabitem")[i]))&&(u=n(this.element.find("li.e-m-tabitem")[i]),f=u.find(".e-m-tab-badge"),f.length&&(e=u.hasClass("e-m-tab-more")?Number(this.model.ios7.overflowBadge.maxValue):Number(t.getAttrVal(u,"data-ej-badge-maxvalue",this.model.badge.maxValue)),u.attr("data-ej-badge-value",r),f.html((r<=e?r:e+"+").toString())))},selectItem:function(t){t>=0&&this._isEnable(n(this._tabLiItems[t]))&&(this._currentTab=this._tabLiItems[t],this._index=t,this._onTouchEndHandler())},enableItem:function(i){if(i>=0){var r=this.model.renderMode=="windows"&&t.isMobile()?n(n(this._tabLiItems[i]).find(".e-m-tabitem-anchor")):n(this._tabLiItems[i]);r.removeClass("e-m-state-disabled");this.enableContent(i)}},disableItem:function(i){if(i>=0){var r=this.model.renderMode=="windows"&&t.isMobile()?n(n(this._tabLiItems[i]).find(".e-m-tabitem-anchor")):n(this._tabLiItems[i]);r.addClass("e-m-state-disabled");this.disableContent(i)}},enableContent:function(n){n>=0?this._tabWrapper.find("#"+this.model.id+"_content"+n).removeClass("e-m-state-disabled"):this._tabWrapper.removeClass("e-m-state-disabled")},disableContent:function(n){n>=0?this._tabWrapper.find("#"+this.model.id+"_content"+n).addClass("e-m-state-disabled"):this._tabWrapper.addClass("e-m-state-disabled")},addItem:function(t,i){i>=0?t.insertBefore(n(this._orgEle.children().children()[i])):this._orgEle.children().append(t);this._refresh()},addOverflowItem:function(n,t){this._listControl&&t>=0&&(this._className=this._listControl.attr("class"),this._listControl.ejmListView("addItem",n,t),this._listControl.addClass(this._className))},removeItem:function(t){t>=0&&(n(this.element.find(".e-m-tabitem")[t]).remove(),this._content.find("#"+this.model.id+"_content"+t).remove())},removeOverflowItem:function(n){this._listControl&&n>=0&&this._listControl.ejmListView("removeItem",n)},getItemsCount:function(){return this._hasMoreItem?this.element.find(".e-m-tabitem").length-1:this.element.find(".e-m-tabitem").length},getOverflowItemCount:function(){if(this._listControl)return this._listControl.ejmListView("getItemsCount")}});t.mobile.Tab.Position={Fixed:"fixed",Normal:"normal"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmListView","ej.mobile.ListView",{_setFirst:!0,_rootCSS:"e-m-lv",_prefixClass:"e-m-",defaults:{showScrollbars:!0,headerTitle:"Title",showHeaderBackButton:!1,headerBackButtonText:null,showHeader:!0,autoAdjustScrollHeight:!0,headerBackButtonTap:null,adjustFixedPosition:!0,enableNativeScrolling:t.isAndroid()&&t.isLowerAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1,hideHeaderForUnsupportedDevice:!1,ios7:{inline:!1},windows:{preventSkew:!1,renderDefault:!1,enableHeaderCustomText:!1},allowScrolling:!1,renderMode:"auto",theme:"auto",touchStart:null,touchEnd:null,transition:t.isAndroid()?"pop":t.isWindows()&&t.isMobile()?"turn":t.isWindows()&&!t.isMobile()?"none":"slide",checkDOMChanges:!1},dataTypes:{dataSource:"data",fieldSettings:"data",renderMode:"enum",theme:"enum",enablePersistence:"boolean"},observables:["selectedItemIndex","dataSource"],selectedItemIndex:t.util.valueFunction("selectedItemIndex"),dataSource:t.util.valueFunction("dataSource"),_init:function(){this._preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/};this._storedContent=[];this._storedTemplate=[];t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&t.isMobile()&&this.model.windows.renderDefault&&(this.model.theme="default");this._touchStart=this.model.touchStart;this._touchEnd=this.model.touchEnd;this._load()},_renderScrollPanel:function(n,i,r){this._scrollWrapper=t.buildTag("div","",{},{"data-role":"ejmscrollpanel","data-ej-rendermode":this.model.renderMode,"data-ej-target":r,id:i,"data-ej-theme":this.model.theme,"data-ej-targetwidth":this.model.width,"data-ej-targetheight":this.model.height,"data-ej-setautoheight":this.model.autoAdjustScrollHeight,"data-ej-adjustfixedposition":this.model.adjustFixedPosition,"data-ej-enablenativescrolling":this.model.enableNativeScrolling,"data-ej-windows-renderdefault":this.model.windows.renderDefault,"data-ej-showscrollbars":this.model.showScrollbars,"data-ej-checkdomchanges":this.model.checkDOMChanges});n.append(this._scrollWrapper)},_updateContent:function(r,u){var c=this,f=n(r),o=f.attr("data-childid"),e=this.element.find("#"+o),s,l,h,a;e.length&&(s=this.element.find("#"+o+"_header"),l=this.element.find("#"+o+"_scroll"),this.model.enableFiltering&&this._initializeFiltering(n(e)),h=f.attr("data-childtitle")==i?r.text():f.attr("data-childtitle"),s.hasClass("e-m-header")&&(a=s.ejmHeader("instance"),a.setModel({title:h,leftButtonCaption:u})),e.attr("data-hdr-title",h).attr("data-hdr-bckbtn",u),App.transferPage(f.closest(".subpage"),e,{isFromAjax:this._isFromAjax,transition:this.model.transition,parentSubPage:f.closest("."+this._rootCSS).hasClass(".e-m-childitem")?!1:!0}),e.bind(t.transitionEndEvent(),function(){c._setHeightWidth();c.model.allowScrolling&&l.ejmScrollPanel("refresh")}))},_renderHeader:function(n,i,r,u){return t.buildTag("div","",{},{"data-role":"ejmheader","data-ej-showLeftButton":i,"data-ej-leftbuttoncaption":u?u:"Back","data-ej-title":r,"data-ej-leftbuttontap":this.model.headerBackButtonTap,"data-ej-righttbuttontap":this.model.headerBackButtonTap,"data-ej-rendermode":this.model.renderMode,"data-ej-theme":this.model.theme,"data-ej-position":"normal",id:n+"_header","data-ej-hideforunsupporteddevice":this.model.hideHeaderForUnsupportedDevice,"data-ej-windows-renderdefault":this.model.windows.renderDefault,"data-ej-windows-enablecustomtext":this.model.windows.enableHeaderCustomText})},_returnData:function(){var t=this._currentItem.closest("ul.e-m-list-hdr").find("input.e-m-lv-check[checked]").closest("li");return{hasChild:this.element.find("#"+this._currentItem.attr("data-childid")).length?!0:!1,item:this._currentItem,text:this._currentItem.find(".e-m-list-text").text(),index:this._currentItem.index(),isChecked:this._currentItem.find("input.e-m-lv-check").attr("checked")=="checked"?!0:!1,checkedItems:t.length?t:null,checkedItemsText:n(t).map(function(){return n(this).text()}).get()}},_triggerStartEvent:function(n){this.model.touchStart=t.getAttrVal(this._currentItem,"data-touchstart",this._touchStart);this.model.touchStart&&this._trigger("touchStart",n)},_triggerEndEvent:function(n){this.model.touchEnd=t.getAttrVal(this._currentItem,"data-touchend",this._touchEnd);this.selectedItemIndex(this._currentItem.index());this.model.touchEnd&&this._trigger("touchEnd",n)},_createFilterDiv:function(){return t.buildTag("div.e-m-lv-filter",t.buildTag("input.e-m-lv-input","",{},{"data-role":"ejmtextbox","data-ej-rendermode":this.model.renderMode,"data-ej-theme":this.model.theme,"data-ej-windows-renderdefault":this.model.windows.renderDefault}))},_emptyFilterTextValue:function(n){n.find(".e-m-lv-input").ejmTextBox("model.value","")},_createListDiv:function(n){this._div=t.buildTag("div#"+n+"."+this._rootCSS+" e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" subpage e-m-childitem e-m-ajaxchild",this.model.showHeader?this._renderHeader(n,!0,this._currentItem.text()):"")},_createCheckBox:function(){return t.buildTag("input.e-m-lv-check","",{},{"data-role":"ejmcheckbox","data-ej-preventdefault":!0,"data-ej-theme":this.model.theme,"data-ej-rendermode":this.model.renderMode,"data-ej-checked":"{{:~_checkIsChecked()}}","data-ej-windows-renderdefault":this.model.windows.renderDefault})},_toggleCheckboxValue:function(n){n.ejmCheckBox("model.checked",n.attr("checked")?!1:!0)},_setCheckboxValue:function(n,t){n.ejmCheckBox({checked:t})},_convertToRelativeUrl:function(n){return App.route.convertToRelativeUrl(n)}});n.extend(!0,t.mobile.ListView.prototype,t.ListViewBase.prototype)}(jQuery,Syncfusion),function(n,t){t.widget("ejmMenu","ej.mobile.Menu",{_setFirst:!0,_rootCSS:"e-m-menu",defaults:{height:null,width:null,allowScrolling:!0,targetId:null,showOn:"tap",ios7:{type:"auto",showTitle:!0,title:"Title",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonColor:"blue",cancelButtonTouchEnd:null},android:{type:"contextual"},windows:{type:"contextual",renderDefault:!1},renderTemplate:!1,showScrollbars:!0,templateId:null,theme:"auto",renderMode:"auto",enablePersistence:!1,load:null,loadComplete:null,touchStart:null,touchEnd:null,hide:null,show:null},dataTypes:{ios7:{type:"enum",cancelButtonColor:"enum"},android:{type:"enum"},windows:{type:"enum"},renderMode:"enum",theme:"enum",enablePersistence:"boolean"},_init:function(){this._storedTemplate=[];this._renderControl();this._wireEvents()},_load:function(){t.setRenderMode(this);t.setTheme(this);this._touchStart=this.model.touchStart;this._touchEnd=this.model.touchEnd;this.model.renderMode=="windows"&&t.isMobile()&&this.model.windows.renderDefault&&(this.model.theme="default");this._orgEle=this.element.clone();this._indexVal=0;this.model.id=this.element[0].id;this.model.load&&this._trigger("load")},_renderControl:function(){var r,i,n,u,f,e,o;this._load();this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme).addClass(t.isMobile()?"e-m-mobile":"e-m-tablet");r=this;App.activePage.append(this.element);this._activePage=this.element.closest(".appview");this._mcontainer=t.buildTag("div.e-m-menu-container");this.model.renderTemplate&&(i=t.buildTag("ul.e-m-menu-hdr e-m-clearall"),t.getCurrentPage().find("#"+this.model.templateId).length?(this._itemTemplate=t.getCurrentPage().find("#"+this.model.templateId),this._itemTemplate=this._itemTemplate[0].nodeName&&this._itemTemplate[0].nodeName.toLowerCase()=="script"?t.getClearString(this._itemTemplate[0].innerHTML):this._itemTemplate):this._itemTemplate||(this._itemTemplate=this.element.children()),this.element.empty(),this._mcontainer.append(i.append(this._itemTemplate)),this.element.append(this._mcontainer),t.widget.init(this._mcontainer));this["_"+this.model.renderMode+"Properties"]&&this["_"+this.model.renderMode+"Properties"]();this.model.renderTemplate||(i=this.element.find("ul").addClass("e-m-menu-hdr e-m-clearall"),this.element.append(this._mcontainer.append(i)),this._menuLiItems=this.element.find("li").addClass("e-m-state-default e-m-user-select e-m-menuitem"),this._menuLiItems.first().addClass("e-m-firstitem"),this._menuLiItems.last().addClass("e-m-lastitem"),this._menuLiItems.each(function(n,t){r["_"+r.model.renderMode+"RenderMenu"](t,n)}),this.overFlowMenu&&this._menuLiItems.length>5&&(i.append(this._renderMenuItems(t.buildTag("li.e-m-state-default e-m-user-select e-m-menuitem e-m-lastitem e-m-text-center e-m-more","More",{},{"data-ej-android-imageclass":"e-m-menu-more e-m-fontimage"})[0])),this._overFlowMenuUl.find("li").first().addClass("e-m-firstitem")));this.model.renderMode=="ios7"&&(n=t.buildTag("div.e-m-menu-wrap"),this.element.append(n.append(this._mcontainer)),this.model.ios7.type=="animate"&&this.element.append(this._ios7Container.append(n.append(this._mcontainer))),(this.model.ios7.showTitle||this.model.ios7.showCancelButton)&&(this.model.ios7.type=="animate"?this._ios7Container.append(n):n.insertBefore(this.element.find(".e-m-menu-iconimg.e-m-bottom")),this.model.ios7.showTitle&&(u=t.buildTag("div.e-m-menu-title",this.model.ios7.title),this.model.ios7.type=="animate"?n.prepend(u):u.insertAfter(this.element.find(".e-m-menu-iconimg.e-m-top")),this._mcontainer.addClass("e-m-title")),this.model.ios7.showCancelButton&&this.model.ios7.type=="animate"&&(f=t.buildTag("a.e-m-menu-btn",this.model.ios7.cancelButtonText,{},{type:"button"}),e=t.buildTag("div.e-m-menu-cancel",f),this._ios7Container.append(e),f.ejmActionlink({theme:this.model.theme,renderMode:this.model.renderMode,ios7:{color:this.model.ios7.cancelButtonColor},windows:{renderDefault:this.model.windows.renderDefault}}),this._mcontainer.addClass("e-m-cancel"))));this.model.width&&this.element.css("width",this.model.width);this.model.height&&(o=this.element.outerHeight()-t.getDimension(this.element.find(".e-m-menu-container"),"outerHeight"),this.element.css("height",this.model.height+o).find(".e-m-menu-container").css("height",this.model.height));this._eleHeight=t.getDimension(this._getElement(),"outerHeight");this._containerHeight=t.getDimension(this._getElement().find(".e-m-menu-container"),"outerHeight");this._shown=!0;t.isIOS()&&this.model.ios7.type=="animate"&&this.element.css("visibility","hidden");this.hide();this.element.css({"z-index":t.getMaxZindex()+1});this.model.loadComplete&&this._trigger("loadComplete")},_getElement:function(){return this.overFlowMenu?this.overFlowMenu:this.element},_ios7Properties:function(){this.model.ios7.type=="auto"&&(this.model.ios7.type=t.isMobile()?"animate":"normal");this.element.addClass("e-m-menu-"+this.model.ios7.type);this.model.ios7.type=="normal"?(this.element.prepend(t.buildTag("div.e-m-menu-iconimg e-m-top e-m-fontimage")),this.element.addClass("e-m-corner-all e-m-abs"),this.element.append(t.buildTag("div.e-m-menu-iconimg e-m-bottom e-m-fontimage"))):(this.element.addClass("e-m-fixed"),this._ios7Container=t.buildTag("div.e-m-menu e-m-wrapper"));this._createOverlayDiv()},_androidProperties:function(){if(this.element.addClass("e-m-"+this.model.android.type+" e-m-margin-auto"),this.model.android.type!="optionsmenu"||this.model.renderTemplate)this.model.android.type=="contextual"&&this._createOverlayDiv();else{this.overFlowMenu=t.buildTag("div.e-m-menu e-m-android e-m-overflowmenu e-m-fixed e-m-"+this.model.theme+"#"+this.model.id+"_menu");var n=t.buildTag("div.e-m-menu-container");this._overFlowMenuUl=t.buildTag("ul.e-m-menu-hdr e-m-clearall");App.activePage.append(this.overFlowMenu.append(n.append(this._overFlowMenuUl)))}this.element.addClass(this.model.android.type=="popup"?"e-m-abs":"e-m-fixed")},_windowsProperties:function(){this.element.addClass("e-m-"+this.model.windows.type+" e-m-fixed")},_flatProperties:function(){this.element.addClass("e-m-abs")},_ios7RenderMenu:function(i,r){var u;t.getAttrVal(i,"data-ej-rendertemplate",!1)?this._appendTemplate(i,u):(u=t.buildTag("a.e-m-menu-btn#"+this.model.id+r,t.getAttrVal(i,"data-ej-text")),n(i).empty().append(u),u.ejmActionlink({theme:t.getAttrVal(i,"data-ej-ios7-theme",this.model.theme),renderMode:this.model.renderMode,href:t.getAttrVal(i,"data-ej-href",""),ios7:{color:t.getAttrVal(i,"data-ej-ios7-buttoncolor","blue"),style:t.getAttrVal(i,"data-ej-ios7-buttonstyle","normal")},windows:{renderDefault:this.model.windows.renderDefault}}))},_androidRenderMenu:function(t,i){this.overFlowMenu&&i>=4&&this._menuLiItems.length>5?this._overFlowMenuUl.append(this._renderMenuItems(t,i)):(this.overFlowMenu&&n(t).addClass("e-m-text-center"),this._renderMenuItems(t))},_windowsRenderMenu:function(n){this._renderMenuItems(n)},_flatRenderMenu:function(n){this._renderMenuItems(n)},_renderMenuItems:function(i,r){var u,f,e;return t.getAttrVal(i,"data-ej-rendertemplate",!1)?this._appendTemplate(i,u):(u=t.buildTag("a.e-m-menuitem-anchor e-m-remove-shadow",this.model.renderMode=="android"?"":t.getAttrVal(i,"data-ej-text"),{},{href:t.getAttrVal(i,"data-ej-href","")}),this.model.renderMode=="android"&&(f=t.buildTag("span.e-m-menuitem-span e-m-user-select",t.getAttrVal(i,"data-ej-text")),e=t.getAttrVal(i,"data-ej-android-imageclass"),e&&(u.append(t.buildTag("div","","",{"class":"menuimg e-m-margin-auto e-m-rel "+e})),f.addClass("e-m-texttop")),u.append(f),this.overFlowMenu?this._menuLiItems.length>5&&r>=4?this._addClass(f,i):(n(i).addClass("e-m-padding"),u.addClass("e-m-auto-hgt")):this._addClass(f,i)),n(i).empty().append(u)),i},_appendTemplate:function(i){if(n(t.getCurrentPage().find("#"+t.getAttrVal(i,"data-ej-templateid"))).length){var r=t.getCurrentPage().find("#"+t.getAttrVal(i,"data-ej-templateid"));this._storedTemplate[this._indexVal]=r[0].nodeName&&r[0].nodeName.toLowerCase()=="script"?t.getClearString(r[0].innerHTML):r;n(i).empty().append(this._storedTemplate[this._indexVal]);this._indexVal=this._indexVal+1}else this._storedTemplate[this._indexVal]&&(n(i).empty().append(this._storedTemplate[this._indexVal]),this._indexVal=this._indexVal+1);t.widget.init(i)},_addClass:function(t,i){t.addClass("e-m-rel");n(i).addClass("e-m-border-top")},_positionMenu:function(n){this.model.renderMode=="android"&&this.overFlowMenu?this.overFlowMenu.css("left",(this._windowWidth-this.overFlowMenu.outerWidth())/2):this["_"+this.model[this.model.renderMode].type+"Position"]&&this["_"+this.model[this.model.renderMode].type+"Position"](n)},_normalPosition:function(n){var i,f;if(n.length){var r=this.element.width(),u=this._windowWidth,t=this._tarOffsetLeft+n.outerWidth()/2-r/2;t<0?t=5:u-t<r&&(t=u-r);this.element.css({left:t+"px"});this.element.find(".e-m-menu-iconimg").css("left",this._tarOffsetLeft+(n.outerWidth()-40)/2-t);i=this._tarOffsetTop;f=i+n.outerHeight();this._windowHeight>i+this._targetHeight?(this.element.css({top:f+10,bottom:"auto"}),this.element.find(".e-m-menu-iconimg.e-m-top").removeClass("e-m-state-hide").addClass("e-m-state-block"),this.element.find(".e-m-menu-iconimg.e-m-bottom").removeClass("e-m-state-block").addClass("e-m-state-hide")):(this.element.css({bottom:this._windowHeight-i+10,top:"auto"}),this.element.find(".e-m-menu-iconimg.e-m-bottom").removeClass("e-m-state-hide").addClass("e-m-state-block"),this.element.find(".e-m-menu-iconimg.e-m-top").removeClass("e-m-state-block").addClass("e-m-state-hide"))}},_optionslistPosition:function(){this._setPosition()},_optionsmenuPosition:function(){this._setPosition()},_setPosition:function(n){this.model.renderMode=="flat"?this.element.css("top",this._tarOffsetTop+n.outerHeight()):this.overFlowMenu?this.overFlowMenu.css("left",(this._windowWidth-this.overFlowMenu.outerWidth())/2):this.element.css("left",(this._windowWidth-this.element.outerWidth())/2)},_popupPosition:function(n){var t=this._tarOffsetTop,i=t+n.outerHeight();this._windowWidth>this._tarOffsetLeft+this.element.outerWidth()?this.element.css({left:this._tarOffsetLeft,right:"auto"}):this.element.css({right:this._windowWidth-(this._tarOffsetLeft+n.outerWidth()),left:"auto"});this._windowHeight>t+this._targetHeight?this.element.css({top:i+10,bottom:"auto"}):this.element.css({bottom:this._windowHeight-t+10,top:"auto"})},_resetPosition:function(){this.model.renderMode=="windows"&&this.model.windows.type=="contextual"&&t.isMobile()?this.element.css({top:"auto",bottom:"auto"}).removeClass("e-m-right e-m-left e-m-landscape"):this.overFlowMenu?this.overFlowMenu.css({left:"auto",right:"auto"}):this.element.css({left:"auto",right:"auto"})},_contextualPosition:function(n){if(this.model.renderMode=="windows"){if(t.isMobile()){var i=this._tarOffsetTop,r=i+n.outerHeight()+10;this._windowHeight>r?this.element.css({top:r}):this.element.css({bottom:this._windowHeight-i+10})}}else this.element.css({top:(this._windowHeight-this._targetHeight)/2}),this.model.renderMode=="android"&&this.element.css({left:(this._windowWidth-this.element.outerWidth())/2})},_isPopUp:function(){return this.model.renderMode=="ios7"&&this.model.ios7.type=="normal"||this.model.renderMode=="android"&&this.model.android.type=="popup"||this.model.renderMode=="windows"&&this.model.windows.type=="popup"||this.model.renderMode=="flat"},_scrollPanel:function(){var u,i,r,f;this._exceeded=!1;u=this._getElement();this._targetHeight=this._eleHeight;this.model.height?(i=this.model.height,this.model.allowScrolling&&(this._exceeded=!0)):(i=this._eleHeight-this._containerHeight,r=this._targetHeight,this._isPopUp()?r=r+this._tarOffsetTop+this._tar.outerHeight():this.model.renderMode!="windows"||this.model.windows.type!="contextual"||t.isMobile()||(r=r+this._pageTop),r>this._windowHeight?(this._exceeded=!0,this._targetHeight=this.model.renderMode=="windows"&&this.model.windows.type=="contextual"&&t.isMobile()?this._windowHeight:this._targetHeight>this._windowHeight?this._windowHeight-20:this._targetHeight,this._isPopUp()?this._targetHeight=this._tarOffsetTop+this._tar.outerHeight()>this._windowHeight/2?this._targetHeight>this._tarOffsetTop?this._tarOffsetTop-20:this._targetHeight:this._targetHeight-this._tar.outerHeight()-10:this.model.renderMode!="windows"||this.model.windows.type!="contextual"||t.isMobile()||(this._targetHeight=this._pageTop+this._targetHeight-10>this._windowHeight?this._targetHeight-(this._windowHeight-this._pageTop):this._targetHeight-this._pageTop)):this.model.renderTemplate&&this.model.allowScrolling&&(this._exceeded=!0),i=this._targetHeight-i);this.model.renderMode=="windows"&&this.model.windows.type=="contextual"&&t.isMobile()?n(u).css("height","auto"):n(u).css("height",this._targetHeight);this._scroller?(this._scroller.model.targetHeight=i,this._scroller.refresh(),this._exceeded?this._scroller.enable():this._scroller.disable()):this._exceeded&&this.model.allowScrolling&&(f=t.buildTag("div#"+this.model.id+"_scroll"),n(u).append(f),f.ejmScrollPanel({theme:this.model.theme,renderMode:this.model.renderMode,target:n(u).find(".e-m-menu-container")[0],targetHeight:i,showScrollbars:this.model.showScrollbars,windows:{renderDefault:this.model.windows.renderDefault}}),this._scroller=t.getCurrentPage().find("#"+this.model.id+"_scroll").ejmScrollPanel("instance"))},_scrollRefresh:function(){this._scroller&&this._scroller.refresh()},_createOverlayDiv:function(){this._createdOverlay=!0;this._overlay=t.buildTag("div#"+this.model.id+"_overlay","","",{"class":"e-m-overlay e-m-menu-overlay e-m-"+this.model.renderMode});this._overlay.addClass(this.model.renderMode=="ios7"&&!t.isMobile()?"e-m-overlay-hide":"e-m-state-hide");this.model.renderMode!="flat"&&this._overlay.addClass("e-m-menu-"+this.model[this.model.renderMode].type);this._overlay.css({"z-index":t.getMaxZindex()+1});App.activePage.append(this._overlay)},_poranimationEnd:function(){this.model.height?this._mcontainer.height(this.model.height):this._mcontainer.height(this._mcontainer.find(".e-m-menu-hdr").height());this._mcontainer.unbind(t.transitionEndEvent(),this._poranimationEndDelegate);this._mcontainer.bind(t.transitionEndEvent(),this._animationCompleteDelegate)},_landanimationEnd:function(){this.model.width?this._mcontainer.width(this.model.width):this._mcontainer.width("100%");this._mcontainer.unbind(t.transitionEndEvent(),this._landanimationEndDelegate);this._mcontainer.bind(t.transitionEndEvent(),this._animationCompleteDelegate)},_animationComplete:function(){this._scrollPanel();this._mcontainer.unbind(t.transitionEndEvent(),this._animationCompleteDelegate)},_cancelMenu:function(t){var i=t.currentTarget,r;this.model.ios7.cancelButtonTouchEnd?(r={item:n(i),text:n(i).text()},this.model.cancelTouch=this.model.ios7.cancelButtonTouchEnd,this._trigger("cancelTouch",r)):this.hide()},_showOverFlowMenu:function(){this.hide();this._setPosition();this.model.renderMode=="android"&&this.model.android.type=="optionsmenu"&&this.overFlowMenu.css(t.isPortrait()?{right:"auto"}:{right:"10px",left:"auto"});this.overFlowMenu.css({display:"block"});this._scrollRefresh()},_docClick:function(i){(this._evt=i,n(i.target).closest(".e-m-menu").length||this.model.targetId&&(i.currentTarget.id==this.model.targetId||i.target.id==this.model.targetId)||this.model.android.type=="optionsmenu"&&t.getCurrentPage().find("#"+this.model.id+"_menu").find("*").index(i.target)>0)||this.hide()},_addSelection:function(){this._currentMenu.closest(".e-m-menu-container").find(".e-m-state-active").removeClass("e-m-state-active").addClass("e-m-state-default");this._currentMenu.removeClass("e-m-state-default").addClass("e-m-state-active")},_removeSelection:function(){this._currentMenu.removeClass("e-m-state-active").addClass("e-m-state-default");this.model.renderMode=="ios7"&&this._currentMenu.find(".e-m-btnwrapper").removeClass("e-m-state-active").addClass("e-m-state-default")},_onTouchStartHandler:function(i){this._currentMenu=n(i.currentTarget);this._addSelection();this.model.renderMode=="windows"&&t.isMobile()&&this._currentMenu.addClass(t._getSkewClass(n(this._currentMenu),i.pageX,i.pageY));var r={item:this._currentMenu,text:this._currentMenu.text()};this.model.touchStart=t.getAttrVal(n(i.target).closest("li"),"data-ej-touchstart",this._touchStart);this.model.touchStart&&this._trigger("touchStart",r);this._scroll=!1;t.listenTouchEvent(this._li,t.moveEvent(),this._touchMoveDelegate);this.overFlowMenu&&t.listenTouchEvent(this._overflowLi,t.moveEvent(),this._touchMoveDelegate)},_onTouchMoveHandler:function(){this._scroll=!0;this._removeSelection();this.model.renderMode=="windows"&&t.isMobile()&&t._removeSkewClass(this._currentMenu)},_onTouchEndHandler:function(i){if(this._removeSelection(),this.model.renderMode=="windows"&&t.isMobile()&&t._removeSkewClass(this._currentMenu),!this._scroll){var r={item:n(this._currentMenu),text:n(this._currentMenu).text()};this.model.android.type=="optionsmenu"&&this.overFlowMenu&&this.element.find("li").index(this._currentMenu)==4&&this._showOverFlowMenu();this.model.touchEnd=t.getAttrVal(n(i.target).closest("li"),"data-ej-touchend",this._touchEnd);this.model.touchEnd&&this._trigger("touchEnd",r)}t.listenTouchEvent(this._li,t.moveEvent(),this._touchMoveDelegate,!0);this.overFlowMenu&&t.listenTouchEvent(this._overflowLi,t.moveEvent(),this._touchMoveDelegate,!0)},_updateWindowHW:function(){this._windowWidth=this._activePage.outerWidth();this._windowHeight=this._activePage.outerHeight()},_orientation:function(){if(this._updateWindowHW(),this.overFlowMenu&&this.overFlowMenu.is(":visible")){this._showOverFlowMenu();return}if(this._shown){if(this.model.renderMode=="ios7"&&t.isMobile()||this.model.renderMode=="android"&&this.model.android.type=="optionsmenu"){this._afterHide();return}if(this.hide(),this.model.renderMode=="windows"&&this.model.windows.type=="contextual"&&!t.isMobile())return;this._afterHide()}},_resize:function(){this._shown&&(this._updateWindowHW(),this._positionMenu(this._tar),this._scrollPanel())},_afterHide:function(){var n=this;setTimeout(function(){n.show(null,!0)},350)},_displayMenu:function(){this._shown||(n(this._overlay).hasClass(this.model.renderMode=="ios7"&&!t.isMobile()?"e-m-overlay-hide":"e-m-state-hide")&&n(this._overlay).css("pointer-events","none"),this.element.hide());this.element.unbind(t.transitionEndEvent(),this._displayMenuDelegate)},_createDelegates:function(){this._showDelegate=n.proxy(this.show,this);this._cancelMenuDelegate=n.proxy(this._cancelMenu,this);this._docClickDelegate=n.proxy(this._docClick,this);this._poranimationEndDelegate=n.proxy(this._poranimationEnd,this);this._landanimationEndDelegate=n.proxy(this._landanimationEnd,this);this._animationCompleteDelegate=n.proxy(this._animationComplete,this);this._orientationDelegate=n.proxy(this._orientation,this);this._resizeDelegate=n.proxy(this._resize,this);this._displayMenuDelegate=n.proxy(this._displayMenu,this);this._touchStartDelegate=n.proxy(this._onTouchStartHandler,this);this._touchMoveDelegate=n.proxy(this._onTouchMoveHandler,this);this._touchEndDelegate=n.proxy(this._onTouchEndHandler,this)},_wireEvents:function(i){this._createDelegates();var r=i?"unbind":"bind";this.model.renderTemplate||(this._li=this.element.find("li"),t.listenEvents([this._li,this._li],[t.startEvent(),t.endEvent()],[this._touchStartDelegate,this._touchEndDelegate],i));this._tapEvent=this.model.showOn=="tap"?t.tapEvent():this.model.showOn=="taphold"?t.tapHoldEvent():this.model.showOn;t.listenTouchEvent(t.getCurrentPage().find("#"+this.model.targetId),this._tapEvent,this._showDelegate,i);this.overFlowMenu&&(this._overflowLi=n("#"+this.model.id+"_menu").find("li"),t.listenEvents([this._overflowLi,this._overflowLi],[t.startEvent(),t.endEvent()],[this._touchStartDelegate,this._touchEndDelegate],i));this.model.renderMode=="ios7"&&this.model.ios7.showCancelButton&&t.listenTouchEvent(this.element.find(".e-m-menu-cancel"),t.endEvent(),this._cancelMenuDelegate,i);t.listenTouchEvent(n(document),t.endEvent(),this._docClickDelegate,i);n(window)[r]("orientationchange",this._orientationDelegate);n(window)[r]("resize",this._resizeDelegate)},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_bindEvent:function(n){t.listenTouchEvent(t.getCurrentPage().find("#"+this.model.targetId),this._tapEvent,this._showDelegate,n)},_setShowOn:function(n){n&&(this._bindEvent(!0),this.model.showOn=n,this._tapEvent=this.model.showOn=="tap"?t.tapEvent():this.model.showOn=="taphold"?t.tapHoldEvent():this.model.showOn,this._bindEvent())},_setTheme:function(t){if(t)if(this.model.theme=t,this.element.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme),this.model.renderMode=="ios7"){if(n(this.element.find(".e-m-btnwrapper")).length>0){var i=n(this.element.find("a.e-m-btn")),r=this;i.each(function(t,i){n(i).ejmActionlink("model.theme",r.model.theme)})}}else this.model.renderMode=="android"&&this.overFlowMenu&&this.overFlowMenu.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme)},_enableDisable:function(t,i){t&&n(this.element.find("li.e-m-menuitem")[t-1])[i?"removeClass":"addClass"]("e-m-state-disabled")},_enableDisableOverFlow:function(t,i){this.overFlowMenu&&t&&n(this.overFlowMenu.find("li.e-m-menuitem")[t-1])[i?"removeClass":"addClass"]("e-m-state-disabled")},_enabledisable:function(n){this.element[n?"removeClass":"addClass"]("e-m-state-disabled")},_enabledisableOverflow:function(n){this.overFlowMenu&&this.overFlowMenu[n?"removeClass":"addClass"]("e-m-state-disabled")},_refresh:function(){this._destroy();this.element.addClass("e-m-menu");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class").removeAttr("style");this.overFlowMenu&&this.overFlowMenu.remove();this._overlay&&this._overlay.remove();this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()},show:function(i,r){var u;this._updateWindowHW();this.model.renderMode=="windows"&&this.model.windows.type=="contextual"&&!t.isMobile()&&this._shown&&this.hide();(this._isPopUp()||this.model.renderMode=="windows"&&t.isMobile())&&!r&&(this._tar=n(i.currentTarget));this._tarOffsetTop=this._tar?this._tar.offset().top-this._activePage.offset().top:0;this._tarOffsetLeft=this._tar?this._tar.offset().left-this._activePage.offset().left:0;this._e=i?i:this._e?this._e:this._evt;this._e&&(this._pageLeft=this._e.pageX-this._activePage.offset().left,this._pageTop=this._e.pageY-this._activePage.offset().top);this._shown||(t.isIOS()&&this.model.ios7.type=="animate"&&this.element.css("visibility","visible"),this._resetPosition(),this.model.renderMode=="windows"&&this.model.windows.type=="contextual"?t.isMobile()?(this._mcontainer.removeClass("e-m-tn-nonecontainer").addClass("e-m-tn-container"),t.isPortrait()?(this._positionMenu(this._tar),this._mcontainer.height(5),this._mcontainer.width(this.model.width?this.model.width:"100%"),this._mcontainer.bind(t.transitionEndEvent(),this._poranimationEndDelegate)):(u=this._e.pageX<this._windowWidth/2,this.element.removeClass(u?"e-m-right":"e-m-left").addClass(u?"e-m-left e-m-landscape":"e-m-right e-m-landscape"),this._mcontainer.width(5),this.element.css("top",0),this._mcontainer.height(this.model.height?this.model.height:this._windowHeight),this._mcontainer.bind(t.transitionEndEvent(),this._landanimationEndDelegate))):(this._scrollPanel(),u=this._pageTop+this._targetHeight<this._windowHeight,this.element.css(u?{top:this._pageTop}:{bottom:this._windowHeight-this._pageTop}),u=this._pageLeft+this.element.outerWidth()<this._windowWidth,this.element.css(u?{left:this._pageLeft}:{right:this._windowWidth-this._pageLeft}),this.element.css({display:"block"}),this._scrollRefresh()):(this._scrollPanel(),this.model.renderMode=="flat"?this._setPosition(this._tar):this._positionMenu(this._tar),this.model.renderMode=="android"&&this.model.android.type=="optionslist"&&this.element.css(t.isPortrait()?{right:"auto"}:{right:"10px",left:"auto"}),this.model.renderMode=="ios7"&&this.model.ios7.type=="animate"||this.model.renderMode=="android"&&(this.model.android.type=="optionslist"||this.model.android.type=="optionsmenu")?(this.overFlowMenu&&this.overFlowMenu.css({display:"none"}),this.element.css({bottom:0})):this.model.renderMode!="ios7"||t.isMobile()?this.element.css({display:"block"}):this.element.show().css({opacity:"1"}),this._overlay&&this._overlay.removeClass(this.model.renderMode=="ios7"&&!t.isMobile()?"e-m-overlay-hide":"e-m-state-hide").css("pointer-events","auto"),this._scrollRefresh()));this.model.renderMode!="ios7"||t.isMobile()||this.element.addClass("e-m-menu-showtrans").removeClass("e-m-menu-hidetrans");this._shown=!0;this.model.show&&this._trigger("show")},hide:function(){this._shown&&(this.model.renderMode!="ios7"||t.isMobile()||this.element.removeClass("e-m-menu-showtrans").addClass("e-m-menu-hidetrans"),this._shown=!1,this.element.find(".e-m-menuitem.e-m-state-active").removeClass("e-m-state-active").addClass("e-m-state-default"),this.model.renderMode=="ios7"&&this.model.ios7.type=="animate"||this.model.renderMode=="android"&&(this.model.android.type=="optionslist"||this.model.android.type=="optionsmenu")?(this.element.css({bottom:-t.getDimension(this.element,"outerHeight")+"px"}),this.overFlowMenu&&this.overFlowMenu.css({display:"none"})):this.model.renderMode=="windows"&&this.model.windows.type=="contextual"?t.isMobile()?(this._mcontainer.addClass("e-m-tn-nonecontainer"),this._mcontainer.css({width:"0",height:"0"})):this.element.css({left:"auto",top:"auto",display:"none"}):this.model.renderMode!="ios7"||t.isMobile()?this.element.css("display","none"):this.element.css({opacity:"0"}).bind(t.transitionEndEvent(),this._displayMenuDelegate),this._overlay&&this._overlay.addClass(this.model.renderMode=="ios7"&&!t.isMobile()?"e-m-overlay-hide":"e-m-state-hide"),this.model.hide&&this._trigger("hide"))},enableItem:function(n){this._enableDisable(n,!0)},disableItem:function(n){this._enableDisable(n,!1)},enableOverFlowItem:function(n){this._enableDisableOverFlow(n,!0)},disableOverFlowItem:function(n){this._enableDisableOverFlow(n,!1)},enable:function(){this._enabledisable(!0)},disable:function(){this._enabledisable(!1)},enableOverFlow:function(){this._enabledisableOverflow(!0)},disableOverFlow:function(){this._enabledisableOverflow(!1)},addItem:function(t,i){i?t.insertBefore(n(this._orgEle.children().children()[i-1])):this._orgEle.children().append(t);this._refresh()},removeItem:function(t){t&&(n(this._orgEle.children().children()[t-1]).remove(),this._refresh())}});t.mobile.Menu.IOS7={};t.mobile.Menu.IOS7.Type={Auto:"auto",Animate:"animate",Normal:"normal"};t.mobile.Menu.IOS7.CancelButtonColor={Blue:"blue",Gray:"gray",Black:"black",Green:"green",Red:"red"};t.mobile.Menu.Android={};t.mobile.Menu.Android.Type={Contextual:"contextual",Popup:"popup",OptionsList:"optionslist",OptionsMenu:"optionsmenu"};t.mobile.Menu.Windows={};t.mobile.Menu.Windows.Type={Contextual:"contextual",Popup:"popup"};t.mobile.Menu.ShowOn={Tap:"Tap",TapHold:"TapHold"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmProgress","ej.mobile.Progress",{_setFirst:!0,_rootCSS:"e-m-progress",defaults:{renderMode:"auto",value:0,percentage:0,incrementStep:0,minValue:0,maxValue:100,width:null,height:null,orientation:"horizontal",create:null,change:null,start:null,complete:null,text:"",enabled:!0,enableCustomText:!1,theme:"auto",enablePersistence:!1},dataTypes:{renderMode:"enum",orientation:"enum",enabled:"boolean",enableCustomText:"boolean",theme:"enum",enablePersistence:"boolean"},_init:function(){this._cloneElement=this.element.clone();this._createDelegate();this._wireEvents(!1);this._renderControl();this._progressbarInit();this._pageLoad()},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);var n=t.buildTag("canvas");this.element.append(n)},_createDelegate:function(){this._onOrientationChangedDelegate=n.proxy(this._onOrientationChangedHandler,this);this._onWindowsResizeDelegate=n.proxy(this._onWindowResizeHandler,this)},_wireEvents:function(n){n||t.listenEvents([window,window],["orientationChange","resize"],[this._onOrientationChangedDelegate,this._onWindowsResizeDelegate],n)},_onWindowResizeHandler:function(){this._draw()},_onOrientationChangedHandler:function(){this._draw()},_widthAndHeightProperties:function(){this._tempHeight=this.model.orientation=="horizontal"?this.model.height?this.model.height:3:this.model.width?this.model.width:this.element.parent().height();this._tempWidth=this.model.orientation=="horizontal"?this.model.width?this.model.width:this.element.parent().width():this.model.height?this.model.height:3},_progressbarInit:function(){this._initialX=0;this._initialY=0;this._mProgress=this.element;this._increment=0;this._result=0;this._context=null;this._text=this.model.textStyle;this._externalText=null;this._totalWidth=0;this._totalHeight=0;this._radius=0;this._currentValue=1},_pageLoad:function(){var t=this.element.find("canvas")[0],r=n(t).parent(),i;(typeof G_vmlCanvasManager!="undefined"&&(t=window.G_vmlCanvasManager.initElement(t)),t&&t.getContext)&&(t=this.element.find("canvas")[0],this._context=t.getContext("2d"),this._context)&&(this.model.value=this.model.value+this.model.incrementStep,this._validate(),i={element:this.element,value:this.model.value},this._result=this._draw(),i={value:this._setValue,percentage:this.model.percentage},this.model.minValue==this.model.value&&this._trigger("start",i))},_validate:function(){if(this._setValue==this.model.maxValue){var n={value:this._setValue,text:this.model.text,percentage:this.model.percentage};this.model.complete&&this._trigger("complete",n)}this._setValue=this._setValue<this.model.minValue?this.model.minValue:this._setValue>this.model.maxValue?this.model.maxValue:this._setValue;this._step>this._max&&(this._step=1)},_draw:function(){if(this._widthAndHeightProperties(),this._context!=null){this.model.enabled||(n(this.element).addClass("e-m-state-disabled"),this._wireEvents(!0));this.model.value<=0&&this.model.percentage!=0?this.model.value=Math.round(this.model.percentage*this.model.maxValue/100):this.model.value!=0&&this.model.percentage<=0?this.model.percentage=Math.round(this.model.value/this.model.maxValue*100):this.model.value!=0&&this.model.percentage!=0&&(this.model.percentage=Math.round(this.model.value/this.model.maxValue*100));this.model.minValue<=this.model.value&&this.model.maxValue>=this.model.value?(this._cutOffValue=this.model.value-this.model.minValue,this.model.percentage>=100?this.model.percentage=100:this.model.percentage<=0&&(this.model.percentage=0),this._setValue=this.model.percentage!=i?this.model.percentage:Math.round(100/(this.model.maxValue-this.model.minValue)*this._cutOffValue)):this.model.minValue>this.model.value&&this.model.maxValue>this.model.value?this._setValue=0:this.model.minValue<this.model.value&&this.model.maxValue<this.model.value&&(this._setValue=100);this._setOrientationProperties(this._tempWidth,this._tempHeight,this._tempHeight+50,this._tempWidth+50);this._context.translate(.5,.5);this._context.clearRect(this._initialX-5,this._initialY-5,this._totalWidth+15,this._totalHeight+15);var t;t=this.model.renderMode=="windows"||this.model.renderMode=="flat"?10:25;this._initialY=this.model.orientation=="horizontal"?t:0;this._initialX=this.model.orientation=="horizontal"?0:t;this.model.renderMode=="ios7"?(this.model.orientation=="horizontal"?this._totalHeight=this._tempHeight==""?3:this._tempHeight:this._totalWidth=this._tempWidth==""?3:this._tempWidth,this.totalRadius=this.model.orientation=="horizontal"?Math.round(this._totalHeight/2):Math.round(this._totalWidth/2),this._fillRadius=this.totalRadius):(this.model.orientation=="horizontal"?this._totalHeight=this._tempHeight==""?2:this._tempHeight:this._totalWidth=this._tempWidth==""?2:this._tempWidth,this.totalRadius=0,this._fillRadius=0);this.model.orientation=="horizontal"?this._roundRectOuter(this._context,this._initialX,this._initialY,this._totalWidth-15,this._totalHeight,this.totalRadius):this._roundRectOuter(this._context,this._initialX,this._initialY,this._totalWidth,this._totalHeight-15,this.totalRadius);this.model.orientation=="horizontal"?this._roundRectFill(this._context,this._initialX,this._initialY,this._increment,this._totalHeight,this._fillRadius):this._roundRectFill(this._context,this._initialX,this._initialY,this._increment,this._totalHeight-15,this._fillRadius);this._increment>=this._totalWidth&&window.clearInterval(this._result)}this._validate()},_setOrientationProperties:function(n,t,i,r){this._totalWidth=n;this._totalHeight=t;this._radius=(this.model.orientation=="horizontal"?this._totalHeight:this._totalWidth)/2;this._increment=this._setValue*(this.model.orientation=="horizontal"?(this._totalWidth-15)/100:(this._totalHeight-15)/100);this._context.canvas.width=this.model.orientation=="horizontal"?n:r;this._context.canvas.height=this.model.orientation=="horizontal"?i:t},_roundRect:function(n,t,i,r,u,f){n.save();n.beginPath();n.strokeStyle=this._strokeStyle;n.fillStyle=this._fillStyle;n.lineWidth=1;n.moveTo(t+f,i);n.lineTo(t+r-f,i);n.quadraticCurveTo(t+r,i,t+r,i+f);n.lineTo(t+r,i+u-f);n.quadraticCurveTo(t+r,i+u,t+r-f,i+u);n.lineTo(t+f,i+u);n.quadraticCurveTo(t,i+u,t,i+u-f);n.lineTo(t,i+f);n.quadraticCurveTo(t,i,t+f,i);n.fill();n.stroke();n.closePath();n.restore()},_roundRectOuter:function(n,i,r,u,f,e){if(this.model.renderMode=="ios7"){var o=this.model.theme=="dark"?[{ColorStop:1,Color:"#363636"}]:[{ColorStop:1,Color:"#b5b5b6"}];grd=this.model.orientation=="horizontal"?n.createLinearGradient(i,r,i,r+f):n.createLinearGradient(i,r,i+u,r);t._setGradientColor(this,grd,o);this._strokeStyle=grd;this._fillStyle=grd}else this.model.renderMode=="android"?this._setRectOuterProperties("#3A3A3A","#A9A9A9"):this.model.renderMode=="windows"?this._setRectOuterProperties("#373737","#c5c5c5"):this.model.renderMode=="flat"&&this._setRectOuterProperties("#b3b3b3","#b3b3b3");this.model.orientation=="horizontal"?this._roundRect(n,i,r,u+e,f,e):this._roundRect(n,i+5,r,u,f+e,e)},_setRectOuterProperties:function(n,t){this.model.theme=="dark"?(this._strokeStyle=n,this._fillStyle=n):(this._strokeStyle=t,this._fillStyle=t)},_roundRectFill:function(n,r,u,f,e,o){var s,h,c;this.model.renderMode=="ios7"?(s=[{ColorStop:0,Color:"#017aff"}],grd=this.model.orientation=="horizontal"?n.createLinearGradient(r,u,r,u+e):n.createLinearGradient(r,u,r+f,u),t._setGradientColor(this,grd,s),this._strokeStyle=grd,this._fillStyle=grd):this.model.renderMode=="android"?this._strokeStyle=this._fillStyle="#33B5E5":this.model.renderMode=="windows"?this._strokeStyle=this._fillStyle="#2ca1dd":this.model.renderMode=="flat"&&(this._strokeStyle=this._fillStyle="#f48b22");f>0&&(this.model.orientation=="horizontal"?this._roundRect(n,r,u,f+o,e,o):this._roundRect(n,r+5,e-f+u,this._totalWidth,f+o,o));n.save();this.model.orientation=="horizontal"?this._setTextProperties():(this._setTextProperties(),h=270,n.save(),n.translate(this._totalWidth/2,e/2),n.rotate(h*2*3.1416/360),this.model.renderMode=="ios7"?n.textAlign="center":this.model.renderMode=="android"&&(n.textAlign="right"));this.model.enableCustomText?this.model.text==""||this.model.text==i?this.setCustomText(this._text):this.setCustomText(this.model.text):this.setCustomText(this._text);c={value:this._setValue,text:this.model.text,percentage:this.model.percentage};this.model.change&&this.model.value>0&&this._trigger("change",c);n.restore()},_setTextProperties:function(){this.model.renderMode=="ios7"?this._text="Downloading "+this._setValue+" of 100%":this.model.renderMode=="android"?this._text=this._setValue+"%":(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(this._text=this._setValue)},_setCustomtextProperties:function(n,t,i,r){n.fillStyle=this.model.theme=="dark"?t:i;n.font=r},_setRenderMode:function(n){this.model.enabled&&(this.model.renderMode=n,n=="auto"&&t.setRenderMode(this),this._draw())},_setTheme:function(n){this.model.enabled&&(this.model.theme=n,this._draw())},_value:function(n){this.model.enabled&&(this._setValue=n,this._draw())},_setPercentage:function(n){this.model.enabled&&(this._value=n,this._draw())},_disable:function(){this.model.enabled=!1;this.element.addClass("e-m-state-disabled");this._wireEvents(!0)},_enable:function(){this.model.enabled=!0;this.element.removeClass("e-m-state-disabled");this._wireEvents(!1)},_refresh:function(){this._clearElements();this._wireEvents(!1);this._renderControl();this._progressbarInit();this._pageLoad()},_setWidth:function(n){this._tempWidth=this.model.width=n;this._draw()},_setHeight:function(n){this._tempHeight=this.model.height=n;this._draw()},_setText:function(n){this.model.enabled&&(this.model.text=n,this._draw())},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this.model.enabled?this._setTheme(n.theme):"";break;case"width":this.model.enabled?this._setWidth(n.width):"";break;case"height":this.model.enabled?this._setHeight(n.height):"";break;case"orientation":this.model.enabled?this._draw():"";break;case"value":this.model.enabled?this._value(n.value):"";break;case"percentage":this.model.enabled?this._setPercentage(n.percentage):"";break;case"minValue":this.model.enabled?this._draw():"";break;case"maxValue":this.model.enabled?this._draw():"";break;case"enabled":n.enabled?this._enable():this._disable();break;case"text":this.model.enabled?this._setText(n.text):""}},_clearElements:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeClass("e-m-progress");this.element.html("")},_destroy:function(){this._cloneElement.insertBefore(this.element).removeClass("e-m-progress");this.element.remove()},getValue:function(){return this._setValue},getPercentage:function(){return this.model.percentage},setCustomText:function(n){var t=this._context,u=this._totalHeight,l=this.totalRadius,f=this._totalWidth,e,r,c,s,h,o;this.model.text=n;c=270;this.model.renderMode=="ios7"?(e=this.model.orientation=="horizontal"?0:8,r=this.model.orientation=="horizontal"?8:0):this.model.renderMode=="android"?r=15:(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(e=0,r=30);t.save();this.model.renderMode=="ios7"?this._setCustomtextProperties(t,"#fefefe","#000000","14px Helvetica"):this.model.renderMode=="android"?this._setCustomtextProperties(t,"#fefefe","#333333","17px Roboto"):this.model.renderMode=="windows"?this._setCustomtextProperties(t,"#ffffff","#000000","17px Segoe UI"):this.model.renderMode=="flat"&&this._setCustomtextProperties(t,"#333333","#333333","17px Segoe UI");s=t.measureText(this.model.text).width;h=t.measureText(this._setValue+"%").width;this.model.orientation=="horizontal"?(o=e+f/2-s/2,this.model.renderMode=="ios7"?t.fillText(this.model.text,o,r+5):this.model.renderMode=="android"?this.model.text!=""&&this.model.text!=i?t.fillText(this.model.text,f-s-15,r):t.fillText(this.model.text,f-h-15,r):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.fillText(this.model.text,e,u+r)):(o=r+15,this.model.renderMode=="ios7"?t.fillText(this.model.text,r,o):this.model.renderMode=="android"?(this.model.text!=""&&this.model.text!=i?t.fillText(this.model.text,(u-15)/2,15):t.fillText(this.model.text,(u-15)/2,r),t.textAlign="right"):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.fillText(this.model.text,-(u-15)/2,r+f));t.restore()},changeEventHandler:function(){var n={element:this.element,value:this._setValue,percentage:this._value};this.model.change&&this._trigger("change",n)}});t.mobile.Progress.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmRadioButton","ej.mobile.RadioButton",{_setFirst:!0,_rootCSS:"e-m-radbtn",defaults:{touchEnd:null,touchStart:null,touchStart:null,change:null,checked:!1,renderMode:"auto",theme:"auto",enabled:!0,text:"",enablePersistence:!1},dataTypes:{renderMode:"enum",checked:"boolean",theme:"enum",enabled:"boolean",enablePersistence:"boolean"},_init:function(){this._renderControl();this._wireEvents(!1)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this._wrapper=t.buildTag("div.e-m-radbtn e-m-"+this.model.renderMode+" e-m-"+this.model.theme);n(this.element).attr("style","display:none").addClass("e-m-input");this.element.wrap(this._wrapper);this._wrapper=this.element.parent();var i=t.buildTag("div.e-m-rootel");this._innerDiv=t.buildTag("div.e-m-innerel");this.model.checked&&(this.element.attr("checked",!0),this._innerDiv.addClass("e-m-state-active"));i.append(this._innerDiv);this._wrapper.append(i);this._setEnabled(this.model.enabled);this._setTextWrapper(this.model.text)},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchStopHandler=n.proxy(this._touchEnd,this);this._active=n.proxy(this._active,this);this._removeActive=n.proxy(this._removeActive,this);this._touchMoveHandler=n.proxy(this._removeActive,this)},_wireEvents:function(n){this._createDelegates();t.listenEvents([this._wrapper,this._wrapper,this._wrapper,this._wrapper,this._wrapper],["click","click",t.startEvent(),t.endEvent(),t.moveEvent()],[this._touchStartHandler,this._touchStopHandler,this._active,this._removeActive,this._touchMoveHandler],n)},_touchStart:function(){var t={value:this.element.val(),isChecked:this.model.checked},i,r;this.model.touchStart&&this._trigger("touchStart",t);i=this.element.attr("name");r=n("input[name="+i+"]:radio");n.each(r,function(t,i){n(i).parent().find(".e-m-innerel").removeClass("e-m-state-active");n(i).attr("checked",!1)});this._wrapper.find(".e-m-innerel").addClass("e-m-state-active");this.element.attr("checked",!0);this.model.change&&this._trigger("change",t)},_active:function(){this.model.renderMode=="android"&&this._wrapper.find(".e-m-rootel").addClass("e-m-state-glow");this._wrapper.find(".e-m-rootel").addClass("e-m-active");var n={value:this.element.val(),isChecked:this.model.checked};this.model.touchStart&&this._trigger("touchStart",n)},_touchEnd:function(){var n={value:this.element.val(),isChecked:this.model.checked};this.model.touchEnd&&this._trigger("touchEnd",n)},_removeActive:function(){this.model.renderMode=="android"&&this._wrapper.find(".e-m-rootel").removeClass("e-m-state-glow");this._wrapper.find(".e-m-rootel").removeClass("e-m-active")},_setTextWrapper:function(n){n!=""&&(this.txtSpan=t.buildTag("div.e-m-radtext",n),this._wrapper.append(this.txtSpan))},_setText:function(n){this.txtSpan?this.txtSpan.html(n):this._setTextWrapper(n)},_setEnabled:function(n){this.model.enabled=n;this._wrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_setTheme:function(){t.setTheme(this);this._wrapper.removeClass("e-m-light e-m-dark e-m-default").addClass("e-m-"+this.model.theme)},_setRenderMode:function(){t.setRenderMode(this);this._wrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setChecked:function(n){this.model.checked=n;this.element.attr("checked",n);this._innerDiv[n?"addClass":"removeClass"]("e-m-state-active")},enable:function(){this.model.enable=!0;this._wrapper.removeClass("e-m-state-disabled")},disable:function(){this.model.enable=!1;this._wrapper.addClass("e-m-state-disabled")},_setModel:function(n){var t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t])},_refresh:function(){this._destroy();this.element.addClass("e-m-radbtn");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.insertAfter(this._wrapper);this._wrapper.remove();this.element.removeAttr("class")},_destroy:function(){this._wireEvents(!0);this._clearElement()}})}(jQuery,Syncfusion),function($,ej){ej.widget("ejmRating","ej.mobile.Rating",{_setFirst:!0,_rootCSS:"e-m-rating",defaults:{maxValue:5,minValue:0,value:1,incrementStep:1,precision:"full",enabled:!0,theme:"auto",renderMode:"auto",shape:"star",shapeWidth:25,shapeHeight:25,spaceBetweenShapes:15,tap:null,change:null,touchMove:null,orientation:"horizontal",readOnly:!1,enablePersistence:!1},dataTypes:{enabled:"boolean",renderMode:"enum",precision:"enum",shape:"enum",orientation:"enum",readOnly:"boolean",enablePersistence:"boolean"},observables:["value"],value:ej.util.valueFunction("value"),_init:function(){this._cloneElement=this.element.clone();this._renderControl();this._wireEvents(!1);this._isLoaded=!0},_initObjects:function(){this.element.css({display:"inline-block"});this._canvasElement=this.element.find("canvas")[0];this._renderRatingControl();this._hiddenField=this.element.find("input")[0]},_renderControl:function(){ej.setRenderMode(this);ej.setTheme(this);this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme);this.model.enabled||this.element.addClass("e-m-state-disabled");this._renderColorCodes();this["_"+this.model.precision+"PrecisionProperties"]();this._canvasElement=ej.buildTag("canvas");this._canvasElement.css("-ms-touch-action","none");this.element.append(this._canvasElement);this._hiddenField=ej.buildTag("input ",{},{},{type:"hidden",value:this.model.minValue+this.value()});this.element.append(this._hiddenField);this._initObjects()},_fullPrecisionProperties:function(){var n=Math.round(this.value());this.value(n-n%this.model.incrementStep);this._currentIndex=Number(this.value()/this.model.incrementStep)},_exactPrecisionProperties:function(){var n=Math.ceil(this.value());this.value(Math.round(this.value(),1));this._pricisionProperties(n)},_halfPrecisionProperties:function(){var n=Math.ceil(this.value());this.value(this.value()-this.value()%(Number(this.model.incrementStep)/2));this._pricisionProperties(n)},_pricisionProperties:function(n){this.value()%this.model.incrementStep!=0?(n=n+n%this.model.incrementStep,currentItemIndex=Number(n/this.model.incrementStep)):(n=this.value(),currentItemIndex=Number(n/this.model.incrementStep))},_renderColorCodes:function(){var bgcolor,shapebgcolor,shapeselectcolor,shapehovercolor,glowcolor;this.model.renderMode=="ios7"?this.model.theme=="dark"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:13,G:122,B:255,A:0,Name:"Transparent"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:67,G:67,B:67,A:100,Name:"64ff9d09"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:13,G:122,B:255,A:100,Name:"64c1dff7"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:13,G:122,B:255,A:100,Name:"64c1dff7"}}]})):this.model.theme=="light"&&(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:13,G:122,B:255,A:0,Name:"Transparent"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:238,G:238,B:238,A:100,Name:"64ff9d09"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:13,G:122,B:255,A:100,Name:"64c1dff7"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:13,G:122,B:255,A:100,Name:"64c1dff7"}}]})):this.model.renderMode=="android"?this.model.theme=="dark"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:67,G:67,B:67,A:100,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:54,G:190,B:240,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:54,G:190,B:240,A:100,Name:"6433b5e5"}}]}),glowcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:74,G:188,B:230,A:100,Name:"644abce6"}}]})):this.model.theme=="light"&&(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:188,G:188,B:188,A:40,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:54,G:190,B:240,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:54,G:190,B:240,A:100,Name:"6433b5e5"}}]}),glowcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:74,G:188,B:230,A:100,Name:"644abce6"}}]})):this.model.renderMode=="windows"?this.model.theme=="dark"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:70,G:70,B:70,A:100,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]})):this.model.theme=="light"&&(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:209,G:207,B:207,A:100,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:70,G:70,B:70,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:70,G:70,B:70,A:100,Name:"6433b5e5"}}]})):this.model.renderMode=="flat"&&(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:242,G:242,B:242,A:100,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:243,G:133,B:41,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:243,G:133,B:41,A:100,Name:"6433b5e5"}}]}));bgcolor=bgcolor.replace("null",NaN);shapebgcolor=shapebgcolor.replace("null",NaN);shapeselectcolor=shapeselectcolor.replace("null",NaN);shapehovercolor=shapehovercolor.replace("null",NaN);this.model.backgroundColor=eval("("+bgcolor+")");this.model.shapeBackgroundColor=eval("("+shapebgcolor+")");this.model.shapeSelectedColor=eval("("+shapeselectcolor+")");this.model.shapeHoverColor=eval("("+shapehovercolor+")");this.model.renderMode=="android"&&(glowcolor=glowcolor.replace("null",NaN),this.model.glowColor=eval("("+glowcolor+")"))},_createDelegates:function(){this._canvasMDDelegate=$.proxy(this._canvasMouseDownHandler,this);this._canvasMMDelegate=$.proxy(this._canvasMouseMoveHandler,this);this._canvasMUDelegate=$.proxy(this._canvasMouseUpHandler,this);this._documentEndDelegate=$.proxy(this._documentEndHandler,this)},_wireEvents:function(n){this.model.enabled&&(this._createDelegates(),this.model.readOnly||ej.listenEvents([this._canvasElement,this._canvasElement,document],[ej.startEvent(),ej.endEvent(),ej.endEvent()],[this._canvasMDDelegate,this._canvasMUDelegate,this._documentEndDelegate],n))},_canvasMouseDownHandler:function(n){ej.blockDefaultActions(n);this._move=!1;this._canvasAction="mouseDown";ej.listenTouchEvent(this._canvasElement,ej.moveEvent(),this._canvasMMDelegate,!1);var t={value:this.value()};this.model.tap&&this._trigger("tap",t)},_canvasMouseMoveHandler:function(n){ej.blockDefaultActions(n);this._move=!0;n=ej.isTouchDevice()?n.changedTouches[0]:n;this._canvasAction="mouseMove";this._getCursorPosition(n);this._mouseMove(n)},_mouseMove:function(n){var r,u,t,i;this._getCursorPosition(n);this._mousepos=this.model.orientation=="vertical"?this._mousePosition.y:this._mousePosition.x;r=0;u=0;this["_"+this.model.orientation+"MouseMoveOrUpProperties"]();t=this._getRoundOffValue(this._value);this._currentMouseMove=t;this._canvasContext.canvas.title=this.model.minValue+parseFloat(t);this._canvasContext.canvas.alt=this.model.minValue+parseFloat(t);this._renderRatingControl();i={value:this.value()};this.model.touchMove&&this._trigger("touchMove",i)},_verticalMouseMoveOrUpProperties:function(){shapesCount=Math.floor(this._mousepos-1)/(this.model.shapeHeight+this.model.spaceBetweenShapes);this._value=((this._mousepos-shapesCount*this.model.spaceBetweenShapes)*this.model.incrementStep/this.model.shapeHeight).toFixed(1)},_horizontalMouseMoveOrUpProperties:function(){shapesCount=Math.floor(this._mousepos-1)/(this.model.shapeWidth+this.model.spaceBetweenShapes);this._value=((this._mousepos-shapesCount*this.model.spaceBetweenShapes)*this.model.incrementStep/this.model.shapeWidth).toFixed(1)},_canvasMouseUpHandler:function(n){ej.blockDefaultActions(n);n=ej.isTouchDevice()?n.changedTouches[0]:n;ej.listenTouchEvent(this._canvasElement,ej.moveEvent(),this._canvasMMDelegate,!0);this._canvasAction="mouseUp";this._getCursorPosition(n);this._mouseUp(n)},_documentEndHandler:function(n){$(n.target).closest(".e-m-rating").length==0&&(n=ej.isTouchDevice()?n.changedTouches[0]:n,ej.listenTouchEvent(this._canvasElement,ej.moveEvent(),this._canvasMMDelegate,!0))},_mouseUp:function(n){var r,u,t,i;if(this.model.precision=="exact"&&this._move){this.model.change&&this._trigger("change",i);return}this._move=!1;r=this._shapesCount;u=0;this._mousepos=this.model.orientation=="vertical"?this._mousePosition.y:this._mousePosition.x;this._getCursorPosition(n);var f=this.model.shapeWidth,e=this.model.shapeHeight;this["_"+this.model.orientation+"MouseMoveOrUpProperties"]();t=this._getRoundOffValue(this._value);this.value(t);this._currentMouseMove=t;this._canvasContext.canvas.title=this.model.minValue+parseFloat(t);this._canvasContext.canvas.alt=this.model.minValue+parseFloat(t);$(this._hiddenField).val(this._canvasContext.canvas.title);this._renderRatingControl();i={value:this.value()};this.model.change&&this._trigger("change",i)},_renderRatingControl:function(){var t=this._canvasElement,n,i;(typeof G_vmlCanvasManager!="undefined"&&(t=window.G_vmlCanvasManager.initElement(t)),t&&t.getContext)&&this._canvasElement.getContext&&(this._canvasContext=this._canvasElement.getContext("2d"),n=this._canvasContext,this._shapesCount=Math.floor((this.model.maxValue-this.model.minValue)/this.model.incrementStep),this["_"+this.model.orientation+"RenderRatingProperties"](),this._canvasWidth=this.tempCanvasWidth,this._canvasHeight=this.tempCanvasHeight,n.canvas.width=this._canvasWidth,n.canvas.height=this._canvasHeight,i=n.createLinearGradient(0,0,this._canvasWidth,this._canvasHeight),this.model.backgroundColor.ColorInfo[0].ColorStop.toString()!="NaN"&&$.each(this.model.backgroundColor.ColorInfo,function(n,t,r){i.addColorStop(r.ColorStop.toString()=="NaN"?0:r.ColorStop,"#"+(r.Color.Name?ej.hexFromRGB(r.Color):r.Color))}),this.model.orientation=="horizontal"?n.translate(7,15):n.translate(15,7),n.fillStyle=i,n.fillRect(0,0,n.canvas.width,n.canvas.height),this._renderRatingShapes(n))},_verticalRenderRatingProperties:function(){this._renderRatingProperties(this.model.shapeWidth,this.model.shapeHeight,this._canvasWidth,this._canvasHeight)},_horizontalRenderRatingProperties:function(){this._renderRatingProperties(this.model.shapeHeight,this.model.shapeWidth,this._canvasHeight,this._canvasWidth)},_renderRatingProperties:function(n,t,i,r){i=n+3+30;r=this._shapesCount*t;r+=this._shapesCount*this.model.spaceBetweenShapes;this.tempCanvasWidth=this.model.orientation=="horizontal"?r:i;this.tempCanvasHeight=this.model.orientation=="horizontal"?i:r},_renderRatingShapes:function(n){var e=this._shapesCount,r,i=this.value(),u,t,f;for(r=e,st=0,u=Math.floor(i/this.model.incrementStep),t=i%this.model.incrementStep,i=this.value(),st=st;st<r;st++)n.save(),this._drawRatingShape(n,st),st<u?(this._notClipped=!0,this._setClippingRegion(n,st,this.model.shapeWidth,!0)):t!=0?(this._notClipped=!0,f=t*this.model.shapeWidth/this.model.incrementStep,this._setClippingRegion(n,st,f,!0),t=0):this._setClippingRegion(n,st,this.model.shapeWidth,!1),n.restore()},_drawRatingShape:function(n,t){this._drawShapeProperties(t);this._drawShape(n,this.x1,this.y1,this.width,this.height)},_drawShapeProperties:function(n){this.width=this.model.shapeWidth;this.height=this.model.shapeHeight;this.x1;this.y1;this.model.orientation=="vertical"?(this.x1=1,this.y1=n*this.height+n*this.model.spaceBetweenShapes):(this.x1=n*this.width+n*this.model.spaceBetweenShapes,this.y1=0)},_drawShape:function(n,t,i,r,u){n.beginPath();switch(this.model.shape){case"heart":this._drawHeartenShape(n,t,i,r,u);break;case"pentagon":this._drawPentagonShape(n,t,i,r,u);break;case"diamond":this._drawDiamondShape(n,t,i,r,u);break;case"triangle":this._drawTriangleShape(n,t,i,r,u);break;case"square":this._drawSquareShape(n,t,i,r,u);break;case"circle":this._drawCircleShape(n,t,i,r,u);break;default:this._drawStarShape(n,t,i,r,u)}n.closePath();this.model.renderMode!="windows"&&(n.strokeStyle=this.model.renderMode=="ios7"?this._generateGradient(n,this.model.backgroundColor,t,i):"",n.stroke());n.save();n.fillStyle=this._generateGradient(n,this.model.shapeBackgroundColor,t,i);n.fill();n.restore()},_drawStarShape:function(n,t,i,r,u){n.moveTo(t+r/6,i+u);n.lineTo(t+r,i+u/3);n.lineTo(t,i+u/3);n.lineTo(t+r-r/6,i+u);n.lineTo(t+r/2,i);n.lineWidth=this.model.renderMode=="android"?2:1},_drawCircleShape:function(n,t,i,r,u){this._draw?(n.arc(t+r/2,i+u/2,u/9,0,Math.PI*2,!0),this._draw=!1):n.arc(t+r/2,i+u/2,u/2,0,Math.PI*2,!0)},_drawSquareShape:function(n,t,i,r,u){n.moveTo(t,i);n.lineTo(t+r,i);n.lineTo(t+r,i+u);n.lineTo(t,i+u)},_drawTriangleShape:function(n,t,i,r,u){n.moveTo(t+r/2,i);n.lineTo(t+r,i+u);n.lineTo(t,i+u)},_drawDiamondShape:function(n,t,i,r,u){n.moveTo(t+r/2,i);n.lineTo(t+r,i+u/2);n.lineTo(t+r/2,i+u);n.lineTo(t,i+u/2)},_drawPentagonShape:function(n,t,i,r,u){n.moveTo(t+r/2,i);n.lineTo(t+r,i+u/2);n.lineTo(t+r-r/4,i+u);n.lineTo(t+r/4,i+u);n.lineTo(t,i+u/2)},_drawHeartenShape:function(n,t,i,r,u){t+=r/2;i+=u/4;u-=u*.25;n.beginPath();n.moveTo(t,i);n.bezierCurveTo(t,i-u*.4,t-r/2,i-u*.4,t-r/2,i);n.bezierCurveTo(t-r/2,i+u/2,t,i+u/2,t,i+u);n.bezierCurveTo(t,i+u/2,t+r/2,i+u/2,t+r/2,i);n.bezierCurveTo(t+r/2,i-u*.4,t,i-u*.4,t,i)},_setClippingRegion:function(n,t,i,r){if(n.save(),this._drawShapeProperties(t),n.clip(),n.beginPath(),this._canvasAction=="mouseMove"){var u,f;this._mouseMoveValue!=null?(u=this._mouseMoveValue*this.width+Math.floor(this._mouseMoveValue)*this.model.spaceBetweenShapes-7,f=this._mouseMoveValue*this.height+Math.floor(this._mouseMoveValue)*this.model.spaceBetweenShapes-7):(u=this._mousePosition.x-7,f=this._mousePosition.y-7);n.fillStyle=this._generateGradient(n,this.model.shapeHoverColor,this.x1,this.y1);n.fill();this.model.orientation=="vertical"?n.fillRect(0,0,this.width,f):n.fillRect(0,0,u,this.height)}else r&&(n.fillStyle=this._generateGradient(n,this.model.shapeSelectedColor,this.x1,this.y1),n.fill(),r=!1),this.model.orientation=="vertical"?n.fillRect(this.x1,this.y1,this.width,i):n.fillRect(this.x1,this.y1,i,this.height);n.restore()},_generateGradient:function(n,t,i,r){var u=this.model.renderMode=="ios7"?n.createLinearGradient(i+this.model.shapeWidth/2,r,i+this.model.shapeWidth/2,r+this.model.shapeHeight):n.createLinearGradient(i+this.model.shapeWidth/2,r+this.model.shapeHeight,i+this.model.shapeWidth/2,r);return $.each(t.ColorInfo,function(n,t){u.addColorStop(t.ColorStop.toString()=="NaN"?0:t.ColorStop,"#"+(t.Color.Name?ej.hexFromRGB(t.Color):t.Color))}),u},_clearRatingControl:function(n){n.clearRect(0,0,this._canvasWidth,this._canvasHeight)},_getCursorPosition:function(n){var t,i;return n.pageX||n.pageY?(t=n.pageX,i=n.pageY):(t=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),t-=$(this._canvasElement).offset().left,i-=$(this._canvasElement).offset().top,this._mousePosition={x:t,y:i},this._mousePosition},_getRoundOffValue:function(n){var t;return this.model.precision=="full"?(t=Math.round(n),t=t-t%this.model.incrementStep):this.model.precision=="exact"?t=n:(n=Math.round(n/.5)*.5,n=n-n%(this.model.incrementStep/2),t=n),t},_setRenderMode:function(n){this.model.renderMode=n;this._refresh()},_setTheme:function(n){this.model.theme=n;this._refresh()},_changeShape:function(n){this.model.shape=n;this._renderRatingControl()},_refresh:function(){this._clearElement();this.element.addClass("e-m-rating");this._renderControl();this._wireEvents(!1)},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this._setTheme(n.theme);break;case"shape":this._changeShape(n.shape);break;case"shapeWidth":this._refresh();break;case"shapeHeight":this._refresh();break;case"incrementStep":this._refresh();break;case"orientation":this._refresh();break;case"precision":this._refresh();break;case"value":this._refresh();break;case"maxValue":this._refresh();break;case"enabled":this._refresh();break;case"readOnly":this._refresh()}},_clearElement:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html("")},_destroy:function(){this._cloneElement.insertBefore(this.element).removeClass("e-m-rating");this.element.remove()},disable:function(){this.model.enabled=!1;this._refresh()},enable:function(){this.model.enabled=!0;this._refresh()},show:function(){if(!this.model.enabled)return!1;this.element.css("display","block")},hide:function(){if(!this.model.enabled)return!1;this.element.css("display","none")},getValue:function(){return this.value()},reset:function(){this.value(0);this._refresh()},setValue:function(n){this.value(n);this._refresh()}});ej.mobile.Rating.Precision={Full:"full",Exact:"exact",Half:"half"};ej.mobile.Rating.Shape={Star:"star",Circle:"circle",Diamond:"diamond",Heart:"heart",Pentagon:"pentagon",Square:"square",Triangle:"triangle"};ej.mobile.Rating.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion),function(n,t,r){t.widget("ejmRotator","ej.mobile.Rotator",{_setFirst:!0,_rootCSS:"e-m-rotator",defaults:{targetId:null,renderMode:"auto",targetHeight:"auto",targetWidth:"auto",theme:"auto",currentItemIndex:0,showPager:!0,showHeader:!1,headerTitle:"Title",swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,change:null,pagerSelect:null,dataBinding:!1,dataSource:null,orientation:"horizontal",pagerPosition:{horizontal:"bottom",vertical:"right"},enablePersistence:!1,windows:{renderDefault:!1}},dataTypes:{renderMode:"enum",theme:"enum",showPager:"boolean",pagerPosition:{horizontal:"enum",vertical:"enum"},orientation:"enum",showHeader:"boolean",dataBinding:"boolean",dataSource:"data",enablePersistence:"boolean",windows:{renderDefault:"boolean"}},observables:["currentItemIndex"],currentItemIndex:t.util.valueFunction("currentItemIndex"),_init:function(){this._setValues();this._renderControl();this._wireEvents()},_setValues:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._wrapper=t.getCurrentPage().find("#"+this.model.targetId);this._orgEle=this._wrapper;this._id=this.element.attr("id");this._divCount=this._wrapper.children().length;this._autoHeightWidthValues();this._browser=t.browser();this._startValues()},_autoHeightWidthValues:function(){this._mHeight=this.model.targetHeight=="auto"?this.element.parent().height():parseInt(this.model.targetHeight);this._mWidth=this.model.targetWidth=="auto"?this.element.parent().width():parseInt(this.model.targetWidth)},_topLeftVaules:function(){this.model.renderMode=="android"?this._andSpanVal=(this.model.orientation=="horizontal"?this._mWidth:this._mHeight)/this._divCount:this._spanVal=(this.model.orientation=="horizontal"?this._mWidth:this._mHeight)/2-t.getDimension(this._span,"width")/2;this._span.addClass("e-m-sv-pager"+this.model.pagerPosition[this.model.orientation]+"")},_startValues:function(){this._moveEle=this._divCount>this.currentItemIndex()&&this.currentItemIndex()>=0?-(this.currentItemIndex()*(this.model.orientation=="horizontal"?this._mWidth:this._mHeight)):0;this._divEle=this._moveEle?this.currentItemIndex()+1:1;this._timeStart=0},_transform:function(n,t,i){var r="-"+this._browser+"-transform",u=this.model.orientation=="horizontal"?"translate3d("+n+"px,0px,0px) scale(1)":"translate3d(0px,"+n+"px,0px) scale(1)",f="-"+this._browser+"-transition-property",e="transform",o="-"+this._browser+"-transition-duration",s=t+"ms";i=="pager"?this._span.css(r,u).css(f,e).css(o,s):this._wrapper.css(r,u).css(f,e).css(o,s)},_renderControl:function(){t.setRenderMode(this);this.model.showHeader&&this._renderHeader();this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-rotator e-m-user-select").append(this._wrapper);this.model.dataBinding?this._renderDatabind():this._renderDataProAndtemp()},_renderHeader:function(){this.element.addClass("e-m-rotatorheader");this.header=t.buildTag("div");this.element.append(this.header.ejmHeader({title:this.model.headerTitle,renderMode:this.model.renderMode,position:"normal"}));this.model.renderMode!="flat"&&this.header.ejmHeader({theme:this.model.theme})},_renderDatabind:function(){var n=t.buildTag("script#"+this._id+"_Template",{},{},{type:"text/x-jsrender"}),i=this._wrapper.find(">div"),r;i.remove();r=t.buildTag("div").append(i);n[0].text=r[0].innerHTML;t.getCurrentPage().append(n);this.model.dataSource&&this.renderDatasource(this.model.dataSource)},_renderDataProAndtemp:function(){this._imgTag=this._wrapper.find("div:nth-child(1)").attr("data-ej-imageurl");this._textTag=this._wrapper.find("div:nth-child(1)").attr("data-ej-text");(this._imgTag!=r||this._textTag!=r)&&this._tagCreate();this._scrollItem();this._transform(this._moveEle,350,"");this._renderPager()},_scrollItem:function(){this.element.css({width:""+this._mWidth+"px",height:""+(this._mHeight+this.element.find(".e-m-header").outerHeight())+"px"});this._wrapper.addClass("e-m-sv-container e-m-"+this.model.orientation+"").css({height:""+this._mHeight+"",width:""+this._mWidth+""});this._wrapper.children().addClass("e-m-rot-item")},_tagCreate:function(){for(this._img=!1,this._p=!1,i=1;i<=this._divCount;i++)this._image=this._wrapper.find("div:nth-child("+i+")").attr("data-ej-imageurl"),this._text=this._wrapper.find("div:nth-child("+i+")").attr("data-ej-text"),this._imgTag!=r&&(this._divImage=t.buildTag("div").css({"background-image":"url("+this._image+")","background-position":"center","background-size":"100%","background-repeat":"no-repeat",height:"100%",width:"100%"}),this._img=!0),this._textTag!=r&&(this._para=t.buildTag("p").html(this._text).css({"text-align":"center"}),this._p=!0),this._img==!0&&this._p==!0?this._wrapper.find("div:nth-child("+i+")").append(this._divImage).append(this._para):this._img==!0&&this._p==!1?this._wrapper.find("div:nth-child("+i+")").append(this._divImage):this._img==!1&&this._p==!0&&this._wrapper.find("div:nth-child("+i+")").append(this._para)},_renderPager:function(){if(this._span=t.buildTag("div.e-m-abs e-m-"+this.model.theme+""),this._wrapper.after(this._span),this.model.renderMode!="android"){for(i=0;i<this._divCount;i++)this._span.append(t.buildTag("span.e-m-sv-pager"));this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active")}else this._span.append(t.buildTag("span.e-m-sv-pager e-m-active"));this._pagerPos();this._setShowPager()},_pagerPos:function(){this._topLeftVaules();this.model.renderMode=="android"?(this._spanTrans=(this._divEle-1)*this._andSpanVal,this.model.orientation=="horizontal"?this._span.children().css({width:""+this._andSpanVal+"px"}).fadeOut("slow"):this._span.children().css({height:""+this._andSpanVal+"px"}).fadeOut("slow"),this._transform(this._spanTrans,350,"pager")):this.model.orientation=="horizontal"?this._span.css("left",this._spanVal+"px"):this._span.css("top",this._spanVal+this.element.find(".e-m-header").outerHeight()+"px")},_wireEvents:function(i){this._onMouseDownDelg=n.proxy(this._onMouseDownHandler,this);this._onMouseMoveDelg=n.proxy(this._onMouseMoveHandler,this);this._onMouseUpDelg=n.proxy(this._onMouseUpHandler,this);t.listenTouchEvent(this._wrapper,t.startEvent(),this._onMouseDownDelg,i);(this.model.targetHeight=="auto"||this.model.targetWidth=="auto")&&(this._onOrientationChangeHandler=n.proxy(this._onOrientationChangeHandler,this),this._onResizeEventHandler=n.proxy(this._onResizeEventHandler,this),t.isTouchDevice()?t.listenEvents([window,window],["orientationchange","resize"],[this._onOrientationChangeHandler,this._onResizeEventHandler],i):t.listenTouchEvent(window,"resize",this._onResizeEventHandler,i));this._pagerEvents(i)},_pagerEvents:function(i){this.model.renderMode!="android"&&(this._spanEle=this.element.find("div.e-m-abs").children(),this._onTouchStartDelegate=n.proxy(this._onTouchStartHandler,this),this._onTouchEndDelegate=n.proxy(this._onTouchEndHandler,this),t.listenEvents([this._spanEle,this._spanEle],[t.startEvent(),t.endEvent()],[this._onTouchStartDelegate,this._onTouchEndDelegate],i))},_onTouchStartHandler:function(t){this._index=n(t.currentTarget).index()},_onTouchEndHandler:function(){this._moveEle=-(this._index*(this.model.orientation=="horizontal"?this._mWidth:this._mHeight));this._transform(this._moveEle,350,"");this._span.find(":nth-child("+this._divEle+")").removeClass("e-m-active");this._divEle=this._index+1;this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active");var n={targetElement:this._wrapper,element:this._divEle};this.model.pagerSelect&&this._trigger("pagerselect",n)},_onOrientationChangeHandler:function(n){n.preventDefault();this._orientationAndResize()},_onResizeEventHandler:function(n){n.preventDefault();this._orientationAndResize()},_orientationAndResize:function(){this._autoHeightWidthValues();var n=this.model.orientation=="horizontal"?this._mWidth:this._mHeight;this._moveEle=-(this._divEle*n-n);this._transform(this._moveEle,0,"");this._scrollItem();this._spanTrans=(this._divEle-1)*this._andSpanVal;this._pagerPos()},_onMouseDownHandler:function(n){n.preventDefault();t.isTouchDevice()&&(n=n.changedTouches[0]);this._startX=n.clientX;this._startY=n.clientY;this._timeStart=n.timeStamp||Date.now();t.listenEvents([this._wrapper,this._wrapper],[t.moveEvent(),t.endEvent()],[this._onMouseMoveDelg,this._onMouseUpDelg],!1);this.model.renderMode=="android"&&this._span.children().clearQueue()},_onMouseMoveHandler:function(n){var i,r,u;n.preventDefault();t.isTouchDevice()&&(n=n.changedTouches[0]);this._relativeX=n.clientX-this._startX;this._relativeY=n.clientY-this._startY;this.model.orientation=="horizontal"?(this._start=this._startX,this._relative=this._relativeX,this._distValue=this._mWidth,this._swipeLeftUp="swipeLeft",this._swipeRightDown="swipeRight"):(this._start=this._startY,this._relative=this._relativeY,this._distValue=this._mHeight,this._swipeLeftUp="swipeUp",this._swipeRightDown="swipeDown");this._start!=0&&Math.abs(this._relative)&&(this._relative<0&&this._divEle<this._divCount||this._relative>0&&this._divEle>1?(i=this._moveEle+this._relative,this._transform(i,0,"")):Math.abs(this._relative)<this._distValue/2&&(i=this._moveEle+this._relative,this._transform(i,0,"")));this._start!=0&&this.model.renderMode=="android"&&(r=this._relative/4,(this._relative<0&&this._divEle<this._divCount||this._relative>0&&this._divEle>1)&&(u=this._spanTrans-r),this._transform(u,0,"pager"),this._span.children().css("opacity",1).fadeIn("slow"));t.listenTouchEvent(this._wrapper,"mouseleave",this._onMouseUpDelg,!1)},_onMouseUpHandler:function(n){if(n.preventDefault(),this._timeStart!=0){this._data={targetElement:this._wrapper,element:this._divEle};var u=(n.timeStamp||Date.now())-this._timeStart,r={dist:0,time:0},f=this._relative>0?!0:!1,i=this._relative;u<300&&(r=this._relative?this._momentum(this._relative,u,f?this._relative:-this._relative,this._distValue+this._relative,this._distValue):r,i=this._relative+r.dist);i<0&&Math.abs(i)>this._distValue/2&&this._divEle<this._divCount?(this._moveEle+=-this._distValue,this.model.showPager?this._movePager(!0):(this._divEle++,this._spanTrans=(this._divEle-1)*this._andSpanVal),this._transform(this._moveEle,350,""),(this.model.swipeLeft||this.model.swipeUp)&&this._trigger(this._swipeLeftUp,this._data)):i>0&&Math.abs(i)>this._distValue/2&&this._divEle>1&&(this._moveEle-=-this._distValue,this.model.showPager?this._movePager(!1):(this._divEle--,this._spanTrans=(this._divEle-1)*this._andSpanVal),this._transform(this._moveEle,350,""),(this.model.swipeRight||this.model.swipeDown)&&this._trigger(this._swipeRightDown,this._data));this._transform(this._moveEle,350,"");this.model.renderMode=="android"&&(this._transform(this._spanTrans,350,"pager"),this._span.children().fadeOut("slow"));this._timeStart=0;this._startX=0;this._relativeX=0;this._relative=0;this._start=0;t.listenEvents([this._wrapper,this._wrapper],[t.moveEvent(),t.endEvent()],[this._onMouseMoveDelg,this._onMouseUpDelg],!0)}this.currentItemIndex(this._divEle-1)},_momentum:function(n,t,i,r,u){var o=.0006,e=Math.abs(n)/t,f=e*e/(2*o),h=0,s=0;return n>0&&f>i?(s=u/(6/(f/e*o)),i=i+s,e=e*i/f,f=i):n<0&&f>r&&(s=u/(6/(f/e*o)),r=r+s,e=e*r/f,f=r),f=f*(n<0?-1:1),h=e/o,{dist:f,time:Math.round(h)}},_movePager:function(n){this.model.renderMode!="android"?(this._span.find(":nth-child("+this._divEle+")").removeClass("e-m-active"),this._divEle=n?this._divEle+1:this._divEle-1,this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active"),this._spanTrans=(this._divEle-1)*this._andSpanVal):(this._divEle=n?this._divEle+1:this._divEle-1,this._spanTrans=(this._divEle-1)*this._andSpanVal,this._transform(this._spanTrans,350,"pager"),this._span.children().fadeOut("slow"));this._data={targetElement:this._wrapper,element:this._divEle};this.model.change&&this._trigger("change",this._data)},_setModel:function(n){var r=!1,t,i;for(t in n)(t!="swipeLeft"||t!="swipeRight")&&(i="_set"+t.charAt(0).toUpperCase()+t.slice(1)),this[i]?this[i]():r=!0;r&&this._refresh()},_setRenderMode:function(){this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode+"");this.element.find(".e-m-header").ejmHeader({renderMode:this.model.renderMode});this._pagerEvents(!0);this._span.remove();this._renderPager();this._pagerEvents(!1)},_setTheme:function(){this.element.removeClass("e-m-dark e-m-light").addClass("e-m-"+this.model.theme+"");this._span.removeClass("e-m-dark e-m-light").addClass("e-m-"+this.model.theme+"");this.element.find(".e-m-header").ejmHeader({theme:this.model.theme})},_setShowHeader:function(){this.model.currentItemIndex=this._divEle-1;this._refresh()},_setHeaderTitle:function(){this.element.find(".e-m-header").ejmHeader({title:this.model.headerTitle})},_setShowPager:function(){this.model.showPager?this._span.css("display","block"):this._span.css("display","none")},_setPagerPosition:function(){this._span.removeClass("e-m-sv-pagertop e-m-sv-pagerbottom e-m-sv-pagerleft e-m-sv-pagerright");this._span.addClass("e-m-sv-pager"+this.model.pagerPosition[this.model.orientation]+"")},_setOrientation:function(){this.model.currentItemIndex=this._divEle-1;this._refresh()},_setCurrentItemIndex:function(){this.model.renderMode!="android"&&this._span.find(":nth-child("+this._divEle+")").removeClass("e-m-active");this._startValues();this._transform(this._moveEle,1e3,"");this._spanTrans=(this._divEle-1)*this._andSpanVal;this.model.renderMode!="android"?this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active"):this._transform(this._spanTrans,350,"pager")},_refresh:function(){this._destroy();this._init()},_destroy:function(){this._wireEvents(!0);this._wrapper.children().removeAttr("class style");this.element.removeAttr("class style").children().removeAttr("class style").remove();this._span.remove();App.activePage.append(this._orgEle)},renderDatasource:function(t){var i=n.templates("#"+this._id+"_Template"),r=i.render(t);this._wrapper.html(r);this._divCount=this._wrapper.children().length;this._scrollItem();this._transform(this._moveEle,350,"");this._renderPager();this._wireEvents()}});t.mobile.Rotator.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.mobile.Rotator.PagerPositionHorizontal={Bottom:"bottom",Top:"top"};t.mobile.Rotator.PagerPositionVertical={Right:"right",Left:"left"}}(jQuery,Syncfusion);Scrollbar.prototype={_createDelegates:function(){this._touchStartDelegate=$.proxy(this._touchStart,this);this._touchMoveDelegate=$.proxy(this._touchMove,this);this._touchEndDelegate=$.proxy(this._touchEnd,this)},_wireEvents:function(n){target=this.scroller.model.bindToWrapper?this.scroller._wrapper:window;$.support.hasTouch&&!this.model.disableTouch&&ej.listenEvents([this.scroller._wrapper,target,target],["touchstart","touchcancel","touchend"],[this._scrollStartDelegate,this.scrollEndDelegate,this.scrollEndDelegate],n);this.model.enableInteraction&&(this.model.disableTouch||ej.listenEvents([this._sb._wrapper,window,window],["touchstart","touchcancel","touchend"],[this._touchStartDelegate,this._touchEndDelegate,this._touchEndDelegate],n),this.model.disablePointer||ej.listenEvents([this._sb._wrapper,window],["MSPointerDown","MSPointerUp"],[this._touchStartDelegate,this._touchEndDelegate],n),this.model.disableMouse||ej.listenEvents([this._sb._wrapper,window],["mousedown","mouseup"],[this._touchStartDelegate,this._touchEndDelegate],n))},_touchStart:function(n){var t=n.touches?n.touches[0]:n;ej.blockDefaultActions(n);this.transitionTime();this._startedScroll=!0;this._moved=!1;this._lastPointX=t.pageX;this._lastPointY=t.pageY;this._startTime=ej.getTime();this.model.disableTouch||ej.listenTouchEvent(window,"touchmove",this._touchMoveDelegate);this.model.disablePointer||ej.listenTouchEvent(window,"MSPointerMove",this._touchMoveDelegate);this.model.disableMouse||ej.listenTouchEvent(window,"mousemove",this._touchMoveDelegate)},_touchMove:function(n){ej.blockDefaultActions(n);var t=n.touches?n.touches[0]:n,i,r,u,f,e=ej.getTime();this._moved||this.scroller._triggerEvent("scrollStart");this._moved=!0;i=t.pageX-this._lastPointX;this._lastPointX=t.pageX;r=t.pageY-this._lastPointY;this._lastPointY=t.pageY;u=this._x+i;f=this._y+r;this._pos(u,f)},_touchEnd:function(n){if(this._startedScroll){if(this._startedScroll=!1,ej.blockDefaultActions(n),ej.listenEvents([window,window,window],["touchmove","MSPointerMove","mousemove"],[this._touchMoveDelegate,this._touchMoveDelegate,this._touchMoveDelegate],!0),this.scroller.model.snap){var t=this.scroller._nearestSnap(this.scroller._x,this.scroller._y),i=this.model.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller._x-t.x),1e3),Math.min(Math.abs(this.scroller._y-t.y),1e3)),300);(this.scroller._x!=t.x||this.scroller._y!=t.y)&&(this.scroller._directionX=0,this.scroller._directionY=0,this.scroller._currentPage=t,this.scroller.scrollTo(t.x,t.y,i,this.scroller.model.bounceEasing))}this._moved&&this.scroller._triggerEvent("scrollEnd")}},_pos:function(n,t){n<0?n=0:n>this._maxPosX&&(n=this._maxPosX);t<0?t=0:t>this._maxPosY&&(t=this._maxPosY);n=this.model.listenX?Math.round(n/this._sizeRatioX):this.scroller._x;t=this.model.listenY?Math.round(t/this._sizeRatioY):this.scroller._y;this.scroller.scrollTo(n,t)},enableFade:function(n,t){if(!t||this._visible){clearTimeout(this._fadeTimeout);this._fadeTimeout=null;var r=n?250:500,i=this,u=n?0:300;n=n?"1":"0";this._sbStyle[ej.transitionDuration]=r+"ms";this._fadeTimeout=setTimeout(function(n){i._sbStyle.opacity=n;i._visible=+n}.bind(this,n),u)}},destroy:function(){this.model.enableInteraction&&this._wireEvents(!0)},transitionTime:function(n){n=n||0;this._sbStyle[ej.transitionDuration]=n+"ms";!n&&ej.isLowerAndroid()&&(this._sbStyle[ej.transitionDuration]="0.001s")},transitionTimingFunction:function(n){this._sbStyle[ej.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this._sbStyle.display=this.model.listenX&&!this.model.listenY?this.scroller._hasHScroll?"block":"none":this.model.listenY&&!this.model.listenX?this.scroller._hasVScroll?"block":"none":this.scroller._hasHScroll||this.scroller._hasVScroll?"block":"none";this.model.listenX&&(this._wrpWd=this._wrapper.clientWidth,this.model.enableResize?(this._sbWidth=Math.max(Math.round(this._wrpWd*this._wrpWd/(this.scroller._scrollerWidth||this._wrpWd||1)),8),this._sbStyle.width=this._sbWidth+"px"):this._sbWidth=this._sb.clientWidth,this._maxPosX=this._wrpWd-this._sbWidth,this.model.enableShrink=="clip"?(this._minBoundaryX=-this._sbWidth+8,this._maxBoundaryX=this._wrpWd-8):(this._minBoundaryX=0,this._maxBoundaryX=this._maxPosX),this._sizeRatioX=this.model.speedRatioX||this.scroller._maxScrollX&&this._maxPosX/this.scroller._maxScrollX);this.model.listenY&&(this._wrpHt=this._wrapper.clientHeight,this.model.enableResize?(this._sbHeight=Math.max(Math.round(this._wrpHt*this._wrpHt/(this.scroller._scrollerHeight||this._wrpHt||1)),8),this._sbStyle.height=this._sbHeight+"px"):this._sbHeight=this._sb.clientHeight,this._maxPosY=this._wrpHt-this._sbHeight,this.model.enableShrink=="clip"?(this._minBoundaryY=-this._sbHeight+8,this._maxBoundaryY=this._wrpHt-8):(this._minBoundaryY=0,this._maxBoundaryY=this._maxPosY),this._sizeRatioY=this.model.speedRatioY||this.scroller._maxScrollY&&this._maxPosY/this.scroller._maxScrollY);this.setPosition()},setPosition:function(){var n=this.model.listenX&&Math.round(this._sizeRatioX*this.scroller._x)||0,i=this,t=this.model.listenY&&Math.round(this._sizeRatioY*this.scroller._y)||0;this.model.ignoreBoundaries||(n<this._minBoundaryX?(this.model.enableShrink=="scale"&&(this._width=Math.max(this._sbWidth+n,8),this._sbStyle.width=this._width+"px"),n=this._minBoundaryX):n>this._maxBoundaryX?this.model.enableShrink=="scale"?(this._width=Math.max(this._sbWidth-(n-this._maxPosX),8),this._sbStyle.width=this._width+"px",n=this._maxPosX+this._sbWidth-this.width):n=this._maxBoundaryX:this.model.enableShrink=="scale"&&this._width!=this._sbWidth&&(this._width=this._sbWidth,this._sbStyle.width=this._width+"px"),t<this._minBoundaryY?(this.model.enableShrink=="scale"&&(this._height=Math.max(this._sbHeight+t*3,8),this._sbStyle.height=this._height+"px"),t=this._minBoundaryY):t>this._maxBoundaryY?this.model.enableShrink=="scale"?(this._height=Math.max(this._sbHeight-(t-this._maxPosY)*3,8),this._sbStyle.height=this._height+"px",t=this._maxPosY+this._sbHeight-this._height):t=this._maxBoundaryY:this.model.enableShrink=="scale"&&this._height!=this._sbHeight&&(this._height=this._sbHeight,this._sbStyle.height=this._height+"px"));$(this._wrapper).hasClass("e-m-ver")?n=0:t=0;this._x=n;this._y=t;this.scroller.model.enableTransform?this._sbStyle[ej.transform]="translate("+n+"px,"+t+"px)"+this.scroller.model.translateZ:(this._sbStyle.left=n+"px",this._sbStyle.top=t+"px")}},function(n,t,i){nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,1)}}();cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();t.widget("ejmScrollPanel","ej.mobile.ScrollPanel",{_setFirst:!0,_rootCSS:"e-m-scroll",defaults:{renderMode:"auto",theme:"auto",enableResize:!0,targetHeight:null,targetWidth:null,scrollHeight:null,scrollWidth:null,enableFade:!0,enableShrink:t.isWindows()?!1:"scale",autoAdjustHeight:!0,isRelative:!0,wheelSpeed:16,enableInteraction:!0,enabled:!0,checkDOMChanges:!1,enableHrScroll:t.isWindows()&&!t.isMobile()?!0:!1,enableVrScroll:!0,eventPassthrough:null,translateZ:t.browserInfo().name=="msie"?"":n.support.has3d?" translateZ(0)":"",zoomMin:1,zoomMax:6,adjustFixedPosition:!0,startZoom:1,startX:0,startY:0,enableDisplacement:!1,displacementValue:94,displacementTime:800,deceleration:null,disablePointer:!1,disableMouse:!1,disableTouch:!1,directionLockThreshold:5,momentum:!0,enableBounce:t.isAndroid()?!1:!0,bounceTime:450,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},enableTransition:!0,enableTransform:!0,showScrollbars:!0,enableMouseWheel:!0,enableKeys:!0,enableZoom:!1,enableNativeScrolling:t.isAndroid()&&t.isLowerAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1,invertWheel:!1,enablePersistence:!1,scrollStart:null,scroll:null,scrollEnd:null,zoomStart:null,zoomEnd:null},dataTypes:{},_init:function(){if(t.setRenderMode(this),t.setTheme(this),this.model.enableDisplacement&&t.isWindows()&&(this.model.deceleration=6e-5),this._eventType={touchstart:1,touchmove:1,touchend:1,ejtouchmove:3,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3,pointerdown:3,pointermove:3,pointerup:3},this._scrollEvents={scrollEnd:[this.model.scrollEnd],scroll:[this.model.scroll],scrollStart:[this.model.scrollStart],zoomStart:[this.model.zoomStart],zoomEnd:[this.model.zoomEnd]},this._scale=Math.min(Math.max(this.model.startZoom,this.model.zoomMin),this.model.zoomMax),this._wrapper=typeof this.model.target=="string"?n("#"+this.model.target)[0]:this.model.target,this._scroller=this._wrapper.children[0],this._aniTime=null,this._createDelegates(),this._wireEvents(),this._$wrapper=n(this._wrapper),n(this._wrapper).addClass("e-m-scrollpanel"),n(this.element).addClass("e-m-scroll"),this.model.enableNativeScrolling)this.refresh(),this._$wrapper.addClass("e-m-scroll-native e-m-scroll-wrapper"),(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&n(this._scroller).addClass("e-m-scroll-content"),this._scroller[t.transform]="translate3d(0px,0px,0)",(this._hasVScroll||this._maxScrollY!=0)&&(this._hasHScroll||this._maxScrollX!=0)||this.model.renderMode!="ios7"||this._$wrapper.addClass("e-m-scroll-box"),this.model.showScrollbars||this._$wrapper.addClass("e-m-scroll-hide"),this.model.enableZoom||this._$wrapper.addClass("e-m-zoom");else{var i=this;n(this._wrapper).css("overflow","hidden");this._scrollerStyle=this._scroller.style;this.model.enableTransition=n.support.hasTransition&&this.model.enableTransition;this.model.enableTransform=n.support.hasTransform&&this.model.enableTransform;this.model.eventPassthrough=this.model.eventPassthrough===!0?"vertical":this.model.eventPassthrough;this.model.preventDefault=!this.model.eventPassthrough&&this.model.preventDefault;this.model.enableVrScroll=this.model.eventPassthrough=="vertical"?!1:this.model.enableVrScroll;this.model.enableHrScroll=this.model.eventPassthrough=="horizontal"?!1:this.model.enableHrScroll;this.model.directionLockThreshold=this.model.eventPassthrough?0:this.model.directionLockThreshold;this.model.invertWheel=this.model.invertWheel?-1:1;this.model.isRelative&&n(this._wrapper).css("position","relative");this._x=0;this._y=0;this._directionX=0;this._directionY=0;this._startX=0;this._startY=0;this.model.enableZoom&&(this._scrollerStyle[t.transformOrigin]="0 0");this.model.showScrollbars&&this._initScrollbars();this.model.enableMouseWheel&&this._initWheel();this.model.enableKeys&&this._initKeys();this.refresh();this.scrollTo(this.model.startX,this.model.startY);this.model.checkDOMChanges&&(this._checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))}},_dataValue:function(){return data={x:this.model.enableNativeScrolling?this._nx:this._x,y:this.model.enableNativeScrolling?this._ny:this._y,object:this}},_transitionEnd:function(n){n.target==this._scroller&&this._isInTransition&&(this._transitionTime(),this.resetPosition(this.model.bounceTime)||(this._isInTransition=!1,this._moved=!1,this._triggerEvent("scrollEnd",this._dataValue())))},_touchStart:function(i){if(!(n(i.target).parents(".e-m-scrollpanel").length>1)||n(i.target).closest(".e-m-scrollpanel")[0]==this._wrapper){var r=i.touches?i.touches[0]:i,u;if(t.listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler,this._touchEndHandler],!1,this.model.disableMouse),this.model.enableNativeScrolling){this._moved=!1;(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&(startY=r.pageY,startTopScroll=this._wrapper.scrollTop,startTopScroll<=0&&(this._wrapper.scrollTop=1),startTopScroll+this._wrapper.offsetHeight>=this._wrapper.scrollHeight&&(this._wrapper.scrollTop=this._wrapper.scrollHeight-this._wrapper.offsetHeight-1));return}(this._eventType[i.type]==1||i.button===0)&&this.model.enabled&&(!this._startedScroll||this._eventType[i.type]===this._startedScroll)&&(!this.model.preventDefault||t.isDevice()||t._preventDefaultException(i.target,this.model.preventDefaultException)||i.preventDefault(),this.model.preventDefault&&this._moved&&t.blockDefaultActions(i),this._startedScroll=this._eventType[i.type],this._distX=0,this._distY=0,this._directionX=0,this._directionY=0,this._lockedDir=0,this._transitionTime(),this._startTime=this._getTime(),this.model.enableTransition&&this._isInTransition?(this._isInTransition=!1,u=this.getComputedPosition(),this._translate(Math.round(u.x),Math.round(u.y)),this._triggerEvent("scrollEnd",this._dataValue())):!this.model.enableTransition&&this._animating&&(cancelFrame(this._aniTime),this._steps=[],this._animating=!1,this._translate(this._wrapper.scrollLeft,this._wrapper.scrollTop),this._triggerEvent("scrollEnd",this._dataValue())),this._moved=!1,this._startX=this._x,this._startY=this._y,this._absStartX=this._x,this._absStartY=this._y,this._pointX=r.pageX,this._pointY=r.pageY,this.model.enableZoom&&i.touches&&i.touches.length>1&&this._zoomStart(i))}},_scrollStart:function(){this._moved=!1;this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scrollStart",this._dataValue())},_touchMove:function(n){if(!this.model.enableNativeScrolling&&this.model.enabled&&this._eventType[n.type]===this._startedScroll){if(this.model.preventDefault&&n.preventDefault(),this.model.enableZoom&&n.touches&&n.touches[1]){this._zoom(n);return}var f=n.touches?n.touches[0]:n,t=f.pageX-this._pointX,i=f.pageY-this._pointY,s=this._getTime(),r,u,e,o;if(this._pointX=f.pageX,this._pointY=f.pageY,this._distX+=t,this._distY+=i,e=Math.abs(this._distX),o=Math.abs(this._distY),!(s-this._endTime>300)||!(e<10)||!(o<10)){if(this._lockedDir||(this._lockedDir=e>o+this.model.directionLockThreshold?"horizontal":o>=e+this.model.directionLockThreshold?"vertical":"none"),this._lockedDir=="horizontal"){if(this.model.eventPassthrough=="vertical")n.preventDefault();else if(this.model.eventPassthrough=="horizontal"){this._startedScroll=!1;return}i=0}else if(this._lockedDir=="vertical"){if(this.model.eventPassthrough=="horizontal")n.preventDefault();else if(this.model.eventPassthrough=="vertical"){this._startedScroll=!1;return}t=0}t=this.model.enableHrScroll||this._hasHScroll?t:0;i=this.model.enableVrScroll||this._hasVScroll?i:0;r=this._x+t;u=this._y+i;(r>0||r<this._maxScrollX)&&(r=this.model.enableBounce?this._x+t/3:r>0?0:this._maxScrollX);(u>0||u<this._maxScrollY)&&(u=this.model.enableBounce?this._y+i/3:u>0?0:this._maxScrollY);this._directionX=t>0?-1:t<0?1:0;this._directionY=i>0?-1:i<0?1:0;this._moved||this._triggerEvent("scrollStart",this._dataValue());this._moved=!0;this._translate(r,u);s-this._startTime>300&&(this._startTime=s,this._startX=this._x,this._startY=this._y);this._moved&&this._triggerEvent("scroll",this._dataValue())}}},_scroll:function(){this._moved=!0;this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scroll",this._dataValue())},_touchEnd:function(n){if(t.listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler,this._touchEndHandler],!0,this.model.disableMouse),this.model.enabled&&this._eventType[n.type]===this._startedScroll){if(!this.model.preventDefault||t.isDevice()||t._preventDefaultException(n.target,this.model.preventDefaultException)||n.preventDefault(),this.model.enableNativeScrolling&&this._moved){t.blockDefaultActions(n);this._moved=!1;return}if(this._scaled){this._zoomEnd(n);return}var h=n.changedTouches?n.changedTouches[0]:n,f,e,o=this._getTime()-this._startTime,i=Math.round(this._x),r=Math.round(this._y),c=Math.abs(i-this._startX),l=Math.abs(r-this._startY),u=0,s="";if(this._isInTransition=0,this._startedScroll=0,this._endTime=this._getTime(),!this.resetPosition(this.model.bounceTime)){if(this.model.momentum&&o<500&&(f=this._hasHScroll?t._nativeMomentum(this._x,this._startX,o,this._maxScrollX,this.model.enableBounce?this._wrpWd:0,this.model.deceleration,t.isWindows()?10:1):{dest:i,duration:0},e=this._hasVScroll?t._nativeMomentum(this._y,this._startY,o,this._maxScrollY,this.model.enableBounce?this._wrpHt:0,this.model.deceleration,t.isWindows()?10:1):{dest:r,duration:0},i=f.dest,r=e.dest,u=Math.max(f.duration,e.duration),this._isInTransition=1),this.model.displacementValue&&this.model.enableDisplacement&&(r=this.model.displacementValue*Math.round(r/this.model.displacementValue),i=this.model.displacementValue*Math.round(i/this.model.displacementValue),u<this.model.displacementTime&&(u=this.model.diplacementTime)),r<this._maxScrollY&&(r=this._maxScrollY),i<this._maxScrollX&&(i=this._maxScrollX),i!=this._x||r!=this._y){(i>0||i<this._maxScrollX||r>0||r<this._maxScrollY)&&(s=t.ease.quadratic);this.scrollTo(i,r,u,s);return}this._moved=!1;this._triggerEvent("scrollEnd",this._dataValue())}}},_scrollStop:function(){this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scrollEnd",this._dataValue())},_zoomStart:function(n){var t=Math.abs(n.touches[0].pageX-n.touches[1].pageX),i=Math.abs(n.touches[0].pageY-n.touches[1].pageY);this._touchesDistanceStart=Math.sqrt(t*t+i*i);this._startScale=this._scale;this._originX=Math.abs(n.touches[0].pageX+n.touches[1].pageX)/2+this._wrapperOffset.left-this._x;this._originY=Math.abs(n.touches[0].pageY+n.touches[1].pageY)/2+this._wrapperOffset.top-this._y;this._triggerEvent("zoomStart",this._dataValue())},_zoom:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){this.model.preventDefault&&n.preventDefault();var r=Math.abs(n.touches[0].pageX-n.touches[1].pageX),u=Math.abs(n.touches[0].pageY-n.touches[1].pageY),o=Math.sqrt(r*r+u*u),t=1/this._touchesDistanceStart*o*this._startScale,i,f,e;this._scaled=!0;t<this.model.zoomMin?t=.5*this.model.zoomMin*Math.pow(2,t/this.model.zoomMin):t>this.model.zoomMax&&(t=2*this.model.zoomMax*Math.pow(.5,this.model.zoomMax/t));i=t/this._startScale;f=this._originX-this._originX*i+this._startX;e=this._originY-this._originY*i+this._startY;this._scale=t;this.scrollTo(f,e,0)}},_zoomEnd:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){this.model.preventDefault&&n.preventDefault();var t,i,r;this._isInTransition=0;this._startedScroll=0;this._scale>this.model.zoomMax?this._scale=this.model.zoomMax:this._scale<this.model.zoomMin&&(this._scale=this.model.zoomMin);this.refresh();r=this._scale/this._startScale;t=this._originX-this._originX*r+this._startX;i=this._originY-this._originY*r+this._startY;t>0?t=0:t<this._maxScrollX&&(t=this._maxScrollX);i>0?i=0:i<this._maxScrollY&&(i=this._maxScrollY);(this._x!=t||this._y!=i)&&this.scrollTo(t,i,this.model.bounceTime);this._scaled=!1;this._triggerEvent("zoomEnd",this._dataValue())}},_resize:function(){if(this._$wrapper.is(":visible")){var n=this;clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(function(){n.refresh()},t.isAndroid()?200:0)}},_checkDOMChanges:function(){this._moved||this._animating||this._scrollerWidth==this._scroller.scrollWidth*this._scale&&this._scrollerHeight==this._scroller.scrollHeight*this._scale||(this.model.isFixedPosition=!1,this.refresh())},_scrollable:function(){return n(this._wrapper).map(function(){var t=this,r=!t.nodeName||n.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1,i;return r?(i=(t.contentWindow||t).document||t.ownerDocument||t,/webkit/i.test(navigator.userAgent)||i.compatMode=="BackCompat"?i.body:i.documentElement):t})},_both:function(t){return n.isFunction(t)||typeof t=="object"?t:{top:t,left:t}},_scrollTo:function(t,i,r){var u=this;return typeof i=="object"&&(r=i,i=0),typeof r=="function"&&(r={onAfter:r}),t=="max"&&(t=9e9),r=n.extend({},{axis:"xy",duration:0,limit:!0},r),i=i||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(i/=2),r.offset=this._both(r.offset),r.over=this._both(r.over),this._scrollable().each(function(){function l(n){s.animate(e,i,r.easing,n&&function(){n.call(this,f,r)})}var c;if(t!=null){var o=this,s=n(o),f=t,h,e={},a=s.is("html,body");switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=this._both(f);break}if(f=n(f,this),!f.length)return;case"object":(f.is||f.style)&&(h=(f=n(f)).offset())}c=n.isFunction(r.offset)&&r.offset(o,f)||r.offset;n.each(r.axis.split(""),function(n,t){var p=t=="x"?"Left":"Top",v=p.toLowerCase(),i="scroll"+p,w=o[i],b=u._scrollToMax(o,t),y;h?(e[i]=h[v]+(a?0:w-s.offset()[v]),r.margin&&(e[i]-=parseInt(f.css("margin"+p))||0,e[i]-=parseInt(f.css("border"+p+"Width"))||0),e[i]+=c[v]||0,r.over[v]&&(e[i]+=f[t=="x"?"width":"height"]()*r.over[v])):(y=f[v],e[i]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*b:y);r.limit&&/^\d+$/.test(e[i])&&(e[i]=e[i]<=0?0:Math.min(e[i],b));!n&&r.queue&&(w!=e[i]&&l(r.onAfterFirst),delete e[i])});l(r.onAfter)}}).end()},_scrollToMax:function(t,i){var r=i=="x"?"Width":"Height",u="scroll"+r;if(!n(t).is("html,body"))return t[u]-n(t)[r.toLowerCase()]();var f="client"+r,e=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(e[u],o[u])-Math.min(e[f],o[f])},_transitionTime:function(n){if((!t.getAndroidVersion()||!(t.getAndroidVersion()<=4))&&(n=n||0,this._scrollerStyle[t.transitionDuration]=n+"ms",this._scrollbars))for(var i=this._scrollbars.length;i--;)this._scrollbars[i].transitionTime(n)},_transitionTimingFunction:function(n){if(this._scrollerStyle[t.transitionTimingFunction]=n,this._scrollbars)for(var i=this._scrollbars.length;i--;)this._scrollbars[i].transitionTimingFunction(n)},_translate:function(i,r){if(this.model.enableTransform?this._scrollerStyle[t.transform]="translate3d("+i+"px,"+r+"px,0) scale("+this._scale+")"+this.model.translateZ:(n(this._wrapper).scrollTop(Math.abs(r)),n(this._wrapper).scrollLeft(Math.abs(i))),this._x=i,this._y=this.model.enableTransform?r:-Math.abs(r),this._scrollbars)for(var u=this._scrollbars.length;u--;)this._scrollbars[u].setPosition()},_createDelegates:function(){this._resizeHandler=n.proxy(this._resize,this);this._touchStartHandler=n.proxy(this._touchStart,this);this._touchMoveHandler=n.proxy(this._touchMove,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._transitionEndHandler=n.proxy(this._transitionEnd,this);this._scrollStartHandler=n.proxy(this._scrollStart,this);this._scrollHandler=n.proxy(this._scroll,this);this._scrollStopHandler=n.proxy(this._scrollStop,this);this._wheelDelegate=n.proxy(this._wheel,this)},_isWinrt:function(){return!this.model.enableTransform&&t.isWindows()&&!t.isMobile()},_wireEvents:function(i){var r=i?"off":"on",u=!t.isDevice()&&!t.isTouchDevice()?"resize":"orientationchange";t.listenEvents([window],[u],[this._resizeHandler],i);this.model.disableTouch||t.listenEvents([this._wrapper],[t.startEvent()],[this._touchStartHandler],i,this.model.disableMouse);this.model.enableNativeScrolling&&(n(this._wrapper)[r]("scrollstart",this._scrollStartHandler),n(this._wrapper)[r]("scroll",this._scrollHandler),n(this._wrapper)[r]("scrollstop",this._scrollStopHandler));t.listenTouchEvent(this._scroller,t.transitionEndEvent(),this._transitionEndHandler,i)},_initScrollbars:function(){var i=this.model.enableInteraction,n=[],t,r;for(this._scrollbars=[],this.model.showScrollbars&&(this.model.enableVrScroll&&(t={el:this._createDefaultScrollbar("vertical",i,this.model.showScrollbars),enableInteraction:i,enableShrink:this.model.enableShrink,enableFade:this.model.enableFade,enableResize:this.model.enableResize,listenX:!1},this._wrapper.appendChild(t.el),n.push(t)),this.model.enableHrScroll&&(t={el:this._createDefaultScrollbar("horizontal",i,this.model.showScrollbars),enableInteraction:i,enableShrink:this.model.enableShrink,enableFade:this.model.enableFade,enableResize:this.model.enableResize,listenY:!1},this._wrapper.appendChild(t.el),n.push(t))),this.model.showScrollbars&&(n=n.concat()),r=n.length;r--;)this._scrollbars[r]=new Scrollbar(this,n[r]);if(this.model.enableFade){this.on("scrollEnd",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade()});this.on("scrollCancel",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade()});this.on("scrollStart",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade(1)})}this.on("refresh",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].refresh()});this.on("destroy",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].destroy();delete this._scrollbars})},_triggerEvent:function(n,t){if(this._scrollEvents[n]){var i=0,r=this._scrollEvents[n].length;if(r)for(;i<r;i++)this._triggerInternalEvent(this._scrollEvents[n][i],n,t,this)}},_triggerInternalEvent:function(i,r,u){if(i){var f=i;return typeof f=="string"&&(f=t.util.getObject(f,window)),r=n.Event(r),r.type=i,args=t.event(r,this.model,u),!(n.isFunction(f)&&f.call(this,args)===!1||r.isDefaultPrevented())}},_initWheel:function(){var n=this;this._bindWheelEvents();this.on("destroy",function(){n._bindWheelEvents(remove)})},_bindWheelEvents:function(n){t.listenEvents([this._wrapper,this._wrapper],["mouseWheel","DOMMouseScroll"],[this._wheelDelegate,this._wheelDelegate],n)},_wheel:function(n){if(this.model.enabled){n.preventDefault();var r,t,u,f,e=this;if(this.wheelTimeout===i&&this._triggerEvent("scrollStart",this._dataValue()),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._triggerEvent("scrollEnd",e._dataValue())},400),"deltaX"in n)r=-n.deltaX,t=-n.deltaY;else if("wheelDeltaX"in n)r=n.wheelDeltaX/120,t=n.wheelDeltaY/120;else if("wheelDelta"in n)r=t=n.wheelDelta/120;else if("detail"in n)r=t=-n.detail/3;else return;r*=this.model.wheelSpeed;t*=this.model.wheelSpeed;this._hasVScroll||(r=t,t=0);u=this._x+Math.round(this._hasHScroll?r*this.model.invertWheel:0);f=this._y+Math.round(this._hasVScroll?t*this.model.invertWheel:0);u>0?u=0:u<this._maxScrollX&&(u=this._maxScrollX);f>0?f=0:f<this._maxScrollY&&(f=this._maxScrollY);this.scrollTo(u,f,0)}},_initKeys:function(){var u={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i,r;if(typeof this.model.enableKeys=="object")for(i in this.model.enableKeys)typeof this.model.enableKeys[i]=="string"&&(this.mdoel.enableKeys[i]=this.model.enableKeys[i].toUpperCase().charCodeAt(0));else this.model.enableKeys={};for(i in u)this.model.enableKeys[i]=this.model.enableKeys[i]||u[i];r=n.proxy(this._keyPress,this);t.listenTouchEvent(window,"keydown",r);this.on("destroy",function(){t.listenTouchEvent(window,"keydown",r,!0)})},_startAni:function(){var n=this,i=this._startX,r=this._startY,e=Date.now(),t,u,f,n=this;if(!this._animating){if(!this._steps.length){this.resetPosition(400);return}t=this._steps.shift();t.x==i&&t.y==r&&(t.time=0);this._animating=!0;this._moved=!0;f=function(){var o=Date.now(),s,h;if(o>=e+t.time){n._translate(t.x,t.y);n._animating=!1;n._moved=!1;n.model.scrollEnd&&n._triggerEvent("scrollEnd",n._dataValue());n._startAni();return}o=(o-e)/t.time-1;u=Math.sqrt(1-o*o);s=(t.x-i)*u+i;h=(t.y-r)*u+r;n._translate(s,h);n._animating&&(n._aniTime=nextFrame(f))};f()}},_keyPress:function(n){if(this.model.enabled){var t=this._x,i=this._y,u=this._getTime(),f=this._keyTime||0,r;this.model.enableTransition&&this._isInTransition&&(r=this.getComputedPosition(),this._translate(Math.round(r.x),Math.round(r.y)),this._isInTransition=!1);this._keyAcc=u-f<200?Math.min(this._keyAcc+.25,50):0;switch(n.keyCode){case this.model.enableKeys.pageUp:this._hasHScroll&&!this._hasVScroll?t+=this._wrpWd:i+=this._wrpHt;break;case this.model.enableKeys.pageDown:this._hasHScroll&&!this._hasVScroll?t-=this._wrpWd:i-=this._wrpHt;break;case this.model.enableKeys.end:t=this._maxScrollX;i=this._maxScrollY;break;case this.model.enableKeys.home:t=0;i=0;break;case this.model.enableKeys.left:t+=5+this._keyAcc>>0;break;case this.model.enableKeys.up:i+=5+this._keyAcc>>0;break;case this.model.enableKeys.right:t-=5+this._keyAcc>>0;break;case this.model.enableKeys.down:i-=5+this._keyAcc>>0;break;default:return}t>0?(t=0,this.keyAcceleration=0):t<this._maxScrollX&&(t=this._maxScrollX,this._keyAcc=0);i>0?(i=0,this._keyAcc=0):i<this._maxScrollY&&(i=this._maxScrollY,this._keyAcc=0);this.scrollTo(t,i,0);this._keyTime=u}},_setModel:function(){this._refresh()},_refresh:function(){this._destroy();this._init();this._wireEvents()},_clearElement:function(){this._sbw&&this._sbw.remove();this.element.removeAttr("class");var t=typeof this.model.target=="string"?n("#"+this.model.target)[0]:this.model.target;n(t).removeAttr("style");n(n(t).children()[0]).removeAttr("style")},_destroy:function(){this._wireEvents(!0);this._clearElement()},_getTime:function(){return Date.now()},resetPosition:function(n){if(!this.model.enableNativeScrolling&&this.model.enableTransform){var t=this._x,i=this._y;return(n=n||0,!this._hasHScroll||this._x>0?t=0:this._x<this._maxScrollX&&(t=this._maxScrollX),!this._hasVScroll||this._y>0?i=0:this._y<this._maxScrollY&&(i=this._maxScrollY),t==this._x&&i==this._y)?!1:(this.scrollTo(t,i,n,this.model.bounceEasing),!0)}},scrollToElement:function(t,r,u,f,e){if(t=t.nodeType?t:this._scroller.querySelector(t),t){var o=n(t).offset();o.left-=this._wrapperOffset.left;o.top-=this._wrapperOffset.top;u===!0&&(u=Math.round(t.offsetWidth/2-this._wrapper.offsetWidth/2));f===!0&&(f=Math.round(t.offsetHeight/2-this._wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this._maxScrollX?this_.maxScrollX:o.left;o.top=o.top>0?0:o.top<this._maxScrollY?this._maxScrollY:o.top;r=r===i||r===null||r==="auto"?Math.max(Math.abs(this._x-o.left),Math.abs(this._y-o.top)):r;this.scrollTo(o.left,o.top,r,e)}},on:function(n,t){this._scrollEvents[n]||(this._scrollEvents[n]=[]);this._scrollEvents[n].push(t)},_createDefaultScrollbar:function(n,i,r){return this._sbw=t.buildTag("div.e-m-sbw e-m-"+this.model.renderMode+" e-m-"+this.model.theme),sb=t.buildTag("div.e-m-sb"),n=="horizontal"&&r?this._sbw.addClass("e-m-hr"):n=="vertical"&&r&&this._sbw.addClass("e-m-ver"),i||(this._sbw[0].style.pointerEvents="none"),this._sbw.append(sb),this._sbw[0]},zoom:function(n,t,r,u){if(n<this.model.zoomMin?n=this.model.zoomMin:n>this.model.zoomMax&&(n=this.model.zoomMax),n!=this._scale){var f=n/this._scale;t=t===i?this._wrpWd/2:t;r=r===i?this._wrpHt/2:r;u=u===i?300:u;t=t+this._wrapperOffset.left-this._x;r=r+this._wrapperOffset.top-this._y;t=t-t*f+this._x;r=r-r*f+this._y;this._scale=n;this.refresh();t>0?t=0:t<this._maxScrollX&&(t=this._maxScrollX);r>0?r=0:r<this._maxScrollY&&(r=this._maxScrollY);this.scrollTo(t,r,u)}},disable:function(){this.model.enabled=!1},enable:function(){this.model.enabled=!0},refresh:function(){var r=this._wrapper.offsetHeight,i=t.getCurrentPage();this.model.adjustFixedPosition&&(i.find(".e-m-header.e-m-fixed:visible").length&&(n(this._wrapper).offset().top==0&&n(this._wrapper).css("margin-top",i.find(".e-m-header.e-m-fixed:visible").height()),this.model.isFixedPosition=!0,this._footerHeight=0),i.find(".e-m-tb.e-m-android.e-m-fixed:visible").length>0&&(n(this._wrapper).offset().top==0&&n(this._wrapper).css("margin-top",i.find(".e-m-tb.e-m-android.e-m-fixed:visible").height()),this.model.isFixedPosition=!0,this._footerHeight=0),(i.find(".e-m-footer.e-m-fixed:visible").length>0||i.find(".e-m-footer:visible").length&&!n(this._wrapper).find(".e-m-footer:visible").length)&&(this._footerHeight=i.find(".e-m-footer:visible").height(),this.model.isFixedPosition=!0),i.find(".e-m-tab.e-m-ios7.e-m-fixed:visible").length>0||i.find(".e-m-tab.e-m-ios7:visible").length&&!n(this._wrapper).find(".e-m-tab.e-m-ios7:visible").length?(this._footerHeight=i.find(".e-m-tab.e-m-ios7:visible").height(),this.model.isFixedPosition=!0):i.find(".e-m-tab.e-m-fixed:visible").length&&(n(this._wrapper).offset().top==0&&n(this._wrapper).css("margin-top",i.find(".e-m-tab.e-m-fixed:visible").height()),this.model.isFixedPosition=!0,this._footerHeight=0),(i.find(".e-m-tb.e-m-windows.e-m-fixed,.e-m-tb.e-m-ios7.e-m-fixed:visible").length>0||i.find(".e-m-tb.e-m-windows:visible,.e-m-tb.e-m-ios7:visible").length&&!n(this._wrapper).find(".e-m-tb.e-m-windows:visible,.e-m-tb.e-m-ios7:visible").length)&&(this._footerHeight=i.find(".e-m-tb.e-m-windows:visible,.e-m-tb.e-m-ios7:visible").height(),this.model.isFixedPosition=!0));this.model.targetHeight?n(this._wrapper).height(this.model.targetHeight):this.model.autoAdjustHeight&&n(this._wrapper).height(window.innerHeight-n(this._wrapper).offset().top-parseInt(n(this._wrapper).css("margin-bottom"))-(this.model.isFixedPosition?this._footerHeight:0)-parseInt(n(this._wrapper).css("padding-top"))-parseInt(n(this._wrapper).css("padding-bottom")));this.model.targetWidth&&n(this._wrapper).width(this.model.targetWidth);this.model.scrollWidth&&n(this._scroller).width(this.model.scrollWidth);this.model.scrollHeight&&n(this._scroller).height(this.model.scrollHeight);this._wrpWd=this._wrapper.clientWidth;this._wrpHt=this.model.autoAdjustHeight?n(this._wrapper).height():this._wrapper.clientHeight;this._scrollerWidth=this._scroller.scrollWidth*this._scale;this._scrollerHeight=this._scroller.scrollHeight*this._scale;this._maxScrollX=this._wrpWd-this._scrollerWidth;this._maxScrollY=this._wrpHt-this._scrollerHeight;this._hasHScroll=this.model.enableHrScroll&&this._maxScrollX<0;this._hasVScroll=this.model.enableVrScroll&&this._maxScrollY<0;this._hasHScroll||(this._maxScrollX=0,this._scrollerWidth=this._wrpWd);this._hasVScroll||(this._maxScrollY=0,this._scrollerHeight=this._wrpHt);this._endTime=0;this._directionX=0;this._directionY=0;this._wrapperOffset=n(this._wrapper).offset();this._triggerEvent("refresh",this._dataValue());this.model.showScrollbars||this._$wrapper.addClass("e-m-hidescrollbar");this.model.enableNativeScrolling&&(this._hasHScroll&&this._hasVScroll?this._$wrapper.css("overflow","auto"):this._hasVScroll?this._$wrapper.css("overflow-y","auto"):this._hasHScroll?this._$wrapper.css("overflow-x","auto"):this.model.renderMode=="windows"&&!t.isMobile()?this._$wrapper.css("overflow","scroll"):this._$wrapper.css("overflow","auto"));this.resetPosition()},scrollBy:function(n,t,i,r){n=this._x+n;t=this._y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(i,r,u,f,e){var h=this,o,s,c;if(this.model.enableNativeScrolling)this._nx=i,this._ny=r,this._scrollTo({top:r,left:i},u,{queue:!0,easing:0,onAfter:function(){h._nx=n(h._wrapper).scrollLeft();h._ny=n(h._wrapper).scrollTop()}});else if(e=e||t.ease.circular,this.model.enableTransition&&e.style)this._isInTransition=this.model.enableTransition&&u>0,this._transitionTimingFunction(e.style),this._transitionTime(u),this._translate(i,r);else{if(this._x==i&&this._y==r)return;for(o=i,this.stop(),o.length||(o=[{x:i,y:r,time:u,relative:f}]),s=0,c=o.length;s<c;s++)o[s].relative&&(o[s].x=this._x-o[s].x,o[s].y=this._y-o[s].y),this._steps.push({x:o[s].x,y:o[s].y,time:o[s].time||0});this._startAni()}},getComputedPosition:function(){var n=window.getComputedStyle(this._scroller,null),i,r;return this.model.enableTransform?(n=n[t.transform].split(")")[0].split(", "),i=+(n[12]||n[4]),r=+(n[13]||n[5])):(i=+n.left.replace(/[^-\d.]/g,""),r=+n.top.replace(/[^-\d.]/g,"")),{x:i,y:r}},stop:function(){cancelFrame(this._aniTime);this._steps=[];this._moved=!1;this._animating=!1},getScrollPosition:function(){return{x:this.model.enableNativeScrolling?this._nx:this._x,y:this.model.enableNativeScrolling?this._ny:this._y}}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmSlider","ej.mobile.slider",{_setFirst:!0,_rootCSS:"e-m-slider",defaults:{theme:"auto",orientation:"horizontal",maxValue:100,minValue:0,enableRange:!1,values:[20,80],enableAnimation:!1,animationSpeed:400,readOnly:!1,incrementStep:1,value:0,enabled:!0,enablePersistence:!1,touchStart:null,touchEnd:null,change:null,slide:null,load:null,windows:{renderDefault:!1},ios7:{thumbStyle:"normal"},renderMode:"auto"},dataTypes:{theme:"enum",orientation:"enum",enableRange:"boolean",thumbStyle:"enum",enableAnimation:"boolean",enabled:"boolean",renderMode:"enum",values:"array",enablePersistence:"boolean"},observables:["value"],observableArray:["values"],value:t.util.valueFunction("value"),values:t.util.valueFunction("values"),_init:function(){this._cloneElement=this.element.clone();this._load();t.setRenderMode(this);t.setTheme(this);this._renderControl();this._initObjects();this.model.readOnly||this._wireEvents(!1)},_renderControl:function(){var n=this.model,r,i,u;this.model.enabled||this.element.addClass("e-m-state-disabled");this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");this._sliderHandle=t.buildTag("div .e-m-slider-outer");this._selectedRegion=t.buildTag("div .e-m-slider-inner").appendTo(this._sliderHandle);this._dragHandle=this.model.renderMode=="ios7"&&this.model.ios7.thumbStyle=="small"?t.buildTag("div .e-m-slider-handleout e-m-small-handle e-m-slider-left ").appendTo(this._sliderHandle):t.buildTag("div .e-m-slider-handleout e-m-slider-left ").appendTo(this._sliderHandle);r=t.buildTag("div .e-m-slider-handlein").appendTo(this._dragHandle);n.enableRange&&(i=this.model.renderMode=="ios7"&&this.model.ios7.thumbStyle=="small"?t.buildTag("div .e-m-slider-handleout e-m-small-handle e-m-slider-right"):t.buildTag("div .e-m-slider-handleout e-m-slider-right"),u=t.buildTag("div .e-m-slider-handlein").appendTo(i),i.appendTo(this._sliderHandle));this.element.addClass("e-m-"+n.orientation+" e-m-"+n.theme).addClass("e-m-slider e-m-"+n.renderMode).append(this._sliderHandle);this.element.append(t.buildTag("input ",{},{},{type:"hidden",name:"sliderValue"}));this._dragHandle=this.element.find(".e-m-slider-handleout");this._inputValue=this.element.find("input");this._wrapperDiv=this.element;this._currentValue=this.value();this["_"+n.orientation+"RenderMode"]()},_horizontalRenderMode:function(){this._setOrientationProperties("width","left")},_verticalRenderMode:function(){this._setOrientationProperties("height","bottom")},_setOrientationProperties:function(t,i){var r=this.model;r.enableRange?(this.values()[0]<=this.values()[1]?(this.values()[0]=this.values()[0]<r.minValue&&this.values()[0]<=r.maxValue?r.minValue:this.values()[0],this.values()[1]=this.values()[1]>=r.minValue&&this.values()[1]>r.maxValue?r.maxValue:this.values()[1]):this.values()[1]=this.values()[0],this._selectedRegion.css(i,parseFloat((this.values()[0]-r.minValue)/(r.maxValue-r.minValue)*100)+"%").css(t,parseFloat((this.values()[1]-r.minValue)/(r.maxValue-r.minValue)*100)-parseFloat((this.values()[0]-r.minValue)/(r.maxValue-r.minValue)*100)+"%"),n(this._dragHandle[0]).css(i,parseFloat((this.values()[0]-r.minValue)/(r.maxValue-r.minValue)*100)+"%"),n(this._dragHandle[1]).css(i,parseFloat((this.values()[1]-r.minValue)/(r.maxValue-r.minValue)*100)+"%")):(this.value(this.value()<r.minValue?r.minValue:this.value()),this.value(this.value()>r.maxValue?r.maxValue:this.value()),this._selectedRegion.css(t,parseFloat((this.value()-r.minValue)/(r.maxValue-r.minValue)*100)+"%"),this._dragHandle.css(i,parseFloat((this.value()-r.minValue)/(r.maxValue-r.minValue)*100)+"%"))},_initObjects:function(){this._createDelegates()},_createDelegates:function(){this._mouseDownHandler=n.proxy(this._onMouseDownHandler,this);this._mouseMoveHandler=n.proxy(this._onMouseMove,this);this._mouseUpHandler=n.proxy(this._onMouseUp,this);this._destroyHandler=n.proxy(this._destroy,this)},_onMouseDownHandler:function(i){var u,o,f,r,e;if(t.blockDefaultActions(i),i=t.isTouchDevice()?i.changedTouches[0]:i,!this.model.enabled)return!1;jQuery.fx.off=!1;this.sliderClick=i;this.model.enableRange||this._dragHandle.addClass("e-m-state-active");t.listenEvents([document,document],[t.moveEvent(),t.endEvent()],[this._mouseMoveHandler,this._mouseUpHandler],!1);o={x:i.pageX,y:i.pageY};f=this._getNormalValue(o);this._currentValue=f;r=this;e=this.model.maxValue-this.model.minValue+1;n(this._dragHandle).each(function(t){var i=Math.abs(f-r._getNewValues(t));e>=i&&r._getNewValues(0)!=r._getNewValues(1)&&(e=i,r._closestHandle=n(this),u=t)});n(this.model.enableRange?this._closestHandle:this._dragHandle).removeClass("e-m-state-hover").addClass("e-m-state-active");this._start(i,u);this.model.enableRange&&(this._setZindex(),r._getNewValues(0)==r._getNewValues(1)&&(r._closestHandle=n(this),u=this._handlingIndex),this._setRangeValueProperties(i,u))},_setZindex:function(){this._dragHandle.css("z-index",0);this._closestHandle.css("z-index",5)},_setRangeValueProperties:function(t,i){var f=[],u=[],e,o,s=this.values()[i],r;for(this._closestHandle=n(this._dragHandle[i]),this._handlingIndex=i,r=0;r<this.values().length;r++)r!=i&&u.push(this.values()[r]),f.push(this.values()[r]);for(r=0;r<u.length;r++)if(s>=u[r]){this._closestLeftValue=u[r];break}else if(s<=u[r]){this._closestRightValue=u[r];break}return o=f[0],e=f[f.length-1],o!=e?s<=o?this._closestLeftValue=this.model.minValue:s>=e&&(this._closestRightValue=this.model.maxValue):o==e&&(this._closestHandle.hasClass("e-m-slider-left")?this._closestLeftValue=this.model.minValue:this._closestHandle.hasClass("e-m-slider-right")&&(this._closestRightValue=this.model.maxValue)),t.preventDefault&&t.preventDefault(),!0},_onMouseMove:function(i){if(t.blockDefaultActions(i),i=t.isTouchDevice()?i.changedTouches[0]:i,!this.model.enabled)return!1;jQuery.fx.off=!0;this.element.css("cursor","pointer");var u={x:i.pageX,y:i.pageY},r=this._getNormalValue(u);this._currentValue=r;this.model.enableRange?this._slide(i,r,this._handlingIndex):this._slide(i,r);n(this.model.enableRange?this._closestHandle:this._dragHandle).addClass("e-m-state-active");i.preventDefault&&i.preventDefault()},_onMouseUp:function(i){if(t.blockDefaultActions(i),i=t.isTouchDevice()?i.changedTouches[0]:i,!this.model.enabled)return!1;jQuery.fx.off=!1;t.listenEvents([document,document],[t.moveEvent(),t.endEvent()],[this._mouseMoveHandler,this._mouseUpHandler],!0);this._mouseMoveStarted&&(this._mouseMoveStarted=!1,i.target==this.sliderClick.target&&n.data(i.target,this.model.sliderId+".preventClickEvent",!0));this.element.css("cursor","default");var u={x:i.pageX,y:i.pageY},r=this._getNormalValue(u);return this.model.enableRange?this._slide(i,r,this._handlingIndex):this._slide(i,r),this._stop(i,this._handlingIndex),this._change(i,this._handlingIndex),n(this.model.enableRange?this._closestHandle:this._dragHandle).removeClass("e-m-state-hover").removeClass("e-m-state-active"),!1},_getNewValues:function(n){return this.model.enableRange?this._trimValue(this.values()[n]):this.value()},_getCurrentValue:function(n,t){return this.model.enableRange?(this.values()[t]=this._trimValue(n),this.value(this.values()[t])):(this.value(this._trimValue(n)),this._currentValue=n),this._refreshValue(),this._trimValue(this.value())},_refreshValue:function(){var r=this.model.enableAnimation?"animate":"css",u,t,i;this.model.enableRange?(u=this.values()[0]+","+this.values()[1],this._inputValue.val(u)):this._inputValue.val(this._currentValue);correctedPercent=this._dragHandle.width()/2/this._dragHandle.parent().width()*100;this.model.enableRange?this._rangeRefreshProperties():(t=this.model.minValue!=this.model.maxValue?(this.value()-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100:0,i=t-this._dragHandle.width()/n(this._dragHandle.parent()).width()*100,i<0&&(i=t),this.model.orientation=="horizontal"?this._rangeRefreshOrientationProperties({width:t+"%"},{left:t+"%"},this.model.animationSpeed,r):this._rangeRefreshOrientationProperties({height:t+"%"},{bottom:t+"%"},this.model.animationSpeed,r))},_rangeRefreshProperties:function(){var r=this,t=this.model.enableAnimation?"animate":"css",i=this.model.animationSpeed,f=(this.values()[1]-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100,u=(this.values()[0]-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100;this.model.orientation=="horizontal"?this._selectedRegion[t]({left:u+"%"},i)[t]({width:f-u+"%"},i):this._selectedRegion[t]({bottom:u+"%"},i)[t]({height:f-u+"%"},i);this._dragHandle.each(function(u){percentValue=(r.values()[u]-r.model.minValue)/(r.model.maxValue-r.model.minValue)*100;handlePercent=percentValue-n(this).width()/n(n(this).parent()).width()*100;handlePercent<0&&(handlePercent=percentValue);r.model.orientation=="horizontal"?n(this)[t]({left:percentValue+"%"},i):n(this)[t]({bottom:percentValue+"%"},i);lastPercentValue=percentValue})},_rangeRefreshOrientationProperties:function(n,t,i,r){this._selectedRegion[r](n,i);this._dragHandle[r](t,i)},_getNormalValue:function(n){var i,t,r,u;return this.model.orientation=="vertical"?(i=n.y-this._sliderHandle.offset().top,t=i/this._sliderHandle[0].offsetHeight):(i=n.x-this._sliderHandle.offset().left,t=i/this._sliderHandle[0].offsetWidth),this.model.orientation=="vertical"&&(t=1-t),r=this.model.maxValue-this.model.minValue,u=this.model.minValue+t*r,this._trimValue(u)},_trimValue:function(n){this.model.enableRange||(n<this.model.minValue?n=this.model.minValue:n>this.model.maxValue&&(n=this.model.maxValue));var t=this.model.incrementStep>0?this.model.incrementStep:1,i=(n-this.model.minValue)%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_slide:function(n,t,i){var u,r;this.model.enableRange?t!=this._getCurrentValue()&&(this.value(t),t<this._closestLeftValue?t=this._closestLeftValue:t>this._closestRightValue&&(t=this._closestRightValue),t!=this._getNewValues(i)&&(u=this._getCurrentValue(t,i),u[i]=t,r={value:this.value(),values:this.values()},this.values([this.values()[0],this.values()[1]]),this._triggerSlide(r,t,this._getNewValues(i),i))):t!=this.value()&&(this._getCurrentValue(t),r={value:this.value(),values:this.values()},this._triggerSlide(r,t,this.value()))},_triggerSlide:function(n,t,i,r){this.model.slide&&this._trigger("slide",n);this._getCurrentValue(t,r);this.prevValue=this._getNewValues(r)},_load:function(){var n=this.model.enableRange?{values:this._getNewValues()}:{value:this.value()};this.model.load&&this._trigger("load",n)},_start:function(n,t){var i={value:this.value(),values:this.values()};this.model.enableRange?(i._getCurrentValue=this._getNewValues(t),i.values=this._getNewValues()):(i._getCurrentValue=this.value(),i.value=this.value());this.model.touchStart&&this._trigger("touchStart",i)},_stop:function(n,t){var i={value:this.value(),values:this.values()};this.model.enableRange?(i._getCurrentValue=this._getNewValues(t),i.values=this._getNewValues()):(i._getCurrentValue=this.value(),i.value=this.value());this.model.touchEnd&&this._trigger("touchEnd",i)},_change:function(n,t){var i={value:this.value(),values:this.values()};this.model.enableRange?(i._getCurrentValue=this._getNewValues(t),i.values=this._getNewValues()):(i._getCurrentValue=this.value(),i.value=this.value());this.model.change&&this._trigger("change",i)},_wireEvents:function(i){t.listenEvents([this._sliderHandle,this.element,n(window)],[t.startEvent(),t.startEvent(),"unload"],[this._mouseDownHandler,this._mouseDownHandler,this._destroyHandler],i)},_setRenderMode:function(n){this.model.enabled&&(this.model.renderMode=n,n=="auto"&&t.setRenderMode(this),this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode))},_setTheme:function(n){this.model.enabled&&(this.model.theme=n,this.element.removeClass("e-m-dark e-m-light").addClass("e-m-"+n))},_validateValue:function(){this.model.enabled&&(this.model.enableRange||this["_"+this.model.orientation+"RenderMode"]())},_validateRangeValue:function(){this["_"+this.model.orientation+"RenderMode"]();this.values()[0]==this.values()[1]&&(this.model.maxValue==this.values()[1]?this._setRangeValueProperties("",0):this._setRangeValueProperties("",1))},_disable:function(){this.model.enabled=!1;this.element.addClass("e-m-state-disabled");this._wireEvents(!0)},_enable:function(){this.model.enabled=!0;this.element.removeClass("e-m-state-disabled");this._wireEvents()},_enableAnimation:function(n){this.model.enabled&&(this.model.enableAnimation=n)},_refresh:function(){this.model.enabled&&(this._clearElements(),this._renderControl(),this._wireEvents(!1))},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this._setTheme(n.theme);break;case"orientation":this._refresh();break;case"value":this._validateValue(n.value);break;case"values":this.model.enableRange&&this.model.enabled&&this._validateRangeValue(n.values);break;case"enabled":n.enabled?this._enable():this._disable();break;case"enableRange":this._refresh();break;case"minValue":this.model.minValue=n.minValue;break;case"maxValue":this.model.maxValue=n.maxValue;break;case"enableAnimation":this._enableAnimation(n.enableAnimation);break;case"readOnly":n.readOnly?this._wireEvents(!0):this._wireEvents(!1)}},_destroy:function(){this._cloneElement.insertBefore(this.element);this.element.remove()},_clearElements:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html("")},getValue:function(){return this.model.enableRange?this.values()[0]+","+this.values()[1]:this._trimValue(this.value())},dispose:function(){return this._destroy()}});t.mobile.slider.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.mobile.slider.ThumbStyle={Normal:"normal",Small:"small"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmToolbar","ej.mobile.Toolbar",{_setFirst:!0,_rootCSS:"e-m-tb",defaults:{theme:"auto",renderMode:"auto",touchStart:null,touchEnd:null,items:[],templateId:null,enabled:!0,hide:!1,position:"fixed",enablePersistence:!1,android:{showBackNavigator:!1,showTitleIcon:!1,enableSplitView:!1,titleIconUrl:"",showEllipsis:!1,title:"Title"},windows:{renderDefault:!1}},dataTypes:{theme:"enum",renderMode:"enum",position:"enum",enablePersistence:"boolean",android:{showBackNavigator:"boolean",enableSplitView:"boolean",showTitleIcon:"boolean",showEllipsis:"boolean"}},_init:function(){this.model.id=this.element[0].id;this._renderControl();this._wireEvents(!1)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this._orgEle=this.element.clone();this.element.addClass("e-m-user-select");this.model.enabled||(this.element.addClass("e-m-state-disabled"),this._wireEvents(!0));this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");this._isMobile=t.isMobile()?!0:!1;this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme);this._toolbarContainer=t.buildTag("div.e-m-tbcontainer");this["_"+this.model.renderMode+"ToolbarItems"]();t.isMobile()&&this.model.renderMode!="android"||this.model.renderMode=="windows"||this.model.renderMode=="flat"?this.model.position="fixed":this.model.position=="normal"?this.element.closest("div#"+this.model.id).css("position","relative"):"";this.model.position=="fixed"&&(this.model.renderMode=="windows"?App.activePage.append(this.element):App.activeSubPage?App.activeSubPage.append(this.element):App.activePage.append(this.element),this.element.addClass("e-m-fixed"));this.model.hide&&this.element.find(".e-m-tbcontainer").addClass("e-m-state-hide")},_androidToolbarItems:function(){var r=t.buildTag("div .e-m-backactionbar"),u=this.element.attr("id"),e,o,n,f;u=u==i?"sample":this.element.attr("id");e=t.buildTag("div.e-m-fontimage e-m-backicon e-m-showback-"+this.model.android.showBackNavigator).appendTo(r);o=t.buildTag("img.e-m-titleicon e-m-showtitle-"+this.model.android.showTitleIcon,{},{},{src:this.model.android.titleIconUrl}).appendTo(r);this._backActionBar=r;n=this._isMobile&&this.model.android.enableSplitView?t.buildTag("div#"+u+"-overflow").addClass("e-m-fontimage e-m-splitview e-m-ellipsis e-m-showellipsis-"+this.model.android.showEllipsis):t.buildTag("div#"+u+"-overflow").addClass("e-m-fontimage e-m-ellipsis e-m-showellipsis-"+this.model.android.showEllipsis);this._createUlContainer();this.model.templateId!=""&&this.model.templateId!=i?(this._templateProperty(),this._isMobile&&this.model.android.enableSplitView?(f=t.buildTag("div.e-m-splitviewcontainer").append(n).append(this._ulcontainer),this.element.append(this._toolbarContainer.append(this._templateContainer).append(f))):this.element.append(this._toolbarContainer.append(this._templateContainer).append(n).append(this._ulcontainer))):(this._titlecontainer=t.buildTag("div.e-m-titlecontainer"),this._titlecontainer.append(r).append(t.buildTag("span.e-m-title-text",this.model.android.title)),this._isMobile&&this.model.android.enableSplitView?(f=t.buildTag("div.e-m-splitviewcontainer").append(n).append(this._ulcontainer),this.element.append(this._toolbarContainer.append(this._titlecontainer).append(f))):this.element.append(this._toolbarContainer.append(this._titlecontainer).append(n).append(this._ulcontainer)));this._ellipsis=n;this._androidOrientationProperties();this._isMobile&&this.model.android.enableSplitView&&this._orgEle.find("li").length<=3?this._ellipsis.removeClass("e-m-showellipsis-true").addClass("e-m-showellipsis-false"):this._isMobile&&this.model.android.enableSplitView&&this.element.find("ul").css("width","80%");this._Menucontainer!=i&&(this._Menucontainer.find("li").length==0?this._ellipsis.removeClass("e-m-showellipsis-true").addClass("e-m-showellipsis-false"):"");this._isMenuOpened=!1},_templateProperty:function(){if(this._templateContainer=t.buildTag("div.e-m-templatecontainer"),t.getCurrentPage().find("#"+this.model.templateId).length){var n=t.getCurrentPage().find("#"+this.model.templateId);this.model.renderMode=="android"&&this._templateContainer.append(this._backActionBar).append(t.buildTag("div.e-m-titletemplate"));this._templateContainer.append(n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n)}},_ios7ToolbarItems:function(){this._createUlContainer();this.model.templateId!=""&&this.model.templateId!=i?(this._templateProperty(),this.element.append(this._toolbarContainer.append(this._templateContainer).append(this._ulcontainer))):this.element.append(this._toolbarContainer.append(this._ulcontainer))},_renderLiContainer:function(r,u){var f=t.buildTag("div.e-m-tbicondiv"),e=t.getAttrVal(u,"data-ej-iconname"),o=e.replace(/ /g,"").toLowerCase(),h=t.getAttrVal(u,"data-ej-text"),s;t.isMobile()&&this.model.android.enableSplitView?n(u).addClass("e-m-splitview e-m-toolbaritem e-m-"+this.model.renderMode+"-"+o):n(u).addClass("e-m-toolbaritem e-m-"+this.model.renderMode+"-"+o);s=this.model.iconUrl=t.getAttrVal(u,"data-ej-iconurl");u==i&&(e="add");this.model.iconUrl!=i?f.append(t.buildTag("div.e-m-tbicon e-m-"+this.model.renderMode+"-"+o).css("background-image","url('"+s+"')").css("background-repeat","no-repeat").css("background-position","center")):f.append(t.buildTag("div.e-m-fontimage e-m-tbicon e-m-"+this.model.renderMode+"-"+o));this._isMobile?f.append(t.buildTag("div.e-m-tbiconblock tbiconblock-unselected",e.toLowerCase())):f.append(t.buildTag("div.e-m-tbiconblock ",e));this._currentItem=n(u).append(f)},_createUlContainer:function(){this._liClone=this.element.find("li").clone();this._ulcontainer=this._isMobile&&this.model.android.enableSplitView?this.element.find("ul").addClass("e-m-splitview e-m-tbulcontainer e-m-clearall"):this.element.find("ul").addClass("e-m-tbulcontainer e-m-clearall");this.model.renderMode=="windows"&&this._isMobile&&this._ulcontainer.length==0&&(this._ulcontainer=t.buildTag("ul").addClass("e-m-tbulcontainer"));this.model.renderMode=="windows"&&this._isMobile&&n(this.element.find("li")).length>4&&(this._ellipsisMenu=t.buildTag("div",t.buildTag("ul",n(n(n(this.element.find("li")).get(3)).nextAll()))));this._toolbarLiElements=this._ulcontainer.find("li");var i=this;this._toolbarLiElements.each(function(n,t){i._renderLiContainer(n,t)});this.model.renderMode!="android"&&this._ulcontainer.append(this._toolbarLiElements)},_androidOrientationProperties:function(){this.element.find("li").length>1&&(this._isMobile&&!this.model.android.enableSplitView?this.element.find("li").length<3?this._ellipsis.removeClass("e-m-showellipsis-true").addClass("e-m-showellipsis-false"):(this._overFlowContainer(2),n(n(this._ulcontainer.find("li").get(1)).show()).nextAll().remove(),this.model.android.showEllipsis&&this._ellipsis.removeClass("e-m-showellipsis-false").addClass("e-m-showellipsis-true")):(this._isMobile&&this.model.android.enableSplitView||!this._isMobile)&&(this.model.android.enableSplitView&&this.element.find("li").length<=3?(this._ellipsis.removeClass("e-m-showellipsis-true").addClass("e-m-showellipsis-false"),n(this._ulcontainer.find("li").get(2)).show()):(this._overFlowContainer(3),n(n(this._ulcontainer.find("li").get(2)).show()).nextAll().remove(),this.model.android.showEllipsis&&this._ellipsis.removeClass("e-m-showellipsis-false").addClass("e-m-showellipsis-true"))))},_overFlowContainer:function(r){var s=this.element.find("li").length,f=this.element.attr("id"),e,o,u;if(this._androidMenuId=f,f=f==i?"sample":this.element.attr("id"),r<=s){for(this._Menucontainer=t.buildTag("div#"+this.model.id+"_menu").addClass("e-m-ellipsiscontainer"),e=t.buildTag("ul").addClass("e-m-ulitem"),this._tbMenuItems=this._liClone,o=this,u=r;u<s;u++)o.model.iconName=t.getAttrVal(this._tbMenuItems[u],"data-ej-iconname").toLowerCase(),n(this._tbMenuItems[u]).attr("data-ej-text",o.model.iconName),e.append(this._tbMenuItems[u]);this._Menucontainer.append(e).ejmMenu({targetId:""+f+"-overflow",renderMode:"android",android:{type:"popup"},theme:this.model.theme,touchStart:this.model.touchStart,touchEnd:this.model.touchEnd})}},_windowsToolbarItems:function(){this._createUlContainer();this._ellipsisLi=t.buildTag("li.e-m-toolbaritem-ellipsis").append(t.buildTag("div.e-m-fontimage e-m-ellipsis e-m-"+this.model.renderMode+"-overflow"));this._isPortrait=t.isPortrait()?!0:!1;this._createMenuContainer();this.model.templateId!=""&&this.model.templateId!=i?(this._templateProperty(),this.element.append(this._toolbarContainer.append(this._templateContainer).append(this._ulcontainer.append(this._ellipsisLi)))):this._ellipsisMenu?(this._ellipsisContainer=this.element.find("div.e-m-ellipsiscontainer"),this.element.append(this._toolbarContainer.append(this._ulcontainer.append(this._ellipsisLi)).append(this._ellipsisContainer))):this.element.append(this._toolbarContainer.append(this._ulcontainer.append(this._ellipsisLi)));this._isMenuOpened=!1},_createMenuContainer:function(){var i,r;this._ellipsisMenu&&(this._Menucontainer=this._ellipsisMenu.addClass("e-m-ellipsiscontainer e-m-menuitemcontainer-hide"),this.model.renderMode=="windows"&&this._Menucontainer.length>0&&(i=this._Menucontainer.find("ul").addClass("e-m-clearall"),this._tbMenuItems=i.find("li").addClass("e-m-menuitem e-m-menumode-"+(this._isPortrait?"portrait":"landscape")),r=this,this._tbMenuItems.each(function(i,u){r.model.iconName=t.getAttrVal(u,"data-ej-iconname").toLowerCase();var f=t.buildTag("div",r.model.iconName);n(u).append(f)}),this.scrollWrapper=t.buildTag("div#scrollwrapper"),this.scrollWrapper.ejmScrollPanel({target:this._ellipsisMenu[0],targetHeight:this._tbMenuItems.length>1?"100":"50",adjustFixedPosition:!1}),this.element.append(this._Menucontainer.append(this.scrollWrapper.append(i.append(this._tbMenuItems))))))},_winrtToolbarItems:function(){this._createUlContainer();this.model.templateId!=""&&this.model.templateId!=i?(this._templateProperty(),this.element.append(this._toolbarContainer.append(this._templateContainer).append(this._ulcontainer))):this.element.append(this._toolbarContainer.append(this._ulcontainer))},_flatToolbarItems:function(){this._winrtToolbarItems()},_createDelegates:function(){this._orientationChangedDelegate=n.proxy(this._orientationChangedHandler,this);this._touchStartDelegate=n.proxy(this._touchStartHandler,this);this._touchEndDelegate=n.proxy(this._touchEndHandler,this);this._documentTouchDelegate=n.proxy(this._documentTouchHandler,this);this._windowsResizeDelegate=n.proxy(this._windowResizeHandler,this);this._touchMoveDelegate=n.proxy(this._touchMoveHandler,this)},_touchStartHandler:function(r){var u=n(r.target),f;this.model.renderMode=="windows"&&(u.hasClass("e-m-toolbaritem-ellipsis")||u.hasClass("e-m-ellipsis"))?this._touchMethods("ellipsis","Start",r):this.model.renderMode=="android"?u.parent().hasClass("e-m-backactionbar")?this._touchMethods("back","Start",r):u.hasClass("e-m-ellipsis")?this._touchMethods("ellipsis","Start",r):u.hasClass("e-m-toolbaritem")||this._touchMethods(i,"Start",r):u.hasClass("e-m-toolbaritem")||this._touchMethods(i,"Start",r);this._touchStarted=!0;t.listenEvents([document],[t.moveEvent()],[this._touchMoveDelegate],!1);targetName=u.next("div.e-m-tbiconblock").html();this.model.renderMode=="android"&&(u.hasClass("e-m-backicon")?targetName="back":u.hasClass("e-m-ellipsis")&&(targetName="overflow"));f={item:u,itemname:targetName};this.model.touchStart&&this._trigger("touchStart",f)},_touchEndHandler:function(i){var r=n(i.target),u;this._touchEndProperties(i);n(i.target).parent().hasClass("e-m-backactionbar")&&(n(".e-m-backactionbar").removeClass("active"),history.back());this._touchStarted=!1;targetName=r.next("div.e-m-tbiconblock").html();this.model.renderMode=="android"&&(r.hasClass("e-m-backicon")?targetName="back":r.hasClass("e-m-ellipsis")&&(targetName="overflow"));u={item:r,itemname:targetName};this.model.touchEnd&&this._trigger("touchEnd",u);t.listenEvents([document],[t.moveEvent()],[this._touchMoveDelegate],!0)},_touchEndProperties:function(t){var r=n(t.target);this.model.renderMode=="windows"&&(r.hasClass("e-m-toolbaritem-ellipsis")||r.hasClass("e-m-ellipsis"))?this._touchMethods("ellipsis","End",t):this.model.renderMode=="android"?r.hasClass("e-m-backicon")?this._touchMethods("back","End",t):r.hasClass("e-m-ellipsis")?this._touchMethods("ellipsis","End",t):r.hasClass("e-m-toolbaritem")||this._touchMethods(i,"End",t):r.hasClass("e-m-toolbaritem")||this._touchMethods(i,"End",t);this._touchStarted=!1},_touchMethods:function(r,u,f){var o,s,e=n(f.target);r==i?(o=n(f.target.parentElement).hasClass("e-m-menuitem")?n(f.target.parentElement):e.closest("li.e-m-toolbaritem"),s=t.getAttrVal(o,"data-ej-touch"+u.toLowerCase(),u=="Start"?this.model.touchStart:this.model.touchEnd)):(o=this.model.renderMode=="windows"?e.hasClass("e-m-ellipsis")?e.closest("div.e-m-ellipsis"):e.find("div.e-m-ellipsis"):e.closest("div.e-m-"+r+(r=="back"?"actionbar":"")),s=t.getAttrVal(this.element,"data-ej-android-"+r+(r=="back"?"actionbar":"")+"touch"+u.toLowerCase()));this._isMobile&&this.model.android.enableSplitView&&(e.hasClass("e-m-ellipsis")||e.hasClass("e-m-backicon")||(o=o.find("div.e-m-tbicondiv")));this["_"+(u=="Start"?"add":"remove")+"Selection"](o)},_menuEvent:function(i,r){if(this.model.renderMode=="windows"){if(this._ellipsisMenu)i=="show"?this.element.css("height",this._tbMenuItems.length>1?"170px":"120px"):this.element.css("height","50px"),this._Menucontainer.hasClass("e-m-menuitemcontainer-"+r)&&(this._Menucontainer.addClass("e-m-menuitemcontainer-"+i).removeClass("e-m-menuitemcontainer-"+r),this._isPortrait?this["_"+i+"PortraitMenuAnimation"]():this["_"+i+"HorizontalMenuAnimation"]()),this.scrollWrapper.ejmScrollPanel("refresh");else{i=="show"?this.element.css("height","70px"):this.element.css("height","50px");var u=i=="show"?"selected":"unselected",f=u=="selected"?"unselected":"selected",e=t.getCurrentPage().find("div.e-m-tbiconblock");n(e).hasClass("tbiconblock-"+f)&&n(e).addClass("tbiconblock-"+u).removeClass("tbiconblock-"+f)}i=="show"?this.element.find("div.e-m-tbiconblock").css("padding-top","4px"):this.element.find("div.e-m-tbiconblock").css("padding-top","10px")}this._isMenuOpened=i=="show"?!0:!1;this._preventDocEnd=this._isMenuOpened},_touchMoveHandler:function(t){this._touchMoved=!0;var i=n(t.target);this.model.renderMode=="android"?n(t.target).hasClass("e-m-showellipsis-true active")?n(t.target).removeClass("active"):n(t.target).parent("div.e-m-backactionbar").hasClass("active")?n(t.target).parent("div.e-m-backactionbar").removeClass("active"):n(t.target).parents("li.e-m-toolbaritem").removeClass("active"):n(t.target).hasClass("tbicon-selected")&&n(t.target).removeClass("tbicon-selected")},_windowResizeHandler:function(){if(this.model.renderMode=="ios7"&&this._isMobile){var n=window.innerWidth/this._toolbarLiElements.length;this._toolbarLiElements.css("width",n).css("max-width",n)}},_documentTouchHandler:function(){this._preventDocEnd||this.model.renderMode!="windows"||this._isMenuOpened&&this.hideMenu();this._preventDocEnd=!1},_orientationChangedHandler:function(){this.model.renderMode=="windows"&&this._isMenuOpened&&this._isMobile&&(this.hideMenu(),this._isPortrait=t.isPortrait()?!0:!1,this._tbMenuItems.removeClass("e-m-menumode-landscape e-m-menumode-portrait").addClass("e-m-menumode-"+(this._isPortrait?"portrait":"landscape")))},_wireEvents:function(i){this._ulElement=n(this.element).find("ul");this._createDelegates();t.listenEvents([window,window,window,this._ulElement,this._ulElement],[t.tapEvent(),"orientationchange","resize",t.startEvent(),t.endEvent()],[this._documentTouchDelegate,this._orientationChangedDelegate,this._windowsResizeDelegate,this._touchStartDelegate,this._touchEndDelegate],i);this.model.renderMode=="android"&&(this._liElement=n(this.element).find("li.e-m-toolbaritem"),this._ellipsis=n(this.element).find("div.e-m-ellipsis"),this._back=n(this.element).find("div.e-m-backactionbar"),this._menuElement=n(this.element).find("li.e-m-menuitem"),t.listenEvents([this._ellipsis,this._ellipsis,this._back,this._back,this._menuElement,this._menuElement],[t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent()],[this._touchStartDelegate,this._touchEndDelegate,this._touchStartDelegate,this._touchEndDelegate,this._touchStartDelegate,this._touchEndDelegate],i))},_doItemChanges:function(t,i,r){this._ulcontainer=this.element.find("ul.e-m-tbulcontainer");this._toolbarLiElements=this._ulcontainer.find("li.e-m-toolbaritem");var u=this._toolbarLiElements[i];t=="add"&&(this._orgEle.find("li").length<5||this.model.renderMode=="android")?(i=this._orgEle.find("li").length-1,n(this._orgEle.find("li")[i]).after('<li data-ej-iconname="'+r+'"><\/li>'),this._refresh()):t=="remove"&&this._orgEle.find("li").length>0&&this._orgEle.find("li").length>i?(n(this._orgEle.find("li")[i]).remove(),this._refresh()):t=="changeicon"&&(n(this._orgEle.find("li")[i]).remove(),n(this._orgEle.find("li")[i-1]).after('<li data-ej-iconname="'+r+'"><\/li>'),this._refresh())},_showPortraitMenuAnimation:function(){if(this.model.renderMode=="windows"){var t=0,i=0;this._tbMenuItems.each(function(){var r=n(this);setTimeout(function(){t=t+.1;r.css("transition","padding 0.5s ease "+t+"s");r.css({"padding-left":"20px","padding-top":"20px"})},t*i-60)})}else this._Menucontainer.show()},_hidePortraitMenuAnimation:function(){this.model.renderMode=="windows"?this._tbMenuItems.each(function(){n(this).css({"padding-left":"20px","padding-top":"40px"})}):this._Menucontainer.hide()},_showHorizontalMenuAnimation:function(){if(this.model.renderMode=="windows"){var t=0,i=0;this._tbMenuItems.each(function(){var r=n(this);setTimeout(function(){t=t+.1;r.css("transition","padding 0.5s ease "+t+"s");r.css({"padding-left":"35px","padding-top":"10px"})},t*i-60)})}else this._Menucontainer.show()},_hideHorizontalMenuAnimation:function(){this.model.renderMode=="windows"?this._tbMenuItems.each(function(){n(this).css({"padding-left":"0px","padding-top":"10px"})}):this._Menucontainer.hide()},_addSelection:function(n){this._selectionProperties(n,"add")},_removeSelection:function(n){n.hasClass("e-m-ellipsis")&&this.model.renderMode=="windows"&&(this._isMenuOpened?this.hideMenu():this.showMenu());this._selectionProperties(n,"remove")},_selectionProperties:function(n,t){(this.model.renderMode=="windows"||this.model.renderMode=="flat"||this.model.renderMode=="ios7"&&n.find("div").hasClass("e-m-tbicon"))&&(t=="add"?n.find(".e-m-tbicon").addClass("tbicon-selected"):n.find(".e-m-tbicon").removeClass("tbicon-selected"));this.model.renderMode=="android"?t=="add"?n.addClass("active"):n.removeClass("active"):""},_setModel:function(n){var r=!1,t,i;for(t in n){switch(t){case"enabled":n.enabled?this._enable():this._disable();break;case"renderMode":this.model.enabled?r=!0:"";break;case"theme":this.model.enabled?this._setTheme(n.theme):"";break;case"hide":n.hide?this._hide():this._show()}i="_set"+t.charAt(0).toUpperCase()+t.slice(1)+"Functionalities";this[i]&&this[i](n[t])}r&&this._refresh()},_setAndroidFunctionalities:function(n){for(var i in n)switch(i){case"showBackNavigator":n.showBackNavigator?this._showBackNavigator():this._hideBackNavigator();break;case"showTitleIcon":n.showTitleIcon?this._showTitleIconNavigator():this._hideTitleIconNavigator();break;case"enableSplitView":t.isMobile()?this._refresh():"";break;case"showEllipsis":n.showEllipsis?this.showEllipsis():this.hideEllipsis();break;case"title":this.model.templateId==null?this._changeTitle(n.title):"";break;case"titleIconUrl":this._changeImageUrl(n.titleIconUrl)}},_changeTitle:function(n){this.model.android.title=n;this.element.find("span.e-m-title-text").html(this.model.android.title)},_changeImageUrl:function(n){this.model.android.titleIconUrl=n;this.element.find("img.e-m-titleicon").attr("src",this.model.android.titleIconUrl)},_showBackNavigator:function(){this._back.find(".e-m-backicon").addClass("e-m-showback-true").removeClass("e-m-showback-false")},_hideBackNavigator:function(){this._back.find(".e-m-backicon").addClass("e-m-showback-false").removeClass("e-m-showback-true")},_showTitleIconNavigator:function(){this._back.find(".e-m-titleicon").addClass("e-m-showtitle-true").removeClass("e-m-showtitle-false")},_hideTitleIconNavigator:function(){this._back.find(".e-m-titleicon").addClass("e-m-showtitle-false").removeClass("e-m-showtitle-true")},_setTheme:function(n){this.model.enabled&&n&&(this.model.theme=n,this.element.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme),(this.model.renderMode=="android"||this.model.renderMode=="windows")&&this._ellipsis&&this._ellipsis.removeClass("e-m-dark e-m-light").addClass("e-m-"+this.model.theme),this.model.renderMode=="android"&&this._back&&this._back.removeClass("e-m-dark e-m-light").addClass("e-m-"+this.model.theme))},_disable:function(){this.element.addClass("e-m-state-disabled");this._wireEvents(!0)},_enable:function(){this.element.removeClass("e-m-state-disabled");this._wireEvents()},_show:function(){this.element.show()},_hide:function(){this.element.hide()},_refresh:function(){this._destroy();this.element.addClass("e-m-tb");this._renderControl();this._wireEvents(!1)},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html());this._Menucontainer&&this._Menucontainer.remove()},_destroy:function(){this._wireEvents(!0);this._clearElement()},removeItem:function(n){this._doItemChanges("remove",n,i)},addItem:function(n){this._doItemChanges("add",i,n)},hideMenu:function(){this._menuEvent("hide","show");this._isMenuOpened=!1},showMenu:function(){this._menuEvent("show","hide");this._isMenuOpened=!0},showEllipsis:function(){this._ellipsis.addClass("e-m-showellipsis-true").removeClass("e-m-showellipsis-false")},hideEllipsis:function(){this._ellipsis.addClass("e-m-showellipsis-false").removeClass("e-m-showellipsis-true")},disableItem:function(n){this.model.enabled&&(this.element.find("li.e-m-"+this.model.renderMode+"-"+n).addClass("e-m-state-disabled"),this._wireEvents(!0))},enableItem:function(n){this.model.enabled&&(this.element.find("li.e-m-"+this.model.renderMode+"-"+n).removeClass("e-m-state-disabled"),this._wireEvents())},hideItem:function(n){this.model.enabled&&this.element.find("li.e-m-"+this.model.renderMode+"-"+n).css("display","none")},showItem:function(n){this.model.enabled&&this.element.find("li.e-m-"+this.model.renderMode+"-"+n).css("display","inline-block")}});t.mobile.Toolbar.Position={Normal:"normal",Fixed:"fixed"};t.mobile.Toolbar.IconName={Add:"Add",Back:"Back",Bookmark:"Bookmark",Close:"Close",Compose:"Compose",Copy:"Copy",Cut:"Cut",Delete:"Delete",Done:"Done",Edit:"Edit",Mail:"Mail",Next:"Next",Refresh:"Refresh",Overflow:"Overflow",Paste:"Paste",Reply:"Reply",Save:"Save",Search:"Search",Settings:"Settings",Share:"Share"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmSplitPane","ej.mobile.SplitPane",{_setFirst:!0,_rootCSS:"e-m-splitpane",defaults:{renderMode:"auto",theme:"auto",allowLeftPaneScrolling:!0,allowRightPaneScrolling:!0,leftPaneScrollSettings:{},rightPaneScrollSettings:{},leftPaneWidth:null,enablePersistence:!1,android:{showToolbar:!0},toolbarSettings:{},windows:{showLeftPaneHeader:!0,showRightPaneHeader:!0},ios7:{showLeftPaneHeader:!0,showRightPaneHeader:!0},leftHeaderSettings:{},rightHeaderSettings:{},overlayLeftPane:!0,renderRightPane:!1,overlayDirection:"left",enableSwipe:!0,afterLoadSuccess:null,beforeTransfer:null},dataTypes:{allowLeftPaneScrolling:"boolean",allowRightPaneScrolling:"boolean",renderMode:"enum",theme:"enum",renderingEngine:"enum",checkDOMChanges:"boolean",enableNativeScrolling:"boolean",enablePersistence:"boolean",ios7:{showLeftPaneHeader:"boolean",showRightPaneHeader:"boolean",headerLeftButtonStyle:"enum",showHeaderLeftButton:"boolean",headerRightButtonStyle:"enum",showHeaderRightButton:"boolean"},android:{showToolbar:"boolean",toolbarTheme:"enum",showToolbarIcon:"boolean",showBackNavigator:"boolean",showToolbarEllipsis:"boolean"},windows:{showLeftHeader:"boolean",showRightHeader:"boolean",headerLeftButtonStyle:"enum",headerRightButtonStyle:"enum"}},_init:function(){this._historyLength=0;this._nextPage=null;this._currentPage=null;this._previousPage=null;this._uniqueIds=[];this._wp=null;this.model.rightHeaderSettings.position="normal";this.model.leftHeaderSettings.position="normal";this._renderControl();this._wireEvents()},_renderControl:function(){var i,r;t.setRenderMode(this);t.setTheme(this);this.element.addClass("e-m-splitpane e-m-"+this.model.renderMode+" e-m-"+this.model.theme);this.model.overlayLeftPane||this.element.addClass(t.isMobile()?"e-m-mobile":"e-m-tablet");this._orgEle=n(this.element).clone();this._layouts=this.element.find("[data-ej-layout='pane']");this._leftPane=n(this._layouts[0]).addClass("pane");this.model.overlayLeftPane&&(this._overlayModal=t.buildTag("div.e-m-sp-overlay e-m-state-hide").css("z-index",t.getMaxZindex()+1),this.element.addClass("e-m-overlaypane").append(this._overlayModal),this._leftPane.addClass("e-m-sp-overlay"+this.model.overlayDirection));this.model.renderMode=="android"&&this._renderToolBar();this._leftPane.addClass("e-m-sp-left e-m-firstpage");t.isWindows()&&this._leftPane.css("z-index",t.getMaxZindex()+1);this.model.allowLeftPaneScrolling&&(i=t.buildTag("div#leftscroller").addClass("e-m-sp-leftwrapper"),this._leftPane.wrapInner(i),i=this._leftPane.find(".e-m-sp-leftwrapper"),r=t.buildTag("div#"+this.element[0].id+"_scrollpanel"),i.append(r),this.model.leftPaneScrollSettings.target="leftscroller",r.ejmScrollPanel(this.model.leftPaneScrollSettings));this._rightPane=n(this._layouts).not(".e-m-sp-left");!this.model.overlayLeftPane&&t.isMobile()?this._layouts.addClass("subpage"):this._rightPane.addClass("subpage");this.model.renderRightPane&&(this._defaultRightPane=n(this._layouts[1]),this._defaultRightPane.addClass("e-m-sp-initial"),this._rightPane.addClass("e-m-sp-right"),this.model.allowRightPaneScrolling&&(i=t.buildTag("div#rightscroller").addClass("e-m-sp-rightwrapper"),this._defaultRightPane.wrapInner(i),i=this._defaultRightPane.find(".e-m-sp-rightwrapper"),r=t.buildTag("div#"+this.element[0].id+"_rightscrollpanel"),i.append(r),this.model.rightPaneScrollSettings.target="rightscroller",r.ejmScrollPanel(this.model.rightPaneScrollSettings)),this._rightPane.not(".e-m-sp-initial").css("display","none"));(this.model.renderMode=="ios7"||this.model.renderMode=="windows")&&this._renderLeftHeader();this.model.overlayLeftPane?this._setOverlayInitialStyles():this._setModeInitialStyles();this._setPaneSize()},_setOverlayInitialStyles:function(){t.isLowerResolution()?this.element.addClass("e-m-sp-lower").removeClass("e-m-sp-higher"):(this.element.addClass("e-m-sp-higher").removeClass("e-m-sp-lower"),this.element.find(".e-m-sp-right").width(this.element.closest(".appview").width()-this.element.find(".e-m-sp-left").outerWidth()-(this.model.renderMode=="android"?4:0)))},_setModeInitialStyles:function(){t.isMobile()&&this._rightPane?(this._currentPage=this._leftPane,this._layouts.css({width:"100%"})):this.element.find(".e-m-sp-right").width(this.element.closest(".appview").width()-this.element.find(".e-m-sp-left").outerWidth()-(this.model.renderMode=="android"?4:0))},_renderToolBar:function(){this._andTB=t.buildTag("div#"+this.element[0].id+"_toolbar","","",{});this._andTB.insertBefore(this.element);this.model.toolbarSettings.position="normal";this._andTB.ejmToolbar(this.model.toolbarSettings);this._toolbarItems=this.element.find("div[data-toolbaritems] ul");this._toolbarItems.length>0&&this._andTB.append(this._toolbarItems);this.element.css("min-height",window.innerHeight-this._andTB.height());this.model.android.showToolbar||this._andTB.css("display","none")},_renderLeftHeader:function(){this._leftHeader=t.buildTag("div");this._leftPane.prepend(this._leftHeader);this.model.leftHeaderSettings.renderMode=this.model.renderMode;this.model.leftHeaderSettings.theme=this.model.theme;this.model.leftHeaderSettings.position="normal";this._leftHeader.ejmHeader(this.model.leftHeaderSettings);(this.model.renderMode!="ios7"||this.model.ios7.showLeftPaneHeader)&&(this.model.renderMode!="windows"||this.model.windows.showLeftPaneHeader)||this._leftHeader.css("display","none")},_createDelegates:function(){this._changeDelegate=n.proxy(this._onResize,this);this._swipeRightDelegate=n.proxy(this._swipeRightHandler,this);this._swipeLeftDelegate=n.proxy(this._swipeLeftHandler,this);this._hideLeftPaneDelegate=n.proxy(this._hideLeftPaneHandler,this);this._popDelegate=n.proxy(this._popHandler,this);this._tapDelegate=n.proxy(this._documentClick,this)},_wireEvents:function(t){var i=t?"unbind":"bind";this._createDelegates();n(window)[i]("orientationchange resize",this._changeDelegate);this._swipeEvent(i);this.model.overlayLeftPane&&App.container[i]("tap",this._tapDelegate);App.container.bind("viewpopstate",this._popDelegate)},_swipeEvent:function(n){this.model.overlayLeftPane&&this.model.enableSwipe&&(this.model.overlayDirection=="left"?(App.container[n]("swiperight",this._swipeRightDelegate),App.container[n]("swipeleft",this._swipeLeftDelegate)):(App.container[n]("swipeleft",this._swipeRightDelegate),App.container[n]("swiperight",this._swipeLeftDelegate)))},_documentClick:function(t){n(t.target).closest(".e-m-sp-left").length||this._hideLeftPaneHandler()},_popHandler:function(){this._historyLength&&(this._historyLength=this._historyLength-1);this._currentPage=n(App.route.splitUrl(arguments[1].toPage).hash);this.model.android.showToolbar&&t.isAndroid()&&this._currentPage.attr("data-ej-toolbarsettings-android-title")&&this._andTB.ejmToolbar("model.android.title",this._currentPage.attr("data-ej-toolbarsettings-android-title"))},_swipeRightHandler:function(){this.openLeftPane()},_swipeLeftHandler:function(){this.closeLeftPane()},openLeftPane:function(){this._leftPane.addClass("e-m-sp-show");!this.model.renderMode=="ios7"&&this._overlayModal.removeClass("e-m-state-hide")},closeLeftPane:function(){this._leftPane.removeClass("e-m-sp-show");!this.model.renderMode=="ios7"&&this._overlayModal.addClass("e-m-state-hide")},_hideLeftPaneHandler:function(){t.isLowerResolution()&&this.closeLeftPane()},_onResize:function(){this._setPaneSize();this.model.overlayLeftPane&&(t.isLowerResolution()?this.element.hasClass("e-m-sp-higher")&&(this._rightPane.css("width","100%").hide(),App.activeSubPage?App.activeSubPage.show():this._currentPage&&this._currentPage.show(),this._leftPane.css({width:""}).show(),this.element.addClass("e-m-sp-lower").removeClass("e-m-sp-higher")):this.element.hasClass("e-m-sp-lower")&&(this._layouts.css("width",""),!this.model.renderMode=="ios7"&&this._overlayModal.addClass("e-m-state-hide"),this.element.addClass("e-m-sp-higher").removeClass("e-m-sp-lower")))},_setPaneSize:function(){var n=window.innerHeight;this.model.android.showToolbar&&t.isAndroid()&&(n=n-this._andTB.height());this._layouts.not(".e-m-sp-preventautoheight").height(n);!this._rightPane||(t.isLowerResolution()||!this.model.overlayLeftPane)&&(t.isMobile()||this.model.overlayLeftPane)||this._rightPane.width(window.innerWidth-this._leftPane.outerWidth())},_setAndroid:function(n){for(var t in n)this.model.android[t]=n[t];t=="showToolbar"?this._showToolbar(n.showToolbar):this._andTB.ejmToolbar(n.android.toolbarSettings)},_setIos7:function(n){for(var t in n)this.model.ios7[t]=n[t];switch(t){case"showLeftPaneHeader":n.showLeftPaneHeader?this._leftHeader.css("display","block"):this._leftHeader.css("display","none");break;case"showRightPaneHeader":n.showRightPaneHeader?App.activeSubPage.find("div.e-m-header").css("display","block"):App.activeSubPage.find("div.e-m-header").css("display","none")}t.toLowerCase().contains("left")?this._leftHeader.ejmHeader(this.model.leftHeaderSettings):t.toLowerCase().contains("right")&&App.activeSubPage.find("div.e-m-header").ejmHeader(this.model.rightHeaderSettings)},_setWindows:function(n){for(var t in n)this.model.windows[t]=n[t];switch(t){case"showLeftHeader":n.showLeftHeader?this._leftHeader.css("display","block"):this._leftHeader.css("display","none");break;case"showRightHeader":n.showRightHeader?App.activeSubPage.find("div.e-m-header").css("display","block"):App.activeSubPage.find("div.e-m-header").css("display","none")}},_setModel:function(n){var r,t,i;this._trigger("modelChange",{changes:n});r=!1;for(t in n)if(t.toLowerCase().contains("windows")||t.toLowerCase().contains("android")||t.toLowerCase().contains("ios7"))i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t]);else switch(t){case"leftHeaderTitle":this._leftHeader.ejmHeader({title:n.leftHeaderSettings.title});break;case"rightHeaderTitle":App.activeSubPage.find("div.e-m-header").ejmHeader({title:n.rightHeaderSettings.title});break;case"showLeftHeaderButton":this._leftHeader.ejmHeader({showLeftButton:n.leftHeaderSettings.showLeftButton});break;case"showRightHeaderButton":this._leftHeader.ejmHeader({showRightButton:n.rightHeaderSettings.showRightButton});break;case"enableSwipe":this._setSwipe(n.enableSwipe)}},_setSwipe:function(n){var t=n?"bind":"unbind";this.model.enableSwipe=n;this._swipeEvent(t)},_showToolbar:function(n){n?(this._andTB.css("display","block"),this._setPaneSize()):(this._andTB.css("display","none"),this._setPaneSize())},_refresh:function(){this._clearElements();this._renderControl();this._wireEvents(!1)},_clearElements:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElements()},loadContent:function(i,r){var u=this,f,e,o;if(this.model.overlayLeftPane&&this._hideLeftPaneHandler(),f=n.extend({},t.mobile.SplitPane.toPage.defaults,r),!f.isHigherLevel&&this._historyLength>0&&(App.pageHistory.clearHistory(this._historyLength+1),this._historyLength=0),isTargetString=typeof i=="string",isTargetString){if(e=this.element.find("[data-subpageurl='"+App.route.makeUrlAbsolute(i)+"']"),o=i,e.length&&!f.reload){u.transferPage(e,f,!0);return}e.length>0&&e.remove();App.loadView(i,f).done(function(i,r,f){var s,e,h,c;f[0].nodeName.toLowerCase()=="script"&&(f=n(t.getClearString(f[0].innerHTML)));s=f[0].id?f[0].id:r.pageId?r.pageId:"page_"+parseInt(Math.random().toFixed(3)*1e3);r.hash="#"+s;e=t.buildTag("div.e-m-sp-right subpage").attr({"data-ej-layout":"pane","data-url":s});h=t.buildTag("div#"+s+"_rightscroller").addClass("e-m-sp-rightwrapper");h.append(f);e.append(h.wrapInner("<div><\/div>"));u.element.append(e);(!u.model.overlayLeftPane||t.isLowerResolution())&&(u.model.overlayLeftPane||t.isMobile())||e.width(u.element.closest(".appview").width()-u.element.find(".e-m-sp-left").outerWidth()-(u.model.renderMode=="android"?4:0));u.transferPage(e,r,!1,f);e.attr({"data-subpageurl":App.route.makeUrlAbsolute(o)});t.widget.init(e);u.model.allowRightPaneScrolling&&r.allowRightPaneScrolling&&(u._rightScroller=t.buildTag("div"),u.model.rightPaneScrollSettings.target=s+"_rightscroller",u.model.rightPaneScrollSettings.renderMode=u.model.renderMode,u.model.rightPaneScrollSettings.theme=u.model.theme,h.append(u._rightScroller.ejmScrollPanel(n.extend(!0,u.model.rightPaneScrollSettings,r.rightPaneScrollSettings))));u.model.afterLoadSuccess&&(c={toPage:e,rightPaneHeader:u._rightHeader,leftPaneHeader:u._leftHeader,toolbar:u._andTB},u._trigger("afterLoadSuccess",c))}).fail(function(){})}else u.transferPage(i,f)},transferPage:function(i,r,u,f){var e,o,h,c,s;u||(e=window.innerHeight,(this.model.renderMode=="ios7"&&this.model.ios7.showRightPaneHeader||this.model.renderMode=="windows"&&this.model.windows.showRightPaneHeader)&&(i.find(">div").hasClass("e-m-header")||(o=t.buildTag("div"),h=n(this.element).find(".e-m-sp-left div.e-m-lb li.e-m-state-active .e-m-lb-text").html(),i.prepend(o),(!this.model.overlayLeftPane&&t.isMobile()||r.isHigherLevel||r.showLeftButton)&&(c=!0),this.model.rightHeaderSettings.renderMode=this.model.renderMode,this.model.rightHeaderSettings.theme=this.model.theme,this.model.rightHeaderSettings.position="normal",this._rightHeader=o.ejmHeader(n.extend(!0,this.model.rightHeaderSettings,r.rightHeaderSettings))),e=window.innerHeight),this.model.android.showToolbar&&t.isAndroid()&&(e=window.innerHeight-this._andTB.innerHeight()),r.autoAdjustHeight?i.height(e):i.addClass("e-m-sp-preventautoheight"));r.isHigherLevel||!this.model.overlayLeftPane&&t.isMobile()?(this._historyLength++,r.hashMonitoring=!0):(r.transition="none",r.hashMonitoring=!1);this._currentPage=App.activeSubPage?App.activeSubPage:this._currentPage;this._currentPage||!this.model.overlayLeftPane&&t.isMobile()?this._currentPage||(this._currentPage=this._leftPane):this._currentPage=i.show();!u&&f&&(App.createPage(this._currentPage),f.show());this.model.android.showToolbar&&t.isAndroid()&&r.toolbarSettings&&r.toolbarSettings.android&&(this._andTB.ejmToolbar("model.android.title",r.toolbarSettings.android.title),i.attr("data-ej-toolbarsettings-android-title",r.toolbarSettings.android.title));App.transferPage(this._currentPage,i,r);this.model.beforeTransfer&&(s={toPage:i,rightPaneHeader:this._rightHeader,leftPaneHeader:this._leftHeader,toolbar:this._andTB},this._trigger("beforeTransfer",s));this._layouts=this._layouts.add(i);this._rightPane=this._rightPane.add(i)}});n.extend(!0,t.mobile.SplitPane.prototype.defaults.toolbarSettings,t.mobile.Toolbar.prototype.defaults);n.extend(!0,t.mobile.SplitPane.prototype.defaults.leftPaneScrollSettings,t.mobile.ScrollPanel.prototype.defaults);n.extend(!0,t.mobile.SplitPane.prototype.defaults.rightPaneScrollSettings,t.mobile.ScrollPanel.prototype.defaults);n.extend(!0,t.mobile.SplitPane.prototype.defaults.leftHeaderSettings,t.mobile.Header.prototype.defaults);n.extend(!0,t.mobile.SplitPane.prototype.defaults.rightHeaderSettings,t.mobile.Header.prototype.defaults);t.mobile.SplitPane.toPage={defaults:{transition:"auto",reverse:!1,changeHash:!0,reloadSamePage:!0,autoAdjustHeight:!0,samePage:!1}};t.mobile.SplitPane.HeaderLeftButtonStyle={Back:"back",Header:"header",Normal:"normal"};t.mobile.SplitPane.HeaderRightButtonStyle={Header:"header",Normal:"normal"}}(jQuery,Syncfusion),function(n,t,i){t.widget({ejmTextBox:"ej.mobile.TextBox",ejmPassword:"ej.mobile.Password",ejmMaskEdit:"ej.mobile.MaskEdit",ejmTextArea:"ej.mobile.TextArea"},{_setFirst:!0,_rootCSS:"e-m-text-input",validTags:["input"],type:"editor",defaults:{renderMode:"auto",theme:"auto",showBorder:!0,windows:{renderDefault:!1,allowReset:!0},value:"",watermarkText:"",change:null,enabled:!0,enablePersistence:!1,readOnly:!1},observables:["value"],value:t.util.valueFunction("value"),dataTypes:{theme:"enum",showBorder:"boolean",windows:{allowReset:"boolean"},renderMode:"enum",enabled:"boolean",readOnly:"boolean"},_init:function(){this._cloneElement=this.element.clone();this._isMaskedit=this.pluginName==="ejmMaskEdit"?!0:!1;this._isTextarea=this.pluginName==="ejmTextArea"?!0:!1;this._dataInit();this._renderControl();t._setScroller(this);this._wireEvents(!1);this.model.enabled?this.enable():this.disable()},_dataInit:function(){this._clearClicked=!1;this._isMaskedit&&this._maskInit()},_maskInit:function(){this._isInitialRendered=!0;this._hiddenField=this.element.parent().find("#"+this.model.id+"_maskedithiddenField")[0];this._charMap={"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"}},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");this._isTextarea?this._textAreaProperties():this._textBoxProperties();this.model.watermarkText!=""&&this.value()==""&&(!this._isMaskedit||this._isTextarea)?this._setWaterMark():this._setValue(this.value());this.model.readOnly&&this._setReadOnly(this.model.readOnly);this.model.showBorder||this._showBorder(!1)},_textBoxProperties:function(){var i=this.element,n=this.model,r;this._wrapper=t.buildTag("div.e-m-"+n.renderMode+" e-m-textbox e-m-"+n.theme);i.after(this._wrapper);this._wrapper.append(i);this.pluginName=="ejmPassword"&&i.attr("type","password");i.addClass("e-m-input-focusout").attr("name",n.id);r=t.buildTag("span");r.addClass("e-m-textspan");this._isMaskedit&&this._isInitialRendered&&(this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this._maskLength=n.mask.length,this._maskModel=n.mask.replace(/[9a*]/g,"_"),this._validatedValue=this._maskModel,this._validateValue(),this._setWaterMark());n.windows.allowReset&&!this._isMaskedit&&(this._clearBtn=t.buildTag("div"),this.pluginName=="ejmPassword"?this._clearBtn.addClass("e-m-pass"):this._clearBtn.addClass("e-m-clear"),this._wrapper.append(this._clearBtn),this._clearBtn.css("display","none"));this._wrapper.append(r)},_textAreaProperties:function(){var n=this.element,r=this.model,i;this.defaultHeight=n[0].style.height==""?30:parseInt(n[0].style.height);this._wrapper=t.buildTag("div.e-m-"+r.renderMode+" e-m-textbox e-m-"+r.theme);i=t.buildTag("span");i.addClass("e-m-textspan");n.wrap(this._wrapper);n.css({resize:"none","text-indent":"0px","padding-left":"5px"});n.focus();this._focus();n.after(i);n.attr("rows",1);this._resize()},_touchStart:function(n){t._inputTouchStart(n,this);t.listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveProxy,this._touchEndProxy,this._touchEndProxy],!1)},_touchMove:function(n){t._inputTouchMove(n,this)},_touchEnd:function(n){t._inputTouchEnd(n,this);t.listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveProxy,this._touchEndProxy,this._touchEndProxy],!0)},_createDelegate:function(){this.resize=n.proxy(this._resize,this);this.delayedResize=n.proxy(this._delayedResize,this);this.blur=n.proxy(this._blur,this);this.focus=n.proxy(this._focus,this);this._keyDownProxy=n.proxy(this._keyDown,this);this._keyPressProxy=n.proxy(this._keyPress,this);this._keyUpProxy=n.proxy(this._keyUp,this);this._touchStartProxy=n.proxy(this._touchStart,this);this._touchMoveProxy=n.proxy(this._touchMove,this);this._touchEndProxy=n.proxy(this._touchEnd,this);this._isTextarea||this.isMaskedit||(this._showClearProxy=n.proxy(this._showClear,this),this._clearTextProxy=n.proxy(this._clearText,this))},_wireEvents:function(n){var i=this.element;this._createDelegate();t.listenEvents([i,i,i,i,i,i,i],["change","cut","paste","keydown","focus","blur","keyup"],[this.resize,this.delayedResize,this.delayedResize,this.delayedResize,this.focus,this.blur,this._keyUpProxy],n);t.isDevice()&&t.listenTouchEvent(i,t.startEvent(),this._touchStartProxy,n);this._isMaskedit&&t.listenEvents([i,i],["keydown","keypress"],[this._keyDownProxy,this._keyPressProxy],n);this.model.renderMode!="windows"||!this.model.windows.allowReset||this._isMaskedit||this._isTextarea||t.listenEvents([i,this._clearBtn],["keyup",t.startEvent()],[this._showClearProxy,this._clearTextProxy],n)},_setWaterMark:function(){this.model.watermarkText&&(this.value()==""||this.value()==this._maskModel)?n(this.element).attr("placeholder",this.model.watermarkText).addClass("e-m-watermarktext"):this.value()==""&&this.element.val(this._maskModel)},_removeWaterMark:function(){this.element.hasClass("e-m-watermarktext")&&this.element.val(this._maskModel).removeClass("e-m-watermarktext")},_validateValue:function(){var t=this.value(),i=this._maskModel,o=t?t.length:0,r=-1,n,f,e,u;if(this._maskLength==0)return!0;for(n=0;n<this._maskLength;n++)this._charMap[this.model.mask.charAt(n)]&&(r++,f=t.charCodeAt(r),this._validateChars(f,n)&&(e=i.substring(0,n),u=i.substring(n),i=e+t.charAt(r)+u.substr(1,u.length)));this.element.val(i);this._updateHiddenField()},_showAlert:function(){var t=this;this.element.addClass("e-error").animate({Opacity:1},700,null,function(){n(this.element).removeClass("e-error")})},_updateHiddenField:function(){var t=this.getUnstrippedValue()==this.model.watermarkText?"":this._bindingMode==0?this.getStrippedValue():this.getUnstrippedValue();n(this._hiddenField).val(t)},_selectionText:function(n,t){var i=this._maskModel.substring(n,t);return(this.element.val(this.element.val().substring(0,n)+i+this.element.val().substring(t)),this._keydownFlag==1)?(this._setCaretPosition(n),n):this._keydownFlag==2?(this._setCaretPosition(t),t):n},_caretPosition:function(n){var t=0,i,r;return document.selection?(i=document.selection.createRange(),r=i.text.length,i.moveStart("character",-n.value.length),t=i.text.length-r,r!=0&&(t=this._selectionText(t,i.text.length),this._selectedTextKeyDown=1)):(n.selectionStart||n.selectionStart=="0")&&(t=n.selectionStart,n.selectionStart!=n.selectionEnd&&(t=this._selectionText(n.selectionStart,n.selectionEnd),this._selectedTextKeyDown=1)),t},_setCaretPosition:function(n){var i=this.element[0],r;t.browserInfo().name=="msie"?i.createTextRange&&(r=i.createTextRange(),r.move("character",n),r.select()):i.selectionStart||i.selectionStart=="0"?(i.focus(),i.setSelectionRange(n,n)):i.focus()},_validateChars:function(n,t){return this.model.mask.charAt(t)=="9"&&n>=48&&n<=57?!0:this.model.mask.charAt(t)=="a"&&(n>=65&&n<=90||n>=97&&n<=122)?!0:this.model.mask.charAt(t)=="*"&&(n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57)?!0:(this._showAlert(),!1)},_seekNext:function(){for(var n=this._caretPosition(this.element[0]),t=n,i=!0;i;){if(n>=0&&n<this._maskLength&&(this._charMap[this.model.mask.charAt(n)]||(this._setCaretPosition(n+1),n++),n!=t)){t=n;continue}i=!1}return n},_seekBefore:function(){var n=this._caretPosition(this.element[0]),i=--n,t=!0;for(this._selectedTextKeyDown==1&&(t=!1);t;){if(n>=0&&n<this._maskLength&&(this._charMap[this.model.mask.charAt(n)]||this._setCaretPosition(--n),n!=i)){i=n;continue}t=!1}return n},_writeBuffer:function(n,t){if(t<=this._maskLength){var i=this.element.val(),u=i.substring(0,t),r=i.substring(t);this.element.val(u+n+r.substr(1,r.length));this._setCaretPosition(t+1)}},_focus:function(){var i=this,n;this._removeWaterMark();this.element.parent().find(".e-m-textspan").removeClass("e-m-default").addClass("e-m-active");this.model.renderMode=="windows"&&(this._clearClicked&&element.focus(),this._clearClicked=!1);this.element.removeClass("e-m-input-focusout").addClass("e-m-input-focusin").parent().find(".e-m-textspan").addClass("e-m-active");this._isMaskedit&&(this._removeWaterMark(),this._updateHiddenField(),n=this.element[0],this._setCaretPosition(n.value.indexOf("_")),selectRange=function(t,i){return this.each(function(){if(n.setSelectionRange)n.focus(),n.setSelectionRange(t,i);else if(this.createTextRange){var r=n.createTextRange();r.collapse(!0);r.moveEnd("character",i);r.moveStart("character",t);r.select()}})});this.model.renderMode!="windows"||!this.model.windows.allowReset||this._isMaskedit||this._isTextarea||this._showClear();i.element[0].scrollLeft=i.element[0].scrollWidth;window.setTimeout(function(){t.setCaretToPos(i.element[0],i.element.val().length,i.element.val().length)})},_blur:function(){this.element.parent().find(".e-m-textspan").removeClass("e-m-active").addClass("e-m-default");this.element.removeClass("e-m-input-focusin").addClass("e-m-input-focusout").parent().find(".e-m-textspan").removeClass("e-m-active");this.element.val()==""&&this._isMaskedit?this.element.val(this._maskModel).removeClass("MaskWaterMark"):this._setWaterMark();this.model.renderMode!="windows"||!this.model.windows.allowReset||this._isMaskedit||this._isTextarea||this._clearBtn.css("display","none");this.element[0].scrollLeft=0},_keyUp:function(){var n={value:this.element.val()};this.value(n.value);t._setScroller(this);this._x=this.element[0].scrollLeft;this.model.change&&this._trigger("change",n)},_keyPress:function(n){if(this._maskLength==0)return!0;var i=n.keyCode?n.keyCode:n.charCode,r=String.fromCharCode(i);if((i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122)&&(currentPos=this._seekNext(),this._validateChars(i,currentPos)&&this._writeBuffer(r,currentPos)),!this._keypressFlag&&i!=9)return this._keypressFlag=0,n.preventDefault(),!1;this._keypressFlag=0;this._updateHiddenField();t._setScroller(this);this._x=this.element[0].scrollLeft},_keyDown:function(n){if(this._maskLength==0)return!0;var i=n.keyCode?n.keyCode:n.charCode,r=String.fromCharCode(i);if(i>=35&&i<=41)(t.browserInfo().name=="mozilla"||t.browserInfo().name=="opera")&&(this._keypressFlag=1);else if(i==8||i==46)return this._keydownFlag=i==8?1:2,currentPos=this._keydownFlag==1?this._seekBefore():this._seekNext(),this._selectedTextKeyDown||(currentPos>=0&&currentPos<this._maskLength&&this._writeBuffer("_",currentPos),i==8?this._setCaretPosition(currentPos):{}),this._keydownFlag=0,this._selectedTextKeyDown=0,n.preventDefault(),!1;this._updateHiddenField()},_cancelEvent:function(n){return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_showBorder:function(n){n?(this.element.removeClass("e-m-noborder"),this.element.parent().find(".e-m-noborder").addClass("e-m-textspan").removeClass("e-m-noborder")):(this.element.addClass("e-m-noborder"),this.element.parent().find(".e-m-textspan").addClass("e-m-noborder").removeClass("e-m-textspan"))},_clearText:function(n){this.element.val("");this._clearBtn.css("display","none");this._clearClicked=!0;n.preventDefault()},_showClear:function(){this.element.attr("value")!=""?this._clearBtn.css("display","inline-block"):this._clearBtn.css("display","none")},_resize:function(){this.element.css("height","auto");this.element[0].scrollHeight>=this.defaultHeight?this.element.css("height",this.element[0].scrollHeight+"px"):this.element.css("height",this.defaultHeight)},_delayedResize:function(){window.setTimeout(this.resize,0)},_setRenderMode:function(n){this.model.renderMode=n;this.element.parent().removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+n)},_setTheme:function(n){this.model.theme=n;this.element.parent().removeClass("e-m-dark e-m-light").addClass("e-m-"+n)},_setValue:function(n){this.value(n);this.element.val(n)},_setWatermarkText:function(n){this.model.watermarkText=n;this._setWaterMark()},_setMask:function(n){this._maskModel=n.replace(/[9a*]/g,"_");this.element.val(this._maskModel);this._validatedValue=this._maskModel;this._validateValue()},_setReadOnly:function(n){n?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"showBorder":this._showBorder(n.showBorder);break;case"theme":this._setTheme(n.theme);break;case"value":this._setValue(n.value);break;case"watermarkText":this._setWatermarkText(n.watermarkText);break;case"mask":this._setMask(n.mask);break;case"enabled":n.enabled?(this.enable(),this._wireEvents(!1)):(this.disable(),this._wireEvents(!0));break;case"readOnly":this._setReadOnly(n.readOnly)}},_clearElement:function(){this._wireEvents(!0);this.element.parent().removeAttr("class")},_destroy:function(){this._cloneElement.insertBefore(this.element);this.element.remove()},enable:function(){this.model.enabled=!0;this.element.removeClass("e-m-state-disabled");this._wireEvents(!1)},disable:function(){this.model.enabled=!1;this.element.addClass("e-m-state-disabled");this._wireEvents(!0)},getStrippedValue:function(){var n=this.element.val(),t="";return n!=i&&(t=n.replace(/[^a-zA-Z0-9]/g,"")),t},getUnstrippedValue:function(){var n=this.element.val(),t="";return n!=i&&(t=n.replace(/[_]/g," ")),t},getWatermarkText:function(){return this.model.watermarkText},getValue:function(){return this.value()},refresh:function(){this._clearElement();this._renderControl();this._wireEvents(!1)}})}(jQuery,Syncfusion),function(n,t){t.widget("ejTileBase","ej.TileBase",{defaults:{badge:{enabled:!1,value:1,maxValue:100,minValue:1,text:null},captionTemplateId:null,enablePersistence:!1,imageClass:null,imagePosition:"center",imageTemplateId:null,imageUrl:null,liveTile:{enabled:!1,imageClass:null,imageTemplateId:null,imageUrl:null,type:"flip",updateInterval:2e3},showText:!0,text:"Text",textAlignment:"normal",tileSize:"small"},dataTypes:{badge:{enabled:"boolean",value:"number",maxValue:"number",minValue:"number"},imagePosition:"enum",liveTile:{type:"enum",enabled:"boolean",updateInterval:"number",imageUrl:"array",imageClass:"array",imageTemplateId:"array"},showText:"boolean",textAlignment:"enum",tileSize:"enum"},_tileRender:function(){var i,r;if(this.element.addClass(this._prefix+"tile "+this._prefix+"tile-wrapper "+this._prefix+"tile-wrapper-"+this.model.tileSize),this._mainTile=t.buildTag("div."+this._prefix+"child-tile "+this._prefix+"tile-image"+this.model.imagePosition),this.model.liveTile.enabled&&this.model.liveTile.type=="flip"?this.element.addClass(this._prefix+"tile-"+this.model.liveTile.type):this.element.addClass(this._prefix+"tile-common"),this.element.append(this._mainTile),this._image=t.buildTag("div."+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this._layer=t.buildTag("div."+this._prefix+"layer"),this.model.showText?(this.element.addClass(this._prefix+"enabled-text"),this._text=t.buildTag("div").addClass(this._prefix+"tile-text "+this._prefix+"user-select "+this._prefix+"textalign-"+this.model.textAlignment)):this.element.removeClass(this._prefix+"enabled-text").addClass(this._prefix+"disabled-text"),(!this._isAppView()||this.model.renderMode=="windows")&&this.model.liveTile.enabled){if(this.element.addClass(this._prefix+"live-type-"+this.model.liveTile.type),this._mainTile.addClass(this._prefix+"live-tile-enable"),!this._liveImageWrapper){if(this._liveImageWrapper=t.buildTag("div."+this._prefix+"live-image-wrapper"),this.model.liveTile.imageTemplateId){for(this._liveImageWrapper.addClass(this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),i=0;i<this.model.liveTile.imageTemplateId.length;i++)this._liveImageWrapper.append(t.getCurrentPage().find("#"+this.model.liveTile.imageTemplateId[i]).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type));this._mainTile.addClass(this._prefix+"tile-template")}else if(this.model.liveTile.imageClass)for(i=0;i<this.model.liveTile.imageClass.length;i++)this._liveImageWrapper.append(t.buildTag("div").addClass(this.model.liveTile.imageClass[i]));else for(i=0;i<this.model.liveTile.imageUrl.length;i++)r=this._isAppView()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/windows/"+this.model.liveTile.imageUrl[i]:this._getAbsolutePath(this.model.liveTile.imageUrl[i]),this._liveImageWrapper.append(t.buildTag("div."+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type).css({"background-image":"url('"+r+"')"}));n(this._liveImageWrapper.children()[0]).addClass(this._prefix+"tile-"+this.model.liveTile.type+"back").removeClass(this._prefix+"tile-"+this.model.liveTile.type)}this._mainTile.append(this._liveImageWrapper)}else this.model.imageTemplateId?this._image.append(t.getCurrentPage().find("#"+this.model.imageTemplateId).addClass(this._prefix+"tile-template")):(this._image=t.buildTag("div").addClass(this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this.model.imageClass?this._image.addClass(this.model.imageClass):this.model.imageUrl&&(r=this._isAppView()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.imageUrl:this._getAbsolutePath(this.model.imageUrl),this._image.css({"background-image":"url('"+r+"')"}))),this._mainTile.append(this._image).addClass(this._prefix+"tile-image"+this.model.imagePosition);this.model.badge.enabled&&this._setBadgeValue();this._text&&(this.model.captionTemplateId?(this._text.append(t.getCurrentPage().find("#"+this.model.captionTemplateId)).addClass(this._prefix+"template-caption"),this._mainTile.addClass(this._prefix+"template-caption")):this._text.html(this.model.text),this._mainTile.append(this._text))},_createDelegates:function(){this._onStartDelegate=n.proxy(this._isAppView()?this._onTouchStartHandler:this._onMouseDownHandler,this);this._onEndDelegate=n.proxy(this._isAppView()?this._onTouchEndHandler:this._onMouseUpHandler,this);this._onMoveDelegate=n.proxy(this._isAppView()?this._onTouchMoveHandler:this._onMouseMoveHandler,this);this._onDocClickDelegate=n.proxy(this._onDocClickHandler,this);this._startAnimationDelegate=n.proxy(this["_"+this.model.liveTile.type+"Tile"],this)},_wireEvents:function(i){this._createDelegates();t.listenEvents([this.element,this.element,this._isAppView()?App.document:n(document)],[t.startEvent(),t.endEvent(),t.endEvent()],[this._onStartDelegate,this._onEndDelegate,this._onDocClickDelegate],i);this.model.liveTile.enabled&&(!this._isAppView()||this.model.renderMode=="windows")&&(i?this._stopTileAnimation():this._startTileAnimation())},_onDocClickHandler:function(){this._removeActiveClass()},_removeActiveClass:function(){!this._isAppView()||this.model.renderMode=="windows"?t._removeSkewClass(this.element):n(this.element).removeClass(this._prefix+"state-active")},_startTileAnimation:function(){this._intervalCounter=setInterval(this._startAnimationDelegate,this.model.liveTile.updateInterval)},_stopTileAnimation:function(){clearInterval(this._intervalCounter)},_flipTile:function(){var n=this.element.find("."+this._prefix+"tile-flipback"),t=this.element.find("."+this._prefix+"tile-flip").first();n.addClass(this._prefix+"tile-flip").removeClass(this._prefix+"tile-flipback");t.addClass(this._prefix+"tile-flipback").removeClass(this._prefix+"tile-flip")},_slideTile:function(){this._animateEffect()},_carouselTile:function(){this._animateEffect()},_animateEffect:function(){var n=this.model.liveTile.type.toLowerCase(),i=this.element.find("."+this._prefix+"live-tile"),t=this.element.find("."+this._prefix+"tile-"+n+"back"),r=t.next()[0]==null?i.first():t.next(),u=t.prev()[0]==null?i.last():t.prev();u.addClass(this._prefix+"tile-"+n).removeClass(this._prefix+"tile-"+n+"up");t.addClass(this._prefix+"tile-"+n+"up").removeClass(this._prefix+"tile-"+n+"back");r.removeClass(this._prefix+"tile-"+n).addClass(this._prefix+"tile-"+n+"back")},_getAbsolutePath:function(n){return this._isAppView()?App.route.makeUrlAbsolute(n,!0).toString():n},_isAppView:function(){return this._prefix=="e-m-"?!0:!1},updateTemplate:function(i,r){if(this.model.liveTile.enabled){n(this._liveImageWrapper).children()[r].remove();var u=t.getCurrentPage().find("#"+i).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type);n(this._liveImageWrapper).children()[r-1]?n(n(this._liveImageWrapper).children()[r-1]).after(u):n(n(this._liveImageWrapper).children()[r+1]).before(u)}else this._image.empty().append(t.getCurrentPage().find("#"+i).addClass(this._prefix+"tile-template"))},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setImagePosition:function(t){this.model.liveTile.enabled&&n(n(this._mainTile.children()[0]).children()).hasClass(this._prefix+"tile-image")?(n(n(this._mainTile.children()[0]).children()).removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this._mainTile.removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this.model.imagePosition=t):(n(this._mainTile.children()[0]).removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this._mainTile.removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this.model.imagePosition=t)},_setShowText:function(n){this.model.showText=n;n?(this.element.removeClass(this._prefix+"disabled-text").addClass(this._prefix+"enabled-text"),this._setText(this.model.text)):this.element.removeClass(this._prefix+"enabled-text").addClass(this._prefix+"disabled-text")},_setText:function(n){this.model.showText&&(this.element.find("."+this._prefix+"tile-text").length?this.element.find("."+this._prefix+"tile-text").html(n):this.element.prepend(t.buildTag("div."+this._prefix+"tile-text",n)))},_setTextPosition:function(n){n=="outer"?this.element.removeClass(this._prefix+"text-inner").addClass(this._prefix+"text-outer"):this.element.removeClass(this._prefix+"text-outer").addClass(this._prefix+"text-inner").find("."+this._prefix+"child-tile")},_setTextAlignment:function(t){n(this.element.find("."+this._prefix+"tile-text")).removeClass(this._prefix+"textalign-left "+this._prefix+"textalign-right "+this._prefix+"textalign-normal "+this._prefix+"textalign-center").addClass(this._prefix+"textalign-"+t);this.model.textAlignment=t},_setBadge:function(n){var t,i;if(this.model.badge.enabled){this._setBadgeEnabled(!0);for(t in n)i="_setBadge"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t])}else this._setBadgeEnabled(!1)},_setBadgeValue:function(){var n=this.model.badge.text?this.model.badge.text:this.model.badge.value<=this.model.badge.maxValue&&this.model.badge.value>=this.model.badge.minValue?this.model.badge.value.toString():this.model.badge.value>this.model.badge.maxValue?this.model.badge.maxValue.toString()+"+":this.model.badge.minValue.toString();this.element.find("."+this._prefix+"tile-badge").length?this.element.find("."+this._prefix+"tile-badge").html(n):this.element.prepend(t.buildTag("div."+this._prefix+"tile-badge",n))},_setBadgeEnabled:function(n){this.element.find("."+this._prefix+"tile-badge")[n?"show":"hide"]()},_setTileSize:function(){this._refresh()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmTile","ej.mobile.Tile",{_setFirst:!0,_rootCSS:"e-m-tile",defaults:{imagePath:null,renderMode:"auto",theme:"auto",ios7:{textPosition:"inner"},android:{textPosition:"inner"},touchStart:null,backgroundColor:null,touchEnd:null},dataTypes:{ios7:{textPosition:"enum"},android:{textPosition:"enum"},renderMode:"enum",backgroundColor:"string"},_init:function(){this._orgEle=this.element.clone();this._renderEJMControl()},_renderEJMControl:function(){t.setRenderMode(this);t.setTheme(this);this._prefix="e-m-";this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme);this._tileRender();(this.model.renderMode=="windows"&&this.model.tileSize!="small"||this.model.renderMode=="flat")&&this.element.css("background-color",this.model.backgroundColor);this.model.renderMode=="windows"&&this.model.tileSize=="small"&&this.element.find(".e-m-fontimage").css("background-color",this.model.backgroundColor);this.model.renderMode=="ios7"||this.model.renderMode=="android"?(this.element.addClass("e-m-text-"+this.model[this.model.renderMode].textPosition.toLowerCase()),this.model[this.model.renderMode].textPosition=="inner"&&(this._mainTile.append(this._layer),this.model.tileSize=="small"?this.element.find("."+this._prefix+"tile-image").css("background-color",this.model.backgroundColor):this.element.css("background-color",this.model.backgroundColor)),(this.model[this.model.renderMode].textPosition=="outer"&&this.model.tileSize!="small"||this.model.tileSize=="small")&&this._image.css("background-color",this.model.backgroundColor).append(this._layer)):this._mainTile.append(this._layer);this._wireEvents()},_onTouchStartHandler:function(n){var i=this.element,r;this.model.renderMode=="windows"&&(r=t.isTouchDevice()?n.targetTouches[0]:n);t.isWindows()&&t._touchStartPoints(n,this);i.addClass(this.model.renderMode=="windows"?t._getSkewClass(i,r.pageX,r.pageY):this._prefix+"state-active");this.model.touchStart&&this._trigger("touchStart",{text:i.find(".e-m-tile-text").html()});t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!1);this._isMoved=!1},_onTouchMoveHandler:function(n){(!t.isWindows()||t.isWindows()&&t._isTouchMoved(n,this))&&(this._isMoved=!0,this._removeActiveClass())},_onTouchEndHandler:function(){!this._isMoved&&this.model.touchEnd&&this._trigger("touchEnd",{text:this.element.find(".e-m-tile-text").html()});this._removeActiveClass();this._isMoved=!1;t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!0)},_refresh:function(){this._destroy();this.element.removeAttr("style");this.element.addClass(this._prefix+"tile e-js");this._renderEJMControl()}});t.mobile.Tile.ImagePosition={Center:"center",Top:"top",Bottom:"bottom",Right:"right",Left:"left",TopLeft:"topleft",TopRight:"topright",BottomRight:"bottomright",BottomLeft:"bottomleft",Fill:"fill"};t.mobile.Tile.TextAlignment={Normal:"normal",Left:"left",Right:"right",Center:"center"};t.mobile.Tile.TextPosition={Inner:"inner",Outer:"outer"};t.mobile.Tile.TileSize={Medium:"medium",Small:"small",Large:"large",Wide:"wide"};t.mobile.Tile.LiveTileType={Flip:"flip",Slide:"slide",Carousel:"carousel"};n.extend(!0,t.mobile.Tile.prototype,t.TileBase.prototype)}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmTimePicker","ej.mobile.TimePicker",{_setFirst:!0,_rootCSS:"e-m-timepicker",defaults:{renderMode:"auto",hourFormat:"twentyfour",value:new Date,timeFormat:"hh:mm tt",theme:"auto",enabled:!0,enablePersistence:!1,select:null,load:null,focusIn:null,focusOut:null,open:null,close:null,change:null,ios7:{renderDefault:!1},windows:{renderDefault:!1}},dataTypes:{renderMode:"enum",hourFormat:"enum",theme:"enum",enabled:"boolean",enablePersistence:"boolean",ios7:{renderDefault:"boolean"},windows:{renderDefault:"boolean"}},_init:function(){this._renderControl();this._createDelegates();this._wireEvents()},_timepickerInitialize:function(){this._winrt=this.model.renderMode=="windows"&&!t.isMobile();this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._id=n(this.element).attr("name")?n(this.element).attr("name"):n(this.element).attr("id");n(this.element).attr("id",n(this.element).attr("id")?n(this.element).attr("id"):this._id);this._menuTargetId=n(this.element).attr("id");this.model.timeFormat=this.model.hourFormat=="twelve"?"hh:mm tt":"HH:mm";this.model.value=new Date(Globalize.format(new Date,"MM/dd/yyyy")+" "+(typeof this.model.value=="string"?this.model.value:Globalize.format(new Date,this.model.hourFormat=="twelve"?"hh:mm tt":"hh:mm")));this._currentTime=this.model.value;this._twelvedata=[{value:"01"},{value:"02"},{value:"03"},{value:"04"},{value:"05"},{value:"06"},{value:"07"},{value:"08"},{value:"09"},{value:"10"},{value:"11"},{value:"12"}];this._twentyfourdata=[{value:"00"},{value:"01"},{value:"02"},{value:"03"},{value:"04"},{value:"05"},{value:"06"},{value:"07"},{value:"08"},{value:"09"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"}];this._minsdata=[{value:"00"},{value:"01"},{value:"02"},{value:"03"},{value:"04"},{value:"05"},{value:"06"},{value:"07"},{value:"08"},{value:"09"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"},{value:"24"},{value:"25"},{value:"26"},{value:"27"},{value:"28"},{value:"29"},{value:"30"},{value:"31"},{value:"32"},{value:"33"},{value:"34"},{value:"35"},{value:"36"},{value:"37"},{value:"38"},{value:"39"},{value:"40"},{value:"41"},{value:"42"},{value:"43"},{value:"44"},{value:"45"},{value:"46"},{value:"47"},{value:"48"},{value:"49"},{value:"50"},{value:"51"},{value:"52"},{value:"53"},{value:"54"},{value:"55"},{value:"56"},{value:"57"},{value:"58"},{value:"59"}];this._meridiansdata=[{value:"AM"},{value:"PM"}]},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._timepickerInitialize();this._timepickerwrapper=t.buildTag("div.e-m-timepickerwrapper e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-user-select#"+this._id+"_Wrapper","",{},{});this._timepickerwrapper.width(this.element[0].style.width);this.element.width("100%").attr({name:this._id}).wrap(this._timepickerwrapper);this._timepickerwrapper=this.element.parent();t.isDevice()&&this.model.renderMode=="ios7"&&this.model.ios7.renderDefault?this.element.attr({type:"time"}):(this.element.attr({readonly:!0}),this._outerdiv=t.buildTag("div.e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-tp e-m-user-select #"+this._id+"_tp","",{},{}),this._innerdiv=t.buildTag("div.e-m-tpinner","",{},{}),this._wrapdiv=t.buildTag("div.e-m-tpwrap","",{},{}),this._visibletexthtml=this._winrt?"":this.model.renderMode=="android"?"<div class='e-m-text e-m-invisible-text'><\/div>":"<div class='e-m-text e-m-invisible-text'><\/div><div class='e-m-text e-m-invisible-text'><\/div>",this._hours=t.buildTag("div.e-m-tp e-m-tphours e-m-left","<div class='e-m-timewrapper'><div id="+this._id+"_tphour><div class='e-m-tpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-tp-overlay'><\/div><\/div>",{},{}),this._mins=t.buildTag("div.e-m-tp e-m-tpmins e-m-center","<div class='e-m-timewrapper'><div id="+this._id+"_tpmin><div class='e-m-tpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-tp-overlay'><\/div><\/div>",{},{}),this._meridians=t.buildTag("div.e-m-tp e-m-tpmeridians e-m-right","<div class='e-m-timewrapper'><div id="+this._id+"_tpmeridian><div class='e-m-tpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-tp-overlay'><\/div><\/div>",{},{}),this["_"+this.model.renderMode+"Rendering"](),this._scrollInitialize(),this._setInitialTime());this.model.load&&this._trigger("load",this._argsValue());this._controlStatus(this.model.enabled)},_scrollPanel:function(i){this["_"+i]=t.buildTag("div#'"+this._id+"'tp'"+i+"'_scrollpanel","",{},{});this._outerdiv.find("#"+this._id+"_tp"+i).append(this["_"+i]);this["_"+i].ejmScrollPanel({enableNativeScrolling:!1,enableTransition:!1,enableTransform:!1,showScrollbars:!1,target:this._id+"_tp"+i,targetHeight:this._targetHeight,renderMode:this.model.renderMode,scrollEnd:n.proxy(this._onScrollStop,this),enableBounce:!1,scrollStart:n.proxy(this._onScrollStart,this),enableDisplacement:!0,displacementValue:this._displacement,displacementTime:t.isWindows()?800:350})},_scrollInitialize:function(){this._displacement=this.model.renderMode=="ios7"?40:this.model.renderMode=="android"?45:94;this._targetHeight=this.model.renderMode=="ios7"?200:this.model.renderMode=="android"?135:this._winrt?0:window.innerHeight-this._toolbar.height();this._winrt||(this._scrollPanel("hour"),this._scrollPanel("min"),this._scrollPanel("meridian"),(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(n(this._outerdiv).css("top",-window.innerHeight+"px").addClass("flip"),n(this._toolbar).css("visibility","hidden")),this._domElements())},_renderTemplate:function(){var t={};t["default"]="<div class='e-m-text'>{{:value}}<\/div>";t.winrt="<option value='{{:value}}'>{{:value}}<\/option>";n.templates(t)},_renderTimeContent:function(){this.model.hourFormat=="twentyfour"&&this._meridians.addClass("e-m-display-none");this._renderTemplate();this._columnRendering("hours");this._columnRendering("mins");this._columnRendering("meridians");this._innerdiv.append(this._wrapdiv);this._outerdiv.append(this._innerdiv)},_ios7Rendering:function(){this._renderTimeContent();this._innerdiv.append("<div class='e-m-ios7-overlay'><\/div>");this._menu=t.buildTag("div#"+this._id+"_menu.e-m-tp-menu");this._menu.append(this._outerdiv);App.activePage.append(this._menu);this._menu.ejmMenu({allowScrolling:!1,renderTemplate:!0,targetId:this._menuTargetId,height:205,width:this._outerdiv.width(),theme:this.model.theme,rendermode:this.model.renderMode,ios7:{showTitle:!1,showCancelButton:!1},hide:n.proxy(this._menuHide,this)})},_androidRendering:function(){this._timepickerwrapper.append("<span class='e-m-textspan'><\/div>");this._wrapdiv.append("<span class='e-m-and-overlay'>:<\/span>");this._renderTimeContent();this._dialog=t.buildTag("div.e-m-tp-dialog#"+this._id+"_dialog");this._dialog.ejmDialog({allowScrolling:!1,theme:this.model.theme,title:"Set Time",leftButtonCaption:"Done",mode:"alert",renderMode:this.model.renderMode});this._dialog.find("#"+this._id+"_dialogcontent").append(this._outerdiv)},_windowsRendering:function(){this._outerdiv.append("<div class='e-m-tp-header'>CHOOSE TIME<\/div>");this.model.renderMode!="windows"||t.isMobile()?(this._renderTimeContent(),this._toolbar=t.buildTag("div#"+this._id+"_toolbar.e-m-tp-tb","<ul><li data-ej-iconname='done'><\/li><li data-ej-iconname='close'><\/li><\/ul>"),App.activePage.append(this._outerdiv),this._toolbar.ejmToolbar({theme:this.model.theme,renderMode:this.model.renderMode,touchEnd:n.proxy(this._winToolbarItem,this),windows:{renderDefault:this.model.windows.renderDefault}})):(this._renderTimeContent(),this._dialog=t.buildTag("div.e-m-tp-dialog#"+this._id+"_dialog"),this._dialog.ejmDialog({showModal:!0,allowScrolling:!1,theme:this.model.theme,title:"Set Time",leftButtonCaption:"Done",rightButtonCaption:"Cancel",mode:"confirm",renderMode:this.model.renderMode,windows:{renderDefault:this.model.windows.renderDefault}}),this._dialog.find("#"+this._id+"_dialogcontent").append(this._outerdiv))},_winrtContent:function(i,r){this._select=t.buildTag("select");r=n.render.winrt(r);this["_"+i].find(".e-m-tpouter").html(this._select.append(r));this._wrapdiv.append(this["_"+i])},_flatRendering:function(){this._windowsRendering()},_columnRendering:function(t){var i=t=="hours"?this["_"+this.model.hourFormat+"data"]:this["_"+t+"data"],r;this._winrt?this._winrtContent(t,i):(r=n.render["default"](i)+this._visibletexthtml,this["_"+t].find(".e-m-tpouter").html(this["_"+t].find(".e-m-tpouter").html()+r),this._wrapdiv.append(this["_"+t]))},_createDelegates:function(){this._docClickHndlr=n.proxy(this._documentClick,this);this._winScrlHndlr=n.proxy(this._outerScroll,this);this._focusHndlr=n.proxy(this._showTimePicker,this);this._blurHndlr=n.proxy(this._blurEventHandler,this);this._andBtnClkHndlr=n.proxy(this._androidDialogButtonClick,this);this._winrtBtnClkHndlr=n.proxy(this._winrtDialogButtonClick,this)},_wireEvents:function(i){this.model.renderMode=="android"?t.listenTouchEvent(n(this._dialog).find(".e-m-btn"),t.tapEvent(),this._andBtnClkHndlr,i):this._winrt?t.listenTouchEvent(n(this._dialog).find(".e-m-btn"),t.tapEvent(),this._winrtBtnClkHndlr,i):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.listenTouchEvent(n(this._outerdiv).find(".e-m-tpwrap .e-m-tp"),t.startEvent(),this._winScrlHndlr,i);t.listenEvents([n(this.element),n(this.element)],["focus","blur"],[this._focusHndlr,this._blurHndlr],i)},_scrollCoordinates:function(){var n={};return n.Scrollhours=Math.round(this._hour.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollmins=Math.round(this._min.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollmeridian=Math.round(this._meridian.ejmScrollPanel("getScrollPosition").y/this._displacement),n.hours=-n.Scrollhours,n.mins=-n.Scrollmins,n.meridian=-n.Scrollmeridian,n},_domElements:function(){this._hourstext=this._outerdiv.find("#"+this._id+"_tphour .e-m-text");this._minstext=this._outerdiv.find("#"+this._id+"_tpmin .e-m-text");this._meridianstext=this._outerdiv.find("#"+this._id+"_tpmeridian .e-m-text")},_activeText:function(t,r,u,f){var e=this.model.renderMode=="android"?1:2;(f&&f=="tpmin"||f==i)&&(n(this._minstext).removeClass("e-m-text-active"),n(this._minstext[r-1+e]).addClass("e-m-text-active"));(f&&f=="tphour"||f==i)&&(n(this._hourstext).removeClass("e-m-text-active"),n(this._hourstext[t-1+e]).addClass("e-m-text-active"));(f&&f=="tpmeridian"||f==i)&&(n(this._meridianstext).removeClass("e-m-text-active"),n(this._meridianstext[u+e]).addClass("e-m-text-active"))},_setTimeInput:function(){n(this.element).val(Globalize.format(this._currentTime,this.model.timeFormat));this._menuHide()},_winrtInitialTime:function(t){var t=new Date(this._currentTime),i=t.getHours()%12==0?"PM":t.getHours()%12>0?"PM":"AM";n("#"+this._id+"_tphour").find("select option[value='"+t.getHours()+"']").attr("selected",!0);n("#"+this._id+"_tpmin").find("select option[value='"+t.getMinutes()+"']").attr("selected",!0);n("#"+this._id+"_tpmeridian").find("select option[value='"+i+"']").attr("selected",!0)},_setInitialTime:function(){if(this._winrt)this._winrtInitialTime(this._currentTime);else{this._setValue(this._currentTime);var t=this;setTimeout(function(){t._setProperTime(100)},200)}n(this.element).val(Globalize.format(new Date(this._currentTime),this.model.timeFormat));this._selectedTime=n(this.element).val()},_setValue:function(n){var n=new Date(n),i=t.isAndroid()||t.isWindows()?0:200;this._hour.ejmScrollPanel("scrollTo",0,-this._displacement*(this.model.hourFormat=="twelve"?n.getHours()%12==0?12:n.getHours()%12-1:n.getHours()),i);this._min.ejmScrollPanel("scrollTo",0,-this._displacement*n.getMinutes(),i);this._meridian.ejmScrollPanel("scrollTo",0,-this._displacement*(n.getHours()>11?1:0),i)},_setProperTime:function(t,i){var r=this._scrollCoordinates(),f=this.model.hourFormat=="twelve"?r.meridian>0?r.hours==12?12:r.hours==0?13:r.hours==11?12:r.hours+13:r.hours==0?1:r.hours==12?11:r.hours+1:r.hours,u;this.model.renderMode=="ios7"&&(u=this,setTimeout(function(){n(u.element).val(Globalize.format(new Date((new Date).setHours(u.model.hourFormat=="twelve"?f:r.hours,r.mins)),u.model.timeFormat))},t));this._currentTime=new Date((new Date).setHours(this.model.hourFormat=="twelve"?f:r.hours,r.mins));this._activeText(this.model.hourFormat=="twelve"?r.hours==12?r.hours:r.hours+1:r.hours+1,r.mins+1,r.meridian,i);this.model.change&&this._trigger("change",this._argsValue())},_argsValue:function(){return{value:Globalize.format(this._currentTime,this.model.timeFormat)}},_onScrollStop:function(n){if(!n.object._moved){var t=n.model.target.replace(this._id+"_","");this._setProperTime(this.model.renderMode=="windows"?700:200,t);this["_"+this.model.renderMode+"ScrollStop"]&&this["_"+this.model.renderMode+"ScrollStop"](n.model.target,t,n)}},_windowsScrollStop:function(n,t){var i=this._id+"_"+this._target;this._hideWrapper(t)},_flatScrollStop:function(n,t,i){this._windowsScrollStop(n,t,i)},_onScrollStart:function(n){this._target=n.model.target.replace(this._id+"_","");this["_"+this.model.renderMode+"ScrollStart"]&&this["_"+this.model.renderMode+"ScrollStart"](n.model.target,this._target)},_windowsScrollStart:function(t,i){n("#"+t+"").find(".e-m-text.e-m-text-active").removeClass("e-m-text-active");this._hideWrapper(i)},_flatScrollStart:function(n,t){this._windowsScrollStart(n,t)},_hideWrapper:function(t){t&&t=="tphour"&&(this._min.ejmScrollPanel("instance")._moved||n("#"+this._id+"_tpmin").closest(".e-m-timewrapper").removeClass("e-m-scrollstart"),this._meridian.ejmScrollPanel("instance")._moved||n("#"+this._id+"_tpmeridian").closest(".e-m-timewrapper").removeClass("e-m-scrollstart"));t&&t=="tpmin"&&(this._hour.ejmScrollPanel("instance")._moved||n("#"+this._id+"_tphour").closest(".e-m-timewrapper").removeClass("e-m-scrollstart"),this._meridian.ejmScrollPanel("instance")._moved||n("#"+this._id+"_tpmeridian").closest(".e-m-timewrapper").removeClass("e-m-scrollstart"));t&&t=="tpmeridian"&&(this._hour.ejmScrollPanel("instance")._moved||n("#"+this._id+"_tphour").closest(".e-m-timewrapper").removeClass("e-m-scrollstart"),this._min.ejmScrollPanel("instance")._moved||n("#"+this._id+"_tpmin").closest(".e-m-timewrapper").removeClass("e-m-scrollstart"))},_documentClick:function(t){n(t.target).closest("#"+this._id+"_tp.e-m-"+this.model.renderMode+".e-m-tp").size()==0&&n(t.target).closest("#"+this._id+"_Wrapper.e-m-"+this.model.renderMode+".e-m-timepickerwrapper").size()==0?this._menuHide():this._showTimePicker()},_blurEventHandler:function(){this.model.focusOut&&this._trigger("focusOut",this._argsValue())},_menuHide:function(){this._selectedTime!=n(this.element).val()&&this.model.select&&this._trigger("select",this._argsValue());this._selectedTime=n(this.element).val();this._hideTimePicker()},_winToolbarItem:function(n){n.value=="done"?this._setTimeInput():this._hideTimePicker()},_winrtDialogButtonClick:function(t){if(n(t.target).val()=="Done"){var i=this.model.hourFormat=="twelve"?n("#"+this._id+"_tpmeridian").find("select option:selected").val()=="PM"?n("#"+this._id+"_tphour").find("select option:selected").val()=="01"?13:parseInt(n("#"+this._id+"_tphour").find("select option:selected").val())+12:parseInt(n("#"+this._id+"_tphour").find("select option:selected").val()):parseInt(n("#"+this._id+"_tphour").find("select option:selected").val());this._currentTime=new Date((new Date).setHours(parseInt(i),parseInt(n("#"+this._id+"_tpmin").find("select option:selected").val())));this._setTimeInput()}else this._showHidePicker(!0)},_androidDialogButtonClick:function(){this._setTimeInput()},_outerScroll:function(t){n(t.target).closest(".e-m-tp").find(".e-m-timewrapper").addClass("e-m-scrollstart")},_showHidePicker:function(n){var f={currentTarget:this._timepickerwrapper},r=n?"hidden":"visible",u=n?"out":"in",i=t.getMaxZindex();this.element.next("span")[n?"removeClass":"addClass"]("e-m-focusin");this._winrt?this._dialog.ejmDialog(n?"close":"open"):this.model.renderMode=="android"?this._dialog.css("visibility",n?"hidden":"visible").css("z-index",i+1):this.model.renderMode=="windows"&&(this._outerdiv.css({top:n?"":"0px",bottom:n?window.innerHeight+"px":this._toolbar.outerHeight()+"px","z-index":i+1,"visibility ":r}).removeClass("in out").addClass(u),this._outerdiv.find(".e-m-tp-header").css({"z-index":i+2}),this._toolbar.css({"z-index":i+2,visibility:r}))},_showTimePicker:function(){this.model.focusIn&&this._trigger("focusIn",this._argsValue());this._showHidePicker();this._outerdiv.find(".e-m-timewrapper").removeClass("e-m-scrollstart");this.model.open&&this._trigger("open",this._argsValue())},_hideTimePicker:function(){this._showHidePicker(!0);this.model.close&&this._trigger("close",this._argsValue())},_refreshScroller:function(){this._hour.ejmScrollPanel("refresh");this._min.ejmScrollPanel("refresh");this._meridian.ejmScrollPanel("refresh")},_setModel:function(n){var i;for(var t in n)t=="renderMode"||t=="hourFormat"||t=="value"||this.model.renderMode=="ios7"&&t=="renderDefault"?i=!0:(setprop="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[setprop]&&this[setprop](n[t]));i&&this._refresh()},_setTheme:function(n){this.model.theme=n;this._timepickerwrapper.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme);this.model.renderMode!="ios7"||t.isMobile()||this._menu.ejmMenu({theme:this.model.theme});this.model.renderMode=="android"?this._dialog.ejmDialog({theme:this.model.theme}):this.model.renderMode=="windows"&&this._toolbar.ejmToolbar({theme:this.model.theme})},_setTimeFormat:function(){n(this.element).val(Globalize.format(this._currentTime,this.model.timeFormat))},_setEnabled:function(n){this._controlStatus(n)},_controlStatus:function(n){this._timepickerwrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_refresh:function(){this._destroy();this.element.addClass("e-m-timepicker");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.insertAfter(this._timepickerwrapper);this._timepickerwrapper.remove();this._dialog?(this._dialog.ejmDialog("instance")._destroy(),this._dialog.remove(),this._dialog=null):this._toolbar?(this._toolbar.ejmToolbar("instance")._destroy(),this._toolbar.remove(),this._toolbar=null):this._menu&&(this._menu.ejmMenu("instance")._destroy(),this._menu.remove(),this._menu=null);this.element=n(this.element);this._outerdiv.remove()},_destroy:function(){this._wireEvents(!0);this._clearElement()},show:function(n){var n={currentTarget:this._timepickerwrapper};this.model.renderMode=="ios7"?this._menu.ejmMenu("show",n):this._showHidePicker()},hide:function(n){var n={currentTarget:this._timepickerwrapper};this.model.renderMode=="ios7"?this._menu.ejmMenu("hide",n):this._showHidePicker(!0)},enable:function(){this.model.enabled=!0;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},disable:function(){this.model.enabled=!1;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},getValue:function(){return n(this.element).val()},setCurrentTime:function(n){this._currentTime=n;this._setInitialTime()}});t.mobile.TimePicker.HourFormat={TwentyFour:"twentyfour",Twelve:"twelve"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmToggleButton","ej.mobile.ToggleButton",{_setFirst:!0,_rootCSS:"e-m-tbutton",defaults:{theme:"auto",animate:!0,toggleState:!0,renderMode:"auto",windows:{renderDefault:!1},touchStart:null,touchEnd:null,change:null,enabled:!0,enablePersistence:!1},dataTypes:{renderMode:"enum",theme:"enum",animate:"boolean",toggleState:"boolean",enabled:"boolean",enablePersistence:"boolean"},_init:function(){this._cloneElement=this.element.clone();this._browser=t.browser();this._renderControl();this._wireEvents(!1);this.model.enabled?this.enable():this.disable()},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");var n=this.model;this.element.addClass("e-m-tbutton e-m-"+n.renderMode+" e-m-"+n.theme).css({visibility:"hidden"}).addClass("e-m-"+n.renderMode+"corner-all");this._input=t.buildTag("input",{},{},{type:"checkbox","data-role":"none"}).css("display","none");this._innerdiv=t.buildTag("div.e-m-innerdiv");this._filler=t.buildTag("div.e-m-filler");this._offstate=t.buildTag("div.e-m-offstate").html("ON");this._onstate=t.buildTag("div.e-m-onstate").html("OFF");this._slider=t.buildTag("div.e-m-tslider");n.toggleState?(this._input.attr("checked","checked").attr("value",!0),this._offstate.addClass("e-m-active"),this._slider.html("OFF").addClass("e-m-"+n.renderMode+"-active"),this.element.addClass("e-m-"+n.renderMode+"-active")):(this._input.attr("value",!1),this._onstate.addClass("e-m-default"),this._slider.html("ON"));this._input.attr("class","e-m-input");this._innerdiv.append(this._offstate).append(this._slider).append(this._onstate);this.element.append(this._input).append(this._innerdiv).append(this._filler);this._slider.attr("Draggable","false");this.transtime=this.model.renderMode=="flat"||this.model.renderMode=="ios7"?this.model.animate?"200ms":"0ms":"0ms";this._setToggleNativePosition()},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._touchMoveHandler=n.proxy(this._touchMove,this)},_wireEvents:function(n){this._createDelegates();t.listenTouchEvent(this.element,t.startEvent(),this._touchStartHandler,n)},_touchStart:function(n){var r,i,u;t.blockDefaultActions(n);r=n.touches?n.touches[0]:n;this._startPoint=r.pageY;this.maxMove=this.element.width()-this._slider.width();i=this.model;this._flag=!0;this._startstate=i.toggleState;this._startTime=n.timeStamp||Date.now();this._startPos=n.pageX;n=t.isTouchDevice()?n.changedTouches[0]:n;(this.model.renderMode=="flat"||this.model.renderMode=="ios7")&&(this.maxMove=this.maxMove-2);this._slider.addClass("e-m-touchactive");this.element.addClass("e-m-touchactive");this._onstate.addClass("e-m-touchactive");this._position={x:n.pageX,y:n.pageY};this.startValue=this._getNormalValue(this._position);this._handleX=this._slider.offset().left-this.element.offset().left;t.listenEvents([document,document],[t.endEvent(),t.moveEvent()],[this._touchEndHandler,this._touchMoveHandler],!1);u={state:i.toggleState};i.touchStart&&this._trigger("touchStart",u)},_touchMove:function(n){var i,r,u;t.blockDefaultActions(n);i=n.touches?n.touches[0]:n;this._endPoint=i.pageY;this._startPoint!=this._endPoint&&(r=this.model,this._flag=!1,n=t.isTouchDevice()?n.changedTouches[0]:n,this._position={x:n.pageX,y:n.pageY},u=this._getNormalValue(this._position),this._curValue=u-this.startValue,this._endTime=n.timeStamp||Date.now(),this._endPos=n.pageX,this._offstate.css("opacity",1),this._onstate.css("opacity",1),this._transitionTime(this._innerdiv,this.transtime),r.renderMode!="ios7"?this._handleX+this._curValue>=0&&this._handleX+this._curValue<=this.maxMove&&(this.model.renderMode=="android"&&(this._flag?this._onstate.hasClass("e-m-active")?this._offState():this._onState():this._handleX+this._curValue<this.maxMove/2?this._offState():this._onState()),this.model.renderMode=="windows"?(this._translateContent(this._slider,this._handleX+this._curValue),this._filler.width(this._handleX+this._curValue-4)):this._translateContent(this._innerdiv,this._handleX+this._curValue)):this._handleX+this._curValue<this.maxMove/2?this._offState():this._onState())},_touchEnd:function(n){var i,u,r;t.blockDefaultActions(n);this._slider.removeClass("e-m-touchactive");this.element.removeClass("e-m-touchactive");this._onstate.removeClass("e-m-touchactive");i=this.model;t.listenEvents([document,document],[t.endEvent(),t.moveEvent()],[this._touchEndHandler,this._touchMoveHandler],!0);n=t.isTouchDevice()?n.changedTouches[0]:n;u=this._slider.offset().left-this.element.offset().left;this._delTime=this._endTime-this._startTime;this._delPos=this._startstate?-(this._endPos-this._startPos):this._endPos-this._startPos;(i.renderMode==="ios7"||i.renderMode==="windows")&&this._delTime<300&&this._delPos>10?this._startstate?this._offState():this._onState():(i.animate!="true"||this._innerdiv.hasClass("e-m-transition")||this._innerdiv.addClass("e-m-transition"),this._flag?this._onstate.hasClass("e-m-active")?this._offState():this._onState():u<this.maxMove/2?this._offState():this._onState());this._input.attr("checked")?(this._slider.addClass("e-m-"+i.renderMode+"-active"),this.element.addClass("e-m-"+i.renderMode+"-active")):(this._slider.removeClass("e-m-"+i.renderMode+"-active"),this.element.removeClass("e-m-"+i.renderMode+"-active"));r={state:i.toggleState};i.touchEnd&&this._trigger("touchEnd",r);i.change&&this._startstate!=i.toggleState&&this._trigger("change",r)},_setToggleNativePosition:function(){var e=this.model,u,f,r,i,o;this._browser=t.browser();u=this._onstate.removeClass("e-m-onstate").outerWidth();f=this._offstate.removeClass("e-m-offstate").outerWidth();this._onstate.addClass("e-m-onstate");this._offstate.addClass("e-m-offstate");r=this._innerdiv.width;i=Math.max(u,f);i>r&&(n(this._innerdiv).width(i+t.getCurrentPage().find(this._slider,"width")+20),this._onstate.width(i+t.getCurrentPage().find(this._slider,"width")+20),this._offstate.width(i+t.getCurrentPage().find(this._slider,"width")+20));o=Math.max(this._onstate.width(),this._offstate.width());this._flag=!1;this._innerdiv[0].style[this._browser+"TransitionProperty"]="-"+this._browser.toLowerCase()+"-transform";this._innerdiv[0].style[this._browser+"TransitionDuration"]="0ms";this._slider[0].style[this._browser+"TransitionProperty"]="-"+this._browser.toLowerCase()+"-transform";this._slider[0].style[this._browser+"TransitionDuration"]="0ms";this.model.renderMode=="ios7"&&this._slider.css("-"+this._browser+"-Transition"," width 0.5s ease");this._innerdiv.css("-"+this._browser+"-user-select","none");i>r&&this._offstate.css("left",-(i-t.getDimension(this._slider,"width")/2+this._slider.width()+10));e.toggleState?this._onState():this._offState();this._transitionTime(this._innerdiv,this.transtime);this.element.css({visibility:"visible"})},_getNormalValue:function(n){var t,i,r,u;return t=n.x-this.element.offset().left,i=t/this.element[0].offsetWidth,r=this.element.width(),u=i*r,this._trimValue(u)},_trimValue:function(n){var t=1,i=n%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_offState:function(){modelobj=this.model;modelobj.toggleState=!1;this._input.removeAttr("checked","checked").attr("value",!1);this._onstate.addClass("e-m-default").removeClass("e-m-active");this._slider.html("OFF");this._onstate.css("opacity",1);this._transitionTime(this._innerdiv,this.transtime);modelobj.renderMode=="windows"?(this._translateContent(this._slider,0),this._filler.width("0px")):this._translateContent(this._innerdiv,0);this._slider.removeClass("e-m-"+modelobj.renderMode+"-active");this.element.removeClass("e-m-"+modelobj.renderMode+"-active");this._transitionTime(this._offstate,this.transtime);this.model.renderMode=="ios7"&&this._translateContent(this._innerdiv,0)},_onState:function(){modelobj=this.model;modelobj.toggleState=!0;this._input.attr("checked","checked").attr("value",!0);this._slider.html("ON");this._offstate.css("opacity",1);this._transitionTime(this._innerdiv,this.transtime);var n=modelobj.renderMode=="flat"?52:49;this.model.renderMode=="windows"?(this._translateContent(this._slider,43),this._filler.width("39px")):this._translateContent(this._innerdiv,n);this._slider.addClass("e-m-"+modelobj.renderMode+"-active");this.element.addClass("e-m-"+modelobj.renderMode+"-active");this._onstate.addClass("e-m-active").removeClass("e-m-default");this._transitionTime(this._onstate,this.transtime);this.model.renderMode=="ios7"&&this._translateContent(this._innerdiv,22)},_transitionTime:function(n,i){n[0].style[t.transitionDuration]=i},_translateContent:function(n,i){n[0].style[t.transform]="translateX("+i+"px)"},_setModel:function(n){var i;for(var r in n)switch(r){case"theme":this.element.removeClass("e-m-light e-m-dark e-m-default").addClass("e-m-"+n.theme.toLowerCase());break;case"renderMode":n.renderMode=="auto"?t.setRenderMode(this):this.model.renderMode=n.renderMode;i=!0;break;case"toggleState":this._setToggleNativePosition();break;case"animate":i=!0;break;case"enabled":n.enabled?this.enable():this.disable()}i&&this._refresh()},_refresh:function(){this._clearElement();this._renderControl();this._wireEvents()},_clearElement:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html("")},_destroy:function(){this._cloneElement.insertBefore(this.element).removeClass("e-m-tbutton");this.element.remove()},disable:function(){this.element.addClass("e-m-state-disabled");this._wireEvents(!0);this.model.enabled=!1},enable:function(){this.element.removeClass("e-m-state-disabled");this._wireEvents(!1);this.model.enabled=!0}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmNavigationDrawer","ej.mobile.NavigationDrawer",{_setFirst:!0,_rootCSS:"e-m-nb",_prefixClass:"e-m-",defaults:{renderMode:"auto",theme:"auto",allowScrolling:!1,scrollSettings:{},considerSubPage:!0},dataTypes:{renderMode:"enum",theme:"enum"},_init:function(){this._load();this._renderControl();this._renderEJMControls();this._createDelegate();this._wireEvents()},_load:function(){t.setRenderMode(this);t.setTheme(this);this._browser=t.browser();this._setRenderMode();this.model.position=="normal"?(this._elementWrapper=t.buildTag("div#"+this._id+"_WrapContainer",{},{},{"class":this._rootCSS+" e-m-nb-container"}),this.element.wrapAll(this._elementWrapper),this._nbHome=n("#"+this._id+"_WrapContainer").parent()):(this._nbHome=this.model.considerSubPage&&this.element.closest(".subpage").length?this.element.closest(".subpage"):this.element.closest(".appview"),this.element.appendTo(this._nbHome))},_renderEJMControls:function(){this.model.enableListView?(this._lb=t.buildTag("div#"+this._id+"_listview",{},{},{"class":"e-m-nb-listview"}),this.element.find("ul").wrapAll(this._lb),this._lb=t.getCurrentPage().find(n("#"+this._id+"_listview")),this.model.listViewSettings.renderMode=this.model.renderMode,this.model.listViewSettings.theme=this.model.theme,this._lb.ejmListView(this.model.listViewSettings),this._lb.ejmListView({loadComplete:n.proxy(this._setLayout,this)})):this.model.allowScrolling&&(this._scrollbar=t.buildTag("div#"+this._id+"_scrollpane",{},{},{"class":"e-m-nb-scrollpane"}),this._scrollWrap=t.buildTag("div#"+this._id+"_scrollwrap",{},{},{"class":"e-m-nb-scrollwrap"}),n(this.element).wrapInner(this._scrollWrap),n("#"+this._id+"_scrollwrap").wrapInner("<div><\/div>"),this.element.append(this._scrollbar),this._scrollbar=t.getCurrentPage().find(n("#"+this._id+"_scrollpane")),this.model.scrollSettings.target=this._id+"_scrollwrap",this.model.scrollSettings.renderMode=this.model.rederMode,this.model.scrollSettings.theme=this.model.theme,this._scrollbar.ejmScrollPanel(this.model.scrollSettings))},_setModel:function(n){var t=!1;for(var i in n){switch(i){case"width":this._setWidth();this._setLayout();break;case"direction":this._setLayout();break;case"type":this._transform(0,0,!0);this._transform(0,0,!1);break;case"rendermode":case"theme":this._setRenderMode();break;default:t=!0}t&&this._refresh()}},_setRenderMode:function(){this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat e-m-dark e-m-light e-m-tablet e-m-mobile");this.element.addClass("e-m-"+this.model.renderMode+" e-m-"+this.model.theme+(t.isMobile()?" e-m-mobile":" e-m-tablet"));this._lb&&this._lb.ejmListView({renderMode:this.model.renderMode});this._scrollbar&&this._scrollbar.ejmScrollPanel({renderMode:this.model.renderMode})},_destroyEJMPlugin:function(){this._lb&&(this._lb.ejmListView("destroy"),this._lb.children().unwrap());this._scrollbar&&(this._scrollbar.ejmScrollPanel("destroy"),this._scrollbar&&this._scrollbar.remove())}});n.extend(!0,t.mobile.NavigationDrawer.prototype,t.NavigationDrawerBase.prototype);n.extend(!0,t.mobile.NavigationDrawer.prototype.defaults.listViewSettings,t.mobile.ListView.prototype.defaults);n.extend(!0,t.mobile.NavigationDrawer.prototype.defaults.scrollSettings,t.mobile.ScrollPanel.prototype.defaults)}(jQuery,Syncfusion),function(n,t){t.widget("ejmRadialMenu","ej.mobile.RadialMenu",{_setFirst:!0,_rootCSS:"e-m-radialmenu",defaults:{renderMode:"auto",width:null,imageClass:"e-m-radialimage",backImageClass:"e-m-backimage",touchEnd:null,touchStart:null,select:null,position:"rightcenter",theme:"auto"},dataTypes:{},_init:function(){this._initialization();this._setValues();this.model.renderMode!="windows"&&this.model.renderMode!="flat"?this._renderMobRadial():this._renderRadial();this._wireEvents()},_setValues:function(){t.setRenderMode(this);t.setTheme(this);this._degDis=0;this._totDis=0;this._prefix="e-m-";this._startEvent="tocuhStart";this._endEvent="touchEnd";this._pos=this.model.position;this.element.addClass("e-m-radialmenu e-m-overlow e-m-abs e-m-user-select e-m-"+this.model.renderMode+" e-m-"+this.model.theme+"")},_renderMobRadial:function(){this._radialSVG=this._createSVGElement();this._radialChildSVG=this._createSVGElement();this._radial=t.buildTag("div.e-m-radial e-m-abs "+this.model.imageClass+"").css({left:this._startXY-25+"px",top:this._startXY-25+"px"});this._radialContainer=t.buildTag("div.e-m-rel").css({height:this.model.width,width:this.model.width});this.element.append(this._radialContainer.append(this._radial)).addClass("e-m-radial"+this.model.position+"");this._pos.charAt(0).toLowerCase()=="r"?this._radialContainer.addClass("e-m-radialright").css("right",-this._startXY+"px"):this._radialContainer.css("left",-this._startXY+"px");this._posCenter();this["_"+this.model.renderMode+"RadialMenu"]()},_wireEvents:function(){this._mobRadialClickHandler=n.proxy(this._mobRadialClickHandler,this);this._menuMouseDownClickHandler=n.proxy(this._menuMouseDownClickHandler,this);this._menuMouseMoveClickHandler=n.proxy(this._menuMouseMoveClickHandler,this);this._menuMouseUpClickHandler=n.proxy(this._menuMouseUpClickHandler,this);this._resizeEventHandler=n.proxy(this._resizeEventHandler,this);this.model.renderMode!="windows"&&this.model.renderMode!="flat"?(t.listenTouchEvent(this._radial,t.endEvent(),this._mobRadialClickHandler,!1),t.listenEvents([window,window],["orientationchange","resize"],[this._resizeEventHandler,this._resizeEventHandler],!1),t.listenTouchEvent(this._radialSVGDiv,"mouseleave",this._menuMouseUpClickHandler,!1)):(this._radialClickHandler=n.proxy(this._radialClickHandler,this),t.listenTouchEvent(this._radial,t.tapEvent(),this._radialClickHandler,!1))},_ios7RadialMenu:function(){this._menuItemRender()},_windowsRadialMenu:function(){},_flatRadialMenu:function(){},_menuItemRender:function(){var r,i,e,o;for(this._menuItemsGroup=this._createGroupElement(),this._menuItemsGroup.setAttribute("id","menuitemsgroup"),this._radialSVGDiv=t.buildTag("div#radialsvgdiv.e-m-abs").css("height",this.model.width),this._radialMenuSVGDiv=t.buildTag("div#radialmenusvgdiv .e-m-abs e-m-displaynone"),r=this._calculateRadialArc(this._menuCount,1,.35,.2,.95),i=0;i<this._menuCount;i++){var s=this._createGroupElement(),u=this._createCircleElement(),f=this._createImageElement(),c=n(this._menuItems.children("li")[i]).attr("data-ej-imagepath"),l=n(this._menuItems.children("li")[i]).attr("data-ej-imagename"),h=n(this._menuItems.children("li")[i]).attr("data-ej-imageurl"),a;a=this.model.renderMode=="flat"?h?h:c+"/"+this.model.renderMode.toLowerCase()+"/"+l:h?h:c+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+l;f.setAttribute("width",32);f.setAttribute("height",32);f.setAttributeNS("http://www.w3.org/1999/xlink","href",a);f.setAttribute("x",r.midx[i]-16);f.setAttribute("y",r.midy[i]-16);n(n(this._menuItems.children()[i]).find("ul")).length!=0&&(u.setAttribute("cx",r.midx[i]),u.setAttribute("cy",r.midy[i]),u.setAttribute("r",20),u.setAttribute("stroke","#FFFFFF"),u.setAttribute("stroke-width",2),u.setAttribute("fill","none"),n(s).append(u));this.model.renderMode!="ios7"&&(u.setAttribute("cy",r.midy[i]-14),f.setAttribute("y",r.midy[i]-30),e=this._createTextElement(),e.textContent=n(this._menuItems.children("li")[i]).attr("data-ej-text"),e.setAttribute("x",r.midx[i]),e.setAttribute("y",r.midy[i]+20),e.setAttribute("style","text-anchor: middle;font-size: 12px;font-family: Segoe UI;"),e.setAttribute("class","e-m-textcolor"),n(s).append(e));n(s).append(f);n(this._menuItemsGroup).append(s)}o=this._createCircleElement();o.setAttribute("cx",this._startXY);o.setAttribute("cy",this._startXY);o.setAttribute("r",this._startXY);o.setAttribute("class","e-m-radialdefault");this._radialContainer.append(n(this._radialSVGDiv).append(this._radialMenuSVGDiv.append(n(this._radialSVG).append(o).append(this._menuItemsGroup))));this._menuTouchEndHandler=n.proxy(this._menuItemsTocuhEndHandler,this);this._menuTouchStartHandler=n.proxy(this._menuItemsTouchStartHandler,this);t.listenEvents([n(this._menuItemsGroup).children(),n(this._menuItemsGroup).children()],[t.startEvent(),t.endEvent()],[this._menuTouchStartHandler,this._menuTouchEndHandler],!1)},_childItemRender:function(i,r){var o,u,e,s;for(this._radialMenuSVGDiv.removeClass("e-m-scalehide e-m-scaleshow").addClass("e-m-displaynone"),this._degDis=0,this._totDis=0,n(this._radialSVG).css("transform","rotate(0deg)"),n(this._radialChildSVG).css("transform","rotate(0deg)"),this._radial.addClass("e-m-backarrow "+this.model.backImageClass+""),this._menuChildItemsGroup=this._createGroupElement(),this._menuChildItemsGroup.setAttribute("id","menuchilditemsgroup"),o=this._calculateRadialArc(r,1,.35,.2,.95),u=0;u<r;u++){var c=this._createGroupElement(),f=this._createImageElement(),l=n(i.children()[u]).attr("data-ej-imagepath"),a=n(i.children()[u]).attr("data-ej-imagename"),h=n(i.children()[u]).attr("data-ej-imageurl"),v;v=this.model.renderMode=="flat"?h?h:l+"/"+this.model.renderMode.toLowerCase()+"/"+a:h?h:l+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+a;f.setAttribute("width",32);f.setAttribute("height",32);f.setAttributeNS("http://www.w3.org/1999/xlink","href",v);f.setAttribute("x",o.midx[u]-16);f.setAttribute("y",o.midy[u]-16);this.model.renderMode!="ios7"&&(f.setAttribute("y",o.midy[u]-32),e=this._createTextElement(),e.textContent=n(i.children()[u]).attr("data-ej-text"),e.setAttribute("x",o.midx[u]),e.setAttribute("y",o.midy[u]+20),e.setAttribute("style","text-anchor: middle;font-size: 12px;font-family: Segoe UI;"),e.setAttribute("class","e-m-textcolor"),n(c).append(e));n(c).append(f);n(this._menuChildItemsGroup).append(c)}s=this._createCircleElement();s.setAttribute("cx",this._startXY);s.setAttribute("cy",this._startXY);s.setAttribute("r",this._startXY);s.setAttribute("class","e-m-radialdefault");this._menuChildSVGDiv=t.buildTag("div#menuchildsvgdiv.e-m-abs e-m-scaleshow");this._radialSVGDiv.append(this._menuChildSVGDiv.append(n(this._radialChildSVG).append(s).append(this._menuChildItemsGroup)));this._childTouchEndHandler=n.proxy(this._childItemsTocuhEndHandler,this);this._childTouchStartHandler=n.proxy(this._childItemsTouchStartHandler,this);t.listenEvents([n(this._menuChildItemsGroup).children(),n(this._menuChildItemsGroup).children()],[t.startEvent(),t.endEvent()],[this._childTouchStartHandler,this._childTouchEndHandler],!1)},_menuItemsTocuhEndHandler:function(t){this._childIndex=n(t.currentTarget).index();var i=n(this._menuItems.children()[this._childIndex]).children(),r=n(i.children()).length;r!=0?this._childItemsRender(i,r):(this.model.touchEnd&&this._trigger("touchEnd",{index:this._childIndex}),this.model.select&&this._trigger("select",{index:this._childIndex}))},_menuItemsTocuhStartHandler:function(){this.model.touchStart&&this._trigger("touchStart",{index:this._childIndex})},_childItemsRender:function(n,t){this._childItemRender(n,t)},_childItemsTocuhEndHandler:function(t){var i=n(t.currentTarget).index();this.model.touchEnd&&this._trigger("touchEnd",{index:this._childIndex,childIndex:i});this.model.select&&this._trigger("select",{index:this._childIndex,childIndex:i})},_childItemsTouchStartHandler:function(t){var i=n(t.currentTarget).index();this.model.touchStart&&this._trigger("touchStart",{index:this._childIndex,childIndex:i})},_mobRadialClickHandler:function(){this._radial.hasClass("e-m-backarrow")?(this._degDis=0,this._totDis=0,n(this._radialSVG).css("transform","rotate(0deg)"),n(this._radialChildSVG).css("transform","rotate(0deg)"),this._menuChildSVGDiv.removeClass("e-m-scaleshow").addClass("e-m-scalehide"),this._radial.removeClass("e-m-backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass),setTimeout(function(){n("#menuchildsvgdiv.e-m-abs").remove()},150),setTimeout(function(){n("#radialmenusvgdiv.e-m-abs").removeClass("e-m-scalehide e-m-displaynone").addClass("e-m-scaleshow")},200)):this._radialMenuSVGDiv.hasClass("e-m-displaynone")?(this._degDis=0,this._totDis=0,n(this._radialSVG).css("transform","rotate(0deg)"),n(this._radialChildSVG).css("transform","rotate(0deg)"),this._radialMenuSVGDiv.removeClass("e-m-displaynone e-m-radialhide").addClass("e-m-radialshow"),t.listenTouchEvent(this._radialSVGDiv,t.startEvent(),this._menuMouseDownClickHandler,!1)):(this._radialMenuSVGDiv.removeClass("e-m-radialshow e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n("#radialmenusvgdiv.e-m-abs").addClass("e-m-displaynone")},160),t.listenTouchEvent(this._radialSVGDiv,t.startEvent(),this._menuMouseDownClickHandler,!0))},_menuMouseDownClickHandler:function(n){n.preventDefault();t.isTouchDevice()&&(n=n.changedTouches[0]);this._startY=n.clientY;t.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[t.moveEvent(),t.endEvent()],[this._menuMouseMoveClickHandler,this._menuMouseUpClickHandler],!1);t.listenTouchEvent(this._radialSVGDiv,t.startEvent(),this._menuMouseDownClickHandler,!0)},_menuMouseMoveClickHandler:function(i){i.preventDefault();t.isTouchDevice()&&(i=i.changedTouches[0]);this._relativeDis=i.clientY-this._startY;this._degDis!=0&&(this._relativeDis+=this._totDis);this._degDis=this._pos.charAt(0).toLowerCase()=="r"?-(this._relativeDis%360):this._relativeDis%360;n(this._radialSVG).css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"});n(this._radialChildSVG).css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"})},_menuMouseUpClickHandler:function(){this._totDis=this._relativeDis;n(this._radialSVG).css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"});n(this._radialChildSVG).css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"});t.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[t.moveEvent(),t.endEvent()],[this._menuMouseMoveClickHandler,this._menuMouseUpClickHandler],!0);t.listenTouchEvent(this._radialSVGDiv,t.startEvent(),this._menuMouseDownClickHandler,!1)},_resizeEventHandler:function(){this._posCenter()},_posCenter:function(){(this._pos=="rightcenter"||this._pos=="leftcenter")&&this.element.css({top:n(window).innerHeight()/2-this.model.width/2+"px"})},_androidRadialMenu:function(){var i,o,e;this._menuItemsGroup=this._createGroupElement();this._menuItemsGroup.setAttribute("id","menuitemsgroup");this._androidArcGroup=this._createGroupElement();this._androidArcGroup.setAttribute("id","androidarcgroup");this._imageGroup=this._createGroupElement();this._imageGroup.setAttribute("id","imagegroup");this._imageGroup.setAttribute("transform","translate(-15,-15)");this._radialSVGDiv=t.buildTag("div#radialsvgdiv.e-m-abs").css("height",this.model.width);this._radialMenuSVGDiv=t.buildTag("div#radialmenusvgdiv.e-m-abs e-m-displaynone");var r=this._calculateRadialArc(this._menuCount,1,.4,.6,null),u=this._calculateRadialArc(this._menuCount,.6,null,.95,null),s=this._createGroupElement();for(i=0;i<this._menuCount;i++){direction="M "+r.x1[i]+" "+r.y1[i]+" A "+r.radius+" "+r.radius+" 0 "+r.longArc[i]+" 1 "+r.x2[i]+" "+r.y2[i]+" L "+r.dEndX[i]+" "+r.dEndY[i]+" A "+r.dradius+" "+r.dradius+" 1 "+r.longArc[i]+" 0 "+r.dStartX[i]+" "+r.dStartY[i]+" z";arcDirection="M "+u.x1[i]+" "+u.y1[i]+" A "+u.radius+" "+u.radius+" 0 "+u.longArc[i]+" 1 "+u.x2[i]+" "+u.y2[i]+" L "+u.dEndX[i]+" "+u.dEndY[i]+" A "+u.dradius+" "+u.dradius+" 1 "+u.longArc[i]+" 0 "+u.dStartX[i]+" "+u.dStartY[i]+" z";var f=this._createImageElement(),c=n(this._menuItems.children("li")[i]).attr("data-ej-imagepath"),l=n(this._menuItems.children("li")[i]).attr("data-ej-imagename"),h=n(this._menuItems.children("li")[i]).attr("data-ej-imageurl"),a=h?h:c+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+l;f.setAttribute("width",32);f.setAttribute("height",32);f.setAttributeNS("http://www.w3.org/1999/xlink","href",a);f.setAttribute("x",r.midx[i]);f.setAttribute("y",r.midy[i]);n(this._imageGroup).append(f);o=this._createPathElement();o.setAttribute("class","e-m-radialdefault");o.setAttribute("index",i);o.setAttribute("d",direction);e=this._createPathElement();e.setAttribute("class","e-m-radialarcdefault");e.setAttribute("index",i);e.setAttribute("d",arcDirection);n(n(this._menuItems.children()[i]).find("ul")).length!=0&&e.setAttribute("class","e-m-radialactive");n(this._androidArcGroup).append(o);n(s).append(e)}this._radialContainer.append(this._radialSVGDiv.append(this._radialMenuSVGDiv.append(n(this._radialSVG).append(n(this._menuItemsGroup).append(this._androidArcGroup).append(this._imageGroup).append(s)))));this._androidArcStartHandler=n.proxy(this._androidArcStartHandler,this);t.listenEvents([n(this._androidArcGroup).children(),n(this._imageGroup).children()],[t.startEvent(),t.startEvent()],[this._androidArcStartHandler,this._androidArcStartHandler],!1)},_androidArcStartHandler:function(i){if(this.model.touchStart&&this._trigger("touchStart",{index:this._childIndex}),i.currentTarget.tagName=="path")n(i.target).attr("class","e-m-radialactive");else{var r=n(i.currentTarget).index();n(n("#androidarcgroup path[index="+r+"]")).attr("class","e-m-radialactive")}this._androidArcEndHandler=n.proxy(this._androidArcEndHandler,this);t.listenEvents([n(this._androidArcGroup).children(),n(this._androidArcGroup).children(),n(this._imageGroup).children(),n(this._imageGroup).children()],[t.endEvent(),"mouseleave",t.endEvent(),"mouseleave"],[this._androidArcEndHandler,this._androidArcEndHandler,this._androidArcEndHandler,this._androidArcEndHandler],!1);t.listenEvents([n(this._androidArcGroup).children(),n(this._imageGroup).children()],[t.startEvent(),t.startEvent()],[this._androidArcStartHandler,this._androidArcStartHandler],!0)},_androidArcEndHandler:function(i){this._childIndex=n(i.currentTarget).index();i.currentTarget.tagName=="path"?n(i.target).attr("class","e-m-radialdefault"):n(n("#androidarcgroup path[index="+this._childIndex+"]")).attr("class","e-m-radialdefault");t.listenEvents([n(this._androidArcGroup).children(),n(this._imageGroup).children()],[t.startEvent(),t.startEvent()],[this._androidArcStartHandler,this._androidArcStartHandler],!1);t.listenEvents([n(this._androidArcGroup).children(),n(this._androidArcGroup).children(),n(this._imageGroup).children(),n(this._imageGroup).children()],[t.endEvent(),"mouseleave",t.endEvent(),"mouseleave"],[this._androidArcEndHandler,this._androidArcEndHandler,this._androidArcEndHandler,this._androidArcEndHandler],!0);var r=n(this._menuItems.children()[this._childIndex]).children(),u=n(r.children()).length;u!=0?this._androidChildItems(r,u):(this.model.touchEnd&&this._trigger("touchEnd",{index:this._childIndex}),this.model.select&&this._trigger("select",{index:this._childIndex}))},_androidChildItems:function(i,r){var u,s,h;this._degDis=0;this._totDis=0;n(this._radialSVG).css("transform","rotate(0deg)");n(this._radialChildSVG).css("transform","rotate(0deg)");setTimeout(function(){n("#radialmenusvgdiv.e-m-abs").removeClass("e-m-scalehide e-m-scaleshow").addClass("e-m-displaynone")},150);this._radial.addClass("e-m-backarrow "+this.model.backImageClass+"");this._menuChildItemsGroup=this._createGroupElement();this._menuChildItemsGroup.setAttribute("id","menuchilditemsgroup");this._androidChildArcGroup=this._createGroupElement();this._androidChildArcGroup.setAttribute("id","androidchildarcgroup");this._childImageGroup=this._createGroupElement();this._childImageGroup.setAttribute("id","childimagegroup");this._childImageGroup.setAttribute("transform","translate(-15,-15)");var f=this._calculateRadialArc(r,1,.4,.6,null),e=this._calculateRadialArc(r,.6,null,.95,null),c=this._createGroupElement();for(u=0;u<r;u++){direction="M "+f.x1[u]+" "+f.y1[u]+" A "+f.radius+" "+f.radius+" 0 "+f.longArc[u]+" 1 "+f.x2[u]+" "+f.y2[u]+" L "+f.dEndX[u]+" "+f.dEndY[u]+" A "+f.dradius+" "+f.dradius+" 1 "+f.longArc[u]+" 0 "+f.dStartX[u]+" "+f.dStartY[u]+" z";arcDirection="M "+e.x1[u]+" "+e.y1[u]+" A "+e.radius+" "+e.radius+" 0 "+e.longArc[u]+" 1 "+e.x2[u]+" "+e.y2[u]+" L "+e.dEndX[u]+" "+e.dEndY[u]+" A "+e.dradius+" "+e.dradius+" 1 "+e.longArc[u]+" 0 "+e.dStartX[u]+" "+e.dStartY[u]+" z";var o=this._createImageElement(),a=n(i.children("li")[u]).attr("data-ej-imagepath"),v=n(i.children("li")[u]).attr("data-ej-imagename"),l=n(i.children()[u]).attr("data-ej-imageurl"),y=l?l:a+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.theme.toLowerCase()+"/"+v;o.setAttribute("width",32);o.setAttribute("height",32);o.setAttributeNS("http://www.w3.org/1999/xlink","href",y);o.setAttribute("x",f.midx[u]);o.setAttribute("y",f.midy[u]);n(this._childImageGroup).append(o);s=this._createPathElement();s.setAttribute("class","e-m-radialdefault");s.setAttribute("index",u);s.setAttribute("d",direction);h=this._createPathElement();h.setAttribute("class","e-m-radialarcdefault");h.setAttribute("index",u);h.setAttribute("d",arcDirection);n(this._androidChildArcGroup).append(s);n(c).append(h)}this._menuChildSVGDiv=t.buildTag("div#menuchildsvgdiv.e-m-abs e-m-scaleshow");this._radialSVGDiv.append(this._menuChildSVGDiv.append(n(this._radialChildSVG).append(n(this._menuChildItemsGroup).append(this._androidChildArcGroup).append(this._childImageGroup).append(c))));this._androidChildArcStartHandler=n.proxy(this._androidChildArcStartHandler,this);t.listenEvents([n(this._androidChildArcGroup).children(),n(this._childImageGroup).children()],[t.startEvent(),t.startEvent()],[this._androidChildArcStartHandler,this._androidChildArcStartHandler],!1)},_androidChildArcStartHandler:function(i){if(this.model.touchStart&&this._trigger("touchStart",{index:this._childIndex,childIndex:r}),i.currentTarget.tagName=="path")n(i.target).attr("class","e-m-radialactive");else{var r=n(i.currentTarget).index();n(n("#androidchildarcgroup path[index="+r+"]")).attr("class","e-m-radialactive")}this._androidChildArcEndHandler=n.proxy(this._androidChildArcEndHandler,this);t.listenEvents([n(this._androidChildArcGroup).children(),n(this._androidChildArcGroup).children(),n(this._childImageGroup).children(),n(this._childImageGroup).children()],[t.endEvent(),"mouseleave",t.endEvent(),"mouseleave"],[this._androidChildArcEndHandler,this._androidChildArcEndHandler,this._androidChildArcEndHandler,this._androidChildArcEndHandler],!1);t.listenEvents([n(this._androidChildArcGroup).children(),n(this._childImageGroup).children()],[t.startEvent(),t.startEvent()],[this._androidChildArcStartHandler,this._androidChildArcStartHandler],!0)},_androidChildArcEndHandler:function(i){var r=n(i.currentTarget).index();i.currentTarget.tagName=="path"?n(i.target).attr("class","e-m-radialdefault"):n(n("#androidchildarcgroup path[index="+r+"]")).attr("class","e-m-radialdefault");t.listenEvents([n(this._androidChildArcGroup).children(),n(this._childImageGroup).children()],[t.startEvent(),t.startEvent()],[this._androidChildArcStartHandler,this._androidChildArcStartHandler],!1);t.listenEvents([n(this._androidChildArcGroup).children(),n(this._androidChildArcGroup).children(),n(this._childImageGroup).children(),n(this._childImageGroup).children()],[t.endEvent(),"mouseleave",t.endEvent(),"mouseleave"],[this._androidChildArcEndHandler,this._androidChildArcEndHandler,this._androidChildArcEndHandler,this._androidChildArcEndHandler],!0);this.model.touchEnd&&this._trigger("touchEnd",{index:this._childIndex,childIndex:r});this.model.select&&this._trigger("select",{index:this._childIndex,childIndex:r})},_radialClickHandler:function(){this._radial.hasClass("e-m-backarrow")?(this._menuChildSVGDiv.removeClass("e-m-scaleshow").addClass("e-m-scalehide"),this._radial.removeClass("e-m-backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass),setTimeout(function(){n("#menuchildsvgdiv.e-m-abs").remove()},150),setTimeout(function(){n("#radialchildsvgdiv.e-m-abs").removeClass("e-m-scalehide e-m-displaynone").addClass("e-m-scaleshow")},200)):this._radialCircleSVGDiv.hasClass("e-m-displaynone")?(this._radialCircleSVGDiv.removeClass("e-m-displaynone e-m-radialhide").addClass("e-m-radialshow"),this._radialChildSVGDiv.removeClass("e-m-displaynone e-m-radialhide").addClass("e-m-radialshow")):(this._radialCircleSVGDiv.removeClass("e-m-radialshow").addClass("e-m-radialhide"),this._radialChildSVGDiv.removeClass("e-m-radialshow e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n("#radialcirclesvgdiv.e-m-abs").addClass("e-m-displaynone");n("#radialchildsvgdiv.e-m-abs").addClass("e-m-displaynone")},160))},_radialChildAnimate:function(){setTimeout(function(){n("#radialchildsvgdiv.e-m-abs").removeClass("e-m-scalehide e-m-scaleshow").addClass("e-m-displaynone")},150)},show:function(){this.element.removeClass("e-m-displaynone")},hide:function(){this.element.addClass("e-m-displaynone")},menuHide:function(){this.model.renderMode!="windows"&&this.model.renderMode!="flat"?n("#menuchildsvgdiv.e-m-abs").length!=0?(this._radialMenuSVGDiv.removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide").addClass("e-m-displaynone"),this._menuChildSVGDiv.removeClass("e-m-scaleshow").addClass("e-m-radialhide"),this._radial.removeClass("e-m-backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass),setTimeout(function(){n("#menuchildsvgdiv.e-m-abs").removeClass("e-m-radialhide").remove()},150)):(this._radialMenuSVGDiv.removeClass("e-m-radialshow e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n("#radialmenusvgdiv.e-m-abs").addClass("e-m-displaynone").removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide")},160)):n("#menuchildsvgdiv.e-m-abs").length!=0?(this._radialCircleSVGDiv.removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide").addClass("e-m-displaynone"),this._radialChildSVGDiv.removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide").addClass("e-m-displaynone"),this._radial.removeClass("e-m-backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass),this._menuChildSVGDiv.removeClass("e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n("#menuchildsvgdiv.e-m-abs").removeClass("e-m-radialhide").remove()},150)):(this._radialCircleSVGDiv.removeClass("e-m-radialshow").addClass("e-m-radialhide"),this._radialChildSVGDiv.removeClass("e-m-radialshow e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n("#radialcirclesvgdiv.e-m-abs").addClass("e-m-displaynone").removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide");n("#radialchildsvgdiv.e-m-abs").addClass("e-m-displaynone").removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-scalehide")},160))}});n.extend(!0,t.mobile.RadialMenu.prototype,t.RadialMenuBase.prototype)}(jQuery,Syncfusion);ej.Ej3DRender=function(){},function(n){var i;ej.Ej3DRender.Polygons=[];ej.Ej3DRender.prototype={matrix3D:function(){},vector3D:function(){},BSPTreeBuilder:function(){},Graphics3D:function(){},polygon3D:function(){}};i=new ej.Ej3DRender;i.vector3D.prototype={x:"",y:"",z:"",Epsilon:1e-5,isValid:function(n){return!isNaN(n.x)&&!isNaN(n.y)&&!isNaN(n.z)},vector3D:function(n,t){this.x=n.x;this.y=n.y;this.z=t},vector3D:function(n,t,i){return this.x=n,this.y=t,this.z=i,{x:n,y:t,z:i}},vector3DMinus:function(n,t){return this.vector3D(n.x-t.x,n.y-t.y,n.z-t.z)},vector3DPlus:function(n,t){return this.vector3D(n.x+t.x,n.y+t.y,n.z+t.z)},vector3DMultiply:function(n,t){var i=n.y*t.z-t.y*n.z,r=n.z*t.x-t.z*n.x,u=n.x*t.y-t.x*n.y;return this.vector3D(i,r,u)},vector3dAND:function(n,t){return n.x*t.x+n.y*t.y+n.z*t.z},vector3DStarMultiply:function(n,t){var i=n.x*t,r=n.y*t,u=n.z*t;return this.vector3D(i,r,u)},getLength:function(n){var t=this.vector3dAND(n,n);return Math.sqrt(t)},normalize:function(){var n=this.getLength();x/=n;y/=n;z/=n},getNormal:function(n,t,i){var f=this.vector3DMinus(n,t),e=this.vector3DMinus(i,t),u=this.vector3DMultiply(f,e),r=this.getLength(u);return r<this.Epsilon&&(r=0),{x:u.x/r,y:u.y/r,z:u.z/r}}};i.matrix3D.prototype={MATRIX_SIZE:4,matrix3D:function(n){for(var i=[],t=0;t<n;t++)i[t]=this.createArray(n);return i},isAffine:function(n){return n[0][3]==0&&n[1][3]==0&&n[2][3]==0&&n[3][3]==1},createArray:function(n){var t=[];for(index=0;index<n;++index)t[index]=0;return t},getIdentity:function(){for(var t=this.matrix3D(this.MATRIX_SIZE),n=0;n<this.MATRIX_SIZE;n++)t[n][n]=1;return t},getInvertal:function(n){for(var t,i=this.getIdentity(),r=0;r<this.MATRIX_SIZE;r++)for(t=0;t<this.MATRIX_SIZE;t++)i[r][t]=this.getMinor(n,r,t);return i=this.transposed(i),this.getMatrixMultiple(1/this.getDeterminant(n),i)},getMatrixMultiple:function(n,t){for(var r,i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)t[i][r]=t[i][r]*n;return t},getMatrixVectorMutiple:function(n,t){var r=n[0][0]*t.x+n[1][0]*t.y+n[2][0]*t.z+n[3][0],u=n[0][1]*t.x+n[1][1]*t.y+n[2][1]*t.z+n[3][1],f=n[0][2]*t.x+n[1][2]*t.y+n[2][2]*t.z+n[3][2],i;return this.isAffine(n)||(i=1/(n[0][3]*t.x+n[1][3]*t.y+n[2][3]*t.z+n[3][3]),r*=i,u*=i,f*=i),{x:r,y:u,z:f}},getMatrixVectorAnd:function(n,t){var r=n[0][0]*t.x+n[1][0]*t.y+n[2][0]*t.z,u=n[0][1]*t.x+n[1][1]*t.y+n[2][1]*t.z,f=n[0][2]*t.x+n[1][2]*t.y+n[2][2]*t.z;return i.vector3D.prototype.vector3D(r,u,f)},getMatrixAdd:function(n,t){for(var i,u=this.matrix3D(4),r=0;r<4;r++)for(i=0;i<4;i++)u[r][i]=n[r][i]+t[r][i];return u},getMatrixMultiplication:function(n,t){for(var i,f,r,o,e=this.getIdentity(),u=0;u<this.MATRIX_SIZE;u++)for(i=0;i<this.MATRIX_SIZE;i++){for(f=0,r=0;r<this.MATRIX_SIZE;r++)f+=n[r][i]*t[u][r],o=f;e[u][i]=f}return e},getMatrixEqual:function(n,t){for(var i,u=!0,r=0;r<n.length;r++)for(i=0;i<n.length;i++)n[r][i]!=t[r][i]&&(u=!1);return u},getMatrixNotEqual:function(n,t){for(var i,u=!0,r=0;r<n.length;r++)for(i=0;i<n.length;i++)n[r][i]!=t[r][i]&&(u=!1);return!u},getMinor:function(n,t,i){return((t+i)%2==0?1:-1)*this.getDeterminant(this.getMMtr(n,t,i))},getMMtr:function(n,t,i){for(var o,u,s,f=n.length-1,e=this.createArray(f),r=0;r<f;r++)for(o=r>=t?r+1:r,e[r]=this.createArray(f),u=0;u<f;u++)s=u>=i?u+1:u,e[r][u]=n[o][s];return e},getDeterminant:function(n){var u=n.length,r=0,i,t,f;if(u<2)r=n[0][0];else for(i=1,t=0;t<u;t++)f=this.getMMtr(n,t,0),r+=i*n[t][0]*this.getDeterminant(f),i=i>0?-1:1;return r},transform:function(n,t,i){var r=this.getIdentity();return r[3][0]=n,r[3][1]=t,r[3][2]=i,r},turn:function(n){var t=this.getIdentity();return t[0][0]=Math.cos(n),t[2][0]=-Math.sin(n),t[0][2]=Math.sin(n),t[2][2]=Math.cos(n),t},tilt:function(n){var t=this.getIdentity();return t[1][1]=Math.cos(n),t[2][1]=Math.sin(n),t[1][2]=-Math.sin(n),t[2][2]=Math.cos(n),t},transposed:function(n){for(var t,r=this.getIdentity(),i=0;i<this.MATRIX_SIZE;i++)for(t=0;t<this.MATRIX_SIZE;t++)r[i][t]=n[t][i];return r},shear:function(n,t,i,r,u,f){var e=this.getIdentity();return e[0]=n,e[0]=t,e[1]=i,e[1]=r,e[2]=u,e[2]=f,e}};i.Graphics3D.prototype={addVisual:function(n){return n==null||f.test(n)?-1:(n.Graphics3D=this,e.add(n))},getVisualCount:function(){return ej.Ej3DRender.Polygons.length()},remove:function(n){ej.Ej3DRender.Polygons.Remove(n)},clearVisual:function(){ej.Ej3DRender.Polygons=null},getVisual:function(){return ej.Ej3DRender.Polygons},prepareView:function(n,t,i,r,u){arguments.length==0?e.build():(ej.Ej3DRender.transform==null?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(u):ej.Ej3DRender.transform.mViewport=u,ej.Ej3DRender.transform.Rotation=i,ej.Ej3DRender.transform.Tilt=r,ej.Ej3DRender.transform.Depth=t,ej.Ej3DRender.transform.PerspectiveAngle=n,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),ej.Ej3DRender.tree=e.build())},view:function(n,i,r,u,f,e,o){var h=32767,s;if(arguments.length==2){if(n==null)return;s=t.vector3D(0,0,h);this.drawBspNode3D(ej.Ej3DRender.tree,s,n,i)}else{if(n==null)return;ej.Ej3DRender.transform==null?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(f):ej.Ej3DRender.transform.mViewport=f;ej.Ej3DRender.transform.Rotation=r;ej.Ej3DRender.transform.Tilt=u;ej.Ej3DRender.transform.Depth=o;ej.Ej3DRender.transform.PerspectiveAngle=e;ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform);s=t.vector3D(0,0,h);this.drawBspNode3D(ej.Ej3DRender.tree,s,n,i)}},draw3DElement:function(n,t){n.Plane.element?n.Plane.element.tag=="text"||n.Plane.element.tag=="dataLabel"?f.drawText(n.Plane,t):n.Plane.element.tag=="polyline"?f.drawPolyLine(n.Plane,t):f.drawLine(n.Plane,t):f.draw(n.Plane,t)},drawBspNode3D:function(n,i,r,u){if(n!=null&&ej.Ej3DRender.transform!=null)for(;;){var e=t.vector3dAND(f.getNormal(ej.EjSvgRender.chartTransform3D.result(ej.Ej3DRender.transform),n.Plane.VectorPoints),i);if(e>n.Plane.D){if(n.Front!=null&&this.drawBspNode3D(n.Front,i,r,u),this.draw3DElement(n,u),n.Back!=null){n=n.Back;continue}}else if(n.Back!=null&&this.drawBspNode3D(n.Back,i,r,u),this.draw3DElement(n,u),n.Front!=null){n=n.Front;continue}break}}};i.BSPTreeBuilder.prototype={EPSILON:.0005,Polygon:[],add:function(n){return ej.Ej3DRender.Polygons.push(n),ej.Ej3DRender.Polygons.length-1},remove:function(n){ej.Ej3DRender.Polygons.splice(n,1)},clear:function(){ej.Ej3DRender.Polygons=[]},count:function(){return ej.Ej3DRender.Polygons.length},getNext:function(n,t){return n>=t?n-t:n<0?n+t:n},getNodeCount:function(n){return n==null?0:1+this.getNodeCount(n.Back)+this.getNodeCount(n.Front)},vector3DIndexClassification:function(n,t,i){return{index:t,result:i,vector:n,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCuttedBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCuttedFront:!1}},classifyPoint:function(n,t){var r="OnPlane",u=-t.D-i.vector3D.prototype.vector3dAND(n,t.normal);return u>this.EPSILON?r="OnBack":u<-this.EPSILON&&(r="OnFront"),r},classifyPolygon:function(n,t){var r=t.Points,f,h,s;if(r==null)return"Unknown";var e=0,o=0,u=0,c=n.normal,l=n.D;for(f=0,h=r.length;f<h;f++)if(s=-l-i.vector3D.prototype.vector3dAND(r[f],c),s>this.EPSILON?e++:s<-this.EPSILON?o++:u++,e>0&&o>0)break;return u==r.length?"OnPlane":o+u==r.length?"ToRight":e+u==r.length?"ToLeft":"Unknown"},splitPolygon:function(i,r){var w=[],b=[],rt,v,e,k,ut,u,o,ft;if(i.Points!=null){var l=[],s=[],h=[],k,d,g=i.Points.length;for(u=0;u<g;u++){var nt=i.Points[u],y=i.Points[this.getNext(u+1,g)],p=this.classifyPoint(nt,r),a=this.classifyPoint(y,r),c=this.vector3DIndexClassification(nt,l.length,p);if(l.push(c),p!=a&&p!="OnPlane"&&a!="OnPlane"){var it=t.vector3DMinus(nt,y),et=t.vector3DMinus(t.vector3DStarMultiply(r.normal,-r.D),y),ot=t.vector3dAND(et,r.normal),st=ot/t.vector3dAND(r.normal,it),ht=t.vector3DPlus(y,t.vector3DStarMultiply(it,st)),tt=this.vector3DIndexClassification(ht,l.length,"OnPlane");l.push(tt);s.push(tt);h.push(tt)}else if(p=="OnPlane"){if(rt=i.Points[this.getNext(u-1,g)],v=this.classifyPoint(rt,r),v==a)continue;if(v!="OnPlane"&&a!="OnPlane")s.push(c),h.push(c);else if(v=="OnPlane")switch(a){case"OnBack":s.push(c);break;case"OnFront":h.push(c)}else if(a=="OnPlane")switch(v){case"OnBack":s.push(c);break;case"OnFront":h.push(c)}}}if(h.length!=0||s.length!=0){for(u=0;u<s.length-1;u+=2)e=s[u],o=s[u+1],e.CuttingBackPoint=!0,o.CuttingBackPoint=!0,e.CuttingBackPairIndex=o.index,o.CuttingBackPairIndex=e.index;for(u=0;u<h.length-1;u+=2)e=h[u],o=h[u+1],e.CuttingFrontPoint=!0,o.CuttingFrontPoint=!0,e.CuttingFrontPairIndex=o.index,o.CuttingFrontPairIndex=e.index;for(u=0;u<s.length-1;u++)(e=s[u],e.alreadyCuttedBack)||(k=this.cutOutBackPolygon(l,e),k.length>2&&(ut=f.polygon3D(k,i),w.push(n.extend({},ut))));for(u=0;u<h.length-1;u++)(o=h[u],o.alreadyCuttedFront)||(d=this.cutOutFrontPolygon(l,o),d.length>2&&(ft=f.polygon3D(d,i),b.push(n.extend({},ft))))}}else w.push(i),b.push(i);return{BackP:w,FrontP:b}},cutOutFrontPolygon:function(n,t){var i,o,r,u,f,e;for(points=[],i=t;;)if(i.alreadyCuttedFront=!0,points.push(i.vector),o=n[i.CuttingFrontPairIndex],i.CuttingFrontPoint)if(o.alreadyCuttedFront)if(r=n[this.getNext(i.index-1,n.length)],u=n[this.getNext(i.index+1,n.length)],r.result!="OnFront"||r.alreadyCuttedFront){if(u.result!="OnFront"||u.alreadyCuttedFront)return points;i=u}else i=r;else i=o;else if(f=n[this.getNext(i.index-1,n.length)],e=n[this.getNext(i.index+1,n.length)],f.result=="OnBack"||f.alreadyCuttedFront){if(e.result=="OnBack"||e.alreadyCuttedFront)return points;i=e}else i=f;return points},cutOutBackPolygon:function(n,t){for(var f=[],i=t,e,r,u;;)if(i.alreadyCuttedBack=!0,f.push(i.vector),e=n[i.CuttingBackPairIndex],i.CuttingBackPoint)if(e.alreadyCuttedBack)if(r=n[this.getNext(i.index-1,n.length)],u=n[this.getNext(i.index+1,n.length)],r.result!="OnBack"||r.alreadyCuttedBack){if(u.result!="OnBack"||u.alreadyCuttedBack)return f;i=u}else i=r;else i=e;else if(r=n[this.getNext(i.index-1,n.length)],u=n[this.getNext(i.index+1,n.length)],r.result=="OnFront"||r.alreadyCuttedBack){if(u.result=="OnFront"||u.alreadyCuttedBack)return f;i=u}else i=r;return f},build:function(){var f,e,o,i,s,h,c,n,l,t,r,u;if(arguments[0]){if(f=arguments[0],f.length<1)return null;for(e={Back:null,Front:null,Plane:null},o=f[0],e.Plane=o,i=[],s=[],h=1,c=f.length;h<c;h++)if(n=f[h],n!=o){l=this.classifyPolygon(o,n);switch(l){case"OnPlane":case"ToRight":s.push(n);break;case"ToLeft":i.push(n);break;case"Unknown":if(n.element&&(n.element.tag=="line"||n.element.tag=="text"))i.push(n);else{for(t=this.splitPolygon(n,o),r=0;r<t.BackP.length;r++)t.BackP[r].Name=t.BackP[r].Name+"back",i.push(t.BackP[r]);for(u=0;u<t.FrontP.length;u++)t.FrontP[u].Name=t.FrontP[u].Name+"front",s.push(t.FrontP[u])}}}return i.length>0&&(e.Back=this.build(i)),s.length>0&&(e.Front=this.build(s)),e}return this.build(ej.Ej3DRender.Polygons)}};i.polygon3D.prototype={epsilon:1e-5,normal:{x:0,y:0,z:0},a:this.normal?this.normal.x:0,b:this.normal?this.normal.y:0,c:this.normal?this.normal.z:0,vector:new(new ej.Ej3DRender).vector3D,polygon3D:function(n,t,i,r,u,f,e,o){var h,s;if(arguments.length==3)this.calcNormal(arguments[0],arguments[1],arguments[2]);else return arguments.length==2?(n=arguments[0],this.calcNormal(n[0],n[1],n[2]),this.vectorPoints=n,this.calcNormal(this.vectorPoints),s=arguments[1],s.Normal=this.normal,s.normal=this.normal,s.Points=n,s.VectorPoints=this.vectorPoints,s.IsSplitted=!0,s.d=this.d,s.D=this.d,s):(this.calcNormal(n[0],n[1],n[2]),this.vectorPoints=n,this.calcNormal(this.vectorPoints),h={Tag:"path",Parent:arguments[arguments.length-1]},s={Normal:this.normal,normal:this.normal,Points:n,VectorPoints:this.vectorPoints,Index:i,Tag:t,Name:o?o:null,Stroke:r,StrokeThickness:u,Opacity:f,Fill:e,d:this.d,D:this.d},arguments.length!=1&&(s.Element=h),s)},createLine:function(n,i,r,u,f,e){var s=n.width,o=[];return o[0]=t.vector3D(i,r,e),o[1]=t.vector3D(i+s,f+s,e),o[2]=t.vector3D(u,f,e),this.line3D(n,o)},createPolyline:function(n,i){if(n.length==2){var r=n[1];n.push(t.vector3D(r.x,r.y,r.z))}return this.polyLine3D(i,n)},polyLine3D:function(n,t){var i=this.polygon3D(t);return i.element=n,i},line3D:function(n,t){var i=this.polygon3D(t);return i.element=n,i},text3D:function(n,t){var i=this.polygon3D(t);return i.element=n,i},createBox:function(n,i,u,f,e,o,s,h,c,l,a,v){var y=[],p=[t.vector3D(n.x,n.y,n.z),t.vector3D(i.x,n.y,n.z),t.vector3D(i.x,i.y,n.z),t.vector3D(n.x,i.y,n.z)],w=[t.vector3D(n.x,n.y,i.z),t.vector3D(i.x,n.y,i.z),t.vector3D(i.x,i.y,i.z),t.vector3D(n.x,i.y,i.z)],b=[t.vector3D(n.x,n.y,i.z),t.vector3D(i.x,n.y,i.z),t.vector3D(i.x,n.y,n.z),t.vector3D(n.x,n.y,n.z)],k=[t.vector3D(n.x,i.y,i.z),t.vector3D(i.x,i.y,i.z),t.vector3D(i.x,i.y,n.z),t.vector3D(n.x,i.y,n.z)],d=[t.vector3D(n.x,n.y,n.z),t.vector3D(n.x,n.y,i.z),t.vector3D(n.x,i.y,i.z),t.vector3D(n.x,i.y,n.z)],g=[t.vector3D(i.x,n.y,n.z),t.vector3D(i.x,n.y,i.z),t.vector3D(i.x,i.y,i.z),t.vector3D(i.x,i.y,n.z)],v;return arguments[10]?(y[0]=this.polygon3D(p,u,f,o,h,c,s,"_0_"+a,v),y[1]=this.polygon3D(w,u,f,o,h,c,s,"_1_"+a,v),y[2]=this.polygon3D(b,u,f,o,h,c,s,"_2_"+a,v),y[3]=this.polygon3D(k,u,f,o,h,c,s,"_3_"+a,v),y[4]=this.polygon3D(d,u,f,o,h,c,s,"_4_"+a,v),y[5]=this.polygon3D(g,u,f,o,h,c,s,"_5_"+a,v)):(v=arguments[arguments.length-1],y[0]=this.polygon3D(p,u,f,o,h,c,s,"_0_"+f,v),y[1]=this.polygon3D(w,u,f,o,h,c,s,"_1_"+f,v),y[2]=this.polygon3D(b,u,f,o,h,c,s,"_2_"+f,v),y[3]=this.polygon3D(k,u,f,o,h,c,s,"_3_"+f,v),y[4]=this.polygon3D(d,u,f,o,h,c,s,"_4_"+f,v),y[5]=this.polygon3D(g,u,f,o,h,c,s,"_5_"+f,v)),l?(r.addVisual(y[0]),r.addVisual(y[1]),r.addVisual(y[2]),r.addVisual(y[3]),r.addVisual(y[4]),r.addVisual(y[5])):(r.addVisual(y[5]),r.addVisual(y[4]),r.addVisual(y[0]),r.addVisual(y[1]),r.addVisual(y[2]),r.addVisual(y[3])),y},updateBox:function(n,i,r,u){n.Length<6||(this.update([t.vector3D(i.x,i.y,i.z),t.vector3D(r.x,i.y,i.z),t.vector3D(r.x,r.y,i.z),t.vector3D(i.x,r.y,i.z)],n[0],u),this.update([t.vector3D(i.x,i.y,r.z),t.vector3D(r.x,i.y,r.z),t.vector3D(r.x,r.y,r.z),t.vector3D(i.x,r.y,r.z)],n[1],u),this.update([t.vector3D(i.x,i.y,r.z),t.vector3D(r.x,i.y,r.z),t.vector3D(r.x,i.y,i.z),t.vector3D(i.x,i.y,i.z)],n[2],u),this.update([t.vector3D(i.x,r.y,r.z),t.vector3D(r.x,r.y,r.z),t.vector3D(r.x,r.y,i.z),t.vector3D(i.x,r.y,i.z)],n[3],u),this.update([t.vector3D(i.x,i.y,i.z),t.vector3D(i.x,i.y,r.z),t.vector3D(i.x,r.y,r.z),t.vector3D(i.x,r.y,i.z)],n[4],u),this.update([t.vector3D(r.x,i.y,i.z),t.vector3D(r.x,i.y,r.z),t.vector3D(r.x,r.y,r.z),t.vector3D(r.x,r.y,i.z)],n[5],u))},calcNormal:function(){var n,r;if(arguments.length>=3){var u=arguments[0],e=arguments[1],o=arguments[2],s=t.vector3DMinus(u,e),h=t.vector3DMinus(o,e),f=t.vector3DMultiply(s,h),i=t.getLength(f);i<this.epsilon&&(i=1);this.normal=t.vector3D(f.x/i,f.y/i,f.z/i);this.d=-(this.normal.x*u.x+this.normal.y*u.y+this.normal.z*u.z);arguments[3]&&(arguments[3].normal=this.normal,arguments.d=this.d)}else for(n=arguments[0],this.calcNormal(n[0],n[1],n[2],arguments[1]),r=3;r<n.length&&this.test();r++)this.calcNormal(n[r],n[0],n[r/2])},test:function(){return!t.isValid(this.normal)},transform:function(n,i){var r,f;if(i.Points!=null){for(r=0;r<i.Points.length;r++)i.VectorPoints[r]=i.Points[r]=u.getMatrixVectorMutiple(n,i.Points[r]);this.calcNormal(i.VectorPoints,i)}else f=n*i.normal*-i.d,i.normal=u.getMatrixVectorAnd(n,i.normal),t.normalize(normal),i.d=-(i.normal&f)},getPoint:function(n,i,r,u){var f;if(typeof n==double)return f=-(r.x*n+r.y*i+u)/r.z,t.vector3D(n,i,f);var e=n,o=i,s=t.vector3DMinus(t.vector3DStarMultiply(r,-u),e),h=t.vector3dAND(s,r),c=h/t.vector3dAND(r,o);return t.vector3DPlus(e,t.vector3DStarMultiply(o*c))},getNormal:function(n,i){var f,r;if(i!=null)for(f=t.getNormal(u.getMatrixVectorMutiple(n,i[0]),u.getMatrixVectorMutiple(n,i[1]),u.getMatrixVectorMutiple(n,i[2])),r=3;r<i.length&&!t.isValid(f)&&i[r/2];r++){var e=u.getMatrixVectorMutiple(n,i[r]),o=u.getMatrixVectorMutiple(n,i[0]),s=u.getMatrixVectorMutiple(n,i[r/2]);f=t.getNormal(e,o,s)}else f=u.getMatrixVectorAnd(n,normal),t.normalize();return f},createTextElement:function(n,t,i,r){var u=[],f=n.x,e=n.y,o=t.Width,s=t.Height;return u[0]=this.vector.vector3D(f,e,n.z),u[1]=this.vector.vector3D(f+o,e+s+r,n.z),u[2]=this.vector.vector3D(f+o+i,e+s+r,n.z),this.text3D(t,u)},redraw:function(){},drawPolyLine:function(n,t){var u=ej.Ej3DRender.transform,r=ej.EjSvgRender.utils._getStringBuilder(),f=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[0],u),i,e;for(r.append("M "+f.x+" "+f.y+" "),i=0;i<n.VectorPoints.length;i++)lineSegment=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[i],u),r.append("L "+lineSegment.x+" "+lineSegment.y+" ");direction=r.toString();e={id:n.element.id,"stroke-dasharray":n.element.dashArray,"stroke-width":n.element.width,stroke:n.element.stroke,d:direction};t.svgRenderer.drawPath(e,n.element.child)},drawLine:function(n,t){var i=ej.Ej3DRender.transform;if(i!=null){var r=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[0],i),u=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[2],i),f={id:n.element.id,x1:r.x,y1:r.y,x2:u.x,y2:u.y,"stroke-dasharray":n.element.dashArray,"stroke-width":n.element.width,stroke:n.element.stroke,opacity:n.element.opacity};t.svgRenderer.drawLine(f,n.element.child)}},drawText:function(t,i){var r=t.element,o=ej.Ej3DRender.transform,c,p;if(o!=null){var e=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[0],o),s=e.x,h=e.y;if(r.tag=="text")c={id:r.id,x:s,y:h,fill:r.font.color,"font-size":r.font.size,"font-family":r.font.fontFamily,"font-style":r.font.fontStyle,"font-weight":r.font.fontWeight,opacity:r.font.opacity,"text-anchor":r.TextAnchor,cursor:"default",transform:r.Transform?"rotate(-90,"+s+","+h+")":null},i.svgRenderer.drawText(c,t.element.Label.Text,t.element.child,t.element.Label);else{var u=r.series,l=u.yAxis&&u.yAxis.labelFormat?u.yAxis.labelFormat:"",w=r.point.text?r.point.text:r.point.y+l.substring(l.indexOf("}")+1),a=ej.EjSvgRender.utils._measureText(w,null,u.marker.dataLabel.font),f=u.marker.dataLabel.margin,b=a.width+f.left+f.right,v=a.height+f.top+f.bottom,y={X:e.x,Y:e.y};p=u.marker.dataLabel.shape?u.marker.dataLabel.shape:u.marker.dataLabel.shape?marker.dataLabel.shape:"None";n.each(i.model.symbolShape,function(n){p.toLowerCase()==n.toLowerCase()&&(symbolName=n)});var k=y.X-f.left/2+f.right/2,d=y.Y-f.top/2-v/f.top+f.bottom/2,g=n.inArray(u,i.model.series);ej.EjSeriesRender.prototype.dataLabelSymbol(g,u,r.pointIndex,k,d,b,v,symbolName,i)}}},draw:function(n,i){var f,c;if(n.VectorPoints!=null&&!(n.VectorPoints.length<=0)){var e=ej.Ej3DRender.transform,o=ej.EjSvgRender.utils._getStringBuilder(),r=n.Fill,s={Segments:null,StartPoint:null};if(e!=null)for(s.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[0],e),o.append("M "+s.StartPoint.x+" "+s.StartPoint.y+" "),f=0;f<n.VectorPoints.length;f++)lineSegment=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[f],e),o.append("L "+lineSegment.x+" "+lineSegment.y+" ");direction=o.toString();var u=2*(Math.abs(t.vector3dAND(n.normal,t.vector3D(0,0,1)))-1),h=2*(Math.abs(t.vector3dAND(n.normal,t.vector3D(0,1,0)))-1),l=2*(Math.abs(t.vector3dAND(n.normal,t.vector3D(1,0,0)))-1);r=u==l?this.applyZLight(r,i):h==u||u!=0&&h<u?this.applyXLight(r,i):u<0?this.applyZLight(r,i):r;i.model.AreaType=="none"&&(n.StrokeThickness=0);c={id:i.svgObject.id+"_"+n.Name,fill:r,stroke:n.Stroke,"stroke-width":n.StrokeThickness,opacity:n.Opacity,d:direction};i.svgRenderer.drawPath(c,n.Element.Parent)}},applyXLight:function(n,t){var i=t.svgRenderer.hexToRGB(n);return i.R=parseInt(i.R*.7),i.G=parseInt(i.G*.7),i.B=parseInt(i.B*.7),t.svgRenderer.hexFromRGB(i)},applyZLight:function(n,t){var i=t.svgRenderer.hexToRGB(n);return i.R=parseInt(i.R*.9),i.G=parseInt(i.G*.9),i.B=parseInt(i.B*.9),t.svgRenderer.hexFromRGB(i)},update:function(t,i,r){var u,s;if(i.VectorPoints!=null&&!(i.VectorPoints.length<=0)){i.VectorPoints=t;var f=ej.Ej3DRender.transform,e=ej.EjSvgRender.utils._getStringBuilder(),h=i.Fill,o={Segments:null,StartPoint:null};if(f!=null)for(o.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[0],f),e.append("M "+o.StartPoint.x+" "+o.StartPoint.y+" "),u=0;u<i.VectorPoints.length;u++)lineSegment=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[u],f),e.append("L "+lineSegment.x+" "+lineSegment.y+" ");direction=e.toString();n(r.chartObj.chart3D).find("#"+r.chartObj.svgObject.id+"_"+i.Name).length>0&&(s=n(r.chartObj.chart3D).find("#"+r.chartObj.svgObject.id+"_"+i.Name)[0],r.chartObj.svgRenderer._setAttr(n(s),{d:direction}))}}};var i=new ej.Ej3DRender,t=new i.vector3D,u=new i.matrix3D,e=new i.BSPTreeBuilder,f=new i.polygon3D,r=new i.Graphics3D}(jQuery);ej.Ej3DAxisRenderer=function(){};ej.Ej3DSeriesRender=function(){};ej.Ej3DChart=function(){};ej.series3DTypes={},function(n){ej.Ej3DAxisRenderer.prototype={_drawAxes:function(n,t){t.majorGridLines.visible&&this._drawGridLines3D(t);t.majorTickLines.visible&&this._renderTicks3D(t,t.majorTickLines.size,t.majorTickLines.width);t.visible&&(this._drawAxisLabel(t),this._drawAxisTitle(t))},_drawAxisTitle:function(t){var f,r,s;if(t.orientation.toLowerCase()=="horizontal"){var o=this.model.elementSpacing+t._LableMaxWidth.height,u=ej.EjSvgRender.utils._measureText(t.title.text,t.width,t.title.font).height/2,i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={Text:t.title.text,location:{x:t.width/2,y:o+u+t.majorTickLines.size+t.axisLine.width},axes:t};this._trigger("axesTitleRendering",i);f=i.data.location.x+t.x;r=t.opposedPosition?t.y-i.data.location.y:i.data.location.y+t.y;element={Width:u.width,Height:u.height,Label:i.data,TextAnchor:"middle",tag:"text",font:t.title.font,id:this.svgObject.id+"axisTitle",child:this.chart3D};this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(f,r,0),element,10,10))}else{var e=ej.EjSvgRender.utils._measureText(t.title.text,t.height,t.title.font),f=t.opposedPosition?t.x+(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.width):t.x-(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.width),i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={Text:t.title.text,location:{x:e.width/2,y:0},axes:t};this._trigger("axesTitleRendering",i);r=i.data.location.y+(t.y+t.height)+t.height/-2;s=t.opposedPosition?90:-90;element={Width:e.width,Height:e.height,Transform:!0,Label:i.data,TextAnchor:"middle",tag:"text",font:t.title.font,id:this.svgObject.id+"_YAxisTitle",child:this.chart3D};this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(f,r,0),element,10,10))}},_drawAxisLabel:function(n){for(var o=n.visibleLabels.length,t=0;t<o;t++){var r=0,u=0,s=0,h=0,f,e=ej.EjSvgRender.utils._measureText(n.visibleLabels[t].Text,this.model.m_AreaBounds.Width,n.font),i=ej.EjSvgRender.utils._valueToCoefficient(n,n.visibleLabels[t].Value);i=isNaN(i)?0:i;n.orientation.toLowerCase()=="horizontal"?(r=s=Math.round(n.plotOffset+this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width*i),u=n.opposedPosition?this.model.m_AreaBounds.Y-this.model.wallSize-n.majorTickLines.size-this.model.elementSpacing/2:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+this.model.wallSize+n.majorTickLines.size+this.model.elementSpacing,f="middle"):(u=h=Math.round(n.plotOffset+this.model.m_AreaBounds.Y+e.height/4+this.model.m_AreaBounds.Height*(1-i)),r=n.opposedPosition?this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width+this.model.wallSize+n.majorTickLines.size+this.model.elementSpacing/2:this.model.m_AreaBounds.X-this.model.wallSize-n.majorTickLines.size-this.model.elementSpacing/2,f=n.opposedPosition?"start":"end");element={Width:e.width,Height:e.height,Label:n.visibleLabels[t],TextAnchor:f,tag:"text",font:n.font,id:this.svgObject.id+n.orientation+t,child:this.chart3D};this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(r,u,0),element,10,10))}},_renderTicks3D:function(n,t,i){for(var o,u,e,a=n.visibleLabels.length,f=0;f<a;f++){var s=0,h=0,c=0,l=0,r=ej.EjSvgRender.utils._valueToCoefficient(n,n.visibleLabels[f].Value);if(r=isNaN(r)?0:r,n.orientation.toLowerCase()=="horizontal"?s=h=Math.round(n.plotOffset+this.model.m_AreaBounds.Width*r):c=l=Math.round(n.plotOffset+this.model.m_AreaBounds.Height*(1-r)),u=this._calculatePosition3D(n,n.tickLinesPosition,t,i,s,c,h,l),e={width:n.majorTickLines.width,stroke:n.majorTickLines.color,child:this.chart3D,tag:"line"},e.id=n.name+"_majorTickLines_"+f,this.graphics.addVisual(this.polygon.createLine(e,u.X1,u.Y1,u.X2,u.Y2,0)),n.minorGridLines.visible&&n.minorTicksPerInterval>0&&f<a-1)for(minorTicks=n.visibleRange.interval/(n.minorTicksPerInterval+1),o=0;o<n.minorTicksPerInterval;o++)r=ej.EjSvgRender.utils._valueToCoefficient(n,n.visibleLabels[f].Value+minorTicks*(o+1)),r=isNaN(r)?0:r,n.orientation.toLowerCase()=="horizontal"?s=h=Math.round(n.plotOffset+this.model.m_AreaBounds.Width*r):c=l=Math.round(n.plotOffset+this.model.m_AreaBounds.Height*(1-r)),u=this._calculatePosition3D(n,n.tickLinesPosition,t,i,s,c,h,l),e={width:n.minorTickLines.width,stroke:n.minorTickLines.color,child:this.chart3D,tag:"line"},e.id=n.name+"_minorTickLines_"+f+o,this.graphics.addVisual(this.polygon.createLine(e,u.X1,u.Y1,u.X2,u.Y2,0))}},_calculatePosition3D:function(n,t,i,r,u,f,e,o){var l=n.orientation,s=n.opposedPosition,c,h;if(t="outside",n.orientation.toLowerCase()=="horizontal"){switch(t){case"inside":f=s?r:0;o=s?f+i:i;break;case"outside":f=s?0:n.axisLine.width;o=s?i:f+i}var a=this.model.m_AreaBounds,h=s?this.model.m_AreaBounds.Y-this.model.wallSize-i:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+this.model.wallSize-i/2,c=n.x;f+=h;o+=h;u+=c;e+=c}else{switch(t){case"inside":u=s?0:n.axisLine.width;e=s?i:u+i;break;case"outside":u=s?n.axisLine.width:0;e=s?u+i:i}c=s?this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width+this.model.wallSize:this.model.m_AreaBounds.X-this.model.wallSize-i;h=this.model.m_AreaBounds.Y;u+=c;e+=c;f+=h;o+=h}return{X1:u,Y1:f,X2:e,Y2:o}},_drawGridLines3D:function(t){var y,p,b,c,f,e,o,a,i,l,w,h,r,u,v,s;if(t!=null)if(y=t.visibleLabels.length,b=t.orientation,b.toLowerCase()=="horizontal")for(i=0;i<y;i++){r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[i].Value);r=isNaN(r)?0:r;f=c=Math.round(this.model.m_AreaBounds.Width*r)+this.model.m_AreaBounds.X;e=this.model.m_AreaBounds.Y;o=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;var l=this.model.depth>2?this.model.depth-2:1,k=t.opposedPosition?this.model.m_AreaBounds.Y:this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y,u={opacity:t.majorGridLines.opacity,width:t.majorGridLines.width,stroke:t.majorGridLines.color,child:this.chart3D,tag:"line"};if(u.id=this.svgObject.id+t.name+"_gridlines_"+i,this.graphics.addVisual(this.polygon.createLine(u,c,e,f,o,l)),a=n.extend({},u),a.id=this.svgObject.id+t.name+"_parallelGridlines_"+i,s=this.polygon.createLine(a,f,0,f,-l,k),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),s),this.graphics.addVisual(s),t.minorGridLines.visible&&t.minorTicksPerInterval>0&&i<y-1)for(p=t.visibleRange.interval/(t.minorTicksPerInterval+1),h=0;h<t.minorTicksPerInterval;h++)r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[i].Value+p*(h+1)),r=isNaN(r)?0:r,f=c=Math.round(this.model.m_AreaBounds.Width*r)+this.model.m_AreaBounds.X,e=this.model.m_AreaBounds.Y,o=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,u={opacity:t.minorGridLines.opacity,width:t.minorGridLines.width,stroke:t.minorGridLines.color,child:this.chart3D,tag:"line"},u.id=this.svgObject.id+t.name+"_minorgridlines_"+i+h,this.graphics.addVisual(this.polygon.createLine(u,c,e,f,o,l)),a=n.extend({},u),a.id=this.svgObject.id+t.name+"_parallelMinorGridlines_"+i+h,s=this.polygon.createLine(a,f,0,f,-l,k),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),s),this.graphics.addVisual(s);index++}else for(i=0;i<y;i++){if(r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[i].Value),r=isNaN(r)?0:r,c=this.model.m_AreaBounds.X,e=Math.round(t.height*(1-r))+.5,e+=t.y,f=c+this.model.m_AreaBounds.Width,o=e,l=this.model.depth>2?this.model.depth-2:1,u={opacity:t.majorGridLines.opacity,width:t.majorGridLines.width,stroke:t.majorGridLines.color,axisName:t.name,child:this.chart3D,tag:"line"},u.id=this.svgObject.id+t.name+"_gridlines_"+i,this.graphics.addVisual(this.polygon.createLine(u,c,e,f,o,l)),w=t.opposedPosition?this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X+1:this.model.m_AreaBounds.X,v=n.extend({},u),v.id=this.svgObject.id+t.name+"_parallelGridlines_"+i,s=this.polygon.createLine(v,-l,o,0,o,w),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),s),this.graphics.addVisual(s),t.minorGridLines.visible&&t.minorTicksPerInterval>0&&i<y-1)for(p=t.visibleRange.interval/(t.minorTicksPerInterval+1),h=0;h<t.minorTicksPerInterval;h++)r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[i].Value+p*(h+1)),r=isNaN(r)?0:r,c=this.model.m_AreaBounds.X,e=Math.round(t.height*(1-r))+.5,e+=t.y,f=c+this.model.m_AreaBounds.Width,o=e,u={opacity:t.minorGridLines.opacity,width:t.minorGridLines.width,stroke:t.minorGridLines.color,axisName:t.name,child:this.chart3D,tag:"line"},u.id=this.svgObject.id+t.name+"_minorgridlines_"+i+h,this.graphics.addVisual(this.polygon.createLine(u,c,e,f,o,l)),v=n.extend({},u),v.id=this.svgObject.id+t.name+"_parallelMinorGridlines_"+i+h,s=this.polygon.createLine(v,-l,o,0,o,w),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),s),this.graphics.addVisual(s);index++}}};ej.Ej3DSeriesRender.prototype={_getSegmentDepth:function(n){var u=this.chartObj.model.depth,i,r,t;if(this.chartObj.model.sideBySideSeriesPlacement)t=u/4,i=t,r=t*3;else{var e=n.position-1,f=n.all,t=u/(f*2+f+1);i=t+t*e*3;r=i+t*2}return{Start:i,End:r,Delta:r-i}},createSegment:function(n,t,i,r,u,f,e,o,s){return{StartValue:t,EndValue:i,depth:r,radius:u,index:f,YData:e,Center:n,inSideRadius:o,ActualEndValue:i,ActualStartValue:t,pointIndex:s}},calculateSize:function(t,i){var r=t.chartObj.model.legend,u=0,f=0,e;r.visible&&r.position.toLowerCase()!="custom"&&(r.position.toLowerCase()=="right"||r.position.toLowerCase()=="left"?u=(r.position.toLowerCase()=="right"?t.chartObj.model.margin.right:t.chartObj.model.margin.left)+t.chartObj.model.LegendBounds.Width:f=(r.position.toLowerCase()=="top"?t.chartObj.model.margin.top:t.chartObj.model.margin.bottom)+t.chartObj.model.LegendBounds.Height);e=(t.chartObj.model.title.text?t.chartObj.model._titleLocation.Y:0)+f;i.actualWidth=n(t.chartObj.svgObject).width()-u;i.actualHeight=n(t.chartObj.svgObject).height()-e},createPoints:function(t,i){var e,c,r,k,u,f,s,v,d;for(t.segments=[],this.calculateSize(i,t),e=0,c=this._pieVisiblePoints(t),j=0;j<c.length;j++)e+=c[j].YValues[0];var y=360/e,p=t.points.length,o=t.radius?t.radius:t.pieCoefficient*Math.min(t.actualWidth,t.actualHeight)/2,g=t.InsideRadius?t.InsideRadius:0,w=i.chartObj._getYValues(t),nt=i.chartObj.model.depth;(t.explodeIndex>=0&&t.explodeIndex<p||t.explodeAll)&&(o-=t.explodeOffset);var l=0,a=0,h=0,b=0;for(r=0;r<p;r++)t.points[r].visible&&(k=n.inArray(t.points[r],t.points),u=Math.abs(w[r]),a=Math.abs(u)*(Math.PI*2/e),f={},f.x=0,f.y=0,u!=0&&((t.explodeIndex==r||t.explodeAll)&&(s={X:0,Y:0},s.X=Math.cos(2*Math.PI*(h+u/2)/e),s.Y=Math.sin(2*Math.PI*(h+u/2)/e),f.x=.01*o*s.X*t.explodeOffset,f.y=.01*o*s.Y*t.explodeOffset),v=i.chartObj.vector.vector3D(f.x+t.actualWidth/2,f.y+t.actualHeight/2,0),d=this.createSegment(v,parseFloat(y*h),parseFloat(y*u),nt,o,r,u,g,k,t),t.segments.push(d)),t.marker.dataLabel.visible&&this._addPieDataLabel(b,w[r],l,l+a,r,o,this._isChartRotated(i)?i.chartObj.model.depth+5:0,v,t.points[r]),b++,l+=a,h+=u);return t.segments},_addPieDataLabel:function(n,t,i,r,u,f,e,o,s){var h=(i+r)/2;s.symbolLocation={x:0,y:0,radius:0,angle:0,StartDepth:0};s.symbolLocation.x=n;s.symbolLocation.y=t;s.symbolLocation.radius=f;s.symbolLocation.angle=h;s.symbolLocation.center=o;s.startDepth=e},_isChartRotated:function(n){var t=Math.abs(n.chartObj.model.tilt%360),i=Math.abs(n.chartObj.model.rotattion%360);return(t>90&&t<270)^(i>90&&i<270)?!0:!1},createSector:function(n,t,i){var e=parseInt(Math.ceil(n.ActualEndValue/6)),a=Math.PI/180,o=0,tt=[],s=t.chartObj.model.depth,w,b,g,nt,k,d,c,l,r,y,p;if(e<1)return null;var h=[],v=n.ActualEndValue/e,u=[],f=[];for(r=0;r<e+1;r++)w=parseFloat(n.Center.x+n.radius*Math.cos((n.ActualStartValue+r*v)*a)),b=parseFloat(n.Center.y+n.radius*Math.sin((n.ActualStartValue+r*v)*a)),u[r]={X:w,Y:b},g=parseFloat(n.Center.x+n.inSideRadius*Math.cos((n.ActualStartValue+r*v)*a)),nt=parseFloat(n.Center.y+n.inSideRadius*Math.sin((n.ActualStartValue+r*v)*a)),f[r]={X:g,Y:nt},tt.push({X:w,Y:b});for(k=[],r=0;r<e;r++)vts=[t.chartObj.vector.vector3D(u[r].X,u[r].Y,0),t.chartObj.vector.vector3D(u[r].X,u[r].Y,s),t.chartObj.vector.vector3D(u[r+1].X,u[r+1].Y,s),t.chartObj.vector.vector3D(u[r+1].X,u[r+1].Y,0)],k[r]=t.chartObj.polygon.polygon3D(vts,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D),o++;if(h[1]=k,n.inSideRadius>0){for(d=[],r=0;r<e;r++)vts=[t.chartObj.vector.vector3D(f[r].X,f[r].Y,0),t.chartObj.vector.vector3D(f[r].X,f[r].Y,s),t.chartObj.vector.vector3D(f[r+1].X,f[r+1].Y,s),t.chartObj.vector.vector3D(f[r+1].X,f[r+1].Y,0)],d[r]=t.chartObj.polygon.polygon3D(vts,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D),o++;h[3]=d}for(c=[],l=[],r=0;r<e+1;r++)c.push(t.chartObj.vector.vector3D(u[r].X,u[r].Y,0)),l.push(t.chartObj.vector.vector3D(u[r].X,u[r].Y,s));if(n.inSideRadius>0)for(r=e;r>-1;r--)c.push(t.chartObj.vector.vector3D(f[r].X,f[r].Y,0)),l.push(t.chartObj.vector.vector3D(f[r].X,f[r].Y,s));else c.push(n.Center),l.push(t.chartObj.vector.vector3D(n.Center.x,n.Center.y,s));return h[0]=[],h[0].push(t.chartObj.polygon.polygon3D(c,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D)),o++,h[0].push(t.chartObj.polygon.polygon3D(l,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D)),o++,n.inSideRadius>0?(y=[t.chartObj.vector.vector3D(u[0].X,u[0].Y,0),t.chartObj.vector.vector3D(u[0].X,u[0].Y,s),t.chartObj.vector.vector3D(f[0].X,f[0].Y,s),t.chartObj.vector.vector3D(f[0].X,f[0].Y,0)],p=[t.chartObj.vector.vector3D(u[e].X,u[e].Y,0),t.chartObj.vector.vector3D(u[e].X,u[e].Y,s),t.chartObj.vector.vector3D(f[e].X,f[e].Y,s),t.chartObj.vector.vector3D(f[e].X,f[e].Y,0)],h[2]=[],h[2].push(t.chartObj.polygon.polygon3D(y,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D)),o++,h[2].push(t.chartObj.polygon.polygon3D(p,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D)),o++):(y=[t.chartObj.vector.vector3D(u[0].X,u[0].Y,0),t.chartObj.vector.vector3D(u[0].X,u[0].Y,s),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,s),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,0)],p=[t.chartObj.vector.vector3D(u[e].X,u[e].Y,0),t.chartObj.vector.vector3D(u[e].X,u[e].Y,s),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,s),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,0)],h[2]=[],h[2].push(t.chartObj.polygon.polygon3D(y,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D)),o++,h[2].push(t.chartObj.polygon.polygon3D(p,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,o.toString()+"Region_Series_0path"+n.index,t.chartObj.chart3D)),o++),h},createPolygons:function(n,t,i){var o,u,a,l,e,s,f,h,r,c;for(o=n.segments&&i?n.segments:this.createPoints(n,t),u=[],e=0;e<o.length;e++)if(a=o[e],s=o[e].pointIndex,l=t.chartObj.setStyle(t,n,0,s),typeof t.chartObj.model.pointColors[s]=="object"&&(l.interior=t.chartObj.model.pointColors[s][0].color),f=this.createSector(a,t,l),f!=null)for(r=0;r<f.length;r++)if(u[r]||(u[r]=[]),f[r]!=null)for(h=0;h<f[r].length;h++)u[r].push(f[r][h]);if(i)return u;for(r=0;r<u.length;r++)for(c=0;c<u[r].length;c++)t.chartObj.graphics.addVisual(u[r][c])},draw3DDataLabel:function(t,i,r,u){var c,h,s,g,l,nt,a,p,tt;if(this.chartObj.model.AreaType=="none"){if(f={x:0,y:0},c=r.text?r.text:r.y,h=n.extend({},ej.EjSvgRender.commonChartEventArgs),h.data={Text:c,location:{x:o,y:e},series:t,pointIndex:i},this.chartObj._trigger("displayTextRendering",h),s=ej.EjSvgRender.utils._measureText(c,null,t.marker.dataLabel.font),t.type.toLowerCase()=="pie")g=Math.min(t.actualWidth,t.actualHeight)/2,l=r.symbolLocation.center,t!=null&&t.labelPosition.toLowerCase()!="inside"?radius=r.symbolLocation.radius+(t.marker.dataLabel.connectorLine.height?t.marker.dataLabel.connectorLine.height:0):t!=null&&(radius=r.symbolLocation.radius/2),o=f.X=l.x+radius*Math.cos(r.symbolLocation.angle),e=f.Y=l.y+radius*Math.sin(r.symbolLocation.angle);else if(t.type.toLowerCase()=="doughnut"){var g=Math.min(t.actualWidth,t.actualHeight)/2,l=r.symbolLocation.center,b=r.symbolLocation.radius+(t.marker.dataLabel.connectorLine.height?t.marker.dataLabel.connectorLine.height:0);t!=null&&t.labelPosition!="inside"?radius=r.symbolLocation.radius+(t.marker.dataLabel.connectorLine.height?t.marker.dataLabel.connectorLine.height:0):t!=null&&(radius=b+(r.symbolLocation.radius-b)/2);o=f.X=l.x+radius*Math.cos(r.symbolLocation.angle);e=f.Y=l.y+radius*Math.sin(r.symbolLocation.angle)}}else{var k=t.yAxis.labelFormat?t.yAxis.labelFormat:"",d=n.inArray(t,this.chartObj.model.series),c=r.text?r.text:r.y+k.substring(k.indexOf("}")+1),w=0,h=n.extend({},ej.EjSvgRender.commonChartEventArgs);h.data={Text:c,location:{x:o,y:e},series:t,pointIndex:i};this.chartObj._trigger("displayTextRendering",h);var s=ej.EjSvgRender.utils._measureText(c,null,t.marker.dataLabel.font),f=ej.EjSvgRender.utils.Transform3DToVisible(t,r.symbolLocation.x,r.symbolLocation.y,this.chartObj),v=t.marker.dataLabel.connectorLine.height?t.marker.dataLabel.connectorLine.height:0,y=6.28*(1-90/360),e=f.Y,o=f.X;this.chartObj.model.requireInvertedAxes?(o=r.x>0?f.X-Math.sin(y)*v:f.X+Math.sin(y)*v,w=-s.height/3):e=r.y>0?f.Y+Math.sin(y)*v:f.Y+Math.sin(-y)*v}nt=this._getSegmentDepth(t);t.marker.dataLabel.shape.toLowerCase()!="none"&&(a={tag:"dataLabel",series:t,point:r,pointIndex:i,id:this.chartObj.svgObject.id+d+"_DataLabel"+i,child:this.chartObj.chart3D},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(o,e,r.symbolLocation.z?r.symbolLocation.z:0),a,0,-s.height)));a={Width:s.width,Height:s.height,Label:h.data,TextAnchor:"middle",tag:"text",font:t.marker.dataLabel.font,id:this.chartObj.svgObject.id+"_SeriesText"+i+d,child:this.chartObj.chart3D};this.chartObj.model.AreaType!="none"?(t.marker.dataLabel.connectorLine.height&&t.marker.dataLabel.connectorLine.height>0&&(p=[],p.push({x:f.X,y:f.Y+w,z:r.symbolLocation.z}),p.push({x:o,y:e+w,z:r.symbolLocation.z}),this.drawLineSegment(p,i,t)),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(o,e,r.symbolLocation.z),a,0,-s.height))):(t.labelPosition.toLowerCase()=="outside"&&this.updateConnectorLine(r,i,t,f,u),tt={x:t.actualWidth,y:t.actualHeight},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(f.X,f.Y,-1),a,0,-s.height)))},updateConnectorLine:function(n,t,i){var u=[],r=n.symbolLocation,f=r.center.x+Math.cos(r.angle)*r.radius,e=r.center.y+Math.sin(r.angle)*r.radius,s,o;u.push({x:f,y:e});s=i.marker.dataLabel.connectorLine.height?i.marker.dataLabel.connectorLine.height:0;o=r.radius+s;f=r.center.x+Math.cos(r.angle)*o;e=r.center.y+Math.sin(r.angle)*o;u.push({x:f,y:e});i.marker.dataLabel.connectorLine.type=="bezier"&&(u=this.getBezierApproximation(u,256,i));this.drawLineSegment(u,t,i)},getBezierApproximation:function(n,t,i){for(var f,u=[],r=0;r<=t;r++)f=r/t,u.push(this.GetBezierPoint(f,n,0,n.length,i));return u},drawLineSegment:function(t,i,r){for(var f=[],u=0;u<t.length;u++)f.push(this.chartObj.vector.vector3D(t[u].x,t[u].y,t[u].z?t[u].z:0));var e=n.inArray(r,this.chartObj.model._visibleSeries),o=this.chartObj.model.AreaType=="none"?this.chartObj.model.pointColors[i]:this.chartObj.model.seriesColors[e],s=r.marker.dataLabel.connectorLine.stroke?r.marker.dataLabel.connectorLine.stroke:o,h={width:r.marker.dataLabel.connectorLine.width,stroke:s,child:this.chartObj.chart3D,tag:"polyline",id:this.chartObj.svgObject.id+"_"+e+"_"+i};this.chartObj.graphics.addVisual(this.chartObj.polygon.createPolyline(f,h))}};ej.ej3DDoughnutSeries={draw:function(n,t){t._pieVisiblePoints(n);t.calculateSize(t,n);n.radius=(1-.03)*Math.min(n.actualWidth/2,n.actualHeight/2)*.8;n.InsideRadius=n.radius*n.doughnutCoefficient;t.createPolygons(n,t)},doAnimation:function(t,i){var r=this;t.count=0;n.each(t.segments,function(r,u){var f=u.radius,e=u.inSideRadius;t.animate=!0;n(i.chartObj.element).each(function(){u.radius=0;u.inSideRadius=0}).animate({Radius:f,InsideRadius:e},{duration:1e3,queue:!1,step:function(n,r){var e,f,o;for(r.prop.toString()==="Radius"?u.radius=n:u.inSideRadius=n,e=i.createPolygons(t,i,!0),f=0;f<e.length;f++)for(o=0;o<e[f].length;o++)i.chartObj.polygon.update(e[f][o].VectorPoints,e[f][o],i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.doughnut=ej.ej3DDoughnutSeries;ej.ej3DPieSeries={draw:function(n,t){t._pieVisiblePoints(n);n.InsideRadius=null;n.radius=null;t.createPolygons(n,t)},doAnimation:function(t,i){var r=this;t.count=0;n.each(t.segments,function(r,u){var f=u.radius;t.animate=!0;n(i.chartObj.element).each(function(){u.radius=0}).animate({Radius:f},{duration:800,queue:!1,step:function(n,r){var e,f,o;for(r.prop.toString()==="Radius"&&(u.radius=n),e=i.createPolygons(t,i,!0),f=0;f<e.length;f++)for(o=0;o<e[f].length;o++)i.chartObj.polygon.update(e[f][o].VectorPoints,e[f][o],i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.pie=ej.ej3DPieSeries;ej.ej3DStackingColumn={draw:function(n,t){var r=t._isVisiblePoints(n),i;for(this.createSegments(n,t),i=0;i<r.length;i++)r[i].plans=null,ej.ej3DColumnSeries.update(n,r[i],i,t)},createSegments:function(n,t){var h=t.chartObj._getXValues(n),f,e,u,r,i;if(h!=null)for(e=t.getSideBySideInfo(n),u=t._getSegmentDepth(n),f=e.Delta/2,r=t._isVisiblePoints(n),i=0;i<r.length;i++){var o=h[i]+e.Start,l=h[i]+e.End,c=n.stackedValue.StartValues[i],s=n.stackedValue.EndValues[i];if(ej.ej3DColumnSeries._setData(o,s,l,c,u.Start,u.End,t,r[i]),n.marker.dataLabel.visible){r[i].symbolLocation={x:0,y:0,z:0};switch(n.marker.dataLabel.textPosition){case"top":r[i].symbolLocation.x=o+f;r[i].symbolLocation.y=s;r[i].symbolLocation.z=u.Start+u.Delta/2;break;case"bottom":r[i].symbolLocation.x=o+f;r[i].symbolLocation.y=c;r[i].symbolLocation.z=u.Start+(u.End-u.Start)/2;break;default:r[i].symbolLocation.x=o+f;r[i].symbolLocation.y=s+(c-s)/2;r[i].symbolLocation.z=u.Start}}}},doAnimation:function(t,i){var r=this;n.each(t.points,function(r,u){var f=u.Top,e=u.Bottom;n(u).each(function(){u.Top=0;u.Bottom=0}).animate({Top:f,Bottom:e},{duration:1200,queue:!1,step:function(n,f){f.prop.toString()==="Top"&&(u.Top=n);f.prop.toString()==="Bottom"&&(u.Bottom=n);ej.ej3DColumnSeries.update(t,u,r,i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.stackingcolumn=ej.ej3DStackingColumn;ej.series3DTypes.stackingbar=ej.ej3DStackingColumn;ej.ej3DColumnSeries={draw:function(n,t){var r=t._isVisiblePoints(n),i;for(this.createSegments(n,t),i=0;i<r.length;i++)r[i].plans=null,this.update(n,r[i],i,t)},update:function(t,i,r,u){var a=t.xAxis._valueType.toLowerCase(),e=n.inArray(t,u.chartObj.model._visibleSeries),v=a=="logarithmic"?null:1,y=a=="logarithmic"?!0:!1,p=y?Math.log(i.Left,v):i.Left,w=y?Math.log(i.Right,v):i.Right,o=t.yAxis.visibleRange.min,b=t.yAxis.visibleRange.max,s=t.xAxis.visibleRange.min,h=t.xAxis.visibleRange.max,k,nt;if(p>=s&&p<=h||w>=s&&w<=h){k=i.Top<0?i.Top>o?i.Top:o:i.Top<b?i.Top:b;var c=ej.EjSvgRender.utils.Transform3DToVisible(t,i.Left>s?i.Left:s,k,u.chartObj),l=ej.EjSvgRender.utils.Transform3DToVisible(t,h>i.Right?i.Right:h,o>i.Bottom?o:i.Bottom,u.chartObj),d=u.chartObj.vector.vector3D(Math.min(c.X,l.X),Math.min(c.Y,l.Y),i.StartDepth),g=u.chartObj.vector.vector3D(Math.max(c.X,l.X),Math.max(c.Y,l.Y),i.EndDepth),f=u.chartObj.setStyle(u,t,e,r);typeof u.chartObj.model.seriesColors[e]=="object"&&(f.interior=u.chartObj.model.seriesColors[e][0].color);nt="Region_Series_"+e+"_Point_"+r;i.plans?u.chartObj.polygon.updateBox(i.plans,d,g,u):i.plans=u.chartObj.polygon.createBox(d,g,this,r,null,f.borderColor,f.interior,f.borderWidth,f.opacity,u.chartObj.model.requireInvertedAxes,nt,u.chartObj.chart3D)}},_setData:function(){var n=arguments;point=arguments[arguments.length-1];sender=arguments[arguments.length-2];point.Left=n[0];point.Bottom=n[3];point.Top=n[1];point.Right=n[2];point.StartDepth=n[4];point.EndDepth=n[5];point.XRange=sender.getDoubleRange(point.Left,point.Right);isNaN(point.Top)||isNaN(point.Bottom)||(point.YRange=sender.getDoubleRange(point.Top,point.Bottom))},createSegments:function(n,t){var f=t.chartObj._getXValues(n),l=t.chartObj._getYValues(n),e,o,u,r,i;if(f!=null)for(o=t.getSideBySideInfo(n),u=t._getSegmentDepth(n),e=o.Delta/2,r=t._isVisiblePoints(n),i=0;i<r.length;i++){var s=f[i]+o.Start,a=f[i]+o.End,h=l[i],c=0;if(this._setData(s,h,a,c,u.Start,u.End,t,r[i]),XData=f[i],YData=l[i],n.marker.dataLabel.visible){r[i].symbolLocation={x:0,y:0,z:0};switch(n.marker.dataLabel.textPosition){case"top":r[i].symbolLocation.x=s+e;r[i].symbolLocation.y=h;r[i].symbolLocation.z=u.Start+u.Delta/2;break;case"bottom":r[i].symbolLocation.x=s+e;r[i].symbolLocation.y=c;r[i].symbolLocation.z=u.Start+(u.End-u.Start)/2;break;default:r[i].symbolLocation.x=s+e;r[i].symbolLocation.y=Math.abs(c-h)/2;r[i].symbolLocation.z=u.Start}}}},doAnimation:function(t,i){var r=this;n.each(t.points,function(u,f){var e=f.Top;n(f).each(function(){f.Top=0}).animate({Top:e},{duration:1200,queue:!1,step:function(n,e){e.prop.toString()==="Top"&&(f.Top=n);r.update(t,f,u,i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.column=ej.ej3DColumnSeries;ej.series3DTypes.bar=ej.ej3DColumnSeries;ej.Ej3DChart.prototype={renderSeries:function(t,i){var i,r,u,f,e;ej.Ej3DSeriesRender.prototype.chartObj=t;n.extend(ej.Ej3DSeriesRender.prototype,ej.EjSeriesRender.prototype);r=new ej.Ej3DSeriesRender;u=n.extend({},ej.EjSvgRender.commonChartEventArgs);u.data={series:i};r.chartObj._trigger("seriesRendering",u);f=i.type.toLowerCase();e=ej.series3DTypes[f];e.draw(i,r);i.marker.dataLabel.visible&&n.each(i.points,function(n,t){(ej.util.isNullOrUndefined(t.marker)||t.marker.dataLabel&&t.marker.dataLabel.visible)&&r.draw3DDataLabel(i,n,t)})},update3DWall:function(t){var i,r;if(t.model.AreaType=="cartesianaxes")for(n.extend(ej.Ej3DRender.prototype,this),this.updateBackWall(t),r=0;r<t.model.axes.length;r++)i=t.model.axes[r],i.orientation.toLowerCase()=="vertical"?i.opposedPosition?this.updateRightWall(t):this.updateLeftWall(t):i.opposedPosition?this.updateTopWall(t):this.updateBottomWall(t)},updateTopWall:function(n){var r=0,t=n.model.m_AreaBounds,u,f,i;for(r=n.model.wallSize<t.Y?t.Y-n.model.wallSize:-(n.model.wallSize-t.Y),u=n.vector.vector3D(t.X+t.Width,-n.model.depth,t.Y-.1),f=n.vector.vector3D(t.X,-.1,r),topSideWallPlans=n.polygon.createBox(u,f,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"TopWallBrush",n.chart3D),i=0;i<topSideWallPlans.length;i++)n.polygon.transform(n.matrixobj.tilt(parseFloat(Math.PI/2)),topSideWallPlans[i])},updateRightWall:function(n){var t={left:-n.model.depth,top:n.model.m_AreaBounds.Y,bottom:n.model.m_AreaBounds.Height+n.model.m_AreaBounds.Y,right:0},r=n.vector.vector3D(t.left,t.top,n.model.m_AreaBounds.X+n.model.m_AreaBounds.Width+1.5),u=n.vector.vector3D(t.right,t.bottom,n.model.m_AreaBounds.X+n.model.m_AreaBounds.Width+n.model.wallSize),i;for(rightSideWallPlans=n.polygon.createBox(r,u,n,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"RightWallBrush",n.chart3D),i=0;i<rightSideWallPlans.length;i++)n.polygon.transform(n.matrixobj.turn(parseFloat(-Math.PI/2)),rightSideWallPlans[i])},updateBackWall:function(n){var t=n.model.m_AreaBounds,i=n.vector.vector3D(t.X,t.Y,n.model.depth==0?1.5:n.model.depth+n.model.wallSize),r=n.vector.vector3D(t.X+t.Width,t.Y+t.Height,n.model.depth==0?1.5:n.model.depth);n.polygon.createBox(i,r,n,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"BackWallBrush",n.chart3D)},updateLeftWall:function(n){var i,r,t;for(leftRect={left:-n.model.depth,top:n.model.m_AreaBounds.Y,bottom:n.model.m_AreaBounds.Height+n.model.m_AreaBounds.Y,right:0},offset=n.model.m_AreaBounds.X,i=n.vector.vector3D(leftRect.left,leftRect.top,offset-.1),r=n.vector.vector3D(leftRect.right,leftRect.bottom,offset-n.model.wallSize),leftSideWallPlans=n.polygon.createBox(i,r,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"LeftWallBrush",n.chart3D),t=0;t<leftSideWallPlans.length;t++)n.polygon.transform(n.matrixobj.turn(parseFloat(-Math.PI/2)),leftSideWallPlans[t])},updateBottomWall:function(n){var t=n.model.m_AreaBounds,r=n.vector.vector3D(t.X+t.Width,-n.model.depth,n.model.wallSize+t.Y+t.Height),u=n.vector.vector3D(t.X,-.1,t.Y+t.Height+1),i;for(bottomSideWallPlans=n.polygon.createBox(u,r,this,0,"Graphics3D","#D3D3D3","#D3D3D3",0,.15,!1,"BottomWallBrush",n.chart3D),i=0;i<bottomSideWallPlans.length;i++)n.polygon.transform(n.matrixobj.tilt(parseFloat(Math.PI/2)),bottomSideWallPlans[i])}}}(jQuery);ej.EjVmlRender=function(n){var t=document;this.vmlNamespace="urn:schemas-microsoft-com:vml";this.vmStyle="#default#VML";t.namespaces.add("v","urn:schemas-microsoft-com:vml");t.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";this._rootId=jQuery(n).attr("id");this.svgObj=t.createElement("div");this.svgObj.style.position="relative";this.svgObj.setAttribute("id",this._rootId+"_vml");this.isdocmode8=t.documentMode===8;this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight",points:"points"}},function(n){ej.EjVmlRender.prototype={drawPath:function(t,i){var r=t.d.split(" "),f,e,o,u;n.inArray("A",r)!=-1&&(f=parseFloat(r[4]),e=parseFloat(r[5]),t.d=this.drawArc(f,e,t));n("#"+t.id).length>0?(t.d=this.changePathValue(t.d),this.applyVMLStyle(n("#"+t.id),t)):(t.d=this.changePathValue(t.d),o=document.createElement("v:shape"),u=n(o),this.applyVMLStyle(u,t),u.appendTo(i))},createLegendSvg:function(n){var t=document;return this.vmlNamespace="urn:schemas-microsoft-com:vml",this.vmStyle="#default#VML",t.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ",this._rootId=jQuery(n).attr("id"),this.legendsvgObj=t.createElement("div"),this.legendsvgObj.style.position="relative",this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_vml"),this.isdocmode8=t.documentMode===8,this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight",points:"points"},this.legendsvgObj},drawPolyline:function(t,i){var f=t.points.split(" "),u,r;n("#"+t.id).length>0?(t.points=this.changePathValue(t.points),this.applyVMLStyle(n("#"+t.id),t)):(t.points=this.changePathValue(t.points),u=document.createElement("v:polyline"),r=n(u),this.applyVMLStyle(r,t),r.appendTo(i))},setFillAttribute:function(t,i){var f=document.createElement("v:fill"),u=i["fill-opacity"]?i["fill-opacity"]:i.opacity,r,e;u=u?u:i.opacity?i.opacity:1;r=i.fill;r=="none"||ej.util.isNullOrUndefined(r)?u=.1:r.match("gradient")?(e=r.replace("gradient",""),f.setAttribute("type","gradient"),f.setAttribute("colors",e)):n(t).attr("fillcolor",r);f.setAttribute("opacity",u);n(f).appendTo(t)},setStrokeAttribute:function(t,i){var f=i.stroke,r,u;f=="transparent"&&(i.opacity=.1);r=i.opacity;r&&(u=document.createElement("v:stroke"),u.setAttribute("opacity",r),n(u).appendTo(t))},changePathValue:function(n){var t,i,r;if(!n.d){for(t=n.split(" "),i=0;i<t.length;i++)r=t[i].match(/\d+/g),r!=null&&(t[i]=Math.round(parseFloat(t[i])));return t.join(" ")}},drawArc:function(n,t,i){var u=0,f=0,s=i.start-1.571,o=i.end-1.571,o=Number(Math.PI.toFixed(2))==Number((o+s).toFixed(2))?o-.01:o,e=i.r||n||t,l=Math.cos(s),a=Math.sin(s),h=Math.cos(o),v=Math.sin(o),r=i.innerR,y=.08/e,p=r&&.1/r||0,c;return o-s==0?"":(2*Math.PI-o+s<y?h=-y:o-s<p&&(h=Math.cos(s+p)),c=["wa",u-e,f-e,u+e,f+e,u+e*l,f+e*a,u+e*h,f+e*v],i.open&&!r&&c.push("e",M,u,f),c.push("at",u-r,f-r,u+r,f+r,u+r*h,f+r*v,u+r*l,f+r*a,"x","e"),c.join(" "))},changeVMLStyle:function(t,i){var r=this,u=i.stroke;t.css("width",i.width).css("visibility",i.visibility).css("height",i.height).css("position","absolute").css("left",i.x).css("top",i.y);n.each(i,function(n,u){(r.changeOptions[n]!=null||r.changeOptions[n]!=undefined)&&((n=="d"||n=="points")&&(u=r.changePathValue(i[n]).toLowerCase()),u=="transparent"&&(i[n]=u="white",n!="fill"||i.hasOwnProperty("opacity")&&i.opacity||(i.opacity=.1)),t[0].tagName==="SPAN"?n=="fill"?t.css("color",u):n=="id"?t.attr(r.changeOptions[n],u):t.css(r.changeOptions[n],u):r.isdocmode8?t.get(0)[r.changeOptions[n]]=u:t.get(0).setAttribute(r.changeOptions[n],u))});(i.hasOwnProperty("fill-opacity")||i.hasOwnProperty("opacity")||i.hasOwnProperty("fill"))&&(t[0].tagName==="SPAN"||(r.setFillAttribute(t,i),i.hasOwnProperty("stroke")&&(i.stroke=u,r.setStrokeAttribute(t,i))))},applyVMLStyle:function(n,t){n[0].tagName!=="SPAN"&&(ej.util.isNullOrUndefined(t.width)&&(t.width="1000px"),ej.util.isNullOrUndefined(t.height)&&(t.height="1000px"));ej.util.isNullOrUndefined(t.x)&&(t.x="0px");ej.util.isNullOrUndefined(t.y)&&(t.y="0px");this.changeVMLStyle(n,t)},drawLine:function(t,i){var r,u;if(n("#"+t.id).length>0)r=t.x1+","+t.y1,u=t.x2+","+t.y2,n(t).attr("from",r).attr("to",u),this.applyVMLStyle(n("#"+t.id),t);else{var e=document.createElement("v:line"),f=n(e),r=t.x1+","+t.y1,u=t.x2+","+t.y2;f.attr("from",r).attr("to",u);this.applyVMLStyle(f,t);f.appendTo(i)}},drawCircle:function(t,i){if(n("#"+t.id).length>0)t.x=t.cx-t.r,t.y=t.cy-t.r,t.width=t.height=2*t.r,this.applyVMLStyle(n("#"+t.id),t);else{var u=document.createElement("v:oval"),r=n(u);t.x=t.cx-t.r;t.y=t.cy-t.r;t.width=t.height=2*t.r;this.applyVMLStyle(r,t);n("#"+t.id).length==0&&r.appendTo(i)}},drawEllipse:function(t,i){if(n("#"+t.id).length>0)t.x=t.cx-t.rx,t.y=t.cy-t.ry,t.width=2*t.rx,t.height=2*t.ry,this.applyVMLStyle(n("#"+t.id),t);else{var u=document.createElement("v:oval"),r=n(u);t.x=t.cx-t.rx;t.y=t.cy-t.ry;t.width=2*t.rx;t.height=2*t.ry;this.applyVMLStyle(r,t);r.appendTo(i)}},drawRect:function(t,i){if(n("#"+t.id).length>0)this.applyVMLStyle(n("#"+t.id),t);else{var u=document.createElement("v:rect"),r=n(u);this.applyVMLStyle(r,t);r.appendTo(i)}},_getAttrVal:function(t,i,r){i=i=="x"?"left":i;i=i=="y"?"top":i;var u=n(t).attr(i),f=u?u:n(t).css(i);return f!=null?f:r},_setAttr:function(t,i){var r,u,f;i.transform&&(r=i.transform,u=r.slice(r.indexOf("(")+1,r.indexOf(")")).split(","),i.x=u[0],i.y=u[1]);f=n(t);f.length>0&&this.changeVMLStyle(f,i)},createGradientElement:function(n,t){var i,f,r,u;if(Object.prototype.toString.call(t)=="[object Array]")for(i="gradient ",f="",r=0,u=t.length-1;u>=0,r<t.length;r++,u--)i+=f+t[r].colorStop+" "+t[u].color,f=",";else i=t;return i},setSpanAttr:function(t,i,r){var e=t["font-size"]>0?t["font-size"]+"px":t["font-size"],u={size:e,fontStyle:t["font-style"],fontFamily:t["font-weight"]},f=ej.EjSvgRender.utils._measureText(i,null,u);n(r).css("white-space","nowrap");t["text-anchor"]==="middle"?t.x=Math.round(t.x-f.width/2):t["text-anchor"]==="end"&&(t.x=Math.round(t.x-f.width));t.y=Math.round(t.y-u.size.replace("px",""));this.applyVMLStyle(r,t)},drawText:function(t,i,r,u){var s=document,c=n("#"+t.id),e,f,o,h,l;if(c.length>0)this._textAttrReplace(t,i,u,c);else{if(e=s.createElement("span"),f=n(e),jQuery.type(i)=="array")for(this.setSpanAttr(t,i,f),o=0;o<i.length;o++)h=s.createElement("span"),n(h).html(i[o]),n(h).appendTo(e),l=s.createElement("br"),n(l).appendTo(e);else this.setSpanAttr(t,i,f),f.html(i);f.appendTo(r)}},_textAttrReplace:function(t,i,r,u){var f,e,o;if(jQuery.type(i)=="array")if(f=n("#"+t.id).children("span"),this.setSpanAttr(t,i,u),f.length>0&&f.length==i.length)for(e=0;e<f.length;e++)o=f[e],n(o).text(i[e]);else n("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,r);else this.setSpanAttr(t,i,u),u.text(i)},drawImage:function(t,i){var u=document.createElement("img"),r=n(u);r.css({position:"absolute"});n.each(t,function(n,t){n=="href"&&(n="src");r.attr(n,t)});r.appendTo(i)},createDefs:function(){},createGroup:function(t){var i=document.createElement("div"),r;return ej.util.isNullOrUndefined(t.transform)||(r=t.transform.slice(t.transform.indexOf("(")+1,t.transform.indexOf(")")).split(","),n(i).css({position:"absolute",left:r[0]+"px",top:r[1]+"px"})),t.cursor&&n(i).css({cursor:t.cursor}),n.each(t,function(t,r){t!=="transform"&&t!="clip-path"&&n(i).attr(t,r)}),i},createText:function(t,i){var r=document.createElement("span");return n(r).attr(t),ej.util.isNullOrUndefined(i)||(r.textContent=i),r},drawAxesBoundsClipPath:function(t,i,r){var u,e=n(t),f;e.removeAttr("clip-path");f=this._getTransform(i.xAxis,i.yAxis,r);u={id:t.id+"_ClipRect",x:0,y:0,width:f.width,height:f.height,fill:"white","stroke-width":1,stroke:"transparent"};this.drawClipPath(u,t);e.attr("clip-path","url(#"+u.id+")")},getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},round:function(n,t,i){return t*(i?Math.ceil(n/t):Math.floor(n/t))},hexFromRGB:function(t){var r=t.R,u=t.G,f=t.B,i=[r.toString(16),u.toString(16),f.toString(16)];return n.each(i,function(n,t){t.length===1&&(i[n]="0"+t)}),"#"+i.join("").toUpperCase()},hexToRGB:function(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(t,i){if(t.id.indexOf("ChartAreaClipRect")==-1){var r=Math.round(t.x)+"px",u=Math.round(t.y)+"px",f=Math.round(t.width)+"px",e=Math.round(t.height)+"px",o="rect("+u+" "+f+" "+e+" "+r+")";n(i).css("position","absolute").css("clip",o)}},append:function(t,i){n(t).appendTo(i)}}}(jQuery);ej.EjCanvasRender=function(n){this.svgObj=document.createElement("canvas");this._rootId=jQuery(n).attr("id");this.svgObj.setAttribute("id",this._rootId+"_canvas");this.ctx=this.svgObj.getContext("2d")},function(n){ej.EjCanvasRender.prototype={drawPath:function(n,t,i){var l=n.d,u=l.split(" "),o,s,r,f,e,h,c;if(n.lgndCtx){for(this.lgndCtx.save(),this.lgndCtx.beginPath(),i&&this.lgndCtx.translate(i[0],i[1]),this.lgndCtx.globalAlpha=n.opacity?n.opacity:n["fill-opacity"],this.lgndCtx.lineWidth=n["stroke-width"],this.lgndCtx.strokeStyle=n.stroke,r=0;r<u.length-1;r=r+3){f=parseFloat(u[r+1]);e=parseFloat(u[r+2]);switch(u[r]){case"M":this.lgndCtx.moveTo(f,e);break;case"L":this.lgndCtx.lineTo(f,e);break;case"C":this.lgndCtx.bezierCurveTo(f,e,parseFloat(u[r+3]),parseFloat(u[r+4]),parseFloat(u[r+5]),parseFloat(u[r+6]));r=r+4;break;case"A":this.lgndCtx.moveTo(n.x,n.y);this.lgndCtx.arc(n.x,n.y,n.radius,n.start,n.end,!1);this.lgndCtx.lineTo(n.x,n.y);r=r+5;break;case"a":this.lgndCtx.beginPath();h=parseFloat(u[r-2])+5;c=u[r-1];this.lgndCtx.arc(h,c,5,0,2*Math.PI,!1);r=r+5;break;case"Z":this.lgndCtx.fillStyle=n.fill;this.lgndCtx.fill();r=r-2}}n.fill!="none"&&n.fill!=undefined&&(this.lgndCtx.fillStyle=n.fill,this.lgndCtx.fill());this.lgndCtx.stroke();this.lgndCtx.restore()}else{for(this.ctx.save(),this.ctx.beginPath(),i&&this.ctx.translate(i[0],i[1]),this.ctx.globalAlpha=n.opacity?n.opacity:n["fill-opacity"],o=!0,this.ctx.lineWidth=n["stroke-width"],s=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1,s&&this.ctx.setLineDash(s),this.ctx.strokeStyle=n.stroke,r=0;r<u.length-1;r=r+3){f=parseFloat(u[r+1]);e=parseFloat(u[r+2]);switch(u[r]){case"M":n.canvasInnerR||this.ctx.moveTo(f,e);break;case"L":n.canvasInnerR||this.ctx.lineTo(f,e);break;case"C":this.ctx.bezierCurveTo(f,e,parseFloat(u[r+3]),parseFloat(u[r+4]),parseFloat(u[r+5]),parseFloat(u[r+6]));r=r+4;break;case"A":n.canvasInnerR?o&&(this.ctx.arc(n.x,n.y,n.radius-(n.canvasInnerR-n.canvasInnerR/4),n.start,n.end,n.counterClockWise),this.ctx.lineWidth=n.radius-n.canvasInnerR,this.ctx.strokeStyle=n.fill,o=!1):(this.ctx.moveTo(n.x,n.y),this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.lineTo(n.x,n.y));r=r+5}}n.fill=="none"||n.fill==undefined||n.canvasInnerR||(this.ctx.fillStyle=n.fill,this.ctx.fill());this.ctx.stroke();this.ctx.restore()}},drawRect:function(n){this.ctx.save();this.ctx.beginPath();this.ctx.globalAlpha=n.opacity;this.ctx.lineWidth=n["stroke-width"];this.ctx.strokeStyle=n.stroke;this.ctx.rect(n.x,n.y,n.width,n.height);n.fill=="none"&&(n.fill="transparent");this.ctx.fillStyle=n.fill;this.ctx.fillRect(n.x,n.y,n.width,n.height);this.ctx.stroke();this.ctx.restore()},createGradientElement:function(n,t){var u,o=this.ctx,f,i,e,r;if(Object.prototype.toString.call(t)=="[object Array]"){for(f=o.createLinearGradient(0,0,0,this.svgObj.height),i=0;i<=t.length-1;i++)e=t[i].color,r=t[i].colorStop.slice(0,-1),r=parseInt(r)/100,f.addColorStop(r,e);u=f}else u=t;return u},drawLine:function(n){this.ctx.save();this.ctx.beginPath();this.ctx.lineWidth=n["stroke-width"];this.ctx.strokeStyle=n.stroke;this.ctx.moveTo(n.x1,n.y1);this.ctx.lineTo(n.x2,n.y2);this.ctx.stroke();this.ctx.restore()},drawText:function(n,t){var r,i,u;ej.util.isNullOrUndefined(n["font-weight"])||n["font-weight"].toLowerCase()!="regular"||(n["font-weight"]="normal");r=n["font-style"].toLowerCase()+" "+n["font-weight"]+" "+n["font-size"]+" "+n["font-family"];i=n["text-anchor"];i=="middle"&&(i="center");n.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.fillStyle=n.fill,this.lgndCtx.font=r,this.lgndCtx.textAlign=i,n["dominant-baseline"]=="middle"&&(this.lgndCtx.textBaseline="center"),n.labelRotation?(this.lgndCtx.translate(n.x,n.y),this.lgndCtx.rotate(n.labelRotation*Math.PI/180),this.lgndCtx.fillText(t,0,0)):this.lgndCtx.fillText(t,n.x,n.y),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.fillStyle=n.fill,this.ctx.font=r,this.ctx.textAlign=i,n.labelRotation?(u=0,n.labelRotation==90&&n.id.indexOf("XLabel")!=-1&&(u=this.ctx.measureText(t).width),this.ctx.translate(n.x+u/2,n.y),this.ctx.rotate(n.labelRotation*Math.PI/180),this.ctx.fillText(t,0,0)):this.ctx.fillText(t,n.x,n.y),this.ctx.restore())},drawZoomRect:function(t,i){var r=document.getElementById(this.svgObj.id).getClientRects()[0],u=n("<div id="+t.id+"><\/div>"),f=i.model.m_AreaBounds;t.x<i.canvasX||t.x+r.left+t.width>r.left+r.width-20?(width=this.prevWidth,x=this.prevX):(width=this.prevWidth=t.width,x=this.prevX=t.x+r.left);t.y<i.canvasY||t.y+r.top+t.height>r.top+f.Y+f.Height?(height=this.prevHeight,y=this.prevY):(height=this.prevHeight=t.height,y=this.prevY=t.y+r.top);n(u).css({width:width,height:height,top:y+n(document).scrollTop(),left:x+n(document).scrollLeft(),"background-color":t.fill,"border-style":"solid",position:"absolute","border-color":t.stroke,"border-width":t["stroke-width"]});document.getElementById(this._rootId).appendChild(u[0])},zoomButton:function(t){var u=document.getElementById(this.svgObj.id).getClientRects()[0],f,o,i;if(n("#"+t.zoomId).length<=0){i=n("<div id="+t.zoomId+"><\/div>");n(i).css({width:t.width,height:t.height,top:t.top+u.top+n(document).scrollTop(),left:t.left+u.left-20+n(document).scrollLeft(),"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill});var u=document.getElementById(this._rootId+"_canvas").getClientRects()[0],e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");r.setAttribute("id",t.zoomId);r.setAttribute("width",25);r.setAttribute("height",25);f={id:"zoomPath",fill:"#FFFFFF",transform:"translate(-3,-3)"};f.d="M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571";o=document.createElementNS(e,"path");n(o).attr(f).appendTo(r);i[0].appendChild(r);document.getElementById(this._rootId).appendChild(i[0])}else i=document.getElementById(t.zoomId),n(i).css({top:t.top+u.top+n(document).scrollTop(),left:t.left+u.left-20+n(document).scrollLeft()})},panButton:function(t){var u=document.getElementById(this.svgObj.id).getClientRects()[0],f,o,i;if(n("#"+t.panId).length<=0){i=n("<div id="+t.panId+"><\/div>");n(i).css({width:t.width,height:t.height,top:t.top+u.top+n(document).scrollTop(),left:t.left+u.left-10+n(document).scrollLeft(),"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill});var u=document.getElementById(this._rootId+"_canvas").getClientRects()[0],e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");r.setAttribute("id",t.panId);r.setAttribute("width",25);r.setAttribute("height",25);f={id:"panPath",fill:"#FFFFFF",transform:"translate(-3,-3)"};f.points="26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789";o=document.createElementNS(e,"polygon");n(o).attr(f).appendTo(r);i[0].appendChild(r);document.getElementById(this._rootId).appendChild(i[0])}else i=document.getElementById(t.panId),n(i).css({top:t.top+u.top+n(document).scrollTop(),left:t.left+u.left-10+n(document).scrollLeft()})},resetZoom:function(t){var f=document.getElementById(this.svgObj.id).getClientRects()[0],e,c,o,l,s,a,h,v,r;if(n("#"+t.resetZoomId).length<=0){r=n("<div id="+t.resetZoomId+"><\/div>");n(r).css({width:t.width,height:t.height,top:t.top+f.top+n(document).scrollTop(),left:t.left+f.left+n(document).scrollLeft(),"background-color":t.fill,"border-style":"solid","border-radius":"0.4em",position:"absolute","border-color":t.fill});var f=document.getElementById(this._rootId+"_canvas").getClientRects()[0],u="http://www.w3.org/2000/svg",i=document.createElementNS(u,"svg");i.setAttribute("id",t.resetZoomId);i.setAttribute("width",25);i.setAttribute("height",25);e={id:"p1",fill:"#FFFFFF",transform:"translate(-3,-3)"};e.points="11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186";c=document.createElementNS(u,"polygon");n(c).attr(e).appendTo(i);o={id:"p2",fill:"#FFFFFF",transform:"translate(-3,-3)"};o.points="19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072";l=document.createElementNS(u,"polygon");n(l).attr(o).appendTo(i);s={id:"p3",fill:"#FFFFFF",transform:"translate(-3,-3)"};s.points="11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123";a=document.createElementNS(u,"polygon");n(a).attr(s).appendTo(i);h={id:"p4",fill:"#FFFFFF",transform:"translate(-3,-3)"};h.points="19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23";v=document.createElementNS(u,"polygon");n(v).attr(h).appendTo(i);r[0].appendChild(i);document.getElementById(this._rootId).appendChild(r[0])}else r=document.getElementById(t.resetZoomId),n(r).css({top:t.top+f.top+n(document).scrollTop(),left:t.left+f.left+n(document).scrollLeft()})},drawToolTipRect:function(t){var i=n("<div id="+this.svgObj.id+"_TrackToolTip><\/div>"),r=5;n(i).css({width:t.width+2+r,height:t.height+r,top:t.y,left:t.x,"background-color":t.fill,"border-style":"solid",position:"absolute","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"]});document.getElementById(this._rootId).appendChild(i[0])},drawToolTipText:function(t,i){var r=n("#"+this.svgObj.id+"_TrackToolTip"),u=document.getElementById(this._rootId+"_canvas").getClientRects()[0];n(r).css({color:t.fill,"font-family":t["font-family"],"font-size":t["font-size"],"font-weight":t["font-weight"],"font-style":t["font-style"],left:t.x+u.left+n(document).scrollLeft(),top:t.y+u.top+n(document).scrollTop()-10,"align-self":"baseline","text-align":"center"});n(r).html(i)},drawCrosshairLine:function(t){var i=n("<div id="+t.id+" style='position: absolute; z-index: 13000;'><\/div>");n(i).css({width:t.width,height:t.height,left:t.left+n(document).scrollLeft(),top:t.top+n(document).scrollTop(),"border-style":"solid",opacity:.5,visibility:"visible","border-color":t.stroke,"border-width":t["stroke-width"],"z-index":100});document.getElementById(this._rootId).appendChild(i[0])},drawCrosshairlabel:function(t,i,r){var f=document.getElementById(this.svgObj.id).getClientRects()[0],u;n("#"+t.id).length>0?(u=document.getElementById(t.id),n(u).css({width:t.width-5,height:t.height-5,left:i.x+f.left+n(document).scrollLeft()-5,top:i.y+f.top+n(document).scrollTop()-15,visibility:"visible"}),document.getElementById(t.id).textContent=r):(u=n("<div id="+t.id+" style='position: absolute; z-index: 13000;'><\/div>"),n(u).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],"background-color":t.fill,"border-style":"solid","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"],"text-align":"center"}),document.getElementById(this._rootId).appendChild(u[0]))},drawTrackToolTip:function(t,i,r){var f=document.getElementById(this.svgObj.id).getClientRects()[0],u;n("#"+t.id).length>0?(u=document.getElementById(t.id),n(u).css({left:i.x+f.left+n(document).scrollLeft()-5,top:i.y+f.top+n(document).scrollTop()-15,visibility:"visible"}),document.getElementById(t.id).textContent=r):(u=n("<div id="+t.id+" style='position: absolute; z-index: 13000;'><\/div>"),n(u).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],width:t.width,height:t.height-5,"background-color":t.fill,"border-style":"solid","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"]}),document.getElementById(this._rootId).appendChild(u[0]))},trackSymbol:function(t,i,r,u,f){var g=t.SeriesIndex,ot=t.PointIndex,tt,nt,e,o,s,p;if(f.model.series[g].type.toLowerCase()=="bubble"){var st=f.model.series[g].points[ot],c=st.radius*2,a=c;t.Style.BorderColor=t.Style.Color}if(f.model.series[g].type.toLowerCase()=="scatter"&&ej.util.isNullOrUndefined(u))tt={cx:i.startX-2,cy:i.startY-2,r:t.ShapeSize.width/2,fill:t.Style.Color,opacity:t.Style.Opacity,stroke:t.Style.BorderColor},this.drawCircle(tt,null);else{nt=n("#canvas_trackSymbol").length>0?n("#canvas_trackSymbol"):n("<div id=canvas_trackSymbol><\/div>");var l=document.getElementById(this._rootId+"_canvas").getClientRects()[0],w=2,h=n("<div id="+t.ID+"><\/div>"),v=i.startX+l.left+n(document).scrollLeft()-t.ShapeSize.width+w,y=i.startY+l.top+n(document).scrollTop()-t.ShapeSize.height+w;n(h).css({left:c?v-c/3:v,top:a?y-a/3:y,position:"absolute",visibility:"visible",opacity:t.Style.Opacity,"z-index":200});e=t.ShapeSize;t.symbol=h;o={};switch(r.toLowerCase()){case"circle":n(h).css({width:c?c:t.ShapeSize.width,height:a?a:t.ShapeSize.height,left:c?v-c/3-w:t.ShapeSize.width>10?v+(t.ShapeSize.width-10)/2:v,top:a?y-a/3-w:t.ShapeSize.height>10?y+(t.ShapeSize.height-10)/2:y,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":200});break;case"rectangle":n(h).css({width:t.ShapeSize.width,height:t.ShapeSize.height,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth});break;case"diamond":n(h).css({width:t.ShapeSize.width/2,height:t.ShapeSize.height/2,left:i.startX+l.left+n(document).scrollLeft()-t.ShapeSize.width-15,top:i.startY+l.top+n(document).scrollTop()-t.ShapeSize.width/2,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,margin:"3px 0 0 30px",transform:"rotate(-45deg)","transform-origin":"0 100%"});break;case"triangle":s="M "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2)+" L "+i.startX+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2);o.direction=s;this.drawSvgShape(t,o);break;case"invertedtriangle":var s="M "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2)+" L "+i.startX+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2),b=i.startX,k=i.startY,d="rotate(180,"+b+","+k+")";o.direction=s;o.rotate=d;this.drawSvgShape(t,o);break;case"cross":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+e.width/2)+" "+i.startY+" M "+i.startX+" "+(i.startY+e.height/2)+" L "+i.startX+" "+(i.startY+-e.height/2);o.direction=s;this.drawSvgShape(t,o);break;case"star":s="M "+(i.startX+e.width/3)+" "+(i.startY+-e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/6)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/6)+" L "+(i.startX+-e.width/3)+" "+(i.startY+-e.height/2)+" L "+i.startX+" "+(i.startY+e.height/2)+" L "+(i.startX+e.width/3)+" "+(i.startY+-e.height/2);o.direction=s;this.drawSvgShape(t,o);break;case"hexagon":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+-e.width/4)+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/4)+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+i.startY+" L "+(i.startX+e.width/4)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/4)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+i.startY;o.direction=s;this.drawSvgShape(t,o);case"wedge":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+e.width)+" "+(i.startY+-e.height/2)+" L "+(i.startX+3*(e.width/4))+" "+i.startY+" L "+(i.startX+e.width)+" "+(i.startY+e.height/2)+" L "+i.startX+" "+i.startY;o.direction=s;this.drawSvgShape(t,o);break;case"trapezoid":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+-e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX+-e.width/2+e.width)+" "+(i.startY+-e.height/2)+" L "+(i.startX+-e.width/2+e.width)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX+-e.width/2)+" "+i.startY;o.direction=s;this.drawSvgShape(t,o);break;case"uparrow":var s="M "+(i.startX+e.width)+" "+(i.startY-e.height/2+e.height/4)+" L "+(i.startX+e.width)+" "+(i.startY-e.height/2+-e.height/4)+" L "+(i.startX+e.width/2)+" "+(i.startY-e.height/2+-e.height/4)+" L "+(i.startX+e.width/2)+" "+(i.startY-e.height/2+-e.height/2)+" L "+i.startX+" "+(i.startY-e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY-e.height/2+e.height/4)+" L "+(i.startX+e.width)+" "+(i.startY-e.height/2+e.height/4),b=i.startX,k=i.startY-e.height/2,d="rotate(90,"+b+","+k+")";o.direction=s;o.rotate=d;this.drawSvgShape(t,o);break;case"downarrow":var s="M "+(i.startX+e.width)+" "+(i.startY+e.height/2+e.height/4)+" L "+(i.startX+e.width)+" "+(i.startY+e.height/2+-e.height/4)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2+-e.height/4)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2+-e.height/2)+" L "+i.startX+" "+(i.startY+e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2+e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2+e.height/4)+" L "+(i.startX+e.width)+" "+(i.startY+e.height/2+e.height/4),b=i.startX,k=i.startY+e.height/2,d="rotate(-90,"+b+","+k+")";o.direction=s;o.rotate=d;this.drawSvgShape(t,o);break;case"leftarrow":s="M "+(i.startX-e.width/2+e.width)+" "+(i.startY+e.height/4)+" L "+(i.startX-e.width/2+e.width)+" "+(i.startY+-e.height/4)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+-e.height/2)+" L "+(i.startX-e.width/2)+" "+i.startY+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX-e.width/2+e.width)+" "+(i.startY+e.height/4);o.direction=s;this.drawSvgShape(t,o);break;case"rightarrow":var s="M "+(i.startX+e.width/2+e.width)+" "+(i.startY+e.height/4)+" L "+(i.startX+e.width/2+e.width)+" "+(i.startY+-e.height/4)+" L "+(i.startX+e.width/2+e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX+e.width/2+e.width/2)+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+i.startY+" L "+(i.startX+e.width/2+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX+e.width/2+e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX+e.width/2+e.width)+" "+(i.startY+e.height/4),b=i.startX+e.width/2,k=i.startY,d="rotate(180,"+b+","+k+")";o.direction=s;o.rotate=d;this.drawSvgShape(t,o);break;case"pentagon":var it=Math.sqrt(e.height*e.height+e.width*e.width)/2,rt=ej.EjSvgRender.utils._getStringBuilder();for(p=0;p<=5;p++){var ht=p*72,ut=Math.PI/180*ht,ft=it*Math.cos(ut),et=it*Math.sin(ut);p==0?rt.append("M "+(i.startX+ft)+" "+(i.startY+et)+" "):rt.append("L "+(i.startX+ft)+" "+(i.startY+et)+" ")}o.direction=s;this.drawSvgShape(t,o);break;case"ellipse":n(h).css({width:t.ShapeSize.width,height:t.ShapeSize.height/2,"border-style":"solid",top:i.startY+l.top+n(document).scrollTop()-t.ShapeSize.height+4,"background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"-moz-border-radius":"100px / 50px","-webkit-border-radius":"100px / 50px","border-radius":"100px/50px"});break;case"horizline":n(h).css({width:t.ShapeSize.width,height:0,"border-style":"solid",top:i.startY+l.top+n(document).scrollTop()-2,"border-color":t.Style.BorderColor,"border-width":"2px"});break;case"vertline":n(h).css({width:0,height:t.ShapeSize.height,"border-style":"solid",left:i.startX+l.left+n(document).scrollLeft()-2,"border-color":t.Style.BorderColor,"border-width":"2px"});break;default:n(h).css({width:t.ShapeSize.width,height:t.ShapeSize.height,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"50px"})}nt[0].appendChild(h[0]);document.getElementById(this._rootId).appendChild(nt[0])}},drawSvgShape:function(t,i){var u=document.getElementById(this._rootId+"_canvas").getClientRects()[0],e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg"),f,o;r.setAttribute("id","mySVG");r.setAttribute("width",u.width);r.setAttribute("height",u.height);n(t.symbol).css({left:n(document).scrollLeft()+u.left+"px",top:n(document).scrollTop()+u.top+"px"});f={id:"svgPath","fill-opacity":t.Style.Opacity,"stroke-width":t.Style.BorderWidth,fill:t.Style.Color,transform:i.rotate,stroke:t.Style.BorderColor};f.d=i.direction;o=document.createElementNS(e,"path");n(o).attr(f).appendTo(r);t.symbol[0].appendChild(r)},drawCircle:function(n){n.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.arc(n.cx,n.cy,n.r,0,2*Math.PI),this.lgndCtx.fillStyle=n.fill,this.lgndCtx.globalAlpha=n.opacity,this.lgndCtx.fill(),this.lgndCtx.lineWidth=n["stroke-width"],this.lgndCtx.strokeStyle=n.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.cx,n.cy,n.r,0,2*Math.PI),this.ctx.fillStyle=n.fill,this.ctx.globalAlpha=n.opacity,this.ctx.fill(),this.ctx.lineWidth=n["stroke-width"],this.ctx.strokeStyle=n.stroke,this.ctx.stroke(),this.ctx.restore())},drawPolyline:function(n){var i,t;for(this.ctx.save(),this.ctx.beginPath(),i=n.points.split(" "),t=0;t<i.length-1;t++){var r=i[t].split(","),u=r[0],f=r[1];t==0?this.ctx.moveTo(u,f):this.ctx.lineTo(u,f)}this.ctx.lineWidth=.5;this.ctx.stroke();this.ctx.restore()},drawPolygon:function(){},setFillAttribute:function(){},setStrokeAttribute:function(){},changePathValue:function(){},drawArc:function(){},changeVMLStyle:function(){},applyVMLStyle:function(){},drawEllipse:function(n){var t=Math.max(n.rx,n.ry),i=n.rx/t,r=n.ry/t;n.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.translate(n.rx,n.ry),this.lgndCtx.scale(i,r),this.lgndCtx.arc(n.cx-n.rx,n.cy*2-n.rx,7.2,0,2*Math.PI,!1),this.lgndCtx.fillStyle=n.fill,this.lgndCtx.fill(),this.lgndCtx.lineWidth=n["stroke-width"],this.lgndCtx.strokeStyle=n.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(n.rx,n.ry),this.ctx.scale(i,r),this.ctx.arc(n.cx-n.rx,n.cy*2-n.rx,7.2,0,2*Math.PI,!1),this.ctx.fillStyle=n.fill,this.ctx.fill(),this.ctx.lineWidth=n["stroke-width"],this.ctx.strokeStyle=n.stroke,this.ctx.stroke(),this.ctx.restore())},_getAttrVal:function(){},_setAttr:function(){},setSpanAttr:function(){},_textAttrReplace:function(){},drawImage:function(n){this.ctx.save();var t=new Image;t.src=n.href;this.ctx.drawImage(t,n.x,n.y,n.width,n.height);this.ctx.restore()},createDefs:function(){},createGroup:function(){},createText:function(t,i){var r=document.createElement("text");return n(r).css({transform:t.rotateAngle,position:"absolute"}),ej.util.isNullOrUndefined(i)||(r.textContent=i),r},drawAxesBoundsClipPath:function(n,t){var i=t},getAttrVal:function(){},hexFromRGB:function(){},createDelegate:function(){},drawClipPath:function(){},append:function(t,i){n(t).appendTo(i)},createLegendCanvas:function(n){return this.legendsvgObj=document.createElement("canvas"),this._rootId=jQuery(n).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_canvas"),this.lgndCtx=this.legendsvgObj.getContext("2d"),this.legendsvgObj}}}(jQuery);ej.EjSvgRender=function(n){this.svgLink="http://www.w3.org/2000/svg";this.svgObj=document.createElementNS(this.svgLink,"svg");this._rootId=jQuery(n).attr("id");this.svgObj.setAttribute("id",this._rootId+"_svg")},function(n){function t(n,t,i,r){var u=r*Math.PI/180,f=n+i*Math.cos(u),e=t+i*Math.sin(u);return[f,e]}ej.EjSvgRender.prototype={drawPath:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"path");n(r).attr(t).appendTo(i)}},createLegendSvg:function(n){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(n).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"polyline");n(r).attr(t).appendTo(i)}},drawLine:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"line");n(r).attr(t);n(r).appendTo(i)}},drawPolygon:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"polygon");n(r).attr(t);n(r).appendTo(i)}},drawCircle:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"circle");n(r).attr(t).appendTo(i)}},drawEllipse:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"ellipse");n(r).attr(t).appendTo(i)}},drawRect:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"rect");n(r).attr(t).appendTo(i)}},createGradientElement:function(n,t,i,r,u,f,e){var o,s,h;return Object.prototype.toString.call(t)=="[object Array]"?(s={id:this.svgObj.id+"_"+n+"Gradient",x1:i+"%",y1:r+"%",x2:u+"%",y2:f+"%"},h="#"+this.svgObj.id+"_"+n+"Gradient",this.drawGradient(s,t,e),o="url(#"+this.svgObj.id+"_"+n+"Gradient)"):o=t,o},drawGradient:function(t,i,r){var o=this.createDefs(),f=document.createElementNS(this.svgLink,"linearGradient"),u,e;for(n(f).attr(t),u=0;u<i.length;u++)e=document.createElementNS(this.svgLink,"stop"),n(e).attr({offset:i[u].colorStop,"stop-color":i[u].color,"stop-opacity":1}),n(e).appendTo(f);n(f).appendTo(o);n(o).appendTo(r)},drawText:function(t,i,r,u){var e,o,h,f,s,c;if(n("#"+t.id).length>0)this._textAttrReplace(t,i,u);else{if(e=document.createElementNS(this.svgLink,"text"),o=n(e),jQuery.type(i)=="array")for(h=0,o.attr(t),f=0;f<i.length;f++)s=document.createElementNS(this.svgLink,"tspan"),s.textContent=i[f],n(s).attr({x:t.x,dy:h}),n(s).appendTo(e),c=ej.EjSvgRender.utils._measureText(i[f],null,u),h=c.height+2;else e.textContent=i,o.attr(t);o.appendTo(r)}},_textAttrReplace:function(t,i,r){var f,e,u,o,s;if(n("#"+t.id).attr(t),jQuery.type(i)=="array")if(f=n("#"+t.id).children("tspan"),e=0,f.length>0&&f.length==i.length)for(u=0;u<f.length;u++)o=f[u],n(o).attr({x:t.x,dy:e}),o.textContent=i[u],s=ej.EjSvgRender.utils._measureText(i[u],null,r),e=s.height+2;else n("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,r);else n("#"+t.id).text(i)},drawImage:function(t,i){var r=document.createElementNS(this.svgLink,"image");r.setAttributeNS(null,"height",t.height);r.setAttributeNS(null,"width",t.width);r.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href);r.setAttributeNS(null,"x",t.x);r.setAttributeNS(null,"y",t.y);r.setAttributeNS(null,"id",t.id);r.setAttributeNS(null,"visibility",t.visibility);ej.util.isNullOrUndefined(t.clippath)&&ej.util.isNullOrUndefined(t.preserveAspectRatio)||(r.setAttributeNS(null,"clip-path",t.clippath),r.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio));n(r).appendTo(i)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(t){var i=document.createElementNS(this.svgLink,"clipPath");return n(i).attr(t),i},createForeignObject:function(t){var i=document.createElementNS(this.svgLink,"foreignObject");return n(i).attr(t),i},createGroup:function(t){var i=document.createElementNS(this.svgLink,"g");return n(i).attr(t),i},createText:function(t,i){var r=document.createElementNS(this.svgLink,"text");return n(r).attr(t),ej.util.isNullOrUndefined(i)||(r.textContent=i),r},createPath:function(t){var i=document.createElementNS(this.svgLink,"path");return n(i).attr(t),i},createCircle:function(t){var i=document.createElementNS(this.svgLink,"circle");return n(i).attr(t),i},createLine:function(t){var i=document.createElementNS(this.svgLink,"line");return n(i).attr(t),i},_getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},hexFromRGB:function(t){var r=t.R,u=t.G,f=t.B,i=[r.toString(16),u.toString(16),f.toString(16)];return n.each(i,function(n,t){t.length===1&&(i[n]="0"+t)}),"#"+i.join("").toUpperCase()},hexToRGB:function(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(n,t){var i=this.createDefs(),r=this.createClipPath({id:n.id});this.drawRect(n,r);this.append(r,i);this.append(i,t)},append:function(t,i){n(t).appendTo(i)},_setAttr:function(t,i){n(t).attr(i)}};ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null};ej.EjSvgRender.utils={_decimalPlaces:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(n,t){switch(t._categoryValueType){case"number":var i=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(n)]:i!=null?t.labelFormat.replace("{value}",t.labels[Math.floor(n)]):Globalize.format(t.labels[Math.floor(n)],t.labelFormat);case"date":return Globalize.format(new Date(t.labels[Math.floor(n)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat);case"string":return t.labels[Math.floor(n)];default:return""}},_getSeriesTemplateSize:function(t,i,r,u,f){var t,i,a=f.model.AreaType,o=f._id,v=n.inArray(r,f.model._visibleSeries),s,h,e,c,l;s=n("#template_group_"+o).length!=0?n("#template_group_"+o):n("<div><\/div>").attr("id","template_group_"+o);s.css("position","relative").css("z-index",1e3);h=n("#"+r.marker.dataLabel.template).clone();n(h).attr("id",r.marker.dataLabel.template+"_"+v+"_"+i+"_"+o);e=n(h);e.css("position","absolute");t.count=1;c={series:r,point:t};e.html(e.html().parseTemplate(c));l=a=="cartesianaxes"||!r.enableAnimation||r.type.toLowerCase()=="pyramid"||r.type.toLowerCase()=="funnel"?"block":"none";e.css("display",l).appendTo(n(s));n(s).appendTo("#"+o);t.size={height:e.height(),width:e.width()};u?((ej.util.isNullOrUndefined(r.LeftLabelMaxHeight)||r.LeftLabelMaxHeight<t.size.height)&&(r.LeftLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(r.LeftLabelMaxWidth)||r.LeftLabelMaxWidth<t.size.width)&&(r.LeftLabelMaxWidth=t.size.width)):((ej.util.isNullOrUndefined(r.RightLabelMaxHeight)||r.RightLabelMaxHeight<t.size.height)&&(r.RightLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(r.RightLabelMaxWidth)||r.RightLabelMaxWidth<t.size.width)&&(r.RightLabelMaxWidth=t.size.width))},getMinPointsDelta:function(t,i,r){var f=i,u=Number.MAX_VALUE;return n.each(f.model._visibleSeries,function(i,f){var e,s,o;f.visibility.toLowerCase()=="visible"&&t.name==f.xAxisName&&(e=ej.DataManager(f.points,ej.Query().sortBy("X")).executeLocal(),e.length==1?(s=r?r:f.xAxis.visibleRange.min,o=e[0].X-s,o!=0&&(u=Math.min(u,o))):n.each(e,function(n,t){if(n>0){var i=t.X-e[n-1].X;i!=0&&(u=Math.min(u,i))}}))}),u==Number.MAX_VALUE&&(u=1),u},_getSeriesMaxLabel:function(t){var i={width:0,height:0},o=n(this.svgObject).width(),e=[],f,r,s,u;if(t.labels.length>0){for(r=0;r<t.labels.length;r++)u=this._measureText(t.visibleLabels[r],o,t.marker.dataLabel.font),i.width<u.width&&(i.width=u.width),i.height<u.height&&(i.height=u.height);t.LabelMaxHeight=i.height;t.LabelMaxWidth=i.width}else for(e.push(t.rightsidePoints),e.push(t.leftsidePoints),f=0;f<e.length;f++){for(r=0;r<e[f].length;r++)s=e[f][r].text?e[f][r].text:e[f][r].y,u=this._measureText(s,o,t.marker.dataLabel.font),i.width<u.width&&(i.width=u.width),i.height<u.height&&(i.height=u.height);f==0?(t.RightLabelMaxHeight=i.height,t.RightLabelMaxWidth=i.width):(t.LeftLabelMaxHeight=i.height,t.LeftLabelMaxWidth=i.width)}},_getMaxLabelWidth:function(t,r){var u={width:0,height:0},d="",ct=1,lt=r.svgRenderer.vmlNamespace,c=t.visibleRange,g=t.labelIntersectAction?t.labelIntersectAction.toLowerCase():"",nt=t.labelPlacement,dt=t.opposedPosition,at=t.roundingPlaces,tt=t.labelRotation,vt=t.orientation,o=0,s=[],it,f,v,ft,p,yt,l,y,e,rt,a,b,ut,bt,kt;if(t.visible){for(it=t.visibleLabels,f=0;f<t.visibleLabels.length;f++)t.visibleLabels[f].y=0,v=this._measureText(t.visibleLabels[f].Text,n(this.svgObject).width(),t.font,t.labelRotation),u.width<v.width&&(u.width=v.width,d=t.visibleLabels[f].Text),u.height<v.height&&(u.height=v.height);if(u.rows=1,u.maxWidth=u.width,u.maxHeight=u.height,!lt&&tt&&(o=this.rotatedLabel(t,r,tt,d),t.labelIntersectAction&&t.labelIntersectAction.toLowerCase()=="multiplerows"&&(o=u.height+o),u.height=o),t.labelIntersectAction)if(lt||(g=="rotate90"?u.height=this.rotatedLabel(t,r,90,d):g=="rotate45"&&(u.height=this.rotatedLabel(t,r,45,d))),g=="wrap")nt=nt?nt:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,ft=t.labels.length>1&&nt.toLowerCase()=="betweenticks"?-.5:0,p=t.labels.length>1&&ft<0?1+ft:it[1].Value,p=at?parseFloat(p.toFixed(at)):parseFloat(p.toFixed(ej.EjSvgRender.utils._decimalPlaces(c.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(c.interval))),yt=Math.ceil((p-c.min)/(c.max-c.min)*t.length),l=Math.round(u.width/yt),u.rows=tt?l-ct:l+ct,u.height=u.height+l*u.height;else if(g=="multiplerows"){var gt=r._getLegendSpace(),ni=r.model.border.width,si=r.model.axes[1],ti=n(r.svgObject).width()-r.model.margin.left-r.model.margin.right,ii=t.title.text==""||!t.visible?0:this._measureText(t.title.text,ti,t.title.font).height+2*r.model.elementSpacing,ri=r.model.elementSpacing+ii+t.majorTickLines.size+t.axisLine.width,ui=r._getYValues(r.model._visibleSeries[0]),fi=Math.max.apply(Math,ui),pt=r.model.axes[1],v=this._measureText(fi,n(this.svgObject).width(),pt.font,pt.labelRotation),ei=gt.rightLegendWidth+ri+v.width+r.model.margin.right+r.model.margin.left+2*ni,wt=n(r.svgObject).width()-ei;if(vt.toLowerCase()=="horizontal"){for(y=0,f=0;f<it.length;f++){e=it[f];rt=!1;o=Math.max(o,y);y=e.y=u.height;var w=this._measureText(e.Text,n(this.svgObject).width(),t.font),et=w.width,h=w.height,ot=Math.abs(Math.floor((e.Value-c.min)/c.delta*wt));for(a=0;a<s.length&&!rt;a++)for(b=0;s[a]&&b<s[a].length;b++){var k=s[a][b],st=Math.abs(Math.floor((k.Value-c.min)/c.delta*wt)),oi=this._measureText(k.Text,n(this.svgObject).width(),t.font).width,ht=st+oi/2;if(ht>ot-et/2&&!ej.util.isNullOrUndefined(e.y))y=e.y+h,e.y+=h,a+1==s.length&&(rt=!0);else if(b+1==s[a].length){rt=!0;break}}e.y=y;l=y/h-1;s[l]==undefined&&(s[l]=[]);s[l].push(e)}o=s.length*h;u.height=u.height>o?u.height:o;u.rows=dt?Math.round((o+h)/h):Math.round((o+h)/h);u.rows=tt?u.rows-1:u.rows+1;u.rows<1&&(u.rows=1)}if(vt.toLowerCase()=="vertical"){for(ut=0,f=0;f<t.visibleLabels.length;f++){for(e=t.visibleLabels[f],w=this._measureText(e.Text,n(this.svgObject).width(),t.font),et=w.width,h=w.height,ot=Math.abs(Math.floor((e.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),i=0;i<f;i++)k=t.visibleLabels[i],st=Math.abs(Math.floor((k.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),bt=this._measureText(k.Text,n(this.svgObject).width(),t.font).height,ht=st+bt/2,ht>ot-h/2&&t.visibleLabels[i].y==e.y&&(ut=e.y+et,e.y=ut);kt=ut}u.width=u.width+kt+5}}}return u},rotatedLabel:function(n,t,i,r){var u={"font-size":n.font.size,transform:"rotate("+i+",0,0)","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,rotateAngle:"rotate("+i+"deg)","text-anchor":"middle"},f=t.svgRenderer.createText(u,r);return Math.ceil(this._measureBounds(f,t).height)},_getTransform:function(n,t,i){var r,u,f,e;return i?(r=t.x,u=n.y,f=t.width,e=n.height):(r=n.x,u=t.y,f=n.width,e=t.height),{x:r,y:u,width:f,height:e}},_measureText:function(t,i,r){var e=n(document).find("#measureTex"),u,f;e.length==0?(u=document.createElement("text"),n(u).attr({id:"measureTex"}),document.body.appendChild(u)):u=e[0];var o=null,s=null,h=null;return u.innerHTML=t,r!=undefined&&r.size==undefined&&(f=r,f=f.split(" "),o=f[0],s=f[1],h=f[2]),r!=null&&(u.style.fontSize=r.size>0?r.size+"px":r.size?r.size:s,u.style.fontStyle=r.fontStyle?r.fontStyle:o,u.style.fontFamily=r.fontFamily?r.fontFamily:h),u.style.backgroundColor="white",u.style.position="absolute",u.style.top=-100,u.style.left=0,u.style.visibility="hidden",i&&(u.style.maxwidth=i+"px"),{width:u.offsetWidth,height:u.offsetHeight}},_measureBounds:function(t,i){i.model.enableCanvasRendering?n(i.element).append(t):(i.svgRenderer.append(t,i.svgObject),i.svgRenderer.append(i.svgObject,i.element));var r=t.getBoundingClientRect(),u={left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.right-r.left,height:r.bottom-r.top};return n(t).remove(),u},_drawAxesBoundsClipPath:function(t,i,r){var u,e=n(t),f=this._getTransform(i.xAxis,i.yAxis,r.model.requireInvertedAxes),o=r.model.AreaType=="polaraxes"?n(r.svgObject).width():f.width,s=r.model.AreaType=="polaraxes"?n(r.svgObject).height():f.height;u={id:t?t.id+"_ClipRect":"",x:0,y:0,width:o,height:s,fill:"white","stroke-width":1,stroke:"transparent"};r.svgRenderer.drawClipPath(u,t);e.attr("clip-path","url(#"+u.id+")")},_getStringBuilder:function(){var n=[],t=0;return{append:function(i){return n[t++]=i,this},remove:function(t,i){return n.splice(t,i||1),this},insert:function(t,i){return n.splice(t,0,i),this},toString:function(t){return n.join(t||"")}}},_addRegion:function(t,i,r,u,f){var s=r.type,e=n.inArray(r,t.model._visibleSeries),o;e>=0&&(o={SeriesIndex:e,Region:{PointIndex:f,Bounds:i},type:s},t.model.chartRegions.push(o))},AddRegion:function(n,t,i){if(i){var r={isStripLine:i,Region:{Bounds:t}};n.model.chartRegions.push(r)}},_getSvgXY:function(n,t,i,r){var u,f;return r.model.requireInvertedAxes?(u=n+i.yAxis.x,f=t+i.xAxis.y):(u=n+i.xAxis.x,f=t+i.yAxis.y),{X:u,Y:f}},_getPoint:function(n,t){var i=n.X,r=n.YValues[0],u=t.xAxis._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(i==0?1:i,t.xAxis.logBase):i,f=t.yAxis._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(r==0?1:r,t.xAxis.logBase):r;return u=this._getPointXY(u,t.xAxis.visibleRange,t.xAxis.isInversed)*t.xAxis.width,f=(1-this._getPointXY(f,t.yAxis.visibleRange,t.yAxis.isInversed))*t.yAxis.height,{X:u,Y:f}},_getPointXY:function(n,t,i){var r=0;return r=(n-t.min)/t.delta,i?1-r:r},_dateTimeLabelFormat:function(n){var t="d";return n.toLowerCase()=="years"?t="MMM, yyyy":n.toLowerCase()=="months"?t="dd, MMM":n.toLowerCase()=="days"?t="MM/dd/yyyy":n.toLowerCase()=="hours"?t="dd, hh:mm":n.toLowerCase()=="seconds"||n.toLowerCase()=="minutes"?t="hh:mm:ss":n.toLowerCase()=="milliseconds"&&(t="hh:mm:ss:tt"),t},_getFontString:function(n){return n==null&&(n={}),n.FontFamily||(n.FontFamily="Arial"),n.FontStyle||(n.FontStyle="Normal"),n.Size||(n.Size="12px"),n.FontStyle+" "+n.Size+" "+n.FontFamily},_valueToVector:function(n,t){return this._coefficientToVector(this._valueToPolarCoefficient(n,t))},TransformToVisible:function(n,t,i,r){t=n.xAxis._valueType=="logarithmic"&&t>0?Math.log(t,n.xAxis.logBase):t;i=n.xAxis._valueType=="logarithmic"&&i>0?Math.log(i,n.yAxis.logBase):i;var u=r.model.Radius*this._valueToCoefficient(n.yAxis,i),f=this._valueToVector(n.xAxis,t);return{X:r.model.centerX+u*f.X,Y:r.model.centerY+u*f.Y}},Transform3DToVisible:function(n,t,i,r){var u,f;if(n.xAxis!=null&&n.yAxis!=null){if(u=n.xAxis._valueType.toLowerCase(),f=u=="logarithmic"?!0:!1,t=t=f&&t>0?math.log(t,xlogarithmicBase):t,i=i,r.model.requireInvertedAxes){var e=r.model.m_AreaBounds.X,o=r.model.m_AreaBounds.Y,s=e+n.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(n.yAxis,i,r),h=o+n.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(n.xAxis,t,r));return{X:s,Y:h}}var e=n.xAxis.x,o=n.yAxis.y,t=e+Math.round(n.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(n.xAxis,t,r)),i=o+Math.round(n.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(n.yAxis,i,r)));return{X:t,Y:i}}return new Point(0,0)},_valueToPolarCoefficient:function(n,t){var i=n.visibleRange.min,r=n.visibleRange.delta;return result=(t-i)/r,result*=1-1/n.visibleLabels.length,n.isInversed?result:1-result},_coefficientToVector:function(n){var t=Math.PI*(1.5-2*n);return{X:Math.cos(t),Y:Math.sin(t)}},_valueToCoefficient:function(n,t,i){var r;return r=i&&i.model.AreaType=="polaraxes"?t:n._valueType.toLowerCase()=="logarithmic"?ej.EjSvgRender.utils._logBase(t==0?1:t,n.logBase):t,r=(r-n.visibleRange.min)/n.visibleRange.delta,n.isInversed?1-r:r},_getBoundingClientRect:function(t,i,r,u){var f=t.getBoundingClientRect(),s=n("#"+i.svgObject.id)[0].getBoundingClientRect(),e,o,h,c;return u?(e=this._getTransform(r.xAxis,r.yAxis,!0).x,o=this._getTransform(r.xAxis,r.yAxis,!0).y):(e=this._getTransform(r.xAxis,r.yAxis,!1).x,o=this._getTransform(r.xAxis,r.yAxis,!1).y),h=f.left-(e+s.left),c=f.top-(o+s.top),{x:h,y:c,width:f.right-f.left,height:f.bottom-f.top}},_minMax:function(n,t,i){return n>i?i:n<t?t:n},_inside:function(n,t){return n===""?!1:n<=t.max&&n>=t.min},_logBase:function(n,t){return Math.log(n)/Math.log(t)},_correctRect:function(n,t,i,r){return{X:Math.min(n,i),Y:Math.min(t,r),Width:Math.abs(i-n),Height:Math.abs(r-t)}},_getValuebyPoint:function(n,t,i){var r=i.xAxis.isInversed?1-n/i.xAxis.width:n/i.xAxis.width,u=i.yAxis.isInversed?1-t/i.yAxis.height:t/i.yAxis.height;return r=r*i.xAxis.visibleRange.delta+i.xAxis.visibleRange.min,u=u*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min,r=i.xAxis._valueType=="logarithmic"?Math.pow(i.xAxis.logBase,r):r,u=i.yAxis._valueType=="logarithmic"?Math.pow(i.yAxis.logBase,u):u,{PointX:r,PointY:u}}};ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(n){return this.vector||(this.vector=new(new ej.Ej3DRender).vector3D,this.matrixobj=new(new ej.Ej3DRender).matrix3D,this.bsptreeobj=new(new ej.Ej3DRender).BSPTreeBuilder,this.polygon=new(new ej.Ej3DRender).polygon3D),{mViewport:n,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity(),Depth:0}},transform:function(n){this.setCenter(this.vector.vector3D(n.mViewport.Width/2,n.mViewport.Height/2,n.Depth/2),n);this.setViewMatrix(this.matrixobj.transform(0,0,n.Depth),n);this.setViewMatrix(this.matrixobj.getMatrixMultiplication(n.viewMatrix,this.matrixobj.turn(-this.ToRadial*n.Rotation)),n);this.setViewMatrix(this.matrixobj.getMatrixMultiplication(n.viewMatrix,this.matrixobj.tilt(-this.ToRadial*n.Tilt)),n);this.updatePerspective(n.PerspectiveAngle,n);n.needUpdate=!0},updatePerspective:function(n,t){var i=(t.mViewport.Width+t.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(n%181))/2))+t.Depth/1;t.Perspective[0][0]=i;t.Perspective[1][1]=i;t.Perspective[2][3]=1;t.Perspective[3][3]=i},degreeToRadianConverter:function(n){return n*Math.PI/180},toScreen:function(n,t){return n=this.matrixobj.getMatrixVectorMutiple(this.result(t),n),{x:n.x,y:n.y}},setViewMatrix:function(n,t){t.viewMatrix!=n&&(t.viewMatrix=n,t.needUpdate=!0)},setCenteredMatrix:function(n,t){t.viewMatrix!=n&&(t.centeredMatrix=n,t.needUpdate=!0)},result:function(n){return n.needUpdate?(n.resultMatrix=this.matrixobj.getMatrixMultiplication(this.matrixobj.getInvertal(n.centeredMatrix),n.Perspective),n.resultMatrix=this.matrixobj.getMatrixMultiplication(n.resultMatrix,n.viewMatrix),n.resultMatrix=this.matrixobj.getMatrixMultiplication(n.resultMatrix,n.centeredMatrix),n.needUpdate=!1,n.resultMatrix):n.resultMatrix},setCenter:function(n,t){t.centeredMatrix=this.matrixobj.transform(-n.x,-n.y,-n.z);t.needUpdate=!0},toPlane:function(n,t,i){var r=this.vector.vector3D(n.x,n.y,0),u=this.vector.vector3DPlus(r,vector.vector3D(0,0,1));return r=this.vector.vector3DMultiply(i.centeredMatrix,r),u=this.vector.vector3DMultiply(i.centeredMatrix,u),r=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),r),u=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),u),r=this.polygon.getPoint(r,this.vector.vector3DMinus(u-r)),r=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.viewMatrix),r),this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.centeredMatrix),r)}};ej.EjSvgRender.chartSymbol={_drawSeriesType:function(n,t,i){switch(i.model.series[t.SeriesIndex].type.toLowerCase()){case ej.datavisualization.Chart.Type.Line:this._drawLine(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.StepLine:this._drawStepLine(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.Area:this._drawArea(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.StepArea:this._drawStepArea(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar:this._drawBar(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Pie:this._drawPie(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Doughnut:this._drawDoughnut(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Hilo:this._drawHilo(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.HiloOpenClose:this._drawHiloOpenClose(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Candle:this._drawCandle(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Pyramid:this._drawPyramid(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Funnel:this._drawFunnel(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Spline:this._drawSpline(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.SplineArea:this._drawSplineArea(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.RangeColumn:this._drawRangeColumn(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:this._drawCircle(n,t,i,i.gLegendItemEle);break;case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:this._drawColumn(n,t,i,i.gLegendItemEle);break;default:this._drawRectangle(n,t,i,i.gLegendItemEle)}},_drawCircle:function(n,t,i,r){var f=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,e=Math.sqrt(u.height*u.height+u.width*u.width)/2,o={id:t.ID,cx:n.startX,cy:n.startY,r:e,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context};f.drawCircle(o,r)},_drawLeftArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/2)+" "+n.startY+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4);e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawRightArrow:function(n,t,i,r){var f=i.svgRenderer,c=i.svgObject,u=t.ShapeSize,e="M "+(n.startX+u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+u.width)+" "+(n.startY+u.height/4);var o=n.startX+u.width/2,s=n.startY,h={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(180,"+o+","+s+")",opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:e};f.drawPath(h,r)},_drawUpArrow:function(n,t,i,r){var f=i.svgRenderer,c=i.svgObject,u=t.ShapeSize,e="M "+(n.startX+u.width)+" "+(n.startY-u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY-u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+-u.height/2)+" L "+n.startX+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY-u.height/2+u.height/4);var o=n.startX,s=n.startY-u.height/2,h={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(90,"+o+","+s+")",opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:e};f.drawPath(h,r)},_drawDownArrow:function(n,t,i,r){var f=i.svgRenderer,c=i.svgObject,u=t.ShapeSize,e="M "+(n.startX+u.width)+" "+(n.startY+u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+-u.height/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+u.height/4)+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2+u.height/4);var o=n.startX,s=n.startY+u.height/2,h={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(-90,"+o+","+s+")",opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:e};f.drawPath(h,r)},_drawCross:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY+" M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2);e={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawHorizLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY;e={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawVertLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2);e={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawTriangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2);e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawInvertedTriangle:function(n,t,i,r){var f=i.svgRenderer,c=i.svgObject,u=t.ShapeSize,e="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2);var o=n.startX,s=n.startY,h={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,transform:"rotate(180,"+o+","+s+")",opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:e};f.drawPath(h,r)},_drawHexagon:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY;e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawWedge:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+3*(u.width/4))+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+n.startY;e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawPentagon:function(n,t,i,r){for(var l,a,v=i.svgRenderer,p=i.svgObject,u=t.ShapeSize,o=Math.sqrt(u.height*u.height+u.width*u.width)/2,e=ej.EjSvgRender.utils._getStringBuilder(),f=0;f<=5;f++){var y=f*72,s=Math.PI/180*y,h=o*Math.cos(s),c=o*Math.sin(s);f==0?e.append("M "+(n.startX+h)+" "+(n.startY+c)+" "):e.append("L "+(n.startX+h)+" "+(n.startY+c)+" ")}l=e.toString();a={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:l};v.drawPath(a,r)},_drawStar:function(n,t,i,r){var o=i.svgRenderer,u=t.ShapeSize,s=i.svgObject,f,e;f="M "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+-u.width/3)+" "+(n.startY+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2);e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawRectangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2)+"Z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawTrapezoid:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+-u.width/2)+" "+n.startY;e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawDiamond:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY;e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawEllipse:function(n,t,i,r){var f=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,e=n.startX,o=n.startY,s={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,cx:e,cy:o,rx:u.width,ry:u.height/2};f.drawEllipse(s,r)},_drawImage:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=n.startX+-u.width/2,s=n.startY+-u.width/2,h=u.width,c=u.height,l={id:e.id+"_image"+t.PointIndex,height:c,width:h,href:t.Imageurl,x:o,y:s,visibility:"visible",lgndCtx:t.context};f.drawImage(l,r)},_drawLine:function(n,t,i,r){var f=i.svgRenderer,l=i.svgObject,u=t.ShapeSize,e=t.ElementSpace,o="M "+(n.startX+-u.width/2+-e/4)+" "+(n.startY+u.height/10)+" L "+(n.startX-Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" M "+(n.startX+Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" L "+(n.startX+u.width/2+e/4)+" "+(n.startY+u.height/10);var s={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:o,lgndCtx:!0},h="M "+(n.startX-Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" a "+Math.floor(u.width/3)+" "+Math.floor(u.width/3)+" 0 1 0 "+2*Math.floor(u.width/3)+" 0 a"+Math.floor(u.width/3)+" "+Math.floor(u.width/3)+" 0 1 0 "+-2*Math.floor(u.width/3)+" 0",c={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:h,lgndCtx:!0};f.drawPath(s,r);f.drawPath(c,r)},_drawColumn:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX-3*(u.width/5))+" "+(n.startY-u.height/5)+" L "+(n.startX+3*(-u.width/10))+" "+(n.startY-u.height/5)+" L "+(n.startX+3*(-u.width/10))+" "+(n.startY+u.height/2)+" L "+(n.startX-3*(u.height/5))+" "+(n.startY+u.height/2)+" Z M "+(n.startX+-u.width/10-u.width/20)+" "+(n.startY-u.height/4-f/2)+" L "+(n.startX+u.width/10+u.width/20)+" "+(n.startY-u.height/4-f/2)+" L "+(n.startX+u.width/10+u.width/20)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/10-u.width/20)+" "+(n.startY+u.height/2)+" Z M "+(n.startX+3*(u.width/10))+" "+n.startY+" L "+(n.startX+3*(u.width/5))+" "+n.startY+" L "+(n.startX+3*(u.width/5))+" "+(n.startY+u.height/2)+" L "+(n.startX+3*(u.width/10))+" "+(n.startY+u.height/2)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawRangeColumn:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/5)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+-u.width/5)+" "+(n.startY-u.height/2-f/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2+-f/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+f/4)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawBar:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY-3*(u.height/5))+" L "+(n.startX+3*(u.width/10))+" "+(n.startY-3*(u.height/5))+" L "+(n.startX+3*(u.width/10))+" "+(n.startY-3*(u.height/10))+" L "+(n.startX-u.width/2+-f/4)+" "+(n.startY-3*(u.height/10))+" Z M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY-u.height/5+f/20)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY-u.height/5+f/20)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/10+f/20)+" L "+(n.startX-u.width/2+-f/4)+" "+(n.startY+u.height/10+f/20)+" Z M "+(n.startX-u.width/2+-f/4)+" "+(n.startY+u.height/5+f/10)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/5+f/10)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/2+f/10)+" L "+(n.startX-u.width/2+-f/4)+" "+(n.startY+u.height/2+f/10)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawStepLine:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/2-f/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2+u.width/10)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2+u.width/10)+" "+n.startY+" L "+(n.startX+-u.width/10)+" "+n.startY+" L "+(n.startX+-u.width/10)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/5)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/5)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2)+"L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L"+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/2);o={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawSpline:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2)+" "+(n.startY+u.height/5)+" q "+u.width/4+" "+-u.height+" "+u.width/2+" 0 M "+n.startX+" "+(n.startY+u.height/5)+" q "+u.width/4+" "+u.height/2+"  "+u.width/2+" "+-u.height/2;e={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:f,lgndCtx:!0};o.drawPath(e,r)},_drawSplineArea:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2)+" "+(n.startY+u.height/5)+" q "+u.width/4+" "+-u.height+" "+u.width/2+" 0 Z M "+n.startX+" "+(n.startY+u.height/5)+" q "+u.width/4+" "+u.height+"  "+u.width/2+" 0 Z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:f,lgndCtx:!0};o.drawPath(e,r)},_drawArea:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX-u.width/2-f/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/4+-f/8)+" "+(n.startY-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/4+f/8)+" "+(n.startY+-u.height/2+u.height/4)+"L "+(n.startX+u.height/2+f/4)+" "+(n.startY+u.height/2)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawStepArea:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/4)+" "+(n.startY-u.height/2)+" L "+(n.startX-u.width/4)+" "+(n.startY-u.height/4)+" L "+(n.startX+u.width/4)+" "+(n.startY-u.height/4)+" L "+(n.startX+u.width/4)+" "+n.startX+" L "+(n.startX+u.width/2+f/4)+" "+n.startY+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/2)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawPyramid:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/2+f/8)+" L "+n.startX+" "+(n.startY+-u.height/2+-f/8)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/2+f/8)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawFunnel:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/2+-f/5)+" "+(n.startY+-u.height/2+-f/4)+" L "+(n.startX+-u.width/5)+" "+(n.startY+u.height/4)+" L "+(n.startX+-u.width/5)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+u.width/5)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+u.width/5)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+f/5)+" "+(n.startY+-u.height/2+-f/4)+" Z";o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawCandle:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/4+f/8)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/4+f/8)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2+f/8)+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2+f/8)+" Z M "+n.startX+" "+(n.startY+-u.height/2+f/8)+" L "+n.startX+" "+(n.startY+-u.height/2+-f/4)+" M "+n.startX+" "+(n.startY+u.height/4+f/8)+" L "+n.startX+" "+(n.startY+u.height/4+f/2);o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawHilo:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;e="M "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2+-f/4);o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0};s.drawPath(o,r)},_drawHiloOpenClose:function(n,i,r,u){var h=r.svgRenderer,c=r.svgObject,f=i.ShapeSize,l=t(18,12,4.0710678118654755,270),e=i.ElementSpace,o,s;o="M "+n.startX+" "+(n.startY-3*(f.height/10))+" L "+(n.startX-f.width/2-e/4)+" "+(n.startY-3*(f.height/10))+" M "+n.startX+" "+(n.startY-f.height/2-e/4)+" L "+n.startX+" "+(n.startY+f.height/2+e/4)+" M "+n.startX+" "+(n.startY+3*(f.height/10))+" L "+(n.startX+f.width/2+e/4)+" "+(n.startY+3*(f.height/10));s={id:i.ID,fill:"transparent","stroke-width":i.Style.BorderWidth,stroke:i.Style.Color,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:o,lgndCtx:!0};h.drawPath(s,u)},_drawDoughnut:function(n,i,r,u){var o=r.svgRenderer,v=r.svgObject,e=i.ShapeSize,a=i.ElementSpace,f=Math.sqrt(e.height*e.width)/2,c,l;f=f+a/5;var s=t(n.startX,n.startY,f,270),h=t(n.startX+e.width/10,n.startY,f,270),a=i.ElementSpace;path="M "+n.startX+" "+n.startY+" L "+(n.startX+f)+" "+n.startY+" A "+f+" "+f+" 0 1 1 "+s[0]+" "+s[1]+" Z M "+(n.startX+e.width/10)+" "+(n.startY-e.height/10)+" L"+(n.startX+f)+" "+(n.startY-e.height/10)+" A "+f+" "+f+" 0 0 0 "+h[0]+" "+h[1]+" Z";c={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:path,lgndCtx:!0};l={id:i.ID,cx:n.startX,cy:n.startY,r:f/2,lgndCtx:!0,fill:"white","stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility};o.drawPath(c,u);o.drawCircle(l,u)},_drawPie:function(n,i,r,u){var c=r.svgRenderer,a=r.svgObject,e=i.ShapeSize,l=i.ElementSpace,f=Math.sqrt(e.height*e.width)/2,h;f=f+l/5;var o=t(n.startX,n.startY,f,270),s=t(n.startX+e.width/10,n.startY,f,270),l=i.ElementSpace;path="M "+n.startX+" "+n.startY+" L "+(n.startX+f)+" "+n.startY+" A "+f+" "+f+" 0 1 1 "+o[0]+" "+o[1]+" Z M "+(n.startX+e.width/10)+" "+(n.startY-e.height/10)+" L"+(n.startX+f)+" "+(n.startY-e.height/10)+" A "+f+" "+f+" 0 0 0 "+s[0]+" "+s[1]+" Z";h={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:path,lgndCtx:!0};c.drawPath(h,u)}};ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}};ej.EjSvgRender.themes={flatlight:{background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors}};n.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery);ej.axisTypes={};ej.EjAxisRenderer=function(){};var _sideBySeriesPadding=function(n,t,i,r){for(var u,f,o=ej.DataManager(n.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),s=!1,h=!1,e=0;e<o.length;e++)if(u=o[e].type.toLowerCase(),r.orientation.toLowerCase()=="horizontal"&&(u=="column"||u=="rangecolumn"||u=="stackingcolumn"||u=="candle"||u=="hilo"||u=="hiloopenclose")){s=!0;break}else if(r.orientation.toLowerCase()=="vertical"&&(u=="bar"||u=="stackingbar")){h=!0;break}return(s&&r.orientation.toLowerCase()=="horizontal"||h&&r.orientation.toLowerCase()=="vertical")&&(r.m_minPointsDelta=undefined,f=ej.EjSvgRender.utils.getMinPointsDelta(r,n,t)*.5,t=t-f,i=i+f,r.padding=f),{startPadding:t,endPadding:i}};ej.EjStripline=function(n){this.chart=n},function(n){function t(t,i){var r=function(){};return r.prototype=new t,n.extend(r.prototype,i),r}var r,u,f,e;ej.EjAxisRenderer.prototype={_seriesMinMax:function(n,t,i,r){var p,c,w,l,e,f,a,u,s,o,h,v,y,b;if(i.length>0&&i[0].points.length>0){for(e={maxX:null,minX:null},f={maxY:null,minY:null},u=0;u<i.length;u++)if(i[u].visibility.toLowerCase()==="visible")for(i[u]._visiblePoints=[],s=0;s<i[u].points.length;s++)a=i[u].points[s],(ej.util.isNullOrUndefined(a.x)||ej.util.isNullOrUndefined(a.y))&&a.isEmpty!=!1||i[u]._visiblePoints.push(a);for(u=0;u<i.length;u++){if(i.length>0&&i[0]._visiblePoints.length>0&&i[u]._visiblePoints.length>0&&i[u].visibility.toLowerCase()==="visible"&&i[u].points.length>0){for(w=p=i[u]._visiblePoints[0].X,l=c=i[u]._visiblePoints[0].YValues[0],s=0;s<i[u]._visiblePoints.length;s++)if(o=i[u]._visiblePoints[s],w>o.X&&(w=o.X),p<o.X&&(p=o.X),i[u]._hiloTypes)for(h=0;h<2;h++)c>o.YValues[h]&&(c=o.YValues[h]),l<o.YValues[h]&&(l=o.YValues[h]);else c>o.YValues[0]&&(c=o.YValues[0]),l<o.YValues[0]&&(l=o.YValues[0]);i[u].minX=w;i[u].maxX=p;i[u].minY=c;i[u].maxY=l}u==0&&(e.maxX=i[0].maxX,e.minX=i[0].minX,f.maxY=i[0].maxY,f.minY=i[0].minY);e.minX>i[u].minX&&(e.minX=i[u].minX);e.maxX<i[u].maxX&&(e.maxX=i[u].maxX);f.minY>i[u].minY&&(f.minY=i[u].minY);f.maxY<i[u].maxY&&(f.maxY=i[u].maxY)}this.chartObj.model.stackedValue[t.name]&&(v=this.chartObj.model.stackedValue[t.name],f.minY>v.min&&(f.minY=v.min),f.maxY<v.max&&(f.maxY=v.max));e.maxX==e.minX&&(e.maxX+=1);f.maxY==f.minY&&(f.maxY<0?f.maxY=0:f.maxY<=1&&f.maxY>0?f.minY=0:(f.minY=0,f.maxY+=1));y=f.maxY-f.minY;r=="double"&&(b=_sideBySeriesPadding(n,e.minX,e.maxX,t),e.minX=b.startPadding,e.maxX=b.endPadding,deltaX=e.maxX-e.minX);t.orientation.toLowerCase()=="horizontal"&&(t.range=n.model.requireInvertedAxes?r=="double"?this._getDoubleAutoRange(t,f.minY,f.maxY,y):this._getLogAutoRange(t,f.minY,f.maxY,y):r=="double"?this._getDoubleAutoRange(t,e.minX,e.maxX,deltaX):this._getLogAutoRange(t,e.minX,e.maxX,deltaX));t.orientation.toLowerCase()=="vertical"&&(t.range=n.model.requireInvertedAxes?r=="double"?this._getDoubleAutoRange(t,e.minX,e.maxX,deltaX):this._getLogAutoRange(t,e.minX,e.maxX,deltaX):r=="double"?this._getDoubleAutoRange(t,f.minY,f.maxY,y):this._getLogAutoRange(t,f.minY,f.maxY,y))}else t.setRange||(t.range={min:0,max:5,interval:1,Delta:4})},AlignRangeStart:function(n,t,i){var r=new Date(n),u,f,e,o,s,h,c;return i.toLowerCase()=="days"?(u=Math.floor(Math.floor(n.getDate()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),u,0,0,0)):i.toLowerCase()=="hours"?(f=Math.floor(Math.floor(n.getHours()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),f,0,0)):i.toLowerCase()=="milliseconds"?(e=Math.floor(Math.floor(n.getMilliseconds()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),e)):i.toLowerCase()=="seconds"?(o=Math.floor(Math.floor(n.getSeconds()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),o,0)):i.toLowerCase()=="minutes"?(s=Math.floor(Math.floor(n.getMinutes()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s,0,0)):i.toLowerCase()=="months"?(h=Math.floor(Math.floor(n.getMonth()/t)*t),r=new Date(n.getFullYear(),h,n.getDate(),0,0,0)):i.toLowerCase()=="years"&&(c=Math.floor(Math.floor(n.getFullYear()/t)*t),r=new Date(c,n.getMonth(),n.getDate(),0,0,0)),r},_increaseDateTimeInterval:function(n,t,i){var r=new Date(n);return i.toLowerCase()=="days"?r.setDate(n.getDate()+t):i.toLowerCase()=="hours"?r.setHours(n.getHours()+t):i.toLowerCase()=="milliseconds"?r.setMilliseconds(n.getMilliseconds()+t):i.toLowerCase()=="seconds"?r.setSeconds(n.getSeconds()+t):i.toLowerCase()=="minutes"?r.setMinutes(n.getMinutes()+t):i.toLowerCase()=="months"?r.setMonth(n.getMonth()+t):i.toLowerCase()=="years"&&r.setYear(n.getFullYear()+t),r},_calculatePadding:function(n){var t=typeof n.range.min=="string"&&!isNaN(Date.parse(n.range.min))?Date.parse(n.range.min):n.range.min.getTime(),i=typeof n.range.max=="string"&&!isNaN(Date.parse(n.range.max))?Date.parse(n.range.max):n.range.max.getTime(),k=this._increaseDateTimeInterval(new Date(t),n.range.interval,n.intervalType).getTime()-t,w,u,o,f,r,e,s,c,v,h,b,l,y,a,p;if(!this.chartObj.zoomed&&!n.setRange)if(t=new Date(t),i=new Date(i),w=n.intervalType.toLowerCase(),n.rangePadding.toLowerCase()=="none")t=t.getTime(),i=i.getTime();else if(n.rangePadding.toLowerCase()=="additional"||n.rangePadding.toLowerCase()=="round")switch(w){case"years":u=t.getFullYear()/n.range.interval*n.range.interval;o=i.getFullYear()+(t.getFullYear()-u);u<=0&&(u=1);o<=0&&(o=1);n.rangePadding.toLowerCase()=="additional"?(t=new Date(u-n.range.interval,1,1,0,0,0).getTime(),i=new Date(o+n.range.interval,1,1,0,0,0).getTime()):(t=new Date(u,1,1,0,0,0).getTime(),i=new Date(o,1,1,0,0,0).getTime());break;case"months":f=t.getMonth()/n.range.interval*n.range.interval;f<=0&&(f=1);r=i.getMonth()+(t.getMonth()-f);r<=0&&(r=1);n.rangePadding.toLowerCase()=="round"?(t=new Date(t.getFullYear(),f,1,0,0,0).getTime(),i=new Date(i.getFullYear(),r,r==2?28:30,0,0,0).getTime()):(t=new Date(t.getFullYear(),f+-n.range.interval,1,0,0,0).getTime(),i=new Date(i.getFullYear(),r+n.range.interval,r==2?28:30,0,0,0).getTime());break;case"days":e=t.getDate()/n.range.interval*n.range.interval;e<=0&&(e=1);s=i.getDate()+(t.getDate()-e);s<=0&&(s=1);n.rangePadding.toLowerCase()=="round"?(t=new Date(t.getFullYear(),t.getMonth(),e,0,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),s,0,0,0).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),e+-n.range.interval,0,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),s+n.range.interval,0,0,0).getTime());break;case"hours":c=t.getHours()/n.range.interval*n.range.interval;v=i.getHours()+(t.getHours()-c);n.rangePadding.toLowerCase()=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),c,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),v,0,0).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),c+-n.range.interval,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),v+n.range.interval,0,0).getTime());break;case"minutes":h=t.getMinutes()/n.range.interval*n.range.interval;b=i.getMinutes()+(t.getMinutes()-h);n.rangePadding.toLowerCase()=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),h,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),b,0).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),h+-n.range.interval,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),h+n.range.interval,0).getTime());break;case"seconds":l=t.getSeconds()/n.range.interval*n.range.interval;y=i.getSeconds()+(t.getSeconds()-l);n.rangePadding.toLowerCase()=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),l,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinutes(),y,0).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),l+-n.range.interval,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),i.getMinutes(),y+n.range.interval,0).getTime());break;case"milliseconds":a=t.getMilliseconds()/n.range.interval*n.range.interval;p=i.getMilliseconds()+(t.getMilliseconds()-a);n.rangePadding.toLowerCase()=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds(),a).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),i.getMinutes(),i.getSeconds(),p).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds(),a+-n.range.interval).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),i.getMinutes(),i.getSeconds(),p+n.range.interval).getTime())}n.actualRange.interval=k;n.actualRange.min=t;n.actualRange.max=i;n._intervalType=n.intervalType;n._interval=n.range.interval;n.actualRange.delta=n.actualRange.max-n.actualRange.min;n.range.min=new Date(t);n.range.max=new Date(i);this._calculateVisibleRange(n)},_calculateVisibleRange:function(t){var u,i,r,s;if(t.visibleRange=n.extend(!0,{},t.actualRange),t._intervalType=t.intervalType,t.zoomFactor<1||t.zoomPosition>0){u=t.actualRange;t.isInversed?(i=t.actualRange.max-t.zoomPosition*t.actualRange.delta,r=i-t.zoomFactor*t.actualRange.delta):(i=t.actualRange.min+t.zoomPosition*t.actualRange.delta,r=i+t.zoomFactor*t.actualRange.delta);i<u.min&&(r=r+(u.min-i),i=u.min);r>u.max&&(i=i-(r-u.max),r=u.max);var f=new Date(i),o=new Date(r),e=this.calculateDateTimeNiceInterval(t,f,o);t.visibleRange.min=Math.min(f.getTime(),o.getTime());t.visibleRange.max=Math.max(f.getTime(),o.getTime());s=this._increaseDateTimeInterval(f,e.interval,e.intervalType).getTime()-t.visibleRange.min;t._intervalType=e.intervalType;t.visibleRange.interval=s;t.visibleRange.delta=Math.abs(t.visibleRange.max-t.visibleRange.min);t._interval=e.interval}},_calculateAxisLabels:function(t){for(var r,i=this.chartObj.zoomed||t.zoomed||!t.setRange?this.AlignRangeStart(new Date(t.visibleRange.min),t._interval,t._intervalType).getTime():t.visibleRange.min;i<=t.visibleRange.max;)i>=t.visibleRange.min&&i<=t.visibleRange.max&&t.visibleLabels.push({Value:i,Text:Globalize.format(new Date(i),t.labelFormat?t.labelFormat:ej.EjSvgRender.utils._dateTimeLabelFormat(t._intervalType))}),i=this._increaseDateTimeInterval(new Date(i),t._interval,t._intervalType).getTime(),r=n.extend({},ej.EjSvgRender.commonChartEventArgs),r.data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",r),t.visibleLabels[t.visibleLabels.length-1]=r.data.label;t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},calculateDateTimeNiceInterval:function(n,t,i){var u=Math.abs((t.getTime()-i.getTime())/864e5),r=this.calculateNumericNiceInterval(u/365,n),f,e,o,s;return r>=1?{interval:r,intervalType:"Years"}:(r=this.calculateNumericNiceInterval(u/30,n),r>=1)?{interval:r,intervalType:"Months"}:(r=this.calculateNumericNiceInterval(u,n),r>=1)?{interval:r,intervalType:"Days"}:(f=u*24,r=this.calculateNumericNiceInterval(f,n),r>=1)?{interval:r,intervalType:"Hours"}:(e=u*1440,r=this.calculateNumericNiceInterval(e,n),r>=1)?{interval:r,intervalType:"Minutes"}:(o=u*86400,r=this.calculateNumericNiceInterval(o,n),r>=1)?{interval:r,intervalType:"Seconds"}:(s=u*864e5,r=this.calculateNumericNiceInterval(s,n),r>=1?{interval:r,intervalType:"Milliseconds"}:void 0)},calculateNumericNiceInterval:function(n,t){for(var u,f=this.GetActualDesiredIntervalsCount(t,t.length),i=n/f,o=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(i,10))),e=[10,5,2,1],r=0;r<e.length;r++){if(u=o*e[r],f<n/u)return i;i=u}return i},GetActualDesiredIntervalsCount:function(n,t){if(ej.util.isNullOrUndefined(n.desiredIntervals)){var i=(n.orientation.toLowerCase()=="horizontal"?.533:1)*n.maximumLabels;return i=Math.max(t*(i/100),1),n.desiredIntervals=i,i}return n.desiredIntervals},_calculateRange:function(t,i){var e,h,c,l,a,u,o,r,f,v,s;if(!this.chartObj.zoomed)if(e=new Date,i.length>0&&i[0].points.length>0){for(u={maxX:null,minX:null},o={maxY:null,minY:null},r=0;r<i.length;r++){if(i[r].points.length>0&&i[r].visibility.toLowerCase()==="visible"&&i[r].points.length>0){for(a=h=i[r].points[0].X,l=c=i[r].points[0].YValues[0],f=0;f<i[r].points.length;f++)a>i[r].points[f].X&&(a=i[r].points[f].X),h<i[r].points[f].X&&(h=i[r].points[f].X),c>i[r].points[f].YValues[0]&&(c=i[r].points[f].YValues[0]),l<i[r].points[f].YValues[0]&&(l=i[r].points[f].YValues[0]);i[r].minX=a;i[r].maxX=h;i[r].minY=c;i[r].maxY=l}(u.minX=u.minX==null&&typeof i[r].minX!="number"?i[r].minX:u.minX)>i[r].minX&&(u.minX=typeof i[r].minX!="number"?i[r].minX:u.minX);(u.maxX=u.maxX==null&&typeof i[r].maxX!="number"?i[r].maxX:u.maxX)<i[r].maxX&&(u.maxX=typeof i[r].maxX!="number"?i[r].maxX:u.maxX);o.minY>i[r].minY&&(o.minY=i[r].minY);o.maxY<i[r].maxY&&(o.maxY=i[r].maxY)}u.minX=u.minX==null?e:u.minX;u.maxX=u.maxX==null?new Date((new Date).setMonth(e.getMonth()+5)):u.maxX;u.minX==u.maxX&&(u.minX=new Date(Date.parse(u.minX)-2592e6),u.maxX=new Date(Date.parse(u.maxX)+2592e6));v=_sideBySeriesPadding(this.chartObj,Date.parse(u.minX),Date.parse(u.maxX),t);u.minX=new Date(v.startPadding);u.maxX=new Date(v.endPadding);s=this.calculateDateTimeNiceInterval(t,u.minX,u.maxX);t.setRange?(ej.util.isNullOrUndefined(t.actual_Range)&&(ej.util.isNullOrUndefined(t.range.interval)&&(t.range.interval=s.interval),t.range.max||(t.range.max=u.maxX),t.range.min||(t.range.min=u.minX),t.intervalType||(t.intervalType=s.intervalType),typeof t.range.min=="string"&&t.range.min.indexOf("/Date(")!=-1&&(t.range.min=new Date(parseInt(t.range.min.substr(6)))),typeof t.range.max=="string"&&t.range.max.indexOf("/Date(")!=-1&&(t.range.max=new Date(parseInt(t.range.max.substr(6)))),t.actual_Range=n.extend(!0,{},t.range),t.interval_Type=t.intervalType,t.setRange=!0),t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:t.actual_Range.interval},t.intervalType=t.interval_Type):(t.range={min:u.minX,max:u.maxX,interval:s.interval},t.intervalType=s.intervalType)}else t.setRange||(t.range={min:e,max:new Date((new Date).setMonth(e.getMonth()+5)),interval:1},t.intervalType="Months")},_calculateRanges:function(n,t,i){this.chartObj=n;this._calculateRange(t,i);this._calculatePadding(t);this._calculateAxisLabels(t)}};r=t(ej.EjAxisRenderer);ej.axisTypes.datetime=r;u=t(ej.EjAxisRenderer,{_calculateRange:function(n,t,i){n.zoomed||this._seriesMinMax(n,t,i,"double")},_getDoubleAutoRange:function(t,i,r,u){var f=this.calculateNumericNiceInterval(u,t);return t.setRange?(ej.util.isNullOrUndefined(t.range.interval)&&(t.range.interval=f),ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=r),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=i),ej.util.isNullOrUndefined(t.actual_Range)&&(t.actual_Range=n.extend(!0,{},t.range),t.setRange=!0),t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:t.actual_Range.interval,delta:t.actual_Range.max-t.actual_Range.min}):t.range={min:i,max:r,interval:f,Delta:u}},_calculatePadding:function(n,t,i){var f=i.min,o=i.max,s=t.rangePadding.toLowerCase(),r=i.interval,u,h,e;t.setRange||n.zoomed||(s=="normal"?(u=0,f<0?(f=0,u=i.min+i.min/20,h=r+u%r,.365*r>=h&&(u-=r),u%r<0&&(u=u-r-u%r)):(u=f<5/6*o?0:f-(o-f)/2,u%r>0&&(u-=u%r)),e=o+(o-f)/20,h=r-e%r,.365*r>=h&&(e+=r),e%r>0&&(e=e+r-e%r),u<=0&&(r=this.calculateNumericNiceInterval(e-u,t),e=Math.ceil(e/r)*r),f=t.roundingPlaces?parseFloat(u.toFixed(t.roundingPlaces)):parseFloat(u.toFixed(ej.EjSvgRender.utils._decimalPlaces(r)==0?1:ej.EjSvgRender.utils._decimalPlaces(r))),o=t.roundingPlaces?parseFloat(e.toFixed(t.roundingPlaces)):parseFloat(e.toFixed(ej.EjSvgRender.utils._decimalPlaces(r)==0?1:ej.EjSvgRender.utils._decimalPlaces(r)))):(s=="additional"||s=="round")&&(f=Math.floor(f/r*r),o=Math.ceil(o/r*r),s=="additional"&&(f-=r,o+=r)));t.actualRange.min=f;t.actualRange.max=o;t.actualRange.interval=r;t.range.min=f;t.range.max=o;t.range.interval=r;t.actualRange.delta=o-f;this._calculateVisibleRange(t)},_calculateVisibleRange:function(t){var u,i,r,f,e;t.visibleRange=n.extend(!0,{},t.actualRange);(t.zoomFactor<1||t.zoomPosition>0)&&(u=t.actualRange,t.isInversed?(i=t.actualRange.max-t.zoomPosition*t.actualRange.delta,r=i-t.zoomFactor*t.actualRange.delta):(i=t.actualRange.min+t.zoomPosition*t.actualRange.delta,r=i+t.zoomFactor*t.actualRange.delta),i<u.min&&(r=r+(u.min-i),i=u.min),r>u.max&&(i=i-(r-u.max),r=u.max),f=Math.abs(r-i),t.visibleRange.interval=this.calculateNumericNiceInterval(f,t),e=ej.util.isNullOrUndefined(t.roundingPlaces)?ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval):t.roundingPlaces,t.visibleRange.interval=parseFloat(t.visibleRange.interval.toFixed(e)),t.visibleRange.min=Math.min(i,r),t.visibleRange.max=Math.max(i,r),t.visibleRange.delta=f,t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed)},_calculateAxisLabels:function(t,i){for(var f,e,u,r=t.zoomed||i.zoomed||i.padding?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;r<=i.visibleRange.max;r+=i.visibleRange.interval)r=i.roundingPlaces?parseFloat(r.toFixed(i.roundingPlaces)):parseFloat(r.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(r,i.visibleRange)&&(f=i.labelFormat?i.labelFormat.match("{value}"):null,e=i.labelFormat?f!=null?i.labelFormat.replace("{value}",r):Globalize.format(r,i.labelFormat):r,i.visibleLabels.push({Value:r,Text:e}),u=n.extend({},ej.EjSvgRender.commonChartEventArgs),u.data={label:i.visibleLabels[i.visibleLabels.length-1],axis:i},t._trigger("axesLabelRendering",u),i.visibleLabels[i.visibleLabels.length-1]=u.data.label);i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(n,t,i){this.chartObj=n;this._calculateRange(n,t,i);this._calculatePadding(n,t,t.range);this._calculateAxisLabels(n,t)}});ej.axisTypes.double=u;f=t(ej.EjAxisRenderer,{_getRoundValue:function(n,t,i){return(i?Math.ceil(n/t):Math.floor(n/t))*t},calculateLogNiceInterval:function(n,t){for(var u,e=this.GetActualDesiredIntervalsCount(t,t.length),i=n,o=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(i,10))),f=[10,5,2,1],r=0;r<f.length;r++){if(u=o*f[r],e<n/u)return i;i=u}return i},_getLogAutoRange:function(t,i,r,u){var e=ej.EjSvgRender.utils._logBase(i,t.logBase),f,o,s,h;return e=n.isNumeric(e)?e:i,f=ej.EjSvgRender.utils._logBase(r,t.logBase),f=n.isNumeric(f)?f:r,o=this._getRoundValue(e,1,!1),s=this._getRoundValue(f,1,!0),u=s-o,h=this.calculateLogNiceInterval(u,t),t.setRange?(ej.util.isNullOrUndefined(t.range.interval)&&(t.range.interval=h),ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=s),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=o),ej.util.isNullOrUndefined(t.actual_Range)&&(t.actual_Range=n.extend(!0,{},t.range),t.setRange=!0),t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:t.actual_Range.interval,delta:t.actual_Range.max-t.actual_Range.min}):t.range={min:o,max:s,interval:h,Delta:u}},_calculateLogRange:function(n,t,i){n.zoomed||this._seriesMinMax(n,t,i,"logarithmic")},_calculateLogPadding:function(n,t,i){var r=i.min,u=i.max,f=i.interval;t.actualRange.min=r;t.actualRange.max=u;t.actualRange.interval=f;t.range.min=r;t.range.max=u;t.range.interval=f;t.actualRange.delta=u-r;this._calculateVisibleRange(t)},_calculateVisibleRange:function(t){var u,i,r,f,e;t.visibleRange=n.extend(!0,{},t.actualRange);(t.zoomFactor<1||t.zoomPosition>0)&&(u=t.actualRange,t.isInversed?(i=t.actualRange.max-t.zoomPosition*t.actualRange.delta,r=i-t.zoomFactor*t.actualRange.delta):(i=t.actualRange.min+t.zoomPosition*t.actualRange.delta,r=i+t.zoomFactor*t.actualRange.delta),i<u.min&&(r=r+(u.min-i),i=u.min),r>u.max&&(i=i-(r-u.max),r=u.max),f=Math.abs(r-i),t.visibleRange.interval=this.calculateLogNiceInterval(f,t),e=ej.util.isNullOrUndefined(t.roundingPlaces)?ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval):t.roundingPlaces,t.visibleRange.interval=parseFloat(t.visibleRange.interval.toFixed(e)),t.visibleRange.min=Math.min(i,r),t.visibleRange.max=Math.max(i,r),t.visibleRange.delta=f,t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed)},_calculateAxisLabels:function(t,i){for(var e,r,o,f,u=t.zoomed||i.zoomed?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;u<=i.visibleRange.max;u+=i.visibleRange.interval)ej.EjSvgRender.utils._inside(u,i.visibleRange)&&(e=i.labelFormat?i.labelFormat.match("{value}"):null,r=Math.pow(i.logBase,u),r=i.roundingPlaces?parseFloat(r.toFixed(i.roundingPlaces)):parseFloat(r.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),o=i.labelFormat?e!=null?i.labelFormat.replace("{value}",r):Globalize.format(r,i.labelFormat):r,i.visibleLabels.push({Value:u,Text:o}),f=n.extend({},ej.EjSvgRender.commonChartEventArgs),f.data={label:i.visibleLabels[i.visibleLabels.length-1],axis:i},t._trigger("axesLabelRendering",f),i.visibleLabels[i.visibleLabels.length-1]=f.data.label);i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(n,t,i){this.chartObj=n;this._calculateLogRange(n,t,i);this._calculateLogPadding(n,t,t.range);this._calculateAxisLabels(n,t)}});ej.axisTypes.logarithmic=f;e=t(ej.EjAxisRenderer,{_calculateCategoryRange:function(t,i){var u,f,s,e,h,l,r,o,c,a;if(!this.chartObj.zoomed)if(u={maxX:null,minX:0},f=[],i.length>0&&i[0].points.length>0){for(e=0;e<i.length;e++)for(h=0;h<i[e].points.length;h++)s=i[e]._xAxisValueType=="date"?Globalize.format(new Date(i[e].points[h].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat):i[e].points[h].x,l=n.inArray(s,f),l<0&&f.push(s);for(r=0;r<i.length;r++){for(i[r]._pointCollection=[],o=0;o<i[r].points.length;o++)i[r]._pointCollection.push(i[r].points[o].x),s=i[r]._xAxisValueType=="date"?Globalize.format(new Date(i[r].points[o].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat):i[r].points[o].x,i[r].points[o].X=n.inArray(s,f);i[r].minX=0;i[r].maxX=i[r]._xAxisValueType=="date"?i[r]._pointCollection.length-1:f.length-1;r==0&&(u.maxX=i[r].maxX,t.labels=i[r]._xAxisValueType=="date"?i[r]._pointCollection:f,t._categoryValueType=i[r]._xAxisValueType);u.maxX<i[r].maxX&&(u.maxX=i[r].maxX,t.labels=[],t.labels=f)}c=u.maxX-u.minX;a=this._calculateActualInterval(c,t);t.range={min:u.minX,max:u.maxX,interval:a,Delta:c}}else t.labels.length>0&&(t.range={min:0,max:t.labels.length-1,interval:1,Delta:t.labels.length-1})},_calculateActualInterval:function(n,t){return t.categoryInterval==null?Math.max(1,Math.floor(n/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(n){var t,i;this.chartObj.zoomed||(t=0,this.chartObj.model.AreaType!=="polaraxes"&&(t=n.labelPlacement===null||n.labelPlacement===undefined?-.5:n.labelPlacement.toLowerCase()=="betweenticks"?-.5:0),t<0?(n.range.min=n.range.min+t,n.range.max=n.range.max-t,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range):(i=_sideBySeriesPadding(this.chartObj,n.range.min,n.range.max,n),n.range.min=i.startPadding,n.range.max=i.endPadding,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range));this._calculateVisibleRange(n)},_calculateVisibleRange:function(t){var u,i,r,f;t.visibleRange=n.extend(!0,{},t.actualRange);(t.zoomFactor<1||t.zoomPosition>0)&&(u=t.actualRange,t.isInversed?(i=t.actualRange.max-t.zoomPosition*t.actualRange.delta,r=i-t.zoomFactor*t.actualRange.delta):(i=t.actualRange.min+t.zoomPosition*t.actualRange.delta,r=i+t.zoomFactor*t.actualRange.delta),i<u.min&&(r=r+(u.min-i),i=u.min),r>u.max&&(i=i-(r-u.max),r=u.max),f=Math.abs(r-i),t.visibleRange.interval=this._calculateActualInterval(f,t),t.visibleRange.min=Math.min(i,r),t.visibleRange.max=Math.max(i,r),t.visibleRange.delta=f,t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed)},_calculateAxisLabels:function(t){for(var f=t.visibleRange.interval,i=t.visibleRange.min-t.visibleRange.min%t.range.interval,u,r;i<=t.visibleRange.max;i+=f)ej.EjSvgRender.utils._inside(i,t.visibleRange)&&(u=Math.round(i),t.visibleLabels.push({Value:u,Text:ej.EjSvgRender.utils._getLabelContent(u,t)}),r=n.extend({},ej.EjSvgRender.commonChartEventArgs),r.data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",r),t.visibleLabels[t.visibleLabels.length-1]=r.data.label);t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateRanges:function(n,t,i){this.chartObj=n;this._calculateCategoryRange(t,i);this._applyRangePadding(t);this._calculateAxisLabels(t)}});ej.axisTypes.category=e;ej.EjAxisRenderer.prototype={_drawAxes:function(n,t){this.model.AreaType=="cartesianaxes"?(t.orientation.toLowerCase()=="horizontal"&&(this._drawXAxisGridLine(n,t),t.visible&&(this.model.xAxisLabelRegion=[],t.labelPosition!="inside"&&this._drawXAxisLabels(n,t),this._drawXTitle(n,t))),t.orientation.toLowerCase()=="vertical"&&(this._drawYAxisGridLine(n,t),t.visible&&(t.labelPosition!="inside"&&this._drawYAxisLabels(n,t),this._drawYTitle(n,t)))):t.orientation.toLowerCase()=="horizontal"?(this._drawPolarGridLine(t),this._drawPolarLabels(t)):this._drawPolarCircle(t)},_getSharpPath:function(n){return n%2==0?0:.5},_drawAxisLine:function(t){var u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLine"}),o=ej.EjSvgRender.utils._getStringBuilder(),c=this.model.centerX,l=this.model.centerY,a=this.model.centerX,v=this.model.centerY-this.model.Radius,y="M "+c+" "+l+" L "+a+" "+v,e,f,i;if(t.axisLine.visible&&(e={id:this.svgObject.id+"_YAxisLines",fill:"none","stroke-width":t.axisLine.width,stroke:t.axisLine.color,opacity:t.axisLine.opacity,"stroke-dasharray":t.axisLine.dashArray,d:y},this.svgRenderer.drawPath(e,u)),n(u).appendTo(this.gPolarAxisEle),t.majorTickLines.visible){for(u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisMajorTicks"}),i=0;i<t.visibleLabels.length;i++){var p=t.visibleLabels[i],s=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,p.Value,this),r={};r.X1=this.model.centerX;r.Y1=this.model.centerY-s;r.X2=r.X1-t.majorTickLines.size;r.Y2=r.Y1;o.append("M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ")}yMajorTickDir=o.toString();e={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:yMajorTickDir};this.svgRenderer.drawPath(e,u);n(u).appendTo(this.gPolarAxisEle)}for(u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels"}),f=t.font,i=0;i<t.visibleLabels.length;i++){var s=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[i].Value,this),h=t.visibleLabels[i].Text,w=ej.EjSvgRender.utils._measureText(h,null,t.font),b=this.model.centerX-t.majorTickLines.size-this.model.elementSpacing/3,k=this.model.centerY-s+w.height/5,e={id:this.svgObject.id+"_"+t.name+"_YLabel_"+i,x:b,y:k,fill:f.color,"font-size":f.size,"font-family":f.fontFamily,"font-style":f.fontStyle,"font-weight":f.fontWeight,opacity:f.opacity,"text-anchor":"end"};this.svgRenderer.drawText(e,h,u)}n(u).appendTo(this.gPolarAxisEle)},_drawPolarLabels:function(t){for(var a,s=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels"}),h=this.model.Radius+t.majorTickLines.size,f=t.font,e=0;e<t.visibleLabels.length;e++){var i=ej.EjSvgRender.utils._valueToPolarCoefficient(t,t.visibleLabels[e].Value),c=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[e].Value),l=t.visibleLabels[e].Text,r=this.model.centerX+h*c.X,u=this.model.centerY+h*c.Y,v=r<this.model.centerX?"end":r>this.model.centerX?"start":"middle",o=ej.EjSvgRender.utils._measureText(l,this.model.m_AreaBounds.Height,t.font);i==.25?(r-=this.model.elementSpacing/2,u+=o.height/4):i==.5?u+=o.height:i==.75?(r+=this.model.elementSpacing/2,u+=o.height/4):i==1||i==0?u-=o.height/2:.25<i&&i<.5?(r-=this.model.elementSpacing/2,u+=o.height/2):.5<i&&i<=.75?(r+=this.model.elementSpacing/2,u+=o.height/2):0<i&&i<.25?r-=this.model.elementSpacing/2:r+=this.model.elementSpacing/2;a={id:this.svgObject.id+"_"+t.name+"_XLabel_"+e,x:r,y:u,fill:f.color,"font-size":f.size,"font-family":f.fontFamily,"font-style":f.fontStyle,"font-weight":f.fontWeight,opacity:f.opacity,"text-anchor":v};this.svgRenderer.drawText(a,l,s)}n(s).appendTo(this.gXaxisEle)},_drawPolarCircle:function(t){var o,e,i,s,u,f,r,c,l,a,v,h;if(t.majorGridLines.visible)if(o=ej.EjSvgRender.utils._getStringBuilder(),e=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid"}),this.model.isPolar)for(i=0;i<t.visibleLabels.length;i++){var s=t.visibleLabels[i],u=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,s.Value,this),h={id:this.svgObject.id+"_YAxisGridLines_"+i,cx:this.model.centerX,cy:this.model.centerY,r:u,fill:"transparent","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:this.vmlRendering?.3:t.majorGridLines.opacity};this.svgRenderer.drawCircle(h,e)}else{for(i=0;i<t.visibleLabels.length;i++)for(s=t.visibleLabels[i],u=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,s.Value,this),f=0;f<this.model.axes[0].visibleLabels.length;f++)r=this.model.axes[0],c=ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[f].Value),l=f+1<r.visibleLabels.length?ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[f+1].Value):ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[0].Value),a={X:this.model.centerX+u*c.X,Y:this.model.centerY+u*c.Y},v={X:this.model.centerX+u*l.X,Y:this.model.centerY+u*l.Y},o.append("M "+a.X+" "+a.Y+" L "+v.X+" "+v.Y+" ");t.majorGridLines.visible&&(yMajorGridDir=o.toString(),h={id:this.svgObject.id+"_YAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:yMajorGridDir},this.svgRenderer.drawPath(h,e))}n(e).appendTo(this.gYaxisEle)},_drawPolarGridLine:function(t){var s=0,c=0,l=ej.EjSvgRender.utils._getStringBuilder(),a=ej.EjSvgRender.utils._getStringBuilder(),r=this.model.legend,e,w,b,h,u,f,i,o;r.visible&&r.position.toLowerCase()!="custom"&&(r.position.toLowerCase()=="right"||r.position.toLowerCase()=="left"?s=(r.position.toLowerCase()=="right"?this.model.margin.right:this.model.margin.left)+this.model.LegendViewerBounds.Width:c=(r.position.toLowerCase()=="top"?this.model.margin.top:this.model.margin.bottom)+this.model.LegendViewerBounds.Height);var v=(this.model.title.text?this.model._titleLocation.Y:0)+c,y=n(this.svgObject).width()-s,p=n(this.svgObject).height()-v;if(this.model.centerX=y*.5+(r.position.toLowerCase()==="left"?s:0),this.model.centerY=p*.5+(r.position.toLowerCase()==="top"?v:this.model.title.text?this.model._titleLocation.Y:0),e=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid"}),this.model.finalSize={width:y,height:p},this.model.Radius=Math.min(this.model.finalSize.width,this.model.finalSize.height)/2-2*this.model.elementSpacing-t.majorTickLines.size-t._LableMaxWidth.maxHeight,w=0,b=!1,t.majorGridLines.visible)for(u=0;u<t.visibleLabels.length;u++)f=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[u].Value),i={},i.X1=this.model.centerX,i.Y1=this.model.centerY,i.X2=this.model.centerX+this.model.Radius*f.X,i.Y2=this.model.centerY+this.model.Radius*f.Y,l.append("M "+i.X1+" "+i.Y1+" L "+i.X2+" "+i.Y2+" ");if(t.majorTickLines.visible)for(h=this.model.Radius,u=0;u<t.visibleLabels.length;u++)f=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[u].Value),i={},i.X1=this.model.centerX+h*f.X,i.Y1=this.model.centerY+h*f.Y,i.X2=i.X1+t.majorTickLines.size*f.X,i.Y2=i.Y1+t.majorTickLines.size*f.Y,a.append("M "+i.X1+" "+i.Y1+" L "+i.X2+" "+i.Y2+" ");t.majorGridLines.visible&&(xMajorGridDir=l.toString(),o={id:this.svgObject.id+"_XAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:xMajorGridDir},this.svgRenderer.drawPath(o,e),n(e).appendTo(this.gXaxisEle));t.majorTickLines.visible&&(xMajorTickDir=a.toString(),o={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:xMajorTickDir},this.svgRenderer.drawPath(o,e),n(e).appendTo(this.gXaxisEle))},_drawXAxisTickLine:function(t,i,r){var ut,ft,k=ej.EjSvgRender.utils._getStringBuilder(),et=ej.EjSvgRender.utils._getStringBuilder(),l,a=Math.floor(i.x),pt=Math.floor(i.x+i.width),u,d,v,y,p,s,o,e,lt,w,nt,h,f,tt,c,ct,it,rt;for(t==0||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?t==0||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?(u=Math.floor(i.y),d=Math.floor(i.y)):(u=i.opposedPosition?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),d=i.opposedPosition?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)):(u=i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),d=i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)),r||(v=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTicklines_"+t})),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,y=i.labels.length>1&&i.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,p=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&y<0&&(p=i.labels.length+1),s=0;s<p;s++)if(o=i.labels.length>1&&y<0?s+y:i.visibleLabels[s].Value,o=i.roundingPlaces?parseFloat(o.toFixed(i.roundingPlaces)):parseFloat(o.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(o,i.visibleRange)){if(i.hidePartialLabels&&(s==0||s==p-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(e=this._getSharpPath(i.minorTickLines.width),lt=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){f=o;var ot=i.visibleRange.max,g=i.visibleRange.min,st=Math.pow(i.logBase,f-i.visibleRange.interval),at=Math.pow(i.logBase,f),vt=(at-st)/(i.minorTicksPerInterval+1),yt=st+vt;for(f=ej.EjSvgRender.utils._logBase(yt,i.logBase),h=0;h<i.minorTicksPerInterval;h++)f<ot&&f>g&&(l=Math.ceil((f-g)/(ot-g)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(nt=Math.floor(l+a),w=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?i.opposedPosition?Math.floor(u-i.minorTickLines.size):Math.floor(i.minorTickLines.size+u):i.opposedPosition?Math.floor(u+i.minorTickLines.size):u-Math.floor(i.minorTickLines.size),k.append("M "+(nt+e)+" "+(w+e)+" L "+(nt+e)+" "+(u+e)+" ")))}else for(h=0,f=o;h<i.minorTicksPerInterval;h++)f+=i.visibleRange.interval/(i.minorTicksPerInterval+1),f<i.visibleRange.max&&f>i.visibleRange.min&&(l=Math.ceil((f-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(w=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?i.opposedPosition?Math.floor(u-i.minorTickLines.size):Math.floor(i.minorTickLines.size+u):i.opposedPosition?Math.floor(u+i.minorTickLines.size):Math.floor(u-i.minorTickLines.size),tt=Math.floor(l+a),k.append("M "+(tt+e)+" "+(w+e)+" L "+(tt+e)+" "+(u+e)+" ")));if(i.majorTickLines.visible||i.majorGridLines.visible){var b=this._getSharpPath(i.majorTickLines.width),wt=this._getSharpPath(i.majorGridLines.width),ht=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(o,i.visibleRange,i.isInversed)*i.width);i.majorTickLines.visible&&(c=i.majorTickLines.size+i.axisLine.width/2,ct=i.tickLinesPosition=="inside"&&i.labelPosition=="inside"||i.tickLinesPosition=="inside"&&i.labelPosition!="inside"?i.opposedPosition?u+c:u-c:i.opposedPosition?u-c:c+u,et.append("M "+(Math.floor(ht+a)+b)+" "+(Math.floor(ct)+b)+" L "+(Math.floor(ht+a)+b)+" "+(Math.floor(u+(i.opposedPosition?-i.axisLine.width/2:i.axisLine.width/2))+b)+" "))}}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(ft=k.toString(),it={id:this.svgObject.id+"_XAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:ft},r?this.svgRenderer.drawPath(it,r):this.svgRenderer.drawPath(it,v));i.majorTickLines.visible&&i.visible&&(ut=et.toString(),rt={id:this.svgObject.id+"_XAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:ut},r?this.svgRenderer.drawPath(rt,r):this.svgRenderer.drawPath(rt,v));i.tickLinesPosition=="inside"?n(v).appendTo(this.gXaxisTickEle):n(r).appendTo(this.gXaxisEle)},_drawXAxisGridLine:function(t,i){var ot,st,tt=ej.EjSvgRender.utils._getStringBuilder(),ht=ej.EjSvgRender.utils._getStringBuilder(),w,u=[],b=Math.floor(i.x),kt=Math.floor(i.x+i.width),h,k,o,d,nt,c,s,gt,e,ut,y,f,ft,yt,r,v,p,pt,wt,bt,et;if(t==0||i.labelPosition!="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?i.labelPosition!="inside"||i.tickLinesPosition=="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?t==0||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?(h=Math.floor(i.y),k=Math.floor(i.y)):(h=i.opposedPosition?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),k=i.opposedPosition?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)):(h=i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),k=i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)):(h=i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),k=i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)),o=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+t}),d=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisAlternateGridBand_"+t}),i.axisLine.visible){var ct=i.axisLine.offset,g=this._getSharpPath(i.axisLine.width),dt={id:this.svgObject.id+"_XAxisLine",x1:b-i.plotOffset+g+ct,y1:h+g,x2:kt+i.plotOffset-ct+g,y2:k+g,"stroke-dasharray":i.axisLine.dashArray,"stroke-width":i.axisLine.width,stroke:i.axisLine.color,opacity:this.vmlRendering?.1:i.axisLine.opacity};this.svgRenderer.drawLine(dt,o)}for(i.tickLinesPosition!="inside"&&this._drawXAxisTickLine(t,i,o),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,nt=i.labels.length>1&&i.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,c=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&nt<0&&(c=i.labels.length+1),r=0;r<c;r++)if(s=i.labels.length>1&&nt<0?r+nt:i.visibleLabels[r].Value,s=i.roundingPlaces?parseFloat(s.toFixed(i.roundingPlaces)):parseFloat(s.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(s,i.visibleRange)){if(i.hidePartialLabels&&(r==0||r==c-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(gt=this._getSharpPath(i.minorTickLines.width),e=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){f=s;var lt=i.visibleRange.max,it=i.visibleRange.min,at=Math.pow(i.logBase,f-i.visibleRange.interval),ni=Math.pow(i.logBase,f),vt=(ni-at)/(i.minorTicksPerInterval+1),rt=at+vt;for(f=ej.EjSvgRender.utils._logBase(rt,i.logBase),y=0;y<i.minorTicksPerInterval;y++)f<lt&&f>it&&(w=Math.ceil((f-it)/(lt-it)*i.width),i.minorGridLines&&i.minorGridLines.visible&&(ut=Math.floor(w+b),tt.append("M "+(ut+e)+" "+(h+e)+" L "+(ut+e)+" "+(Math.floor(this.model.m_AreaBounds.Y)+e)+" "))),rt+=vt,f=ej.EjSvgRender.utils._logBase(rt,i.logBase)}else for(y=0,f=s;y<i.minorTicksPerInterval;y++)f+=i.visibleRange.interval/(i.minorTicksPerInterval+1),f<i.visibleRange.max&&f>i.visibleRange.min&&(w=Math.ceil((f-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorGridLines&&i.minorGridLines.visible&&tt.append("M "+(Math.floor(w+b)+e)+" "+(h+e)+" L "+(Math.floor(w+b)+e)+" "+(Math.floor(this.model.m_AreaBounds.Y)+e)+" "));if(i.majorTickLines.visible||i.majorGridLines.visible){var ii=this._getSharpPath(i.majorTickLines.width),l=this._getSharpPath(i.majorGridLines.width),ti=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(s,i.visibleRange,i.isInversed)*i.width),a=Math.floor(ti+b);if(i.zoomed&&(u[0]=i.x),r==0&&a==Math.floor(this.model.m_AreaBounds.X)){u.push(a+l);continue}if(r==c-1&&this.model.chartArea.border.color!="transparent"&&this.model.chartArea.border.width>0){if(a==Math.floor(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width))continue;i.zoomed&&(u[c]=a+l)}if(i.majorGridLines.visible&&ht.append("M "+(a+l)+" "+(Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+l)+" L "+(a+l)+" "+(Math.floor(this.model.m_AreaBounds.Y)+l)+" "),r==c-1)continue;u.push(a+l)}}if(i.alternateGridBand.odd.fill!="transparent"||i.alternateGridBand.even.fill!="transparent"){for(ft=this.model.m_AreaBounds.Height,r=1;r<u.length;r+=2)v=u[2]-u[1],r==u.length-1&&i.zoomed&&(p=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-u[u.length-1]-i.plotOffset,v=p),yt={id:this.svgObject.id+"_XAxisAlternateodd"+[r],x:u[r],y:Math.floor(this.model.m_AreaBounds.Y),width:v,height:ft,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(yt,d);for(r=0;r<u.length;r+=2)v=u[2]-u[1],r==0&&i.zoomed&&(p=u[1]-i.x,v=p),r==u.length-1&&i.zoomed&&(p=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-u[u.length-1]-i.plotOffset,v=p),pt={id:this.svgObject.id+"_XAxisAlternateeven"+[r],x:u[r],y:Math.floor(this.model.m_AreaBounds.Y),width:v,height:ft,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},this.svgRenderer.drawRect(pt,d);n(d).appendTo(o)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(xMinorTicksDir=sbXMinorTicks.toString(),wt={id:this.svgObject.id+"_XAxisMinorTicks",fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:xMinorTicksDir},this.svgRenderer.drawPath(wt,o));i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(st=tt.toString(),bt={id:this.svgObject.id+"_XAxisMinorGridLines",fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:st},this.svgRenderer.drawPath(bt,o));ot=ht.toString();i.majorGridLines.visible&&(et={id:this.svgObject.id+"_XAxisMajorGridLines",fill:"none","stroke-width":i.majorGridLines.width,stroke:i.majorGridLines.color,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,d:ot},et.d!=""&&this.svgRenderer.drawPath(et,o));n(o).appendTo(this.gXaxisEle)},_drawYAxisTickLine:function(t,i,r){var it="",rt="",y=0,f,p,h,o,c,e,st,l,u,v,a,ct,g,nt,tt;t==1||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?t==1||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?(f=Math.floor(i.x),p=Math.floor(i.x)):(f=i.opposedPosition?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing-i.majorTickLines.size),p=i.opposedPosition?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing-i.majorTickLines.size)):(f=i.opposedPosition?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),p=i.opposedPosition?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing));var s=Math.floor(i.y+i.height),lt=Math.floor(i.y),w=ej.EjSvgRender.utils._getStringBuilder(),ut=ej.EjSvgRender.utils._getStringBuilder(),b=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTicklines_"+t});for(h=0;h<i.visibleLabels.length;h++)if(o=i.visibleLabels[h].Value,o=i.roundingPlaces?parseFloat(o.toFixed(i.roundingPlaces)):parseFloat(o.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(o,i.visibleRange)){if(i.hidePartialLabels&&(h==0||h==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(e=this._getSharpPath(i.minorTickLines.width),st=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){u=o;var ft=i.visibleRange.max,k=i.visibleRange.min,et=Math.pow(i.logBase,u-i.visibleRange.interval),ht=Math.pow(i.logBase,u),ot=(ht-et)/(i.minorTicksPerInterval+1),d=et+ot;for(u=ej.EjSvgRender.utils._logBase(d,i.logBase),l=0;l<i.minorTicksPerInterval;l++)u<ft&&u>k&&(c=Math.ceil((u-k)/(ft-k)*i.height),i.minorTickLines&&i.minorTickLines.visible&&i.minorTickLines.visible&&(v=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?i.opposedPosition?i.minorTickLines.size:-i.minorTickLines.size:i.opposedPosition?-i.minorTickLines.size:i.minorTickLines.size,w.append("M "+(Math.floor(v+f)+e)+" "+(Math.floor(c*-1+s)+e)+" L "+(f+e)+" "+(Math.floor(c*-1+s)+e)+" "))),d+=ot,u=ej.EjSvgRender.utils._logBase(d,i.logBase)}else for(l=0,u=o;l<i.minorTicksPerInterval;l++)u+=i.visibleRange.interval/(i.minorTicksPerInterval+1),u<i.visibleRange.max&&u>i.visibleRange.min&&(c=(u-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorTickLines.visible&&(v=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?i.opposedPosition?i.minorTickLines.size:-i.minorTickLines.size:i.opposedPosition?-i.minorTickLines.size:i.minorTickLines.size,w.append("M "+(Math.floor(v+f)+e)+" "+(Math.floor(c*-1+s)+e)+" L "+(f+e)+" "+(Math.floor(c*-1+s)+e)+" ")));(i.majorTickLines.visible||i.majorGridLines.visible)&&(a=this._getSharpPath(i.minorTickLines.width),ct=this._getSharpPath(i.majorGridLines.width),i.majorTickLines.visible&&(y=ej.EjSvgRender.utils._getPointXY(o,i.visibleRange,i.isInversed)*i.height,i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?g=i.opposedPosition?i.majorTickLines.size+i.axisLine.width/2:-(i.majorTickLines.size+i.axisLine.width/2):(i.tickLinesPosition=="inside"&&i.labelPosition!="inside"||i.tickLinesPosition=="inside"&&i.labelPosition=="inside")&&(g=i.opposedPosition?-(i.majorTickLines.size+i.axisLine.width/2):i.majorTickLines.size+i.axisLine.width/2),ut.append("M "+(Math.floor(g+f)+a)+" "+(Math.floor(y*-1+s)+a)+" L "+(Math.floor(f+(i.opposedPosition?i.axisLine.width/2:i.axisLine.width/2))+a)+" "+(Math.floor(y*-1+s)+a)+" ")))}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(rt=w.toString(),nt={id:this.svgObject.id+"_YAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:rt},i.tickLinesPosition=="inside"?this.svgRenderer.drawPath(nt,b):this.svgRenderer.drawPath(nt,r));i.majorTickLines.visible&&i.visible&&(it=ut.toString(),tt={id:this.svgObject.id+"_YAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:it},i.tickLinesPosition=="inside"?this.svgRenderer.drawPath(tt,b):this.svgRenderer.drawPath(tt,r));r?n(r).appendTo(this.gYaxisEle):n(b).appendTo(this.gYaxisTickEle)},_drawYAxisGridLine:function(t,i){var ut="",ft="",et=0,o=Math.floor(i.y+i.height),wt=Math.floor(i.y),u=[],w,b,ht,s,v,kt,e,y,f,gt,h,it,vt,r,a,p,yt,pt,rt;t==1||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?t==1||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?(w=Math.floor(i.x),b=Math.floor(i.x)):(w=i.opposedPosition?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size),b=i.opposedPosition?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size)):(w=i.opposedPosition?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),b=i.opposedPosition?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing));var d=ej.EjSvgRender.utils._getStringBuilder(),ot=ej.EjSvgRender.utils._getStringBuilder(),c=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+t}),g=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisAlternateGridBand_"+t});if(i.axisLine.visible){var st=i.axisLine.offset,k=this._getSharpPath(i.axisLine.width),bt={id:this.svgObject.id+i.name+"_YAxisLine",x1:w+k,y1:wt-i.plotOffset+st+k,x2:b+k,y2:o+i.plotOffset-st+k,"stroke-width":i.axisLine.width,"stroke-dasharray":i.axisLine.dashArray,stroke:i.axisLine.color,opacity:this.vmlRendering?.1:i.axisLine.opacity};this.svgRenderer.drawLine(bt,c)}for(i.axisBottomLine&&i.axisBottomLine.visible&&(ht={id:this.svgObject.id+i.name+"_YAxisBottomLine",x1:this.model.m_AreaBounds.X,y1:o,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:o,"stroke-width":i.axisBottomLine.width,stroke:i.axisBottomLine.color},this.svgRenderer.drawLine(ht,c)),i.tickLinesPosition!="inside"&&this._drawYAxisTickLine(t,i,c),r=0;r<i.visibleLabels.length;r++)if(s=i.visibleLabels[r].Value,s=i.roundingPlaces?parseFloat(s.toFixed(i.roundingPlaces)):parseFloat(s.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(s,i.visibleRange)){if(i.hidePartialLabels&&(r==0||r==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(kt=this._getSharpPath(i.minorTickLines.width),e=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){f=s;var ct=i.visibleRange.max,nt=i.visibleRange.min,lt=Math.pow(i.logBase,f-i.visibleRange.interval),dt=Math.pow(i.logBase,f),at=(dt-lt)/(i.minorTicksPerInterval+1),tt=lt+at;for(f=ej.EjSvgRender.utils._logBase(tt,i.logBase),y=0;y<i.minorTicksPerInterval;y++)f<ct&&f>nt&&(v=Math.ceil((f-nt)/(ct-nt)*i.height),i.minorGridLines.visible&&d.append("M "+(Math.floor(this.model.m_AreaBounds.X)+e)+" "+(Math.floor(v*-1+o)+e)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+e)+" "+(Math.floor(v*-1+o)+e)+" ")),tt+=at,f=ej.EjSvgRender.utils._logBase(tt,i.logBase)}else for(y=0,f=s;y<i.minorTicksPerInterval;y++)f+=i.visibleRange.interval/(i.minorTicksPerInterval+1),f<i.visibleRange.max&&f>i.visibleRange.min&&(v=(f-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorGridLines.visible&&d.append("M "+(Math.floor(this.model.m_AreaBounds.X)+e)+" "+(Math.floor(v*-1+o)+e)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+e)+" "+(Math.floor(v*-1+o)+e)+" "));if((i.majorTickLines.visible||i.majorGridLines.visible)&&(gt=this._getSharpPath(i.minorTickLines.width),h=this._getSharpPath(i.majorGridLines.width),i.majorGridLines.visible)){et=ej.EjSvgRender.utils._getPointXY(s,i.visibleRange,i.isInversed)*i.height;var ni=Math.floor(this.model.m_AreaBounds.X)+h,l=Math.floor(et*-1+o),ti=Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+h;if(r==0){if(l==Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height))continue;i.zoomed&&(u[0]=l+h)}if(r==i.visibleLabels.length-1&&this.model.chartArea.border.color!="transparent"&&this.model.chartArea.border.width>0&&l==Math.floor(this.model.m_AreaBounds.Y)){u.push(l+h);continue}if(ot.append("M "+ni+" "+(l+h)+" L "+ti+" "+(l+h)+" "),r==0)continue;u.push(l+h)}}if(i.alternateGridBand.odd.fill!="transparent"||i.alternateGridBand.even.fill!="transparent"){for(it=this.model.m_AreaBounds.Width,i.zoomed&&(u[u.length]=i.y),r=1;r<u.length;r+=2)a=u[0]-u[1],r==u.length-1&&i.zoomed&&(p=u[u.length-2]-i.y,a=p),vt={id:this.svgObject.id+"_YAxisAlternateodd"+[r],x:Math.floor(this.model.m_AreaBounds.X),y:u[r],width:it,height:a,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(vt,g);for(r=0;r<u.length;r+=2)a=u[0]-u[1],r==u.length-1&&i.zoomed&&(p=u[u.length-2]-i.y,a=p),r==0&&i.zoomed&&(p=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height-u[0]-i.plotOffset,a=p),yt={id:this.svgObject.id+"_YAxisAlternateeven"+[r],x:Math.floor(this.model.m_AreaBounds.X),y:u[r],width:it,height:a,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(yt,g);n(g).appendTo(c)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(ft=d.toString(),pt={id:this.svgObject.id+"_YAxisMinorGridLines",fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:ft},this.svgRenderer.drawPath(pt,c));ut=ot.toString();i.majorGridLines.visible&&(rt={id:this.svgObject.id+"_YAxisMajorGridLines",fill:"none","stroke-width":i.majorGridLines.width,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,stroke:i.majorGridLines.color,d:ut},rt.d!=""&&this.svgRenderer.drawPath(rt,c));n(c).appendTo(this.gYaxisEle)},_drawXAxisLabels:function(t,i){var w=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),ei=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),s=[],h,e,u,v,f,r,gt,vt,et,y,st,ht,c,ct,ot,it;for(i.y=t==0||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?t==0||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?Math.floor(i.y):i.opposedPosition?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size):i.opposedPosition?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),h=0;h<i.visibleLabels.length;h++)if(e=i.visibleLabels[h],u=e.displayText=e.Text,ej.EjSvgRender.utils._inside(e.Value,i.visibleRange)){var wt=i.width/i.visibleLabels.length,bt=i.visibleRange,nt=this.model.m_AreaBounds.Width,rt=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(e.Value,bt,i.isInversed)*i.width)),lt=ej.EjSvgRender.utils._measureText(u,nt,i.font),a=lt.width,o=lt.height,dt=i._LableMaxWidth,b=dt.height,k=dt.rows,kt=this.svgRenderer.vmlNamespace,l=i.opposedPosition,d=i.axisLine.width,g=i.font,ut=i.labelRotation,tt=0,at=!1;this.edgeLabel=!1;var ft=a/2,ii=this.model.m_AreaBounds.Width,ri=this.model.m_AreaBounds.X;if(!ej.util.isNullOrUndefined(e.Text)){if(v=rt+i.x-ft,i.labelPosition=="inside"&&i.tickLinesPosition=="inside"||i.labelPosition=="inside"&&i.tickLinesPosition!="inside"&&i.labelIntersectAction=="multiplerows"?f=l?i.y+i.majorTickLines.size+o/2+d/2+b/(2*k)-5:i.y-i.majorTickLines.size-d/2-b/(2*k)+5:i.labelPosition=="inside"&&i.tickLinesPosition!="inside"?f=l?i.y+o/2+d/2+b/(2*k)-5:i.y-d/2-b/(2*k)+5:i.labelPosition!="inside"&&i.tickLinesPosition!="inside"||i.labelPosition!="inside"&&i.tickLinesPosition=="inside"&&i.labelIntersectAction=="multiplerows"?f=l?i.y-i.majorTickLines.size+o/2-d/2-b/(2*k)-5:i.y+i.majorTickLines.size+d/2+b/(2*k)+5:i.labelPosition!="inside"&&i.tickLinesPosition=="inside"&&(f=l?i.y+o/2-d/2-b/(2*k)-5:i.y+d/2+b/(2*k)+5),i.labelPosition=="inside"&&i.tickLinesPosition!="inside"?(i.labelRotation==90||i.labelIntersectAction=="rotate90")&&(f=l?f:f-i.majorTickLines.size):i.labelPosition!="inside"&&i.tickLinesPosition=="inside"?(i.labelRotation==90||i.labelIntersectAction=="rotate90")&&(f=l?f-i.majorTickLines.size:f-i.majorTickLines.size):i.labelPosition=="inside"&&i.tickLinesPosition=="inside"&&(i.labelRotation==90||i.labelIntersectAction=="rotate90")&&(f=l?f:f-i.majorTickLines.size),r={id:this.svgObject.id+"_"+i.name+"_XLabel_"+h,x:v,y:f,fill:g.color,"font-size":g.size,"font-family":g.fontFamily,"font-style":g.fontStyle,"font-weight":g.fontWeight,opacity:g.opacity},i.edgeLabelPlacement){gt=i.edgeLabelPlacement.toLowerCase();vt=i.visibleLabels.length-1;switch(gt){case"shift":h==0?r.x<i.x&&(et=i.x-r.x,r.x=v=r.x+et,this.diff=et,this.edgeLabel=!0):h==vt&&r.x+lt.width>i.x+i.width&&(et=r.x+lt.width-(i.x+i.width),r.x=v=r.x-et,this.diff=et,this.edgeLabel=!0);break;case"hide":(h==0&&r.x<i.x||h==vt&&r.x+a>ii+ri)&&(u="")}}if(!kt&&ut&&ut!=0&&this.labelRotation(i,v+ft,f,r,e,ut),i.labelIntersectAction)if(this.diff=ej.util.isNullOrUndefined(this.diff)?0:this.diff,y=i.labelIntersectAction.toLowerCase(),y=="none"){this.svgRenderer.drawText(r,u,w);i.labelPosition=="inside"?n(w).appendTo(this.gXaxisTickEle):n(w).appendTo(this.gXaxisEle);continue}else if(y=="trim"){if(a>wt&&u!=""){for(st=1;st<u.toString().length;st++)if(u=e.displayText.toString().substring(0,st)+"... ",a=ej.EjSvgRender.utils._measureText(u,nt,g).width,a>=wt){u=u.toString().substring(0,st-1)+"... ";e.displayText=u;break}e.displayText=u}v=this.edgeLabel?r.x=h==vt?v+ft:v:r.x=v+ft-a/2}else if(y=="wrap"){var yt=this.rowscalculation(u.toString(),nt,i,wt,r),tt=yt.length;for(r.y=i.labelPosition!="inside"?l?r.y+o:r.y-o:l?r.y-o:r.y-o*tt,c=0;c<yt.length;c++)i.labelPosition!="inside"?(r.y=i.opposedPosition?r.y-o:r.y+o,this.svgRenderer.drawText(r,yt[c],w)):(r.y=i.opposedPosition?r.y+o:r.y+o,this.svgRenderer.drawText(r,yt[c],w),tt-=1);continue}else if(ut==0||kt||y!="rotate90")if(ut==0||kt||y!="rotate45"){if(y=="hide")for(ht=0;ht<h;ht++){ot=i.visibleLabels[ht];it=0;l=i.opposedPosition;nt=this.model.m_AreaBounds.Width;var ni=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ot.Value,bt,i.isInversed)*i.width)),pt=ej.EjSvgRender.utils._measureText(ot.displayText,nt,i.font).width,p=ni+(i.isInversed?-pt/2:pt/2);p=ht==0?p+this.diff:p;y=="hide"&&(i.isInversed?p<rt+a/2:p>rt-a/2)&&(e.displayText=u="")}else if(y=="multiplerows"){for(c=0;c<s.length&&!at;c++)for(ct=0;s[c]&&ct<s[c].length;ct++){ot=s[c][ct];it=0;l=i.opposedPosition;nt=this.model.m_AreaBounds.Width;var ni=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ot.Value,bt,i.isInversed)*i.width)),pt=ej.EjSvgRender.utils._measureText(ot.displayText,nt,i.font).width,p=ni+(i.isInversed?-pt/2:pt/2);if((this.edgeLabel||s.length==1)&&(p=p+this.diff),i.isInversed?p<rt+a/2:p>rt-a/2)if(l){it=i.labelPosition!="inside"?r.y-o:r.y+o;r.y=it;c+1==s.length&&(at=!0);tt++;break}else{it=i.labelPosition!="inside"?r.y+o:r.y-o;r.y=it;c+1==s.length&&(at=!0);tt++;break}else if(ct+1==s[c].length){at=!0;break}}it==undefined?(s[0]==undefined&&(s[0]=[]),s[0].push(e)):(s[tt]==undefined&&(s[tt]=[]),s[tt].push(e))}}else this.labelRotation(i,v+ft,f,r,e,45,h);else this.labelRotation(i,v+ft,f,r,e,90,h);this.edgeLabel||this.zoomed||i.zoomed||ut||!(rt+i.x+a/2>n(this.svgObject).width())||(n(r).attr("x",n(this.svgObject).width()-2),n(r).attr("text-anchor","end"));i.visibleLabels[h].y=r.y;this.svgRenderer.drawText(r,u,w);var ti=ej.EjSvgRender.utils._measureText(u,null,g),ui={X:r.x,Y:r.y,Width:ti.width,Height:ti.width},fi={Bounds:ui,TrimText:u,LabelText:e.Text};this.model.xAxisLabelRegion.push(fi)}}i.labelPosition=="inside"?n(w).appendTo(this.gXaxisTickEle):n(w).appendTo(this.gXaxisEle)},rowscalculation:function(n,t,r,u,f){var l=ej.EjSvgRender.utils._measureText(n,t,r.font),h=l.width,v=h/2,o=n.toString(),y=o.length,p=l.height,c=[],s,e,a;if(i=0,s=0,this.edgeLabel&&(u=i==0?u-this.diff:u),h>u)for(f.x=f.x+v,s=0,this.edgeLabel&&(f.x=i==0?f.x-this.diff:f.x+this.diff),e=1;e<=o.length;e++)n=o.substring(0,e),h=ej.EjSvgRender.utils._measureText(n,t,r.font).width,h>u&&(s=s+1,count=1,n=o.substring(0,e-1),c[i]=n,o=o.slice(e-1,y),a=ej.EjSvgRender.utils._measureText(n,t,r.font).width,s==1&&(f.x=f.x-a/2),i++,e=0);return c[i]=n,c},labelRotation:function(t,i,r,u,f,e,o){var h=f.Text,c=e>360?e-360:e<-360?e+360:e,l="rotate("+c+","+i+","+r+")",v,s,a;n(u).attr("transform",l);n(u).attr("labelRotation",c);v=this.svgRenderer.createText(u,h);s=Math.ceil(ej.EjSvgRender.utils._measureBounds(v,this).height-ej.EjSvgRender.utils._measureText(h,null,t.font).height);s=t._LableMaxWidth.height-s-ej.EjSvgRender.utils._measureText(h,null,t.font).height;a=t.labelPosition!="inside"?t.opposedPosition?s/2:-s/2:t.opposedPosition?-s/2:s/2;l="rotate("+c+","+i+","+(r+a)+")";this.edgeLabel&&e==90&&(r=o==0?u.y+this.diff:u.y-this.diff);n(u).attr({transform:l,y:r+a})},_drawYAxisLabels:function(t,i){var w=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+t}),u,o,nt,v,y,b,r,rt,tt,a,k,p;for(i.x=t==1||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?t==1||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&i.x!=this.model.m_AreaBounds.X||i.labelPosition=="inside"||i.tickLinesPosition!="inside"?Math.floor(i.x):i.opposedPosition?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size):i.opposedPosition?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),u=0;u<i.visibleLabels.length;u++)if(o=i.visibleLabels[u],nt=i.visibleRange,ej.EjSvgRender.utils._inside(o.Value,nt)){var ut=Math.abs(ej.EjSvgRender.utils._getPointXY(o.Value,nt,i.isInversed)*i.height),ft=ej.EjSvgRender.utils._measureText(o.Text,this.model.m_AreaBounds.Height,i.font),s=ft.height,f=i.opposedPosition,l=i.font,et=i.visibleRange,h=i.axisLine.width,it=i._LableMaxWidth,st=it.height,ht=it.rows;if(i.labelPosition=="inside"&&i.tickLinesPosition=="inside"?(v=f?i.x-i.majorTickLines.size-h/2-5:i.x+h/2+5+i.majorTickLines.size,y=f?"end":"start"):i.labelPosition=="inside"&&i.tickLinesPosition!="inside"?(v=f?i.x-h/2-5:i.x+h/2+5,y=f?"end":"start"):i.tickLinesPosition=="inside"&&i.labelPosition!="inside"?(v=f?h/2+i.x+5:i.x-h/2-5,y=f?"start":"end"):(v=f?i.majorTickLines.size+h/2+i.x+5:i.x-h/2-5-i.majorTickLines.size,y=f?"start":"end"),b=ut*-1+(i.y+i.height)+s/4,r={id:this.svgObject.id+"_YLabel_"+t+"_"+u,x:v,y:b,fill:l.color,"font-size":l.size,"font-family":l.fontFamily,"font-style":l.fontStyle,"font-weight":l.fontWeight,opacity:l.opacity,"text-anchor":y},i.edgeLabelPlacement){rt=i.edgeLabelPlacement.toLowerCase();tt=i.visibleLabels.length-1;switch(rt){case"shift":u==0?r.y>i.y+i.height&&(a=r.y-(i.y+i.height),r.y=b=r.y-a,this.diff=a,this.edgeLabel=!0):u==tt&&r.y-s/2<i.y&&(a=i.y-(r.y-s/2),r.y=b=r.y+a,this.diff=a,this.edgeLabel=!0);break;case"hide":(u==0&&r.y>i.y+i.height||u==tt&&r.y-s/2<this.model.m_AreaBounds.Y)&&(o.Text="")}}if(i.labelIntersectAction){if(k=="none"){this.svgRenderer.drawText(r,o.Text,w);continue}for(k=i.labelIntersectAction.toLowerCase(),p=0;p<u;p++){var c=i.visibleLabels[p],d=0,ot=Math.abs(ej.EjSvgRender.utils._getPointXY(c.Value,et,i.isInversed)*i.height),g=ej.EjSvgRender.utils._measureText(c.Text,this.model.m_AreaBounds.Height,l).height,e=ot*-1+(i.y+i.height)+g/4;e=e+(i.isInversed?g/2:-g/2);this.edgeLabel&&(e=p==0?e-g/4:e);k=="hide"&&c.Text.toString()!=""&&(i.isInversed?e>r.y-s/4:e<r.y+s/4)?o.Text="":k=="multiplerows"&&(i.isInversed?e>r.y-s/4:e<r.y+s/4)&&c.x==r.x&&(f?(d=i.labelPosition!="inside"?c.x+i._LableMaxWidth.maxWidth+5:c.x-i._LableMaxWidth.maxWidth-5,r.x=d):(d=i.labelPosition!="inside"?c.x-i._LableMaxWidth.maxWidth-5:c.x+i._LableMaxWidth.maxWidth+5,r.x=d))}}i.visibleLabels[u].x=r.x;this.svgRenderer.drawText(r,o.Text,w)}i.labelPosition=="inside"?n(w).appendTo(this.gYaxisTickEle):n(w).appendTo(this.gYaxisEle)},_drawXTitle:function(t,i){var e,f;if(i.title.text!=""&&i.title.text){var o=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTitle_"+t}),l=this.model.elementSpacing+i._LableMaxWidth.height,r=ej.EjSvgRender.utils._measureText(i.title.text,i.width,i.title.font).height/2,u=n.extend({},ej.EjSvgRender.commonChartEventArgs),e=this.model.elementSpacing+i._LableMaxWidth.height+r+i.majorTickLines.size+i.axisLine.width;if(i.tickLinesPosition=="inside"&&i.labelPosition=="inside"&&(t==0||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y)?e=this.model.elementSpacing+r+i.axisLine.width:(t==0||i.y==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.y==this.model.m_AreaBounds.X)&&i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?e=this.model.elementSpacing+r+i.majorTickLines.size+i.axisLine.width:(t==0||i.y==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.y==this.model.m_AreaBounds.X)&&i.tickLinesPosition=="inside"&&i.labelPosition!="inside"?e=this.model.elementSpacing+i._LableMaxWidth.height+r+i.axisLine.width:(i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||t!=1)&&(e=this.model.elementSpacing+i._LableMaxWidth.height+r+i.majorTickLines.size+i.axisLine.width),u.data={title:i.title.text,location:{x:i.width/2,y:e},axes:i},this._trigger("axesTitleRendering",u),f={id:this.svgObject.id+"_XAxisTitle_"+t,x:u.data.location.x+i.x,y:i.opposedPosition?i.y-u.data.location.y:u.data.location.y+i.y,fill:i.title.font.color,"font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":"middle","dominant-baseline":"middle"},this.model.enableCanvasRendering){var h=jQuery.uaMatch(navigator.userAgent),c=!!navigator.userAgent.match(/Trident\/7\./),s=h.browser.toLowerCase();s=="msie"||c||(f.y=i.opposedPosition?f.y+r/2+1:f.y+r/2+(s=="mozilla"?1:-2))}n(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).length>0?n(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).attr(f):this.svgRenderer.drawText(f,u.data.title,o);n(o).appendTo(this.gXaxisEle)}},_drawYTitle:function(t,i){var o,e,r,u;if(i.title.text!=""&&i.title.text){o=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTitle_"+t});e=ej.EjSvgRender.utils._measureText(i.title.text,i.height,i.title.font);i.tickLinesPosition=="inside"&&i.labelPosition=="inside"&&(t==1||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X)?r=i.opposedPosition?i.x+(3*this.model.elementSpacing+i.axisLine.width-5):i.x-(3*this.model.elementSpacing+i.axisLine.width):(t==1||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X)&&i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?r=i.opposedPosition?i.x+(3*this.model.elementSpacing+i.majorTickLines.size+i.axisLine.width):i.x-(3*this.model.elementSpacing+i.majorTickLines.size+i.axisLine.width):(t==1||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X)&&i.tickLinesPosition=="inside"&&i.labelPosition!="inside"?r=i.opposedPosition?i.x+(3*this.model.elementSpacing+i._LableMaxWidth.width+i.axisLine.width):i.x-(3*this.model.elementSpacing+i._LableMaxWidth.width+i.axisLine.width):(i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||t!=1)&&(r=i.opposedPosition?i.x+(3*this.model.elementSpacing+i._LableMaxWidth.width+i.majorTickLines.size+i.axisLine.width):i.x-(3*this.model.elementSpacing+i._LableMaxWidth.width+i.majorTickLines.size+i.axisLine.width));u=n.extend({},ej.EjSvgRender.commonChartEventArgs);u.data={title:i.title.text,location:{x:e.width/2,y:0},axes:i};this._trigger("axesTitleRendering",u);var s=u.data.location.y+(i.y+i.height)+i.height/-2,h=i.opposedPosition?90:-90,f={id:this.svgObject.id+"_YAxisTitle_"+t,x:r,y:s,fill:i.title.font.color,labelRotation:h,transform:"rotate("+h+","+r+","+s+")","font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":"middle","dominant-baseline":"middle"};if(this.model.enableCanvasRendering){var l=jQuery.uaMatch(navigator.userAgent),a=!!navigator.userAgent.match(/Trident\/7\./),c=l.browser.toLowerCase();c=="msie"||a||(f.x=i.opposedPosition?f.x-e.height/4+1:f.x+e.height/4+(c=="mozilla"?1:-2))}n(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).length>0?n(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).attr(f):this.svgRenderer.drawText(f,u.data.title,o);n(o).appendTo(this.gYaxisEle)}}};ej.EjStripline.prototype={_drawStripline:function(n,t){var i=0,f=0,g=0,r=0,l=0,a=0,u=0,c=0,o=0,s=0,e,v,h,nt,y,p,w,tt,b,k,d,it;if(t.visible&&(e=t.zIndex=="over"?this.gStriplineOver:this.gStriplineBehind,e=ej.util.isNullOrUndefined(e)?"":e,v=!0,n.orientation.toLowerCase()=="horizontal"?(h=0,t.startFromAxis?(nt=ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset,h=(nt-n.visibleRange.min)/n.visibleRange.delta*n.width+n.x,c=(nt+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/n.visibleRange.delta*n.width):ej.util.isNullOrUndefined(t.start)&&(ej.util.isNullOrUndefined(t.end)||ej.util.isNullOrUndefined(t.width))?v=!1:(t.start=jQuery.type(t.start)=="date"?t.start.getTime():t.start,ej.util.isNullOrUndefined(t.end)||jQuery.type(t.end)!="date"||(t.end=t.end.getTime()),h=ej.EjSvgRender.utils._getPointXY(t.start,n.visibleRange,n.isInversed)*n.width+n.x,y=ej.EjSvgRender.utils._getPointXY(t.end,n.visibleRange,n.isInversed)*n.width+n.x,p=ej.EjSvgRender.utils._getPointXY(t.start+(ej.util.isNullOrUndefined(t.width)?0:t.width),n.visibleRange,n.isInversed)*n.width+n.x,c=(n.isInversed?y<p:y>p)?Math.abs(h-y):Math.abs(h-p)),u=c,f=this.chart.model.m_AreaBounds.Height,i=n.isInversed?h-c:h,r=this.chart.model.m_AreaBounds.Y,g=-90,w=ej.EjSvgRender.utils._measureText(t.text,null,t.font).height,t.textAlignment=="middletop"?(o=i+w,s=Math.abs(r+f/2)):t.textAlignment=="middlecenter"?(o=Math.floor(i+u/2)+w/3,s=Math.abs(r+f/2)):t.textAlignment=="middlebottom"&&(o=i+u-w,s=Math.abs(r+f/2))):(t.startFromAxis?(tt=ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset,l=n.y+n.height-(tt-n.visibleRange.min)/n.visibleRange.delta*n.height,c=(tt+(ej.util.isNullOrUndefined(t.width)?0:t.width)-n.visibleRange.min)/n.visibleRange.delta*n.height,a=c):ej.util.isNullOrUndefined(t.start)&&(ej.util.isNullOrUndefined(t.end)||ej.util.isNullOrUndefined(t.width))?v=!1:(t.start=jQuery.type(t.start)=="date"?t.start.getTime():t.start,ej.util.isNullOrUndefined(t.end)||jQuery.type(t.end)!="date"||(t.end=t.end.getTime()),l=n.y+n.height-ej.EjSvgRender.utils._getPointXY(t.start,n.visibleRange,n.isInversed)*n.height,b=n.y+n.height-ej.EjSvgRender.utils._getPointXY(ej.util.isNullOrUndefined(t.end)?0:t.end,n.visibleRange,n.isInversed)*n.height,k=n.y+n.height-ej.EjSvgRender.utils._getPointXY(t.start+(ej.util.isNullOrUndefined(t.width)?0:t.width),n.visibleRange,n.isInversed)*n.height,a=(n.isInversed?b>k:b<k)?Math.abs(l-b):Math.abs(l-k)),f=a,i=this.chart.model.m_AreaBounds.X,u=this.chart.model.m_AreaBounds.Width,r=l+(n.isInversed?0:-a),d=ej.EjSvgRender.utils._measureText(t.text,u,t.font).height,t.textAlignment=="middletop"?(o=i+u/2,s=r+d):t.textAlignment=="middlecenter"?(o=i+u/2,s=Math.abs(r+f/2)+d/3):t.textAlignment=="middlebottom"&&(o=i+u/2,s=r+f-d)),v))if(ej.util.isNullOrUndefined(t.imageUrl)){var rt={id:e.id+"_striplineRect",x:i,y:r,width:u,height:f,fill:t.color,opacity:t.opacity,"stroke-width":t.borderWidth,stroke:t.borderWidth==0?"transparent":t.borderColor},ut={id:e.id+"_striplineRectText",x:o,y:s,fill:t.font.color,transform:"rotate("+g+","+o+","+s+")",labelRotation:g,"font-size":t.font.size,"font-family":t.font.fontFamily,"font-style":t.font.fontStyle,"font-weight":t.font.fontWeight,"text-anchor":"middle"},ft={X:i,Y:r,Width:u,Height:f},et=t.zIndex=="over"?!0:!1;ej.EjSvgRender.utils.AddRegion(this.chart,ft,et);this.svgRenderer.drawRect(rt,e);this.svgRenderer.drawText(ut,t.text,e)}else it={height:f,width:u,href:t.imageUrl,x:i,y:r,id:e.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},this.svgRenderer.drawImage(it,e)}}}(jQuery);ej.EjLegendRender=function(n){this.chartObj=n},function(n){ej.EjLegendRender.prototype={drawLegendTitle:function(){var r=this.chartObj.model.legend.title,u=this.chartObj.model.LegendBounds.Width,t=ej.EjSvgRender.utils._measureText(r.text,null,this.chartObj.model.legend.title.font),f,n,i,e;n=this.chartObj.model.elementSpacing/2;f=this.chartObj.model.elementSpacing+t.height/2;n=this.chartObj.model.legend.title.textAlignment.toLowerCase()=="near"?this.chartObj.model.elementSpacing/2:this.chartObj.model.legend.title.textAlignment.toLowerCase()=="far"?u-t.width-this.chartObj.model.elementSpacing/2:u/2-t.width/2;n<0&&(n=0,this.chartObj.model.LegendBounds.Width=t.width);this.chartObj.model.LegendBounds.Width<t.width+n&&(this.chartObj.model.LegendBounds.Width=t.width+n);i=this.chartObj.model.legend.title.font;e={id:this.chartObj.svgObject.id+"_LegendTitleText",x:n,y:f,fill:i.color,"font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":"start",lgndCtx:!0};this.chartObj.svgRenderer.drawText(e,r.text,this.chartObj.gLegendEle)},drawLegendItem:function(t,i,r){var s=this.chartObj.model.legend.itemStyle,p=this.chartObj.model.elementSpacing,c={startX:i+s.width/2,startY:r+s.height/2},e=this.chartObj.model.series,l={ShapeSize:s,ElementSpace:p,Style:t.LegendStyle,Gradient:t.Gradient,SeriesIndex:t.SeriesIndex,context:!0},f,h,a,u,v;for(name in this.chartObj.model.symbolShape)if(t.Shape.toLowerCase()==name.toLowerCase()){f=name.toLowerCase()=="seriestype"?"SeriesType":name;break}f=="SeriesType"&&((e[t.SeriesIndex].type.toLowerCase()=="radar"||e[t.SeriesIndex].type.toLowerCase()=="polar")&&(h=e[t.SeriesIndex].drawType,f=this.capitalizeFirstString(h)),e[t.SeriesIndex].type.toLowerCase()=="scatter"&&(h=e[t.SeriesIndex].marker.shape,f=this.capitalizeFirstString(h)));f=="None"&&(f=e[t.SeriesIndex].type.toLowerCase()=="pie"||e[t.SeriesIndex].type.toLowerCase()=="doughnut"?"Circle":"Rectangle");a=ej.util.isNullOrUndefined(t.PointIndex)?t.SeriesIndex:t.PointIndex;this.chartObj.gLegendItemEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_Legend"+a,cursor:"pointer"});u=n.extend({},ej.EjSvgRender.commonChartEventArgs);u.data={legendItem:t,location:c,legend:!0,model:this.chartObj.model,svgRenderer:this.chartObj.svgRenderer,svgObject:this.chartObj.svgObject,symbolShape:f,style:l,gLegendItemEle:this.chartObj.gLegendItemEle};this.chartObj._trigger("legendItemRendering",u);ej.EjSvgRender.chartSymbol["_draw"+u.data.symbolShape](u.data.location,u.data.style,u.data,this.chartObj.gLegendItemEle);v=t.LegendStyle.Color&&t.LegendStyle.Color.toLowerCase()!=="gray"&&this.chartObj.model.enableCanvasRendering?this.chartObj.model.legend.font.color:t.LegendStyle.Color&&t.LegendStyle.Color.toLowerCase()!=="gray"?this.chartObj.model.legend.font.color:"gray";var o=this.chartObj.model.legend.font,w=u.data.legendItem,b=ej.EjSvgRender.utils._measureText(w.Text,this.chartObj.model.LegendBounds.Width,o).height;(this.chartObj.model.legend.shape=="seriestype"||this.chartObj.model.legend.shape=="seriesType")&&(i+=this.chartObj.model.legend.itemPadding/2);var k=t.PointIndex,y={id:this.chartObj.svgObject.id+"_LegendItemText"+k,x:s.width+i+this.chartObj.model.legend.itemPadding/2,y:u.data.location.startY,fill:v,"font-size":o.size,"font-style":o.fontStyle,"font-family":o.fontFamily,"font-weight":o.fontWeight,"text-anchor":"start",lgndCtx:!0},it=jQuery.uaMatch(navigator.userAgent),rt=!!navigator.userAgent.match(/Trident\/7\./);y.y=u.data.location.startY+b/4;this.chartObj.svgRenderer.drawText(y,u.data.legendItem.Text,this.chartObj.gLegendItemEle);this.chartObj.svgRenderer.append(this.chartObj.gLegendItemEle,this.chartObj.gLegendEle);var d={X:this.chartObj.model.LegendBounds.X+this.chartObj.model.legend.border.width,Y:this.chartObj.model.LegendBounds.Y+this.chartObj.model.legend.border.width},g={X:i,Y:r},nt={LegendBound:d,ItemBound:g},tt={LegendItem:t,Location:c,SymbolShape:f,Style:l,Bounds:nt};this.chartObj.model.legendRegion.push(tt)},capitalizeFirstString:function(n){return n.charAt(0).toUpperCase()+n.slice(1)},drawLegend:function(){var v=this.chartObj.model.title.subTitle.text==""?0:ej.EjSvgRender.utils._measureText(this.chartObj.model.title.subTitle.text,n(this.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right,this.chartObj.model.title.subTitle.font).height+this.chartObj.model.elementSpacing,o,r,f,i,c,l,e,u,a,h,t,s;if(!ej.util.isNullOrUndefined(this.chartObj.model.legend)&&this.chartObj.model.legend.visible){if(f=this.chartObj.model.legend.title,o=ej.EjSvgRender.utils._measureText(f.text,null,this.chartObj.model.legend.title.font).height,this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.bottom?(this.chartObj.model.LegendBounds.Y=n(this.chartObj.svgObject).height()-this.chartObj.model.elementSpacing*1.5-this.chartObj.model.LegendViewerBounds.Height-o,this.chartObj.model.LegendBounds.X=n(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendViewerBounds.Width/2):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.top?(this.chartObj.model.LegendBounds.Y=(this.chartObj.model._titleLocation?this.chartObj.model._titleLocation.Y:0)+v+this.chartObj.model.elementSpacing,this.chartObj.model.LegendBounds.X=n(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendViewerBounds.Width/2):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.right?(this.chartObj.model.LegendBounds.Y=n(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendViewerBounds.Height/2,this.chartObj.model.LegendBounds.X=n(this.chartObj.svgObject).width()-this.chartObj.model.elementSpacing-this.chartObj.model.LegendViewerBounds.Width):this.chartObj.model.legend.position.toLowerCase()==this.chartObj.model.legendPosition.left?(this.chartObj.model.LegendBounds.Y=n(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendViewerBounds.Height/2,this.chartObj.model.LegendBounds.X=this.chartObj.model.elementSpacing):(this.chartObj.model.LegendBounds.Y=this.chartObj.model.legend.location.y<n(this.chartObj.svgObject).height()?this.chartObj.model.legend.location.y:0,this.chartObj.model.LegendBounds.X=this.chartObj.model.legend.location.x<n(this.chartObj.svgObject).width()?this.chartObj.model.legend.location.x:0),this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"){if(this.chartObj.model.LegendBounds.Y=this.chartObj.model.legend.alignment.toLowerCase()=="center"?n(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendViewerBounds.Height/2:this.chartObj.model.legend.alignment.toLowerCase()=="near"?this.chartObj.model.m_Spacing.Top+this.chartObj.model.elementSpacing+this.chartObj.model.legend.itemPadding/2:n(this.chartObj.svgObject).height()-this.chartObj.model.m_Spacing.Bottom-this.chartObj.model.LegendViewerBounds.Height-this.chartObj.model.elementSpacing-5,this.chartObj.model.AreaType=="cartesianaxes"){if(this.chartObj.model.LegendBounds.Y<this.chartObj.model.m_AreaBounds.Y||this.chartObj.model.m_AreaBounds.Y+this.chartObj.model.LegendViewerBounds.Height>=this.chartObj.model.m_AreaBounds.Height)for(i=0,t=0;t<this.chartObj.model.legendCollection.length;t++){if(i+=this.chartObj.model.legendCollection[t].Bounds.Height,i>this.chartObj.model.m_AreaBounds.Height){i-=this.chartObj.model.legendCollection[t].Bounds.Height;break}this.chartObj.model.LegendViewerBounds.Height=i;this.chartObj.model.LegendBounds.Y=this.chartObj.model.m_AreaBounds.Height/2-this.chartObj.model.LegendViewerBounds.Height/2+this.chartObj.model.m_AreaBounds.Y}}else if(this.chartObj.model.LegendBounds.Y<0||this.chartObj.model.LegendBounds.Y+this.chartObj.model.LegendViewerBounds.Height>=n(this.chartObj.svgObject).height()){for(i=0,t=0;t<this.chartObj.model.legendCollection.length;t++)if(i+=this.chartObj.model.legendCollection[t].Bounds.Height,i>n(this.chartObj.svgObject).height()){i-=this.chartObj.model.legendCollection[t].Bounds.Height;break}this.chartObj.model.LegendViewerBounds.Height=i;this.chartObj.model.LegendBounds.Y=n(this.chartObj.svgObject).height()/2-this.chartObj.model.LegendViewerBounds.Height/2}}else if(this.chartObj.model.legend.position.toLowerCase()!="custom"){if(this.chartObj.model.LegendBounds.X=this.chartObj.model.legend.alignment.toLowerCase()=="center"?this.chartObj.model.AreaType=="cartesianaxes"?this.chartObj.model.m_AreaBounds.Width/2-this.chartObj.model.LegendViewerBounds.Width/2+this.chartObj.model.m_AreaBounds.X:n(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendViewerBounds.Width/2:this.chartObj.model.legend.alignment.toLowerCase()=="near"?this.chartObj.model.m_Spacing.Left+this.chartObj.model.elementSpacing+this.chartObj.model.legend.itemPadding/2:n(this.chartObj.svgObject).width()-this.chartObj.model.m_Spacing.Right-this.chartObj.model.LegendViewerBounds.Width-this.chartObj.model.elementSpacing-5,this.chartObj.model.AreaType=="cartesianaxes"){if(this.chartObj.model.LegendBounds.X<this.chartObj.model.m_AreaBounds.X||this.chartObj.model.m_AreaBounds.X+this.chartObj.model.LegendViewerBounds.Width>=this.chartObj.model.m_AreaBounds.Width){for(r=0,t=0;t<this.chartObj.model.legendCollection.length;t++)if(r+=this.chartObj.model.legendCollection[t].Bounds.Width,r>this.chartObj.model.m_AreaBounds.Width){r-=this.chartObj.model.legendCollection[t].Bounds.Width;break}this.chartObj.model.LegendViewerBounds.Width=r;this.chartObj.model.LegendBounds.X=this.chartObj.model.m_AreaBounds.Width/2-this.chartObj.model.LegendViewerBounds.Width/2+this.chartObj.model.m_AreaBounds.X}}else if(this.chartObj.model.LegendBounds.X<0||this.chartObj.model.LegendBounds.X+this.chartObj.model.LegendViewerBounds.Width>=n(this.chartObj.svgObject).width()){for(r=0,t=0;t<this.chartObj.model.legendCollection.length;t++)if(r+=this.chartObj.model.legendCollection[t].Bounds.Width,r>n(this.chartObj.svgObject).width()){r-=this.chartObj.model.legendCollection[t].Bounds.Width;break}this.chartObj.model.LegendViewerBounds.Width=r;this.chartObj.model.LegendBounds.X=n(this.chartObj.svgObject).width()/2-this.chartObj.model.LegendViewerBounds.Width/2}}else this.chartObj.model.LegendBounds.X+this.chartObj.model.LegendViewerBounds.Width>n(this.chartObj.svgObject).width()&&(this.chartObj.model.LegendViewerBounds.Width=n(this.chartObj.svgObject).width()-this.chartObj.model.LegendBounds.X),this.chartObj.model.LegendBounds.Y+this.chartObj.model.LegendViewerBounds.Height>n(this.chartObj.svgObject).height()&&(this.chartObj.model.LegendViewerBounds.Height=n(this.chartObj.svgObject).height()-this.chartObj.model.LegendBounds.Y);for(f=this.chartObj.model.legend.title,i=ej.EjSvgRender.utils._measureText(f.text,null,f.font).height,this.chartObj.legendSvgContainer.height=this.chartObj.model.LegendBounds.Height+i,this.chartObj.legendSvgContainer.width=this.chartObj.model.LegendBounds.Width,f.text!=""&&f.text&&this.drawLegendTitle(),c=this.chartObj.model.LegendBounds.X,l=this.chartObj.model.LegendBounds.Y,e=a=this.chartObj.model.legend.itemPadding,u=h=this.chartObj.model.legend.itemPadding,this.chartObj.model.legend.title.text!=""&&this.chartObj.model.legend.title.text!=null&&this.chartObj.model.legend.position.toLowerCase()!="custom"&&(u=h=this.chartObj.model.legend.itemPadding+o),t=0;t<this.chartObj.model.legendCollection.length;t++)s=this.chartObj.model.legend.position.toLowerCase(),s==this.chartObj.model.legendPosition.top||s==this.chartObj.model.legendPosition.bottom||s==this.chartObj.model.legendPosition.custom||this.chartObj.model.legend.rowCount||this.chartObj.model.legend.columnCount?(e+this.chartObj.model.legendCollection[t].Bounds.Width>this.chartObj.model.LegendBounds.Width+a&&(e=this.chartObj.model.legend.itemPadding,u+=this.chartObj.model.legendCollection[t].Bounds.Height),this.drawLegendItem(this.chartObj.model.legendCollection[t],e,u),e+=this.chartObj.model.legendCollection[t].Bounds.Width):(u+this.chartObj.model.legendCollection[t].Bounds.Height>this.chartObj.model.LegendBounds.Height+h&&(u=this.chartObj.model.legend.itemPadding,e=this.chartObj.model.legendCollection[t].Bounds.Width+this.chartObj.model.legend.itemPadding),this.drawLegendItem(this.chartObj.model.legendCollection[t],e,u),u+=this.chartObj.model.legendCollection[t].Bounds.Height);n(this.chartObj.legendContainer).removeAttr("style");n(this.chartObj.legendContainer).show();n(this.chartObj.legendContainer).css({position:"absolute",left:c,top:l,width:this.chartObj.model.LegendViewerBounds.Width,height:this.chartObj.model.LegendViewerBounds.Height+o,"border-width":this.chartObj.model.legend.border.width,"border-color":this.chartObj.model.legend.border.color,"border-style":"solid"});this.chartObj.model.LegendBounds.Height>this.chartObj.model.LegendViewerBounds.Height&&n(this.chartObj.legendContainer).css({"overflow-y":"auto"});this.chartObj.model.LegendBounds.Width>this.chartObj.model.LegendViewerBounds.Width&&n(this.chartObj.legendContainer).css({"overflow-x":"auto"});this.chartObj.model.LegendBounds.Width>this.chartObj.model.LegendViewerBounds.Width&&this.chartObj.model.LegendBounds.Height>this.chartObj.model.LegendViewerBounds.Height&&n(this.chartObj.legendContainer).css({overflow:"auto"});n(this.chartObj.legendSvgContainer).css({height:this.chartObj.model.LegendBounds.Height+o,width:this.chartObj.model.LegendBounds.Width});this.chartObj.svgRenderer.append(this.chartObj.gLegendEle,this.chartObj.legendSvgContainer);this.chartObj.scrolltop!=undefined&&n(this.chartObj.legendContainer).scrollTop(this.chartObj.scrolltop);this.chartObj.scrollleft!=undefined&&n(this.chartObj.legendContainer).scrollLeft(this.chartObj.scrollleft)}else n(this.chartObj.legendContainer).hide()}}}(jQuery);ej.seriesTypes={};ej.EjSeriesRender=function(){},function(n){function t(t,i){var r=function(){};return r.prototype=new t,n.extend(r.prototype,i),r}ej.EjSeriesRender.prototype={setLineSeriesStyle:function(t){var i=n.inArray(t,this.chartObj.model._visibleSeries),r=this.chartObj.model.seriesColors[i],u=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,r,0,0,0,n(this.chartObj.svgObject).height(),this.chartObj.gSeriesEle),f=this.chartObj.model.seriesBorderColors[i];return{SeriesInterior:u,SeriesBorder:f}},getSeriesName:function(n){return n.name?n.name.replace(/\s/g,""):"series"},drawAreaPath:function(t,i,r,u){var f=n.inArray(t,this.chartObj.model.series),e=null,o,s,h,c;this.chartObj.model.AreaType=="cartesianaxes"&&(o=t.xAxis.x,s=t.yAxis.y,e="translate("+o+","+s+")");h={id:this.chartObj.svgObject.id+"_SeriesGroup_"+f,transform:e};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(h);r!=""&&(c={id:this.chartObj.svgObject.id+"_"+f,fill:i.SeriesInterior,"fill-opacity":t.opacity,"stroke-width":t.border.width,stroke:t.border.color,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,d:r},this.chartObj.svgRenderer.drawPath(c,this.gSeriesGroupEle,u))},setAreaSeriesStyle:function(t){var i=n.inArray(t,this.chartObj.model._visibleSeries),e=Math.max.apply(0,n.map(t.points,function(n){return n.YValues[0]})),o=Math.min.apply(0,n.map(t.points,function(n){return n.YValues[0]})),r=Math.min.apply(0,n.map(t.points,function(n){return n.X})),u=ej.EjSvgRender.utils._getPointXY(r,o,t),f=ej.EjSvgRender.utils._getPointXY(r,e,t),s=this.chartObj.model.seriesColors[i],h=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,s,u.X,u.Y,f.X,f.Y,this.chartObj.gSeriesEle);return{SeriesInterior:h}},naturalSpline:function(n){var h=n.length,f=0,i=[],u=[],t,s,r;for(i[0]=u[0]=0,i[n.length-1]=0,t=1;t<h-1;t++){var e=n[t].X-n[t-1].X,c=n[t+1].X-n[t-1].X,o=n[t+1].X-n[t].X,l=n[t+1].YValues[f]-n[t].YValues[f],a=n[t].YValues[f]-n[t-1].YValues[f];e==0||c==0||o==0?(i[t]=0,u[t]=0):(s=1/(e*i[t-1]+2*c),i[t]=-s*o,u[t]=s*(6*(l/o-a/e)-e*u[t-1]))}for(r=h-2;r>=0;r--)i[r]=i[r]*i[r+1]+u[r];return i},getBezierControlPoints:function(n,t,i,r,u){var o,s,f=1/3,e=t.X-n.X;e=e*e;var h=2*n.X+t.X,c=n.X+2*t.X,l=2*n.YValues[u]+t.YValues[u],a=n.YValues[u]+2*t.YValues[u],v=f*(l-f*e*(i+.5*r)),y=f*(a-f*e*(.5*i+r));return o={X:h*f,YValues:[v]},s={X:c*f,YValues:[y]},{controlPoint1:o,controlPoint2:s}},improveChartPerformance:function(n){for(var h,f,e=[],c=n.xAxis.visibleRange.max-n.xAxis.visibleRange.min,l=n.yAxis.visibleRange.max-n.yAxis.visibleRange.min,i=Math.abs(c*1/this.chartObj.model.m_AreaBounds.Width),r=Math.abs(l*1/this.chartObj.model.m_AreaBounds.Height),o=n.points[0]&&n.points[0].X>i?0:i,s=n.points[0]&&n.points[0].y>r?0:r,u=0,t=0;t<n.points.length;t++)h=n.points[t].isEmpty===null||n.points[t].isEmpty===undefined?!1:n.points[t].isEmpty,n.points[t].visible=n.points[t].visible===null||n.points[t].visible===undefined?!0:n.points[t].visible,n.points[t].X===null||n.points[t].X===undefined?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].X=n.xAxis.visibleRange.min):n.points[t].isEmpty=h,n.points[t].YValues[0]==null||n.points[t].YValues[0]=="undefined"?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].YValues[0]=n.yAxis.visibleRange.min):(n.points[t].isEmpty=n.points[t].isEmpty,n.points[t].visible=n.points[t].isEmpty?!n.points[t].isEmpty:n.points[t].visible),u=n.points[t].X,f=n.points[t].YValues[0],(Math.abs(o-u)>=i||Math.abs(s-f)>=r)&&(e.push(n.points[t]),o=u,s=f);return e},_isVisiblePoints:function(n){for(var i,t=0;t<n.points.length;t++)i=ej.util.isNullOrUndefined(n.points[t].isEmpty)?!1:n.points[t].isEmpty,n.points[t].visible=ej.util.isNullOrUndefined(n.points[t].visible)?!0:n.points[t].visible,ej.util.isNullOrUndefined(n.points[t].X)?(n.points[t].isEmpty=!0,n.points[t].visible=!1,n.points[t].X=n.xAxis.visibleRange.min):n.points[t].isEmpty=i,n.points[t].YValues[0]==null||n.points[t].YValues[0]=="undefined"?(n.points[t].isEmpty=!0,n.points[t].visible=!1,ej.util.isNullOrUndefined(n.points[t].YValues)&&(n.points[t].YValues=[]),n.points[t].YValues[0]=n.yAxis.visibleRange.min):(n.points[t].isEmpty=n.points[t].isEmpty,n.points[t].visible=n.points[t].isEmpty?!n.points[t].isEmpty:n.points[t].visible),jQuery.type(n.points[t].X)=="date"&&(n.points[t].X=n.points[t].X.getTime());return n.points},_calculatePolarAxesSegment:function(t){var r=t.visiblePoints,c=ej.EjSvgRender.utils._getStringBuilder(),d=n.inArray(t,this.chartObj.model._visibleSeries),h,p,e=this.chartObj.model.centerX,o=this.chartObj.model.centerY,it=this._getSeriesPosition(t),s,ut,g,nt,rt,i,u,w,lt,tt;if(h=n.extend(!0,{},t.marker.size,h),h.width<=10&&(h.width=h.height=1.5*this.chartObj.model.elementSpacing),t.drawType.toLowerCase()=="column"&&!t.regionAdded){s=0;ut={id:this.chartObj.svgObject.id+"_SeriesGroup_"+d};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ut);var p=t.xAxis.visibleRange.interval,at=t.xAxis.labelPlacement&&t.xAxis.labelPlacement.toLowerCase()=="onticks"&&this.chartObj.model.isPolar?p/2:0,ft=t.xAxis.isInversed?0:1;for(p=p/it.all,rt=p,g=0;g<t.visiblePoints.length;g++)nt=temp=t.visiblePoints[g].X-t.xAxis.visibleRange.min+(p*it.pos-at),nt=nt/this.chartObj.model.sumofYValues,point=t.visiblePoints[g],rt=t.xAxis.visibleRange.interval/it.all,point.startAngle=2*Math.PI*nt,point.endAngle=2*Math.PI*(nt+rt/this.chartObj.model.sumofYValues)}for(i=0;i<r.length;i++){if(t.drawType.toLowerCase()=="line")u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].X,r[i].y,this.chartObj),i<r.length-1?(w=ej.EjSvgRender.utils.TransformToVisible(t,r[i+1].X,r[i+1].y,this.chartObj),c.append("M "+u.X+" "+u.Y+" L "+w.X+" "+w.Y+" ")):t.isClosed&&(w=ej.EjSvgRender.utils.TransformToVisible(t,r[0].X,r[0].y,this.chartObj),c.append("M "+u.X+" "+u.Y+" L "+w.X+" "+w.Y+" "));else if(t.drawType.toLowerCase()=="column"){var p=t.xAxis.visibleRange.interval,ft=t.xAxis.isInversed?0:1,p=p/it.all,f=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,r[i].y),et=-.5*Math.PI,b=r[i].startAngle+et,k=r[i].endAngle+et-1e-6,l,a,v,y;if(t.isStacking){f=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,t.stackedValue.EndValues[i]);l=e+f*Math.cos(b);a=o+f*Math.sin(b);v=e+f*Math.cos(k);y=o+f*Math.sin(k);s=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,t.stackedValue.StartValues[i]);var ot=e+s*Math.cos(b),st=o+s*Math.sin(b),ht=e+s*Math.cos(k),ct=o+s*Math.sin(k);direction=this.chartObj.model.isPolar?"M "+l+" "+a+" A "+f+" "+f+" 0 0 "+ft+" "+v+" "+y+" L "+ht+" "+ct+" A "+s+" "+s+" 1 0 0 "+ot+" "+st+" z":"M "+l+" "+a+" L "+v+" "+y+" L "+ht+" "+ct+" L "+ot+" "+st+" z"}else l=e+f*Math.cos(b),a=o+f*Math.sin(b),v=e+f*Math.cos(k),y=o+f*Math.sin(k),direction=this.chartObj.model.isPolar?"M "+l+" "+a+" A "+f+" "+f+" 0 0 "+ft+" "+v+" "+y+" L "+e+" "+o+" z":"M "+l+" "+a+" L "+v+" "+y+" L "+e+" "+o+" z";lt=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+d+i,this.chartObj.model.seriesColors[d],0,0,0,100,this.chartObj.gSeriesEle);options={id:this.chartObj.svgObject.id+"_"+this.getSeriesName(t)+d+"_path"+i,fill:lt,stroke:t.border.color,"stroke-width":t.border.width,seriesIndex:d,pointIndex:i,d:direction,start:r[i].startAngle-1.57,end:r[i].endAngle-1.57,radius:f,innerR:s};this.chartObj.model.isPolar&&(options.x=e,options.y=o,tt={PointIndex:i,StartAngle:r[i].startAngle,EndAngle:r[i].endAngle,CenterX:e,CenterY:o,Radius:f,DRadius:s});point=t.visiblePoints[i];(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)&&t.marker.dataLabel.visible)&&(point.symbolLocation={X:(l+v)/2,Y:(a+y)/2});this.chartObj.svgRenderer.drawPath(options,this.gSeriesGroupEle)}else u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].X,r[i].y,this.chartObj),i==0?c.append("M "+u.X+" "+u.Y+" "):i==r.length-1?t.isClosed?c.append("L "+u.X+" "+u.Y+" z"):c.append("L "+u.X+" "+u.Y+" L "+e+" "+o):c.append("L "+u.X+" "+u.Y+" ");t.regionAdded||t.drawType.toLowerCase()=="column"||(tt={X:u.X-h.width/2,Y:u.Y-h.height/2,Width:h.width,Height:h.height},ej.EjSvgRender.utils._addRegion(this.chartObj,tt,t,r[i],i));!t.regionAdded&&t.drawType.toLowerCase()=="column"&&this.chartObj.model.enableCanvasRendering&&ej.EjSvgRender.utils._addRegion(this.chartObj,tt,t,null,null)}return t.regionAdded||t.drawType.toLowerCase()!="column"||this.chartObj.model.enableCanvasRendering||ej.EjSvgRender.utils._addRegion(this.chartObj,tt,t,null,null),c.toString()},_pieVisiblePoints:function(n){for(var i=[],u=[],t,r=0;r<n.points.length;r++)t=n.points[r],ej.util.isNullOrUndefined(t.visible)&&(t.visible=!0),t.y<0&&(t.YValues[0]=Math.abs(t.YValues[0])),t.visible!=!0||ej.util.isNullOrUndefined(t.y)||(i.push(t),u.push(t.text?t.text:t.y));return n.visiblePoints=i,n.visibleLabels=u,i},getMinMaxValue:function(n,t,i){var u=Math.min(n.x,t.x),f=Math.min(n.y,t.y),e=Math.max(n.x,t.x),o=Math.max(n.y,t.y),r;switch(i){case 0:case 360:r=o;break;case 90:r=u;break;case 180:r=f;break;case 270:r=e}return r},pieDoughnutCenter:function(n){var d=this.chartObj.model.centerX,g=this.chartObj.model.centerY,v=n.startAngle,y=n.endAngle,f=[-630,-540,-450,-360,-270,-180,-90,0,90,180,270,360,450,540,630],i=[],a,l,u,t;if(n.startAngle<n.endAngle)for(t=0;t<f.length;t++)f[t]>v&&f[t]<y&&(i[i.length]=f[t]%360<0?f[t]%360+360:f[t]%360);else for(t=0;t<f.length;t++)f[t]<v&&f[t]>y&&(i[i.length]=f[t]%360<0?f[t]%360+360:f[t]%360);var r=this.chartObj.model.Radius,p=2*Math.PI*(v-90)/360,w=2*Math.PI*(y-90)/360,c={x:this.chartObj.model.centerX,y:this.chartObj.model.centerY},e={x:this.chartObj.model.centerX+r*Math.cos(p),y:this.chartObj.model.centerY+r*Math.sin(p)},o={x:this.chartObj.model.centerX+r*Math.cos(w),y:this.chartObj.model.centerY+r*Math.sin(w)};switch(i.length){case 0:var nt=Math.abs(c.x-e.x)>Math.abs(c.x-o.x)?e.x:o.x,tt=Math.abs(c.y-e.y)>Math.abs(c.y-o.y)?e.y:o.y,u={x:(c.x+nt)/2,y:(c.y+tt)/2};this.chartObj.model.centerX=this.chartObj.model.centerX+(this.chartObj.model.centerX-u.x);this.chartObj.model.centerY=this.chartObj.model.centerY+(this.chartObj.model.centerY-u.y);break;case 1:a=2*Math.PI*(i[0]-90)/360;l={x:this.chartObj.model.centerX+r*Math.cos(a),y:this.chartObj.model.centerY+r*Math.sin(a)};switch(i[0]){case 0:case 360:s={x:e.x,y:l.y};h={x:o.x,y:c.y};break;case 90:s={x:c.x,y:o.y};h={x:l.x,y:e.y};break;case 180:s={x:o.x,y:c.y};h={x:e.x,y:l.y};break;case 270:s={x:l.x,y:e.y};h={x:c.x,y:o.y}}u={x:(s.x+h.x)/2,y:(s.y+h.y)/2};this.chartObj.model.centerX=this.chartObj.model.centerX+(this.chartObj.model.centerX-u.x>=r?0:this.chartObj.model.centerX-u.x);this.chartObj.model.centerY=this.chartObj.model.centerY+(this.chartObj.model.centerY-u.y>=r?0:this.chartObj.model.centerY-u.y);break;case 2:var b=2*Math.PI*(i[0]-90)/360,a=2*Math.PI*(i[1]-90)/360,l={x:this.chartObj.model.centerX+r*Math.cos(a),y:this.chartObj.model.centerY+r*Math.sin(a)},k={x:this.chartObj.model.centerX+r*Math.cos(b),y:this.chartObj.model.centerY+r*Math.sin(b)},s,h;s=i[0]==90&&i[1]==180||i[0]==270&&i[1]==0?{x:k.x,y:l.y}:{x:l.x,y:k.y};h=i[0]==90||i[0]==270?{x:this.getMinMaxValue(e,o,i[0]),y:this.getMinMaxValue(e,o,i[1])}:{x:this.getMinMaxValue(e,o,i[1]),y:this.getMinMaxValue(e,o,i[0])};u={x:Math.abs(s.x-h.x)/2>=r?0:(s.x+h.x)/2,y:Math.abs(s.y-h.y)/2>=r?0:(s.y+h.y)/2};this.chartObj.model.centerX=this.chartObj.model.centerX+(u.x==0?0:this.chartObj.model.centerX-u.x>=r?0:this.chartObj.model.centerX-u.x);this.chartObj.model.centerY=this.chartObj.model.centerY+(u.y==0?0:this.chartObj.model.centerY-u.y>=r?0:this.chartObj.model.centerY-u.y)}for(t=0;t<n.points.length;t++)this.chartObj.model.startX[t]=this.chartObj.model.startX[t]-(d-this.chartObj.model.centerX),this.chartObj.model.startY[t]=this.chartObj.model.startY[t]-(g-this.chartObj.model.centerY)},calculatingSliceAngle:function(t){var v=this._pieVisiblePoints(t),l=0,y=0,i,e,r,u,k,d,s,o,g,a,h,c,f;for(this.chartObj.model.arcData=[],t.rightsidePoints=[],t.leftsidePoints=[],t.labels=[],this.chartObj.model.chartRegions=[],this.chartObj.model.sumofYValues=0,this.chartObj.model.midPoint=0,this.chartObj.model.centerX=0,this.chartObj.model.centerY=0,this.chartObj.model.startX=[],this.chartObj.model.startY=[],this.chartObj.model.Radius=0,e=0,f=0;f<v.length;f++)this.chartObj.model.sumofYValues+=v[f].YValues[0];r=t.endAngle!=null?t.endAngle-t.startAngle:360;r=r!=360&&r!=-360?r%360:r;t.startAngle?(t.startAngle=t.startAngle%360,t.endAngle=t.startAngle+r,e=t.startAngle?this.chartObj.model.sumofYValues/360*t.startAngle:0,e=e/this.chartObj.model.sumofYValues,this.chartObj.model.itemCurrentXPos=e):t.endAngle=r;u=this.chartObj.model.legend;u.visible&&u.position.toLowerCase()!="custom"&&(u.position.toLowerCase()=="right"||u.position.toLowerCase()=="left"?l=(u.position.toLowerCase()=="right"?this.chartObj.model.margin.right:this.chartObj.model.margin.left)+this.chartObj.model.LegendViewerBounds.Width:y=(u.position.toLowerCase()=="top"?this.chartObj.model.margin.top:this.chartObj.model.margin.bottom)+this.chartObj.model.LegendViewerBounds.Height);var p=(this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y:0)+y,w=n(this.chartObj.svgObject).width()-l,b=n(this.chartObj.svgObject).height()-p;for(this.chartObj.model.centerX=w*.5+(u.position.toLowerCase()==="left"?l:0),this.chartObj.model.centerY=b*.5+(u.position.toLowerCase()==="top"?p:this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y:0),r=t.endAngle-t.startAngle,d=r/180,s=0;s<t.visiblePoints.length;s++)i=t.visiblePoints[s],i.visible&&(o=s,i.startAngle=s==0?2*Math.PI*e:k,k=i.endAngle=d*Math.PI*(i.YValues[0]/this.chartObj.model.sumofYValues)+i.startAngle,i.midAngle=(i.endAngle+i.startAngle)/2,i.pointIndex=o,g=-.5*Math.PI,i.radian=i.midAngle%(2*Math.PI),t.labelPosition.toLowerCase()=="outsideextended"&&(i.radian<Math.PI?t.rightsidePoints.push(i):t.leftsidePoints.push(i)),e+=i.YValues[0]/this.chartObj.model.sumofYValues,a=i.midAngle+g,(o==t.explodeIndex||t.explodeAll)&&!this.chartObj.vmlRendering?(this.chartObj.model.startX[o]=this.chartObj.model.centerX+Math.cos(a)*t.explodeOffset,this.chartObj.model.startY[o]=this.chartObj.model.centerY+Math.sin(a)*t.explodeOffset):(this.chartObj.model.startX[o]=this.chartObj.model.centerX,this.chartObj.model.startY[o]=this.chartObj.model.centerY));if(t.labelPosition.toLowerCase()=="outsideextended"&&(t.rightsidePoints=ej.DataManager(t.rightsidePoints,ej.Query().sortBy("radian")).executeLocal(),t.leftsidePoints=ej.DataManager(t.leftsidePoints,ej.Query().sortBy("radian")).executeLocal()),t.marker.dataLabel.template)if(t.labelPosition.toLowerCase()=="outsideextended"){for(h=0;h<t.rightsidePoints.length;h++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.rightsidePoints[h],t.rightsidePoints[h].pointIndex,t,!1,this.chartObj);for(c=0;c<t.leftsidePoints.length;c++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.leftsidePoints[c],t.leftsidePoints[c].pointIndex,t,!0,this.chartObj)}else for(f=0;f<t.visiblePoints.length;f++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.visiblePoints[f],t.visiblePoints[f].pointIndex,t,!0,this.chartObj);else ej.EjSvgRender.utils._getSeriesMaxLabel(t);return t.finalSize={width:w,height:b},t.finalSize},_drawHiloPath:function(t,i,r,u,f,e){var c=n.inArray(t,this.chartObj.model._visibleSeries),l={id:this.chartObj.svgObject.id+"_"+c+"_"+f,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":i.borderWidth,stroke:r,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:u},o,s,h;this.chartObj.svgRenderer.drawPath(l,this.gSeriesGroupEle);x=Math.min(e.point2.X,e.point1.X)+t.xAxis.x-i.borderWidth;y=Math.min(e.point2.Y,e.point1.Y)+t.yAxis.y;e.point1.Y!=e.point2.Y?(o=i.borderWidth+i.borderWidth/2,s=Math.abs(e.point1.Y-e.point2.Y)):(o=Math.abs(e.point2.X-e.point1.X),s=i.borderWidth+i.borderWidth/2);h={X:x,Y:y,Width:o,Height:s};ej.EjSvgRender.utils._addRegion(this.chartObj,h,t,null,f)},isIntersec:function(n,t){return t.Bottom<n.Top||t.Right<n.Left||t.Top>n.Bottom||t.Left>n.Right?!1:!0},IntersectWith:function(n,t,i){var e=this,u,r,f;if(t.radian>Math.PI&&n.model.bounds.left){if(u=n.model.bounds.left,u.length>0)for(r=t.index+1;r<u.length;r++)if(f=u[r],f&&this.isIntersec(f,i))return!0}else if(u=n.model.bounds.right?n.model.bounds.right:n.model.bounds,e=this,u.length>0)for(r=t.index-1;r>=0;r--)if(f=u[r],f&&this.isIntersec(f,i))return!0;return!1},_calculateArcData:function(n,t,i,r){var rt=r.visiblePoints,u=n,a=-.5*Math.PI,f=i.startAngle+a,e=i.endAngle+a-1e-6,k=r.endAngle-r.startAngle,c=e-f<Math.PI?0:1,v=(f+e)/2,l,o,s,h=k>0?1:0,c=h?e-f<Math.PI?0:1:e-f>-1*Math.PI?0:1;(t==r.explodeIndex||r.explodeAll)&&!u.vmlRendering?(o=u.model.centerX+Math.cos(v)*r.explodeOffset,s=u.model.centerY+Math.sin(v)*r.explodeOffset):(o=u.model.centerX,s=u.model.centerY);var y=o+u.model.Radius*Math.cos(f),p=s+u.model.Radius*Math.sin(f),w=o+u.model.Radius*Math.cos(e),b=s+u.model.Radius*Math.sin(e);if(r.type.toLowerCase()=="doughnut"){var d=o+u.model.dRadius*Math.cos(f),g=s+u.model.dRadius*Math.sin(f),nt=o+u.model.dRadius*Math.cos(e),tt=s+u.model.dRadius*Math.sin(e),it=h?0:1;l="M "+y+" "+p+" A "+u.model.Radius+" "+u.model.Radius+" 0 "+c+" "+h+" "+w+" "+b+" L "+nt+" "+tt+" A "+u.model.dRadius+" "+u.model.dRadius+" 1 "+c+" "+it+" "+d+" "+g+" z"}else l="M "+y+" "+p+" A "+u.model.Radius+" "+u.model.Radius+" 0 "+c+" "+h+" "+w+" "+b+" L "+o+" "+s+" z";return{Direction:l}},getXCordinate:function(n,t,i){return n+t*Math.cos(i)},getYCordinate:function(n,t,i){return n+t*Math.sin(i)},getDoubleRange:function(n,t){var i,r;n>t?(i=t,r=n):(i=n,r=t);var u=r-i,f=(i+r)/2,e=isNaN(i)||isNaN(r);return{Start:i,End:r,Delta:u,Median:f,IsEmpty:e}},isDependentSeries:function(n){var t=n.type.toLowerCase();return this.chartObj.model.requireInvertedAxes?t==ej.datavisualization.Chart.Type.Bar||t==ej.datavisualization.Chart.Type.StackingBar?!0:!1:t==ej.datavisualization.Chart.Type.Candle||t==ej.datavisualization.Chart.Type.Column||t==ej.datavisualization.Chart.Type.Hilo||t==ej.datavisualization.Chart.Type.HiloOpenClose||t==ej.datavisualization.Chart.Type.StackingColumn||t==ej.datavisualization.Chart.Type.RangeColumn?!0:!1},getPointXYOrgin:function(n,t,i){var r=ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,n)*i.xAxis.width,u=(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t))*i.yAxis.height;return{X:r,Y:u}},getRectangle:function(n,t,i,r,u){var f=this.getPointXYOrgin(n,t,u),e=this.getPointXYOrgin(i,r,u);return ej.EjSvgRender.utils._correctRect(f.X,f.Y,e.X,e.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},_getSeriesPosition:function(n){var o,s,i,r,u,f,t,e;if(ej.util.isNullOrUndefined(n.position)||this.chartObj.model.legendCollapsed){for(i=0,r=[],u=0;u<this.chartObj.model._visibleSeries.length;u++)t=this.chartObj.model._visibleSeries[u],t.visibility.toLowerCase()==="visible"&&t.drawType.toLowerCase()=="column"&&r.push(t);for(f=0;f<r.length;f++)t=r[f],t.isStacking?(o||(s=i,i++,o=!0),t.position=s):(t.position=i,i++);for(e=0;e<r.length;e++)r[e].all=i}return{all:n.all,pos:n.position}},getSideBySidePositions:function(t){var u=this,r=[],i=u.chartObj.model,f,e;return(ej.util.isNullOrUndefined(t.position)||i.legendCollapsed)&&(f=i.requireInvertedAxes?i.vAxes:i.hAxes,e=i.requireInvertedAxes?i.hAxes:i.vAxes,n.each(f,function(n,t){for(var h=[],f,e,o,c,n,s=0;s<i._visibleSeries.length;s++)f=i._visibleSeries[s],f.visibility.toLowerCase()==="visible"&&u.isDependentSeries(f)&&t.name==f.xAxisName&&h.push(f);for(e=[],s=0;s<h.length;s++)n=i.requireInvertedAxes?h[s].yAxis.columnIndex:h[s].yAxis.rowIndex,e[n]||(e[n]=[]),e[n].push(h[s]);for(o=0;o<e.length;o++)if(!ej.util.isNullOrUndefined(e[o]))for(e[o].all=0,s=0;s<e[o].length;s++)f=e[o][s],f.type.toLowerCase().indexOf("stacking")!=-1?f.stackingGroup?ej.util.isNullOrUndefined(r[f.stackingGroup])?(e[o].all++,f.position=e[o].all,r[f.stackingGroup]=e[o].all):f.position=r[f.stackingGroup]:ej.util.isNullOrUndefined(f.yAxis.position)||i.legendCollapsed?(e[o].all++,f.position=e[o].all,f.yAxis.position=e[o].all,i.legendCollapsed=!1):f.position=f.yAxis.position:(e[o].all++,f.position=e[o].all);for(c=0;c<h.length;c++)n=h[c].type.toLowerCase().indexOf("bar")!=-1?h[c].yAxis.columnIndex:h[c].yAxis.rowIndex,h[c].all=h[c].type.toLowerCase().indexOf("stacking")!=-1?e[n].all:e[n].length})),{all:t.all,pos:t.position}},getSideBySideInfo:function(n){var f,e,o=this.getSideBySidePositions(n),s,h,i,r,u;if(f=o.pos,e=o.all,s=0,h=.3-0,n.xAxis.m_minPointsDelta==undefined&&(n.xAxis.m_minPointsDelta=ej.EjSvgRender.utils.getMinPointsDelta(n.xAxis,this.chartObj)),i=n.xAxis.m_minPointsDelta*(1-h),!this.chartObj.model.sideBySideSeriesPlacement&&this.chartObj.model.enable3D)return this.getDoubleRange(-i/2,i/2);var c=1/e,l=.5-c*(f-1),t=this.getDoubleRange(-l,-l+c);return t.IsEmpty||(t=this.getDoubleRange(t.Start*i,t.End*i),r=.5*(1-s)*t.Delta,u=t.Median,t=this.getDoubleRange(u-r,u+r)),t},draw:function(n,t){var r;this.chartObj=n;var h,c=ej.EjSvgRender.utils._getStringBuilder(),i=t,v=this.setLineSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal());var u=this.improveChartPerformance(i),f=null,o,s=-1;for(r=0;r<u.length;r++)if(o=u[r],o.visible){if(f!=null&&u.length>s+1){var y=u[s+1],l=ej.EjSvgRender.utils._getPoint(f,i),a=ej.EjSvgRender.utils._getPoint(y,i),e=this.chartObj;c.append("M "+(l.X+e.canvasX)+" "+(l.Y+e.canvasY)+" L "+(a.X+e.canvasX)+" "+(a.Y+e.canvasY)+" ")}f=o;s=r}else f=null;h=c.toString();this._drawLinePath(i,v,h);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},_doLineSymbol:function(t,i,r,u,f){var v=parseInt(r*i),e=this.chartObj,o=ej.EjSvgRender.utils._getBoundingClientRect(t,e,u,f),c=o.x+o.width/2,l=o.y+o.height/2,a,s=n(t),h=e.svgRenderer._getAttrVal(s,"transform");h=ej.util.isNullOrUndefined(h)?" ":h;e.svgRenderer._setAttr(s,{transform:"scale(0)"});s.delay(v).animate({scale:1},{duration:200,step:function(n){a=n;e.svgRenderer._setAttr(s,{transform:"translate("+c+" "+l+") scale("+a+") translate("+-c+" "+-l+")"+h})}})},animateSymbol:function(t,i,r,u){var f=this.chartObj,e=ej.EjSvgRender.utils._getBoundingClientRect(t,f,r,u),h=e.x+e.width/2,c=e.y+e.height/2,l,o=n(t),s=f.svgRenderer._getAttrVal(o,"transform");s=ej.util.isNullOrUndefined(s)?" ":s;f.svgRenderer._setAttr(o,{transform:"scale(0)"});o.delay(i).each(function(){this.scale=.5}).animate({scale:1},{duration:500,step:function(n){l=n;f.svgRenderer._setAttr(o,{transform:"translate("+h+" "+c+") scale("+l+") translate("+-h+" "+-c+")"+s})}})},animateStackingRect:function(t,i,r){var u=this.chartObj,h=(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0))*i.yAxis.height,c=ej.EjSvgRender.utils._getBoundingClientRect(t,u,i,r),f,e,o=n(t),s;u.svgRenderer._getAttrVal(o,"plot")&&(f=c.x,e=h);o.animate({scale:1},{duration:1e3,step:function(n){s=n;u.svgRenderer._setAttr(o,{transform:"translate("+f+" "+e+") scale(1,"+s+") translate("+-f+" "+-e+")"})}})},animateRect:function(t,i){var e=this.chartObj,r=ej.EjSvgRender.utils._getBoundingClientRect(t,e,i,!1),u,f,o=n(t),s;e.svgRenderer._getAttrVal(o,"plot")?e.svgRenderer._getAttrVal(o,"plot")==="negative"?(u=r.x,f=r.y):(u=r.x+r.width,f=r.y+r.height):(u=r.x+r.width/2,f=r.y+r.height/2);o.animate({scale:1},{duration:1e3,step:function(n){s=n;e.svgRenderer._setAttr(o,{transform:"translate("+u+" "+f+") scale(1,"+s+") translate("+-u+" "+-f+")"})}})},animateBarRect:function(t,i,r){var o=this.chartObj,u=ej.EjSvgRender.utils._getBoundingClientRect(t,o,i,r),f,e,s=n(t),h;o.svgRenderer._getAttrVal(s,"plot")==="negative"?(f=u.x+u.width,e=u.y+u.height):(f=u.x,e=u.y);s.animate({scale:1},{duration:1e3,step:function(n){h=n;o.svgRenderer._setAttr(s,{transform:"translate("+f+" "+e+") scale("+h+",1) translate("+-f+" "+-e+")"})}})},animateStackingBar:function(t,i,r){var e=this.chartObj,h=ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0)*i.yAxis.width,c=ej.EjSvgRender.utils._getBoundingClientRect(t,e,i,r),u,f,o=n(t),s;u=h;f=c.y;o.animate({scale:1},{duration:1e3,step:function(n){s=n;e.svgRenderer._setAttr(o,{transform:"translate("+u+" "+f+") scale("+s+",1) translate("+-u+" "+-f+")"})}})},_doLineAnimation:function(t){var i=this.chartObj,f=n(i.gSeriesEle).find("#"+this.gSeriesGroupEle.id+"_ClipRect").children(),u,e,r,o;for(n(f).animate({width:parseFloat(i.svgRenderer._getAttrVal(n(i.gSeriesEle).find("#"+this.gSeriesGroupEle.id+"_ClipRect").children(),"width"))},{duration:2e3,step:function(t){i.svgRenderer._setAttr(n(f),{width:t})}}),u=n(i.gSymbolGroupEle).children().not("defs"),e=2e3/u.length,r=0;r<u.length;r++)o=u[r],this._doLineSymbol(o,e,r,t,this.chartObj.model.requireInvertedAxes)},doAnimation:function(n){this._doLineAnimation(n)},_drawLinePath:function(t,i,r){var u=n.inArray(t,this.chartObj.model._visibleSeries),f=null,e,o,s,h;this.chartObj.model.AreaType=="cartesianaxes"&&(e=t.xAxis.x,o=t.yAxis.y,f="translate("+e+","+o+")");s={id:this.chartObj.svgObject.id+"_SeriesGroup_"+u,transform:f};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(s);r!=""&&(h={id:this.chartObj.svgObject.id+"_"+u,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":t.width,stroke:i.SeriesInterior,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:r},this.chartObj.svgRenderer.drawPath(h,this.gSeriesGroupEle))},drawDataLabel:function(t,i,r,u,f,e){var b=t.yAxis.labelFormat?t.yAxis.labelFormat:"",k=r.text?r.text:r.y+b.substring(b.indexOf("}")+1),a=n.inArray(t,this.chartObj.model._visibleSeries),h=r.marker?r.marker:t.marker,s,d,g,nt,tt,p,ut;h=n.extend(!0,{},t.marker,h);s=h.dataLabel.font;tt=t.type.toLowerCase();d=ej.util.isNullOrUndefined(s.size)?"11px":s.size;g=ej.util.isNullOrUndefined(s.fontStyle)?"Normal":s.fontStyle;nt=ej.util.isNullOrUndefined(s.fontFamily)?"Segoe UI":s.fontFamily;var st={size:d,fontStyle:g,fontFamily:nt},y=ej.EjSvgRender.utils._measureText(k,null,st),it=this.textPosition(t,a,y,tt,u,f,e),o=n.extend({},ej.EjSvgRender.commonChartEventArgs);if(o.data={text:k,location:{x:it.x+this.chartObj.canvasX,y:it.y+this.chartObj.canvasY},seriesIndex:a,pointIndex:i},this.chartObj._trigger("displayTextRendering",o),p=h.dataLabel.offset,t.marker.dataLabel.offset&&(o.data.location.y=t.marker.dataLabel.textPosition=="bottom"?o.data.location.y+p:o.data.location.y-p),!o.cancel){var v={id:this.chartObj.svgObject.id+"_SeriesText"+i+a,x:o.data.location.x,y:o.data.location.y,fill:s.color,"font-size":s.size,"font-family":s.fontFamily,"font-style":s.fontStyle,"font-weight":s.fontWeight,"text-anchor":"middle"},c=h.dataLabel.margin,ht=y.width+c.left+c.right,rt=y.height+c.top+c.bottom,w={X:o.data.location.x,Y:o.data.location.y};if(ej.util.isNullOrUndefined(t.marker.dataLabel.template)){ut=h.dataLabel.shape?h.dataLabel.shape:t.marker.dataLabel.shape?h.dataLabel.shape:"None";n.each(this.chartObj.model.symbolShape,function(n){ut.toLowerCase()==n.toLowerCase()&&(symbolName=n)});var ft=o.data.location.x-c.left/2+c.right/2,et=o.data.location.y-c.top/2-rt/c.top+c.bottom/2,l=h.dataLabel.angle,ct=l>360?l-360:l<-360?l+360:l,ot="rotate("+ct+","+ft+","+et+")";n(v).attr("transform",ot);n(v).attr("labelRotation",l);n(v).attr({transform:ot});this.dataLabelSymbol(a,t,i,ft,et,ht,rt,symbolName,this.chartObj);this.chartObj.svgRenderer.drawText(v,o.data.text,this.chartObj.gSeriesTextEle)}else w.X-=this.chartObj.canvasX,w.Y-=this.chartObj.canvasY,this.drawLabelTemplate(t,r,i,w,this.chartObj)}},updateSmartLabelPosition:function(t,i,r,u,f,e,o,s){var c=[],l=s,b=new ej.seriesTypes[t.type.toLowerCase()],tt="",ut=u.connector.connectorX,ft=u.connector.connectorY,a=u.midPoint.midX,v=u.midPoint.midY,dt=u.doughnutMidPoint.dMidX,gt=u.doughnutMidPoint.dMidY,p=e.startX,et=e.startY,at=t.marker.dataLabel.template?0:4,ot,d=t.marker.dataLabel.connectorLine.height,y=l.model.Radius,st,g=f,it,rt,ht,bt,w,vt,nt,ct,pt,yt,wt,lt;if(t.labelPosition.toLowerCase()=="inside"){positionX=(a+p)/2;positionY=(v+et)/2;positionX=(a+positionX)/2;positionY=(v+positionY)/2;h=i.isIntersected&&l.model.bounds[r]?l.model.bounds[r]:a>p?{X:positionX,Y:positionY,Left:positionX,Top:positionY,Right:positionX+o.width,Bottom:positionY+o.height}:{X:positionX,Y:positionY,Left:positionX-o.width,Top:positionY,Right:positionX,Bottom:positionY+o.height};do(st=!1,this.IntersectWith(l,i,h))&&(g+=.01,i.isIntersected=!0,h.Angle=g,a>p?(h.X=h.Left=b.getXCordinate(p,y+d,g),h.Right=h.X+o.width):(h.X=h.Right=b.getXCordinate(p,y+d,g),h.Left=h.Right-o.width),h.Y=h.Top=b.getYCordinate(et,y+d,g),h.Bottom=h.Y+o.height,st=!0);while(st);l.model.bounds[r]=h;i.isIntersected&&l.model.bounds[r].Angle&&(positionX=b.getXCordinate(p,y+d,l.model.bounds[r].Angle),positionY=b.getYCordinate(et,y+d,l.model.bounds[r].Angle),it=b.getXCordinate(p,y+d/3,f),rt=b.getYCordinate(et,y+d/3,f),tt="M "+a+" "+v+" L "+it+" "+rt+" M "+it+" "+rt+" L "+positionX+" "+positionY)}else if(t.labelPosition.toLowerCase()=="outside"){h=a>p?{X:ut,Y:ft,Left:ut,Top:ft,Right:ut+o.width,Bottom:ft+o.height}:{X:ut,Y:ft,Left:ut-o.width,Top:ft,Right:ut,Bottom:ft+o.height};do(st=!1,this.IntersectWith(l,i,h))&&(g+=.01,i.isIntersected=!0,a>p?(h.X=h.Left=b.getXCordinate(p,y+d,g),h.Right=h.X+o.width):(h.X=h.Right=b.getXCordinate(p,y+d,g),h.Left=h.Right-o.width),h.Y=h.Top=b.getYCordinate(et,y+d,g),h.Bottom=h.Y+o.height,st=!0);while(st);l.model.bounds[r]=h;it=b.getXCordinate(p,y+d/3,f);rt=b.getYCordinate(et,y+d/3,f);c.push({X:a,Y:v});c.push({X:it,Y:rt});c.push({X:h.X,Y:h.Y});positionX=h.X;positionY=h.Y;d>0&&(a<p?(ot=h.X-l.model.elementSpacing,positionX=ot-at):(ot=h.X+l.model.elementSpacing,positionX=ot+at),c.push({X:ot,Y:h.Y}));t.marker.dataLabel.connectorLine.type.toLowerCase()!="bezier"||l.vmlRendering?tt="M "+a+" "+v+" L "+it+" "+rt+" M "+it+" "+rt+" L "+h.X+" "+h.Y+" M "+h.X+" "+h.Y+" L "+ot+" "+h.Y:b.drawBezierSegment(c,t,r,l)}else{ht=a;bt=v;a=a+Math.cos(f)*-(y/10);v=v+Math.sin(f)*-(y/10);w=y/4;c.push({X:a,Y:v});a=a+Math.cos(f)*w;v=v+Math.sin(f)*w;c.push({X:a,Y:v});vt=l.model.legend.visible&&l.model.legend.position.toLowerCase()=="left"?l.model.margin.left+l.model.LegendViewerBounds.Width:0;nt=l.model.centerX;a<p?(a=(nt-y-w*2-t.LeftLabelMaxWidth>0?nt-y-w*2+vt:t.LeftLabelMaxWidth>ht?ht:t.LeftLabelMaxWidth+vt)-o.width/2,ct=c[1].X-t.LeftLabelMaxWidth,yt=nt-y-w*2-t.LeftLabelMaxWidth>0?w:t.LeftLabelMaxWidth>ht?0:ct>3*(w/2)?w:ct/2,connectorLineEdge=+o.width/2):(pt=l.model.legend.visible&&l.model.legend.position.toLowerCase()=="right"?l.model.margin.right+l.model.LegendBounds.Width:0,a=(nt+y+w*2+t.RightLabelMaxWidth<n(l.svgObject).width()-pt?nt+y+w*2-vt:nt+y+t.RightLabelMaxWidth>n(l.svgObject).width()?ht:n(l.svgObject).width()-t.RightLabelMaxWidth-pt)+o.width/2,ct=n(l.svgObject).width()-t.RightLabelMaxWidth-c[1].X,yt=nt+y+w*2+t.RightLabelMaxWidth<n(l.svgObject).width()?w:nt+y+t.RightLabelMaxWidth>n(l.svgObject).width()?0:ct>3*(w/2)?w:ct/2,connectorLineEdge=-o.width/2);wt=Math.sqrt(Math.pow(ht-a,2)+Math.pow(bt-v,2))/10;lt=a<p?!0:!1;a=lt?a+wt:a-wt;var kt=lt?1:-1,u=lt?l.model.bounds.left:l.model.bounds.right,h={X:a,Y:v,Left:a,Top:v,Right:a+o.width,Bottom:v+o.height,index:r};if(this.IntersectWith(l,i,h)&&(c.push(a<p?{X:a+yt+connectorLineEdge,Y:v}:{X:a-yt+connectorLineEdge,Y:v}),v=u[i.index+kt].Bottom+2,h.Y=v,h.Top=v,h.Bottom=v+o.height),c.push({X:a+connectorLineEdge,Y:v}),lt?(l.model.bounds.left[i.index]=h,c[c.length-1].X>c[c.length-2].X&&(c[c.length-2].X=c[c.length-1].X)):(l.model.bounds.right[i.index]=h,c[c.length-1].X<c[c.length-2].X&&(c[c.length-2].X=c[c.length-1].X)),tt=ej.EjSvgRender.utils._getStringBuilder(),t.marker.dataLabel.connectorLine.type.toLowerCase()!="bezier"||l.vmlRendering){for(k=0;k<c.length;k++)k==c.length-1?tt.append(" "):tt.append("M "+c[k].X+" "+c[k].Y+" L "+c[k+1].X+" "+c[k+1].Y+" ");tt=tt.toString()}else b.drawBezierSegment(c,t,r,l);positionX=c[c.length-1].X+(a<p?-at:at);positionY=c[c.length-1].Y}return{positionX:positionX,positionY:positionY,connectorDirection:tt}},updateLabelPosition:function(t,i,r,u,f,e,o,s){var h=[],c=s,it=new ej.seriesTypes[t.type],w="",a=u.connector.connectorX,y=u.connector.connectorY,l=u.midPoint.midX,v=u.midPoint.midY,rt=u.doughnutMidPoint.dMidX,ut=u.doughnutMidPoint.dMidY,g=e.startX,ft=e.startY,nt=t.marker.dataLabel.template?0:4,d,et=t.marker.dataLabel.connectorLine.height,p=c.model.Radius,b,tt;if(h.push({X:l,Y:v}),h.push({X:a,Y:y}),positionX=a,positionY=y,t.labelPosition.toLowerCase()=="outside")et>0&&(a<g?(d=a-c.model.elementSpacing,positionX=d-nt):(d=a+c.model.elementSpacing,positionX=d+nt),h.push({X:d,Y:y})),t.marker.dataLabel.connectorLine.type.toLowerCase()!="bezier"||c.vmlRendering?w="M "+l+" "+v+" L "+a+" "+y+" M "+a+" "+y+"L "+d+" "+y:it.drawBezierSegment(h,t,r,c);else if(t.labelPosition.toLowerCase()=="outsideextended"){if(labelX=l,labelY=v,l=l+Math.cos(f)*-(p/10),v=v+Math.sin(f)*-(p/10),h=[],b=p/4,h.push({X:l,Y:v}),a=l+Math.cos(f)*b,y=v+Math.sin(f)*b,h.push({X:a,Y:y}),tt=c.model.legend.visible&&(c.model.legend.position.toLowerCase()=="left"||c.model.legend.position.toLowerCase()=="right")?c.model.elementSpacing:0,a=l<g?c.model.centerX-p-b*2-t.LeftLabelMaxWidth>0?c.model.centerX-p-b*2+tt:t.LeftLabelMaxWidth>labelX?labelX:t.LeftLabelMaxWidth:c.model.centerX+p+b*2+t.RightLabelMaxWidth<n(c.svgObject).width()?c.model.centerX+p+b*2-tt:c.model.centerX+p+t.RightLabelMaxWidth>n(c.svgObject).width()?labelX:n(c.svgObject).width()-t.RightLabelMaxWidth,h.push({X:a,Y:y}),w=ej.EjSvgRender.utils._getStringBuilder(),t.marker.dataLabel.connectorLine.type.toLowerCase()!="bezier"||c.vmlRendering){for(k=0;k<h.length;k++)k==h.length-1?w.append(" "):w.append("M "+h[k].X+" "+h[k].Y+" L "+h[k+1].X+" "+h[k+1].Y+" ");w=w.toString()}else it.drawBezierSegment(h,t,r,c);positionX=h[h.length-1].X+(l<g?-nt:nt);positionY=h[h.length-1].Y}else t.type.toLowerCase()=="doughnut"?(positionX=(l+rt)/2,positionY=(v+ut)/2):(positionX=(l+g)/2,positionY=(v+ft)/2,positionX=(l+positionX)/2,positionY=(v+positionY)/2);return{positionX:positionX,positionY:positionY,connectorDirection:w}},drawDataLabelAcc:function(t,i,r,u){var g,rt,nt,l,ot,e,ut,fi,it,ct;if(u.visible&&i.marker.dataLabel.visible){var f=t,h=new ej.seriesTypes[i.type.toLowerCase()],a,o=0,c=0,ft,lt=ej.util.isNullOrUndefined(f.model.roundingPlaces)?2:f.model.roundingPlaces,p=i.labelPosition.toLowerCase(),w=Math.round(u.YValues[0])==u.YValues[0]?u.YValues[0]:u.YValues[0].toFixed(lt),at={size:i.marker.dataLabel.font.size,fontStyle:i.marker.dataLabel.font.fontStyle,fontFamily:i.marker.dataLabel.font.fontFamily},b=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(u.text)?w:u.text,null,at),e=i.marker.dataLabel.margin,tt=b.width+e.left+e.right,vt=b.height+e.top+e.bottom;if(i.type.toLowerCase()=="pyramid"||i.type.toLowerCase()=="funnel"){var et=f.model.title.text?ej.EjSvgRender.utils._measureText(f.model.title.text,n(this.svgObject).width()-f.model.margin.left-f.model.margin.right,f.model.title.font):0,k=f.model.elementSpacing+f.model.margin.left+(f.model.legend.position.toLowerCase()==="left")?f.model.LegendViewerBounds.Width:0,d=(f.model.legend.position.toLowerCase()==="top"?f.model.LegendViewerBounds.Height:0)+(f.model.title.text?f.model._titleLocation.Y+et.height:f.model.margin.top+f.model.elementSpacing);tt=tt+10;g={X:u.xLocation+k,Y:u.yLocation+d};o=u.xLocation;c=u.yLocation;l=u.marker?u.marker:i.marker;l=n.extend(!0,{},i.marker,l);a=u.connectorLine}if(i.type.toLowerCase()!="pyramid"&&i.type.toLowerCase()!="funnel"){nt=f.model.Radius;ej.util.isNullOrUndefined(i.marker.dataLabel.connectorLine.height)&&(w=ej.util.isNullOrUndefined(u.text)?u.y:u.text,i.marker.dataLabel.connectorLine.height=ej.EjSvgRender.utils._measureText(w,null,i.marker.dataLabel.font).height);rt=i.marker.dataLabel.connectorLine.height;var yt=-.5*Math.PI,v,y,s=u.midAngle+yt;(r==i.explodeIndex||i.explodeAll)&&!f.vmlRendering?(v=f.model.centerX+Math.cos(s)*i.explodeOffset,y=f.model.centerY+Math.sin(s)*i.explodeOffset):(v=f.model.centerX,y=f.model.centerY);var pt=h.getXCordinate(v,nt,s),wt=h.getYCordinate(y,nt,s),bt=h.getXCordinate(v,f.model.dRadius,s),kt=h.getYCordinate(y,f.model.dRadius,s),dt=this.getXCordinate(v,nt+rt,s),gt=this.getYCordinate(y,nt+rt,s);i.marker.dataLabel.template?size=u.size:(l=u.marker?u.marker:i.marker,l=n.extend(!0,{},i.marker,l),ot=l.dataLabel.shape,size=ej.EjSvgRender.utils._measureText(i.visibleLabels[r],n(f.svgObject).width(),i.marker.dataLabel.font),ot.toLowerCase()!="none"&&(e=i.marker.dataLabel.margin,size.height=size.height+e.top+e.bottom,size.width=size.width+e.left+e.right));var ni={midX:pt,midY:wt},ti={dMidX:bt,dMidY:kt},ii={connectorX:dt,connectorY:gt},st={midPoint:ni,doughnutMidPoint:ti,connector:ii},ht={startX:v,startY:y};!i.enableSmartLabels||tt>f.model.m_AreaBounds.Width?(position=h.updateLabelPosition(i,u,r,st,s,ht,size,t),o=position.positionX,c=position.positionY,a=position.connectorDirection):(position=h.updateSmartLabelPosition(i,u,r,st,s,ht,size,t),o=position.positionX,c=position.positionY,a=position.connectorDirection)}var ri=p!="inside"&&p!="insidenooverlap"||(i.type.toLowerCase()=="pyramid"||i.type.toLowerCase()=="funnel")&&p=="outside"?o<f.model.centerX?"end":"start":"middle",ui=p=="inside"||p=="insidenooverlap"?0:o<f.model.centerX?-b.width:b.width,k=0,d=0;this.chartObj&&this.chartObj.model.enableCanvasRendering&&(i.type.toLowerCase()=="pyramid"||i.type.toLowerCase()=="funnel")&&(k=(this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,d=(this.chartObj.model.legend.position.toLowerCase()==="top"?this.chartObj.model.LegendBounds.Height:0)+(this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y+et.height:this.chartObj.model.margin.top+this.chartObj.model.elementSpacing));i.marker.dataLabel.template||(n("#"+f.svgObject.id+"_PointText"+r).remove(),ut={id:f.svgObject.id+"_PointText"+r,x:o+k,y:c+b.height/4+d,fill:i.marker.dataLabel.font.color,"font-size":i.marker.dataLabel.font.size,"font-family":i.marker.dataLabel.font.fontFamily,"font-style":i.marker.dataLabel.font.fontStyle,"font-weight":i.marker.dataLabel.font.fontWeight,opacity:i.marker.dataLabel.font.opacity,"text-anchor":ri},f.svgRenderer.drawText(ut,ej.util.isNullOrUndefined(u.text)?w:u.text,f.gSeriesTextEle));i.marker.dataLabel.template?(g=ej.util.isNullOrUndefined(g)?{X:o,Y:c}:g,fi=u.pointIndex,h.drawLabelTemplate(i,u,r,g,t)):(n.each(f.model.symbolShape,function(t){var r=u.marker?u.marker:i.marker,f;r=n.extend(!0,{},i.marker,r);f=r.dataLabel.shape;f.toLowerCase()==t.toLowerCase()&&(symbolName=t)}),o=k+o-e.left/2+e.right/2+ui/2,c=d+c-e.top/2+e.bottom/2,h.dataLabelSymbol(0,i,r,o,c,tt,vt,symbolName,f),f.svgRenderer.drawText(ut,ej.util.isNullOrUndefined(u.text)?w:u.text,f.gSeriesTextEle));ft=jQuery.type(f.model.pointColors[r])=="array"?f.model.pointColors[r][0].color:f.model.pointColors[r];it=[];it[0]=k;it[1]=d;(i.marker.dataLabel.connectorLine.type.toLowerCase()!="bezier"||f.vmlRendering||i.type.toLowerCase()=="pyramid"||i.type.toLowerCase()=="funnel")&&a!=""&&a&&(ct={id:f.svgObject.id+"_connectorLine"+r,stroke:i.marker.dataLabel.connectorLine.color?i.marker.dataLabel.connectorLine.color:ft,"stroke-width":i.marker.dataLabel.connectorLine.width,d:a},f.svgRenderer.drawPath(ct,f.gSeriesConnectorEle,it))}},drawBezierSegment:function(n,t,i,r){for(var o,f,s,e=ej.EjSvgRender.utils._getStringBuilder(),h=new ej.seriesTypes[t.type.toLowerCase()],u=0;u<=16;u++)o=u/16,f=h.GetBezierPoint(o,n,0,n.length,t),e.append(f.X+","+f.Y+" ");s={id:r.svgObject.id+"_bezierLine"+i,stroke:t.marker.dataLabel.connectorLine.color?t.marker.dataLabel.connectorLine.color:r.model.pointColors[i],"stroke-width":t.marker.dataLabel.connectorLine.width,fill:"none",points:e.toString()};r.svgRenderer.drawPolyline(s,r.gSeriesConnectorEle)},GetBezierPoint:function(n,t,i,r,u){var o=new ej.seriesTypes[u.type.toLowerCase()];if(r==1)return t[i];var f=o.GetBezierPoint(n,t,i,r-1,u),e=o.GetBezierPoint(n,t,i+1,r-1,u),c=f.X?f.X:f.x,l=f.Y?f.Y:f.y,a=e.X?e.X:e.x,v=e.Y?e.Y:e.y,s=(1-n)*c+n*a,h=(1-n)*l+n*v;return f.x?{x:s,y:h}:{X:s,Y:h}},drawLabelTemplate:function(t,i,r,u,f){var h,o,k,d,nt,g,tt,e,rt,ut,c,a,v;f&&(this.chartObj=f);var w=n.inArray(t,this.chartObj.model._visibleSeries),b=this.chartObj.model.AreaType,y=this.chartObj.model.series[w],l=0,p=0,s=this.chartObj._id,it=i.marker?i.marker:t.marker;if(it=n.extend(!0,{},t.marker,it),h={interior:t.marker.dataLabel.fill,opacity:t.marker.dataLabel.opacity,borderColor:t.marker.dataLabel.border.color,borderWidth:t.marker.dataLabel.border.width},nt=this.chartObj.model.chartRegions[r]?this.chartObj.model.chartRegions[r].type:"",b!="none"){if(g=n("#template_group_"+s).length!=0?n("#template_group_"+s):n("<div><\/div>").attr("id","template_group_"+s),g.css("position","relative").css("z-index",1e3),n("#"+t.marker.dataLabel.template).length==0)return;tt=n("#"+t.marker.dataLabel.template).clone();n(tt).attr("id",t.marker.dataLabel.template+"_"+w+"_"+r+"_"+s);e=n(tt);e.css("position","absolute");t.xAxis._valueType.toLowerCase()=="datetime"&&(i.x=Globalize.format(new Date(i.X),ej.util.isNullOrUndefined(t.xAxis.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis.intervalType):t.xAxis.labelFormat));t.xAxis._valueType.toLowerCase()=="category"&&(i.x=ej.EjSvgRender.utils._getLabelContent(r,t.xAxis));i.count=1;rt={series:t,point:i};e.html(e.html().parseTemplate(rt));ut=b=="cartesianaxes"||!t.enableAnimation||t.type.toLowerCase()=="pyramid"||t.type.toLowerCase()=="funnel"?"block":"none";e.css("display",ut).appendTo(n(g));n(g).appendTo("#"+s);c=this.chartObj.model.m_AreaBounds;b!="cartesianaxes"||this.chartObj.model.enable3D||(l=c.X,p=y.yAxis.y);k=e.width()/2;d=e.height();o=ej.util.isNullOrUndefined(h)&&h.interior?h.interior:this.chartObj.model.seriesColors[w]}else o=ej.util.isNullOrUndefined(h)&&h.interior?h.interior:this.chartObj.model.pointColors[i.index],k=this.chartObj.model.centerX>u.X?i.size.width:0,e=n("#template_group_"+s).find("#"+t.marker.dataLabel.template+"_"+w+"_"+r+"_"+s),d=i.size.height/2;(y.type=="hilo"||y.type=="hiloopenclose"||y.type=="candle")&&(o=y.points[r].interior);o=jQuery.type(o)=="array"?o[0].color:o;nt=="bar"||nt=="stackingbar"?(a=u.X+l-k,v=u.Y+c.Y-d):(a=u.X+l-k,v=p+u.Y-d);e.css("left",a).css("top",v).css("background-color",o).css("display","block");b=="cartesianaxes"&&(a>l+c.Width||v>p+c.Height||this.chartObj.zoomed&&(a<l||v<p||a>l+c.Width||v>p+c.Height))&&e.css("display","none")},animateLabelTemplate:function(t){for(var i,u=n.inArray(t,this.chartObj.model._visibleSeries),f=t.points.length,r=0;r<f;r++)i=t.marker.dataLabel.template+"_"+u+"_"+r+"_"+this.chartObj._id,i=n("#"+i),i.css("display","none"),i.delay(1e3).fadeIn(300)},textPosition:function(n,t,i,r,u,f,e){var o=n.marker.dataLabel.horizontalTextAlignment,s=n.marker.dataLabel.verticalTextAlignment,v=n.points.length,c=e,h=10,l,a;return t>0&&(c=this.chartObj.model.chartRegions.length-v+e),r=="column"||r=="stackingcolumn"?(l=this.chartObj.model.chartRegions[c].Region.Bounds.Height,f+=n.marker.dataLabel.textPosition.toLowerCase()=="bottom"?l:n.marker.dataLabel.textPosition.toLowerCase()=="middle"?l/2+i.height/4:i.height/4,o&&o.toLowerCase()=="far"?u+=i.width+h:o&&o.toLowerCase()=="near"&&(u-=i.width+h),s&&s.toLowerCase()=="near"?f+=i.height/3:s&&s.toLowerCase()=="far"&&(f-=i.height/3)):r=="bar"||r=="stackingbar"?(t>0&&(c=this.chartObj.model.chartRegions.length-v+e),a=this.chartObj.model.chartRegions[c].Region.Bounds.Width,f=f+i.height/4,n.marker.dataLabel.textPosition.toLowerCase()=="bottom"?u-=a:n.marker.dataLabel.textPosition.toLowerCase()=="middle"?u-=a/2+i.width/2:u=u-i.width/4,o&&o.toLowerCase()=="far"?u+=i.width-i.width/4:o&&o.toLowerCase()=="near"?u-=i.width/4:u+=i.width/4,s&&s.toLowerCase()=="near"?f+=i.height:s&&s.toLowerCase()=="far"&&(f-=i.height)):r=="polar"||r=="radar"?(f+=i.height/4,n.marker.dataLabel.textPosition.toLowerCase()=="bottom"?f+=i.height:n.marker.dataLabel.textPosition.toLowerCase()=="top"&&(f-=i.height),o&&o.toLowerCase()=="far"?u+=i.width:o&&o.toLowerCase()=="near"&&(u-=i.width),s&&s.toLowerCase()=="near"?f+=i.height/2:s&&s.toLowerCase()=="far"&&(f-=i.height/2)):(n.marker.dataLabel.textPosition.toLowerCase()=="bottom"?f+=2*i.height+h:n.marker.dataLabel.textPosition.toLowerCase()=="top"&&(f-=h+i.height/1),o&&o.toLowerCase()=="far"?u+=i.width+h:o&&o.toLowerCase()=="near"&&(u-=i.width+h),s&&s.toLowerCase()=="near"?f+=i.height+h:s&&s.toLowerCase()=="far"&&(f-=h+i.height/2)),{x:u,y:f}},drawSymbolImage:function(t,i){var r=t.points[i],u,f;if(r.visible){if(r.marker&&(!(r.marker.visible||t.marker.visible)||r.marker.shape!=this.chartObj.model.symbolShape.image))return;u=r.marker?r:t;u=n.extend(!0,{},t.marker,u);u.shape.toLowerCase()=="image"&&(f=new Image,f.src=u.imageUrl,u.image=f)}},changeCrossHairSymbol:function(t,i,r,u,f){var e,o;return ej.util.isNullOrUndefined(i)||(e={},t=n.extend(!0,{},f.marker,t),e=n.extend(!0,{},this.chartObj.model.crosshair.marker,e),ej.util.isNullOrUndefined(e.shape)&&(e.shape=t.shape),(!this.chartObj.model.crosshair.visible||ej.util.isNullOrUndefined(e.fill))&&f.type.toLowerCase()!="bubble"&&f.type.toLowerCase()!="scatter"&&(e.fill=e.shape.toLowerCase()=="cross"||e.shape.toLowerCase()=="horizline"||e.shape.toLowerCase()=="vertline"?jQuery.type(this.chartObj.model.seriesColors[u])=="array"?this.chartObj.model.seriesColors[u][0].color:this.chartObj.model.seriesColors[u]:t.border.color),f.type.toLowerCase()!="bubble"||this.chartObj.model.enableCanvasRendering?(e.size.width<=t.size.width&&(e.size.width=t.size.width+2),e.size.height<=t.size.height&&(e.size.height=t.size.height+2),(ej.util.isNullOrUndefined(e.border.color)||!this.chartObj.model.crosshair.visible)&&(e.border.color=ej.util.isNullOrUndefined(t.fill)?jQuery.type(this.chartObj.model.seriesColors[u])=="array"?this.chartObj.model.seriesColors[u][0].color:this.chartObj.model.seriesColors[u]:jQuery.type(t.fill)=="array"?t.fill._gradientStop[0].color:t.fill)):(o=n(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_circlesymbol_"+r+"_"+u)[0].getBoundingClientRect(),e.size.width=(o.right-o.left)/2+15,e.size.height=(o.bottom-o.top)/2+15)),f._trackMarker=e,e},dataLabelSymbol:function(n,t,i,r,u,f,e,o,s){var h=s;if(o!="None"){var c=t.points[i],l={startX:r,startY:u},a=h.gSymbolGroupEle,v=c.marker?c.marker:t.marker,y={interior:t.marker.dataLabel.fill,opacity:t.marker.dataLabel.opacity,borderColor:t.marker.dataLabel.border.color,borderWidth:t.marker.dataLabel.border.width},p={style:y,gradientName:"symbol",symbolEle:a,width:f,height:e,point:c,location:l,seriesIndex:n,pointIndex:i,element:v,symbolName:o,id:h.svgObject.id+"_dataLabel_"+n+"_"+i};this.drawSymbolStyle(p,h)}},drawSymbolStyle:function(t,i){var r=i,k,d,g,f=t.style,it=t.gradientName,e=t.symbolEle,l=t.width,a=t.height,v=t.point,s=t.location,o=t.seriesIndex,rt=t.visibility,h=t.pointIndex,nt=t.element,y=t.symbolName,tt=t.trackSymbol,w,p,u,b,c;f!=null&&(f.borderColor!=""&&(k=f.borderColor?f.borderColor:"transparent"),g=f.opacity,f.borderWidth&&(d=f.borderWidth));w=null;w=f.interior?ej.util.isNullOrUndefined(f.interior._gradientStop)?f.interior:f.interior._gradientStop:v.fill?ej.util.isNullOrUndefined(v.fill._gradientStop)?v.fill:v.fill._gradientStop:r.model.AreaType!="none"?r.model.seriesColors[o]:r.model.pointColors[h];r.symbolColorName=r.svgRenderer.createGradientElement(it+o,w,0,0,0,n(r.svgObject).height(),e);p={ShapeSize:{width:l,height:a},Style:{BorderColor:k,BorderWidth:d,Opacity:g,Visibility:rt,Color:r.symbolColorName},PointIndex:h,SeriesIndex:o,Imageurl:nt.imageUrl,Image:nt.image,ID:t.id};u=n.extend({},ej.EjSvgRender.commonChartEventArgs);u.data={location:s,style:p};r._trigger("symbolRendering",u);u.Cancel||(r.model.enableCanvasRendering?(b=r.model.series[o].type.toLowerCase(),s.startY=s.startY+(r.model.series[o].yAxis.y?r.model.series[o].yAxis.y-r.canvasY:0),u.data.location.startY=s.startY,ej.util.isNullOrUndefined(tt)?(b!="pyramid"&&b!="funnel"?(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.rect(r.model.m_AreaBounds.X,r.model.m_AreaBounds.Y,r.model.m_AreaBounds.Width,r.model.m_AreaBounds.Height),r.svgRenderer.ctx.clip(),ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,u.data.style,r,e),r.svgRenderer.ctx.restore()):ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,u.data.style,r,e),r.model.series[o].type.toLowerCase()=="scatter"&&(c=r.model.series[o],l=p.ShapeSize.width,a=p.ShapeSize.height,c.points[h].cx=s.startX-l,c.points[h].cy=s.startY-a,c.points[h].width=l,c.points[h].height=a)):r.svgRenderer.trackSymbol(u.data.style,u.data.location,y,tt,r)):ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,u.data.style,r,e?e:i.chart3D));!i.chart3D&&r.model.AreaType=="none"&&n(e).children().not("defs").length>r.model._visibleSeries[o].visiblePoints.length&&n(e.childNodes[t.pointIndex]).replaceWith(n(e.childNodes[n(e.childNodes).length-1]))},drawSymbol:function(t,i,r,u,f,e,o){ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=e);var h=i.points[r],c="None",l=this.changeCrossHairSymbol(h.marker?h.marker:i.marker,o,r,t,i),s=l?l:n.extend(!0,{},i.marker,h.marker);if(n.each(this.chartObj.model.symbolShape,function(n){s.shape.toLowerCase()==n.toLowerCase()&&(c=n)}),c!="None"){var a=this.chartObj.model.AreaType=="cartesianaxes"?{startX:u+this.chartObj.canvasX,startY:f+this.chartObj.canvasY}:{startX:u,startY:f},v={interior:s.fill,opacity:s.opacity,borderColor:s.border.color,borderWidth:s.border.width},y=o?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle,p=o?this.chartObj.svgObject.id+"_trackSymbol_"+t+"_"+r:this.chartObj.svgObject.id+"_symbol_"+t+"_"+r,w=o?"TrackSymbol":"symbol",b=s.size.width,k=s.size.height,d={style:v,gradientName:w,symbolEle:y,width:b,height:k,point:h,location:a,seriesIndex:t,pointIndex:r,element:s,visibility:h.visible?"visible":"hidden",symbolName:c,trackSymbol:o,id:p};this.drawSymbolStyle(d,this.chartObj)}},chartAreaType:"cartesianAxes",requireInvertedAxes:!1,stackingSeries:!1,hiloTypes:!1};ej.ejLineSeries=t(ej.EjSeriesRender);ej.seriesTypes.line=ej.ejLineSeries;ej.ejStepLineSeries=t(ej.EjSeriesRender,{draw:function(n,t){var r,e;this.chartObj=n;var l,c=ej.EjSvgRender.utils._getStringBuilder(),i=t,v=this.setLineSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal());var f=this.improveChartPerformance(i),s=null,o,h=0;for(i.xAxis._valueType.toLowerCase()=="category"&&i.xAxis.labelPlacement.toLowerCase()!="onticks"&&(h=.5),r=0;r<=f.length;r++)if(r<f.length&&f[r].visible){if(o={X:f[r].X-h,YValues:[f[r].y]},e=ej.EjSvgRender.utils._getPoint(o,i),s!=null&&f.length>0){var y={X:o.X,YValues:[s.YValues[0]]},a=ej.EjSvgRender.utils._getPoint(y,i),u=this.chartObj;c.append("M "+(e.X+u.canvasX)+" "+(e.Y+u.canvasY)+" L "+(a.X+u.canvasX)+" "+(a.Y+u.canvasY)+" L "+(point2.X+u.canvasX)+" "+(point2.Y+u.canvasY)+" ")}s=o;point2=e}else r==f.length&&h>0?(o={X:f[r-1].X+h,YValues:[f[r-1].y]},e=ej.EjSvgRender.utils._getPoint(o,i),c.append("M "+(e.X+u.canvasX)+" "+(e.Y+u.canvasY)+" L "+(point2.X+u.canvasX)+" "+(point2.Y+u.canvasY)+" ")):s=null;l=c.toString();this._drawLinePath(i,v,l);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}});ej.ejStepAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t){var r,l,w,y,e;this.chartObj=n;var p,h=ej.EjSvgRender.utils._getStringBuilder(),f=t,b=this.setAreaSeriesStyle(f);f.sorting&&(f.points=ej.DataManager(f.points,ej.Query().sortBy("X")).executeLocal());var u=this.improveChartPerformance(f),o=0,a=null,s;f.xAxis._valueType.toLowerCase()=="category"&&f.xAxis.labelPlacement.toLowerCase()!="onticks"&&(o=.5);var k=Math.max(t.yAxis.visibleRange.min,0),c=null,v=!0,i=this.chartObj;for(r=0;r<=u.length;r++)r<u.length?u[r].visible?(s={X:u[r].X-o,YValues:[u[r].y]},e=ej.EjSvgRender.utils._getPoint(s,f),c||(c={X:u[r].X-o,YValues:[k]},l=ej.EjSvgRender.utils._getPoint(c,f),h.append("M "+(l.X+i.canvasX)+" "+(l.Y+i.canvasY))),a!=null&&(w={X:s.X,YValues:[a.YValues[0]]},y=ej.EjSvgRender.utils._getPoint(w,f),v&&(h.append(" L "+(point2.X+i.canvasX)+" "+(point2.Y+i.canvasY)+" "),v=!1),h.append("L "+(y.X+i.canvasX)+" "+(y.Y+i.canvasY)+" L "+(e.X+i.canvasX)+" "+(e.Y+i.canvasY)+" "),(o==0&&r==u.length-1||r<u.length-1&&!u[r+1].visible)&&(o>0?(s={X:u[r].X+o,YValues:[u[r].y]},e=ej.EjSvgRender.utils._getPoint(s,f),h.append("L "+(e.X+i.canvasX)+" "+(e.Y+i.canvasY)+" L "+(e.X+i.canvasX)+" "+(l.Y+i.canvasY)+" ")):h.append("L "+e.X+i.canvasX+" "+(l.Y+i.canvasY)+" "),c=null,a=null,v=!0)),c&&(point2=e,a=s)):(c=null,a=null,v=!0):u[r-1].visible&&o>0&&(s={X:u[r-1].X+o,YValues:[u[r-1].y]},e=ej.EjSvgRender.utils._getPoint(s,f),h.append("L "+(e.X+i.canvasX)+" "+(e.Y+i.canvasY)+" L "+(e.X+i.canvasX)+" "+(l.Y+i.canvasY)+" "));p=h.toString();this.drawAreaPath(f,b,p);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}});ej.seriesTypes.steparea=ej.ejStepAreaSeries;ej.seriesTypes.stepline=ej.ejStepLineSeries;ej.ejColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i){var f,e,p,w,b,a;this.chartObj=t;var u=i,c=n.inArray(u,this.chartObj.model._visibleSeries),k=Math.max(i.yAxis.visibleRange.min,0),d=this.getSideBySideInfo(u),v=this._isVisiblePoints(u),g=u.xAxis.x,nt=u.yAxis.y,tt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+g+","+nt+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(tt),f=this,e=0;e<v.length;e++){var l=e,o=v[e],s=o.YValues[0],it=k;if(o.visible){var y=f.calculateSides(o,d),rt=y.x1,ut=y.x2,h=this.chartObj.setStyle(f,u,c,l),r=f.getRectangle(rt,s,ut,it,u);r.X<0&&(r.Width=r.Width+r.X,r.X=0);r.Width=r.X+r.Width>f.chartObj.model.m_AreaBounds.Width?f.chartObj.model.m_AreaBounds.Width-r.X:r.Width;p=Math.min(0,r.Width);w=Math.min(0,r.Height);(p==0||w==0)&&r.Width>0&&(i={id:f.chartObj.svgObject.id+"_Series"+c+"_Point"+l,x:r.X+f.chartObj.canvasX,y:r.Y+f.chartObj.canvasY,width:r.Width,height:r.Height,fill:h.interior,"stroke-width":h.borderWidth,plot:s<0?"negative":"positive",opacity:h.opacity,stroke:h.borderColor},f.chartObj.svgRenderer.drawRect(i,f.gSeriesGroupEle),a=ej.EjSvgRender.utils._getSvgXY(r.X,r.Y,u,f.chartObj),b={X:a.X,Y:a.Y,Width:r.Width,Height:r.Height},ej.EjSvgRender.utils._addRegion(f.chartObj,b,u,o,l));(!ej.util.isNullOrUndefined(u.marker)&&u.marker.visible||!ej.util.isNullOrUndefined(u.marker)&&u.marker.dataLabel.visible)&&(o.symbolLocation={X:r.X+r.Width/2,Y:s<0&&!u.yAxis.isInversed||u.yAxis.isInversed&&s>0?r.Y+r.Height:r.Y})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var e,u,i,o,f=n(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),r=0;r<f.length;r++)e=f[r],this.animateRect(e,t);for(u=n(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<u.length;i++)o=u[i],this._doLineSymbol(o,500,2,t,this.chartObj.model.requireInvertedAxes)}});ej.seriesTypes.column=ej.ejColumnSeries;ej.ejStackingColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i){var f,e,p,w,b,a;this.chartObj=t;var u=i,c=n.inArray(u,this.chartObj.model._visibleSeries),k=this.getSideBySideInfo(u),v=this._isVisiblePoints(u),d=u.xAxis.x,g=u.yAxis.y,nt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+d+","+g+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(nt),f=this,e=0;e<v.length;e++){var l=e,o=v[e],tt=u.stackedValue.StartValues[e],s=u.stackedValue.EndValues[e];if(o.visible){var y=f.calculateSides(o,k),it=y.x1,rt=y.x2,h=this.chartObj.setStyle(f,u,c,l),r=f.getRectangle(it,s,rt,tt,u);r.X<0&&(r.Width=r.Width+r.X,r.X=0);r.Width=r.X+r.Width>f.chartObj.model.m_AreaBounds.Width?f.chartObj.model.m_AreaBounds.Width-r.X:r.Width;p=Math.min(0,r.Width);w=Math.min(0,r.Height);(p==0||w==0)&&(i={id:f.chartObj.svgObject.id+"_Series"+c+"_Point"+l,x:r.X+f.chartObj.canvasX,y:r.Y+f.chartObj.canvasY,width:r.Width,height:r.Height,fill:h.interior,"stroke-width":h.borderWidth,plot:s<0?"negative":"positive",opacity:h.opacity,stroke:h.borderColor},f.chartObj.svgRenderer.drawRect(i,f.gSeriesGroupEle),a=ej.EjSvgRender.utils._getSvgXY(r.X,r.Y,u,f.chartObj),b={X:a.X,Y:a.Y,Width:r.Width,Height:r.Height},ej.EjSvgRender.utils._addRegion(f.chartObj,b,u,o,l));(!ej.util.isNullOrUndefined(u.marker)&&u.marker.visible||!ej.util.isNullOrUndefined(u.marker)&&u.marker.dataLabel.visible)&&(o.symbolLocation={X:r.X+r.Width/2,Y:s<0&&!u.yAxis.isInversed||u.yAxis.isInversed&&s>0?r.Y+r.Height:r.Y})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var e,u,i,o,f=n(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),r=0;r<f.length;r++)e=f[r],this.animateStackingRect(e,t,this.chartObj.model.requireInvertedAxes);for(u=n(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<u.length;i++)o=u[i],this._doLineSymbol(o,500,2,t,this.chartObj.model.requireInvertedAxes)},stackingSeries:!0});ej.seriesTypes.stackingcolumn=ej.ejStackingColumnSeries;ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries;ej.ejRangeColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i){var f,o,a,w,b,k,v;this.chartObj=t;var u=i,h=n.inArray(u,this.chartObj.model._visibleSeries),d=this.getSideBySideInfo(u),y=this._isVisiblePoints(u),g=u.xAxis.x,nt=u.yAxis.y,tt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+h,transform:"translate("+g+","+nt+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(tt),f=this,o=0;o<y.length;o++){var c=o,e=y[o],l=e.YValues[0],it=e.YValues[1];if(e.visible){var p=f.calculateSides(e,d),rt=p.x1,ut=p.x2,s=this.chartObj.setStyle(f,u,h,c),r=f.getRectangle(rt,l,ut,it,u);r.X<0&&(r.Width=r.Width+r.X,r.X=0);a=f.chartObj.model.m_AreaBounds.Width;r.Width=r.X+r.Width>a?a-r.X:r.Width;w=Math.min(0,r.Width);b=Math.min(0,r.Height);(w==0||b==0)&&(i={id:f.chartObj.svgObject.id+"_series"+h+"_Point"+c,x:r.X+f.chartObj.canvasX,y:r.Y+f.chartObj.canvasY,width:r.Width,height:r.Height,fill:s.interior,"stroke-width":s.borderWidth,opacity:s.opacity,stroke:s.borderColor},f.chartObj.svgRenderer.drawRect(i,f.gSeriesGroupEle),v=ej.EjSvgRender.utils._getSvgXY(r.X,r.Y,u,f.chartObj),k={X:v.X,Y:v.Y,Width:r.Width,Height:r.Height},ej.EjSvgRender.utils._addRegion(f.chartObj,k,u,e,c));(!ej.util.isNullOrUndefined(u.marker)&&u.marker.visible||!ej.util.isNullOrUndefined(u.marker)&&u.marker.dataLabel.visible)&&(e.symbolLocation={X:r.X+r.Width/2,Y:l<0&&!u.yAxis.isInversed||u.yAxis.isInversed&&l>0?r.Y+r.Height:r.Y})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var e,u,i,o,f=n(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),r=0;r<f.length;r++)e=f[r],this.animateRect(e,t);for(u=n(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<u.length;i++)o=u[i],this._doLineSymbol(o,500,2,t,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0});ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries;ej.ejStackingBarSeries=t(ej.EjSeriesRender,{getPointXYOrgin:function(n,t,i){var r=(1-ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,n))*i.xAxis.height,u=ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t)*i.yAxis.width;return{X:u,Y:r}},getRectangle:function(n,t,i,r,u){var f=this.getPointXYOrgin(n,t,u),e=this.getPointXYOrgin(i,r,u);return ej.EjSvgRender.utils._correctRect(f.X,f.Y,e.X,e.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},draw:function(t,i){var f,e,w,a;this.chartObj=t;var r=i,h=n.inArray(r,this.chartObj.model._visibleSeries),b=this.getSideBySideInfo(r),v=this._isVisiblePoints(r),y=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,this.chartObj.model.requireInvertedAxes),k={id:this.chartObj.svgObject.id+"_SeriesGroup_"+h,transform:"translate("+y.x+","+y.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(k),f=this,e=0;e<v.length;e++){var c=e,o=v[e],l=r.stackedValue.EndValues[e],d=r.stackedValue.StartValues[e];if(o.visible){var p=f.calculateSides(o,b),g=p.x1,nt=p.x2,s=this.chartObj.setStyle(f,r,h,c),u=f.getRectangle(g,l,nt,d,r),tt=Math.min(0,u.Width),it=Math.min(0,u.Height);(tt==0||it==0)&&(i={id:f.chartObj.svgObject.id+"_Series"+h+"_Point"+c,x:u.X+f.chartObj.canvasX,y:u.Y+f.chartObj.canvasY,width:u.Width,height:u.Height,fill:s.interior,"stroke-width":s.borderWidth,opacity:s.opacity,stroke:s.borderColor},f.chartObj.svgRenderer.drawRect(i,f.gSeriesGroupEle),a=ej.EjSvgRender.utils._getSvgXY(u.X,u.Y,r,f.chartObj),w={X:a.X,Y:a.Y,Width:u.Width,Height:u.Height},ej.EjSvgRender.utils._addRegion(f.chartObj,w,r,o,c));(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.dataLabel.visible)&&(o.symbolLocation={X:l<0&&!r.yAxis.isInversed||r.yAxis.isInversed&&l>0?u.X:u.X+u.Width,Y:u.Y+u.Height/2})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var e,u,i,o,f=n(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),r=0;r<f.length;r++)e=f[r],this.animateStackingBar(e,t,this.chartObj.model.requireInvertedAxes);for(u=n(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<u.length;i++)o=u[i],this._doLineSymbol(o,500,2,t,this.chartObj.model.requireInvertedAxes)},stackingSeries:!0,requireInvertedAxes:!0});ej.seriesTypes.stackingbar=ej.ejStackingBarSeries;ej.ejBarSeries=t(ej.EjSeriesRender,{getPointXYOrgin:function(n,t,i,r,u){var f=(1-ej.EjSvgRender.utils._valueToCoefficient(u.xAxis,n))*u.xAxis.height,e=ej.EjSvgRender.utils._valueToCoefficient(u.yAxis,t)*u.yAxis.width;return{X:e,Y:f}},getRectangle:function(n,t,i,r,u){var f=u.xAxis.visibleRange.min,e=Math.max(u.yAxis.visibleRange.min,0),o=this.getPointXYOrgin(n,t,f,e,u),s=this.getPointXYOrgin(i,r,f,e,u);return ej.EjSvgRender.utils._correctRect(o.X,o.Y,s.X,s.Y)},calculateSides:function(n,t){var i=n.X+t.Start,r=n.X+t.End;return{x1:i,x2:r}},draw:function(t,i){var f,e,w,a;this.chartObj=t;var r=i,c=n.inArray(r,this.chartObj.model._visibleSeries),b=Math.max(i.yAxis.visibleRange.min,0),ut=n.extend(!0,{},this.chartObj.model.seriesStyle,r.style),k=this.getSideBySideInfo(r),v=this._isVisiblePoints(r),y=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,this.chartObj.model.requireInvertedAxes),d={id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+y.x+","+y.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(d),f=this,e=0;e<v.length;e++){var l=e,o=v[e],s=o.YValues[0],g=b;if(o.visible){var p=f.calculateSides(o,k),nt=p.x1,tt=p.x2,h=this.chartObj.setStyle(f,r,c,l),u=f.getRectangle(nt,s,tt,g,r),it=Math.min(0,u.Width),rt=Math.min(0,u.Height);(it==0||rt==0)&&(i={id:f.chartObj.svgObject.id+"_Series"+c+"_Point"+l,x:u.X+f.chartObj.canvasX,y:u.Y+f.chartObj.canvasY,width:u.Width,height:u.Height,fill:h.interior,"stroke-width":h.borderWidth,plot:s<0?"negative":"positive",opacity:h.opacity,stroke:h.borderColor},f.chartObj.svgRenderer.drawRect(i,f.gSeriesGroupEle),a=ej.EjSvgRender.utils._getSvgXY(u.X,u.Y,r,f.chartObj),w={X:a.X,Y:a.Y,Width:u.Width,Height:u.Height},ej.EjSvgRender.utils._addRegion(f.chartObj,w,r,o,l));(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.dataLabel.visible)&&(o.symbolLocation={X:s<0&&!r.yAxis.isInversed||r.yAxis.isInversed&&s>0?u.X:u.X+u.Width,Y:u.Y+u.Height/2})}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var e,u,i,o,f=n(this.chartObj.gSeriesEle).find("#"+this.gSeriesGroupEle.id).children("rect"),r=0;r<f.length;r++)e=f[r],this.animateBarRect(e,t,this.chartObj.model.requireInvertedAxes);for(u=n(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<u.length;i++)o=u[i],this._doLineSymbol(o,500,2,t,this.chartObj.model.requireInvertedAxes)},requireInvertedAxes:!0});ej.seriesTypes.bar=ej.ejBarSeries;ej.ejStackingAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t){var i;this.chartObj=n;var v,h=ej.EjSvgRender.utils._getStringBuilder(),r=t,p=this.setAreaSeriesStyle(r);r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var u=this._isVisiblePoints(r),c=Math.max(t.yAxis.visibleRange.min,r.stackedValue.StartValues[0]),e=this.chartObj.canvasX,o=this.chartObj.canvasY,w={X:u[0].X,YValues:[c]},y=ej.EjSvgRender.utils._getPoint(w,r);for(h.append("M "+(y.X+e)+" "+(y.Y+o)+" "),i=0;i<r.stackedValue.EndValues.length;i++)u[i].visible&&u.length>i+1&&(l={X:u[i].X,YValues:[r.stackedValue.EndValues[i]]},a=u[i+1].visible?{X:u[i+1].X,YValues:[r.stackedValue.EndValues[i+1]]}:{X:u[i].X,YValues:[c]},f=ej.EjSvgRender.utils._getPoint(l,r),s=ej.EjSvgRender.utils._getPoint(a,r),i>0&&!u[i-1].visible&&(previouspoint=ej.EjSvgRender.utils._getPoint({X:u[i-1].X,YValues:[c]},r),h.append("L "+(previouspoint.X+e)+" "+(previouspoint.Y+o)+"  L "+(f.X+e)+" "+(previouspoint.Y+o)+" ")),h.append("L "+(f.X+e)+" "+(f.Y+o)+" L "+(s.X+e)+" "+(s.Y+o)+" "));for(i=r.stackedValue.StartValues.length-1;i>0;i--)if(u[i].visible){var l={X:u[i].X,YValues:[r.stackedValue.StartValues[i]]},a={X:u[i-1].X,YValues:[r.stackedValue.StartValues[i-1]]},f=ej.EjSvgRender.utils._getPoint(l,r),s=ej.EjSvgRender.utils._getPoint(a,r);this.chartObj.model.enableCanvasRendering?h.append("L "+(f.X+e)+" "+(f.Y+o)+" L "+(s.X+e)+" "+(s.Y+o)+" "):h.append(f.X+" "+f.Y+" "+s.X+" "+s.Y+" ")}v=h.toString();this.drawAreaPath(r,p,v);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)},stackingSeries:!0});ej.seriesTypes.stackingarea=ej.ejStackingAreaSeries;ej.ejAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t){var r,c,l,f,p,a;this.chartObj=n;var v,e=ej.EjSvgRender.utils._getStringBuilder(),u=t,w=this.setAreaSeriesStyle(u),y=this.chartObj;u.points=ej.DataManager(u.points,ej.Query().sortBy("X")).executeLocal();var i=this._isVisiblePoints(u),s=Math.max(t.yAxis.visibleRange.min,0),o,h=[];for(h[0]=y.canvasX,h[1]=y.canvasY,r=0;r<i.length;r++)i[r].visible&&(i.length>r+1?(o||(o={X:i[r].X,YValues:[s]},f=ej.EjSvgRender.utils._getPoint(o,u),e.append("M "+f.X+" "+f.Y)),f=ej.EjSvgRender.utils._getPoint(i[r],u),e.append(" L "+f.X+" "+f.Y),i[r+1].visible||(point={X:i[r].X,YValues:[s]},c=ej.EjSvgRender.utils._getPoint(point,u),l=ej.EjSvgRender.utils._getPoint(o,u),e.append(" L "+c.X+" "+c.Y+" L "+l.X+" "+l.Y),o=null)):i[r-1]&&i[r-1].visible&&(f=ej.EjSvgRender.utils._getPoint(i[r],u),e.append(" L "+f.X+" "+f.Y)));p={X:i[i.length-1].X,YValues:[s]};a=ej.EjSvgRender.utils._getPoint(p,u);i.length>1&&e.append(" L "+a.X+" "+a.Y+" ");v=e.toString();this.drawAreaPath(u,w,v,h);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}});ej.seriesTypes.area=ej.ejAreaSeries;ej.ejRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t){var i,c,l,e,s,h,p,v,r,a,f;this.chartObj=n;var y,o=ej.EjSvgRender.utils._getStringBuilder(),u=t,w=this.setAreaSeriesStyle(u);for(u.points=ej.DataManager(u.points,ej.Query().sortBy("X")).executeLocal(),i=this._isVisiblePoints(u),c=[],c[0]=this.chartObj.canvasX,c[1]=this.chartObj.canvasY,r=0;r<i.length;r++)if(i[r].visible)if(i.length>r+1){if(l||(e=i[r].low,l={X:i[r].X,YValues:[e]},s=ej.EjSvgRender.utils._getPoint(l,u),o.append("M "+s.X+" "+s.Y)),s=ej.EjSvgRender.utils._getPoint(i[r],u),o.append(" L "+s.X+" "+s.Y),!i[r+1].visible){for(h=r;h>=0;h--)if(i[h].visible)e=i[h].low,a={X:i[h].X,YValues:[e]},f=ej.EjSvgRender.utils._getPoint(a,u),o.append(" L "+f.X+" "+f.Y);else break;l=null}}else e=i[r].high,p={X:i[i.length-1].X,YValues:[e]},v=ej.EjSvgRender.utils._getPoint(p,u),i.length>1&&o.append(" L "+v.X+" "+v.Y);for(r=i.length;r>0;r--)if(i[r-1].visible)e=i[r-1].low,a={X:i[r-1].X,YValues:[e]},f=ej.EjSvgRender.utils._getPoint(a,u),o.append(" L "+f.X+" "+f.Y);else if(i.length>r){f=ej.EjSvgRender.utils._getPoint(i[r],u);o.append(" L "+f.X+" "+f.Y);break}y=o.toString();this.drawAreaPath(u,w,y,c);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)},hiloTypes:!0});ej.seriesTypes.rangearea=ej.ejRangeAreaSeries;ej.ejSplineSeries=t(ej.EjSeriesRender,{draw:function(n,t){var e,o;this.chartObj=n;var i=t,s="",h=ej.EjSvgRender.utils._getStringBuilder(),g=this.setLineSeriesStyle(i),c=this.naturalSpline(i.points),u=null,f=null,l=-1,a=this._isVisiblePoints(i);for(e=0;e<a.length;e++)if(o=e,f=a[e],f.visible){if(u!=null){var v=null,y=null,p=this.getBezierControlPoints(u,f,c[l],c[o],0);v=p.controlPoint1;y=p.controlPoint2;var w=ej.EjSvgRender.utils._getPoint(u,i),b=ej.EjSvgRender.utils._getPoint(f,i),k=ej.EjSvgRender.utils._getPoint(v,i),d=ej.EjSvgRender.utils._getPoint(y,i),r=this.chartObj;h.append("M "+(w.X+r.canvasX)+" "+(w.Y+r.canvasY)+" C "+(k.X+r.canvasX)+" "+(k.Y+r.canvasY)+" "+(d.X+r.canvasX)+" "+(d.Y+r.canvasY)+" "+(b.X+r.canvasX)+" "+(b.Y+r.canvasY)+" ")}u=f;l=o}else u=null;s=h.toString();this._drawLinePath(i,g,s);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}});ej.seriesTypes.spline=ej.ejSplineSeries;ej.ejSplineAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t){var ft,r,o,a;this.chartObj=n;var i=t,p="",s=ej.EjSvgRender.utils._getStringBuilder(),rt=this.setAreaSeriesStyle(i),w=this.naturalSpline(i.points),f=null,e=null,b=-1;i.points=ej.DataManager(i.points,ej.Query().sortBy("X")).executeLocal();var u=this._isVisiblePoints(i),ut=Math.max(t.yAxis.visibleRange.min,0),h=null,c=!0,k=this.chartObj,l=[];for(l[0]=k.canvasX,l[1]=k.canvasY,ft=0,r=0;r<u.length;r++)if(o=r,e=u[r],e.visible){if(h||(h={X:u[r].X,YValues:[ut]},a=ej.EjSvgRender.utils._getPoint(h,i)),f!=null){var d=null,g=null,nt=this.getBezierControlPoints(f,e,w[b],w[o],0);d=nt.controlPoint1;g=nt.controlPoint2;var v=ej.EjSvgRender.utils._getPoint(f,i),y=ej.EjSvgRender.utils._getPoint(e,i),tt=ej.EjSvgRender.utils._getPoint(d,i),it=ej.EjSvgRender.utils._getPoint(g,i);c&&(s.append("M "+v.X+" "+a.Y+" L "+v.X+" "+v.Y+" "),c=!1);s.append("C "+tt.X+" "+tt.Y+" "+it.X+" "+it.Y+" "+y.X+" "+y.Y+" ");(o==u.length-1||o<u.length-1&&!u[r+1].visible)&&(s.append("L "+y.X+" "+a.Y),h=null,c=!0)}f=e;b=o}else f=null;p=s.toString();this.drawAreaPath(i,rt,p,l);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(n){this._doLineAnimation(n)}});ej.seriesTypes.splinearea=ej.ejSplineAreaSeries;ej.ejScatterSeries=t(ej.EjSeriesRender,{draw:function(n,t){this.chartObj=n;var i=t;this._isVisiblePoints(i);i.marker.visible||(i.marker.visible=!0)},doAnimation:function(t){for(var r=n(this.chartObj.gSymbolGroupEle).children().not("defs"),i=0;i<r.length;i++){var u=0,f=Math.floor(Math.random()*(20-u)+u),e=parseInt(f*50);this.animateSymbol(r[i],e,t,this.chartObj.model.requireInvertedAxes)}}});ej.seriesTypes.scatter=ej.ejScatterSeries;ej.ejBubbleSeries=t(ej.EjSeriesRender,{createBubbleGroup:function(t){var i=n.inArray(t,this.chartObj.model.series),r=t.xAxis.x,u=t.yAxis.y,f={id:this.chartObj.svgObject.id+"_SeriesGroup_"+i,transform:"translate("+r+","+u+")"};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(f)},draw:function(t,i){var r,u,f,y,d;this.chartObj=t;r=i;r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var l=n.inArray(r,this.chartObj.model._visibleSeries),c=this._isVisiblePoints(r),a=1,v=i.bubbleOptions&&i.bubbleOptions.minRadius?i.bubbleOptions.minRadius:10,g=i.bubbleOptions&&i.bubbleOptions.maxRadius?i.bubbleOptions.maxRadius:30,nt=g-v,e,tt=Math.max.apply(0,n.map(c,function(n){return n.YValues[a]}));for(this.createBubbleGroup(r),u=0;u<c.length;u++)if(f=c[u],y=u,f.visible){e=v+nt*Math.abs(f.YValues[a]/tt);var o=ej.EjSvgRender.utils._getPoint(f,r),s=this.chartObj.setStyle(this,r,l,y),it={id:this.chartObj.svgObject.id+"_circlesymbol_"+u+"_"+l,cx:o.X+this.chartObj.canvasX,cy:o.Y+this.chartObj.canvasY,r:e,fill:s.interior,"stroke-width":s.borderWidth,opacity:s.opacity,stroke:s.borderColor};f.radius=e;this.chartObj.svgRenderer.drawCircle(it,this.gSeriesGroupEle);var rt=o.X,ut=o.Y,h=e,p,w,b,k;w=rt-h+r.xAxis.x;b=ut-h+r.yAxis.y;k=2*h;p=2*h;d={X:w,Y:b,Width:p,Height:k};ej.EjSvgRender.utils._addRegion(this.chartObj,d,r,null,u)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var r=n(this.gSeriesGroupEle).children().not("defs"),i=0;i<r.length;i++){var u=0,f=Math.floor(Math.random()*(20-u)+u),e=parseInt(f*50);this.animateSymbol(r[i],e,t,this.chartObj.model.requireInvertedAxes)}}});ej.seriesTypes.bubble=ej.ejBubbleSeries;ej.ejhiloSeries=t(ej.EjSeriesRender,{draw:function(t,i){var u,f,c,l,o,s,p;this.chartObj=t;u=i;u.points=ej.DataManager(u.points,ej.Query().sortBy("X")).executeLocal();var y=this._isVisiblePoints(u),e=this.getSideBySideInfo(u),r=null,h=n.inArray(u,this.chartObj.model._visibleSeries),w=u.xAxis.x,b=u.yAxis.y,k={id:this.chartObj.svgObject.id+"_SeriesGroup_"+h,transform:"translate("+w+","+b+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(k),f=0;f<y.length;f++)if(r=y[f],c=f,r.visible){if(l="",ej.util.isNullOrUndefined(r.YValues[0])||ej.util.isNullOrUndefined(r.YValues[1]))continue;var d=this.chartObj.setStyle(this,u,h,c),g=this.chartObj.setHiloStyle(u,c,h),a={},v={};r.YValues[0]<r.YValues[1]?(a={X:r.X+e.Median,YValues:[r.YValues[0]]},v={X:r.X+e.Median,YValues:[r.YValues[1]]}):(a={X:r.X+e.Median,YValues:[r.YValues[1]]},v={X:r.X+e.Median,YValues:[r.YValues[0]]});o=ej.EjSvgRender.utils._getPoint(a,u);s=ej.EjSvgRender.utils._getPoint(v,u);l="M "+(o.X+this.chartObj.canvasX)+" "+(o.Y+this.chartObj.canvasY)+" L "+(s.X+this.chartObj.canvasX)+" "+(s.Y+this.chartObj.canvasY)+" ";p={point1:o,point2:s};this._drawHiloPath(u,d,g,l,f,p)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var u,r=n(this.gSeriesGroupEle).children().not("defs"),f=2e3/r.length,i=0;i<r.length;i++)u=r[i],this._doLineSymbol(u,f,i,t,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0});ej.seriesTypes.hilo=ej.ejhiloSeries;ej.ejhiloopencloseSeries=t(ej.EjSeriesRender,{draw:function(t,i){var r,a,e,k,v,y,s,h,ft,et,p,w,ot;this.chartObj=t;r=i;r.points=ej.DataManager(r.points,ej.Query().sortBy("X")).executeLocal();var ut=this._isVisiblePoints(r),f=this.getSideBySideInfo(r),u=null,b=n.inArray(r,this.chartObj.model._visibleSeries),st=r.xAxis.x,ht=r.yAxis.y,ct={id:this.chartObj.svgObject.id+"_SeriesGroup_"+b,transform:"translate("+st+","+ht+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ct),e=0;e<ut.length;e++)if(k=e,u=ut[e],u.visible){var o="",lt=ej.util.isNullOrUndefined(r.drawMode)?!0:r.drawMode.toLowerCase()=="both"||r.drawMode.toLowerCase()=="open"?!0:!1,at=ej.util.isNullOrUndefined(r.drawMode)?!0:r.drawMode.toLowerCase()=="both"||r.drawMode.toLowerCase()=="close"?!0:!1,d={},g={},c={},l={};if(ej.util.isNullOrUndefined(u.YValues[0])||ej.util.isNullOrUndefined(u.YValues[1])||ej.util.isNullOrUndefined(u.YValues[2])||ej.util.isNullOrUndefined(u.YValues[3]))continue;if(u.YValues[0]<u.YValues[1]?(d={X:u.X+f.Median,YValues:[u.YValues[0]]},g={X:u.X+f.Median,YValues:[u.YValues[1]]},c={X:u.X,YValues:[u.YValues[2]]},l={X:u.X,YValues:[u.YValues[3]]}):(d={X:u.X+f.Median,YValues:[u.YValues[1]]},g={X:u.X+f.Median,YValues:[u.YValues[0]]},c={X:u.X,YValues:[u.YValues[2]]},l={X:u.X,YValues:[u.YValues[3]]}),a=u.YValues[2]<u.YValues[3]?ej.util.isNullOrUndefined(r.bearFillColor)?r.fill?r.fill:"#339933":r.bearFillColor:ej.util.isNullOrUndefined(r.bullFillColor)?r.fill?r.fill:"#E51400":r.bullFillColor,v=this.chartObj.setStyle(this,r,b,k,a),y=this.chartObj.setHiloStyle(r,k,b,a),u.fill?a=jQuery.type(u.interior)=="array"?u.fill[0]:u.fill:u.fill=a,s=this.chartObj.canvasX,h=this.chartObj.canvasY,lt){var vt={X:c.X+f.Median,YValues:c.YValues},nt=ej.EjSvgRender.utils._getPoint(vt,r),yt={X:c.X+f.Start,YValues:c.YValues},tt=ej.EjSvgRender.utils._getPoint(yt,r);o="M "+(nt.X+s)+" "+(nt.Y+h)+" L "+(tt.X+s)+" "+(tt.Y+h)+" ";ft={point1:nt,point2:tt};this._drawHiloPath(r,v,y,o,e,ft);o=""}if(at){var pt={X:l.X+f.Median,YValues:l.YValues},it=ej.EjSvgRender.utils._getPoint(pt,r),wt={X:l.X+f.End,YValues:l.YValues},rt=ej.EjSvgRender.utils._getPoint(wt,r);o="M "+(it.X+s)+" "+(it.Y+h)+" L "+(rt.X+s)+" "+(rt.Y+h)+" ";et={point1:it,point2:rt};this._drawHiloPath(r,v,y,o,e,et);o=""}p=ej.EjSvgRender.utils._getPoint(d,r);w=ej.EjSvgRender.utils._getPoint(g,r);o="M "+(p.X+s)+" "+(p.Y+h)+" L "+(w.X+s)+" "+(w.Y+h)+" ";ot={point1:p,point2:w};this._drawHiloPath(r,v,y,o,e,ot)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var u,r=n(this.gSeriesGroupEle).children().not("defs"),f=2e3/r.length,i=0;i<r.length;i++)u=r[i],this._doLineSymbol(u,f,i,t,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0});ej.seriesTypes.hiloopenclose=ej.ejhiloopencloseSeries;ej.ejCandleSeries=t(ej.EjSeriesRender,{draw:function(t,i){var u,c,f,v,l,w,rt,d,et;this.chartObj=t;u=i;u.points=ej.DataManager(u.points,ej.Query().sortBy("X")).executeLocal();var g=this._isVisiblePoints(u),o=this.getSideBySideInfo(u),r=null,a=n.inArray(u,this.chartObj.model._visibleSeries),ot=u.xAxis.x,st=u.yAxis.y,ht={id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:"translate("+ot+","+st+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ht),f=0;f<g.length;f++)if(r=g[f],v=f,r.visible){var nt="",y={},p={},s={},h={};if(ej.util.isNullOrUndefined(r.YValues[0])||ej.util.isNullOrUndefined(r.YValues[1])||ej.util.isNullOrUndefined(r.YValues[2])||ej.util.isNullOrUndefined(r.YValues[3]))continue;r.YValues[0]<r.YValues[1]?(y={X:r.X+o.Median,YValues:[r.YValues[0]]},p={X:r.X+o.Median,YValues:[r.YValues[1]]},s={X:r.X,YValues:[r.YValues[2]]},h={X:r.X,YValues:[r.YValues[3]]}):(y={X:r.X+o.Median,YValues:[r.YValues[1]]},p={X:r.X+o.Median,YValues:[r.YValues[0]]},s={X:r.X,YValues:[r.YValues[2]]},h={X:r.X,YValues:[r.YValues[3]]});r.YValues[2]<r.YValues[3]?(s={X:r.X,YValues:[r.YValues[2]]},h={X:r.X,YValues:[r.YValues[3]]},c=ej.util.isNullOrUndefined(u.bearFillColor)?"#339933":u.bearFillColor):(s={X:r.X,YValues:[r.YValues[3]]},h={X:r.X,YValues:[r.YValues[2]]},c=ej.util.isNullOrUndefined(u.bullFillColor)?"#E51400":u.bullFillColor);l=this.chartObj.setStyle(this,u,a,v,c);w=this.chartObj.setHiloStyle(u,v,a,c);r.style&&r.style.interior?c=jQuery.type(r.style.interior)=="array"?r.style.interior[0]:r.style.interior:r.fill=w;var b=ej.EjSvgRender.utils._getPoint(y,u),k=ej.EjSvgRender.utils._getPoint(p,u),tt=this.chartObj.canvasX,it=this.chartObj.canvasY;nt="M "+(b.X+tt)+" "+(b.Y+it)+" L "+(k.X+tt)+" "+(k.Y+it)+" ";rt={point1:b,point2:k};this._drawHiloPath(u,l,w,nt,f,rt);var ct={X:h.X+o.Start,YValues:h.YValues},ut=ej.EjSvgRender.utils._getPoint(ct,u),lt={X:s.X+o.End,YValues:s.YValues},ft=ej.EjSvgRender.utils._getPoint(lt,u),e=ej.EjSvgRender.utils._correctRect(ut.X,ut.Y,ft.X,ft.Y),at={id:this.chartObj.svgObject.id+"_Series"+a+"_Point"+f,x:e.X+this.chartObj.canvasX,y:e.Y+this.chartObj.canvasY,width:e.Width,height:e.Height,fill:l.interior,"stroke-width":l.borderWidth,stroke:l.borderColor};this.chartObj.svgRenderer.drawRect(at,this.gSeriesGroupEle);d=ej.EjSvgRender.utils._getSvgXY(e.X,e.Y,u,this.chartObj);et={X:d.X,Y:d.Y,Width:e.Width,Height:e.Height};ej.EjSvgRender.utils._addRegion(this.chartObj,et,u,r,f)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){for(var u,r=n(this.gSeriesGroupEle).children().not("defs"),f=2e3/r.length,i=0;i<r.length;i++)u=r[i],this._doLineSymbol(u,f,i,t,this.chartObj.model.requireInvertedAxes)},hiloTypes:!0});ej.seriesTypes.candle=ej.ejCandleSeries;ej.ejPieSeries=t(ej.EjSeriesRender,{draw:function(t,i){var r,l,e,a,v,f,y,s,p,w,b,o,u,g,nt,c;if(this.chartObj=t,r=i,l=[],this.chartObj.model.bounds=[],e=this.calculatingSliceAngle(r),this.chartObj.model.Radius=.5*r.pieCoefficient*Math.min(e.width,e.height),a=Math.min(e.width,e.height),a<0)return a;for(v=Math.abs(r.endAngle-r.startAngle),v<270&&this.pieDoughnutCenter(r),f=n.inArray(r,this.chartObj.model._visibleSeries),y={id:this.chartObj.svgObject.id+"_SeriesGroup_"+f},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(y),s=r.enableAnimation?"hidden":"visible",r.marker.dataLabel.visible&&(p={id:this.chartObj.svgObject.id+"_textGroup_"+f,visibility:s},this.chartObj.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(p),w={id:this.chartObj.svgObject.id+"_symbolGroup_"+f,visibility:s},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(w),b={id:this.chartObj.svgObject.id+"_connectorGroup_"+f,visibility:s},this.chartObj.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(b)),o=0;o<r.points.length;o++)if(pointIndex=o,u=r.points[o],u.visible){var k=this._calculateArcData(this.chartObj,pointIndex,u,r),d=k.Direction.split(" "),h=this.chartObj.setStyle(this,r,0,pointIndex);g=r.startAngle<r.endAngle?!1:!0;i={id:this.chartObj.svgObject.id+"_Series"+f+"path"+pointIndex,fill:h.interior,"stroke-width":h.borderWidth,stroke:h.borderColor,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,d:k.Direction,opacity:h.opacity,radius:this.chartObj.model.Radius,start:u.startAngle-1.57,end:u.endAngle-1.57,pointIndex:pointIndex,counterClockWise:g,innerR:0,x:d[12],y:d[13]};this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle);c={PointIndex:pointIndex,StartAngle:u.startAngle,EndAngle:u.endAngle,StartX:this.chartObj.model.startX[pointIndex],StartY:this.chartObj.model.startY[pointIndex]};l.push(c)}nt={Radius:this.chartObj.model.Radius,CenterX:this.chartObj.model.centerX,CenterY:this.chartObj.model.centerY};c={Series:r,SeriesData:nt,Region:l,SeriesIndex:n.inArray(r,this.chartObj.model._visibleSeries)};this.chartObj.model.chartRegions.push(c);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){var i=this.chartObj,r=this,u=t.points[0]?t.points[0].startAngle:0;n.each(t.visiblePoints,function(f,e){var s=e.startAngle,h=e.endAngle,o;i.model._radius=i.model.Radius;e.startAngle=0;e.endAngle=e.startAngle;i.model.Radius=0;o=n(i.gSeriesEle).find("#"+r.gSeriesGroupEle.id)[0].childNodes[f];n(o).each(function(){this.StartAngle=u;this.EndAngle=u}).animate({StartAngle:s,EndAngle:h,pieRadius:i.model._radius},{duration:1200,queue:!1,step:function(u,s){s.prop.toString()==="StartAngle"?(e.startAngle=u,e.endAngle=e.startAngle):s.prop.toString()=="pieRadius"?i.model.Radius=u:e.endAngle=u;var h=r._calculateArcData(i,f,e,t);i.svgRenderer._setAttr(n(o),{d:h.Direction});i.model.Radius=i.model._radius},complete:function(){var u,r,e;if(f==t.visiblePoints.length-1){if(t.marker.dataLabel.visible){if(i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSeriesTextEle.id),{visibility:"visible"}),i.gSymbolGroupEle&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSymbolGroupEle.id),{visibility:"visible"}),t.marker.dataLabel.template)for(u=n(i.element[0].childNodes[0].childNodes),r=0;r<u.length;r++)n(u[r]).css("display","block");i.gSeriesConnectorEle&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSeriesConnectorEle.id),{visibility:"visible"})}i.model.AnimationComplete=!0;e=n.extend({},ej.EjSvgRender.commonChartEventArgs);e.data={series:t};i._trigger("animationComplete",e)}}})})},chartAreaType:"None"});ej.seriesTypes.pie=ej.ejPieSeries;ej.ejDoughnutSeries=t(ej.EjSeriesRender,{draw:function(t,i){var r,a,o,v,w,c,b,k,d,e,u,f,h,tt,it,l;if(this.chartObj=t,r=i,a=[],this.chartObj.model.bounds=[],o=this.calculatingSliceAngle(r),this.chartObj.model.Radius=.5*r.doughnutSize*Math.min(o.width,o.height),v=Math.min(o.width,o.height),v<0)return v;w=Math.abs(r.endAngle-r.startAngle);w<270&&this.pieDoughnutCenter(r);this.chartObj.model.dRadius=r.doughnutCoefficient*this.chartObj.model.Radius;var ot=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,s=n.inArray(r,this.chartObj.model._visibleSeries),rt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+s};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(rt),c=r.enableAnimation?"hidden":"visible",r.marker.dataLabel.visible&&(b={id:this.chartObj.svgObject.id+"_textGroup_"+s,visibility:c},this.chartObj.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(b),k={id:this.chartObj.svgObject.id+"_symbolGroup_"+s,visibility:c},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(k),d={id:this.chartObj.svgObject.id+"_connectorGroup_"+s,visibility:c},this.chartObj.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(d)),e=0;e<r.points.length;e++)if(u=r.points[e],f=e,u.visible){var y=0,p=0,ut=this._calculateArcData(this.chartObj,f,u,r);if((f==r.explodeIndex||r.explodeAll)&&!this.chartObj.vmlRendering){var g=-.5*Math.PI,ft=u.startAngle+g,et=u.endAngle+g-1e-6,nt=(ft+et)/2;y=this.chartObj.model.centerX+Math.cos(nt)*r.explodeOffset;p=this.chartObj.model.centerY+Math.sin(nt)*r.explodeOffset}h=this.chartObj.setStyle(this,r,0,f);tt=r.startAngle<r.endAngle?!1:!0;i={id:this.chartObj.svgObject.id+"_Series"+s+"path"+f,fill:h.interior,"stroke-width":h.borderWidth,stroke:h.borderColor,"stroke-linecap":r.lineCap,opacity:h.opacity,"stroke-linejoin":r.lineJoin,d:ut.Direction,start:u.startAngle-1.57,end:u.endAngle-1.57,pointIndex:f,radius:this.chartObj.model.Radius,innerR:this.chartObj.model.dRadius,canvasInnerR:this.chartObj.model.dRadius,counterClockWise:tt,x:y!=0?y:this.chartObj.model.centerX,y:p!=0?p:this.chartObj.model.centerY};this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle);l={PointIndex:e,StartAngle:u.startAngle,EndAngle:u.endAngle,StartX:this.chartObj.model.startX[f],StartY:this.chartObj.model.startY[f]};a.push(l)}it={Radius:this.chartObj.model.Radius,DRadius:this.chartObj.model.dRadius,CenterX:this.chartObj.model.centerX,CenterY:this.chartObj.model.centerY};l={Series:r,SeriesData:it,Region:a,SeriesIndex:n.inArray(r,this.chartObj.model._visibleSeries)};this.chartObj.model.chartRegions.push(l);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){var i=this.chartObj,r=this,u=t.points[0]?t.points[0].startAngle:0;n.each(t.visiblePoints,function(f,e){var s=e.startAngle,h=e.endAngle,o;e.startAngle=0;e.endAngle=e.startAngle;o=n(i.gSeriesEle).find("#"+r.gSeriesGroupEle.id)[0].childNodes[f];n(o).each(function(){this.StartAngle=u;this.EndAngle=u}).animate({StartAngle:s,EndAngle:h},{duration:1200,queue:!1,step:function(u,s){s.prop.toString()==="StartAngle"?(e.startAngle=u,e.endAngle=e.startAngle):e.endAngle=u;var h=r._calculateArcData(i,f,e,t);i.svgRenderer._setAttr(n(o),{d:h.Direction})},complete:function(){var u,r,e;if(f==t.visiblePoints.length-1){if(t.marker.dataLabel.visible){if(i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSeriesTextEle.id),{visibility:"visible"}),i.gSymbolGroupEle&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSymbolGroupEle.id),{visibility:"visible"}),t.marker.dataLabel.template)for(u=n(i.element[0].childNodes[0].childNodes),r=0;r<u.length;r++)n(u[r]).css("display","block");i.gSeriesConnectorEle&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSeriesConnectorEle.id),{visibility:"visible"})}i.model.AnimationComplete=!0;e=n.extend({},ej.EjSvgRender.commonChartEventArgs);e.data={series:t};i._trigger("animationComplete",e)}}})})},chartAreaType:"None"});ej.seriesTypes.doughnut=ej.ejDoughnutSeries;ej.ejPyramidSeries=t(ej.EjSeriesRender,{draw:function(t,i){var h,b,c,l,u,nt,tt,it,f,e,a,p;this.chartObj=t;var o,k=this,r=i,s=this._pieVisiblePoints(r),d=[],w=[];this.chartObj.model.chartRegions=[];this.chartObj.model.sumofYValues=0;var v=0,g=this.chartObj.model.title.text?ej.EjSvgRender.utils._measureText(this.chartObj.model.title.text,n(this.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right,this.chartObj.model.title.font):0,rt=this.chartObj.model.margin.left+this.chartObj.model.elementSpacing+this.chartObj.model.margin.right+this.chartObj.model.elementSpacing+(this.chartObj.model.legend.position.toLowerCase()==="right"||this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendViewerBounds.Width:0),ut=(this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y+g.height:this.chartObj.model.elementSpacing)+this.chartObj.model.margin.top+this.chartObj.model.elementSpacing+this.chartObj.model.margin.bottom+this.chartObj.model.elementSpacing+(this.chartObj.model.legend.position.toLowerCase()==="top"||this.chartObj.model.legend.position.toLowerCase()==="bottom"?this.chartObj.model.LegendViewerBounds.Height:0);if(r.labelPosition.toLowerCase()==="outside"){for(h=0;h<s.length;h++)b=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(s[h].text)?s[h].y:s[h].text,null,r.marker.dataLabel.font).width,v<b&&(v=b);this.chartObj.model.textSize=v}for(this.chartObj.model.actualWidth=n(t.svgObject).width()-rt-v,this.chartObj.model.actualHeight=n(t.svgObject).height()-ut,c=this.chartObj.pyrX=(this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,l=this.chartObj.pyrY=(this.chartObj.model.legend.position.toLowerCase()==="top"?this.chartObj.model.LegendBounds.Height:0)+(this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y+g.height:this.chartObj.model.margin.top+this.chartObj.model.elementSpacing),w[0]=c,w[1]=l,u=0;u<s.length;u++)this.chartObj.model.sumofYValues+=s[u].YValues[0];var et=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,y=n.inArray(r,this.chartObj.model._visibleSeries),ft={id:this.chartObj.svgObject.id+"_SeriesGroup_"+y,transform:"translate("+c+","+l+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ft),r.marker.dataLabel.visible&&(nt={id:this.chartObj.svgObject.id+"_textGroup_"+y,transform:"translate("+c+","+l+")"},this.chartObj.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(nt),r.labelPosition.toLowerCase()==="outside"&&(tt={id:this.chartObj.svgObject.id+"_symbolGroup_"+y,transform:"translate("+c+","+l+")"},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(tt),it={id:this.chartObj.svgObject.id+"_connectorGroup_"+y,transform:"translate("+c+","+l+")"},this.chartObj.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(it))),r.pyramidMode.toLowerCase()=="linear"?this.calculateLinearSegments(r):this.calculateSurfaceSegments(r),u=0;u<r.points.length;u++)f=u,o=r.points[u],o.visible&&(e=this._getPyramidData(r,f),a=this.chartObj.setStyle(this,r,0,f),i={id:this.chartObj.svgObject.id+"_Seriespath"+f,fill:a.interior,"stroke-width":a.borderWidth,stroke:a.borderColor,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,opacity:a.opacity,pointIndex:f,d:e.Direction},this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle,w),r.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(o,f,r,!0,this.chartObj),o.xLocation=e.PositionX,o.yLocation=e.PositionY,o.connectorLine=e.Connector,p={PointIndex:f,Line1:e.Line1,Line2:e.Line2,Line3:e.Line3,Line4:e.Line4},d.push(p));p={Series:r,Region:d,SeriesIndex:n.inArray(r,this.chartObj.model._visibleSeries)};this.chartObj.model.chartRegions.push(p);this.gSeriesGroupEle&&(n(this.gSeriesGroupEle.childNodes[f]).bind("mousemove",function(n){n.target=k.gSeriesGroupEle.childNodes[f];k.chartObj.chartInteractiveBehavior(n)}),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle))},doAnimation:function(){},_getPyramidData:function(t,i){var r=this.chartObj.model,h=t.explodeIndex==i||t.explodeAll?t.explodeOffset:0,v=r.pyramidData[i].CurrY,c=r.pyramidData[i].CurrY+r.pyramidData[i].Height,y=.5*(1-r.pyramidData[i].CurrY),p=.5*(1-c),s={x:h+y*r.actualWidth,y:v*r.actualHeight},f={x:h+(1-y)*r.actualWidth,y:v*r.actualHeight},e={x:h+(1-p)*r.actualWidth,y:c*r.actualHeight},l={x:h+p*r.actualWidth,y:c*r.actualHeight},d="M "+s.x+" "+s.y+" L "+f.x+" "+f.y+" L "+e.x+" "+e.y+" L "+l.x+" "+l.y+" z",u,o,w,a;if(t.marker.dataLabel.visible)if(t.labelPosition.toLowerCase()==="outside"){u=(f.x+e.x)/2;o=(f.y+e.y)/2;w=(this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"?this.chartObj.model.LegendViewerBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left;a=ej.util.isNullOrUndefined(t.marker.dataLabel.connectorLine.height)?n(this.chartObj.svgObject).width()-(w+u+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):t.marker.dataLabel.connectorLine.height;var b=this.getXCordinate(u,a,0),k=this.getYCordinate(o,a,0),g="M "+u+" "+o+" L "+b+" "+k;u=b;o=k}else u=(s.x+f.x)/2,o=(e.y+s.y)/2;return{Direction:d,PositionX:u,PositionY:o,Connector:g,Line1:s,Line2:f,Line3:e,Line4:l}},calculateLinearSegments:function(n){var u=0,i=this.chartObj.model,f,e,t,r;for(i.pyramidData=[],n.gapRatio>1&&(n.gapRatio=0),f=1/(i.sumofYValues*(1+n.gapRatio/(1-n.gapRatio))),e=n.points.length,t=0;t<n.points.length;t++)n.points[t].visible&&(r=f*n.points[t].YValues[0],i.pyramidData[t]={CurrY:u,Height:r},u+=n.gapRatio/(e-1)+r)},calculateSurfaceSegments:function(n){var r=n.points.length,u=this.chartObj.model,e,t,c;u.pyramidData=[];var i=0,o=[],f=[],s=n.gapRatio/(r-1),h=this.getSurfaceHeight(0,u.sumofYValues);for(t=0;t<r;t++)n.points[t].visible&&(o[t]=i,f[t]=this.getSurfaceHeight(i,Math.abs(n.points[t].YValues[0])),i+=f[t]+s*h);for(e=1/(i-s*h),t=0;t<r;t++)n.points[t].visible&&(c=e*o[t],u.pyramidData[t]={CurrY:c,Height:e*f[t]})},getSurfaceHeight:function(n,t){var i=this.solveQuadraticEquation(1,2*n,-t);return i?i:0},solveQuadraticEquation:function(n,t,i){var r,u,f,e;if(n!=0){if(f=t*t-4*n*i,f>=0)return e=Math.sqrt(f),r=(-t-e)/(2*n),u=(-t+e)/(2*n),Math.max(r,u)}else if(t!=0)return r=-i/t,u=-i/t,Math.max(r,u);return!1},chartAreaType:"None"});ej.seriesTypes.pyramid=ej.ejPyramidSeries;ej.ejFunnelSeries=t(ej.EjSeriesRender,{draw:function(t,i){var k,c,l,f,ut,ft,et,d,p,u,nt,e,o,a,w;this.chartObj=t;var s,tt=this,r=i,h=this._pieVisiblePoints(r),it=[];this.chartObj.model.chartRegions=[];this.chartObj.model.sumofYValues=0;var b=[],v=0,rt=this.chartObj.model.title.text?ej.EjSvgRender.utils._measureText(this.chartObj.model.title.text,n(this.svgObject).width()-this.chartObj.model.margin.left-this.chartObj.model.margin.right,this.chartObj.model.title.font):0,ot=this.chartObj.model.margin.left+this.chartObj.model.elementSpacing+this.chartObj.model.margin.right+this.chartObj.model.elementSpacing+(this.chartObj.model.legend.position.toLowerCase()==="right"||this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:0),st=(this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y+rt.height:this.chartObj.model.elementSpacing)+this.chartObj.model.margin.top+this.chartObj.model.elementSpacing+this.chartObj.model.margin.bottom+this.chartObj.model.elementSpacing+(this.chartObj.model.legend.position.toLowerCase()==="top"||this.chartObj.model.legend.position.toLowerCase()==="bottom"?this.chartObj.model.LegendBounds.Height:0);if(r.labelPosition.toLowerCase()==="outside"){for(u=0;u<h.length;u++)k=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(h[u].text)?h[u].y:h[u].text,null,r.marker.dataLabel.font).width,v<k&&(v=k);this.chartObj.model.textSize=v}for(this.chartObj.model.actualWidth=n(t.svgObject).width()-ot-v,this.chartObj.model.actualHeight=n(t.svgObject).height()-st,c=this.chartObj.pyrX=(this.chartObj.model.legend.position.toLowerCase()==="left"?this.chartObj.model.LegendBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,l=this.chartObj.pyrY=(this.chartObj.model.legend.position.toLowerCase()==="top"?this.chartObj.model.LegendBounds.Height:0)+(this.chartObj.model.title.text?this.chartObj.model._titleLocation.Y+rt.height:this.chartObj.model.margin.top+this.chartObj.model.elementSpacing),b[0]=c,b[1]=l,f=0;f<h.length;f++)this.chartObj.model.sumofYValues+=h[f].YValues[0];var at=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,y=n.inArray(r,this.chartObj.model._visibleSeries),ht={id:this.chartObj.svgObject.id+"_SeriesGroup_"+y,transform:"translate("+c+","+l+")"};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ht);r.marker.dataLabel.visible&&(ut={id:this.chartObj.svgObject.id+"_textGroup_"+y,transform:"translate("+c+","+l+")"},this.chartObj.gSeriesTextEle=this.chartObj.svgRenderer.createGroup(ut),r.labelPosition.toLowerCase()==="outside"&&(ft={id:this.chartObj.svgObject.id+"_symbolGroup_"+y,transform:"translate("+c+","+l+")"},this.chartObj.gSymbolGroupEle=this.chartObj.svgRenderer.createGroup(ft),et={id:this.chartObj.svgObject.id+"_connectorGroup_"+y,transform:"translate("+c+","+l+")"},this.chartObj.gSeriesConnectorEle=this.chartObj.svgRenderer.createGroup(et)));d=0;p=this.chartObj.model;p.funnelData=[];r.gapRatio>1&&(r.gapRatio=0);var ct=1/(p.sumofYValues*(1+r.gapRatio/(1-r.gapRatio))),g=r.points.length,lt=r.gapRatio/g;for(u=g-1;u>=0;u--)r.points[u].visible&&(nt=ct*r.points[u].YValues[0],p.funnelData[u]={CurrY:d,Height:nt},d+=nt+lt);for(f=0;f<g;f++)e=f,s=r.points[f],s.visible&&(o=this._getFunnelData(r,e,t),a=this.chartObj.setStyle(this,r,0,e),i={id:this.chartObj.svgObject.id+"_Seriespath"+e,fill:a.interior,"stroke-width":a.borderWidth,stroke:a.borderColor,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,opacity:a.opacity,pointIndex:e,d:o.Direction},this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle,b),r.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(s,e,r,!0,this.chartObj),s.xLocation=o.PositionX,s.yLocation=o.PositionY,s.connectorLine=o.Connector,w={PointIndex:e,Line1:o.Line1,Line2:o.Line2,Line3:o.Line3,Line4:o.Line4},it.push(w));w={Series:r,Region:it,SeriesIndex:n.inArray(r,this.chartObj.model._visibleSeries)};this.chartObj.model.chartRegions.push(w);this.gSeriesGroupEle&&n(this.gSeriesGroupEle.childNodes[e]).bind("mousemove",function(n){n.target=tt.gSeriesGroupEle.childNodes[e];tt.chartObj.chartInteractiveBehavior(n)});this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(){},_getFunnelData:function(t,i){var r=this.chartObj.model,f=t.explodeIndex==i||t.explodeAll?t.explodeOffset:0,k,d,l,tt,it,w,a,g,e,o,v,b,y,rt,nt,s,u,h,ft,c,p,et,ut;if(u=t.funnelHeight.indexOf("%")!=-1?r.actualHeight*(parseInt(t.funnelHeight)/100):parseInt(t.funnelHeight),h=t.funnelWidth.indexOf("%")!=-1?r.actualWidth*(parseInt(t.funnelWidth)/100):parseInt(t.funnelWidth),a=r.funnelData[i].CurrY*r.actualHeight,e=a+r.funnelData[i].Height*r.actualHeight,s=h+(r.actualWidth-h)*((r.actualHeight-u-a)/(r.actualHeight-u)),k=r.actualWidth/2-s/2,tt=k+s,s=e>r.actualHeight-u||r.actualHeight==u?h:h+(r.actualWidth-h)*((r.actualHeight-u-e)/(r.actualHeight-u)),l=r.actualWidth/2-s/2,w=l+s,a>=r.actualHeight-u?(k=l=d=r.actualWidth/2-h/2,tt=w=it=r.actualWidth/2+h/2):e>r.actualHeight-u&&(d=l=r.actualWidth/2-s/2,it=w=d+s,g=r.actualHeight-u),o={x:f+k,y:a},v={x:f+tt,y:a},y={x:f+w,y:e},rt={x:f+l,y:e},b={x:f+w,y:e},nt={x:f+l,y:e},g&&(b={x:f+it,y:g},nt={x:f+d,y:g}),ft="M "+o.x+" "+o.y+" L "+v.x+" "+v.y+" L "+b.x+" "+b.y+" L "+y.x+" "+y.y+" L "+rt.x+" "+rt.y+" L "+nt.x+" "+nt.y+" z",t.marker.dataLabel.visible)if(t.labelPosition.toLowerCase()==="outside"){c=(o.x+v.x)/2;p=(o.y+y.y)/2;et=(this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"?this.chartObj.model.LegendBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left;ut=ej.util.isNullOrUndefined(t.marker.dataLabel.connectorLine.height)?n(this.chartObj.svgObject).width()-(et+c+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):t.marker.dataLabel.connectorLine.height;var ot=this.getXCordinate(c,ut,0),st=this.getYCordinate(p,ut,0),ht="M "+c+" "+p+" L "+ot+" "+st;c=ot;p=st}else c=(o.x+v.x)/2,p=(o.y+y.y)/2;return{Direction:ft,PositionX:c,PositionY:p,Connector:ht,Line1:o,Line2:v,Line3:b,Line4:y}},chartAreaType:"None"});ej.seriesTypes.funnel=ej.ejFunnelSeries;ej.ejPolarSeries=t(ej.EjSeriesRender,{draw:function(n,t){var e,r,u;this.chartObj=n;var o=this,i=t,s=this._pieVisiblePoints(i),f=this.setLineSeriesStyle(i);if(i.drawType.toLowerCase()=="column"){this.chartObj.model.sumofYValues=0;e=i.xAxis.visibleRange.interval;r=i.xAxis.visibleRange.min;do this.chartObj.model.sumofYValues+=i.xAxis.visibleRange.interval,r+=i.xAxis.visibleRange.interval;while(r<=i.xAxis.visibleRange.max)}u=this._calculatePolarAxesSegment(i);i.drawType.toLowerCase()=="area"?this.drawAreaPath(i,f,u):i.drawType.toLowerCase()=="line"&&this._drawLinePath(i,f,u);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){var i=this.chartObj;t.regionAdded=!0;i.model._radius=i.model.Radius;i.model.Radius=0;var r=this,u=n.inArray(t,i.model._visibleSeries),f=n(i.gSeriesEle).find("#"+r.gSeriesGroupEle.id)[0].childNodes[0];n(f).animate({Radius:i.model._radius},{duration:1200,queue:!1,step:function(u){i.model.Radius=u;var e=r._calculatePolarAxesSegment(t);t.drawType.toLowerCase()!="column"&&i.svgRenderer._setAttr(n(f),{d:e});i.model.Radius=i.model._radius},complete:function(){t.regionAdded=!1;t.marker.dataLabel.visible&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.svgObject.id+"_TextGroup_"+u),{visibility:"visible"});t.marker.visible&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.svgObject.id+"_symbolGroup_"+u),{visibility:"visible"});i.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i._trigger("animationComplete",r)}})},chartAreaType:"PolarAxes"});ej.seriesTypes.polar=ej.ejPolarSeries;ej.ejRadarSeries=t(ej.EjSeriesRender,{draw:function(n,t){var e,r,u;this.chartObj=n;var o=this,i=t,s=this._pieVisiblePoints(i),f=this.setLineSeriesStyle(i);if(i.drawType.toLowerCase()=="column"){this.chartObj.model.sumofYValues=0;e=i.xAxis.visibleRange.interval;r=i.xAxis.visibleRange.min;do this.chartObj.model.sumofYValues+=i.xAxis.visibleRange.interval,r+=i.xAxis.visibleRange.interval;while(r<=i.xAxis.visibleRange.max)}u=this._calculatePolarAxesSegment(i);i.drawType.toLowerCase()=="area"?this.drawAreaPath(i,f,u):i.drawType.toLowerCase()=="line"&&this._drawLinePath(i,f,u);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t){var i=this.chartObj;t.regionAdded=!0;i.model._radius=i.model.Radius;i.model.Radius=0;var r=this,u=n.inArray(t,i.model._visibleSeries),f=n(i.gSeriesEle).find("#"+r.gSeriesGroupEle.id)[0].childNodes[0];n(f).animate({Radius:i.model._radius},{duration:1200,queue:!1,step:function(u){i.model.Radius=u;var e=r._calculatePolarAxesSegment(t);t.drawType.toLowerCase()!="column"&&i.svgRenderer._setAttr(n(f),{d:e});i.model.Radius=i.model._radius},complete:function(){t.regionAdded=!1;t.marker.dataLabel.visible&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.svgObject.id+"_TextGroup_"+u),{visibility:"visible"});t.marker.visible&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.svgObject.id+"_symbolGroup_"+u),{visibility:"visible"});i.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i._trigger("animationComplete",r)}})},chartAreaType:"PolarAxes"});ej.seriesTypes.radar=ej.ejRadarSeries}(jQuery);ej.ejChart={},function(n){String.prototype.parseTemplate=function(){var t=this;return n.each(arguments[0],function(i,r){r.count>0?n.each(r,function(n,r){t=t.replace(new RegExp("\\#"+i+"."+n+"\\#","gm"),r)}):t=t.replace(new RegExp("\\#"+i+"\\#","gm"),r)}),t};var t=function(n){this._gradientStop=[];for(var t=0;t<n.length;t++)this._gradientStop.push(n[t])};ej.ejChart={_renderSfChart:function(){var t=window.SVGSVGElement?!0:!1;return t?(this.model.enableCanvasRendering?(this.svgRenderer=new ej.EjCanvasRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.chartContainer=n("<div><\/div>").css("position","relative").attr("id","chartContainer_"+this._id),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer),n(this.chartContainer).appendTo(this.element),this.svgRenderer.svgObj.height=ej.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=ej.util.isNullOrUndefined(this.model.size.width)?n("#"+this._id).width():this.model.size.width):(this.svgRenderer=new ej.EjSvgRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.chartContainer=n("<div><\/div>").css("position","relative").attr("id","chartContainer_"+this._id),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer),n(this.chartContainer).appendTo(this.element),this.legendContainer.find("svg").attr("class","e-designerhide")),this._createChart(),n(this.svgObject).appendTo(this.element)):(this.model.enableCanvasRendering=!1,this.svgRenderer=new ej.EjVmlRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.chartContainer=n("<div><\/div>").css("position","relative").attr("id","chartContainer_"+this._id),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer),n(this.chartContainer).appendTo(this.element),this._createChart(),n(this.svgObject).appendTo(this.chartContainer)),!0},setSvgSize:function(t){var i=t,e=n(i.element).height(),r=450,o=600,s=n(i.element).width(),h=n(i.chartContainer).height(),u,f;i.model.size.width?(u=i.model.size.width,o=u.indexOf("%")!=-1?s/100*parseInt(u):parseInt(u)):s>0&&(o=s);n(i.svgObject).width(o);i.model.size.height?(f=i.model.size.height,r=f.indexOf("%")!=-1?this.vmlRendering?r:e/100*parseInt(f):parseInt(f)):e>0?r=e:n(i.svgObject).css("display","block");n(i.svgObject).height(r)},setModelProperties:function(){if(this.setSvgSize(this),this.svgWidth=n(this.svgObject).width(),this.svgHeight=n(this.svgObject).height(),this.chartCross={visible:this.chartCross?this.model.crosshair.visible||this.chartCross.visible:this.model.crosshair.visible,mArea:this.model.crosshair.type},this.serAnimation=[],this.model.series)for(var t=0;t<this.model.series.length;t++)this.model.series[t]=ej.copyObject({},this.model.commonSeriesOptions,this.model.series[t]),this.serAnimation.push(this.model.series[t].enableAnimation===null||this.model.series[t].enableAnimation===undefined?this.model.commonSeriesOptions.enableAnimation:this.model.series[t].enableAnimation)},_createChart:function(){var u,t,r,i;if(this.svgObject=this.svgRenderer.svgObj,u=n.extend({},ej.EjSvgRender.commonChartEventArgs),this._trigger("load",u),this.setTheme(ej.EjSvgRender.themes,this.model.theme),t=this.model,t.series[0]&&t.series[0]._isdesigntime){for(t.series[0]={},t.series[0].points=[],r=[],i=1;i<=10;i++)r.push({x:i,y:Math.floor(Math.random()*-30)+40});t.series[0].points=r}this.vmlRendering=this.svgRenderer.vmlNamespace?!0:!1;(n(this.element).is(":visible")||n(this.element).css("visibility")!="hidden"||n(this.element).css("display")!="none")&&(this.bindEvents(),this.bindTo())},setTheme:function(t,i){var r=i.toLowerCase();(r.indexOf("azure")>=0||r.indexOf("lime")>=0||r.indexOf("saffron")>=0)&&r.indexOf("gradient")==-1&&r.indexOf("dark")==-1?t[r]=n.extend(!0,{},t.flatlight,t[r]):(r.indexOf("azuredark")>=0||r.indexOf("limedark")>=0||r.indexOf("saffrondark"))>=0&&r.indexOf("gradient")==-1?t[r]=n.extend(!0,{},t.flatdark,t[r]):(r.indexOf("azure")>=0||r.indexOf("lime")>=0||r.indexOf("saffron")>=0)&&r.indexOf("gradient")>=0&&r.indexOf("dark")==-1?t[r]=n.extend(!0,{},t.gradientlight,t[r]):(r.indexOf("azuredark")>=0||r.indexOf("limedark")>=0||r.indexOf("saffrondark")>=0)&&r.indexOf("gradient")>=0?t[r]=n.extend(!0,{},t.gradientdark,t[r]):t[r]||(r="flatlight");this.model=this.model._themeChanged?ej.copyObject({},this.model,t[r]):ej.copyObject({},t[r],this.model)},_drawBackInterior:function(){if(this.model.backInterior&&this.model.backInterior._gradientStop){var t={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:n(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(t,this.model.backInterior._gradientStop)}},_drawBackImage:function(){var t={height:n(this.svgObject).height(),width:n(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};this.svgRenderer.drawImage(t,this.svgObject)},_getDataType:function(n){var t=typeof n;return t==="number"||t==="string"?t:jQuery.type(n)=="date"?"date":!1},addedXYValues:function(t){var f,r,o,s,u,i,e,h;if(t=t?t:!1,f=this.model.series[0].type.toLowerCase(),ej.seriesTypes[f].prototype.chartAreaType=="cartesianAxes"?this.model.AreaType="cartesianaxes":ej.seriesTypes[f].prototype.chartAreaType=="None"?this.model.AreaType="none":(f=="polar"&&(this.model.isPolar=!0),this.model.AreaType="polaraxes"),this.model.requireInvertedAxes=ej.seriesTypes[f].prototype.requireInvertedAxes,!t){for(r=0;r<this.model.series.length;r++)if(o=!1,s=!1,this.model.series[r].dataSource)for(i=this.model.series[r],e=0,h=i.points.length;e<h;e++)u=i.points[e].X=i.points[e].x,ej.util.isNullOrUndefined(i._xAxisValueType)&&(ej.util.isNullOrUndefined(u)||(i._xAxisValueType=this._getDataType(u)));else for(this.model.series[r]=n.extend(!0,{},this.model.commonSeriesOptions,this.model.series[r]),i=this.model.series[r],this.model.primaryXAxis.valueType=="datetime"&&(s=!0),k=0;k<i.points.length;k++)i.points[k].YValues=[],parseFloat(i.points[k].x)&&typeof(i.points[k].x=="string")&&this.model.primaryXAxis.valueType!="category"&&this.model.AreaType!="none"?s?(i.points[k].X=new Date(i.points[k].x),i.points[k].x=new Date(i.points[k].x)):(i.points[k].X=parseFloat(i.points[k].x),i.points[k].x=parseFloat(i.points[k].x)):i.points[k].X=i.points[k].x,o||(u=i.points[k].x,u&&(i._xAxisValueType=this._getDataType(u),o=!0)),i._hiloTypes?(i.points[k].high&&(i.points[k].YValues[0]=i.points[k].high,i.points[k].y=i.points[k].high),i.points[k].low&&(i.points[k].YValues[1]=i.points[k].low),i.points[k].open&&(i.points[k].YValues[2]=i.points[k].open),i.points[k].close&&(i.points[k].YValues[3]=i.points[k].close)):(i.points[k].YValues[0]=i.points[k].y,i.points[k].size&&(i.points[k].YValues[1]=i.points[k].size));this._setInternalValues()}},_setInternalValues:function(){var i,n,t;for(this.model._visibleSeries=[],i=0;i<this.model.series.length;i++)if(n=this.model.series[i],this.model.AreaType=="cartesianaxes"&&ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType=="cartesianAxes"?(n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n)):this.model.AreaType=="none"&&ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType=="None"?(n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n)):this.model.AreaType=="polaraxes"&&ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType=="PolarAxes"&&(n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n)),(n.yAxisName||n.xAxisName)&&this.model.axes)for(t=0;t<this.model.axes.length;t++)n.yAxisName&&n.yAxisName==this.model.axes[t].name&&(this.model.axes[t].orientation=this.model.axes[t].orientation?this.model.axes[t].orientation:this.model.requireInvertedAxes?"horizontal":"vertical"),n.xAxisName&&n.xAxisName==this.model.axes[t].name&&(this.model.axes[t].orientation=this.model.axes[t].orientation?this.model.axes[t].orientation:this.model.requireInvertedAxes?"vertical":"horizontal")},setHiloStyle:function(n,t,i,r){var f=n.points[t],u;return interior=f.fill?f.fill:n.fill?n.fill:r,u=interior?interior:this.model.seriesColors[i],seriesInterior=jQuery.type(u)=="array"?u[0].color:u},setStyle:function(t,i,r,u,f){var e=i.points[u],o,c,l,a,s,h,v;return t.chartObj.model.AreaType=="cartesianaxes"?(o=e.fill?e.fill:i.fill?i.fill:f,s=o?o:this.model.seriesColors[r],h=t.chartObj.model.requireInvertedAxes?this.svgRenderer.createGradientElement(t.getSeriesName(i)+"_"+r+u,s,0,0,100,0,t.gSeriesGroupEle):this.svgRenderer.createGradientElement(t.getSeriesName(i)+"_"+r+u,s,0,0,0,100,t.gSeriesGroupEle)):(o=e.fill?e.fill:this.model.pointColors[u],v=this.svgRenderer.createGradientElement(t.getSeriesName(i)+u,o,0,0,0,n(t.svgObject).height(),t.chartObj.gSeriesEle)),c=e.border&&e.border.color?e.border.color:i.border.color,l=e.border&&e.border.width?e.border.width:i.border.width,a=e.opacity?e.opacity:i.opacity,{interior:h?h:v,borderColor:c,borderWidth:l,opacity:a}},colorNameToHex:function(n){var t=n,i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return Object.prototype.toString.call(t)=="[object Array]"?t:typeof i[t.toLowerCase()]!="undefined"?i[t.toLowerCase()]:t},_setCulture:function(n){this.culture=Globalize.culture(n)},draw:function(t){var p,v,w,l,y,i,o,s,h,k,f,e,r,st,ht,d,g,a,nt,c,u,it;for(this._drawBackInterior(),this.model.chartRegions=[],this.model.stackedValue={},this._setCulture(this.model.locale),this.addedXYValues(t),p=n.extend({},ej.EjSvgRender.commonChartEventArgs),p.data={},this._trigger("preRender",p),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartTitle"}),this.gSubTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartsubTitle"}),this._createAxisLabelAndRange(),this._initializeSeriesColors(),r=0;r<this.model.series.length;r++)ej.util.isNullOrUndefined(this.model.series[r].style)||ej.util.isNullOrUndefined(this.model.series[r].style.interior)||(v=this.model.series[r].style.interior,v=this.colorNameToHex(v),this.model.series[r].style.interior=v);for(this._calculateLegendBounds(),this.legendRender=new ej.EjLegendRender(this),w=n.extend({},ej.EjSvgRender.commonChartEventArgs),w.data={legendBounds:this.model.LegendBounds},this._trigger("legendBoundsCalculate",w),e=0;e<this.model._visibleSeries.length;e++)for(l=this.model._visibleSeries[e],r=0;r<l.points.length;r++)typeof l.points[r].X=="string"&&l.points[r].X.indexOf("/Date(")!=-1&&(l.points[r].X=new Date(parseInt(l.points[r].X.substr(6))));this.model.hAxes=[];this.model.vAxes=[];var b=this,rt=!1,ut=!1;for(this._arrangeAxis(),y=0;y<this.model.axes.length;y++){for(i=this.model.axes[y],o=[],s=0;s<i.stripLine.length&&i.stripLine[s].visible;s++)i.stripLine[s]=n.extend(!0,{},this.model.stripLineDefault,i.stripLine[s]),i.stripLine[s].zIndex.toLowerCase()=="over"?rt=!0:ut=!0;for(h=i.orientation.toLowerCase(),k=this.model._visibleSeries.length-1,j=0;j<this.model._visibleSeries.length;++j)if(k-=1,this.model._visibleSeries[j].visibility.toLowerCase()=="visible"){this.model.enableCanvasRendering&&this.model._visibleSeries[j].type=="polar"&&this.model._visibleSeries[j].isStacking&&this.model._visibleSeries[j].drawType=="column"&&(this.model._visibleSeries[j]._zOrder=k);f=this.model._visibleSeries[j];f.xAxisName=f.xAxisName?f.xAxisName:b.model.axes[0].name;f.yAxisName=f.yAxisName?f.yAxisName:b.model.axes[1].name;var ft=f.xAxisName.toLowerCase(),et=f.yAxisName.toLowerCase(),ot=i.name.toLowerCase();if((ft||et)&&(ft==ot||et==ot)){if(h=="horizontal"&&i.valueType&&i.valueType.toString()=="datetime")for(e=0;e<f.points.length;e++)typeof f.points[e].X!="string"||isNaN(Date.parse(f.points[e].X))||(f.points[e].X=new Date(Date.parse(f.points[e].X)));else f._xAxisValueType!="string"||i.valueType||(i._valueType=h=="horizontal"&&!this.model.requireInvertedAxes?"category":h=="vertical"&&this.model.requireInvertedAxes?"category":"double"),f._xAxisValueType!="date"||i.valueType||(i._valueType=h=="horizontal"&&!this.model.requireInvertedAxes?"datetime":h=="vertical"&&this.model.requireInvertedAxes?"datetime":"double");o.push(f)}}if(h==(this.model.requireInvertedAxes?"horizontal":"vertical"))for(r=0;r<o.length;r++)if(st=o[r].type.toLowerCase(),ej.seriesTypes[st].prototype.stackingSeries||this.model.AreaType=="polaraxes"&&o[r].drawType.toLowerCase()=="column"&&o[r].isStacking){this._calculateStackingValues(o,i);break}i._valueType=i._valueType?i._valueType:i.valueType?i.valueType:"double";ht=new ej.axisTypes[i._valueType.toLowerCase()];ht._calculateRanges(b,i,o);d=n.extend({},ej.EjSvgRender.commonChartEventArgs);d.data={range:i.range};this._trigger("axesRangeCalculate",d)}if(g=n.extend({},ej.EjSvgRender.commonChartEventArgs),g.data={axes:this.model.axes},this._trigger("axesLabelsInitialize",g),this._calculateAreaBounds(),this.model.enable3D&&(a=new ej.Ej3DRender,this.vector=new a.vector3D,this.matrixobj=new a.matrix3D,this.bsptreeobj=new a.BSPTreeBuilder,this.polygon=new a.polygon3D,this.graphics=new a.Graphics3D,this.chart3D=this.svgRenderer.createGroup({id:this.svgObject.id+"_Chart3D"}),ej.Ej3DRender.Polygons=[]),this.model.AreaType!="none"){for(nt=n.extend({},ej.EjSvgRender.commonChartEventArgs),nt.data={areaBounds:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",nt),this._drawChartAreaRect(),this.model.title.text!=""&&this.model.title.text&&this._drawTitle(),this._calculateAxisSize(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),this.gPolarAxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_AxisLine"}),this.model.enable3D?(n.extend(ej.Ej3DAxisRenderer.prototype,this),this.chartaxis=new ej.Ej3DAxisRenderer(this)):(n.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this),this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject)),c=this.chartaxis,u=0;u<this.model.axes.length;u++)c._drawAxes(u,this.model.axes[u]);this.model.enable3D&&ej.Ej3DChart.prototype.update3DWall(this);this.svgRenderer.append(this.gXaxisEle,this.svgObject);this.svgRenderer.append(this.gYaxisEle,this.svgObject);var ct=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.X,lt=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.Y,at=this.model.AreaType=="polaraxes"?n(this.svgObject).width():this.model.m_AreaBounds.Width,vt=this.model.AreaType=="polaraxes"?n(this.svgObject).height():this.model.m_AreaBounds.Height,tt={id:this.svgObject.id+"_ChartAreaClipRect",x:ct,y:lt,width:at,height:vt,fill:"white","stroke-width":1,stroke:"Gray"};this.svgRenderer.drawClipPath(tt,this.svgObject);this._setZoomProperties()}else this._drawChartAreaRect(),tt={id:this.svgObject.id+"_ChartAreaClipRect",x:0,y:0,width:n(this.svgObject).width(),height:n(this.svgObject).height(),fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(tt,this.svgObject),this.model.title.text!=""&&this.model.title.text&&this._drawTitle();for(ut&&this.model.AreaType=="cartesianaxes"&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&this.seriesRender(),this.model.AreaType=="polaraxes"&&this.chartaxis._drawAxisLine(this.model.axes[1]),this.gXaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTick"}),this.gYaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTick"}),n.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this),c=this.chartaxis,u=0;u<this.model.axes.length;u++)(this.model.axes[u].tickLinesPosition=="inside"||this.model.axes[u].labelPosition=="inside")&&(this.model.axes[u].orientation.toLowerCase()=="horizontal"?(c._drawXAxisTickLine(u,this.model.axes[u]),c._drawXAxisLabels(u,this.model.axes[u])):this.model.axes[u].orientation.toLowerCase()=="vertical"&&(c._drawYAxisTickLine(u,this.model.axes[u]),c._drawYAxisLabels(u,this.model.axes[u])));this.svgRenderer.append(this.gXaxisTickEle,this.svgObject);this.svgRenderer.append(this.gYaxisTickEle,this.svgObject);rt&&this.model.AreaType=="cartesianaxes"&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over"));!this.resetZooming&&(this.zooming||this.panning)&&this._enableZoomingButtons();this.resetZooming=!1;it=n.extend({},ej.EjSvgRender.commonChartEventArgs);it.data={model:this.model};this._trigger("loaded",it)},_setZoomProperties:function(){for(var t=0;t<this.model.axes.length;t++){var n=this.model.axes[t],i=n.zoomFactor.toFixed(3),r=n.zoomPosition.toFixed(3);n.name==this.model.primaryXAxis.name&&(i!=this._xZoomFactor()||r!=this._xZoomPosition())&&(this._xZoomFactor(n.zoomFactor.toFixed(3)),this._xZoomPosition(n.zoomPosition.toFixed(3)));n.name==this.model.primaryYAxis.name&&(i!=this._yZoomFactor()||r!=this._yZoomPosition())&&(this._yZoomFactor(n.zoomFactor.toFixed(3)),this._yZoomPosition(n.zoomPosition.toFixed(3)))}},seriesRender:function(){var c=this,l,t,r,e,i,f,o,u,a,v,h,s,y,p,w;for(n(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&n(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove(),l={id:this.svgObject.id+"_SeriesCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.gSeriesEle=this.svgRenderer.createGroup(l),t=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),r=0;r<t.length;r++)if(t[r].visibility=="visible")for(ej.util.isNullOrUndefined(t[r].xAxis)||(t[r].xAxis=null,t[r].yAxis=null),e=0;e<this.model.axes.length;e++)i=this.model.axes[e],o=r,i.name&&i.orientation.toLowerCase()=="horizontal"&&i.name.toLowerCase()==t[r].xAxisName.toLowerCase()?t[r].xAxis=i:i.name&&i.orientation.toLowerCase()=="vertical"&&i.name.toLowerCase()==t[r].yAxisName.toLowerCase()&&(t[r].yAxis=i),this.model.requireInvertedAxes&&(i.name&&i.orientation.toLowerCase()=="vertical"&&i.name.toLowerCase()==t[r].xAxisName.toLowerCase()?t[r].xAxis=i:i.name&&i.orientation.toLowerCase()=="horizontal"&&i.name.toLowerCase()==t[r].yAxisName.toLowerCase()&&(t[r].yAxis=i));for(f=0;f<t.length;f++)o=f,u=t[f],this.model.AreaType!="none"||u.visibility.toLowerCase()!=="visible"||this.model.enable3D?u.visibility.toLowerCase()!=="visible"||this.model.enable3D?this.model.enable3D?(this.model.AreaType=="none"&&o==0||this.model.AreaType=="cartesianaxes")&&u.visibility.toLowerCase()==="visible"&&ej.Ej3DChart.prototype.renderSeries(this,u):this.svgRenderer.append(this.svgObject,this.element):this.renderSeries(u):o===0&&(a=u.type.toLowerCase(),v=n.inArray(t[0],this.model._visibleSeries),this.model._visibleSeries[v]=t[0]=n.extend(!0,u,t[0]),h=n.extend({},ej.EjSvgRender.commonChartEventArgs),h.data={series:u},this._trigger("seriesRendering",h),s=new ej.seriesTypes[a.toLowerCase()],y=s.draw(c,u),y||(!u.enableAnimation||this.vmlRendering||this.model.enableCanvasRendering||s.doAnimation(u),this.drawAccDisplayText(s,u)));this.model.enable3D&&(this.svgRenderer.append(this.chart3D,this.svgObject),p={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},this.graphics.prepareView(this.model.perspectiveAngle,this.model.depth,this.model.rotation,this.model.tilt,p),this.graphics.view(this.svgObject,this));this.svgRenderer.vmlNamespace&&this.model.AreaType!="none"&&this.svgRenderer.append(this.gSeriesEle,this.svgObject);this.model.AreaType=="polaraxes"&&this.svgRenderer.append(this.gPolarAxisEle,this.svgObject);n(this.svgObject).find("#"+this.svgObject.id+"_StriplineOver").length>0&&(w=n(this.svgObject).find("#"+this.svgObject.id+"_StriplineOver").detach(),w.appendTo(this.svgObject));this.legendRender.drawLegend();c.model.initSeriesRender=!0},_renderStripline:function(t){var f,u,i,r;for(n.extend(ej.EjStripline.prototype,this),this.chartstripline=new ej.EjStripline(this),f=this.chartstripline,u=0;u<this.model.axes.length;u++)for(i=this.model.axes[u],r=0;r<i.stripLine.length&&i.stripLine[r].visible;r++)i.stripLine[r].zIndex.toLowerCase()==t&&f._drawStripline(i,i.stripLine[r]);t=="over"?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(t){for(var u,nt,a,p,c,tt,i,r,v,y,o,s,l,w,b,k,d,it,rt,g,e,ut=this,h=n.inArray(t,this.model._visibleSeries),f=0;f<t.points.length;f++)typeof t.points[f].x=="string"&&t.points[f].x.indexOf("/Date(")!=-1&&(t.points[f].x=new Date(parseInt(t.points[f].x.substr(6))));if(t.xAxis=t.xAxis===null||t.xAxis===undefined?this.model.axes[0]:t.xAxis,t.yAxis=t.yAxis===null||t.yAxis===undefined?this.model.axes[1]:t.yAxis,u=t.type.toLowerCase(),c=null,this.model.AreaType=="cartesianaxes"?(p=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.model.requireInvertedAxes),c="translate("+p.x+","+p.y+")",a="visible"):a=t.enableAnimation?"hidden":"visible",tt={id:this.svgObject.id+"_TextGroup_"+h,transform:c,visibility:a},nt=u!="scatter"?{id:this.svgObject.id+"_symbolGroup_"+h,transform:c,visibility:a}:{id:this.svgObject.id+"_SeriesGroup_"+h,transform:c},this.gSymbolGroupEle=this.svgRenderer.createGroup(nt),this.gSeriesTextEle=this.svgRenderer.createGroup(tt),e=n.extend({},ej.EjSvgRender.commonChartEventArgs),e.data={series:t},this._trigger("seriesRendering",e),i=new ej.seriesTypes[u],this.model.enableCanvasRendering?(t.type.toLowerCase()!="bar"&&t.type.toLowerCase()!="stackingbar"&&(this.canvasX=t.xAxis.x,this.canvasY=t.yAxis.y),this.svgRenderer.ctx.save(),this.svgRenderer.ctx.rect(this.model.m_AreaBounds.X,this.model.m_AreaBounds.Y,this.model.m_AreaBounds.Width,this.model.m_AreaBounds.Height),this.svgRenderer.ctx.clip(),i.draw(this,t),this.svgRenderer.ctx.restore()):(this.canvasX=this.canvasY=0,i.draw(this,t)),r=i.gSeriesGroupEle,r&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(r,t,this),t.marker.visible&&!(u=="candle"||u=="hilo"||u=="hiloopenclose"))if(v=this,n.each(t.points,function(n,r){var u;if(i.drawSymbolImage(t,n),u=v.model.AreaType!="polaraxes"?r.symbolLocation?r.symbolLocation:ej.EjSvgRender.utils._getPoint(r,t):r.symbolLocation?r.symbolLocation:ej.EjSvgRender.utils.TransformToVisible(t,r.X,r.y,v),v.model.AreaType=="polaraxes")var f=t.yAxis.labelFormat?t.yAxis.labelFormat:"",e=r.text?r.text:r.y+f.substring(f.indexOf("}")+1),o=ej.EjSvgRender.utils._measureText(e,null,t.marker.dataLabel.font);(ej.util.isNullOrUndefined(r.marker)||ej.util.isNullOrUndefined(r.marker.visible)||r.marker&&r.marker.visible)&&r.visible&&i.drawSymbol(h,t,n,u.X,u.Y)}),u!="scatter")this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),t.marker.visible&&(r=this.gSymbolGroupEle,ej.EjSvgRender.utils._drawAxesBoundsClipPath(r,t,this)),t.marker.dataLabel.visible&&(r=this.gSeriesTextEle,ej.EjSvgRender.utils._drawAxesBoundsClipPath(r,t,this));else if(r=this.gSymbolGroupEle,ej.EjSvgRender.utils._drawAxesBoundsClipPath(r,t,this),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),t.tooltip.visible||u=="scatter"){for(y=this.model.enableCanvasRendering?this.model.series[h].points:n(this.gSymbolGroupEle).children().not("defs"),this.vmlRendering?(this.cloneSeriesEle=n(this.gSeriesEle).clone(),this.cloneobj=n(this.element).clone(),this.svgclone=n(this.svgObject).clone(),n(document.body).append(this.cloneobj),this.svgRenderer.append(this.cloneSeriesEle,this.svgclone),this.svgRenderer.append(this.svgclone,this.cloneobj)):(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element)),o=0;o<y.length;o++)s=this.vmlRendering?n("#"+y[o].id)[0]:y[o],this.model.enableCanvasRendering?(b=s.cx,k=s.cy,w=s.width,d=s.height):(l=ej.EjSvgRender.utils._getBoundingClientRect(s,this,t,!1),b=l.x+t.xAxis.x,k=l.y+t.yAxis.y,d=l.height,w=l.width),it={X:b,Y:k,Width:w,Height:d},ej.EjSvgRender.utils._addRegion(this,it,t,null,o);this.vmlRendering&&(n(this.cloneobj).remove(),n(this.svgclone).remove())}this.drawDisplayText(i,t);this.model.enableCanvasRendering?this.svgRenderer.append(this.svgObject,this.element):this.vmlRendering||(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element),t.enableAnimation&&(rt=n("#template_group_"+this._id),g=t.marker.dataLabel,rt.children().length!=0&&g.visible&&g.template&&i.animateLabelTemplate(t),i.doAnimation(t),this.model.AnimationComplete=!0,e=n.extend({},ej.EjSvgRender.commonChartEventArgs),e.data={series:t},this._trigger("animationComplete",e)))},drawDisplayText:function(t,i){if(i.marker.dataLabel.visible){var r=this,u=-1;n.each(i.points,function(f,e){var o=r.model.AreaType!="polaraxes"?e.symbolLocation?e.symbolLocation:ej.EjSvgRender.utils._getPoint(e,i):ej.EjSvgRender.utils.TransformToVisible(i,e.X,e.y,r),h,s;if((ej.util.isNullOrUndefined(e.marker)||e.marker.dataLabel&&e.marker.dataLabel.visible)&&e.visible)if(u++,r.zoomed)for(h=n.inArray(i,r.model._visibleSeries),s=0;s<r.model.chartRegions.length;s++)h==r.model.chartRegions[s].SeriesIndex&&f==r.model.chartRegions[s].Region.PointIndex&&(r.model.enableCanvasRendering?(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.rect(r.model.m_AreaBounds.X,r.model.m_AreaBounds.Y,r.model.m_AreaBounds.Width,r.model.m_AreaBounds.Height),r.svgRenderer.ctx.clip(),t.drawDataLabel(i,f,e,o.X,o.Y,s),r.svgRenderer.ctx.restore()):t.drawDataLabel(i,f,e,o.X,o.Y,s));else r.model.enableCanvasRendering?(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.rect(r.model.m_AreaBounds.X,r.model.m_AreaBounds.Y,r.model.m_AreaBounds.Width,r.model.m_AreaBounds.Height),r.svgRenderer.ctx.clip(),t.drawDataLabel(i,f,e,o.X,o.Y,u),r.svgRenderer.ctx.restore()):t.drawDataLabel(i,f,e,o.X,o.Y,u)});this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle);this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle)}},drawAccDisplayText:function(n,t){var u=this,r,i;if(t.marker.dataLabel.visible)if(t.type.toLowerCase()!="pyramid"&&t.type.toLowerCase()!="funnel"&&(t.leftsidePoints.length>0||t.rightsidePoints.length>0)){for(u.model.bounds.left=[],u.model.bounds.right=[],i=0;i<t.rightsidePoints.length;i++)t.rightsidePoints[i].index=i,n.drawDataLabelAcc(u,t,t.rightsidePoints[i].pointIndex,t.rightsidePoints[i]);for(r=t.leftsidePoints.length-1;r>=0;r--)t.leftsidePoints[r].index=r,n.drawDataLabelAcc(u,t,t.leftsidePoints[r].pointIndex,t.leftsidePoints[r])}else for(i=0;i<t.points.length;i++)t.points[i].index=i,n.drawDataLabelAcc(u,t,i,t.points[i]);this.svgRenderer.append(this.gSeriesConnectorEle,this.gSeriesEle);this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle);this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle);this.svgRenderer.append(this.gSeriesEle,this.svgObject);this.vmlRendering||this.svgRenderer.append(this.svgObject,this.element)},_processOData:function(t){var i=this,r=t.dataSource.executeQuery(t.query);r.done(function(r){var f,u;for(i._processJsonData(r.result,t),t.visibility="visible",n(i.svgObject).empty(),n(i.legendSvgContainer).empty(),i.model.enableCanvasRendering&&(i.svgRenderer.ctx.clearRect(0,0,i.svgObject.width,i.svgObject.height),n("#canvas_trackSymbol").remove()),f=!0,u=0;u<i.model.series.length;u++)if(i.model.series[u].dataSource&&i.model.series[u].visibility=="hidden"){f=!1;break}f&&i.draw()});r.fail(function(){var u,r;for(t.visibility="visible",n(i.svgObject).empty(),n(i.legendSvgContainer).empty(),u=!0,r=0;r<i.model.series.length;r++)if(i.model.series[r].dataSource&&i.model.series[r].visibility=="hidden"){u=!1;break}u&&i.draw()})},_processJsonData:function(n,t){var e,r,u,f,w,s,b,h,k,c,d,l,nt,v,g,a,i;t.points.length>0&&(t.points.length=0);var y=[],tt=t.dataSource,o=t.xName,p=t.yName;for(e=0;e<n.length;e++)typeof n[e][o]=="string"&&n[e][o].indexOf("/Date(")!=-1?(n[e][o]=new Date(parseInt(n[e][o].substr(6))),y.push(n[e][o]?n[e][o]:e)):y.push(n[e][o]?n[e][o]:e);if(r=[],u=0,!p&&t._hiloTypes){for(f=[],w=t.high,s=0;s<n.length;s++)f.push(n[s][w]===null||n[s][w]===undefined?n[s][w]:parseFloat(n[s][w]));for(r[u]=f,u=u+1,f=[],b=t.low,h=0;h<n.length;h++)f.push(n[h][b]===null||n[h][b]===undefined?n[h][b]:parseFloat(n[h][b]));if(r[u]=f,u=u+1,t.type.toLowerCase()!=="hilo"){for(f=[],k=t.open,c=0;c<n.length;c++)f.push(n[c][k]===null||n[c][k]===undefined?n[c][k]:parseFloat(n[c][k]));for(r[u]=f,u=u+1,f=[],d=t.close,l=0;l<n.length;l++)f.push(n[l][d]===null||n[l][d]===undefined?n[l][d]:parseFloat(n[l][d]));r[u]=f}}if(p){for(nt=[],v=0;v<n.length;v++)nt.push(n[v][p]?parseFloat(n[v][p]):n[v][p]);if(r[u]=nt,u=u+1,t.type.toLowerCase()=="bubble"){for(f=[],g=t.size,a=0;a<n.length;a++)f.push(n[a][g]===null||n[a][g]===undefined?n[a][g]:parseFloat(n[a][g]));r[u]=f}}for(i=0;i<y.length;i++)t.points[i]={x:y[i],X:y[i],y:r[0][i],YValues:[],visible:!0},t.type.toLowerCase()=="bubble"?(t.points[i].YValues.push(r[0][i]),t.points[i].size=t.points[i].YValues[1]=r[1][i]):t._hiloTypes?(t.points[i].high=t.points[i].YValues[0]=r[0][i],t.points[i].low=t.points[i].YValues[1]=r[1][i],t.type.toLowerCase()!="hilo"&&t.type.toLowerCase()!="rangecolumn"&&(t.points[i].open=t.points[i].YValues[2]=r[2][i],t.points[i].close=t.points[i].YValues[3]=r[3][i])):t.points[i].YValues.push(r[0][i])},bindTo:function(t){var r,i;if(this.model.series){if(r=this.model.series,this.setModelProperties(),!this.zoomed&&!this.panning)for(i=0;i<r.length;i++)(r[i].visibility==null||r[i].visibility==undefined)&&(r[i].visibility="visible",r[i].type&&(r[i]._hiloTypes=ej.seriesTypes[r[i].type.toLowerCase()].prototype.hiloTypes)),r[i].points||(r[i].points=[]),r[i].dataSource&&(r[i].dataSource instanceof ej.DataManager?(r[i].visibility="hidden",this._processOData(r[i])):r[i].dataSource.length>0&&this._processJsonData(r[i].dataSource,r[i]));n(this.svgObject).width()>0&&this.draw(t)}},chartResize:function(){var t=this,i=n(t.svgObject),r;this.model.enableCanvasRendering&&(n("#canvas_trackSymbol").remove(),r=t.svgObject.getContext("2d"),r.clearRect(0,0,this.svgWidth,this.svgHeight),this.svgRenderer.svgObj.height=ej.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=n("#"+this._id).width());this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){var r,u;if(t.model.size.width&&t.model.size.width.indexOf("%")!=-1){var f=t.model.size.width,e=n(t.element).width(),o=e/100*parseInt(f);i.width(o)}else i.width(n(t.element).width());if(t.model.size.height&&t.model.size.height.indexOf("%")!=-1){var s=t.model.size.height,h=n(t.element).height(),c=h/100*parseInt(s);i.height(c)}else i.height(n(t.element).height());if(n(t.svgObject).width()>0){for(n(t.svgObject).empty(),n(t.legendSvgContainer).empty(),n("#template_group_"+t._id).remove(),t.disableAnimation(),r=0;t.model.axes&&r<t.model.axes.length;r++)t.model.axes[r].desiredIntervals=null;for(u=0;u<t.model.series.length;u++)t.model.series[u].regionAdded=!1;t.draw();t.zoomed&&t._enableZoomingButtons();t.enableAnimation()}},500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},bindEvents:function(){var r=jQuery.uaMatch(navigator.userAgent),t,i;this._on(n(this.svgObject),"touchstart",this.chartMouseDown);this._on(this.element,"touchmove",this.chartMouseMove);this._on(n(document),"touchend",this.chartMouseUp);this._on(this.element,"touchleave",this.chartMouseLeave);this._on(n(this.element),"mousedown",this.chartMouseDown);this._on(this.element,"mouseleave",this.chartMouseLeave);this._on(n(document),"mouseup",this.chartMouseUp);this._on(n(this.element),"click",this.chartMouseClick);t=!!navigator.userAgent.match(/Trident\/7\./);!this.isDevice()||t||this.vmlRendering?(this._on(this.element,"mousemove",this.chartMouseMove),this._on(n(this.svgObject),"click",this.chartMouseClick),this._on(n(this.legendSvgContainer),"click",this.chartMouseClick)):window.navigator.msPointerEnabled?(this._on(this.element,"MSPointerMove",this.chartMouseMove),this._on(this.element,"MSPointerDown",this.chartMouseDown),this._on(this.element,"MSPointerOut",this.chartMouseLeave),this._on(n(document),"MSPointerUp",this.chartMouseUp),this._on(n(this.svgObject),"click",this.chartMouseClick),this._on(n(this.legendSvgContainer),"click",this.chartMouseClick),(this.model.zooming.enable||this.model.crosshair.visible)&&n(this.svgObject).css("-ms-touch-action","none")):(this._on(this.element,"touchmove",this.chartTouchMove),this._on(n(this.svgObject),"touchstart",this.chartTouchClick),this._on(n(this.legendSvgContainer),"touchstart",this.chartTouchClick));this.model.canResize&&(!this.isDevice()||window.navigator.msPointerEnabled?this._on(n(window),"resize",this.chartResize):this._on(n(window),"orientationchange",this.chartResize));i=r.browser.toLowerCase()=="mozilla"?"DOMMouseScroll":"mousewheel";this._on(this.element,i,this.chartMouseWheel)},calZoomFactors:function(n,t,i,r){var u,f;return n==1?(u=1,f=0):(u=ej.EjSvgRender.utils._minMax(1/n,0,1),f=r+(i-u)*t),{zoomMFactor:u,zoomMPosition:f}},doMouseWheelZoom:function(n,t,i){if(n>=1){var r=this.calZoomFactors(n,t,i.zoomFactor,i.zoomPosition);if(i.zoomPosition!=r.zoomMPosition)return this.zoomed=!0,i.zoomPosition=r.zoomMPosition,i.zoomFactor=r.zoomMPosition+r.zoomMFactor>1?1-r.zoomMPosition:r.zoomMFactor,!0}return!1},enableAnimation:function(){for(var t,n=0;n<this.model.series.length;n++)t=this.model.series[n],t.enableAnimation=this.serAnimation[n]},disableAnimation:function(){for(var t=this,n=0;n<t.model.series.length;n++)t.model.series[n].enableAnimation=!1},_removeTrackBall:function(){var i="#"+this.svgObject.id,t;n("#"+this.svgObject.id+"_trackSymbol").remove();n(document).find("#measureTex").remove();this.chartCross.visible&&(t=n(this.svgObject).find(i+"_AxisCrossToolTip"),this.svgRenderer._setAttr(n(t),{visibility:"hidden"}),t=n(this.svgObject).find(i+"_CrosshairVertical"),this.svgRenderer._setAttr(n(t),{d:"M 0 0"}),t=n(this.svgObject).find(i+"_CrosshairHorizontal"),this.svgRenderer._setAttr(n(t),{d:"M 0 0"}),t=n(this.svgObject).find(i+"_TrackAxisToolTip"),this.svgRenderer._setAttr(n(t),{visibility:"hidden"}),t=n(this.svgObject).find(i+"_Tracker"),this.svgRenderer._setAttr(n(t),{d:"M 0 0"}),t=n(this.svgObject).find('[id*="_TrackToolTip"]'),this.svgRenderer._setAttr(n(t),{visibility:"hidden"}),t=n(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr(n(t),{visibility:"hidden"}),t=n(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr(n(t),{visibility:"hidden"}),n(i+"_CrosshairVertical").css("visibility","hidden"),n(i+"_CrosshairHorizontal").css("visibility","hidden"),n("#"+this._id).find('[id*="canvas_AxisToolTipRect"]').css("visibility","hidden"),n("#"+this._id).find('[id*="canvas_ToolTipRect"]').css("visibility","hidden"),n("#"+this._id).find('[id*="canvas_Tracker"]').remove(),n("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"))},enableTrackBall:function(){this.model.crosshair.visible=this.chartCross.visible;this.model.crosshair.type=this.chartCross.mArea},disableTrackBall:function(){this.model.crosshair.visible=!1;this._removeTrackBall()},_enableZoomingButtons:function(){n("#"+this._id+"_ResetZoom").length==0&&(this.resetZoomButton(),this.panButton(),this.zoomButton())},chartMouseWheel:function(t){var i,s,u,r,h,c,o;if(this.model.zooming.enableMouseWheel&&this.model.AreaType=="cartesianaxes"&&!this.model.enable3D){i=this;this.zoomed=!1;var f=!1,e="#"+i.svgObject.id,o=jQuery.uaMatch(navigator.userAgent),l=o.browser.toLowerCase()=="mozilla"?-t.originalEvent.detail/3>0?1:-1:t.originalEvent.wheelDelta/120>0?1:-1;for(u=0;u<this.model.axes.length;u++)r=this.model.axes[u],(r.orientation.toLowerCase()=="vertical"&&(i.model.zooming.type.toLowerCase()=="y"||i.model.zooming.type.trim().toLowerCase()=="x,y")||r.orientation.toLowerCase()=="horizontal"&&(i.model.zooming.type.toLowerCase()=="x"||i.model.zooming.type.trim().toLowerCase()=="x,y"))&&(h=Math.max(1/ej.EjSvgRender.utils._minMax(r.zoomFactor,0,1),1),c=Math.max(h+.25*l,1),f=f|i.doMouseWheelZoom(c,.5,r)),r.zoomFactor!=1&&r.zoomPosition!=0&&(s=!0);this.disableAnimation();this.disableTrackBall();f&&(this.zoomed=!0,i.redraw());this._enableZoomingButtons();this.mouseWheelCoords={x:t.originalEvent.pageX,y:t.originalEvent.pageY};s||(n(i.svgObject).find(e+"_ResetZoom,"+e+"_PanBtn,"+e+"_ZoomBtn").remove(),this.enableAnimation(),this.panning=!1);o=jQuery.uaMatch(navigator.userAgent);t.preventDefault&&o.browser=="chrome"&&this.model.zooming.enable&&t.preventDefault();t.returnValue=!1}n(".tooltipDiv").remove()},getLegendData:function(t){var r=this.calMousePosition(t),u=n("#legend_"+this._id).scrollTop(),f=n("#legend_"+this._id).scrollLeft();this.scrolltop=u;this.scrollleft=f;this.mousemoveX=r.X+f;this.mousemoveY=r.Y+u;var e=this.mousemoveX,o=this.mousemoveY,s=this._id,i;return(!ej.util.isNullOrUndefined(t.target.id)&&this.svgRenderer._getAttrVal(n(t.target).parents(":eq(1)"),"id")==this.svgObject.id+"_Legend"||this.model.enableCanvasRendering)&&(n.each(this.model.legendRegion,function(t,r){e>=r.Bounds.LegendBound.X+r.Bounds.ItemBound.X&&e<=r.Bounds.LegendBound.X+r.Bounds.ItemBound.X+r.LegendItem.Bounds.Width&&(o>=r.Bounds.LegendBound.Y+r.Bounds.ItemBound.Y-r.LegendItem.Bounds.Height/4&&o<=r.Bounds.LegendBound.Y+r.Bounds.ItemBound.Y+r.LegendItem.Bounds.Height/2?(i=r,n("#legend_"+s+"_canvas").css("cursor","pointer")):n("#legend_"+s+"_canvas").css("cursor","default"))}),!ej.util.isNullOrUndefined(i))?{legendItem:i,series:this.model._visibleSeries[i.LegendItem.SeriesIndex]}:!1},get3DSeriesPoint:function(t){var r=this.mousemoveX,u=this.mousemoveY,o=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.X,s=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.Y,h=this.model.AreaType=="polaraxes"?n(this.svgObject).width():this.model.m_AreaBounds.Width,c=this.model.AreaType=="polaraxes"?n(this.svgObject).height():this.model.m_AreaBounds.Height,f,i,e;if(r>o&&r<o+h&&u>s&&u<s+c&&(f=n(t.target)[0].nodeName,(f=="path"||f=="shape")&&n(t.target)[0].id.indexOf("Region")>1))return index=n(t.target)[0].id.match(/(\d+)/g),pointIndex=parseInt(index[index.length-1]),seriesIndex=parseInt(index[index.length-2]),i={},i.Region={},i.Region.PointIndex=pointIndex,i.SeriesIndex=seriesIndex,e={},e.pointIndex=pointIndex,region={region:i,pointData:e,location:{x:r,y:u}}},GetSeriesPoint:function(t){var u=this.mousemoveX,f=this.mousemoveY,o,i=this,s,e,a,r,h;if(i.model.enable3D)return this.get3DSeriesPoint(t);var v=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.X,y=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.Y,p=this.model.AreaType=="polaraxes"?n(this.svgObject).width():this.model.m_AreaBounds.Width,w=this.model.AreaType=="polaraxes"?n(this.svgObject).height():this.model.m_AreaBounds.Height;if(this.model.AreaType=="cartesianaxes"||this.model.AreaType=="polaraxes"){if(u>v&&u<v+p&&f>y&&f<y+w&&n.each(this.model.chartRegions,function(r,e){var b=i.model._visibleSeries[e.SeriesIndex],y,p,d,w;if(b.drawType.toLowerCase()=="column"&&t.target){if(i.model.enableCanvasRendering&&b.type.toLowerCase()=="polar"){var h=e.Region.Bounds,g=-.5*Math.PI,nt=h.DRadius,l,a;l=u-h.CenterX;a=f-h.CenterY;var k=i.model._visibleSeries[e.SeriesIndex],tt=k.startAngle,it=k.endAngle,v=tt?2*Math.PI*(i.model.itemCurrentXPos<0?1+i.model.itemCurrentXPos:i.model.itemCurrentXPos):0,c=(Math.atan2(a,l)-g-v)%(2*Math.PI);c<0&&h.PointIndex!=0&&(c=2*Math.PI+c);y=parseFloat(h.StartAngle.toFixed(14));p=parseFloat(h.EndAngle.toFixed(14));y-=v;p-=v;c>=y&&c<=p&&(r=h.PointIndex,s=Math.sqrt(Math.pow(Math.abs(l),2)+Math.pow(Math.abs(a),2)),s<=h.Radius&&s>nt&&(d={Region:{PointIndex:r},SeriesIndex:e.SeriesIndex,type:e.type},o=d))}else if(w=n(t.target)[0].nodeName,(w=="path"||w=="shape")&&n(n(t.target).parent())[0].id==i.svgObject.id+"_SeriesGroup_"+e.SeriesIndex)return r=parseInt(i.svgRenderer._getAttrVal(n(t.target)[0],"pointIndex")),e={Region:{PointIndex:r},SeriesIndex:e.SeriesIndex,type:e.type},o=e,!1}else if(u>=e.Region.Bounds.X&&u<=e.Region.Bounds.X+e.Region.Bounds.Width&&f>e.Region.Bounds.Y&&f<e.Region.Bounds.Y+e.Region.Bounds.Height)return o=e,!1}),o)return{region:o,location:{x:u,y:f}}}else if(i=this,i.model.chartRegions.length>0&&(i.model.chartRegions[0].Series.type.toLowerCase()=="pyramid"||i.model.chartRegions[0].Series.type.toLowerCase()=="funnel")){if(a=n(t.target)[0].nodeName,(a=="path"||a=="shape")&&n(n(t.target).parent())[0].id==i.svgObject.id+"_SeriesGroup_"+i.model.chartRegions[0].SeriesIndex)return e=i.model.chartRegions[0],index=n(t.target)[0].id.match(/(\d+)/g),index=parseInt(index[index.length-1]),e.Region.PointIndex=index,r={},r.pointIndex=index,o={region:e,pointData:r,location:{x:u,y:f}};e=i.model.chartRegions[0];var c=this.pyrX,l=this.pyrY,r={};for(h=0;h<e.Region.length;h++){line1=e.Region[h].Line1;line2=e.Region[h].Line2;line3=e.Region[h].Line3;line4=e.Region[h].Line4;var b=[{x:line1.x+c,y:line1.y+l},{x:line2.x+c,y:line2.y+l},{x:line3.x+c,y:line3.y+l},{x:line4.x+c,y:line4.y+l},],k={x:u,y:f},d=this.isPointInPolygon(b,k);if(d)return r.pointIndex=e.Region[h].PointIndex,e.Region.PointIndex=r.pointIndex,o={region:e,pointData:r,location:{x:u,y:f}}}}else return n.each(i.model.chartRegions,function(n,t){var nt=-.5*Math.PI,b=t.SeriesData,l=t.Region,rt=i.model._visibleSeries[t.SeriesIndex].type.toLowerCase()=="doughnut"?b.DRadius:0,d,g,ut,p,c,a,e,h,ft,tt,it,w;d=u-b.CenterX;g=f-b.CenterY;var v=i.model._visibleSeries[t.SeriesIndex],k=v.startAngle,y=v.endAngle;if(k=k<0?k+360:k,y=y<0?y+360:y,ut=v.endAngle-v.startAngle,ut<0){for(y=y/360,p=y?2*Math.PI*(y<0?1+y:y):0,c=(Math.atan2(g,d)-nt-p)%(2*Math.PI),c<0&&(c=2*Math.PI+c),r=[],a=0;a<l.length;a++)if(e=parseFloat(l[a].StartAngle.toFixed(14)),h=parseFloat(l[a].EndAngle.toFixed(14)),e=e<0?2*Math.PI+e:e,h=h<0?2*Math.PI+h:h,e-=p,h-=p,e=parseFloat(e.toFixed(14)),h=parseFloat(h.toFixed(14)),v.startAngle>=0&&v.endAngle<=0&&(e=e<=0?2*Math.PI+e:e,h=h<0?2*Math.PI+h:h),c<=e&&c>=h){r.push(l[a]);break}}else for(p=k?2*Math.PI*(i.model.itemCurrentXPos<0?1+i.model.itemCurrentXPos:i.model.itemCurrentXPos):0,c=(Math.atan2(g,d)-nt-p)%(2*Math.PI),c<0&&(c=2*Math.PI+c),r=[],a=0;a<l.length;a++)if(e=parseFloat(l[a].StartAngle.toFixed(14)),h=parseFloat(l[a].EndAngle.toFixed(14)),e=e<0?2*Math.PI+e:e,h=h<0?2*Math.PI+h:h,e-=p,h-=p,e=parseFloat(e.toFixed(14)),h=parseFloat(h.toFixed(14)),v.startAngle<=0&&(v.endAngle>=0||v.endAngle==null)&&(e=e<0?2*Math.PI+e:e,h=h<=0?2*Math.PI+h:h),c>=e&&c<=h){r.push(l[a]);break}if(r.length>0)if(ft=v.explodeAll||v.explodeIndex==r[0].PointIndex,ft){for(tt=u-r[0].StartX,it=f-r[0].StartY,c=Math.atan2(it,tt)-nt,c<0&&(c=2*Math.PI+c),r=[],w=0;w<l.length;w++)c>=l[w].StartAngle&&c<=l[w].EndAngle&&r.push(l[w]);r.length>0&&(s=Math.sqrt(Math.pow(Math.abs(tt),2)+Math.pow(Math.abs(it),2)),s<=b.Radius&&s>rt&&(l.PointIndex=r[0].PointIndex,o={region:t,pointData:r,location:{x:u,y:f}}))}else s=Math.sqrt(Math.pow(Math.abs(d),2)+Math.pow(Math.abs(g),2)),s<=b.Radius&&s>rt&&(l.PointIndex=r[0].PointIndex,o={region:t,pointData:r,location:{x:u,y:f}})}),o},isPointInPolygon:function(n,t){for(var u=!1,i=-1,f=n.length,r=f-1;++i<f;r=i)(n[i].y<=t.y&&t.y<n[r].y||n[r].y<=t.y&&t.y<n[i].y)&&t.x<(n[r].x-n[i].x)*(t.y-n[i].y)/(n[r].y-n[i].y)+n[i].x&&(u=!u);return u},mousePosition:function(n){if(!ej.util.isNullOrUndefined(n.pageX)&&n.pageX>0)return{x:n.pageX,y:n.pageY};if(!ej.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0)return{x:n.originalEvent.pageX,y:n.originalEvent.pageY};if(n.originalEvent.changedTouches!=undefined){if(!ej.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0)return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}}else return{x:0,y:0}},calMousePosition:function(t){var e=jQuery.uaMatch(navigator.userAgent),f=this.mousePosition(t),i,r,u;return t.pageX=f.x,t.pageY=f.y,u=e.browser.toLowerCase(),u=="webkit"||u=="mozilla"?(i=t.pageX-n(this.svgObject).parent().offset().left,r=t.pageY-n(this.svgObject).parent().offset().top):(i=t.pageX-n(this.svgObject).offset().left,r=t.pageY-n(this.svgObject).offset().top),{X:i,Y:r}},cancelEvent:function(n){n.stopPropagation();var t=jQuery.uaMatch(navigator.userAgent);return t.browser=="chrome"&&(this.model.zooming.enable||this.model.crosshair.visible)&&n.preventDefault(),this.model.enable3D&&(n.preventDefault(),n.stopPropagation()),n.returnValue=!1,n.cancelBubble=!0,!1},resetZoom:function(){var t=this,i="#"+t._id;t.zoomed&&(n.each(this.model.axes,function(n,t){t.zoomFactor=1;t.zoomPosition=0}),n("#"+t._id+"_canvas").css({cursor:"default"}),n("#"+t._id+"_ResetZoom").remove(),n("#"+t._id+"_PanBtn").remove(),n("#"+t._id+"_ZoomBtn").remove(),n(i+"_ResetZoom").remove(),n(i+"_PanBtn").remove(),n(i+"_ZoomBtn").remove(),t.zoomed=!1,t.zooming=!1,t.panning=!1,t.resetZooming=!0,t.redraw(),t.enableAnimation(),t.enableTrackBall(),t.svgRenderer._setAttr(n(t.svgObject).find(i+"_XAxis,"+i+"_ChartArea,"+i+"_YAxis,"+i+"_SeriesCollection"),{cursor:"default"}))},startZoom:function(){var t=this,i="#"+t._id,r=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";t.svgRenderer._setAttr(n(i+"_ZoomBtn"),{selected:"true"});t.svgRenderer._setAttr(n(i+"_ZoomPath"),{fill:"#14B9FF"});t.svgRenderer._setAttr(n(i+"_ZoomIcon"),{fill:"#FFFFFF"});t.svgRenderer._setAttr(n(i+"_PanPath"),{fill:"#B7B7B7"});t.svgRenderer._setAttr(n(i+"_panIcon"),{fill:r});n(i+"_ZoomBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"});n(i+"_PanBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"});n("#"+t._id+"_canvas").css({cursor:"default"});this._cursorToDefault();t.panning=!1;t.enableTrackBall()},startPan:function(){var t=this,i="#"+t._id,r=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";t.svgRenderer._setAttr(n(i+"_ZoomBtn"),{selected:"false"});t.svgRenderer._setAttr(n(i+"_PanBtn"),{selected:"true"});t.svgRenderer._setAttr(n(i+"_ZoomPath"),{fill:"#B7B7B7"});t.svgRenderer._setAttr(n(i+"_ZoomIcon"),{fill:r});t.svgRenderer._setAttr(n(i+"_PanPath"),{fill:"#14B9FF"});t.svgRenderer._setAttr(n(i+"_panIcon"),{fill:"#FFFFFF"});n(i+"_ZoomBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"});n(i+"_PanBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"});n("#"+t._id+"_canvas").css({cursor:"pointer"});this._cursorToPointer();t.panning=!0;t.disableTrackBall()},zoomButton:function(){var i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-116),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",t=this.svgRenderer.createGroup({id:this._id+"_ZoomBtn",transform:"translate("+i+","+r+")",selected:"true"}),u={id:this._id+"_ZoomPath",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning?"#b7b7b7":"#14B9FF",zoomId:this._id+"_ZoomBtn",width:27,height:27,left:i+20,top:r},f;this.model.enableCanvasRendering?(this.svgRenderer.zoomButton(u),this._on(n("#"+this._id+"_ZoomBtn"),"touchstart click",this.startZoom)):(this.svgRenderer.drawPath(u,t),f={id:this._id+"_ZoomIcon",d:"M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",fill:this.panning?e:"#FFFFFF"},this.svgRenderer.drawPath(f,t),this.svgRenderer.append(t,this.svgObject),this._on(n(t),"touchstart click",this.startZoom))},panButton:function(){var i=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-79),r=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",t=this.svgRenderer.createGroup({id:this._id+"_PanBtn",transform:"translate("+i+","+r+")",selected:"false"}),u={id:this._id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7",panId:this._id+"_PanBtn",width:27,height:27,left:i+10,top:r},f;this.model.enableCanvasRendering?(this.svgRenderer.panButton(u),this._on(n("#"+this._id+"_PanBtn"),"touchstart click",this.startPan)):(this.svgRenderer.drawPath(u,t),f={id:this._id+"_panIcon",points:"26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",fill:this.panning?"#FFFFFF":e},this.svgRenderer.drawPolygon(f,t),this.svgRenderer.append(t,this.svgObject),this._on(n(t),"touchstart click",this.startPan))},resetZoomButton:function(){var r=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-42),u=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),t=this.svgRenderer.createGroup({id:this._id+"_ResetZoom",transform:"translate("+r+","+u+")",selected:"false"}),i=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",f={id:this._id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7",resetZoomId:this._id+"_ResetZoom",width:27,height:27,left:r,top:u},e,o,s,h;this.model.enableCanvasRendering?(this.svgRenderer.resetZoom(f),this._on(n("#"+this._id+"_ResetZoom"),"touchstart click",this.resetZoom)):(this.svgRenderer.drawPath(f,t),e={id:this._id+"_ptIcon",points:"11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",fill:i},this.svgRenderer.drawPolygon(e,t),o={id:this._id+"_ptIcon1",points:"19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",fill:i},this.svgRenderer.drawPolygon(o,t),s={id:this._id+"_ptIcon2",points:"11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",fill:i},this.svgRenderer.drawPolygon(s,t),h={id:this._id+"_ptIcon3",points:"19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",fill:i},this.svgRenderer.drawPolygon(h,t),this.svgRenderer.append(t,this.svgObject),this._on(n(t),"touchstart click",this.resetZoom))},doZoom:function(t,i,r){var u=this,l,a,o;if(u.model.enableCanvasRendering)var h=n("#"+this.svgObject.id+"_ZoomArea")[0].getClientRects()[0],c=n("#"+this.svgObject.id)[0].getClientRects()[0],l=h.left-c.left-n(document).scrollLeft(),a=h.top-c.top-n(document).scrollTop();else l=parseFloat(u.svgRenderer._getAttrVal(n(t),"x")),a=parseFloat(u.svgRenderer._getAttrVal(n(t),"y"));for(n("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,o=0;o<this.model.axes.length;o++){var f=this.model.axes[o],e=f.zoomFactor,s=f.zoomPosition;f.orientation.toLowerCase()=="horizontal"?(f.zoomFactor=u.model.zooming.type.toLowerCase()!="y"?e*(i/u.model.m_AreaBounds.Width):1,f.zoomPosition=u.model.zooming.type.toLowerCase()!="y"?s+Math.abs((l-u.model.m_AreaBounds.X)/u.model.m_AreaBounds.Width)*e:0,parseFloat(f.zoomFactor.toFixed(3))<=.001&&(f.zoomFactor=e,f.zoomPosition=s)):(f.zoomFactor=u.model.zooming.type.toLowerCase()!="x"?e*r/u.model.m_AreaBounds.Height:1,f.zoomPosition=u.model.zooming.type.toLowerCase()!="x"?s+(1-Math.abs((r+(a-u.model.m_AreaBounds.Y))/u.model.m_AreaBounds.Height))*e:0,parseFloat(f.zoomFactor.toFixed(3))<=.001&&(f.zoomFactor=e,f.zoomPosition=s))}this.disableAnimation();this.redraw(!0);this._enableZoomingButtons()},_cursorToDefault:function(){var t="#"+this.svgObject.id;this.svgRenderer._setAttr(n(this.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection,"+t+"_StriplineBehind,"+t+"_StriplineOver"),{cursor:"default"})},_cursorToPointer:function(){var t="#"+this.svgObject.id;this.svgRenderer._setAttr(n(this.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection,"+t+"_StriplineBehind,"+t+"_StriplineOver"),{cursor:"pointer"})},chartMouseUp:function(t){var u=this,i,r,f,e;if(this.model.zooming.enable&&this.model.AreaType=="cartesianaxes"){if(i=n("#"+this.svgObject.id+"_ZoomArea"),i[0])if(this.model.enableCanvasRendering)var o=i[0].getClientRects()[0],s=o.width,h=o.height;else var c=n(i),s=parseFloat(this.svgRenderer._getAttrVal(c,"width")),h=parseFloat(this.svgRenderer._getAttrVal(c,"height"));s>0&&h>0?u.doZoom(i,s,h):this.drag=!1;u.panning||this.enableTrackBall()}r=this.svgObject.id;f=ej.util.isNullOrUndefined(t.target.parentNode)?"":t.target.parentNode.id;(f==r+"_ResetZoom"||f==r+"_ZoomBtn"||t.target.id==r+"_ResetZoom"||t.target.id==r+"_ZoomBtn")&&(this.panning=!1);(this.isDevice()||this.model.zooming.enableDeferredZoom)&&this.panning&&this.doPan&&this.model.AreaType=="cartesianaxes"&&(e={x:this.oPreviousCoords.x-this.currentPageX,y:this.oPreviousCoords.y-this.currentPageY},this.oPreviousCoords={x:this.currentPageX,y:this.currentPageY},n.each(this.model.axes,function(n,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);u.translate(t,e.x,e.y,i)}),this.redraw(),this._cursorToPointer(),this._enableZoomingButtons());this.doPan&&(this.doPan=!1);this.rotateActivate=!1},chartMouseDown:function(t){var i,r;this.cancelEvent(t);this.svgRenderer.vmlNamespace||(this.oPreviousCoords={},this.svgRenderer._getAttrVal(n(t.target).parent(),"id")!=this.svgObject.id+"_ResetZoom"&&this.svgRenderer._getAttrVal(n(t.target).parent(),"id")!=this.svgObject.id+"_PanBtn"&&this.model.zooming.enable&&!this.panning&&this.model.AreaType=="cartesianaxes"?(i=this.calMousePosition(t),this.mouseDownX=i.X,this.mouseDownY=i.Y,this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mouseDownY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mouseDownY>=this.model.m_AreaBounds.Y&&(this.drag=!0,this.disableTrackBall())):this.panning&&(r=this.calMousePosition(t),this.mousePanX=r.X,this.mousePanY=r.Y,this.mousePanX>=this.model.m_AreaBounds.X&&this.mousePanX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousePanY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousePanY>=this.model.m_AreaBounds.Y&&(this.doPan=!0,this.oPreviousCoords={x:t.pageX,y:t.pageY})));this.model.enable3D&&this.model.enableRotation&&(this.rotateActivate=!0)},chartMouseLeave:function(t){this.cancelEvent(t);n("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden");n(".tooltipDiv").hasClass(this.svgObject.id)||n(".tooltipDiv").remove();this._removeTrackBall()},chartTouchClick:function(n){this.cancelEvent(n);n=n.originalEvent.touches[0];this._doClick(n)},_doClick:function(t){for(var e,o,s,h,v,r,c,y,l,f,p,i,u=0;u<this.model._visibleSeries.length;u++)if(p=u,i=this.model._visibleSeries[u],this.model.AreaType=="cartesianaxes"&&i.visibility.toLowerCase()=="visible"&&i.type.toLowerCase()!=="scatter"&&i.type.toLowerCase()!=="bubble"&&i.type.toLowerCase()!=="column"&&i.type.toLowerCase()!=="bar"&&i.type.toLowerCase()!=="stackingbar"&&i.type.toLowerCase()!=="stackingcolumn"&&!i._hiloTypes){var a=this.calMousePosition(t);this.mousemoveX=a.X;this.mousemoveY=a.Y;e=this.getClosesPointXY([],[],i,this.mousemoveX,this.mousemoveY);ej.util.isNullOrUndefined(e.point)||(o=n.extend({},ej.EjSvgRender.commonChartEventArgs),o.data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:u,Region:{PointIndex:e.index}}},this._trigger("pointRegionClick",o))}if(s=this.GetSeriesPoint(t),s&&(h=n.extend({},ej.EjSvgRender.commonChartEventArgs),h.data=s,this._trigger("pointRegionClick",h)),this.model.AreaType=="none"&&this.model.enable3D&&n(t.target)[0].nodeName=="path"&&(index=n(t.target)[0].id.match(/(\d+)/g),index=parseInt(index[index.length-1]),v=this.model._visibleSeries[0].explodeIndex,this.model._visibleSeries[0].explodeIndex=v==index?null:index,n(this.svgObject).empty(),this.draw()),r=this.getLegendData(t),r){for(n("#template_group_"+this._id).remove(),c=n.extend({},ej.EjSvgRender.commonChartEventArgs),c.data=r,this._trigger("legendItemClick",c),this.model.AreaType!="none"?r.series.visibility=r.series.visibility.toLowerCase()==="visible"?"hidden":"visible":(y=r.series.points[r.legendItem.LegendItem.PointIndex].visible,r.series.points[r.legendItem.LegendItem.PointIndex].visible=y==!0?!1:!0),this.model.enableCanvasRendering&&(l=document.getElementById(this._id).getClientRects()[0],this.svgRenderer.ctx.clearRect(0,0,l.width,l.height)),n("#"+this._id).find('[id*="canvas_symbol"]').remove(),n(this.svgObject).empty(),n(this.legendSvgContainer).empty(),f=0;f<this.model.series.length;f++)this.model.series[f].regionAdded=!1;this.model.legendCollapsed=!0;this.disableAnimation();this.draw();this.enableAnimation();this.model.AreaType!="none"&&this.zoomed&&this._enableZoomingButtons()}},chartMouseClick:function(n){this.cancelEvent(n);window.navigator.msPointerEnabled&&(n=n.originalEvent);this._doClick(n)},drawTrackerSymbol:function(t,i,r,u,f){var s=t.type.toLowerCase(),l=new ej.seriesTypes[s],e=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.model.requireInvertedAxes),h,c,o;this.model.AreaType!="none"&&(this.model.AreaType=="cartesianaxes"&&f.X+e.x<=e.x+e.width&&(f.X+e.x>=e.x||f.X==0)&&(Math.abs(f.Y+e.y)>=e.y||f.Y==0)?(this.model.crosshair.visible||s=="bubble"||s=="scatter")&&(n(this.svgObject).find("#"+this.svgObject.id+"_TrackSymbolClipRect_"+i).length!=0||this.vmlRendering||(h={id:this.svgObject.id+"_TrackSymbolClipRect_"+i,x:0,y:0,width:t.xAxis.width,height:t.yAxis.height,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(h,this.svgObject)),n("#"+this.svgObject.id+"_TrackSymbol_"+i).remove(),c="canvas_trackSymbol_"+i,n("#"+this._id).find("[id*="+c+"]").remove(),o={"clip-path":"url(#"+this.svgObject.id+"_TrackSymbolClipRect_"+i+")",id:this.svgObject.id+"_TrackSymbol_"+i,transform:"translate("+e.x+","+e.y+")"},this.gTrackerEle=this.svgRenderer.createGroup(o)):(o={id:this.svgObject.id+"_TrackSymbol_"+i},this.gTrackerEle=this.svgRenderer.createGroup(o)),this.model.crosshair.marker.visible&&l.drawSymbol(i,t,r,f.X,f.Y,this,u),this.svgRenderer.append(this.gTrackerEle,this.svgObject))},getClosesPointXY:function(t,i,r,u,f){var y,o=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,this.model.requireInvertedAxes),p=ej.EjSvgRender.utils._getValuebyPoint(Math.abs(u-o.x),Math.abs(f-(o.y+o.height)),r),g=p.PointX,nt=p.PointY,w,s,h,c,l,e,a,v;if(f<=o.y+o.height&&o.y<=f&&o.x<=u&&u<=o.x+o.width){for(e=0;e<r.points.length;e++)s=r.points[e],h=e,t.push(s.X),i.push(s.YValues[0]);if(c=this.getClosest(t,g),l=this.getClosest(i,nt),!ej.util.isNullOrUndefined(c)&&!ej.util.isNullOrUndefined(l))for(e=0;e<r.points.length;e++){s=r.points[e];h=e;a=ej.EjSvgRender.utils._getPoint(s,r);v=this.model.m_AreaBounds.Y;marker=n.extend(!0,{},r.marker,s.marker);var b=(marker.size.height+marker.border.width)*3,k=r.width,d=b>k?b:k;s.X==c&&s.YValues[0]==l&&a.Y+v-d<f&&f<a.Y+v+d&&(y=s,w=h)}}return{point:y,index:w}},getClosestPointX:function(t,i,r,u){var o=[],f=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.model.requireInvertedAxes),h=ej.EjSvgRender.utils._getValuebyPoint(Math.abs(r-f.x),Math.abs(u-(f.y+f.height)),i),c=h.PointX,s=[],e;return n.each(i.points,function(n,i){t.push(i.X)}),e=this.getClosest(t,c),ej.util.isNullOrUndefined(e)||n.each(i.points,function(n,t){t.X==e&&(o.push(t),s.push(n))}),{point:o,index:s}},getClosest:function(n,t){var r=null,u=Math.min.apply(null,n),f=Math.max.apply(null,n),i;if(t>=u&&t<=f+1)for(i=0;i<n.length;i++)(r==null||Math.abs(n[i]-t)<Math.abs(r-t))&&(r=n[i]);return r},createTooltip:function(t,i){var u=this.model._visibleSeries[t.SeriesIndex],p=u.points[t.Region.PointIndex],o=n.extend(!0,{},p),l=10,a,s,r,v,c,y,f,e,h;o.visible&&(a=null,s=n.extend({},ej.EjSvgRender.commonChartEventArgs),s.data={currentText:a,seriesIndex:t.SeriesIndex,pointIndex:t.Region.PointIndex,series:u},this._trigger("toolTipInitialize",s),r=n(".tooltipDiv"),n(".tooltipDiv").length==0?(this.tooltipFirst=!0,r=n("<div class='tooltipDiv' style='position: absolute; z-index: 13000; display: block;'><\/div>"),n(document.body).append(r),n(".tooltipDiv").addClass(this.svgObject.id)):(n(".tooltipDiv").css("display","block"),this.tooltipFirst=!1),this.model.AreaType=="cartesianaxes"&&(u.xAxis._valueType.toLowerCase()=="datetime"&&(o.x=Globalize.format(new Date(o.X),ej.util.isNullOrUndefined(u.xAxis.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(u.xAxis.intervalType):u.xAxis.labelFormat)),u.xAxis._valueType.toLowerCase()=="category"&&(o.x=ej.EjSvgRender.utils._getLabelContent(t.Region.PointIndex,u.xAxis))),u.tooltip.template!=null?(v=n("#"+u.tooltip.template).clone(),n(".tooltipDiv")[0].innerHTML="",n(v).css("display","block").appendTo(r),u.count=1,o.count=1,c=this.getSeriesColor(o,t.SeriesIndex),c?n(r).css("background-color",jQuery.type(c)=="array"?c[0].color:c):n(r).css("background-color",this.model.pointColors[t.Region.PointIndex]),y={series:u,point:o},ej.util.isNullOrUndefined(s.data.currentText)?n(r).html(n(r).html().parseTemplate(y)):n(r).html(s.data.currentText)):n(r).html(s.data.ToolTip),f=i.pageX+l,e=i.pageY+l,f=f+n(r).width()<n(window).width()?f:f-n(r).width(),e=e+n(r).height()<n(window).height()?e:e-n(r).height(),(f===undefined||f===null)&&(f=i.pageX+l),(e===undefined||e===null)&&(e=i.pageY+l),n(r).css("left",f),n(r).css("top",e),h=u.tooltip,h.enableAnimation&&n(r).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":h.duration,"-moz-transition-duration":h.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":h.duration,"-o-transition-duration":h.duration}))},translate:function(n,t,i,r){var u=n.orientation.toLowerCase()=="horizontal"?t/this.model.m_AreaBounds.Width/r:i/this.model.m_AreaBounds.Height/r;n.zoomPosition=n.orientation.toLowerCase()=="horizontal"?ej.EjSvgRender.utils._minMax(n.zoomPosition+u,0,1-n.zoomFactor):ej.EjSvgRender.utils._minMax(n.zoomPosition-u,0,1-n.zoomFactor)},tooltip:function(t,i){var p=!1,e,l,r=this.GetSeriesPoint(i),y,tt,it,u,h,rt,ut,ft,et,ot,w,a,st,b,c,f,ht,ct,k,v,g,s,nt,vt;if(n("#canvas_trackSymbol").remove(),ej.util.isNullOrUndefined(r)&&n("#"+t.svgObject.id+"_TrackToolTip").remove(),this.model.crosshair.visible||this.model.AreaType!="cartesianaxes")n("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").remove();else for(s=0;s<this.model._visibleSeries.length;s++)e=this.model._visibleSeries[s],l=s,y=e.type.toLowerCase(),ej.util.isNullOrUndefined(r)&&(y=="bubble"||y=="scatter")&&n("#"+t.svgObject.id+"_TrackSymbol_"+l).remove(),e.visibility.toLowerCase()!="visible"||e.type.toLowerCase()==="scatter"||e.type.toLowerCase()==="bubble"||e.type.toLowerCase()==="column"||e.type.toLowerCase()==="bar"||e.type.toLowerCase()==="stackingbar"||e.type.toLowerCase()==="stackingcolumn"||e._hiloTypes||(n("#"+t.svgObject.id+"_TrackToolTipTemplate_"+l).remove(),n(".tooltipDiv").hasClass(t.svgObject.id)||n(".tooltipDiv").remove(),n("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackSymbol_"+l).remove(),n("#"+t.svgObject.id+"_TrackSymbol_"+l).remove(),tt=[],it=[],c=null,u=t.getClosesPointXY(it,tt,e,t.mousemoveX,t.mousemoveY),u.point&&(c=ej.EjSvgRender.utils._getPoint(u.point,e)),h=this.model.prevPoint,h&&h.seriesIndex==s&&!u.point&&(rt=ej.EjSvgRender.utils._getPoint(h.point,h.series),t.drawTrackerSymbol(h.series,h.seriesIndex,h.pointIndex,null,rt),this.model.prevPoint=null),e.marker.visible&&u.point&&((ej.util.isNullOrUndefined(u.point.marker)||ej.util.isNullOrUndefined(u.point.marker.visible)||u.point.marker&&u.point.marker.visible)&&t.drawTrackerSymbol(e,l,u.index,!1,c),h&&u.point!=h.point&&(ut=ej.EjSvgRender.utils._getPoint(h.point,h.series),t.drawTrackerSymbol(h.series,h.seriesIndex,h.pointIndex,null,ut,d)),(ej.util.isNullOrUndefined(u.point.marker)||ej.util.isNullOrUndefined(u.point.marker.visible)||u.point.marker&&u.point.marker.visible)&&(this.model.prevPoint={point:u.point,pointIndex:u.index,series:e,seriesIndex:l})),e.tooltip.visible&&u.point&&(!r||s>r.region.SeriesIndex&&!(e._zOrder<this.model._visibleSeries[r.region.SeriesIndex]._zOrder))&&(f=ej.EjSvgRender.utils._getTransform(e.xAxis,e.yAxis,t.model.requireInvertedAxes),c.X+f.x<=f.x+f.width&&(c.X+f.x>=f.x||c.X==0)&&Math.abs(c.Y-(f.y+f.height))<=f.y+f.height&&(Math.abs(c.Y-(f.y+f.height))>=f.y||c.Y==0)&&(n(t.svgObject).find("#"+t.svgObject.id+"_TrackToolTip").length==0&&(ft={id:t.svgObject.id+"_TrackToolTip",transform:"translate("+f.x+","+f.y+")"},t.gTransToolEle=t.svgRenderer.createGroup(ft)),t.svgRenderer._setAttr(n(t.svgObject).find("#"+t.svgObject.id+"_TrackToolTip"),{transform:"translate("+f.x+","+f.y+")",visibility:"visible"}),ej.util.isNullOrUndefined(e.tooltip.template)?(p=!0,n(".tooltipDiv").remove(),this.model.enableCanvasRendering?t.displayCanvasTooltip(c,u.point,e,u.index):t.displayShowTooltip(c,u.point,e,u.index)):(p=!0,n("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),et={SeriesIndex:l,Region:{PointIndex:u.index}},t.createTooltip(et,i)),ot=n(t.svgObject).find("#"+t.svgObject.id+"_TrackToolTip").detach(),ot.appendTo(t.svgObject),w=n.extend({},ej.EjSvgRender.commonChartEventArgs),w.data={location:{x:this.mousemoveX,y:this.mousemoveX},region:{SeriesIndex:s,Region:{PointIndex:u.index}}},t._trigger("pointRegionMouseMove",w))));if(n(".tooltipDiv").hasClass(this.svgObject.id)||n(".tooltipDiv").remove(),r&&ej.util.isNullOrUndefined(r.region.isStripLine)){if(this.model.AreaType=="none"&&this.model._visibleSeries[r.region.SeriesIndex].explode&&(this.model._visibleSeries[r.region.SeriesIndex].enableAnimation?this.model.AnimationComplete&&this.pieExplosion(r,i):this.pieExplosion(r,i)),o=this.model._visibleSeries[r.region.SeriesIndex],a=this.model._visibleSeries[r.region.SeriesIndex].points[r.region.Region.PointIndex],a&&(o.type.toLowerCase()=="bubble"||o.type.toLowerCase()=="scatter"||this.model.AreaType=="polaraxes")){for(s=0;s<this.model._visibleSeries.length;s++)n("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackSymbol_"+s).remove(),st="canvas_trackSymbol_"+s,n("#"+this._id).find("[id*="+st+"]").remove();b=this.model.AreaType!="polaraxes"?ej.EjSvgRender.utils._getPoint(a,o):ej.EjSvgRender.utils.TransformToVisible(o,a.X,a.y,this);this.model.AreaType=="cartesianaxes"?this.drawTrackerSymbol(o,r.region.SeriesIndex,r.region.Region.PointIndex,!0,b):o.marker.visible&&o.drawType!="column"&&this.drawTrackerSymbol(o,r.region.SeriesIndex,r.region.Region.PointIndex,!0,b)}o.tooltip.visible&&!p&&o.visibility.toLowerCase()=="visible"&&(ej.util.isNullOrUndefined(o.tooltip.template)?(this.model.AreaType=="cartesianaxes"?(f=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,this.model.requireInvertedAxes),n(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(ht={id:this.svgObject.id+"_TrackToolTip",transform:"translate("+f.x+","+f.y+")"},this.gTransToolEle=this.svgRenderer.createGroup(ht)),this.svgRenderer._setAttr(n(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip"),{transform:"translate("+f.x+","+f.y+")"}),n("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","visible"),c={X:r.location.x-f.x,Y:Math.abs(r.location.y-(this.model.enableCanvasRendering?this.model.m_AreaBounds.Y:f.y))}):(n(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(ct={id:this.svgObject.id+"_TrackToolTip"},this.gTransToolEle=this.svgRenderer.createGroup(ct)),c={X:r.location.x,Y:Math.abs(r.location.y)}),n(".tooltipDiv").remove(),this.model.enableCanvasRendering?this.displayCanvasTooltip(c,a,o,r.region.Region.PointIndex):this.displayShowTooltip(c,a,o,r.region.Region.PointIndex)):(n("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),this.createTooltip(r.region,i)));k=n.extend({},ej.EjSvgRender.commonChartEventArgs);k.data=r;this._trigger("pointRegionMouseMove",k)}else if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var y=this.model.series[0].type,o=this.model._visibleSeries[0],lt=new ej.seriesTypes[y],at,d,pt=o.labelPosition.toLowerCase(),yt=lt._calculateArcData(this,this.model.explodeValue,o.points[this.model.explodeValue],o);for(this.model.enableCanvasRendering&&(this.model.series[0].explodeIndex=null,v=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(v.left,v.top,v.width,v.height),n("#"+this._id).ejChart("redraw")),d=this.svgObject.id+"_SeriesGroup_0",at=n(this.gSeriesEle).children("#"+d)[0],g=n(at).children(),s=0;s<g.length;s++)if(nt=g[s],vt=this.svgRenderer._getAttrVal(n(nt)[0],"pointIndex"),parseInt(vt)==this.model.explodeValue){this.svgRenderer._setAttr(n(nt),{d:yt.Direction});break}this.model._visibleSeries[0].marker.dataLabel.visible&&lt.drawDataLabelAcc(this,o,this.model.explodeValue,o.points[this.model.explodeValue]);this.model.explodeValue=null}},chartCrossHair:function(t,i){var f,o,u,h,v,r,e,l,w,a,b,d,g,s,k;if(this.model.crosshair.visible&&this.model.crosshair.type.toLowerCase()=="trackball"){for(h=0;h<this.model._visibleSeries.length;h++)if(o=h,u=this.model._visibleSeries[h],u.visibility.toLowerCase()=="visible")if(v=[],r=t.getClosestPointX(v,u,t.mousemoveX,t.mousemoveY),r.point)for(e=0;e<r.point.length;e++)if(r.point[e].visible){f=ej.EjSvgRender.utils._getPoint(r.point[e],u);var c=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],y="M "+(f.X+u.xAxis.x)+" "+t.model.m_AreaBounds.Y+" L "+(f.X+u.xAxis.x)+" "+(t.model.m_AreaBounds.Y+t.model.m_AreaBounds.Height),p={id:t.svgObject.id+"_Tracker",fill:"none",width:0,height:this.model.m_AreaBounds.Height,top:this.model.m_AreaBounds.Y+c.top,left:this.model.m_AreaBounds.X+c.left,"stroke-width":t.model.crosshair.line.width,"clip-path":"url(#"+t.svgObject.id+"_ChartAreaClipRect)",stroke:t.model.crosshair.line.color,d:y};n("#"+t.svgObject.id+"_Tracker").length==0?t.model.enableCanvasRendering?t.svgRenderer.drawCrosshairLine(p,t.svgObject):t.svgRenderer.drawPath(p,t.svgObject):(t.svgRenderer._setAttr(n(t.svgObject).find("#"+t.svgObject.id+"_Tracker"),{d:y}),n("#"+t.svgObject.id+"_Tracker").css("left",f.X+u.xAxis.x+c.left+n(document).scrollLeft()),n("#"+this._id).find('[id*="canvas_Tracker"]').css("visibility","visible"));l=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,t.model.requireInvertedAxes);w={transform:"translate("+l.x+","+l.y+")",id:t.svgObject.id+"_TrackToolTip_"+o};t.gTransToolEle=t.svgRenderer.createGroup(w);a=this.model.prePoint;ej.util.isNullOrUndefined(a)||a.pointIndex[0]!=r.index[0]||!n("#"+t.svgObject.id+"_trackSymbol_"+o+"_"+r.index)?(ej.util.isNullOrUndefined(b)&&(this.model.crosshair.tooltipTemplate!=null&&n(document).find('[id*="_TrackToolTipTemplate_"]').attr("visibility","hidden"),t.gTransToolEle&&t.gTrackerEle&&(n(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').attr("visibility","hidden"),n("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden")),b=r),t.drawTrackerSymbol(u,o,r.index[e],!0,f),t.model.crosshair.tooltipTemplate?t.displayTemplateTooltip(d,g,f,r.point[e],u,o,r.index[e]):t.displayTooltip(f,r.point[e],u,r.index[e])):(s=n(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]'),this.svgRenderer._setAttr(n(s),{visibility:"visible"}),n("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","visible"),s=n(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr(n(s),{visibility:"visible"}),s=n(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr(n(s),{visibility:"visible"}),n(t.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible"),this.model.crosshair.tooltipTemplate!=null&&(s=n(document).find('[id*="_TrackToolTipTemplate_"]'),this.svgRenderer._setAttr(n(s),{visibility:"visible"})))}else n("#"+this.svgObject.id+"_TrackToolTip_"+o).remove(),n("#"+this.svgObject.id+"_TrackSymbol_"+o).remove();else n(t.svgObject).find('[id*="_Tracker"]').remove();this.model.closestPoint!=null&&(this.model.prePoint={point:r.point,pointIndex:r.index,series:u,seriesIndex:o});t.gTrackAxisEle||(k={id:t.svgObject.id+"_TrackAxisToolTip",visibility:"visible"},t.gTrackAxisEle=t.svgRenderer.createGroup(k),t.svgRenderer.append(t.gTrackAxisEle,t.svgObject));f&&n.each(t.model.axes,function(r,u){var o,s,e,h;n(t.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible");o=t.model.m_AreaBounds.X;u.orientation.toLowerCase()=="horizontal"&&u.crosshairLabel.visible&&f.X+o<=u.x+u.width&&u.x<=f.X+o&&(s=u._valueType.toLowerCase(),e=(f.X/u.width*u.visibleRange.delta+u.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),s=="logarithmic"&&(e=Math.pow(u.logBase,e)),s=="datetime"&&(e=Globalize.format(new Date(Math.floor(e)),ej.util.isNullOrUndefined(u.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(u.intervalType):u.labelFormat)),s=="category"&&(e=ej.EjSvgRender.utils._getLabelContent(Math.floor(e),u)),h={X:f.X+o,Y:u.opposedPosition?u.y+u.height-u.majorTickLines.size:u.y+u.height+u.majorTickLines.size+10},t.displayAxisTooltip(h,e,u,r,i))})}},chartAreaCrossHair:function(t,i){var e=ej.util.isNullOrUndefined(this.model.primaryYAxis.roundingPlaces)?2:this.model.primaryYAxis.roundingPlaces,u,f,h;if(this.model.crosshair.visible&&this.model.crosshair.type.toLowerCase()=="crosshair"){var o="M "+this.mousemoveX+" "+this.model.m_AreaBounds.Y+" L "+this.mousemoveX+" "+(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height),s="M "+this.model.m_AreaBounds.X+" "+this.mousemoveY+" L "+(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width)+" "+this.mousemoveY,r=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0];n("#"+t.svgObject.id+"_CrosshairVertical").length==0?(u={id:t.svgObject.id+"_CrosshairVertical",fill:"none",width:0,height:this.model.m_AreaBounds.Height,top:this.model.m_AreaBounds.Y+r.top,left:this.model.m_AreaBounds.X+r.left,"stroke-width":t.model.crosshair.line.width,stroke:t.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:o},t.model.enableCanvasRendering?t.svgRenderer.drawCrosshairLine(u,t.svgObject):t.svgRenderer.drawPath(u,t.svgObject)):(t.svgRenderer._setAttr(n(t.svgObject).find("#"+t.svgObject.id+"_CrosshairVertical"),{d:o}),n("#"+t.svgObject.id+"_CrosshairVertical").css("left",this.mousemoveX+r.left+n(document).scrollLeft()),n("#"+t.svgObject.id+"_CrosshairVertical").css("visibility","visible"));n("#"+t.svgObject.id+"_CrosshairHorizontal").length==0?(f={id:t.svgObject.id+"_CrosshairHorizontal",fill:"none",width:this.model.m_AreaBounds.Width,height:0,top:this.model.m_AreaBounds.Y+r.top,left:this.model.m_AreaBounds.X+r.left,"stroke-width":t.model.crosshair.line.width,stroke:t.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:s},t.model.enableCanvasRendering?t.svgRenderer.drawCrosshairLine(f,t.svgObject):t.svgRenderer.drawPath(f,t.svgObject)):(t.svgRenderer._setAttr(n(t.svgObject).find("#"+t.svgObject.id+"_CrosshairHorizontal"),{d:s}),n("#"+t.svgObject.id+"_CrosshairHorizontal").css("top",this.mousemoveY+r.top+n(document).scrollTop()),n("#"+t.svgObject.id+"_CrosshairHorizontal").css("left",this.model.m_AreaBounds.X+r.left+n(document).scrollLeft()),n("#"+t.svgObject.id+"_CrosshairHorizontal").css("visibility","visible"));n("#"+t.svgObject.id+"_AxisCrossToolTip").length==0?(h={id:t.svgObject.id+"_AxisCrossToolTip",visibility:"visible"},t.gTrackAxisEle=t.svgRenderer.createGroup(h),t.svgRenderer.append(t.gTrackAxisEle,t.svgObject)):this.svgRenderer._setAttr(n(t.gTrackAxisEle),{visibility:"visible"});n.each(t.model.axes,function(n,r){var o=r._valueType.toLowerCase(),s,u,h,f,c;r.orientation.toLowerCase()=="horizontal"&&r.crosshairLabel.visible?t.mousemoveX<=r.x+r.width&&r.x<=t.mousemoveX&&(s=r._valueType=="category"&&r.labelPlacement.toLowerCase()=="betweenticks"?.5:0,u=((t.mousemoveX-r.x)/r.width*r.visibleRange.delta+r.visibleRange.min+s).toFixed(2).replace(new RegExp("\\.0{2}"),""),o=="logarithmic"&&(u=Math.pow(r.logBase,u).toFixed(2).replace(new RegExp("\\.0{2}"),"")),o=="datetime"&&(u=Globalize.format(new Date(Math.floor(u)),ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(r.intervalType):r.labelFormat)),o=="category"&&(u=ej.EjSvgRender.utils._getLabelContent(u,r)),h={X:t.mousemoveX,Y:r.y},t.displayAxisTooltip(h,u,r,n,i)):r.orientation.toLowerCase()=="vertical"&&r.crosshairLabel.visible&&t.mousemoveY<=r.y+r.height&&r.y<=t.mousemoveY&&(f=(Math.abs(1-(t.mousemoveY-r.y)/r.height)*r.visibleRange.delta+r.visibleRange.min).toFixed(e).replace(new RegExp("\\.0{"+e+"}"),""),o=="logarithmic"&&(f=Math.pow(r.logBase,f).toFixed(2).replace(new RegExp("\\.0{2}"),"")),o=="datetime"&&(f=Globalize.format(new Date(Math.floor(f)),ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(r.intervalType):r.labelFormat)),o=="category"&&(f=ej.EjSvgRender.utils._getLabelContent(f,r)),c={X:r.x,Y:t.mousemoveY},t.displayAxisTooltip(c,f,r,n,i))})}},chartTouchMove:function(n){this.cancelEvent(n);n=n.originalEvent.touches[0];this.chartInteractiveBehavior(n)},chartInteractiveBehavior:function(t){var e=this.calMousePosition(t),u,o,s,i,f,r;this.mousemoveX=e.X;this.mousemoveY=e.Y;u="#"+this.svgObject.id;this.mouseWheelCoords&&(o=Math.abs(this.mouseWheelCoords.x-t.pageX),s=Math.abs(this.mouseWheelCoords.y-t.pageY),(o>0||s>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall());i=this;i.model.AreaType=="cartesianaxes"&&this.mousemoveX>=this.model.m_AreaBounds.X&&this.mousemoveX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousemoveY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousemoveY>=this.model.m_AreaBounds.Y&&this.model.initSeriesRender?(f={x:i.mousemoveX,y:i.mousemoveY},r=i.svgRenderer._getAttrVal(n(t.target).parent(),"id"),r!=undefined&&(r==i.svgRenderer._getAttrVal(n(this.svgObject).find(u+"_ZoomBtn"),"id")||r==i.svgRenderer._getAttrVal(n(this.svgObject).find(u+"_ResetZoom"),"id")||r==i.svgRenderer._getAttrVal(n(this.svgObject).find(u+"_PanBtn"),"id"))?this.disableTrackBall():this.enableTrackBall(),this.model.crosshair.visible||this.tooltip(i,t),this.chartCrossHair(i,f),this.chartAreaCrossHair(i,f)):i.model.AreaType=="none"||i.model.AreaType=="polaraxes"?this.tooltip(i,t):(n("#"+i.svgObject.id).find("#"+i.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),n("#"+i.svgObject.id+"_TrackToolTip").remove(),n(".tooltipDiv").css("display","none"),this._removeTrackBall())},chartMouseMove:function(t){function f(i){if(n("#tooltip").length<=0){var r=n("<div id = 'tooltip'><\/div>");n(r).html("&nbsp"+i+"&nbsp");n(document.body).append(r);n(r).css({left:t.pageX+10,top:t.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})}else n("#tooltip").css({left:t.pageX+10,top:t.pageY+10})}var v,y,ft,et,i,s,h,c,l,p,w,b,r,nt,e,u,o,rt,ut;if(this.cancelEvent(t),this.rotateActivate&&this.oPreviousCoords&&(v=this.oPreviousCoords.Y-this.mousemoveY,y=this.oPreviousCoords.X-this.mousemoveX,(y||v)&&(this.model.tilt-=v,this.model.rotation+=y,n(this.chart3D).empty(),ft={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},this.graphics.view(this.svgObject,this,this.model.rotation,this.model.tilt,ft,this.model.perspectiveAngle,this.model.depth),this.svgRenderer.append(this.chart3D,this.svgObject),this.svgRenderer.append(this.gTransToolEle,this.svgObject)),this.oPreviousCoords.Y=this.mousemoveY,this.oPreviousCoords.X=this.mousemoveX),et=this,this.calMousePosition(t),n("#tooltip").remove(),this.panning||(this.drag||this.chartInteractiveBehavior(t),i="#"+this.svgObject.id,this.model.zooming.enable&&this.model.AreaType=="cartesianaxes"&&!this.model.enable3D&&this.drag&&(this.disableTrackBall(),n("#"+this.svgObject.id+"_ZoomArea").remove(),this.model.zooming.type.toLowerCase()=="x"?(s=Math.abs(this.mousemoveX-this.mouseDownX),h=this.model.m_AreaBounds.Height,c=this.mousemoveX>this.mouseDownX?this.mouseDownX:this.mousemoveX,l=this.model.m_AreaBounds.Y):this.model.zooming.type.toLowerCase()=="y"?(s=this.model.m_AreaBounds.Width,h=Math.abs(this.mousemoveY-this.mouseDownY),c=this.model.m_AreaBounds.X,l=this.mousemoveY>this.mouseDownY?this.mouseDownY:this.mousemoveY):(s=Math.abs(this.mousemoveX-this.mouseDownX),h=Math.abs(this.mousemoveY-this.mouseDownY),c=this.mousemoveX>this.mouseDownX?this.mouseDownX:this.mousemoveX,l=this.mousemoveY>this.mouseDownY?this.mouseDownY:this.mousemoveY),n(this.svgObject).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),this.zooming=!0,p={id:this.svgObject.id+"_ZoomArea",x:c,y:l,width:s,height:h,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.model.enableCanvasRendering?this.svgRenderer.drawZoomRect(p,this):this.svgRenderer.drawRect(p,this.svgObject))),w=this.model.zooming.enableDeferredZoom,this.panning&&this.doPan&&this.model.AreaType=="cartesianaxes")if(this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.isDevice()||w){if(this.isDevice()||w)for(r=0;r<this.model._visibleSeries.length;r++){var ot=this.model.series[r],st=ej.EjSvgRender.utils._getTransform(ot.xAxis,ot.yAxis,this.model.requireInvertedAxes),ct=t.pageX-this.oPreviousCoords.x+st.x,lt=t.pageY-this.oPreviousCoords.y+st.y,k="translate("+ct+","+lt+")",d=this.svgObject.id;n("#"+d+"_SeriesGroup_"+r).attr("transform",k);n("#"+d+"_symbolGroup_"+r).attr("transform",k);n("#"+d+"_TextGroup_"+r).attr("transform",k)}}else b={x:this.oPreviousCoords.x-t.pageX,y:this.oPreviousCoords.y-t.pageY},this.oPreviousCoords={x:t.pageX,y:t.pageY},n.each(this.model.axes,function(n,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);et.translate(t,b.x,b.y,i)}),this.redraw(!0),this._cursorToPointer(),this._enableZoomingButtons();var a=t.target.id,i=this._id,g=ej.util.isNullOrUndefined(t.target.parentNode)?"":t.target.parentNode.id;if(g==i+"_ResetZoom"?f("Reset"):g==i+"_PanBtn"?f("Pan"):g==i+"_ZoomBtn"&&f("Zoom"),nt=this.svgObject.id,e=this.model.hAxes,a.indexOf("_XLabel_")>=0){for(u=0;u<e.length;u++)if(a.indexOf(nt+"_"+e[u].name+"_XLabel_")>=0)break;for(o=0;o<e[u].visibleLabels.length&&this.model.AreaType=="cartesianaxes";o++)if(a==nt+"_"+e[u].name+"_XLabel_"+o){var tt=e[u].visibleLabels[o],it=n("<div id = 'tooltip'><\/div>"),ht=tt.Text==tt.displayText?"":tt.Text;if(ht=="")break;n(it).html("&nbsp"+ht+"&nbsp");n(document.body).append(it);n(it).css({left:t.pageX+10,top:t.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})}}if(n(this.svgObject).find(i+"_ResetZoom,"+i+"_PanBtn,"+i+"_ZoomBtn").length>0&&n(this.svgObject).find(i+"_ResetZoom,"+i+"_PanBtn,"+i+"_ZoomBtn").appendTo(this.svgObject),rt=this.getLegendData(t),rt&&(ut=n.extend({},ej.EjSvgRender.commonChartEventArgs),ut.data=rt,this._trigger("legendItemMouseMove",ut)),this.model.enableCanvasRendering){switch(a){case i+"_ResetZoom":f("Reset");break;case i+"_PanBtn":f("Pan");break;case i+"_ZoomBtn":f("Zoom")}this.canvasAxisLabelTooltip(t)}},canvasAxisLabelTooltip:function(t){var u=this.calMousePosition(t),i,r;this.mousemoveX=u.X;this.mousemoveY=u.Y;i=this.mousemoveX;r=this.mousemoveY;this.model.xAxisLabelRegion&&n.each(this.model.xAxisLabelRegion,function(u,f){var o=f,e;i>=f.Bounds.X&&i<=f.Bounds.X+f.Bounds.Width&&r>=f.Bounds.Y-f.Bounds.Height/3&&r<=f.Bounds.Y&&(e=n("<div id = 'tooltip'><\/div>"),f.TrimText!=f.LabelText&&(n(e).html("&nbsp"+f.LabelText+"&nbsp"),n(document.body).append(e),n(e).css({left:t.pageX+10,top:t.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})))})},pieExplosion:function(t){var i=t,s,h,r=i.region.Series,c=new ej.seriesTypes[r.type],v=r.explodeIndex,y=r.labelPosition.toLowerCase(),l,f,u,e,a,o;if(v!=i.pointData[0].PointIndex&&!i.region.Series.explodeAll){if(r.explodeIndex=i.pointData[0].PointIndex,!ej.util.isNullOrUndefined(this.model.explodeValue)){for(l=c._calculateArcData(this,this.model.explodeValue,r.points[this.model.explodeValue],i.region.Series),s=this.svgObject.id+"_SeriesGroup_"+i.region.SeriesIndex,h=n(this.gSeriesEle).children("#"+s)[0],f=n(h).children(),u=0;u<f.length;u++)if(e=f[u],a=this.svgRenderer._getAttrVal(n(e)[0],"pointIndex"),parseInt(a)==this.model.explodeValue){this.svgRenderer._setAttr(n(e),{d:l.Direction});break}r.marker.dataLabel.visible&&c.drawDataLabelAcc(this,r,this.model.explodeValue,r.points[this.model.explodeValue])}for(l=c._calculateArcData(this,i.pointData[0].PointIndex,this.model.chartRegions[0].Series.points[i.pointData[0].PointIndex],i.region.Series),s=this.svgObject.id+"_SeriesGroup_"+i.region.SeriesIndex,h=n(this.gSeriesEle).children("#"+s)[0],f=n(h).children(),u=0;u<f.length;u++)if(e=f[u],a=this.svgRenderer._getAttrVal(n(e)[0],"pointIndex"),parseInt(a)==i.pointData[0].PointIndex){this.svgRenderer._setAttr(n(e),{d:l.Direction});break}this.model.enableCanvasRendering&&(o=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(o.left,o.top,o.width,o.height),n("#"+this._id).ejChart("redraw"));r.marker.dataLabel.visible&&c.drawDataLabelAcc(this,r,i.pointData[0].PointIndex,r.points[i.pointData[0].PointIndex]);this.model.explodeValue=i.pointData[0].PointIndex}i.region.Series.explodeIndex=v},displayTemplateTooltip:function(t,i,r,u,f,e,o){var h=n.extend(!0,{},u),l,c,a;h.x=h.X;f.xAxis._valueType.toLowerCase()=="datetime"&&(h.x=Globalize.format(new Date(h.X),ej.util.isNullOrUndefined(f.xAxis.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(f.xAxis.intervalType):f.xAxis.labelFormat));f.xAxis._valueType.toLowerCase()=="category"&&(h.x=ej.EjSvgRender.utils._getLabelContent(o,f.xAxis));t=ej.util.isNullOrUndefined(t)?0:t;i=ej.util.isNullOrUndefined(i)?0:i;var v=r.X+t+15,y=r.Y+i+15,s=n("<div style='position: absolute; z-index: 13000; display: block;'><\/div>");n(s).addClass("TrackToolTipTemplate");this.svgRenderer._setAttr(n(s),{id:this.svgObject.id+"_TrackToolTipTemplate_"+e});this.model.crosshair.tooltipTemplate!=null&&(l=n("#"+this.model.crosshair.tooltipTemplate).clone(),n(l).css("display","block").appendTo(s),f.count=1,h.count=1,c=this.getSeriesColor(h,e),n(s).css("background-color",jQuery.type(c)=="array"?c[0].color:c),a={series:f,point:h},n(s).html(n(s).html().parseTemplate(a)));n(document.body).append(s);n(s).css("left",v+n(s).width());n(s).css("top",y+n(s).height())},displayAxisTooltip:function(t,i,r,u,f){for(var p,w,o,h=0,v=0;v<this.model.axes.length;v++)this.model.axes[v].majorTickLines.size>h&&(h=this.model.axes[v].majorTickLines.size);if(p=r.opposedPosition?h+10+(r.x+r.width):r.x+r.width,t.X>=0&&t.X<=p){var e=t.X,l=t.Y,s=5,c=n.extend({},ej.EjSvgRender.commonChartEventArgs);c.data={axisIndex:u,chartAxis:r,currentTrackText:i,location:f};this._trigger("trackAxisToolTip",c);w=c.data.currentTrackText;o=ej.EjSvgRender.utils._measureText(w,null,r.crosshairLabel.font);r.orientation.toLowerCase()=="horizontal"&&(e=e-o.width/2,r.opposedPosition==!0&&(l=r.Location.Y1-o.height/2+s-h),r.opposedPosition==!1&&(l=r.Location.Y1+o.height-s+h));!r.opposedPosition&&e+o.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(e=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-o.width+s+this.model.elementSpacing);r.orientation.toLowerCase()=="vertical"&&(l=t.Y+o.height/4,r.opposedPosition==!0&&(e=r.x+2+s-2),r.opposedPosition==!1&&(e=r.x-o.width-h));var b={id:this.svgObject.id+"_AxisToolTipText_"+u,x:e,y:l,fill:r.crosshairLabel.font.color,"font-size":r.crosshairLabel.font.size,"font-family":r.crosshairLabel.font.fontFamily,"font-style":r.crosshairLabel.font.fontStyle,"font-weight":r.crosshairLabel.font.fontWeight,"text-anchor":"start",opacity:r.crosshairLabel.font.opacity},y=ej.EjSvgRender.utils._measureText(c.data.currentTrackText,this.model.m_AreaBounds.Width,r.crosshairLabel.font),a=r.crosshairLabel,k={id:this.svgObject.id+"_AxisToolTipRect_"+u,x:e-s,y:l-y.height,width:y.width+2*s,height:2*y.height-2*s,rx:a.rx,ry:a.ry,fill:a.fill,"stroke-width":a.border.width,stroke:a.border.color};this.model.enableCanvasRendering?this.svgRenderer.drawCrosshairlabel(k,b,c.data.currentTrackText):(this.svgRenderer.drawRect(k,this.gTrackAxisEle),this.svgRenderer.drawText(b,c.data.currentTrackText,this.gTrackAxisEle))}},displayTooltip:function(t,i,r,u){var e=n.inArray(r,this.model._visibleSeries),a,w,h,d,g,b;if((t.X+this.model.m_AreaBounds.X>this.model.m_AreaBounds.X||t.X==0)&&t.X+this.model.m_AreaBounds.X<=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&t.Y+this.model.m_AreaBounds.Y>=this.model.m_AreaBounds.Y&&t.Y+this.model.m_AreaBounds.Y<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height){var o=5,l=t.X+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width)+o+1,k=t.Y,nt=r.tooltip.format,tt=ej.util.isNullOrUndefined(r.yAxis.roundingPlaces)?2:r.yAxis.roundingPlaces,it=this.getTooltipFormat(i,r,e,u,nt,tt),c=n.extend({},ej.EjSvgRender.commonChartEventArgs);c.data={serIndex:e,pointIndex:u,currentText:it};a=r.tooltip;this._trigger("trackToolTip",c);var s=a.font?n.extend(!1,r.font,{},a.font):r.font,y=ej.EjSvgRender.utils._measureText(c.data.currentText,r.xAxis.width,s),rt=this.getSeriesColor(i,e),v=this.getTooltipOptions(rt,r),ut=v.rectBColor,ft=v.rectFColor,et=v.rectTextColor,ot=v.rectX,st=v.rectY,f=r.tooltip,p=y.width+2*o,ht=y.height+2*o;l+p-o>=this.model.m_AreaBounds.Width&&(l=l-p-(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width)-2*o-2);w={id:this.svgObject.id+"_ToolTipRect_"+e,x:l-o+this.canvasX,y:k-y.height/2-o+this.canvasY,width:p,height:ht,fill:f.fill?f.fill:ft,"stroke-width":f.border.width?f.border.width:1,stroke:f.border.color?f.border.color:ut,"fill-opacity":f.opacity?f.opacity:.85,rx:f.rx?f.rx:ot,ry:f.ry?f.ry:st};n("#"+this.svgObject.id+"_ToolTipRect_"+e).attr("visibility","visible");h=c.data.currentText;d=h;c.data.currentText.indexOf("<br/>")>=0&&(h=c.data.currentText.split("<br/>"),d=h[0]);g=ej.EjSvgRender.utils._measureText(h,r.xAxis.width,s).height;b={id:this.svgObject.id+"_ToolTipText_"+e,x:l+this.canvasX,y:k-y.height/2-o+g+this.canvasY,fill:a.font&&a.font.color?s.color:et,"font-size":s.size,"font-family":s.fontFamily,"font-style":s.fontStyle,"font-weight":s.fontWeight,"text-anchor":"start"};n("#"+this.svgObject.id+"_ToolTipText_"+e).attr("visibility","visible");n("#"+this.svgObject.id+"_ToolTipText_"+e).attr("visibility","visible");this.model.enableCanvasRendering?this.svgRenderer.drawTrackToolTip(w,b,h):(this.svgRenderer.drawRect(w,this.gTransToolEle),this.svgRenderer.drawText(b,h,this.gTransToolEle,s));n("#"+this.svgObject.id+"_TrackToolTip_"+e).length==0&&this.svgRenderer.append(this.gTransToolEle,this.svgObject)}else n("#"+this.svgObject.id+"_TrackToolTip_"+e).remove()},getTooltipOptions:function(n,t){var r,u,e,o,f,i;return this.model.theme.indexOf("gradient")>=0?(r=jQuery.type(n)=="array"?n[0].color:n,u="white",f="#333333",e=5,o=5):(i=t.type.toLowerCase(),i!="column"&&i!="bar"&&i!="rangecolumn"&&i!="stackingcolumn"&&i!="stackingbar"&&this.model.AreaType!="none"?(u=jQuery.type(n)=="array"?n[0].color:n,r="transparent",f="white"):(r="#333333",u="white",f="#333333"),e=0,o=0),{rectBColor:r,rectFColor:u,rectTextColor:f,rectX:e,rectY:o}},getSeriesColor:function(n,t){return n.fill?n.fill._gradientStop?n.fill._gradientStop[0].color:n.fill:this.model.seriesColors[t]},getTooltipFormat:function(t,i,r,u,f,e){var o=n.extend(!0,{},t),s;return i.count=1,o.count=1,this.model.AreaType=="cartesianaxes"?(i.xAxis._valueType.toLowerCase()=="datetime"&&(o.x=Globalize.format(new Date(o.X),ej.util.isNullOrUndefined(i.xAxis.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(i.xAxis.intervalType):i.xAxis.labelFormat)),i.xAxis._valueType.toLowerCase()=="category"&&(o.x=ej.EjSvgRender.utils._getLabelContent(o.X,i.xAxis))):i._xAxisValueType=="date"&&(o.x=Globalize.format(new Date(o.X),ej.EjSvgRender.utils._dateTimeLabelFormat("days"))),o.y=ej.EjSvgRender.utils._decimalPlaces(o.y)==0?o.y:o.y.toFixed(e),s={series:i,point:o},f.parseTemplate(s)},displayCanvasTooltip:function(t,i,r,u){var y,p,g,l,nt,tt,lt;if(n("#"+this.svgObject.id+"_TrackToolTip").remove(),i.visible){var a=n.inArray(r,this.model._visibleSeries),v,b,s=7,e,h,k,it=r.tooltip.format;switch(this.model.AreaType){case"cartesianaxes":y=r.yAxis.roundingPlaces===null||r.yAxis.roundingPlaces===undefined?2:r.yAxis.roundingPlaces;e=t.X+this.canvasX+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width)+s+1;h=t.Y+this.canvasY;v=this.getSeriesColor(i,a);break;case"polaraxes":y=r.yAxis.roundingPlaces===null||r.yAxis.roundingPlaces===undefined?2:r.yAxis.roundingPlaces;e=t.X+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width)+s+1;h=t.Y;v=this.getSeriesColor(i,a);break;case"none":e=t.X+r.marker.size.width+s;h=t.Y;y=ej.util.isNullOrUndefined(this.model.roundingPlaces)?2:chartObj.model.roundingPlaces;v=this.model.pointColors[u]}k=this.getTooltipFormat(i,r,a,u,it,y);b=ej.EjSvgRender.utils._measureText(k);var c=this.getTooltipOptions(v,r),rt=c.rectBColor,ut=c.rectFColor,ft=c.rectTextColor,et=c.rectX,ot=c.rectY,f=r.tooltip,st={id:this.svgObject.id+"_ToolTipRect",x:e,y:h,width:b.width,height:b.height,fill:f.fill?f.fill:ut,"stroke-width":f.border.width?f.border.width:1,stroke:f.border.color?f.border.color:rt,"fill-opacity":f.opacity,rx:f.rx?f.rx:et,ry:f.ry?f.ry:ot};this.svgRenderer.drawToolTipRect(st,this.gTransToolEle);p=n.extend({},ej.EjSvgRender.commonChartEventArgs);p.data={seriesIndex:a,pointIndex:u,currentText:k};this._trigger("toolTipInitialize",p);var ht=0,w=r.tooltip,o=w.font?n.extend(!1,r.font,{},w.font):r.font,ct={id:this.svgObject.id+"_ToolTipText",x:e,y:h,fill:w.font&&w.font.color?o.color:ft,"font-size":o.size,"font-family":o.fontFamily,"font-style":o.fontStyle,"font-weight":o.fontWeight,"text-anchor":"start"},d=p.data.currentText;ht=this.model.AreaType=="cartesianaxes"?ej.EjSvgRender.utils._measureText(d,r.xAxis.width,o).height:ej.EjSvgRender.utils._measureText(d,null,o).height;g=this.model.AreaType=="cartesianaxes"?this.model.requireInvertedAxes?r.yAxis.width:r.xAxis.width:n(this.svgObject).width();this.svgRenderer.drawToolTipText(ct,d);l=n("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect();e+(l.right-l.left)>=g+10*s&&(nt=document.getElementById(this.svgObject.id).getClientRects()[0],tt=e-(l.right-l.left+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.visible?r.marker.size.width:0:r._trackMarker.size.width)+2*s),n("#"+this.svgObject.id+"_TrackToolTip").css("left",tt+nt.left+n(document).scrollLeft()),lt=n("#"+this.svgObject.id+"_TrackToolTip"))}},displayShowTooltip:function(t,i,r,u){var b,l,ot,st,f,g,rt,nt,ht,tt,ct;if(i.visible){var p=n.inArray(r,this.model._visibleSeries),it,w,s=7,h,c,a,ut=r.tooltip.format;this.model.AreaType=="cartesianaxes"||this.model.AreaType=="polaraxes"?(b=r.yAxis.roundingPlaces===null||r.yAxis.roundingPlaces===undefined?2:r.yAxis.roundingPlaces,h=t.X+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width)+s+1,c=t.Y,a=this.getTooltipFormat(i,r,p,u,ut,b),it=this.getSeriesColor(i,p),w=ej.EjSvgRender.utils._measureText(a)):(h=t.X+r.marker.size.width+s,c=t.Y,b=ej.util.isNullOrUndefined(this.model.roundingPlaces)?2:chartObj.model.roundingPlaces,a=this.getTooltipFormat(i,r,p,u,ut,b),w=ej.EjSvgRender.utils._measureText(a),it=this.model.pointColors[u]);var v=this.getTooltipOptions(it,r),lt=v.rectBColor,at=v.rectFColor,vt=v.rectTextColor,yt=v.rectX,pt=v.rectY,e=r.tooltip,ft={id:this.svgObject.id+"_ToolTipRect",x:h,y:c,width:w.width,height:w.height,fill:e.fill?e.fill:at,"stroke-width":e.border.width?e.border.width:1,stroke:e.border.color?e.border.color:lt,"fill-opacity":e.opacity,rx:e.rx?e.rx:yt,ry:e.ry?e.ry:pt};this.svgRenderer.drawRect(ft,this.gTransToolEle);l=n.extend({},ej.EjSvgRender.commonChartEventArgs);l.data={seriesIndex:p,pointIndex:u,currentText:a};this._trigger("toolTipInitialize",l);var et=0,k=r.tooltip,o=k.font?n.extend(!1,r.font,{},k.font):r.font,y={id:this.svgObject.id+"_ToolTipText",x:h,y:c,fill:k.font&&k.font.color?o.color:vt,"font-size":o.size,"font-family":o.fontFamily,"font-style":o.fontStyle,"font-weight":o.fontWeight,"text-anchor":"start"},d=l.data.currentText;if(l.data.currentText.indexOf("<br/>")>=0&&(d=l.data.currentText.split("<br/>")),et=this.model.AreaType=="cartesianaxes"?ej.EjSvgRender.utils._measureText(d,r.xAxis.width,o).height:ej.EjSvgRender.utils._measureText(d,null,o).height,ot=this.model.AreaType=="cartesianaxes"?this.model.requireInvertedAxes?r.yAxis.width:r.xAxis.width:n(this.svgObject).width()-(this.model.legend.position.toLowerCase()=="right"?this.model.LegendViewerBounds.Width+2*this.model.elementSpacing:0),st=this.model.AreaType=="cartesianaxes"?this.model.requireInvertedAxes?r.xAxis.height:r.yAxis.height:n(this.svgObject).height()-(this.model.legend.position.toLowerCase()=="bottom"?this.model.LegendViewerBounds.Height+this.model.elementSpacing:0),this.svgRenderer.drawText(y,d,this.gTransToolEle,o),n(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&this.svgRenderer.append(this.gTransToolEle,this.svgObject),f=n("#"+y.id)[0].getBoundingClientRect(),h+(f.right-f.left)>=ot){for(g=h-(f.right-f.left+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.visible?r.marker.size.width:0:r._trackMarker.size.width)+4*s),this.svgRenderer._setAttr("#"+y.id,{x:g}),rt=n("#"+y.id).children("tspan"),nt=0;nt<rt.length;nt++)ht=rt[nt],this.svgRenderer._setAttr(ht,{x:g});h=g}c+(f.bottom-f.top)>=st&&(tt=c-(f.bottom-f.top+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.visible?r.marker.size.height:0:r._trackMarker.size.height))+4*s,ct=this.vmlRendering?tt-o.size.replace("px",""):tt,this.svgRenderer._setAttr("#"+y.id,{y:ct}),c=tt);this.svgRenderer._setAttr("#"+ft.id,{x:h-s,y:c-et/2-s,width:f.right-f.left+2*s,height:f.bottom-f.top+s})}},_initializeSeriesColors:function(){for(var n,u,r,t=this,f=t.model.palette?t.model.palette:t.model.colors,e=f.length,i=0;i<this.model._visibleSeries.length;i++)if(n=this.model._visibleSeries[i],n.visibility.toLowerCase()==="visible"&&t.model.AreaType!="none")t.model.seriesColors[i]=ej.util.isNullOrUndefined(n.fill)?f[i%e]:ej.util.isNullOrUndefined(n.fill._gradientStop)?n.fill:n.fill._gradientStop,t.model.seriesBorderColors[i]=ej.util.isNullOrUndefined(n.border.color)?t.model.seriesBorderDefaultColors[i%10]:n.border.color;else if(n.visibility.toLowerCase()==="visible")for(u=0;u<n.points.length;u++)r=n.points[u],t.model.pointColors[u]=ej.util.isNullOrUndefined(r.fill)?f[u%e]:ej.util.isNullOrUndefined(r.fill._gradientStop)?r.fill:r.fill._gradientStop,t.model.pointBorderColors[u]=ej.util.isNullOrUndefined(r.border)||ej.util.isNullOrUndefined(r.border.color)?t.model.seriesBorderDefaultColors[i%10]:r.border.color},_createAxisLabelAndRange:function(){var f=!1,i,u,r,t;for(this.model.requireInvertedAxes?(this.model.primaryYAxis.orientation="horizontal",this.model.primaryXAxis.orientation="vertical",this.model.primaryYAxis.labelPlacement=this.model.primaryYAxis.labelPlacement?this.model.primaryYAxis.labelPlacement:ej.datavisualization.Chart.LabelPlacement.OnTicks):(this.model.primaryYAxis.orientation="vertical",this.model.primaryXAxis.orientation="horizontal"),this.model.axes=this.model.axes?this.model.axes:[],i=0;i<this.model.axes.length;i++)t=this.model.axes[i],t.orientation=t.orientation?t.name==this.model.primaryXAxis.name?this.model.primaryXAxis.orientation:t.name==this.model.primaryYAxis.name?this.model.primaryYAxis.orientation:t.orientation:"vertical",this.model.axes[i]=t.orientation.toLowerCase()=="horizontal"?n.extend(!0,{},this.model.secondaryX,t):n.extend(!0,{},this.model.secondaryY,t);for(this.model.primaryYAxis.name="SecondaryAxis",this.model.primaryXAxis.name="PrimaryAxis",u=0;u<this.model.axes.length;u++)t=this.model.axes[u],(t.name===this.model.primaryXAxis.name||t.name===this.model.primaryYAxis.name)&&(f=!0);for(f||(this.model.axes.unshift(this.model.primaryYAxis),this.model.axes.unshift(this.model.primaryXAxis)),r=0;r<this.model.axes.length;r++)t=this.model.axes[r],t.visibleLabels=[],t.setRange=t.range?ej.util.isNullOrUndefined(t.setRange)?!0:t.setRange:!1,t.setRange=t.actual_Range||t.setRange!=!1?!0:!1,t.actualRange=t.actualRange?t.actualRange:t.range==null?{}:t.range,t.visibleRange=t.visibleRange?t.visibleRange:t.range==null?{}:t.range,t.name=t.name?t.name:r.toString()},_drawTitle:function(){var i=ej.EjSvgRender.utils._measureText(this.model.title.text,n(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font),o=this.model.title.text==""?0:i.height+this.model.elementSpacing,s=this.model.legend.position.toLowerCase()=="left"?this.model.LegendViewerBounds.Width/2:this.model.legend.position.toLowerCase()=="right"?-this.model.LegendViewerBounds.Width/2:0,u=this.model.AreaType!="cartesianaxes"?s:this.model.m_AreaBounds.X,f,r,t,e;this.model.title.text!=""&&this.model.title.text!=null&&(f=this.model.margin.top+o/2+this.model.elementSpacing,r=(this.model.AreaType!="cartesianaxes"?n(this.svgObject).width()/2:this.model.m_AreaBounds.Width/2)-i.width/2,this.model.title.textAlignment.toLowerCase()=="near"?r=0:this.model.title.textAlignment.toLowerCase()=="far"&&(r=n(this.svgObject).width()-(this.model.margin.right+this.model.elementSpacing+this.model.m_AreaBounds.X)-i.width),t=n.extend({},ej.EjSvgRender.commonChartEventArgs),t.data={title:this.model.title.text,location:{x:r,y:f},size:i},this._trigger("titleRendering",t),this.model._titleLocation={X:t.data.location.x+u,Y:t.data.location.y},e={id:this.svgObject.id+"_ChartTitle",x:t.data.location.x+u,y:t.data.location.y,fill:this.model.title.font.color,"font-size":this.model.title.font.size,"font-family":this.model.title.font.fontFamily,"font-style":this.model.title.font.fontStyle,"font-weight":this.model.title.font.fontWeight,"text-anchor":"start"},this.svgRenderer.drawText(e,t.data.title,this.gTitleEle),this.svgRenderer.append(this.gTitleEle,this.svgObject),this.model.title.subTitle.text!=""&&this.model.title.subTitle.text&&this._drawSubTitle())},_getLegendSize:function(n){var u=this.model.legend.font,i=ej.EjSvgRender.utils._measureText(n.name,null,u),r=this.model.legend.itemStyle,t=this.model.legend.itemPadding,f=t+r.width+t+i.width,e=Math.max(r.height+t,i.height+t);return{Width:f,Height:e}},_getYValues:function(n){for(var i=[],t=0;t<n.points.length;t++)i.push(n.points[t].y);return i},_getXValues:function(n){for(var i=[],t=0;t<n.points.length;t++)i.push(n.points[t].X);return i},_drawSubTitle:function(){var u=ej.EjSvgRender.utils._measureText(this.model.title.text,n(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font),f=ej.EjSvgRender.utils._measureText(this.model.title.subTitle.text,n(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.subTitle.font),r="middle",s=this.model.title.subTitle.text==""?0:f.height+this.model.elementSpacing,e,i,t,o;this.model.title.subTitle.text!=""&&this.model.title.subTitle.text!=null&&(e=s/2+this.model.elementSpacing+this.model._titleLocation.Y,i=this.model._titleLocation.X+u.width/2,this.model.title.subTitle.textAlignment.toLowerCase()=="near"?(i=this.model._titleLocation.X,r="start"):this.model.title.subTitle.textAlignment.toLowerCase()=="far"&&(i=this.model._titleLocation.X+u.width,r="end"),t=n.extend({},ej.EjSvgRender.commonChartEventArgs),t.data={subTitle:this.model.title.subTitle.text,location:{x:i,y:e},size:f},this._trigger("subTitleRendering",t),this.model._subTitleLocation={X:t.data.location.x,Y:t.data.location.y},o={id:this.svgObject.id+"_ChartsubTitle",x:t.data.location.x,y:t.data.location.y,fill:this.model.title.subTitle.font.color,"font-size":this.model.title.subTitle.font.size,"font-family":this.model.title.subTitle.font.fontFamily,"font-style":this.model.title.subTitle.font.fontStyle,"font-weight":this.model.title.subTitle.font.fontWeight,"text-anchor":r},this.svgRenderer.drawText(o,t.data.subTitle,this.gSubTitleEle),this.svgRenderer.append(this.gSubTitleEle,this.gTitleEle))},_calculateStackingValues:function(n,t){var c,h,f,e,i,u,l,r,o,s;for(this.model.stackedValue[t.name]=[],this.model.stackedValue[t.name].min=0,this.model.stackedValue[t.name].max=0,c=this.model.requireInvertedAxes?this.model.vAxes:this.model.hAxes,h=0;h<c.length;h++)for(r=0,f=[],e=[],i=0;i<n.length;i++)if(n[i].xAxisName==c[h].name&&(n[i].type.toLowerCase().indexOf("stacking")!=-1||n[i].isStacking)){for(u={},u.StartValues=[],u.EndValues=[],n[i].stackingGroup&&n[i].type.toLowerCase()!="stackingarea"?ej.util.isNullOrUndefined(f[n[i].stackingGroup])&&(f[n[i].stackingGroup]=[],e[n[i].stackingGroup]=[]):(n[i].stackingGroup="",ej.util.isNullOrUndefined(f[n[i].stackingGroup])&&(f[n[i].stackingGroup]=[],e[n[i].stackingGroup]=[])),series=n[i],series.points=ej.DataManager(series.points,ej.Query().sortBy("X")).executeLocal(),l=this._getYValues(series),r=0;r<series.points.length;r++)o=0,s=l[r],ej.util.isNullOrUndefined(f[n[i].stackingGroup][series.points[r].X])&&(f[n[i].stackingGroup][series.points[r].X]=0),ej.util.isNullOrUndefined(e[n[i].stackingGroup][series.points[r].X])&&(e[n[i].stackingGroup][series.points[r].X]=0),u.StartValues.length<=r&&(u.StartValues.push(0),u.EndValues.push(0)),s>0?(o=f[n[i].stackingGroup][series.points[r].X],f[n[i].stackingGroup][series.points[r].X]+=s):(o=e[n[i].stackingGroup][series.points[r].X],e[n[i].stackingGroup][series.points[r].X]+=s),u.StartValues[r]=o,u.EndValues[r]=s+o,series.points[r].YValues=[u.EndValues[r]];u.stackedSeries=!1;this.model.stackedValue[t.name].push(u);this.model.stackedValue[t.name].min>Math.min.apply(0,u.StartValues)&&(this.model.stackedValue[t.name].min=Math.min.apply(0,u.StartValues));this.model.stackedValue[t.name].max<Math.max.apply(0,u.EndValues)&&(this.model.stackedValue[t.name].max=Math.max.apply(0,u.EndValues));series.stackedValue=u}},_legendItemBounds:function(n,t,i){var r=this.model.legend,u,o,f=0,e=0;return ej.util.isNullOrUndefined(r.columnCount)&&r.rowCount?(u=r.rowCount,o=Math.ceil(n/u),f=t*o,e=i*u):ej.util.isNullOrUndefined(r.rowCount)&&r.columnCount?(u=Math.ceil(n/r.columnCount),f=t*this.model.legend.columnCount,e=i*u):r.rowCount&&r.columnCount&&(r.columnCount<r.rowCount?(u=r.rowCount,o=Math.ceil(n/u),f=t*o):(u=Math.ceil(n/r.columnCount),f=t*r.columnCount),e=i*u),e+=this.model.elementSpacing,{LegendWidth:f,LegendHeight:e}},_calculateLegendBounds:function(){var t=this,u,it,d,rt,st,w,b,g,ut,ft,et,nt,ot,r,tt,k,c,e,ht,ct,l,a,v;this.model.legendCollection=[];this.model.legendRegion=[];var i=0,s=0,h=0,f=0,o=0,y=0,p=1;if(this.model._visibleSeries&&this.model.legend.visible){if(d=null,this.model.AreaType=="none"){for(r=this.model._visibleSeries[0],st=new ej.seriesTypes[r.type.toLowerCase()],st._pieVisiblePoints(r),w=r.points,c=0;c<w.length;c++)b=w[c],g=c,ut={name:b.X,Font:r.font},u=t._getLegendSize(ut),h=Math.max(u.Width,h),f=Math.max(u.Height,f);for((t.model.legend.columnCount||t.model.legend.rowCount)&&(k=this._legendItemBounds(w.length,h,f),o=k.LegendWidth,y=k.LegendHeight),nt=0;nt<w.length;nt++)b=w[nt],g=nt,ut={name:b.X,Font:r.font},u=t._getLegendSize(ut),t.model.legend.rowCount||t.model.legend.columnCount||(t.model.legend.position.toLowerCase()==t.model.legendPosition.top||t.model.legend.position.toLowerCase()==t.model.legendPosition.bottom||t.model.legend.position.toLowerCase()==t.model.legendPosition.custom?(i+=u.Width,i>n(t.svgObject).width()?(i-=u.Width,o=Math.max(o,i),i=u.Width,p++,y=f*p+this.model.elementSpacing):o=Math.max(o,i),s=Math.max(s,f)):(s+=f,o=Math.max(i,h))),e=t.model.legend,it=e.opacity,d=e.fill?e.fill._gradientStop?e.fill._gradientStop:e.fill:t.model.pointColors[g],rt=b.visible&&r.visibility.toLowerCase()=="visible"?t.svgRenderer.createGradientElement("legend"+g,d,0,0,0,n(t.svgObject).height(),t.gLegendEle):"gray",ft=r.font?r.font:t.model.legend.font,ot=t.model.legend.rowCount||t.model.legend.columnCount?{Width:h,Height:f}:u,et={Text:b.X,Shape:t.model.legend.shape,LegendStyle:{BorderColor:t.model.legend.itemStyle.border.color,BorderWidth:t.model.legend.itemStyle.border.width,Opacity:it,Color:rt,Font:ft},Bounds:ot,SeriesIndex:0,PointIndex:g},t.model.legendCollection.push(et)}else{for(tt=0;tt<this.model._visibleSeries.length;tt++)r=this.model._visibleSeries[tt],u=t._getLegendSize(r),h=Math.max(u.Width,h),f=Math.max(u.Height,f);for((t.model.legend.columnCount||t.model.legend.rowCount)&&(k=this._legendItemBounds(this.model._visibleSeries.length,h,f),o=k.LegendWidth,y=k.LegendHeight),c=0;c<this.model._visibleSeries.length;c++)index=c,r=this.model._visibleSeries[c],u=t._getLegendSize(r),t.model.legend.rowCount||t.model.legend.columnCount||(t.model.legend.position.toLowerCase()==t.model.legendPosition.top||t.model.legend.position.toLowerCase()==t.model.legendPosition.bottom||t.model.legend.position.toLowerCase()==t.model.legendPosition.custom?(i+=u.Width,i>n(t.svgObject).width()&&(i-=u.Width,o=Math.max(o,i),i=u.Width,p++,y=f*p+this.model.elementSpacing),s=Math.max(s,u.Height)):(s+=f,i=Math.max(i,h))),e=t.model.legend,it=e.opacity,d=e.fill?e.fill._gradientStop?e.fill._gradientStop:e.fill:t.model.seriesColors[index],rt=r.visibility.toLowerCase()==="visible"?t.svgRenderer.createGradientElement("legend"+index,d,0,0,0,n(t.svgObject).height(),t.gLegendEle):"gray",ft=r.font?r.font:t.model.legend.font,ot=t.model.legend.rowCount||t.model.legend.columnCount?{Width:h,Height:f}:u,et={Text:r.name?r.name:"series"+tt,Shape:t.model.legend.shape,LegendStyle:{BorderColor:t.model.legend.itemStyle.border.color,BorderWidth:t.model.legend.itemStyle.border.width,Opacity:it,Color:rt,Font:ft},Bounds:ot,SeriesIndex:index},t.model.legendCollection.push(et)}this.model.legend.position.toLowerCase()===this.model.legendPosition.top||this.model.legend.position.toLowerCase()===this.model.legendPosition.bottom||this.model.legend.position.toLowerCase()===this.model.legendPosition.custom?(i+=t.model.legend.itemPadding,s+=t.model.legend.itemPadding,this.model.LegendBounds={Width:Math.max(o,i),Height:Math.max(y,s),Rows:p}):(i+=t.model.legend.itemPadding,s+=t.model.legend.itemPadding,this.model.LegendBounds={Width:Math.max(o,i),Height:Math.max(y,s),Columns:p});ht=0;ct=0;this.model.LegendViewerBounds={Width:"0",Height:"0"};v=this.model.legend.position.toLowerCase();l=this.model.legend.size.height==""||this.model.legend.size.height==null?v==this.model.legendPosition.left||v==this.model.legendPosition.right||v==this.model.legendPosition.custom?"100%":"20%":this.model.legend.size.height;l=l.indexOf("%")!=-1?Math.abs(n(this.svgObject).height()/100*parseInt(l)):parseInt(l);a=this.model.legend.size.width==""||this.model.legend.size.width==null?v==this.model.legendPosition.top||v==this.model.legendPosition.bottom||v==this.model.legendPosition.custom?"100%":"20%":this.model.legend.size.width;a=a.indexOf("%")!=-1?Math.abs(n(this.svgObject).width()/100*parseInt(a)):parseInt(a);this.model.LegendViewerBounds.Height=this.model.legend.size.height==""||this.model.legend.size.height==null?Math.min(l,this.model.LegendBounds.Height):l;this.model.LegendViewerBounds.Width=this.model.legend.size.width==""||this.model.legend.size.width==null?Math.min(a,this.model.LegendBounds.Width):a}else this.model.LegendViewerBounds={Width:0,Height:0}},GetPointXYOrgin:function(n,t,i,r){var u=(n-i)/(this.model.axes.PrimaryXaxis.visibleRange.max-i)*this.model.m_AreaBounds.Width,f=(t-r)/(this.model.axes.PrimaryYaxis.visibleRange.max-r)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y);return{X:u,Y:f}},_drawChartAreaRect:function(){var i=(this.model.background&&this.model.background._gradientStop)?"url(#"+this.svgObject.id+"_backGradient)":this.model.background,t,r,u;this.model.backGroundImageUrl&&(i="transparent");t=this.model.border;r={id:this.svgObject.id+"_SvgRect",x:t.width>0?t.width/2:0,y:t.width>0?t.width/2:0,width:n(this.svgObject).width()-2*t.width,height:n(this.svgObject).height()-2*t.width,fill:i,opacity:t.opacity,"stroke-width":t.width,stroke:t.color};this.svgRenderer.drawRect(r,this.svgObject);this.model.backGroundImageUrl&&this._drawBackImage();this.model.AreaType!="cartesianaxes"||this.model.enable3D||(u={id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:this.model.chartArea.background,"stroke-width":this.model.chartArea.border.width,opacity:this.model.chartArea.border.opacity,stroke:this.model.chartArea.border.color},this.svgRenderer.drawRect(u,this.svgObject))},axesIndexCount:function(n,t){for(var i,r=[],u=0;u<n.length;u++)i=n[u],i.orientation.toLowerCase()=="vertical"?i.rowIndex==t&&r.push(i):i.columnIndex==t&&r.push(i);return r},axesCount:function(t){var i=[],s=[],r=0,f=this.model,u,e,o;if(n.each(t,function(n,t){t.orientation.toLowerCase()=="vertical"?(r=f.rowDefinitions?f.rowDefinitions.length:0,n==0?i.push({axis:t,index:t.rowIndex}):t.rowIndex!=i[i.length-1].axis.rowIndex&&i.push({axis:t,index:t.rowIndex})):(r=f.columnDefinitions?f.columnDefinitions.length:0,n==0?i.push({axis:t,index:t.columnIndex}):t.columnIndex!=i[i.length-1].axis.columnIndex&&i.push({axis:t,index:t.columnIndex}))}),u=i.length,r>u)for(u=r,e=0;e<r;e++)s.push(e);else for(o=0;o<u;o++)s.push(i[o].index);return{length:u,indexValue:s}},_calRowSize:function(){var n=0,i=[],e=0,f=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,t,o,r,u,s;if(this.model._rowDefinitions[0].rowDefinitions!=null)for(t=0,o=this.model._rowDefinitions.length;t<o;t++)r=this.model._rowDefinitions[t].rowDefinitions,u=0,u=r.unit.toLowerCase()=="percentage"?Math.floor(this.model.m_AreaBounds.Height*(r.rowHeight/100)):r.rowHeight,t==0&&i.push(f),i.push(f-u-e),e+=u;else for(s=Math.floor(this.model.m_AreaBounds.Height/this.model._rowDefinitions.length),n=f;n>=this.model.m_AreaBounds.Y;n=n-s)i.push(n);return i},_calColumnSize:function(){var i=[],r=this.model.m_AreaBounds.X,e=this.model.m_AreaBounds.Width,s=0,u=this.model._columnDefinitions,n,h,f,o,c,t,l;if(u[0].columnDefinitions!=null)for(n=0,h=u.length;n<h;n++)f=u[n].columnDefinitions,o=f.unit.toLowerCase()=="percentage"?Math.floor(e*(f.columnWidth/100)):f.columnWidth,n==0&&i.push(r),i.push(r+o+s),s+=o;else for(c=Math.floor(e/u.length),t=r,l=r+e;t<=l;t=t+c)i.push(t);return i},_calculateAxisSize:function(){for(var ht,ct,c,e,tt,u,at,vt,f=!0,r=!0,l=this._calColumnSize(),o=this.model._columnDefinitions,t=0,st=o.length;t<st;t++){var yt=l[t],k=l[t+1],a=0,v=0,d=!0,g=!0,y=this.model.m_AreaBounds.Y,nt=y+this.model.m_AreaBounds.Height;for(u=0,ht=o[t].axis.length;u<ht;u++){var n=o[t].axis[u],s=0,p=0;if(n.opposedPosition?g&&(r||v==0)?(s=y,g=!1):(p=o.farSizes[v],s=y=y-p,v++):d&&(f||a==0)?(s=nt,d=!1):(p=o.nearSizes[a],s=nt=nt+p,a++),n.columnSpan){if(!(o[t].index==n.columnIndex))continue;ct=st>=t+n.columnSpan?t+n.columnSpan:t+1;k=l[ct];n.opposedPosition||a!=0||(f=d);n.opposedPosition&&v==0&&(r=g)}else k=l[t+1],f=!0,r=!0;n.Location={};n.Location.X1=yt+n.plotOffset;n.Location.Y1=s;n.Location.X2=k-n.plotOffset;n.Location.Y2=s;n.x=n.Location.X1;n.y=n.Location.Y1;n.width=n.Location.X2-n.Location.X1;n.height=n.Location.Y2-n.Location.Y1}}for(f=!0,r=!0,c=this._calRowSize(),e=this.model._rowDefinitions,t=0,tt=e.length;t<tt;t++){var pt=c[t],it=c[t+1],w=0,rt=0,ut=!0,ft=!0,et=this.model.m_AreaBounds.X,lt=et,ot=et+this.model.m_AreaBounds.Width;for(u=0,at=e[t].axis.length;u<at;u++){var b=0,h=0,i=e[t].axis[u];if(i.opposedPosition?ft&&(r||r==0)?(h=ot,ft=!1):(b=e.farSizes[rt],h=ot=ot+b,rt++):ut&&(f||w==0)?(h=et,ut=!1):(b=e.nearSizes[w],h=lt=lt-b,w++),i.rowSpan){if(!(e[t].index==i.rowIndex))continue;vt=tt>=t+i.rowSpan?t+i.rowSpan:t+1;it=c[vt];i.opposedPosition||w!=0||(f=ut);i.opposedPosition&&rt==0&&(r=ft)}else it=c[t+1],f=!0,r=!0;i.Location={};i.Location.X1=h;i.Location.Y1=pt-i.plotOffset;i.Location.X2=h;i.Location.Y2=it+i.plotOffset;i.x=i.Location.X1;i.y=i.Location.Y2;i.height=i.Location.Y1-i.Location.Y2;i.width=i.axisLine.width}}},_arrangeAxis:function(){for(var o,i,u,a,c,v,s,r,f,y,l,p,n=this,t,e,h=0;h<this.model.axes.length;h++)t=this.model.axes[h],t.orientation.toLowerCase()=="horizontal"?(n.model.hAxes.push(t),t.columnIndex=ej.util.isNullOrUndefined(t.columnIndex)?0:t.columnIndex,n.model.hAxes[n.model.hAxes.length-1].columnIndex=t.columnIndex):t.orientation.toLowerCase()=="vertical"&&(n.model.vAxes.push(t),t.rowIndex=ej.util.isNullOrUndefined(t.rowIndex)?0:t.rowIndex,n.model.vAxes[n.model.vAxes.length-1].rowIndex=t.rowIndex,e=ej.util.isNullOrUndefined(n.model.rowDefinitions)?null:n.model.rowDefinitions[t.rowIndex],e&&(t.axisBottomLine={},t.axisBottomLine.visible=!0,t.axisBottomLine.lineWidth=e.lineWidth,t.axisBottomLine.color=e.lineColor));if(this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal(),o=this.axesCount(n.model.vAxes),n.model._rowDefinitions=[],n.model.vAxes.length>0)for(i=0;i<o.length;i++)u=n.model.rowDefinitions,a=u?u[i]?u[i]:u[0]:null,n.model._rowDefinitions.push({axis:this.axesIndexCount(n.model.vAxes,o.indexValue[i]),index:o.indexValue[i],rowDefinitions:a});if(c=n.model._rowDefinitions,v=this._axisFilter(c,"rowSpan"),this._SpanningAxes(c,v,!0),s=this.axesCount(n.model.hAxes),n.model._columnDefinitions=[],n.model.hAxes.length>0)for(r=0;r<s.length;r++)f=n.model.columnDefinitions,y=f?f[r]?f[r]:f[0]:null,n.model._columnDefinitions.push({axis:this.axesIndexCount(n.model.hAxes,s.indexValue[r]),index:s.indexValue[r],columnDefinitions:y});l=n.model._columnDefinitions;p=this._axisFilter(l,"columnSpan");this._SpanningAxes(l,p,!1);this._axisSize()},_SpanningAxes:function(n,t,i){for(var r,e,u,f=0,o=t.length;f<o;f++){if(r=t[f],r==null)break;var c=i?r.rowSpan:r.columnSpan,s=i?r.rowIndex:r.columnIndex,h=n[s].axis.indexOf(r);for(e=1,u=s+1;e<c&&u<n.length;e++,u++)n[u].axis.length>=h&&n[u].axis.splice(h,0,r)}},_axisFilter:function(n,t){var i=[];return n.filter(function(n){for(var u=ej.DataManager(n.axis,ej.Query().where(t,">",1)).executeLocal(),r=0,f=u.length;r<f;r++)i.push(u[r])}),i},_axisSize:function(){for(var i,e,r,o,t=this._getLegendSpace(),u=n(this.svgObject).width()-this.model.margin.left-this.model.margin.right-this.model.elementSpacing*2-t.leftLegendWidth-t.rightLegendWidth,h=Math.floor(u/this.axesCount(this.model.hAxes).length),f=n(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-this.model.elementSpacing*2-t.topLegendHeight-t.bottomLegendHeight-t.modelTitleHeight-t.modelsubTitleHeight,c=Math.floor(f/this.axesCount(this.model.vAxes).length),s=0;s<this.model.axes.length;s++)axis=this.model.axes[s],axis.orientation.toLowerCase()=="horizontal"?this.model.AreaType!="polaraxes"?(i=ej.util.isNullOrUndefined(this.model.columnDefinitions)?null:this.model.columnDefinitions[axis.columnIndex],e=h,i&&(e=i.unit.toLowerCase()=="percentage"?Math.floor(h*(i.columnWidth/100)):i.columnWidth),axis.length=axis.columnSpan?axis.columnSpan*e:e):axis.length=u>f*2?u-f:u:axis.orientation.toLowerCase()=="vertical"&&(this.model.AreaType!="polaraxes"?(r=ej.util.isNullOrUndefined(this.model.rowDefinitions)?null:this.model.rowDefinitions[axis.rowIndex],o=c,r&&(o=r.unit.toLowerCase()=="percentage"?Math.floor(c*(r.rowHeight/100)):r.rowHeight),axis.length=axis.rowSpan?axis.rowSpan*o:o):axis.length=f/2)},_axisMeasure:function(n,t,i,r){var u=0,f=0;return i=="vertical"?(f=n._LableMaxWidth.width,u=n.title.text==""||!n.visible?0:ej.EjSvgRender.utils._measureText(n.title.text,t,n.title.font).height+2*this.model.elementSpacing):(f=n._LableMaxWidth.height,u=n.title.text==""||!n.visible?0:ej.EjSvgRender.utils._measureText(n.title.text,t,n.title.font).height+this.model.elementSpacing),n.AxisMaxWidth=r==0&&n.tickLinesPosition=="inside"&&n.labelPosition=="inside"?u+n.axisLine.width+this.model.elementSpacing:r==0&&n.tickLinesPosition=="inside"&&n.labelPosition!="inside"?u+n.axisLine.width+this.model.elementSpacing+f:r==0&&n.tickLinesPosition!="inside"&&n.labelPosition=="inside"?u+n.axisLine.width+this.model.elementSpacing+n.majorTickLines.size:u+n.axisLine.width+this.model.elementSpacing+n.majorTickLines.size+f,n.AxisMaxWidth},_arraySum:function(n){for(var i=0,t=0;t<n.length;t++)i+=parseFloat(n[t])||0;return i},_calSpace:function(n,t,i){for(var l,c,e,a,o,u,r,s=[],h=[],f=0;f<t.length;f++)for(e=0,o=0,u=0;u<t[f].axis.length;u++)l=t[f].axis[u],c=this._axisMeasure(l,n,i,u),l.opposedPosition?(h.length<=o?h.push(c):h[o]<c&&(h[o]=c),o++):(s.length<=e?s.push(c):s[e]<c&&(s[e]=c),e++);for(f=0;f<t.length;f++){for(e=0,a=0,u=0;u<t[f].axis.length;u++)if(r=t[f].axis[u],!r.opposedPosition)if(u!=0)if(labelSize=r.orientation=="Vertical"?r._LableMaxWidth.width:r._LableMaxWidth.height,r.labelPosition=="inside"&&r.tickLinesPosition=="inside"){s[e]-=labelSize+r.majorTickLines.size;break}else if(r.labelPosition!="inside"&&r.tickLinesPosition=="inside"){s[e]-=r.majorTickLines.size;break}else if(r.labelPosition=="inside"&&r.tickLinesPosition!="inside"){s[e]-=labelSize;break}else{s[e]=s[e];break}else break;break}for(f=0;f<t.length;f++){for(o=0,u=0;u<t[f].axis.length;u++)if(r=t[f].axis[u],r.opposedPosition)if(u!=0)if(labelSize=r.orientation=="Vertical"?r._LableMaxWidth.width:r._LableMaxWidth.height,r.labelPosition=="inside"&&r.tickLinesPosition=="inside"){h[o]-=labelSize+r.majorTickLines.size+5;break}else if(r.labelPosition!="inside"&&r.tickLinesPosition=="inside"){h[o]-=r.majorTickLines.size;break}else if(r.labelPosition=="inside"&&r.tickLinesPosition!="inside"){h[o]-=labelSize;break}else{h[o]=h[o];break}else break;break}return{nearSizes:s,farSizes:h}},_getLegendSpace:function(){var t=this.model.legend.position.toLowerCase(),i=this.model.legendPosition,r=0,u=this.model.LegendViewerBounds.Width+this.model.legend.itemPadding/2+this.model.elementSpacing,f=t==i.left?u:0,e=t==i.right?u:0;this.model.legend.title.text&&(r=ej.EjSvgRender.utils._measureText(this.model.legend.title,null,this.model.legend.title.font).height);var o=t==i.top?this.model.LegendViewerBounds.Height+r:0,s=t==i.bottom?this.model.LegendViewerBounds.Height+r:0,h=this.model.title.text==""?0:ej.EjSvgRender.utils._measureText(this.model.title.text,n(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font).height+this.model.elementSpacing,c=this.model.title.subTitle.text==""?0:ej.EjSvgRender.utils._measureText(this.model.title.subTitle.text,n(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.subTitle.font).height+this.model.elementSpacing;return{leftLegendWidth:f,rightLegendWidth:e,topLegendHeight:o,bottomLegendHeight:s,modelTitleHeight:h,modelsubTitleHeight:c}},_calculateAreaBounds:function(){var t=this,h=n(this.svgObject).width()-this.model.margin.left-this.model.margin.right,u=t.model.border.width,f=this._calSpace(h,t.model._rowDefinitions,"vertical"),r;t.model._rowDefinitions.nearSizes=f.nearSizes;t.model._rowDefinitions.farSizes=f.farSizes;var y=this._arraySum(f.nearSizes),p=this._arraySum(f.farSizes),i=this._getLegendSpace(),e=y+i.leftLegendWidth+t.model.margin.left+u,c=p+i.rightLegendWidth+t.model.margin.right+t.model.margin.left+2*u,l=n(this.svgObject).width(),o=l-(e+c);if(o<0)n(this.svgObject).width(l-o+1),this._calculateAreaBounds();else{r=this._calSpace(h,t.model._columnDefinitions,"horizontal");t.model._columnDefinitions.nearSizes=r.nearSizes;t.model._columnDefinitions.farSizes=r.farSizes;var w=this._arraySum(r.nearSizes),b=this._arraySum(r.farSizes),s=b+this.model.margin.top+this.model.elementSpacing+i.modelTitleHeight+i.modelsubTitleHeight+i.topLegendHeight+u,a=w+this.model.margin.bottom+i.bottomLegendHeight+2*u,v=Math.abs(n(this.svgObject).height()-(s+a));this.model.m_AreaBounds={X:e,Y:s,Width:o,Height:v};this.model.m_Spacing={Left:e,Top:s,Right:c,Bottom:a};this.model.enableCanvasRendering?(this.canvasX=e,this.canvasY=s,this.canvasWidth=o,this.canvasHeight=v):this.canvasX=this.canvasY=this.canvasHeight=this.canvasWidth=0}}};jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}}}(jQuery),function(n,t){t.widget("ejChart","ej.datavisualization.Chart",{element:null,model:null,validTags:["div"],defaults:{border:{color:"transparent",width:0,opacity:.3},chartArea:{border:{color:"Gray",width:.5,opacity:.3},background:"transparent"},primaryXAxis:{labelPosition:"outside",tickLinesPosition:"outside",alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},majorGridLines:{width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{width:1,size:5,visible:!0},minorGridLines:{width:1,dashArray:"",visible:!0},minorTickLines:{width:1,size:5,visible:!0},minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"stripLine",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",color:"black",opacity:1},start:null,end:null,color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"16px",opacity:1,fontWeight:"regular"}},rangePadding:"None",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,axisLine:{visible:!0,width:1,dashArray:"",offset:0},labelIntersectAction:"none",edgeLabelPlacement:"none",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{visible:!1},zoomFactor:1,zoomPosition:0},primaryYAxis:{labelPosition:"outside",tickLinesPosition:"outside",alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},majorGridLines:{width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{width:1,size:5,visible:!0},minorGridLines:{width:1,dashArray:"",visible:!0},minorTickLines:{width:1,size:5,visible:!0},minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"16px",fontWeight:"regular"}},rangePadding:"Normal",stripLine:[{visible:!1,startFromAxis:!1,text:"stripLine",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",size:"12px",color:"black",opacity:1},start:null,end:null,color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",edgeLabelPlacement:"none",crosshairLabel:{visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",opacity:1,fontWeight:"regular"},axisLine:{visible:!0,width:1,dashArray:"",offset:0},zoomFactor:1,zoomPosition:0},secondaryX:{tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},majorTickLines:{width:1,size:5,visible:!0},minorGridLines:{width:1,dashArray:"",visible:!0},minorTickLines:{width:1,size:5,visible:!0},minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"stripLine",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"16px",opacity:1,fontWeight:"regular"}},rangePadding:"None",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,axisLine:{visible:!0,width:1,dashArray:"",offset:0},labelIntersectAction:"none",edgeLabelPlacement:"none",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{visible:!1},zoomFactor:1,zoomPosition:0},secondaryY:{tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},majorTickLines:{width:1,size:5,visible:!0},minorGridLines:{width:1,dashArray:"",visible:!0},minorTickLines:{width:1,size:5,visible:!0},minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",font:{fontStyle:"Normal",opacity:1,size:"16px",fontWeight:"regular"}},rangePadding:"Normal",stripLine:[{visible:!1,startFromAxis:!1,text:"stripLine",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",edgeLabelPlacement:"none",crosshairLabel:{visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",opacity:1,fontWeight:"regular"},axisLine:{visible:!0,width:1,dashArray:"",offset:0},zoomFactor:1,zoomPosition:0},stripLineDefault:{visible:!1,startFromAxis:!1,text:"stripLine",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"black",opacity:1},start:null,end:null,color:"gray",borderColor:"black",zIndex:"over",borderWidth:1},rowDefinitions:null,columnDefinitions:null,title:{text:"",textAlignment:"center",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"20px",opacity:.5,fontWeight:"regular"},subTitle:{text:"",textAlignment:"far",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"}}},lineCap:{butt:"butt",round:"round",square:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left",custom:"custom"},enableAnimation:!0,legend:{title:{text:"",textAlignment:"center",font:{size:"12px",fontFamily:"Segoe UI",fontStyle:"normal",fontWeight:"normal"}},border:{color:"transparent",width:1},visible:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",location:{x:0,y:0},itemStyle:{height:10,width:10,border:{color:"transparent",width:1}},rowCount:null,columnCount:null,opacity:1,fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"},size:{height:null,width:null}},series:[{type:"column",enableAnimation:!1,isClosed:!0,isStacking:!0,drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",funnelWidth:"11.6%",funnelHeight:"32.7%",labelPosition:"inside",gapRatio:0,points:null,pieCoefficient:.8,doughnutSize:.8,dataSource:null,bullFillColor:null,bearFillColor:null,query:null,xName:"",yName:"",visibility:"visible",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explodeIndex:null,enableSmartLabels:!0,tooltip:{visible:!1,format:"#point.x# : #point.y#",fill:null,border:{width:1,color:null},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{width:1,color:"transparent"},width:2,marker:{shape:"circle",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,angle:0,verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",shape:"none",opacity:1,fill:null,border:{color:"white",width:.1},connectorLine:{width:.5,type:"line"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},_isdesigntime:!0}],commonSeriesOptions:{type:"column",enableAnimation:!1,isClosed:!0,isStacking:!1,drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",funnelWidth:"11.6%",funnelHeight:"32.7%",labelPosition:"inside",gapRatio:0,pieCoefficient:.8,doughnutSize:.8,dataSource:null,xName:"",yName:"",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explodeIndex:null,enableSmartLabels:!0,tooltip:{visible:!1,format:"#point.x# : #point.y#",fill:null,border:{color:null,width:1},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{color:"transparent",width:1},width:2,marker:{shape:"circle",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,angle:0,verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",shape:"none",opacity:1,fill:null,border:{color:"white",width:.1},connectorLine:{width:.5,type:"line"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crosshair:{marker:{visible:!0,size:{width:10,height:10},opacity:1,border:{width:3}},visible:!1,type:"crosshair"},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:null,borderWidth:1},textStyle:{marker:{textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19,SeriesType:20},initSeriesRender:!0,theme:"flatlight",canResize:!1,enable3D:!1,enableRotation:!1,sideBySideSeriesPlacement:!1,perspectiveAngle:90,rotation:0,tilt:0,wallSize:2,depth:100,enableCanvasRendering:!1,zooming:{enable:!1,type:"x,y",enableMouseWheel:!1,enableDeferredZoom:!1},type:"x,y",locale:"en-US",xZoomFactor:1,yZoomFactor:1,xZoomPosition:0,yZoomPosition:0,load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",chartAreaBoundsCalculate:"",legendItemRendering:"",legendBoundsCalculate:"",preRender:"",seriesRendering:"",symbolRendering:"",titleRendering:"",subtitleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",pointRegionMouseMove:"",legendItemClick:"",legendItemMouseMove:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",animationComplete:"",destroy:"",create:"",margin:{left:10,right:10,top:10,bottom:10},size:{},elementSpacing:10,seriesColors:[],seriesBorderColors:[],dateStart:25568.791666666668,pointColors:[],pointBorderColors:[]},dataTypes:{commonSeriesOptions:{dataSource:"data"},axes:"array",series:"array",seriesColors:"array",palette:"array",rowDefinitions:"array",columnDefinitions:"array",seriesBorderColors:"array",pointColors:"array",pointBorderColors:"array",initSeriesRender:"boolean",theme:"enum",canResize:"boolean",elementSpacing:"number",primaryXAxis:{labels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",tickLinesPosition:"enum",labelPosition:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},primaryYAxis:{labels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},legend:{shape:"enum",alignment:"enum",position:"enum",itemPadding:"number"},zooming:{enable:"boolean",type:"string",enableMouseWheel:"boolean"},size:{width:"string",height:"string"}},observables:["xZoomFactor","yZoomFactor","xZoomPosition","yZoomPosition"],_xZoomFactor:t.util.valueFunction("xZoomFactor"),_yZoomFactor:t.util.valueFunction("yZoomFactor"),_xZoomPosition:t.util.valueFunction("xZoomPosition"),_yZoomPosition:t.util.valueFunction("yZoomPosition"),_init:function(){this._renderSfChart()},_destroy:function(){n(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove()},redraw:function(i){for(var u,f,r=0;r<this.model.axes.length;r++)this.model.axes[r].desiredIntervals=null,this.model.axes[r]._valueType=null,this.model.axes[r].position=null;for(n("#template_group_"+this._id).remove(),r=0;r<this.model.series.length;r++)this.model.series[r].position=null;n("#template_group_"+this._id).remove();this.model.enable3D&&(t.Ej3DRender.transform=null);this.model.enableCanvasRendering?this.model.zooming.enable&&this.svgRenderer.ctx?this.svgRenderer.ctx.clearRect(0,0,t.util.isNullOrUndefined(this.model.size.width)?n("#"+this._id).width():this.model.size.width,t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height):(n(this.svgObject).remove(),u=this.svgWidth,n("#canvas_trackSymbol").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?u:this.model.size.width,this.svgObject=this.svgRenderer.svgObj,f=this.svgRenderer.svgObj.getContext("2d"),n(this.legendSvgContainer).remove(),n(this.legendContainer).remove(),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer)):this.svgObject.id.indexOf("_canvas")!=-1?(n(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,n(this.legendSvgContainer).remove(),n(this.legendContainer).remove(),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer)):(n(this.svgObject).empty(),n(this.legendSvgContainer).empty());this.bindTo(i)},exportChart:function(){var i=this._id,u,r;if(n("#Export_"+i).length<=0){var i=this._id,f=document.getElementById(i+"_canvas"),e=document.getElementById("legend_"+i+"_canvas"),t=document.createElement("canvas");t.setAttribute("id","Export_"+i);t.setAttribute("width",this.svgWidth);t.setAttribute("height",this.svgHeight);u=t.getContext("2d");r=this.model.LegendBounds;u.drawImage(f,0,0);r&&u.drawImage(e,r.X,r.Y)}return t},_setModel:function(i){var r,f,u;for(r in i){this.disableAnimation();switch(r){case"theme":for(this.model._themeChanged=!0,this.model.theme=i[r],this.setTheme(t.EjSvgRender.themes,this.model.theme),n.extend(!0,this.model.axes[0],t.EjSvgRender.themes[this.model.theme].primaryXAxis),n.extend(!0,this.model.axes[1],t.EjSvgRender.themes[this.model.theme].primaryYAxis),f=2;f<this.model.axes.length;f++)this.model.axes[f].orientation.toLowerCase()=="horizontal"?n.extend(!0,this.model.axes[f],t.EjSvgRender.themes[this.model.theme].secondaryX):n.extend(!0,this.model.axes[f],t.EjSvgRender.themes[this.model.theme].secondaryY);break;case"commonSeriesOptions":for(u=0;u<this.model.series.length;u++)n.extend(!0,this.model.series[u],{},i[r]);break;case"series":n.extend(!0,this.model.series,{},i[r]);break;case"legend":n.extend(!0,this.model.legend,{},i[r]);break;case"axes":n.extend(!0,this.model.axes,{},i[r]);break;case"primaryXAxis":this.model.axes[0].setRange=i[r].range?!0:!1;this.model.axes[0].actual_Range=this.model.axes[0].setRange?null:this.model.axes[0].actual_Range;n.extend(!0,this.model.axes[0],{},i[r]);break;case"primaryYAxis":this.model.axes[1].setRange=i[r].range?!0:!1;this.model.axes[1].actual_Range=this.model.axes[1].setRange?null:this.model.axes[1].actual_Range;n.extend(!0,this.model.axes[1],{},i[r]);break;case"xZoomFactor":this.model.axes[0].zoomFactor=this._xZoomFactor();break;case"yZoomFactor":this.model.axes[1].zoomFactor=this._yZoomFactor();break;case"xZoomPosition":this.model.axes[0].zoomPosition=this._xZoomPosition();break;case"yZoomPosition":this.model.axes[1].zoomPosition=this._yZoomPosition();break;case"drilldown":this.model.series=[];this.model.explodeValue=null;n.extend(!0,this.model,{},i[r]);break;case"datasource":for(u=0;u<this.model.series.length;u++)this.model.series[u].dataSource=null,this.model.series[u].points=null;n.extend(!0,this.model,{},i[r]);break;default:n.extend(!0,this.model,{},i[r])}}this.model.enableCanvasRendering?(n(this.svgObject).remove(),n("#canvas_trackSymbol").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?n("#"+this._id).width():this.model.size.width,this.svgObject=this.svgRenderer.svgObj,n(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):this.svgObject.id.indexOf("_canvas")!=-1?(n(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,n(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):(n(this.svgObject).empty(),n(this.legendSvgContainer).empty());this.bindTo()}});t.datavisualization.Chart.CrosshairType={Crosshair:"crosshair",TrackBall:"trackBall"};t.datavisualization.Chart.ValueType={Double:"double",DateTime:"datetime",Category:"category",Logarithmic:"logarithmic"};t.datavisualization.Chart.Type={Line:"line",Spline:"spline",Column:"column",Doughnut:"doughnut",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble",Scatter:"scatter",Bar:"bar",StackingArea:"stackingarea",RangeColumn:"rangecolumn",StackingColumn:"stackingcolumn",StackingBar:"stackingbar",Pyramid:"pyramid",Funnel:"funnel",Polar:"polar",Radar:"radar",RangeArea:"rangearea"};t.datavisualization.Chart.LabelPlacement={BetweenTicks:"betweenTicks",OnTicks:"onTicks"};t.datavisualization.Chart.LabelIntersectAction={None:"none",Rotate90:"rotate90",Rotate45:"rotate45",Wrap:"wrap",Trim:"trim",Hide:"hide",MultipleRows:"multipleRows"};t.datavisualization.Chart.EdgeLabelPlacement={None:"none",Shift:"shift",Hide:"hide"};t.datavisualization.Chart.Theme={Azure:"azure",FlatLight:"flatlight",Azuredark:"azuredark",Lime:"lime",LimeDark:"limedark",Saffron:"saffron",SaffronDark:"saffrondark",GradientLight:"gradientlight",GradientDark:"gradientdark"};t.datavisualization.Chart.FontStyle={Normal:"normal",Bold:"bold",Italic:"italic"};t.datavisualization.Chart.FontWeight={Regular:"regular",Lighter:"lighter"};t.datavisualization.Chart.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.datavisualization.Chart.IntervalType={Days:"days",Hours:"hours",Seconds:"seconds",Milliseconds:"milliseconds",Minutes:"minutes",Months:"months",Years:"years"};t.datavisualization.Chart.RangePadding={Additional:"additional",Normal:"normal",None:"none",Round:"round"};t.datavisualization.Chart.TextAlignment={MiddleTop:"middletop",MiddleCenter:"middlecenter",MiddleBottom:"middlebottom"};t.datavisualization.Chart.LabelPosition={Inside:"inside",Outside:"outside"};t.datavisualization.Chart.ZIndex={Over:"over",Behind:"behind"};t.datavisualization.Chart.Unit={percentage:"percentage",pixel:"pixel"};t.datavisualization.Chart.PyramidMode={Linear:"linear",Surface:"Surface"};t.datavisualization.Chart.DrawType={Line:"line",Column:"column",Area:"area"};t.datavisualization.Chart.Shape={None:"none",LeftArrow:"leftarrow",RightArrow:"rightarrow",Circle:"circle",Cross:"cross",HorizLine:"horizline",VertLine:"vertLine",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedtriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"uparrow",DownArrow:"downarrow",Image:"image"};t.datavisualization.Chart.DrawMode={Both:"both",Open:"open",Close:"close"};t.datavisualization.Chart.LineCap={Butt:"butt",Round:"round",Square:"square"};t.datavisualization.Chart.LineJoin={Round:"round",Bevel:"bevel",Miter:"miter"};t.datavisualization.Chart.Position={Top:"top",Middle:"middle",Bottom:"bottom"};t.datavisualization.Chart.Alignment={Center:"center",Near:"near",Far:"far"};n.extend(t.datavisualization.Chart.prototype,t.ejChart)}(jQuery,Syncfusion),function(n,t,i){t.widget({ejCircularGauge:"ej.datavisualization.CircularGauge"},{_rootCSS:"e-circulargauge",validTags:["div","span"],defaults:{value:0,minimum:0,maximum:100,radius:180,width:360,height:360,frame:{frameType:"fullcircle",backgroundImageUrl:null,halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360},backgroundColor:null,interiorGradient:null,readOnly:!0,enableAnimation:!0,animationSpeed:500,theme:"flatlight",isRadialGradient:!1,enableResize:!1,drawTicks:null,drawLabels:null,drawPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,drawPointerCap:null,load:null,renderComplete:null,mouseClick:null,mouseClickMove:null,mouseClickUp:null,scales:null},_defaultScaleValues:function(){return{size:6,pointerCap:{radius:7,borderWidth:3,interiorGradient:null,borderColor:null,backgroundColor:null},showScaleBar:!1,sweepAngle:310,radius:170,startAngle:115,majorIntervalValue:10,minorIntervalValue:2,maximum:null,minimum:null,border:{color:null,width:1.5},backgroundColor:null,direction:"clockwise",showPointers:!0,showRanges:!1,showTicks:!0,showLabels:!0,showIndicators:!1,opacity:1,shadowOffset:0,pointers:[{distanceFromScale:0,showBackNeedle:!1,backNeedleLength:10,length:150,placement:"near",width:7,opacity:1,value:null,border:{color:null,width:1.5},backgroundColor:null,gradients:null,type:"needle",needleType:"triangle",markerType:"rectangle"}],ranges:[{distanceFromScale:25,size:5,placement:"near",startValue:null,endValue:null,startWidth:10,endWidth:10,gradients:null,opacity:null,backgroundColor:"#32b3c6",border:{color:"#32b3c6",width:1.5}}],ticks:[{angle:0,distanceFromScale:0,color:null,type:"major",placement:"near",height:16,width:3},{angle:0,distanceFromScale:0,color:null,type:"minor",placement:"near",height:7,width:1}],labels:[{angle:0,autoAngle:!1,opacity:null,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},color:null,distanceFromScale:0,includeFirstValue:!0,placement:"near",type:"major",unitText:"",unitTextPosition:"back"}],indicators:[{height:15,width:15,type:"circle",value:0,imageUrl:null,position:{x:0,y:0},stateRanges:[{endValue:0,startValue:0,backgroundColor:null,borderColor:null,text:"",textColor:null,font:null}]}],subGauges:[{height:150,width:150,position:{x:0,y:0}}],customLabels:[]}},dataTypes:{scales:"data"},observables:["value","minimum","maximum"],value:t.util.valueFunction("value"),minimum:t.util.valueFunction("minimum"),maximum:t.util.valueFunction("maximum"),_setModel:function(t){var r,i;for(r in t)switch(r){case"height":this.model.height=t[r];break;case"width":this.model.width=t[r];break;case"radius":this.model.radius=t[r];break;case"frame":n.extend(this.model.frame,t[r]);case"backgroundColor":this.model.backgroundColor=t[r];break;case"interiorGradient":this.model.interiorGradient=t[r];break;case"readOnly":this.model.readOnly=t[r];break;case"theme":this.model.theme=t[r];break;case"isRadialGradient":this.model.isRadialGradient=t[r];break;case"value":for(this.value()==""&&this.value(0),i=0;this.model.scales[i]!=null;i++)for(j=0;this.model.scales[i].pointers[j]!=null;j++)this.model.scales[i].pointers[j].value=parseFloat(this.value());break;case"minimum":for(this.minimum()==""&&this.minimum(0),i=0;this.model.scales[i]!=null;i++)this.model.scales[i].minimum=parseInt(this.minimum());break;case"maximum":for(this.maximum()==""&&this.maximum(100),i=0;this.model.scales[i]!=null;i++)this.model.scales[i].maximum=parseInt(this.maximum());break;case"scales":n.extend(!0,this.model.scales,t[r])}this._init()},_destroy:function(){this._unWireEvents();this.element.empty().removeClass("e-widget")},_init:function(){this._scalesInitialize();this._trigger("load");this._setTheme();this._initialize();this.model.readOnly||this._wireEvents();this._onWindowResize()},_onWindowResize:function(){this.model.enableResize&&(proxy=this,this.isDevice()?this._on(n(window),"orientationchange",proxy.resizeCanvas):this._on(n(window),"resize",proxy.resizeCanvas))},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_initialize:function(){this._initObject(this);this._drawOuterLayer();this._drawScales();this.model.renderComplete&&this._onRenderComplete()},_scalesInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r);n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._LoadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},_initObject:function(t){var i,r;for(this.element.addClass("e-widget"),t.GaugeEl=this.element,i=0;this.model.scales[i]!=null;i++)for(this.model.scales[i].minimum==null&&(this.model.scales[i].minimum=this.minimum()),this.model.scales[i].maximum==null&&(this.model.scales[i].maximum=this.maximum()),j=0;this.model.scales[i].pointers[j]!=null;j++)this.model.scales[i].pointers[j].value==null&&(this.model.scales[i].pointers[j].value=this.value());(t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.canvasEl.attr("role","presentation"),initialDivWidth=t.GaugeEl.width(),initialDivHeight=t.GaugeEl.height(),t.canvasEl[0].setAttribute("width",t.model.width),t.canvasEl[0].setAttribute("height",t.model.height),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,this._isHalfCircle&&this._isHalfCircle()&&(t.model.frame.halfCircleFrameEndAngle-t.model.frame.halfCircleFrameStartAngle>=180?t.model.frame.halfCircleFrameStartAngle==180&&t.model.frame.halfCircleFrameEndAngle==360?t.centerY=t.canvasEl[0].height:t.model.frame.halfCircleFrameStartAngle==0&&t.model.frame.halfCircleFrameEndAngle==180?t.centerY=0:t.model.frame.halfCircleFrameStartAngle==90&&t.model.frame.halfCircleFrameEndAngle==270?t.centerX=t.canvasEl[0].width:t.model.frame.halfCircleFrameStartAngle==270&&t.model.frame.halfCircleFrameEndAngle==90&&(t.centerX=0):t.model.frame.halfCircleFrameEndAngle-t.model.frame.halfCircleFrameStartAngle<=90&&(t.model.frame.halfCircleFrameStartAngle>=0&&t.model.frame.halfCircleFrameStartAngle<=180&&(t.centerX=0,t.centerY=0),t.model.frame.halfCircleFrameStartAngle==90&&(t.centerX=t.canvasEl[0].width),(t.model.frame.halfCircleFrameStartAngle==0||t.model.frame.halfCircleFrameStartAngle==270)&&(t.centerX=0),t.model.frame.halfCircleFrameStartAngle==180&&t.model.frame.halfCircleFrameEndAngle==270&&(t.centerX=t.canvasEl[0].width,t.centerY=t.canvasEl[0].height/2))),r=t.canvasEl[0],typeof G_vmlCanvasManager!="undefined"&&(r=window.G_vmlCanvasManager.initElement(r)),r&&r.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_wireEvents:function(){this.startEv="mousedown";this.moveEv="mousemove";this.endEv="mouseup";this.onMouseMoveHandler=n.proxy(this._onMouseMove,this);this.onMouseUpHandler=n.proxy(this._onMouseUp,this);this.onMouseDownHandler=n.proxy(this._onMouseDown,this);n(this.canvasEl).bind(this.startEv,this.onMouseDownHandler)},_unWireEvents:function(){n(this.canvasEl).unbind(this.startEv,this.onMouseDownHandler)},_onMouseDown:function(t){this._blockDefaultActions(t);var r={x:this.centerX,y:this.centerY},u={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},f=180*this._getCirucumferenceAngle(r,u)/Math.PI,i=this;n.each(this.model.scales,function(t,e){i.scaleIndex=t;e.pointers!=null&&(i.pointerEl=e.pointers,n.each(e.pointers,function(t,o){i._isHalfCircle()&&(e.showBackNeedle=!1);angle=i._getAngle(o.value);angle>360&&(angle=angle-360);var s=angle+o.width,h=angle-o.width;radius=Math.sqrt((u.x-r.x)*(u.x-r.x)+(u.y-r.y)*(u.y-r.y));i._isBetween(h,s,f)&&radius<=o.length&&(i._onMouseClick(angle,e.value),i.activeElement=o,n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler))}))})},_onMouseUp:function(){n(document).unbind(self.moveEv,self.onMouseMoveHandler);n(document).unbind(self.endEv,self.onMouseUpHandler);this._onMouseClickUp(this._getAngle(this.activeElement.value),this.activeElement.value)},_onMouseMove:function(t){this._blockDefaultActions(t);var r={x:this.centerX,y:this.centerY},u={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},i=180*this._getCirucumferenceAngle(r,u)/Math.PI;i<this.scaleEl[this.scaleIndex].startAngle&&!this._isHalfCircle()&&(i=i+360);this._onMouseClickMove(this._getAngle(this.activeElement.value),this.activeElement.value);this._getValue(i)<=this.scaleEl[this.scaleIndex].maximum&&(this.activeElement.value=this.scaleEl[this.scaleIndex].direction=="clockwise"?this._getValue(i):this.scaleEl[this.scaleIndex].maximum-this._getValue(i));this.contextEl.putImageData?this._reDrawPointer():this._init()},_isHalfCircle:function(){if(this.model.frame.frameType=="halfcircle")return!0},_getHalfCircleYPosition:function(){return this._getYCordinate(this.centerY,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2)},_getHalfCircleXPosition:function(){return this._getXCordinate(this.centerX,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2)},_getXCordinate:function(n,t,i){return n+t*Math.cos(Math.PI*(i/180))},_getYCordinate:function(n,t,i){return n+t*Math.sin(Math.PI*(i/180))},_getAngle:function(n){var t;return t=n>=this.scaleEl[this.scaleIndex].minimum&&n<=this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].direction=="clockwise"?n-this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum-n:this.scaleEl[this.scaleIndex].direction=="clockwise"?n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum:n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].maximum:this.scaleEl[this.scaleIndex].minimum,t*(this.scaleEl[this.scaleIndex].sweepAngle/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum))+this.scaleEl[this.scaleIndex].startAngle},_subtractDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)-t*Math.pow(10,i))/Math.pow(10,i),o},_getCirucumferenceAngle:function(n,t){return t.x>n.x?t.y>n.y?this._tangent(n,t):t.y==n.y?0:2*Math.PI+this._tangent(n,t):t.x==n.x?t.y==n.y?0:t.y>n.y?Math.PI/2:1.5*Math.PI:t.y==n.y?Math.PI:t.y>n.y?Math.PI+this._tangent(n,t):Math.PI+this._tangent(n,t)},_tangent:function(n,t){var i=(t.y-n.y)/(t.x-n.x);return Math.atan(i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},_getValue:function(n){return(n-this.scaleEl[this.scaleIndex].startAngle)/this.scaleEl[this.scaleIndex].sweepAngle*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)},_drawScales:function(){var t=this,i;this.scaleEl=this.model.scales;n.each(this.model.scales,function(n,i){t.scaleIndex=n;i.showScaleBar&&t._setScaleCordinates(i)});this._setTicks();this._setLabels();this._setRanges();this._subGauge();this._setCustomLabel();this._setPointers();n.each(this.model.scales,function(n,i){i.showPointers&&i.pointers.length>1&&(t.model.enableAnimation=!1)});this.contextEl.putImageData||(this.model.enableAnimation=!1);this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.enableAnimation&&this._onAnimate(i));this._setIndicators()},_setTicks:function(){var t=this;n.each(this.model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n;t._setTicksCordinates(n,i)})))})},_setLabels:function(){var t=this;n.each(this.model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n;t._setLabelCoridnates(n,i)})))})},_setIndicators:function(){var t=this;n.each(this.model.scales,function(i,r){r.showIndicators&&(t.scaleIndex=i,r.indicators!=null&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n;t._drawIndicator(n,i)})))})},_setPointers:function(){var t=this;n.each(this.model.scales,function(i,r){r.showPointers&&(t.scaleIndex=i,r.pointers!=null&&(t.pointerEl=r.pointers,n.each(r.pointers,function(n,i){t._isHalfCircle()&&(r.showBackNeedle=!1);t.pointerIndex=n;t._drawPointers(n,i)})))})},_onAnimate:function(n){var t=this,u,i=t.model.scales[0].minimum,r=t.model.scales[0].pointers[0].value;u=setInterval(function(){r>i?(i=i+(t.model.scales[0].maximum-t.model.scales[0].minimum)/100,r>i?t.setPointerValue(0,0,i):t.setPointerValue(0,0,r)):i==r&&window.clearInterval(u)},n)},_setRanges:function(){var t=this;n.each(this.model.scales,function(i,r){r.showRanges&&(t.scaleIndex=i,r.ranges!=null&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n;t._setRangeCordinates(n,i)})))})},_setCustomLabel:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i;r.customLabels!=null&&(t.customLabelEl=r.customLabels,n.each(r.customLabels,function(n,r){t.customLabelIndex=i;t._setCustomLabelCordinates(n,r)}))})},_subGauge:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i;r.subGauges!=null&&(t.subGaugeEl=r.subGauges,n.each(r.subGauges,function(n,r){t.subGaugeIndex=i;t._setSubGauge(n,r)}))})},_setScaleCordinates:function(n){if(this.location={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:n.startAngle,endAngle:n.startAngle+n.sweepAngle,startRadius:this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2,endRadius:this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2},this.style={radius:n.radius-n.size/2,strokeStyle:n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color),lineWidth:n.border.width,size:n.size,isFill:!0,opacity:isNaN(n.opacity)?1:n.opacity,isStroke:!0,shadowOffset:n.shadowOffset,fillStyle:n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor),counterClockwise:n.direction=="clockwise"?!1:!0},n.maximum<n.minimum){var t=n.maximum;n.maximum=n.minimum;n.minimum=t}this.maximum(n.maximum);this.minimum(n.minimum);this._drawScaleBar(this.location,this.style);this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawOuterLayer:function(){var i,r,u,n;this._isHalfCircle()&&(r={x:this.centerX,y:this.centerY},u={x:this.centerX+this.model.radius,y:this.centerY/2},n=this._getCirucumferenceAngle(r,u));i=this.model.isRadialGradient?this.contextEl.createRadialGradient(this.canvasEl[0].width/2,this.canvasEl[0].height/2,0,this.canvasEl[0].width/2,this.canvasEl[0].height/2,this.model.radius):this.contextEl.createLinearGradient(0,0,0,this.canvasEl[0].height);t.isNullOrUndefined(this.model.interiorGradient)||this._setGradientColor(this,i,this.model.interiorGradient.colorInfo);this.frameOuterLocation={centerX:this.centerX,hcCenterX:this.centerX,hcCenterY:this.centerY,centerY:this.centerY,startAngle:this._isHalfCircle()?Math.PI*(this.model.frame.halfCircleFrameStartAngle/180):0,endAngle:this._isHalfCircle()?Math.PI*(this.model.frame.halfCircleFrameEndAngle/180):2*Math.PI};this._isHalfCircle()&&(this.frameInnerLocation={centerX:this.centerX,hcCenterX:this._getXCordinate(this.centerX,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2),hcCenterY:this._getYCordinate(this.centerX,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2),centerY:this.centerY,startAngle:Math.PI*(this.model.frame.halfCircleFrameStartAngle/180)+n,endAngle:Math.PI*(this.model.frame.halfCircleFrameEndAngle/180)-n});this.frameInnerStyle={radius:this.model.radius,isStroke:!1,isFill:!0,fillStyle:this.model.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(null,this.model.backgroundColor),counterClockwise:!1};this.model.frame.frameType=="fullcircle"?this._drawCircleFrame(this.frameOuterLocation,this.frameInnerStyle):this.model.frame.frameType=="halfcircle"&&this._drawHalfCircle(this.frameInnerLocation,this.frameInnerStyle);this.contextEl.getImageData&&(this.outerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setTicksCordinates:function(n,t){var e,o,s,h,f,r,i,u;for(t.type=="major"?(f=this.scaleEl[this.scaleIndex].majorIntervalValue,this.majorTickHeight=t.height):f=this.scaleEl[this.scaleIndex].minorIntervalValue,t.placement=="far"&&(r=this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+this.scaleEl[this.scaleIndex].border.width/2+t.distanceFromScale),t.placement=="center"&&(r=this.scaleEl[this.scaleIndex].radius-t.height/2-this.scaleEl[this.scaleIndex].border.width/2-t.distanceFromScale),t.placement=="near"&&(r=this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-this.scaleEl[this.scaleIndex].border.width/2-t.distanceFromScale),s=t.placement=="near"?-t.height:t.height,u=this.scaleEl[this.scaleIndex].maximum;u>=this.scaleEl[this.scaleIndex].minimum;u-=f)(f==this.scaleEl[this.scaleIndex].minorIntervalValue&&u%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||f==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(u==this.scaleEl[this.scaleIndex].minimum&&(h=!0),i=this._getAngle(u),i=i>360?i-360:i,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,i),this.location={startX:e,startY:o},this.style={angle:t.angle+i,isStroke:!0,isFill:!1,lineHeight:s,lineWidth:t.width,strokeStyle:t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color)},this.model.drawTicks&&this._onDrawTicks(i,u),this._drawTickMark(this.location,this.style));h||(i=this._getAngle(this.scaleEl[this.scaleIndex].minimum),i=i>360?i-360:i,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,i),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,i),this.location={startX:e,startY:o},this.style={angle:t.angle+i,isStroke:!0,isFill:!1,lineHeight:s,lineWidth:t.width,strokeStyle:t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color)});this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setLabelCoridnates:function(n,t){var o,f,e,s,h,u,r,i;for(u=t.type=="major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,h=t.type=="major"?this.majorIntervalAngle=this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/u):this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/u),t.placement=="far"&&(r=this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+this.majorTickHeight+t.distanceFromScale),t.placement=="center"&&(r=this.scaleEl[this.scaleIndex].radius-10-t.distanceFromScale),t.placement=="near"&&(r=this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-10-this.majorTickHeight-t.distanceFromScale),i=this.scaleEl[this.scaleIndex].maximum;i>=this.scaleEl[this.scaleIndex].minimum;i=this._subtractDecimal(i,u))if(i==this.scaleEl[this.scaleIndex].minimum&&(o=!0),u==this.scaleEl[this.scaleIndex].minorIntervalValue&&i%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||u==this.scaleEl[this.scaleIndex].majorIntervalValue){if(i==this.scaleEl[this.scaleIndex].minimum&&!t.includeFirstValue)continue;angle=this._getAngle(i);angle=angle>360?angle-360:angle;f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,angle);e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,angle);this.location={startX:f,startY:e};this.style={angle:this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?angle+t.angle:t.angle,isStroke:!1,isFill:!0,textValue:i,opacity:t.opacity?t.opacity:1,font:this._getFontString(t,t.font),fillStyle:t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color)};this.model.drawLabels&&this._onDrawLabels(this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?angle+t.angle:t.angle,i);this._drawLabel(this.location,this.style,!1)}o||(angle=this._getAngle(this.scaleEl[this.scaleIndex].minimum),angle=angle>360?angle-360:angle,f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,r,angle),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,r,angle),this.location={startX:f,startY:e},this.style={angle:this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?angle+t.angle:t.angle,isStroke:!1,isFill:!0,textValue:this.scaleEl[this.scaleIndex].minimum,opacity:t.opacity?t.opacity:1,font:this._getFontString(t,t.font),lineHeight:s,lineWidth:t.width,fillStyle:t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color)},this.model.drawLabels&&this._onDrawLabels(angle,i),this._drawLabel(this.location,this.style,!1),angle=this._getAngle(i),angle=angle>360?angle-360:angle);this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setRangeCordinates:function(n,i){var o,s,h,c,r,u,f,l,a,e,v;v=this._getAngle((i.startValue+i.endValue)/2);r=this._getAngle(i.startValue);f=this._getAngle(i.endValue);u=this.scaleEl[this.scaleIndex].radius-i.distanceFromScale-this.scaleEl[this.scaleIndex].size/2-i.size-this.majorTickHeight;l=this.scaleEl[this.scaleIndex].radius-i.distanceFromScale-this.scaleEl[this.scaleIndex].size/2-this.majorTickHeight;a=this.scaleEl[this.scaleIndex].radius-i.distanceFromScale-i.size-this.scaleEl[this.scaleIndex].size/2-this.majorTickHeight;o=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,r);s=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,r);h=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,f);c=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,f);r=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:o,y:s})/Math.PI;f=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:h,y:c})/Math.PI;t.isNullOrUndefined(i.gradients)?e=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor):(e=this.contextEl.createRadialGradient(this.centerX,this.centerY,a,this.centerX,this.centerY,l),this._setGradientColor(this,e,i.gradients.colorInfo));this.location={startX:o,startY:s,endX:h,endY:c,startAngle:r,endAngle:f};this.style={startWidth:i.startWidth,isFill:!0,fillStyle:e,strokeStyle:i.border.color=="transparent"?"rgba(0,0,0,0)":i.border.color,opacity:isNaN(i.opacity)?1:i.opacity,counterClockwise:this.scaleEl[this.scaleIndex].direction=="clockwise"?!1:!0,startRadius:l,endRadius:a,endWidth:i.endWidth,lineWidth:i.border.width,isStroke:!0};this.model.drawRange&&this._onDrawRange(this.location,this.style);this._drawRange(this.location,this.style);this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_setSubGauge:function(t,i){var r=n("div[id="+i.controlID+"]"),u;r.length>0&&r.find("canvas").length&&(u=r.find("canvas")[0].getContext("2d"),this.contextEl.drawImage(u.canvas,i.position.x,i.position.y,i.width,i.height),r.css("display","none"),this.contextEl.getImageData&&(this.subGaugeImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height)))},_setCustomLabelCordinates:function(n,t){t.color=t.color?t.color:"#282828";this.location=t.position?{startX:t.position.x,startY:t.position.y}:{startX:0,startY:0};this.style={angle:t.textAngle,textValue:t.value,fillStyle:t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color),font:this._getFontString(t,t.font)};this.model.drawCustomLabel&&this._onDrawCustomLabel(this.location,this.style);this._drawLabel(this.location,this.style,!0);this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawIndicator:function(i,r){var u=this,e=!1,f;this.location={centerX:r.position.x-r.width/2,textLocation:r.position,centerY:r.position.y-r.height/2,startAngle:0,endAngle:2*Math.PI};this.style={radius:(r.height+r.width)/2,strokeStyle:"#2BA104",cornerRadius:r.type=="roundedrectangle"?2:0,height:r.height,width:r.width,lineWidth:r.indicatorBorderWidth,fillStyle:"#2BA104",isStroke:!0,isFill:!0,indicatorText:r.indicatorText,textColor:null,font:null,counterClockwise:!1};this.model.drawIndicators&&this._onDrawIndicators(this.style,this.location);r.type==t.datavisualization.CircularGauge.IndicatorType.Image?(f=new Image,f.onload=function(){u.contextEl.drawImage(this,r.position.x,r.position.y)},f.src=r.imageUrl):r.stateRanges!=null&&n.each(r.stateRanges,function(n,i){u.pointerEl[u.pointerIndex].value>=i.startValue&&u.pointerEl[u.pointerIndex].value<=i.endValue&&(e=!0,!t.isNullOrUndefined(i.text)&&i.text.length>0&&(u.style.indicatorText=i.text,u.style.textColor=i.textColor=="transparent"?"rgba(0,0,0,0)":i.textColor,u.style.font=r.font),u.style.strokeStyle=i.borderColor=="transparent"?"rgba(0,0,0,0)":i.borderColor,u.style.fillStyle=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":i.backgroundColor,u._drawIndicatorFrame(r.type,u.location,u.style))});e||r.type==t.datavisualization.CircularGauge.IndicatorType.Image||u._drawIndicatorFrame(r.type,u.location,u.style);this.contextEl.getImageData&&r.type!=t.datavisualization.CircularGauge.IndicatorType.Image&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height))},_drawIndicatorFrame:function(n,t,i){switch(n){case"circle":this._drawCircleFrame(t,i);break;case"roundedrectangle":case"rectangle":this._drawRectangleFrame(t,i);break;case"text":this._drawText(t,i)}},_drawScaleBar:function(n,t){this.contextEl.shadowColor=t.strokeStyle=="transparent"?"rgba(0,0,0,0)":t.strokeStyle;t.shadowOffset&&(this.contextEl.shadowBlur=t.shadowOffset);this._contextOpenPath(t,this);n.endAngle-n.startAngle==0?this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*0,!1):(n.endAngle-n.startAngle)%360==0?(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*2,!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*2,Math.PI*0,!0)):(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!0));this._contextClosePath(t,this)},_drawTickMark:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.startX,n.startY);this.contextEl.moveTo(0,0);this.contextEl.rotate(Math.PI*(t.angle/180));this.contextEl.lineTo(t.lineHeight,0);this._contextClosePath(t,this)},_drawLabel:function(n,i,r){if(this._contextOpenPath(i,this),this.contextEl.textAlign="center",this.contextEl.textBaseline="middle",this.contextEl.font=i.font,this.contextEl.translate(n.startX,n.startY),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?this.contextEl.rotate(Math.PI*((i.angle-270)/180)):this.contextEl.rotate(Math.PI*(i.angle/180)),!t.isNullOrUndefined(r)&&!r){var u=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitTextPosition;t.isNullOrUndefined(u)||u.toString()!="back"?t.isNullOrUndefined(u)||u.toString()!="front"||(i.textValue=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText+i.textValue):i.textValue=(i.textValue%1!=0?+i.textValue.toFixed(3):i.textValue)+this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText}this.contextEl.fillText(i.textValue,0,0);this._contextClosePath(i,this)},_drawCircleFrame:function(n,t){this._contextOpenPath(t,this);this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,t.counterClockwise);this._contextClosePath(t,this);t.indicatorText&&this._drawText(n,t)},_drawHalfCircle:function(n,t){this._contextOpenPath(t,this);this.contextEl.lineJoin="round";this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,!1);this.contextEl.lineTo(n.hcCenterX,n.hcCenterY);this._contextClosePath(t,this)},_drawRectangleFrame:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.centerX,n.centerY-t.height/2);this.contextEl.moveTo(t.cornerRadius,0);this.contextEl.lineTo(t.width-t.cornerRadius,0);this.contextEl.quadraticCurveTo(t.width,0,t.width,t.cornerRadius);this.contextEl.lineTo(t.width,t.height-t.cornerRadius);this.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.cornerRadius,t.height);this.contextEl.lineTo(t.cornerRadius,t.height);this.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.cornerRadius);this.contextEl.lineTo(0,t.cornerRadius);this.contextEl.quadraticCurveTo(0,0,t.cornerRadius,0);this._contextClosePath(t,this);t.indicatorText&&this._drawText(n,t)},_drawText:function(n,t){this.contextEl.beginPath();this.contextEl.textAlign="center";this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor;this.contextEl.font=t.font;this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y);this.contextEl.closePath()},_drawRange:function(n,t){this._contextOpenPath(t,this);this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise);this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise);this._contextClosePath(t,this)},_drawPointers:function(n,i){i.value=i.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:i.value;i.value=i.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:i.value;var f,e,r,u,o;r=this._getAngle(i.value);r=r>360?r-360:r;i.type=="needle"?(i.placement=="far"&&(u=i.length+this.scaleEl[this.scaleIndex].size/2),i.placement=="center"&&(u=i.length),i.placement=="near"&&(u=i.length-this.scaleEl[this.scaleIndex].size/2)):(u=i.length,i.placement=="far"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+i.distanceFromScale,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+i.distanceFromScale,r)),i.placement=="center"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale,r)),i.placement=="near"&&(f=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale-this.majorTickHeight-15,r),e=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale-this.majorTickHeight-15,r)));u>this.model.radius&&(u=this.model.radius);this.location={startX:i.type=="needle"?this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX:f,startY:i.type=="needle"?this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY:e};t.isNullOrUndefined(i.gradients)?o=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor):(o=this.contextEl.createLinearGradient(0,0,0,i.width),this._setGradientColor(this,o,i.gradients.colorInfo));this.style={width:i.width,isFill:!0,isStroke:!0,radius:0,showBackNeedle:i.showBackNeedle,backNeedleLength:i.backNeedleLength,angle:i.type=="needle"?r:i.placement=="far"?r:r+180,height:u,lineWidth:i.border.width,opacity:isNaN(i.opacity)?1:i.opacity,strokeStyle:i.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.border.color),fillStyle:o};this.model.drawPointers&&this._onDrawPointers(r,i.value);i.type=="needle"?(this._drawNeedlePointer(this.location,this.style,i),this._setPointerCap(i)):(i.markerType=="roundedrectangle"&&(this.style.radius=5),this._drawMarkerType(i.markerType,this.location,this.style));this.contextEl.getImageData&&(this.pointerImage=this.contextEl.getImageData(0,0,this.model.width,this.model.height));this.value(i.value)},_drawMarkerType:function(n,t,i){switch(n){case"rectangle":this._drawRectangle(t,i,this);break;case"triangle":this._drawTriangle(t,i,this);break;case"ellipse":this._drawEllipse(t,i,this);break;case"diamond":this._drawDiamond(t,i,this);break;case"pentagon":this._drawPentagon(t,i,this);break;case"circle":this._drawCircle(t,i,this);break;case"slider":this._drawSlider(t,i,this);break;case"pointer":this._drawPointer(t,i,this);break;case"wedge":this._drawWedge(t,i,this);break;case"trapezoid":this._drawTrapezoid(t,i,this);break;case"roundedrectangle":this._drawRoundedRectangle(t,i,this)}},_drawNeedlePointer:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.startX,n.startY);this.contextEl.rotate(Math.PI*(t.angle/180));this.contextEl.moveTo(0,-t.width/2);this.pointerEl[this.pointerIndex].needleType=="triangle"?this.contextEl.lineTo(t.height,0):this.pointerEl[this.pointerIndex].needleType=="rectangle"?(this.contextEl.lineTo(t.height,-t.width/2),this.contextEl.lineTo(t.height,t.width/2)):this.pointerEl[this.pointerIndex].needleType=="trapezoid"?(this.contextEl.lineTo(t.height,-t.width/4),this.contextEl.lineTo(t.height,t.width/4)):this.pointerEl[this.pointerIndex].needleType=="arrow"&&(this.contextEl.lineTo(t.height-t.height/4,-t.width/6),this.contextEl.lineTo(t.height-t.height/4,-t.width/2),this.contextEl.lineTo(t.height,0),this.contextEl.lineTo(t.height-t.height/4,t.width/2),this.contextEl.lineTo(t.height-t.height/4,t.width/6));this.contextEl.lineTo(0,t.width/2);t.showBackNeedle&&(this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCap.radius/2),t.width/2),this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCap.radius/2),-t.width/2));this.canvasEl.attr("aria-label",this.model.scales[this.scaleIndex].pointers[this.pointerIndex].value);this._contextClosePath(t,this)},_setPointerCap:function(n){var i;i=this.contextEl.createRadialGradient(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,0,this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,this.scaleEl[this.scaleIndex].pointerCap.radius);t.isNullOrUndefined(this.scaleEl[this.scaleIndex].pointerCap.interiorGradient)?i=this.scaleEl[this.scaleIndex].pointerCap.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].pointerCap.backgroundColor)):this._setGradientColor(this,i,this.scaleEl[this.scaleIndex].pointerCap.interiorGradient.colorInfo);this.location={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:0,endAngle:2*Math.PI};this.style={isStroke:!0,isFill:!0,strokeStyle:this.scaleEl[this.scaleIndex].pointerCap.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].pointerCap.borderColor)),radius:this.scaleEl[this.scaleIndex].pointerCap.radius,lineWidth:this.scaleEl[this.scaleIndex].pointerCap.borderWidth,fillStyle:i};this.model.drawPointerCap&&this._onDrawPointerCap();this._drawCircleFrame(this.location,this.style)},_reDrawScale:function(){this.contextEl.putImageData(this.outerImage,0,0);this._drawScales()},_reDrawPointer:function(){this.contextEl.putImageData(this._getPointerImage(),0,0);this._setPointers();this._setIndicators()},_reDrawCustomLabel:function(){this.contextEl.putImageData(this._getCustomLabelImage(),0,0);this._setCustomLabel();this._setPointers();this._setIndicators()},_reDrawRange:function(){this.contextEl.putImageData(this._getRangeImage(),0,0);this._setRanges();this._subGauge();this._setCustomLabel();this._setPointers();this._setIndicators()},_reDrawLabel:function(){this.contextEl.putImageData(this._getLabelImage(),0,0);this._setLabels();this._setRanges();this._subGauge();this._setCustomLabel();this._setPointers();this._setIndicators()},_reDrawTickMark:function(){this.contextEl.putImageData(this._getTickImage(),0,0);this._setTicks();this._setLabels();this._setRanges();this._subGauge();this._setCustomLabel();this._setPointers();this._setIndicators()},_reDrawSubGauge:function(){this.contextEl.putImageData(this._getSubGaugeImage(),0,0);this._subGauge();this._setCustomLabel();this._setPointers();this._setIndicators()},isAndroid:function(){return/android/i.test(navigator.userAgent.toLowerCase())},redraw:function(n){switch(n){case"scale":this._reDrawScale();break;case"pointer":this._reDrawPointer();break;case"range":this._reDrawRange();break;case"label":this._reDrawLabel();break;case"tickMark":this._reDrawTickMark();break;case"subGauges":this._reDrawSubGauge();break;case"CustomLabel":this._reDrawCustomLabel()}},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].value},setMarkerDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getMarkerDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].distanceFromScale},setPointerLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].length=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerLength:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].length},setPointerWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].width=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].width},setBackNeedleLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].backNeedleLength=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getBackNeedleLength:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].backNeedleLength},setNeedleStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].needleType=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getNeedleStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].needleType},setPointerPlacement:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].pointerPlacement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].pointerPlacement},setPointerNeedleType:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].pointerNeedleType=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getPointerNeedleType:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].pointerNeedleType},setMarkerStyle:function(n,i,r){if(n<this.model.scales.length&&i<this.model.scales[n].pointers.length&&r!=null)r!="roundedrectangle"&&t.isNullOrUndefined(t.datavisualization.CircularGauge.MarkerType[r.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})])||(this.scaleEl[n].pointers[i].markerType=r,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getMarkerStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].pointers.length)return this.scaleEl[n].pointers[t].markerType},setCustomLabelValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].value=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getCustomLabelValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].customLabels.length)return this.scaleEl[n].customLabels[t].value},setSubGaugeLocation:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].subGauges.length&&i!=null&&(this.scaleEl[n].subGauges[t].position.x=i.x,this.scaleEl[n].subGauges[t].position.y=i.y,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawSubGauge():this._initialize())},getSubGaugeLocation:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].subGauges.length)return this.scaleEl[n].subGauges[t].Location},setCustomLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].textAngle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getCustomLabelAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].customLabels.length)return this.scaleEl[n].customLabels[t].textAngle},setRangeStartValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeStartValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeEndValue:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeSize:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].size=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeSize:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].size},setRangeDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].placement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangePosition:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].placement},setRangeBorderWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].border.width=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeBorderWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].border.width},setPointerValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(i>=this.scaleEl[n].minimum&&i<=this.scaleEl[n].maximum&&(this.scaleEl[n].pointers[t].value=i),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},setLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].distanceFromScale},setLabelStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].type=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].type},setLabelPlacement:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].placement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].labels.length)return this.scaleEl[n].labels[t].placement},setTickAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickAngle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].type=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickStyle:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].type},setTickPlacement:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickPlacement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickPlacement:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].tickPlacement},setTickWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].width=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickWidth:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].width},setTickHeight:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].height=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickHeight:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].height},setTickDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickDistanceFromScale:function(n,t){if(n<this.model.scales.length&&t<this.model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].distanceFromScale},setStartAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].startAngle=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getStartAngle:function(n){if(n<this.model.scales.length)return this.scaleEl[n].startAngle},setSweepAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].sweepAngle=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getSweepAngle:function(n){if(n<this.model.scales.length)return this.scaleEl[n].sweepAngle},setMinimumValue:function(n,t){n<this.model.scales.length&&t!=null&&(t<this.scaleEl[n].maximum&&(this.scaleEl[n].minimum=t),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMinimumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].minimum},setMaximumValue:function(n,t){n<this.model.scales.length&&t!=null&&(t>this.scaleEl[n].minimum&&(this.scaleEl[n].maximum=t),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMaximumValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].maximum},setScaleBarSize:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].size=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleBarSize:function(n){if(n<this.model.scales.length)return this.scaleEl[n].size},setScaleRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].radius=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleRadius:function(n){if(n<this.model.scales.length)return this.scaleEl[n].radius},setMajorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMajorIntervalValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMinorIntervalValue:function(n){if(n<this.model.scales.length)return this.scaleEl[n].minorIntervalValue},setPointerCapRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].pointerCap.radius=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getPointerCapRadius:function(n){if(n<this.model.scales.length)return this.scaleEl[n].pointerCap.radius},setScaleBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].border.width=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleBorderWidth:function(n){if(n<this.model.scales.length)return this.scaleEl[n].border.width},setPointerCapBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].capBorderWidth=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getPointerCapBorderWidth:function(n){if(n<this.model.scales.length)return this.scaleEl[n].capBorderWidth},setScaleDirection:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].direction=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleDirection:function(n){if(n<this.model.scales.length)return this.scaleEl[n].direction},includeFirstValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].includeFirstValue=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},_reDrawScale:function(){this.model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this.outerImage,0,0),this._drawScales())},_reDrawPointer:function(){this.model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getPointerImage(),0,0),this._setPointers(),this._setIndicators())},_reDrawCustomLabel:function(){this.model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawRange:function(){this.model.frame.backgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawLabel:function(){this.model.frame.backgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawTickMark:function(){this.model.frame.backgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRanges(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawSubGauge:function(){this.model.frame.backgroundImageUrl?this._initialize():(this.contextEl.putImageData(this._getSubGaugeImage(),0,0),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},refreshSubGauge:function(){this.contextEl.putImageData?this._reDrawSubGauge():this._initialize()},refresh:function(){this._initialize()},exportImage:function(n,i){var f,u,r,o;if(t.browserInfo().name==="msie"&&parseFloat(t.browserInfo().version)>9){f=this.canvasEl[0].toDataURL();f=f.replace(/^data:[a-z]*;,/,"");var h=f.split(","),e=atob(h[1]),s=new ArrayBuffer(e.length),c=new Uint8Array(s);for(u=0;u<e.length;u++)c[u]=e.charCodeAt(u);blob=new Blob([s],{type:"image/png"});window.navigator.msSaveOrOpenBlob(blob,n+"."+i)}else r=document.createElement("a"),r.download=n+"."+i,r.href=this.canvasEl[0].toDataURL("image/"+i).replace("image/"+i,"image/octet-stream"),document.createEvent?(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)):r.fireEvent&&r.fireEvent("onclick")},resizeCanvas:function(){var r,u,t,n,i;if(proxy.element.width()!=initialDivWidth||proxy.element.height()!=initialDivHeight){for(r=proxy.element.width()/initialDivWidth,u=proxy.element.height()/initialDivHeight,t=r!=1&&u!=1?r:u!=1?u:r,proxy.model.width*=t,n=0;proxy.model.scales[n]!=null;n++)for(proxy.model.scales[n].radius*=t,i=0;proxy.model.scales[n].pointers[i]!=null;i++)proxy.model.scales[n].pointers[i].length*=t,proxy.model.scales[n].pointers[i].pointerCap.radius*=t,proxy.model.scales[n].pointers[i].width*=t,proxy.model.scales[n].pointers[i].backNeedleLength*=t;proxy.refresh();initialDivWidth=proxy.element.width();initialDivHeight=proxy.element.height()}},_onDrawTicks:function(n,t){var i={index:this.tickIndex,element:this.tickEl[this.tickIndex],angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,pointerValue:t,style:this.style,position:this.location,tick:i};this._trigger("drawTicks",r)},_onDrawLabels:function(n,t){var i={index:this.labelIndex,element:this.labelEl[this.labelIndex],angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,pointerValue:t,style:this.style,position:this.location,label:i};this._trigger("drawLabels",r)},_onDrawPointers:function(n,t){var i={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],angle:parseInt(n),pointerValue:t},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location,pointer:i};this._trigger("drawPointers",r)},_onDrawRange:function(){var n={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeEl],context:this.contextEl,style:this.style,position:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,position:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,position:this.location};this._trigger("drawIndicators",n)},_onDrawPointerCap:function(){var n={object:this,scaleElement:this.model.scales,position:this.location,style:this.style,context:this.contextEl};this._trigger("drawPointerCap",n)},_onRenderComplete:function(){var n={object:this,scaleElement:this.model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_onMouseClick:function(n,t){var r={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],value:t,angle:parseInt(n)},i={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.position};this._trigger("mouseClick",i)},_onMouseClickMove:function(n,t){var r={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],value:t,angle:parseInt(n)},i={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location};this._trigger("mouseClickMove",i)},_onMouseClickUp:function(n,t){var r={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],value:t,angle:parseInt(n)},i={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location};this._trigger("mouseClickUp",i)},_setTheme:function(){selectedTheme=t.datavisualization.CircularGauge.Themes[this.model.theme];this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var u=[],e=t.datavisualization.CircularGauge.Themes,h,r,i,f,o,s;for(h in e)u.push(h);for(r=0;r<u.length;r++)for(this.model.backgroundColor=!this.model.backgroundColor||this.model.backgroundColor==e[u[r]].backgroundColor?n.backgroundColor:this.model.backgroundColor,i=0;i<this.model.scales.length;i++){for(this.model.scales[i].backgroundColor=!this.model.scales[i].backgroundColor||this.model.scales[i].backgroundColor==e[u[r]].scales.backgroundColor?n.scales.backgroundColor:this.model.scales[i].backgroundColor,this.model.scales[i].border.color=!this.model.scales[i].border.color||this.model.scales[i].border.color==e[u[r]].scales.border.color?n.scales.border.color:this.model.scales[i].border.color,f=0;f<this.model.scales[i].pointers.length;f++)this.model.scales[i].pointers[f].backgroundColor=!this.model.scales[i].pointers[f].backgroundColor||this.model.scales[i].pointers[f].backgroundColor==e[u[r]].scales.pointers.backgroundColor?n.scales.pointers.backgroundColor:this.model.scales[i].pointers[f].backgroundColor,this.model.scales[i].pointers[f].border.color=!this.model.scales[i].pointers[f].border.color||this.model.scales[i].pointers[f].border.color==e[u[r]].scales.pointers.border.color?n.scales.pointers.border.color:this.model.scales[i].pointers[f].border.color,this.model.scales[i].pointerCap.backgroundColor=!this.model.scales[i].pointerCap.backgroundColor||this.model.scales[i].pointerCap.backgroundColor==e[u[r]].scales.pointerCap.backgroundColor?n.scales.pointerCap.backgroundColor:this.model.scales[i].pointerCap.backgroundColor,this.model.scales[i].pointerCap.borderColor=!this.model.scales[i].pointerCap.borderColor||this.model.scales[i].pointerCap.borderColor==e[u[r]].scales.pointerCap.borderColor?n.scales.pointerCap.borderColor:this.model.scales[i].pointerCap.borderColor;for(o=0;o<this.model.scales[i].ticks.length;o++)this.model.scales[i].ticks[o].color=!this.model.scales[i].ticks[o].color||this.model.scales[i].ticks[o].color==e[u[r]].scales.ticks.color?n.scales.ticks.color:this.model.scales[i].ticks[o].color;for(s=0;s<this.model.scales[i].labels.length;s++)this.model.scales[i].labels[s].color=!this.model.scales[i].labels[s].color||this.model.scales[i].labels[s].color==e[u[r]].scales.labels.color?n.scales.labels.color:this.model.scales[i].labels[s].color}},_getFontString:function(n,t){return t?(t.fontStyle?t.fontStyle:"")+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily:""},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(t.width,t.height/4);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(t.width/2,t.height/4);this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(3*t.width/4,0);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width/4,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(t.width/4,t.height/2);this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i);i.model.Orientation=="Horizontal"&&i.markerPlacement=="near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY));this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width/3,-t.height/2);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width,t.height/4);i.contextEl.lineTo(t.width/3,t.height/2);this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(0,0);this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(0,-t.height/4);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/4);this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(0,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/2);this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY-t.height/2);this._setContextRotation(t,i);i.contextEl.moveTo(t.radius,0);i.contextEl.lineTo(t.width-t.radius,0);i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius);i.contextEl.lineTo(t.width,t.height-t.radius);i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height);i.contextEl.lineTo(t.radius,t.height);i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius);i.contextEl.lineTo(0,t.radius);i.contextEl.quadraticCurveTo(0,0,t.radius,0);this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.model.Width,t.model.Height);t.model.scales!=null&&t._drawScales();t.model.items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.scale(2,1);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_setPointerDimension:function(n,i){if(!t.isNullOrUndefined(i.model.Orientation)&&i.model.Orientation=="Horizontal"){var r=n.width,u=n.height;n.height=r;n.width=u}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},_contextOpenPath:function(n,t){t.contextEl.save();t.contextEl.beginPath();n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle);n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity);n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth);n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath();n.isFill&&t.contextEl.fill();n.isStroke&&t.contextEl.stroke();t.contextEl.restore()},_blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.colorStop!=NaN?r.colorStop:0,typeof r.color=="string"?r.color:u._getColor(t,r.color))})}});t.datavisualization.CircularGauge.Frame={FullCircle:"fullcircle",HalfCircle:"halfcircle"};t.datavisualization.CircularGauge.Directions={Clockwise:"clockwise",CounterClockwise:"counterclockwise"};t.datavisualization.CircularGauge.PointerPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.PointerType={Needle:"needle",Marker:"marker"};t.datavisualization.CircularGauge.NeedleType={Triangle:"triangle",Rectangle:"rectangle",Trapezoid:"trapezoid",Arrow:"arrow"};t.datavisualization.CircularGauge.MarkerType={Rectangle:"rectangle",Triangle:"triangle",Ellipse:"ellipse",Diamond:"diamond",Pentagon:"pentagon",Circle:"circle",Slider:"slider",Pointer:"pointer",Wedge:"wedge",Trapezoid:"trapezoid",RoundedRectangle:"roundedrectangle"};t.datavisualization.CircularGauge.RangePlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.TickType={Major:"major",Minor:"minor"};t.datavisualization.CircularGauge.TickPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.LabelPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.LabelType={Major:"major",Minor:"minor"};t.datavisualization.CircularGauge.UnitTextPlacement={Back:"back",Front:"front"};t.datavisualization.CircularGauge.IndicatorType={Rectangle:"rectangle",Circle:"circle",RoundedRectangle:"roundedrectangle",Text:"text",Image:"image"};t.datavisualization.CircularGauge.Themes={flatlight:{backgroundColor:"#FFFFFF",scales:{pointerCap:{borderColor:"#424242",backgroundColor:"#424242"},backgroundColor:"#777777",border:{color:"#777777"},pointers:{backgroundColor:"#424242",border:{color:"#424242"}},ticks:{color:"#777777"},labels:{color:"#282828"}}},flatdark:{backgroundColor:"#1F1F1F",scales:{pointerCap:{borderColor:"#686868",backgroundColor:"#686868"},backgroundColor:"#7a7a7a",border:{color:"#7a7a7a"},pointers:{backgroundColor:"#686868",border:{color:"#686868"}},ticks:{color:"#7a7a7a"},labels:{color:"#d3d3d3"}}}}}(jQuery,Syncfusion),function(n,t,i){t.widget({ejLinearGauge:"ej.datavisualization.LinearGauge"},{element:null,_rootCSS:"e-lineargauge",model:null,validTags:["div","span"],defaults:{value:0,minimum:0,maximum:100,width:150,height:400,theme:"flatlight",orientation:"Vertical",pointerGradient1:null,pointerGradient2:null,backgroundColor:null,borderColor:null,labelColor:null,tickColor:null,readOnly:!0,enableResize:!1,frame:{backgroundImageUrl:null,outerWidth:12,innerWidth:8},scales:null,enableAnimation:!0,enableMarkerPointerAnimation:!0,animationSpeed:500,drawTicks:null,drawLabels:null,drawBarPointers:null,drawMarkerPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,load:null,init:null,renderComplete:null,mouseClick:null,mouseClickMove:null,mouseClickUp:null},_defaultScaleValues:function(){return{minimum:null,maximum:null,majorIntervalValue:10,minorIntervalValue:2,direction:"counterclockwise",backgroundColor:null,border:{color:null,width:1.5},opacity:NaN,width:30,shadowOffset:0,length:290,type:"rectangle",position:{x:50,y:50},showRanges:!1,showIndicators:!1,showCustomLabels:!1,showLabels:!0,showTicks:!0,showBarPointers:!0,showMarkerPointers:!0,ticks:[{distanceFromScale:{x:0,y:0},angle:0,color:null,type:"majorinterval",placement:"near",opacity:0,height:10,width:3},{distanceFromScale:{x:0,y:0},angle:0,color:null,type:"minorinterval",placement:"near",opacity:0,height:5,width:2}],ranges:[{endWidth:10,placement:"center",startWidth:10,distanceFromScale:0,endValue:60,startValue:20,gradients:null,backgroundColor:null,border:{color:null,width:1.5},opacity:null}],labels:[{distanceFromScale:{x:-10,y:0},angle:0,font:{size:"11px",fontFamily:"Arial",fontStyle:"bold"},textColor:null,opacity:0,type:"major",placement:"near",includeFirstValue:!0,unitText:"",unitTextPlacement:"back"}],markerPointers:[{type:"triangle",length:30,placement:"far",gradients:null,distanceFromScale:0,width:30,value:null,backgroundColor:null,border:{color:null,width:1.5},opacity:1}],barPointers:[{gradients:null,distanceFromScale:0,width:30,value:null,backgroundColor:null,border:{color:null,width:1.5},opacity:1}],indicators:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"bold"},height:30,type:"rectangle",width:30,position:{x:0,y:0},textLocation:{x:0,y:0},stateRanges:[{endValue:60,startValue:50,backgroundColor:null,borderColor:null,text:"",textColor:null}],value:0,backgroundColor:null,border:{color:null,width:1.5},opacity:NaN}],customLabels:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"bold"},color:null,opacity:0,value:"",textAngle:0,position:{x:0,y:0}}]}},dataTypes:{scales:"data"},observables:["value","minimum","maximum"],value:t.util.valueFunction("value"),minimum:t.util.valueFunction("minimum"),maximum:t.util.valueFunction("maximum"),_init:function(){this._initialize();this._trigger("load");this._setTheme();this._render();this.model.readOnly||this.wireEvents();this._onWindowResize()},_onWindowResize:function(){this.model.enableResize&&(proxy=this,this.isDevice()?this._on(n(window),"orientationchange",proxy.resizeCanvas):this._on(n(window),"resize",proxy.resizeCanvas))},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_setModel:function(t){var r,i;for(r in t)switch(r){case"theme":this.model.theme=t[r];this._init();break;case"height":this.model.height=t[r];break;case"width":this.model.width=t[r];break;case"orientation":this.model.orientation=t[r];break;case"pointerGradient1":this.model.pointerGradient1=t[r];break;case"pointerGradient2":this.model.pointerGradient2=t[r];break;case"labelColor":this.model.labelColor=t[r];break;case"tick":n.extend(this.model.tick,t[r]);break;case"backgroundColor":this.model.backgroundColor=t[r];break;case"borderColor":this.model.borderColor=t[r];break;case"frame":n.extend(this.model.frame,t[r]);case"readOnly":this.model.readOnly=t[r];break;case"value":for(this.value()==""&&this.value(0),i=0;this.model.scales[i]!=null;i++)for(j=0;this.model.scales[i].markerPointers[j]!=null;j++)this.model.scales[i].markerPointers[j].value=parseFloat(this.value());for(i=0;this.model.scales[i]!=null;i++)for(j=0;this.model.scales[i].barPointers[j]!=null;j++)this.model.scales[i].barPointers[j].value=parseFloat(this.value());break;case"minimum":for(this.minimum()==""&&this.minimum(0),i=0;this.model.scales[i]!=null;i++)this.model.scales[i].minimum=parseInt(this.minimum());break;case"maximum":for(this.maximum()==""&&this.maximum(0),i=0;this.model.scales[i]!=null;i++)this.model.scales[i].maximum=parseInt(this.maximum());break;case"scales":this.model.scales=t[r];this._itemInitialize()}this._render()},_destroy:function(){this.activeElement=null;this.canvasEl=null;this.contextEl=null;this.unWireEvents();this.element.empty().removeClass("e-widget")},_initialize:function(){this.GaugeEl=this.element;this.scaleStartX=[];this.scaleStartY=[];this.isScaleModified=!1;this.target=this.element[0];this._itemInitialize();this.Model=this.model},_render:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r);n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this._initObject(this);this.Model.frame.backgroundImageUrl?this._drawCustomImage(this,this.Model.frame.backgroundImageUrl):this.Model.scales!=null&&this._drawScales()},_initObject:function(t){var i,r,u;for(this.element.addClass("e-widget"),t.GaugeEl=t.element,i=0;this.model.scales[i]!=null;i++){for(this.model.scales[i].minimum==null&&(this.model.scales[i].minimum=this.minimum()),this.model.scales[i].maximum==null&&(this.model.scales[i].maximum=this.maximum()),r=0;this.model.scales[i].markerPointers[r]!=null;r++)this.model.scales[i].markerPointers[r].value==null&&(this.model.scales[i].markerPointers[r].value=this.value());for(r=0;this.model.scales[i].barPointers[r]!=null;r++)this.model.scales[i].barPointers[r].value==null&&(this.model.scales[i].barPointers[r].value=this.value())}(t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.canvasEl.attr("role","presentation"),initialDivWidth=t.GaugeEl.width(),initialDivHeight=t.GaugeEl.height(),t.canvasEl[0].setAttribute("width",t.model.width),t.canvasEl[0].setAttribute("height",t.model.height),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,u=t.canvasEl[0],typeof G_vmlCanvasManager!="undefined"&&(u=window.G_vmlCanvasManager.initElement(u)),u&&u.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawFrameCircle:function(n,t,i){this._contextOpenPath(t,i);i.contextEl.arc(n.startX,n.startY,t.circleRadius,0,2*Math.PI,!0);this._contextClosePath(t,i);t.indicatorText&&i._drawText(n,t)},_drawFrameRectangle:function(n,t,i){this._contextOpenPath(t,i);i.contextEl.moveTo(n.startX+t.radius,n.startY);i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY);i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius);i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height);this._contextClosePath(t,i);t.indicatorText&&i._drawText(n,t)},_drawFrameThermometer:function(n,t,i){var r=i.Model.orientation=="Vertical"?Math.sqrt(t.width*t.width+t.width*t.width)/2:Math.sqrt(t.height*t.height+t.height*t.height)/2;this._contextOpenPath(t,i);i.Model.orientation=="Vertical"?i.scaleEl[i.scaleIndex].direction=="counterclockwise"?(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+t.height-Math.sin(Math.PI*(45/180))*r,r,Math.PI*(-45/180),Math.PI*(225/180),!1),i.contextEl.lineTo(n.startX,n.startY+t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.width/2,t.width/2,-Math.PI,0,!1):i.contextEl.lineTo(n.startX+t.width,n.startY+t.width/2)):(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(-225/180),!0),i.contextEl.lineTo(n.startX,n.startY+t.height-t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.height-t.width/2,t.width/2,-Math.PI,0,!0):i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.width/2)):i.scaleEl[i.scaleIndex].direction=="counterclockwise"?(i.contextEl.arc(n.startX+t.width-r/4-Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(135/180),Math.PI*(225/180),!0),i.contextEl.lineTo(n.startX+t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!0):i.contextEl.lineTo(n.startX+t.height/2,n.startY+t.height)):(i.contextEl.arc(n.startX+r/4+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(315/180),!1),i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.width-t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!1):i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY+t.height));this._contextClosePath(t,i)},_drawFrameRoundedRectangle:function(n,t,i){this._contextOpenPath(t,i);i.contextEl.moveTo(n.startX+t.radius,n.startY);i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY);i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY,n.startX+t.width,n.startY+t.radius);i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius);i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY+t.height,n.startX+t.width-t.radius,n.startY+t.height);i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height);i.contextEl.quadraticCurveTo(n.startX,n.startY+t.height,n.startX,n.startY+t.height-t.radius);i.contextEl.lineTo(n.startX,n.startY+t.radius);i.contextEl.quadraticCurveTo(n.startX,n.startY,n.startX+t.radius,n.startY);this._contextClosePath(t,i);t.indicatorText&&this._drawText(n,t)},_contextOpenPath:function(n,t){t.contextEl.save();t.contextEl.beginPath();n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle);n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity);n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth);n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath();n.isFill&&t.contextEl.fill();n.isStroke&&t.contextEl.stroke();t.contextEl.restore()},_drawScales:function(){var t=this,i;this.scaleEl=this.Model.scales;this.contextEl.save();this.contextEl.translate(this.Model.frame.outerWidth+this.Model.frame.innerWidth,this.Model.frame.outerWidth+this.Model.frame.innerWidth);n.each(this.Model.scales,function(n,i){t.scaleIndex=n;t._setScaleCordinates(i,i.type)});this._setTicks();this._setLabels();this._setRange();this._setCustomLabel();this._flagPointer=!1;this._tempOpacity=this.model.scales[0].barPointers[0].opacity;this._setBarPointers();this._setMarkerPointers();this._setIndicators();n.each(this.Model.scales,function(n,i){i.showBarPointers&&i.barPointers.length>1&&(t.model.enableAnimation=!1);i.showMarkerPointers&&i.markerPointers.length>1&&(t.model.enableAnimation=!1)});this.contextEl.putImageData||(this.model.enableAnimation=!1);this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.enableAnimation&&this._onAnimate(i))},_setTicks:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n;t._setTicksCordinates(i,n)})))})},_setLabels:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n;t._setLabelCordinates(i,n)})))})},_setIndicators:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i;r.indicators!=null&&r.showIndicators&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n;t._drawIndicator(n,i)}))})},_setBarPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showBarPointers&&(t.scaleIndex=i,r.barPointers!=null&&(t.barPointerEl=r.barPointers,n.each(r.barPointers,function(n,i){t.barPointerIndex=n;i.opacity=t.scaleIndex==0&&t.barPointerIndex==0&&t.model.enableAnimation==!0&&t._flagPointer==!1&&t.model.scales[0].type=="thermometer"?0:t._tempOpacity;t._drawScaleBarPointer(i,n);t._flagPointer=!0})))})},_setMarkerPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showMarkerPointers&&(t.scaleIndex=i,r.markerPointers!=null&&(t.markerPointerEl=r.markerPointers,n.each(r.markerPointers,function(n,i){t.markerPointerIndex=n;t._drawMarkerPointer(i,n);t.canvasEl.attr("aria-label",t.model.scales[t.scaleIndex].markerPointers[t.markerPointerIndex].value)})))})},_onAnimate:function(n){var t=this,f,e,i=t.model.scales[0].minimum,r=t.model.scales[0].barPointers[0].value,u=t.model.scales[0].markerPointers[0].value;f=setInterval(function(){r>i?(i=i+(t.model.scales[0].maximum-t.model.scales[0].minimum)/100,t.scaleEl[0].type=="thermometer"?(t.model.scales[0].barPointers[0].value=r>i?i:r,t.contextEl.putImageData!="undefined"&&t._setBarPointers()):r>i?t.setBarPointerValue(0,0,i):t.setBarPointerValue(0,0,r)):i==r&&window.clearInterval(f)},n);e=setInterval(function(){t.model.enableMarkerPointerAnimation&&(u>i?(i=i+(t.model.scales[0].maximum-t.model.scales[0].minimum)/100,t.scaleEl[0].type=="thermometer"?(t.model.scales[0].markerPointers[0].value=u>i?i:u,t.contextEl.putImageData!="undefined"&&t._setMarkerPointers()):u>i?t.setPointerValue(0,0,i):t.setPointerValue(0,0,u)):i==u&&window.clearInterval(e))},n)},_setRange:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i;r.ranges!=null&&r.showRanges&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n;t._drawRange(i)}))})},_setCustomLabel:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i;r.customLabels!=null&&r.showCustomLabels&&(t.customLabelEl=r.customLabels,n.each(r.customLabels,function(n,i){t.customLabelIndex=n;t._setCustomLabelCordinates(n,i)}))})},_setScaleCordinates:function(n,t){var r,i,u,f;this.opacity=1;this.bottomRadius=Math.sqrt(n.width*n.width+n.width*n.width)/2;this.bounds={height:this.canvasEl[0].height-2*(this.Model.frame.outerWidth+this.Model.frame.innerWidth),width:this.canvasEl[0].width-2*(this.Model.frame.outerWidth+this.Model.frame.innerWidth)};this.Model.orientation=="Vertical"?(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.width)*(n.position.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.length)*(n.position.y/100)):(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.length)*(n.position.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.width)*(n.position.y/100));u=t=="roundedrectangle"?5:0;r={startX:this.scaleStartX[this.scaleIndex],startY:this.scaleStartY[this.scaleIndex]};i={width:this.Model.orientation=="Vertical"?n.width:n.length,isStroke:!0,topRounded:!0,fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):this.Model.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.backgroundColor),lineWidth:n.border.width,radius:u,height:this.Model.orientation=="Vertical"?n.length:n.width,isStroke:!0,isFill:!0,strokeStyle:n.border.color?n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color):this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor)};n.maximum<n.minimum&&(f=n.maximum,n.maximum=n.minimum,n.minimum=f);this.minimum(n.minimum);this.maximum(n.maximum);n.shadowOffset&&(this.contextEl.shadowBlur=n.shadowOffset,this.contextEl.shadowColor=i.fillStyle=="transparent"?"rgba(0,0,0,0)":i.fillStyle);this._drawFrame(t,r,i);this.scaleEl[this.scaleIndex].type!="thermometer"||this.isScaleModified||(this._modifyWidth(),this.isScaleModified=!0);this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_setTicksCordinates:function(n){var i,u,f,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue){for(r=n.type=="majorinterval"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.placement=="near"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]:this.scaleStartY[this.scaleIndex]:n.placement=="far"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width:n.placement=="center"&&(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2),u=n.placement=="near"?-n.height:n.height,t=this.scaleEl[this.scaleIndex].maximum;t>=this.scaleEl[this.scaleIndex].minimum;t-=r)(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(f=this._getClockwiseLinePosition(t),this.location={lineChangePosition:f+(this.Model.orientation=="Horizontal"?n.distanceFromScale.x:n.distanceFromScale.y),lineStaticPosition:i+(this.Model.orientation=="Horizontal"?n.distanceFromScale.y:n.distanceFromScale.x)},this.style={lineHeight:u,angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,tickShape:n.TickShape,strokeStyle:n.color?n.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.color):this.Model.tickColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.tickColor),lineWidth:n.width},this.Model.drawTicks&&this._onDrawTicks(this.Model.orientation=="Vertical"?n.angle:n.angle+270,t),this._drawTickMark(this.location,this.style));this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}},_drawTickMark:function(n,t){var i=this.Model.orientation=="Vertical"?t.lineHeight-n.lineStaticPosition:n.lineStaticPosition;this.contextEl.beginPath();this.contextEl.save();this.contextEl.lineWidth=t.lineWidth;this.contextEl.strokeStyle=t.strokeStyle;this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition);this.contextEl.moveTo(0,0);this.scaleEl[this.scaleIndex].direction=="clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180)));this.contextEl.lineTo(t.lineHeight,0);this.contextEl.stroke();this.contextEl.restore();this.contextEl.closePath()},_addDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)+t*Math.pow(10,i))/Math.pow(10,i),o},_setLabelCordinates:function(n){var u,f,i,e,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue)for(this.Model.orientation=="Vertical"?(u=n.distanceFromScale.x,f=n.distanceFromScale.y):(u=n.distanceFromScale.y,f=n.distanceFromScale.x),r=n.type=="major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.placement=="near"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width-5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"right":"center"):n.placement=="far"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width+5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"left":"center"):(this.contextEl.textAlign="center",i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+this.scaleEl[this.scaleIndex].border.width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+this.scaleEl[this.scaleIndex].border.width/2),t=this.scaleEl[this.scaleIndex].minimum;t<=this.scaleEl[this.scaleIndex].maximum;t=this._addDecimal(t,r))(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(e=this.scaleEl[this.scaleIndex].direction=="counterclockwise"?this._getCounterClockwiseLinePosition(t):this._getClockwiseLinePosition(t),this.labelValue=t,this.location={lineChangePosition:e+f,lineStaticPosition:i+u},this.style={angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,fillStyle:n.textColor?n.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.textColor):this.Model.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.labelColor),opacity:isNaN(n.opacity)?1:n.opacity,font:this._getFontString(this,n.font),textValue:this.labelValue},this.Model.drawLabels&&this._onDrawLabels(this.Model.orientation=="Vertical"?n.angle:n.angle+270),this._drawLabel(this.location,this.style,!1));this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawLabel:function(n,i,r){if(this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.textBaseline="middle",this.contextEl.fillStyle=i.fillStyle,this.contextEl.font=i.font,i.opacity&&(this.contextEl.globalAlpha=i.opacity),this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].direction=="clockwise"?this.contextEl.rotate(Math.PI*(i.angle/180)):this.contextEl.rotate(-(Math.PI*(i.angle/180))),!t.isNullOrUndefined(r)&&!r){var u=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitTextPlacement;t.isNullOrUndefined(u)||u.toString()!="back"?t.isNullOrUndefined(u)||u.toString()!="front"||(i.textValue=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText+i.textValue):i.textValue=i.textValue+this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText}this.contextEl.fillText(i.textValue,0,0);this.contextEl.fill();this.contextEl.restore()},_drawScaleBarPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value;n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var i,e,r,u,f,s,t,o;o=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];e=this.scaleEl[this.scaleIndex].type=="roundedrectangle"?5:0;this.scaleEl[this.scaleIndex].direction=="clockwise"?(lineYPosition=this._getClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.width,this.scaleStartY[this.scaleIndex])):(t=this.scaleStartX[this.scaleIndex],i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+n.width/2))):(lineYPosition=this._getCounterClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-lineYPosition,t+n.width,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-lineYPosition)):(t=this.scaleEl[this.scaleIndex].type=="thermometer"?lineYPosition-this.scaleEl[this.scaleIndex].width/2-this.scaleEl[this.scaleIndex].border.width/2:lineYPosition-this.scaleEl[this.scaleIndex].border.width/2,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+n.width/2)));n.backgroundColor?s=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.gradients?this._setGradientColor(this,i,n.gradients.ColorInfo):this.Model.ScaleInterior?this._setGradientColor(this,i,this.Model.ScaleInterior.ColorInfo):this._setGradientColor(this,i,o);this.Model.orientation=="Vertical"?(f=this.scaleEl[this.scaleIndex].direction=="clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].border.width/2:lineYPosition,this.scaleEl[this.scaleIndex].direction=="counterclockwise"&&this.scaleEl[this.scaleIndex].type=="thermometer"&&(f=f-this.scaleEl[this.scaleIndex].width/2),r=this.scaleEl[this.scaleIndex].direction=="clockwise"?lineYPosition-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-lineYPosition-this.scaleEl[this.scaleIndex].border.width/2,u=n.width):(f=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,r=n.width,u=this.scaleEl[this.scaleIndex].direction=="clockwise"?lineYPosition-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-lineYPosition);this.location={startX:t+this.scaleEl[this.scaleIndex].border.width/2,startY:f};this.style={width:this.scaleEl[this.scaleIndex].type=="thermometer"&&this.Model.orientation=="Horizontal"?u+r/2-this.scaleEl[this.scaleIndex].border.width/2:u,lineWidth:n.border.width,radius:e,topRounded:n.value==this.scaleEl[this.scaleIndex].maximum?!0:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].type=="thermometer"&&this.Model.orientation=="Vertical"?r+u/2:r,strokeStyle:n.border.color==null?this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor):n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color),fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):i=="transparent"?"rgba(0,0,0,0)":this._getColor(n,i),opacity:isNaN(n.opacity)?.4:n.opacity};this.value(n.value);this.Model.drawBarPointers&&this._onDrawBarPointers(n.value);this._drawFrame(this.scaleEl[this.scaleIndex].type,this.location,this.style);this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value;n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var t,u,e,f,i,r,o,s=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];this.markerPlacement=n.placement;e=Math.sqrt(n.width*n.width+n.length*n.length)/2;this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isModify&&this._modifyWidth();this.Model.orientation=="Vertical"?(this.markerPlacement=="far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,i=0),this.markerPlacement=="near"&&(t=n.type=="star"?this.scaleStartX[this.scaleIndex]+n.distanceFromScale-n.width:this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="center"&&(t=n.type=="circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale+n.border.width:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,i=0)):(this.markerPlacement=="far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,i=90),this.markerPlacement=="near"&&(t=n.type=="star"?this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale-n.length:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,i=270),this.markerPlacement=="center"&&(t=n.type=="circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.length/2+n.distanceFromScale+n.border.width:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.length/2+n.distanceFromScale,i=90));f=this.scaleEl[this.scaleIndex].direction=="clockwise"?this._getClockwiseLinePosition(n.value):this._getCounterClockwiseLinePosition(n.value);n.type=="star"?this.Model.orientation=="Vertical"?(r=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.width,this.scaleStartY[this.scaleIndex]),u=f-n.length/3):(r=this.contextEl.createLinearGradient(f,t,f,t+n.length),u=f-n.width/2):(r=this.contextEl.createLinearGradient(0,0,n.width,0),u=f);n.type=="roundedrectangle"&&(this.Model.orientation=="Vertical"&&this.markerPlacement=="near"?u+=n.length:this.Model.orientation=="Horizontal"&&(this.markerPlacement=="near"&&(u-=n.width),t+=n.width/2));n.backgroundColor?o=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.gradients?this._setGradientColor(this,r,n.gradients.ColorInfo):this.Model.PointerInterior?this._setGradientColor(this,r,this.Model.PointerInterior.ColorInfo):this._setGradientColor(this,r,s);this.location={startX:this.Model.orientation=="Vertical"?t:u,startY:this.Model.orientation=="Vertical"?u:t};this.style={width:n.width,radius:n.type=="rectangle"?0:e,height:n.length,lineWidth:n.border.width,isFill:!0,isStroke:!0,angle:i,strokeStyle:n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color),markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):r=="transparent"?"rgba(0,0,0,0)":this._getColor(n,r)};this.value(n.value);this.Model.drawMarkerPointers&&this._onDrawMarkerPointers(i,n.value);n.type=="roundedrectangle"&&(this.style.radius=5);this._drawMarkerType(n.type,this.location,this.style);this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1);this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerType:function(n,t,i){switch(n){case"rectangle":this._drawRectangle(t,i,this);break;case"triangle":this._drawTriangle(t,i,this);break;case"ellipse":this._drawEllipse(t,i,this);break;case"diamond":this._drawDiamond(t,i,this);break;case"pentagon":this._drawPentagon(t,i,this);break;case"circle":this._drawCircle(t,i,this);break;case"slider":this._drawSlider(t,i,this);break;case"star":this._drawStar(t,i,this);break;case"pointer":this._drawPointer(t,i,this);break;case"wedge":this._drawWedge(t,i,this);break;case"trapezoid":this._drawTrapezoid(t,i,this);break;case"roundedrectangle":this._drawRoundedRectangle(t,i,this)}},_drawRange:function(n){n.startValue=n.startValue<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.startValue;n.endValue=n.endValue>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.endValue;this.rangePosition=n.placement;var u,t,f,r,i,e,o=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];u=this.scaleEl[this.scaleIndex].direction=="clockwise"?this._getClockwiseLinePosition(n.startValue):this._getCounterClockwiseLinePosition(n.startValue);t=this.scaleEl[this.scaleIndex].direction=="clockwise"?this._getClockwiseLinePosition(n.endValue):this._getCounterClockwiseLinePosition(n.endValue);this.Model.orientation=="Vertical"?(n.placement=="far"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width),n.placement=="near"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale),n.placement=="center"&&(f=n.startWidth>n.endWidth?this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.startWidth/2:this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.endWidth/2),i=this.contextEl.createLinearGradient(t,t,t,u),this.location={startX:f,startY:u,endY:t}):(n.placement=="far"&&(r=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+n.distanceFromScale+this.scaleEl[this.scaleIndex].border.width),n.placement=="near"&&(r=this.scaleStartY[this.scaleIndex]+n.distanceFromScale),n.placement=="center"&&(r=n.startWidth>n.endWidth?this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.startWidth/2:this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.endWidth/2),i=this.contextEl.createLinearGradient(t,r,u,r),this.location={startX:u,startY:r,endX:t});n.backgroundColor?e=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.gradients?this._setGradientColor(this,i,n.gradients.ColorInfo):this.Model.RangeInterior?this._setGradientColor(this,i,this.Model.RangeInterior.ColorInfo):this._setGradientColor(this,i,o);this.style={startWidth:n.startWidth,lineWidth:n.border.width,isStroke:!0,isFill:!0,opacity:isNaN(n.opacity)?.4:n.opacity,endWidth:n.endWidth,fillStyle:n.backgroundColor?e=="transparent"?"rgba(0,0,0,0)":this._getColor(n,e):i=="transparent"?"rgba(0,0,0,0)":this._getColor(n,i),strokeStyle:n.border.color?n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color):this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor)};this.Model.drawRange&&this._onDrawRange();this._drawRangeBar(this.location,this.style);this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRangeBar:function(n,t){this._contextOpenPath(t,this);this.Model.orientation=="Vertical"?(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.startX,n.endY),this.rangePosition=="near"?(this.contextEl.lineTo(n.startX-t.endWidth,n.endY),this.contextEl.lineTo(n.startX-t.startWidth,n.startY)):(this.contextEl.lineTo(n.startX+t.endWidth,n.endY),this.contextEl.lineTo(n.startX+t.startWidth,n.startY))):(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.endX,n.startY),this.rangePosition=="near"?(this.contextEl.lineTo(n.endX,n.startY-t.endWidth),this.contextEl.lineTo(n.startX,n.startY-t.startWidth)):(this.contextEl.lineTo(n.endX,n.startY+t.endWidth),this.contextEl.lineTo(n.startX,n.startY+t.startWidth)));this._contextClosePath(t,this)},_setCustomLabelCordinates:function(n,t){var i,r;this.contextEl.textAlign="center";this.Model.orientation=="Vertical"?(i=this.bounds.width*(t.position.x/100),r=this.bounds.height*(t.position.y/100)):(i=this.bounds.width*(t.position.x/100),r=this.bounds.height*(t.position.y/100));this.location={lineStaticPosition:this.Model.orientation=="Vertical"?i:r,lineChangePosition:this.Model.orientation=="Vertical"?r:i};this.style={angle:t.textAngle,textValue:t.value,fillStyle:t.color?t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color):this.Model.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,this.Model.labelColor),font:t.font};this.Model.drawCustomLabel&&this._onDrawCustomLabel();this._drawLabel(this.location,this.style,!0);this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawIndicator:function(i,r){var u=this,f,e,o,s=!1;f=(this.bounds.width-2*r.width)*(r.position.x/100);e=(this.bounds.height-2*r.height)*(r.position.y/100);o={x:this.bounds.width*(r.textLocation.x/100),y:this.bounds.height*(r.textLocation.y/100)};u.location={startX:r.type=="circle"?f+r.width:f,textLocation:o,startY:r.type=="circle"?e+r.height:e,startAngle:0,endAngle:2*Math.PI};u.style={radius:r.type=="roundedrectangle"?2:0,strokeStyle:r.border.color?r.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(r,r.border.color):this._getColor(r,"#FFFFFF"),angle:0,circleRadius:(r.height+r.width)/2,height:r.height,width:r.width,lineWidth:r.border.width,fillStyle:r.backgroundColor?r.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(r,r.backgroundColor):this._getColor(r,"#FFFFFF"),isStroke:!0,isFill:!0,indicatorText:null,textColor:null,font:null,counterClockwise:!1};this.Model.drawIndicators&&this._onDrawIndicators(u.style,u.location);r.stateRanges!=null&&n.each(r.stateRanges,function(n,i){u.markerPointerEl[u.markerPointerIndex].value>=i.startValue&&u.markerPointerEl[u.markerPointerIndex].value<=i.endValue&&(s=!0,!t.isNullOrUndefined(i.text)&&i.text.length>0&&(u.style.indicatorText=i.text,u.style.textColor=i.textColor=="transparent"?"rgba(0,0,0,0)":u._getColor(r,i.textColor),u.style.font=u._getFontString(u,r.font)),r.type!="text"?(u.style.strokeStyle=i.borderColor=="transparent"?"rgba(0,0,0,0)":u._getColor(r,i.borderColor),u.style.fillStyle=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":u._getColor(r,i.backgroundColor),u._drawFrame(r.type,u.location,u.style,u)):r.type=="text"&&u._drawText(u.location,u.style))});s||r.type=="text"||this._drawFrame(r.type,u.location,u.style,u);this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawFrame:function(n,t,i){switch(n){case"circle":this._drawFrameCircle(t,i,this);break;case"rectangle":this._drawFrameRectangle(t,i,this);break;case"roundedrectangle":this._drawFrameRoundedRectangle(t,i,this);break;case"thermometer":this._drawFrameThermometer(t,i,this)}},_drawText:function(n,t){this.contextEl.beginPath();this.contextEl.textAlign="center";this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor;this.contextEl.font=t.font;this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y);this.contextEl.closePath()},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(t.width,t.height/4);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(t.width/2,t.height/4);this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(3*t.width/4,0);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width/4,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(t.width/4,t.height/2);this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i);i.Model.orientation=="Horizontal"&&i.markerPlacement=="near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY));this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width/3,-t.height/2);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width,t.height/4);i.contextEl.lineTo(t.width/3,t.height/2);this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(0,0);this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(0,-t.height/4);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/4);this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.moveTo(0,0);i.contextEl.lineTo(0,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/2);this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY-t.height/2);this._setContextRotation(t,i);i.contextEl.moveTo(t.radius,0);i.contextEl.lineTo(t.width-t.radius,0);i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius);i.contextEl.lineTo(t.width,t.height-t.radius);i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height);i.contextEl.lineTo(t.radius,t.height);i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius);i.contextEl.lineTo(0,t.radius);i.contextEl.quadraticCurveTo(0,0,t.radius,0);this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.Model.width,t.Model.height);t.Model.scales!=null&&t._drawScales();t.Model.Items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.scale(2,1);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getMarkerPointerImage()},_getBarPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getMarkerPointerImage:function(){return this.barPointerImage?this.barPointerImage:this._getCustomLabelImage()},_getCustomLabelImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.initialize())},setPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(i<=this.scaleEl[n].maximum&&i>=this.scaleEl[n].minimum&&(this.scaleEl[n].markerPointers[t].value=i),this.contextEl.putImageData?(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers(),this._setIndicators()):this.initialize())},getPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].value},setPointerWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].width=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].width},setPointerHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].length=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].length},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},setPointerDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].distanceFromScale},setPointerPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].placement=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].MarkerPointer[t].placement},setMarkerStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].type=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getMarkerStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].markerStyle},setBarPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(i<=this.scaleEl[n].maximum&&i>=this.scaleEl[n].minimum&&(this.scaleEl[n].barPointers[t].value=i),this.contextEl.putImageData?this._reDrawBarPointer():this.initialize())},getBarPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].barPointers[t].value},setBarWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].width=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].width},setBarDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].distanceFromScale},setCustomLabelValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].value=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length)return this.scaleEl[n].customLabels[t].value},setCustomLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].textAngle=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length)return this.scaleEl[n].customLabels[t].textAngle},setRangeStartValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeStartWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startWidth},setRangeEndWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endWidth},setRangeDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].placement=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangePosition:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].placement},setRangeBorderWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].border.width=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeBorderWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].border.width},setLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].barPointers.length&&r!=null&&(this.scaleEl[t].labels[i].type=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelStyle:function(n,t){if(n<this.Model.scales.length&&pointerIndex<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].type},setLabelPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].placement=n.inArray(r,this.Model.labelPlacement),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].placement},setLabelXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale.x=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].distanceFromScale.x},setLabelYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale.y=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].distanceFromScale.y},setTickAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].width=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].width},setTickHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].height=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].height},setTickStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].type=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].type},setTickPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].placement=n.inArray(r,this.Model.tickPlacement),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].placement},setTickXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale.x=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].distanceFromScale.x},setTickYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale.y=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].distanceFromScale.y},setScaleLocation:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].position.x=t.x,this.scaleEl[n].position.y=t.y,this.initialize())},getScaleLocation:function(n){if(n<this.Model.scales.length)return{x:this.scaleEl[n].position.x,y:this.scaleEl[n].position.y}},setMaximumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(t>this.scaleEl[n].minimum&&(this.scaleEl[n].maximum=t),this.initialize())},getMaximumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].maximum},setMinimumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(t<this.scaleEl[n].maximum&&(this.scaleEl[n].minimum=t),this.initialize())},getMinimumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].minimum},setScaleBarSize:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].width=t,this.initialize())},getScaleBarSize:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].width},setScaleBarLength:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].length=t,this.initialize())},setScaleStyle:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].type=t,this.initialize())},getScaleStyle:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].type},getScaleBarLength:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].length},setScaleBorderWidth:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].border.width=t,this.initialize())},setScaleDirection:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].direction=t,this.initialize())},getScaleDirection:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].direction},getScaleBorderWidth:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].border.width},setMajorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.initialize())},getMajorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.initialize())},getMinorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].minorIntervalValue},_reDrawBarPointer:function(){this.Model.frame.backgroundImageUrl?this.initialize():this.contextEl.putImageData!="undefined"&&(this.contextEl.putImageData(this._getBarPointerImage(),0,0),this._setBarPointers(),this._setMarkerPointers())},_reDrawMarkerPointer:function(){this.Model.frame.backgroundImageUrl?this.initialize():this.contextEl.putImageData!="undefined"&&(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers())},_reDrawCustomLabel:function(){this.Model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawRange:function(){this.Model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawLabel:function(){this.Model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawTickMark:function(){this.Model.frame.backgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},refresh:function(){this._init()},exportImage:function(n,i){var f,u,r,o;if(t.browserInfo().name==="msie"&&parseFloat(t.browserInfo().version)>9){f=this.canvasEl[0].toDataURL();f=f.replace(/^data:[a-z]*;,/,"");var h=f.split(","),e=atob(h[1]),s=new ArrayBuffer(e.length),c=new Uint8Array(s);for(u=0;u<e.length;u++)c[u]=e.charCodeAt(u);blob=new Blob([s],{type:"image/png"});window.navigator.msSaveOrOpenBlob(blob,n+"."+i)}else r=document.createElement("a"),r.download=n+"."+i,r.href=this.canvasEl[0].toDataURL("image/"+i).replace("image/"+i,"image/octet-stream"),document.createEvent?(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)):r.fireEvent&&r.fireEvent("onclick")},resizeCanvas:function(){var t,r,n,i;if(proxy.element.width()!=initialDivWidth||proxy.element.height()!=initialDivHeight){for(t=proxy.element.width()/initialDivWidth,r=proxy.element.height()/initialDivHeight,proxy.model.width*=t,proxy.model.height*=r,n=0;proxy.model.scales[n]!=null;n++)for(proxy.element.data("ejLinearGauge").model.scales[n].length*=proxy.element.data("ejLinearGauge").model.orientation.toString()=="Vertical"?r:t,i=0;proxy.model.scales[n].markerPointers[i]!=null;i++)proxy.model.scales[n].markerPointers[i].length*=t,proxy.model.scales[n].markerPointers[i].width*=t;proxy.refresh();initialDivWidth=proxy.element.width();initialDivHeight=proxy.element.height()}},_onDrawTicks:function(n,t){var r={index:this.tickIndex,element:this.tickEl[this.tickIndex],angle:parseInt(n),value:t},i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location};this._trigger("drawTicks",i)},_onDrawLabels:function(n){var t={index:this.labelIndex,element:this.labelEl[this.labelIndex],angle:parseInt(n),value:this.labelValue},i={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location,label:t};this._trigger("drawLabels",i)},_onDrawBarPointers:function(n){var t={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,barPointerIndex:this.barPointerIndex,barElement:this.barPointerEl[this.barPointerIndex],context:this.contextEl,style:this.style,position:this.location,pointerValue:n};this._trigger("drawBarPointers",t)},_onDrawMarkerPointers:function(n,t){var i={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,markerPointerIndex:this.markerPointerIndex,markerElement:this.markerPointerEl[this.markerPointerIndex],context:this.contextEl,style:this.style,position:this.location,pointerValue:t,pointerAngle:parseInt(n)};this._trigger("drawMarkerPointers",i)},_onDrawRange:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeIndex],context:this.contextEl,style:this.style,position:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,position:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,position:this.location};this._trigger("drawIndicators",n)},onLoad:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("load",n)},_onInit:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("init",n)},_onRenderComplete:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_onMouseClick:function(n){var i={index:this.markerPointerIndex,element:this.markerPointerEl[this.markerPointerIndex],value:n},t={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location};this._trigger("mouseClick",t)},_onMouseClickMove:function(n){var i={index:this.markerPointerIndex,element:this.markerPointerEl[this.markerPointerIndex],value:n},t={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location};this._trigger("mouseClickMove",t)},_onMouseClickUp:function(n){var i={index:this.markerPointerIndex,element:this.markerPointerEl[this.markerPointerIndex],value:n},t={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.location};this._trigger("mouseClickUp",t)},_restoreWidth:function(){this.scaleEl[this.scaleIndex].length=this.scaleEl[this.scaleIndex].length+this.bottomRadius+this.scaleEl[this.scaleIndex].width;this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction=="clockwise"?this.scaleStartY[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].width/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction=="clockwise"?this.scaleStartX[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].width/2},_modifyWidth:function(){this.scaleEl[this.scaleIndex].length=this.scaleEl[this.scaleIndex].length-this.bottomRadius-this.scaleEl[this.scaleIndex].width;this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction=="clockwise"?this.scaleStartY[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction=="clockwise"?this.scaleStartX[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2},_getClockwiseLinePosition:function(n){var t;return t=(n-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100)},_getCounterClockwiseLinePosition:function(n){var t;return t=this.scaleEl[this.scaleIndex].maximum-n+this.scaleEl[this.scaleIndex].minimum,t=(t-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100)},_getValue:function(n){return tempVal=this.Model.orientation=="Vertical"?(n.y-this.scaleStartY[this.scaleIndex])/this.scaleEl[this.scaleIndex].length*100:(n.x-this.scaleStartX[this.scaleIndex])/this.scaleEl[this.scaleIndex].length*100,value=(tempVal*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)+this.scaleEl[this.scaleIndex].minimum)/100,this.scaleEl[this.scaleIndex].direction=="counterclockwise"&&(value=this.scaleEl[this.scaleIndex].maximum+this.scaleEl[this.scaleIndex].minimum-value),value},_getPointerXPosition:function(n){return this.Model.orientation=="Vertical"?(this.markerPlacement=="far"&&(startX=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,angle=0),this.markerPlacement=="near"&&(startX=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,angle=180),this.markerPlacement=="center"&&(startX=n.type=="circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-radius+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,angle=0)):(this.markerPlacement=="far"&&(startX=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,angle=90),this.markerPlacement=="near"&&(startX=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,angle=270),this.markerPlacement=="center"&&(startX=n.type=="circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-radius+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.length/2+n.distanceFromScale,angle=90)),{startx:startX,angle:angle}},_hexFromRGB:function(t,i,r){var u=[t.toString(16),i.toString(16),r.toString(16)];return n.each(u,function(n,t){t.length===1&&(u[n]="0"+t)}),u.join("").toUpperCase()},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,r),i.addColorStop(1,r)):n.each(r,function(n,t){i.addColorStop(t.ColorStop!=NaN?t.ColorStop:0,typeof t.Color=="string"?t.Color:t.Color)})},_getFontString:function(n,t){return t.fontStyle+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily},_setPointerDimension:function(n,t){if(t.Model.orientation&&t.Model.orientation=="Horizontal"){var i=n.width,r=n.height;n.height=i;n.width=r}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},wireEvents:function(){this.startEv="mousedown";this.moveEv="mousemove";this.endEv="mouseup";this.onMouseDownHandler=n.proxy(this._onMouseDown,this);this.element.bind(this.startEv,this.onMouseDownHandler)},unWireEvents:function(){this.element.unbind(this.startEv,this.onMouseDownHandler)},_blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},_onMouseDown:function(t){var s,r,h,u,f,e,o,i;this._blockDefaultActions(t);s={x:this.centerX,y:this.centerY};r={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frame.outerWidth+this.Model.frame.innerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frame.outerWidth+this.Model.frame.innerWidth)};offsetPoint={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top};h=this._getValue(r);i=this;n.each(this.Model.scales,function(t,s){i.scaleIndex=t;s.markerPointers!=null&&(i.markerPointerEl=s.markerPointers,n.each(s.markerPointers,function(t,s){u=i.scaleEl[i.scaleIndex].direction=="clockwise"?i._getClockwiseLinePosition(s.value):i._getCounterClockwiseLinePosition(s.value);f=u+s.width;e=u-s.width;o=i._getPointerXPosition(s).startx;var h=i._isBetween((i.Model.orientation=="Horizontal"?r.y:r.x)-s.width,(i.Model.orientation=="Horizontal"?r.y:r.x)+s.width,o);(i.Model.orientation=="Horizontal"?i._isBetween(e,f,r.x):i._isBetween(e,f,r.y))&&h&&(i.activeElement=s);i.Model.scales[i.scaleIndex].barPointers[t]!=null&&(i.activeBarElement=i.Model.scales[i.scaleIndex].barPointers[t]);i.model.mouseClick&&i._onMouseClick(s.value);i.onMouseMoveHandler=n.proxy(i._onMouseMove,i);i.onMouseUpHandler=n.proxy(i._onMouseUp,i);n(document).bind(i.moveEv,i.onMouseMoveHandler);n(document).bind(i.endEv,i.onMouseUpHandler)}))})},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_onMouseUp:function(){this.mouseMove=!1;n(document).unbind(self.moveEv,self.onMouseMoveHandler);n(document).unbind(self.endEv,self.onMouseUpHandler);this.model.mouseClickUp&&this._onMouseClickUp(this.activeElement.value)},_onMouseMove:function(t){this._blockDefaultActions(t);startPoint={x:this.centerX,y:this.centerY};endPoint={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frame.outerWidth+this.Model.frame.innerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frame.outerWidth+this.Model.frame.innerWidth)};this.activeElement.value=this._getValue(endPoint);this.model.mouseClickMove&&this._onMouseClickMove(this.activeElement.value);this.activeBarElement&&(this.activeBarElement.value=this._getValue(endPoint));this.contextEl.putImageData?this._reDrawBarPointer():this._init()},_setTheme:function(){selectedTheme=t.datavisualization.LinearGauge.Themes[this.model.theme];this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var e=[],o=t.datavisualization.LinearGauge.Themes,s,r,i,u,f;for(s in o)e.push(s);for(r=0;r<e.length;r++)for(this.model.backgroundColor=!this.model.backgroundColor||this.model.backgroundColor==o[e[r]].scales.backgroundColor?n.scales.backgroundColor:this.model.backgroundColor,this.model.borderColor=!this.model.borderColor||this.model.borderColor==o[e[r]].scales.border.color?n.scales.border.color:this.model.borderColor,this.model.labelColor=!this.model.labelColor||this.model.labelColor==o[e[r]].scales.labels.labelColor?n.scales.labels.labelColor:this.model.labelColor,this.model.tickColor=!this.model.tickColor||this.model.tickColor==o[e[r]].scales.ticks.color?n.scales.ticks.color:this.model.tickColor,i=0;i<this.model.scales.length;i++){for(u=0;u<this.model.scales[i].markerPointers.length;u++)this.model.scales[i].markerPointers[u].backgroundColor=!this.model.scales[i].markerPointers[u].backgroundColor||this.model.scales[i].markerPointers[u].backgroundColor==o[e[r]].scales.markerPointers.backgroundColor?n.scales.markerPointers.backgroundColor:this.model.scales[i].markerPointers[u].backgroundColor,this.model.scales[i].markerPointers[u].border.color=!this.model.scales[i].markerPointers[u].border.color||this.model.scales[i].markerPointers[u].border.color==o[e[r]].scales.markerPointers.border.color?n.scales.markerPointers.border.color:this.model.scales[i].markerPointers[u].border.color;for(f=0;f<this.model.scales[i].barPointers.length;f++)this.model.scales[i].barPointers[f].backgroundColor=!this.model.scales[i].barPointers[f].backgroundColor||this.model.scales[i].barPointers[f].backgroundColor==o[e[r]].scales.barPointers.backgroundColor?n.scales.barPointers.backgroundColor:this.model.scales[i].barPointers[f].backgroundColor,this.model.scales[i].barPointers[f].border.color=!this.model.scales[i].barPointers[f].border.color||this.model.scales[i].barPointers[f].border.color==o[e[r]].scales.barPointers.border.color?n.scales.barPointers.border.color:this.model.scales[i].barPointers[f].border.color}}});t.datavisualization.LinearGauge.TickType={MajorInterval:"majorinterval",MinorInterval:"minorinterval"};t.datavisualization.LinearGauge.LabelType={Major:"major",Minor:"minor"};t.datavisualization.LinearGauge.FontStyle={Bold:"bold",Italic:"italic",Regular:"regular",Strikeout:"strikeout",Underline:"underline"};t.datavisualization.LinearGauge.PointerPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.TickPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.LabelPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.RangePlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.UnitTextPlacement={Front:"front",Back:"back"};t.datavisualization.LinearGauge.Directions={Clockwise:"clockwise",CounterClockwise:"counterclockwise"};t.datavisualization.LinearGauge.ScaleType={Rectangle:"rectangle",RoundedRectangle:"roundedrectangle",Thermometer:"thermometer"};t.datavisualization.LinearGauge.IndicatorType={Rectangle:"rectangle",Circle:"circle",RoundedRectangle:"roundedrectangle",Text:"text"};t.datavisualization.LinearGauge.MarkerType={Rectangle:"rectangle",Triangle:"triangle",Ellipse:"ellipse",Diamond:"diamond",Pentagon:"pentagon",Circle:"circle",Star:"star",Slider:"slider",Pointer:"pointer",Wedge:"wedge",Trapezoid:"trapezoid",RoundedRectangle:"roundedrectangle"};t.datavisualization.LinearGauge.Themes={flatlight:{scales:{backgroundColor:"#FFFFFF",border:{color:"#1d1e1e"},barPointers:{backgroundColor:"#8abc3b",border:{color:"#8abc3b"}},markerPointers:{backgroundColor:"#212121",border:{color:"#212121"}},ticks:{color:"#1d1e1e"},labels:{labelColor:"#222222"}}},flatdark:{scales:{backgroundColor:"#808080",border:{color:"#808080"},barPointers:{backgroundColor:"#8abc3b",border:{color:"#8abc3b"}},markerPointers:{backgroundColor:"#CCCCCC",border:{color:"#CCCCCC"}},ticks:{color:"#808080"},labels:{labelColor:"#CCCCCC"}}}}}(jQuery,Syncfusion),function(n,t,i){t.widget({ejDigitalGauge:"ej.datavisualization.DigitalGauge"},{element:null,model:null,validTags:["div","span"],_rootCSS:"e-digitalgauge",defaults:{segmentData:{"0":[0,1,2,3,4,5,14,15],"1":[1,2],"2":[0,14,1,6,8,4,3,15],"3":[0,1,2,3,6,8,14,15],"4":[1,2,5,6,8],"5":[0,2,3,5,6,8,14,15],"6":[0,2,3,4,5,6,8,14,15],"7":[0,1,2,14],"8":[0,1,2,3,4,5,6,8,14,15],"9":[0,1,2,3,5,6,8,14,15],A:[0,1,2,4,5,6,8,14],B:[0,1,2,3,7,9,8,14,15],C:[0,3,4,5,14,15],D:[0,1,2,3,7,9,14,15],E:[0,3,4,5,6,8,14,15],F:[0,4,5,6,8,14],G:[0,2,3,4,5,8,14,15],H:[1,2,4,5,6,8],I:[0,3,7,9,14,15],J:[1,2,3,4,15],K:[4,5,6,10,11],L:[3,4,5,15],M:[1,2,4,5,10,13],N:[1,2,4,5,11,13],O:[0,1,2,3,4,5,14,15],P:[0,1,4,5,6,8,14],Q:[0,1,2,3,4,5,11,14,15],R:[0,1,4,5,6,8,11,14],S:[0,2,3,5,6,8,14,15],T:[0,7,9,14],U:[1,2,3,4,5,15],V:[4,5,10,12],W:[1,2,4,5,11,12],X:[10,11,12,13],Y:[1,5,6,7,8],Z:[0,3,10,12,14,15]},matrixSegmentData:{"1":[0,3,0,4,1,1,1,2,1,3,1,4,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,1,6,2,6,3,6,4,6,5,6,6],"2":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,4,3,5,4,3,4,2,5,2,5,1,6,1,6,2,6,3,6,4,6,5,6,6],"3":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5],"4":[0,3,0,4,0,5,1,2,1,3,1,4,1,5,2,1,2,2,2,4,2,5,3,0,3,1,3,4,3,5,4,0,4,1,4,2,4,3,4,4,4,5,4,6,5,4,5,5,6,4,6,5],"5":[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],"6":[0,3,0,4,0,5,0,6,1,2,1,3,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,2,5,3,5,6,5,7,6,3,6,4,6,5,6,6],"7":[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],"8":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],"9":[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,2,6,3,6,4,6,4,6,5],"0":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],a:[0,2,0,3,0,4,0,5,0,6,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],b:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],c:[1,3,1,4,1,5,1,6,2,2,2,3,3,1,3,2,4,1,4,2,5,2,5,3,6,3,6,4,6,5,6,6],d:[0,6,0,7,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,5,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],e:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,2,6,3,6,4,6,5,6,6,6,7],f:[0,4,0,5,0,6,0,7,1,3,1,4,2,3,2,4,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,3,4,4,5,3,5,4,6,3,6,4],g:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,6,4,7,5,6,5,7,6,2,6,3,6,4,6,5,6,6],h:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],i:[0,3,0,4,2,1,2,2,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,3,6,4],j:[1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],k:[0,1,0,2,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,1,6,2,6,6,6,7],l:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,5,4,6,5,5,5,6,6,5,6,6],m:[0,1,0,2,0,3,0,4,0,5,0,6,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,3,5,4,5,6,5,7,6,0,6,1,6,3,6,4,6,6,6,7],n:[1,1,1,2,1,3,1,4,1,5,1,6,2,0,2,1,2,2,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,0,5,1,5,6,5,7,6,0,6,1,6,6,6,7],o:[1,2,1,3,1,4,1,5,2,1,2,2,2,5,2,6,3,1,3,2,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],p:[1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,3,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,6,1,6,2],q:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,5,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,2,4,3,4,4,4,5,4,6,4,7,5,6,5,7,6,6,6,7],r:[0,1,0,3,0,4,0,5,1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,6,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2],s:[1,2,1,3,1,4,1,5,2,1,2,2,3,1,3,2,4,3,4,4,5,4,5,5,6,1,6,2,6,3,6,4],t:[0,3,0,4,1,3,1,4,2,1,2,2,2,3,2,4,2,5,2,6,3,3,3,4,4,3,4,4,5,3,5,4,6,4,6,5,6,6,6,7],u:[1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,5,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],v:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,2,3,3,3,5,3,6,4,3,4,4,4,5,5,4,5,5,6,4],w:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,2,5,3,5,4,5,5,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],x:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,3,3,4,3,5,4,3,4,4,4,5,5,2,5,3,5,5,5,6,6,1,6,2,6,6,6,7],y:[1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],z:[1,2,1,3,1,4,1,5,1,6,1,7,2,6,2,7,3,5,3,6,4,4,4,5,5,3,5,4,6,2,6,3,6,4,6,5,6,6,6,7],A:[0,3,0,4,1,2,1,3,1,4,1,5,2,2,2,3,2,4,2,5,3,1,3,2,3,5,3,6,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],B:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],C:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,4,0,4,1,5,1,5,2,6,2,6,3,6,4,6,5,6,6],D:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],E:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],F:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],G:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,3,4,3,5,3,6,4,0,4,1,4,6,5,1,5,2,5,6,6,2,6,3,6,4,6,5,6,6],H:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],I:[0,2,0,3,0,4,0,5,0,6,1,4,2,4,3,4,4,4,5,4,6,1,6,2,6,3,6,4,6,5,6,6,6,7],J:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],K:[0,1,0,2,0,5,0,6,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,5,1,5,2,5,4,5,5,6,1,6,2,6,5,6,6],L:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],M:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,5,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],N:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],O:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],P:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],Q:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,4,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5,6,6,6,7],R:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,5,5,1,5,5,6,2,6,1,6,2,6,6],S:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,2,3,3,3,4,3,5,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],T:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,4,2,4,3,4,4,4,5,4],U:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],V:[0,0,0,1,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,5,3,6,4,3,4,4,4,5,4,6,5,4,5,5,6,4],W:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,4,4,6,4,7,5,1,5,2,5,3,5,5,5,6,5,7,6,1,6,2,6,6,6,7],X:[0,0,0,1,0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],Y:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,3,5,4,6,3,6,4],Z:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,2,4,3,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6,6,7],",":[5,3,5,4,5,5,6,4,6,5,7,3,7,4],":":[1,3,1,4,1,5,2,3,2,4,2,5,4,3,4,4,4,5,5,3,5,4,5,5],"%":[0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,3,3,3,4,4,2,4,3,5,1,5,2,5,4,5,5,6,0,6,1,6,4,6,5],"!":[0,3,0,4,0,5,1,3,1,4,1,5,2,3,2,4,2,5,3,3,3,4,3,5,4,3,4,4,4,5,5,3,5,4,5,5,7,4],"(":[0,2,0,3,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,7,2,7,3],")":[0,5,0,6,1,6,1,7,2,6,2,7,3,6,3,7,4,6,4,7,5,6,5,7,6,6,6,7,7,5,7,6],".":[5,3,5,4,5,5,6,3,6,4,6,5,7,3,7,4,7,5]},frame:{backgroundImageUrl:null,innerWidth:6,outerWidth:10},height:150,width:400,enableResize:!1,themes:"flatlight",items:null,init:null,load:null,renderComplete:null,itemRendering:null,value:"text"},dataTypes:{segmentData:"data",matrixSegmentData:"data",items:"array"},_setValues:function(){this.gaugeEl=this.element;this.segmentCount=null;this.contextEl=null;this.style=null;this._value=null;this.location=null;this.canvasEl=null;this.segement16X=null;this.segment16Y=null;this.segmentHeight=null;this.segmentAngle=null;this.startX=5;this.startY=5;this.gradient=null;this.itemIndex=null;this.characterSpace=null;this.outerImage=null;this.radius=null;this.frameOuterLocation=null;this.frameInnerLocation=null;this.glassFrameLocation=null;this.glassFrameStyle=null;this.frameOuterStyle=null;this.character=null;this.frameInnerStyle=null;this._itemInitialize()},observables:["value"],value:t.util.valueFunction("value"),_destroy:function(){this.element.empty().removeClass("e-widget")},_setModel:function(t){var i,r;for(i in t)switch(i){case"height":this.model.height=t[i];break;case"width":this.model.width=t[i];break;case"items":this.model.items=t[i];this._itemInitialize();break;case"frame":n.extend(this.model.frame,t[prop]);case"themes":this.model.themes=t[i];break;case"value":for(r=0;this.model.items[r]!=null;r++)this.model.items[r].value=this.value()}this.refresh()},_init:function(){this._setValues();this._trigger("load");this._setTheme();this._initialize();this._onWindowResize()},_onWindowResize:function(){this.model.enableResize&&(proxy=this,this.isDevice()?this._on(n(window),"orientationchange",proxy.resizeCanvas):this._on(n(window),"resize",proxy.resizeCanvas))},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_setTheme:function(){selectedThem=t.datavisualization.DigitalGauge.Themes[this.model.themes];this._setThemeColors(selectedThem)},_setThemeColors:function(n){var u=[],f=t.datavisualization.DigitalGauge.Themes,e,r,i;for(e in f)u.push(e);for(r=0;r<u.length;r++)for(i=0;i<this.model.items.length;i++)this.model.items[i].segmentSettings.color=t.isNullOrUndefined(this.model.items[i].segmentSettings.color)||this.model.items[i].segmentSettings.color==f[u[r]].items.segmentSettings.color?n.items.segmentSettings.color:this.model.items[i].segmentSettings.color,this.model.items[i].shadowColor=!this.model.items[i].shadowColor||this.model.items[i].shadowColor==f[u[r]].items.shadowColor?n.items.shadowColor:this.model.items[i].shadowColor,this.model.items[i].textColor=!this.model.items[i].textColor||this.model.items[i].textColor==f[u[r]].items.textColor?n.items.textColor:this.model.items[i].textColor},_initialize:function(){this.model.init&&this._clientSideOnInit();this._initObject(this);this.model.load&&this._clientSideOnLoad();this.model.frame.backgroundImageUrl!=null?this._drawCustomImage(this,this.model.frame.backgroundImageUrl):this._renderItems();this.model.renderComplete&&this._clientSideOnRenderComplete()},_itemInitialize:function(){var t=this;this.model.items!=null?n.each(this.model.items,function(i,r){var u=t._sendDefaultItem();n.extend(!0,u,r);n.extend(!0,r,u)}):this.model.items=[this._sendDefaultItem()]},_sendDefaultItem:function(){return{characterSettings:{count:4,opacity:1,spacing:2,type:t.datavisualization.DigitalGauge.CharacterType.EightCrossEightDotMatrix},enableCustomFont:!1,segmentSettings:{color:null,gradient:null,length:2,opacity:0,spacing:1,width:1},shadowBlur:0,shadowOffsetX:1,shadowOffsetY:1,textAlign:"left",font:{size:"11px",fontFamily:"Arial",fontStyle:"italic"},position:{x:0,y:0},shadowColor:null,textColor:null,value:null}},_initObject:function(t){var i,r;for(this.element.addClass("e-widget"),t.gaugeEl=this.element,i=0;this.model.items[i]!=null;i++)this.model.items[i].value==null&&(this.model.items[i].value=this.value());(t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.gaugeEl.append(t.canvasEl),t.canvasEl.attr("role","presentation"),initialDivWidth=t.gaugeEl.width(),initialDivHeight=t.gaugeEl.height(),t.canvasEl[0].setAttribute("width",t.model.width),t.canvasEl[0].setAttribute("height",t.model.height),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,r=t.canvasEl[0],typeof G_vmlCanvasManager!="undefined"&&(r=window.G_vmlCanvasManager.initElement(r)),r&&r.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.model.width,t.model.height);t.model.Scales!=null&&t._drawScales();t.model.items!=null&&t._renderItems()}).attr("src",i)},_setSegmentCount:function(n){switch(n){case"sevensegment":this._SegmentCount=7;break;case"fourteensegment":this._SegmentCount=14;break;case"sixteensegment":this._SegmentCount=16;break;case"eightcrosseightdotmatrix":this._SegmentCount=[8,8];break;case"eightcrosseightsquarematrix":this._SegmentCount=[8,8];break;default:this._SegmentCount=7}},_setInnerPosition:function(){this.contextEl.save();this.contextEl.translate(this.model.frame.outerWidth+this.model.frame.innerWidth,this.model.frame.outerWidth+this.model.frame.innerWidth);this.bounds={height:this.canvasEl[0].height-2*(this.model.frame.outerWidth+this.model.frame.innerWidth),width:this.canvasEl[0].width-2*(this.model.frame.outerWidth+this.model.frame.innerWidth)}},_setWidth:function(){var t=[],i;this.model.items!=null&&(i=this,n.each(this.model.items,function(n,i){t.push(i.characterSettings.count)}))},_renderItems:function(){if(this.model.items!=null){this._setInnerPosition();var t=this;n.each(this.model.items,function(n,i){t._setSegmentCount(i.characterSettings.type);t.itemIndex=n;t.canvasEl.attr("aria-label",i.value);t._setShadow(n,i);i.enableCustomFont?t._setCustomFont(n,i):i.characterSettings.type.indexOf("matrix")!=-1?t._drawMatrixSegments(n,i):t._drawSegments(n,i)})}},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.colorStop!=NaN?r.colorStop:0,typeof r.color=="string"?r.color:this._getColor(t,r.color))})},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.R+", "+t.G+","+t.B+", "+t.A/255+")"},_drawMatrixSegments:function(t,i){var o=[],u=[],s,h,f,r,e;for(i.value?(this._value=i.value.toString().split(""),i.characterSettings.count<this._value.length&&(i.characterSettings.count=this._value.length)):this._value="",this.radius=i.characterSettings.type.indexOf("dot")!=-1?(i.segmentSettings.length+i.segmentSettings.width)/2:i.segmentSettings.width/2,s=this.startX=(this.bounds.width-i.characterSettings.count*(this._SegmentCount[0]*2*this.radius+i.characterSettings.spacing+this._SegmentCount[0]*i.segmentSettings.spacing))*(i.position.x/100),h=this.startY=(this.bounds.height-(this._SegmentCount[1]*(i.characterSettings.type.indexOf("dot")!=-1?2*this.radius:i.segmentSettings.length)+this._SegmentCount[1]*i.segmentSettings.spacing))*(i.position.y/100),f=0;f<i.characterSettings.count;f++)for(this._value&&(this.character=i.textAlign=="right"?this._value[this._value.length-i.characterSettings.count+f]:this._value[f],u=this.model.matrixSegmentData[this.character]),f!=0&&(s=this.startX=this.startX+i.characterSettings.spacing+i.segmentSettings.spacing+2*this.radius,this.startY=h),r=0;r<this._SegmentCount[1];r++){for(r!=0&&(this.startY=(i.characterSettings.type.indexOf("dot")!=-1?2*this.radius:i.segmentSettings.length)+this.startY+i.segmentSettings.spacing,this.startX=s),u&&n.each(u,function(n){if(n%2==0){if(u[n]>r)return!1;u[n]==r&&o.push(parseInt(u[n+1]))}}),e=0;e<this._SegmentCount[0];e++)e!=0&&(this.startX=this.startX+2*this.radius+i.segmentSettings.spacing),this.gradient=i.characterSettings.type.indexOf("dot")!=-1?this.contextEl.createRadialGradient(0,0,0,0,0,this.radius):this.contextEl.createLinearGradient(0,0,i.segmentSettings.width,0),i.segmentSettings.gradient&&this._setGradientColor(this,this.gradient,i.segmentSettings.gradient.colorInfo),this.location={startX:this.startX,startY:this.startY},this.style={opacity:o&&n.inArray(e,o)!=-1?i.characterSettings.opacity:i.segmentSettings.opacity,height:i.segmentSettings.length,width:i.segmentSettings.width,fillStyle:i.segmentSettings.color=="transparent"?"rgba(0,0,0,0)":this._getColor(this,i.segmentSettings.color),skewX:i.SkewAngleX,skewY:i.SkewAngleX},this.model.itemRendering&&this._clientSideOnItemRendering(!0,e,r),i.characterSettings.type.indexOf("dot")!=-1?this._drawDot(this.location,this.style):this._drawSquare(this.location,this.style);o=[]}},_drawSegments:function(t,i){var f=[],e=this,u,r;for(i.value&&(this._value=i.value.toUpperCase().toString().split(""),i.characterSettings.count<this._value.length&&(i.characterSettings.count=this._value.length)),this.characterSpace=i.characterSettings.type=="sevensegment"?2*i.segmentSettings.width:4*i.segmentSettings.width,this._renderSegmentCalculation(i),this.gradient=this.contextEl.createLinearGradient(0,0,0,i.segmentSettings.width),i.segmentSettings.color?this._setGradientColor(this,this.gradient,i.segmentSettings.color):i.segmentSettings.gradient&&this._setGradientColor(this,this.gradient,i.segmentSettings.gradient.colorInfo),u=0;u<i.characterSettings.count;u++){for(i.value&&(f=this.model.segmentData[i.textAlign=="right"?this._value[this._value.length-i.characterSettings.count+u]:this._value[u]]),r=0;r<this._SegmentCount;r++)u!=0&&(this.segment16X[r]=this.segment16X[r]+i.segmentSettings.length+this.characterSpace+i.characterSettings.spacing),this._value&&(this.character=i.textAlign=="right"?this._value[this._value.length-i.characterSettings.count+u]:this._value[u]),this.location={startX:this.segment16X[r],startY:this.segment16Y[r]},this.style={angle:this.angle[r],fillStyle:this.gradient,isStroke:!1,isFill:!0,characterHeight:i.characterSettings.type=="sevensegment"?i.segmentSettings.length:this.segmentHeight[r],segmentWidth:i.segmentSettings.width,opacity:f&&n.inArray(r,f)!=-1?i.characterSettings.opacity:i.segmentSettings.opacity},this.model.itemRendering&&this._clientSideOnItemRendering(!1,r),this._drawSegmentLayers(this.location,this.style);this.value(i.value);f=[]}},_setCustomFont:function(n,t){this.startX=(this.bounds.width-this._measureText(t.value,0,this._getFontString(this,t.font)).width)*(t.position.x/100);this.startY=(this.bounds.height-this._measureText(t.value,0,this._getFontString(this,t.font)).height)*(t.position.y/100);this.location={startX:this.startX,startY:this.startY};this.style={font:this._getFontString(this,t.font),text:t.value,textColor:t.textColor?t.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.textColor):t.segmentSettings.color=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.segmentSettings.color)};this.model.itemRendering&&this._clientSideOnItemRendering(!1,segment);this._drawText(this.location,this.style)},_getFontString:function(n,t){return(t.size==null?"11px":t.size)+" "+t.fontFamily+" "+(t.fontStyle?t.fontStyle:"")},_renderSegmentCalculation:function(n){var t=n.segmentSettings.length,i=n.segmentSettings.width,r;this.startX=(this.bounds.width-n.characterSettings.count*(t+this.characterSpace+n.characterSettings.spacing))*(n.position.x/100);this.startY=(this.bounds.height-2*t-i)*(n.position.y/100);r=n.characterSettings.type=="sevensegment"?t:t/2;this.segment16X=[this.startX+i/2,this.startX+t+4*i,this.startX+t+4*i,this.startX+i/2,this.startX,this.startX,this.startX+i/2,this.startX+r+2*i,this.startX+2.5*i+r,this.startX+r+2*i,this.startX+t+2.5*i,this.startX+r+2.5*i,this.startX+r+1.5*i,this.startX+1.5*i,this.startX+5*i/2+r,this.startX+2.5*i+r];this.segment16Y=[this.startY,this.startY,this.startY+t+i,this.startY+2*t+2*i,this.startY+t+i,this.startY,this.startY+t+i,this.startY+t+i,this.startY+t+i,this.startY,this.startY+i,this.startY+t+i,this.startY+t+i,this.startY+i,this.startY,this.startY+2*t+2*i];this.segmentHeight=[t/2,t,t,t/2,t,t,t/2,t,t/2,t,t,t,t,t,t/2,t/2];this.angle=[-90,0,0,-90,0,0,-90,0,-90,0,27,-27,27,-27,-90,-90];n.characterSettings.type=="sevensegment"&&(this.segment16X[2]=this.segment16X[1]=this.startX+t+2*i);n.characterSettings.type=="fourteensegment"&&(this.segmentHeight[3]=this.segmentHeight[0]=t+2*i)},_drawSegmentLayers:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.startX,n.startY);this.contextEl.rotate(Math.PI*(t.angle/180));this.contextEl.moveTo(0,0);this.contextEl.lineTo(-t.segmentWidth,t.segmentWidth);this.contextEl.lineTo(-t.segmentWidth,t.characterHeight);this.contextEl.lineTo(0,t.characterHeight+t.segmentWidth);this.contextEl.lineTo(t.segmentWidth,t.characterHeight);this.contextEl.lineTo(t.segmentWidth,t.segmentWidth);this._contextClosePath(t,this)},_drawDot:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.translate(n.startX,n.startY);this.contextEl.fillStyle=t.fillStyle;this.contextEl.globalAlpha=t.opacity;this.contextEl.arc(0,0,this.radius,0,2*Math.PI,!0);this.contextEl.fill();this.contextEl.closePath();this.contextEl.restore()},_setShadow:function(n,t){this.contextEl.save();this.contextEl.shadowColor=t.shadowColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.shadowColor);this.contextEl.shadowOffsetY=t.shadowOffsetY;this.contextEl.shadowOffsetX=t.shadowOffsetX;this.contextEl.shadowBlur=t.shadowBlur},_drawSquare:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.translate(n.startX,n.startY);this.contextEl.fillStyle=t.fillStyle;this.contextEl.globalAlpha=t.opacity;this.contextEl.rect(0,0,t.width,t.height);this.contextEl.fill();this.contextEl.closePath();this.contextEl.restore()},_drawText:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.font=t.font;this.contextEl.textBaseline="hanging";this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor;this.contextEl.fillText(t.text,n.startX,n.startY);this.contextEl.closePath();this.contextEl.restore()},setValue:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].value=t,this._initialize())},getValue:function(n){return this.model.items[n].value},setPosition:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].position.x=t.x,this.model.items[n].position.y=t.y,this._initialize())},getPosition:function(n){if(n<this.model.items.length)return{x:this.model.items[n].position.x,y:this.model.items[n].position.y}},refresh:function(){this._setTheme();this._initialize()},exportImage:function(n,i){var f,u,r,o;if(t.browserInfo().name==="msie"&&parseFloat(t.browserInfo().version)>9){f=this.canvasEl[0].toDataURL();f=f.replace(/^data:[a-z]*;,/,"");var h=f.split(","),e=atob(h[1]),s=new ArrayBuffer(e.length),c=new Uint8Array(s);for(u=0;u<e.length;u++)c[u]=e.charCodeAt(u);blob=new Blob([s],{type:"image/png"});window.navigator.msSaveOrOpenBlob(blob,n+"."+i)}else r=document.createElement("a"),r.download=n+"."+i,r.href=this.canvasEl[0].toDataURL("image/"+i).replace("image/"+i,"image/octet-stream"),document.createEvent?(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)):r.fireEvent&&r.fireEvent("onclick")},resizeCanvas:function(){var i,t,n;if(proxy.element.width()!=initialDivWidth||proxy.element.height()!=initialDivHeight){for(i=proxy.element.height()/initialDivHeight,t=proxy.element.width()/initialDivWidth,proxy.model.width*=t,proxy.model.height*=i,n=0;proxy.model.items[n]!=null;n++)proxy.model.items[n].segmentSettings.width*=t,proxy.model.items[n].segmentSettings.spacing*=t;proxy.refresh();initialDivWidth=proxy.element.width();initialDivHeight=proxy.element.height()}},_clientSideOnLoad:function(){var n={object:this,items:this.model.items,context:this.contextEl};this._trigger("load",n)},_clientSideOnItemRendering:function(n,t,i){var r;r=n?{object:this,items:this.model.items,character:this.character,context:this.contextEl,position:this.location,style:this.style,row:t,column:i}:{object:this,model:this.model,id:this.model.ClientId,items:this.model.items,character:this.character,context:this.contextEl,position:this.location,style:this.style,segment:t};this._trigger("itemRendering",r)},_clientSideOnInit:function(){var n={object:this,items:this.model.items,context:this.contextEl};this._trigger("init",n)},_clientSideOnRenderComplete:function(){var n={object:this,items:this.model.items,context:this.contextEl};this._trigger("renderComplete",n)},_contextOpenPath:function(n,t){t.contextEl.save();t.contextEl.beginPath();n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle);n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity);n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth);n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath();n.isFill&&t.contextEl.fill();n.isStroke&&t.contextEl.stroke();t.contextEl.restore()},_measureText:function(t,i,r){var u=document.createElement("DIV"),f;return u.innerHTML=t,r!=null&&(u.style.font=r),u.style.backgroundColor="white",u.style.position="absolute",u.style.top=-100,u.style.left=0,i&&(u.style.maxwidth=i+"px"),document.body.appendChild(u),f={width:u.offsetWidth,height:u.offsetHeight},n(u).remove(),f}});t.datavisualization.DigitalGauge.CharacterType={SevenSegment:"sevensegment",FourteenSegment:"fourteensegment",SixteenSegment:"sixteensegment",EightCrossEightDotMatrix:"eightcrosseightdotmatrix",EightCrossEightSquareMatrix:"eightcrosseightsquarematrix"};t.datavisualization.DigitalGauge.TextAlign={Left:"left",Right:"right"};t.datavisualization.DigitalGauge.FontStyle={Normal:"normal",Bold:"bold",Italic:"italic",Underline:"underline",Strikeout:"strikeout"};t.datavisualization.DigitalGauge.Themes={flatlight:{items:{segmentSettings:{color:"#232323"},shadowColor:"#232323",textColor:"#232323"}},flatdark:{items:{segmentSettings:{color:"#b1b0b0"},shadowColor:"#b1b0b0",textColor:"#b1b0b0"}}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejBulletGraph","ej.datavisualization.BulletGraph",{element:null,model:null,validTags:["div"],defaults:{value:0,comparativeMeasureValue:0,width:595,height:90,theme:"flatlight",orientation:"horizontal",flowDirection:"forward",qualitativeRangeSize:32,quantitativeScaleLength:475,tooltipSettings:{visible:!0,template:null},quantitativeScaleSettings:{location:{x:10,y:10},minimum:0,maximum:10,interval:1,minorTicksPerInterval:4,majorTickSettings:{size:13,stroke:null,width:2},minorTickSettings:{size:7,stroke:null,width:2},tickPosition:"below",labelSettings:{labelPrefix:"",labelSuffix:"",stroke:null,size:12,offset:20,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"regular",opacity:1},position:"below"},featuredMeasureSettings:{stroke:null,width:6},comparativeMeasureSettings:{stroke:null,width:5},featureMeasures:[{value:null,comparativeMeasureValue:null,category:null}]},fields:{dataSource:null,query:null,tableName:null,category:null,featureMeasures:null,comparativeMeasure:null},enableAnimation:!0,enableResizing:!0,applyRangeStrokeToTicks:!1,applyRangeStrokeToLabels:!1,qualitativeRanges:[{rangeEnd:4.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:7.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:10,rangeStroke:null,rangeOpacity:1}],captionSettings:{textAngle:0,location:{x:17,y:30},text:"",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"regular",opacity:1},subTitle:{textAngle:0,text:"",location:{x:10,y:45},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}},indicator:{visibile:!1,textAngle:0,textSpacing:3,text:"",symbol:{border:{color:null,width:1},color:null,shape:"",imageURL:"",size:{width:10,height:10},opacity:1},location:{x:10,y:60},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}}},drawTicks:null,drawLabels:null,drawCaption:null,drawIndicator:null,drawQualitativeRanges:null,drawFeatureMeasureBar:null,drawCategory:null,drawComparativeMeasureSymbol:null},observables:["value","comparativeMeasureValue"],value:t.util.valueFunction("value"),comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),dataTypes:{quantitativeScaleSettings:{labelSettings:"data",featureMeasures:"array"},fields:{dataSource:"data",query:"data"},qualitativeRanges:"array",captionSettings:"data"},_init:function(){this._renderBulletGraph()},_isSVG:function(){return window.SVGSVGElement?!0:!1},_renderBulletGraph:function(){if(this._isSVG()){this.svgRenderer=new t.EjSvgRender(this.element);this.svgObject=this.svgRenderer.svgObj;this._trigger("load");for(var n=0;this.model.quantitativeScaleSettings.featureMeasures[n]!=null;n++)this.model.quantitativeScaleSettings.featureMeasures[n].value==null&&(this.model.quantitativeScaleSettings.featureMeasures[n].value=this.value()),this.model.quantitativeScaleSettings.featureMeasures[n].comparativeMeasureValue==null&&(this.model.quantitativeScaleSettings.featureMeasures[n].comparativeMeasureValue=this.comparativeMeasureValue());this._setTheme(t.datavisualization.BulletGraph.Themes,this.model.theme);this._renderBulletElements();this.bindEvents();this.model.enableAnimation&&this._animateMeasures()}},_animateMeasures:function(){this._doAnimation();this._doLineAnimation()},_renderBulletElements:function(){var u;this.svgObject.setAttribute("width",this.model.width);this.svgObject.setAttribute("height",this.model.height);this.svgObject.setAttribute("viewBox","0 0 "+this.model.width+" "+this.model.height);this.svgObject.setAttribute("preserveAspectRatio","xMinYMin");this.svgWidth=this.model.width;this.svgHeight=this.model.height;var i=this.svgRenderer.createGroup({id:this.svgObject.id+"_captionGroup"}),t=this.svgRenderer.createGroup({id:this.svgObject.id+"_scaleGroup"}),r=this.svgRenderer.createGroup({id:this.svgObject.id+"_outerWrap"});this._initializeValues();u=this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/this._scale.interval);this._drawCaption(i);this._drawIndicator(i);this._scaleGroup=t;this._drawScale(i,t);this._drawQualitativeRanges(t);this._drawMajorTicks(u,t);this._drawMinorTicks(u,t);this._drawLabels(u,t);this._bindData();n(i).appendTo(r);n(t).appendTo(r);this._changeOrientation(r);n(r).appendTo(this.svgObject);n(this.svgObject).appendTo(this.element)},_initializeValues:function(){this._scale=this.model.quantitativeScaleSettings;this._labelPosition=this._scale.labelSettings.position;this._tickPosition=this._scale.tickPosition;this._flowDirection=this.model.flowDirection;this._orientation=this.model.orientation},_changeOrientation:function(n){this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&n.setAttribute("transform","translate("+(this.model.height-this.model.width)+", "+-(this.model.width+2*this._scale.labelSettings.offset+this._scale.labelSettings.size)+") scale(1) rotate(-90 "+this.model.width+" "+this.model.height+")")},_setModel:function(i){var f=!0,r,u;for(r in i){this.model.enableAnimation=!1;switch(r){case"height":this.model.height=i[r];break;case"width":this.model.width=i[r];break;case"theme":this.model.theme=i[r];this._setTheme(t.datavisualization.BulletGraph.Themes,this.model.theme);break;case"orientation":this.model.orientation=i[r];break;case"flowDirection":this.model.flowDirection=i[r];break;case"qualitativeRangeSize":this.model.qualitativeRangeSize=i[r];break;case"quantitativeScaleLength":this.model.quantitativeScaleLength=i[r];break;case"quantitativeScaleSettings":n.extend(!0,this.model.quantitativeScaleSettings,{},i[r]);break;case"applyRangeStrokeToTicks":this.model.applyRangeStrokeToTicks=i[r];break;case"applyRangeStrokeToLabels":this.model.applyRangeStrokeToLabels=i[r];break;case"qualitativeRanges":n.extend(!0,this.model.qualitativeRanges,{},i[r]);break;case"captionSettings":n.extend(!0,this.model.captionSettings,{},i[r]);break;case"dataSource":n.extend(!0,this.model.fields,{},i[r]);break;case"value":for(u=0;this.model.quantitativeScaleSettings.featureMeasures[u]!=null;u++)this.model.quantitativeScaleSettings.featureMeasures[u].value=parseFloat(this.value());break;case"comparativeMeasureValue":for(u=0;this.model.quantitativeScaleSettings.featureMeasures[u]!=null;u++)this.model.quantitativeScaleSettings.featureMeasures[u].comparativeMeasureValue=parseFloat(this.comparativeMeasureValue());break;case"enableAnimation":this.model.enableAnimation=i[r];this.model.enableAnimation&&(n(this.svgObject).empty(),this._renderBulletElements(),this._animateMeasures());f=!1}}f&&(n(this.svgObject).empty(),this._renderBulletElements())},_bindData:function(){t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?(this._dataCount=this._scale.featureMeasures.length,this._drawMeasures()):this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._dataCount=this.model.fields.dataSource.length,this._drawMeasures())},_drawMeasures:function(){this._drawFeatureMeasureBar();this._drawComparativeMeasureSymbol()},_initDataSource:function(){var t=this._columnToSelect(this.model.fields),n=this,i=this.model.fields.dataSource.executeQuery(t);i.done(function(t){n.model.fields.dataSource=t.result;n._dataCount=t.result.length;n._drawFeatureMeasureBar();n._drawComparativeMeasureSymbol()})},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="query"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u);this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_drawCaption:function(t){if(this.model.drawCaption){var i={font:this.model.captionSettings.font,location:this.model.captionSettings.location,subTitle:this.model.captionSettings.subTitle,text:this.model.captionSettings.text,textAngle:this.model.captionSettings.textAngle};this._trigger("drawCaption",i);this.model.captionSettings=n.extend(this.model.captionSettings,i)}this.svgRenderer.drawText(this._textOptions(this.model.captionSettings),this.model.captionSettings.text,t);this.model.captionSettings.subTitle.text!=""&&this.svgRenderer.drawText(this._textOptions(this.model.captionSettings.subTitle),this.model.captionSettings.subTitle.text,t)},_drawIndicator:function(i){var f,o,h,y,p,w,c,b,k,e,tt,it,l,rt;if(this.model.captionSettings.indicator.visible){f=this.model.captionSettings.indicator;o={indicatorSettings:this.model.captionSettings.indicator};this.model.drawIndicator&&(this._trigger("drawIndicator",o),o.cancel==!1&&(f=n.extend({},o.indicatorSettings)));var v=t.EjSvgRender.utils._measureText(f.text,null,f.font),r={x:f.location.x+f.symbol.size.width/2,y:f.location.y+ +f.symbol.size.height/2,width:f.symbol.size.width,height:f.symbol.size.height},u={id:i.id+"_indicatorSymbol",stroke:f.symbol.border.color,fill:f.symbol.color,"stroke-width":f.symbol.border.width,opacity:f.symbol.opacity},s="M "+(r.x-r.width/2+r.width)+" "+(r.y+r.height/4)+" L "+(r.x-r.width/2+r.width)+" "+(r.y+-r.height/4)+" L "+(r.x-r.width/2+r.width/2)+" "+(r.y+-r.height/4)+" L "+(r.x-r.width/2+r.width/2)+" "+(r.y+-r.height/2)+" L "+(r.x-r.width/2)+" "+r.y+" L "+(r.x-r.width/2+r.width/2)+" "+(r.y+r.height/2)+" L "+(r.x-r.width/2+r.width/2)+" "+(r.y+r.height/4)+" L "+(r.x-r.width/2+r.width)+" "+(r.y+r.height/4);switch(this.model.captionSettings.indicator.symbol.shape){case"circle":h=Math.min(r.height,r.width)/2;u.cx=r.x;u.cy=r.y;u.r=h;this.svgRenderer.drawCircle(u,i);break;case"leftarrow":u.d=s;this.svgRenderer.drawPath(u,i);break;case"rightarrow":u.d=s;u.transform="rotate(180,"+r.x+","+r.y+")";this.svgRenderer.drawPath(u,i);break;case"uparrow":u.d=s;u.transform="rotate(90,"+r.x+","+r.y+")";this.svgRenderer.drawPath(u,i);break;case"downarrow":u.d=s;u.transform="rotate(-90,"+r.x+","+r.y+")";this.svgRenderer.drawPath(u,i);break;case"cross":y="M "+(r.x+-r.width/2)+" "+r.y+" L "+(r.x+r.width/2)+" "+r.y+" M "+r.x+" "+(r.y+r.height/2)+" L "+r.x+" "+(r.y+-r.height/2);u.d=y;u.stroke=u.stroke?u.stroke:u.fill;this.svgRenderer.drawPath(u,i);break;case"horizontalline":p="M "+(r.x+-r.width/2)+" "+r.y+" L "+(r.x+r.width/2)+" "+r.y;u.d=p;u.stroke=u.stroke?u.stroke:u.fill;this.svgRenderer.drawPath(u,i);break;case"verticalline":w="M "+r.x+" "+(r.y+r.height/2)+" L "+r.x+" "+(r.y+-r.height/2);u.d=w;u.stroke=u.stroke?u.stroke:u.fill;this.svgRenderer.drawPath(u,i);break;case"triangle":c="M "+(r.x+-r.width/2)+" "+(r.y+r.height/2)+" L "+r.x+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/2)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+(r.y+r.height/2)+" Z";u.d=c;this.svgRenderer.drawPath(u,i);break;case"invertedtriangle":c="M "+(r.x+-r.width/2)+" "+(r.y+r.height/2)+" L "+r.x+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/2)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+(r.y+r.height/2)+" Z";u.d=c;u.transform="rotate(180,"+r.x+","+r.y+")";this.svgRenderer.drawPath(u,i);break;case"hexagon":b="M "+(r.x+-r.width/2)+" "+r.y+" L "+(r.x+-r.width/4)+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/4)+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/2)+" "+r.y+" L "+(r.x+r.width/4)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/4)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+r.y;u.d=b;this.svgRenderer.drawPath(u,i);break;case"wedge":k="M "+(r.x+-r.width/2)+" "+r.y+" L "+(r.x+r.width/2)+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/4)+" "+r.y+" L "+(r.x+r.width/2)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+r.y;u.d=k;this.svgRenderer.drawPath(u,i);break;case"pentagon":var h=Math.sqrt(r.height*r.height+r.width*r.width)/2,a=t.EjSvgRender.utils._getStringBuilder();for(e=0;e<=5;e++){var ut=e*72,d=Math.PI/180*ut,g=h*Math.cos(d),nt=h*Math.sin(d);e==0?a.append("M "+(r.x+g)+" "+(r.y+nt)+" "):a.append("L "+(r.x+g)+" "+(r.y+nt)+" ")}u.d=a.toString();this.svgRenderer.drawPath(u,i);break;case"star":tt="M "+(r.x+r.width/3)+" "+(r.y+-r.height/2)+" L "+(r.x+-r.width/2)+" "+(r.y+r.height/6)+" L "+(r.x+r.width/2)+" "+(r.y+r.height/6)+" L "+(r.x+-r.width/3)+" "+(r.y+-r.height/2)+" L "+r.x+" "+(r.y+r.height/2)+" L "+(r.x+r.width/3)+" "+(r.y+-r.height/2);u.d=tt;this.svgRenderer.drawPath(u,i);break;case"rectangle":it="M "+(r.x+-r.width/2)+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/2)+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/2)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+(r.y+-r.height/2);u.d=it;this.svgRenderer.drawPath(u,i);break;case"trapezoid":l="M "+(r.x+-r.width/2)+" "+r.y+" L "+(r.x+-r.width/2)+" "+(r.y+-r.height/4)+" L "+(r.x+-r.width/2+r.width)+" "+(r.y+-r.height/2)+" L "+(r.x+-r.width/2+r.width)+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+(r.y+r.height/4)+" L "+(r.x+-r.width/2)+" "+r.y;u.d=l;this.svgRenderer.drawPath(u,i);break;case"diamond":l="M "+(r.x+-r.width/2)+" "+r.y+" L "+r.x+" "+(r.y+-r.height/2)+" L "+(r.x+r.width/2)+" "+r.y+" L "+r.x+" "+(r.y+r.height/2)+" L "+(r.x+-r.width/2)+" "+r.y;u.d=l;this.svgRenderer.drawPath(u,i);break;case"ellipse":u.cx=r.x;u.cy=r.y;u.rx=r.width/2;u.ry=r.height/2;this.svgRenderer.drawEllipse(u,i);break;case"image":u.x=r.x-r.width/2;u.y=r.y-r.height/2;u.width=r.width;u.height=r.height;u.href=this.model.captionSettings.indicator.symbol.imageURL;u.visibility="visible";this.svgRenderer.drawImage(u,i)}rt={x:f.location.x+r.width+v.width+f.textSpacing,y:f.location.y+r.height/2+v.height/4,fill:f.font.color,"font-size":f.font.size,"font-family":f.font.fontFamily,"font-style":f.font.fontStyle,"font-weight":f.font.fontWeight,"text-anchor":"end",opacity:f.font.opacity,transform:"rotate("+f.textAngle+","+f.location.x+","+f.location.y+")"};this.svgRenderer.drawText(rt,f.text,i)}},_textOptions:function(n){var t=n.text===this.model.captionSettings.text?n.location.y:n.location.y-15;return{x:n.location.x,y:n.location.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,"text-anchor":"start",opacity:n.font.opacity,"dominant-baseline":"middle",transform:"rotate("+n.textAngle+","+n.location.x+","+t+")"}},_drawScale:function(n,i){var r,u,f;r=this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Cross?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this._scale.majorTickSettings.size:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size;u=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?this._scale.location.x:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x-this._scale.labelSettings.offset:this._scale.location.x;f={id:this.svgObject.id+"_SvgScale",x:u,y:r,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize,fill:"transparent","stroke-width":0};this.svgRenderer.drawRect(f,i)},_drawMajorTicks:function(n,i){var r,f,s=0,u,e,o;for(r=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x+this._scale.majorTickSettings.width/2:this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labelSettings.offset+this._scale.majorTickSettings.width/2:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labelSettings.offset-this._scale.majorTickSettings.width/2:this._scale.location.x+this._scale.majorTickSettings.width/2,f=this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize:this._scale.location.y+this.model.qualitativeRangeSize+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Above?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.majorTickSettings.size/2:this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.majorTickSettings.size/2+this._scale.labelSettings.offset+this._scale.labelSettings.size,u=this._scale.minimum;u<=this._scale.maximum;u+=this._scale.interval)s++,u>=this._scale.maximum&&(this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?r+=this._scale.majorTickSettings.width:r-=this._scale.majorTickSettings.width),this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward&&(r=u>=this._scale.maximum?r+this._scale.majorTickSettings.width:u==this._scale.minimum?r-this._scale.majorTickSettings.width:r),this.model.applyRangeStrokeToTicks&&(strokeColor=this._bindingRangeStrokes(r-this._scale.majorTickSettings.width/2)),e=this._majorTickLines(this._scale,r,f),this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward&&u==this._scale.minimum&&(r=r+this._scale.majorTickSettings.width),this.model.drawTicks&&(data={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:this._scale.maximum,minimum:this._scale.minimum,interval:this._scale.interval},this._trigger("drawTicks",data),e=this._majorTickLines(data,r,f)),o=this.svgRenderer.createLine(e),r=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal||this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical?r-n:r+n,i.appendChild(o)},_majorTickLines:function(n,t,i){return{x1:t,y1:i,x2:t,y2:i+n.majorTickSettings.size,"stroke-width":n.majorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks?strokeColor:n.majorTickSettings.stroke}},_forwardStrokeBinding:function(n){if(n>=this._scale.location.x&&n<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke;for(var t=0;t<=this._rangeCollection.length-1;t++)if(n>=this._rangeCollection[t]+this._scale.location.x&&n<=this._rangeCollection[t+1]+this._scale.location.x)return this.model.qualitativeRanges[t+1].rangeStroke},_backwardStrokeBinding:function(t){if(t>=this._rangeCollection[this._rangeCollection.length-1])return this.model.qualitativeRanges[0].rangeStroke;for(k=0;k<=this._rangeCollection.length-1;k++)if(t>=this._rangeCollection[k]&&t<this._rangeCollection[k+1]){var i=n.inArray(this._rangeCollection[k],this._rangeCollection);return this.model.qualitativeRanges[this._rangeCollection.length-1-i].rangeStroke}},_bindingRangeStrokes:function(n){if(this._rangeCollection.length==1){if(n>=this._scale.location.x&&n<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke}else return this.model.orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward||this.model.orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?this._forwardStrokeBinding(n):this._backwardStrokeBinding(n)},_drawMinorTicks:function(i,r){var e,o,f,c,u,y=0,p,v,a,l,s,h;for(e=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x:this._scale.location.x-this._scale.labelSettings.offset+this.model.quantitativeScaleLength:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labelSettings.offset-this._scale.minorTickSettings.width/2:this._scale.location.x,this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below?(f=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize:this._scale.location.y+this.model.qualitativeRangeSize+this._scale.labelSettings.offset+this._scale.labelSettings.size,c=f+this._scale.minorTickSettings.size):this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Above?(f=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this._scale.minorTickSettings.size:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.minorTickSettings.size,c=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this._scale.majorTickSettings.size:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size):(f=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.minorTickSettings.size/2:this._scale.location.y+this.model.qualitativeRangeSize/2-this._scale.minorTickSettings.size/2+this._scale.labelSettings.offset+this._scale.labelSettings.size,c=f+this._scale.minorTickSettings.size),p=this._scale.maximum,v=this._scale.minimum;v<=p;v+=this._scale.interval){for(o=i/this._scale.minorTicksPerInterval,a=1;a<=this._scale.minorTicksPerInterval;a++)y++,u=this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward||this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?e-o+o/(this._scale.minorTicksPerInterval+1):e+o-o/(this._scale.minorTicksPerInterval+1),this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&y>=(this._scale.maximum-this._scale.minimum)*this._scale.minorTicksPerInterval&&(u+=this._scale.minorTickSettings.width/2),this.model.applyRangeStrokeToTicks&&(strokeColor=this._bindingRangeStrokes(u)),l=this._minorTickLines(this._scale,u,f,c),this.model.drawTicks&&(data={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:this._scale.maximum,minimum:this._scale.minimum,interval:this._scale.interval},this._trigger("drawTicks",data),this._scale=n.extend(this._scale,data),l=this._minorTickLines(data,u,f,c)),this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?(s=this.model.quantitativeScaleLength+this._scale.location.x-this._scale.labelSettings.offset+1,u<=s&&u>=this._scale.location.x-this._scale.labelSettings.offset+1&&(h=this.svgRenderer.createLine(l),r.appendChild(h))):this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical?(s=this._scale.location.x-this._scale.labelSettings.offset+1,u>=s&&(h=this.svgRenderer.createLine(l),r.appendChild(h))):(s=this.model.quantitativeScaleLength+this._scale.location.x+1,u<=s&&(h=this.svgRenderer.createLine(l),r.appendChild(h))),o=i/this._scale.minorTicksPerInterval*(a+1);e=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal||this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward&&this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical?e-i:e+i}},_minorTickLines:function(n,t,i,r){return{x1:t,y1:i,x2:t,y2:r,"stroke-width":n.minorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks?strokeColor:n.minorTickSettings.stroke}},_drawLabels:function(n,i){var r,f,u,e,o;for(r=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x:this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labelSettings.offset-this._scale.majorTickSettings.width/2:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength-this._scale.labelSettings.offset-this._scale.majorTickSettings.width:this._scale.location.x-this._scale.majorTickSettings.width/2,f=this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Cross?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize+this._scale.majorTickSettings.size+this._scale.labelSettings.offset:this._scale.location.y+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize+this._scale.labelSettings.offset+this._scale.majorTickSettings.size:this._scale.location.y+this._scale.labelSettings.size,u=this._scale.minimum;u<=this._scale.maximum;u+=this._scale.interval)transformText=this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical?"rotate(90,"+(r-4)+","+f+")":"rotate(0,"+r+","+f+")",r=u==this._scale.maximum?r-this._scale.majorTickSettings.width:r,this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&(r=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?u==this._scale.maximum||u==this._scale.minimum?r+this._scale.majorTickSettings.width:r:u==this._scale.minimum?r+this._scale.majorTickSettings.width/2:r),this.model.applyRangeStrokeToLabels&&(strokeColor=this._bindingRangeStrokes(r)),e=this._labelOptions(this.model.quantitativeScaleSettings.labelSettings,r,f),this.model.drawLabels&&(o={font:this._scale.labelSettings.font,labelPrefix:this._scale.labelSettings.labelPrefix,labelSuffix:this._scale.labelSettings.labelSuffix,offset:this._scale.labelSettings.offset,size:this._scale.labelSettings.size,stroke:this._scale.labelSettings.stroke},this._trigger("drawLabels",o),e=this._labelOptions(o,r,f)),r=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?r+n:r-n:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?r-n:r+n,this.svgRenderer.drawText(e,e.labelPrefix+u+e.labelSuffix,i)},_labelOptions:function(n,t,i){return{x:t,y:i,"text-anchor":"middle",fill:this.model.applyRangeStrokeToLabels?strokeColor:n.stroke,"font-size":n.size+"px","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,transform:transformText,labelPrefix:n.labelPrefix,labelSuffix:n.labelSuffix}},_drawQualitativeRanges:function(n){var f,o,u,r,i,e;for(this._rangeCollection=[],o=this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Cross?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this._scale.majorTickSettings.size:this._scale.location.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size,r=this.model.qualitativeRanges.length-1;r>=0;r--)i=this.model.qualitativeRanges[r].rangeEnd,i=i>this._scale.maximum?this._scale.maximum:i,this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?(f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x:this._scale.location.x-this._scale.labelSettings.offset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i)))),u=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i))):this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i)))):(f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x-this._scale.labelSettings.offset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i)))):this._scale.location.x,u=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i))):this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-i)))),e={x:f,y:o,height:this.model.qualitativeRangeSize,width:u>0?u<this.model.quantitativeScaleLength?u:this.model.quantitativeScaleLength:0,fill:this.model.qualitativeRanges[r].rangeStroke,opacity:this.model.qualitativeRanges[r].rangeOpacity},this.model.orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward||this.model.orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?this._rangeCollection.push(u):this._rangeCollection.push(f),this.model.drawQualitativeRanges&&this._onDrawQualitativeRanges(e,this.model.qualitativeRanges[r].rangeEnd,r),this.svgRenderer.drawRect(e,n);this._rangeCollection.sort(this._sortRangeCollection)},_sortRangeCollection:function(n,t){return n-t},_calculateFeatureMeasureBounds:function(n,i){var o=this._scale.minimum,a,v;if(n=n<o&&o<0?o:n,n>=o){var u,h,r,f=this._scale.location.x,e=this.model.quantitativeScaleLength,s=this._scale.maximum-this._scale.minimum,c=this._scale.maximum-n,l=this._flowDirection.toLowerCase()+this._orientation.toLowerCase();i=i==null?"":i;a=this._scale.labelSettings.font;a.size=this._scale.labelSettings.size;v=t.EjSvgRender.utils._measureText(i.toString(),null,a).width;switch(l){case"forwardhorizontal":case"backwardvertical":u=f+(o>0?0:e/s*Math.abs(o));r=e/(s/(o>0?s-c:n));n<0&&(r=Math.abs(r),u-=r);r=u+r<f+e?r:f+e-u;h=f-(l=="forwardhorizontal"?this._scale.labelSettings.offset+v/2:this._scale.labelSettings.offset);break;default:u=f-this._scale.labelSettings.offset+(e-e/(s/(s-c)));r=o>0?e/(s/(s-c)):e/(s/n);n<0&&(r=Math.abs(r),u-=r);u<f-this._scale.labelSettings.offset&&(r=u+r-f+this._scale.labelSettings.offset,u=f-this._scale.labelSettings.offset);h=f+e+(l=="backwardhorizontal"?v/2:0)}return{pointX:u,Width:r,lPointX:h}}return!1},_drawFeatureMeasureBar:function(){var i=1,s,f,o,e,r,n,h,c,u;if(this._dataCount>0)for(r=this._dataCount-1;r>=0;r--)s=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[r][this.model.fields.featureMeasures]:this._scale.featureMeasures[r].value,f=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[r][this.model.fields.category]:this._scale.featureMeasures[r].category,this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Cross?(o=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+this._scale.labelSettings.offset+this._scale.labelSettings.size,e=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2+this._scale.featuredMeasureSettings.width/2-1:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2+this._scale.featuredMeasureSettings.width/2-1+this._scale.labelSettings.offset+this._scale.labelSettings.size):(o=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+this._scale.majorTickSettings.size:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+this._scale.majorTickSettings.size+this._scale.labelSettings.offset+this._scale.labelSettings.size,e=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2+this._scale.featuredMeasureSettings.width/2-1+this._scale.majorTickSettings.size:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2+this._scale.featuredMeasureSettings.width/2-1+this._scale.majorTickSettings.size+this._scale.labelSettings.offset+this._scale.labelSettings.size),n=this._calculateFeatureMeasureBounds(s,f),n&&(h=this._featureBar(this._scale,n.pointX,o,n.Width,r),this.model.drawFeatureMeasureBar&&(u={featuredMeasureSettings:this._scale.featuredMeasureSettings},this._trigger("drawFeatureMeasureBar",u),h=this._featureBar(u,n.pointX,o,n.Width,r)),this.svgRenderer.drawRect(h,this._scaleGroup),transformText=this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical?"rotate(90,"+n.lPointX+","+(e-4)+")":"rotate(0,"+n.lPointX+","+e+")",c=this._drawcategory(this.model.quantitativeScaleSettings.labelSettings,n.lPointX,e),this.model.drawCategory&&(u={size:this.model.quantitativeScaleSettings.labelSettings.size,stroke:this.model.quantitativeScaleSettings.labelSettings.stroke,font:this.model.quantitativeScaleSettings.labelSettings.font,categoryValue:f},this._trigger("drawCategory",u),c=this._drawcategory(u,n.lPointX,e),f=u.categoryValue),t.isNullOrUndefined(f)||this.svgRenderer.drawText(c,f,this._scaleGroup),i+=2,this.value(s))},_drawcategory:function(n,t,i){return{x:t,y:i+this._scale.featuredMeasureSettings.width/2,"text-anchor":"middle",fill:n.stroke,"font-size":n.size+"px","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,transform:transformText}},_featureBar:function(n,t,i,r,u){return{"class":this.svgObject.id+"_FeatureMeasure",id:this.svgObject.id+"_FeatureMeasure_"+u,x:t,y:i,height:n.featuredMeasureSettings.width,width:r,fill:n.featuredMeasureSettings.stroke,onmouseover:"evt.target.setAttribute('opacity', '0.7')",onmouseout:"evt.target.setAttribute('opacity', '1')"}},_drawComparativeMeasureSymbol:function(){var i=1,n,u,f,e,r,o,s;if(this._dataCount>0)for(r=this._dataCount-1;r>=0;r--)n=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[r][this.model.fields.comparativeMeasure]:this._scale.featureMeasures[r].comparativeMeasureValue,n>=this._scale.minimum&&n<=this._scale.maximum&&(this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Below||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Cross?(u=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width+this._scale.labelSettings.offset+this._scale.labelSettings.size,f=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width+this._scale.labelSettings.offset+this._scale.labelSettings.size):(u=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width+this._scale.majorTickSettings.size:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width+this._scale.majorTickSettings.size+this._scale.labelSettings.offset+this._scale.labelSettings.size,f=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width+this._scale.majorTickSettings.size:this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*i/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width+this._scale.majorTickSettings.size+this._scale.labelSettings.offset+this._scale.labelSettings.size),e=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n))):this._scale.location.x-this._scale.labelSettings.offset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n)))):this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?this._scale.location.x-this._scale.labelSettings.offset+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n)))):this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n))),o=this._compareMeasure(this._scale,e,u,f,r,n),this.model.drawComparativeMeasureSymbol&&(s={comparativeMeasureSettings:this._scale.comparativeMeasureSettings},this._trigger("drawComparativeMeasureSymbol",s),o=this._compareMeasure(s,e,u,f,r,n)),this.svgRenderer.drawLine(o,this._scaleGroup),i+=2,this.comparativeMeasureValue(n))},_compareMeasure:function(n,t,i,r,u,f){return{"class":this.svgObject.id+"_ComparativeMeasure",id:this.svgObject.id+"_ComparativeMeasure_"+u,x1:f==this._scale.maximum?t-n.comparativeMeasureSettings.width/2:f==this._scale.minimum?t+n.comparativeMeasureSettings.width/2:t,y1:i,x2:f==this._scale.maximum?t-n.comparativeMeasureSettings.width/2:f==this._scale.minimum?t+n.comparativeMeasureSettings.width/2:t,y2:r,"stroke-width":n.comparativeMeasureSettings.width,stroke:n.comparativeMeasureSettings.stroke}},_setTheme:function(n,i){var u=[],e,r,f;this._scale=this.model.quantitativeScaleSettings;for(e in n)u.push(e);for(r=0;r<u.length;r++)for(this._scale.majorTickSettings.stroke=!this._scale.majorTickSettings.stroke||this._scale.majorTickSettings.stroke==n[u[r]].quantitativeScaleSettings.majorTickSettings.stroke?n[i].quantitativeScaleSettings.majorTickSettings.stroke:this._scale.majorTickSettings.stroke,this._scale.minorTickSettings.stroke=!this._scale.minorTickSettings.stroke||this._scale.minorTickSettings.stroke==n[u[r]].quantitativeScaleSettings.minorTickSettings.stroke?n[i].quantitativeScaleSettings.minorTickSettings.stroke:this._scale.minorTickSettings.stroke,this._scale.labelSettings.stroke=!this._scale.labelSettings.stroke||this._scale.labelSettings.stroke==n[u[r]].quantitativeScaleSettings.labelSettings.stroke?n[i].quantitativeScaleSettings.labelSettings.stroke:this._scale.labelSettings.stroke,this._scale.featuredMeasureSettings.stroke=!this._scale.featuredMeasureSettings.stroke||this._scale.featuredMeasureSettings.stroke==n[u[r]].quantitativeScaleSettings.featuredMeasureSettings.stroke?n[i].quantitativeScaleSettings.featuredMeasureSettings.stroke:this._scale.featuredMeasureSettings.stroke,this._scale.comparativeMeasureSettings.stroke=!this._scale.comparativeMeasureSettings.stroke||this._scale.comparativeMeasureSettings.stroke==n[u[r]].quantitativeScaleSettings.comparativeMeasureSettings.stroke?n[i].quantitativeScaleSettings.comparativeMeasureSettings.stroke:this._scale.comparativeMeasureSettings.stroke,this.model.captionSettings.font.color=!this.model.captionSettings.font.color||this.model.captionSettings.font.color==n[u[r]].captionSettings.font.color?n[i].captionSettings.font.color:this.model.captionSettings.font.color,this.model.captionSettings.subTitle.font.color=!this.model.captionSettings.subTitle.font.color||this.model.captionSettings.subTitle.font.color==n[u[r]].captionSettings.subTitle.font.color?n[i].captionSettings.subTitle.font.color:this.model.captionSettings.subTitle.font.color,f=0;f<this.model.qualitativeRanges.length;f++)this.model.qualitativeRanges[f].rangeStroke=this.model.qualitativeRanges[f].rangeStroke?this.model.qualitativeRanges[f].rangeStroke:t.isNullOrUndefined(n[i].qualitativeRanges[f])?n[i].qualitativeRanges[0].rangeStroke:n[i].qualitativeRanges[f].rangeStroke},_onDrawQualitativeRanges:function(n,t,i){var r={object:this,scaleElement:this.model.quantitativeScaleSettings,rangeIndex:i,rangeElement:n,rangeEndValue:t};this._trigger("drawQualitativeRanges",r)},_doAnimation:function(){for(var r,i=n("."+this.svgObject.id+"_FeatureMeasure"),t=i.length-1;t>=0;t--)r=i[t],this._animateFeatureBar(r)},_doLineAnimation:function(){for(var r,i=n("."+this.svgObject.id+"_ComparativeMeasure"),u=2e3/i.length,t=i.length-1;t>=0;t--)r=i[t],n(r).attr("transform","scale(0)"),this._doLineSymbol(r,u,t)},_animateFeatureBar:function(i){var r=i.getBBox(),u,f;this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward||this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?(u=r.x+r.width,f=r.y+r.height):(u=r.x,f=r.y);n(i).animate({scale:1},{duration:1e3,step:function(t){scaleVal=t;n(i).attr("transform","translate("+u+" "+f+") scale("+t+",1) translate("+-u+" "+-f+")")}})},_doLineSymbol:function(t,i,r){var o=parseInt(r*i),u=t.getBBox(),f=u.x+u.width/2,e=u.y+u.height/2;n(t).delay(o).animate({scale:1},{duration:200,step:function(i){n(t).attr("transform","translate("+f+" "+e+") scale("+i+") translate("+-f+" "+-e+")")}})},bindEvents:function(){this.model.tooltipSettings.visible&&this._on(n(this.svgObject),"mousemove",this._bulletMouseMove);this.model.enableResizing&&(this.isDevice()?this._on(n(window),"orientationchange",this._bulletResize):this._on(n(window),"resize",this._bulletResize))},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bulletResize:function(){var t=this,i=n(t.svgObject);this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){t.isDevice()?(i.width(n(t.element).width()),i.height(n(t.element).height())):(t.svgWidth>n(this).width()?i.width(n(this).width()):i.width(t.svgWidth),t.svgHeight>n(this).height()?i.height(n(this).height()):i.height(t.svgHeight));t.redraw()},500)},_bulletMouseMove:function(r){var a,v,y,f,c,s,u=n(".tooltipDiv"),h,l,p,e,o;c=n(r.target).attr("id");s=n(r.target).attr("class");s!="undefined"&&(s==this.svgObject.id+"_FeatureMeasure"||s==this.svgObject.id+"_ComparativeMeasure")?(f=c.substring(c.lastIndexOf("_")+1),a=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[f][this.model.fields.featureMeasures]:this._scale.featureMeasures[f].value,v=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[f][this.model.fields.comparativeMeasure]:this._scale.featureMeasures[f].comparativeMeasureValue,y=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?t.isNullOrUndefined(this.model.fields.dataSource[f][this.model.fields.category])?null:this.model.fields.dataSource[f][this.model.fields.category]:t.isNullOrUndefined(this._scale.featureMeasures[f].category)?null:this._scale.featureMeasures[f].category,h={currentValue:a,targetValue:v,category:y},n(".tooltipDiv").length==0&&(u=n("<div class='tooltipDiv' style='position: absolute; z-index: 105; display: block;'><\/div>"),n(document.body).append(u),n(".tooltipDiv").addClass(this.svgObject.id)),this.model.tooltipSettings.template!=""&&this.model.tooltipSettings.template!=null?(l=n("#"+this.model.tooltipSettings.template).clone(),n(l).css("display","block").appendTo(u),n(u).html(n(l).render(h))):(p=t.isNullOrUndefined(h.category)?"":"<br/> Category : "+h.category,n(u).html("Current : "+h.currentValue+"<br/> Target : "+h.targetValue+p)),n(u).css("font-size","12px"),e=r.clientX+n(document).scrollLeft()+10,o=r.clientY+n(document).scrollTop()+10,e=e+n(u).width()<n(window).width()?e:e-n(u).width(),o=o+n(u).height()<n(window).height()?o:o-n(u).height(),(e===i||e===null)&&(e=r.clientX+n(document).scrollLeft()+10),(o===i||o===null)&&(o=r.clientY+n(document).scrollTop()+10),n(u).css("left",e),n(u).css("top",o),n(u).css({"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"})):s!=this.svgObject.id+"_FeatureMeasure"&&s!=this.svgObject.id+"_ComparativeMeasure"&&n(".tooltipDiv").remove()},redraw:function(){n(this.svgObject).empty();this._renderBulletElements()},destroy:function(){n(this.element).removeClass("e-bulletgraph e-js").find("#"+this.svgObject.id).remove()},setFeatureMeasureBarValue:function(n,i){this._scale=this.model.quantitativeScaleSettings;var r=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource.length:this._scale.featureMeasures.length;n<r&&i!=null&&(t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this._scale.featureMeasures[n].value=i:this.model.fields.dataSource[n][this.model.fields.featureMeasures]=i,this.redraw(),this.model.enableAnimation&&this._doAnimation())},setComparativeMeasureSymbol:function(n,i){this._scale=this.model.quantitativeScaleSettings;var r=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource.length:this._scale.featureMeasures.length;n<r&&i!=null&&(t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this._scale.featureMeasures[n].comparativeMeasureValue=i:this.model.fields.dataSource[n][this.model.fields.comparativeMeasure]=i,this.redraw(),this.model.enableAnimation&&this._doLineAnimation())}});t.datavisualization.BulletGraph.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.datavisualization.BulletGraph.Shape={Circle:"circle",Cross:"cross",Diamond:"diamond",DownArrow:"downarrow",Ellipse:"ellipse",HorizontalLine:"horizontalLine",Image:"image",InvertedTriangle:"invertedtriangle",LeftArrow:"leftarrow",Pentagon:"pentagon",Rectangle:"Rectangle",RightArrow:"rightarrow",Star:"star",Trapezoid:"trapezoid",Triangle:"triangle",UpArrow:"uparrow",VerticalLine:"verticalline",Wedge:"wedge"};t.datavisualization.BulletGraph.TickPosition={Below:"below",Above:"above",Cross:"cross"};t.datavisualization.BulletGraph.LabelPosition={Below:"below",Above:"above"};t.datavisualization.BulletGraph.FlowDirection={Forward:"forward",Backward:"backward"};t.datavisualization.BulletGraph.FontStyle={Normal:"Normal",Italic:"Italic",Oblique:"Oblique"};t.datavisualization.BulletGraph.FontWeight={Normal:"Normal",Bold:"Bold",Bolder:"Bolder",Lighter:"Lighter"};t.datavisualization.BulletGraph.Themes={flatlight:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#191919"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#191919"},featuredMeasureSettings:{stroke:"#191919"},comparativeMeasureSettings:{stroke:"#191919"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#191919"},subTitle:{font:{color:"#191919"}}}},flatdark:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#ffffff"},minorTickSettings:{stroke:"#ffffff"},labelSettings:{stroke:"#ffffff"},featuredMeasureSettings:{stroke:"#ffffff"},comparativeMeasureSettings:{stroke:"#ffffff"}},qualitativeRanges:[{rangeStroke:"#b3b3b3"},{rangeStroke:"#999999"},{rangeStroke:"#4d4d4d"}],captionSettings:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}}}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejRangeNavigator","ej.datavisualization.RangeNavigator",{ejChart:"",validTags:["div"],defaults:{theme:"",padding:"0",enableAutoResizing:!1,allowSnapping:!1,sizeSettings:{width:"",height:""},_size:{},locale:"en-US",valueType:"datetime",valueAxisSettings:{rangePadding:"none",axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{width:0,size:0,visible:!0},majorGridLines:{visible:!1},visible:!1},rangePadding:"none",enableRTL:!1,dataSource:"",xName:"x",yName:"y",tooltipSettings:{visible:!0,labelFormat:"MM/dd/yyyy",tooltipDisplayMode:"always",backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,weight:"regular"}},zoomPosition:"0",zoomFactor:"1",selectedRangeSettings:{start:"",end:""},selectedData:"",rangeSettings:{start:"",end:""},enableDeferredUpdate:!0,series:"",seriesSettings:"",labelSettings:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"},horizontalAlignment:"center"},higherLevel:{intervalType:"years",style:{font:{color:"black",fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"},horizontalAlignment:"center"},gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"20 5 0"},border:{color:"transparent",width:.5},fill:"transparent",position:"top",visible:!0,labelPlacement:"outside"},lowerLevel:{intervalType:"quarters",style:{font:{color:"black",fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"},horizontalAlignment:"center"},gridLineStyle:{color:"#B5B5B5",width:1,dashArray:""},border:{color:"transparent",width:.5},fill:"transparent",position:"bottom",visible:!0,labelPlacement:"outside"}},navigatorStyleSettings:{selectedRegionColor:"#EFEFEF",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#303030",background:"#dddddd",border:{color:"transparent",width:.5,dashArray:""},opacity:1,majorGridLineStyle:{color:"#B5B5B5",visible:!0},minorGridLineStyle:{color:"#B5B5B5",visible:!0}},loaded:"",load:"",rangeChanged:""},dataTypes:{enableAutoResizing:"boolean",allowSnapping:"boolean",dataSource:{data:"data",query:"data"},tooltipSettings:{visible:"boolean",labelFormat:"string",tooltipDisplayMode:"string"},zoomPosition:"string",zoomFactor:"string",selectedData:"string",enableDeferredUpdate:"boolean",series:"array",labelSettings:{higherLevel:{intervalType:"string",position:"string",visible:"boolean",labelPlacement:"string"},lowerLevel:{intervalType:"string",position:"string",visible:"boolean",labelPlacement:"string"}},navigatorStyleSettings:{thumbRadius:"number"}},observables:["dataSource"],_themes:{flatlight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},azurelight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},limelight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#A9CA44 ",thumbColor:"#AECF49",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},saffronlight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#FAA113",thumbColor:"#F9920B",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientlight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientazure:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientlime:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientsaffron:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},flatdark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},azuredark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},limedark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#A9CA44",thumbColor:"#AECF49",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},saffrondark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#FAA113",thumbColor:"#F9920B",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientdark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientazuredark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientlimedark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",fontStyle:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientsaffrondark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}}},_setModel:function(t){for(var i in t)switch(i){case"theme":this.model._themeChanged=!0;this.model.theme=t[i];this._setTheme(this._themes,this.model.theme);default:n.extend(!0,this.model,{},t[i])}this.bindTo();this.renderNavigator(this);this._bindevents()},_destroy:function(){this.element.empty().removeClass(this.model.cssClass)},_createSvg:function(){this.svgSupport=window.SVGSVGElement?!0:!1;var n=jQuery.uaMatch(navigator.userAgent);this.brow=n.browser.toLowerCase();this.svgSupport?(this.renderer=new t.EjSvgRender(this.element),this.svgns=this.renderer.svgLink,this.svgDocument=this.renderer.svgObj):(this.renderer=new t.EjVmlRender(this.element),this.svgDocument=this.renderer.svgObj)},_setTheme:function(n,i){var r=i.toLowerCase();this.model=t.copyObject({},this.model,n[r])},_setPositions:function(){var n=this.model.labelSettings.higherLevel.position,t=this.model.labelSettings.lowerLevel.position,i=this.model.labelSettings.higherLevel.visible,r=this.model.labelSettings.lowerLevel.visible,u=this.model.labelSettings.higherLevel.labelPlacement,f=this.model.labelSettings.lowerLevel.labelPlacement;n==="top"&&t==="bottom"?(this.centerPosition=this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minHighHeight+this.centerHeight+1):n==="bottom"&&t==="bottom"?(this.centerPosition=0,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minLowHeight+this.centerHeight+1):n==="bottom"&&t==="top"?(this.centerPosition=this.minLowHeight+1,topPosition=0,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minLowHeight+this.centerHeight+1):n==="top"&&t==="top"&&(this.centerPosition=this.minLowHeight+this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.newHeight);i===!1&&r===!1?(this.centerPosition=0,this.centerHeight=this.newHeight,this.bottomPostion=this.newHeight):i===!1?(this.centerPosition=0,this.centerHeight=this.newHeight-this.minLowHeight,this.bottomPosition=this.newHeight):r===!1&&(this.centerPosition=this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight,this.bottomPosition=this.minHighHeight+this.centerHeight+1);u==="outside"&&f==="outside"?(this.sliderPosition=this.centerPosition,this.sliderHeight=this.centerHeight):u==="outside"?(this.sliderPosition=this.centerPosition,this.sliderHeight=this.newHeight):f==="outside"?(this.sliderPosition=0,this.sliderHeight=this.centerHeight+this.minHighHeight):(this.sliderPosition=0,this.sliderHeight=this.newHeight)},renderNavigator:function(r){var f,o,s,h,l,a,v,y,ut,p,w,u,c,b,k,d,g,nt,e,tt,it,rt;this.culture=Globalize.culture(this.model.locale);this._initializeVariables.call(this,this.model,this.model.series,this.model.seriesSettings);this._rootId=n(this.element).attr("id");this.leftPadding=parseFloat(n("#"+this._rootId).css("padding-left"));f=parseFloat(this.model.labelSettings.higherLevel.style.font.size);o=this.model.valueType;o=="datetime"?(this.minHighHeight=f<20?20:f+2,f=parseFloat(this.model.labelSettings.lowerLevel.style.font.size)):this.minHighHeight=0;this.minLowHeight=f<20?20:f+2;o=="datetime"?(s=n(this.element).height()&&this.newHeight==i?n(this.element).height():this.newHeight==i?120:this.newHeight,this.minCenterHeight=parseFloat(s)-parseFloat(this.minLowHeight)-parseFloat(this.minHighHeight)):(s=n(this.element).height()&&this.newHeight==i?n(this.element).height()-this.minLowHeight:this.newHeight==i?100:this.newHeight,this.minCenterHeight=s);this.minHeight=this.minHighHeight+this.minCenterHeight+this.minLowHeight;this.padding=parseFloat(this.model.padding);this.newWidth=this.model.sizeSettings.width?this.model.sizeSettings.width:n(this.element).width();this.newHeight=this.model.sizeSettings.height?this.model.sizeSettings.height:(n(this.element).height()&&this.newHeight==i)>this.minHeight?n(this.element).height():this.minHeight;this._higherTextNode=[];this._higherTotalValues=[];this._higherLineLeft=[];this._higherTextLeft=[];this._lowerTextNode=[];this._lowerTotalValues=[];this._lowerLineLeft=[];this._lowerTextLeft=[];this.centerPosition=0;this.bottomPosition=0;this.centerHeight=0;this.sliderPosition=0;this.sliderHeight=0;this._setPositions();n(this.svgDocument).empty();this.svgDocument.setAttribute("position","relative");this.svgDocument.setAttribute("overflow","visible");this.svgSupport?(this.svgDocument.setAttribute("height",this.newHeight),this.svgDocument.setAttribute("width",this.newWidth)):(n(this.svgDocument).width(this.newWidth),n(this.svgDocument).height(this.newHeight));this.model._size.width=this.newWidth;this.model._size.height=this.newHeight;h=n.extend({},t.EjSvgRender.commonChartEventArgs);h.data={model:this.model};this._trigger("loaded",h);this.model.theme!=""&&this._setTheme(this._themes,this.model.theme);l=this.model.navigatorStyleSettings.unselectedRegionColor;this.unselectgrad=this.renderer.createGradientElement("unselected",l,150,0,150,100,this.svgDocument);a=this.model.navigatorStyleSettings.background;this.naviback=this.renderer.createGradientElement("naviback",a,150,0,150,100,this.svgDocument);v=this.model.navigatorStyleSettings.selectedRegionColor;this.selectedgrad=this.renderer.createGradientElement("selected",v,150,0,150,100,this.svgDocument);y=this.model.navigatorStyleSettings.thumbColor;this.tbClr=this.renderer.createGradientElement("thumbClr",y,150,0,150,100,this.svgDocument);ut=o=="numeric"?this.newHeight-this.model.navigatorStyleSettings.border.width-this.minLowHeight:this.newHeight-this.model.navigatorStyleSettings.border.width-this.minLowHeight-this.minHighHeight;p={id:this._rootId+"_Border",x:this.padding,y:this.sliderPosition,width:this.newWidth-this.padding*2,height:this.sliderHeight,fill:this.naviback,"stroke-width":this.model.navigatorStyleSettings.border.width,stroke:this.model.navigatorStyleSettings.border.color,opacity:this.model.navigatorStyleSettings.opacity,"stroke-dasharray":this.model.navigatorStyleSettings.border.dashArray};this.renderer.drawRect(p,this.svgDocument);this.higherLevel=this.renderer.createGroup({id:this._rootId+"higherLevel"});this.lowerLevel=this.renderer.createGroup({id:this._rootId+"lowerLevel"});this.centerLevel=this.renderer.createGroup({id:this._rootId+"centerLelvel"});this.higherLevel.height=this.minHighHeight;this.lowerLevel.height=this.minLowHeight;this.model.tooltipSettings.visible&&this.svgSupport&&(this.leftTooltip=this.renderer.createGroup({id:this._rootId+"leftTooltip"}),this.rightTooltip=this.renderer.createGroup({id:this._rootId+"rightTooltip"}),w={fill:this.model.tooltipSettings.backgroundColor,d:"M 0 0 L 0 21 L 64 21 L 64 6 L 70 0 Z"},this.renderer.drawPath(w,this.leftTooltip),u=this.model.tooltipSettings.font,c={id:this._rootId+"_LeftToolText",x:5,fill:u.color,"font-size":u.size,"font-family":u.family,"font-style":u.style,"font-weight":u.weight,"text-anchor":"start",opacity:u.opacity,"dominant-baseline":"middle"},this.renderer.drawText(c,Globalize.format(new Date(1/2e3),"MMMM, yyyy"),this.leftTooltip),this.leftTxt=this.leftTooltip.childNodes[1],b={fill:this.model.tooltipSettings.backgroundColor,d:"M 0 0 L 70 0 L 70 21 L 6 21 L 6 6 Z","horizontal-alignment":"stretch"},this.renderer.drawPath(b,this.rightTooltip),this.renderer.drawText(c,Globalize.format(new Date(1/2e3),"MMMM, yyyy"),this.rightTooltip),this.rightTxt=this.rightTooltip.childNodes[1]);this.chartGView=this.renderer.createGroup({id:this._rootId+"charView"});this.renderer.append(this.chartGView,this.svgDocument);this.model.valueType=="datetime"&&this.renderer.append(this.higherLevel,this.svgDocument);this.renderer.append(this.lowerLevel,this.svgDocument);this.renderer.append(this.centerLevel,this.svgDocument);this.leftUnSelected=this.renderer.createGroup({id:"unselectleft"});this.gLeftSlider=this.renderer.createGroup({id:"leftslider"});this.gRightSlider=this.renderer.createGroup({id:"rightslider"});this.gCenterSlider=this.renderer.createGroup({id:"centerslider"});this.rightUnSelected=this.renderer.createGroup({id:"unselectright"});k={width:parseFloat(this.newWidth-4-this.padding*2),height:this.sliderHeight,fill:this.unselectgrad,opacity:"0.3",transform:"translate("+this.padding+","+this.sliderPosition+")"};this.renderer.drawRect(k,this.leftUnSelected);this.leftUnArea=this.leftUnSelected.firstChild;this.renderer.append(this.leftUnSelected,this.svgDocument);d={width:parseFloat(this.newWidth-4-this.padding*2),height:this.sliderHeight,fill:this.selectedgrad,opacity:"0",transform:"translate("+this.padding+","+this.sliderPosition+")"};this.renderer.drawRect(d,this.gCenterSlider);this.centerSlider=this.gCenterSlider.firstChild;n(this.centerSlider).css("cursor","pointer");this.renderer.append(this.gCenterSlider,this.svgDocument);g={width:"2",height:this.sliderHeight,fill:this.model.navigatorStyleSettings.thumbStroke,opacity:"1",y:this.sliderPosition};nt={cx:this.padding,cy:this.sliderPosition+this.sliderHeight/2,r:this.model.navigatorStyleSettings.thumbRadius,"stroke-width":2,stroke:this.model.navigatorStyleSettings.thumbStroke,fill:this.tbClr};this.renderer.drawRect(g,this.gLeftSlider);this.renderer.drawCircle(nt,this.gLeftSlider);this.leftCircle=this.gLeftSlider.lastChild;n(this.leftCircle).css("cursor","pointer");this.leftSlider=this.gLeftSlider.firstChild;n(this.leftSlider).css("cursor","w-resize");this.renderer.append(this.gLeftSlider,this.svgDocument);e=parseFloat(this.newWidth-4-this.padding*2);e=e<0?0:e;tt={width:e,height:this.sliderHeight,fill:this.unselectgrad,opacity:"0.3",transform:"translate("+this.padding+","+this.sliderPosition+")"};this.renderer.drawRect(tt,this.rightUnSelected);this.rightUnArea=this.rightUnSelected.firstChild;this.renderer.append(this.rightUnSelected,this.svgDocument);it={width:"2",height:this.sliderHeight,fill:this.model.navigatorStyleSettings.thumbStroke,opacity:"1",transform:"translate("+parseFloat(this.newWidth-4-this.padding)+", "+this.sliderPosition+" )"};rt={cx:this.newWidth-4-this.padding,cy:this.sliderPosition+this.sliderHeight/2,r:this.model.navigatorStyleSettings.thumbRadius,"stroke-width":2,stroke:this.model.navigatorStyleSettings.thumbStroke,fill:this.tbClr};this.renderer.drawRect(it,this.gRightSlider);this.renderer.drawCircle(rt,this.gRightSlider);this.rightCircle=this.gRightSlider.lastChild;n(this.rightCircle).css("cursor","pointer");this.rightSlider=this.gRightSlider.firstChild;n(this.rightSlider).css("cursor","w-resize");this.renderer.append(this.gRightSlider,this.svgDocument);this.renderer.append(this.leftTooltip,this.svgDocument);this.renderer.append(this.rightTooltip,this.svgDocument);this.element.append(this.svgDocument);this.svgSupport&&(this.trueCoords=this.svgDocument.createSVGPoint(),this.grabPoint=this.svgDocument.createSVGPoint());this.backDrop=this.element;this.dragTarget=null;this._renderChart.call(this,this.model);r!=i&&r.target!=i&&(this.resize=!0);this.startDateTime!=i&&this.endDateTime!=i||this.startValue!=i&&this.endValue!=i?(this.calculateInterval.call(this,this.model.labelSettings.higherLevel,this.model.labelSettings.lowerLevel),this.setSliders()):(this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+this.padding+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.leftTooltip.setAttribute("opacity",0),this.rightTooltip.setAttribute("opacity",0));this.model.tooltipSettings.visible&&this.svgSupport&&this.model.tooltipSettings.tooltipDisplayMode=="ondemand"&&(this.rightTooltip.setAttribute("opacity",0),this.leftTooltip.setAttribute("opacity",0))},eachInterval:"",_renderChart:function(t){t.dataSource!=""&&t.series==""&&t.seriesSettings==""?n(this.chartGView).ejChart({locale:this.model.locale,border:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},elementSpacing:0,chartArea:{background:"transparent",border:{width:0}},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:this.model.rangePadding,visible:!1,isInversed:this.model.enableRTL},primaryYAxis:this.model.valueAxisSettings,series:[{dataSource:t.dataSource,xName:t.xName,yName:t.yName,type:"line",width:1.5,enableAnimation:!1},],size:{height:parseFloat(this.sliderHeight).toString(),width:parseFloat(this.newWidth-2*this.padding).toString(),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}}):t.dataSource!=""&&t.series!=""&&t.series[0].dataSource==i||t.seriesSettings!=""&&t.seriesSettings.dataSource==i&&t.dataSource!=""?(t.seriesSettings.dataSource=t.dataSource,t.seriesSettings.xName=t.xName,t.seriesSettings.yName=t.yName,n(this.chartGView).ejChart({locale:this.model.locale,border:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},elementSpacing:0,chartArea:{background:"transparent",border:{width:0}},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:this.model.rangePadding,visible:!1,isInversed:this.model.enableRTL},primaryYAxis:this.model.valueAxisSettings,series:t.series,commonSeriesOptions:t.seriesSettings,size:{height:parseFloat(this.sliderHeight).toString(),width:parseFloat(this.newWidth-2*this.padding).toString(),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}})):(t.series!=""&&t.series[0].dataSource!=i||t.seriesSettings!=""&&t.seriesSettings.dataSource!=i)&&(t.seriesSettings==""&&(t.seriesSettings={type:"line"}),n(this.chartGView).ejChart({locale:this.model.locale,border:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},elementSpacing:0,chartArea:{background:"transparent",border:{width:0}},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:this.model.rangePadding,visible:!1,isInversed:this.model.enableRTL},primaryYAxis:this.model.valueAxisSettings,series:t.series,commonSeriesOptions:t.seriesSettings,size:{height:parseFloat(this.sliderHeight).toString(),width:parseFloat(this.newWidth-2*this.padding).toString(),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}}));this.ejChart=n(this.chartGView).data("ejChart");this.renderer._setAttr(n(this.chartGView),{transform:"translate("+this.padding+","+this.sliderPosition+")",height:this.sliderHeight})},_init:function(){this._createSvg(this);var i=n.extend({},t.EjSvgRender.commonChartEventArgs);i.data={model:this.model};this._trigger("load",i);this.renderNavigator(this);this.model.enableAutoResizing&&this._on(n(window),"resize",this.renderNavigator);this._bindevents()},isDevice:function(){return/mobile|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bindevents:function(){var i=jQuery.uaMatch(navigator.userAgent),t=!!navigator.userAgent.match(/Trident\/7\./);window.navigator.msPointerEnabled&&!t?(this._on(n(this.svgDocument),"MSPointerDown",this._grab),this._on(n(this.svgDocument),"MSPointerMove",this._drag),this._on(n(this.svgDocument),"MSPointerUp",this._drop),this._on(n(window),"MSPointerUp",this.mouseup),n(this.svgDocument).css("-ms-touch-action","none")):this.isDevice()?(this._on(n(this.svgDocument),"touchstart",this._grab),this._on(n(this.svgDocument),"touchmove",this._drag),this._on(n(this.svgDocument),"touchend",this._drop)):i.browser.toLowerCase()=="chrome"?(this._on(n(this.svgDocument),"touchstart",this._grab),this._on(n(this.svgDocument),"touchmove",this._drag),this._on(n(this.svgDocument),"touchend",this._drop),this._on(n(this.svgDocument),"mousedown",this._grab),this._on(n(this.svgDocument),"mousemove",this._drag),this._on(n(this.svgDocument),"mouseup",this._drop)):(this._on(n(this.svgDocument),"mousedown",this._grab),this._on(n(this.svgDocument),"mousemove",this._drag),this._on(n(this.svgDocument),"mouseup",this._drop));t&&n(this.svgDocument).css("touch-action","none");this._on(n(window),"mouseup",this.mouseup)},_initializeVariables:function(n,t,r){var u,f;this.ismouseup=!1;var o=this.model.labelSettings.style,e=this.model.labelSettings.lowerLevel.style,s=this.model.labelSettings.higherLevel.style;s==""&&(this.model.labelSettings.higherLevel.style=o);e==""?this.model.labelSettings.lowerLevel.style=o:e!=i&&e.horizontalAlignment==i&&(this.model.labelSettings.lowerLevel.style.horizontalAlignment="center");this.model.valueType=="numeric"&&this.model.tooltipSettings.labelFormat=="MM/dd/yyyy"&&(this.model.tooltipSettings.labelFormat="d");n.dataSource!=""&&n.xName!=""&&n.yName!=""?this._processJsonData(n.dataSource,this.model):t!=""&&t!=i&&t[0].dataSource!=i&&t[0].xName!=i&&t[0].yName!=i?this._processJsonData(t[0].dataSource,t[0]):r.dataSource!=i&&r.xName!=i&&r.yName!=i?this._processJsonData(r.dataSource,r):this.model.rangeSettings.start!=""&&this.model.rangeSettings.end!=""&&(this.model.valueType=="datetime"?(this.startDateTime=new Date(this.model.rangeSettings.start),this.endDateTime=new Date(this.model.rangeSettings.end)):(this.startValue=this.model.rangeSettings.start,this.endValue=this.model.rangeSettings.end));this.startDateTime!=i&&this.endDateTime!=i&&(this.model.valueType=="datetime"&&this.model.rangePadding=="round"&&(u=new Date(this.startValue),f=new Date(this.endValue),this.startDateTime=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0),this.endDateTime=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59)),this.startYear=this.startDateTime.getFullYear(),this.startMonth=this.startDateTime.getMonth(),this.endYear=this.endDateTime.getFullYear(),this.endMonth=this.endDateTime.getMonth())},setSliders:function(){var r=this.newWidth-this.padding*2,i=this.model.valueType,n=this.model.selectedRangeSettings.start,t=this.model.selectedRangeSettings.end;this.eachInterval=i=="datetime"?r/parseFloat(this.endDateTime.getTime()-this.startDateTime.getTime()):r/parseFloat(this.endValue-this.startValue);n===""&&t===""&&(i=="datetime"?(n=this.startDateTime,t=this.endDateTime):(n=this.startValue,t=this.endValue));i=="datetime"?(this.leftSliderPosition=(new Date(n).getTime()-this.startDateTime.getTime())*this.eachInterval+this.padding,this.rightSliderPosition=(new Date(t).getTime()-this.startDateTime.getTime())*this.eachInterval+this.padding):(this.leftSliderPosition=(n-this.startValue)*this.eachInterval+this.padding,this.rightSliderPosition=(t-this.startValue)*this.eachInterval+this.padding);this.setopacity=this.model.tooltipSettings.tooltipDisplayMode=="always"?1:0;this.setSliderPositions(this.leftSliderPosition,null,null);this.setSliderPositions(null,null,this.rightSliderPosition);this.setopacity=1;this.model.enableDeferredUpdate&&(this._calculateSelectedData(),this.startDateTime===new Date(n)||this.endDateTime===new Date(t)||this.resize||this._trigger("rangeChanged",this.model))},centerSliderWidth:"",zoomp:0,zoomf:1,setSliderPositions:function(t,r,u){var a=this.model.valueType,o,b=this.model.labelSettings.higherLevel.labelPlacement,l,p,w,k,v,s,f,e;if(o=b=="inside"?0:this.centerPosition,t!=null&&t>=this.padding){if(this.leftSliderPosition=t,l=this.model.enableRTL?this.newWidth-t:t,s=a=="datetime"?l/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval:l/this.eachInterval+this.startValue-this.padding/this.eachInterval,this.model.tooltipSettings.visible&&this.svgSupport){this.leftTooltip.setAttribute("opacity",this.setopacity);this.leftTxt.textContent=a=="datetime"?Globalize.format(new Date(s),this.model.tooltipSettings.labelFormat):Globalize.format(s,this.model.tooltipSettings.labelFormat);var f=this.leftTooltip.lastChild.getBBox().width+15,e=this.leftTooltip.lastChild.getBBox().height,y=this.brow!="msie"?(e+6)/2:e/2+6;this.leftTxt.setAttribute("y",y);this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z";this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z";t-f>=0?(this.leftTooltip.firstChild.setAttribute("d",this.leftd),this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(t-f)+","+o+")"}),this.leftTxt.setAttribute("x",5)):t+f<this.rightTooltip.getCTM().e?(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+t+","+o+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd),this.leftTxt.setAttribute("x",10)):this.rightTooltip.getCTM().f<30?(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+t+","+(o+30)+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd)):(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+t+","+o+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd));t>this.newWidth-this.rightTooltip.lastChild.getBBox().width-15&&this.rightTooltip.getCTM().f<30&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(t-f)+","+(o+30)+")"});this.rightTooltip.getCTM().f>=30&&t<this.rightTooltip.getCTM().e&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+this.rightTooltip.getCTM().e+","+o+")"})}this.ismouseup==!1?(this.renderer._setAttr(n(this.leftUnArea),{width:t-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+","+this.sliderPosition+")"}),this.leftCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:t}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(t-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+parseFloat(t)+","+this.sliderPosition+")"}),p=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),this.renderer._setAttr(n(this.centerSlider),{width:p})):(this.ismouseup=!1,this.renderer._setAttr(n(this.leftUnArea),{width:t-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+t+","+this.sliderPosition+")"}),this.leftCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:t}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(t-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+parseFloat(t)+","+this.sliderPosition+")"}),p=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),this.renderer._setAttr(n(this.centerSlider),{width:p}));this.model.zoomPosition=(t-this.padding)/(this.newWidth-this.padding*2);this.model.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2);w=this.rightSlider.getBoundingClientRect().left;a=="datetime"?(this.model.selectedRangeSettings.start=new Date(s),this.model.selectedRangeSettings.end=new Date(w/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval)):(this.model.selectedRangeSettings.start=s,this.model.selectedRangeSettings.end=w/this.eachInterval+this.startValue-this.padding/this.eachInterval)}else if(u!=null){if(u>this.newWidth-this.padding+1&&(u=this.newWidth-this.padding),this.rightSliderPosition=u,k=new Date(this.model.rangeSettings.start),l=this.model.enableRTL?this.newWidth-u:u,s=a=="datetime"?l/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval:l/this.eachInterval+this.startValue-this.padding/this.eachInterval,this.model.selectedRangeSettings.end=new Date(s),this.model.tooltipSettings.visible&&this.svgSupport){this.rightTooltip.setAttribute("opacity",this.setopacity);this.rightTxt.textContent=a=="datetime"?Globalize.format(new Date(s),this.model.tooltipSettings.labelFormat):Globalize.format(s,this.model.tooltipSettings.labelFormat);var f=this.rightTooltip.lastChild.getBBox().width+15,e=this.rightTooltip.lastChild.getBBox().height,y=this.brow!="msie"?(e+6)/2:e/2+6;this.rightTxt.setAttribute("y",y);this.rightTxt.setAttribute("x",10);this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z";this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z";u+f<=this.newWidth?(this.rightTooltip.firstChild.setAttribute("d",this.rightd),this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+u+","+o+")"})):u+f>=this.newWidth&&u-f>this.centerSlider.getCTM().e?(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(u-f)+","+o+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd),this.rightTxt.setAttribute("x",5)):this.leftTooltip.getCTM().f<30?(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(u-f)+","+(o+30)+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd)):(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(u-f)+","+o+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd));u<this.leftTooltip.getCTM().e+f&&this.leftTooltip.getCTM().f<30&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+u+","+(o+30)+")"});this.leftTooltip.getCTM().f>=30&&u>this.leftTooltip.getCTM().e+f&&this.rightTooltip.getCTM().e>this.leftTooltip.getCTM().e+f&&(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+this.leftTooltip.getCTM().e+","+o+")"}),this.rightTxt.setAttribute("x",5))}v=this.newWidth-u-this.padding-2;v=v<0?0:v;this.renderer._setAttr(n(this.rightUnArea),{width:v,transform:"translate("+parseFloat(u+2)+","+this.sliderPosition+")"});this.renderer._setAttr(n(this.rightSlider),{transform:"translate("+u+","+this.sliderPosition+")"});this.rightCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.rightCircle),{cx:u}):this.renderer._setAttr(n(this.rightCircle),{transform:"translate("+parseFloat(u-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}));this.centerSliderWidth=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left);this.renderer._setAttr(n(this.centerSlider),{width:this.centerSliderWidth});this.model.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2)}else if(r!=null){var d=this.renderer._getAttrVal(n(this.leftSlider),"width"),h=r,c=r+parseFloat(this.renderer._getAttrVal(n(this.centerSlider),"width")),k=new Date(this.model.rangeSettings.start);if(l=this.model.enableRTL?this.newWidth-h:h,s=a=="datetime"?l/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval:l/this.eachInterval+this.startValue-this.padding/this.eachInterval,this.model.selectedRangeSettings.start=new Date(s),h>=this.padding&&c<=this.newWidth-this.padding){if(this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+h+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+h+","+parseFloat(this.sliderPosition)+")"}),this.leftSliderPosition=h,this.leftCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:h}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(h-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"})),this.model.tooltipSettings.visible&&this.svgSupport){this.leftTooltip.setAttribute("opacity",this.setopacity);this.leftTxt.textContent=a=="datetime"?Globalize.format(new Date(s),this.model.tooltipSettings.labelFormat):Globalize.format(s,this.model.tooltipSettings.labelFormat);var f=this.leftTooltip.lastChild.getBBox().width+15,e=this.leftTooltip.lastChild.getBBox().height,y=this.brow!="msie"?(e+6)/2:e/2+6;this.leftTxt.setAttribute("y",y);this.rightTxt.setAttribute("y",y);this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z";this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z";h-f>=0?(this.leftTooltip.firstChild.setAttribute("d",this.leftd),this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(h-f)+","+o+")"}),this.leftTxt.setAttribute("x",5)):(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+h+","+o+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd),this.leftTxt.setAttribute("x",10),this.leftSliderPosition+f>this.rightSlider.getCTM().e&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+h+","+(o+30)+")"}))}l=this.model.enableRTL?this.newWidth-c:c;s=l/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval;this.model.selectedRangeSettings.end=new Date(s);this.renderer._setAttr(n(this.rightSlider),{transform:"translate("+c+","+this.sliderPosition+")"});this.rightSliderPosition=c;this.rightCircle!=i&&(this.svgSupport?this.renderer._setAttr(n(this.rightCircle),{cx:c}):this.renderer._setAttr(n(this.rightCircle),{transform:"translate("+parseFloat(c-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}));this.model.tooltipSettings.visible&&this.svgSupport&&(this.rightTooltip.setAttribute("opacity",this.setopacity),this.rightTxt.textContent=a=="datetime"?Globalize.format(new Date(s),this.model.tooltipSettings.labelFormat):Globalize.format(s,this.model.tooltipSettings.labelFormat),f=this.rightTooltip.lastChild.getBBox().width+15,e=this.rightTooltip.lastChild.getBBox().height,this.leftd="M 0 0 L 0 "+(e+6)+" L "+(f-6)+" "+(e+6)+" L "+(f-6)+" 6 L "+f+" 0 Z",this.rightd="M 0 0 L "+f+" 0 L "+f+" "+(e+6)+" L 6 "+(e+6)+" L 6 6 Z",c+f<=this.newWidth?(this.rightTooltip.firstChild.setAttribute("d",this.rightd),this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+c+","+o+")"}),this.rightTxt.setAttribute("x",10)):(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(c-f)+","+o+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd),this.rightTxt.setAttribute("x",5),this.rightTooltip.getBoundingClientRect().left<this.leftSlider.getBoundingClientRect().left&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(c-f)+","+(o+30)+")"})));this.renderer._setAttr(n(this.leftUnArea),{width:h-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"});this.renderer._setAttr(n(this.rightUnArea),{transform:"translate("+parseFloat(c+2)+","+this.sliderPosition+")",width:this.newWidth-c-this.padding-2});this.model.zoomPosition=(this.leftSlider.getBoundingClientRect().left-this.padding)/(this.newWidth-this.padding*2);this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+r+","+this.sliderPosition+")"});this.model.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2)}}!this.model.enableDeferredUpdate&&this.leftSlider.getBoundingClientRect().left<this.rightSlider.getBoundingClientRect().left&&(this._calculateSelectedData(),(this.zoomp!=this.model.zoomPosition||this.zoomf!=this.model.zoomFactor)&&(this._trigger("rangeChanged",this.model),this.zoomp=this.model.zoomPosition,this.zoomf=this.model.zoomFactor))},_calculateSelectedData:function(){var i=[],t=0,n;if(this.model.dataSource!="")for(n=0;n<this.model.dataSource.length;n++)Date.parse(this.model.selectedRangeSettings.start)<=Date.parse(this.model.dataSource[n][this.model.xName])&&Date.parse(this.model.selectedRangeSettings.end)>=Date.parse(this.model.dataSource[n][this.model.xName])&&(i[t]=this.model.dataSource[n],t++);else if(this.model.series!=""&&this.model.series[0].dataSource!=""&&this.model.series[0].dataSource!="")for(n=0;n<this.model.series[0].dataSource.length;n++)Date.parse(this.model.selectedRangeSettings.start)<=Date.parse(this.model.series[0].dataSource[n][this.model.series[0].xName])&&Date.parse(this.model.selectedRangeSettings.end)>=Date.parse(this.model.series[0].dataSource[n][this.model.series[0].xName])&&(i[t]=this.model.series[0].dataSource[n],t++);this.model.selectedData=i},calculateInterval:function(n,t){n.visible===!0&&this.model.valueType=="datetime"&&(n.intervalType==="years"?this.setYearInterval(this,"higher"):n.intervalType==="quarters"?this.setQuarterInterval(this,"higher",0):n.intervalType==="months"?this.setMonthInterval(this,"higher",0):n.intervalType=="weeks"?this.setWeekInterval(this,"higher",0):n.intervalType==="days"?this.setDayInterval(this,"higher",0):n.intervalType==="hours"&&this.setHourInterval(this,"higher",0));t.visible===!0&&this.model.valueType=="datetime"&&(t.intervalType==="years"?this.setYearInterval(this,"lower"):t.intervalType==="quarters"?this.setQuarterInterval(this,"lower",0):t.intervalType==="months"?this.setMonthInterval(this,"lower",0):t.intervalType=="weeks"?this.setWeekInterval(this,"lower",0):t.intervalType==="days"?this.setDayInterval(this,"lower",0):t.intervalType==="hours"&&this.setHourInterval(this,"lower",0));t.visible===!0&&this.model.valueType=="numeric"&&this.setInterval(this)},setInterval:function(n){var f,s=this.endValue-this.startValue,o=n.model.rangePadding,u=this.startValue,t=this.calculateNumericInterval(n,s),i,e,r;for(o=="additional"?(this.endValue=this.endValue+t,this.startValue=this.startValue-t,s=this.endValue-this.startValue):o=="normal"?(i=0,u<0?(u=0,i=this.startValue+this.startValue/20,e=t+i%t,.365*t>=e&&(i-=t),i%t<0&&(i=i-t-i%t)):(i=u<5/6*this.endValue?0:u-(this.endValue-u)/2,i%t>0&&(i-=i%t)),r=this.endValue+(this.endValue-u)/20,e=t-r%t,.365*t>=e&&(r+=t),r%t>0&&(r=r+t-r%t),t=this.calculateNumericInterval(n,r-i),this.startValue=i,this.endValue=r):o=="round"&&(this.startValue=Math.floor(this.startValue/t*t),this.endValue=Math.ceil(this.endValue/t*t)),f=n.startValue,count=0;f<=n.endValue;)this._insertNumericText(n,f),count++,f=f+t;this.insertLabels(n,"lower")},calculateNumericInterval:function(n,i){for(var f,e=this.GetDesiredIntervalsCount(n.newWidth),r=i/e,s=Math.pow(10,Math.floor(t.EjSvgRender.utils._logBase(r,10))),o=[10,5,2,1],u=0;u<o.length;u++){if(f=s*o[u],e<i/f)return r;r=f}return r},GetDesiredIntervalsCount:function(n){return Math.max(n*(.8/50),1)},setHourInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();Date.prototype.addHours=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0&&t.setMilliseconds(t.getMilliseconds()+(1e3-t.getMilliseconds())),t.getSeconds()!==0&&t.setSeconds(t.getSeconds()+(60-t.getSeconds())),t.getMinutes()!==0?t.setMinutes(t.getMinutes()+(60-t.getMinutes())):t.setHours(t.getHours()+n),t};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"hhtt",u,e,f,!1),o+=f,e++,u=u.addHours(1);o>=t.newWidth?t.setHourInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"hht",u,e,f,!1),o+=f,e++,u=u.addHours(1);this.insertLabels(t,i)}},_emptyLabelBars:function(t,i){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty()},_insertWeekText:function(n,i,r,u,f,e){var s=n.model.labelSettings.higherLevel.style.font,h=n.model.labelSettings.lowerLevel.style.font,c,o,l;return i==="higher"?(n._higherTotalValues[f]=f==0?0:u.getTime()-n.startDateTime.getTime(),c={id:this._rootId+"_higLabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":s.size,"font-family":s.family,"font-style":s.style,"font-weight":s.weight,fill:s.color},n.renderer.drawText(c,r,n.higherLevel),n._higherTextNode[f]=n.higherLevel.childNodes[f],o={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.style,fontFamily:n.model.labelSettings.higherLevel.style.font.family},l=this.svgSupport?t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].textContent,null,o):t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].innerHTML,null,o),e=Math.max(e,l.width)):(n._lowerTotalValues[f]=f==0?0:u.getTime()-n.startDateTime.getTime(),c={id:this._rootId+"_LabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":h.size,"font-family":h.family,"font-style":h.style,"font-weight":h.weight,fill:h.color},n.renderer.drawText(c,r,n.lowerLevel),n._lowerTextNode[f]=n.lowerLevel.childNodes[f],o={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.style,fontFamily:n.model.labelSettings.lowerLevel.style.font.family},l=this.svgSupport?t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].textContent,null,o):t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].innerHTML,null,o),e=Math.max(e,l.width)),e},setWeekInterval:function(n,i,r){this._emptyLabelBars(n,i);Date.prototype.getWeek=function(){var n=new Date(this.getTime()),t;return n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7),t=new Date(n.getFullYear(),0,4),1+Math.round(((n.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)};Date.prototype.dayOfWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.getDay()]};Date.prototype.addDays=function(n){var t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+n)};Date.prototype.subDays=function(n){var t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()-n)};for(var u=n.startDateTime,e=0,o=0,f=0,h=this.model.locale,s=t.datavisualization.RangeNavigator.locale[h]?t.datavisualization.RangeNavigator.locale[h]:t.datavisualization.RangeNavigator.locale["en-US"];u.dayOfWeek()!="Monday";)u=u.subDays(1);switch(r){case 0:while(u<=n.endDateTime)f=this._insertWeekText(n,i,s.intervals.week.longWeeks+" "+u.getWeek()+Globalize.format(u," MMMM, yyyy"),u,e,f),o+=f,e++,u=u.addDays(7);o>=n.newWidth?n.setWeekInterval(n,i,1):this.insertLabels(n,i);break;case 1:while(u<=n.endDateTime)f=this._insertWeekText(n,i,s.intervals.week.longWeeks+" "+u.getWeek()+Globalize.format(u," MMM, yy"),u,e,f),o+=f,e++,u=u.addDays(7);o>=n.newWidth?n.setWeekInterval(n,i,2):this.insertLabels(n,i);break;case 2:while(u<=n.endDateTime)f=this._insertWeekText(n,i,s.intervals.week.longWeeks+" "+u.getWeek(),u,e,f),o+=f,e++,u=u.addDays(7);o>=n.newWidth?n.setWeekInterval(n,i,3):this.insertLabels(n,i);break;case 3:while(u<=n.endDateTime)f=this._insertWeekText(n,i,s.intervals.week.shortWeeks+" "+u.getWeek(),u,e,f),o+=f,e++,u=u.addDays(7);this.insertLabels(n,i)}},setDayInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();Date.prototype.addDays=function(){var n=new Date(this.valueOf());return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1)};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"dddd, MMMM d, yyyy",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"ddd, MMM d, yy",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"dddd, d",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,3):this.insertLabels(t,i);break;case 3:while(u<=t.endDateTime)f=this._insertText(t,i,"dd",u,e,f,!1),o+=f,e++,u=u.addDays();this.insertLabels(t,i)}},setMonthInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();var u=t.startDateTime,e=0,s=new Date(t.startDateTime),o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"MMMM, yyyy",u,e,f,!1),o+=f,e++,u=u.addMonths();o>=t.newWidth?t.setMonthInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"MMMM",u,e,f,!1),o+=f,e++,u=u.addMonths();o>=t.newWidth?t.setMonthInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM",u,e,f,!1),o+=f,e++,u=u.addMonths();o>=t.newWidth?t.setMonthInterval(t,i,3):this.insertLabels(t,i);break;case 3:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM",u,e,f,!0),o+=f,e++,u=u.addMonths();this.insertLabels(t,i)}},_quarter:function(n,i,r,u,f,e,o){for(var c,s,h,l,a,v=n.startYear;v<=n.endYear;v++)if(c=u!=null?Globalize.format(f,u):"",v===n.startYear)for(s=n.startMonth;s<=11;s++)h=i=="higher"?{id:this._rootId+"_higLabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.family,"font-style":n.model.labelSettings.higherLevel.style.font.style,"font-weight":n.model.labelSettings.higherLevel.style.font.weight,fill:n.model.labelSettings.higherLevel.style.font.color}:{id:this._rootId+"_LabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.family,"font-style":n.model.labelSettings.lowerLevel.style.font.style,"font-weight":n.model.labelSettings.lowerLevel.style.font.weight,fill:n.model.labelSettings.lowerLevel.style.font.color},s>=0&&s<=2?(i=="higher"?n.renderer.drawText(h,r+" 1 "+c,n.higherLevel):n.renderer.drawText(h,r+" 1 "+c,n.lowerLevel),f=new Date(f.setMonth(3)),k=2):s>=3&&s<=5?(i=="higher"?n.renderer.drawText(h,r+" 2 "+c,n.higherLevel):n.renderer.drawText(h,r+" 2 "+c,n.lowerLevel),f=new Date(f.setMonth(6)),k=5):s>=6&&s<=8?(i=="higher"?n.renderer.drawText(h,r+" 3 "+c,n.higherLevel):n.renderer.drawText(h,r+" 3 "+c,n.lowerLevel),f=new Date(f.setMonth(9)),k=8):s>=9&&s<=11&&(i=="higher"?n.renderer.drawText(h,r+" 4 "+c,n.higherLevel):n.renderer.drawText(h,r+" 4 "+c,n.lowerLevel),f=new Date(f.setMonth(12)),k=11),i==="lower"?(n._lowerTotalValues[o]=s===n.startMonth?n.startDateTime.getTime()-n.startDateTime.getTime():new Date(n.startYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=k,n._lowerTextNode[o]=n.lowerLevel.childNodes[o],l={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.style,fontFamily:n.model.labelSettings.lowerLevel.style.font.family},a=t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[o].textContent,null,l),e+=a.width):(n._higherTotalValues[o]=s===n.startMonth?n.startDateTime.getTime()-n.startDateTime.getTime():new Date(n.startYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=k,n._higherTextNode[o]=n.higherLevel.childNodes[o],l={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.style,fontFamily:n.model.labelSettings.higherLevel.style.font.family},a=t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[o].textContent,null,l),e+=a.width),o++;else if(v===n.endYear)for(s=0;s<=n.endMonth;s++)h=i=="higher"?{id:this._rootId+"_higLabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.family,"font-style":n.model.labelSettings.higherLevel.style.font.style,"font-weight":n.model.labelSettings.higherLevel.style.font.weight}:{id:this._rootId+"_LabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.family,"font-style":n.model.labelSettings.lowerLevel.style.font.style,"font-weight":n.model.labelSettings.lowerLevel.style.font.weight},s>=0&&s<=2?(i=="higher"?n.renderer.drawText(h,r+" 1 "+c,n.higherLevel):n.renderer.drawText(h,r+" 1 "+c,n.lowerLevel),f=new Date(f.setMonth(3)),k=2):s>=3&&s<=5?(i=="higher"?n.renderer.drawText(h,r+" 2 "+c,n.higherLevel):n.renderer.drawText(h,r+" 2 "+c,n.lowerLevel),f=new Date(f.setMonth(6)),k=5):s>=6&&s<=8?(i=="higher"?n.renderer.drawText(h,r+" 3 "+c,n.higherLevel):n.renderer.drawText(h,r+" 3 "+c,n.lowerLevel),f=new Date(f.setMonth(9)),k=8):s>=9&&s<=11&&(i=="higher"?n.renderer.drawText(h,r+" 4 "+c,n.higherLevel):n.renderer.drawText(h,r+" 4 "+c,n.lowerLevel),f=new Date(f.setMonth(12)),k=11),i==="lower"?(n._lowerTotalValues[o]=new Date(n.endYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=k,n._lowerTextNode[o]=n.lowerLevel.childNodes[o],l={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.style,fontFamily:n.model.labelSettings.lowerLevel.style.font.family},a=t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[o].textContent,null,l),e+=a.width):(n._higherTotalValues[o]=new Date(n.endYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=k,n._higherTextNode[o]=n.higherLevel.childNodes[o],l={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.style,fontFamily:n.model.labelSettings.higherLevel.style.font.family},a=t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[o].textContent,null,l),e+=a.width),o++;else for(s=0;s<=11;s++)h=i=="higher"?{id:this._rootId+"_higLabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.family,"font-style":n.model.labelSettings.higherLevel.style.font.style,"font-weight":n.model.labelSettings.higherLevel.style.font.weight}:{id:this._rootId+"_LabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.family,"font-style":n.model.labelSettings.lowerLevel.style.font.style,"font-weight":n.model.labelSettings.lowerLevel.style.font.weight},s>=0&&s<=2?(i=="higher"?n.renderer.drawText(h,r+" 1 "+c,n.higherLevel):n.renderer.drawText(h,r+" 1 "+c,n.lowerLevel),f=new Date(f.setMonth(3)),k=2):s>=3&&s<=5?(i=="higher"?n.renderer.drawText(h,r+" 2 "+c,n.higherLevel):n.renderer.drawText(h,r+" 2 "+c,n.lowerLevel),f=new Date(f.setMonth(6)),k=5):s>=6&&s<=8?(i=="higher"?n.renderer.drawText(h,r+" 3 "+c,n.higherLevel):n.renderer.drawText(h,r+" 3 "+c,n.lowerLevel),f=new Date(f.setMonth(9)),k=8):s>=9&&s<=11&&(i=="higher"?n.renderer.drawText(h,r+" 4 "+c,n.higherLevel):n.renderer.drawText(h,r+" 4 "+c,n.lowerLevel),f=new Date(f.setMonth(12)),k=11),i==="lower"?(n._lowerTotalValues[o]=new Date(v+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=k,n._lowerTextNode[o]=n.lowerLevel.childNodes[o],l={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.style,fontFamily:n.model.labelSettings.lowerLevel.style.font.family},a=t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[o].textContent,null,l),e+=a.width):(n._higherTotalValues[o]=new Date(v+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=k,n._higherTextNode[o]=n.higherLevel.childNodes[o],l={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.style,fontFamily:n.model.labelSettings.higherLevel.style.font.family},a=t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[o].textContent,null,l),e+=a.width),o++;return e},setQuarterInterval:function(i,r,u){i._higherTextNode=[];i._higherTotalValues=[];i._lowerTextNode=[];i._lowerTotalValues=[];r==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();var e=new Date(i.startDateTime),o=0,f=0,h=this.model.locale,s=t.datavisualization.RangeNavigator.locale[h]?t.datavisualization.RangeNavigator.locale[h]:t.datavisualization.RangeNavigator.locale["en-US"];switch(u){case 0:f=this._quarter(i,r,s.intervals.quarter.longQuarters,"yyyy",e,f,o);f>=i.newWidth?i.setQuarterInterval(i,r,1):this.insertLabels(i,r);break;case 1:f=this._quarter(i,r,s.intervals.quarter.longQuarters,"yy",e,f,o);f>=i.newWidth?i.setQuarterInterval(i,r,2):this.insertLabels(i,r);break;case 2:f=this._quarter(i,r,s.intervals.quarter.shortQuarters,"yyyy",e,f,o);f>=i.newWidth?i.setQuarterInterval(i,r,3):this.insertLabels(i,r);break;case 3:f=this._quarter(i,r,s.intervals.quarter.shortQuarters,null,e,f,o);this.insertLabels(i,r)}},_insertText:function(n,i,r,u,f,e,o){var s,h,c;return Date.prototype.addYears=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0||t.getSeconds()!==0||t.getMinutes()!==0||t.getHours()!==0||t.getDate()!==0||t.getMonth()!==0?t=new Date(t.getFullYear()+1,0,1):t.setYear(t.getFullYear()+n),t},Date.prototype.addMonths=function(){var n=new Date(this.valueOf());return new Date(n.getFullYear(),n.getMonth()+1,1)},i==="higher"?(n._higherTotalValues[f]=u.getTime()-n.startDateTime.getTime(),s={id:this._rootId+"_higLabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.family,"font-style":n.model.labelSettings.higherLevel.style.font.style,"font-weight":n.model.labelSettings.higherLevel.style.font.weight,fill:n.model.labelSettings.higherLevel.style.font.color},o==!1?n.renderer.drawText(s,Globalize.format(u,r),n.higherLevel):n.renderer.drawText(s,Globalize.format(u,r).toString().substring(0,1),n.higherLevel),n._higherTextNode[f]=n.higherLevel.childNodes[f],h={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.style,fontFamily:n.model.labelSettings.higherLevel.style.font.family},c=this.svgSupport?t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].textContent,null,h):t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].innerHTML,null,h),e=Math.max(e,c.width)):(n._lowerTotalValues[f]=u.getTime()-n.startDateTime.getTime(),s={id:this._rootId+"_LabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.family,"font-style":n.model.labelSettings.lowerLevel.style.font.style,"font-weight":n.model.labelSettings.lowerLevel.style.font.weight,fill:n.model.labelSettings.lowerLevel.style.font.color},o==!1?n.renderer.drawText(s,Globalize.format(u,r),n.lowerLevel):n.renderer.drawText(s,Globalize.format(u,r).substring(0,1),n.lowerLevel),n._lowerTextNode[f]=n.lowerLevel.childNodes[f],h={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.style,fontFamily:n.model.labelSettings.lowerLevel.style.font.family},c=this.svgSupport?t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].textContent,null,h):t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].innerHTML,null,h),e=Math.max(e,c.width)),e},_insertNumericText:function(n,i){var r,f,u,e;n._lowerTotalValues[count]=i-n.startValue;r=n.model.labelSettings.style.font;f={id:this._rootId+"_LabelBarText_"+count,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":r.size,"font-family":r.family,"font-style":r.style,"font-weight":r.weight,fill:r.color};n.renderer.drawText(f,i,n.lowerLevel);n._lowerTextNode[count]=n.lowerLevel.childNodes[count];u={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.style,fontFamily:n.model.labelSettings.lowerLevel.style.font.family};e=this.svgSupport?t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[count].textContent,null,u):t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[count].innerHTML,null,u)},setYearInterval:function(n,t){var i=n.startDateTime;for(count=0;i<=n.endDateTime;)this._insertText(n,t,"yyyy",i,count,0,!1),count++,i=i.addYears(1);this.insertLabels(n,t)},_applyPadding:function(){for(var n=0;n<this._higherTotalValues.length;n++)this._higherTotalValues[n]+=this.padding;for(n=0;n<this._lowerTotalValues.length;n++)this._lowerTotalValues[n]+=this.padding},insertLabels:function(r,u){var b=jQuery.uaMatch(navigator.userAgent),g=this.model.labelSettings.lowerLevel.gridLineStyle.color,a,w,c,nt,k,l,d;this.lgClr=this.renderer.createGradientElement("lgColor",g,150,0,150,100,this.svgDocument);a=this.model.valueType;w=parseFloat(this.renderer._getAttrVal(n(r.svgDocument),"width"));this.eachInterval=a=="datetime"?(w-this.padding*2)/parseFloat(this.endDateTime.getTime()-this.startDateTime.getTime()):(w-this.padding*2)/parseFloat(this.endValue-this.startValue);var v=0,o=0,s,e,h,y,p,f;if(u==="higher"&&r.model.labelSettings.higherLevel.visible===!0)for(r.model.labelSettings.higherLevel.position=="top"&&r.model.labelSettings.lowerLevel.position=="top"?(s={x:this.padding,y:1,width:r.newWidth-r.padding*2,height:r.minHighHeight,stroke:r.model.labelSettings.higherLevel.border.color,"stroke-width":r.model.labelSettings.higherLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.higherLevel)):r.model.labelSettings.higherLevel.position=="top"?(s={x:this.padding,y:1,width:r.newWidth-r.padding*2,height:r.minHighHeight,stroke:r.model.labelSettings.higherLevel.border.color,"stroke-width":r.model.labelSettings.higherLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.higherLevel)):(s={x:this.padding,y:r.bottomPosition,width:r.newWidth-r.padding*2,height:r.minHighHeight,stroke:r.model.labelSettings.higherLevel.border.color,"stroke-width":r.model.labelSettings.higherLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.higherLevel)),r._higherLineLeft=[],e=r.model.enableRTL?r.newWidth-(r._higherTotalValues[r._higherTextNode.length-1]*this.eachInterval+this.padding):r._higherTotalValues[v]*this.eachInterval+this.padding,r.model.enableRTL?(f=r._higherTextNode.length-1,c=!0):(f=0,c=!1),nt=0;c?f>=0:f<r._higherTextNode.length;c?f--:f++){if(r._higherLineLeft[f]=e,p={size:r.model.labelSettings.higherLevel.style.font.size,fontStyle:r.model.labelSettings.higherLevel.style.font.style,fontFamily:r.model.labelSettings.higherLevel.style.font.family},y=t.EjSvgRender.utils._measureText(r.higherLevel.childNodes[v].textContent,null,p),o=y.width,h=r._higherTotalValues[f+1]===i?c?0:r.newWidth:c?r.newWidth-(r._higherTotalValues[f+1]*this.eachInterval+this.padding):r._higherTotalValues[f+1]*this.eachInterval+this.padding,l=r.model.labelSettings.higherLevel.style.horizontalAlignment==="center"?c?h-(h-e)/2-o/2:(h-e)/2+e-o/2:r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?c?h+10:e+10:c?e-o-2:h-o-2,r.renderer._setAttr(n(r._higherTextNode[f]),{x:l}),r.renderer._setAttr(n(r._higherTextNode[f]),{fill:r.model.labelSettings.higherLevel.style.font.color}),r._higherTextLeft[f]=l,r.model.labelSettings.higherLevel.position=="top"&&r.model.labelSettings.lowerLevel.position=="top"?(r._higherTextNode[f].setAttribute("y",r.minHighHeight-5),s={x1:e,y1:"0",x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.higherLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.higherLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.higherLevel)):r.model.labelSettings.higherLevel.position=="top"?(this.svgSupport?b.browser.toLowerCase()=="msie"?r._higherTextNode[f].setAttribute("y",r.centerPosition-5):r._higherTextNode[f].setAttribute("y",r.centerPosition-9):r.renderer._setAttr(n(r._higherTextNode[f]),{y:r.centerPosition/2-5}),s={x1:e,y1:"0",x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.higherLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.higherLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.higherLevel)):(r._higherTextNode[f].setAttribute("y",r.newHeight-5),s={x1:e,y1:this.bottomPosition,x2:e,y2:r.newHeight,stroke:r.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.higherLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.higherLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.higherLevel)),(l<this.padding||r.newWidth-e-this.padding<o)&&a=="datetime")if(c)l<this.padding&&e-this.padding>o?r.model.labelSettings.higherLevel.style.horizontalAlignment==="center"?r._higherTextNode[f].setAttribute("x",this.padding+(e-this.padding)/2-o/2):r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?r._higherTextNode[f].setAttribute("x",this.padding+10):r._higherTextNode[f].setAttribute("x",e-o-2):r.newWidth-e<o&&r.newWidth-h-this.padding>o?r.model.labelSettings.higherLevel.style.horizontalAlignment==="center"?r._higherTextNode[f].setAttribute("x",h+(r.newWidth-h-this.padding)/2-o/2):r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?r._higherTextNode[f].setAttribute("x",h+10):r._higherTextNode[f].setAttribute("x",r.newWidth-o-2-this.padding):r.higherLevel.removeChild(r._higherTextNode[f]);else{r.higherLevel.removeChild(r._higherTextNode[f]);continue}else if(l+o>r.newWidth-this.padding&&a=="datetime"){l=r.model.labelSettings.higherLevel.style.horizontalAlignment==="center"?e+(r.newWidth-e-this.padding)/2-o/2:r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?e:r.newWidth-o*3/2;r._higherTextNode[f].setAttribute("x",l);continue}e=this.model.enableRTL?r.newWidth-(r._higherTotalValues[f-1]*this.eachInterval+this.padding):r._higherTotalValues[f+1]*this.eachInterval+this.padding;v++}else if(r.model.labelSettings.lowerLevel.visible===!0)for(r._lowerLineLeft=[],e=r.model.enableRTL?r.newWidth-(r._lowerTotalValues[r._lowerTextNode.length-1]*this.eachInterval+this.padding):r._lowerTotalValues[v]*this.eachInterval+this.padding,k=r.model.labelSettings.higherLevel.visible?r.bottomPosition:r.centerHeight,r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="top"?(s={x:this.padding,y:k,width:this.newWidth-r.padding*2,height:r.minLowHeight-1,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},a!="numeric"&&r.renderer.drawRect(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="bottom"?(s={x:this.padding,y:r.centerHeight,width:this.newWidth-r.padding*2,height:r.minLowHeight-1,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="top"&&r.model.labelSettings.higherLevel.position==="bottom"?(s={x:this.padding,y:0,width:this.newWidth-r.padding*2,height:r.minLowHeight-1,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.lowerLevel)):r.model.labelSettings.higherLevel.position==="top"&&r.model.labelSettings.lowerLevel.position==="top"&&(s={x:this.padding,y:r.minHighHeight-1,width:this.newWidth-r.padding*2,height:r.minLowHeight,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.lowerLevel)),r.model.enableRTL?(f=r._lowerTextNode.length-1,c=!0):(f=0,c=!1);c?f>=0:f<r._lowerTextNode.length;c?f--:f++)r._lowerLineLeft[f]=e,p={size:r.model.labelSettings.lowerLevel.style.font.size,fontStyle:r.model.labelSettings.lowerLevel.style.font.style,fontFamily:r.model.labelSettings.lowerLevel.style.font.family},y=t.EjSvgRender.utils._measureText(r.lowerLevel.childNodes[v].textContent,null,p),o=y.width,l=0,h=r._lowerTotalValues[f+1]===i?c?0:r.newWidth:c?r.newWidth-(r._lowerTotalValues[f+1]*this.eachInterval+this.padding):r._lowerTotalValues[f+1]*this.eachInterval+this.padding,l=r.model.labelSettings.lowerLevel.style.horizontalAlignment==="center"?c?(e-h)/2+h-o/2:(h-e)/2+e-o/2:r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?c?h+2:e+2:c?e-o-2:h-o-2,a=="numeric"&&(l=e-o/2),r.renderer._setAttr(n(r._lowerTextNode[f]),{x:l}),r.renderer._setAttr(n(r._lowerTextNode[f]),{fill:r.model.labelSettings.lowerLevel.style.font.color}),r._lowerTextLeft[f]=l,r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="top"?(this.svgSupport?b.browser.toLowerCase()=="msie"?r._lowerTextNode[f].setAttribute("y",r.newHeight-5):r._lowerTextNode[f].setAttribute("y",r.newHeight-9):r.renderer._setAttr(n(r._lowerTextNode[f]),{y:r.newHeight-y.height}),d=r.model.labelSettings.higherLevel.visible?parseFloat(r.minHighHeight+r.centerHeight):r.minHighHeight,s={x1:e,y1:d,x2:e,y2:r.newHeight,stroke:this.lgClr,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&a!="numeric"&&r.renderer.drawLine(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="bottom"?(r._lowerTextNode[f].setAttribute("y",r.bottomPosition-5),s={x1:e,y1:r.centerHeight,x2:e,y2:r.bottomPosition,stroke:r.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="top"&&r.model.labelSettings.higherLevel.position==="bottom"?(r._lowerTextNode[f].setAttribute("y",r.centerPosition-5),s={x1:e,y1:0,x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.lowerLevel)):r.model.labelSettings.higherLevel.position==="top"&&r.model.labelSettings.lowerLevel.position==="top"&&(r._lowerTextNode[f].setAttribute("y",r.centerPosition-5),s={x1:e,y1:r.minHighHeight,x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.lowerLevel)),(l<this.padding||r.newWidth-e-this.padding<o)&&a=="datetime"?c?(l<this.padding&&e-this.padding>o?r.model.labelSettings.lowerLevel.style.horizontalAlignment==="center"?r._lowerTextNode[f].setAttribute("x",this.padding+(e-this.padding)/2-o/2):r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?r._lowerTextNode[f].setAttribute("x",this.padding+10):r._lowerTextNode[f].setAttribute("x",e-o-2):r.newWidth-e<o&&r.newWidth-this.padding-h>o?r.model.labelSettings.lowerLevel.style.horizontalAlignment==="center"?r._lowerTextNode[f].setAttribute("x",h+(r.newWidth-h-this.padding)/2-o/2):r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?r._lowerTextNode[f].setAttribute("x",h+10):r._lowerTextNode[f].setAttribute("x",r.newWidth-o-2-this.padding):r.lowerLevel.removeChild(r._lowerTextNode[f]),v--):(r.lowerLevel.removeChild(r._lowerTextNode[f]),v--):l+o>r.newWidth-this.padding&&a=="datetime"&&(l=r.model.labelSettings.lowerLevel.style.horizontalAlignment==="center"?e+(r.newWidth-e-this.padding)/2-o/2:r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?e:r.newWidth-o*3/2,r._lowerTextNode[f].setAttribute("x",l)),e=this.model.enableRTL?r.newWidth-(r._lowerTotalValues[f-1]*this.eachInterval+this.padding):r._lowerTotalValues[f+1]*this.eachInterval+this.padding,v++;r._setGridlines(r);n(this.higherLevel).css("cursor","pointer");n(this.lowerLevel).css("cursor","pointer")},_setGridlines:function(n){var t,i;if(n.model.navigatorStyleSettings.minorGridLineStyle.visible===!0)for(t=1;t<n._lowerTextNode.length;t++)n.model.labelSettings.higherLevel.position=="top"&&n.model.labelSettings.lowerLevel.position=="top"?(i={x1:n._lowerLineLeft[t],y1:n.centerHeight+n.minLowHeight+n.minHighHeight,x2:n._lowerLineLeft[t],y2:n.centerPosition,stroke:n.model.navigatorStyleSettings.minorGridLineStyle.color,"stroke-width":"1"},n.renderer.drawLine(i,n.centerLevel)):(i={x1:n._lowerLineLeft[t],y1:n.centerPosition,x2:n._lowerLineLeft[t],y2:n.centerPosition+n.centerHeight,stroke:n.model.navigatorStyleSettings.minorGridLineStyle.color,"stroke-width":"1"},n.renderer.drawLine(i,n.centerLevel));else for(t=0;t<n._higherTextNode.length;t++)i={x1:n._higherLineLeft[t],y1:n.centerHeight+n.minLowHeight,x2:n._higherLineLeft[t],y2:n.centerPosition,stroke:n.model.navigatorStyleSettings.majorGridLineStyle.color,"stroke-width":"1"},n.renderer.drawLine(i,n.centerLevel)},bindTo:function(){t.util.isNullOrUndefined(this.model.dataSource)||this.model.dataSource!=null&&this.model.dataSource.length>0&&this._processJsonData(this.model.dataSource,this.model)},_processJsonData:function(n,r){for(var f,s,e,o=[],h=[],c=0,u=0;u<n.length;u++)typeof n[u][r.xName]=="string"&&n[u][r.xName].indexOf("/Date(")!=-1&&(n[u][r.xName]=new Date(parseInt(n[u][r.xName].substr(6)))),jQuery.type(n[u][r.xName])!="string"&&jQuery.type(n[u][r.xName])!="date"?o.push(parseFloat(t.util.isNullOrUndefined(n[u][r.xName])?u:n[u][r.xName])):o.push(t.util.isNullOrUndefined(n[u][r.xName])?u:n[u][r.xName]);if(!t.util.isNullOrUndefined(r.yName))for(f=0;f<r.yName.length;f++){for(s=[],e=0;e<n.length;e++)s.push(n[e][r.yName[f]]===null||n[e][r.yName[f]]===i?n[e][r.yName[f]]:parseFloat(n[e][r.yName[f]]));h[f]=s;c=f+1}this.endDateTime=new Date(Math.max.apply(null,o));this.startDateTime=new Date(Math.min.apply(null,o));this.endValue=Math.max.apply(null,o);this.startValue=Math.min.apply(null,o)},calTouchPosition:function(t){var f=jQuery.uaMatch(navigator.userAgent),r,u,i;return f.browser.toLowerCase()=="mozilla"||f.browser.toLowerCase()=="webkit"?(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).parent().offset().left,u=i.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=n(this.svgDocument).offset().left,this.grabPadding=0):f.browser.toLowerCase()=="msie"?(r=t.originalEvent.pageX-n(this.svgDocument).offset().left,u=t.originalEvent.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left):(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).offset().left,u=i.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:r,Y:u}},calMousePosition:function(t){var u=jQuery.uaMatch(navigator.userAgent),i,r;return u.browser.toLowerCase()=="mozilla"||u.browser.toLowerCase()=="webkit"?(i=t.pageX-n(this.svgDocument).parent().offset().left,r=t.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=0,this.grabPadding=0):(i=t.pageX-n(this.svgDocument).offset().left,r=t.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:i,Y:r}},calTouchPosition:function(t){var f=jQuery.uaMatch(navigator.userAgent),r,u,i;return f.browser.toLowerCase()=="mozilla"||f.browser.toLowerCase()=="webkit"?(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).parent().offset().left,u=i.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=n(this.svgDocument).offset().left,this.grabPadding=0):f.browser.toLowerCase()=="msie"?(r=t.originalEvent.pageX-n(this.svgDocument).offset().left,u=t.originalEvent.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left):(i=t.originalEvent.touches[0],r=i.pageX-n(this.svgDocument).offset().left,u=i.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:r,Y:u}},_grab:function(n){var e,t,h,f,o,u,i,r,s;if(n.preventDefault(),e=jQuery.uaMatch(navigator.userAgent),t=this,h=this.svgSupport&&n.originalEvent.toString()!=="[object TouchEvent]"&&e.browser.toLowerCase()!="msie"?t.calMousePosition(n):this.svgSupport?t.calTouchPosition(n):t.calMousePosition(n),t.mouseDownX=h.X,t.mouseDownY=h.Y,f=t.edge==!0?t.target:n.target,f.parentNode.id==="leftslider"||f.parentNode.id==="rightslider"||f.parentNode.id==="centerslider"||f.parentNode.id===this._rootId+"higherLevel"||f.parentNode.id===this._rootId+"lowerLevel")if(t.dragTarget=f,t.grabbed=!0,t.edge=!1,this.svgSupport&&(o=t.dragTarget.getCTM(),t.grabPoint.x=e.browser.toLowerCase()=="mozilla"||e.browser.toLowerCase()=="webkit"?t.mouseDownX+this.grabPadding-Number(o.e):t.mouseDownX+this.leftPadding-Number(o.e),t.grabPoint.y=t.trueCoords.y-Number(o.f)),r=!1,s=t.model.enableRTL,s&&(t._higherLineLeft.sort(function(n,t){return n-t}),t._lowerLineLeft.sort(function(n,t){return n-t})),t.dragTarget.parentNode.id===this._rootId+"higherLevel"&&t.model.valueType=="datetime"){for(t.grabbed=!1,u=t.mouseDownX,i=0;i<t._higherLineLeft.length;i++)i+1<t._higherLineLeft.length&&u>t._higherLineLeft[i]&&u<t._higherLineLeft[i+1]?(t.setSliderPositions(t._higherLineLeft[i],null,null),t.setSliderPositions(null,null,t._higherLineLeft[i+1]),r=!0):i+1===t._higherLineLeft.length&&u>t._higherLineLeft[i]&&(t.setSliderPositions(t._higherLineLeft[i],null,null),t.setSliderPositions(null,null,t.newWidth-t.padding),r=!0);s&&!r&&(t.setSliderPositions(0+t.padding,null,null),t.setSliderPositions(null,null,t._higherLineLeft[0]),r=!1)}else if(t.dragTarget.parentNode.id===this._rootId+"lowerLevel"&&t.model.valueType=="datetime"){for(t.grabbed=!1,u=t.mouseDownX,i=0;i<t._lowerLineLeft.length;i++)i+1<t._lowerLineLeft.length&&u>t._lowerLineLeft[i]&&u<t._lowerLineLeft[i+1]?(t.setSliderPositions(t._lowerLineLeft[i],null,null),t.setSliderPositions(null,null,t._lowerLineLeft[i+1]),r=!0):i+1===t._lowerLineLeft.length&&u>t._lowerLineLeft[i]&&(t.setSliderPositions(t._lowerLineLeft[i],null,null),t.setSliderPositions(null,null,t.newWidth-t.padding),r=!0);s&&!r&&(t.setSliderPositions(0+t.padding,null,null),t.setSliderPositions(null,null,t._lowerLineLeft[0]),r=!1)}},_drag:function(t){var u,i,e,r,f;t.preventDefault();u=jQuery.uaMatch(navigator.userAgent);i=this;e=this.svgSupport&&t.originalEvent.toString()!=="[object TouchEvent]"&&u.browser.toLowerCase()!="msie"?i.calMousePosition(t):this.svgSupport?i.calTouchPosition(t):i.calMousePosition(t);i.mouseDownX=e.X;i.mouseDownY=e.Y;this.svgSupport&&i.GetTrueCoords(t);i.dragTarget&&((i.edge||i.dragTarget!==i.leftSlider)&&i.dragTarget!==i.rightSlider&&i.dragTarget!==i.centerSlider?(r=i.mouseDownX,f=i.mouseDownY):this.svgSupport?u.browser.toLowerCase()=="webkit"||u.browser.toLowerCase()=="mozilla"?(r=i.mouseDownX-i.grabPoint.x,f=i.mouseDownY-i.grabPoint.y):(r=i.trueCoords.x-i.grabPoint.x,f=i.trueCoords.y-i.grabPoint.y):(r=i.mouseDownX,f=i.mouseDownY),i.diff=i.leftSlider.getBoundingClientRect().left-i.rightSlider.getBoundingClientRect().left,i.leftdiff=i.rightSlider.getBoundingClientRect().left-this.padding,i.rightdiff=i.leftSlider.getBoundingClientRect().left-this.padding,i.dragTarget.parentNode.id==="leftslider"?(i.grabbed=!1,i.diff>=-1&&i.diff<=1&&i.switched==!1&&i.rightdiff<i.newWidth-2*this.padding?(i.target=i.rightSlider,i.switched=!0,i.edge=!0,i._grab(t),i._drag(t)):(r<=this.rightSliderPosition?(i.setSliderPositions(r,null,null),this.leftSliderPosition=r,this.leftset=!1):(i.setSliderPositions(this.rightSliderPosition,null,null),this.leftset=!0,this.leftSliderPosition=this.rightSliderPosition),(i.diff>=1||i.diff<=-1)&&(i.switched=!1)),i.left=r):i.dragTarget.parentNode.id==="rightslider"?(i.grabbed=!1,i.diff>=0&&i.diff<=1&&i.switched==!1&&i.leftdiff>0?(i.target=i.leftSlider,i.switched=!0,i.edge=!0,i._grab(t),i._drag(t)):(r>=this.leftSliderPosition?(i.setSliderPositions(null,null,r),this.rightSliderPosition=r):(i.setSliderPositions(null,null,this.leftSliderPosition),this.rightSliderPosition=this.leftSliderPosition),(i.diff>=1||i.diff<=-1)&&(i.switched=!1)),i.right=r):i.dragTarget.parentNode.id==="centerslider"&&(i.grabbed=!1,i.setSliderPositions(null,parseFloat(r),null),r>r+this.renderer._getAttrVal(n(i.dragTarget),"width")&&i.setSliderPositions(null,r,null),i.center=r))},_drop:function(n){var e,t,u,f,r;if(this.dragTarget){if(e=n.target,t=this,t.model.allowSnapping&&parseInt(t.leftSlider.getBoundingClientRect().left+2)<parseInt(t.rightSlider.getBoundingClientRect().left))for(t.ismouseup=!0,t.dragTarget.parentNode.id==="leftslider"?u=t.left:t.dragTarget.parentNode.id==="rightslider"?u=t.right:t.dragTarget.parentNode.id==="centerslider"&&(u=t.center),f=0,r=0;r<t._lowerLineLeft.length;r++)r+1<t._lowerLineLeft.length&&u>t._lowerLineLeft[r]&&u<t._lowerLineLeft[r+1]?(t.snapValue=t._lowerLineLeft[r],f=t._lowerLineLeft[r+1]-t.snapValue,u>=t.snapValue+f/2?(t.snapValue=t._lowerLineLeft[r+1],t.dragTarget.parentNode.id==="leftslider"?t.setSliderPositions(t._lowerLineLeft[r+1],null,null):t.dragTarget.parentNode.id==="rightslider"?t.setSliderPositions(null,null,t._lowerLineLeft[r+1]):t.dragTarget.parentNode.id==="centerslider"&&(t.setSliderPositions(null,null,t._lowerLineLeft[r+1]+parseFloat(t.centerSlider.getAttribute("width"))),t.setSliderPositions(t._lowerLineLeft[r+1],null,null))):(t.snapValue=t._lowerLineLeft[r],t.dragTarget.parentNode.id==="leftslider"?t.setSliderPositions(t._lowerLineLeft[r],null,null):t.dragTarget.parentNode.id==="rightslider"?t.setSliderPositions(null,null,t._lowerLineLeft[r]):t.dragTarget.parentNode.id==="centerslider"&&(t.setSliderPositions(null,null,t._lowerLineLeft[r]+parseFloat(t.centerSlider.getAttribute("width"))),t.setSliderPositions(t._lowerLineLeft[r],null,null)))):r+1===t._lowerLineLeft.length&&u>t._lowerLineLeft[r]&&t.setSliderPositions(null,null,t.newWidth-t.padding);this.dragTarget=null;this.leftTooltip!=i&&this.model.tooltipSettings.tooltipDisplayMode=="always"?(this.leftTooltip.setAttribute("opacity",1),this.rightTooltip.setAttribute("opacity",1)):this.leftTooltip!=i&&this.model.tooltipSettings.tooltipDisplayMode=="ondemand"&&(this.leftTooltip.setAttribute("opacity",0),this.rightTooltip.setAttribute("opacity",0));this.model.enableDeferredUpdate&&(this._calculateSelectedData(),t.grabbed||(this.zoomp!=this.model.zoomPosition||this.zoomf!=this.model.zoomFactor)&&(this._callRangeChange(this),this.zoomp=this.model.zoomPosition,this.zoomf=this.model.zoomFactor))}},_callRangeChange:function(n){n._trigger("rangeChanged",n.model)},mouseup:function(n){this.dragTarget!=null&&(this._drop(n),this.dragTarget!=null&&(this.dragTarget.setAttributeNS(null,"pointer-events","all"),this.dragTarget=null),this.model.enableDeferredUpdate&&(this._calculateSelectedData(),this._trigger("rangeChanged",this.model)))},GetTrueCoords:function(n){var t=this.svgDocument.currentScale,i=this.svgDocument.currentTranslate,r=jQuery.uaMatch(navigator.userAgent);n.originalEvent.toString()!=="[object TouchEvent]"&&r.browser.toLowerCase()!="msie"?(this.trueCoords.x=(n.clientX-i.x)/t,this.trueCoords.y=(n.clientY-i.y)/t):r.browser.toLowerCase()=="msie"?(this.trueCoords.x=(n.originalEvent.clientX-i.x)/t,this.trueCoords.y=(n.originalEvent.clientY-i.y)/t):(this.trueCoords.x=(n.originalEvent.touches[0].clientX-i.x)/t,this.trueCoords.y=(n.originalEvent.touches[0].clientY-i.y)/t)}});t.datavisualization.RangeNavigator.locale={};t.datavisualization.RangeNavigator.locale["en-US"]={intervals:{quarter:{longQuarters:"Quarter",shortQuarters:"Q"},week:{longWeeks:"Week",shortWeeks:"W"}}}}(jQuery,Syncfusion);jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},function(t,i,r){i.widget({ejMap:"ej.datavisualization.Map"},{validTags:["div"],_initPrivateProperties:function(){this._rootgroup=null;this._bubblegroup=null;this._scale=1;this._prevDistance=0;this._tileTranslatePoint={x:0,y:0};this._translatePoint={x:0,y:0};this._prevPoint=null;this._Tiles=[];this._prevScale=0;this._tileDiv=null;this._containerWidth=500;this._containerHeight=400;this._baseTranslatePoint={x:0,y:0};this._isDragging=!1;this._prevLevel=1;this._browser=null;this._baseScale=0;this._mapBounds=null;this._svgns="http://www.w3.org/2000/svg";this._ispanning=!1;this._dragStartX=0;this._isNavigationPressed=!1;this._iskeyboardKeysPressed=!1;this._isPolygonSelected=!1;this._dragStartY=0;this._width=500;this._height=500;this._svgDocument=null;this._tooltipElement=null;this._templateDiv=null;this._mapContainer=null;this._isSVG=!0;this._VMLPathFractionCount=0;this._sliderControl=null;this._isTileMap=!1;this._isRendered=!1;this._urlTemplate=null;this._polylineCount=0;this._pointscount=0;this._isPinching=!1;this._groupSize=null;this._groupBorder={x:0,y:0}},defaults:{background:"white",zoomSettings:{minValue:1,maxValue:100,factor:1,level:1,enableZoomOnSelection:!1,enableZoom:!0},centerPosition:[0,0],enableResize:!0,enableAnimation:!1,navigationControl:null,enableLayerChangeAnimation:!1,enablePan:!0,baseMapIndex:0,shapeSelected:"",markerSelected:"",zoomedIn:"",onRenderComplete:"",panned:"",zoomedOut:"",mouseover:"",mouseleave:"",layers:[]},observables:["dataSource","baseMapIndex"],enableZoom:i.util.valueFunction("zoomSettings.enableZoom"),enableZoomOnSelection:i.util.valueFunction("zoomSettings.enableZoomOnSelection"),zoomLevel:i.util.valueFunction("zoomSettings.level"),minZoom:i.util.valueFunction("zoomSettings.minValue"),zoomFactor:i.util.valueFunction("zoomSettings.factor"),maxZoom:i.util.valueFunction("zoomSettings.maxValue"),baseMapIndex:i.util.valueFunction("baseMapIndex"),dataTypes:{layers:"array"},_destroy:function(){this._unWireEvents();_isSVG?t(this.element).removeClass("e-map e-js").find("#svgDocument").remove():t(this.element).removeClass("e-map e-js").find("#rootGroup").remove()},_setModel:function(n){var i,r;for(i in n)switch(i){case"zoomSettings.level":this.enableZoom()&&this.zoom(n[i]);break;case"baseMapIndex":this.baseMapIndex(n[i]);r=this;this.model.enableAnimation?(this.model.enableLayerChangeAnimation=!0,t(this._mapContainer).animate({opacity:0},500,function(){r.refresh()})):this.refresh();break;case"minZoom":this.minZoom(n[i]);this.zoomLevel()<this.minZoom()&&this.zoom(this.minZoom());break;case"maxZoom":this.maxZoom(n[i]);this.zoomLevel()>this.maxZoom()&&this.zoom(this.maxZoom());break;case"background":this.model.background=n[i];t(this._mapContainer).css("background-image",this.model.background)}},_init:function(){var i=this,n;this._initPrivateProperties();t.each(this.model.layers,function(n){i._layerInitialize(n)});this._mapContainer=this.element;t(this._mapContainer).css({overflow:"hidden"});n=t("<style>.labelLegend {padding:3px;font-weight: normal;color:black;width:auto;height:20px;text-align:center;font-size: 14px;font-family:Segoe UI;}.labelLegend:hover{cursor:pointer;}<\/style>");t("html > head").append(n);this.refresh();this._trigger("onRenderComplete");this._isRendered=!0;_isSVG&&t(this._svgDocument).pinchZoom(this._rootgroup,this)},_layerInitialize:function(n){var i=this;this.model.layers[n]!=null?t.each(this.model.layers,function(n,r){r=i._checkArrayObject(r,n);var f=new u;t.extend(f,r);t.extend(r,f);t.each(r.subLayers,function(n,r){r=i._checkArrayObject(r,n);var f=new u;t.extend(f,r);t.extend(r,f)})}):this.layers[0]=new u},_checkArrayObject:function(n,i){var r=this;return t.each(n,function(n,t){if(t instanceof Array)r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var f=new u;r._loadIndividualDefaultValues(t,f,typeof n=="number"?i:n)}}),n},_loadIndividualDefaultValues:function(n,i,r){var u=null,f=this;return t.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),t.each(n,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._loadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),t.extend(u,n),t.extend(n,u),n},_refreshWithAnimation:function(){this.model.layers[this.baseMapIndex()]._setMapItemsPositionWithAnimation(this);for(var n=0;n<this.model.layers[this.baseMapIndex()].subLayers.length;n++)this.model.layers[this.baseMapIndex()].subLayers[n]._setMapItemsPositionWithAnimation(this)},_resizeShape:function(){this.model.layers[this.baseMapIndex()]._resizeShapes(this);for(var n=0;n<this.model.layers[this.baseMapIndex()].subLayers.length;n++)this.model.layers[this.baseMapIndex()].subLayers[n]._resizeShapes(this)},_refrshLayers:function(){this.model.layers[this.baseMapIndex()]._setMapItemsPosition(this);for(var n=0;n<this.model.layers[this.baseMapIndex()].subLayers.length;n++)this.model.layers[this.baseMapIndex()].subLayers[n]._setMapItemsPosition(this)},_panTileMap:function(n,t,i){var u=Math.pow(2,this.zoomLevel())*256,r;this._tileTranslatePoint.x=n/2-u/2;this._tileTranslatePoint.y=t/2-u/2;r=this._convertTileLatLongtoPoint(i[0],i[1]);this._tileTranslatePoint.x-=r.x-n/2;this._tileTranslatePoint.y-=r.y-t/2},_generateTiles:function(n){var w=navigator.language||navigator.userLanguage,b,k,e,o,s,h,r,p,c,u,l,a,v;this.Tiles=[];b=k=Math.pow(2,n);var y=this.model.layers[this.baseMapIndex()],d=Math.min(k,(-this._tileTranslatePoint.y+this._height)/256+1),g=Math.min(b,(-this._tileTranslatePoint.x+this._width)/256+1),nt=-(this._tileTranslatePoint.x+256)/256,tt=-(this._tileTranslatePoint.y+256)/256;for(e=Math.round(nt);e<Math.round(g);e++)for(o=Math.round(tt);o<Math.round(d);o++)s=256*e+this._tileTranslatePoint.x,h=256*o+this._tileTranslatePoint.y,s>-256&&s<=this._width&&h>-256&&h<this._height&&e>=0&&o>=0&&(r=new f(e,o),r.left=s,r.top=h,r.src=y.layerType==i.datavisualization.Map.LayerType.Bing?this._getBingMap(r,y.key,y.bingMapType,w):this._urlTemplate.replace("level",this.zoomLevel()).replace("tileX",r.X).replace("tileY",r.Y),this.Tiles.push(r));for(p=t.extend(!0,[],this.Tiles),c=0;c<this.model.layers[this.baseMapIndex()].subLayers.length;c++)if(u=this.model.layers[this.baseMapIndex()].subLayers[c],u.layerType==i.datavisualization.Map.LayerType.OSM||u.layerType==i.datavisualization.Map.LayerType.Bing)for(l=0;l<p.length;l++)a=p[l],v=t.extend(!0,{},a),v.src=u.layerType==i.datavisualization.Map.LayerType.Bing?this._getBingMap(v,u.key,u.bingMapType,w):u.urlTemplate.replace("level",this.zoomLevel()).replace("tileX",a.X).replace("tileY",a.Y),this.Tiles.push(v);this._arrangeTiles()},_getBingMap:function(n,t,r,u){for(var f,s,h,e="",o=this.zoomLevel();o>0;o--)f=0,s=1<<o-1,(n.X&s)!=0&&f++,(n.Y&s)!=0&&(f+=2),e=e+""+f;return h=r==i.datavisualization.Map.BingMapType.Aerial?"A,G":r==i.datavisualization.Map.BingMapType.AerialWithLabel?"A,G,L":"G,VE,BX,L,LA","http://ak.dynamic.t2.tiles.virtualearth.net/comp/ch/"+e+"?mkt="+u+"&ur=IN&it="+h+"&shading=hill&og=45&n=z&Key="+t},_arrangeTiles:function(){var n=t.templates("<div><div style='position:absolute;left:{{:left}}px;top:{{:top}}px;height:{{:height}}px;width:{{:width}}px;'><img src={{:src}}><\/img><\/div><\/div>"),i=n.render(this.Tiles),r=this._mapContainer[0].children[0];this._tileDiv.html(i)},_generatePath:function(){var n=this.model.layers[this.baseMapIndex()],f="",u,e,o;for(this._polylineCount=0,this._pointscount=0,_isSVG=window.SVGSVGElement?!0:!1,n.layerType==i.datavisualization.Map.LayerType.Geometry?n!=r&&n.shapeData!=null&&(n._isBaseLayer=!0,this._isTileMap=!1,this._scale=this.zoomLevel(),f=this._readShapeData(n)):(this._isTileMap=!0,this._scale=Math.pow(2,this.zoomLevel()-1)),u=0;u<n.subLayers.length;u++)n.subLayers[u].layerType==i.datavisualization.Map.LayerType.Geometry&&n.subLayers[u].shapeData!=null&&(n.subLayers[u]._isBaseLayer=!1,f+=this._readShapeData(n.subLayers[u]));_isSVG?(e='<div style="position:relative;" id="tileDiv"/><svg xmlns="http://www.w3.org/2000/svg" style= "overflow:hidden;z-index:0;float:left;left:0,top:0"id="svgDocument"> <g id="rootGroup">'+f+"<\/g><\/svg>",this._mapContainer.html(e),this._svgDocument=this.element.find("#svgDocument")[0],this._tileDiv=this.element.find("#tileDiv"),t(this._svgDocument).css({height:this._height,width:this._width})):(document.createStyleSheet().addRule(".vml","behavior:url(#default#VML);display:inline-block"),document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),o='<div id="tileDiv"/><v:group   id = "rootGroup" style="position:absolute; width:'+this._width+"px;height:"+this._height+'px;" coordorigin = "0 0" coordsize="'+this._width+" "+this._height+'">'+f+"<\/v:group>",this._mapContainer.html(o),this._tileDiv=this.element.find("#tileDiv"),this._bubblegroup=this._createGroup(!1,"bubbleGroup"),this._bubblegroup.style.position="absolute",this.element.append(this._bubblegroup));(n.layerType==i.datavisualization.Map.LayerType.OSM||n.layerType==i.datavisualization.Map.LayerType.Bing)&&(this._urlTemplate=n.urlTemplate,this._panTileMap(this._width,this._height,this.model.centerPosition),this._generateTiles(this.zoomLevel()),_isSVG&&t(this._svgDocument).css("position","relative"));_isSVG&&t(this._mapContainer).css("position","absolute");this._rootgroup=this.element.find("#rootGroup")[0]},_calculateBBox:function(n,t,i){var f=maxLatitude=minLongitude=maxLongitude=0,o=!1,l,c,r,h,e,s,u;if(n!=null&&n.length>0)for(e=0;e<n.length;e++)for(h=n[e],coords=h.geometry!=null?h.geometry.coordinates:h.coordinates,l=coords.length,c=0;c<l;c++)if(r="",l>1?(r=coords[c][0],r.length<=2&&(r=coords[c])):r=coords[c],r.length>2)for(u=0;u<r.length;u++)o?(f=Math.min(f,r[u][1]),maxLatitude=Math.max(maxLatitude,r[u][1]),minLongitude=Math.min(minLongitude,r[u][0]),maxLongitude=Math.max(maxLongitude,r[u][0])):(f=maxLatitude=r[u][1],minLongitude=maxLongitude=r[u][0],o=!0);else o?(f=Math.min(f,r[1]),maxLatitude=Math.max(maxLatitude,r[1]),minLongitude=Math.min(minLongitude,r[0]),maxLongitude=Math.max(maxLongitude,r[0])):(f=maxLatitude=r[1],minLongitude=maxLongitude=r[0],o=!0);if(i!=null&&i.length>0)for(e=0;e<i.length;e++)h=i[e],r=h.geometry.coordinates,o?(f=Math.min(f,r[1]),maxLatitude=Math.max(maxLatitude,r[1]),minLongitude=Math.min(minLongitude,r[0]),maxLongitude=Math.max(maxLongitude,r[0])):(f=maxLatitude=r[1],minLongitude=maxLongitude=r[0],o=!0);if(t!=null&&t.length>0)for(e=0;e<t.length;e++)for(s=t[e].geometry.coordinates,u=0;u<s.length;u++)o?(f=Math.min(f,s[u][1]),maxLatitude=Math.max(maxLatitude,s[u][1]),minLongitude=Math.min(minLongitude,s[u][0]),maxLongitude=Math.max(maxLongitude,s[u][0])):(f=maxLatitude=s[u][1],minLongitude=maxLongitude=s[u][0],o=!0);return[[minLongitude,f],[maxLongitude,maxLatitude]]},_readShapeData:function(n){var u=this,t,r;if(n.shapeData!=null)if(typeof n.shapeData=="string")t=new i.DataManager(n.shapeData),r=i.Query().from(n),t.executeQuery(r).done(function(t){if(t.result!=null)return u._getPathCollection(t.result,n)});else return this._getPathCollection(n.shapeData,n)},_getPathCollection:function(n,r){var ct="",y="",p="",rt,ti,pt,ut,ft,et,ot,lt,k,at,vt,a,st,ht,g,h,v,s,n,u,d,o,nt,f,e,tt,it,c,yt,wt;if(n.features!=null?(p=new i.DataManager(n.features),y="geometry.type",r._isBaseLayer&&(this._mapBounds=n.bbox)):n.geometries!=null&&(p=new i.DataManager(n.geometries),y="type",r._isBaseLayer&&n.bbox!=null&&(this._mapBounds=[[n.bbox[0],n.bbox[1]],[n.bbox[2],n.bbox[3]]])),n.geometries!=null||n.features!=null){var bt=i.Query().from(r).where(y,i.FilterOperators.equal,"LineString"),kt=i.Query().from(r).where(y,i.FilterOperators.equal,"Polygon"),dt=i.Query().from(r).where(y,i.FilterOperators.equal,"MultiPolygon"),w=p.executeLocal(bt),l=p.executeLocal(kt),gt=i.Query().from(r).where(y,i.FilterOperators.equal,"Point"),b=p.executeLocal(gt),ni=p.executeLocal(dt);if(this._polylineCount=this._polylineCount+w.length,this._pointscount=this._pointscount+b.length,t.merge(l,ni),this._mapBounds==null&&r._isBaseLayer&&(this._mapBounds=this._calculateBBox(l,w,b)),r._newBounds=[],rt="",b.length>0)for(e=0;e<b.length;e++)k=b[e],ti="",s=k.geometry.coordinates,n=[],u=[],n.push({lat:parseFloat(s[1]),lng:parseFloat(s[0])}),d=0,o=n[0],latitude=o.lat,longitude=o.lng,f=this._convertTileLatLongtoPointForShapes(latitude,longitude,this._mapBounds),_isSVG?u.push({x:f.x,y:f.y,lat:o.lat,lng:o.lng}):u.push({x:f.x-5/this._scale,y:f.y-5/this._scale,lat:o.lat,lng:o.lng}),_isSVG?rt+='<circle cx="'+u[0].x+'" cy="'+u[0].y+'" r="'+5/this._scale+'" stroke="'+r.shapeSettings.stroke+'" stroke-width="'+r.shapeSettings.strokeThickness+'0" fill="'+r.shapeSettings.fill+'" />':(pt='<v:oval display="block" fill="'+r.shapeSettings.fill+'" style="position:absolute;top: '+u[0].y+"px;left:"+u[0].x+"px;width:"+10/this._scale+"px;height:"+10/this._scale+"px;stroke-width:"+r.shapeSettings.strokeThickness+'px;"><\/v:oval>',rt+=pt);if(l.length>0){for(lt=!0,e=0;e<l.length;e++){if(k=l[e],at=0,a=k.geometry!=null?k.geometry.coordinates:k.coordinates,vt=a[0][0].length,st=a.length,st>1)for(ht=a,g=0;g<ht.length;g++)vt<ht[g][0].length&&(vt=ht[g][0].length,at=g);for(h="",v=0;v<st;v++){if(s="",st>1?(s=a[v][0],s.length<=2&&(s=a[v])):s=a[v],n=[],u=[],s.length>2)for(c=0;c<s.length;c++)n.push({lat:parseFloat(s[c][1]),lng:parseFloat(s[c][0])});else n.push({lat:parseFloat(s[1]),lng:parseFloat(s[0])});for(d=0;d<n.length-1||n.length==1&&d==0;d++)o=n[d],latitude=o.lat,longitude=o.lng,nt=this._mapBounds,(this._isTileMap||longitude>=nt[0][0]&&longitude<=nt[1][0]&&latitude>=nt[0][1]&&latitude<=nt[1][1])&&(f=this._convertTileLatLongtoPointForShapes(latitude,longitude,nt),lt?(ut=ft=f.x,et=ot=f.y,lt=!1):(ut=Math.min(ut,f.x),ft=Math.max(ft,f.x),et=Math.min(et,f.y),ot=Math.max(ot,f.y)),_isSVG?u.push({x:f.x,y:f.y,lat:o.lat,lng:o.lng}):u.push({x:f.x,y:f.y,lat:o.lat,lng:o.lng}));if(v==at&&r._newBounds.push(this._findMidPointofPoylgon(u)),u.length>0)if(_isSVG){for(h+="M"+u[0].x+","+u[0].y,m=1;m<u.length;m++)h+=","+u[m].x+","+u[m].y;h+="Z"}else{for(h+="m"+parseInt(u[0].x)+","+parseInt(u[0].y),h+=" l"+parseInt(u[0].x)+","+parseInt(u[0].y),m=1;m<u.length;m++)h+=","+parseInt(u[m].x)+","+parseInt(u[m].y);h+=" e"}}h!=""?ct+=_isSVG?'<path class="mapShape" stroke='+r.shapeSettings.stroke+" stroke-width="+r.shapeSettings.strokeThickness/this._scale+" fill= "+r.shapeSettings.fill+' d="'+h+'"  stroke-linejoin= round stroke-linecap= square><\/path>':'<v:shape  style="width:'+this._width+"px;height:"+this._height+'px;"  coordsize="'+this._width+" "+this._height+'" coordorigin="0 0" strokecolor='+r.shapeSettings.stroke+" stroke-width="+r.shapeSettings.strokeThickness/this._scale+'px" fillcolor= '+r.shapeSettings.fill+' path="'+h+'"><\/v:shape>':(l.splice(e,1),e--)}this._groupSize={minX:ut,maxX:ft,minY:et,maxY:ot}}if(w.length>0)for(e=0;e<w.length;e++){for(tt=w[e].geometry.coordinates,it="",c=0;c<tt.length;c++)yt=this._convertTileLatLongtoPointForShapes(tt[c][1],tt[c][0],this._mapBounds),it+=yt.x+","+yt.y,c!=tt.length-1&&(it+=",");ct+=_isSVG?"<polyline stroke="+r.shapeSettings.stroke+" stroke-width="+r.shapeSettings.strokeThickness/this._scale+' fill="transparent" stroke-width="1" points="'+it+'" ><\/polyline>':'<v:polyline coordsize="'+this._width+","+this._height+'" coordorigin="0 0" strokecolor='+r.shapeSettings.stroke+" strokeweight="+r.shapeSettings.strokeThickness/this._scale+'px" fillcolor='+r.shapeSettings.fill+'  points="'+it+'"/>'}return wt=[].concat(l,w),r._polygonData=t.merge(wt,b),ct+rt}return r._polygonData=[],null},_createGroup:function(n,t){var i;return i=document.createElement("<v:group class="+t+">"),i.style.width=this._width+"px",i.style.height=this._height+"px",i.coordorigin="0 0",i.coordsize=this._width+" "+this._height,n&&(this._rootgroup=i,i.style.left="20px",i.style.top="20px"),i},_generatePaletteColorsForShape:function(n,t,i,r){r!=null&&(t.shapeSettings.highlightColor=r.highlightColor,t.shapeSettings.highlightStroke=r.highlightStroke,t.shapeSettings.highlightBorderWidth=r.highlightBorderWidth,t.shapeSettings.selectionColor=r.SelectionColor,t.shapeSettings.selectionStroke=r.SelectionStroke,t.shapeSettings.selectionStrokeWidth=r.SelectionStrokeWidth);_isSVG?n.setAttribute("fill",i[t._prevPaletteIndex]):n.fillcolor=i[t._prevPaletteIndex];t._prevPaletteIndex=t._prevPaletteIndex+1;t._prevPaletteIndex>i.length-1&&(t._prevPaletteIndex=0)},_renderLayers:function(n,u){var b,p,nt,ct,lt,at,v,l,et,ot,w,yt,tt,it,pt,wt,s,st,bt,rt,k,ht,ut,y,a;n._initializeLocalValues();var dt=this._rootgroup,kt=this._svgDocument,o=this,f=n;f.legendSettings!=null&&f.shapeSettings.colorMappings!=null&&(f.legendSettings.type==r||f.legendSettings.type==i.datavisualization.Map.LegendType.Layers)&&f._generateLegends(this);f.legendSettings!=null&&f.bubbleSettings.colorMappings!=null&&f.legendSettings.type==i.datavisualization.Map.LegendType.Bubbles&&f._generateBubbleLegends(this);f.shapeSettings.colorMappings!=null&&f.shapeSettings.colorMappings.rangeColorMapping!=null&&f.shapeSettings.colorMappings.rangeColorMapping.sort(this._orderByNameAscending);f.bubbleSettings.colorMappings!=null&&f.bubbleSettings.colorMappings.rangeColorMapping!=null&&f.bubbleSettings.colorMappings.rangeColorMapping.sort(this._orderByNameAscending);var d=0,g=0;if(f.dataSource!=null&&f.bubbleSettings!=null)for(f.bubbleSettings.colorValuePath==null&&(f.bubbleSettings.colorValuePath=f.bubbleSettings.valuePath),b=0;b<f.dataSource.length;b++)p=parseFloat(this._reflection(f.dataSource[b],f.bubbleSettings.valuePath)),b!=0?p>g?g=p:p<d&&(d=p):d=g=p;if(this._generateTooltipForLayers(f),f.shapeData!=null){nt=[];for(ct in f.dataSource)lt=f.dataSource[ct],at=o._reflection(lt,f.shapeDataPath),nt.push(at);for(v=0;v<f._polygonData.length;v++){var vt=f._polygonData[v].properties,ft=o._reflection(vt,f.shapePropertyPath),e=this._rootgroup.childNodes[v+u],h={},c=f._newBounds[v];if(f.shapeSettings.autoFill)switch(f.shapeSettings.colorPalette){case i.datavisualization.Map.ColorPalette.Palette1:this._generatePaletteColorsForShape(e,f,f.colorPalettes.Palette1,f._colorPaletteSettings.Palette1);break;case i.datavisualization.Map.ColorPalette.Palette2:this._generatePaletteColorsForShape(e,f,f.colorPalettes.Palette2,f._colorPaletteSettings.Palette2);break;case i.datavisualization.Map.ColorPalette.Palette3:this._generatePaletteColorsForShape(e,f,f.colorPalettes.Palette3,f._colorPaletteSettings.Palette3);break;case i.datavisualization.Map.ColorPalette.CustomPalette:this._generatePaletteColorsForShape(e,f,f.shapeSettings.customPalette,null)}nt.indexOf(ft)!=-1&&(l=f.dataSource[nt.indexOf(ft)],et=ft,l!=null&&(e!=null&&(ot=et),n._bounds.push(c),f.showMapItems&&(w=t("<div class='mapItems' style='display:block;position:absolute;pointer-events: none;'><\/div>"),w[0].className=et,o._templateDiv.append(w),t(w).css({left:c.x,top:c.y}),yt=f.mapItemsTemplate==null?t(" <div><label>{{:"+f.shapeSettings.valuePath+"}}<\/label><\/div>").render(l):t("#"+f.mapItemsTemplate).render(l),t(w).html(yt),n._mapItems.push(w)),f.shapeSettings.colorMappings!=null?(f.shapeSettings.colorValuePath==null&&(f.shapeSettings.colorValuePath=f.shapeSettings.valuePath),tt=o._reflection(l,f.shapeSettings.colorValuePath),tt==null||f.shapeSettings.autoFill||((f.legendSettings!=null&&f.legendSettings.mode==i.datavisualization.Map.LegendMode.Interactive||f.shapeSettings.enableGradient)&&f.shapeSettings.colorMappings.rangeColorMapping!=null?(h.legendrect=f._updateLegendRange(tt,f,e),it=f.shapeSettings.fill,h.legendrect!=r&&(it=h.legendrect.color),_isSVG?e.setAttribute("fill",it):e.fillcolor=it):f._fillColors(tt,f.shapeSettings.colorMappings,e))):f.shapeSettings.autoFill||(_isSVG?e.setAttribute("fill",f.shapeSettings.fill):(e.fillcolor=f.shapeSettings.fill,e.strokecolor=f.shapeSettings.stroke)),f.bubbleSettings!=null&&f.bubbleSettings.valuePath!=null&&(_isSVG?s=document.createElementNS(o._svgns,"circle"):(pt="bubble_"+ot,wt='<v:oval class="mapBubble" id='+pt+' display="block" style="position:absolute;top: 0px;left:0px;width:100px;height:100px;stroke-width:0px;"><v:fill opacity="0.9"/><\/v:oval>',this._bubblegroup.innerHTML=this._bubblegroup.innerHTML+wt,s=document.getElementById("bubble_"+ot)),st=o._reflection(l,f.bubbleSettings.valuePath),bt=o._reflection(l,f.bubbleSettings.colorValuePath),f.bubbleSettings.colorMappings!=null?f._fillColors(bt,f.bubbleSettings.colorMappings,s):_isSVG?s.setAttribute("fill",f.bubbleSettings.color):(s.strokecolor=f.bubbleSettings.color,s.fillcolor=f.bubbleSettings.color),rt=o._getRatioOfBubble(f.bubbleSettings.minValue,f.bubbleSettings.maxValue,st,d,g),_isSVG?(t(s).attr({cx:c.x,cy:c.y,"fill-opacity":"0.9",r:rt,"class":"mapBubble"}),o.model.enableAnimation&&t(s).css("display","none")):t(s).css({height:2*rt+"px",width:2*rt+"px"}),f.bubbleSettings.showTooltip==!0?(k=t("<div class='bubbleToolTip'  style='position:absolute;display:none;z-index:9999'/>"),ht=null,f.bubbleSettings.tooltipTemplate!=null?ht=f.bubbleSettings.tooltipTemplate:t(k).append('<div class="bubbleToolTip"  style="margin-left:10px;margin-top:-25px;"><div class="defaultToolTip"><p style="margin-top:-4px"><label  style="color:rgb(27, 20, 20);font-size:14px;font-weight:normal;font-family:Segoe UI">'+st+"<\/label><\/p><\/div><\/div>"),t(s).mouseenter({htmlobj:k,templateID:ht,itemsrc:l},o._bubbleEnterFunction),t(s).mousemove({htmlobj:k},o._bubbleOverFunction),t(s).mouseleave({htmlobj:k},o._bubbleleaveFunction)):t(s).css("pointer-events","none"),_isSVG?(kt.appendChild(s),n._bubbles.push(s)):n._bubbles.push(s)),h.data=l));n.labelSettings!=null&&n.labelSettings.showLabels&&n.labelSettings.labelPath!=null&&(ut=o._reflection(vt,n.labelSettings.labelPath),ut!=null&&(c==null,y=t("<div class='labelStyle' style='font-family:Segoe UI;font-size:14px;white-space: nowrap;position:absolute;pointer-events:stroke;'><\/div>"),y[0].innerHTML=ut,this._templateDiv.append(y),t(y).css({left:c.x,top:c.y}),o._on(t(y),i.eventType.mouseDown,{Param1:null,Param2:n,Param3:e},o._polyClickFunction),o._on(t(y),i.eventType.mouseLeave,{Param1:n,map:this},o._polyLeaveFunction),n._labelCollection.push(y),n._labelBounds.push(c),n._labelData.push(ut)));h.shape=e;h.shapeData=n._polygonData[v];e!=null&&(a=null,_isSVG?(a=e.getAttribute("fill"),a=="undefined"&&(a=n.shapeSettings.fill),e.setAttribute("nodeValue",a)):(a=e.fillcolor.value,a=="undefined"&&(a=n.shapeSettings.fill),e.style.behavior=a));o.enableZoomOnSelection()&&t(e).hover(function(){t(this).css("cursor","pointer")},function(){t(this).css("cursor","auto")});n._mapShapes.push(h);t(e).mouseenter({Param1:f,Param2:h,map:o},o._polyEnterFunction);this._on(t(e),i.eventType.mouseDown,{Param1:h,Param2:f,Param3:e},o._polyClickFunction);this._on(t(e),i.eventType.mouseMove,{Param1:f,Param2:h},o._polyMoveFunction);this._on(t(e),i.eventType.mouseLeave,{Param1:f,Param2:h,map:this},o._polyLeaveFunction);this._on(t(e),i.eventType.mouseUp,{Param1:h,Param2:f,Param3:e},o._polyUpFunction)}}},_zooming:function(n,t){var i=this._getCurrentPoint(t);n>=120?this._zoomingIn(i.x,i.y,t):this._zoomingOut(i.x,i.y,t)},_zoomingIn:function(n,t,i,u){var f=this,o,s,e;f.enableZoom()&&f.zoomLevel()>=f.minZoom()&&f.zoomLevel()<=f.maxZoom()&&(o=f._scale,s={x:n,y:t},f._prevScale=o,this._isTileMap?(this._tileZoom(f.zoomLevel()-1,f.zoomLevel(),s),e=f.zoomLevel(),f.zoomLevel(f.zoomLevel()+1),this._generateTiles(this.zoomLevel()),f._translatePoint.x=(f._tileTranslatePoint.x-.5*Math.pow(2,e))/Math.pow(2,e),f._translatePoint.y=(f._tileTranslatePoint.y-.5*Math.pow(2,e))/Math.pow(2,e),f._scale=Math.pow(2,e)):(f._prevPoint={x:f._translatePoint.x,y:f._translatePoint.y},f._translatePoint.x-=(f._width/f._scale-f._width/(f._scale+f.zoomFactor()))/(f._width/n),f._translatePoint.y-=(f._height/f._scale-f._height/(f._scale+f.zoomFactor()))/(f._height/t),f._scale=o+f.zoomFactor(),f.zoomLevel(f.zoomLevel()+1)),u!=r&&u&&!this._isTileMap?f._animate(600):(f._trigger("zoomedIn",{originalEvent:i,zoomLevel:f.zoomLevel()}),f._applyTransform(f._scale,f._translatePoint),f._refrshLayers(),f._resizeShape()),f._updateSliderValue())},_zoomingOut:function(n,t,i,u){var f=this,e,o,s;this.enableZoom()&&(this.zoomLevel()>this.minZoom()?(e=f._scale,o={x:n,y:t},f._prevScale=e,this._isTileMap?(this._tileZoom(f.zoomLevel()+1,f.zoomLevel(),o),s=f.zoomLevel(),f.zoomLevel(f.zoomLevel()-1),this._generateTiles(this.zoomLevel()),f._translatePoint.x=(f._tileTranslatePoint.x-.5*Math.pow(2,this.zoomLevel()-1))/Math.pow(2,this.zoomLevel()-1),f._translatePoint.y=(f._tileTranslatePoint.y-.5*Math.pow(2,this.zoomLevel()-1))/Math.pow(2,this.zoomLevel()-1),f._scale=Math.pow(2,this.zoomLevel()-1)):(f._prevPoint={x:f._translatePoint.x,y:f._translatePoint.y},f._translatePoint.x-=(f._width/f._scale-f._width/(f._scale-f.zoomFactor()))/(f._width/n),f._translatePoint.y-=(f._height/f._scale-f._height/(f._scale-f.zoomFactor()))/(f._height/t),f._scale=f._scale-f.zoomFactor(),f.zoomLevel(f.zoomLevel()-1)),u!=r&&u&&!this._isTileMap?f._animate(600):(f._applyTransform(f._scale,f._translatePoint),f._refrshLayers(),f._resizeShape()),f._updateSliderValue()):this.zoom(this.minZoom(),!1),f._trigger("zoomedOut",{originalEvent:i,zoomLevel:f.zoomLevel()}))},_getRatioOfBubble:function(n,t,i,r,u){var f=100/(u-r)*(i-r);return(parseFloat(t)-parseFloat(n))/100*f+parseFloat(n)},_reflection:function(n,i){var f=n,e,u,o;if(i!=null&&n!=null){for(e=i.split("."),u=0;u<e.length;u++)n!=r&&(o=f.hasOwnProperty(e[u]),o&&t.each(f,function(n,t){if(n==e[u])return f=t,!1}));return f}return null},clearShapeSelection:function(){var t=this.baseMapIndex(),n;for(this.model.layers[t]._clearShapeWidth(this._scale),n=0;n<this.model.layers[t].subLayers.length;n++)this.model.layers[t].subLayers[n]._clearShapeWidth(this._scale)},refreshMarkers:function(){var t=this.baseMapIndex(),n;for(this.model.layers[t]._generateMarkerForLayers(this),n=0;n<this.model.layers[t].subLayers.length;n++)this.model.layers[t].subLayers[n]._generateMarkerForLayers(this)},_generateTooltipForLayers:function(n){var i,r;n.showTooltip&&(i=t(".tooltipTemplateDiv"),i=t("<div class='shapeToolTip' style='z-index:1000;display:none;position:absolute;pointer-events:none;'><\/div>"),t(document.body).append(i),n._tooltipElement=i,n.tooltipTemplate==null&&(r=n.shapeSettings.valuePath,r!=null&&(n.tooltipTemplate="defaultTooltip",this._mapContainer.append(t('<div  id="defaultTooltip" style="display:none;"><div style="margin-left:10px;margin-top:-25px;"><div class="defaultToolTip"><p style="margin-top:-4px"><label  style="color:rgb(27, 20, 20);font-size:14px;font-weight:normal;font-family:Segoe UI">{{:'+r+"}}<\/label><\/p><\/div><\/div><\/div>")))))},_orderByNameAscending:function(n,t){return n.Range==t.Range?0:n.Range>t.Range?1:-1},_resizingContainer:function(){this._scale=this._isTileMap?Math.pow(2,this.zoomLevel()-1):this.zoomLevel();this._isTileMap?(this._translatePoint.x=this._tileTranslatePoint.x/this._scale,this._translatePoint.y=this._tileTranslatePoint.y/this._scale):(this._translatePoint.x=this._tileTranslatePoint.x/this._scale,this._translatePoint.y=this._tileTranslatePoint.y/this._scale);this._applyTransform(this._scale,this._translatePoint);this._baseScale=this._scale;this._baseTranslatePoint={x:this._translatePoint.x*2,y:this._translatePoint.y*2}},_calculateMarginConditions:function(){var n=this._calculateMinMax();this._translatePoint.y>n.maxY?this._translatePoint.y=n.maxY:this._translatePoint.y<n.minY&&(this._translatePoint.y=n.minY);this._translatePoint.x>n.maxX?this._translatePoint.x=n.maxX:this._translatePoint.x<n.minX&&(this._translatePoint.x=n.minX)},_calculateMinMax:function(){var n=this._groupBorder,t,i,r,u;return this._containerHeight*this._scale<=this._height?(i=(this._height-this._containerHeight*this._scale)/(2*this._scale)-n.y,u=(this._height-this._containerHeight*this._scale)/(2*this._scale)-n.y):(i=0,u=(this._height-this._containerHeight*this._scale)/this._scale-n.y),this._containerWidth*this._scale<=this._width?(t=(this._width-this._containerWidth*this._scale)/(2*this._scale)-n.x,r=(this._width-this._containerWidth*this._scale)/(2*this._scale)-n.x):(t=0,r=(this._width-this._containerWidth*this._scale)/this._scale-n.x),{minX:r,maxX:t,minY:u,maxY:i}},_findMidPointofPoylgon:function(n){for(var c,l,a=n.length,t=n[0],v=t.x,y=t.x,p=t.y,w=t.y,f,e,i,r,u=0,o=0,s=0,h=0;h<=a-1;h++)c=n[h],f=c.x,e=c.y,h==a-1?(i=t.x,r=t.y):(l=n[h+1],i=l.x,r=l.y),u=u+Math.abs(f*r-i*e),o=o+Math.abs((f+i)*(f*r-i*e)),s=s+Math.abs((e+r)*(f*r-i*e));return u=.5*u,o=1/(4*u)*o,s=1/(4*u)*s,{x:o,y:s}},_convertTileLatLongtoPointForShapes:function(n,t,i,r){var f,o,e,s,u;i==null&&(i=[[-180,-85],[180,85]]);this._isTileMap?f=Math.pow(2,1)*256:(this._height<this._width?(e=(i[1][1]-i[0][1])/170*100,o=this._height/(e*this._height/100)):(e=(i[1][0]-i[0][0])/360*100,o=this._width/(e*this._width/100)),f=Math.min(this._height,this._width)*o);s=(t+180)/360;u=Math.sin(n*Math.PI/179.5);u==-1&&(u=-.5);var l=.5-Math.log((1+u)/(1-u))/(4*Math.PI),h=s*f+.5,c=l*f+.5;return r!=null&&(h-=r.x,c-=r.y),{x:h,y:c}},_convertTileLatLongtoPoint:function(n,t){var i=Math.pow(2,this.zoomLevel())*256,u=(t+180)/360,r=Math.sin(n*Math.PI/180),f=.5-Math.log((1+r)/(1-r))/(4*Math.PI),e=u*i+.5+this._tileTranslatePoint.x,o=f*i+.5+this._tileTranslatePoint.y;return{x:e,y:o}},_convertLatLongtoPointforMarker:function(n,t){var i=this._convertTileLatLongtoPointForShapes(n,t,this._mapBounds);return{x:(i.x+this._translatePoint.x)*this._scale,y:(i.y+this._translatePoint.y)*this._scale}},_animate:function(n){function s(n,t){return n[0]==t[0]?null:(t[1]-n[1])/(t[0]-n[0])}function h(n,t){return t===null?n[0]:n[1]-t*n[0]}this._calculateMarginConditions();t(this._rootgroup).stop(!0,!1);this._sliderControl!=null&&t(this._sliderControl).stop(!0,!1);var i=this,e={x:this._translatePoint.x,y:this._translatePoint.y},r=[this._prevPoint.x,this._prevPoint.y],u=[this._translatePoint.x,this._translatePoint.y];var f=s(r,u),c=h(r,f),l=u[0]-r[0],a=u[1]-r[1],v=this._scale-this._prevScale,o=this._scale;this._updateSliderValue();t(this._rootgroup).animate({count:10},{duration:n,step:function(n,t){var u=i._prevScale+n*(v/t.end),e=r[0]+n*(l/t.end)/(u/o),s;s=f==null?r[1]+n*(a/t.end):f*e+c;_isSVG?i._rootgroup.setAttribute("transform","scale("+u+") translate("+e+", "+s+")"):(i._rootgroup.coordorigin=-e+","+-s,i._rootgroup.coordsize=i._width/u+","+i._height/u);i._translatePoint.x=e;i._translatePoint.y=s;i._scale=u;i._refrshLayers();i._resizeShape()},complete:function(){i._translatePoint.x=e.x;i._translatePoint.y=e.y;i._scale=o;this.count=0}})},_applyTransform:function(n,t){this._scale=n;this._translatePoint=t;this._isTileMap||this._calculateMarginConditions();_isSVG?this._rootgroup.setAttribute("transform","scale("+this._scale+") translate("+this._translatePoint.x+", "+this._translatePoint.y+")"):(this._rootgroup.coordorigin=-this._translatePoint.x+","+-this._translatePoint.y,this._rootgroup.coordsize=this._width/n+","+this._height/n)},_mouseMove:function(n){var t,i,f,e,r,u;n.type=="touchmove"&&n.originalEvent.touches.length>1?this._isPinching=!0:(t=this,t.ispanning&&t.model.enablePan&&(n.preventDefault(),n.type=="mousemove"?i={x:n.pageX,y:n.pageY}:n.type=="touchmove"?i={x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}:n.type=="MSPointerMove"&&(i={x:n.originalEvent.pageX,y:n.originalEvent.pageY}),this._isTileMap&&(f=this._tileTranslatePoint.x-(this._dragStartX-i.x),e=this._tileTranslatePoint.y-(this._dragStartY-i.y),this._tileTranslatePoint.x=f,this._tileTranslatePoint.y=e,this._generateTiles(this.zoomLevel())),r=t._translatePoint.x-(t._dragStartX-i.x)/t._scale,u=t._translatePoint.y-(t._dragStartY-i.y)/t._scale,(r!=t._translatePoint.x||u!=t._translatePoint.y)&&(t._isDragging=!0),this._translatePoint.x=r,this._translatePoint.y=u,t._applyTransform(t._scale,t._translatePoint),t._dragStartX=i.x,t._dragStartY=i.y,t._refrshLayers()))},_svgMouseLeave:function(){var n=this;n.ispanning=!1},_mouseWheel:function(n){this.model.enableAnimation&&t(this._rootgroup).stop(!0,!1);var i=n.originalEvent,r=n;_isSVG||(i=n);i.preventDefault?i.preventDefault():r.preventDefault();_isSVG?this._zooming(n.originalEvent.wheelDelta,n.originalEvent):this._zooming(n.originalEvent.wheelDelta,i)},_mouseButtonUp:function(n){var t=this;t.ispanning&&t._trigger("panned",{originalEvent:n});t.ispanning=!1},_mouseUp:function(){this.ispanning=!1;this._isDragging=!1},_mouseButtonDown:function(n){var i,r;this._isPinching=!1;n.target.className!="e-vhandle"&&(this._isNavigationPressed=!1,this.model.enableAnimation&&(t(this._rootgroup).stop(!0,!1),this._sliderControl!=null&&t(this._sliderControl).stop(!0,!1)),n.type=="touchstart"&&n.originalEvent.touches.length>1||(n.preventDefault(),n.type=="mousedown"?i={x:n.pageX,y:n.pageY}:n.type=="touchstart"?i={x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}:n.type=="MSPointerDown"&&(i={x:n.originalEvent.pageX,y:n.originalEvent.pageY}),r=this,r.ispanning=!0,r._dragStartX=i.x,r._dragStartY=i.y))},_getCurrentPoint:function(n){var t=this._mapContainer,i=n.pageX-t[0].offsetLeft,r=n.pageY-t[0].offsetTop;return{x:i,y:r}},_doubleClick:function(n){var t=this,r,u,i;this._isNavigationPressed||n.target.className.toString().indexOf("e-icon1")!=-1||(r=this._getCurrentPoint(n),t.enableZoom()&&t.zoomLevel()+1>=t.minZoom()&&t.zoomLevel()+1<=t.maxZoom()&&(u=t._scale,t._prevScale=u,this._isTileMap?(this._tileZoom(t.zoomLevel()-1,t.zoomLevel(),r),i=t.zoomLevel(),t.zoomLevel(t.zoomLevel()+1),this._generateTiles(this.zoomLevel()),t._translatePoint.x=(t._tileTranslatePoint.x-.5*Math.pow(2,i))/Math.pow(2,i),t._translatePoint.y=(t._tileTranslatePoint.y-.5*Math.pow(2,i))/Math.pow(2,i),t._scale=Math.pow(2,i)):(t._prevPoint={x:t._translatePoint.x,y:t._translatePoint.y},t._translatePoint.x-=(t._width/t._scale-t._width/(t._scale+t.zoomFactor()))/(t._width/r.x),t._translatePoint.y-=(t._height/t._scale-t._height/(t._scale+t.zoomFactor()))/(t._height/r.y),t._scale=u+t.zoomFactor(),t.zoomLevel(t.zoomLevel()+1)),t.model.enableAnimation&&!this._isTileMap?t._animate(600):(t._applyTransform(t._scale,t._translatePoint),t._refrshLayers(),t._resizeShape()),t._updateSliderValue()))},_tileZoom:function(n,t,i){var c=this,u;if(t>0&&t<20){this._tileDiv.html("");u=Math.pow(2,n)*256;i==r&&(i={x:this._width/2,y:this._height/2});var f=Math.pow(2,t)*256,e=(i.x-this._tileTranslatePoint.x)/u*100,o=(i.y-this._tileTranslatePoint.y)/u*100,s=e*f/100,h=o*f/100;this._tileTranslatePoint.x=i.x-s;this._tileTranslatePoint.y=i.y-h}},_bubbleEnterFunction:function(n){if(n.data.templateID!=null){var i=t("#"+n.data.templateID).render(n.data.itemsrc);t(n.data.htmlobj).html(i)}return t(document.body).append(n.data.htmlobj),t(n.data.htmlobj).css("display","block").css({left:n.pageX+8+"px",top:n.pageY+6+"px"})},_bubbleleaveFunction:function(n){return t(n.data.htmlobj).remove(),t(n.data.htmlobj).css("display","none")},_bubbleOverFunction:function(n){return t(n.data.htmlobj).css("display","block").css({left:n.pageX+8+"px",top:n.pageY+6+"px"})},_polyEnterFunction:function(n){var u=n.data.Param1,f=n.data.Param2.shape,e=n.data.map,o,s,y,c,l,p,w,a,h,v,b;if(e!=null&&u.enableMouseHover&&e._browser!="msie"&&e._rootgroup.insertBefore(f,e._rootgroup.childNodes[e._rootgroup.childNodes.length-(e._polylineCount+e._pointscount)-1]),o=jQuery.grep(u._smartLabels,function(n){return n.shape==f}),u.enableMouseHover){if(u._clearShapeWidth(e._scale),u._prevHoverdLegend==null||u._contains(u._prevSelectedLegends,u._prevHoverdLegend)||u._prevHoverdLegend.css("background-color",_isSVG?u._prevHoveredShape.getAttribute("fill"):u._prevHoveredShape.fillcolor.value),_isSVG?(f.setAttribute("stroke-width",u.shapeSettings.highlightBorderWidth/e._scale),f.setAttribute("stroke",u.shapeSettings.highlightStroke)):(f.strokeweight=u.shapeSettings.highlightBorderWidth,f.strokecolor=u.shapeSettings.highlightStroke/e._scale),u.shapeSettings.highlightColor!=null&&(u.shapeSettings.highlightColor=="transparent"||u._contains(u._prevSelectedShapes,f)||(_isSVG?(u.shapeSettings.highlightColor!="none"&&f.setAttribute("fill",u.shapeSettings.highlightColor),f.setAttribute("stroke-width",u.shapeSettings.highlightBorderWidth/e._scale),f.setAttribute("stroke",u.shapeSettings.highlightStroke)):f.fillcolor=u.shapeSettings.highlightColor),o.length>0&&!u._contains(u._prevSelectedLegends,o[0].legend)&&(o[0].legend.css("background-color",u.shapeSettings.highlightColor),u._prevHoverdLegend=o[0].legend),u._prevHoveredShape=f),u.legendSettings!=null&&u.legendSettings.mode==i.datavisualization.Map.LegendMode.Interactive&&u.shapeSettings.colorMappings!=null&&u.shapeSettings.colorMappings.rangeColorMapping!=null&&!u.shapeSettings.autoFill&&(u.legendSettings.showLegend==r||u.legendSettings.showLegend))for(s=0;s<u._mapShapes.length;s++)if(y=u._mapShapes[s].shape,y==f){c=null;u.shapeSettings.colorMappings.rangeColorMapping!=r&&(c=u.shapeSettings.colorMappings.rangeColorMapping);l=u.legendSettings.width;u.legendSettings.width==r&&(l=150);p=l/c.length/10;w=u._mapShapes[s].legendrect.marginLeft;t(u._interactiveArrow).css({"margin-left":w+Math.ceil(p)-u._interactiveArrow.width()/2,display:"block"});break}e._trigger("mouseover",{originalEvent:n.data.Param2})}a=n.data.Param2;a.hasOwnProperty("data")&&u.showTooltip&&(h=u._tooltipElement,v=u.tooltipTemplate,h!=null&&v!=null&&(t(h).css({left:n.pageX,top:n.pageY,display:"block"}),b=t("#"+v).render(a.data),t(h).html(b)))},_updateShapeRect:function(n){for(var i,t=0;t<n._mapShapes.length;t++)i=n._mapShapes[t],i.left==null&&(i.left=n._mapShapes[t].shape.getBoundingClientRect().left,i.right=n._mapShapes[t].shape.getBoundingClientRect().right,i.top=n._mapShapes[t].shape.getBoundingClientRect().top,i.bottom=n._mapShapes[t].shape.getBoundingClientRect().bottom,n._mapShapes[t]=i)},_polyUpFunction:function(n){var t=n.data.Param2,r=n.data.Param3,u,i;if(this.enableZoomOnSelection()&&!this._isDragging&&!this._isTileMap&&!this._isPinching){if(_isSVG)u=r.getBBox(),this._zoomOnSelection(u);else for(this._updateShapeRect(t),i=0;i<t._mapShapes.length;i++)if(r==t._mapShapes[i].shape){var f=t._mapShapes[i].left,e=t._mapShapes[i].top,o=t._mapShapes[i].right,s=t._mapShapes[i].bottom,h={x:f,y:e,width:o-f,height:s-e};this._zoomOnSelection(h);break}this.ispanning=!1}this._updateSelection(t,r,n.data.Param1)},_markerPressed:function(n){this._trigger("markerSelected",{originalEvent:n.data})},_polyClickFunction:function(n){var h=n.ctrlKey,t=n.data.Param2,u=this,f=n.data.Param3,e=jQuery.grep(t._smartLabels,function(n){return n.shape==f}),o,s,r,c;if(t.enableSelection&&u._browser!="msie"&&u._rootgroup.insertBefore(f,u._rootgroup.childNodes[u._rootgroup.childNodes.length-(u._polylineCount+u._pointscount)-1]),u._isPolygonSelected=!0,t._prevSelectedLegends.length!=0&&t._prevSelectedShapes.length!=0)for(o=0;o<e.length;o++)t._prevSelectedLegends[o].css("background-color",t._prevSelectedShapes[o].getAttribute("nodeValue"));if(h||t._prevSelectedLegends.length>0&&t._prevSelectedLegends.pop(),e.length>0)for(s=0;s<e.length;s++)t.shapeSettings.selectionColor!="none"&&e[s].legend.css("background-color",t.shapeSettings.selectionColor),t._prevSelectedLegends.push(e[s].legend);if(t._prevSelectedShapes.length!=0&&!h&&(t.enableSelection||t.selectionMode==i.datavisualization.Map.SelectionMode.Multiple))for(r=0;r<t._prevSelectedShapes.length;r++)_isSVG?(t._prevSelectedShapes[r].setAttribute("fill",t._prevSelectedShapes[r].getAttribute("nodeValue")),t._prevSelectedShapes[r].setAttribute("stroke",t.shapeSettings.stroke),t._prevSelectedShapes[r].setAttribute("stroke-width",t.shapeSettings.strokeThickness/this._scale)):(t._prevSelectedShapes[r].fillcolor=t._prevSelectedShapes[r].style.behavior,t._prevSelectedShapes[r].strokecolor=t.shapeSettings.stroke,t._prevSelectedShapes[r].strokeweight=t.shapeSettings.strokeThickness/this._scale);c=!1;h||t.selectionMode!=i.datavisualization.Map.SelectionMode.Multiple||t._prevSelectedShapes.length>0&&(t._prevSelectedShapes.pop(),c=!0);(t.enableSelection||h&&t.selectionMode==i.datavisualization.Map.SelectionMode.Multiple||c)&&(_isSVG?(t.shapeSettings.selectionColor!="none"&&f.setAttribute("fill",t.shapeSettings.selectionColor),f.setAttribute("stroke",t.shapeSettings.selectionStroke),f.setAttribute("stroke-width",t.shapeSettings.selectionStrokeWidth/u._scale)):(t.shapeSettings.selectionColor!="none"&&(f.fillcolor=t.shapeSettings.selectionColor),f.strokecolor=t.shapeSettings.selectionStroke,f.strokeweight=t.shapeSettings.selectionStrokeWidth/u._scale),this._updateSelection(t,f,n.data.Param1),u._trigger("shapeSelected",{originalEvent:t._prevSelectedShapeDatas}))},_updateSelection:function(n,t,r){n.enableSelection&&(n.selectionMode!=i.datavisualization.Map.SelectionMode.Multiple&&(n._prevSelectedShapes.pop(),n._prevSelectedShapeDatas.pop()),n._prevSelectedShapes.push(t),n._prevSelectedShapeDatas.push(r))},_zoomOnSelection:function(n){var u,t,i,r;_isSVG||(n.x=n.x-this._baseTranslatePoint.x/2-n.width/2,n.y=n.y-this._baseTranslatePoint.y/2-n.height/2);t=n.width;i=n.height;u=(this._width-100)/(this._height-100)>t/i?(this._height-100)/i:(this._width-100)/t;this._prevScale=this._scale;this._scale=u;this._prevPoint={x:this._translatePoint.x,y:this._translatePoint.y};this.zoomLevel(this._scale-this._baseScale+1);r=this.zoomLevel();r>this.minZoom()&&r<this.maxZoom()||(this.zoomLevel(r>(this.maxZoom()-this.minZoom())/2+this.minZoom()?this.maxZoom():this.minZoom()),this._scale=this.zoomLevel()+this._baseScale-1);var f=this._width/2-t*this._scale/2,e=f/this._scale,o=this._height/2-i*this._scale/2,s=o/this._scale;this._translatePoint.x=-n.x+e;this._translatePoint.y=-n.y+s;this.model.enableAnimation&&!this._isTileMap?this._animate(1200):(this._applyTransform(this._scale,this._translatePoint),this._updateSliderValue())},_polyMoveFunction:function(n){var i=n.data.Param1._tooltipElement,r=n.data.Param2;i!=null&&n.data.Param1.showTooltip&&r.hasOwnProperty("data")&&t(i).css({display:"block",left:n.pageX+10,top:n.pageY+10})},_polyLeaveFunction:function(n){var r=n.data.Param1,u=n.data.map,f=r._tooltipElement;f!=null&&t(f).css("display","none");r.legendSettings!=null&&r.legendSettings.mode==i.datavisualization.Map.LegendMode.Interactive&&r._interactiveArrow!=null&&t(r._interactiveArrow).css("display","none");r._clearShapeWidth(u._scale);u._trigger("mouseleave",{originalEvent:n.data.Param2})},_wireEvents:function(){function o(i){n.model.enableAnimation&&t(n._rootgroup).stop(!0,!1);i.preventDefault(i);n._zooming(-40*i.detail,i)}var e=jQuery.uaMatch(navigator.userAgent),r=e.browser.toLowerCase(),f,n,u;this._on(t(this._mapContainer),i.eventType.mouseDown,this._mouseButtonDown);t(document).keydown({className:"home",map:this},this._keyboardKeysPressed);this._on(t(this._mapContainer),i.eventType.mouseMove,this._mouseMove);this._on(t(document),i.eventType.mouseUp,this._mouseUp);f=!!navigator.userAgent.match(/Trident\/7\./);f&&(r="msie");window.navigator.msPointerEnabled?(this._on(t(this._mapContainer),"MSPointerUp",this._mouseButtonUp),t(this._mapContainer).css("-ms-touch-action","none")):this._on(t(this._mapContainer),"mouseup",this._mouseButtonUp);n=this;this._browser=r;r!="mozilla"?this._on(t(this._mapContainer),"mousewheel",this._mouseWheel):(u=this._svgDocument,u.addEventListener&&u.addEventListener("DOMMouseScroll",o,!1));this._on(t(this._mapContainer),"dblclick",this._doubleClick);this.model.enableResize&&(this._isDevice()?this._on(t(window),"orientationchange",this._mapResize):this._on(t(window),"resize",this._mapResize))},_mapResize:function(n){n.preventDefault();n.stopPropagation();var t=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){t.refresh()},500)},_isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_unWireEvents:function(){var u=jQuery.uaMatch(navigator.userAgent),n=u.browser.toLowerCase(),r;this._on(t(document),i.eventType.mouseUp,this._mouseUp);r=!!navigator.userAgent.match(/Trident\/7\./);r&&(n="msie");window.navigator.msPointerEnabled?(this._off(t(this._mapContainer),"MSPointerDown",this._mouseButtonDown),this._off(t(this._mapContainer),"MSPointerMove",this._mouseMove),this._off(t(this._mapContainer),"MSPointerUp",this._mouseButtonUp),t(this._mapContainer).css("-ms-touch-action","none")):n=="webkit"||n=="chrome"||n=="mozilla"?(this._off(t(this._mapContainer),"mousedown",this._mouseButtonDown),this._off(t(this._mapContainer),"mousemove",this._mouseMove),this._off(t(this._mapContainer),"mouseup",this._mouseButtonUp)):(this._off(t(this._mapContainer),"mousedown",this._mouseButtonDown),this._off(t(this._mapContainer),"mousemove",this._mouseMove),this._off(t(this._mapContainer),"mouseup",this._mouseButtonUp));this._off(t(this._mapContainer),"dblclick",this._doubleClick)},navigateTo:function(n,t,i){var u,f,e;i=parseFloat(i);i==r&&(i=this.zoomLevel());i>this.minZoom()&&i<this.maxZoom()?this.zoomLevel(i):this.zoomLevel(i>(this.maxZoom()-this.minZoom())/2+this.minZoom()?this.maxZoom():this.minZoom());u=this._convertTileLatLongtoPointForShapes(n,t,this._mapBounds);this._prevPoint={x:this._translatePoint.x,y:this._translatePoint.y};this._prevScale=this._scale;this._scale=this._baseScale+(i-1)*this.zoomFactor();f=(this._containerWidth+this._baseTranslatePoint.x)/2/this._scale;e=(this._containerHeight+this._baseTranslatePoint.y)/2/this._scale;this._translatePoint.x=-u.x+f;this._translatePoint.y=-u.y+e;this.model.enableAnimation&&!this._isTileMap?this._animate(1200):this._applyTransform(this._scale,this._translatePoint);this._updateSliderValue();this._refrshLayers()},selectShape:function(n,t,r){var e,f,u;if(n!=null)for(t==null&&(t=this.model.layers[this.baseMapIndex()]),u=0;u<t._mapShapes.length;u++)if(e=t._mapShapes[u].data,f=t._mapShapes[u].shape,e!=null&&n==this._reflection(e,t.shapeSettings.valuePath)){if(t._prevSelectedShapes.length!=0&&t.selectionMode!=i.datavisualization.Map.SelectionMode.Multiple)for(u=0;u<t._prevSelectedShapes.length;u++)_isSVG?(t._prevSelectedShapes[u].setAttribute("fill",t._prevSelectedShapes[u].getAttribute("nodeValue")),t._prevSelectedShapes[u].setAttribute("stroke",t.shapeSettings.stroke),t._prevSelectedShapes[u].setAttribute("stroke-width",t.shapeSettings.strokeThickness/this._scale)):(t._prevSelectedShapes[u].fillcolor=t._prevSelectedShapes[u].style.behavior,t._prevSelectedShapes[u].strokecolor=t.shapeSettings.stroke,t._prevSelectedShapes[u].strokeweight=t.shapeSettings.strokeThickness/this._scale);t.enableSelection&&(_isSVG?(t.shapeSettings.selectionColor!="none"&&f.setAttribute("fill",t.shapeSettings.selectionColor),f.setAttribute("stroke",t.shapeSettings.selectionStroke),f.setAttribute("stroke-width",t.shapeSettings.selectionStrokeWidth/this._scale)):(t.shapeSettings.selectionColor!="none"&&(f.fillcolor=t.shapeSettings.selectionColor),f.strokecolor=t.shapeSettings.selectionStroke,f.strokeweight=t.shapeSettings.selectionStrokeWidth/this._scale),this._updateSelection(t,f,n),this._trigger("shapeSelected",{originalEvent:t._prevSelectedShapeDatas}));r&&this.enableZoomOnSelection()&&this._zoomOnSelection(f.getBBox());u=t._mapShapes.length}},_getIntersectedElements:function(n,i){var r,u;if(n.width+=5,n.height+=5,_isSVG&&this._browser!="mozilla"&&this._browser!="webkit")return r=this._svgDocument.createSVGRect(),r.x=n.left,r.y=n.top,r.width=n.width,r.height=n.height,this._svgDocument.getIntersectionList(r,null);var o=[],s=t(this._mapContainer).offset(),h=s.left,c=s.top;for(u=0;u<i.length;u++){var f=i[u].shape,e=f.getBoundingClientRect(),l=t(f).offset().left-h,a=t(f).offset().top-c;if(this._isIntersect(n,{left:l,top:a,height:e.bottom-e.top,width:e.right-e.left}))return o.push(f),o}return o},_isIntersect:function(n,t){return n.left>=t.left+t.width||n.left+n.width<=t.left||n.top>=t.top+t.height||n.top+n.height<=t.top?!1:!0},pan:function(t){var i=this,r=0,u=0,f,e,o,s;if(this.zoomLevel()!=1){switch(t){case"right":r=this._width/7;u=0;break;case"top":r=0;u=-(this._height/7);break;case"left":r=-(this._width/7);u=0;break;case"bottom":r=0;u=this._height/7}i.model.enablePan&&(this._isTileMap&&(f=this._tileTranslatePoint.x-r/i._scale,e=this._tileTranslatePoint.y-u/i._scale,this._tileTranslatePoint.x=f,this._tileTranslatePoint.y=e,this._generateTiles(this.zoomLevel())),o=i._translatePoint.x-r/i._scale,i._prevScale=i._scale,s=i._translatePoint.y-u/i._scale,i._prevPoint={x:this._translatePoint.x,y:this._translatePoint.y},this._translatePoint.x=o,this._translatePoint.y=s,i.model.enableAnimation&&!this._isTileMap?i._animate(600):i._applyTransform(i._scale,i._translatePoint),i._refrshLayers())}},zoom:function(n,t){var i=this,r,u;n<=this.maxZoom()&&n>=this.minZoom()?(this._isTileMap?(this._tileZoom(i.zoomLevel(),n,{x:this._width/2,y:this._height/2}),r=i.zoomLevel(),i.zoomLevel(n),this._generateTiles(this.zoomLevel()),i._translatePoint.x=(i._tileTranslatePoint.x-.5*Math.pow(2,r))/Math.pow(2,r),i._translatePoint.y=(i._tileTranslatePoint.y-.5*Math.pow(2,r))/Math.pow(2,r),i._scale=Math.pow(2,r)):(u=i._baseScale+(n-1)*i.zoomFactor(),i._prevPoint={x:i._translatePoint.x,y:i._translatePoint.y},i._prevScale=i._scale,i._translatePoint.x-=(i._width/i._scale-i._width/u)/2,i._translatePoint.y-=(i._height/i._scale-i._height/u)/2,i._scale=u,i.zoomLevel(n),i.model.enableAnimation&&t&&i._animate(600)),i.model.enableAnimation&&t||(i._applyTransform(i._scale,i._translatePoint),i._refrshLayers(),i._resizeShape()),i._updateSliderValue()):n<=this.minZoom()?(this.zoomLevel(this.minZoom()),this.zoom(this.zoomLevel())):n>=this.maxZoom()&&(this.zoomLevel(this.maxZoom()),this.zoom(this.zoomLevel()))},refresh:function(){this._unWireEvents();t(this._svgDocument).empty();this._svgDocument!=null&&(this._svgDocument=null);t(this._mapContainer).empty();this._scale=1;this._translatePoint={x:0,y:0};this._height=this._mapContainer.height();this._width=this._mapContainer.width();this._height==0&&(this._height=this._mapContainer[0].parentElement.clientHeight!=0?this._mapContainer[0].parentElement.clientHeight:t(document).height());this._width==0&&(this._width=this._mapContainer[0].parentElement.clientWidth!=0?this._mapContainer[0].parentElement.clientWidth:t(document).width());this.baseMapIndex()>=this.model.layers.length&&this.baseMapIndex(0);this._generatePath();this._groupSize!=null&&(this._containerHeight=this._groupSize.maxY-this._groupSize.minY,this._containerWidth=this._groupSize.maxX-this._groupSize.minX,this._groupBorder={x:this._groupSize.minX,y:this._groupSize.minY});this._resizingContainer();this._renderMapElements();this.model.enableLayerChangeAnimation&&t(this._mapContainer).animate({opacity:1},500)},_updateSliderValue:function(n){var t=this._sliderControl,i;n==r&&(n=this.model.enableAnimation);t!=null&&(i=t.data("ejSlider"),i.option("value",this.zoomLevel()))},_createDivElement:function(n,t,r,u){var f=n,e=t;e.appendTo(f);f.appendTo(r);this._on(e,i.eventType.mouseDown,{className:u,map:this},this._navigationControlPressed)},_navigationControlPressed:function(n){n.stopPropagation();this._isNavigationPressed=!0;var t=n.data.map,i=t.model.enableAnimation;n.data.className=="zoomIn"?(t.zoom(t.zoomLevel()+1,!0),i||t._updateSliderValue()):n.data.className=="zoomOut"?(t.zoom(t.zoomLevel()-1,!0),i||t._updateSliderValue()):n.data.className=="panLeft"?t.pan("left"):n.data.className=="panRight"?t.pan("right"):n.data.className=="panTop"?t.pan("top"):n.data.className=="panBottom"?t.pan("bottom"):n.data.className=="home"&&(t.zoom(1,!0),i||t._updateSliderValue())},_keyboardKeysPressed:function(n){this._iskeyboardKeysPressed=!0;var t=n.data.map,i=t.model.enableAnimation;n.ctrlKey&&n.keyCode==38?t._zoomingIn(t._width/2,t._height/2,n,i):n.ctrlKey&&n.keyCode==40?t._zoomingOut(t._width/2,t._height/2,n,i):n.keyCode==37?t.pan("left"):n.keyCode==39?t.pan("right"):n.keyCode==38?t.pan("top"):n.keyCode==40&&t.pan("bottom")},refreshNavigationControl:function(n){function k(n){u!=null&&u._isRendered&&u.zoomLevel()!=n.value&&u.zoom(n.value,!1)}function d(n){u!=null&&u._isRendered&&u.zoomLevel()!=n.value&&u.zoom(n.value,!1)}var v=this._mapContainer.find("#ejNavigation"),f,s,o,u,a;if(v.length>0&&this._mapContainer[0].removeChild(v[0]),this.model.navigationControl!=null&&this.model.navigationControl.enableNavigation){n==r&&(n=this.model.navigationControl);var h=i.Orientation.Vertical,c,y=150,p=12;c={width:90,height:350};f=t("<div id='ejNavigation' class='e-map-navigation e-orientation-vert'/>");s=t("<div style='height:150px;width:10px;margin-top:-197px;margin-left: 34px;' />");n.orientation=="horizontal"&&(h=i.Orientation.Horizontal,y=12,p=150,c={width:350,height:90},f=t("<div id='ejNavigation' class='e-map-navigation e-orientation-horz' />"),s=t("<div style='height:10px;width:150px;margin-top:-18px;margin-left: 137px;' />"));var e=t("<div class='e-panContainer'/>"),w=h=="horizontal"?"Horz":"Vert",l=t("<div/>"),b=t("<div  />");e.appendTo(f);l.appendTo(f);s.appendTo(b);b.appendTo(f);this._sliderControl=s;o={x:0,y:0};n.dockPosition==null||n.dockPosition==i.datavisualization.Map.DockPosition.None?(o.x=this._width*n.absolutePosition.x/100,o.y=this._height*n.absolutePosition.y/100):o=this._getDockPosition(n.dockPosition,c);f.css({"margin-left":o.x+"px","margin-top":o.y+"px"});u=this;t(s).ejSlider({orientation:h,sliderType:i.SliderType.MinRange,value:1,animationSpeed:1200,minValue:this.minZoom(),showTooltip:!0,enableAnimation:!1,maxValue:this.maxZoom(),incrementStep:this.zoomFactor(),slide:d,change:k,height:y,width:p});f.appendTo(this._mapContainer);this._createDivElement(t("<div class='e-icon1 e-incrementButton  icon_margin1' />"),t("<div class='e-icon1 nav-inc-"+w+"  e-innerIncrement'/>"),l,"zoomIn");this._createDivElement(t("<div class='e-icon1 e-incrementButton icon_margin2'/>"),t("<div class='e-icon1 nav-dec-"+w+" e-innerDecrement'/>"),l,"zoomOut");this._createDivElement(t("<div class='e-icon1 e-radialTop'/>"),t("<div class='e-icon1 e-arrowUp'/>"),e,"panTop");this._createDivElement(t("<div class='e-icon1 e-radialLeft'/>"),t("<div class='e-icon1 e-arrowLeft'/>"),e,"panLeft");this._createDivElement(t("<div class='e-icon1 e-radialRight'/>"),t("<div class='e-icon1 e-arrowRight'/>"),e,"panRight");this._createDivElement(t("<div class='e-icon1 e-radialBottom'/>"),t("<div class='e-icon1 e-arrowDown'/>"),e,"panBottom");a=t("<div class='e-icon1 e-home-bg'><div class='e-icon1 e-map-home'><\/div>");a.appendTo(e);a.mousedown({className:"home",map:this},this._navigationControlPressed)}},_getDockPosition:function(n,t){var r={x:0,y:0};switch(n){case i.datavisualization.Map.DockPosition.TopCenter:r.x=this._width/2-t.width/2;break;case i.datavisualization.Map.DockPosition.TopRight:r.x=this._width-t.width;break;case i.datavisualization.Map.DockPosition.CenterLeft:r.y=this._height/2-t.height/2;break;case i.datavisualization.Map.DockPosition.Center:r.x=this._width/2-t.width/2;r.y=this._height/2-t.height/2;break;case i.datavisualization.Map.DockPosition.CenterRight:r.x=this._width-t.width;r.y=this._height/2-t.height/2;break;case i.datavisualization.Map.DockPosition.BottomLeft:r.y=this._height-t.height;break;case i.datavisualization.Map.DockPosition.BottomCenter:r.x=this._width/2-t.width/2;r.y=this._height-t.height;break;case i.datavisualization.Map.DockPosition.BottomRight:r.x=this._width-t.width;r.y=this._height-t.height}return r},_renderMapElements:function(){this._templateDiv=t("<div class='TemplateDiv'/>");this._templateDiv.appendTo(this._mapContainer);this._templateDiv.css({"pointer-events":"none",overflow:"hidden",position:"absolute","z-index":"1",height:this._height,width:this._width});this._wireEvents();this.refreshLayers();this.refreshNavigationControl(this.model.navigationControl)},_renderMapLayers:function(){var u,n,e,f,r;for(t(this._templateDiv).empty(),u=0,n=this.model.layers[this.baseMapIndex()],n.layerType==i.datavisualization.Map.LayerType.Geometry?(this._renderLayers(n,u),n.shapeData!=null&&(u=n._polygonData.length)):(n._initializeLocalValues(),e=t("<div class='map-contribution'>"),e[0].innerHTML=n.contribution,this._mapContainer.append(e)),f=0;f<this.model.layers[this.baseMapIndex()].subLayers.length;f++)r=this.model.layers[this.baseMapIndex()].subLayers[f],r._isBaseLayer=!1,r.layerType==i.datavisualization.Map.LayerType.Geometry&&r.shapeData!=null?(this._renderLayers(r,u),u+=r._polygonData.length):r._initializeLocalValues();this.refreshMarkers();_isSVG&&this.model.enableAnimation&&!this._isTileMap?this._refreshWithAnimation():this._refrshLayers()},refreshLayers:function(){var n=this.model.layers[this.baseMapIndex()];this._processOData(n,this)},_processOData:function(n,t){if(n.dataSource!=null)if(n.dataSource instanceof i.DataManager){var r=n.dataSource.executeQuery(n.query);r.done(function(i){i.result!=null&&(n.dataSource=i.result,t._renderMapLayers())})}else t._renderMapLayers();else t._renderMapLayers()}});var f=function(n,t){this.X=n;this.Y=t;this.left=0;this.top=0;this.height=256;this.width=256;this.src=null},u=function(){this.enableSelection=!0;this.selectionMode="default";this.key=null;this.bingMapType="aerial";this.enableMouseHover=!1;this.shapeData=null;this.markers=[];this.dataSource=null;this.urlTemplate="http://a.tile.openstreetmap.org/level/tileX/tileY.png";this.showTooltip=!1;this.tooltipTemplate=null;this.mapItemsTemplate=null;this.enableAnimation=!1;this.legendSettings=null;this.labelSettings=null;this.markerTemplate=null;this.showMapItems=!1;this.layerType="geometry";this._colorPaletteSettings={Palette1:{highlightColor:"#F7CD1C",highlightStroke:"white",highlightBorderWidth:"1",SelectionColor:"#F96C0D",SelectionStroke:"white",SelectionStrokeWidth:"2.5"},Palette2:{highlightColor:"#68A3EA",highlightStroke:"White",highlightBorderWidth:"1",SelectionColor:"#116EF4",SelectionStroke:"White",SelectionStrokeWidth:"2.5"},Palette3:{highlightColor:"#CCCCCC",highlightStroke:"white",highlightBorderWidth:"1",SelectionColor:"#4D4D4D",SelectionStroke:"white",SelectionStrokeWidth:"2.5"}};this.colorPalettes={Palette1:["#4A3825","#736F3D","#F2DABD","#BF9D7E","#7F6039","#7F715F","#70845D","#CC995C","#736F3D","#89541B"],Palette2:["#E51400","#730202","#EF6535","#C63477","#BF004D","#F0A30B","#CE1B1B","#97993D","#D6BF38","#835A2C"],Palette3:["#A4C400","#008B00","#1BA0E2","#0050EF","#AA00FF","#D90073","#E51400","#F96800","#E3C800","#A20026"]};this._prevPaletteIndex=0;this._newBounds=[];this.subLayers=[];this.shapeSettings={highlightColor:"gray",highlightBorderWidth:1,selectionColor:"gray",fill:"#E5E5E5",strokeThickness:"0.2",stroke:"#C1C1C1",colorPalette:"palette1",highlightStroke:"#C1C1C1",selectionStroke:"#C1C1C1",selectionStrokeWidth:1,colorValuePath:null,valuePath:null,enableGradient:!1,colorMappings:null,autoFill:!1};this.bubbleSettings={minValue:"10",maxValue:"20",color:"gray",colorValuePath:null,valuePath:null,colorMappings:null,showTooltip:!1,tooltipTemplate:null}};u.prototype={dataTypes:{dataSource:"data",markers:"array",subLayers:"array",shapeSettings:{colorMappings:"array"},bubbleSettings:{colorMappings:"array"}},_initializeLocalValues:function(){this._svgns="http://www.w3.org/2000/svg";this._bounds=[];this._prevSelectedShapes=[];this._prevSelectedShapeDatas=[];this._prevSelectedLegends=[];this._isBaseLayer=!0;this._prevHoverdLegend=null;this._prevHoveredShape=null;this._labelCollection=[];this._scrollBar=null;this._mapShapes=[];this._bubbles=[];this._labelBounds=[];this._bubbleCount=0;this._mapItems=[];this._mapMarkers=[];this._smartLabels=[];this._labelData=[];this._interactiveArrow=null;this._legendRects=[]},_generateMarkerForLayers:function(n){var s,h,e,f,r,o,u;for(this._mapMarkers=[],s=n._rootgroup.getBoundingClientRect().top,h=n._rootgroup.getBoundingClientRect().left,e=0;e<this.markers.length;e++)f=this.markers[e],this.markerTemplate!=null?(r=t(".markerTemplateDiv"),r=t("<div class='mapMarker' style='display:block;position:absolute;pointer-events: stroke;'><\/div>"),n._templateDiv.append(r),o=t("#"+this.markerTemplate).render(f),t(r).html(o),n._on(t(r),i.eventType.mouseDown,{marker:t(r),data:f},n._markerPressed),this._mapMarkers.push(r)):(u=t(' <div class="mapMarker" style="display:block;position:absolute;pointer-events: stroke;"><label>'+f.label+"<\/label><\/div>"),_isSVG?n._templateDiv.append(u):u.appendTo(n._templateDiv),n._on(t(u),i.eventType.mouseDown,{marker:t(u),data:f},n._markerPressed),this._mapMarkers.push(u))},_contains:function(n,t){var i=n.length;if(i>0)while(i--)if(n[i]===t)return!0;return!1},_clearShapeWidth:function(n){var i,t;for(n==null&&(n=1),i=0;i<this._mapShapes.length;i++)t=this._mapShapes[i],this._contains(this._prevSelectedShapes,t.shape)||(_isSVG?(t.shape.setAttribute("fill",t.shape.getAttribute("nodeValue")),t.shape.setAttribute("stroke-width",this.shapeSettings.strokeThickness/n),t.shape.setAttribute("stroke",this.shapeSettings.stroke)):(t.shape.fillcolor=t.shape.style.behavior,t.shape.strokeweight=this.shapeSettings.strokeThickness,t.shape.strokecolor=this.shapeSettings.stroke))},_rgbToHex:function(n,t,i){return"#"+this._toHex(n)+this._toHex(t)+this._toHex(i)},_toHex:function(n){var t="0123456789ABCDEF";return(n=parseInt(n,10),isNaN(n))?"00":(n=Math.max(0,Math.min(n,255)),t.charAt((n-n%16)/16)+t.charAt(n%16))},_hexToR:function(n){return parseInt(this._cropHex(n).substring(0,2),16)},_hexToG:function(n){return parseInt(this._cropHex(n).substring(2,4),16)},_hexToB:function(n){return parseInt(this._cropHex(n).substring(4,6),16)},_cropHex:function(n){return n.charAt(0)=="#"?n.substring(1,7):n},_getRangeColorValues:function(n,t,i){var u=[],f,r;if(u.push(t),t>i)for(f=(t-i)/(n-1),r=n;r>2;r--)t=t-f,u.push(t);else for(f=(i-t)/(n-1),r=2;r<n;r++)t=t+f,u.push(t+f);return u.push(i),u},_generateGradientCollection:function(n){for(var f=[],r=n[0],u=n[n.length-1],e=this._hexToR(r),o=this._hexToG(r),s=this._hexToB(r),h=this._hexToR(u),c=this._hexToG(u),l=this._hexToB(u),i=10,a=this._getRangeColorValues(i,e,h),v=this._getRangeColorValues(i,o,c),y=this._getRangeColorValues(i,s,l),t=0;t<i;t++)f.push(this._rgbToHex(a[t],v[t],y[t]));return f},_createLabel:function(n,i,r){var u=t("<div><\/div>");return u[0].innerHTML=n,u.css({"font-family":"Segoe UI","pointer-events":"none","text-align":"center","margin-left":i+"px","margin-top":r+"px",position:"absolute"}),u},_createInteractiveArrow:function(n,i){var r=t("<div class='e-icon1 e-interactiveArrow'><\/div>");return r[0].innerHTML="&#9650",r.css({"margin-left":n+"px","margin-top":i+"px",position:"absolute",color:"#444444"}),r},_generateLegends:function(n){var rt,ut,ft,et,p,a,u,w,g,ht,vt,ct,v,c,tt,o,pt,wt;if((this.legendSettings.showLegend==r||this.legendSettings.showLegend)&&!this.shapeSettings.autoFill){var e=10,s=10,y=this.legendSettings.height,l=this.legendSettings.width,f=t("<div/>");_isSVG?f.appendTo(n._templateDiv):n._templateDiv.append(f);var d=0,it=0,at=!0,h=null;if(this.shapeSettings.colorMappings.rangeColorMapping!=r?h=this.shapeSettings.colorMappings.rangeColorMapping:this.shapeSettings.colorMappings.equalColorMapping!=r&&(h=this.shapeSettings.colorMappings.equalColorMapping,at=!1),(this.legendSettings.type==r||this.legendSettings.type==i.datavisualization.Map.LegendType.Layers)&&this.shapeSettings.colorMappings!=null&&(this.legendSettings.mode==r||this.legendSettings.mode==i.datavisualization.Map.LegendMode.Default||this.legendSettings.mode==i.datavisualization.Map.LegendMode.Interactive&&this.shapeSettings.colorMappings.equalColorMapping!=null)){for(this.legendSettings.height==r&&(y=20),this.legendSettings.width==r&&(l=20),a=0;a<h.length;a++)u=h[a],u.hideLegend||(v=t("<div class='e-mapLegend'/>"),v.css({height:y+"px",width:l+"px","background-color":u.color,"margin-left":e+"px","margin-top":s+"px",position:"absolute"}),o=this._createLabel(u.legendLabel,e+l+5,s),u.legendLabel!=null?o[0].innerText=u.legendLabel:u.legendLabel=o[0].innerText=at?u.from:u.value,_isSVG?(v.appendTo(f),o.appendTo(f)):(f.append(v),f.append(o)),d<o[0].innerText.length*10+l&&(d=o[0].innerText.length*10+l),rt=o.height(),ut=v.height(),s+=rt>ut?rt+5:ut+5);it=s}else if((this.legendSettings.type==r||this.legendSettings.type==i.datavisualization.Map.LegendType.Layers)&&this.legendSettings.mode==i.datavisualization.Map.LegendMode.Interactive&&this.shapeSettings.colorMappings!=null){for(o="",this.legendSettings.height==r&&(y=18),this.legendSettings.width==r&&(l=150),this.legendSettings.leftLabel==null&&(this.legendSettings.leftLabel=""),this.legendSettings.title!=null&&(ft=e,this.legendSettings.showLabels||(ft=e+this.legendSettings.leftLabel.length*10),o=this._createLabel(this.legendSettings.title,ft,s),_isSVG?o.appendTo(f):f.append(o),s+=25),this.legendSettings.showLabels&&(s+=25),this.legendSettings.leftLabel==null||this.legendSettings.showLabels||(o=this._createLabel(this.legendSettings.leftLabel,e,s-3),_isSVG?o.appendTo(f):f.append(o),e=e+this.legendSettings.leftLabel.length*10),et=this._createInteractiveArrow(e,s+y),et.appendTo(f),this._interactiveArrow=et,p=null,!_isSVG&&this.shapeSettings.enableGradient&&(p=n._createGroup(!1,"legendGroup"),p.style.left="0px",p.style.top="0px",p.style.position="relative",f.append(p)),a=0;a<h.length;a++)if(u=h[a],!u.hideLegend){if(w=[],this.shapeSettings.enableGradient&&(w=this._generateGradientCollection(u.gradientColors)),g={},this.shapeSettings.enableGradient)if(_isSVG){var ot=t("<canvas/>"),st=ot[0].getContext("2d"),b=st.createLinearGradient(0,0,300,0),k=0;for(c=0;c<10;c++)k=k+1/10,c==0?(b.addColorStop(0,u.gradientColors[0]),b.addColorStop(k,w[c])):c==w.length-1?(b.addColorStop(k-1/10,w[c]),b.addColorStop(k,u.gradientColors[1])):(b.addColorStop(k-1/10,w[c]),b.addColorStop(k,w[c+1]));st.fillStyle=b;st.fillRect(0,0,300,300);ot.css({height:y+"px",width:l/h.length+"px","margin-left":e+"px","margin-top":s+"px",opacity:"0.9",filter:"alpha(opacity=90)",position:"absolute"});ot.appendTo(f)}else ht="legend"+a,vt="<v:rect id="+ht+' display="block" style="position:absolute;top: '+(s-2)+"px;left:"+e+"px;width:"+l/h.length+"px;height:"+y+'px;"><v:fill opacity="0.9px" type="gradient" method="linear sigma" angle="270"/><v:stroke opacity="0px"/><\/v:rect>',p.innerHTML=p.innerHTML+vt,ct=document.getElementById(ht),ct.fillcolor=u.gradientColors[0],ct.fill.color2=u.gradientColors[1];else v=t("<div/>"),v.css({height:y+"px",width:l/h.length+"px","background-color":u.color,"margin-left":e+"px","margin-top":s+"px",opacity:"0.9",filter:"alpha(opacity=90)",position:"absolute"}),_isSVG?v.appendTo(f):f.append(v);for(c=0;c<10;c++)g={},g.marginLeft=e,this._legendRects.push(g),e=e+l/h.length/10;if(this.legendSettings.showLabels){var nt=e-l/h.length,lt=s-25,yt=this._createLabel(u.from,nt,lt);nt=e;tt=this._createLabel(u.to,nt,lt);u.legendLabel!=r&&(tt=this._createLabel(u.legendLabel,nt-u.legendLabel.length*5,lt));_isSVG?(u==h[0]&&yt.appendTo(f),tt.appendTo(f)):(u==h[0]&&f.append(yt),f.append(tt))}}this.legendSettings.rightLabel==null||this.legendSettings.showLabels||(o=this._createLabel(this.legendSettings.rightLabel,e+10,s-3),_isSVG?o.appendTo(f):f.append(o),e=e+this.legendSettings.rightLabel.length*10);d=e+10;it=s+y+this._interactiveArrow.height()+10}if(this.legendSettings.position=="none")pt=n._width*this.legendSettings.PositionX/100,wt=n._height*this.legendSettings.PositionY/100,f.css({"margin-left":pt+"px","margin-top":wt+"px"});else{var kt=this.legendSettings.position==r?"topleft":this.legendSettings.position,dt={width:d,height:it},bt=n._getDockPosition(kt,dt);f.css({"margin-left":bt.x+"px","margin-top":bt.y+"px"})}}},_generateBubbleLegends:function(n){var l,u,s,e,v,y,d,g;if(this.legendSettings.showLegend==r||this.legendSettings.showLegend){var p=10,h=10,w=this.legendSettings.height,o=this.legendSettings.width,f=t("<div/>");_isSVG?f.appendTo(n._templateDiv):n._templateDiv.append(f);var a=0,b=0,k=!0,c=null;if(this.bubbleSettings.colorMappings.rangeColorMapping!=r?c=this.bubbleSettings.colorMappings.rangeColorMapping:this.bubbleSettings.colorMappings.equalColorMapping!=r&&(c=this.bubbleSettings.colorMappings.equalColorMapping,k=!1),this.legendSettings.type==i.datavisualization.Map.LegendType.Bubbles&&this.bubbleSettings.colorMappings!=null&&(this.legendSettings.mode==r||this.legendSettings.mode==i.datavisualization.Map.LegendMode.Default||this.legendSettings.mode==i.datavisualization.Map.LegendMode.Interactive&&this.bubbleSettings.colorMappings.equalColorMapping!=null)){for(this.legendSettings.height==r&&(w=20),this.legendSettings.width==r&&(o=20),l=0;l<c.length;l++)u=c[l],u.hideLegend||(s=t("<div class='e-mapBubbleLegend'/>"),s.css({height:w+"px",width:o+"px","background-color":u.color,"margin-left":p+"px","margin-top":h+"px",position:"absolute"}),e=this._createLabel(u.legendLabel,p+o+5,h),u.legendLabel!=null?e[0].innerText=u.legendLabel:u.legendLabel=e[0].innerText=k?u.from:u.value,_isSVG?(s.appendTo(f),e.appendTo(f)):(f.append(s),f.append(e)),a<e[0].innerText.length*10+o&&(a=e[0].innerText.length*10+o),v=e.height(),y=s.height(),h+=v>y?v+5:y+5);b=h}if(this.legendSettings.position=="none")d=n._width*this.legendSettings.PositionX/100,g=n._height*this.legendSettings.PositionY/100,f.css({"margin-left":d+"px","margin-top":g+"px"});else{var tt=this.legendSettings.position==r?"topleft":this.legendSettings.position,it={width:a,height:b},nt=n._getDockPosition(tt,it);f.css({"margin-left":nt.x+"px","margin-top":nt.y+"px"})}}},_animateBubble:function(n,i){var e=n.getAttribute("r"),f,u=t(n),r=this;u.delay(i).each(function(){}).animate({r:e},{duration:700,step:function(n){f=n;_isSVG&&(u.attr("style","display:block;pointer-events:stroke;"),u[0].setAttribute("r",f))},complete:function(){r._bubbleCount++;r._bubbleCount==r._bubbles.length&&r._setMapElements()}})},_setMapElements:function(){for(var i,n=0;n<this._mapItems.length;n++)i=this._mapItems[n],t(i).css({display:"block"})},_setMapItemsPositionWithAnimation:function(n){for(var s,o,e,r,u,i=0;i<this._bubbles.length;i++){var h=this._bubbles[i],u=this._bounds[i],o=(u.x+n._translatePoint.x)*n._scale,e=(u.y+n._translatePoint.y)*n._scale,c=0,l=Math.floor(Math.random()*(20-c)+c),a=parseInt(l*50);_isSVG&&t(h).attr({cx:o,cy:e});this._animateBubble(h,a)}for(i=0;i<this._mapMarkers.length;i++)r=this._mapMarkers[i],this.markers.length>0&&(s=this.markers[i]),u=n._isTileMap?n._convertTileLatLongtoPoint(s.latitude,s.longitude):n._convertLatLongtoPointforMarker(s.latitude,s.longitude),o=_isSVG?u.x:(u.x+n._transformX)*n._scale,e=u.y,t(r).css({display:"block",left:o,top:e-100}),t(r).delay(500).each(function(){}).animate({top:e},500);for(i=0;i<this._mapItems.length;i++){var r=this._mapItems[i],u=this._bounds[i],f=r[0].getBoundingClientRect(),o=(u.x+n._translatePoint.x)*n._scale-f.width/2,e=(u.y+n._translatePoint.y)*n._scale-f.height/4;this._bubbles.length>0?t(r).css({left:o,top:e,display:"none"}):t(r).css({left:o,top:e,display:"block"})}for(i=0;i<this._labelCollection.length;i++){r=this._labelCollection[i];u=this._labelBounds[i];t(r).css("display","block");var f=r[0].getBoundingClientRect(),v=_isSVG?f.width:f.right-f.left,y=_isSVG?f.height:f.bottom-f.top,o=(u.x+n._translatePoint.x)*n._scale-v/2,e=(u.y+n._translatePoint.y)*n._scale-y/2;(r[0].className="labelLegend")&&(r[0].className="labelStyle");r[0].innerHTML=this._labelData[i];t(r).css({left:o,top:e})}this.labelSettings!=null&&this.labelSettings.showLabels&&this._validateSmartLabel(n)},_resizeShapes:function(n){for(var t,r=this.shapeSettings.strokeThickness/n._scale,i=0;i<this._mapShapes.length;i++)t=this._mapShapes[i].shape,_isSVG?t.localName=="circle"?t.setAttribute("r",5/n._scale):this._contains(this._prevSelectedShapes,t)?t.setAttribute("stroke-width",this.shapeSettings.selectionStrokeWidth/n._scale):t.setAttribute("stroke-width",r):t.nodeName=="oval"||(t.strokeweight=this._contains(this._prevSelectedShapes,t)?this.shapeSettings.selectionStrokeWidth/n._scale:r)},_setMapItemsPosition:function(n){for(var e,h,o,s,u,r,i=0;i<this._mapItems.length;i++){var u=this._mapItems[i],r=this._bounds[i],f=u[0].getBoundingClientRect(),c=_isSVG?f.width:f.right-f.left,l=_isSVG?f.height:f.bottom-f.top,o=(r.x+n._translatePoint.x)*n._scale-c/2,s=(r.y+n._translatePoint.y)*n._scale-l/4;t(u).css({left:o,top:s})}for(i=0;i<this._bubbles.length;i++)if(e=this._bubbles[i],r=this._bounds[i],_isSVG)o=(r.x+n._translatePoint.x)*n._scale,s=(r.y+n._translatePoint.y)*n._scale,t(e).attr({cx:o,cy:s});else{e=document.getElementById(e.id);var o=(r.x+n._translatePoint.x)*n._scale,s=(r.y+n._translatePoint.y)*n._scale,a=s-(e.getBoundingClientRect().bottom-e.getBoundingClientRect().top)/2,v=o-(e.getBoundingClientRect().right-e.getBoundingClientRect().left)/2;t(e).css({left:v,top:a})}for(i=0;i<this._mapMarkers.length;i++)u=this._mapMarkers[i],this.markers.length>0&&(h=this.markers[i]),r=n._isTileMap?n._convertTileLatLongtoPoint(h.latitude,h.longitude):n._convertLatLongtoPointforMarker(h.latitude,h.longitude),o=r.x,s=r.y,t(u).css({left:o,top:s});for(i=0;i<this._labelCollection.length;i++){u=this._labelCollection[i];r=this._labelBounds[i];t(u).css("display","block");var f=u[0].getBoundingClientRect(),c=_isSVG?f.width:f.right-f.left,l=_isSVG?f.height:f.bottom-f.top,o=(r.x+n._translatePoint.x)*n._scale-c/2,s=(r.y+n._translatePoint.y)*n._scale-l/2;(u[0].className="labelLegend")&&(u[0].className="labelStyle",t(u[0]).css("background-color","transparent"));u[0].innerHTML=this._labelData[i];t(u).css({left:o,top:s})}this.labelSettings!=null&&this.labelSettings.showLabels&&this._validateSmartLabel(n)},_validateSmartLabel:function(n){function rt(n){var i=[],t;for(i.push(0),t=10;t<=n;t+=20)i.push(-t),i.push(t);return i}function ut(n){for(var t=0;t<p.length;t++)if(ft(n,p[t]))return!1;return!0}function ft(n,t){return n.left-2>=t.left+t.width||n.left-2+n.width<=t.left-2||n.top-2>=t.top+t.height||n.top+n.height<=t.top-2?!1:!0}var p,f,v,y,b,nt,k;if(this._smartLabels=[],p=[],this._labelCollection.length>0)for(f=0;f<this._mapShapes.length;f++){var tt=this._labelBounds[f],r={x:(tt.x+n._translatePoint.x)*n._scale,y:(tt.y+n._translatePoint.y)*n._scale},u=this._labelCollection[f];if(r.x>0&&r.x<n._width&&r.y>0&&r.y<n._height){var w=this._mapShapes[f].shape,s=w.getBoundingClientRect(),d=!1,a=u[0].getBoundingClientRect(),h=a.height+2,c=a.width+2;_isSVG||(s={width:s.right*n._scale-s.left*n._scale,height:s.bottom*n._scale-s.top*n._scale},h=a.bottom-a.top,c=a.right-a.left);var e=0,o=0,g=20,l=[],it=[];if(h>s.height||c>s.width)if(this.labelSettings.enableSmartLabel)for(this.labelSettings.smartLabelSize==i.datavisualization.Map.LabelSize.Fixed?(h=25,c=15*this.labelSettings.labelLength):(c*=1.3,h=25);!d;){for(g>400&&(d=!0),l=rt(g),it=l,v=0;v<l.length;v++)for(y=0;y<l.length;y++)e=it[y],o=l[v],r.x+e+c>n._width&&r.x<n._width&&(e-=r.x+e+c-n._width),r.x+e<0&&(e=0),r.y+o<0&&(o=0),r.y+o+h>n._height&&r.y<n._height&&(o-=r.y+o+h-n._height),b={left:r.x+e,top:r.y+o,height:h,width:c},ut(b)&&(nt=n._getIntersectedElements(b,this._mapShapes),nt!=null&&nt.length==0&&(d=!0,v=l.length,y=l.length,u[0].className="labelLegend",this.labelSettings.smartLabelSize==i.datavisualization.Map.LabelSize.Fixed&&(u[0].innerHTML=u[0].innerHTML.substring(0,this.labelSettings.labelLength)),u.mouseenter({Param1:this,Param2:this._mapShapes[f],map:n},n._polyEnterFunction),u.mousemove({Param1:this,Param2:this._mapShapes[f]},n._polyMoveFunction),t(u).css({left:r.x+e,top:r.y+o,"background-color":_isSVG?w.getAttribute("fill"):w.fillcolor.value}),p.push(b),k={},k.shape=w,k.legend=u,this._smartLabels.push(k)));g+=10}else u.css("display","none")}}},_fillColors:function(n,t,i){t.rangeColorMapping!=null?this._fillRangeColors(n,t.rangeColorMapping,i):t.equalColorMapping!=null&&this._fillEqualColors(n,t,i)},_fillEqualColors:function(n,i,r){t.each(i.equalColorMapping,function(t,i){i.value==n&&(_isSVG?r.setAttribute("fill",i.color):r.fillcolor=i.color)})},_updateLegendRange:function(n,t){for(var o,i,s,c,e,f,h,l=t.shapeSettings.colorMappings.rangeColorMapping,u=0;u<l.length;u++)if(o=null,i=l[u],t.shapeSettings.enableGradient&&(o=this._generateGradientCollection(i.gradientColors)),n>=i.from&&n<=i.to)for(s=u,u!=0&&(s=u*10),c=i.from,e=i.from+(i.to-i.from)/10,f=s;f<s+10;f++){if(n>=c&&n<=e)return h={},t._legendRects[f]!=r&&(h=t._legendRects[f]),h.color=t.shapeSettings.enableGradient?u!=0?o[f-u*10]:o[f]:i.color,h;c=e;e=e+(i.to-i.from)/10}},_fillRangeColors:function(n,i,r){for(var u,e,f=0;f<i.length;f++)u=i[f],n>=u.from&&n<=u.to&&(e=this._getColorRatio(.7,1,n,u.from,u.to),_isSVG?r.setAttribute("fill",u.color):r.fillcolor=u.color,t(r).css({opacity:e}))},_getColorRatio:function(n,t,i,r,u){var f=100/(u-r)*(i-r);return(parseFloat(t)-parseFloat(n))/100*f+parseFloat(n)}};t.fn.pinchZoom=function(n,i){var f,u,e=this[0],r=[],o=function(n){var t=e.createSVGPoint(),r=n.targetTouches,u,f,i;return r.length&&(i=r[0],u=i.pageX,f=i.pageY),t.x=u,t.y=f,t};handleTouchStart=function(i){var y=n,e,s,c,l,h,a,v;if(u=y.getCTM().inverse(),f=o(i).matrixTransform(u),e=i.touches,e.length>=2)for(s=0;s<e.length;s++){for(c=e[s],l=!1,h=0;h<r.length;h++)if(a=r[h],c.identifier===a.identifier){l=!0;break}l||(v=t.extend({},c),r.push(v))}i.preventDefault()};getDistance=function(n,t){var i=t.pageX-n.pageX,r=t.pageY-n.pageY;return Math.sqrt(i*i+r*r)};setCTM=function(n,t){var r=null,u="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";t.a>i._baseScale&&i.enableZoom()&&i.model.enablePan&&(t.a>i._scale?r=!0:t.a<i._scale&&(r=!1),i._scale=t.a,i._translatePoint.x=t.e/t.a,i._translatePoint.y=t.f/t.a,i._applyTransform(i._scale,i._translatePoint),i.zoomLevel(i._scale-i._baseScale+1),r!=null&&r?(i._trigger("zoomedIn",{originalEvent:null,zoomLevel:i.zoomLevel()}),i._updateSliderValue(!1),i._resizeShape()):r!=null&&(i._trigger("zoomedOut",{originalEvent:null,zoomLevel:i.zoomLevel()}),i._updateSliderValue(!1),i._resizeShape()),i._isDragging=!0,i._refrshLayers())};handleTouchEnd=function(n){for(var e,t,u,o,f=n.changedTouches,i=0;i<f.length;i++)for(e=f[i],t=0;t<r.length;t++)u=r[t],u.identifier===e.identifier&&(o=r.indexOf(u),r.splice(o,1));n.preventDefault()};updateTouch=function(n,t){n.pageX=t.pageX;n.pageY=t.pageY};handleTouchMove=function(t){var s,h,v,i,a;if(t.preventDefault(),s=n,h=t.touches,h.length>=2){var c=h[0],l=h[1],y=r[0],p=r[1];v=getDistance(c,l)/getDistance(y,p);i=e.createSVGPoint();i.x=(c.pageX+l.pageX)/2;i.y=(c.pageY+l.pageY)/2;i=i.matrixTransform(s.getCTM().inverse());a=e.createSVGMatrix().translate(i.x,i.y).scale(v).translate(-i.x,-i.y);setCTM(s,s.getCTM().multiply(a));typeof u=="undefined"&&(u=s.getCTM().inverse());u=u.multiply(a.inverse());updateTouch(y,c);updateTouch(p,l)}else r.length||(i=o(t).matrixTransform(u),setCTM(s,u.inverse().translate(i.x-f.x,i.y-f.y)))};this[0].addEventListener("touchstart",handleTouchStart,!1);this[0].addEventListener("touchend",handleTouchEnd,!1);this[0].addEventListener("touchmove",handleTouchMove,!1)};jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};i.datavisualization.Map.LayerType={Geometry:"geometry",OSM:"osm",Bing:"bing"};i.datavisualization.Map.LegendIcons={Rectangle:"rectangle",Circle:"circle"};i.datavisualization.Map.LabelSize={Fixed:"fixed",Default:"default"};i.datavisualization.Map.LegendMode={Default:"default",Interactive:"interactive"};i.datavisualization.Map.BingMapType={Aerial:"aerial",AerialWithLabel:"aerialwithlabel",Road:"road"};i.datavisualization.Map.SelectionMode={Default:"default",Multiple:"multiple"};i.datavisualization.Map.ColorPalette={Palette1:"palette1",Palette2:"palette2",Palette3:"palette3",CustomPalette:"custompalette"};i.datavisualization.Map.LegendType={Layers:"layers",Bubbles:"bubbles"};i.datavisualization.Map.DockPosition={None:"none",TopLeft:"topleft",TopCenter:"topcenter",TopRight:"topright",CenterLeft:"centerleft",Center:"center",CenterRight:"centerright",BottomLeft:"bottomleft",BottomCenter:"bottomcenter",BottomRight:"bottomright"}}(jQuery,Syncfusion),function(n,t,i){var r,u;t.widget({ejTreeMap:"ej.datavisualization.TreeMap"},{validTags:["div"],defaults:{leafItemSettings:{borderThickness:1,borderBrush:"white",showLabels:!1,labelPath:null,itemTemplate:null},dataSource:null,enableDrillDown:!1,drillDownHeaderColor:"#0478c3",drillDownSelectionColor:"#000000",groupSelectionMode:"default",colorValuePath:null,weightValuePath:null,treeMapItems:[],showLegend:!1,borderBrush:"white",borderThickness:1,enableResize:!0,itemsLayoutMode:"squarified",levels:[],legendSettings:{template:null,iconHeight:15,iconWidth:25},rangeColorMapping:[],uniColorMapping:{color:null},desaturationColorMapping:{from:0,to:0,color:null,rangeMinimum:0,rangeMaximum:0},paletteColorMapping:null,highlightOnSelection:!1,highlightGroupOnSelection:!1,showTooltip:!1,tooltipTemplate:null,highlightBorderThickness:5,highlightGroupBorderThickness:4,highlightBorderBrush:"gray",highlightGroupBorderBrush:"gray"},dataTypes:{dataSource:"data",treeMapItems:"array",levels:"array",rangeColorMapping:"array",paletteColorMapping:"array"},observables:["dataSource","colorValuePath","weightValuePath"],dataSource:t.util.valueFunction("dataSource"),colorValuePath:t.util.valueFunction("colorValuePath"),weightValuePath:t.util.valueFunction("weightValuePath"),_initPrivateProperties:function(){this._svgDocument=null;this._templateDiv=null;this._drillHeaderDiv=null;this._drillHoverDiv=null;this._backgroundTile=null;this._height=500;this._initDiv=null;this._width=500;this._svgns="http://www.w3.org/2000/svg";this._prevSelectedItems=[];this._prevSelectedHeaders=[];this.treeMapItemSelected=null;this.treeMapGroupSelected=null;this._browser=null;this._toolTipElement=null;this._rootTreeMapItems=[];this._drillHeader=null;this._drilldownItem=null;this._drilldownItems=[];this._treeMapHeaders=[];this._treeMapLabels=[];this._labelTemplateElements=[];this._itemGroups=[];this._prevSelectedItemDatas=[];this._prevSelectedGroupDatas=[]},_setModel:function(n){for(var t in n)switch(t){case"itemsLayoutMode":this.model.itemsLayoutMode=n[t];this.refresh()}},_init:function(){this._initPrivateProperties();this._levelInitialize();this.refresh()},_destroy:function(){},_levelInitialize:function(){var t=this;this.model.levels!=null?n.each(this.model.levels,function(i,u){u=t._checkArrayObject(u,i);var f=new r;n.extend(f,u);n.extend(u,f)}):this.levels.treeMapLevel=new r;n(document).click({Param1:this},this._docClickFunction)},_checkArrayObject:function(t,i){var u=this;return n.each(t,function(n,t){if(t instanceof Array)u._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var f=new r;u._loadIndividualDefaultValues(t,f,typeof n=="number"?i:n)}}),t},_loadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._loadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},refresh:function(){this._initPrivateProperties();n(this.element).empty();this._svgDocument!=null&&n(this._svgDocument).empty();this._height=this.element.height();this._width=this.element.width();this._height==0&&(this._height=this.element[0].parentElement.clientHeight!=0?this.element[0].parentElement.clientHeight:n(document).height());this._width==0&&(this._width=this.element[0].parentElement.clientWidth!=0?this.element[0].parentElement.clientWidth:n(document).width());var i=jQuery.uaMatch(navigator.userAgent),r=i.browser.toLowerCase(),u=!!navigator.userAgent.match(/Trident\/7\./);this._browser=r;n(this.element).css({position:"relative"});this._height!=0&&this._width!=0&&(this._templateDiv=n("<div class='_templateDiv'><\/div>"),this._templateDiv.css({"pointer-events":"none",overflow:"hidden",float:"left","z-index":"2",height:this._height,width:this._width}),this._drillHeaderDiv=n("<div class='_drillHeaderDiv'><\/div>"),this._drillHeaderDiv.css({overflow:"hidden",float:"left","z-index":"3",height:this._height,width:this._width}),this._drillHoverDiv=n("<div class='_drillHoverDiv'><\/div>"),this._drillHoverDiv.css({overflow:"hidden",float:"left","z-index":"3",height:this._height,width:this._width}),this._backgroundTile=n('<div id="backgroundTile" style="overflow:hidden;z-index:0;"><\/div>'),this.model.dataSource!=null&&(this.model.dataSource instanceof t.DataManager?this._processOData(this):this._renderTreeMap(this.dataSource())),this.model.enableResize&&this._on(n(window),"resize",this._treeMapResize))},_renderTreeMap:function(n){this._groupLevels(n);this.model.showLegend&&this._generateLegend();this._generateToolTip();this._renderLabels()},_processOData:function(n){var t=this,i=n.model.dataSource.executeQuery(n.model.query);i.done(function(n){n.result!=null&&t._renderTreeMap(n.result)})},_treeMapResize:function(n){n.preventDefault();n.stopPropagation();var t=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){t.refresh()},500)},_groupLevels:function(n){var i=null,u,r,t,o,f,e;if(this.model.enableDrillDown&&this._drillDownHeader(this.model.levels[0].groupPath,!1),u=this._getTopGroupitem(this.model.leafItemSettings.labelPath,n,0),i=u,this.model.levels.length==0&&(t=this.model.leafItemSettings,this._rootTreeMapItems=u,this._getTopLevels(u[0].innerItems,t),this._generateTreeMapItems(u[0].innerItems,"gray",this.colorValuePath()),this._generateLabels(u[0].innerItems,null,t.itemTemplate,t.showLabels)),this.model.levels.length>0)for(r=0;r<=this.model.levels.length;r++)if(t=this.model.levels[r],r!=0){if(o=i,f=this.model.levels[r-1],i=[],t==null&&(t=this.model.leafItemSettings),this._generateSubItems(o,t,i,f),this._rootTreeMapItems=i,this.model.enableDrillDown){if(r==1)return this._generateTreeMapItems(i,"gray",f.DisplayPath),!1}else r==this.model.levels.length&&this._generateTreeMapItems(i,"gray",f.DisplayPath);this._generateLabels(i,null,t.itemTemplate,t.showLabels)}else e=this._getGroupitem(t.groupPath,u[0].Data,t.headerHeight),this._rootTreeMapItems=e,this._getTopLevels(e,t),i=e},_groupdrillDownLevels:function(n,t){var u=null,i,r,o,e,f;if(this.model.levels.length>0)for(i=0;i<this.model.levels.length;i++)r=this.model.levels[i],i!=0?(o=u,e=this.model.levels[i-1],u=[],r==null&&(r=this.model.leafItemSettings),this._generateSubItems(o,r,u,e,!0,t+1!=i),this._rootTreeMapItems=u,(i==t+1||i==this.model.levels.length-1)&&this._generateTreeMapItems(u,"gray",e.DisplayPath),i==t&&this._generateLabels(u,null,r.itemTemplate,r.showLabels)):(f=this._getGroupitem(r.groupPath,n.Data,r.headerHeight),this._rootTreeMapItems=f,this._getTopLevels(f,r),u=f)},_getTopLevels:function(n,i){var f=i.groupGap!=null?i.groupGap:0,e=this.model.itemsLayoutMode,r=0,u=0;this.model.enableDrillDown&&(u=30);this.model.showLegend&&this.model.legendSettings!=null&&(r=this.model.legendSettings.iconHeight+20);e==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceHorizontal?this._calculateSliceAndDiceItemSize(n,0,r,this._width,this._height,f,u,!0,r):e==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceVertical?this._calculateSliceAndDiceItemSize(n,0,r,this._width,this._height,f,u,!1,r):e==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceAuto?this._calculateSliceAndDiceItemSize(n,0,r,this._width,this._height,f,u,null,r):this._calculateSquarifiedItemSize(n,0,r,this._width,this._height,f,u,r)},_generateSubItems:function(n,r,u,f,e,o){var w=this.model.itemsLayoutMode,b=n.length,a=r.groupPath,s,c,h,p;a==null&&(a=this.model.leafItemSettings.labelPath);a==null&&(a=this.weightValuePath());var v=r.groupGap!=null?r.groupGap:0,y=(f.showHeader||f.showHeader==null)&&!this.model.enableDrillDown?f.headerHeight:0,l=0;for(s=0;s<b;s++)for(c=this._getGroupitem(a,n[s].Data,r.headerHeight),w==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceHorizontal?this._calculateSliceAndDiceItemSize(c,n[s].LeftPosition+f.groupPadding,n[s].TopPosition+f.groupPadding,n[s].ItemWidth-(f.groupBorderThickness+2*f.groupPadding),n[s].ItemHeight-(f.groupBorderThickness+2*f.groupPadding),v,y,!0,0):w==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceVertical?this._calculateSliceAndDiceItemSize(c,n[s].LeftPosition+f.groupPadding,n[s].TopPosition+f.groupPadding,n[s].ItemWidth-(f.groupBorderThickness+2*f.groupPadding),n[s].ItemHeight-(f.groupBorderThickness+2*f.groupPadding),v,y,!1,0):w==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceAuto?this._calculateSliceAndDiceItemSize(c,n[s].LeftPosition+f.groupPadding,n[s].TopPosition+f.groupPadding,n[s].ItemWidth-(f.groupBorderThickness+2*f.groupPadding),n[s].ItemHeight-(f.groupBorderThickness+2*f.groupPadding),v,y,null,0):this._calculateSquarifiedItemSize(c,n[s].LeftPosition+f.groupPadding,n[s].TopPosition+f.groupPadding,n[s].ItemWidth-(f.groupBorderThickness+2*f.groupPadding),n[s].ItemHeight-(f.groupBorderThickness+2*f.groupPadding),v,y,0),h=this._rootTreeMapItems[s],h.headerHeight=f.headerHeight,h.showHeader=f.showHeader,h.headerWidth=n[s].ItemWidth,h.headerTemplate=f.headerTemplate,h.headerLeftPosition=n[s].LeftPosition,h.headerTopPosition=n[s].TopPosition,(f.showHeader||f.showHeader==null)&&(this.model.enableDrillDown?this._createBackGround(h,f,n[s],o):(this._createBackGround(h,f),this._generateHeaders(h,f))),n[s].ChildtreeMapItems=c,n[s].GroupingLevel=this.model.levels.indexOf(f)+1,p=0;p<c.length;p++)u[l]=c[p],u[l].ParentHeader=h.header,u[l].ItemHeight-=f.groupPadding,u[l].ItemWidth-=f.groupPadding,u[l].LeftPosition+=f.groupBorderThickness,u[l].TopPosition+=f.groupBorderThickness,l++;e==i&&this._generateLabels(n,f.labelTemplate,null,f.showLabels)},_createBackGround:function(t,i,r,u){var f=n("<div />"),o=t.showHeader||t.showHeader==null?t.ItemHeight-2*i.groupBorderThickness:0,s=t.showHeader||t.showHeader==null?t.TopPosition:0,e;f.css({height:o+"px",width:t.ItemWidth-2*i.groupBorderThickness+"px",left:t.LeftPosition+"px",top:s+"px","border-style":"solid","border-width":i.groupBorderThickness+"px","border-color":i.groupBorderColor,position:"absolute","background-color":i.groupBackground});f.appendTo(this._backgroundTile);this.model.enableDrillDown&&!u&&(e=n("<div/>"),e[0].className=t.header,e.css({height:f[0].style.height,width:f[0].style.width,left:f[0].style.left,top:f[0].style.top,position:"absolute","background-color":this.model.drillDownSelectionColor,opacity:.2,display:"none"}),this._drillHoverDiv.append(e),n(e).mouseenter({treemap:this,param1:t.header},this._mouseEnterFunction),n(e).mousedown({treemap:this,level:i,param1:r},this._headerClickFunction),n(e).mouseleave({treemap:this,param1:t.header},this._mouseLeaveFunction));n(f).mousedown({treemap:this,level:i,param1:r},this._headerClickFunction);n(f).mousemove({treemap:this,param1:t.header},this._mouseHoverFunction)},_mouseHoverFunction:function(t){var r=t.data.treemap,i,u;if(r.model.enableDrillDown)for(i=0;i<r._drillHoverDiv[0].children.length;i++)u=r._drillHoverDiv[0].children[i],u.className==t.data.param1&&n(u).css({display:"block"})},_mouseEnterFunction:function(t){for(var r,u=t.data.treemap,i=0;i<u._drillHoverDiv[0].children.length;i++)r=u._drillHoverDiv[0].children[i],r.className!=t.data.param1&&n(r).css({display:"none"})},_mouseLeaveFunction:function(t){for(var u,r=t.data.treemap,i=0;i<r._drillHoverDiv[0].children.length;i++)u=r._drillHoverDiv[0].children[i],n(u).css({display:"none"})},_headerClickFunction:function(t){var f=t.data.level,r=t.data.param1,c=t.ctrlKey,i=t.data.treemap,h,o,e,s,u;if(i.model.highlightGroupOnSelection)if(i._browser!="msie"&&(h=i._backgroundTile[0].children[i._backgroundTile[0].children.length-0],i._backgroundTile[0].insertBefore(this,h)),c)n.inArray(this,i._prevSelectedHeaders)==-1?(n(this).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.model.highlightBorderBrush}),i._prevSelectedHeaders.push(this),i._prevSelectedGroupDatas.push(t.data.Param1)):(n(this).css({"border-width":f.groupBorderThickness,"border-color":f.groupBorderColor}),o=i._prevSelectedHeaders.indexOf(this),i._prevSelectedHeaders.splice(o,1),i._prevSelectedGroupDatas.splice(o,1));else{for(e=0;e<i._prevSelectedHeaders.length;e++)n(i._prevSelectedHeaders[e]).css({"border-width":f.groupBorderThickness,"border-color":f.groupBorderColor});n.inArray(this,i._prevSelectedHeaders)==-1?(n(this).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.model.highlightBorderBrush}),i._prevSelectedHeaders=[],i._prevSelectedHeaders.push(this)):i._prevSelectedHeaders=[];i._prevSelectedGroupDatas.push(t.data.Param1)}if(i.model.enableDrillDown&&i.model.levels.length>1&&(i._drilldownItem!=null&&i._drilldownItem.header!=r.header||i._drilldownItem==null)){for(s="",u=0;u<i._drillHeaderDiv[0].children[0].children.length;u++)i._drillHeaderDiv[0].children[0].children[u].className=="header"&&(s=i._drillHeaderDiv[0].children[0].children[u].innerHTML);return i._drillHeaderDiv[0].innerHTML="",i._templateDiv[0].innerHTML="",i._drillHoverDiv[0].innerHTML="",i._drillDownHeader(s+"."+r.header,!0),i._drilldownItem=r,i._drilldownItems.push(r),i._groupdrillDownLevels(r,i._drilldownItems.length),!1}i._trigger("treeMapGroupSelected",{selectedGroups:i._prevSelectedHeaders,orginalEvent:t})},_generateLabels:function(t,i,r,u){for(var f,o,h,e,c,l,s=0;s<t.length;s++)f=t[s],r!=null&&(h=n("#"+r),e=n("<div style='overflow:hidden;display:block;position:absolute;pointer-events: none;'><\/div>"),e[0].data=f,c=n.templates(h.html()),l=c.render(f),n(e).html(l),n(e).css({left:f.LeftPosition+10+"px",top:f.TopPosition+5+"px"}),this._templateDiv.append(e),this._labelTemplateElements.push(e)),u&&i==null&&(o=n('<label style="font-size:14px;font-weight:normal;font-family:Segoe UI;">'+f.label+"<\/label>"),this.model.enableDrillDown?n(o).css({position:"absolute",color:"black",overflow:"hidden",width:f.ItemWidth-10+"px",left:f.LeftPosition+10+"px",top:f.TopPosition+5+"px",height:f.ItemHeight-10,"font-weight":"normal","pointer-events":"none"}):n(o).css({position:"absolute",color:"white",overflow:"hidden",width:f.ItemWidth-10+"px",left:f.LeftPosition+10+"px",top:f.TopPosition+5+"px",height:f.ItemHeight-10,"font-weight":"normal","pointer-events":"none"}),this._treeMapLabels.push(o),this._templateDiv.append(o)),i!=null&&u&&(h=n("#"+i),e=n("<div style='overflow:hidden;display:block;position:absolute;pointer-events: none;'><\/div>"),e[0].data=f,c=n.templates(h.html()),l=c.render(f),n(e).html(l),n(e).css({left:f.LeftPosition+f.ItemWidth/2,top:f.TopPosition+f.ItemHeight/2}),this._templateDiv.append(e),this._labelTemplateElements.push(e))},_generateToolTip:function(){var t,i;this.model.showTooltip&&(t=n("<div class='tooltipelement' style='display:none;position:absolute;z-index:1000;pointer-events:none;'><\/div>"),n(document.body).append(t),this._toolTipElement=t,this.model.tooltipTemplate==null&&(i=this.model.leafItemSettings.labelPath!=null?this.model.leafItemSettings.labelPath:this.weightValuePath(),i!=null&&(this.model.tooltipTemplate="defaultTooltip",this.element.append(n('<div id="defaultTooltip" style="display:none;"><div style="margin-left:10px;margin-top:-25px;"><div class="defaultToolTip"><p style="margin-top:-4px"><label  style="color:rgb(27, 20, 20);font-size:14px;font-weight:normal;font-family:Segoe UI">{{:'+i+"}}<\/label><\/p><\/div><\/div><\/div>")))))},_generateLegend:function(){var r,s,t,f,h;if(this.model.rangeColorMapping!=null){var e=this.model.rangeColorMapping,i=0,o=0,u=this.model.legendSettings,c=u.template;for(r=0;r<e.length;r++)s=c=="Ellipse"?this._getEllipseLegend(u,i,o):this._getRectLegend(u,i,o),n(s).css("background-color",e[r].color),s.appendTo(this._svgDocument),i+=u.iconWidth+5,t=n("<div/>"),t.css({left:i+"px",top:o+"px",position:"absolute"}),n(t).css({"font-size":"15px",color:"gray"}),t[0].innerHTML=e[r].legendLabel,t.appendTo(this._svgDocument),f=t[0].getBoundingClientRect(),h=window.SVGSVGElement?f.width:f.right-f.left,i+=h+18}},_getEllipseLegend:function(t,i,r){var u=n("<div class='e-mapLegend'/>");return u.css({height:this.model.legendSettings.iconHeight+"px",width:this.model.legendSettings.iconWidth+"px","border-radius":this.model.legendSettings.iconHeight/2+"px",left:i+"px",top:r+"px",position:"absolute"}),u},_getRectLegend:function(t,i,r){var u=n("<div />");return u.css({height:this.model.legendSettings.iconHeight+"px",width:this.model.legendSettings.iconWidth+"px",left:i+"px",top:r+"px",position:"absolute"}),u},_getPositionFromParent:function(n,t){var i=n.getBoundingClientRect(),r=t.getBoundingClientRect(),u=window.SVGSVGElement?i.width:i.right-i.left,f=window.SVGSVGElement?i.height:i.bottom-i.top;return{left:i.left-r.left,top:i.top-r.top,height:f,width:u}},_renderLabels:function(){for(var i=0;i<this._labelTemplateElements.length;i++){var t=this._labelTemplateElements[i],r=this._getPositionFromParent(t[0],this._templateDiv[0]),e=t[0].data,u=n(t).css("left"),f=n(t).css("top");n(t).css({left:parseInt(u)-r.width/2,top:parseInt(f)-r.height/2,"pointer-events":"none"})}},_generateHeaders:function(t,i){var u,r,f;t.headerTemplate==null?(u=n('<div style="display:block;position:absolute;pointer-events: stroke;overflow: hidden;"><label style="color:#262626;font-size:15px;font-weight:normal;font-family:Segoe UI;">'+t.header+"<\/label><\/div>"),n(u).css({left:t.headerLeftPosition+2,top:t.headerTopPosition+2,width:t.headerWidth-i.groupPadding,height:t.headerHeight,"margin-left":i.groupPadding}),this._templateDiv.append(u)):(r=n("<div style='display:block;position:absolute;pointer-events: none;overflow: hidden;'><\/div>"),this._templateDiv.append(r),n(r).css({left:t.headerLeftPosition,width:t.headerWidth,top:t.headerTopPosition,height:t.headerHeight}),f=n("#"+t.headerTemplate).render(t),n(r).html(f))},_drillDownHeader:function(t,i){var r=n("<div style='display:block;position:absolute;overflow: hidden;'><div class='header' style='margin-top:5px;height:30px;position:absolute;background-color: transparent'>"+t+"<\/div><\/div>");i&&(r=n("<div style='display:block;position:absolute;overflow: hidden;'><svg style='margin-top:10px;width:15px;height:15px'><polyline points='8,0 8,10 0,5 8,0' style='fill:white;stroke:white'/><\/svg><div class='header' style='left:17px;top:0px;position:absolute;margin-top:6px;height:30px;position:absolute;background-color: transparent'  '>"+t+"<\/div><\/div>"));n(r).css({left:"0px",width:this._width+"px","background-color":this.model.drillDownHeaderColor,top:0,height:"30px",color:"white","font-size":"15px","text-indent":"10px",cursor:"pointer"});this._drillHeaderDiv.append(r);n(r).mousedown({treemap:this},this._drilldownfunction)},_drilldownfunction:function(n){var t=n.data.treemap,f,i,u,r;if(t._drilldownItems.length>0)if(t._drilldownItems.length==1)t.refresh(),t._drilldownItems=[];else{for(f="",i=0;i<t._drillHeaderDiv[0].children[0].children.length;i++)t._drillHeaderDiv[0].children[0].children[i].className=="header"&&(f=t._drillHeaderDiv[0].children[0].children[i].innerHTML);for(u=f.split("."),t._drillHeaderDiv[0].innerHTML="",r="",i=0;i<u.length-1;i++)r=r+u[i],i!=u.length-2&&(r=r+".");t._drillDownHeader(r,!0);t._drilldownItem=t._drilldownItems[t._drilldownItems.length-2];t._drilldownItems.pop(t._drilldownItems[t._drilldownItems.length-1]);t._templateDiv[0].innerHTML="";t._groupdrillDownLevels(t._drilldownItem,t._drilldownItems.length)}},_generateTreeMapItems:function(t){var u;if(this._getTreeMapItemTemplate(t),t!=null){for(u=0;u<t.length;u++){var i=t[u],r=this._svgDocument[0].childNodes[u],f=i._generateColorMappings(this.model);f!=null?n(r).css("background-color",f):n(r).css("background-color","#e5e5e5");i.Data!=null&&i.Data.length>0&&(i.Data=i.Data[0]);i.Rectangle=r;n(r).mouseenter({Param1:i,Param2:this},this._rectMouseEnter);n(r).mousemove({Param1:i,Param2:this},this._rectMouseMove);n(r).mouseleave({Param1:i,Param2:this},this._rectMouseLeave);n(r).mouseup({Param1:i,Param2:this},this._rectMouseLeave);n(r).mousedown({Param1:i.Data,treemap:this},this._rectClickFunction)}this.model.rangeColorMapping.length==0&&this.model.uniColorMapping.color==null&&this.model.desaturationColorMapping.color!=null?this._setDesaturationColor(t,this.model.desaturationColorMapping):this.model.PaletteColorMapping!=null&&this._setPaletteColor(t,this.model.PaletteColorMapping)}},_getTreeMapItemTemplate:function(t){for(var i,u="",r=0;r<t.length;r++)i=t[r],u+='<div style="border-style:solid;position:absolute;left:'+i.LeftPosition+"px;top:"+i.TopPosition+"px;height:"+i.ItemHeight+"px;width:"+i.ItemWidth+"px;border-width:"+this.model.leafItemSettings.borderThickness+"px;border-color:"+this.model.leafItemSettings.borderBrush+'"><\/div>';this._svgDocument!=null&&this.model.enableDrillDown&&(this._svgDocument[0].innerHTML="");this._svgDocument=n('<div style= "overflow:hidden;z-index:1;"id="svgDocument">'+u+"<\/div>");this._backgroundTile.appendTo(this.element);this._svgDocument.appendTo(this.element);this._svgDocument.css({height:this._height+"px",width:this._width+"px",overflow:"hidden","z-index":1});n(this._backgroundTile).css({height:this._height+"px",width:this._width+"px",overflow:"hidden","z-index":0});this._templateDiv.appendTo(this.element);this._drillHeaderDiv.appendTo(this.element);this._drillHoverDiv.appendTo(this.element)},_rectClickFunction:function(t){var e=t.ctrlKey,i=t.data.treemap,f,u,r;if(i.model.highlightOnSelection)if(i._browser!="msie"&&(f=i._svgDocument[0].children[i._svgDocument[0].children.length-1],i._svgDocument[0].insertBefore(this,f)),e)n.inArray(this,i._prevSelectedItems)==-1?(n(this).css({"border-width":i.model.highlightBorderThickness,"border-color":i.model.highlightBorderBrush}),i._prevSelectedItems.push(this),i._prevSelectedItemDatas.push(t.data.Param1)):(n(this).css({"border-width":i.model.leafItemSettings.borderThickness,"border-color":i.model.leafItemSettings.borderBrush}),u=i._prevSelectedItems.indexOf(this),i._prevSelectedItems.splice(u,1),i._prevSelectedItemDatas.splice(u,1));else{for(r=0;r<i._prevSelectedItems.length;r++)n(i._prevSelectedItems[r]).css({"border-width":i.model.leafItemSettings.borderThickness,"border-color":i.model.leafItemSettings.borderBrush});n.inArray(this,i._prevSelectedItems)==-1?(n(this).css({"border-width":i.model.highlightBorderThickness,"border-color":i.model.highlightBorderBrush}),i._prevSelectedItems=[],i._prevSelectedItems.push(this)):i._prevSelectedItems=[];i._prevSelectedItems.push(t.data.Param1)}i._trigger("treeMapItemSelected",{selectedItems:i._prevSelectedItems,originalEvent:t})},_rectMouseEnter:function(t){var u=t.data.Param1.Data,i,r,f;u!=null&&(i=t.data.Param2._toolTipElement,r=t.data.Param2.model.tooltipTemplate,i!=null&&r!=null&&(n(i).css({left:t.pageX+10,top:t.pageY+10,display:"block"}),f=n("#"+r).render(u),n(i).html(f)))},_rectMouseMove:function(t){var f=t.data.Param2._toolTipElement,i=t.data.Param2,r,u;if(i.model.enableDrillDown&&i._browser!="msie")for(r=0;r<i._drillHoverDiv[0].children.length;r++)u=i._drillHoverDiv[0].children[r],u.className==t.data.Param1.ParentHeader&&n(u).css({display:"block"});f!=null&&n(f).css({left:t.pageX+10,top:t.pageY+10,display:"block"})},_rectMouseLeave:function(t){var i=t.data.Param2._toolTipElement;i!=null&&n(i).css("display","none")},_docClickFunction:function(t){var i=t.data.Param1._toolTipElement;i!=null&&n(i).css("display","none")},_setDesaturationColor:function(t,i){var r,f,e,u;for(t=t.sort(this._orderBycolorWeight),r=i.from,f=i.to,(r<0||r>1)&&(r=1),(f>1||f<0)&&(f=0),e=(r-f)/t.length,u=0;u<t.length;u++)n(t[u].Rectangle).css("background-color",i.color),t[u].colorWeight>=i.rangeMinimum&&t[u].colorWeight<=i.rangeMaximum&&(n(t[u].Rectangle).css("opacity",r),r=r-e)},_setPaletteColor:function(n,t){n=n.sort(this._orderBycolorWeight);for(var i=0;i<n.length;i++)t.colors.length>0&&n[i].Rectangle.setAttribute("fill",t.Colors[i%t.colors.length])},_orderBycolorWeight:function(n,t){return n.colorWeight==t.colorWeight?0:n.colorWeight<t.colorWeight?1:-1},_orderByAreaWight:function(n,t){return n.AreaByWeight==t.AreaByWeight?0:n.AreaByWeight<t.AreaByWeight?1:-1},_calculateSliceAndDiceItemSize:function(n,t,r,u,f,e,o,s,h){var y=e,tt=this._getTotalWeight(n),l,p,g,b,a,nt,d,c,k,v;s==i&&(s=u>f?!0:!1);l={Width:u,Height:f-h};p=o<l.Height?o:0;l.Height=l.Height-p;var rt={X:t,Y:r+p,Width:l.Width,Height:l.Height},it=l.Height*l.Width,w=n.length;if(s)for(g=l.Height,b=0,c=0;c<w;c++)k=it/tt*n[c].weight,a=k/g,e=a>y?y:0,b<=l.Width&&(n[c].ItemWidth=c!=w-1?a-e:a,n[c].ItemHeight=g,n[c].LeftPosition=b+t,n[c].TopPosition=r+o,b+=a);else for(nt=l.Width,d=0,c=0;c<w;c++)k=it/tt*n[c].weight,v=k/nt,e=v>y?y:0,d<=l.Height&&(n[c].ItemWidth=nt,n[c].ItemHeight=c!=w-1?v-e:v,n[c].LeftPosition=t,n[c].TopPosition=d+r+p,d+=v)},_calculateSquarifiedItemSize:function(n,t,i,r,u,f,e,o){var rt=this._getTotalWeight(n),p={Width:r,Height:u-o},nt=e<p.Height?e:0,a,tt,it,s,v,y,l,g,c;for(p.Height=p.Height-nt,a=n.length-1;a>=0;a--)l=n[a],l.AreaByWeight=p.Height*p.Width*l.weight/rt,l.headerTopPosition=i;var h={X:t,Y:i+nt,Width:p.Width,Height:p.Height},b=n.sort(this._orderByAreaWight),k=0,d=0,w=0;for(a=0;a<n.length;a=w)for(tt=b[a],weightObject=this._getGroupTotalWeight(tt,b,h,a),it=weightObject.totalWeight,w=weightObject.index,s={},v=h.Width>h.Height?!0:!1,y=a;y<w;y++)l=b[y],g=it,y==a&&(s.X=h.X,s.Y=h.Y,v?(s.Width=g/h.Height,s.Height=h.Height,h.X+=s.Width,h.Width=Math.max(0,h.Width-s.Width)):(s.Width=h.Width,s.Height=g/h.Width,h.Y+=s.Height,h.Height=Math.max(0,h.Height-s.Height)),k=s.X,d=s.Y),c={},b.indexOf(l)!=b.length-1?(c.X=0,c.Y=0,c.Width=v?s.Width-f:l.AreaByWeight/s.Height,c.Height=v?l.AreaByWeight/s.Width:s.Height-f,w-y!=1&&(v?c.Height-=f:c.Width-=f)):(c.Width=v?s.Width:l.AreaByWeight/s.Height,c.Height=v?l.AreaByWeight/s.Width:s.Height),l.ItemWidth=c.Width,l.ItemHeight=c.Height,l.LeftPosition=k,l.TopPosition=d,v?d+=w-y!=1?c.Height+f:c.Height:k+=w-y!=1?c.Width+f:c.Width},_getGroupTotalWeight:function(n,t,i,r){for(var f=0,o=0,s,e,h;r<t.length;r++){s=this._getShortersideLength(i.Width,i.Height);e=t[r];f+=e.AreaByWeight;var u=f/s,c=n.AreaByWeight/u,l=e.AreaByWeight/u;if(r==0&&(o=this._aspectRatio(u,s)),h=Math.max(this._aspectRatio(c,u),this._aspectRatio(l,u)),f==e.AreaByWeight||h<o)o=h;else{f-=e.AreaByWeight;u=f/s;o=Math.max(this._aspectRatio(c,u),this._aspectRatio(l,u));break}}return{totalWeight:f,index:r}},_aspectRatio:function(n,t){return n>t?n/t:t/n},_getShortersideLength:function(n,t){return n>t?t:n},_getTotalWeight:function(n){for(var i=0,t=0;t<n.length;t++)i+=parseFloat(n[t].weight);return i},_getGroupitem:function(t,i,r){var h=[],l,e,c,f,s,v,y,k;if(i!=null&&this.weightValuePath()!=null){for(e in i)f=i[e],(f.hasOwnProperty(t)?!0:this._containsProperty(f,t))&&(s=this._reflection(f,t),n.inArray(s,h)==-1&&h.push(s));for(l=[],e=0;e<h.length;e++){var o={},p=[],w=h[e],b=0,a=0,d=0;for(c=0;c<i.length;c++)f=i[c],s=this._reflection(f,t),s==w&&(v=this._reflection(f,this.weightValuePath()),y=this._reflection(f,this.colorValuePath()),p.push(f),d++,v!=null&&(a+=parseFloat(v)),y!=null&&(b+=parseFloat(y)));o.header=w;o.data=p;o.weight=a;o.colorWeight=b;o.headerHeight=r;a>0&&(k=new u(o),l.push(k))}return l}return null},_getTopGroupitem:function(n,t){var e,y,h,p;n==null&&(n=this.model.leafItemSettings.labelPath);n==null&&(n=this.weightValuePath());var i={},c=0,l=0,a=[],v=[];for(e=0;e<t.length;e++){var r=t[e],w=this._reflection(r,n),f={},o=this._reflection(r,this.weightValuePath()),s=this._reflection(r,this.colorValuePath());o!=null&&(c+=parseFloat(o));s!=null&&(l+=parseFloat(s));v.push(r);f.weight=o;f.data=r;f.header=w;f.colorWeight=s;y=new u(f);a.push(y)}return i.header="",i.data=v,i.weight=c,i.innerItem=a,i.colorWeight=l,h=[],p=new u(i),h.push(p),h},_containsProperty:function(n,t){for(var i in n)if(i==t)return!0;return!1},_reflection:function(t,i){var u=t,f,r,e;if(i!=null&&t!=null){for(f=i.split("."),r=0;r<f.length;r++)e=u.hasOwnProperty(f[r])?!0:this._containsProperty(u,f[r]),e&&n.each(u,function(n,t){if(n==f[r])return u=t,!1});return u}return null}});r=function(){this.groupBackground="white";this.groupBorderColor="#58585B";this.groupBorderThickness=1;this.groupPadding=4;this.groupPath=null;this.groupGap=1;this.headerHeight=20;this.showHeader=!0;this.showLabels=!1;this.headerTemplate=null;this.labelTemplate=null;this.treeMapItems=[]};r.prototype={};u=function(n){this.weight=n.weight;this.colorWeight=n.colorWeight;this.Data=n.data;this.headerHeight=n.headerHeight;this.header=n.header;this.label=n.header;this.headerLeftPosition=0;this.headerTopPosition=0;this.innerItems=n.innerItem;this.headerWidth=0;this.headerTemplate=null};u.prototype={_generateColorMappings:function(n){return n.rangeColorMapping.length>0?this._getRangeBrushColor(n.rangeColorMapping):n.uniColorMapping.color!=null?this._getUniColor(n.uniColorMapping):void 0},_getUniColor:function(n){return n.color},_getRangeBrushColor:function(n){for(var i,t=0;t<n.length;t++)if(i=n[t],this.colorWeight>=i.from&&this.colorWeight<=i.to)return i.color}};t.datavisualization.TreeMap.ItemsLayoutMode={Squarified:"squarified",SliceAndDiceHorizontal:"sliceanddicehorizontal",SliceAndDiceVertical:"sliceanddicevertical",SliceAndDiceAuto:"sliceanddiceauto"};t.datavisualization.TreeMap.SelectionMode={Default:"default",Multiple:"multiple"};t.datavisualization.TreeMap.GroupSelectionMode={Default:"default",Multiple:"multiple"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejBarcode","ej.Barcode",{element:{target:null},model:null,validTags:["div","span"],_rootCSS:"e-barcode",defaults:{displayText:!0,text:"",symbologyType:"qrbarcode",textColor:"black",lightBarColor:"white",darkBarColor:"black",quietZone:{left:1,top:1,right:1,bottom:1,all:1},narrowBarWidth:1,wideBarWidth:3,barHeight:150,barcodeToTextGapHeight:10,xDimension:4,encodeStartStopSymbol:!0,load:null,enabled:!0},dataTypes:{displayText:"boolean",text:"string",enabled:"boolean",symbologyType:"enum",narrowBarWidth:"number",wideBarWidth:"number",barHeight:"number",encodeStartStopSymbol:"boolean"},_defaultScaleValues:function(){return{enabled:!0,displayText:!0,text:"",symbologyType:"qrbarcode",textColor:"black",lightBarColor:"white",darkBarColor:"black",quietZone:{left:1,top:1,right:1,bottom:1},narrowBarWidth:1,wideBarWidth:3,barHeight:150,barcodeToTextGapHeight:10,xDimension:4,encodeStartStopSymbol:!0}},_init:function(){this._initialize();this._renderBarcode()},_destroy:function(){this.element.empty()},_setModel:function(n){for(var t in n)switch(t){case"enabled":this._disabled(!n[t]);break;case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"lightBarColor":this.model.lightBarColor=n[t];break;case"darkBarColor":this.model.darkBarColor=n[t];break;case"textColor":this.model.textColor=n[t];break;case"displayText":this.model.displayText=n[t];break;case"quietZone":this.model.quietZone=n[t];break;case"narrowBarWidth":this.model.narrowBarWidth=n[t];break;case"wideBarWidth":this.model.wideBarWidth=n[t];break;case"barHeight":this.model.barHeight=n[t];break;case"xDimension":this.model.xDimension=n[t];break;case"encodeStartStopSymbol":this.model.encodeStartStopSymbol=n[t];break;case"symbologyType":this.model.symbologyType=n[t];this._itemInitialize();break;case"text":this.model.text=n[t];this._itemInitialize()}this._renderBarcode()},_initialize:function(){this.BarcodeEl=this.element;this.target=this.element[0];this._itemInitialize();this.Model=this.model},_renderBarcode:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r);n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this.model.enabled&&(this._initObject(this),this.Model.text!=null&&this._findBarcodeType())},enable:function(){this.model.enabled||(this.element.removeClass("e-disable"),this.model.enabled=!0)},disable:function(){this.model.enabled&&(this.element.addClass("e-disable"),this.model.enabled=!1)},_disabled:function(n){n?this.disable():this.enable()},_initObject:function(t){t.BarcodeEl=n("#"+t.target.id);t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>");t.BarcodeEl.append(t.canvasEl);t.BarcodeEl.css("width",t.model.width);t.BarcodeEl.css("height",t.model.height);t.canvasEl[0].setAttribute("width",t.BarcodeEl.width());t.canvasEl[0].setAttribute("height",t.BarcodeEl.height());t.centerX=t.canvasEl[0].width/2;t.centerY=t.canvasEl[0].height/2;var r=t.canvasEl[0];(typeof G_vmlCanvasManager!="undefined"&&(r=window.G_vmlCanvasManager.initElement(r)),r&&r.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"),t.contextEl==i)},_findBarcodeType:function(){var y,p,a,o,n,v,s,h,u,l,r,f,e,c,w,b;if(this.contextEl!=i&&this.Model.text!=""){if(this.textFont={size:"12px",fontFamily:"Segoe UI",fontStyle:"Regular"},this.model.quietZone.all>1&&(this.model.quietZone.left=this.model.quietZone.right=this.model.quietZone.top=this.model.quietZone.bottom=this.model.quietZone.all),intercharacterGap=1,extendedText="",continuous=!1,validatorExp="",encodedText=this.Model.text,n=this.Model.symbologyType,v=!0,t.Barcode.SymbologyType.dataMatrix==n||t.Barcode.SymbologyType.qrBarcode==n)v=!1;else if(y=t.Barcode.symbologySettings[n].startSymbol,p=t.Barcode.symbologySettings[n].stopSymbol,validatorExp=t.Barcode.symbologySettings[n].validatorExp,a=t.Barcode.symbologySettings[n].symbolTable,o=t.Barcode.symbologySettings[n].extendedCodes,t.Barcode.SymbologyType.code39Extended==n){for(s=encodedText.split(""),h="",u=0;u<s.length;u++)for(l=s[u],r=0;r<o.length;r++)if(o[r][0]==l&&(f=o[r][1],!(f==i)))for(e=0;e<f.length;e++)h+=f[e];extendedText=h}else if(t.Barcode.SymbologyType.code93Extended==n){for(s=encodedText.split(""),h="",u=0;u<s.length;u++)for(l=s[u],r=0;r<o.length;r++)if(o[r][0]==l&&(f=o[r][1],!(f==i)))for(e=0;e<f.length;e++)h+=f[e];extendedText=h}if(v){if(!this._validateText(this.Model.text,validatorExp)){console.log("Barcode Text contains characters that are not accepted by this barcode specification.");return}if(this.model.symbologyType=="code32"&&this.model.text.length!=8){console.log("Barcode Text Length that are not accepted by this barcode specification.");return}extendedText.length>0&&(encodedText=extendedText);this.Model.encodeStartStopSymbol&&(encodedText=y.toString()+encodedText+p.toString());c=this._getCharWidth(encodedText,a);c-=continuous==!1?intercharacterGap*encodedText.length:extendedText.length>0?intercharacterGap*(extendedText.length-this.Model.text.length):intercharacterGap;w=parseInt(this.Model.displayText?this.textFont.size.replace("px",""):0);b=this.Model.quietZone.top+this.Model.quietZone.bottom+this.Model.barHeight+intercharacterGap+(this.Model.displayText?w+this.Model.barcodeToTextGapHeight:0);c+=this.Model.quietZone.left+this.Model.quietZone.right;this.Model.width=c;this.canvasEl[0].setAttribute("width",this.Model.width);this.BarcodeEl.css("width",this.Model.width);this.contextEl.beginPath();this.contextEl.fillStyle=this.Model.lightBarColor;this.contextEl.fillRect(0,0,c,b);this.contextEl.closePath();this._draw1DBarcode(encodedText,a)}else t.Barcode.SymbologyType.dataMatrix==n?this._buildDataMatrix():t.Barcode.SymbologyType.qrBarcode==n&&this._buildQRBarcode();this._raiseEvent("load")}},_raiseEvent:function(n){this.model[n]&&this._trigger(n)},_buildQRBarcode:function(){var t=this.Model.text,u,i,f,n,r,e,o,s,h;for(this.m_EciAssignmentNumber=3,this.mode="numeric",this.isEci=!1,this.m_Version=1,u=[14,26,42,62,84,106,122,152,180,213,251,287,331,362,412,450,504,560,624,666,711,779,857,911,997,1059,1125,1190,1264,1370,1452,1538,1628,1722,1809,1911,1989,2099,2213,2331],n=0;n<t.length;n++)if(i=t.charCodeAt(n),!(i<58)||!(i>47))if(i<91&&i>64||t[n]=="$"||t[n]=="%"||t[n]=="*"||t[n]=="+"||t[n]=="-"||t[n]=="."||t[n]=="/"||t[n]==":"||t[n]==" ")this.mode="alphanumeric";else if(i>=65377&&i<=65439||i>=97&&i<=122){this.mode="binary";break}else{this.mode="binary";this.isEci=!0;break}for(this.mode=="numeric"?u=[34,63,101,149,202,255,293,365,432,513,604,691,796,871,991,1082,1212,1346,1500,1600,1708,1872,2059,2188,2395,2544,2701,2857,3035,3289,3486,3693,3909,4134,4343,4588,4775,5039,5313,5596]:this.mode=="alphanumeric"&&(u=[20,38,61,90,122,154,178,221,262,311,366,419,483,528,600,656,734,816,909,970,1035,1134,1248,1326,1451,1542,1637,1732,1839,1994,2113,2238,2369,2506,2632,2780,2894,3054,3220,3391]),this.isEci==!0&&(this.m_EciAssignmentNumber=this._findECINumber(t)),n=0;n<u.length;n++)if(u[n]>t.length){this.m_Version=n+1;break}for(this.qrbarcodeValues={Version:this.m_Version,ErrorCorrectionLevel:1,NumberOfDataCodeWord:this._getNumberOfDataCodeWord(),NumberOfErrorCorrectingCodeWords:this._getNumberOfErrorCorrectingCodeWords(),NumberOfErrorCorrectionBlocks:this._getNumberOfErrorCorrectionBlocks(),End:this._getEnd(),DataCapacity:this._getDataCapacity(),FormatInformation:this._getFormatInformation(),VersionInformation:this._getVersionInformation()},this.noOfModules=(this.m_Version-1)*4+21,this.moduleValue=this._create2DArray(this.noOfModules,this.noOfModules),n=0;n<this.noOfModules;n++)for(r=0;r<this.noOfModules;r++)this.moduleValue[n][r]={IsBlack:!1,IsFilled:!1,IsPDP:!1};if(this._drawPDP(0,0),this._drawPDP(this.noOfModules-7,0),this._drawPDP(0,this.noOfModules-7),this._drawTimingPattern(),this.m_Version!=1)for(f=this._getAlignmentPatternCoOrdinates(),n=0;n<f.length;n++)for(r=0;r<f.length;r++)e=f[n],o=f[r],this.moduleValue[e][o].IsPDP!=!0&&this._drawAlignmentPattern(e,o);this._allocateFormatVersionInfo();this._encodeData();this._drawFormatInformation();this._addQuietZone();s=this.moduleValue.length*this.Model.xDimension;h=this.moduleValue[0].length*this.Model.xDimension;this.Model.width=s;this.canvasEl[0].setAttribute("width",this.Model.width);this.BarcodeEl.css("width",this.Model.width);this.contextEl.beginPath();this.contextEl.fillStyle="white";this.contextEl.fillRect(0,0,s,h);this.contextEl.closePath();this._drawQRBarcode(h)},_allocateFormatVersionInfo:function(){for(var i,r,t,n=0;n<9;n++)this.moduleValue[8][n].IsFilled=!0,this.moduleValue[n][8].IsFilled=!0;for(n=this.noOfModules-8;n<this.noOfModules;n++)this.moduleValue[8][n].IsFilled=!0,this.moduleValue[n][8].IsFilled=!0;if(this.m_Version>6)for(i=this.qrbarcodeValues.VersionInformation,r=0,n=0;n<6;n++)for(t=2;t>=0;t--)this.moduleValue[n][this.noOfModules-9-t].IsBlack=i[r]==1?!0:!1,this.moduleValue[n][this.noOfModules-9-t].IsFilled=!0,this.moduleValue[this.noOfModules-9-t][n].IsBlack=i[r++]==1?!0:!1,this.moduleValue[this.noOfModules-9-t][n].IsFilled=!0},_drawTimingPattern:function(){for(var n=8;n<this.noOfModules-8;n+=2)this.moduleValue[n][6].IsBlack=!0,this.moduleValue[n][6].IsFilled=!0,this.moduleValue[n+1][6].IsBlack=!1,this.moduleValue[n+1][6].IsFilled=!0,this.moduleValue[6][n].IsBlack=!0,this.moduleValue[6][n].IsFilled=!0,this.moduleValue[6][n+1].IsBlack=!1,this.moduleValue[6][n+1].IsFilled=!0;this.moduleValue[this.noOfModules-8][8].IsBlack=!0;this.moduleValue[this.noOfModules-8][8].IsFilled=!0},_drawQRBarcode:function(n){var r=this.Model.quietZone.all,s,h,t,e,i,f;r<2&&(r=2);s="white";h="black";this.Model.height=n;this.canvasEl[0].setAttribute("height",this.Model.height);this.BarcodeEl.css("height",this.Model.height);var u=parseInt(this.Model.xDimension),o=0,c=this.noOfModules+2*r,l=this.noOfModules+2*r;for(this.contextEl.beginPath(),t=0;t<c;t++){for(e=0,i=0;i<l;i++)f=null,f=this.moduleValue[t][i].IsBlack?"black":"white",this.dataAllocationValues[i][t].IsFilled&&this.dataAllocationValues[i][t].IsBlack&&(f="black"),this.contextEl.fillStyle=f,this.contextEl.fillRect(e,o,u,u),e+=u;o+=u}this.contextEl.closePath();this.contextEl.stroke()},_addQuietZone:function(){var n=this.Model.quietZone.all,t,i;n<2&&(n=2);var r=this.noOfModules+2*n,u=this.noOfModules+2*n,f=this._create2DArray(r,u),e=this._create2DArray(r,u);for(t=0;t<r;t++)for(i=0;i<u;i++)f[t][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1},e[t][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1};for(t=n;t<r-n;t++)for(i=n;i<u-n;i++)f[t][i]=this.moduleValue[t-n][i-n],e[t][i]=this.dataAllocationValues[t-n][i-n];this.moduleValue=f;this.dataAllocationValues=e},_drawFormatInformation:function(){for(var t=this.qrbarcodeValues.FormatInformation,i=0,n=0;n<7;n++)n==6?this.moduleValue[n+1][8].IsBlack=t[i]==1?!0:!1:this.moduleValue[n][8].IsBlack=t[i]==1?!0:!1,this.moduleValue[8][this.noOfModules-n-1].IsBlack=t[i++]==1?!0:!1;for(i=14,n=0;n<7;n++)n==6?this.moduleValue[8][n+1].IsBlack=t[i]==1?!0:!1:this.moduleValue[8][n].IsBlack=t[i]==1?!0:!1,this.moduleValue[this.noOfModules-n-1][8].IsBlack=t[i--]==1?!0:!1;this.moduleValue[8][8].IsBlack=t[7]==1?!0:!1;this.moduleValue[8][this.noOfModules-8].IsBlack=t[7]==1?!0:!1},_dataAllocationAndMasking:function(n){var r=this.noOfModules,u,t,i,f;for(this.dataAllocationValues=this._create2DArray(r,r),u=0,t=0;t<r;t++)for(i=0;i<r;i++)this.dataAllocationValues[t][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1};for(t=r-1;t>=0;t-=2){for(i=r-1;i>=0;i--)u=this._allocateValues(n,t,i,u);for(t-=2,t==6&&t--,i=0;i<r;i++)u=this._allocateValues(n,t,i,u)}for(t=0;t<r;t++)for(i=0;i<r;i++)this.moduleValue[t][i].IsFilled||(f=this.dataAllocationValues[t][i].IsBlack,this.dataAllocationValues[t][i].IsBlack=f?!1:!0)},_allocateValues:function(n,t,i,r){return this.moduleValue[t][i].IsFilled&&this.moduleValue[t-1][i].IsFilled||(this.moduleValue[t][i].IsFilled||(r+1<n.length&&(this.dataAllocationValues[t][i].IsBlack=n[r++]),this.dataAllocationValues[t][i].IsBlack=(t+i)%3==0?this.dataAllocationValues[t][i].IsBlack?!0:!1:this.dataAllocationValues[t][i].IsBlack?!1:!0,this.dataAllocationValues[t][i].IsFilled=!0),this.moduleValue[t-1][i].IsFilled||(r+1<n.length&&(this.dataAllocationValues[t-1][i].IsBlack=n[r++]),this.dataAllocationValues[t-1][i].IsBlack=(t-1+i)%3==0?this.dataAllocationValues[t-1][i].IsBlack?!0:!1:this.dataAllocationValues[t-1][i].IsBlack?!1:!0,this.dataAllocationValues[t-1][i].IsFilled=!0)),r},_encodeData:function(){var t=[],i=-1,b,s,u,nt,p,a,f,e,l,k,d,g,tt,w,it,c,v,n,o,r;switch(this.mode){case"numeric":t[++i]=!1;t[++i]=!1;t[++i]=!1;t[++i]=!0;break;case"alphanumeric":t[++i]=!1;t[++i]=!1;t[++i]=!0;t[++i]=!1;break;case"binary":if(this.isEci)for(t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!0,e=this._stringToBoolArray(this.m_EciAssignmentNumber.toString(),8),b=0;b<e.length;b++)t[++i]=e[b];t[++i]=!1;t[++i]=!0;t[++i]=!1;t[++i]=!1}if(s=0,this.m_Version<10)switch(this.mode){case"numeric":s=10;break;case"alphanumeric":s=9;break;case"binary":s=8}else if(this.m_Version<27)switch(this.mode){case"numeric":s=12;break;case"alphanumeric":s=11;break;case"binary":s=16}else switch(this.mode){case"numeric":s=14;break;case"alphanumeric":s=13;break;case"binary":s=16}for(u=this.Model.text,nt=this._intToBoolArray(u.length,s),n=0;n<s;n++)t[++i]=nt[n];if(this.mode=="numeric"){for(f="",n=0;n<u.length;n++)if(e=[],f+=u[n],n%3==2&&n!=0||n==u.length-1)for(e=f.length==3?this._stringToBoolArray(f,10):f.length==2?this._stringToBoolArray(f,7):this._stringToBoolArray(f,4),f="",r=0;r<e.length;r++)t[++i]=e[r]}else if(this.mode=="alphanumeric")for(p="",f=0,n=0;n<u.length;n++){if(e=[],p+=u[n],n%2==0&&n+1!=u.length&&(f=45*this._getAlphanumericvalues(u[n])),n%2==1&&n!=0){for(f+=this._getAlphanumericvalues(u[n]),e=this._intToBoolArray(f,11),f=0,a=0;a<e.length;a++)t[++i]=e[a];p=""}if(n!=1&&p!=null&&n+1==u.length&&p.length==1)for(f=this._getAlphanumericvalues(u[n]),e=this._intToBoolArray(f,6),f=0,r=0;r<e.length;r++)t[++i]=e[r]}else if(this.mode="binary")for(n=0;n<u.length;n++){if(f=0,u.charCodeAt(n)>=32&&u.charCodeAt(n)<=126||u.charCodeAt(n)>=161&&u.charCodeAt(n)<=255)f=u.charCodeAt(n);else if(u.charCodeAt(n)>=65377&&u.charCodeAt(n)<=65439)f=u.charCodeAt(n)-65216;else{console.log("Input text contains non-convertable characters");return}for(e=this._intToBoolArray(f,8),r=0;r<e.length;r++)t[++i]=e[r]}for(n=0;n<4;n++)if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1;for(;;)if(t.length%8==0)break;else t[++i]=!1;for(;;){if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!0,t[++i]=!0,t[++i]=!0,t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!1,t[++i]=!1;if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0,t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0}w=this.qrbarcodeValues.NumberOfDataCodeWord;blocks=this.qrbarcodeValues.NumberOfErrorCorrectionBlocks;l=blocks[0];blocks.length==6&&(l=blocks[0]+blocks[3]);var y=new Array(l),h=t,a=-1;if(blocks.length==6)for(k=blocks[0]*blocks[2]*8,h=new Array(k),n=0;n<k;n++)h[++a]=t[n];for(d=this._create2DArray(blocks[0],h.length/8/blocks[0]),d=this._createBlocks(h,blocks[0]),n=0;n<blocks[0];n++)y[n]=this._splitCodeWord(d,n,h.length/8/blocks[0]);if(a=-1,blocks.length==6){for(h=[],n=parseInt(blocks[0]*blocks[2]*8);n<t.length;n++)h[++a]=t[n];for(g=this._create2DArray(blocks[0],h.length/8/blocks[3]),g=this._createBlocks(h,blocks[3]),n=blocks[0],v=0;n<l;n++)y[n]=this._splitCodeWord(g,v++,h.length/8/blocks[3])}for(t=[],i=-1,n=0;n<125;n++)for(o=0;o<l;o++)for(r=0;r<8;r++)n<y[o].length&&(tt=y[o][n][r],t[++i]=tt=="1"?!0:!1);for(this.corCodeWords={DataBits:this.qrbarcodeValues.NumberOfDataCodeWord,ECCW:this.qrbarcodeValues.NumberOfErrorCorrectingCodeWords,DC:0},w=this.corCodeWords.DataBits,it=this.corCodeWords.ECCW,blocks=this.qrbarcodeValues.NumberOfErrorCorrectionBlocks,this.corCodeWords.DataBits=blocks.length==6?(w-blocks[3]*blocks[5])/blocks[0]:w/blocks[0],this.corCodeWords.ECCW=it/l,c=new Array(l),v=0,n=0;n<blocks[0];n++)this.corCodeWords.DC=y[v],c[v++]=this._getERCW();if(blocks.length==6)for(this.corCodeWords.DataBits=(w-blocks[0]*blocks[2])/blocks[3],n=0;n<blocks[3];n++)this.corCodeWords.DC=y[v],c[v++]=this._getERCW();if(blocks.length!=6)for(n=0;n<c[0].length;n++)for(o=0;o<blocks[0];o++)for(r=0;r<8;r++)n<c[o].length&&(t[++i]=c[o][n][r]=="1"?!0:!1);else for(n=0;n<c[0].length;n++)for(o=0;o<l;o++)for(r=0;r<8;r++)n<c[o].length&&(t[++i]=c[o][n][r]=="1"?!0:!1);this._dataAllocationAndMasking(t)},_getERCW:function(){var i,t=new Array(this.corCodeWords.DataBits),n=[];switch(this.corCodeWords.ECCW){case 7:n=[0,87,229,146,149,238,102,21];n=this._getElement(n);break;case 10:n=[0,251,67,46,61,118,70,64,94,32,45];n=this._getElement(n);break;case 13:n=[0,74,152,176,100,86,100,106,104,130,218,206,140,78];n=this._getElement(n);break;case 15:n=[0,8,183,61,91,202,37,51,58,58,237,140,124,5,99,105];n=this._getElement(n);break;case 16:n=[0,120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120];n=this._getElement(n);break;case 17:n=[0,43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136];n=this._getElement(n);break;case 18:n=[0,215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153];n=this._getElement(n);break;case 20:n=[0,17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190];n=this._getElement(n);break;case 22:n=[0,210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231];n=this._getElement(n);break;case 24:n=[0,229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21];n=this._getElement(n);break;case 26:n=[0,173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70];n=this._getElement(n);break;case 28:n=[0,168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123];n=this._getElement(n);break;case 30:n=[0,41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180];n=this._getElement(n);break;case 32:n=[0,10,6,106,190,249,167,4,67,209,138,138,32,242,123,89,27,120,185,80,156,38,69,171,60,28,222,80,52,254,185,220,241];n=this._getElement(n);break;case 34:n=[0,111,77,146,94,26,21,108,19,105,94,113,193,86,140,163,125,58,158,229,239,218,103,56,70,114,61,183,129,167,13,98,62,129,51];n=this._getElement(n);break;case 36:n=[0,200,183,98,16,172,31,246,234,60,152,115,0,167,152,113,248,238,107,18,63,218,37,87,210,105,177,120,74,121,196,117,251,113,233,30,120];n=this._getElement(n);break;case 40:n=[0,59,116,79,161,252,98,128,205,128,161,247,57,163,56,235,106,53,26,187,174,226,104,170,7,175,35,181,114,88,41,47,163,125,134,72,20,232,53,35,15];n=this._getElement(n);break;case 42:n=[0,250,103,221,230,25,18,137,231,0,3,58,242,221,191,110,84,230,8,188,106,96,147,15,131,139,34,101,223,39,101,213,199,237,254,201,123,171,162,194,117,50,96];n=this._getElement(n);break;case 44:n=[0,190,7,61,121,71,246,69,55,168,188,89,243,191,25,72,123,9,145,14,247,1,238,44,78,143,62,224,126,118,114,68,163,52,194,217,147,204,169,37,130,113,102,73,181];n=this._getElement(n);break;case 46:n=[0,112,94,88,112,253,224,202,115,187,99,89,5,54,113,129,44,58,16,135,216,169,211,36,1,4,96,60,241,73,104,234,8,249,245,119,174,52,25,157,224,43,202,223,19,82,15];n=this._getElement(n);break;case 48:n=[0,228,25,196,130,211,146,60,24,251,90,39,102,240,61,178,63,46,123,115,18,221,111,135,160,182,205,107,206,95,150,120,184,91,21,247,156,140,238,191,11,94,227,84,50,163,39,34,108];n=this._getElement(n);break;case 50:n=[0,232,125,157,161,164,9,118,46,209,99,203,193,35,3,209,111,195,242,203,225,46,13,32,160,126,209,130,160,242,215,242,75,77,42,189,32,113,65,124,69,228,114,235,175,124,170,215,232,133,205];n=this._getElement(n);break;case 52:n=[0,116,50,86,186,50,220,251,89,192,46,86,127,124,19,184,233,151,215,22,14,59,145,37,242,203,134,254,89,190,94,59,65,124,113,100,233,235,121,22,76,86,97,39,242,200,220,101,33,239,254,116,51];n=this._getElement(n);break;case 54:n=[0,183,26,201,87,210,221,113,21,46,65,45,50,238,184,249,225,102,58,209,218,109,165,26,95,184,192,52,245,35,254,238,175,172,79,123,25,122,43,120,108,215,80,128,201,235,8,153,59,101,31,198,76,31,156];n=this._getElement(n);break;case 56:n=[0,106,120,107,157,164,216,112,116,2,91,248,163,36,201,202,229,6,144,254,155,135,208,170,209,12,139,127,142,182,249,177,174,190,28,10,85,239,184,101,124,152,206,96,23,163,61,27,196,247,151,154,202,207,20,61,10];n=this._getElement(n);break;case 58:n=[0,82,116,26,247,66,27,62,107,252,182,200,185,235,55,251,242,210,144,154,237,176,141,192,248,152,249,206,85,253,142,65,165,125,23,24,30,122,240,214,6,129,218,29,145,127,134,206,245,117,29,41,63,159,142,233,125,148,123];n=this._getElement(n);break;case 60:n=[0,107,140,26,12,9,141,243,197,226,197,219,45,211,101,219,120,28,181,127,6,100,247,2,205,198,57,115,219,101,109,160,82,37,38,238,49,160,209,121,86,11,124,30,181,84,25,194,87,65,102,190,220,70,27,209,16,89,7,33,240];n=this._getElement(n);break;case 62:n=[0,65,202,113,98,71,223,248,118,214,94,0,122,37,23,2,228,58,121,7,105,135,78,243,118,70,76,223,89,72,50,70,111,194,17,212,126,181,35,221,117,235,11,229,149,147,123,213,40,115,6,200,100,26,246,182,218,127,215,36,186,110,106];n=this._getElement(n);break;case 64:n=[0,45,51,175,9,7,158,159,49,68,119,92,123,177,204,187,254,200,78,141,149,119,26,127,53,160,93,199,212,29,24,145,156,208,150,218,209,4,216,91,47,184,146,47,140,195,195,125,242,238,63,99,108,140,230,242,31,204,11,178,243,217,156,213,231];n=this._getElement(n);break;case 66:n=[0,5,118,222,180,136,136,162,51,46,117,13,215,81,17,139,247,197,171,95,173,65,137,178,68,111,95,101,41,72,214,169,197,95,7,44,154,77,111,236,40,121,143,63,87,80,253,240,126,217,77,34,232,106,50,168,82,76,146,67,106,171,25,132,93,45,105];n=this._getElement(n);break;case 68:n=[0,247,159,223,33,224,93,77,70,90,160,32,254,43,150,84,101,190,205,133,52,60,202,165,220,203,151,93,84,15,84,253,173,160,89,227,52,199,97,95,231,52,177,41,125,137,241,166,225,118,2,54,32,82,215,175,198,43,238,235,27,101,184,127,3,5,8,163,238];n=this._getElement(n)}return t=this._toDecimal(this.corCodeWords.DC,t),i=this._divide(n,t),this._toBinary(i)},_toBinary:function(n){for(var i,r,u,f=new Array(this.corCodeWords.ECCW),t=0;t<n.length;t++){for(i=n[t].toString(2),r=new String,u=0;u<8-i.length;u++)r+="0";f[t]=r+i}return f},_divide:function(n,t){for(var o,s,f,u,h,e=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142],c=this.corCodeWords.DataBits+this.corCodeWords.ECCW,r=new Array(c),l=new Array(this.corCodeWords.ECCW),a=new Array(n.length),v=new Array(c),i=0;i<n.length;i++)a[i]=this._findElement(n[i],e);for(i=0;i<t.length;i++)r[i]=t[i];for(i=0;i<this.corCodeWords.DC.length;i++)for(v[i]=this._findElement(r[i],e),o=i,s=i,f=0;f<n.length;f++)u=a[f]+v[i],u>=255&&(u=u-255),r[s]=e[u]^r[o],s++,o++;for(h=r.length-1,i=this.corCodeWords.ECCW-1;i>=0;i--)l[i]=r[h],h--;return l},_findElement:function(n,t){for(var i=0;i<t.length;i++)if(n==t[i])break;return i},_getElement:function(n){for(var i=new Array(n.length),r=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142],t=0;t<n.length;t++)n[t]>255&&(n[t]=n[t]-255),i[t]=r[n[t]];return i},_toDecimal:function(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=parseInt(n[t],2);return i},_splitCodeWord:function(n,t,i){var u,r;for(i=parseInt(i),u=new Array(i),r=0;r<i;r++)u[r]=n[t][r];return u},_createBlocks:function(n,t){for(var f=this._create2DArray(t,n.length/8/t),u="",i=0,r=0,e=0;i<n.length;i++)i%8==0&&i!=0&&(f[e][r]=u,u="",r++,r==n.length/t/8&&(e++,r=0)),u+=n[i]?1:0;return f[e][r]=u,f},_getAlphanumericvalues:function(n){return["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"].indexOf(n)},_stringToBoolArray:function(n,t){for(var u=new Array(t),r=0,i=0;i<n.length;i++)r=r*10+n.charCodeAt(i)-48;for(i=0;i<t;i++)u[t-i-1]=(r>>i&1)==1;return u},_intToBoolArray:function(n,t){for(var r=new Array(t),i=0;i<t;i++)r[t-i-1]=(n>>i&1)==1;return r},_drawPDP:function(n,t){for(var i=n,r=t;i<n+7;i++,r++)this.moduleValue[i][t].IsBlack=!0,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+6].IsBlack=!0,this.moduleValue[i][t+6].IsFilled=!0,this.moduleValue[i][t+6].IsPDP=!0,t+7<this.noOfModules?(this.moduleValue[i][t+7].IsBlack=!1,this.moduleValue[i][t+7].IsFilled=!0,this.moduleValue[i][t+7].IsPDP=!0):t-1>=0&&(this.moduleValue[i][t-1].IsBlack=!1,this.moduleValue[i][t-1].IsFilled=!0,this.moduleValue[i][t-1].IsPDP=!0),this.moduleValue[n][r].IsBlack=!0,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+6][r].IsBlack=!0,this.moduleValue[n+6][r].IsFilled=!0,this.moduleValue[n+6][r].IsPDP=!0,n+7<this.noOfModules?(this.moduleValue[n+7][r].IsBlack=!1,this.moduleValue[n+7][r].IsFilled=!0,this.moduleValue[n+7][r].IsPDP=!0):n-1>=0&&(this.moduleValue[n-1][r].IsBlack=!1,this.moduleValue[n-1][r].IsFilled=!0,this.moduleValue[n-1][r].IsPDP=!0);for(n+7<this.noOfModules&&t+7<this.noOfModules?(this.moduleValue[n+7][t+7].IsBlack=!1,this.moduleValue[n+7][t+7].IsFilled=!0,this.moduleValue[n+7][t+7].IsPDP=!0):n+7<this.noOfModules&&t+7>=this.noOfModules?(this.moduleValue[n+7][t-1].IsBlack=!1,this.moduleValue[n+7][t-1].IsFilled=!0,this.moduleValue[n+7][t-1].IsPDP=!0):n+7>=this.noOfModules&&t+7<this.noOfModules&&(this.moduleValue[n-1][t+7].IsBlack=!1,this.moduleValue[n-1][t+7].IsFilled=!0,this.moduleValue[n-1][t+7].IsPDP=!0),n++,t++,i=n,r=t;i<n+5;i++,r++)this.moduleValue[i][t].IsBlack=!1,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+4].IsBlack=!1,this.moduleValue[i][t+4].IsFilled=!0,this.moduleValue[i][t+4].IsPDP=!0,this.moduleValue[n][r].IsBlack=!1,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+4][r].IsBlack=!1,this.moduleValue[n+4][r].IsFilled=!0,this.moduleValue[n+4][r].IsPDP=!0;for(n++,t++,i=n,r=t;i<n+3;i++,r++)this.moduleValue[i][t].IsBlack=!0,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+2].IsBlack=!0,this.moduleValue[i][t+2].IsFilled=!0,this.moduleValue[i][t+2].IsPDP=!0,this.moduleValue[n][r].IsBlack=!0,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+2][r].IsBlack=!0,this.moduleValue[n+2][r].IsFilled=!0,this.moduleValue[n+2][r].IsPDP=!0;this.moduleValue[n+1][t+1].IsBlack=!0;this.moduleValue[n+1][t+1].IsFilled=!0;this.moduleValue[n+1][t+1].IsPDP=!0},_drawAlignmentPattern:function(n,t){for(var i=n-2,r=t-2;i<n+3;i++,r++)this.moduleValue[i][t-2].IsBlack=!0,this.moduleValue[i][t-2].IsFilled=!0,this.moduleValue[i][t+2].IsBlack=!0,this.moduleValue[i][t+2].IsFilled=!0,this.moduleValue[n-2][r].IsBlack=!0,this.moduleValue[n-2][r].IsFilled=!0,this.moduleValue[n+2][r].IsBlack=!0,this.moduleValue[n+2][r].IsFilled=!0;for(i=n-1,r=t-1;i<n+2;i++,r++)this.moduleValue[i][t-1].IsBlack=!1,this.moduleValue[i][t-1].IsFilled=!0,this.moduleValue[i][t+1].IsBlack=!1,this.moduleValue[i][t+1].IsFilled=!0,this.moduleValue[n-1][r].IsBlack=!1,this.moduleValue[n-1][r].IsFilled=!0,this.moduleValue[n+1][r].IsBlack=!1,this.moduleValue[n+1][r].IsFilled=!0;this.moduleValue[n][t].IsBlack=!0;this.moduleValue[n][t].IsFilled=!0},_getAlignmentPatternCoOrdinates:function(){var n=[];switch(this.m_Version){case 02:n=[6,18];break;case 03:n=[6,22];break;case 04:n=[6,26];break;case 05:n=[6,30];break;case 06:n=[6,34];break;case 07:n=[6,22,38];break;case 8:n=[6,24,42];break;case 9:n=[6,26,46];break;case 10:n=[6,28,50];break;case 11:n=[6,30,54];break;case 12:n=[6,32,58];break;case 13:n=[6,34,62];break;case 14:n=[6,26,46,66];break;case 15:n=[6,26,48,70];break;case 16:n=[6,26,50,74];break;case 17:n=[6,30,54,78];break;case 18:n=[6,30,56,82];break;case 19:n=[6,30,58,86];break;case 20:n=[6,34,62,90];break;case 21:n=[6,28,50,72,94];break;case 22:n=[6,26,50,74,98];break;case 23:n=[6,30,54,78,102];break;case 24:n=[6,28,54,80,106];break;case 25:n=[6,32,58,84,110];break;case 26:n=[6,30,58,86,114];break;case 27:n=[6,34,62,90,118];break;case 28:n=[6,26,50,74,98,122];break;case 29:n=[6,30,54,78,102,126];break;case 30:n=[6,26,52,78,104,130];break;case 31:n=[6,30,56,82,108,134];break;case 32:n=[6,34,60,86,112,138];break;case 33:n=[6,30,58,86,114,142];break;case 34:n=[6,34,62,90,118,146];break;case 35:n=[6,30,54,78,102,126,150];break;case 36:n=[6,24,50,76,102,128,154];break;case 37:n=[6,28,54,80,106,132,158];break;case 38:n=[6,32,58,84,110,136,162];break;case 39:n=[6,26,54,82,110,138,166];break;case 40:n=[6,30,58,86,114,142,170]}return n},_findECINumber:function(n){for(var r,i=3,u=0;u<n.length;u++)if(r=n.charCodeAt(u),!(r>=32)||!(r<=255)){var t=r.toString(16);if(["2591","2592","2593","2502","2524","2561","2562","2556","2555","2563","2551","2557","255D","255C","255B","2510","2514","2534","252C","251C","2500","253C","255E","255F","255A","2554","2569","2566","2560","2550","256C","2567","2568","2564","2565","2559","2558","2552","2553","256B","256A","2518","250C","2588","2584","258C","2590","2580","25A0"].indexOf(t)!=-1){i=2;break}else if(["104","2D8","141","13D","15A","160","15E","164","179","17D","17B","105","2DB","142","13E","15B","2C7","161","15F","165","17A","2DD","17E","17C","154","102","139","106","10C","118","11A","10E","110","143","147","150","158","16E","170","162","155","103","13A","107","10D","119","11B","10F","111","144","148","151","159","16F","171","163","2D9"].indexOf(t)!=-1){i=4;break}else if(["126","124","130","15E","11E","134","17B","127","125","131","15F","11F","135","17C","10A","108","120","11C","16C","15C","10B","109","121","11D","16D","15D"].indexOf(t)!=-1){i=5;break}else if(["104","138","156","128","13B","160","112","122","166","17D","105","2DB","157","129","13C","2C7","161","113","123","167","14A","17E","14B","100","12E","10C","118","116","12A","110","145","14C","136","172","168","16A","101","12F","10D","119","117","12B","111","146","14D","137","173","169","16B"].indexOf(t)!=-1){i=6;break}else if(t>=1025&&t<=1119&&t!=1037&&t!=1104&&t!=1117){i=7;break}else if(t>=1569&&t<=1594||t>=1600&&t<=1618||t==1567||t==1563||t==1548){i=8;break}else if(t>=900&&t<=974||t==890){i=9;break}else if(t>=1488&&t<=1514){i=10;break}else if(t>=3585&&t<=3675){i=13;break}else if(["141","104","15E","17B","142","105","15F","13D","13E","17C"].indexOf(t)!=1||t>=1569&&t<=1610){i=21;break}else if(["402","403","453","409","40A","40C","40B","40F","452","459","45A","45C","45B","45F","40E","45E","408","490","401","404","407","406","456","491","451","454","458","405","455","457"].indexOf(t)!=1||t>=1040&&t<=1103){i=22;break}else if(["20AC","201A","192","201E","2026","2020","2021","2C6","2030","160","2039","152","17D","2018","2019","201C","201D","2022","2013","2014","2DC","2122","161","203A","153","17E","178"].indexOf(t)!=-1){i=23;break}else if(["67E","679","152","686","698","688","6AF","6A9","691","153","6BA","6BE","6C1"].indexOf(t)!=-1){i=24;break}}return i},_getNumberOfDataCodeWord:function(){var n=0;switch(this.m_Version){case 01:n=16;break;case 02:n=28;break;case 03:n=44;break;case 04:n=64;break;case 05:n=86;break;case 06:n=108;break;case 07:n=124;break;case 8:n=154;break;case 9:n=182;break;case 10:n=216;break;case 11:n=254;break;case 12:n=290;break;case 13:n=334;break;case 14:n=365;break;case 15:n=415;break;case 16:n=453;break;case 17:n=507;break;case 18:n=563;break;case 19:n=627;break;case 20:n=669;break;case 21:n=714;break;case 22:n=782;break;case 23:n=860;break;case 24:n=914;break;case 25:n=1e3;break;case 26:n=1062;break;case 27:n=1128;break;case 28:n=1193;break;case 29:n=1267;break;case 30:n=1373;break;case 31:n=1455;break;case 32:n=1541;break;case 33:n=1631;break;case 34:n=1725;break;case 35:n=1812;break;case 36:n=1914;break;case 37:n=1992;break;case 38:n=2102;break;case 39:n=2216;break;case 40:n=2334}return n},_getNumberOfErrorCorrectingCodeWords:function(){var n=(this.m_Version-1)*4,t;return n+=1,t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],t[n]},_getNumberOfErrorCorrectionBlocks:function(){var n=[];switch(this.m_Version){case 01:case 02:case 03:n[0]=1;break;case 04:case 05:n[0]=2;break;case 06:case 07:n[0]=4;break;case 8:n=[2,60,38,2,61,39];break;case 9:n=[3,58,36,2,59,37];break;case 10:n=[4,69,43,1,70,44];break;case 11:n=[1,80,50,4,81,51];break;case 12:n=[6,58,36,2,59,37];break;case 13:n=[8,59,37,1,60,38];break;case 14:n=[4,64,40,5,65,41];break;case 15:n=[5,65,41,5,66,42];break;case 16:n=[7,73,45,3,74,46];break;case 17:n=[10,74,46,1,75,47];break;case 18:n=[9,69,43,4,70,44];break;case 19:n=[3,70,44,11,71,45];break;case 20:n=[3,67,41,13,68,42];break;case 21:case 22:n[0]=17;break;case 23:n=[4,75,47,14,76,48];break;case 24:n=[6,73,45,14,74,46];break;case 25:n=[8,75,47,13,76,48];break;case 26:n=[19,74,46,4,75,47];break;case 27:n=[22,73,45,3,74,46];break;case 28:n=[3,73,45,23,74,46];break;case 29:n=[21,73,45,7,74,46];break;case 30:n=[19,75,47,10,76,48];break;case 31:n=[2,74,46,29,75,47];break;case 32:n=[10,74,46,23,75,47];break;case 33:n=[14,74,46,21,75,47];break;case 34:n=[14,74,46,23,75,47];break;case 35:n=[12,75,47,26,76,48];break;case 36:n=[6,75,47,34,76,48];break;case 37:n=[29,74,46,14,75,47];break;case 38:n=[13,74,46,32,75,47];break;case 39:n=[40,75,47,7,76,48];break;case 40:n=[18,75,47,31,76,48]}return n},_getEnd:function(){return[208,359,567,807,1079,1383,1568,1936,2336,2768,3232,3728,4256,4651,5243,5867,6523,7211,7931,8683,9252,10068,10916,11796,12708,13652,14628,15371,16411,17483,18587,19723,20891,22091,23008,24272,25568,26896,28256,29648][this.m_Version-1]},_getDataCapacity:function(){return[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706][this.m_Version-1]},_getFormatInformation:function(){return[1,1,0,1,0,0,1,0,1,1,0,1,1,0,1]},_getVersionInformation:function(){var n=[];switch(this.m_Version){case 07:n=[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0];break;case 8:n=[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0];break;case 9:n=[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0];break;case 10:n=[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0];break;case 11:n=[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0];break;case 12:n=[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0];break;case 13:n=[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0];break;case 14:n=[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0];break;case 15:n=[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0];break;case 16:n=[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0];break;case 17:n=[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0];break;case 18:n=[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0];break;case 19:n=[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0];break;case 20:n=[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0];break;case 21:n=[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0];break;case 22:n=[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0];break;case 23:n=[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0];break;case 24:n=[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0];break;case 25:n=[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0];break;case 26:n=[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0];break;case 27:n=[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0];break;case 28:n=[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0];break;case 29:n=[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0];break;case 30:n=[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0];break;case 31:n=[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0];break;case 32:n=[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1];break;case 33:n=[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1];break;case 34:n=[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1];break;case 35:n=[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1];break;case 36:n=[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1];break;case 37:n=[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1];break;case 38:n=[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1];break;case 39:n=[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1];break;case 40:n=[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]}return n},_getStringCodePoints:function(){function n(n,t){return((n&1023)<<10)+(t&1023)+65536}return function(t){for(var u=[],i=0,r;i<t.length;)r=t.charCodeAt(i),(r&63488)==55296?u.push(n(r,t.charCodeAt(++i))):u.push(r),++i;return u}}(),_create2DArray:function(n,t){var r,i;for(n=parseInt(n),t=parseInt(t),r=new Array(n),i=0;i<n;i++)r[i]=new Array(t);return r},_buildDataMatrix:function(){for(var f,s,h=[[10,10,1,1,3,5,1,3],[12,12,1,1,5,7,1,5],[14,14,1,1,8,10,1,8],[16,16,1,1,12,12,1,12],[18,18,1,1,18,14,1,18],[20,20,1,1,22,18,1,22],[22,22,1,1,30,20,1,30],[24,24,1,1,36,24,1,36],[26,26,1,1,44,28,1,44],[32,32,2,2,62,36,1,62],[36,36,2,2,86,42,1,86],[40,40,2,2,114,48,1,114],[44,44,2,2,144,56,1,144],[48,48,2,2,174,68,1,174],[52,52,2,2,204,84,2,102],[64,64,4,4,280,112,2,140],[72,72,4,4,368,144,4,92],[80,80,4,4,456,192,4,114],[88,88,4,4,576,224,4,144],[96,96,4,4,696,272,4,174],[104,104,4,4,816,336,6,136],[120,120,6,6,1050,408,6,175],[132,132,6,6,1304,496,8,163],[144,144,6,6,1558,620,10,156],[8,18,1,1,5,7,1,5],[8,32,2,1,10,11,1,10],[12,26,1,1,16,14,1,16],[12,36,2,1,22,18,1,22],[16,36,2,1,32,24,1,32],[16,48,2,1,49,28,1,49]],u=this._getStringCodePoints(this.Model.text),a,i,t=[],e=0,n=0;n<u.length;n++)u[n]<127?t[e]=u[n]+1:(t[e++]=235,t[e]=u[n]-127),e++;for(n=0;n<h.length;n++)if(h[n][4]>=u.length){i=h[n];break}if(i[4]>t.length){var r=t.length,o=new Array(i[4]);for(f=0;f<r;f++)o[f]=t[f];for(r<i[4]+1&&(o[r]=129),r++;r<i[4];)s=129+(r+1)*149%253+1,s>254&&(s-=254),o[r++]=s;t=o}a=i[5];errCorrArray=this._errorCorrection(a,t);var y=t.concat(errCorrArray),c=this._createMatrix(y,i),l=c.length*this.Model.xDimension,v=c[0].length*this.Model.xDimension;this.Model.width=l;this.canvasEl[0].setAttribute("width",this.Model.width);this.BarcodeEl.css("width",this.Model.width);this.contextEl.beginPath();this.contextEl.fillStyle="white";this.contextEl.fillRect(0,0,l,v);this.contextEl.closePath();this._drawDataMatrix(c,l,v)},_drawDataMatrix:function(n,t,i){var r,e,u,o,f,s;for(this.Model.height=i,this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height),r=parseInt(this.Model.xDimension),e=0,this.contextEl.beginPath(),u=0;u<n.length;u++){for(o=0,f=0;f<n[u].length;f++)s="white",n[u][f]==1&&(s="black"),this.contextEl.fillStyle=s,this.contextEl.fillRect(o,e,r,r),o+=r;e+=r}this.contextEl.closePath();this.contextEl.stroke()},_createMatrix:function(n,t){var i,r,c,l,d=[],e=t[1],s=t[0],b=e/t[2],k=s/t[3],o,a,rt,p,w,g,u,f;for(c=e-2*(e/b),l=s-2*(s/k),d=new Array(c*l),this._ecc200placement(d,l,c),o=new Array(e*s),u=0;u<o.length;u++)o[u]=0;for(r=0;r<s;r+=k){for(i=0;i<e;i++)o[parseInt(r*e)+i]=1;for(i=0;i<e;i+=2)o[parseInt((r+k-1)*e)+i]=1}for(i=0;i<e;i+=b){for(r=0;r<s;r++)o[parseInt(r*e)+i]=1;for(r=0;r<s;r+=2)o[parseInt(r*e)+i+b-1]=1}for(r=0;r<l;r++)for(i=0;i<c;i++)a=d[(l-r-1)*c+i],(a==1||a>7&&(n[(a>>3)-1]&1<<(a&7))!=0)&&(rt=parseInt(parseInt(1+r+2*parseInt(r/(k-2)))*e+1+i+ +(2*parseInt(i/(b-2)))),o[rt]=1);var v=t[1],y=t[0],ut=this._create2DArray(v,y);for(p=0;p<v;p++)for(w=0;w<y;w++)ut[p][w]=o[v*w+p];for(g=this._create2DArray(y,v),u=0;u<y;u++)for(f=0;f<v;f++)g[y-1-u][f]=ut[f][u];var nt=t[0]+(this.Model.quietZone.top+this.Model.quietZone.bottom),tt=t[1]+(this.Model.quietZone.left+this.Model.quietZone.right),h=this.Model.quietZone.all,it=this._create2DArray(nt,tt);for(u=0;u<nt;u++)for(f=0;f<tt;f++)it[u][f]=0;for(u=h;u<nt-h;u++)for(f=h;f<tt-h;f++)it[u][f]=g[u-h][f-h];return it},_ecc200placement:function(n,t,i){for(var u,f,r=0;r<t;r++)for(u=0;u<i;u++)n[r*i+u]=0;f=1;r=4;u=0;do{r!=t||u!=0||this._ecc200placementcornerA(n,t,i,f++);r!=t-2||u!=0||i%4==0||this._ecc200placementcornerB(n,t,i,f++);r!=t-2||u!=0||i%8!=4||this._ecc200placementcornerC(n,t,i,f++);r!=t+4||u!=2||i%8!=0||this._ecc200placementcornerD(n,t,i,f++);do r<t&&u>=0&&!(n[r*i+u]!=0)&&this._ecc200placementblock(n,t,i,r,u,f++),r-=2,u+=2;while(r>=0&&u<i);r++;u+=3;do r>-1&&u<i&&!(n[r*i+u]!=0)&&this._ecc200placementblock(n,t,i,r,u,f++),r+=2,u-=2;while(r<t&&u>=0);r+=3;u++}while(r<t||u<i);n[t*i-1]!=0||(n[t*i-1]=n[t*i-i-2]=1)},_ecc200placementcornerA:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-1,0,r,7);this._ecc200placementbit(n,t,i,t-1,1,r,6);this._ecc200placementbit(n,t,i,t-1,2,r,5);this._ecc200placementbit(n,t,i,0,i-2,r,4);this._ecc200placementbit(n,t,i,0,i-1,r,3);this._ecc200placementbit(n,t,i,1,i-1,r,2);this._ecc200placementbit(n,t,i,2,i-1,r,1);this._ecc200placementbit(n,t,i,3,i-1,r,0)},_ecc200placementcornerB:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-3,0,r,7);this._ecc200placementbit(n,t,i,t-2,0,r,6);this._ecc200placementbit(n,t,i,t-1,0,r,5);this._ecc200placementbit(n,t,i,0,i-4,r,4);this._ecc200placementbit(n,t,i,0,i-3,r,3);this._ecc200placementbit(n,t,i,0,i-2,r,2);this._ecc200placementbit(n,t,i,0,i-1,r,1);this._ecc200placementbit(n,t,i,1,i-1,r,0)},_ecc200placementcornerC:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-3,0,r,7);this._ecc200placementbit(n,t,i,t-2,0,r,6);this._ecc200placementbit(n,t,i,t-1,0,r,5);this._ecc200placementbit(n,t,i,0,i-2,r,4);this._ecc200placementbit(n,t,i,0,i-1,r,3);this._ecc200placementbit(n,t,i,1,i-1,r,2);this._ecc200placementbit(n,t,i,2,i-1,r,1);this._ecc200placementbit(n,t,i,3,i-1,r,0)},_ecc200placementcornerD:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-1,0,r,7);this._ecc200placementbit(n,t,i,t-1,i-1,r,6);this._ecc200placementbit(n,t,i,0,i-3,r,5);this._ecc200placementbit(n,t,i,0,i-2,r,4);this._ecc200placementbit(n,t,i,0,i-1,r,3);this._ecc200placementbit(n,t,i,1,i-3,r,2);this._ecc200placementbit(n,t,i,1,i-2,r,1);this._ecc200placementbit(n,t,i,1,i-1,r,0)},_ecc200placementblock:function(n,t,i,r,u,f){this._ecc200placementbit(n,t,i,r-2,u-2,f,7);this._ecc200placementbit(n,t,i,r-2,u-1,f,6);this._ecc200placementbit(n,t,i,r-1,u-2,f,5);this._ecc200placementbit(n,t,i,r-1,u-1,f,4);this._ecc200placementbit(n,t,i,r-1,+u,f,3);this._ecc200placementbit(n,t,i,+r,u-2,f,2);this._ecc200placementbit(n,t,i,+r,u-1,f,1);this._ecc200placementbit(n,t,i,+r,+u,f,0)},_ecc200placementbit:function(n,t,i,r,u,f,e){r<0&&(r+=t,u+=4-(t+4)%8);u<0&&(u+=i,r+=4-(i+4)%8);n[r*i+u]=(f<<3)+e},_errorCorrection:function(n,t){var f,a=1,h,u=new Array(n+1),e=new Array(256),r=new Array(256),l,c,o,i,s;for(e[0]=-255,r[0]=1,i=1;i<=255;i++)r[i]=r[i-1]*2,r[i]>=256&&(r[i]=r[i]^301),e[r[i]]=i;for(u[0]=1,i=1;i<=n;i++){for(u[i]=1,f=i-1;f>0;f--)u[f]!=0&&(u[f]=r[(e[u[f]]+a)%255]),u[f]^=u[f-1];u[0]=r[(e[u[0]]+a)%255];a++}for(h=new Array(n),l=0;l<h.length;l++)h[l]=u[l];for(c=0,o=new Array(n),i=0;i<n;i++)o[i]=0;for(i=0;i<t.length;i++){for(c=o[n-1]^t[i],s=n-1;s>0;s--)o[s]=c!=0&&h[s]!=0?o[s-1]^r[(e[c]+e[h[s]])%255]:o[s-1];o[0]=c!=0&&h[0]!=0?r[(e[c]+e[h[0]])%255]:0}return o.reverse()},_validateText:function(n,t){var i=new RegExp(t);return i.test(n)},_getCharWidth:function(n,t){for(var i=0,u=n.split(""),r=0;r<u.length;r++)i=i+intercharacterGap+this._getWidth(t,u[r]);return i},_getWidth:function(n,t){for(var u,f,e=!1,i=0,r=0;r<n.length;r++)if(n[r][0]==t){for(u=n[r][2],f=0;f<u.length;f++)e==!1&&u.length%2!=0&&(continuous=!0),i=i+u[f]*this.Model.narrowBarWidth,e=!0;return i}return i},_draw1DBarcode:function(n,t){var e,y,i,o,r,s,u,c,l,h;if(t.length>0){var a=n.split(""),f=this.Model.quietZone.left,v=this.Model.quietZone.top;for(this.Model.height=v+this.Model.barHeight+this.Model.quietZone.bottom,e=parseInt(this.textFont.size.replace("px","")),this.Model.displayText&&(this.Model.height+=e+this.Model.barcodeToTextGapHeight),this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height),y=this.Model.width,i=this.Model.height,this.contextEl.beginPath(),this.contextEl.fillStyle="white",this.contextEl.fillRect(0,0,y,i),o=0;o<a.length;o++)for(r=0;r<t.length;r++)if(t[r][0]==a[o]){for(s=t[r][2],u=0;u<s.length;u++)c=s[u]*this.Model.narrowBarWidth,u%2==0&&(this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(f,v,c,this.Model.barHeight)),f+=c;s.length%2!=0&&(f+=intercharacterGap)}this.contextEl.closePath();this.contextEl.stroke();this.Model.width=f+=this.Model.quietZone.right;this.Model.displayText&&(l=this.textFont.fontStyle.toLowerCase()=="regular"?"":+this.textFont.fontStyle.toLowerCase()+" ",l+=this.textFont.size+" "+this.textFont.fontFamily.toLowerCase()+",sans-serif",this.contextEl.font=l,h=0,h=this.contextEl.measureText(this.Model.text).width,this.Model.width<h&&(this.Model.width=h,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width)),this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.textColor,this.contextEl.textAlign="center",i=i-e+e/2,this.contextEl.fillText(this.Model.text,this.Model.width/2,i),this.contextEl.closePath(),this.contextEl.stroke())}}});t.Barcode.SymbologyType={code39:"code39",code39Extended:"code39extended",code11:"code11",codabar:"codabar",code32:"code32",code93:"code93",code93Extended:"code93extended",code128A:"code128a",code128B:"code128b",code128C:"code128c",dataMatrix:"datamatrix",qrBarcode:"qrbarcode"};t.Barcode.symbologySettings={code39:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[A-Z0-9 -.$/+% ]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["A",10,[3,1,1,1,1,3,1,1,3]],["B",11,[1,1,3,1,1,3,1,1,3]],["C",12,[3,1,3,1,1,3,1,1,1]],["D",13,[1,1,1,1,3,3,1,1,3]],["E",14,[3,1,1,1,3,3,1,1,1]],["F",15,[1,1,3,1,3,3,1,1,1]],["G",16,[1,1,1,1,1,3,3,1,3]],["H",17,[3,1,1,1,1,3,3,1,1]],["I",18,[1,1,3,1,1,3,3,1,1]],["J",19,[1,1,1,1,3,3,3,1,1]],["K",20,[3,1,1,1,1,1,1,3,3]],["L",21,[1,1,3,1,1,1,1,3,3]],["M",22,[3,1,3,1,1,1,1,3,1]],["N",23,[1,1,1,1,3,1,1,3,3]],["O",24,[3,1,1,1,3,1,1,3,1]],["P",25,[1,1,3,1,3,1,1,3,1]],["Q",26,[1,1,1,1,1,1,3,3,3]],["R",27,[3,1,1,1,1,1,3,3,1]],["S",28,[1,1,3,1,1,1,3,3,1]],["T",29,[1,1,1,1,3,1,3,3,1]],["U",30,[3,3,1,1,1,1,1,1,3]],["V",31,[1,3,3,1,1,1,1,1,3]],["W",32,[3,3,3,1,1,1,1,1,1]],["X",33,[1,3,1,1,3,1,1,1,3]],["Y",34,[3,3,1,1,3,1,1,1,1]],["Z",35,[1,3,3,1,3,1,1,1,1]],["-",36,[1,3,1,1,1,1,3,1,3]],[".",37,[3,3,1,1,1,1,3,1,1]],[" ",38,[1,3,3,1,1,1,3,1,1]],["$",39,[1,3,1,3,1,3,1,1,1]],["/",40,[1,3,1,3,1,1,1,3,1]],["+",41,[1,3,1,1,1,3,1,3,1]],["%",42,[1,1,1,3,1,3,1,3,1]],["*",0,[1,3,1,1,3,1,3,1,1]]]},code39extended:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[\x00-]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["A",10,[3,1,1,1,1,3,1,1,3]],["B",11,[1,1,3,1,1,3,1,1,3]],["C",12,[3,1,3,1,1,3,1,1,1]],["D",13,[1,1,1,1,3,3,1,1,3]],["E",14,[3,1,1,1,3,3,1,1,1]],["F",15,[1,1,3,1,3,3,1,1,1]],["G",16,[1,1,1,1,1,3,3,1,3]],["H",17,[3,1,1,1,1,3,3,1,1]],["I",18,[1,1,3,1,1,3,3,1,1]],["J",19,[1,1,1,1,3,3,3,1,1]],["K",20,[3,1,1,1,1,1,1,3,3]],["L",21,[1,1,3,1,1,1,1,3,3]],["M",22,[3,1,3,1,1,1,1,3,1]],["N",23,[1,1,1,1,3,1,1,3,3]],["O",24,[3,1,1,1,3,1,1,3,1]],["P",25,[1,1,3,1,3,1,1,3,1]],["Q",26,[1,1,1,1,1,1,3,3,3]],["R",27,[3,1,1,1,1,1,3,3,1]],["S",28,[1,1,3,1,1,1,3,3,1]],["T",29,[1,1,1,1,3,1,3,3,1]],["U",30,[3,3,1,1,1,1,1,1,3]],["V",31,[1,3,3,1,1,1,1,1,3]],["W",32,[3,3,3,1,1,1,1,1,1]],["X",33,[1,3,1,1,3,1,1,1,3]],["Y",34,[3,3,1,1,3,1,1,1,1]],["Z",35,[1,3,3,1,3,1,1,1,1]],["-",36,[1,3,1,1,1,1,3,1,3]],[".",37,[3,3,1,1,1,1,3,1,1]],[" ",38,[1,3,3,1,1,1,3,1,1]],["$",39,[1,3,1,3,1,3,1,1,1]],["/",40,[1,3,1,3,1,1,1,3,1]],["+",41,[1,3,1,1,1,3,1,3,1]],["%",42,[1,1,1,3,1,3,1,3,1]],["*",0,[1,3,1,1,3,1,3,1,1]]],extendedCodes:[['\0',["%","U"]],[String.fromCharCode(parseInt("0001",16)),["$","A"]],[String.fromCharCode(parseInt("0002",16)),["$","B"]],[String.fromCharCode(parseInt("0003",16)),["$","C"]],[String.fromCharCode(parseInt("0004",16)),["$","D"]],[String.fromCharCode(parseInt("0005",16)),["$","E"]],[String.fromCharCode(parseInt("0006",16)),["$","F"]],["a",["$","G"]],["\b",["$","H"]],["\t",["$","I"]],["\n",["$","J"]],['\v',["$","K"]],["\f",["$","L"]],["\r",["$","M"]],[String.fromCharCode(parseInt("000e",16)),["$","N"]],[String.fromCharCode(parseInt("000f",16)),["$","O"]],[String.fromCharCode(parseInt("0010",16)),["$","P"]],[String.fromCharCode(parseInt("0011",16)),["$","Q"]],[String.fromCharCode(parseInt("0012",16)),["$","R"]],[String.fromCharCode(parseInt("0013",16)),["$","S"]],[String.fromCharCode(parseInt("0014",16)),["$","T"]],[String.fromCharCode(parseInt("0015",16)),["$","U"]],[String.fromCharCode(parseInt("0016",16)),["$","V"]],[String.fromCharCode(parseInt("0017",16)),["$","W"]],[String.fromCharCode(parseInt("0018",16)),["$","X"]],[String.fromCharCode(parseInt("0019",16)),["$","Y"]],[String.fromCharCode(parseInt("001a",16)),["$","Z"]],[String.fromCharCode(parseInt("001b",16)),["%","A"]],[String.fromCharCode(parseInt("001c",16)),["%","B"]],[String.fromCharCode(parseInt("001d",16)),["%","C"]],[String.fromCharCode(parseInt("001e",16)),["%","D"]],[String.fromCharCode(parseInt("001f",16)),["%","E"]],[" ",[" "]],["!",["/","A"]],['"',["/","B"]],["#",["/","C"]],["$",["/","D"]],["%",["/","E"]],["&",["/","F"]],["'",["/","G"]],["(",["/","H"]],[")",["/","I"]],["*",["/","J"]],["+",["/","K"]],[",",["/","L"]],["-",["/","M"]],[".",["/","N"]],["/",["/","O"]],["0",["0"]],["1",["1"]],["2",["2"]],["3",["3"]],["4",["4"]],["5",["5"]],["6",["6"]],["7",["7"]],["8",["8"]],["9",["9"]],[":",["/","Z"]],[";",["%","F"]],["<",["%","G"]],["=",["%","H"]],[">",["%","I"]],["?",["%","J"]],["@",["%","V"]],["A",["A"]],["B",["B"]],["C",["C"]],["D",["D"]],["E",["E"]],["F",["F"]],["G",["G"]],["H",["H"]],["I",["I"]],["J",["J"]],["K",["K"]],["L",["L"]],["M",["M"]],["N",["N"]],["O",["O"]],["P",["P"]],["Q",["Q"]],["R",["R"]],["S",["S"]],["T",["T"]],["U",["U"]],["V",["V"]],["W",["W"]],["X",["X"]],["Y",["Y"]],["Z",["Z"]],["[",["%","K"]],["\\",["%","L"]],["]",["%","M"]],["^",["%","N"]],["_",["%","O"]],["`",["%","W"]],["a",["+","A"]],["b",["+","B"]],["c",["+","C"]],["d",["+","D"]],["e",["+","E"]],["f",["+","F"]],["g",["+","G"]],["h",["+","H"]],["i",["+","I"]],["j",["+","J"]],["k",["+","K"]],["l",["+","L"]],["m",["+","M"]],["n",["+","N"]],["o",["+","O"]],["p",["+","P"]],["q",["+","Q"]],["r",["+","R"]],["s",["+","S"]],["t",["+","T"]],["u",["+","U"]],["v",["+","V"]],["w",["+","W"]],["x",["+","X"]],["y",["+","Y"]],["z",["+","Z"]],["{",["%","P"]],["|",["%","Q"]],["}",["%","R"]],["~",["%","S"]],[String.fromCharCode(parseInt("007f",16)),["%","T"]]]},code11:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[0-9-]*$",symbolTable:[["0",0,[1,1,1,1,2]],["1",1,[2,1,1,1,2]],["2",2,[1,2,1,1,2]],["3",3,[2,2,1,1,1]],["4",4,[1,1,2,1,2]],["5",5,[2,1,2,1,1]],["6",6,[1,2,2,1,1]],["7",7,[1,1,1,2,2]],["8",8,[2,1,1,2,1]],["9",9,[2,1,1,1,1]],["-",10,[1,1,2,1,1]],["*",0,[1,1,2,2,1]]]},codabar:{startSymbol:"A",stopSymbol:"B",validatorExp:"^[0-9-.$/:+]*$",symbolTable:[["0",0,[1,1,1,1,1,2,2]],["1",0,[1,1,1,1,2,2,1]],["2",0,[1,1,1,2,1,1,2]],["3",0,[2,2,1,1,1,1,1]],["4",0,[1,1,2,1,1,2,1]],["5",0,[2,1,1,1,1,2,1]],["6",0,[1,2,1,1,1,1,2]],["7",0,[1,2,1,1,2,1,1]],["8",0,[1,2,2,1,1,1,1]],["9",0,[2,1,1,2,1,1,1]],["-",0,[1,1,1,2,2,1,1]],["$",0,[1,1,2,2,1,1,1]],[":",0,[2,1,1,1,2,1,2]],["/",0,[2,1,2,1,1,1,2]],[".",0,[2,1,2,1,2,1,1]],["+",0,[1,1,2,1,2,1,2]],["A",0,[1,1,2,2,1,2,1]],["B",0,[1,1,1,2,1,2,2]]]},code32:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[A-Z0-9 -*.$/+%]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["B",10,[1,1,3,1,1,3,1,1,3]],["C",11,[3,1,3,1,1,3,1,1,1]],["D",12,[1,1,1,1,3,3,1,1,3]],["F",13,[1,1,3,1,3,3,1,1,1]],["G",14,[1,1,1,1,1,3,3,1,3]],["H",15,[3,1,1,1,1,3,3,1,1]],["J",16,[1,1,1,1,3,3,3,1,1]],["K",17,[3,1,1,1,1,1,1,3,3]],["L",18,[1,1,3,1,1,1,1,3,3]],["M",19,[3,1,3,1,1,1,1,3,1]],["N",20,[1,1,1,1,3,1,1,3,3]],["P",21,[1,1,3,1,3,1,1,3,1]],["Q",22,[1,1,1,1,1,1,3,3,3]],["R",23,[3,1,1,1,1,1,3,3,1]],["S",24,[1,1,3,1,1,1,3,3,1]],["T",25,[1,1,1,1,3,1,3,3,1]],["U",26,[3,3,1,1,1,1,1,1,3]],["V",27,[1,3,3,1,1,1,1,1,3]],["W",28,[3,3,3,1,1,1,1,1,1]],["X",29,[1,3,1,1,3,1,1,1,3]],["Y",30,[3,3,1,1,3,1,1,1,1]],["Z",31,[1,3,3,1,3,1,1,1,1]],["*",0,[1,3,1,1,3,1,3,1,1]]]},code93:{startSymbol:"*",stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[A-Z0-9 -.$/+% ]+$",symbolTable:[["0",0,[1,3,1,1,1,2]],["1",1,[1,1,1,2,1,3]],["2",2,[1,1,1,3,1,2]],["3",3,[1,1,1,4,1,1]],["4",4,[1,2,1,1,1,2]],["5",5,[1,2,1,2,1,2]],["6",6,[1,2,1,3,1,1]],["7",7,[1,1,1,1,1,4]],["8",8,[1,3,1,2,1,1]],["9",9,[1,4,1,1,1,1]],["A",10,[2,1,1,1,1,3]],["B",11,[2,1,1,2,1,2]],["C",12,[2,1,1,3,1,1]],["D",13,[2,2,1,1,1,2]],["E",14,[2,2,1,2,1,1]],["F",15,[2,3,1,1,1,1]],["G",16,[1,1,2,1,1,3]],["H",17,[1,1,2,2,1,2]],["I",18,[1,1,2,3,1,1]],["J",19,[1,2,2,1,1,2]],["K",20,[1,3,2,1,1,1]],["L",21,[1,1,1,1,2,3]],["M",22,[1,1,1,2,2,2]],["N",23,[1,1,1,3,2,1]],["O",24,[1,2,1,1,2,2]],["P",25,[1,3,1,1,2,1]],["Q",26,[2,1,2,1,1,2]],["R",27,[2,1,2,2,1,1]],["S",28,[2,1,1,1,2,2]],["T",29,[2,1,1,2,2,1]],["U",30,[2,2,1,1,2,1]],["V",31,[2,2,2,1,1,1]],["W",32,[1,1,2,1,2,2]],["X",33,[1,1,2,2,2,1]],["Y",34,[1,2,2,1,2,1]],["Z",35,[1,2,3,1,1,1]],["-",36,[1,2,1,1,3,1]],[".",37,[3,1,1,1,1,2]],[" ",38,[3,1,1,2,1,1]],["$",39,[3,2,1,1,1,1]],["/",40,[1,1,2,1,3,1]],["+",41,[1,1,3,1,2,1]],["%",42,[2,1,1,1,3,1]],["*",0,[1,1,1,1,4,1]],[String.fromCharCode(parseInt("00ff",16)),0,[1,1,1,1,4,1,1]],[String.fromCharCode(parseInt("00fb",16)),43,[1,2,1,2,2,0]],[String.fromCharCode(parseInt("00fc",16)),44,[3,1,2,1,1,1]],[String.fromCharCode(parseInt("00fd",16)),45,[3,1,1,1,2,1]],[String.fromCharCode(parseInt("00fe",16)),46,[1,2,2,2,1,1]]]},code93extended:{startSymbol:"*",stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[\x00-\x00fb\x00fd\x00fe'''''']+$",symbolTable:[["0",0,[1,3,1,1,1,2]],["1",1,[1,1,1,2,1,3]],["2",2,[1,1,1,3,1,2]],["3",3,[1,1,1,4,1,1]],["4",4,[1,2,1,1,1,2]],["5",5,[1,2,1,2,1,2]],["6",6,[1,2,1,3,1,1]],["7",7,[1,1,1,1,1,4]],["8",8,[1,3,1,2,1,1]],["9",9,[1,4,1,1,1,1]],["A",10,[2,1,1,1,1,3]],["B",11,[2,1,1,2,1,2]],["C",12,[2,1,1,3,1,1]],["D",13,[2,2,1,1,1,2]],["E",14,[2,2,1,2,1,1]],["F",15,[2,3,1,1,1,1]],["G",16,[1,1,2,1,1,3]],["H",17,[1,1,2,2,1,2]],["I",18,[1,1,2,3,1,1]],["J",19,[1,2,2,1,1,2]],["K",20,[1,3,2,1,1,1]],["L",21,[1,1,1,1,2,3]],["M",22,[1,1,1,2,2,2]],["N",23,[1,1,1,3,2,1]],["O",24,[1,2,1,1,2,2]],["P",25,[1,3,1,1,2,1]],["Q",26,[2,1,2,1,1,2]],["R",27,[2,1,2,2,1,1]],["S",28,[2,1,1,1,2,2]],["T",29,[2,1,1,2,2,1]],["U",30,[2,2,1,1,2,1]],["V",31,[2,2,2,1,1,1]],["W",32,[1,1,2,1,2,2]],["X",33,[1,1,2,2,2,1]],["Y",34,[1,2,2,1,2,1]],["Z",35,[1,2,3,1,1,1]],["-",36,[1,2,1,1,3,1]],[".",37,[3,1,1,1,1,2]],[" ",38,[3,1,1,2,1,1]],["$",39,[3,2,1,1,1,1]],["/",40,[1,1,2,1,3,1]],["+",41,[1,1,3,1,2,1]],["%",42,[2,1,1,1,3,1]],["*",0,[1,1,1,1,4,1]],[String.fromCharCode(parseInt("00ff",16)),0,[1,1,1,1,4,1,1]],[String.fromCharCode(parseInt("00fb",16)),43,[1,2,1,2,2,0]],[String.fromCharCode(parseInt("00fc",16)),44,[3,1,2,1,1,1]],[String.fromCharCode(parseInt("00fd",16)),45,[3,1,1,1,2,1]],[String.fromCharCode(parseInt("00fe",16)),46,[1,2,2,2,1,1]]],extendedCodes:[['\0',[String.fromCharCode(parseInt("00fc",16)),"U"]],[String.fromCharCode(parseInt("0001",16)),[String.fromCharCode(parseInt("00fb",16)),"A"]],[String.fromCharCode(parseInt("0002",16)),[String.fromCharCode(parseInt("00fb",16)),"B"]],[String.fromCharCode(parseInt("0003",16)),[String.fromCharCode(parseInt("00fb",16)),"C"]],[String.fromCharCode(parseInt("0004",16)),[String.fromCharCode(parseInt("00fb",16)),"D"]],[String.fromCharCode(parseInt("0005",16)),[String.fromCharCode(parseInt("00fb",16)),"E"]],[String.fromCharCode(parseInt("0006",16)),[String.fromCharCode(parseInt("00fb",16)),"F"]],["a",[String.fromCharCode(parseInt("00fb",16)),"G"]],["\b",[String.fromCharCode(parseInt("00fb",16)),"H"]],["\t",[String.fromCharCode(parseInt("00fb",16)),"I"]],["\n",[String.fromCharCode(parseInt("00fb",16)),"J"]],['\v',[String.fromCharCode(parseInt("00fb",16)),"K"]],["\f",[String.fromCharCode(parseInt("00fb",16)),"L"]],["\r",[String.fromCharCode(parseInt("00fb",16)),"M"]],[String.fromCharCode(parseInt("000e",16)),[String.fromCharCode(parseInt("00fb",16)),"N"]],[String.fromCharCode(parseInt("000f",16)),[String.fromCharCode(parseInt("00fb",16)),"O"]],[String.fromCharCode(parseInt("0010",16)),[String.fromCharCode(parseInt("00fb",16)),"P"]],[String.fromCharCode(parseInt("0011",16)),[String.fromCharCode(parseInt("00fb",16)),"Q"]],[String.fromCharCode(parseInt("0012",16)),[String.fromCharCode(parseInt("00fb",16)),"R"]],[String.fromCharCode(parseInt("0013",16)),[String.fromCharCode(parseInt("00fb",16)),"S"]],[String.fromCharCode(parseInt("0014",16)),[String.fromCharCode(parseInt("00fb",16)),"T"]],[String.fromCharCode(parseInt("0015",16)),[String.fromCharCode(parseInt("00fb",16)),"U"]],[String.fromCharCode(parseInt("0016",16)),[String.fromCharCode(parseInt("00fb",16)),"V"]],[String.fromCharCode(parseInt("0017",16)),[String.fromCharCode(parseInt("00fb",16)),"W"]],[String.fromCharCode(parseInt("0018",16)),[String.fromCharCode(parseInt("00fb",16)),"X"]],[String.fromCharCode(parseInt("0019",16)),[String.fromCharCode(parseInt("00fb",16)),"Y"]],[String.fromCharCode(parseInt("001a",16)),[String.fromCharCode(parseInt("00fb",16)),"Z"]],[String.fromCharCode(parseInt("001b",16)),[String.fromCharCode(parseInt("00fc",16)),"A"]],[String.fromCharCode(parseInt("001c",16)),[String.fromCharCode(parseInt("00fc",16)),"B"]],[String.fromCharCode(parseInt("001d",16)),[String.fromCharCode(parseInt("00fc",16)),"C"]],[String.fromCharCode(parseInt("001e",16)),[String.fromCharCode(parseInt("00fc",16)),"D"]],[String.fromCharCode(parseInt("001f",16)),[String.fromCharCode(parseInt("00fc",16)),"E"]],[" ",[" "]],["!",[String.fromCharCode(parseInt("00fd",16)),"A"]],['"',[String.fromCharCode(parseInt("00fd",16)),"B"]],["#",[String.fromCharCode(parseInt("00fd",16)),"C"]],["$",[String.fromCharCode(parseInt("00fd",16)),"D"]],["%",[String.fromCharCode(parseInt("00fd",16)),"E"]],["&",[String.fromCharCode(parseInt("00fd",16)),"F"]],["'",[String.fromCharCode(parseInt("00fd",16)),"G"]],["(",[String.fromCharCode(parseInt("00fd",16)),"H"]],[")",[String.fromCharCode(parseInt("00fd",16)),"I"]],["*",[String.fromCharCode(parseInt("00fd",16)),"J"]],["+",[String.fromCharCode(parseInt("00fd",16)),"K"]],[",",[String.fromCharCode(parseInt("00fd",16)),"L"]],["-",[String.fromCharCode(parseInt("00fd",16)),"M"]],[".",[String.fromCharCode(parseInt("00fd",16)),"N"]],["/",[String.fromCharCode(parseInt("00fd",16)),"O"]],["0",["0"]],["1",["1"]],["2",["2"]],["3",["3"]],["4",["4"]],["5",["5"]],["6",["6"]],["7",["7"]],["8",["8"]],["9",["9"]],[":",[String.fromCharCode(parseInt("00fd",16)),"Z"]],[";",[String.fromCharCode(parseInt("00fc",16)),"F"]],["<",[String.fromCharCode(parseInt("00fc",16)),"G"]],["=",[String.fromCharCode(parseInt("00fc",16)),"H"]],[">",[String.fromCharCode(parseInt("00fc",16)),"I"]],["?",[String.fromCharCode(parseInt("00fc",16)),"J"]],["@",[String.fromCharCode(parseInt("00fc",16)),"V"]],["A",["A"]],["B",["B"]],["C",["C"]],["D",["D"]],["E",["E"]],["F",["F"]],["G",["G"]],["H",["H"]],["I",["I"]],["J",["J"]],["K",["K"]],["L",["L"]],["M",["M"]],["N",["N"]],["O",["O"]],["P",["P"]],["Q",["Q"]],["R",["R"]],["S",["S"]],["T",["T"]],["U",["U"]],["V",["V"]],["W",["W"]],["X",["X"]],["Y",["Y"]],["Z",["Z"]],["[",[String.fromCharCode(parseInt("00fc",16)),"K"]],["\\",[String.fromCharCode(parseInt("00fc",16)),"L"]],["]",[String.fromCharCode(parseInt("00fc",16)),"M"]],["^",[String.fromCharCode(parseInt("00fc",16)),"N"]],["_",[String.fromCharCode(parseInt("00fc",16)),"O"]],["`",[String.fromCharCode(parseInt("00fc",16)),"W"]],["a",[String.fromCharCode(parseInt("00fe",16)),"A"]],["b",[String.fromCharCode(parseInt("00fe",16)),"B"]],["c",[String.fromCharCode(parseInt("00fe",16)),"C"]],["d",[String.fromCharCode(parseInt("00fe",16)),"D"]],["e",[String.fromCharCode(parseInt("00fe",16)),"E"]],["f",[String.fromCharCode(parseInt("00fe",16)),"F"]],["g",[String.fromCharCode(parseInt("00fe",16)),"G"]],["h",[String.fromCharCode(parseInt("00fe",16)),"H"]],["i",[String.fromCharCode(parseInt("00fe",16)),"I"]],["j",[String.fromCharCode(parseInt("00fe",16)),"J"]],["k",[String.fromCharCode(parseInt("00fe",16)),"K"]],["l",[String.fromCharCode(parseInt("00fe",16)),"L"]],["m",[String.fromCharCode(parseInt("00fe",16)),"M"]],["n",[String.fromCharCode(parseInt("00fe",16)),"N"]],["o",[String.fromCharCode(parseInt("00fe",16)),"O"]],["p",[String.fromCharCode(parseInt("00fe",16)),"P"]],["q",[String.fromCharCode(parseInt("00fe",16)),"Q"]],["r",[String.fromCharCode(parseInt("00fe",16)),"R"]],["s",[String.fromCharCode(parseInt("00fe",16)),"S"]],["t",[String.fromCharCode(parseInt("00fe",16)),"T"]],["u",[String.fromCharCode(parseInt("00fe",16)),"U"]],["v",[String.fromCharCode(parseInt("00fe",16)),"V"]],["w",[String.fromCharCode(parseInt("00fe",16)),"W"]],["x",[String.fromCharCode(parseInt("00fe",16)),"X"]],["y",[String.fromCharCode(parseInt("00fe",16)),"Y"]],["z",[String.fromCharCode(parseInt("00fe",16)),"Z"]],["{",[String.fromCharCode(parseInt("00fc",16)),"P"]],["|",[String.fromCharCode(parseInt("00fc",16)),"Q"]],["}",[String.fromCharCode(parseInt("00fc",16)),"R"]],["~",[String.fromCharCode(parseInt("00fc",16)),"S"]],[String.fromCharCode(parseInt("007f",16)),[String.fromCharCode(parseInt("00fc",16)),"T"]]]},code128a:{startSymbol:String.fromCharCode(parseInt("00f9",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[\0\x0001\x0002\x0003\x0004\x0005\x0006\a\b\t\n\v\f\r\x000e\x000f\x0010\x0011\x0012\x0013\x0014\x0015\x0016\x0017\x0018\x0019\x001a\x001b\x001c\x001d\x001e\x001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\x00f0\x00f1\x00f2\x00f3\x00f4]",symbolTable:[["\0",64,[1,1,1,4,2,2]],[String.fromCharCode(parseInt("0001",16)),65,[1,2,1,1,2,4]],[String.fromCharCode(parseInt("0002",16)),66,[1,2,1,4,2,1]],[String.fromCharCode(parseInt("0003",16)),67,[1,4,1,1,2,2]],[String.fromCharCode(parseInt("0004",16)),68,[1,4,1,2,2,1]],[String.fromCharCode(parseInt("0005",16)),69,[1,1,2,2,1,4]],[String.fromCharCode(parseInt("0006",16)),70,[1,1,2,4,1,2]],["a",71,[1,2,2,1,1,4]],["\b",72,[1,2,2,4,1,1]],["\t",73,[1,4,2,1,1,2]],["\n",74,[1,4,2,2,1,1]],["\v",75,[2,4,1,2,1,1]],["\f",76,[2,2,1,1,1,4]],["\r",77,[4,1,3,1,1,1]],[String.fromCharCode(parseInt("000e",16)),78,[2,4,1,1,1,2]],[String.fromCharCode(parseInt("000f",16)),79,[1,3,4,1,1,1]],[String.fromCharCode(parseInt("0010",16)),80,[1,1,1,2,4,2]],[String.fromCharCode(parseInt("0011",16)),81,[1,2,1,1,4,2]],[String.fromCharCode(parseInt("0012",16)),82,[1,2,1,2,4,1]],[String.fromCharCode(parseInt("0013",16)),83,[1,1,4,2,1,2]],[String.fromCharCode(parseInt("0014",16)),84,[1,2,4,1,1,2]],[String.fromCharCode(parseInt("0015",16)),85,[1,2,4,2,1,1]],[String.fromCharCode(parseInt("0016",16)),86,[4,1,1,2,1,2]],[String.fromCharCode(parseInt("0017",16)),87,[4,2,1,1,1,2]],[String.fromCharCode(parseInt("0018",16)),88,[4,2,1,2,1,1]],[String.fromCharCode(parseInt("0019",16)),89,[2,1,2,1,4,1]],[String.fromCharCode(parseInt("001a",16)),90,[2,1,4,1,2,1]],[String.fromCharCode(parseInt("001b",16)),91,[4,1,2,1,2,1]],[String.fromCharCode(parseInt("001c",16)),92,[1,1,1,1,4,3]],[String.fromCharCode(parseInt("001d",16)),93,[1,1,1,3,4,1]],[String.fromCharCode(parseInt("001e",16)),94,[1,3,1,1,4,1]],[String.fromCharCode(parseInt("001f",16)),95,[1,1,4,1,1,3]],[" ",0,[2,1,2,2,2,2]],["!",1,[2,2,2,1,2,2]],['"',2,[2,2,2,2,2,1]],["#",3,[1,2,1,2,2,3]],["$",4,[1,2,1,3,2,2]],["%",5,[1,3,1,2,2,2]],["&",6,[1,2,2,2,1,3]],["'",7,[1,2,2,3,1,2]],["(",8,[1,3,2,2,1,2]],[")",9,[2,2,1,2,1,3]],["*",10,[2,2,1,3,1,2]],["+",11,[2,3,1,2,1,2]],[",",12,[1,1,2,2,3,2]],["-",13,[1,2,2,1,3,2]],[".",14,[1,2,2,2,3,1]],["/",15,[1,1,3,2,2,2]],["0",16,[1,2,3,1,2,2]],["1",17,[1,2,3,2,2,1]],["2",18,[2,2,3,2,1,1]],["3",19,[2,2,1,1,3,2]],["4",20,[2,2,1,2,3,1]],["5",21,[2,1,3,2,1,2]],["6",22,[2,2,3,1,1,2]],["7",23,[3,1,2,1,3,1]],["8",24,[3,1,1,2,2,2]],["9",25,[3,2,1,1,2,2]],[":",26,[3,2,1,2,2,1]],[";",27,[3,1,2,2,1,2]],["<",28,[3,2,2,1,1,2]],["=",29,[3,2,2,2,1,1]],[">",30,[2,1,2,1,2,3]],["?",31,[2,1,2,3,2,1]],["@",32,[2,3,2,1,2,1]],["A",33,[1,1,1,3,2,3]],["B",34,[1,3,1,1,2,3]],["C",35,[1,3,1,3,2,1]],["D",36,[1,1,2,3,1,3]],["E",37,[1,3,2,1,1,3]],["F",38,[1,3,2,3,1,1]],["G",39,[2,1,1,3,1,3]],["H",40,[2,3,1,1,1,3]],["I",41,[2,3,1,3,1,1]],["J",42,[1,1,2,1,3,3]],["K",43,[1,1,2,3,3,1]],["L",44,[1,3,2,1,3,1]],["M",45,[1,1,3,1,2,3]],["N",46,[1,1,3,3,2,1]],["O",47,[1,3,3,1,2,1]],["P",48,[3,1,3,1,2,1]],["Q",49,[2,1,1,3,3,1]],["R",50,[2,3,1,1,3,1]],["S",51,[2,1,3,1,1,3]],["T",52,[2,1,3,3,1,1]],["U",53,[2,1,3,1,3,1]],["V",54,[3,1,1,1,2,3]],["W",55,[3,1,1,3,2,1]],["X",56,[3,3,1,1,2,1]],["Y",57,[3,1,2,1,1,3]],["Z",58,[3,1,2,3,1,1]],["[",59,[3,3,2,1,1,1]],["\\",60,[3,1,4,1,1,1]],["]",61,[2,2,1,4,1,1]],["^",62,[4,3,1,1,1,1]],["_",63,[1,1,1,2,2,4]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00f1",16)),97,[4,1,1,1,1,3]],[String.fromCharCode(parseInt("00f2",16)),96,[1,1,4,3,1,1]],[String.fromCharCode(parseInt("00f3",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00f4",16)),98,[4,1,1,3,1,1]],[String.fromCharCode(parseInt("00fc",16)),99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00fb",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00f9",16)),103,[2,1,1,4,1,2]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},code128b:{startSymbol:String.fromCharCode(parseInt("00fd",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[\x00-]",symbolTable:[[" ",0,[2,1,2,2,2,2]],["!",1,[2,2,2,1,2,2]],['"',2,[2,2,2,2,2,1]],["#",3,[1,2,1,2,2,3]],["$",4,[1,2,1,3,2,2]],["%",5,[1,3,1,2,2,2]],["&",6,[1,2,2,2,1,3]],["'",7,[1,2,2,3,1,2]],["(",8,[1,3,2,2,1,2]],[")",9,[2,2,1,2,1,3]],["*",10,[2,2,1,3,1,2]],["+",11,[2,3,1,2,1,2]],[",",12,[1,1,2,2,3,2]],["-",13,[1,2,2,1,3,2]],[".",14,[1,2,2,2,3,1]],["/",15,[1,1,3,2,2,2]],["0",16,[1,2,3,1,2,2]],["1",17,[1,2,3,2,2,1]],["2",18,[2,2,3,2,1,1]],["3",19,[2,2,1,1,3,2]],["4",20,[2,2,1,2,3,1]],["5",21,[2,1,3,2,1,2]],["6",22,[2,2,3,1,1,2]],["7",23,[3,1,2,1,3,1]],["8",24,[3,1,1,2,2,2]],["9",25,[3,2,1,1,2,2]],[":",26,[3,2,1,2,2,1]],[";",27,[3,1,2,2,1,2]],["<",28,[3,2,2,1,1,2]],["=",29,[3,2,2,2,1,1]],[">",30,[2,1,2,1,2,3]],["?",31,[2,1,2,3,2,1]],["@",32,[2,3,2,1,2,1]],["A",33,[1,1,1,3,2,3]],["B",34,[1,3,1,1,2,3]],["C",35,[1,3,1,3,2,1]],["D",36,[1,1,2,3,1,3]],["E",37,[1,3,2,1,1,3]],["F",38,[1,3,2,3,1,1]],["G",39,[2,1,1,3,1,3]],["H",40,[2,3,1,1,1,3]],["I",41,[2,3,1,3,1,1]],["J",42,[1,1,2,1,3,3]],["K",43,[1,1,2,3,3,1]],["L",44,[1,3,2,1,3,1]],["M",45,[1,1,3,1,2,3]],["N",46,[1,1,3,3,2,1]],["O",47,[1,3,3,1,2,1]],["P",48,[3,1,3,1,2,1]],["Q",49,[2,1,1,3,3,1]],["R",50,[2,3,1,1,3,1]],["S",51,[2,1,3,1,1,3]],["T",52,[2,1,3,3,1,1]],["U",53,[2,1,3,1,3,1]],["V",54,[3,1,1,1,2,3]],["W",55,[3,1,1,3,2,1]],["X",56,[3,3,1,1,2,1]],["Y",57,[3,1,2,1,1,3]],["Z",58,[3,1,2,3,1,1]],["[",59,[3,3,2,1,1,1]],["\\",60,[3,1,4,1,1,1]],["]",61,[2,2,1,4,1,1]],["^",62,[4,3,1,1,1,1]],["_",63,[1,1,1,2,2,4]],["`",64,[1,1,1,4,2,2]],["a",65,[1,2,1,1,2,4]],["b",66,[1,2,1,4,2,1]],["c",67,[1,4,1,1,2,2]],["d",68,[1,4,1,2,2,1]],["e",69,[1,1,2,2,1,4]],["f",70,[1,1,2,4,1,2]],["g",71,[1,2,2,1,1,4]],["h",72,[1,2,2,4,1,1]],["i",73,[1,4,2,1,1,2]],["j",74,[1,4,2,2,1,1]],["k",75,[2,4,1,2,1,1]],["l",76,[2,2,1,1,1,4]],["m",77,[4,1,3,1,1,1]],["n",78,[2,4,1,1,1,2]],["o",79,[1,3,4,1,1,1]],["p",80,[1,1,1,2,4,2]],["q",81,[1,2,1,1,4,2]],["r",82,[1,2,1,2,4,1]],["s",83,[1,1,4,2,1,2]],["t",84,[1,2,4,1,1,2]],["u",85,[1,2,4,2,1,1]],["v",86,[4,1,1,2,1,2]],["w",87,[4,2,1,1,1,2]],["x",88,[4,2,1,2,1,1]],["y",89,[2,1,2,1,4,1]],["z",90,[2,1,4,1,2,1]],["{",91,[4,1,2,1,2,1]],["|",92,[1,1,1,1,4,3]],["}",93,[1,1,1,3,4,1]],["~",94,[1,3,1,1,4,1]],[String.fromCharCode(parseInt("007f",16)),95,[1,1,4,1,1,3]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00f1",16)),97,[4,1,1,1,1,3]],[String.fromCharCode(parseInt("00f2",16)),96,[1,1,4,3,1,1]],[String.fromCharCode(parseInt("00f3",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00f4",16)),98,[4,1,1,3,1,1]],[String.fromCharCode(parseInt("00fc",16)),99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00fa",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00fd",16)),104,[2,1,1,2,1,4]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},code128c:{startSymbol:String.fromCharCode(parseInt("00fe",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[0-9]",symbolTable:[["\0",0,[2,1,2,2,2,2]],[String.fromCharCode(parseInt("0001",16)),1,[2,2,2,1,2,2]],[String.fromCharCode(parseInt("0002",16)),2,[2,2,2,2,2,1]],[String.fromCharCode(parseInt("0003",16)),3,[1,2,1,2,2,3]],[String.fromCharCode(parseInt("0004",16)),4,[1,2,1,3,2,2]],[String.fromCharCode(parseInt("0005",16)),5,[1,3,1,2,2,2]],[String.fromCharCode(parseInt("0006",16)),6,[1,2,2,2,1,3]],["a",7,[1,2,2,3,1,2]],["\b",8,[1,3,2,2,1,2]],["\t",9,[2,2,1,2,1,3]],["\n",10,[2,2,1,3,1,2]],["\v",11,[2,3,1,2,1,2]],["\f",12,[1,1,2,2,3,2]],["\r",13,[1,2,2,1,3,2]],[String.fromCharCode(parseInt("000e",16)),14,[1,2,2,2,3,1]],[String.fromCharCode(parseInt("000f",16)),15,[1,1,3,2,2,2]],[String.fromCharCode(parseInt("0010",16)),16,[1,2,3,1,2,2]],[String.fromCharCode(parseInt("0011",16)),17,[1,2,3,2,2,1]],[String.fromCharCode(parseInt("0012",16)),18,[2,2,3,2,1,1]],[String.fromCharCode(parseInt("0013",16)),19,[2,2,1,1,3,2]],[String.fromCharCode(parseInt("0014",16)),20,[2,2,1,2,3,1]],[String.fromCharCode(parseInt("0015",16)),21,[2,1,3,2,1,2]],[String.fromCharCode(parseInt("0016",16)),22,[2,2,3,1,1,2]],[String.fromCharCode(parseInt("0017",16)),23,[3,1,2,1,3,1]],[String.fromCharCode(parseInt("0018",16)),24,[3,1,1,2,2,2]],[String.fromCharCode(parseInt("0019",16)),25,[3,2,1,1,2,2]],[String.fromCharCode(parseInt("001a",16)),26,[3,2,1,2,2,1]],[String.fromCharCode(parseInt("001b",16)),27,[3,1,2,2,1,2]],[String.fromCharCode(parseInt("001c",16)),28,[3,2,2,1,1,2]],[String.fromCharCode(parseInt("001d",16)),29,[3,2,2,2,1,1]],[String.fromCharCode(parseInt("001e",16)),30,[2,1,2,1,2,3]],[String.fromCharCode(parseInt("001f",16)),31,[2,1,2,3,2,1]],[" ",32,[2,3,2,1,2,1]],["!",33,[1,1,1,3,2,3]],['"',34,[1,3,1,1,2,3]],["#",35,[1,3,1,3,2,1]],["$",36,[1,1,2,3,1,3]],["%",37,[1,3,2,1,1,3]],["&",38,[1,3,2,3,1,1]],["'",39,[2,1,1,3,1,3]],["[",40,[2,3,1,1,1,3]],[")",41,[2,3,1,3,1,1]],["*",42,[1,1,2,1,3,3]],["+",43,[1,1,2,3,3,1]],[",",44,[1,3,2,1,3,1]],["-",45,[1,1,3,1,2,3]],[".",46,[1,1,3,3,2,1]],["/",47,[1,3,3,1,2,1]],["0",48,[3,1,3,1,2,1]],["1",49,[2,1,1,3,3,1]],["2",50,[2,3,1,1,3,1]],["3",51,[2,1,3,1,1,3]],["4",52,[2,1,3,3,1,1]],["5",53,[2,1,3,1,3,1]],["6",54,[3,1,1,1,2,3]],["7",55,[3,1,1,3,2,1]],["8",56,[3,3,1,1,2,1]],["9",57,[3,1,2,1,1,3]],[":",58,[3,1,2,3,1,1]],[";",59,[3,3,2,1,1,1]],["<",60,[3,1,4,1,1,1]],["=",61,[2,2,1,4,1,1]],[">",62,[4,3,1,1,1,1]],["?",63,[1,1,1,2,2,4]],["@",64,[1,1,1,4,2,2]],["A",65,[1,2,1,1,2,4]],["B",66,[1,2,1,4,2,1]],["C",67,[1,4,1,1,2,2]],["D",68,[1,4,1,2,2,1]],["E",69,[1,1,2,2,1,4]],["F",70,[1,1,2,4,1,2]],["G",71,[1,2,2,1,1,4]],["H",72,[1,2,2,4,1,1]],["I",73,[1,4,2,1,1,2]],["J",74,[1,4,2,2,1,1]],["K",75,[2,4,1,2,1,1]],["L",76,[2,2,1,1,1,4]],["M",77,[4,1,3,1,1,1]],["N",78,[2,4,1,1,1,2]],["O",79,[1,3,4,1,1,1]],["P",80,[1,1,1,2,4,2]],["Q",81,[1,2,1,1,4,2]],["R",82,[1,2,1,2,4,1]],["S",83,[1,1,4,2,1,2]],["T",84,[1,2,4,1,1,2]],["U",85,[1,2,4,2,1,1]],["V",86,[4,1,1,2,1,2]],["W",87,[4,2,1,1,1,2]],["X",88,[4,2,1,2,1,1]],["Y",89,[2,1,2,1,4,1]],["Z",90,[2,1,4,1,2,1]],["[",91,[4,1,2,1,2,1]],["\\",92,[1,1,1,1,4,3]],["]",93,[1,1,1,3,4,1]],["^",94,[1,3,1,1,4,1]],["_",95,[1,1,4,1,1,3]],["`",96,[1,1,4,3,1,1]],["a",97,[4,1,1,1,1,3]],["b",98,[4,1,1,3,1,1]],["c",99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00fa",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00fb",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00fe",16)),105,[2,1,1,2,3,2]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]}}}(jQuery,Syncfusion),function($,ej,wd){"use strict";var options=wd.unobtrusive={dataRole:!1,ejRole:!1,directive:!1},propMaps={};$(function(){var n=$(document.body).data(),t,i;(options.ejRole=n.hasOwnProperty("ejrole")?readBoolAttr(n,"ejrole"):options.ejRole,options.directive=n.hasOwnProperty("directive")?readBoolAttr(n,"directive"):options.directive,options.ejRole!==!0&&options.directive!==!0&&(options.dataRole=!0),options.dataRole=n.hasOwnProperty("datarole")?readBoolAttr(n,"datarole"):options.dataRole,options.ejRole===!0||options.dataRole===!0||options.directive===!0)&&(wd.autoInit=n.hasOwnProperty("autoinit")?readBoolAttr(n,"autoinit"):!0,wd.autoInit===!0)&&(t=[],options.dataRole===!0&&t.push("[data-ej-init]"),options.ejRole===!0&&t.push("[ej-init]"),i=$(t.join(",")),i.length||(i=$(document)),wd.init(i))});wd.init=function(n){var t,i;n=n?n.jquery?n:$(n):$(document);t=wd.registeredWidgets;for(i in t)checkUnobtrusive(t[i].name,t[i].proto,options,n)};var findElements=function(n,t,i,r){var u=[],f=n.replace("ej","").toLowerCase(),e={};return t.dataRole===!0&&u.push("[data-role='"+n.toLowerCase()+"']"),t.ejRole===!0&&u.push("[ej-"+f+"]"),e.role=i.find(u.join(",")),t.directive===!0&&(e.directive=findAndChangeTag(i.find(f),r.validTags&&r.validTags[0]||"div",f,i)),e},findAndChangeTag=function(n,t,i,r){for(var f=!1,e=n.length,u=0;u<e;u++)n[u].offsetParent?n[u]=changeTag(n[u],t):(n.splice(u--,1),f=!0,e--);return f&&n.push.apply(n,findAndChangeTag(r.find(i),t,i,r)),n},readAttributes=function(n,t,i){for(var o=n[0].attributes,r,u={},l=i.slice(2).toLowerCase(),s="data-ej-",h=s.length,f="ej-",c=f.length,e=0;e<o.length;e++)r=o[e],t.dataRole&&r.name.startsWith(s)&&processAttrib(u,r.name.slice(h),processData(r.value)),(t.ejRole&&r.name.startsWith(f)||t.dataRole===!1&&t.ejRole===!1&&t.directive===!0&&r.name.startsWith(f))&&processAttrib(u,r.name.slice(c),processData(r.value));return u},processData=function(n){return n==="true"?!0:n==="false"?!1:+n+""===n?+n:n},processAttrib=function(n,t,i){if(t.indexOf("-")===-1){n[t]=i;return}ej.createObject(t.replace(/-/g,"."),i,n)},checkUnobtrusive=function(n,t,i,r){var u=findElements(n,i,r,t),f=propMaps[n];(u.role&&u.role.length||u.directive&&u.directive.length)&&!f&&(propMaps[n]=f=generatePropMap(t.defaults),t._unobtrusive&&$.extend(!0,f,t._unobtrusive));initControls(u.role,i,n,t,f);u.directive&&initControls(u.directive,i,n,t,f,!0)},initControls=function(n,t,i,r,u){for(var e,o,s=r.dataTypes,h=n.length,f=0;f<h;f++)e=n.eq(f),o={},iterateAndSetModel(o,readAttributes(e,t,i),u,s),e[i](o)},div=$(document.createElement("div")),changeTag=function(n,t){var r=$(n),u,i;if(ej.support.outerHTML)return div.insertBefore(r),u=n.tagName,i=[],i[0]="<",i[1]=n.outerHTML.trim().replace(RegExp("^<"+u+"|"+u+">$","ig"),t),i[1].endsWith(">")||(i[2]=">"),n.outerHTML=i.join(""),n=div.next()[0],div.remove(),n;var e=r.clone(),u=n.tagName,f="";return r.html(f),f+="<",f+=div.append(e).html().replace(RegExp("^<"+u+"|"+u+">$","ig"),t),f+=">",div.html(f),e=r.wrap(div.children().first()).parent(),r.remove(),div.empty(),e[0]},iterateAndSetModel=function(model,data,map,type){var field="",current;for(var prop in data){if(field=map&&prop in map?map[prop]:prop,current=data[prop],ej.isPlainObject(current)&&(map||type)){model[field]={};iterateAndSetModel(model[field],current,map?map[prop+".value"]:map,type?type[field]:type);continue}if(type&&type[field]==="array")try{current=$.parseJSON(current)}catch(e){current=eval(current)}else type&&type[field]==="data"&&(/^\[{0,1}\{.+\}\]{0,1}$/.test(current)?current=$.parseJSON(current):current.indexOf("/")===-1&&(current=ej.getObject(current.indexOf("window.")===0?current.slice(7):current,window)||current));model[field]=current}},generatePropMap=function(n){var i={},r;for(var t in n)r=t.toLowerCase(),ej.isPlainObject(n[t])&&(i[r+".value"]=generatePropMap(n[t])),i[r]=t;return i},readBoolAttr=function(n,t){return n.hasOwnProperty(t)?n[t]!==!1:!1};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}}(window.jQuery,window.Syncfusion,window.Syncfusion.widget)