/*!
*  filename: ej.mobile.application.min.js
*  version : 13.2.0.39
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./ej.mobile.core.min"],n):n()})(function(){(function(){App={window:$(window),document:$(document),html:$("html"),angularAppName:null,addMetaTags:!0,preventWindowsAccentColor:!0,head:$("head"),renderEJMControlsByDef:!0,pageTransition:"auto",hashMonitoring:!0,allowPushState:!0,transferWithinSamePage:!1,applyMobileStyles:!0,enableAjax:!0,enableFormSubmission:!0,enableSwipe:!0,loadHashPage:!1,_pageAnimationQueue:[],_pageBackAnimationQueue:[],setClass:function(n,t){n.addClass("e-m-"+t)},getLocation:function(n){var t=n?this.route.splitUrl(n):location,i=this.route.splitUrl(n||location.href).hash;return i=i==="#"?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},transferPage:function(n,t,i,r){var u,e,f,o;if(App._parentSubPage=!1,u=$.extend({},App.transferPage.defaults,i),u.transition=i&&i.transition?i.transition:App.pageTransition?App.pageTransition:App.transferPage.defaults.transition,u.pageDeffered||(u.pageDeffered=$.Deferred()),u.transition=="auto"&&(u.transition=ej.setTransition()),u.hashMonitoring===undefined&&(u.hashMonitoring=!0),!u.initialLoading&&u.showWaitingPopup&&App.waitingPopUp.show(),u.pageContainer=$("body"),u.fromPage=n&&n.length>0?n:App.activePage,data={toPage:t,fromPage:u.fromPage,options:u},isTargetString=typeof t=="string",isTargetString)return App.loadView(t,u).done(function(t,i,r,u){App.transferPage(n,r,i,u)}).fail(function(n,t){data.url=n;data.options=t;App.container.trigger("viewtransferfailed",data)}),u.pageDeffered.promise();if(App._isInPageAnimation&&u.transition!="none"){App._pageAnimationQueue.unshift(arguments);return}return t&&(App.createPage($(t)),App.activePage=t,App.activeSubPage=null,e=t,(n&&n.hasClass("subpage")&&u.hashMonitoring&&window.location.hash==""&&u.direction!="back"||u.parentSubPage||t.hasClass("subpage"))&&!u.reverse&&(App._parentSubPage=!0),t.hasClass("subpage")&&(App.activePage=t.parents(".appview"),App.activeSubPage=t,e=t.parents(".appview"),t.addClass("subview")),u.hash&&u.hash!=""&&(App.activeSubPage=e.find("[data-url='"+u.hash.replace("#","")+"']")),App.setPageRenderMode(t)),t&&t.hasClass("subpage")&&App._parentSubPage&&!u.loadHashPage&&(App.fromUrl=u.fromPage.attr("data-url")?u.fromPage.attr("data-url"):u.fromPage.attr("id")?u.fromPage.attr("id"):"page"+parseInt((Math.random()*100).toFixed(2)),u.fromPage.attr("data-url",App.fromUrl).attr("data-appcache",!0),t.attr("data-appcache",!0),f="#"+App.fromUrl,data={transition:u.transition,title:document.title,pageUrl:f,parentSubPage:App._parentSubPage},App.hashMonitoring&&u.hashMonitoring&&!u.fromHashChange&&(App.documentUrl.prototype.clean(f,data),App.pageHistory.add(App.route.makeUrlAbsolute(f),{hash:f,title:document.title})),App._parentSubPage=!1),($.support.pushstate&&App.route.baseUrl.hrefNoHash!=App.route.splitUrl(App.getLocation()).hrefNoHash||!$.support.pushstate&&App.directorychanged)&&n&&n.hasClass("subpage")&&t[0]!==u.fromPage[0]&&(u.fromPage=n=n.parents(".appview"),App.activeSubPage=null),f=t?t.attr("data-url"):"",f&&!App.route._isPath(f)&&f.indexOf("#")<0&&(f="#"+f),u.fromHashChange||(data={transition:u.transition,pageUrl:f,title:document.title},App.hashMonitoring&&u.hashMonitoring&&App.urlRouter.change(data,!0)),o={transition:u.transition,options:u,title:document.title,toPage:t,fromPage:u.fromPage,pageUrl:f},t&&t[0]!==u.fromPage[0]&&u.reloadSamePage?(App._preventPop=!0,$.support.hasTransition||(u.transition="none"),App._transitionView(t,u,r,o)):u.showWaitingPopup&&App.waitingPopUp.hide(),u.pageDeffered.promise()},loadView:function(n,t){App.transferWithinSamePage=!1;var r=$.Deferred(),u=$.extend({},App.loadView.defaults,t),i=null;if(absUrl=this.route.makeUrlAbsolute(n),relUrl=this.route.convertToRelativeUrl(absUrl),App.route._isPath(relUrl)){if(i=App.container.children("[data-url ='"+relUrl+"']"),i.length)return r.resolve(absUrl,t,i,!1)}else{if(i=App.container.children("[data-url ='"+relUrl+"']"),i.length==0)return i=App.container.children("#"+relUrl),i.length==0&&App.activePage.find("[data-url ='"+relUrl+"']").length?(i=App.activePage.find("[data-url ='"+relUrl+"']"),i.attr("data-appcache",!0),i.length>0&&(App.transferWithinSamePage=!0)):App.activePage.find("#"+relUrl).length&&(i=App.activePage.find("#"+relUrl),i.attr("data-appcache",!0),i.length>0&&(App.transferWithinSamePage=!0)),i.length?r.resolve(absUrl,t,i,!1):r.reject(absUrl,t,i,!1);if(i.length)return r.resolve(absUrl,t,i,!1)}return data={toPage:n,options:u,absUrl:absUrl,relUrl:App.route.convertToRelativeUrl(absUrl)},App.container.trigger("viewbeforeload",data),$.ajax({url:absUrl,type:u.type,data:u.data,contentType:u.contentType,dataType:"html",success:function(n,f,e){i=$("<div><\/div>");document.title=n.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;i[0].innerHTML=n;curPage=i.find("*[data-role='appview']").first();relUrl=App.route.convertToRelativeUrl(absUrl);curPage.length||(curPage=$("<div>"+(/<\/?body[^>]*>/gmi.test(n)?n.split(/<\/?body[^>]*>/gmi)[1]:n||"")+"<\/div>"));curPage.attr("data-apptransition",u.transition).attr("data-url",relUrl).hide();App._renderingPage=curPage;curPage.appendTo($("body"));App.setPageRenderMode(curPage);absUrl.indexOf("#")!=-1&&(curPage.find(".subpage").hide(),curPage.find("[data-url ='"+App.route.splitUrl(absUrl).hash.replace("#","")+"']").show());App._renderingPage=undefined;data.xhr=e;data.textStatus=f;data.currentPage=curPage;data.options=t;App.container.trigger("viewload",data);r.resolve(absUrl,t,curPage,!0)},error:function(n,i,u){data.xhr=n;data.textStatus=i;data.options=t;data.errorThrown=u;App.container.trigger("viewloadfailed",data);r.reject(absUrl,t)}}),r.promise()},createPage:function(n){App.firstPage||(App.firstPage=n);n.hasClass("subpage")||(n.addClass("appview"),n.attr("data-role","appview"));n.attr("data-url")||n.attr("data-url",n.hasClass("subpage")?n.attr("id")||location.pathname+location.search:location.pathname+location.search)},setWindowsTheme:function(){ej.isWindows()&&ej.isMobile()&&ej.isDevice()&&!App.preventWindowsAccentColor&&$("<div style='background: Background' />").css("background-color")!="background"&&(Number($("<div style='background: Background' />").css("background-color").split(",")[1])==0?$(".appview").removeClass("e-m-light e-m-dark").addClass("e-m-dark"):$(".appview").removeClass("e-m-light e-m-dark").addClass("e-m-light"))},setPageRenderMode:function(n){var t=n?n:App.activePage,i;if(ej.hasRenderMode(t)||(App.transferPage.defaults.transition=ej.isAndroid()?"pop":ej.isWindows()&&ej.isMobile()?"slide":"slide",i=ej.getRenderMode(),App.applyMobileStyles&&(App.setClass(t,i),App.container.addClass("e-m-"+i))),!ej.hasTheme(t)){var u=ej.getAttrVal($("head"),"data-ej-theme","auto"),r=ej.getRenderMode(),i=u=="auto"?r=="ios7"||(r=="android"||r=="windows")&&!ej.isMobile()?"light":"dark":u;App.applyMobileStyles&&(t.addClass("e-m-"+i),App.container.addClass("e-m-"+i))}App.applyMobileStyles&&t.addClass(ej.isMobile()?"e-m-mobile":"e-m-tablet")},renderEJMControls:function(n){var t=n?n:App.activePage;App.renderEJMControlsByDef&&(t.find("input[type='button']:not([data-role]):attrNotStartsWith('ejm-'),input[type='submit']:not([data-role]):attrNotStartsWith('ejm-'),input[type='reset']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmbutton"),t.find("a:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmactionlink"),t.find("input:not([data-role]):not([type]):attrNotStartsWith('ejm-'),input[type='text']:not([data-role]):attrNotStartsWith('ejm-'),input[type='tel']:not([data-role]):attrNotStartsWith('ejm-'),input[type='email']:not([data-role]):attrNotStartsWith('ejm-'),input[type='password']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmtextbox"),t.find("input[type='checkbox']:not([data-role]):attrNotStartsWith('ejm-')").filter(function(){if(!$(this).closest("[data-role='ejmgroupbutton']").length)return this}).attr("data-role","ejmcheckbox"),t.find("input[type='radio']:not([data-role]):attrNotStartsWith('ejm-')").filter(function(){if(!$(this).closest("[data-role='ejmgroupbutton']").length)return this}).attr("data-role","ejmradiobutton"),t.find("input[type='date']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmdatepicker"),t.find("input[type='time']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmtimepicker"))},initPage:function(){var n=$("[data-role ='appview']");n.length||(n=$("body").wrapInner("<div data-role='appview' class ='appview'><\/div>").children(0));n.each(function(){var n=$(this),t;n.attr("data-url")||(t=n.hasClass("subpage")?n.attr("id")||location.pathname+location.search:location.pathname+location.search,n.attr("data-url",ej.isWindowsWebView()?window.location.href:t));n.hasClass("appview")||n.addClass("appview");n.attr("data-apptransition")||n.attr("data-apptransition",App.pageTransition)});App.activePage=App.firstPage=n.first();n.not(App.activePage).hide();App.container=$("body");$.support.pushstate&&App.allowPushState&&!App.preventHashAssignPopState&&App.urlRouter.clean(App._parseLocation().href);App.enableAjax&&(App.activePage.addClass("none"),App.transferPage(null,App.activePage,{transition:App.pageTransition?App.pageTransition:"none",initialLoading:!0,reverse:!1,changeHash:!1,fromHashChange:!0,loadHashPage:App.loadHashPage&&window.location.hash!=""?!0:!1}),App.activePage.removeClass("none"));setTimeout(function(){App.container.trigger("viewtransfer",{currentPage:App.activePage,initialLoading:!0});App._refreshScrollPanel()})},createAppView:function(){var n,t;if((App.applyMobileStyles&&$("body").find("[data-role*='ejm']").length>0||App.applyMobileStyles)&&$("body").addClass("e-m-user-select e-m-viewport"),$(window).bind("touchmove",function(n){$(n.target).closest(".e-m-scroll-native").length==0&&ej.isTouchDevice()&&ej.blockDefaultActions(n)}),/(ipad|iphone|ipod touch);.*os 7_\d/i.test(navigator.userAgent.toLowerCase()))$(document).on("blur","input, select, textarea",function(){window.setTimeout(function(){document.activeElement.nodeName&&document.activeElement.nodeName.toLowerCase()!="input"&&window.scrollTo(0,0)})});App._currentResolution=ej.isLowerResolution();$(window).bind("onorientationchange"in window?"orientationchange":"resize",function(n){for((ej.getRenderMode()=="android"||ej.getRenderMode()=="ios7")&&$(document.activeElement).blur(),App._refreshScrollPanel(),App._currentResolution!=ej.isLowerResolution()?(App._currentResolution=ej.isLowerResolution(),$.extend(!0,n,{resolutionChanged:!0})):$.extend(!0,n,{resolutionChanged:!1}),i=0;i<ej.widget.registeredInstances.length;i++)$(ej.widget.registeredInstances[i].element).is(":visible")&&$.isFunction(ej.widget.registeredInstances[i].proto.resize)&&$(ej.widget.registeredInstances[i].element).data(ej.widget.registeredInstances[i].pluginName).resize(n);n.type=="orientationchange"&&window.setTimeout(function(){ej.getRenderMode()=="ios7"&&window.scrollTo(0,0)})});App.waitingPopUp||(n=ej.isMobile()?"mobile":"tablet",App.waitingPopUp=ej.buildTag("div.e-m-waitingpopup e-m-"+ej.getRenderMode()+" e-m-"+n,"<div class='e-m-image' style='top: "+(ej.isCssCalc()?"":window.innerHeight/2-16)+"px'>Loading...<\/div>"),App.waitingPopUp.hide(),App.waitingPopUpImage=App.waitingPopUp.find(".e-m-image"));App.setWindowsTheme();t=App._parseLocation();App.pageHistory=new App.History;App.urlRouter=new App.documentUrl(App.pageHistory);App.initPage();App.renderEJMControls(App.activePage);App.window.bind("popstate",App._popState);$.support.pushstate||App.window.bind("hashchange",App._popState);App.container.append(App.waitingPopUp);App.setPageRenderMode();App.enableFormSubmission&&App.document.find("form").bind("submit",function(n){App._onFormSubmission({fromPage:$(n.currentTarget).closest(".appview"),url:$(n.currentTarget).attr("action"),method:$(n.currentTarget).attr("method"),formData:$(n.currentTarget).serialize()})});App.container.on("swipeleft swiperight",function(n){var t=$.extend(n,{direction:n.handleObj.type});App.container.trigger("appviewSwipe",t)})},_onFormSubmission:function(n){n=$.extend(n,{transition:"auto",reverse:!1,changeHash:!1,fromHashChange:!0});App.enableAjax&&App.transferPage(n.fromPage,n.url,{transition:"none",reverse:!1,changeHash:!1,fromHashChange:!0})},_reloadPage:function(n,t){t.hasClass("subpage")&&(t.parents(".appview").show(),t.siblings(".subpage").hide())},_parseLocation:function(){return this.route.splitUrl(this.getLocation())},_lookForLink:function(n){while(n){if(typeof n.nodeName=="string"&&n.nodeName.toLowerCase()==="a")break;n=n.parentNode}return n},_isPage:function(n){return n.attr("data-url")!==undefined},_transitionView:function(n,t,i,r){(i||t.isFromAjax)&&(App._renderingPage=n,App.renderEJMControls(n),ej.widget.init(n),(App.angularAppName||ej.angular.defaultAppName||t.angularAppName)&&ej.angular.compile(n,t.angularAppName||App.angularAppName),App._renderingPage=undefined);t.transition!="none"&&(App._isInPageAnimation=!0);App.container.trigger("viewbeforetransfer",r);n.attr("data-apptransition",t.transition);App._setOutPageTransition(n,t);App._setInPageTransition(n,t);n.parent().addClass("viewport-"+t.transition);App._removeNones(n,t);n.show()},_setOutPageTransition:function(n,t){App._transitionInHandler=$.proxy(App._transitionIn,t);t.toPage=n;t.transition=="none"?App._transitionIn(t):t.fromPage.unbind(ej.animationEndEvent()+" "+ej.transitionEndEvent(),App._transitionInHandler).bind(ej.animationEndEvent()+" "+ej.transitionEndEvent(),App._transitionInHandler).addClass(t.transition+" out"+(t.reverse?" reverse":""))},_setInPageTransition:function(n,t){App._transitionOutHandler=$.proxy(App._transitionOut,n);t.transition=="none"?App._transitionOut(t,n):n.unbind(ej.animationEndEvent()+" "+ej.transitionEndEvent(),App._transitionOutHandler).bind(ej.animationEndEvent()+" "+ej.transitionEndEvent(),App._transitionOutHandler).addClass(t.transition+" in"+(t.reverse?" reverse":""))},_removeNones:function(n,t){t.fromPage.removeClass("none");n.removeClass("none")},_transitionIn:function(n){n=n.fromPage===undefined?this:n;n.fromPage.attr("data-appcache")=="true"||n.appCache||n.fromPage[0]==App.firstPage[0]||!App.route._isPath(n.fromPage.attr("data-url"))?n.fromPage.hide().removeClass(n.transition+" out reverse none"):App.activePage[0]!=n.fromPage[0]&&n.fromPage.remove();n.loadHashPage&&App._reloadPage(n.fromPage,n.toPage);n.fromPage.unbind(ej.animationEndEvent()+" "+ej.transitionEndEvent(),App._transitionInHandler);$.support.pushstate&&(App.route.baseUrl=App.route.splitUrl(App.getLocation()));n.showWaitingPopup&&App.waitingPopUp.hide();n.pageDeffered.resolve(n);App._preventPop=!1;App._releaseAnimationLock()},_transitionOut:function(n,t){n=n.fromPage===undefined?this:t;$(n).unbind(ej.animationEndEvent()+" "+ej.transitionEndEvent(),App._transitionOutHandler);$(n).removeClass($(n).attr("data-apptransition")+" in reverse none");$(n).parent().removeClass("viewport-"+$(n).attr("data-apptransition"));n.hasClass("subpage")?App.container.trigger("subviewtransfer",n):App.container.trigger("viewtransfer",n);App._refreshScrollPanel()},_releaseAnimationLock:function(){App._isInPageAnimation=!1;App._pageAnimationQueue.length>0&&App.transferPage.apply(null,App._pageAnimationQueue.pop());App._pageBackAnimationQueue.length>0&&(App._preventPop=!1,App._popState.apply(null,App._pageBackAnimationQueue.pop()))},_refreshScrollPanel:function(){$(".e-m-scroll:visible").each(function(){$(this).is(":visible")&&$(this).ejmScrollPanel("refresh")})},_popState:function(n){if(App._preventPop){App._pageBackAnimationQueue.unshift(arguments);return}App._preventPop=!0;var t=n.originalEvent.state||{};n.historyState&&$.extend(t,n.historyState);n.originalEvent.type=="hashchange"&&$.extend(t,n.hashchangeState);App.enableAjax&&App._handleNavigate(t,n,"back");$(document.activeElement).length&&document.activeElement.tagName.toLowerCase()=="input"&&document.activeElement.blur()},_handleNavigate:function(n,t,i){var u=App.route._stripHash(n.url),o=App.pageHistory.heap.length===0?"none":undefined,e={fromHashChange:!0,reverse:n.direction==="back"||i=="back",loadHashPage:!1},f,r;$.extend(e,n,{transition:App.pageTransition||(App.pageHistory.lastHistory()||{}).transition||o});u&&(n.title&&(document.title=n.title),App.currentDirectory&&(App.currentDirectory=App.route.splitUrl(u).directory),u=App.route._isPath(u)?u:App.route.makeUrlAbsolute("#"+u),f=App.activeSubPage,r=$.map(App.pageHistory.heap,function(t,i){if(t.hash==n.hash)return i+1}),r=r[r.length-1],r!=undefined&&r<App.pageHistory.heap.length&&App.pageHistory.heap[r].url.replace(App.pageHistory.heap[r].hash,"")==n.url.replace(n.hash,"")&&(f=App.activePage.find("[data-url='"+App.pageHistory.heap[r].hash.replace("#","")+"']")),data={toPage:u,state:n},App.container.trigger("viewpopstate",data),App.transferPage(f,u,e));App._preventPop=!1}};App.transferPage.defaults={transition:$.support.hasTransition?"auto":"none",reverse:!1,changeHash:!0,reloadSamePage:!0,samePage:!1,showWaitingPopup:!0};App.route={urlSplitReg:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,splitUrl:function(n){if($.type(n)==="object")return n;var t=this.urlSplitReg.exec(n||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},addSearchParams:function(n,t){var i=path.parseUrl(n),u=typeof t=="object"?$.param(t):t,r=i.search||"?";return i.hrefNoSearch+r+(r.charAt(r.length-1)!=="?"?"&":"")+u+(i.hash||"")},makeUrlAbsolute:function(n,t){var i=$("<a href ='"+n+"'><\/a>")[0],u;$("body").append(i);u=App.currentDirectory&&n.indexOf(App.currentDirectory)==-1?App.currentDirectory+n:i.pathname.indexOf("/")!=0?"/"+i.pathname:i.pathname;var f=ej.browserInfo(),e=f.name=="msie"&&f.version=="9.0",r=i.protocol+"//"+(e&&i.port=="80"?i.host.replace(":80",""):i.host)+u+i.search+i.hash;return App._parentSubPage&&(r=App.route.baseUrl.hrefNoHash+n),$(i).remove(),$.support.pushstate||!App.route._isDirectoryChanged(r)||t?App.directorychanged=!1:(App.directorychanged=!0,App.currentDirectory=App.route.splitUrl(r).directory,App.route.baseUrl=App.route.splitUrl(r)),r},clean:function(n){return n.replace(this.documentBase.domain,"")},cleanHash:function(n){return path.stripHash(n.replace(/\?.*$/,"").replace(dialogHashKey,""))},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},convertToRelativeUrl:function(n){var t=this.splitUrl(n);return this._isSamePage(t)?t.hash.replace(/^#/,"").replace(/\?.*$/,""):this._isSameDomain(t,this.baseUrl)?ej.isWindowsWebView()?t.hrefNoHash:t.hrefNoHash.replace(this.baseUrl.domain,""):window.decodeURIComponent(n)},cleanUrl:function(n){var t,r=this._isPath(n),i=this.splitUrl(n),u=i.hash;return t=r?this._stripHash(n):n,t=this._isPath(i.hash)?this._stripHash(i.hash):t,this.makeUrlAbsolute(t)},_isSameDomain:function(n,t){return this.splitUrl(n).domain===this.splitUrl(t).domain},_isSamePage:function(n){var t=App.route.splitUrl(n);return t.protocol!==""?!App.route._isPath(t.hash)&&t.hash&&t.hrefNoHash===App.route.baseUrl.hrefNoHash:/^#/.test(t.href)},_isDirectoryChanged:function(n){return App.route.baseUrl.directory!=App.route.splitUrl(n).directory},_isPath:function(n){return/\//.test(n)},_stripHash:function(n){return n?n.replace(/^#/,""):""},_stripQueryParams:function(n){return n.replace(/\?.*$/,"")},_isHashValid:function(n){return/^#[^#]+$/.test(n)},_isExternal:function(n){var t=path.parseUrl(n);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1}};$.extend(App.route,{baseUrl:App.route.splitUrl(App.getLocation())});App.documentUrl=function(n){this.history=n;this.ignoreInitialHashChange=!0;App.window.bind({"popstate.history":$.proxy(this._popState,this),"hashchange.history":$.proxy(this._hashChange,this)})};$.extend(App.documentUrl.prototype,{clean:function(n,t){var i,r,u=App.route._isPath(n)?App.route._stripHash(n):n;return r=App.route.cleanUrl(n),i=$.extend({hash:u,url:r},t),window.history.replaceState(i,i.title||document.title,App._parentSubPage?null:r),i},hash:function(n,t){var i,u,r,f;return i=App.route.splitUrl(n),u=App.getLocation(),u.pathname+u.search==i.pathname+i.seach?r=i.hash?i.hash:i.pathname+i.search:App.route._isPath(n)?(f=App.route.splitUrl(t),r=f.pathname+f.search):r=n,r},change:function(n,t){var i,r,u,f,e;r=App.route.cleanUrl(n.pageUrl);u=this.hash(n.pageUrl,r);App.preventHashAssignPopState=!0;t&&u!==App.route._stripHash(App._parseLocation().hash)&&(this.preventNextHashChange=t);e=App.route.splitUrl(r);window.location.hash=u;i=$.extend({url:r,hash:u,title:document.title},n);App.preventHashAssignPopState=!1;$.support.pushstate&&App.allowPushState&&(f=new $.Event("popstate"),f.originalEvent={type:"popstate",state:null},this.clean(n.pageUrl,i),t||App.window.trigger(f));this.history.add(i.url,i)},_popState:function(n){var t,i;if(App.preventHashAssignPopState){App.preventHashAssignPopState=!1;n.stopImmediatePropagation();return}if(this.ignorePopState){this.ignorePopState=!1;return}if(!n.originalEvent.state&&this.history.heap.length===1&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1),t=App._parseLocation().hash,!n.originalEvent.state&&t){i=this.clean(t);this.history.add(i.url,i);n.historyState=i;return}this.history.navigate({url:(n.originalEvent.state||{}).url||t,present:function(t,i){n.historyState=$.extend({},t);n.historyState.direction=i}})},_hashChange:function(n){var i,t;if(!$.support.pushstate||!App.allowPushState){if(this.preventNextHashChange){this.preventNextHashChange=!1;n.stopImmediatePropagation();return}i=this.history;t=App._parseLocation().hash;this.history.navigate({url:t,present:function(t,i){n.hashchangeState=$.extend({},t);n.hashchangeState.direction=i},missing:function(){i.add(t,{hash:t,title:document.title})}})}}});App.History=function(n,t){this.heap=n||[];this.activeIndex=t||0};$.extend(App.History.prototype,{activeHistory:function(){return this.heap[this.activeIndex]},lastHistory:function(){return this.heap[this.previousIndex]},nextHistory:function(){return this.heap[this.activeIndex+1]},prevHistory:function(){return this.heap[this.activeIndex-1]},add:function(n,t){this.nextHistory()&&this.clearForward();this.hasHeapIndex(n)||(t=t||{},t.hash&&t.hash.indexOf("#")===-1&&(t.hash="#"+t.hash),t.url=n,this.heap.push(t),this.activeIndex=this.heap.length-1)},hasHeapIndex:function(n){var t=$.map(this.heap,function(t,i){if(t.url==n)return i})[0];return t==undefined?!1:!0},replace:function(n){App.preventHashAssignPopState=!0;location.replace(n);App.preventHashAssignPopState=!1},clearForward:function(){this.heap=this.heap.slice(0,this.activeIndex+1)},find:function(n,t,i){t=t||this.heap;for(var u,e=t.length,f,r=0;r<e;r++)if(u=t[r],(decodeURIComponent(n)===decodeURIComponent(u.url)||decodeURIComponent(n)===decodeURIComponent(u.hash))&&(f=r,i))return f;return f},navigate:function(n){var t=this.closest(n.url),i=this.activeIndex;t!==undefined&&(this.activeIndex=t,this.previousIndex=i);t<i?(n.present||n.back||$.noop)(this.activeHistory(),"back"):t>i?(n.present||n.forward||$.noop)(this.activeHistory(),"forward"):t===undefined&&n.missing&&n.missing(this.activeHistory())},closest:function(n){var t,i=this.activeIndex;return t=this.find(n,this.heap.slice(0,i)),t===undefined&&(t=this.find(n,this.heap.slice(i),!0),t=t===undefined?t:t+i),t},clearHistory:function(n){n=n?n:this.activeIndex;App._preventPop=!0;window.history.go(-n)}});App.document.bind("click",function(n){var r,u,t;for(i=0;i<ej.widget.registeredInstances.length;i++)$(ej.widget.registeredInstances[i].element).is(":visible")&&$.isFunction(ej.widget.registeredInstances[i].proto.documentClick)&&$(ej.widget.registeredInstances[i].element).data(ej.widget.registeredInstances[i].pluginName).documentClick(n);if((r=null,!n.isDefaultPrevented())&&(u=App._lookForLink(n.target),t=$(u),u&&!(n.which>1))){if(t.attr("data-ej-apprelation")=="back"){history.back();n.preventDefault();return}if(href=t.attr("href")||"#",href.indexOf("#")!=-1)if(href=href.replace(/[^#]*#/,""),href)App.route._isPath(href)?href=App.route.makeUrlAbsolute(href):(r=t.closest(".subpage").length>0?t.closest(".subpage"):t.closest(".appview"),href=App.route.makeUrlAbsolute("#"+href));else{n.preventDefault();return}var f=t.attr("data-ej-apptransition"),e=t.attr("data-ej-appdirection")==="reverse",o=t.attr("data-ej-appajax")==="false";App.enableAjax&&!o&&(App.transferPage(r,href,{transition:f?f:App.pageTransition?App.pageTransition:f,reverse:e,loadHashPage:!1}),n.preventDefault())}});App.window.on("focusin",function(){App.setWindowsTheme()})})();App.addMetaTags&&($("meta[name='description'],meta[name='author'],meta[name='viewport'],meta[name='apple-mobile-web-app-capable'],meta[charset='UTF-8'],meta[http-equiv='X-UA-Compatible']").remove(),App.head.prepend("<meta charset='UTF-8'><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' /><meta name='apple-mobile-web-app-capable' content='yes' /><meta name='description' content='syncfusion' /><meta name='author' content='syncfusion' /><meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' />"));$(function(){App.activePage||App.createAppView();ej.angular.defaultAppName=$("[ng-app]").attr("ng-app")})});