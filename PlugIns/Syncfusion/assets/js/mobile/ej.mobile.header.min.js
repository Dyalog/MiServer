/*!
*  filename: ej.mobile.header.min.js
*  version : 13.2.0.39
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./ej.mobile.core.min","./ej.mobile.application.min","./../common/ej.unobtrusive.min","./../common/ej.touch.min","./ej.mobile.button.min"],n):n()})(function(){(function(n,t){t.widget("ejmHeader","ej.mobile.Header",{_setFirst:!0,_rootCSS:"e-m-header",defaults:{hideForUnSupportedDevice:!1,leftButtonNavigationUrl:null,leftButtonImageClass:null,leftButtonImageUrl:null,rightButtonNavigationUrl:null,rightButtonImageClass:null,rightButtonImageUrl:null,title:"Title",showTitle:!0,position:"fixed",leftButtonCaption:"Back",rightButtonCaption:"Right",renderMode:"auto",theme:"auto",showLeftButton:!1,showRightButton:!1,templateId:null,android:{backButtonImageClass:null,leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},enablePersistence:!1,cssClass:"",leftButtonTap:null,rightButtonTap:null,windows:{renderDefault:!1,enableCustomText:!1,leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},flat:{leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},ios7:{leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},leftButtonStyle:"back",rightButtonStyle:"header"},dataTypes:{showTitle:"boolean",position:"enum",renderMode:"enum",theme:"enum",windows:{renderDefault:"boolean",enableCustomText:"boolean"},enablePersistence:"boolean"},_init:function(){if(App.activePage||App.createAppView(),this._id=this.element[0].id,t.setRenderMode(this),t.setTheme(this),this._caption=this.model.leftButtonCaption,this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default"),(!this.model.hideForUnSupportedDevice||this.model.hideForUnSupportedDevice&&this.model.renderMode=="ios7")&&(this._renderControl(),t.isIOSWebView())){var n=this.element.offset();(this.model.position=="fixed"||this.model.position=="normal"&&n.top==0)&&(this.element.addClass("e-m-webview-header"),this.element.find(".e-m-header-content").addClass("e-m-webview-content"))}},_renderHeaderTemplate:function(){this._templateContainer=t.buildTag("div.e-m-header-content");var n=t.getCurrentPage().find("#"+this.model.templateId);n.length?(this.element.empty(),t.destroyWidgets(n),this._template=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n):(this._template=this.element[0].innerHTML.trim(),this.element.empty());t.widget.init(this._template);this.element.append(this._templateContainer.append(this._template));(App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(this._templateContainer)},_renderDefaultHeader:function(){this._headerContainer=t.buildTag("div.e-m-header-content");this.element[0].innerHTML.trim()==""&&(this.element.append(this._headerContainer),this["_"+this.model.renderMode+"ButtonProperties"]&&this["_"+this.model.renderMode+"ButtonProperties"]())},_renderControl:function(){this._orgEle=n(this.element).clone();this.model.height>0&&n(this.element).css({height:this.model.height});this.model.width>0&&n(this.element).css({width:this.model.width});this.element.addClass("e-m-"+this.model.renderMode+" e-m-header e-m-"+this.model.position+" e-m-"+this.model.theme+" "+this.model.cssClass);this.model.templateId==null?this._renderDefaultHeader():this._renderHeaderTemplate();var t=this.element.find(".e-m-header-text");t.length==0&&!this._template&&this.model.showTitle&&this._showHeaderTitle()},_buttonProperties:function(){(this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&this._leftButtonCommon();this.model.showTitle&&this._showHeaderTitle();(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._rightButtonCommon()},_leftButtonCommon:function(){this._leftButton=t.buildTag("div.e-m-header-left");this._renderMode=this.model.renderMode;this._theme=this.model.theme;this.model.renderMode=="windows"&&(this.model.leftButtonStyle=="back"||this.model.windows.leftButtonStyle=="back")&&(this.model.leftButtonCaption="");var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this._theme};this.model.leftButtonImageClass&&(n["data-ej-contenttype"]="image",n["data-ej-imageposition"]="center",n["data-ej-imageclass"]=this.model.leftButtonImageClass,this.model.leftButtonCaption="");this._leftButtonAnchorTag=t.buildTag("a#"+this._id+"_leftbutton",this.model.leftButtonCaption,"",n);this._leftButtonStyle=this.model[this.model.renderMode].leftButtonStyle||this.model.leftButtonStyle;this.model[this.model.renderMode].leftButtonStyle=="auto"&&(this._leftButtonStyle=this.model.leftButtonStyle);this._buttons(this._leftButton,this._leftButtonAnchorTag,this.model.leftButtonTap,this._leftButtonStyle,this.model.leftButtonNavigationUrl);this.model.leftButtonImageClass&&this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header")},_rightButtonCommon:function(){this._rightButton=t.buildTag("div.e-m-header-right");this._renderMode=this.model.renderMode;var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this.model.rightButtonImageClass&&(n["data-ej-contenttype"]="image",n["data-ej-imageposition"]="center",n["data-ej-imageclass"]=this.model.rightButtonImageClass,this.model.rightButtonCaption="");this._rightButtonAnchorTag=t.buildTag("a#"+this._id+"_rightbutton",this.model.rightButtonCaption,"",n);this._rightButtonStyle=this.model[this.model.renderMode].rightButtonStyle||this.model.rightButtonStyle;this.model[this.model.renderMode].rightButtonStyle=="auto"&&(this._rightButtonStyle=this.model.rightButtonStyle);this._buttons(this._rightButton,this._rightButtonAnchorTag,this.model.rightButtonTap,this._rightButtonStyle,this.model.rightButtonNavigationUrl);this.model.rightButtonImageClass&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header")},_buttons:function(n,i,r,u,f){r!=null?r.name?i.attr("data-ej-touchend",r.name):i.attr("data-ej-touchend",r):"";u&&i.attr("data-ej-"+this._renderMode+"-style",u);f!=null&&i.attr("href",f);n.append(i);n.hasClass("e-m-header-left")?this.element.find(".e-m-header-content").prepend(n):this.element.find(".e-m-header-content").append(n);t.widget.init(n);(App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(n)},_showHeaderTitle:function(){this._titleSpan=t.buildTag("span.e-m-header-text e-m-"+this.model.theme+" e-m-user-select",this.model.renderMode=="windows"&&t.isMobile()?this.model.windows.enableCustomText?this.model.title:this.model.title.toLowerCase():this.model.title,"","");titleDiv=t.buildTag("div.e-m-header-title","","","").append(this._titleSpan);this._headerContainer.append(titleDiv);(this.model.renderMode=="ios7"||this.model.renderMode=="flat")&&this._titleSpan.text().length>18&&((this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&this._titleSpan.css("margin-left","90px"),(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._titleSpan.css("margin-right","70px"));(this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._headerContainer.find(".e-m-header-title")},_ios7ButtonProperties:function(){this._buttonProperties()},_androidButtonProperties:function(){if((this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&this.model.leftButtonImageClass==null&&(this.model.android.leftButtonStyle=="back"||this.model.leftButtonStyle=="back")&&!(this.model.android.leftButtonStyle=="normal"||this.model.android.leftButtonStyle=="header")){this._leftDiv=t.buildTag("div.e-m-header-left");this._spanTag=t.buildTag("div#"+this._id+"_leftbutton .e-m-header-button e-m-fontimage");var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._leftDiv.append(this._spanTag);this._headerContainer.prepend(this._leftDiv);this.model.android.backButtonImageClass&&(this._imageDiv=t.buildTag("div."+this.model.android.backButtonImageClass,"",{display:"table-cell",width:"43px","background-size":"35px 35px","background-position":"center","background-repeat":"no-repeat"},""),this._imageDiv.insertAfter(this._leftDiv));this._wireEvents(!1)}(this.model.showLeftButton||this.model.android.showLeftButton)&&this.model.android.leftButtonStyle!=="back"&&(this.model.android.leftButtonStyle=="normal"||this.model.leftButtonStyle=="normal"||this.model.android.leftButtonStyle=="header"||this.model.leftButtonStyle=="header"||this.model.leftButtonImageClass)&&this._leftButtonCommon();this.model.showTitle&&!this.element.find(".e-m-header-title").length&&this._showHeaderTitle();(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._rightButtonCommon()},_windowsButtonProperties:function(){this._buttonProperties()},_flatButtonProperties:function(){this._buttonProperties()},_wireEvents:function(t){this._touchStartHandler=n.proxy(this._onTouchStart,this);this._touchStopHandler=n.proxy(this._onTouchEnd,this);this._androidBindEvents(t)},_androidBindEvents:function(n){this.model.renderMode=="android"&&(this.model.android.showLeftButton||this.model.showLeftButton)&&t.listenEvents([this._leftDiv,this._leftDiv,this._imageDiv,this._imageDiv],[t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent()],[this._touchStartHandler,this._touchStopHandler,this._touchStartHandler,this._touchStopHandler],n)},_onTouchStart:function(){this.element.find(this._leftDiv).addClass("active");this.element.find(this._imageDiv).addClass("active")},_onTouchEnd:function(){this.element.find(this._leftDiv).removeClass("active");this.element.find(this._imageDiv).removeClass("active");history.back();this.model.leftButtonTap&&this._trigger("leftButtonTap")},_showLeftButton:function(n){this.model[this.model.renderMode].showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this.model.renderMode=="android"||this.model.leftButtonImageClass!=null?this._androidButtonProperties():this._leftButtonCommon()},_showAndroidLeftButton:function(n){this.model[this.model.renderMode].showLeftButton=n;this._leftDiv&&this._leftDiv[n?"show":"hide"]()},_showRightButton:function(n){this.model[this.model.renderMode].showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setShowLeftButton:function(n){this.model.showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this.model.renderMode=="android"||this.model.leftButtonImageClass!=null?this._androidButtonProperties():this._leftButtonCommon()},_setShowRightButton:function(n){this.model.showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setShowTitle:function(n){this.model.showTitle=n;this._titleSpan[n?"show":"hide"]()},_setTitle:function(n){this._titleSpan&&(this.model.title=this.model.renderMode!="windows"||this.model.windows.enableCustomText?n:n.toLowerCase(),this._titleSpan.html(this.model.title))},_setLeftButtonCaption:function(n){this.model.leftButtonCaption=n;this.element.find(this._leftButtonAnchorTag).html(n)},_setRightButtonCaption:function(n){this.model.rightButtonCaption=n;this.element.find(this._rightButtonAnchorTag).html(n)},_setLeftButtonTap:function(n){this.model.leftButtonTap=n;this.element.find(this._leftButtonAnchorTag).ejmActionlink({touchEnd:n})},_setRightButtonTap:function(n){this.model.rightButtonTap=n;this.element.find(this._rightButtonAnchorTag).ejmActionlink({touchEnd:n})},_setLeftButtonStyle:function(i){if(this.model.renderMode=="ios7"&&(this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+this.model.leftButtonStyle),this.model.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage")),this.model.renderMode=="android"&&(n(".e-m-header-left").remove(),this.model.leftButtonStyle!="back"&&this._leftButtonCommon(),this.model.leftButtonStyle=="back")){this._leftDiv=t.buildTag("div.e-m-header-left");this._spanTag=t.buildTag("div#"+this._id+"_leftbutton .e-m-header-button e-m-fontimage");var r={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._leftDiv.append(this._spanTag);this._headerContainer.prepend(this._leftDiv);this._wireEvents(!1)}this.model.renderMode=="windows"&&(n(".e-m-header-left").remove(),this._leftButtonCommon(),(this.model.windows.leftButtonStyle=="normal"||this.model.windows.leftButtonStyle=="header")&&(this._leftButtonAnchorTag.html(""),this._leftButtonAnchorTag.append(this._caption)));this.model.renderMode=="flat"&&this.model.leftButtonStyle&&(this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+this.model.leftButtonStyle),i.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage"))},_setRightButtonStyle:function(t){this.model.renderMode=="ios7"&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+this.model.rightButtonStyle);this.model.renderMode=="android"&&(n(".e-m-header-right").remove(),this._rightButtonCommon());this.model.renderMode=="windows"&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+t.rightButtonStyle);this.model.renderMode=="flat"&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+t.rightButtonStyle)},_setIos7:function(n){n.leftButtonStyle=="auto"&&(n.leftButtonStyle=this.model.leftButtonStyle);n.rightButtonStyle=="auto"&&(n.rightButtonStyle=this.model.rightButtonStyle);n.leftButtonStyle&&this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+n.leftButtonStyle);n.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage");n.rightButtonStyle&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+n.rightButtonStyle);typeof n.showLeftButton=="boolean"&&this._showLeftButton(this.model.ios7.showLeftButton);typeof n.showRightButton=="boolean"&&this._showRightButton(this.model.ios7.showRightButton)},_setAndroid:function(i){if(i.leftButtonStyle=="auto"&&(i.leftButtonStyle=this.model.leftButtonStyle),i.rightButtonStyle=="auto"&&(i.rightButtonStyle=this.model.rightButtonStyle),i.leftButtonStyle&&(n(".e-m-header-left").remove(),i.leftButtonStyle!="back"&&this._leftButtonCommon(),i.leftButtonStyle=="back")){this._leftDiv=t.buildTag("div.e-m-header-left");this._spanTag=t.buildTag("div#"+this._id+"_leftbutton .e-m-header-button e-m-fontimage");var r={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._leftDiv.append(this._spanTag);this._headerContainer.prepend(this._leftDiv);this._wireEvents(!1)}i.rightButtonStyle&&(n(".e-m-header-right").remove(),this._rightButtonCommon());typeof i.showLeftButton=="boolean"&&this._showAndroidLeftButton(this.model.android.showLeftButton);typeof i.showRightButton=="boolean"&&this._showRightButton(this.model.android.showRightButton)},_setWindows:function(t){t.leftButtonStyle=="auto"&&(t.leftButtonStyle=this.model.leftButtonStyle);t.rightButtonStyle=="auto"&&(t.rightButtonStyle=this.model.rightButtonStyle);t.leftButtonStyle&&(n(".e-m-header-left").remove(),this._leftButtonCommon(),(this.model.windows.leftButtonStyle=="normal"||this.model.windows.leftButtonStyle=="header")&&(this._leftButtonAnchorTag.html(""),this._leftButtonAnchorTag.append(this._caption)));t.rightButtonStyle&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+t.rightButtonStyle);typeof t.showLeftButton=="boolean"&&this._showLeftButton(this.model.windows.showLeftButton);typeof t.showRightButton=="boolean"&&this._showRightButton(this.model.windows.showRightButton)},_setFlat:function(n){n.leftButtonStyle=="auto"&&(n.leftButtonStyle=this.model.leftButtonStyle);n.rightButtonStyle=="auto"&&(n.rightButtonStyle=this.model.rightButtonStyle);n.leftButtonStyle&&this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+n.leftButtonStyle);n.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage");n.rightButtonStyle&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+n.rightButtonStyle);typeof n.showLeftButton=="boolean"&&this._showLeftButton(this.model.flat.showLeftButton);typeof n.showRightButton=="boolean"&&this._showRightButton(this.model.flat.showRightButton)},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),t=="renderMode"||t=="position"?r=!0:this[i]&&this[i](n[t]);r&&this._refresh()},_setTheme:function(n){this.model.theme=n;this.element.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase());this.element.find(".e-m-header-left .e-m-btn").ejmActionlink({theme:n});this.element.find(".e-m-header-right .e-m-btn").ejmActionlink({theme:n})},_refresh:function(){this._destroy();this.element.addClass("e-m-header");this._renderControl();this._wireEvents(!1)},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElement();this._wireEvents(!0)},getTitle:function(){if(this._titleSpan)return this._titleSpan.html()}});t.mobile.Header.Position={Normal:"normal",Fixed:"fixed"};t.mobile.Header.IOS7={};t.mobile.Header.IOS7.HeaderLeftButtonStyle={Auto:"auto",Back:"back",Header:"header",Normal:"normal"};t.mobile.Header.Android={};t.mobile.Header.Android.HeaderLeftButtonStyle={Auto:"auto",Back:"back",Normal:"normal",Header:"header"};t.mobile.Header.Windows={};t.mobile.Header.Windows.HeaderLeftButtonStyle={Auto:"auto",Back:"back",Normal:"normal",Header:"header"};t.mobile.Header.Flat={};t.mobile.Header.Flat.HeaderLeftButtonStyle={Auto:"auto",Back:"back",Normal:"normal",Header:"header"};t.mobile.Header.IOS7.HeaderRightButtonStyle={Auto:"auto",Header:"header",Normal:"normal"};t.mobile.Header.Android.HeaderRightButtonStyle={Auto:"auto",Normal:"normal",Header:"header"};t.mobile.Header.Windows.HeaderRightButtonStyle={Auto:"auto",Normal:"normal",Header:"header"};t.mobile.Header.Flat.HeaderRightButtonStyle={Auto:"auto",Header:"header",Normal:"normal"};t.mobile.Header.HeaderLeftButtonStyle={Back:"back",Header:"header",Normal:"normal"};t.mobile.Header.HeaderRightButtonStyle={Header:"header",Normal:"normal"}})(jQuery,Syncfusion)});