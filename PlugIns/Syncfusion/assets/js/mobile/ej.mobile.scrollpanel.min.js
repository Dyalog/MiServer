/*!
*  filename: ej.mobile.scrollpanel.min.js
*  version : 12.2.0.36
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function Scrollbar(n,t){this._wrapper=typeof t.el=="string"?document.querySelector(t.el):t.el;this._sb=this._wrapper.children[0];this._sbStyle=this._sb.style;this.scroller=n;this.model={listenX:!0,listenY:!0,enableInteraction:!1,enableResize:!0,enableShrink:!1,enableFade:!1,speedRatioX:0,disableTouch:!1,speedRatioY:0,ignoreBoundaries:!1};for(var i in t)this.model[i]=t[i];this._sizeRatioX=1;this._sizeRatioY=1;this._maxPosX=0;this._maxPosY=0;this.model.enableFade&&(this._sbStyle[ej.transform]=this.scroller.model.translateZ,this._sbStyle[ej.transitionDuration]=ej.isLowerAndroid()?"0.001s":"0ms",this._sbStyle.opacity="0");this._createDelegates();this._wireEvents()}Scrollbar.prototype={_createDelegates:function(){this._touchStartDelegate=$.proxy(this._touchStart,this);this._touchMoveDelegate=$.proxy(this._touchMove,this);this._touchEndDelegate=$.proxy(this._touchEnd,this)},_wireEvents:function(n){target=this.scroller.model.bindToWrapper?this.scroller._wrapper:window;$.support.hasTouch&&!this.model.disableTouch&&ej._listenEvents([this.scroller._wrapper,target,target],["touchstart","touchcancel","touchend"],[this._scrollStartDelegate,this.scrollEndDelegate,this.scrollEndDelegate],n);this.model.enableInteraction&&(this.model.disableTouch||ej._listenEvents([this._sb._wrapper,window,window],["touchstart","touchcancel","touchend"],[this._touchStartDelegate,this._touchEndDelegate,this._touchEndDelegate],n),this.model.disablePointer||ej._listenEvents([this._sb._wrapper,window],["MSPointerDown","MSPointerUp"],[this._touchStartDelegate,this._touchEndDelegate],n),this.model.disableMouse||ej._listenEvents([this._sb._wrapper,window],["mousedown","mouseup"],[this._touchStartDelegate,this._touchEndDelegate],n))},_touchStart:function(n){var t=n.touches?n.touches[0]:n;ej.blockDefaultActions(n);this.transitionTime();this._startedScroll=!0;this._moved=!1;this._lastPointX=t.pageX;this._lastPointY=t.pageY;this._startTime=ej.getTime();this.model.disableTouch||ej._listenTouchEvent(window,"touchmove",this._touchMoveDelegate);this.model.disablePointer||ej._listenTouchEvent(window,"MSPointerMove",this._touchMoveDelegate);this.model.disableMouse||ej._listenTouchEvent(window,"mousemove",this._touchMoveDelegate)},_touchMove:function(n){ej.blockDefaultActions(n);var t=n.touches?n.touches[0]:n,i,r,u,f,e=ej.getTime();this._moved||this.scroller._triggerEvent("scrollStart");this._moved=!0;i=t.pageX-this._lastPointX;this._lastPointX=t.pageX;r=t.pageY-this._lastPointY;this._lastPointY=t.pageY;u=this._x+i;f=this._y+r;this._pos(u,f)},_touchEnd:function(n){if(this._startedScroll){if(this._startedScroll=!1,ej.blockDefaultActions(n),ej._listenEvents([window,window,window],["touchmove","MSPointerMove","mousemove"],[this._touchMoveDelegate,this._touchMoveDelegate,this._touchMoveDelegate],!0),this.scroller.model.snap){var t=this.scroller._nearestSnap(this.scroller._x,this.scroller._y),i=this.model.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller._x-t.x),1e3),Math.min(Math.abs(this.scroller._y-t.y),1e3)),300);(this.scroller._x!=t.x||this.scroller._y!=t.y)&&(this.scroller._directionX=0,this.scroller._directionY=0,this.scroller._currentPage=t,this.scroller.scrollTo(t.x,t.y,i,this.scroller.model.bounceEasing))}this._moved&&this.scroller._triggerEvent("scrollEnd")}},_pos:function(n,t){n<0?n=0:n>this._maxPosX&&(n=this._maxPosX);t<0?t=0:t>this._maxPosY&&(t=this._maxPosY);n=this.model.listenX?Math.round(n/this._sizeRatioX):this.scroller._x;t=this.model.listenY?Math.round(t/this._sizeRatioY):this.scroller._y;this.scroller.scrollTo(n,t)},enableFade:function(n,t){if(!t||this._visible){clearTimeout(this._fadeTimeout);this._fadeTimeout=null;var r=n?250:500,i=this,u=n?0:300;n=n?"1":"0";this._sbStyle[ej.transitionDuration]=r+"ms";this._fadeTimeout=setTimeout(function(n){i._sbStyle.opacity=n;i._visible=+n}.bind(this,n),u)}},destroy:function(){this.model.enableInteraction&&this._wireEvents(!0)},transitionTime:function(n){n=n||0;this._sbStyle[ej.transitionDuration]=n+"ms";!n&&ej.isLowerAndroid()&&(this._sbStyle[ej.transitionDuration]="0.001s")},transitionTimingFunction:function(n){this._sbStyle[ej.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this._sbStyle.display=this.model.listenX&&!this.model.listenY?this.scroller._hasHScroll?"block":"none":this.model.listenY&&!this.model.listenX?this.scroller._hasVScroll?"block":"none":this.scroller._hasHScroll||this.scroller._hasVScroll?"block":"none";this.model.listenX&&(this._wrpWd=this._wrapper.clientWidth,this.model.enableResize?(this._sbWidth=Math.max(Math.round(this._wrpWd*this._wrpWd/(this.scroller._scrollerWidth||this._wrpWd||1)),8),this._sbStyle.width=this._sbWidth+"px"):this._sbWidth=this._sb.clientWidth,this._maxPosX=this._wrpWd-this._sbWidth,this.model.enableShrink=="clip"?(this._minBoundaryX=-this._sbWidth+8,this._maxBoundaryX=this._wrpWd-8):(this._minBoundaryX=0,this._maxBoundaryX=this._maxPosX),this._sizeRatioX=this.model.speedRatioX||this.scroller._maxScrollX&&this._maxPosX/this.scroller._maxScrollX);this.model.listenY&&(this._wrpHt=this._wrapper.clientHeight,this.model.enableResize?(this._sbHeight=Math.max(Math.round(this._wrpHt*this._wrpHt/(this.scroller._scrollerHeight||this._wrpHt||1)),8),this._sbStyle.height=this._sbHeight+"px"):this._sbHeight=this._sb.clientHeight,this._maxPosY=this._wrpHt-this._sbHeight,this.model.enableShrink=="clip"?(this._minBoundaryY=-this._sbHeight+8,this._maxBoundaryY=this._wrpHt-8):(this._minBoundaryY=0,this._maxBoundaryY=this._maxPosY),this._sizeRatioY=this.model.speedRatioY||this.scroller._maxScrollY&&this._maxPosY/this.scroller._maxScrollY);this.setPosition()},setPosition:function(){var n=this.model.listenX&&Math.round(this._sizeRatioX*this.scroller._x)||0,i=this,t=this.model.listenY&&Math.round(this._sizeRatioY*this.scroller._y)||0;this.model.ignoreBoundaries||(n<this._minBoundaryX?(this.model.enableShrink=="scale"&&(this._width=Math.max(this._sbWidth+n,8),this._sbStyle.width=this._width+"px"),n=this._minBoundaryX):n>this._maxBoundaryX?this.model.enableShrink=="scale"?(this._width=Math.max(this._sbWidth-(n-this._maxPosX),8),this._sbStyle.width=this._width+"px",n=this._maxPosX+this._sbWidth-this.width):n=this._maxBoundaryX:this.model.enableShrink=="scale"&&this._width!=this._sbWidth&&(this._width=this._sbWidth,this._sbStyle.width=this._width+"px"),t<this._minBoundaryY?(this.model.enableShrink=="scale"&&(this._height=Math.max(this._sbHeight+t*3,8),this._sbStyle.height=this._height+"px"),t=this._minBoundaryY):t>this._maxBoundaryY?this.model.enableShrink=="scale"?(this._height=Math.max(this._sbHeight-(t-this._maxPosY)*3,8),this._sbStyle.height=this._height+"px",t=this._maxPosY+this._sbHeight-this._height):t=this._maxBoundaryY:this.model.enableShrink=="scale"&&this._height!=this._sbHeight&&(this._height=this._sbHeight,this._sbStyle.height=this._height+"px"));$(this._wrapper).hasClass("e-m-ver")?n=0:t=0;this._x=n;this._y=t;this.scroller.model.allowTransform?this._sbStyle[ej.transform]="translate("+n+"px,"+t+"px)"+this.scroller.model.translateZ:(this._sbStyle.left=n+"px",this._sbStyle.top=t+"px")}},function(n,t,i){nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,1)}}();cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();t.widget("ejmScrollPanel","ej.mobile.ScrollPanel",{_setFirst:!0,_rootCSS:"e-m-scroll",defaults:{renderMode:"auto",theme:"auto",enableResize:!0,targetHeight:null,targetWidth:null,scrollHeight:null,scrollWidth:null,enableFade:!0,enableShrink:t.isWindows()?!1:"scale",autoAdjustHeight:!0,isRelative:!0,wheelSpeed:16,enableInteraction:!0,enabled:!0,checkDOMChanges:!1,enableHrScroll:t.isWindows()&&!t.isMobile()?!0:!1,enableVrScroll:!0,eventPassthrough:i,translateZ:t.browserInfo().name=="msie"?"":n.support.has3d?" translateZ(0)":"",zoomMin:1,zoomMax:6,adjustFixedPosition:!0,startZoom:1,startX:0,startY:0,enableDisplacement:!1,displacementValue:94,displacementTime:800,deceleration:i,disablePointer:!1,disableMouse:!1,disableTouch:!1,directionLockThreshold:5,momentum:!0,enableBounce:t.isAndroid()?!1:!0,bounceTime:450,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},enableTransition:!0,enableTransform:!0,showScrollbars:!0,enableMouseWheel:!0,enableKeys:!0,enableZoom:!1,enableNativeScrolling:t.isAndroid()&&t.isLowerAndroid()||t.isWindows()&&t.isMobile()||t.isIOS7()?!1:t.isDevice()||t.isWindows()&&!t.isMobile()?!0:!1,invertWheel:!1,enablePersistence:!1,scrollStart:i,scroll:i,scrollEnd:i,zoomStart:i,zoomEnd:i},dataTypes:{},_init:function(){if(t.setRenderMode(this),t.setTheme(this),this.model.enableDisplacement&&t.isWindows()&&(this.model.deceleration=6e-5),this._eventType={touchstart:1,touchmove:1,touchend:1,ejtouchmove:3,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3,pointerdown:3,pointermove:3,pointerup:3},this._events={scrollEnd:[this.model.scrollEnd],scroll:[this.model.scroll],scrollStart:[this.model.scrollStart],zoomStart:[this.model.zoomStart],zoomEnd:[this.model.zoomEnd]},this._scale=Math.min(Math.max(this.model.startZoom,this.model.zoomMin),this.model.zoomMax),this._wrapper=typeof this.model.target=="string"?n("#"+this.model.target)[0]:this.model.target,this._scroller=this._wrapper.children[0],this._aniTime=null,this._createDelegates(),this._wireEvents(),this._$wrapper=n(this._wrapper),n(this._wrapper).addClass("e-m-scrollpanel"),n(this.element).addClass("e-m-scroll"),this.model.enableNativeScrolling)this.refresh(),this._$wrapper.addClass("e-m-scroll-native e-m-scroll-wrapper"),(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&n(this._scroller).addClass("e-m-scroll-content"),(this._hasVScroll||this._maxScrollY!=0)&&(this._hasHScroll||this._maxScrollX!=0||this.model.renderMode!="ios7")&&this.model.renderMode!="android"||this._$wrapper.addClass("e-m-scroll-box"),this.model.showScrollbars||this._$wrapper.addClass("e-m-scroll-hide"),this.model.enableZoom||this._$wrapper.addClass("e-m-zoom");else{var i=this;n(this._wrapper).css("overflow","hidden");this._scrollerStyle=this._scroller.style;this.model.enableTransition=n.support.hasTransition&&this.model.enableTransition;this.model.enableTransform=n.support.hasTransform&&this.model.enableTransform;this.model.eventPassthrough=this.model.eventPassthrough===!0?"vertical":this.model.eventPassthrough;this.model.preventDefault=!this.model.eventPassthrough&&this.model.preventDefault;this.model.enableVrScroll=this.model.eventPassthrough=="vertical"?!1:this.model.enableVrScroll;this.model.enableHrScroll=this.model.eventPassthrough=="horizontal"?!1:this.model.enableHrScroll;this.model.directionLockThreshold=this.model.eventPassthrough?0:this.model.directionLockThreshold;this.model.invertWheel=this.model.invertWheel?-1:1;this.model.isRelative&&n(this._wrapper).css("position","relative");this._x=0;this._y=0;this._directionX=0;this._directionY=0;this._startX=0;this._startY=0;this.model.enableZoom&&(this._scrollerStyle[t.transformOrigin]="0 0");this.model.showScrollbars&&this._initScrollbars();this.model.enableMouseWheel&&this._initWheel();this.model.enableKeys&&this._initKeys();this.refresh();this.scrollTo(this.model.startX,this.model.startY);this.model.checkDOMChanges&&(this._checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))}},_dataValue:function(){return data={x:this.model.enableNativeScrolling?this._nx:this._x,y:this.model.enableNativeScrolling?this._ny:this._y,object:this}},_transitionEnd:function(n){n.target==this._scroller&&this._isInTransition&&(this._transitionTime(),this.resetPosition(this.model.bounceTime)||(this._isInTransition=!1,this._moved=!1,this._triggerEvent("scrollEnd",this._dataValue())))},_touchStart:function(i){if(!(n(i.target).parents(".e-m-scrollpanel").length>1)||n(i.target).closest(".e-m-scrollpanel")[0]==this._wrapper){var r=i.touches?i.touches[0]:i,u;if(t._listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler,this._touchEndHandler],!1,this.model.disableMouse),this.model.enableNativeScrolling){this._moved=!1;(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&(startY=r.pageY,startTopScroll=this._wrapper.scrollTop,startTopScroll<=0&&(this._wrapper.scrollTop=1),startTopScroll+this._wrapper.offsetHeight>=this._wrapper.scrollHeight&&(this._wrapper.scrollTop=this._wrapper.scrollHeight-this._wrapper.offsetHeight-1));return}(this._eventType[i.type]==1||i.button===0)&&this.model.enabled&&(!this._startedScroll||this._eventType[i.type]===this._startedScroll)&&(!this.model.preventDefault||t.isDevice()||this.preventDefaultException(i.target,this.model.preventDefaultException)||i.preventDefault(),this.model.preventDefault&&this._moved&&t.blockDefaultActions(i),this._startedScroll=this._eventType[i.type],this._distX=0,this._distY=0,this._directionX=0,this._directionY=0,this._lockedDir=0,this._transitionTime(),this._startTime=this.getTime(),this.model.enableTransition&&this._isInTransition?(this._isInTransition=!1,u=this.getComputedPosition(),this._translate(Math.round(u.x),Math.round(u.y)),this._triggerEvent("scrollEnd",this._dataValue())):!this.model.enableTransition&&this._animating&&(cancelFrame(this._aniTime),this._steps=[],this._animating=!1,this._translate(this._wrapper.scrollLeft,this._wrapper.scrollTop),this._triggerEvent("scrollEnd",this._dataValue())),this._moved=!1,this._startX=this._x,this._startY=this._y,this._absStartX=this._x,this._absStartY=this._y,this._pointX=r.pageX,this._pointY=r.pageY,this.model.enableZoom&&i.touches&&i.touches.length>1&&this._zoomStart(i))}},_scrollStart:function(){this._moved=!1;this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scrollStart",this._dataValue())},_touchMove:function(n){if(!this.model.enableNativeScrolling&&this.model.enabled&&this._eventType[n.type]===this._startedScroll){if(this.model.preventDefault&&n.preventDefault(),this.model.enableZoom&&n.touches&&n.touches[1]){this._zoom(n);return}var f=n.touches?n.touches[0]:n,t=f.pageX-this._pointX,i=f.pageY-this._pointY,s=this.getTime(),r,u,e,o;if(this._pointX=f.pageX,this._pointY=f.pageY,this._distX+=t,this._distY+=i,e=Math.abs(this._distX),o=Math.abs(this._distY),!(s-this._endTime>300)||!(e<10)||!(o<10)){if(this._lockedDir||(this._lockedDir=e>o+this.model.directionLockThreshold?"horizontal":o>=e+this.model.directionLockThreshold?"vertical":"none"),this._lockedDir=="horizontal"){if(this.model.eventPassthrough=="vertical")n.preventDefault();else if(this.model.eventPassthrough=="horizontal"){this._startedScroll=!1;return}i=0}else if(this._lockedDir=="vertical"){if(this.model.eventPassthrough=="horizontal")n.preventDefault();else if(this.model.eventPassthrough=="vertical"){this._startedScroll=!1;return}t=0}t=this.model.enableHrScroll||this._hasHScroll?t:0;i=this.model.enableVrScroll||this._hasVScroll?i:0;r=this._x+t;u=this._y+i;(r>0||r<this._maxScrollX)&&(r=this.model.enableBounce?this._x+t/3:r>0?0:this._maxScrollX);(u>0||u<this._maxScrollY)&&(u=this.model.enableBounce?this._y+i/3:u>0?0:this._maxScrollY);this._directionX=t>0?-1:t<0?1:0;this._directionY=i>0?-1:i<0?1:0;this._moved||this._triggerEvent("scrollStart",this._dataValue());this._moved=!0;this._translate(r,u);s-this._startTime>300&&(this._startTime=s,this._startX=this._x,this._startY=this._y);this._moved&&this._triggerEvent("scroll",this._dataValue())}}},_scroll:function(){this._moved=!0;this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scroll",this._dataValue())},_touchEnd:function(n){if(t._listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler,this._touchEndHandler],!0,this.model.disableMouse),this.model.enabled&&this._eventType[n.type]===this._startedScroll){if(!this.model.preventDefault||t.isDevice()||this.preventDefaultException(n.target,this.model.preventDefaultException)||n.preventDefault(),this.model.enableNativeScrolling&&this._moved){t.blockDefaultActions(n);this._moved=!1;return}if(this._scaled){this._zoomEnd(n);return}var h=n.changedTouches?n.changedTouches[0]:n,f,e,o=this.getTime()-this._startTime,i=Math.round(this._x),r=Math.round(this._y),c=Math.abs(i-this._startX),l=Math.abs(r-this._startY),u=0,s="";if(this._isInTransition=0,this._startedScroll=0,this._endTime=this.getTime(),!this.resetPosition(this.model.bounceTime)){if(this.model.momentum&&o<500&&(f=this._hasHScroll?t._nativeMomentum(this._x,this._startX,o,this._maxScrollX,this.model.enableBounce?this._wrpWd:0,this.model.deceleration,t.isWindows()?10:1):{dest:i,duration:0},e=this._hasVScroll?t._nativeMomentum(this._y,this._startY,o,this._maxScrollY,this.model.enableBounce?this._wrpHt:0,this.model.deceleration,t.isWindows()?10:1):{dest:r,duration:0},i=f.dest,r=e.dest,u=Math.max(f.duration,e.duration),this._isInTransition=1),this.model.displacementValue&&this.model.enableDisplacement&&(r=this.model.displacementValue*Math.round(r/this.model.displacementValue),i=this.model.displacementValue*Math.round(i/this.model.displacementValue),u<this.model.displacementTime&&(u=this.model.diplacementTime)),r<this._maxScrollY&&(r=this._maxScrollY),i<this._maxScrollX&&(i=this._maxSCrollX),i!=this._x||r!=this._y){(i>0||i<this._maxScrollX||r>0||r<this._maxScrollY)&&(s=t.ease.quadratic);this.scrollTo(i,r,u,s);return}this._moved=!1;this._triggerEvent("scrollEnd",this._dataValue())}}},_scrollStop:function(){this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scrollEnd",this._dataValue())},_zoomStart:function(n){var t=Math.abs(n.touches[0].pageX-n.touches[1].pageX),i=Math.abs(n.touches[0].pageY-n.touches[1].pageY);this._touchesDistanceStart=Math.sqrt(t*t+i*i);this._startScale=this._scale;this._originX=Math.abs(n.touches[0].pageX+n.touches[1].pageX)/2+this._wrapperOffset.left-this._x;this._originY=Math.abs(n.touches[0].pageY+n.touches[1].pageY)/2+this._wrapperOffset.top-this._y;this._triggerEvent("zoomStart",this._dataValue())},_zoom:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){this.model.preventDefault&&n.preventDefault();var r=Math.abs(n.touches[0].pageX-n.touches[1].pageX),u=Math.abs(n.touches[0].pageY-n.touches[1].pageY),o=Math.sqrt(r*r+u*u),t=1/this._touchesDistanceStart*o*this._startScale,i,f,e;this._scaled=!0;t<this.model.zoomMin?t=.5*this.model.zoomMin*Math.pow(2,t/this.model.zoomMin):t>this.model.zoomMax&&(t=2*this.model.zoomMax*Math.pow(.5,this.model.zoomMax/t));i=t/this._startScale;f=this._originX-this._originX*i+this._startX;e=this._originY-this._originY*i+this._startY;this._scale=t;this.scrollTo(f,e,0)}},_zoomEnd:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){this.model.preventDefault&&n.preventDefault();var t,i,r;this._isInTransition=0;this._startedScroll=0;this._scale>this.model.zoomMax?this._scale=this.model.zoomMax:this._scale<this.model.zoomMin&&(this._scale=this.model.zoomMin);this.refresh();r=this._scale/this._startScale;t=this._originX-this._originX*r+this._startX;i=this._originY-this._originY*r+this._startY;t>0?t=0:t<this._maxScrollX&&(t=this._maxScrollX);i>0?i=0:i<this._maxScrollY&&(i=this._maxScrollY);(this._x!=t||this._y!=i)&&this.scrollTo(t,i,this.model.bounceTime);this._scaled=!1;this._triggerEvent("zoomEnd",this._dataValue())}},_resize:function(){if(n(this.element).is(":visible")){var i=this;clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(function(){i.refresh()},t.isAndroid()?200:0)}},_checkDOMChanges:function(){this._moved||this._animating||this._scrollerWidth==this._scroller.scrollWidth*this._scale&&this._scrollerHeight==this._scroller.scrollHeight*this._scale||(this.model.isFixedPosition=!1,this.refresh())},_scrollable:function(){return n(this._wrapper).map(function(){var t=this,r=!t.nodeName||n.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1,i;return r?(i=(t.contentWindow||t).document||t.ownerDocument||t,/webkit/i.test(navigator.userAgent)||i.compatMode=="BackCompat"?i.body:i.documentElement):t})},_both:function(t){return n.isFunction(t)||typeof t=="object"?t:{top:t,left:t}},_scrollTo:function(t,i,r){var u=this;return typeof i=="object"&&(r=i,i=0),typeof r=="function"&&(r={onAfter:r}),t=="max"&&(t=9e9),r=n.extend({},{axis:"xy",duration:0,limit:!0},r),i=i||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(i/=2),r.offset=this._both(r.offset),r.over=this._both(r.over),this._scrollable().each(function(){function l(n){s.animate(e,i,r.easing,n&&function(){n.call(this,f,r)})}var c;if(t!=null){var o=this,s=n(o),f=t,h,e={},a=s.is("html,body");switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=this._both(f);break}if(f=n(f,this),!f.length)return;case"object":(f.is||f.style)&&(h=(f=n(f)).offset())}c=n.isFunction(r.offset)&&r.offset(o,f)||r.offset;n.each(r.axis.split(""),function(n,t){var p=t=="x"?"Left":"Top",v=p.toLowerCase(),i="scroll"+p,w=o[i],b=u._scrollToMax(o,t),y;h?(e[i]=h[v]+(a?0:w-s.offset()[v]),r.margin&&(e[i]-=parseInt(f.css("margin"+p))||0,e[i]-=parseInt(f.css("border"+p+"Width"))||0),e[i]+=c[v]||0,r.over[v]&&(e[i]+=f[t=="x"?"width":"height"]()*r.over[v])):(y=f[v],e[i]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*b:y);r.limit&&/^\d+$/.test(e[i])&&(e[i]=e[i]<=0?0:Math.min(e[i],b));!n&&r.queue&&(w!=e[i]&&l(r.onAfterFirst),delete e[i])});l(r.onAfter)}}).end()},_scrollToMax:function(t,i){var r=i=="x"?"Width":"Height",u="scroll"+r;if(!n(t).is("html,body"))return t[u]-n(t)[r.toLowerCase()]();var f="client"+r,e=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(e[u],o[u])-Math.min(e[f],o[f])},_transitionTime:function(n){if((!t.getAndroidVersion()||!(t.getAndroidVersion()<=4))&&(n=n||0,this._scrollerStyle[t.transitionDuration]=n+"ms",this._scrollbars))for(var i=this._scrollbars.length;i--;)this._scrollbars[i].transitionTime(n)},_transitionTimingFunction:function(n){if(this._scrollerStyle[t.transitionTimingFunction]=n,this._scrollbars)for(var i=this._scrollbars.length;i--;)this._scrollbars[i].transitionTimingFunction(n)},_translate:function(i,r){if(this.model.enableTransform?this._scrollerStyle[t.transform]="translate("+i+"px,"+r+"px) scale("+this._scale+")"+this.model.translateZ:(n(this._wrapper).scrollTop(Math.abs(r)),n(this._wrapper).scrollLeft(Math.abs(i))),this._x=i,this._y=this.model.enableTransform?r:-Math.abs(r),this._scrollbars)for(var u=this._scrollbars.length;u--;)this._scrollbars[u].setPosition()},_createDelegates:function(){this._resizeHandler=n.proxy(this._resize,this);this._touchStartHandler=n.proxy(this._touchStart,this);this._touchMoveHandler=n.proxy(this._touchMove,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._transitionEndHandler=n.proxy(this._transitionEnd,this);this._scrollStartHandler=n.proxy(this._scrollStart,this);this._scrollHandler=n.proxy(this._scroll,this);this._scrollStopHandler=n.proxy(this._scrollStop,this);this._wheelDelegate=n.proxy(this._wheel,this)},_isWinrt:function(){return!this.model.enableTransform&&t.isWindows()&&!t.isMobile()},_wireEvents:function(i){var r=i?"off":"on",u=!t.isDevice()&&!t.isTouchDevice()?"resize":"orientationchange";t._listenEvents([window],[u],[this._resizeHandler],i);this.model.disableTouch||t._listenEvents([this._wrapper],[t.startEvent()],[this._touchStartHandler],i,this.model.disableMouse);this.model.native&&(n(this._wrapper)[r]("scrollstart",this._scrollStartHandler),n(this._wrapper)[r]("scroll",this._scrollHandler),n(this._wrapper)[r]("scrollstop",this._scrollStopHandler));t._listenTouchEvent(this._scroller,t.transitionEndEvent(),this._transitionEndHandler,i)},_initScrollbars:function(){var i=this.model.enableInteraction,n=[],t,r;for(this._scrollbars=[],this.model.showScrollbars&&(this.model.enableVrScroll&&(t={el:this.createDefaultScrollbar("vertical",i,this.model.showScrollbars),enableInteraction:i,enableShrink:this.model.enableShrink,enableFade:this.model.enableFade,enableResize:this.model.enableResize,listenX:!1},this._wrapper.appendChild(t.el),n.push(t)),this.model.enableHrScroll&&(t={el:this.createDefaultScrollbar("horizontal",i,this.model.showScrollbars),enableInteraction:i,enableShrink:this.model.enableShrink,enableFade:this.model.enableFade,enableResize:this.model.enableResize,listenY:!1},this._wrapper.appendChild(t.el),n.push(t))),this.model.showScrollbars&&(n=n.concat()),r=n.length;r--;)this._scrollbars[r]=new Scrollbar(this,n[r]);if(this.model.enableFade){this.on("scrollEnd",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade()});this.on("scrollCancel",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade()});this.on("scrollStart",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade(1)})}this.on("refresh",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].refresh()});this.on("destroy",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].destroy();delete this._scrollbars})},_triggerEvent:function(n,t){if(this._events[n]){var i=0,r=this._events[n].length;if(r)for(;i<r;i++)this._triggerInternalEvent(this._events[n][i],n,t,this)}},_triggerInternalEvent:function(i,r,u){if(i){var f=i;return typeof f=="string"&&(f=t.util.getObject(f,window)),r=n.Event(r),r.type=i,args=t.event(r,this.model,u),!(n.isFunction(f)&&f.call(this,args)===!1||r.isDefaultPrevented())}},_initWheel:function(){var n=this;this._bindWheelEvents();this.on("destroy",function(){n._bindWheelEvents(remove)})},_bindWheelEvents:function(n){t._listenEvents([this._wrapper,this._wrapper],["mouseWheel","DOMMouseScroll"],[this._wheelDelegate,this._wheelDelegate],n)},_wheel:function(n){if(this.model.enabled){n.preventDefault();var r,t,u,f,e=this;if(this.wheelTimeout===i&&this._triggerEvent("scrollStart",this._dataValue()),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._triggerEvent("scrollEnd",e._dataValue())},400),"deltaX"in n)r=-n.deltaX,t=-n.deltaY;else if("wheelDeltaX"in n)r=n.wheelDeltaX/120,t=n.wheelDeltaY/120;else if("wheelDelta"in n)r=t=n.wheelDelta/120;else if("detail"in n)r=t=-n.detail/3;else return;r*=this.model.wheelSpeed;t*=this.model.wheelSpeed;this._hasVScroll||(r=t,t=0);u=this._x+Math.round(this._hasHScroll?r*this.model.invertWheel:0);f=this._y+Math.round(this._hasVScroll?t*this.model.invertWheel:0);u>0?u=0:u<this._maxScrollX&&(u=this._maxScrollX);f>0?f=0:f<this._maxScrollY&&(f=this._maxScrollY);this.scrollTo(u,f,0)}},_initKeys:function(){var u={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i,r;if(typeof this.model.enableKeys=="object")for(i in this.model.enableKeys)typeof this.model.enableKeys[i]=="string"&&(this.mdoel.enableKeys[i]=this.model.enableKeys[i].toUpperCase().charCodeAt(0));else this.model.enableKeys={};for(i in u)this.model.enableKeys[i]=this.model.enableKeys[i]||u[i];r=n.proxy(this._keyPress,this);t._listenTouchEvent(window,"keydown",r);this.on("destroy",function(){t._listenTouchEvent(window,"keydown",r,!0)})},_startAni:function(){var n=this,i=this._startX,r=this._startY,e=Date.now(),t,u,f,n=this;if(!this._animating){if(!this._steps.length){this.resetPosition(400);return}t=this._steps.shift();t.x==i&&t.y==r&&(t.time=0);this._animating=!0;this._moved=!0;f=function(){var o=Date.now(),s,h;if(o>=e+t.time){n._translate(t.x,t.y);n._animating=!1;n._moved=!1;n.model.scrollEnd&&n._triggerEvent("scrollEnd",n._dataValue());n._startAni();return}o=(o-e)/t.time-1;u=Math.sqrt(1-o*o);s=(t.x-i)*u+i;h=(t.y-r)*u+r;n._translate(s,h);n._animating&&(n._aniTime=nextFrame(f))};f()}},_keyPress:function(n){if(this.model.enabled){var i=this._x,r=this._y,f=t.getTime(),e=this._keyTime||0,u;this.model.enableTransition&&this._isInTransition&&(u=this.getComputedPosition(),this._translate(Math.round(u.x),Math.round(u.y)),this._isInTransition=!1);this._keyAcc=f-e<200?Math.min(this._keyAcc+.25,50):0;switch(n.keyCode){case this.model.enableKeys.pageUp:this._hasHScroll&&!this._hasVScroll?i+=this._wrpWd:r+=this._wrpHt;break;case this.model.enableKeys.pageDown:this._hasHScroll&&!this._hasVScroll?i-=this._wrpWd:r-=this._wrpHt;break;case this.model.enableKeys.end:i=this._maxScrollX;r=this._maxScrollY;break;case this.model.enableKeys.home:i=0;r=0;break;case this.model.enableKeys.left:i+=5+this._keyAcc>>0;break;case this.model.enableKeys.up:r+=5+this._keyAcc>>0;break;case this.model.enableKeys.right:i-=5+this._keyAcc>>0;break;case this.model.enableKeys.down:r-=5+this._keyAcc>>0;break;default:return}i>0?(i=0,this.keyAcceleration=0):i<this._maxScrollX&&(i=this._maxScrollX,this._keyAcc=0);r>0?(r=0,this._keyAcc=0):r<this._maxScrollY&&(r=this._maxScrollY,this._keyAcc=0);this.scrollTo(i,r,0);this._keyTime=f}},_setModel:function(){this._refresh()},_refresh:function(){this._destroy();this._init();this._wireEvents()},_clearElement:function(){this._sbw&&this._sbw.remove();this.element.removeAttr("class");var t=typeof this.model.target=="string"?n("#"+this.model.target)[0]:this.model.target;n(t).removeAttr("style");n(n(t).children()[0]).removeAttr("style")},_destroy:function(){this._wireEvents(!0);this._clearElement()},getTime:function(){return Date.now()},getComputedPosition:function(){var n=window.getComputedStyle(this.model.scroller,null),i,r;return this.model.enableTransform?(n=n[t.transform].split(")")[0].split(", "),i=+(n[12]||n[4]),r=+(n[13]||n[5])):(i=+n.left.replace(/[^-\d]/g,""),r=+n.top.replace(/[^-\d]/g,"")),{x:i,y:r}},preventDefaultException:function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},zoom:function(n,t,r,u){if(n<this.model.zoomMin?n=this.model.zoomMin:n>this.model.zoomMax&&(n=this.model.zoomMax),n!=this._scale){var f=n/this._scale;t=t===i?this._wrpWd/2:t;r=r===i?this._wrpHt/2:r;u=u===i?300:u;t=t+this._wrapperOffset.left-this._x;r=r+this._wrapperOffset.top-this._y;t=t-t*f+this._x;r=r-r*f+this._y;this._scale=n;this.refresh();t>0?t=0:t<this._maxScrollX&&(t=this._maxScrollX);r>0?r=0:r<this._maxScrollY&&(r=this._maxScrollY);this.scrollTo(t,r,u)}},resetPosition:function(n){if(!this.model.enableNativeScrolling&&this.model.enableTransform){var t=this._x,i=this._y;return(n=n||0,!this._hasHScroll||this._x>0?t=0:this._x<this._maxScrollX&&(t=this._maxScrollX),!this._hasVScroll||this._y>0?i=0:this._y<this._maxScrollY&&(i=this._maxScrollY),t==this._x&&i==this._y)?!1:(this.scrollTo(t,i,n,this.model.bounceEasing),!0)}},disable:function(){this.model.enabled=!1},enable:function(){this.model.enabled=!0},refresh:function(){var r=this._wrapper.offsetHeight,i=t.getCurrentPage();this.model.adjustFixedPosition&&(i.find(".e-m-header.e-m-fixed").length&&(n(this._wrapper).offset().top==0&&n(this._wrapper).css("margin-top",i.find(".e-m-header.e-m-fixed").height()),this.model.isFixedPosition=!0,this._footerHeight=0),i.find(".e-m-tb.e-m-android.e-m-fixed").length>0&&(n(this._wrapper).offset().top==0&&n(this._wrapper).css("margin-top",i.find(".e-m-tb.e-m-android.e-m-fixed").height()),this.model.isFixedPosition=!0,this._footerHeight=0),i.find(".e-m-footer.e-m-fixed").length>0&&(this._footerHeight=i.find(".e-m-footer.e-m-fixed").height(),this.model.isFixedPosition=!0),i.find(".e-m-tab.e-m-ios7.e-m-fixed").length>0?(this._footerHeight=i.find(".e-m-fixed.e-m-tab").height(),this.model.isFixedPosition=!0):i.find(".e-m-tab.e-m-fixed").length&&(n(this._wrapper).offset().top==0&&n(this._wrapper).css("margin-top",i.find(".e-m-tab.e-m-fixed").height()),this.model.isFixedPosition=!0,this._footerHeight=0),i.find(".e-m-tb.e-m-windows.e-m-fixed").length>0&&(this._footerHeight=i.find(".e-m-tb.e-m-fixed").height(),this.model.isFixedPosition=!0));this.model.targetHeight?n(this._wrapper).height(this.model.targetHeight):this.model.autoAdjustHeight&&n(this._wrapper).height(window.innerHeight-n(this._wrapper).offset().top-parseInt(n(this._wrapper).css("margin-bottom"))-(this.model.isFixedPosition?this._footerHeight:0)-parseInt(n(this._wrapper).css("padding-top"))-parseInt(n(this._wrapper).css("padding-bottom")));this.model.targetWidth&&n(this._wrapper).width(this.model.targetWidth);this.model.scrollWidth&&n(this._scroller).width(this.model.scrollWidth);this.model.scrollHeight&&n(this.scroller).height(this.model.scrollHeight);this._wrpWd=this._wrapper.clientWidth;this._wrpHt=this.model.autoAdjustHeight?n(this._wrapper).height():this._wrapper.clientHeight;this._scrollerWidth=this._scroller.scrollWidth*this._scale;this._scrollerHeight=this._scroller.scrollHeight*this._scale;this._maxScrollX=this._wrpWd-this._scrollerWidth;this._maxScrollY=this._wrpHt-this._scrollerHeight;this._hasHScroll=this.model.enableHrScroll&&this._maxScrollX<0;this._hasVScroll=this.model.enableVrScroll&&this._maxScrollY<0;this._hasHScroll||(this._maxScrollX=0,this._scrollerWidth=this._wrpWd);this._hasVScroll||(this._maxScrollY=0,this._scrollerHeight=this._wrpHt);this._endTime=0;this._directionX=0;this._directionY=0;this._wrapperOffset=n(this._wrapper).offset();this._triggerEvent("refresh",this._dataValue());this.model.showScrollbars||this._$wrapper.addClass("e-m-hidescrollbar");this.model.enableNativeScrolling&&(this._hasHScroll&&this._hasVScroll?this._$wrapper.css("overflow","auto"):this._hasVScroll?this._$wrapper.css("overflow-y","auto"):this._hasHScroll?this._$wrapper.css("overflow-x","auto"):this.model.renderMode=="windows"&&!t.isMobile()?this._$wrapper.css("overflow","scroll"):this._$wrapper.css("overflow","auto"));this.resetPosition()},scrollBy:function(n,t,i,r){n=this._x+n;t=this._y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(i,r,u,f,e){var h=this,o,s,c;if(this.model.enableNativeScrolling)this._nx=i,this._ny=r,this._scrollTo({top:r,left:i},u,{queue:!0,easing:0,onAfter:function(){h._nx=n(h._wrapper).scrollLeft();h._ny=n(h._wrapper).scrollTop()}});else if(e=e||t.ease.circular,this.model.enableTransition&&e.style)this._isInTransition=this.model.enableTransition&&u>0,this._transitionTimingFunction(e.style),this._transitionTime(u),this._translate(i,r);else{if(this._x==i&&this._y==r)return;for(o=i,this.stop(),o.length||(o=[{x:i,y:r,time:u,relative:f}]),s=0,c=o.length;s<c;s++)o[s].relative&&(o[s].x=this._x-o[s].x,o[s].y=this._y-o[s].y),this._steps.push({x:o[s].x,y:o[s].y,time:o[s].time||0});this._startAni()}},scrollToElement:function(t,r,u,f,e){if(t=t.nodeType?t:this._scroller.querySelector(t),t){var o=n(t).offset();o.left-=this._wrapperOffset.left;o.top-=this._wrapperOffset.top;u===!0&&(u=Math.round(t.offsetWidth/2-this._wrapper.offsetWidth/2));f===!0&&(f=Math.round(t.offsetHeight/2-this._wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this._maxScrollX?this_.maxScrollX:o.left;o.top=o.top>0?0:o.top<this._maxScrollY?this._maxScrollY:o.top;r=r===i||r===null||r==="auto"?Math.max(Math.abs(this._x-o.left),Math.abs(this._y-o.top)):r;this.scrollTo(o.left,o.top,r,e)}},getComputedPosition:function(){var n=window.getComputedStyle(this._scroller,null),i,r;return this.model.enableTransform?(n=n[t.transform].split(")")[0].split(", "),i=+(n[12]||n[4]),r=+(n[13]||n[5])):(i=+n.left.replace(/[^-\d.]/g,""),r=+n.top.replace(/[^-\d.]/g,"")),{x:i,y:r}},on:function(n,t){this._events[n]||(this._events[n]=[]);this._events[n].push(t)},createDefaultScrollbar:function(n,i,r){return this._sbw=t.buildTag("div.e-m-sbw e-m-"+this.model.renderMode+" e-m-"+this.model.theme),sb=t.buildTag("div.e-m-sb"),n=="horizontal"&&r?this._sbw.addClass("e-m-hr"):n=="vertical"&&r&&this._sbw.addClass("e-m-ver"),i||(this._sbw[0].style.pointerEvents="none"),this._sbw.append(sb),this._sbw[0]},stop:function(){cancelFrame(this._aniTime);this._steps=[];this._moved=!1;this._animating=!1},getScrollPosition:function(){return{x:this.model.enableNativeScrolling?this._nx:this._x,y:this.model.enableNativeScrolling?this._ny:this._y}}})}(jQuery,Syncfusion)