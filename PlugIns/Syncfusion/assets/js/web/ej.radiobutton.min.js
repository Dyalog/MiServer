/*!
*  filename: ej.radiobutton.min.js
*  version : 13.2.0.29
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,model:null,validTags:["input"],_setFirst:!1,defaults:{id:null,name:null,value:null,checked:!1,cssClass:"",text:"",enableRTL:!1,htmlAttributes:{},enablePersistence:!1,idPrefix:"ej",size:"small",enabled:!0,validationRules:null,validationMessage:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",checked:"boolean",enablePersistence:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},_init:function(){this._setValue();this._renderControl();this.isChecked&&this._checkedHandler();this._setEnabled(this.model.enabled);this._addAttr(this.model.htmlAttributes);this.model.validationRules!=null&&(this._initValidator(),this._setValidation());this._wireEvents()},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.span.addClass(n):t=="required"?i.element.attr(t,n):t=="disabled"&&n=="disabled"?i.disable():t=="checked"&&n=="checked"?i._checkedChange(!0):i.span.attr(t,n)})},_initValidator:function(){var t=this;this.element.closest("form").validate({ignore:".e-hidden",errorClass:"e-validation-error",errorElement:"span",errorPlacement:function(t,i){$container=i.closest(".e-widget").next().is("label")?i.closest(".e-widget").next():i.closest(".e-widget");n(t).insertAfter($container)}})},_setValidation:function(){var u,i,r,f;this.element.find("input").rules("add",this.model.validationRules);u=this.element.closest("form").validate();name=this.element.find("input").attr("name");u.settings.messages[name]={};for(i in this.model.validationRules)if(r=null,!t.isNullOrUndefined(this.model.validationRules[i])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[i])){u.settings.messages[name][i]=n.validator.messages[i];for(f in this.model.validationMessage)i==f?r=this.model.validationMessage[i]:""}else r=this.model.validationRules.messages[i];u.settings.messages[name][i]=r!=null?r:n.validator.messages[i]}},_setModel:function(n){for(var t in n)switch(t){case"cssClass":this._changeSkin(n[t]);break;case"enableRTL":this.model.text?n[t]?this.textWrapDiv.addClass("e-rtl"):this.textWrapDiv.removeClass("e-rtl"):n[t]?this.element.closest(".e-radiobtn-wrap").addClass("e-rtl"):this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl");break;case"text":this._setText(n[t]);break;case"size":this._setSize(n[t]);break;case"validationRules":this.model.validationRules!=null&&(this.element.find("input").rules("remove"),this.model.validationMessage=null);this.model.validationRules=n[t];this._setValidation();break;case"validationMessage":this.model.validationMessage=n[t];this._setValidation();break;case"checked":this.model.checked=n[t];this._checkedChange(this.model.checked);break;case"enabled":this._setEnabled(n[t]);break;case"id":this._setIdAttr(n[t]);break;case"name":this.radbtn.attr("name",n[t]);break;case"value":this.radbtn.attr("value",n[t]);break;case"htmlAttributes":this._addAttr(n[t])}},_destroy:function(){this.radbtn.removeClass("e-radiobtn e-input");this.radbtn.insertBefore(this.element);this.element.remove();this.element=this.radbtn},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.textWrapDiv.removeClass(this.model.cssClass).addClass(n))},_setValue:function(){t.isNullOrUndefined(this.element.attr("id"))||(this.model.id=this.element.attr("id"));t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name"));t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value"));this.element.attr({id:this.model.id,name:this.model.name,value:this.model.value});this.model.checked||t.isNullOrUndefined(this.element.attr("checked"))?this.isChecked=this.model.checked:this.model.checked=this.isChecked=!0},_setIdAttr:function(t){n("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper");n("#"+this.model.idPrefix+this.model.id).attr("id",this.model.idPrefix+t);this.radbtn.attr("id",t)},_setSize:function(n){n==t.RadioButtonSize.Medium?this.span.removeClass("e-radsmaller").addClass("e-radmedium"):this.span.removeClass("e-radmedium").addClass("e-radsmaller")},_setEnabled:function(n){n?this.enable():this.disable()},_renderControl:function(){var i=t.browserInfo();this.div=i.name=="msie"&&i.version=="8.0"?n('<div class="e-radiobtn-wrap e-widget e-rad-outer" ><\/div>'):n('<div class="e-radiobtn-wrap e-widget" ><\/div>');this.div.attr({id:this.model.idPrefix+this.model.id,role:"radio",tabindex:0,"aria-checked":!1});this.span=n("<span><\/span>");this.span.addClass("e-spanicon");this._setSize(this.model.size);this.spanImg=n('<span class="e-rad-icon e-rad-select"><\/span>',"",{},{role:"presentation"});this.element.addClass("e-input");this.model.name=t.isNullOrUndefined(this.model.name)?this.model.id:this.model.name;this.element.attr({id:this.model.id,name:this.model.name,value:this.model.value});this.div.addClass(this.model.cssClass);this.span.append(this.spanImg);this.div.insertBefore(this.element);this.div.append(this.element);this.div.append(this.span);this._setTextWrapper(this.model.text);this.radbtn=this.element;this.element=this.div;this.isChecked&&this.element.find(".e-input").attr("checked",!0)},_setTextWrapper:function(i){i!=""?(this.textWrapDiv=t.buildTag("div.e-radiobtn-wrap "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id+"_wrapper"),this.div.wrapAll(this.textWrapDiv),this.txtSpan=t.buildTag("div.e-text",this.model.text),this.textWrapDiv=n("#"+this.model.idPrefix+this.model.id+"_wrapper"),this.textWrapDiv.append(this.txtSpan),this.model.enableRTL&&this.textWrapDiv.addClass("e-rtl")):this.model.enableRTL&&this.element.closest(".e-radiobtn-wrap").addClass("e-rtl")},_setText:function(n){this.model.text==""&&n!=""?this._setTextWrapper(n):this.txtSpan.html(n)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler);this._on(this.element,"focus",this._focusIn);this._on(this.element,"focusout",this._focusOut)},_focusIn:function(){n(this.element).addClass("e-focus");n(this.element).bind("keydown",n.proxy(this._checkUnCheck,this))},_focusOut:function(){n(this.element).removeClass("e-focus");n(this.element).unbind("keydown",n.proxy(this._checkUnCheck,this))},_checkUnCheck:function(n){(n.keyCode==32||n.keyCode==37||n.keyCode==38||n.keyCode==39||n.keyCode==40)&&(n.preventDefault(),this._checkedHandler())},_checkedHandler:function(){this.element.hasClass("e-disable")||(this.isChecked=this.element.find("input.e-radiobtn:radio").attr("checked")=="checked"?!0:!1,n(this.element).find(".e-rad-icon").hasClass("e-rad-active")||this._changeEvent())},_checkedChange:function(n){this.isChecked=n;this.isChecked&&this.model.enabled&&this._changeEvent()},_changeEvent:function(){var t={isChecked:this.isChecked};if(!0==this._trigger("beforeChange",t))return!1;if(!n(this.element).find(".e-rad-icon").hasClass("e-rad-active")){var r=this.element.find(".e-input").attr("name"),u=n("input.e-radiobtn[name="+r+"]:radio"),e=this,f=this.element.find(".e-input"),i=n(f).data("ejRadioButton");t.isChecked&&(this.spanImg.addClass("e-rad-active").removeClass("e-rad-select"),this.div.attr({tabindex:0,"aria-checked":!0}));n.each(u,function(t,i){n(i).closest(".e-radiobtn-wrap").find(".e-rad-icon").removeClass("e-rad-active").addClass("e-rad-select");n(i).closest(".e-radiobtn-wrap").attr({tabindex:0,"aria-checked":!1});var r=n(i).data("ejRadioButton");r!=null&&(r.model.checked=!1)});i!=null&&(i.model.checked=!0);this.element.find(".e-rad-icon").addClass("e-rad-active").removeClass("e-rad-select");this.div.attr({tabindex:0,"aria-checked":!0});this.element.find(".e-input").click();this.isChecked=!0}t={isChecked:this.isChecked};this._trigger("change",t)},disable:function(){this.element.hasClass("e-disable")||this.element.addClass("e-disable");this.div.attr("aria-disabled",!0);this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&this.element.removeClass("e-disable");this.div.attr("aria-disabled",!1);this.model.enabled=!0}});t.RadioButtonSize={Small:"small",Medium:"medium"}})(jQuery,Syncfusion)});