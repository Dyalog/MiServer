/*!
*  filename: ej.tile.min.js
*  version : 13.2.0.29
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t){t.widget("ejTileBase","ej.TileBase",{defaults:{badge:{enabled:!1,value:1,maxValue:100,minValue:1,text:null},captionTemplateId:null,enablePersistence:!1,imageClass:null,imagePosition:"center",imageTemplateId:null,imageUrl:null,liveTile:{enabled:!1,imageClass:null,imageTemplateId:null,imageUrl:null,type:"flip",updateInterval:2e3},showText:!0,cssClass:"",text:"Text",textAlignment:"normal",tileSize:"small",width:null,height:null},dataTypes:{badge:{enabled:"boolean",value:"number",maxValue:"number",minValue:"number"},imagePosition:"enum",liveTile:{type:"enum",enabled:"boolean",updateInterval:"number",imageUrl:"array",imageClass:"array",imageTemplateId:"array"},showText:"boolean",textAlignment:"enum",tileSize:"enum",width:"number",height:"number"},_tileRender:function(){var f,i,e,r,u;if(this.element.addClass(this._prefix+"tile "+this._prefix+"tile-wrapper "+this._prefix+"tile-wrapper-"+this.model.tileSize+" "+this.model.cssClass),this._mainTile=t.buildTag("div."+this._prefix+"child-tile "+this._prefix+"tile-image"+this.model.imagePosition),this.model.liveTile.enabled&&this.model.liveTile.type=="flip"?this.element.addClass(this._prefix+"tile-"+this.model.liveTile.type):this.element.addClass(this._prefix+"tile-common"),this.element.append(this._mainTile),this._image=t.buildTag("div."+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this._layer=t.buildTag("div."+this._prefix+"layer"),this._text=t.buildTag("div").addClass(this._prefix+"tile-text "+this._prefix+"user-select "+this._prefix+"textalign-"+this.model.textAlignment),this.model.showText?this.element.addClass(this._prefix+"enabled-text"):this.element.removeClass(this._prefix+"enabled-text").addClass(this._prefix+"disabled-text"),(!this._isAppView()||this.model.renderMode=="windows")&&this.model.liveTile.enabled){if(this.element.addClass(this._prefix+"live-type-"+this.model.liveTile.type),this._mainTile.addClass(this._prefix+"live-tile-enable"),!this._liveImageWrapper){if(this._liveImageWrapper=t.buildTag("div."+this._prefix+"live-image-wrapper"),this.model.liveTile.imageTemplateId){for(this._liveImageWrapper.addClass(this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),i=0;i<this.model.liveTile.imageTemplateId.length;i++)f=this._isAppView()?t.getCurrentPage().find("#"+this.model.liveTile.imageTemplateId[i]).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type):n("#"+this.model.liveTile.imageTemplateId[i]).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type),this._liveImageWrapper.append(f);this._mainTile.addClass(this._prefix+"tile-template")}else if(this.model.liveTile.imageClass)for(i=0;i<this.model.liveTile.imageClass.length;i++)this._liveImageWrapper.append(t.buildTag("div").addClass(this.model.liveTile.imageClass[i]+" "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type));else for(i=0;i<this.model.liveTile.imageUrl.length;i++)r=this._isAppView()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/windows/"+this.model.liveTile.imageUrl[i]:this._getAbsolutePath(this.model.liveTile.imageUrl[i]),this._liveImageWrapper.append(t.buildTag("div."+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type).css({"background-image":"url('"+r+"')"}));n(this._liveImageWrapper.children()[0]).addClass(this._prefix+"tile-"+this.model.liveTile.type+"back").removeClass(this._prefix+"tile-"+this.model.liveTile.type)}this._mainTile.append(this._liveImageWrapper)}else this.model.imageTemplateId?(e=this._isAppView()?t.getCurrentPage().find("#"+this.model.imageTemplateId).addClass(this._prefix+"tile-template"):n("#"+this.model.imageTemplateId).addClass(this._prefix+"tile-template"),this._image.append(e)):(this._image=t.buildTag("div").addClass(this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this.model.imageClass?this._image.addClass(this.model.imageClass):this.model.imageUrl&&(r=this._isAppView()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.imageUrl:this._getAbsolutePath(this.model.imageUrl),this._image.css({"background-image":"url('"+r+"')"}),t.browserInfo().name=="msie"&&t.browserInfo().version<9&&this.model.imagePosition=="fill"&&this._image.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+r+"',sizingMethod='scale')","-ms-filter":"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+r+"',sizingMethod='scale')"}))),this._mainTile.append(this._image).addClass(this._prefix+"tile-image"+this.model.imagePosition);this.model.badge.enabled&&this._setBadgeEnabled();this._text&&(this.model.captionTemplateId?(u=this._isAppView()?t.getCurrentPage().find("#"+this.model.captionTemplateId):n("#"+this.model.captionTemplateId),this._template=u[0]&&u[0].nodeName=="SCRIPT"?t.getClearString(u[0].innerHTML):u,this._text.append(this._template).addClass(this._prefix+"template-caption"),this._mainTile.addClass(this._prefix+"template-caption")):this._text.html(this.model.text),this._mainTile.append(this._text));this._isCustomizeSize()&&(this.element.css({width:this.model.width?this.model.width:"",height:this.model.height?this.model.height:""}),this.model.imagePosition!="fill"?this.model.renderMode!="windows"&&this.model.renderMode!="flat"&&this._isAppView()?this.model.showText?this.element.find("."+this._prefix+"tile-image").css({width:this.model.width-14,height:this.model.height-39}):this.element.find("."+this._prefix+"tile-image").css({width:this.model.width-14,height:this.model.height-14}):(this.model.showText?this.element.find("."+this._prefix+"tile-image").css({width:this.model.width-20,height:this.model.height-45}):this.element.find("."+this._prefix+"tile-image").css({width:this.model.width-20,height:this.model.height-20}),this.model.textAlignment=="left"||(this.model.renderMode=="windows"||this.model.renderMode=="flat"||!this._isAppView())&&this.model.textAlignment=="normal"?this.element.find("."+this._prefix+"tile-text").css({width:this.model.width-14}):""):(this.element.find("."+this._prefix+"tile-image").css({width:this.model.width,height:this.model.height}),this.model.textAlignment=="left"||(this.model.renderMode=="windows"||this.model.renderMode=="flat"||!this._isAppView())&&this.model.textAlignment=="normal"?this.element.find("."+this._prefix+"tile-text").css({width:this.model.width-14}):""),this._isBelowSmallSize()?(this.element.find("."+this._prefix+"tile-text").css("display","none"),this.element.find("."+this._prefix+"tile-image").css({margin:0,width:this.model.width,height:this.model.height})):this.element.find("."+this._prefix+"tile-text").css("display","block"),this.model.tileSize=="small"?this.element.removeClass(this._prefix+"tile-wrapper-small").addClass(this._prefix+"tile-wrapper-medium"):this._isBelowSmallSize()?this.model.renderMode=="windows"||this.model.renderMode=="flat"||!this._isAppView()?this.element.removeClass(this._prefix+"tile-wrapper-"+this.model.tileSize).addClass(this._prefix+"tile-wrapper-small"):this.element.removeClass(this._prefix+"tile-wrapper-"+this.model.tileSize).addClass(this._prefix+"tile-wrapper-medium"):"")},_isBelowSmallSize:function(){return this.model.width<=70&&this.model.width!=null||this.model.height<=70&&this.model.height!=null},_isCustomizeSize:function(){return this.model.height||this.model.width},_createDelegates:function(){this._onStartDelegate=n.proxy(this._isAppView()?this._onTouchStartHandler:this._onMouseDownHandler,this);this._onEndDelegate=n.proxy(this._isAppView()?this._onTouchEndHandler:this._onMouseUpHandler,this);this._onMoveDelegate=n.proxy(this._isAppView()?this._onTouchMoveHandler:this._onMouseMoveHandler,this);this._onDocClickDelegate=n.proxy(this._onDocClickHandler,this);this._startAnimationDelegate=n.proxy(this["_"+this.model.liveTile.type+"Tile"],this)},_wireEvents:function(i){this._createDelegates();t.listenEvents([this.element,n(document)],[t.startEvent(),t.endEvent()],[this._onStartDelegate,this._onDocClickDelegate],i,this);this.model.liveTile.enabled&&(!this._isAppView()||this.model.renderMode=="windows")&&(i?this._stopTileAnimation():this._startTileAnimation())},_onDocClickHandler:function(){this._removeActiveClass()},_removeActiveClass:function(){!this._isAppView()||this.model.renderMode=="windows"?t._removeSkewClass(this.element):n(this.element).removeClass(this._prefix+"state-active")},_startTileAnimation:function(){this._intervalCounter=setInterval(this._startAnimationDelegate,this.model.liveTile.updateInterval)},_stopTileAnimation:function(){clearInterval(this._intervalCounter)},_flipTile:function(){var n=this.element.find("."+this._prefix+"tile-flipback"),t=this.element.find("."+this._prefix+"tile-flip").first();n.addClass(this._prefix+"tile-flip").removeClass(this._prefix+"tile-flipback");t.addClass(this._prefix+"tile-flipback").removeClass(this._prefix+"tile-flip")},_slideTile:function(){this._animateEffect()},_carouselTile:function(){this._animateEffect()},_animateEffect:function(){var n=this.model.liveTile.type.toLowerCase(),i=this.element.find("."+this._prefix+"live-tile"),t=this.element.find("."+this._prefix+"tile-"+n+"back"),r=t.next()[0]==null?i.first():t.next(),u=t.prev()[0]==null?i.last():t.prev();u.addClass(this._prefix+"tile-"+n).removeClass(this._prefix+"tile-"+n+"up");t.addClass(this._prefix+"tile-"+n+"up").removeClass(this._prefix+"tile-"+n+"back");r.removeClass(this._prefix+"tile-"+n).addClass(this._prefix+"tile-"+n+"back")},_getAbsolutePath:function(n){return this._isAppView()?App.route.makeUrlAbsolute(n,!0).toString():n},_isAppView:function(){return this._prefix=="e-m-"?!0:!1},updateTemplate:function(i,r){var u,f;this.model.liveTile.enabled?(n(this._liveImageWrapper).children()[r].remove(),u=this._isAppView()?t.getCurrentPage().find("#"+i).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type):n("#"+i).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type),n(this._liveImageWrapper).children()[r-1]?n(n(this._liveImageWrapper).children()[r-1]).after(u):n(n(this._liveImageWrapper).children()[r+1]).before(u)):(f=this._isAppView()?t.getCurrentPage().find("#"+i).addClass(this._prefix+"tile-template"):n("#"+i).addClass(this._prefix+"tile-template"),this._image.empty().append(f))},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setImagePosition:function(t){this.model.liveTile.enabled&&n(n(this._mainTile.children()[0]).children()).hasClass(this._prefix+"tile-image")?(n(n(this._mainTile.children()[0]).children()).removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this._mainTile.removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this.model.imagePosition=t):(n(this._mainTile.children()[0]).removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this._mainTile.removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this.model.imagePosition=t)},_setShowText:function(n){this.model.showText=n;n?(this.element.removeClass(this._prefix+"disabled-text").addClass(this._prefix+"enabled-text"),this._setText(this.model.text),this._isAppView()&&this.model.renderMode!="windows"&&this.model.renderMode!="flat"&&this.model[this.model.renderMode].textPosition=="outer"?this.element.removeClass(this._prefix+"text-inner").addClass(this._prefix+"text-outer"):""):(this.element.removeClass(this._prefix+"enabled-text").addClass(this._prefix+"disabled-text"),this._isAppView()&&this.model.renderMode!="windows"&&this.model.renderMode!="flat"&&this.model[this.model.renderMode].textPosition=="outer"?this.element.removeClass(this._prefix+"text-outer").addClass(this._prefix+"text-inner"):"")},_setText:function(n){this.model.showText&&(this.element.find("."+this._prefix+"tile-text").length?this.element.find("."+this._prefix+"tile-text").html(n):this.element.prepend(t.buildTag("div."+this._prefix+"tile-text",n)))},_setTextPosition:function(n){n=="outer"?this.element.removeClass(this._prefix+"text-inner").addClass(this._prefix+"text-outer"):this.element.removeClass(this._prefix+"text-outer").addClass(this._prefix+"text-inner").find("."+this._prefix+"child-tile")},_setTextAlignment:function(t){n(this.element.find("."+this._prefix+"tile-text")).removeClass(this._prefix+"textalign-left "+this._prefix+"textalign-right "+this._prefix+"textalign-normal "+this._prefix+"textalign-center").addClass(this._prefix+"textalign-"+t);this.model.textAlignment=t},_setBadge:function(n){var t,i;if(this.model.badge.enabled){this._setBadgeEnabled(!0);for(t in n)i="_setBadge"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t])}else this._setBadgeEnabled(!1)},_setBadgeValue:function(){var n=this.model.badge.text?this.model.badge.text:this.model.badge.value<=this.model.badge.maxValue&&this.model.badge.value>=this.model.badge.minValue?this.model.badge.value.toString():this.model.badge.value>this.model.badge.maxValue?this.model.badge.maxValue.toString()+"+":this.model.badge.minValue.toString();this.element.find("."+this._prefix+"tile-badge").html(n)},_setBadgeEnabled:function(n){this.element.find("."+this._prefix+"tile-badge").length?this.element.find("."+this._prefix+"tile-badge")[n?"show":"hide"]():(this.element.prepend(t.buildTag("div."+this._prefix+"tile-badge")),this._setBadgeValue())},_setBadgeMaxValue:function(n){this.model.badge.maxValue=n;this._setBadgeValue()},_setBadgeMinValue:function(n){this.model.badge.minValue=n;this._setBadgeValue()},_setBadgeText:function(n){this.model.badge.text=n;this._setBadgeValue()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}})})(jQuery,Syncfusion),function(n,t){t.widget("ejTile","ej.Tile",{_setFirst:!0,validTags:["div"],_rootCSS:"e-tile",defaults:{mouseDown:null,mouseUp:null},_init:function(){this._orgEle=this.element.clone();this._renderEJControl()},_renderEJControl:function(){this.model.captionTemplateId&&(this._captionTemplateParent=n("#"+this.model.captionTemplateId).parent(),this._cloneCaptionTemplateElement=n("#"+this.model.captionTemplateId).clone());this.model.imageTemplateId&&(this._imageTemplateParent=n("#"+this.model.imageTemplateId).parent(),this._cloneImageTemplateElement=n("#"+this.model.imageTemplateId).clone());this.model.liveTile.enabled&&this.model.liveTile.imageTemplateId&&(this._liveTileimageTemplateParent=n("#"+this.model.liveTile.imageTemplateId).parent(),this._cloneLiveTileImageTemplateElement=n("#"+this.model.liveTile.imageTemplateId).clone());this.element.addClass("e-tile-web");this._prefix="e-";this._tileRender();this._mainTile.append(this._layer);this._wireEvents()},_onMouseDownHandler:function(i){var r=this.element;r.addClass(t._getSkewClass(r,i.pageX,i.pageY).replace("e-m-","e-"));this.model.mouseDown&&this._trigger("mouseDown",{text:r.find(".e-tile-text").html(),index:n(i.target).index()});t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!1,this);t.listenTouchEvent(this.element,t.endEvent(),this._onEndDelegate,!1,this);this._isMoved=!1},_onMouseMoveHandler:function(){this._isMoved=!0;this._removeActiveClass()},_onMouseUpHandler:function(i){!this._isMoved&&this.model.mouseUp&&this._trigger("mouseUp",{text:this.element.find(".e-tile-text").html(),index:n(i.target).index()});this._removeActiveClass();this._isMoved=!1;t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!0,this);t.listenTouchEvent(this.element,t.endEvent(),this._onEndDelegate,!0,this)},_refresh:function(){this._destroy();this.element.addClass("e-tile e-js");this.model.captionTemplateId&&n(this._captionTemplateParent).append(this._cloneCaptionTemplateElement);this.model.imageTemplateId&&n(this._imageTemplateParent).append(this._cloneImageTemplateElement);this.model.liveTile.enabled&&this.model.liveTile.imageTemplateId&&n(this._liveTileimageTemplateParent).append(this._cloneLiveTileImageTemplateElement);this._renderEJControl()}});t.Tile.ImagePosition={Center:"center",Top:"top",Bottom:"bottom",Right:"right",Left:"left",TopLeft:"topleft",TopRight:"topright",BottomRight:"bottomright",BottomLeft:"bottomleft",Fill:"fill"};t.Tile.TextAlignment={Normal:"normal",Left:"left",Right:"right",Center:"center"};t.Tile.TextPosition={Inner:"inner",Outer:"outer"};t.Tile.TileSize={Medium:"medium",Small:"small",Large:"large",Wide:"wide"};t.Tile.LiveTileType={Flip:"flip",Slide:"slide",Carousel:"carousel"};n.extend(!0,t.Tile.prototype,t.TileBase.prototype)}(jQuery,Syncfusion)});