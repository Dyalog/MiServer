/*!
*  filename: ej.tile.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t){t.widget("ejTileBase","ej.TileBase",{defaults:{badge:{enabled:!1,value:1,maxValue:100,minValue:1,text:null},captionTemplateId:null,enablePersistence:!1,imageClass:null,imagePosition:"center",imageTemplateId:null,imageUrl:null,liveTile:{enabled:!1,imageClass:null,imageTemplateId:null,imageUrl:null,type:"flip",updateInterval:2e3},showText:!0,text:"Text",textAlignment:"normal",tileSize:"small"},dataTypes:{badge:{enabled:"boolean",value:"number",maxValue:"number",minValue:"number"},imagePosition:"enum",liveTile:{type:"enum",enabled:"boolean",updateInterval:"number",imageUrl:"array",imageClass:"array",imageTemplateId:"array"},showText:"boolean",textAlignment:"enum",tileSize:"enum"},_tileRender:function(){var i,r;if(this.element.addClass(this._prefix+"tile "+this._prefix+"tile-wrapper "+this._prefix+"tile-wrapper-"+this.model.tileSize),this._mainTile=t.buildTag("div."+this._prefix+"child-tile "+this._prefix+"tile-image"+this.model.imagePosition),this.model.liveTile.enabled&&this.model.liveTile.type=="flip"?this.element.addClass(this._prefix+"tile-"+this.model.liveTile.type):this.element.addClass(this._prefix+"tile-common"),this.element.append(this._mainTile),this._image=t.buildTag("div."+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this._layer=t.buildTag("div."+this._prefix+"layer"),this.model.showText?(this.element.addClass(this._prefix+"enabled-text"),this._text=t.buildTag("div").addClass(this._prefix+"tile-text "+this._prefix+"user-select "+this._prefix+"textalign-"+this.model.textAlignment)):this.element.removeClass(this._prefix+"enabled-text").addClass(this._prefix+"disabled-text"),(!this._isAppView()||this.model.renderMode=="windows")&&this.model.liveTile.enabled){if(this.element.addClass(this._prefix+"live-type-"+this.model.liveTile.type),this._mainTile.addClass(this._prefix+"live-tile-enable"),!this._liveImageWrapper){if(this._liveImageWrapper=t.buildTag("div."+this._prefix+"live-image-wrapper"),this.model.liveTile.imageTemplateId){for(this._liveImageWrapper.addClass(this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),i=0;i<this.model.liveTile.imageTemplateId.length;i++)this._liveImageWrapper.append(t.getCurrentPage().find("#"+this.model.liveTile.imageTemplateId[i]).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type));this._mainTile.addClass(this._prefix+"tile-template")}else if(this.model.liveTile.imageClass)for(i=0;i<this.model.liveTile.imageClass.length;i++)this._liveImageWrapper.append(t.buildTag("div").addClass(this.model.liveTile.imageClass[i]));else for(i=0;i<this.model.liveTile.imageUrl.length;i++)r=this._isAppView()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/windows/"+this.model.liveTile.imageUrl[i]:this._getAbsolutePath(this.model.liveTile.imageUrl[i]),this._liveImageWrapper.append(t.buildTag("div."+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type).css({"background-image":"url('"+r+"')"}));n(this._liveImageWrapper.children()[0]).addClass(this._prefix+"tile-"+this.model.liveTile.type+"back").removeClass(this._prefix+"tile-"+this.model.liveTile.type)}this._mainTile.append(this._liveImageWrapper)}else this.model.imageTemplateId?this._image.append(t.getCurrentPage().find("#"+this.model.imageTemplateId).addClass(this._prefix+"tile-template")):(this._image=t.buildTag("div").addClass(this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this.model.imageClass?this._image.addClass(this.model.imageClass):this.model.imageUrl&&(r=this._isAppView()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.imageUrl:this._getAbsolutePath(this.model.imageUrl),this._image.css({"background-image":"url('"+r+"')"}))),this._mainTile.append(this._image).addClass(this._prefix+"tile-image"+this.model.imagePosition);this.model.badge.enabled&&this._setBadgeValue();this._text&&(this.model.captionTemplateId?(this._text.append(t.getCurrentPage().find("#"+this.model.captionTemplateId)).addClass(this._prefix+"template-caption"),this._mainTile.addClass(this._prefix+"template-caption")):this._text.html(this.model.text),this._mainTile.append(this._text))},_createDelegates:function(){this._onStartDelegate=n.proxy(this._isAppView()?this._onTouchStartHandler:this._onMouseDownHandler,this);this._onEndDelegate=n.proxy(this._isAppView()?this._onTouchEndHandler:this._onMouseUpHandler,this);this._onMoveDelegate=n.proxy(this._isAppView()?this._onTouchMoveHandler:this._onMouseMoveHandler,this);this._onDocClickDelegate=n.proxy(this._onDocClickHandler,this);this._startAnimationDelegate=n.proxy(this["_"+this.model.liveTile.type+"Tile"],this)},_wireEvents:function(i){this._createDelegates();t.listenEvents([this.element,this.element,this._isAppView()?App.document:n(document)],[t.startEvent(),t.endEvent(),t.endEvent()],[this._onStartDelegate,this._onEndDelegate,this._onDocClickDelegate],i);this.model.liveTile.enabled&&(!this._isAppView()||this.model.renderMode=="windows")&&(i?this._stopTileAnimation():this._startTileAnimation())},_onDocClickHandler:function(){this._removeActiveClass()},_removeActiveClass:function(){!this._isAppView()||this.model.renderMode=="windows"?t._removeSkewClass(this.element):n(this.element).removeClass(this._prefix+"state-active")},_startTileAnimation:function(){this._intervalCounter=setInterval(this._startAnimationDelegate,this.model.liveTile.updateInterval)},_stopTileAnimation:function(){clearInterval(this._intervalCounter)},_flipTile:function(){var n=this.element.find("."+this._prefix+"tile-flipback"),t=this.element.find("."+this._prefix+"tile-flip").first();n.addClass(this._prefix+"tile-flip").removeClass(this._prefix+"tile-flipback");t.addClass(this._prefix+"tile-flipback").removeClass(this._prefix+"tile-flip")},_slideTile:function(){this._animateEffect()},_carouselTile:function(){this._animateEffect()},_animateEffect:function(){var n=this.model.liveTile.type.toLowerCase(),i=this.element.find("."+this._prefix+"live-tile"),t=this.element.find("."+this._prefix+"tile-"+n+"back"),r=t.next()[0]==null?i.first():t.next(),u=t.prev()[0]==null?i.last():t.prev();u.addClass(this._prefix+"tile-"+n).removeClass(this._prefix+"tile-"+n+"up");t.addClass(this._prefix+"tile-"+n+"up").removeClass(this._prefix+"tile-"+n+"back");r.removeClass(this._prefix+"tile-"+n).addClass(this._prefix+"tile-"+n+"back")},_getAbsolutePath:function(n){return this._isAppView()?App.route.makeUrlAbsolute(n,!0).toString():n},_isAppView:function(){return this._prefix=="e-m-"?!0:!1},updateTemplate:function(i,r){if(this.model.liveTile.enabled){n(this._liveImageWrapper).children()[r].remove();var u=t.getCurrentPage().find("#"+i).addClass(this._prefix+"tile-template "+this._prefix+"live-tile "+this._prefix+"fontimage "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type);n(this._liveImageWrapper).children()[r-1]?n(n(this._liveImageWrapper).children()[r-1]).after(u):n(n(this._liveImageWrapper).children()[r+1]).before(u)}else this._image.empty().append(t.getCurrentPage().find("#"+i).addClass(this._prefix+"tile-template"))},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setImagePosition:function(t){this.model.liveTile.enabled&&n(n(this._mainTile.children()[0]).children()).hasClass(this._prefix+"tile-image")?(n(n(this._mainTile.children()[0]).children()).removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this._mainTile.removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this.model.imagePosition=t):(n(this._mainTile.children()[0]).removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this._mainTile.removeClass(this._prefix+"tile-imagecenter "+this._prefix+"tile-imagetop "+this._prefix+"tile-imagebottom "+this._prefix+"tile-imageright "+this._prefix+"tile-imageleft "+this._prefix+"tile-imagetopleft "+this._prefix+"tile-imagetopright "+this._prefix+"tile-imagebottomright "+this._prefix+"tile-imagebottomleft "+this._prefix+"tile-imagefill").addClass(this._prefix+"tile-image"+t),this.model.imagePosition=t)},_setShowText:function(n){this.model.showText=n;n?(this.element.removeClass(this._prefix+"disabled-text").addClass(this._prefix+"enabled-text"),this._setText(this.model.text)):this.element.removeClass(this._prefix+"enabled-text").addClass(this._prefix+"disabled-text")},_setText:function(n){this.model.showText&&(this.element.find("."+this._prefix+"tile-text").length?this.element.find("."+this._prefix+"tile-text").html(n):this.element.prepend(t.buildTag("div."+this._prefix+"tile-text",n)))},_setTextPosition:function(n){n=="outer"?this.element.removeClass(this._prefix+"text-inner").addClass(this._prefix+"text-outer"):this.element.removeClass(this._prefix+"text-outer").addClass(this._prefix+"text-inner").find("."+this._prefix+"child-tile")},_setTextAlignment:function(t){n(this.element.find("."+this._prefix+"tile-text")).removeClass(this._prefix+"textalign-left "+this._prefix+"textalign-right "+this._prefix+"textalign-normal "+this._prefix+"textalign-center").addClass(this._prefix+"textalign-"+t);this.model.textAlignment=t},_setBadge:function(n){var t,i;if(this.model.badge.enabled){this._setBadgeEnabled(!0);for(t in n)i="_setBadge"+t.charAt(0).toUpperCase()+t.slice(1),this[i]&&this[i](n[t])}else this._setBadgeEnabled(!1)},_setBadgeValue:function(){var n=this.model.badge.text?this.model.badge.text:this.model.badge.value<=this.model.badge.maxValue&&this.model.badge.value>=this.model.badge.minValue?this.model.badge.value.toString():this.model.badge.value>this.model.badge.maxValue?this.model.badge.maxValue.toString()+"+":this.model.badge.minValue.toString();this.element.find("."+this._prefix+"tile-badge").length?this.element.find("."+this._prefix+"tile-badge").html(n):this.element.prepend(t.buildTag("div."+this._prefix+"tile-badge",n))},_setBadgeEnabled:function(n){this.element.find("."+this._prefix+"tile-badge")[n?"show":"hide"]()},_setTileSize:function(){this._refresh()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}})})(jQuery,Syncfusion),function(n,t){t.widget("ejTile","ej.Tile",{_setFirst:!0,validTags:["div"],_rootCSS:"e-tile",defaults:{mouseDown:null,mouseUp:null},_init:function(){this._orgEle=this.element.clone();this._renderEJControl()},_renderEJControl:function(){this.element.addClass("e-tile-web");this._prefix="e-";this._tileRender();this._mainTile.append(this._layer);this._wireEvents()},_onMouseDownHandler:function(n){var i=this.element;i.addClass(t._getSkewClass(i,n.pageX,n.pageY).replace("e-m-","e-"));this.model.mouseDown&&this._trigger("mouseDown",{text:i.find(".e-tile-text").html()});t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!1);this._isMoved=!1},_onMouseMoveHandler:function(){this._isMoved=!0;this._removeActiveClass()},_onMouseUpHandler:function(){!this._isMoved&&this.model.mouseUp&&this._trigger("mouseUp",{text:this.element.find(".e-tile-text").html()});this._removeActiveClass();this._isMoved=!1;t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!0)},_refresh:function(){this._destroy();this.element.addClass("e-tile");this._renderEJControl()}});t.Tile.ImagePosition={Center:"center",Top:"top",Bottom:"bottom",Right:"right",Left:"left",TopLeft:"topleft",TopRight:"topright",BottomRight:"bottomright",BottomLeft:"bottomleft",Fill:"fill"};t.Tile.TextAlignment={Normal:"normal",Left:"left",Right:"right",Center:"center"};t.Tile.TextPosition={Inner:"inner",Outer:"outer"};t.Tile.TileSize={Medium:"medium",Small:"small",Large:"large",Wide:"wide"};t.Tile.LiveTileType={Flip:"flip",Slide:"slide",Carousel:"carousel"};n.extend(!0,t.Tile.prototype,t.TileBase.prototype)}(jQuery,Syncfusion)})