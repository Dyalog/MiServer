/*!
*  filename: ej.ribbon.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./ej.dropdownlist.min","./ej.button.min"],n):n()})(function(){(function(n,t,i){t.widget("ejRibbon","ej.Ribbon",{element:null,model:null,_rootCSS:"e-ribbon",defaults:{width:"",applicationTab:{},tabs:[],contextualTabs:{},onTabSelect:null,onTabClick:null,onTabAdd:null,onTabRemove:null,beforeTabRemove:null,create:null,groupClick:null,onToggleButtonClick:null,groupExpand:null,applicationTabClick:null,selectedItemIndex:1,enabledItemIndex:[],disabledItemIndex:[0],locale:"en-US",destory:null},dataTypes:{tabs:"array",disabledItemIndex:"data",enabledItemIndex:"data",selectedItemIndex:"number"},_destroy:function(){this.element.ejTab("destroy");this.element.find(".e-contextul").removeAttr("style")},_setModel:function(t){var s,r,o,i,u;for(s in t)switch(s){case"selectedItemIndex":this.model.selectedItemIndex>0&&this._tabObj.model.disabledItemIndex.indexOf(this.model.selectedItemIndex)===-1&&this._ribbonTabs.eq(this.model.selectedItemIndex).is(":visible")&&this._tabObj.option({selectedItemIndex:this.model.selectedItemIndex});break;case"disabledItemIndex":var r,h=this.model.disabledItemIndex.length,f=this.model.disabledItemIndex,c=this.element.find(".e-link"),e;for(this.model.disabledItemIndex.push(0),this._tabObj.option({disabledItemIndex:this.model.disabledItemIndex}),i=0;i<h;i++)r=this._ribbonTabs.eq(f[i]).parent().parent(),(r.hasClass("e-contextli")||r.hasClass("e-contextliset"))&&r.addClass("e-disable"),this._tabObj.model.selectedItemIndex===f[i]&&(e=c.eq(f[i]).attr("href"),n(e).append(n("#"+this._id+"_disabled")),n(e).css("position","relative"),n("#"+this._id+"_disabled").show());break;case"enabledItemIndex":for(o=this.model.enabledItemIndex.length,i=0;i<o;i++)this.model.enabledItemIndex[i]!==0&&this._ribbonTabs.eq(this.model.enabledItemIndex[i]).is(":visible")||(this.model.enabledItemIndex.splice(i,1),--o,--i);for(this._conTabsRemove(),this._tabObj.option({enabledItemIndex:this.model.enabledItemIndex}),this._contextualTabs(),u=0;u<this.model.enabledItemIndex.length;u++)this._tabText.eq(this.model.enabledItemIndex[u]).parent().removeClass("e-disable"),this._tabText.eq(this.model.enabledItemIndex[u]).parent().css("position",""),r=this._ribbonTabs.eq(this.model.enabledItemIndex[u]).parent().parent(),(r.hasClass("e-contextli")||r.hasClass("e-contextliset"))&&r.removeClass("e-disable");n("#"+this._id+"_disabled").hide();this._setTabContentHeight()}},_setTabContentHeight:function(){for(var r=this.element.find(".e-groupdiv"),t=[],i=0;i<r.length;i++)t.push(n(r[i]).height());t.sort();this.element.find(".e-content").height(t[t.length-1])},_init:function(){t.isNullOrUndefined(this.element)||(this._render(),this._wireEvents())},_render:function(){this._renderTab();this._initPrivateProperties();this._groupingControls();this._customization();n("#"+this._id).append(t.buildTag("div#"+this._id+"_disabled"));var i=n("#"+this._id).find(".e-content");n("#"+this._id+"_disabled").height(n(i).height()).width(this.model.width);n("#"+this._id+"_disabled").css({top:0,left:0,position:"absolute"}).addClass("e-disable");n("#"+this._id+"_disabled").hide()},_onGroupClick:function(n){this._trigger("groupClick",n)},_onTabClick:function(t){var r=this.element.find(".e-rarrowdown-2x"),e=this.element.find("li.e-active"),i=this.element.find(".e-collapseactive"),u,o,f=this.element.find(".e-active-content");e.length>0?(e.removeClass("e-active"),f.removeClass("e-active-content").hide()):i.length>0&&(t.activeHeader.textContent===i.find(".e-link").text()?(i.addClass("e-active").removeClass("e-collapseactive"),f.removeClass("e-collapse-content").slideDown("slow")):(u=this.element.find(".e-link"),i.removeClass("e-collapseactive"),this.element.find(".e-collapse-content").removeClass("e-collapse-content"),f.removeClass("e-active-content"),o=u.eq(t.activeIndex).attr("href"),u.eq(t.activeIndex).addClass("e-active"),n(o).slideDown("slow")));r.length>0&&(r.parent().removeClass("e-collapsed").addClass("e-expanded"),r.removeClass("e-rarrowdown-2x").addClass("e-rarrowup-2x"),this._isCollapsed=!1);this._trigger("onTabClick",t)},_onTabSelect:function(n){this.model.selectedItemIndex=n.activeIndex;this._trigger("onTabSelect",n)},_onTabAdd:function(n){this._trigger("onTabAdd",n)},_onTabRemove:function(n){this._trigger("onTabRemove",n)},_beforeTabRemove:function(n){this._trigger("beforeTabRemove",n)},_create:function(n){this._trigger("create",n)},_OnKeyDown:function(n){(n.keyCode===38||n.keyCode===39)&&this.model.tabs.length===this._tabObj.model.selectedItemIndex&&n.stopImmediatePropagation()},_collapse:function(){var n=this.element.find(".e-active-content"),t=this.element.find("#"+this._id+"_togglebutton");n.slideUp("fast","swing");this.element.find("li.e-active").removeClass("e-active").addClass("e-collapseactive e-select");n.addClass("e-collapse-content");this._tabObj.option({selectedItemIndex:0});t.removeClass("e-expanded").addClass("e-collapsed");t.find("span").removeClass("e-rarrowup-2x").addClass("e-rarrowdown-2x");this._isCollapsed=!0},_expand:function(){var n=this.element.find(".e-active-content"),t=this.element.find("#"+this._id+"_togglebutton");n.slideDown("fast","swing");this.element.find(".e-collapseactive").addClass("e-active").removeClass("e-collapseactive");n.removeClass("e-collapse-content");t.removeClass("e-collapsed").addClass("e-expanded");t.find("span").removeClass("e-rarrowdown-2x").addClass("e-rarrowup-2x");this._isCollapsed=!1},_onGroupExpandClick:function(n){this._trigger("groupExpand",n)},_onApplicationTabClick:function(n){this._trigger("applicationTabClick",n)},_initPrivateProperties:function(){this._tabUl=this.element.find(".e-header");this._applicationTab=this.element.find(".e-apptab");this._ribbonTabs=this._tabUl.find(":not('a')");this._tabText=this.element.find(".e-link");this._id=this.element.attr("id");this._tabObj=this.element.data("ejTab");this._isCollapsed=!1;this._contextualTabSet=""},_getLocalizedLabels:function(n){return t.Ribbon.Locale[this.model.locale][n]===i?t.Ribbon.Locale["en-US"][n]:t.Ribbon.Locale[this.model.locale][n]},_customization:function(){var i,r={},u;this._contextualTabs();i="<div id="+this._id+'_togglebutton class="e-expanded"><span class="e-icon e-rarrowup-2x"><\/span><\/div>';u=t.buildTag("li#"+this._id+"_expandCollapse.e-expandcollapse",i);this._tabUl.append(u);this._applicationTab.click(n.proxy(this._onApplicationTabClick,this));this._applicationTab.find(".e-link").hide();this.model.applicationTab.menuSettings&&(r=this.model.applicationTab.menuSettings);n("#"+this.model.applicationTab.itemID).appendTo(this._applicationTab);n("#"+this.model.applicationTab.itemID).ejMenu(r);n("#"+this._id+"_"+this.model.applicationTab.Type.replace(/\s/g,"")).remove();this.element.find(".e-content").css("box-sizing","content-box")},_conTabsRemove:function(){for(var r=this.element.find(".e-contextli,.e-contextliset"),t,i=0;i<r.length;i++)t=n(r[i]),t.is(":visible")?t.find("li").insertAfter(t.eq(0)):t.find("li").hide().insertAfter(t.eq(0)),t.remove()},_contextualTabs:function(){var f,u,i,r,n,e;if(this.model.contextualTabs.tabs)for(n=0;n<this.model.contextualTabs.tabs.length;n++)f=this.model.contextualTabs.tabs[n],this._contextualTab=this._tabUl.children(".e-contextualtab").eq(0),this._contextualTab.find("a").css("color",f.borderColor),i=t.buildTag("li.e-contextli"),this._contextualTab.is(":hidden")&&(i.hide(),this._contextualTab.show()),this._contextualTab.hasClass("e-disable")&&i.addClass("e-disable"),this._contextualTab.css("background",f.backgroundColor).css("border-color",f.borderColor),this._contextualTab.before(i),r=t.buildTag("ul.e-contextul"),r.append(this._contextualTab),r.appendTo(this.element.find(".e-contextli").eq(n));if(this.model.contextualTabs.tabSet)for(n=0;n<this.model.contextualTabs.tabSet.length;n++){for(u=this.model.contextualTabs.tabSet[n],i=t.buildTag("li.e-contextliset"),this._contextualTabSet=this._tabUl.children(".e-contextualtabset").eq(0),this._contextualTabSet.before(i),this._tabUl.children(".e-contextualtabset").find("a").css("color",u.borderColor),r=t.buildTag("ul.e-contextul","",{background:u.backgroundColor,"border-color":u.borderColor}),e=0;e<u.tabs.length;e++)r.append(this._tabUl.children(".e-contextualtabset").eq(0));r.appendTo(this.element.find(".e-contextliset").eq(n))}},showContextualTab:function(t){this.element.find(".e-contexttitle").filter(function(){return n(this).text()===t}).parent().parent().show()},hideContextualTab:function(t){this.element.find(".e-contexttitle").filter(function(){return n(this).text()===t}).parent().parent().hide();this._tabObj.option({selectedItemIndex:this._tabObj.model.selectedItemIndex+1})},hideTab:function(t){for(var u=this._tabText.map(function(i){if(n(this).text()===t)return i})[0],i,e=this._tabObj.model.disabledItemIndex.length,f=!0,r=0;r<e;r++)this._tabObj.model.disabledItemIndex[r]===u&&(f=!1);f&&(this._isContextualTab(u)?this._tabText.filter(function(){return n(this).text()===t}).parents(".e-contextli").first().hide():this._tabText.filter(function(){return n(this).text()===t}).parent().hide(),i=this._getVisibleItemIndex(this._tabText));i&&this._tabObj.option("selectedItemIndex",i)},showTab:function(t){var i=this._tabText.map(function(i){if(n(this).text()===t)return i})[0];this._isContextualTab(i)?this._tabText.filter(function(){return n(this).text()===t}).parents(".e-contextli").first().show():this._tabText.filter(function(){return n(this).text()===t}).parent().show()},_getVisibleItemIndex:function(t){for(var i=0;i<t.length;){if(n(t[i]).is(":visible"))return i;i++}},_isContextualTab:function(n){var t=this.model.contextualTabs.tabs,i=0;if(t)while(i<t.length){if(this.model.tabs[n-1].id===t[i].id)return!0;i++}return!1},removeTab:function(t){var i,r;this._tabObj.model&&t>0&&(this._ribbonTabs=this._tabUl.find(".e-link").parent(),r=this._ribbonTabs.eq(t).children().attr("href"),i=this._ribbonTabs.eq(t),i.hasClass("e-contextualtab")?i.parent().remove():i.hasClass("e-contextualtabset")?i.siblings(".e-contextualtabset").length===0?i.parent().remove():i.remove():i.remove(),n(r).remove(),this._tabObj.model.selectedItemIndex===t&&(this._ribbonTabs=this._tabUl.find(".e-link").parent(),i=this._ribbonTabs.eq(t),i.addClass("e-active"),r=i.children().attr("href"),n(r).addClass("e-active-content e-activetop").show()))},setTabText:function(t,i){this._tabText.filter(function(){return n(this).text()===t}).text(i)},getTabText:function(n){return this._tabText.eq(n).text()},isVisible:function(t){var i=this._tabText.filter(function(){return n(this).text()===t}).parent();return i.is(":visible")},isEnable:function(t){for(var r=!0,u=this._tabText.filter(function(){return n(this).text()===t}).parent().index(),i=0;i<this.model.disabledItemIndex.length;i++)this.model.disabledItemIndex[i]==u&&(r=!1);return r},_renderTab:function(){var f=t.buildTag("ul"),r,u,c=this.model.applicationTab.Type,o,s,h,i,e;for(u=t.buildTag("a","",{},{href:"#"+this._id+"_"+c.replace(/\s/g,"")}),r=t.buildTag("li.e-apptab",u),f.append(r),i=0;i<this.model.tabs.length;i++)o=this.model.tabs[i],u=t.buildTag("a",o.text,{},{href:"#"+this._id+"_"+o.id}),r=t.buildTag("li",u).addClass("e-tab"),f.append(r);if(this.model.contextualTabs.tabs)for(i=0;i<this.model.contextualTabs.tabs.length;i++)s=this.model.contextualTabs.tabs[i],u=t.buildTag("a",s.text,{},{href:"#"+this._id+"_"+s.id}),r=t.buildTag("li",u).addClass("e-contextualtab"),f.append(r);if(this.model.contextualTabs.tabSet)for(i=0;i<this.model.contextualTabs.tabSet.length;i++)for(e=0;e<this.model.contextualTabs.tabSet[i].tabs.length;e++)h=this.model.contextualTabs.tabSet[i].tabs[e],u=t.buildTag("a",h.text,{},{href:"#"+this._id+"_"+h.id}),r=t.buildTag("li",u).addClass("e-contextualtabset"),f.append(r);this.element.append(f);this.element.ejTab({width:this.model.width,disabledItemIndex:this.model.disabledItemIndex,enabledItemIndex:this.model.enabledItemIndex,itemActive:n.proxy(this._onTabSelect,this),beforeActive:n.proxy(this._onTabClick,this),itemAdd:n.proxy(this._onTabAdd,this),itemRemove:n.proxy(this._onTabRemove,this),beforeItemRemove:n.proxy(this._beforeTabRemove,this),create:n.proxy(this._create,this),selectedItemIndex:this.model.selectedItemIndex})},_groupingControls:function(){var b=this.model.tabs.length,it,i,w,v,k,d,rt=!1,ut,ft,g,f={},et,u=0,l,a,s,h,p,r,nt,tt,y,e,o,c;if(this.model.contextualTabs.tabs)for(nt=0;nt<this.model.contextualTabs.tabs.length;nt++)this.model.tabs[b]=this.model.contextualTabs.tabs[nt],++b;if(this.model.contextualTabs.tabSet)for(tt=0;tt<this.model.contextualTabs.tabSet.length;tt++)for(it=this.model.contextualTabs.tabSet[tt],y=0;y<it.tabs.length;y++)this.model.tabs[b]=it.tabs[y],++b;for(p=0;p<this.model.tabs.length;p++)for(i=this.model.tabs[p],r=0;r<i.groups.length;r++){if(d=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_content"),i.groups[r].type==="custom")i.groups[r].contentID?(k=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+i.groups[r].type+"_"+r).addClass("e-innerdiv"),n("#"+i.groups[r].contentID).appendTo(k)):k=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+i.groups[r].type+"_"+r,i.groups[r].content).addClass("e-innerdiv"),d.append(k);else if(i.groups[r].content)for(y=0;y<i.groups[r].content.length;y++)for(e=i.groups[r].content[y].groups,o=i.groups[r].content[y].defaults,i.groups[r].content.length==1&&(rt=!0),i.groups[r].alignType===t.Ribbon.alignType.columns?v=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+u).addClass("e-innerdiv"):i.groups[r].alignType===t.Ribbon.alignType.rows&&(v=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+u).addClass("e-innerdivrow"),++u),u=0;u<e.length;u++)t.isNullOrUndefined(e[u].type)&&!t.isNullOrUndefined(o)&&(e[u].type=o.type),t.isNullOrUndefined(e[u].isBig)&&!t.isNullOrUndefined(o)&&(e[u].isBig=o.isBig),t.isNullOrUndefined(e[u].height)&&!t.isNullOrUndefined(o)&&(e[u].height=o.height),t.isNullOrUndefined(e[u].width)&&!t.isNullOrUndefined(o)&&(e[u].width=o.width),e[u].type===t.Ribbon.type.splitButton?(l=e[u],this._splitButtonControl=t.buildTag("button#"+this._id+"_"+l.id,l.text).addClass(l.cssClass),i.groups[r].alignType===t.Ribbon.alignType.columns?c=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+l.id,this._splitButtonControl).addClass("e-controlpadding").attr("title",l.toolTip):i.groups[r].alignType===t.Ribbon.alignType.rows&&(c=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+l.id,this._splitButtonControl).addClass("e-innerdivchild e-controlpadding").attr("title",l.toolTip)),f={},l.buttonSettings&&(f=l.buttonSettings),f.height=t.isNullOrUndefined(f.height)?e[u].height:f.height,f.width=t.isNullOrUndefined(f.width)?e[u].width:f.width,this._splitButtonControl.ejSplitButton(f),l.isBig?c.children().removeAttr("style").addClass("e-big"):c.children().removeAttr("style").addClass("e-small"),v.append(c),e[u].enableSeparator&&i.groups[r].alignType===t.Ribbon.alignType.rows&&(h=t.buildTag("div#"+this._id+"_separator_"+l.id).addClass("e-separatordivrow"),t.isNullOrUndefined(o.height)?l.isBig?h.addClass("e-big"):h.addClass("e-small"):h.height(o.height),v.append(h))):e[u].type===t.Ribbon.type.button?(a=e[u],this._buttonControl=t.buildTag("button#"+this._id+"_"+a.id,a.text).addClass(a.cssClass),i.groups[r].alignType===t.Ribbon.alignType.columns?c=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+a.id,this._buttonControl).addClass("e-controlpadding").attr("title",a.toolTip):i.groups[r].alignType===t.Ribbon.alignType.rows&&(c=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+a.id,this._buttonControl).addClass("e-innerdivchild e-controlpadding").attr("title",a.toolTip)),f={},a.buttonSettings&&(f=a.buttonSettings),f.height=t.isNullOrUndefined(f.height)?e[u].height:f.height,f.width=t.isNullOrUndefined(f.width)?e[u].width:f.width,this._buttonControl.ejButton(f),a.isBig?c.children().addClass("e-big"):c.children().addClass("e-small"),v.append(c),e[u].enableSeparator&&i.groups[r].alignType===t.Ribbon.alignType.rows&&(h=t.buildTag("div#"+this._id+"_separator_"+a.id).addClass("e-separatordivrow"),t.isNullOrUndefined(o.height)?a.isBig?h.addClass("e-big"):h.addClass("e-small"):h.height(o.height),v.append(h))):e[u].type===t.Ribbon.type.dropDownList&&(s=e[u],this._dropdownControl=t.buildTag("input#"+this._id+"_"+s.id,{type:"text"}).addClass(s.cssClass),i.groups[r].alignType===t.Ribbon.alignType.columns&&s.dropdownSettings?c=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+s.id,this._dropdownControl).append(n("#"+s.dropdownSettings.targetID)).addClass("e-controlpadding").attr("title",s.toolTip):i.groups[r].alignType===t.Ribbon.alignType.rows&&s.dropdownSettings&&(c=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")+"_"+s.id,this._dropdownControl).append(n("#"+s.dropdownSettings.targetID)).addClass("e-innerdivchild e-controlpadding").attr("title",s.toolTip)),f={},s.dropdownSettings&&(f=s.dropdownSettings),f.height=t.isNullOrUndefined(f.height)?e[u].height:f.height,f.width=t.isNullOrUndefined(f.width)?e[u].width:f.width,this._dropdownControl.ejDropDownList(f),v.append(c),e[u].enableSeparator&&i.groups[r].alignType===t.Ribbon.alignType.rows&&(h=t.buildTag("div#"+this._id+"_separator_"+s.id).addClass("e-separatordivrow"),t.isNullOrUndefined(o.height)?h.addClass("e-small"):h.height(o.height),v.append(h))),d.append(v);g=t.buildTag("div.e-contentbottom");ft=t.buildTag("div.e-captionarea",this.model.tabs[p].groups[r].text);g.append(ft);this.model.tabs[p].groups[r].enableGroupExpander&&(ut=t.buildTag("div#"+this._id+"_"+this.model.tabs[p].groups[r].text+"_e-groupexpander.e-icon e-expander e-groupexpander"),g.append(ut));w=t.buildTag("div#"+this._id+"_"+i.id+"_"+i.groups[r].text.replace(/\s/g,"")).addClass("e-groupdiv").click(n.proxy(this._onGroupClick,this));rt&&(w.addClass("e-centeralign"),rt==!1);i.groups[r].width&&w.width(i.groups[r].width);w.append(d);w.append(g);et=this.element.find("#"+this._id+"_"+i.id);et.append(w).addClass("e-parentdiv")}this._setTabContentHeight()},_tabExpandCollapse:function(t){var i,r,u;(i=t.target.tagName=="div"?t.target:t.target.parentNode,u=i.className=="e-expanded"?"collapse":"expand",r={target:n(i),type:t.type,action:u,cancel:!1},this._trigger("onToggleButtonClick",r),r.cancel)||(i.className=="e-expanded"?this._collapse():this._expand())},_wireEvents:function(){this._on(this.element,"keydown",this._OnKeyDown);this._on(this.element.find("#"+this._id+"_togglebutton"),t.eventType.click,this._tabExpandCollapse);this._on(this.element.find(".e-groupexpander"),t.eventType.click,this._onGroupExpandClick)}});t.Ribbon.alignType={rows:"rows",columns:"columns"};t.Ribbon.type={button:"button",splitButton:"splitbutton",dropDownList:"dropdownlist"};t.Ribbon.Locale={};t.Ribbon.Locale["en-US"]={ExpandCollapse:"Expand Collapse"}})(jQuery,Syncfusion)})