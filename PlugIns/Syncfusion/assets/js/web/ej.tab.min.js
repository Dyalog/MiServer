/*!
*  filename: ej.tab.min.js
*  version : 12.2.0.36
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i){t.widget("ejTab","ej.Tab",{_rootCSS:"e-tab",element:null,model:null,validTags:["div","span"],_setFirst:!1,defaults:{collapsible:!1,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},disabledItemIndex:[],enabledItemIndex:[],events:"click",idPrefix:"ej-tab-",heightAdjustMode:"content",selectedItemIndex:0,cssClass:"",showCloseButton:!1,showReloadIcon:!1,headerPosition:"top",width:null,height:null,enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,enablePersistence:!1,enabled:!0,ajaxLoad:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,itemActive:null,beforeActive:null,itemAdd:null,itemRemove:null,beforeItemRemove:null,create:null,destroy:null},dataTypes:{cssClass:"string",collapsible:"boolean",events:"string",heightAdjustMode:"enum",selectedItemIndex:"number",enabled:"boolean",ajaxSettings:"data",disabledItemIndex:"data",enabledItemIndex:"data"},_destroy:function(){this._unWireEvents();this._removeBaseClass()},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;for(var i in n)switch(i){case"events":this._off(this.anchors,this.model.events);this._on(this.anchors,n[i],this._tabItemClick);break;case"disabledItemIndex":this._disableItems(n[i]);break;case"enabledItemIndex":this._enableItems(n[i]);break;case"enabled":this._enabledAction(n[i]);break;case"selectedItemIndex":this.showItem(n[i]);break;case"heightAdjustMode":this._setTabsHeightStyle(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"showRoundedCorner":this._roundedCorner(n[i]);break;case"height":this.element.height(n[i]);break;case"width":this.element.width(n[i]);break;case"allowKeyboardNavigation":n[i]?this._on(this.element,"keydown",this._keyPress):this._off(this.element,"keydown");break;case"headerPosition":this.model.headerPosition=n[i];this.model.headerPosition==t.Tab.Position.Top?(this._removeVerticalClass(),this.itemsContainer.remove(),this.itemsContainer.insertBefore(this.element.find(">div").first()),this.element.find("div.e-active-content").removeClass("e-activebottom")):this.model.headerPosition==t.Tab.Position.Bottom?(this._removeVerticalClass(),this.element.find("div.e-active-content").removeClass("e-activetop")):(this.model.headerPosition==t.Tab.Position.Left||this.model.headerPosition==t.Tab.Position.Right)&&this._removeHeaderClass();this._refresh();break;case"showCloseButton":n[i]?(this._addDeleteIcon(),this._on(this.element.find("div.e-delete"),"click",this._tabDeleteClick)):this.element.find("div.e-delete").remove();break;case"showReloadIcon":n[i]?this._addReloadIcon():this.element.find("div.e-reload").remove();break;case"enableRTL":n[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")}},_init:function(){this.tabId=0;this._initialize()},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_initialize:function(){var i;for(this.element.attr("tabindex",0).attr("role","tablist"),this.itemsContainer=this.element.find("ol,ul").eq(0),this.items=this.itemsContainer.find(" > li:has(a[href])"),this.anchors=this.items.find("a[href]"),n(this.anchors).addClass("e-link"),this._preTabIndex=-1,t.isNullOrUndefined(this.model.width)||this.element.width(this.model.width),t.isNullOrUndefined(this.model.height)||this.element.height(this.model.height),this._setTabPosition(this.model.headerPosition),this.model.showCloseButton&&this._addDeleteIcon(),this.model.showReloadIcon&&this._addReloadIcon(),this._wireEvents(this.model.events),this.contentPanels=[],i=0;i<this.anchors.length;i++){var u=this.anchors[i],r=n(u).attr("href"),f=r.split("#")[0];f&&f===location.toString().split("#")[0]&&(r=a.hash,u.href=r);r&&r!=="#"?this._addContentTag(r,i):this.model.disabledItemIndex.push(i)}this._addBaseClass();this.model.headerPosition=="left"||this.model.headerPosition=="right"||this._setTabsHeightStyle(this.model.heightAdjustMode);this._disableTabs();this._roundedCorner(this.model.showRoundedCorner);this.showItem(this.model.selectedItemIndex);this._enabledAction(this.model.enabled)},_enabledAction:function(n){n?this.element.removeClass("e-disable"):this.element.addClass("e-disable")},_setTabPosition:function(n){n==t.Tab.Position.Bottom?(this.itemsContainer.remove(),this.element.append(this.itemsContainer),this.items.removeClass("e-bottom-line"),this.items.addClass("e-top-line")):n==t.Tab.Position.Top?(this.items.removeClass("e-top-line"),this.items.addClass("e-bottom-line")):(n==t.Tab.Position.Left||n==t.Tab.Position.Right)&&this.items.length>0&&(this.model.height?this.itemsContainer.css("height",this.model.height):this.itemsContainer.css("height","100vh"),this.element.addClass("e-vertical"))},_addDeleteIcon:function(){var n,i;this.element.find("div.e-delete").length<=0&&this.items.length>0&&(n=t.buildTag("div.e-icon e-delete","",{},{role:"presentation"}).css("visibility","hidden"),this.model.headerPosition=="left"||this.model.headerPosition=="right"?(i=this.items.find("a"),n.insertBefore(i)):this.items.append(n))},_addReloadIcon:function(){var n,i;this.element.find("div.e-reload").length<=0&&this.items.length>0&&(n=t.buildTag("div.e-icon e-reload","",{},{role:"presentation"}).css("visibility","hidden"),this.model.headerPosition=="left"||this.model.headerPosition=="right"?(i=this.items.find("a"),n.insertBefore(i)):this.items.append(n))},_addBaseClass:function(){this.element.addClass("e-widget "+this.model.cssClass);this.model.enableRTL&&this.element.addClass("e-rtl");this.model.headerPosition=="left"?this.items.length>0&&this.itemsContainer.addClass("e-left"):this.model.headerPosition=="right"?this.items.length>0&&this.itemsContainer.addClass("e-right"):this.items.length>0&&this.itemsContainer.addClass("e-header");this.items.addClass("e-select e-item").attr("role","tab").attr("tabindex",-1).attr("aria-expanded",!0).attr("aria-selected",!1);n(this.contentPanels).addClass("e-content  e-content-item").attr("role","tabpanel").attr("aria-hidden",!0)},_removeHeaderClass:function(){this.itemsContainer.remove();this.itemsContainer.insertBefore(this.element.find(">div").first());this.items.removeClass("e-bottom-line e-top-line");n(this.contentPanels).removeClass("e-content-bottom e-corner-bottom e-activetop e-activebottom");this.itemsContainer.removeClass("e-header e-left e-right")},_removeVerticalClass:function(){this.element.removeClass("e-vertical");this.itemsContainer.removeClass("e-left e-right").removeAttr("style")},_removeBaseClass:function(){this.element.removeClass("e-tab e-widget");(this.model.headerPosition=="left"||this.model.headerPosition=="right")&&this._removeVerticalClass();this.itemsContainer.removeClass("e-header e-clearall e-select");this.anchors.removeClass("e-link");this.items.removeClass("e-select e-item e-active e-bottom-line e-top-line");n(this.contentPanels).removeClass("e-content  e-content-item");n(this.contentPanels).removeClass("e-content  e-content-item e-content-bottom e-corner-bottom e-activetop e-activebottom e-active-content");n(this.contentPanels).css("display","")},_addContentTag:function(i,r){var f=this._getTabId(i),u=this.element.find("#"+f);u.length||(u=t.buildTag("div.e-content  e-content-item e-content-bottom #"+f).insertAfter(this.contentPanels[r-1]||this.itemsContainer));this.contentPanels=n(this.contentPanels).add(u)},_roundedCorner:function(t){t?(this.element.addClass("e-corner-all"),this.items.addClass("e-corner-top"),n(this.contentPanels).addClass("e-corner-bottom")):this.element.hasClass("e-corner-all")&&(this.element.removeClass("e-corner-all"),this.items.removeClass("e-corner-top"),n(this.contentPanels).removeClass("e-corner-bottom"))},_setTabsHeightStyle:function(i){var u,f,r;if(n(this.contentPanels).height(""),t.Tab.HeightAdjustMode.Fill==i){for(u=this._getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),r=0;r<this.items.length;r++)u-=this._getDimension(n(this.items[r]),"outerHeight");for(f=0,r=0;r<this.contentPanels.length;r++)f=Math.max(f,this._getDimension(n(this.contentPanels[r]),"innerHeight")-this._getDimension(n(this.contentPanels[r]),"height"));n(this.contentPanels).height(u-f).css({overflow:"auto"})}else if(t.Tab.HeightAdjustMode.Auto==i){for(u=0,r=0;r<this.contentPanels.length;r++)u=Math.max(u,this._getDimension(n(this.contentPanels[r]),"outerHeight"));n(this.contentPanels).height(u);this.maxAutoHeight=u}},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={};for(var n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n];for(var t in r)this.style[t]=i[t]}),u},showItem:function(i){var r,u;if(n.inArray(i,this.model.disabledItemIndex)<0&&(r=this,this._preTabIndex=this.model.selectedItemIndex,this.model.selectedItemIndex=i,this.model.selectedItemIndex>=this.contentPanels.length&&(this.model.selectedItemIndex=0),n(this.items[this.model.selectedItemIndex]).attr("aria-expanded",!0).attr("aria-selected",!0).attr("tabindex",0),this.model.selectedItemIndex!=null&&this.model.selectedItemIndex<this.contentPanels.length)){if(this._ajaxLoad(),this.hideItem(this._preTabIndex),i>=0&&this._onBeforeActive(i))return!1;n(this.contentPanels[this.model.selectedItemIndex]).fadeIn(200,"easeOutQuad",function(){if(r._onActive())return!0});this.model.headerPosition=="left"||this.model.headerPosition=="right"?n(this.contentPanels[this.model.selectedItemIndex]).addClass("e-active-content "):u=this.model.headerPosition==t.Tab.Position.Top?"e-activetop":"e-activebottom";n(this.items[this.model.selectedItemIndex]).addClass("e-active").removeClass("e-select");n(this.contentPanels[this.model.selectedItemIndex]).addClass("e-active-content "+u).removeAttr("aria-hidden",!1)}},hideItem:function(i){if(n(this.contentPanels[i]).fadeOut(0),!(this.model.headerPosition=="left"||this.model.headerPosition=="right"))var r=this.model.headerPosition==t.Tab.Position.Top?"e-activetop":"e-activebottom";n(this.items[i]).removeClass("e-active").addClass("e-select");n(this.contentPanels[i]).removeClass("e-active-content "+r).attr("aria-hidden",!0)},_ajaxLoad:function(){var t=n(this.contentPanels[this.model.selectedItemIndex]),i=this.anchors[this.model.selectedItemIndex],r=n(i).attr("href");t.is(":empty")&&r.indexOf("#")!==0&&this._sendAjaxOptions(t,i)},_getTabId:function(n){return n.indexOf("#")?this.model.idPrefix+this._getNextTabId():n.replace("#","")},_getNextTabId:function(){return++this.tabId},_disableTabs:function(){for(var t=0,i;i=this.items[t];t++)n.inArray(t,this.model.disabledItemIndex)>-1&&(n(i).find("a").unbind(this.model.events),this._off(n(i).find("div.e-delete"),"click"),n(this.contentPanels[t]).addClass("e-disable")),n(i)[n.inArray(t,this.model.disabledItemIndex)!=-1&&!n(i).hasClass("e-tab-selected")?"addClass":"removeClass"]("e-disable")},_tabItemClick:function(t){if(this.model.enabled){t.preventDefault();var i;i=this.model.selectedItemIndex==n(this.items).index(n(t.currentTarget))&&this.model.collapsible?-1:n(this.items).index(n(t.currentTarget));i!=this.model.selectedItemIndex&&this.showItem(i)}},_tabDeleteClick:function(t){var r,i;this.model.enabled&&(r=n(t.target),r.hasClass("e-delete")&&(i=n(this.items).index(n(t.target).parent())),i==this.model.selectedItemIndex&&this.items.length>i&&this.model.selectedItemIndex++,this.removeItem(i))},_tabReloadClick:function(t){var i;if(this.model.enabled&&(i=n(t.target),i.hasClass("e-reload"))){var r=this.anchors[this.model.selectedItemIndex],u=n(r).attr("href"),f=n(this.contentPanels[this.model.selectedItemIndex]);u.indexOf("#")!==0?this._sendAjaxOptions(f,r):this.showItem(this.model.selectedItemIndex)}},_sendAjaxOptions:function(t,i){if(this._onBeforeLoad(i))return!0;t.addClass("e-load");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxSettings.type,cache:this.model.ajaxSettings.cache,url:f,data:this.model.ajaxSettings.data,dataType:this.model.ajaxSettings.dataType,contentType:this.model.ajaxSettings.contentType,async:this.model.ajaxSettings.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(i,r.model.selectedItemIndex,u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){u!=null&&n(r).html(u);i.removeClass("e-load");i.html(t).addClass("e-tab-loaded");var f={data:t,url:r,content:i};return this._trigger("ajaxSuccess",f),this._onLoad(r)?!0:void 0},_ajaxErrorHandler:function(n,t){this._trigger("ajaxError",{data:n,url:t});this._onLoad(t)},_createContentPanel:function(t){return n("<div><\/div>").attr("id",t).addClass("e-content  e-content-item e-content-bottom")},_refresh:function(){this._unWireEvents();this._initialize()},_keyPress:function(i){if(this.model.enabled){var f,r,u=n(i.target);if(code=i.keyCode?i.keyCode:i.which?i.which:i.charCode,u.hasClass("e-link")||u.hasClass("e-item"))switch(code){case 39:case 38:i.preventDefault();this.showItem(this.model.selectedItemIndex+1);break;case 37:case 40:i.preventDefault();this.model.selectedItemIndex!=0?this.showItem(this.model.selectedItemIndex-1):this.model.selectedItemIndex==0&&this.showItem(this.getItemsCount()-1);break;case 35:i.preventDefault();this.showItem(this.getItemsCount()-1);break;case 36:i.preventDefault();this.showItem(0)}else if(i.ctrlKey&&!u.hasClass("e-tab"))switch(code){case 38:i.preventDefault();f=n(this.contentPanels).index(u.parent(".e-content"));r=n(this.items[f]);break;case 33:i.preventDefault();r=n(this.items[0]);this.showItem(0);break;case 34:i.preventDefault();r=n(this._headers[this.getItemsCount()-1]);this.showItem(this.getItemsCount()-1)}t.isNullOrUndefined(r)||(r.addClass("e-focus"),r.focus())}},_hoverHandler:function(t){if(t.preventDefault(),this.model.enabled){var i=n(this.items).index(n(t.target).parent());i==-1&&(i=n(this.items).index(n(t.target)));t.type==="mouseout"?n(this.element.find("div.e-delete")[i]).css("visibility","hidden"):n(this.element.find("div.e-delete")[i]).css("visibility","visible");t.type==="mouseout"?n(this.element.find("div.e-reload")[i]).css("visibility","hidden"):n(this.element.find("div.e-reload")[i]).css("visibility","visible")}},_wireEvents:function(n){this._on(this.items,n,this._tabItemClick);this._on(this.itemsContainer,"mouseover",this._hoverHandler);this._on(this.itemsContainer,"mouseout",this._hoverHandler);this._on(this.element.find("div.e-delete"),"click",this._tabDeleteClick);this._on(this.itemsContainer,"focusin",this._focusIn);this._on(this.itemsContainer,"focusout",this._focusOut);this._on(this.element.find("div.e-reload"),"click",this._tabReloadClick)},_unWireEvents:function(){this._off(this.anchors,this.model.events);this._off(this.element.find("div.e-delete"),"click");this._off(this.itemsContainer,"mouseover",this._hoverHandler);this._off(this.itemsContainer,"mouseout",this._hoverHandler);this._off(this.itemsContainer,"focusin",this._focusIn);this._off(this.itemsContainer,"focusout",this._focusOut);this._off(this.element.find("div.e-reload"),"click")},_disableItems:function(t){if(!this.model.enabled)return!1;if(t!=null){for(var i=0;i<t.length;i++)n.inArray(t[i],this.model.disabledItemIndex)==-1&&this.model.disabledItemIndex.push(t[i]);this.model.disabledItemIndex.sort();this._disableTabs()}},_enableItems:function(i){var u,r;if(!this.model.enabled)return!1;for(u=0;u<i.length;u++){if(r=i[u],t.isNullOrUndefined(this.contentPanels[r])||n(this.contentPanels[r]).removeClass("e-disable"),n.inArray(r,this.model.disabledItemIndex)==-1)return!1;this.model.disabledItemIndex=n.grep(this.model.disabledItemIndex,function(n){return n!=r})}this._refresh();this._disableTabs()},disable:function(){for(var t=[],n=0;n<this.getItemsCount();n++)t.push(n);this._disableItems(t);this.model.enabledItemIndex=[];this._unWireEvents()},enable:function(){for(var i=[],t=0;t<this.getItemsCount();t++)n.inArray(t,this.model.enabledItemIndex)<0&&(this.model.enabledItemIndex.push(t),i.push(t)),this._enableItems(t);this.model.disabledItemIndex=[]},getItemsCount:function(){if(this.items)return this.items.length},addItem:function(n,r,u,f){var e,l,a,s,h,c,o,v;this.model.headerPosition=="left"?this.items.length>=0&&this.itemsContainer.addClass("e-left"):this.model.headerPosition=="right"?this.items.length>=0&&this.itemsContainer.addClass("e-right"):this.items.length==0&&this.itemsContainer.addClass("e-header");e=t.buildTag("li.e-select e-item");t.isNullOrUndefined(f)||(l=t.buildTag("span").addClass(f),e.append(l));a=t.buildTag("a",r,{},{href:n});a.appendTo(e);this.model.showCloseButton&&(s=t.buildTag("div.e-icon e-delete "),e.append(s),this._on(s,"click",this._tabDeleteClick));h=n.indexOf("#")==0?n.replace("#",""):this.model.idPrefix+this._getNextTabId();u===i&&(u=this.anchors.length);c=u>=this.items.length;c?e.appendTo(this.itemsContainer):e.insertBefore(this.items[u]);o=this.element.find("#"+h);o.length||(o=this._createContentPanel(h),c?u>0?o.insertAfter(this.contentPanels.eq(-1)):o.appendTo(this.element):o.insertBefore(this.contentPanels[u]));this.model.selectedItemIndex==u?(this.hideItem[u],this.model.selectedItemIndex+=1):(this.hideItem[u],u<this.model.selectedItemIndex&&(this.model.selectedItemIndex+=1));this._refresh();v={tabHeader:this.anchors[u],tabContent:this.contentPanels[u]};this._onAdd(v)},removeItem:function(t){var i,u,r;if(!this.model.enabled)return!1;if(t!=null&&t>-1&&t<this.items.length){if(this._onBrforeRemove({index:t})===!0)return!1;i=n(this.items[t]).remove();u=n(this.contentPanels[t]).remove();i.hasClass("e-active")&&(this.model.selectedItemIndex=t==0?t:t-1);(t<0||t>=this.anchors.length)&&(this.model.selectedItemIndex=0);(this.model.headerPosition=="left"||this.model.headerPosition=="right")&&this.items.length==1?this._removeVerticalClass():this.items.length==1&&this.itemsContainer.removeClass("e-header");this._refresh();r={removedTab:i};this._onRemove(r)}},show:function(){if(!this.model.enabled)return!1;this.element.css("visibility","visible")},hide:function(){if(!this.model.enabled)return!1;this.element.css("visibility","hidden")},_onBeforeLoad:function(n){var t;return t=this.model.selectedItemIndex==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null,url:n}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[this.model.selectedItemIndex],activeIndex:this.model.selectedItemIndex,url:n},this._trigger("ajaxBeforeLoad",t)},_focusIn:function(){!this.model.readOnly&&this.model.allowKeyboardNavigation&&n(this.element).bind("keydown",n.proxy(this._keyPress,this))},_focusOut:function(){n(this.element).unbind("keydown",n.proxy(this._keyPress,this))},_onLoad:function(n){var t;return t=this.model.selectedItemIndex==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null,url:n}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[this.model.selectedItemIndex],activeIndex:this.model.selectedItemIndex,url:n},this._trigger("ajaxLoad",t)},_onActive:function(){var n;return n=this.model.selectedItemIndex==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[this.model.selectedItemIndex],activeIndex:this.model.selectedItemIndex},this._trigger("itemActive",n)},_onBeforeActive:function(n){if(this.model.beforeActive!=null){var t;return t=this.model.selectedItemIndex==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[n],activeIndex:n},this._trigger("beforeActive",t)}},_onAdd:function(n){return this._trigger("itemAdd",n)},_onRemove:function(n){return this._trigger("itemRemove",n)},_onBrforeRemove:function(n){return this._trigger("beforeItemRemove",n)}});t.Tab.HeightAdjustMode={Content:"content",Auto:"auto",Fill:"fill"};t.Tab.Position={Top:"top",Bottom:"bottom",Left:"left",Right:"right"}})(jQuery,Syncfusion)