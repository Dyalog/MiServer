/*!
*  filename: ej.checkbox.min.js
*  version : 12.2.0.36
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i){t.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,validTags:["input"],_setFirst:!1,defaults:{id:null,name:null,value:null,checked:null,enabled:!0,enableTriState:!1,showRoundedCorner:!1,enablePersistence:!1,cssClass:"",text:"",enableRTL:!1,idPrefix:"ej",size:"",checkState:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",checked:"boolean",enablePersistence:"boolean",enableTriState:"boolean",size:"enum",checkState:"enum",enabled:"boolean",idPrefix:"string"},_init:function(){this._setValue();this._renderControl();this.model.enabled&&this._wireEvents();this._setEnabled(this.model.enabled)},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(var r in i)switch(r){case"checked":this.isChecked=i[r];this.isChecked?this._checked():this._unChecked();break;case"enableTriState":i[r]&&this._setIndeterminate(this._indeterminateState);break;case"checkState":this.model.enableTriState&&(this.model.checkState=i[r],this._changeState(this.model.checkState));break;case"cssClass":this._changeSkin(i[r]);break;case"enableRTL":i[r]?n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"):n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass("e-rtl");break;case"text":this._setText(i[r]);break;case"id":this._setIdAttr(i[r]);break;case"name":this.chkbx.attr("name",i[r]);break;case"value":this.chkbx.attr("value",i[r]);break;case"size":this._setSize(i[r]);break;case"showRoundedCorner":this._setRoundedCorner(i[r]);break;case"enabled":this._setEnabled(i[r])}},_destroy:function(){this.chkbx.removeClass("e-checkbox e-input");this.chkbx.insertBefore(this.element);this.element.remove();this.element=this.chkbx},_changeSkin:function(t){this.model.cssClass!=t&&(this.element.removeClass(this.model.cssClass).addClass(t),n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this._indeterminateState=!1;this.model.id==null&&(this.model.id=this.element.attr("id"));this.model.id||(this.model.id=this.element.attr("name"));t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name"));t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value"));this.isChecked=this.element.attr("checked")=="checked"?!0:!1;this.isChecked=this.model.checked==null?this.isChecked:this.model.checked},_setSize:function(n){n==t.CheckboxSize.Medium?this.innerdiv.removeClass("e-chkbox-small").addClass("e-chkbox-medium"):this.innerdiv.removeClass("e-chkbox-medium").addClass("e-chkbox-small")},_setRoundedCorner:function(n){n?this.span.addClass("e-corner-all"):this.span.removeClass("e-corner-all")},_setEnabled:function(n){n?this.enable():this.disable()},_setCheckBoxState:function(){this.model.enableTriState&&(this.model.checkState=="indeterminate"?this._indeterminateState=!0:this.model.checkState=="check"?(this.model.checked=!0,this.isChecked=this.model.checked==null?this.isChecked:this.model.checked):this.model.checkState=="uncheck"&&(this.model.checked=!1,this.isChecked=this.model.checked==null?this.isChecked:this.model.checked))},_renderControl:function(){this._setCheckBoxState();this.maindiv=t.buildTag("span.e-chkbox-wrap e-widget "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id,"",{},{role:"checkbox",tabindex:0});this.innerdiv=n("<div><\/div>");this._setSize(this.model.size);this.span=n("<span><\/span>");this.spanImg=n('<span class="e-chk-image"><\/span>').attr("role","presentation");this.element.addClass("e-input");this.element.attr("id",this.model.id);this._setRoundedCorner(this.model.showRoundedCorner);this.isChecked?(this.spanImg.addClass("e-chk-activeicon"),this.span.addClass("e-chk-act"),this.maindiv.attr({"aria-checked":!0})):(this.span.addClass("e-chk-inact"),this.maindiv.attr({"aria-checked":!1}));this.span.append(this.spanImg);this.innerdiv.append(this.span);this.maindiv.insertBefore(this.element);this.maindiv.append(this.element);this.maindiv.append(this.innerdiv);this._setTextWrapper(this.model.text);this.chkbx=this.element;this.element=this.maindiv;this.model.enableTriState==!0&&this._indeterminateState==!0&&this._setIndeterminate(this._indeterminateState)},_changeState:function(n){n=="indeterminate"?(this.spanImg.removeClass("e-chk-activeicon").addClass("e-chk-indetericon"),this.span.removeClass("e-chk-act").removeClass("e-chk-inact").addClass("e-chk-indeter"),this.maindiv.attr({"aria-checked":"mixed"}),this.element.find("input").prop("enableTriState",!0),this.model.checked=null):n=="check"?(this.spanImg.removeClass("e-chk-indetericon").addClass("e-chk-activeicon"),this.span.removeClass("e-chk-act").removeClass("e-chk-inact").removeClass("e-chk-indeter").addClass("e-chk-act"),this.maindiv.attr({"aria-checked":!0})):n=="uncheck"&&(this.spanImg.removeClass("e-chk-activeicon").removeClass("e-chk-indetericon"),this.span.removeClass("e-chk-act").removeClass("e-chk-indeter").addClass("e-chk-inact"),this.maindiv.attr({"aria-checked":!1}))},_setIndeterminate:function(n){n?(this.spanImg.removeClass("e-chk-activeicon").addClass("e-chk-indetericon"),this.span.removeClass("e-chk-act").removeClass("e-chk-inact").addClass("e-chk-indeter"),this.maindiv.attr({"aria-checked":"mixed"}),this.element.find("input").prop("enableTriState",!0),this.model.checked=null):(this.element.find(".e-chk-indeter").removeClass("e-chk-indeter"),this.element.find(".e-chk-image").removeClass("e-chk-indetericon"),this.element.find("input").removeAttr("enableTriState"),this.element.find("input").prop("enableTriState",!1),this.model.checked?this._checked():this._unChecked())},_setTextWrapper:function(i){i!=""&&(this.txtSpan=t.buildTag("div.e-text",i),this.maindiv.append(this.txtSpan),this.model.enableRTL&&n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"))},_setText:function(n){this.model.text==""&&n!=""?this._setTextWrapper(n):this.txtSpan.html(n)},_setIdAttr:function(t){n("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper");this.chkbx.attr("id",t)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler);this._on(this.element,"focus",this._focusIn);this._on(this.element,"focusout",this._focusOut)},_unWireEvents:function(){this._off(this.element,"click");this._off(this.element,"focus");this._off(this.element,"focusout")},_focusIn:function(){n(this.element).addClass("e-focus");n(this.element).bind("keypress",n.proxy(this._checkUnCheck,this))},_focusOut:function(){n(this.element).removeClass("e-focus");n(this.element).unbind("keypress",n.proxy(this._checkUnCheck,this))},_checkUnCheck:function(n){n.keyCode==32&&(n.preventDefault(),this._checkedHandler())},_checkedHandler:function(n){var t={isChecked:this.isChecked,event:n};return!0==this._trigger("beforeChange",t)?!1:(this.element.find("span:first").hasClass("e-chk-inact")?(this._checked(),this.isChecked=this.model.checked=!0,this.model.enableTriState&&(this._indeterminateState=!0)):this.element.find("span:first").hasClass("e-chk-act")?this.model.enableTriState==!0&&this._indeterminateState==!0?(this._setIndeterminate(!0),this.isChecked=this.model.checked=!0):(this._unChecked(),this.isChecked=this.model.checked=!1):this.element.find("span:first").hasClass("e-chk-indeter")&&(this.isChecked=this.model.checked=!1,this._setIndeterminate(!1),this._indeterminateState=!1),t={isChecked:this.isChecked,event:n},this._trigger("change",t),!0)},_checked:function(){this.element.find("span:first").removeClass("e-chk-inact").addClass("e-chk-act");this.element.find(".e-chk-image").removeClass("e-chk-indetericon").addClass("e-chk-activeicon");this.maindiv.attr({"aria-checked":!0});this.element.find("input[type=checkbox]").prop("checked",!0);this.model.checkState="check"},_unChecked:function(){this.element.find("span:first").removeClass("e-chk-act").addClass("e-chk-inact");this.maindiv.attr({"aria-checked":!1});this.element.find(".e-chk-image").removeClass("e-chk-activeicon").removeClass("e-chk-indetericon");this.element.find("input[type=checkbox]").removeAttr("checked");this.model.checkState="uncheck"},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable").attr("aria-disabled",!0),this._unWireEvents(),this.model.enabled=!1)},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable").attr("aria-disabled",!1),this._wireEvents(),this.model.enabled=!0)},isChecked:function(){if(this.isChecked!=null&&this.isChecked!=i)return this.isChecked}});t.CheckboxSize={Small:"small",Medium:"medium"};t.CheckState={Check:"check",Uncheck:"uncheck",Indeterminate:"indeterminate"}})(jQuery,Syncfusion)