/*!
*  filename: ej.splitbutton.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./ej.menu.min"],n):n()})(function(){(function(n,t){t.widget("ejSplitButton","ej.SplitButton",{element:null,model:null,validTags:["button"],_setFirst:!1,_rootCSS:"e-splitbutton",defaults:{size:"normal",width:"",height:"",enabled:!0,text:null,contentType:"textonly",imagePosition:"imageleft",targetID:null,showRoundedCorner:!1,prefixIcon:null,suffixIcon:null,cssClass:"",enableRTL:!1,create:null,click:null,itemMouseOver:null,itemMouseOut:null,itemSelected:null,destroy:null},dataTypes:{size:"string",enabled:"boolean",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",targetID:"string",prefixIcon:"string",suffixIcon:"string",cssClass:"string",enableRTL:"boolean"},disable:function(){this.element.addClass("e-disable");this.dropbutton.addClass("e-disable").attr("aria-disabled",!0);this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable");this.dropbutton.removeClass("e-disable").attr("aria-disabled",!1);this.model.enabled=!0},_init:function(){this._initialize();this._controlStatus(this.model.enabled);this._wireEvents()},_destroy:function(){this.element.removeClass(this.model.cssClass+" e-select e-corner-left e-btn e-disable e-split-btn");this.dropbutton.remove();n("#"+this.model.targetID).ejMenu("destroy");n("#"+this.model.targetID).insertAfter(this.element);n("#"+this.model.targetID).show()},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(var r in i)switch(r){case"size":this._setSize(i[r]);break;case"width":this._splitbtnWidth(i[r]);break;case"height":this._splitbtnHeight(i[r]);break;case"contentType":this._setContentType(i[r]);break;case"imagePosition":this._setImagePosition(i[r]);break;case"text":this._setText(i[r]);break;case"prefixIcon":this._setMajorIcon(i[r]);break;case"suffixIcon":this._setMinorIcon(i[r]);break;case"enabled":this._controlStatus(i[r]);break;case"targetID":this._setTargetId(i[r]);break;case"showRoundedCorner":this._roundedCorner(i[r]);break;case"cssClass":this._setSkin(i[r]);break;case"enableRTL":this._setRTL(i[r]);n("#"+this.model.targetID).ejMenu({enableRTL:i[r]});break;case"itemMouseOver":n("#"+this.model.targetID).ejMenu({mouseOver:i[r]});break;case"itemMouseOut":n("#"+this.model.targetID).ejMenu({mouseOut:i[r]});break;case"itemSelected":n("#"+this.model.targetID).ejMenu({click:i[r]})}},_setText:function(n){this.model.contentType==t.ContentType.TextOnly?this.element.html(n):this.textspan.html(n)},_setMajorIcon:function(n){this.majorimgtag.removeClass(this.model.prefixIcon);this.majorimgtag.addClass(n)},_setMinorIcon:function(n){this.minorimgtag.removeClass(this.model.suffixIcon);this.minorimgtag.addClass(n)},_setTargetId:function(n){this.model.targetID=n;this._renderContxtMenu()},_setContentType:function(n){n!=this.model.contentType&&(this.element.empty(),this.model.contentType=n,this._renderButtonContent())},_setImagePosition:function(n){this.model.contentType==t.ContentType.TextAndImage&&n!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=n,this._renderButtonContent())},_setRTL:function(n){n?(this.splitwrap.addClass("e-rtl e-btnrtl"),this.dropbutton.css("border-right","medium none"),this.dropbutton.css("border-left-style","")):(this.splitwrap.removeClass("e-rtl e-btnrtl"),this.dropbutton.css("border-left","medium none"),this.dropbutton.css("border-right-style",""));this.model.enableRTL=n;this._roundedCorner(this.model.showRoundedCorner)},_roundedCorner:function(n){n?this.model.enableRTL?(this.element.addClass("e-corner-right"),this.dropbutton.addClass("e-corner-left"),this.element.removeClass("e-corner-left"),this.dropbutton.removeClass("e-corner-right")):(this.element.addClass("e-corner-left"),this.dropbutton.addClass("e-corner-right"),this.element.removeClass("e-corner-right"),this.dropbutton.removeClass("e-corner-left")):this.model.enableRTL?(this.element.removeClass("e-corner-right"),this.dropbutton.removeClass("e-corner-left")):(this.element.removeClass("e-corner-left"),this.dropbutton.removeClass("e-corner-right"))},_controlStatus:function(n){n?this.enable():this.disable()},_setSkin:function(t){this.element.removeClass(this.model.cssClass);this.dropbutton.removeClass(this.model.cssClass);this.element.addClass(t);this.dropbutton.addClass(t);n("#"+this.model.targetID).ejMenu("option","skin",t)},_initialize:function(){this.element.is("button")?this._render():this.element.removeClass("e-splitbutton");this._timeout=null},_render:function(){this.element.addClass(this.model.cssClass+" e-btn e-select e-split-btn").attr("role","button");this.model.text==null||this.model.text==""?this.model.text=this.element.text():this.element.attr("aria-describedby",this.model.text);this.element.empty();this.splitwrap=t.buildTag("span.e-split e-widget");this.splitwrap.insertBefore(this.element);this.innerWrap=t.buildTag("span.e-in-wrap e-box e-padding");this.splitwrap.append(this.innerWrap);this.wrapper=this.splitwrap;this.dropbutton=t.buildTag("button.e-split-btn e-btn e-select "+this.model.cssClass+" e-drp-btn#"+this.element[0].id+"drpbtn","",{},{type:"button"});this.dropdownimg=t.buildTag("span.e-icon e-down-arrow");this.btnimgwrap=t.buildTag("div.e-split-btn-div");this.btnimgwrap.append(this.dropdownimg);this.dropbutton.append(this.btnimgwrap);this.dropbutton.insertAfter(this.element);this.model.contentType==t.ContentType.TextOnly?this.dropbutton.addClass("e-btn-txt"):this.dropbutton.addClass("e-rht-btn");this._setSize(this.model.size);this.element.addClass("e-left-btn");this._renderButtonContent();this.innerWrap.append(this.element,this.dropbutton);this._renderContxtMenu();this._roundedCorner(this.model.showRoundedCorner);this._setRTL(this.model.enableRTL)},_renderButtonContent:function(){if(this.textspan=t.buildTag("span.e-btntxt",this.model.text),this.majorimgtag=t.buildTag("span.e-icon "+this.model.prefixIcon),this.minorimgtag=t.buildTag("span.e-icon "+this.model.suffixIcon),this.imgtxtwrap=t.buildTag("div"),this.model.contentType==t.ContentType.TextAndImage){switch(this.model.imagePosition){case t.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case t.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit");this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case t.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit");this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==t.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==t.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.text(this.model.text))},_setSize:function(n){var t=this.model.height,i=this.model.width;switch(n){case"mini":t==""&&(t="28px");i==""&&(i="63px");this._splitbtnHeight(t);this._splitbtnWidth(i);this.element.css("font-size","12px");break;case"small":t==""&&(t="32px");i==""&&(i="89px");this._splitbtnHeight(t);this._splitbtnWidth(i);this.element.css("font-size","13px");break;case"medium":t==""&&(t="36px");i==""&&(i="113px");this._splitbtnHeight(t);this._splitbtnWidth(i);this.element.css("font-size","14px");break;case"large":t==""&&(t="40px");i==""&&(i="130px");this.element.css("font-size","15px");this._splitbtnHeight(t);this._splitbtnWidth(i);break;default:this._splitbtnHeight(t);this._splitbtnWidth(i)}},_splitbtnHeight:function(n){(n==""||n==null)&&(n="30px");this.splitwrap.css("height",n)},_splitbtnWidth:function(n){this.splitwrap.css("width",n)},_renderContxtMenu:function(){n("#"+this.model.targetID).ejMenu({menuType:t.MenuType.ContextMenu,openOnClick:!1,contextMenuTarget:"",fields:this.model.fields,showArrow:!0,cssClass:this.model.cssClass,enableRTL:this.model.enableRTL,mouseover:n.proxy(this._itemMouseOver,this),mouseout:n.proxy(this._itemMouseOut,this),click:n.proxy(this._itemClick,this)})},_itemClick:function(n){n={status:this.model.enabled,ID:n.ID,text:n.text};this._trigger("itemSelected",n)},_itemMouseOver:function(n){this._trigger("itemMouseOver",n)},_itemMouseOut:function(n){this._trigger("itemMouseOut",n)},_wireEvents:function(){this._on(this.element,"click",this._btnMouseClick);this._on(this.element,"mousedown",this._btnMouseDown);this._on(this.dropbutton,"click",this._btnMouseClick);this._on(n(document),"mousedown",this._docrhtclk)},_btnMouseClick:function(t){var r,i;n(t.currentTarget).hasClass("e-disable")||(t.currentTarget.id!=this.element[0].id+"drpbtn"?(r={status:this.model.enabled},this._trigger("click",r)):(i=this.dropbutton,position=this._getXYpos(t),this.contstatus?this._hidecontext(t):(this.model.enableRTL?(n("#"+this.model.targetID).ejMenu("show",position.x-(n("#"+this.model.targetID).width()-this.dropbutton.width()),position.y,i,t),this.contstatus=!0):(n("#"+this.model.targetID).ejMenu("show",position.x,position.y,i,t),this.contstatus=!0),this.element.bind("click",n.proxy(this._hidecontext,this)))),this.contstatus&&this._on(n(document),"mousedown",this._documentClick))},_getXYpos:function(){var n,t,i,r=1;return n=this._getOffset(this.dropbutton),t=n.left-r,i=n.top+this.dropbutton.outerHeight()-r,{x:t,y:i}},_getOffset:function(t){var i=t.offset(),r;return n("body").css("position")!="static"&&(r=n("body").offset(),i.left-=r.left,i.top-=r.top),i},_btnMouseDown:function(t){n(t.currentTarget).hasClass("e-disable")||this._docrhtclk(t)},_hidecontext:function(t){n(t.target).is(this.element)||n(t.target).is(this.textspan)||n(t.target).is(this.imgtxtwrap)||n(t.target).is(this.splitwrap)||n(t.target).parents().is(n("#"+this.model.targetID))||(n("#"+this.model.targetID).ejMenu("hide",t),this.contstatus=!1,this.element.unbind("click",n.proxy(this._hidecontext,this)),this._off(n(document),"mousedown",this._documentClick))},_documentClick:function(t){n(t.target).is(this.element)||n(t.target).is(this.textspan)||n(t.target).is(this.imgtxtwrap)||n(t.target).is(this.splitwrap)||n(t.target).parents().is(n("#"+this.model.targetID))||(n("#"+this.model.targetID).ejMenu("hide",t),this.contstatus=!1,this._off(n(document),"mousedown",this._documentClick))},_docrhtclk:function(n){var t,i;t=!1;n.button?t=n.button==2:n.which&&(t=n.which==3);i=n.target;t&&n.preventDefault()}});t.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"};t.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"};t.ButtonSize={Mini:"mini",Small:"small",Medium:"medium",Large:"large"}})(jQuery,Syncfusion)})