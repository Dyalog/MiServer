/*!
*  filename: ej.tools.min.js
*  version : 13.2.0.29
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t){t.widget("ejAccordion","ej.Accordion",{_rootCSS:"e-acrdn",element:null,model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{collapsible:!1,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},events:"click",customIcon:{header:"e-collaps",selectedHeader:"e-expand"},heightAdjustMode:"content",height:null,width:null,headerSize:null,enableAnimation:!0,selectedItemIndex:0,cssClass:"",enableRTL:!1,showRoundedCorner:!1,allowKeyboardNavigation:!0,enableMultipleOpen:!1,expandSpeed:300,collapseSpeed:300,selectedItems:[],disabledItems:[],enabledItems:[],enablePersistence:!1,enabled:!0,htmlAttributes:{},ajaxLoad:null,ajaxBeforeLoad:null,activate:null,beforeActivate:null,inActivate:null,beforeInactivate:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null},dataTypes:{cssClass:"string",collapsible:"boolean",enabled:"boolean",events:"string",heightAdjustMode:"enum",ajaxSettings:"data",customIcon:"data",selectedItems:"data",disabledItems:"data",enableAnimation:"boolean",htmlAttributes:"data"},_setModel:function(t){var i,r,u;for(i in t)switch(i){case"events":this._off(this._headers,this.model.events);this._on(this._headers,t[i],this._headerEventHandler);break;case"disabledItems":this.disableItems(t[i]);break;case"enabledItems":this.enableItems(t[i]);break;case"enabled":this._enabledAction(t[i]);break;case"selectedItemIndex":this.model.enableMultipleOpen||this._activeTab(t[i]);break;case"heightAdjustMode":this._setHeightStyle(t[i]);break;case"cssClass":this._changeSkin(t[i]);break;case"showRoundedCorner":this._roundedCorner(t[i]);break;case"customIcon":r=this.model.customIcon;u=t[i];this._headers.find("span."+r.header).removeClass(r.header).addClass(u.header);this._headers.find("span."+r.selectedHeader).removeClass(r.selectedHeader).addClass(u.selectedHeader);break;case"height":this.element.height(t[i]);this.model.height=t[i];this.model.heightAdjustMode!="fill"?this._getHeight()>this.element.height()&&(this._scrollerObj?this._scrollerObj.option({height:this.element.height()}):this._setScoller()):this._setHeight();break;case"width":this.element.width(t[i]);this._scrollerObj&&this._scrollerObj.option("width",t[i]);t[i].toString().indexOf("%")?n(window).bind("resize",n.proxy(this._scrollerRefresh,this)):n(window).unbind("resize",n.proxy(this._scrollerRefresh,this));this._scrollerObj&&this._scrollerObj.refresh();break;case"headerSize":this.model.headerSize=t[i];this._setHeaderSize();break;case"allowKeyboardNavigation":t[i]?(this._off(this.element,"keydown"),this._on(this.element,"keydown",this._keyPress)):this._off(this.element,"keydown");break;case"enableRTL":t[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");this._scrollerObj&&this._scrollerObj.option("enableRTL",t[i]);break;case"selectedItems":this._showHideSelectedItems(t[i]);break;case"expandSpeed":this.model.expandSpeed=parseInt(this.model.expandSpeed);case"collapseSpeed":this.model.collapseSpeed=parseInt(this.model.collapseSpeed);case"htmlAttributes":this._addAttr(t[i])}},_destroy:function(){this._removeBaseClass();this.element.children(".e-disable").removeClass("e-disable");this.element.removeClass("e-acrdn e-corner");this._headers.removeClass("e-active  e-state-disabled");this._contentPanels.removeClass("e-content-active e-disable");n(this._headers.find(".e-icon")).remove();this.model.height&&this._contentPanels.height("auto");this.model.width&&this._contentPanels.width("auto");this._scrollerObj&&this._scrollerObj.destroy()},_init:function(){this._renderControl()},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):t=="disabled"&&n=="disabled"?i.disable():i.element.attr(t,n)})},_renderControl:function(){this._headers=this.element.find("> :even");this.element.attr("tabindex",0).attr("role","tablist");this._contentPanels=this._headers.next();this._nagativeIndexCheck(this.model.selectedItemIndex);this._addBaseClass();this._addAttr(this.model.htmlAttributes);t.buildTag("span.e-icon "+this.model.customIcon.header).prependTo(this._headers);this._selectedItemsAction(this.model.selectedItems);this.model.width=this.model.width||this.element.css("width");this.model.height&&this.element.css("height",this.model.height);this._setHeightStyle(this.model.heightAdjustMode);this.element.css("width",this.model.width);this.model.enableMultipleOpen||this._renderHeaderIcon();t.isNullOrUndefined(this.model.headerSize)||this._setHeaderSize();this._wireEvents();this._roundedCorner(this.model.showRoundedCorner);this._enabledAction(this.model.enabled);this.disableItems(this.model.disabledItems);this._setEnabledItems()},_setHeight:function(){var t=this,r=0,u=0,i;this.element.css("height",this.model.height);maxHeight=this.element.height();this._contentPanels.css("height","auto");this._scrollerObj&&this._scrollerObj.option("height",this.element.height());this._headers.each(function(i){maxHeight-=n(this).outerHeight();r+=n(this).outerHeight();n(t._contentPanels[i]).hasClass("e-acrdn-content-active")&&(u+=n(t._contentPanels[i]).outerHeight())});maxPadding=0;i=this.element.height()-(u+r);i>0?this._contentPanels.each(function(){n(this).height(n(this).height()+i/t.element.find(".e-select.e-active").length)}):this._setScoller();this._scrollerObj&&this._scrollerObj.refresh()},_setScoller:function(){if(this.element.parent(".e-acrdn-scroller.e-scroller").length<1){this.scroller=t.buildTag("div.e-acrdn-scroller");this.element.wrap(this.scroller);var n=this.element.css("width");this.element.parent(".e-acrdn-scroller").ejScroller({height:this.element.height(),width:this.model.width});this.element.css("width",n);this._scrollerObj=this.element.parent(".e-js").data("ejScroller");this.model.showRoundedCorner&&this.element.parent(".e-acrdn-scroller").addClass("e-corner");this.model.enableRTL&&this._scrollerObj.option("enableRTL",!0)}},_setHeaderSize:function(){var t=this;this._headers.each(function(){n(this).css({"padding-top":0,"padding-bottom":0});n(this).css("height",t.model.headerSize);n(n(this).find("a[href]")).css("line-height",t.model.headerSize);n(this).find(".e-icon").length>0&&n(this).find(".e-icon").css("margin-top",n(this).height()/2-5)});this.model.height&&(this.model.heightAdjustMode!="fill"?this._getHeight()>this.element.height()&&(this._scrollerObj?this._scrollerObj.refresh():this._setScoller()):this._setHeight(),this._scrollerObj&&this._scrollerObj.refresh())},_getHeight:function(){var t=0,i=0,r=this;return this._headers.each(function(u){t+=n(this).outerHeight();n(r._contentPanels[u]).hasClass("e-acrdn-content-active")&&(i+=n(r._contentPanels[u]).outerHeight())}),t+i},_setEnabledItems:function(){for(var t=0;t<this.getItemsCount();t++)n.inArray(t,this.model.disabledItems)<0&&n.inArray(t,this.model.enabledItems)<0&&this.model.enabledItems.push(t)},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_showHideSelectedItems:function(n){var r,i,t;if(this.model.enableMultipleOpen&&n instanceof Array){for(t=0;t<n.length;t++)n[t]>=0&&this._headers.eq(n[t]).attr("aria-selected")!="true"&&this._activeTab(n[t],!0);for(r=this.model.selectedItems.length,i=JSON.parse(JSON.stringify(this.model.selectedItems)),t=0;t<r;t++)n.indexOf(i[t])==-1&&this._hideTab(i[t])}},_selectedItemsAction:function(n){if(this.model.enableMultipleOpen&&n instanceof Array&&n.length>0)for(var t=0;t<n.length;t++)this._activeTab(n[t],!0);else this.collapseALL&&this.model.collapsible||this._activeTab(this.model.selectedItemIndex,!0)},_enabledAction:function(n){n?this.element.removeClass("e-disable"):this.element.addClass("e-disable")},_addBaseClass:function(){this.element.addClass(this.model.cssClass+" e-widget");this.model.enableRTL&&this.element.addClass("e-rtl");this._headers.addClass(" e-select").attr("role","tab").attr("tabindex",0);this._contentPanels.addClass("e-content").attr("role","tabpanel").attr("aria-hidden",!0).hide();this.model.enableMultipleOpen||n(this._contentPanels[this.model.selectedItemIndex]).show()},_removeBaseClass:function(){this._headers.removeClass(" e-select");this._contentPanels.removeClass("e-content").show()},_roundedCorner:function(n){n?this.element.addClass("e-corner"):this.element.hasClass("e-corner")&&this.element.removeClass("e-corner")},_nagativeIndexCheck:function(n){var i,t;if(n<0&&this.model.collapsible)for(this.collapseALL=!0,i=this.getItemsCount(),t=0;t<i;t++)this._hideTab(t);else(n<0||n>=this._headers.length)&&(this.model.selectedItemIndex=0)},_activeTab:function(t,i){var u,f,r;if(n.inArray(t,this.model.disabledItems)<0){if(u={activeIndex:t},!0===this._trigger("beforeActivate",u))return!1;this.model.enableMultipleOpen||this._hideTab(this.model.selectedItemIndex);this.model.selectedItemIndex=t;f=this.model.customIcon;this._headers.attr("tabindex",0).removeAttr("aria-expanded");this._activeHeader=this._headers.eq(t).addClass("e-active ").attr("aria-selected",!0).attr("tabindex",0).attr("aria-expanded",!0);this._activeHeader.find(".e-icon").removeClass(f.header).addClass(f.selectedHeader);this._addSelectedItems(t);this._ajaxLoad();this._roundedCorner(this.model.showRoundedCorner);u={activeHeader:this._activeHeader,activeIndex:this.model.selectedItemIndex};r=this;this._activeContent=this._activeHeader.next().addClass("e-acrdn-content-active").removeAttr("aria-hidden",!1).slideDown(this.model.enableAnimation?this.model.expandSpeed:0,"easeOutQuad",function(){i||r._trigger("activate",u);r.model.height&&(r.model.heightAdjustMode!="fill"?r._getHeight()>r.element.height()&&(r._scrollerObj?r._scrollerObj.refresh():r._setScoller()):r._setHeight(),r._scrollerObj&&r._scrollerObj.refresh())})}},_hideTab:function(n){var r=this.model.customIcon,i,t;if(n>=0){if(i={inActiveIndex:n},!0===this._trigger("beforeInactivate",i))return!1;this._activeHeader=this._headers.eq(n).removeClass("e-active ").removeAttr("aria-selected").attr("tabindex",0).attr("aria-expanded",!1);this._activeHeader.find(".e-icon").removeClass(r.selectedHeader).addClass(r.header);i={inActiveHeader:this._activeHeader,inActiveIndex:n};t=this;this._activeHeader.next().removeClass("e-acrdn-content-active").attr("aria-hidden",!0).slideUp(this.model.enableAnimation?this.model.collapseSpeed:0,"easeOutQuad",function(){t._trigger("inActivate",i);t.model.height&&(t.model.heightAdjustMode!="fill"?t._getHeight()>t.element.height()&&(t._scrollerObj?t._scrollerObj.refresh():t._setScoller()):t._setHeight());t._scrollerObj&&t._scrollerObj.refresh()});this._deleteSelectedItems(n)}},_renderHeaderIcon:function(){if(this._headers.find(".e-icon").length<=0){var n=this.model.customIcon;n&&(this.collapseALL&&this.model.collapsible||this._headers.eq(this.model.selectedItemIndex).find(".e-icon").removeClass(n.header).addClass(n.selectedHeader))}},_ajaxLoad:function(){var t=this._activeHeader.find("a[href]"),r,i;t.length>0&&(r=n(this._contentPanels[this.model.selectedItemIndex]),i=n(t).attr("href"),i&&i!=="#"&&this._sendAjaxOptions(r,t[0]))},_sendAjaxOptions:function(t,i){if(!0===this._trigger("ajaxBeforeLoad",{url:i}))return!1;t.addClass("e-load");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxSettings.type,cache:this.model.ajaxSettings.cache,url:f,data:this.model.ajaxSettings.data,dataType:this.model.ajaxSettings.dataType,contentType:this.model.ajaxSettings.contentType,async:this.model.ajaxSettings.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(data,i,r.model.selectedItemIndex,u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){u!=null&&n(r).html(u);i.removeClass("e-load");i.html(t).addClass("e-acrdn-loaded");var f={data:t,url:r,content:i};this._trigger("ajaxSuccess",f);this._trigger("ajaxLoad",{url:r})},_ajaxErrorHandler:function(n,t){this._trigger("ajaxError",{data:n,url:t});this._trigger("ajaxLoad",{url:t})},_setHeightStyle:function(i){var u=this,r,f;t.Accordion.HeightAdjustMode.Fill==i?this.model.height!=null?this._setHeight():(r=this._getDimension(n(this.element).parent(),"height"),n(this.element).parent().css({overflow:"auto"}),u._headers.each(function(){r-=u._getDimension(n(this),"outerHeight")}),f=0,u._headers.next().each(function(){f=Math.max(f,u._getDimension(n(this),"innerHeight")-u._getDimension(n(this),"height"))}).height(r-f).css({overflow:"auto"})):t.Accordion.HeightAdjustMode.Auto==i&&(r=0,u._headers.next().each(function(){r=Math.max(r,u._getDimension(n(this),"outerHeight"))}).height(r),this.maxAutoHeight=r);t.Accordion.HeightAdjustMode.Fill!=i&&this.model.height&&this._getHeight()>this.element.height()&&this._setScoller()},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={};for(var n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n];for(var t in r)this.style[t]=i[t]}),u},_headerEventHandler:function(t){if(this.model.enabled){t.preventDefault();var r=n(t.currentTarget),i=this._headers.index(r);this.model.enableMultipleOpen&&this._headers.eq(i).hasClass("e-active")?this._hideTab(i):this.model.selectedItemIndex==i&&this.model.collapsible?(this._hideTab(this.model.selectedItemIndex),this.model.selectedItemIndex=-1):this._headers.eq(i).hasClass("e-active")||this._activeTab(i)}},_addSelectedItems:function(t){n.inArray(t,this.model.selectedItems)<0&&this.model.selectedItems.push(t)},_deleteSelectedItems:function(t){n.inArray(t,this.model.selectedItems)>-1&&(position=n.inArray(t,this.model.selectedItems),this.model.selectedItems.splice(position,1))},_deleteDisabledItems:function(t){n.inArray(t,this.model.disabledItems)>-1&&(position=n.inArray(t,this.model.disabledItems),this.model.disabledItems.splice(position,1))},_addEnabledItems:function(t){n.inArray(t,this.model.enabledItems)<0&&this.model.enabledItems.push(t)},_deleteEnabledItems:function(t){n.inArray(t,this.model.enabledItems)>-1&&(position=n.inArray(t,this.model.enabledItems),this.model.enabledItems.splice(position,1))},_keyPress:function(i){if(this.model.enabled){var r,u,f=n(i.target);if((f.hasClass("e-select")||f.hasClass("e-acrdn"))&&(r=this.model.selectedItemIndex),code=i.keyCode?i.keyCode:i.which?i.which:i.charCode,f.hasClass("e-select")||f.hasClass("e-acrdn"))switch(code){case 39:case 40:i.preventDefault();r=r==this.getItemsCount()-1?0:r+1;this._activeTab(r);u=n(this._headers[r]);break;case 38:case 37:i.preventDefault();r=r==0?this.getItemsCount()-1:r-1;this._activeTab(r);u=n(this._headers[r]);break;case 35:i.preventDefault();u=n(this._headers[this.getItemsCount()-1]);this._activeTab(this.getItemsCount()-1);break;case 36:i.preventDefault();u=n(this._headers[0]);this._activeTab(0);break;case 32:case 13:i.preventDefault();n(this._headers[r]).hasClass("e-active")&&(this.model.enableMultipleOpen||this.model.collapsible)?this._hideTab(r):this._activeTab(r)}else if(i.ctrlKey&&!f.hasClass("e-acrdn"))switch(code){case 38:i.preventDefault();r=this._contentPanels.index(f.parent(".e-content"));u=n(this._headers[r]);this._activeTab(r);break;case 33:i.preventDefault();u=n(this._headers[0]);this._activeTab(0);break;case 34:i.preventDefault();u=n(this._headers[this.getItemsCount()-1]);this._activeTab(this.getItemsCount()-1)}t.isNullOrUndefined(u)||(u.addClass("e-focus"),u.focus())}},_wireEvents:function(){this._on(this._headers,this.model.events,this._headerEventHandler);this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._keyPress);this.model.height&&this.model.width&&this.model.width.toString().indexOf("%")!=-1&&n(window).bind("resize",n.proxy(this._scrollerRefresh,this))},_scrollerRefresh:function(){this.model.height&&(this.model.heightAdjustMode!="fill"?this._getHeight()>this.model.height&&(this._scrollerObj?this._scrollerObj.refresh():this._setScoller()):this._setHeight())},_unWireEvents:function(){this._off(this._headers,this.model.events);this.model.allowKeyboardNavigation&&this._off(this.element,"keydown")},enableItems:function(t){if(!this.model.enabled)return!1;if(n.isArray(t))for(var i=0;i<t.length;i++)n(this._headers[t[i]]).removeClass("e-disable"),n(this._contentPanels[t[i]]).removeClass("e-disable"),this._on(n(this._headers[t[i]]),this.model.events,this._headerEventHandler),this.model.enabledItems.indexOf(t[i])==-1&&this.model.enabledItems.push(t[i]),this._deleteDisabledItems(t[i]);else n(this._headers[t]).removeClass("e-disable"),n(this._contentPanels[t]).removeClass("e-disable"),this._on(n(this._headers[t]),this.model.events,this._headerEventHandler),this.model.enabledItems.indexOf(t[i])==-1&&this.model.enabledItems.push(t[i]),this._deleteDisabledItems(t)},disableItems:function(t){if(!this.model.enabled)return!1;if(n.isArray(t))for(var i=0;i<t.length;i++)n(this._headers[t[i]]).addClass("e-disable"),n(this._contentPanels[t[i]]).addClass("e-disable"),n(this._headers[t[i]]).unbind(this.model.events),this.model.disabledItems.indexOf(t[i])==-1&&this.model.disabledItems.push(t[i]),this._deleteEnabledItems(t[i]);else n(this._headers[t]).addClass("e-disable"),n(this._contentPanels[t]).addClass("e-disable"),n(this._headers[t]).unbind(this.model.events),this.model.disabledItems.indexOf(t[i])==-1&&this.model.disabledItems.push(t),this._deleteEnabledItems(t[i])},collapseAll:function(){if(this.model.collapsible){this.model.selectedItemIndex=null;for(var n=0;n<this.getItemsCount();n++)this._hideTab(n)}},expandAll:function(){if(this.model.enableMultipleOpen)for(var n=0;n<this.getItemsCount();n++)this._activeTab(n),this.model.selectedItemIndex=n},disable:function(){for(var i,t=0;t<this._headers.length;t++)n(this._headers[t]).addClass("e-disable"),n(this._contentPanels[t]).addClass("e-disable"),this.model.disabledItems.push(t);this.model.enabledItems=[];n(this.element.parent(".e-scroller")).addClass(".e-disable");this._scrollerObj&&(i=n(this.element.parent(".e-scroller")).find(".e-vscrollbar"),i.length>0&&this._scrollerObj.disable());this._unWireEvents()},enable:function(){for(var t=0;t<this._headers.length;t++)n(this._headers[t]).removeClass("e-disable"),n(this._contentPanels[t]).removeClass("e-disable");this.model.disabledItems=[];this._setEnabledItems();this._scrollerObj&&this._scrollerObj.enable();this._unWireEvents();this._wireEvents()},_selected:function(n){if(!this.model.enabled)return!1;n!=null&&this.model.selectedItemIndex!=n&&this._activeTab(n)},show:function(){if(!this.model.enabled)return!1;this.element.css("visibility","visible")},hide:function(){if(!this.model.enabled)return!1;this.element.css("visibility","hidden")},getItemsCount:function(){if(this._headers)return this._headers.length}});t.Accordion.HeightAdjustMode={Content:"content",Auto:"auto",Fill:"fill"}})(jQuery,Syncfusion),function(n,t){t.widget("ejProgressBar","ej.ProgressBar",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-progressbar",defaults:{text:"",cssClass:"",minValue:0,maxValue:100,value:0,percentage:0,height:null,htmlAttributes:{},width:null,enabled:!0,enableRTL:!1,showRoundedCorner:!1,enablePersistence:!1,start:null,complete:null,change:null,create:null,destroy:null},dataTypes:{cssClass:"string",minValue:"number",maxValue:"number",enabled:"boolean",enableRTL:"boolean",showRoundedCorner:"boolean",htmlAttributes:"data"},_setValue:function(n){n==null?n=this.model.minValue:typeof n=="string"&&(n=parseFloat(n));this._isNumber(n)?this.model.value=n:this._isNumber(this.model.value)||(this.model.value=this.model.minValue);this.model.value=this._validateRange(this.model.value,this.model.minValue,this.model.maxValue);this._setProgressValue()},_setPercent:function(n){this.initial=this.model.percentage;this.initial==100&&(this.initial=0);n==null?n=0:typeof n=="string"&&(n=parseFloat(n));this._isNumber(n)?this.model.percentage=n:this._isNumber(this.model.percentage)||(this.model.percentage=0);this.model.percentage=this._validateRange(this.model.percentage,0,100);this.model.value=this._percentToValue(this.model.percentage);this._increaseProgressWidth()},_validateMinMax:function(){isNaN(this.model.minValue)&&(this.model.minValue=0);isNaN(this.model.maxValue)&&(this.model.maxValue=100)},_setText:function(n){n?this.text?this.text.html(n):(this.text=t.buildTag("div.e-progress-txt",n),this.element.append(this.text),this._setTop()):this.text&&(this.text.remove(),this.text=null)},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},enable:function(){this.element.removeClass("e-disable");this.model.enabled=!0},disable:function(){this.element.addClass("e-disable");this.model.enabled=!1},getValue:function(){return this.model.value},getPercentage:function(){return this.model.percentage},_init:function(){this._initialize();this._render()},_setModel:function(n){for(var t in n)switch(t){case"value":this._setValue(n[t]);n[t]=this.model.value;break;case"percentage":this._setPercent(n[t]);n[t]=this.model.percentage;break;case"minValue":isNaN(n[t])||this._minValidation(n[t]);n[t]=this.model.minValue;case"maxValue":isNaN(n[t])||this._maxValidation(n[t]);n[t]=this.model.maxValue;case"text":this._setText(n[t]);break;case"height":this._setHeight(n[t]);this.text&&this._setTop();break;case"width":this._setWidth(n[t]);break;case"enabled":this._disabled(!n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"enableRTL":this._rtl(n[t]);break;case"showRoundedCorner":this._roundedCorner(n[t]);break;case"htmlAttributes":this._addAttr(n[t])}},_destroy:function(){this.element.empty();this.element.removeClass("e-widget e-box e-corner "+this.model.cssClass)},_initialize:function(){this.text=null;this.header=null;this._preVal=null},_render:function(){this.element.addClass("e-widget e-box "+this.model.cssClass).attr("role","ProgressBar");this._setDimention();this.header=t.buildTag("div.e-progress");this.element.append(this.header);this._setText(this.model.text);this._setInitialValue();this._addAttr(this.model.htmlAttributes);this._checkProperties();this._roundedCorner(this.model.showRoundedCorner)},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):t=="disabled"&&n=="disabled"?i._disabled(!1):i.element.attr(t,n)})},_setDimention:function(){this._setHeight(this.model.height);this._setWidth(this.model.width)},_setHeight:function(n){n&&this.element.height(n)},_setWidth:function(n){n&&this.element.css("width",n)},_setInitialValue:function(){this._validateMinMax();this.model.percentage?this._setPercent(this.model.percentage):this._setValue(this.model.value)},_disabled:function(n){n?this.disable():this.enable()},_checkProperties:function(){this.model.enableRTL&&this._rtl(this.model.enableRTL);this._minValidation(this.model.minValue);this._maxValidation(this.model.maxValue);this.model.enabled||this._disabled(!0)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_roundedCorner:function(n){n&&!this.element.hasClass("e-corner")?this.element.addClass("e-corner"):this.element.hasClass("e-corner")&&this.element.removeClass("e-corner")},_minValidation:function(n){this.model.maxValue&&this.model.maxValue<n&&(this.model.maxValue=n);this.model.value<n&&(this.model.value=n);this.model.minValue=n;this._setProgressValue()},_maxValidation:function(n){this.model.minValue&&this.model.minValue>n&&(this.model.minValue=n);this.model.value>n&&(this.model.value=n);this.model.maxValue=n;this._setProgressValue()},_setTop:function(){var n=(this.element.height()-this.text.height())/2;this.text.css("top",Math.floor(n))},_increaseProgressWidth:function(){this.header.css("width",this.model.percentage+"%");this.initial==0&&this.model.percentage!=this.initial&&this._raiseEvent("start");this._preVal!=this.model.value&&(this._preVal=this.model.value,n(this.header).attr("aria-label",this.model.percentage),this._raiseEvent("change"),this.model.percentage==100&&this._raiseEvent("complete"))},_raiseEvent:function(n){this._trigger(n,{value:this.model.value,percentage:this.model.percentage})},_setProgressValue:function(){this.initial=this.model.percentage;this.model.percentage=this._valueToPercent(this.model.value);this._increaseProgressWidth()},_isNumber:function(n){return typeof n=="number"&&!isNaN(n)},_validateRange:function(n,t,i){return n<t?t:n>i?i:n},_valueToPercent:function(n){return this.model.maxValue<=this.model.minValue?100:(n=this._validateRange(n,this.model.minValue,this.model.maxValue),100*(n-this.model.minValue)/(this.model.maxValue-this.model.minValue))},_percentToValue:function(n){if(this.model.maxValue<=this.model.minValue)return this.model.minValue;if(n>=0&&n<=100){var t=this.model.maxValue-this.model.minValue,i=t*n/100;n=i+this.model.minValue}else n<0?n=this.model.minValue:n>100&&(n=this.model.maxValue);return n}})}(jQuery,Syncfusion),function(n,t){t.widget("ejRating","ej.Rating",{_rootCSS:"e-rating",element:null,model:null,validTags:["input"],_setFirst:!1,defaults:{maxValue:5,minValue:0,value:1,allowReset:!0,shapeWidth:23,shapeHeight:23,orientation:"horizontal",incrementStep:1,readOnly:!1,htmlAttributes:{},enabled:!0,showTooltip:!0,precision:"full",cssClass:"",width:null,height:null,enablePersistence:!1,create:null,click:null,mouseover:null,mouseout:null,change:null,destroy:null},dataTypes:{maxValue:"number",minValue:"number",allowReset:"boolean",shapeWidth:"number",shapeHeight:"number",orientation:"enum",incrementStep:"number",readOnly:"boolean",precision:"enum",enabled:"boolean",htmlAttributes:"data"},observables:["value"],value:t.util.valueFunction("value"),_setModel:function(n){for(var i in n)switch(i){case"allowReset":n[i]?this._showResetButton():this._hideResetButton();break;case"value":this.setValue(t.util.getVal(n[i]));n[i]=this.model.value;break;case"enabled":this._enabledAction(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"height":this._mainDiv.height(n[i]);break;case"width":this._mainDiv.width(n[i]);break;case"readOnly":this.model.readOnly=n[i];n[i]?this._unWireEvents():this.refresh();break;case"orientation":this.model.orientation=n[i];this.refresh();break;case"maxValue":this.model.maxValue=n[i];this.refresh();break;case"minValue":this.model.minValue=n[i];this.refresh();break;case"incrementStep":this.model.incrementStep=n[i];this.refresh();break;case"shapeWidth":this.model.shapeWidth=n[i];this.refresh();break;case"shapeHeight":this.model.shapeHeight=n[i];this.refresh();break;case"htmlAttributes":this._addAttr(n[i])}},_destroy:function(){this.element.show();this._unWireEvents();this._mainDiv.remove()},_init:function(){this._initialize()},_initialize:function(){this.element.hide();this._mainDiv=t.buildTag("div.e-rating e-widget "+this.model.cssClass,"",{},{tabindex:"0",role:"group","aria-label":"Rating"});t.isNullOrUndefined(this.model.width)||this._mainDiv.width(this.model.width);t.isNullOrUndefined(this.model.height)||this._mainDiv.height(this.model.height);this._mainDiv.insertBefore(this.element);this.model.orientation==t.Orientation.Horizontal?this._mainDiv.addClass("e-horizontal"):this._mainDiv.addClass("e-vertical");this.model.allowReset&&!this.model.readOnly&&this._createReset();this._validation();this.model.value==1&&this.element[0].value!=""&&(this.model.value=this.element[0].value);this._renderShape();this._shapes=this._mainDiv.find("div.e-shape");this._wireEvents();this._CurrentIndex=0;this._initCurrentValue();this.element.val(this.value());this._enabledAction(this.model.enabled);this._checkNameAttr();this._addAttr(this.model.htmlAttributes)},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i._mainDiv.addClass(n):t=="readonly"?i.model.readOnly=n:t=="disabled"&&n=="disabled"?i._enabledAction(!1):i._mainDiv.attr(t,n)})},_changeSkin:function(n){this.model.cssClass!=n&&this._mainDiv.removeClass(this.model.cssClass).addClass(n)},_enabledAction:function(n){n?this._mainDiv.removeClass("e-disable"):this._mainDiv.addClass("e-disable")},_validation:function(){this.model.incrementStep<1?this.model.incrementStep=1:this.model.incrementStep>this.model.maxValue&&(this.model.incrementStep=this.model.maxValue)},_createReset:function(){this._mainDiv.find("div.e-reset").length<=0?t.buildTag("div.e-reset","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight,title:"Reset"},{role:"button","aria-label":"reset","aria-hidden":!1}).appendTo(this._mainDiv):this._mainDiv.find("div.e-reset").show()},_renderShape:function(){var n=Math.round(this.model.maxValue/this.model.incrementStep),o=Math.round(this.model.minValue/this.model.incrementStep),i,r,u,f,e;if(this.model.orientation==t.Rating.Orientation.Horizontal?(i=(n+1)*this.model.shapeWidth,r=this.model.shapeHeight):this.model.orientation==t.Rating.Orientation.Vertical&&(i=this.model.shapeWidth,r=this.model.shapeHeight*n),n>0){for(u=t.buildTag("ul.e-ul","",{width:i+"px",height:r},{}),f=o;f<n;f++)e=t.buildTag("li.e-shape-list","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight},{tabindex:-1,"aria-describedby":this.element.prop("id")+"_tooltip"}),t.buildTag("div.e-shape inactive","",{width:this.model.shapeWidth+"px",height:this.model.shapeHeight}).appendTo(e),e.appendTo(u);u.appendTo(this._mainDiv)}},_initCurrentValue:function(){var r,i;if(t.isNullOrUndefined(this.value())||this.value()==""||this.value()==0)this._CurrentIndex=0;else if(this.value()>this.model.minValue)for(r=this.value()/this.model.incrementStep-this.model.minValue/this.model.incrementStep,this._CurrentIndex=r,this._valueRefresh(this._CurrentIndex),i=0;i<r;i++)if(this._shapes[i])n(this._shapes[i]).removeClass("inactive").removeClass("active").addClass("selected");else{this._CurrentIndex=i;break}this.value(this._CurrentIndex)},_valueRefresh:function(i){var r,f,u;if(i=Math.ceil(i),r=(this.value()/this.model.incrementStep).toFixed(1),this.model.orientation==t.Rating.Orientation.Horizontal){for(f=this.model.precision=="exact"?(r%1).toFixed(1):this.model.precision=="half"?r%1>.5?1:.5:1,r=((r%1).toFixed(1)!=0?f:r/this._CurrentIndex)*this.model.shapeWidth,u=0;u<i;u++)n(this._shapes[u]).css({width:this.model.shapeWidth+"px"});this._shapes!=null&&n(this._shapes[i-1]).css({width:r+"px"})}else{for(r=((r%1).toFixed(1)!=0?(r%1).toFixed(1):r/this._CurrentIndex)*this.model.shapeHeight,u=0;u<i;u++)n(this._shapes[u]).css({height:this.model.shapeHeight+"px"});this._shapes!=null&&n(this._shapes[i-1]).css({height:r+"px"})}},_reset:function(){var t;if(!this.model.enabled)return!1;n(this._shapes).removeClass("active").removeClass("selected").addClass("inactive");t=this.value();this.value(0);this._CurrentIndex=0;this.element.value=this._CurrValue;this._valueChanged(t)},_fillExactPrecision:function(i,r){var e=this._shapes.index(i)+this.model.minValue/this.model.incrementStep+1,f=this.model,u;if(f.orientation==t.Rating.Orientation.Horizontal){for(u=0;u<this._shapes.length;u++)u<e?n(this._shapes[u]).css({width:f.shapeWidth+"px"}):n(this._shapes[u]).css({width:"0px"});n(i).css({width:r+"px"});this.toolTipValue=((e-1)*f.incrementStep+r/f.shapeWidth*f.incrementStep).toFixed(1)}else{for(u=0;u<e;u++)n(this._shapes[u]).css({height:f.shapeHeight+"px"});for(u=e;u<this._shapes.length;u++)n(this._shapes[u]).css({height:"0px"});n(i).css({height:r+"px"});this.toolTipValue=((e-1)*f.incrementStep+r/f.shapeHeight*f.incrementStep).toFixed(1)}},_fillHalfPrecision:function(i,r){var e=this._shapes.index(i)+this.model.minValue/this.model.incrementStep+1,u=this.model,f;if(u.orientation==t.Rating.Orientation.Horizontal){for(f=0;f<this._shapes.length;f++)f<e?n(this._shapes[f]).css({width:u.shapeWidth+"px"}):n(this._shapes[f]).css({width:"0px"});(r+1)%2==0?(r=u.shapeWidth/2,n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeWidth*u.incrementStep).toFixed(1)):(r=u.shapeWidth,n(i).css({width:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeWidth*u.incrementStep).toFixed(1))}else{for(f=0;f<this._shapes.length;f++)f<e?n(this._shapes[f]).css({height:this._starHeight+"px"}):n(this._shapes[f]).css({height:"0px"});r<=u.shapeHeight/2?(r=u.shapeHeight/2,n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeHeight*u.incrementStep).toFixed(1)):(r=u.shapeHeight,n(i).css({height:r+"px"}),this.toolTipValue=((e-1)*u.incrementStep+r/u.shapeHeight*u.incrementStep).toFixed(1))}},_ClickHandler:function(i){var o,u,r,f,e,s;if(this.model.enabled){if(i.target.tagName=="LI"?u=i.target.firstChild:i.target.parentNode.tagName=="LI"&&(u=i.target),u){for(r=this._shapes.index(u)+1,f=0;f<r;f++)this._shapes[f]&&n(this._shapes[f]).removeClass("inactive").removeClass("active").addClass("selected");this._CurrentIndex=r;r=r+this.model.minValue/this.model.incrementStep;e=this.model.incrementStep;s=this.model.orientation==t.Rating.Orientation.Horizontal?((r-1)*e+u.clientWidth/this.model.shapeWidth*e).toFixed(1):((r-1)*e+u.clientHeight/this.model.shapeHeight*e).toFixed(1);o=this.value();this.element.value=s;this.value(s);this._trigger("click",{event:i,value:this.value(),prevValue:o});this._valueChanged(o)}n(i.target).hasClass("e-reset")&&this._reset()}},_MouseOverHandler:function(t){var u,r,f,e,i;if(this.model.enabled){if(r=t.target,t.type=="touchmove"&&(f=t.originalEvent.changedTouches[0],r=document.elementFromPoint(f.pageX,f.pageY)),r.tagName=="LI")u=r.firstChild;else if(r.parentNode.tagName=="LI")u=r;else return!1;for(e=this._shapes.index(u)+1,i=0;i<=this._shapes.length;i++)this._shapes[i]&&(i<e?n(this._shapes[i]).removeClass("inactive").removeClass("selected").addClass("active"):n(this._shapes[i]).removeClass("active").removeClass("selected").addClass("inactive"));this._trigger("mouseover",{event:t,index:e,value:this.value()})}},_MouseOutHandler:function(i){var u,r;if(!this.model.readOnly&&this.model.enabled){if(u=this._CurrentIndex,u!=0)for(r=0;r<this._shapes.length;r++)this._shapes[r]&&(r<u?n(this._shapes[r]).removeClass("active").removeClass("inactive").addClass("selected"):n(this._shapes[r]).removeClass("active").addClass("inactive"));else n(this._shapes).removeClass("active").addClass("inactive");this.model.precision!==t.Rating.Precision.Full&&this._valueRefresh(u);this._trigger("mouseout",{event:i,value:this.value()})}this._hideTooltip(1e3)},_MouseMoveHandler:function(i){var u,f,r,e;if(!this.model.readOnly&&this.model.enabled){if(r=i.target,i.type=="touchmove"&&(e=i.originalEvent.changedTouches[0],r=document.elementFromPoint(e.pageX,e.pageY)),r.tagName=="LI")u=r.firstChild;else if(r.parentNode.tagName=="LI")u=r;else return!1;f=this.model.orientation==t.Rating.Orientation.Horizontal?t.isNullOrUndefined(i.offsetX)?i.pageX-n(r).offset().left:i.offsetX+1:t.isNullOrUndefined(i.offsetY)?i.pageY-n(r).offset().top:i.offsetY+1;this.toolTipValue=(this.model.minValue+(this._shapes.index(u)+1))*this.model.incrementStep;this.model.precision==t.Rating.Precision.Exact?this._fillExactPrecision(u,f):this.model.precision==t.Rating.Precision.Half&&this._fillHalfPrecision(u,Math.round(f))}else this.toolTipValue=(this.value()==null||this.value()==""?0:this.value())+" / "+this.model.maxValue;n(i.target).attr("aria-label",this.toolTipValue);parseFloat(this.model.maxValue)>=parseFloat(this.toolTipValue)&&this._showhideTooltip(i.target)},_showTooltip:function(i){this.model.showTooltip&&(n(".e-tooltip").remove(),this.tooltip=t.buildTag("div#"+this.element.prop("id")+"_tooltip.e-tooltip "+this.model.cssClass+" e-corner-all","",{},{role:"tooltip"}),n("body").append(this.tooltip),this._isTooltip=!0,this._setTooltipPosition(i))},_hideTooltip:function(t){this.model.showTooltip&&(n(this.tooltip).fadeOut(t,function(){n(".e-tooltip").remove()}),this._isTooltip=!1)},_showhideTooltip:function(n){this.model.showTooltip&&this._showTooltip(n)},_setTooltipPosition:function(t){if(this.model.showTooltip){this._updateTooltipValue();var e,o,u,f,i,r,s=5;i=n(t);r=this._getOffset(i);this.model.orientation=="vertical"?(f=(this.tooltip.outerHeight()-i.outerHeight())/2,u=i.outerWidth()+s,e=r.top-f,o=r.left+u):(u=(this.tooltip.outerWidth()-i.outerWidth())/2,f=this.tooltip.outerHeight()+s,e=r.top-f,o=r.left-u);this.tooltip.css({top:e,left:o})}},_getOffset:function(n){return t.util.getOffset(n)},_updateTooltipValue:function(){this.tooltip[0].innerHTML=this.toolTipValue},_wireEvents:function(){this.model.readOnly||(this._on(this._mainDiv,"mousedown",this._ClickHandler),this._on(this._mainDiv.find("li"),"mouseenter touchmove",this._MouseOverHandler));this._on(this._mainDiv.find("li"),"mouseleave touchend",this._MouseOutHandler);this._on(this._mainDiv.find("li"),t.eventType.mouseMove,this._MouseMoveHandler)},_unWireEvents:function(){this._mainDiv.find("li").unbind("mouseenter touchmove");this._mainDiv.find("li").unbind("mouseleave touchend");this._mainDiv.unbind("mousedown");this.model.precision!==t.Rating.Precision.Full&&this._mainDiv.find("li").unbind(t.eventType.mouseMove)},_valueChanged:function(n){this.element.val(this.value());this._trigger("change",{value:this.value(),prevValue:n})},reset:function(){this._reset()},show:function(){if(!this.model.enabled)return!1;this._mainDiv.css("visibility","visible")},hide:function(){if(!this.model.enabled)return!1;this._mainDiv.css("visibility","hidden")},_showResetButton:function(){if(!this.model.enabled)return!1;this._createReset()},_hideResetButton:function(){if(!this.model.enabled)return!1;this._mainDiv.find("div.e-reset").hide()},getValue:function(){return this.value()==null||this.value()===""?"":this.value()},setValue:function(t){t!=null&&(this.model.maxValue<t?t=this.model.maxValue:this.model.minValue>t&&(t=this.model.minValue),this.value(t),n(this._shapes).removeClass("selected").addClass("inactive"),this._initCurrentValue(),this.element.val(this.value()))},refresh:function(){this._destroy();this._unWireEvents();this._initialize()}});t.Rating.Precision={Full:"full",Half:"half",Exact:"exact"};t.Rating.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejSplitter","ej.Splitter",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-splitter",_setFirst:!1,angular:{terminal:!1},defaults:{cssClass:"",orientation:"horizontal",enableAnimation:!0,properties:[],height:null,width:null,enableAutoResize:!1,enableRTL:!1,htmlAttributes:{},animationSpeed:300,beforeExpandCollapse:null,expandCollapse:null,resize:null,create:null,destroy:null},dataTypes:{cssClass:"string",orientation:"enum",properties:"data",enableAutoResize:"boolean",enableRTL:"boolean",animationSpeed:"number",enableAnimation:"boolean",htmlAttributes:"data"},_init:function(){this._initialize();this._render();this._wireEvents(this.model.enableAutoResize)},_setModel:function(n){for(var t in n)switch(t){case"cssClass":this._changeSkin(n[t]);break;case"enableAutoResize":this._windowResizing(n[t]);break;case"enableRTL":this._rtl(n[t]);break;case"htmlAttributes":this._addAttr(n[t]);break;case"orientation":this._setOrientation(n[t])}},refresh:function(){this._setPanesSize();this._getPanesPercent()},collapse:function(n){this._clickArrow(n,!0,!0)},expand:function(n){this._clickArrow(n,!1,!0)},_clickArrow:function(t,i,r){if(this._inMovement||t<0||t>this.panes.length)return!1;var u,e=i?"e-collapse":"e-expand",f=this.element.children(".e-splitbar:not(.e-shadowbar)");if(u=t==f.length?this._clickArrow(t-1,!i,!1):n(f[t]).children("."+e),r)u.css("display")!="none"&&u.mousedown();else return u},addItem:function(i,r,u){var o=this.panes.length,r,f,d,c,b,h,k,nt;if(u=this._getNumber(u),t.isNullOrUndefined(u)&&(u=o),u<0||u>o)return"";r=this._getPaneProperty(r);r=this._checkMinMaxSize(r);f=t.buildTag("div.e-pane e-"+this.model.orientation.substr(0,1)+"-pane");this.element.append(f[this.containerCss](r.paneSize));d=r.paneSize=f[this.containerCss]();f.remove();var l=u,g=o,e,a,v,y,s={},p=0,w=!1;for(c=d+this._bar,a=0;a<2;a++){for(e=l;e<g;e++)if(b=n(this.panes[e])[this.containerCss](),h=b-this.model.properties[e].minSize,h>=c-p){s[e]=b-(c-p);w=!0;break}else h>0&&(s[e]=this.model.properties[e].minSize,p+=h);if(w)break;else g=l,l=0}if(!w)return"";for(k in s)n(this.panes[k])[this.containerCss](s[k]);return u==o?(v="insertBefore",y=1,f.insertAfter(n(this.panes[u-1]))):(v="insertAfter",y=0,f.insertBefore(n(this.panes[u]))),this.model.properties.splice(u,0,r),this.panes.splice(u,0,f),nt=this._createSplitBar(u-y),nt[v](f),f.append(i),this._updateModel(),f},removeItem:function(i){var r=this.panes.length-1,f,u,e,o;if(i=this._getNumber(i),t.isNullOrUndefined(i)&&(i=r),i<0||i>r||r<1)return null;f=n(this.panes[i]);o=f[this.containerCss]()+this._bar;f.remove();e=this.element.children(".e-splitbar:not(.e-shadowbar)");i==r?(u=n(this.panes[i-1]),n(e[i-1]).remove()):(u=n(this.panes[i+1]),n(e[i]).remove());u[this.containerCss](u[this.containerCss]()+o);this._removeArrays(i);this._updateModel()},_checkMinMaxSize:function(n){return n.paneSize<n.minSize&&(n.paneSize=n.minSize),n.paneSize>n.maxSize&&(n.paneSize=n.maxSize),n},_removeArrays:function(n){this.model.properties.splice(n,1);this.panes.splice(n,1);this.oldPaneSize.splice(n,1);this.oldPanePercent.splice(n,1);this._sizePercent.splice(n,1)},_getNumber:function(n){return n=parseFloat(n),isNaN(n)?null:n},_updateModel:function(){for(var t=0;t<this.panes.length;t++)this.model.properties[t].paneSize=n(this.panes[t])[this.containerCss]();this._getPanesPercent()},_getPaneProperty:function(t){return n.extend({paneSize:10,minSize:10,maxSize:null,collapsible:!0,resizable:!0},t)},_changeSkin:function(n){this.element.removeClass(this.model.cssClass).addClass(n)},_windowResizing:function(n){n?this._wireEvents(n):this._unWireEvents()},_setOrientation:function(n){this._unWireEvents();this._destroy();this.model.orientation=n;this._init()},_destroy:function(){this.element.removeClass("e-widget e-box "+this.model.cssClass+" e-"+this.model.orientation);this.element.children(".e-splitbar").remove();this.element.children(".e-pane").removeClass("e-pane e-"+this.model.orientation.substr(0,1)+"-pane").height("").width("")},_initialize:function(){this.panes=[];this.oldPaneSize=[];this.oldPanePercent=[];this.shadowBar=null;this._inMovement=!1;this.containerCss=this.model.orientation=="horizontal"?"width":"height";this.displayCss=this.model.orientation=="horizontal"?"left":"top";this.borderCss=this.model.orientation=="horizontal"?"right":"bottom";this._bar=7},_render:function(){this.element.addClass("e-widget e-box "+this.model.cssClass+" e-"+this.model.orientation).attr("data-role","splitter");for(var i=this.element[0],t=0,r=0;t<i.children.length;t++)n(i.children[t]).addClass("e-pane"),this.panes.push(i.children[t]);this._setPanesProperty();this._insertSplitBar();this._setDimentions();this._setPanesSize();this._getPanesPercent();this._addAttr(this.model.htmlAttributes);this._checkProperties();this.element.find(".e-pane").addClass("e-"+this.model.orientation.substr(0,1)+"-pane")},_setPanesProperty:function(){for(var n=0;n<this.panes.length;n++)this.model.properties[n]!=i?(this.model.properties[n].paneSize=this.model.properties[n].paneSize==i?"0px":this.model.properties[n].paneSize,this.model.properties[n].minSize=isNaN(parseFloat(this.model.properties[n].minSize))?10:parseFloat(this.model.properties[n].minSize),this.model.properties[n].maxSize=isNaN(parseFloat(this.model.properties[n].maxSize))?null:parseFloat(this.model.properties[n].maxSize),this.model.properties[n].collapsible=this.model.properties[n].collapsible!=!1?!0:!1,this.model.properties[n].resizable=this.model.properties[n].resizable!=!1?!0:!1):this.model.properties.push({paneSize:"0px",minSize:10,maxSize:null,collapsible:!0,resizable:!0})},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):i.element.attr(t,n)})},_insertSplitBar:function(){if(this.panes.length>1)for(var t,n=0;n<this.panes.length-1;n++)t=this._createSplitBar(n),t.insertAfter(this.panes[n])},_createSplitBar:function(n){var r=this.model.orientation.substr(0,1),u,f,i,e=!1;return i=t.buildTag("span.e-box e-splitbar e-split-divider e-"+r+"-bar").attr("aria-expanded",!0),this.model.properties[n].collapsible&&this.model.properties[n+1].collapsible&&(u=t.buildTag("span.e-icon e-collapse e-"+r+"-arrow "+r+"-backward"),i.append(u),f=t.buildTag("span.e-icon e-expand e-"+r+"-arrow "+r+"-forward"),i.append(f),e=!0,this._on(u,"mousedown",this._collapseArrowClick),this._on(f,"mousedown",this._expandArrowClick)),this.model.properties[n].resizable&&this.model.properties[n+1].resizable&&(i.addClass("e-resize"),e=!0,this._on(i,t.eventType.mouseDown,this._mouseDownOnDivider)),e?(i.attr({role:"separator",tabindex:"0"}),this._on(i,"focus focusout",this._focusOnDivider)):i.attr({role:"presentation"}),i},_getPanesPercent:function(){this._sizePercent=[];for(var r=this.element[this.containerCss](),i=r-(this.panes.length-1)*this._bar,t=0;t<this.panes.length;t++)n(this.panes[t]).hasClass("collapsed")||(this.oldPaneSize[t]=n(this.panes[t])[this.containerCss]()),this.oldPanePercent[t]=this._convertToPercent(i,this.oldPaneSize[t]),this._sizePercent.push(this._convertToPercent(i,n(this.panes[t])[this.containerCss]()))},_setDimentions:function(){this.model.height&&this.element.css("height",this.model.height);this.model.width&&this.element.css("width",this.model.width)},_checkProperties:function(){this.model.enableRTL&&this._rtl(this.model.enableRTL);this._prevSize=this.element[this.containerCss]()},_getExactInnerWidth:function(){var i=t.browserInfo();return i.name=="msie"?i.version==8?n(this.element)[this.containerCss]()-1:parseFloat(window.getComputedStyle(this.element[0])[this.containerCss]):parseFloat(window.getComputedStyle(this.element[0])[this.containerCss])-(parseFloat(this.element.css("border-"+this.displayCss+"-width"))+parseFloat(this.element.css("border-"+this.borderCss+"-width"))+parseFloat(this.element.css("padding-"+this.displayCss))+parseFloat(this.element.css("padding-"+this.borderCss)))},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setPanesSize:function(){var r=this.containerCss,l=0,i=0,f=this.element[r](),p=!1,e=this._bar,v=[],o,t,u=this.panes.length,a,w,s,h,c,y;if(u>1)for(t=0;t<u;t++)n(this.panes[t]).css(r,this.model.properties[t].paneSize),e=t==u-1?0:e,o=Math.round(n(this.panes[t])[r]()),n(this.panes[t]).css(r,o),o<=0?(l++,v.push(t),i+=e):p?(n(this.panes[t]).css(r,0),i+=o+e,this.model.properties[t].paneSize=0):(i+=o+e,i>f&&(i-=o-e,a=f-i,w=u-t-1,a-=w*e,n(this.panes[t]).css(r,a),p=!0,i+=a+e),this.model.properties[t].paneSize=o);else u==1&&(n(this.panes[0]).css(r,"100%"),i=f);if(u>1&&i!=f)if(h=n(this.panes[u-1]),i>f)s=i-f,h.css(r,s);else if(i<f)if(s=f-i,l>0)for(y=Math.round(s/l),c=0;c<l;c++)n(this.panes[v[c]]).css(r,y),this.model.properties[v[c]].paneSize=y;else h.css(r,Math.round(h[r]()+s)),this.model.properties[u-1].paneSize=h[r]();u>1&&this._checkPaneSize()},_getUnit:function(n){return n=="px"?"px":n=="pt"?"pt":n.substr(1)=="%"?"%":"px"},_getNormalValue:function(n){var i,t,r,u;return this.model.orientation=="vertical"?(i=n.y-this.element.offset().top,t=i/this.element.outerHeight(),r=this.element.height()):(i=n.x-this.element.offset().left,t=i/this.element.outerWidth(),r=this.element.width()),t>1&&(t=1),t<0&&(t=0),u=t*r,this._trimValue(u)},_trimValue:function(n){var t,i,r;return t=1,i=n%t,r=n-i,Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_getSplitbarIndex:function(){return this.element.children(".e-splitbar:not(.e-shadowbar)").index(this.currentSplitBar)},_paneResize:function(){var t,i,r,u,f,e,o,s;if(this.shadowBar==null)return!1;this.currentSplitBar=this.shadowBar.next();e=this._getSplitbarIndex();i=this.shadowBar.prev();r=this.currentSplitBar.next();u=e;f=e+1;t=this.shadowBar.offset()[this.displayCss];t=t-this.currentSplitBar.offset()[this.displayCss];n(i).css(this.containerCss,t+n(i)[this.containerCss]()+"px");n(r).css(this.containerCss,n(r)[this.containerCss]()-t+"px");this.oldPaneSize[u]=n(i)[this.containerCss]();this.oldPaneSize[f]=n(r)[this.containerCss]();this.shadowBar.remove();this._checkPaneSize();o={item:i,index:u,size:this.oldPaneSize[u]};s={item:r,index:f,size:this.oldPaneSize[f]};this._updateModelValue(o,s);this._trigger("resize",{prevPane:o,nextPane:s,splitbarIndex:e})},_checkPaneSize:function(){for(var r=0,o,f,u=this.panes.length,e,i,t=0;t<u;t++)o=n(this.panes[t])[this.containerCss](),r+=o+this._bar;if(r-=this._bar,f=this._getExactInnerWidth(),r!=f)if(e=f-r,i=n(this.panes[u-1])[this.containerCss](),i==0){for(t=u-1;t>=0;t--)if(n(this.panes[t]).hasClass("expanded")&&!n(this.panes[t]).hasClass("collapsed")){i=n(this.panes[t])[this.containerCss]();n(this.panes[t]).css(this.containerCss,Math.floor(i+e));break}}else n(this.panes[u-1]).css(this.containerCss,Math.floor(i+e))},_maxminDraggableRange:function(n){var l,a,v,y,o,r,u,f,e,t,i,s,h,c;l=this.shadowBar.prev();this.currentSplitBar=this.shadowBar.next();a=this.currentSplitBar.next();v=l[this.containerCss]();y=a[this.containerCss]();o=this.displayCss=="left"?this.currentSplitBar[0].offsetLeft:this.currentSplitBar[0].offsetTop;r=o-v;u=y+o;c=this._getSplitbarIndex();f=c;e=c+1;t=this.model.properties[f].maxSize;i=this.model.properties[e].maxSize;t=t!=null?parseInt(t,10):null;i=i!=null?parseInt(i,10):null;this.model.properties[f].minSize=parseInt(this.model.properties[f].minSize,10);this.model.properties[e].minSize=parseInt(this.model.properties[e].minSize,10);s=this.model.properties[f].minSize;h=this.model.properties[e].minSize;this.shadowBar.removeClass("e-end-indicaton");n>u-h?(this.resizedPosition=u-h,this.shadowBar.addClass("e-end-indicaton")):n<r+s&&(this.resizedPosition=r+s,this.shadowBar.addClass("e-end-indicaton"));t!=null&&n>r+t&&(this.resizedPosition=r+t,this.shadowBar.addClass("e-end-indicaton"));i!=null&&n<u-i&&(this.resizedPosition=u-i,this.shadowBar.addClass("e-end-indicaton"))},_collapseArrowClick:function(t){var f,e,u,i,c,o,s,v,r,w,y,l,a,p,h;if(this.shadowBar==null){if(f=n(t.target),this._inMovement=!0,this.currentSplitBar=f.parent(),r={},w=this.panes.length,e=this._getSplitbarIndex(),u=this.currentSplitBar.prev(),i=this.currentSplitBar.next(),c=e,o=e+1,s=u[this.containerCss](),v=i[this.containerCss](),y=this,l={item:u,index:c,size:s},a={item:i,index:o,size:v},this._raiseEvent("beforeExpandCollapse",l,a,e))return!1;if(i.hasClass("collapsed")){if(s<this.oldPaneSize[o])return f.addClass("e-end-indicaton"),this._inMovement=!1,n(document).bind("mouseup",n.proxy(this._mouseUpOnArrow,this)),!1;u.removeClass("expanded");i.removeClass("collapsed");f.parent().addClass("e-resize");f.siblings().css("display","block");o!=w-1&&(h=i.next(),h.find(".e-collapse").css("display","block"),h.next().hasClass("collapsed")||(h.addClass("e-resize"),h.attr("aria-expanded",!0)));r[this.containerCss]=this.oldPaneSize[o];i.animate(r,this.model.enableAnimation?this.model.animationSpeed:0);r[this.containerCss]=s-this.oldPaneSize[o];u.animate(r,this.model.enableAnimation?this.model.animationSpeed:0,function(){y._raiseEvent("expandCollapse",l,a,e)})}else this.oldPaneSize[c]=s,u.addClass("collapsed"),i.addClass("expanded"),this.currentSplitBar.attr("aria-expanded",!1),f.parent().removeClass("e-resize"),f.css("display","none"),c!=0&&(p=u.prev(),p.find(".e-expand").css("display","none"),p.removeClass("e-resize")),r[this.containerCss]=0,u.animate(r,this.model.enableAnimation?this.model.animationSpeed:0),r[this.containerCss]=s+v,i.animate(r,this.model.enableAnimation?this.model.animationSpeed:0,function(){y._raiseEvent("expandCollapse",l,a,e)})}},_expandArrowClick:function(t){var f,e,i,u,o,h,y,s,r,w,p,c,l,a,v;if(this.shadowBar==null){if(f=n(t.target),this._inMovement=!0,this.currentSplitBar=f.parent(),r={},w=this.panes.length,e=this._getSplitbarIndex(),i=this.currentSplitBar.prev(),u=this.currentSplitBar.next(),o=e,h=e+1,y=i[this.containerCss](),s=u[this.containerCss](),p=this,c={item:u,index:h,size:s},l={item:i,index:o,size:y},this._raiseEvent("beforeExpandCollapse",c,l,e))return!1;if(i.hasClass("collapsed")){if(s<this.oldPaneSize[o])return f.addClass("e-end-indicaton"),this._inMovement=!1,n(document).bind("mouseup",n.proxy(this._mouseUpOnArrow,this)),!1;i.removeClass("collapsed");u.removeClass("expanded");this.currentSplitBar.attr("aria-expanded",!0);f.parent().addClass("e-resize");f.siblings().css("display","block");o!=0&&(v=i.prev(),v.find(".e-expand").css("display","block"),v.prev().hasClass("collapsed")||v.addClass("e-resize"));r[this.containerCss]=this.oldPaneSize[o];i.animate(r,this.model.enableAnimation?this.model.animationSpeed:0);r[this.containerCss]=s-this.oldPaneSize[o];u.animate(r,this.model.enableAnimation?this.model.animationSpeed:0,function(){p._raiseEvent("expandCollapse",c,l,e)})}else this.oldPaneSize[h]=s,i.addClass("expanded"),u.addClass("collapsed"),f.parent().removeClass("e-resize"),f.css("display","none"),h!=w-1&&(a=u.next(),a.find(".e-collapse").css("display","none"),a.removeClass("e-resize"),a.attr("aria-expanded",!1)),r[this.containerCss]=y+s,i.animate(r,this.model.enableAnimation?this.model.animationSpeed:0),r[this.containerCss]=0,u.animate(r,this.model.enableAnimation?this.model.animationSpeed:0,function(){p._raiseEvent("expandCollapse",c,l,e)})}},_raiseEvent:function(n,t,i,r){return n=="expandCollapse"&&(this._inMovement=!1,this._updateModelValue(t,i)),this._trigger(n,{collapsed:t,expanded:i,splitbarIndex:r})},_updateModelValue:function(n,t){this.model.properties[n.index].paneSize=n.item[this.containerCss]();this.model.properties[t.index].paneSize=t.item[this.containerCss]();this._getPanesPercent()},_mouseUpOnArrow:function(){this.element.find(".e-end-indicaton").removeClass("e-end-indicaton");n(document).unbind("mouseup",n.proxy(this._mouseUpOnArrow,this))},_keydownOnDivider:function(t){var i=t.keyCode,u,r;if(i==37||i==38||i==39||i==40){if(t.preventDefault(),u=n(t.data.target),t.ctrlKey)this.shadowBar==null&&(this.currentSplitBar=u,r=this._getSplitbarIndex(),this.model.orientation=="vertical"?t.keyCode==38?this.collapse(r):t.keyCode==40&&this.expand(r):t.keyCode==37?this.collapse(r):t.keyCode==39&&this.expand(r));else if(u.hasClass("e-resize")){var e=this.shadowBar!=null?this.shadowBar:u,f=e.offset(),o={pageX:f.left,pageY:f.top};n.extend(!0,t,o);(this.model.orientation=="vertical"&&(t.keyCode==38||t.keyCode==40)||this.model.orientation=="horizontal"&&(t.keyCode==37||t.keyCode==39))&&(t.keyCode==38?t.pageY-=5:t.keyCode==40?t.pageY+=5:t.keyCode==37?t.pageX-=5:t.keyCode==39&&(t.pageX+=5),this._mouseMoveOnDivider(t))}}else i==13?(t.preventDefault(),this._mouseUpOnDivider()):i==27&&(t.preventDefault(),this.shadowBar!=null&&this.shadowBar.remove(),this.shadowBar=null,this._mouseUpOnDivider(),this.element.children(".e-splitbar.e-hover").focusout())},_focusOnDivider:function(t){t.type=="focus"?n(t.target).hasClass("e-hover")||(n(t.target).addClass("e-hover"),n(document).bind("keydown",{target:t.target},n.proxy(this._keydownOnDivider,this))):(this.element.children(".e-splitbar.e-hover").removeClass("e-hover"),this._mouseUpOnDivider(),n(document).unbind("keydown",n.proxy(this._keydownOnDivider,this)))},_mouseDownOnDivider:function(i){i.preventDefault();var r=n(i.target);r.hasClass("e-splitbar")&&r.hasClass("e-resize")?(this._overlayElement=t.buildTag("div.e-pane-overlay"),r.hasClass("e-hover")||r.focus(),this.element.find(".e-pane").not(".e-splitter").append(this._overlayElement),n(document).bind(t.eventType.mouseMove,{target:i.target},n.proxy(this._mouseMoveOnDivider,this)),n(document).bind(t.eventType.mouseUp,n.proxy(this._mouseUpOnDivider,this)),n(document).bind("mouseleave",n.proxy(this._mouseUpOnDivider,this))):(r.hasClass("e-expand")||r.hasClass("e-collapse"))&&r.parent().focus()},_mouseMoveOnDivider:function(t){var u=t.data,r,i;t=t.type=="touchmove"?t.originalEvent.changedTouches[0]:t;r={x:t.pageX,y:t.pageY};this.resizedPosition=this._getNormalValue(r);this.shadowBar==null&&(i=n(u.target),this.shadowBar=i.clone().addClass("e-shadowbar").removeClass("e-hover").removeClass("e-split-divider").insertBefore(i),this.shadowBar.children().remove());this._maxminDraggableRange(this.resizedPosition);this.shadowBar.css(this.displayCss,this.resizedPosition)},_mouseUpOnDivider:function(){this._paneResize();this.element.find(".e-pane").not(".e-splitter").find(".e-pane-overlay").remove();n(document).unbind(t.eventType.mouseMove,n.proxy(this._mouseMoveOnDivider,this));n(document).unbind(t.eventType.mouseUp,n.proxy(this._mouseUpOnDivider,this));n(document).unbind("mouseleave",n.proxy(this._mouseUpOnDivider,this));this.shadowBar=null},_windowResized:function(){var i=this._getExactInnerWidth(),r,u,t,f;if(this._prevSize==i)return!1;for(r=this.panes.length,u=i-(r-1)*this._bar,this._prevSize=i,t=0;t<r;t++)f=this._convertToPixel(u,this._sizePercent[t]),n(this.panes[t]).css(this.containerCss,f+"px");for(t=0;t<this.oldPaneSize.length;t++)this.oldPaneSize[t]=this._convertToPixel(u,this.oldPanePercent[t]);this._checkPaneSize()},_convertToPercent:function(n,t){return t*100/n},_convertToPixel:function(n,t){return Math.floor(n*t/100)},_wireEvents:function(t){t&&n(window).bind("resize",n.proxy(this._windowResized,this))},_unWireEvents:function(){n(window).unbind("resize",n.proxy(this._windowResized,this))}})}(jQuery,Syncfusion),function(n,t,r){t.widget("ejTab","ej.Tab",{_rootCSS:"e-tab",element:null,model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{collapsible:!1,enableAnimation:!0,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},disabledItemIndex:[],enabledItemIndex:[],events:"click",idPrefix:"ej-tab-",heightAdjustMode:"content",selectedItemIndex:0,cssClass:"",showCloseButton:!1,htmlAttributes:{},enableTabScroll:!1,showReloadIcon:!1,headerPosition:"top",width:null,height:null,headerSize:null,enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,enablePersistence:!1,enabled:!0,ajaxLoad:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,itemActive:null,beforeActive:null,itemAdd:null,itemRemove:null,beforeItemRemove:null,create:null,destroy:null},dataTypes:{cssClass:"string",collapsible:"boolean",events:"string",heightAdjustMode:"enum",enabled:"boolean",ajaxSettings:"data",disabledItemIndex:"data",enabledItemIndex:"data",enableAnimation:"boolean",htmlAttributes:"data"},observables:["selectedItemIndex"],selectedItemIndex:t.util.valueFunction("selectedItemIndex"),_destroy:function(){this._unWireEvents();this._removeBaseClass()},_setModel:function(n){for(var i in n)switch(i){case"events":this._off(this.anchors,this.model.events);this._on(this.anchors,n[i],this._tabItemClick);break;case"disabledItemIndex":this._disableItems(n[i]);n[i]=this.model.disabledItemIndex;break;case"enabledItemIndex":this._enableItems(n[i]);break;case"enabled":this._enabledAction(n[i]);break;case"selectedItemIndex":this.showItem(t.util.getVal(n[i]));n[i]=this.model.selectedItemIndex;break;case"heightAdjustMode":this.model.heightAdjustMode=n[i];this._setTabsHeightStyle(n[i]);this._resizeEvents(n[i]);break;case"cssClass":this._changeSkin(n[i]);break;case"showRoundedCorner":this._roundedCorner(n[i]);break;case"height":this.model.height=n[i];this._setTabsHeightStyle(this.model.heightAdjustMode);break;case"width":this.element.width(n[i]);break;case"headerSize":this._setHeaderSize(n[i]);break;case"allowKeyboardNavigation":n[i]?this._on(this.element,"keydown",this._keyPress):this._off(this.element,"keydown");break;case"headerPosition":this.model.headerPosition=n[i];this.model.headerPosition==t.Tab.Position.Top?(this._removeVerticalClass(),this.itemsContainer.remove(),this.itemsContainer.insertBefore(this.element.find(">div").first()),this.element.find("div.e-active-content").removeClass("e-activebottom")):this.model.headerPosition==t.Tab.Position.Bottom?(this._removeVerticalClass(),this.element.find("div.e-active-content").removeClass("e-activetop")):(this.model.headerPosition==t.Tab.Position.Left||this.model.headerPosition==t.Tab.Position.Right)&&this._removeHeaderClass();this._refresh();break;case"showCloseButton":n[i]?(this._addDeleteIcon(),this._on(this.element.find("div.e-delete"),"click",this._tabDeleteClick)):this.element.find("div.e-delete").remove();break;case"enableTabScroll":n[i]?(this._addScrollIcon(),this._on(this.element.find("div .e-scroll"),"click",this._tabScrollClick),this.element.addClass("e-scrolltab")):this.element.find("div .e-scroll").remove();this.element.removeClass("e-scrolltab");break;case"showReloadIcon":n[i]?this._addReloadIcon():this.element.find("div.e-reload").remove();break;case"enableRTL":n[i]?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl");break;case"htmlAttributes":this._addAttr(n[i])}},_init:function(){this._addItemIndex=null;this.tabId=0;this._initialize();this._prevSize=this._getDimension(n(this.element).parent(),"height")},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},_initialize:function(){this.element.attr("tabindex",0).attr("role","tablist");this._itemsRefreshing();n(this.anchors).addClass("e-link");this._preTabIndex=-1;t.isNullOrUndefined(this.model.width)||this.element.width(this.model.width);this._setTabPosition(this.model.headerPosition);this.model.showCloseButton&&this._addDeleteIcon();this.model.showReloadIcon&&this._addReloadIcon();this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner);this._enabledAction(this.model.enabled);this.contentPanels=[];this._addAttr(this.model.htmlAttributes);this._reinitialize();this._addBaseClass();t.isNullOrUndefined(this.model.headerSize)||this._setHeaderSize(this.model.headerSize);this._disableTabs();this._roundedCorner(this.model.showRoundedCorner);this.model.enableTabScroll&&(this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.itemsContainer.width()>this.element.width()&&this._addScrollIcon():this.element.height()<this.items.height()*this.items.length&&this._addScrollIcon());this._wireEvents(this.model.events);this.showItem(this.selectedItemIndex());this._setTabsHeightStyle(this.model.heightAdjustMode);this._enabledAction(this.model.enabled);this._resizeEvents(this.model.heightAdjustMode)},_reinitialize:function(){for(var u,t,i=this._addItemIndex!=null?this._addItemIndex:0;i<this.anchors.length;i++)if(u=this.anchors[i],t=this.divId==r?n(u).attr("href"):this.divId,this.divId=r,hrefBase=t.split("#")[0],hrefBase&&hrefBase===location.toString().split("#")[0]&&(t=a.hash,u.href=t),t&&t!=="#"?this._addContentTag(t,i):this.model.enablePersistence||this.model.disabledItemIndex.push(i),this._addItemIndex!=null){this._wireEvents(this.model.events);break}this.items.length==1&&this.showItem(this.selectedItemIndex())},_itemsRefreshing:function(){this.itemsContainer=this.element.find("ol,ul").eq(0);this.items=this.itemsContainer.find(" > li:has(a[href])");this.anchors=this.items.find("a[href]")},_setHeaderSize:function(n){this.element.find(">ul li.e-item").css("height","auto");this.element.find(">ul li.e-item").children("a.e-link").css("margin-top","0px");this.model.headerPosition=="left"?this.element.find(">ul.e-left").css({width:n,"text-align":"center"}):this.model.headerPosition=="right"?this.element.find(">ul.e-right").css({width:n,"text-align":"center"}):(this.element.find(">ul.e-header li.e-item").css("height",n),this.element.find(">ul.e-header li.e-item a.e-link").css("margin-top",(this.element.find(">ul.e-header").outerHeight()/2-this.element.find(">.e-header li.e-item a.e-link").outerHeight()).toString()+"px"))},_enabledAction:function(n){n?this.element.removeClass("e-disable"):this.element.addClass("e-disable")},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):t=="disabled"&&n=="disabled"?(i.model.enabled=!1,i._enabledAction(!1)):i.element.attr(t,n)})},_setTabPosition:function(i){i==t.Tab.Position.Bottom?(this.itemsContainer.appendTo(this.element),this.items.removeClass("e-bottom-line"),this.items.addClass("e-top-line")):i==t.Tab.Position.Top?(this.items.removeClass("e-top-line"),this.model.enableRTL?this.items.addClass("e-rtl-top-line e-top-hover"):this.items.addClass("e-bottom-line")):(i==t.Tab.Position.Left||i==t.Tab.Position.Right)&&this.items.length>=0&&(this.model.height?this.itemsContainer.css("height",this.model.height):this.model.heightAdjustMode==="fill"?n(this.itemsContainer).css("height","100vh"):n(this.itemsContainer).css("height",""),this.element.addClass("e-vertical"))},_addDeleteIcon:function(){var n,i;this.element.find("div.e-delete").length<=0&&this.items.length>0&&(n=t.buildTag("div.e-icon e-delete","",{},{role:"presentation"}).css("visibility","hidden"),this.model.headerPosition=="left"||this.model.headerPosition=="right"?(i=this.items.find("a"),n.insertBefore(i)):this.items.append(n))},_addScrollIcon:function(){if(this.element.find("div.e-scroll").length<=0&&this.items.length>0){var n=t.buildTag("div.e-icon e-scroll","",{},{role:"presentation"}).css("visibility","hidden");this.itemsContainer.append(n);this.scrollstep=30;n.css("position","relative");this.model.enableRTL||(this.model.headerPosition=="left"?n.css("margin-right",this.itemsContainer.width()/2+"px"):this.model.headerPosition=="right"?n.css("margin-left",this.itemsContainer.width()/2-this.scrollstep+"px"):this.model.enablePersistence==!0&&this._beforeWidth!=0&&this._beforeWidth>this.scrollPanelWidth?n.css("margin-right",this.itemsContainer.width()-this.scrollPanelWidth+20-(this.items[this.selectedItemIndex()].offsetLeft-this.scrollPanelWidth)*2+"px"):n.css("margin-right",this.itemsContainer.width()-this.scrollPanelWidth+20+"px"));this.model.headerPosition=="left"||this.model.headerPosition=="right"?(n.css("transform","rotate(270deg)"),t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11?this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?n.css("margin-top","-"+(this.itemsContainer.height()+this.scrollPanelWidth-3)+"px"):this.model.enableRTL?n.css("margin-top","-"+this.items.height()*this.items.length+"px"):n.css("margin-top","-"+(this.items.height()*this.items.length-20)+"px"):this.model.enablePersistence==!0&&this._beforeWidth!=0&&this._beforeWidth>this.scrollPanelHeight?n.css("margin-top","-"+(this.items[this.selectedItemIndex()].offsetTop*3-this.scrollPanelHeight*2)+"px"):this.model.enableRTL?n.css("margin-top","-"+this.items.height()*this.items.length+"px"):n.css("margin-top","-"+(this.items.height()*this.items.length-20)+"px")):this.model.enableRTL?(n.css("margin-top","-"+this.itemsContainer.height()+"px"),n.css("margin-left",this.itemsContainer.width()-14+"px")):n.css("margin-top","-"+(this.itemsContainer.height()/2+10)+"px");t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11&&(this.model.headerPosition=="top"?parseInt(n.prev().offset().top)-parseInt(n.offset().top)==-parseInt(n.css("margin-top"))&&n.css("top",this.itemsContainer.height()/2+27+"px"):this.model.headerPosition=="bottom"&&(this.model.enableRTL?n.css("top",this.itemsContainer.height()/2+20+"px"):n.css("top",this.itemsContainer.height()/2+27+"px")));this.model.headerPosition=="left"?n.css("margin-right",this.itemsContainer.width()/2+"px"):this.model.headerPosition=="right"&&n.css("margin-left",this.itemsContainer.width()/2-this.scrollstep+"px");this.element.attr("unselectable","on");this.element.css("user-select","none");this.element.on("selectstart",!1);this._on(this.element.find("div .e-scroll"),"click",this._tabScrollClick)}},_addScrollBackIcon:function(){if(this.element.find("div.e-right-scroll").length<=0){var n=t.buildTag("div.e-icon e-right-scroll","",{},{role:"presentation"}).css("visibility","hidden");this.itemsContainer.prepend(n);this.rightscrollstep=30;this.element.attr("unselectable","on");this.element.css("user-select","none");this.element.on("selectstart",!1);n.css("position","absolute");(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")&&(this.model.enableRTL?n.css("margin-right",this.itemsContainer.width()/2+"px"):n.css("margin-left","20px"));this.model.headerPosition=="left"||this.model.headerPosition=="right"?(this.model.enableRTL?(n.css("margin-top",+(this.scrollPanelHeight-4)+"px"),this.model.headerPosition=="right"?n.css("margin-right",this.itemsContainer.width()/2+14+"px"):n.css("margin-right",this.itemsContainer.width()/2+"px")):(this.model.headerPosition=="right"?n.css("margin-left",this.itemsContainer.width()/2-30+"px"):this.model.headerPosition=="left"&&n.css("margin-left",this.itemsContainer.width()/2-15+"px"),n.css("margin-top",+this.scrollPanelHeight+20+"px")),n.css("transform","rotate(270deg)")):t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11?n.css("margin-top","0px"):this.model.enableRTL?n.css("margin-top","0px"):n.css("margin-top","-5px");this._on(this.element.find("div.e-right-scroll"),"click",this._tabScrollBackClick)}},_addReloadIcon:function(){var n,i;this.element.find("div.e-reload").length<=0&&this.items.length>0&&(n=t.buildTag("div.e-icon e-reload","",{},{role:"presentation"}).css("visibility","hidden"),this.model.headerPosition=="left"||this.model.headerPosition=="right"?(i=this.items.find("a"),n.insertBefore(i)):this.items.append(n))},_addBaseClass:function(){var i,r,u;if(this.element.addClass("e-widget "+this.model.cssClass),this.itemsContainer.addClass("e-box"),this.model.enableRTL&&this.element.addClass("e-rtl"),this.model.headerPosition=="top"&&(n(this.contentPanels).addClass("e-hidebottom e-addborderbottom"),n(this.itemsContainer).addClass("e-addborderbottom"),n(this.contentPanels).removeClass("e-hidetop e-addbordertop e-hideright e-addborderright e-hideleft e-addborderleft"),n(this.itemsContainer).removeClass("e-addbordertop e-addborderright e-addborderleft"),this.items.length>0&&this.itemsContainer.addClass("e-header"),this.model.enableRTL&&(this.items.addClass("e-rtl-top-line"),this.items.removeClass("e-rtl-bottom-line"))),this.model.headerPosition=="bottom"&&(n(this.contentPanels).removeClass("e-hidebottom e-addborderbottom e-hideright e-addborderright e-hideleft e-addborderleft"),n(this.itemsContainer).removeClass("e-addborderbottom e-addborderright e-addborderleft"),n(this.contentPanels).addClass("e-hidetop e-addbordertop"),n(this.itemsContainer).addClass("e-addbordertop"),this.items.length>0&&this.itemsContainer.addClass("e-header"),this.model.enableRTL&&(this.items.addClass("e-rtl-bottom-line"),this.items.removeClass("e-rtl-top-line e-top-line"))),this.model.headerPosition=="left"&&(this.items.length>0&&this.itemsContainer.addClass("e-left"),n(this.contentPanels).removeClass("e-hidetop e-addbordertop e-hidebottom e-addborderbottom e-hideright e-addborderright"),n(this.itemsContainer).removeClass("e-addbordertop e-addborderbottom e-addborderright"),n(this.contentPanels).addClass("e-hideleft e-addborderleft"),n(this.itemsContainer).addClass("e-addborderleft"),n(this.items).removeClass("e-rtl-bottom-line e-rtl-top-line")),this.model.headerPosition=="right"&&(this.items.length>0&&this.itemsContainer.addClass("e-right"),n(this.contentPanels).removeClass("e-hidetop e-addbordertop e-hidebottom e-addborderbottom e-hideleft e-addborderleft"),n(this.itemsContainer).removeClass("e-addbordertop e-addborderbottom e-addborderleft"),n(this.contentPanels).addClass("e-hideright e-addborderright"),n(this.itemsContainer).addClass("e-addborderright"),n(this.items).removeClass("e-rtl-bottom-line e-rtl-top-line")),this.items.addClass("e-select e-item").attr("role","tab").attr("tabindex",-1).attr("aria-expanded",!0).attr("aria-selected",!1),n(this.contentPanels).addClass("e-content  e-content-item e-box").attr("role","tabpanel").attr("aria-hidden",!0),this.scrollPanelWidth=this.itemsContainer.width(),this.scrollPanelHeight=this.itemsContainer.height(),this.model.enableTabScroll==!0&&this.itemsContainer.height()>this.items.height()){if(this.scrollstep=0,this.model.enableTabScroll=!0,(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")&&this.itemsContainer.css({width:parseInt(this.itemsContainer.css("width"))+parseInt(this.items.css("width"))*this.items.length+"px",position:"absolute"}),this._beforeWidth=0,this.model.enablePersistence==!0)if(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")for(i=0;i<this.selectedItemIndex();i++)this._beforeWidth+=this.items[i].offsetWidth;else for(i=0;i<this.selectedItemIndex();i++)this._beforeWidth+=this.items[i].offsetHeight;r=parseInt(this.itemsContainer.css("width"));this.model.headerPosition=="top"&&(this.model.enableRTL?n(this.contentPanels).css("margin-top",this.itemsContainer.height()+3+"px"):t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11?n(this.contentPanels).css("margin-top",parseInt(this.itemsContainer.css("height"))+3+"px"):this.itemsContainer.height()>=this.itemsContainer.css("height")?n(this.contentPanels).css("margin-top",this.itemsContainer.height()+2+"px"):n(this.contentPanels).css("margin-top",this.itemsContainer.height()+3+"px"),n(this.contentPanels).css({position:"absolute","border-top":"none",width:parseInt(this.element.width())-1+"px"}),this.itemsContainer.css("border-bottom","1px solid #bbbcbb"));this.model.headerPosition=="bottom"&&(n(this.contentPanels).css({position:"relative",width:parseInt(this.element.width())-1+"px","border-bottom":"none"}),this.itemsContainer.css("border-top","1px solid #bbbcbb"),n(this.contentPanels).css({"border-top":""}));u=parseInt(r-(this.scrollPanelWidth+this.scrollstep-1));this.model.enableRTL&&(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")?this.itemsContainer.css("clip","rect(0px,"+r+"px,100px,"+u+"px)"):this.model.headerPosition=="left"?this.itemsContainer.height()<this.items.height()*this.items.length&&(this.itemsContainer.css({height:parseInt(this.itemsContainer.css("height"))+parseInt(this.items.css("height"))*this.items.length+30+"px",position:"absolute","border-right":"1px solid #bbbcbb",background:"white"}),n(this.contentPanels).css("padding-left",this.itemsContainer.width()+5+"px"),this.model.enableRTL&&this.itemsContainer.css("margin-right",this.element.width()-this.itemsContainer.width()),this._beforeWidth==0||this._beforeWidth<this.scrollPanelHeight?this.itemsContainer.css("clip","rect(0px,"+(this.itemsContainer.width()+2)+"px,"+this.scrollPanelHeight+"px,"+this.scrollstep+"px)"):this._beforeWidth>this.scrollPanelHeight&&this.itemsContainer.css({clip:"rect("+(this.items[this.selectedItemIndex()].offsetTop-this.scrollPanelHeight)*2+"px,"+(this.itemsContainer.width()+2)+"px,"+(this.items[this.selectedItemIndex()].offsetTop*2-this.scrollPanelHeight)+"px,0px)","margin-top":"-"+(this.items[this.selectedItemIndex()].offsetTop-this.scrollPanelHeight)*2+"px"}),this.element.removeClass("e-scrolltab")):this.model.headerPosition=="right"?this.itemsContainer.height()<this.items.height()*this.items.length&&(this.itemsContainer.css({height:parseInt(this.itemsContainer.css("height"))+parseInt(this.items.css("height"))*this.items.length+30+"px",position:"absolute","margin-left":"-1px"}),n(this.contentPanels).css({position:"absolute",width:parseInt(this.element.width()-1)+"px",height:parseInt(this.element.height())+"px","margin-left":"-"+parseInt(this.element.width())+"px","border-right":"none"}),n(this.element).css("margin-left",parseInt(this.element.width())+"px"),this.itemsContainer.css("border-left","1px solid #bbbcbb"),this.model.enableRTL&&this.itemsContainer.css("margin-right","-"+(this.itemsContainer.width()+1)+"px"),this._beforeWidth==0||this._beforeWidth<this.scrollPanelHeight?this.itemsContainer.css("clip","rect(0px,"+this.itemsContainer.width()+2+"px,"+this.scrollPanelHeight+"px,"+this.scrollstep+"px)"):this._beforeWidth>this.scrollPanelHeight&&this.itemsContainer.css({clip:"rect("+(this.items[this.selectedItemIndex()].offsetTop-this.scrollPanelHeight)*2+"px,"+(this.itemsContainer.width()+2)+"px,"+(this.items[this.selectedItemIndex()].offsetTop*2-this.scrollPanelHeight)+"px,0px)","margin-top":"-"+(this.items[this.selectedItemIndex()].offsetTop-this.scrollPanelHeight)*2+"px"}),this.element.removeClass("e-scrolltab")):this._beforeWidth==0||this._beforeWidth<this.scrollPanelWidth?this.itemsContainer.css({clip:"rect(0px,"+(this.scrollPanelWidth+this.scrollstep)+"px,100px,"+this.scrollstep+"px)","margin-left":"-"+this.scrollstep+"px"}):this._beforeWidth>this.scrollPanelWidth&&this.itemsContainer.css({clip:"rect(0px,"+(this.items[this.selectedItemIndex()].offsetLeft*2-this.scrollPanelWidth)+"px,100px,"+(this.items[this.selectedItemIndex()].offsetLeft-this.scrollPanelWidth)*2+"px)","margin-left":"-"+(this.items[this.selectedItemIndex()].offsetLeft-this.scrollPanelWidth)*2+"px"})}},_executeForwardScrolling:function(r){var s,e,f,o,u;if(n("div#"+this._id+" .e-icon.e-scroll").css("position","relative"),n("div#"+this._id+" .e-icon.e-scroll")[0]==r.target){if(s=this.scrollstep-this.rightscrollstep,this.offsetwidth=this.itemsContainer.width()-this.scrollPanelWidth,this.offsetheight=this.itemsContainer.height()-this.scrollPanelHeight,this.rightscrollstep>30&&(this.rightscrollstep=this.rightscrollstep-30),this.checkwidth==null||this.rightscrollstep==30?(f=parseInt(this.itemsContainer.css("width")),o=parseInt(f-(this.scrollPanelWidth+this.scrollstep-1)),this.model.enableRTL?(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")&&(this.itemsContainer.css({clip:"rect(0px,"+(f-this.scrollstep)+"px,100px,"+o+"px)","margin-right":"-"+this.scrollstep+"px"}),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-right",this.scrollPanelWidth+this.scrollstep-40+"px"),this.scrollstep<this.items.width()*this.items.length-30?n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-left",f-this.scrollstep-14+"px"):n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("display","none")):(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")&&(this.itemsContainer.css({clip:"rect(0px,"+(this.scrollPanelWidth+this.scrollstep)+"px,100px,"+this.scrollstep+"px)","margin-left":"-"+this.scrollstep+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-right",this.offsetwidth-this.scrollstep+20+"px"),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.scrollstep-10+"px")),(this.model.headerPosition=="left"||this.model.headerPosition=="right")&&(this.scrollDown=this.items.height(),this.itemsContainer.css({clip:"rect("+this.scrollstep+"px,"+(this.itemsContainer.width()+3)+"px,"+(this.scrollPanelHeight+this.scrollstep)+"px,0px)","margin-top":"-"+this.scrollstep+"px","margin-left":"-1px"}),this.model.enableRTL?(t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11?n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-this.scrollstep-25)+"px"):n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-this.scrollstep-28)+"px"),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+this.scrollstep-34+"px")):(n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-this.scrollstep-50)+"px"),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+this.scrollstep-10+"px")),this.model.headerPosition!="left"?n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.itemsContainer.width()/2-30+"px"):n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.itemsContainer.width()/2-15+"px")),e=this.scrollstep+30):(this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.model.enableRTL?(this.itemsContainer.css({clip:"rect(0px,"+(this.itemsContainer.width()-this.scrollstep+1)+"px,100px,"+(this.itemsContainer.width()-(this.scrollPanelWidth+this.scrollstep-1))+"px)","margin-right":"-"+this.scrollstep+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-left",this.itemsContainer.width()-this.scrollstep-14+"px"),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-right",this.scrollPanelWidth+this.scrollstep-40+"px")):(this.itemsContainer.css({clip:"rect(0px,"+(this.updatewidth+30)+"px,100px,"+(this.updatestep+30)+"px)","margin-left":"-"+(this.updatestep+30)+"px"}),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.updatestep+20+"px"),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-right",parseInt(n("div#"+this._id+" .e-icon.e-scroll").css("margin-right"))-30+"px")):(this.itemsContainer.css({clip:"rect("+this.scrollstep+"px,"+(this.itemsContainer.width()+3)+"px,"+(this.scrollPanelHeight+this.scrollstep)+"px,0px)","margin-top":"-"+this.scrollstep+"px","margin-left":"-1px"}),this.model.enableRTL?(n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-this.scrollstep-34)+"px"),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+this.scrollstep-31+"px")):(n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-this.scrollstep-50)+"px"),n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+this.scrollstep-14+"px")),this.model.headerPosition!="left"?n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.itemsContainer.width()/2-30+"px"):n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.itemsContainer.width()/2-15+"px")),this.updatestep+=30,this.updatewidth+=30),t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11){for(u=0,i=0;i<this.items.length;i++)u=parseInt(n(this.items[i]).css("width"))+u;(this.updatewidth>=u+53||e+this.scrollPanelWidth>=u+53)&&n("div#"+this._id+" .e-icon.e-scroll").css("top",0)}this.scrolledwidth=this.scrollPanelWidth+this.scrollstep;this.scrolledheight=this.scrollPanelHeight+this.scrollstep;this.checkwidth=this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.scrolledwidth:this.scrolledheight}},_executeBackwardScrolling:function(){n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("display","block");var i=this.scrollstep-this.rightscrollstep,r=this.scrolledwidth-this.rightscrollstep;this.scrolledwidth!=this.checkwidth?this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.model.enableRTL?(this.itemsContainer.css({clip:"rect(0px,"+(this.itemsContainer.width()-this.scrollstep+this.rightscrollstep+30+1)+"px,100px,"+(this.itemsContainer.width()-(this.scrollPanelWidth+i-30)+"px)"),"margin-right":"-"+(i-30)+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-left",this.itemsContainer.width()-i+16+"px")):(this.itemsContainer.css({clip:"rect(0px,"+(this.checkwidth-this.rightscrollstep+30)+"px,100px,"+(i-30)+"px)","margin-left":"-"+(i-30)+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-right",this.offsetwidth-i+50+"px")):(this.rightscrollstep>30?this.itemsContainer.css("clip","rect("+(i-30)+"px,"+(this.itemsContainer.width()+3)+"px,"+(this.checkwidth-this.rightscrollstep+30)+"px,0px)"):this.itemsContainer.css("clip","rect("+(i-30)+"px,"+(this.itemsContainer.width()+3)+"px,"+(this.checkwidth-this.rightscrollstep)+"px,0px)"),this.itemsContainer.css("margin-top","-"+(i-30)+"px"),this.model.enableRTL?t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11?n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-i+5)+"px"):n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-i+2)+"px"):n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-top","-"+(this.offsetheight-i-20)+"px")):this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.model.enableRTL?(this.itemsContainer.css({clip:"rect(0px,"+(this.itemsContainer.width()-this.scrollstep+60)+"px,100px,"+(this.itemsContainer.width()-(this.scrollPanelWidth+i-30)+"px)"),"margin-right":"-"+(i-30)+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css("margin-left",this.itemsContainer.width()-i+16+"px")):(this.itemsContainer.css({clip:"rect(0px,"+(this.checkwidth-this.rightscrollstep)+"px,100px,"+(i-30)+"px)","margin-left":"-"+(i-30)+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-scroll").css({"margin-right":this.offsetwidth-i+50+"px",top:this.itemsContainer.height()/2+27+"px"})):(this.itemsContainer.css({clip:"rect("+(i-30)+"px,"+this.itemsContainer.width()+"px,"+(this.checkwidth-this.rightscrollstep)+"px,0px)","margin-top":"-"+(i-30)+"px"}),n("div#"+this._id+" .e-icon.e-scroll")!=""&&n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+this.scrollstep-10+"px"));this.updatewidth=this.checkwidth-this.rightscrollstep+30;this.updatestep=i-30;this.model.headerPosition!="right"&&this.model.headerPosition!="left"&&this.contentPanels.css("margin-right","-1px");i<=30?(n("div#"+this._id+" .e-icon.e-right-scroll").css("display","none"),this._addScrollIcon(),this.scrollstep=0,this.rightscrollstep=0):this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.model.enableRTL?n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-right",this.scrollPanelWidth+this.scrollstep-70-this.rightscrollstep+"px"):n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",i-40+"px"):(this.model.headerPosition!="left"?n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.itemsContainer.width()/2-30+"px"):n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-left",this.itemsContainer.width()/2-15+"px"),this.model.enableRTL?n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+i-64+"px"):n("div#"+this._id+" .e-icon.e-right-scroll").css("margin-top",this.scrollPanelHeight+i-40+"px"));t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)<11?this.model.headerPosition=="top"?n("div#"+this._id+" .e-icon.e-scroll").prev().offset().top-n("div#"+this._id+" .e-icon.e-scroll").offset().top==-parseInt(n("div#"+this._id+" .e-icon.e-scroll").css("margin-top"))+1&&n("div#"+this._id+" .e-icon.e-scroll").css("top",this.itemsContainer.height()/2+27+"px"):this.model.headerPosition=="bottom"&&(this.model.enableRTL?n("div#"+this._id+" .e-icon.e-scroll").css("top",this.itemsContainer.height()/2+20+"px"):n("div#"+this._id+" .e-icon.e-scroll").css("top",this.itemsContainer.height()/2+27+"px")):n("div#"+this._id+" .e-icon.e-scroll").css("top","0px");this.rightscrollstep=this.rightscrollstep+30;this.checkwidth=this.model.headerPosition=="top"||this.model.headerPosition=="bottom"?this.scrolledwidth-30:this.scrolledheight-30},_removeHeaderClass:function(){this.itemsContainer.remove();this.itemsContainer.insertBefore(this.element.find(">div").first());this.items.removeClass("e-bottom-line e-top-line");n(this.contentPanels).removeClass("e-content-bottom e-activetop e-activebottom");this.itemsContainer.removeClass("e-header e-left e-right")},_removeVerticalClass:function(){this.element.removeClass("e-vertical");this.itemsContainer.removeClass("e-left e-right").removeAttr("style")},_removeBaseClass:function(){this.element.removeClass("e-tab e-widget e-corner");(this.model.headerPosition=="left"||this.model.headerPosition=="right")&&this._removeVerticalClass();this.itemsContainer.removeClass("e-header e-box e-clearall e-select");this.anchors.removeClass("e-link");this.items.removeClass("e-select e-item e-active e-bottom-line e-top-line");n(this.contentPanels).removeClass("e-content  e-content-item e-box");n(this.contentPanels).removeClass("e-content  e-content-item e-box e-content-bottom e-activetop e-activebottom e-active-content");n(this.contentPanels).css("display","")},_addContentTag:function(i,r){var f=this._getTabId(i),u=this.element.find("#"+f);u.length||(u=t.buildTag("div.e-content  e-content-item e-box e-content-bottom #"+f).insertAfter(this.contentPanels[r-1]||this.itemsContainer));this.contentPanels=n(this.contentPanels).add(u)},_roundedCorner:function(n){n?this.element.addClass("e-corner"):this.element.hasClass("e-corner")&&this.element.removeClass("e-corner")},_setTabsHeightStyle:function(i){var r,u;if(t.Tab.HeightAdjustMode.Content!=i&&n(this.contentPanels).height(""),t.Tab.HeightAdjustMode.Fill==i)t.Tab.Position.Left===this.model.headerPosition||t.Tab.Position.Right===this.model.headerPosition?n(this.contentPanels).css("height","100vh"):this._contentPaneSize();else if(t.Tab.HeightAdjustMode.Auto==i){for(r=0,n(this.contentPanels).css({display:"none"}).addClass("e-active-content"),u=0;u<this.contentPanels.length;u++)r=Math.max(r,this._getDimension(n(this.contentPanels[u]),"height"));n(this.contentPanels).removeClass("e-active-content");n(this.contentPanels).height(r);this.maxAutoHeight=r;this.showItem(this.selectedItemIndex())}else t.Tab.HeightAdjustMode.None==i&&this.model.height!=null&&this._contentPaneSize();t.Tab.HeightAdjustMode.Fill!==i&&n(this.itemsContainer).height("")},_getDimension:function(t,i){var u,f=n(t).parents().andSelf().filter(":hidden"),r={visibility:"hidden",display:"block"},e=[];return f.each(function(){var t={};for(var n in r)t[n]=this.style[n],this.style[n]=r[n];e.push(t)}),u=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),f.each(function(n){var i=e[n];for(var t in r)this.style[t]=i[t]}),u},showItem:function(i){var u,f,r;if(n.inArray(i,this.model.disabledItemIndex)<0){if(u=this,this._preTabIndex=this.selectedItemIndex(),this.selectedItemIndex(i),this.selectedItemIndex()>=this.contentPanels.length&&(this.selectedItemIndex(0),i=this.selectedItemIndex()),i>=0&&!0===this._onBeforeActive(i))return!1;if(n(this.items[this.selectedItemIndex()]).attr("aria-expanded",!0).attr("aria-selected",!0).attr("tabindex",0),this.selectedItemIndex()!=null&&this.selectedItemIndex()<this.contentPanels.length){for(this._ajaxLoad(),this.hideItem(this._preTabIndex),n(this.contentPanels[this.selectedItemIndex()]).fadeIn(this.model.enableAnimation?200:0,"easeOutQuad",function(){if(u._onActive())return!0}),this.model.headerPosition=="left"||this.model.headerPosition=="right"?n(this.contentPanels[this.selectedItemIndex()]).addClass("e-active-content "):(f=this.model.headerPosition==t.Tab.Position.Top?"e-activetop":"e-activebottom",n(this.contentPanels[this.selectedItemIndex()]).addClass(f)),n(this.items[this.selectedItemIndex()]).addClass("e-active").removeClass("e-select"),n(this.items[this.selectedItemIndex()]).removeClass("e-margine-top e-margine-bottom"),r=0;r<=n(this.items).length;r++)n(this.items[r]).hasClass("e-select")&&(this.model.headerPosition=="right"&&n(this.items[r]).removeClass("e-margine-top e-margine-bottom"),this.model.headerPosition=="left"&&n(this.items[r]).removeClass("e-margine-top e-margine-bottom"),this.model.headerPosition=="top"&&(this.element.hasClass("e-tab-collapsed")?n(this.items[r]).removeClass("e-margine-top"):n(this.items[r]).addClass("e-margine-top"),n(this.items[r]).removeClass("e-margine-bottom")),this.model.headerPosition=="bottom"&&(n(this.items[r]).removeClass("e-margine-top"),n(this.items[r]).addClass("e-margine-bottom")));n(this.contentPanels[this.selectedItemIndex()]).addClass("e-active-content").removeAttr("aria-hidden",!1)}}},hideItem:function(i){if(n(this.contentPanels[i]).fadeOut(0),!(this.model.headerPosition=="left"||this.model.headerPosition=="right"))var r=this.model.headerPosition==t.Tab.Position.Top?"e-activetop":"e-activebottom";n(this.items[i]).removeClass("e-active").addClass("e-select");n(this.contentPanels[i]).removeClass("e-active-content "+r).attr("aria-hidden",!0)},_ajaxLoad:function(){var t=n(this.contentPanels[this.selectedItemIndex()]),i=this.anchors[this.selectedItemIndex()],r=n(i).attr("href");t.is(":empty")&&r.indexOf("#")!==0&&this._sendAjaxOptions(t,i)},_getTabId:function(n){return n.indexOf("#")?this.model.idPrefix+this._getNextTabId():n.replace("#","")},_getNextTabId:function(){return++this.tabId},_disableTabs:function(){for(var t=0,i;i=this.items[t];t++)n.inArray(t,this.model.disabledItemIndex)>-1&&(n(i).find("a").unbind(this.model.events),this._off(n(i).find("div.e-delete"),"click")),n(i)[n.inArray(t,this.model.disabledItemIndex)!=-1&&!n(i).hasClass("e-tab-selected")?"addClass":"removeClass"]("e-disable"),n(this.contentPanels[t])[n.inArray(t,this.model.disabledItemIndex)!=-1&&!n(this.contentPanels[t]).hasClass("e-tab-selected")?"addClass":"removeClass"]("e-disable")},_tabItemClick:function(t){if(this.model.enabled){t.preventDefault();var i;this.selectedItemIndex()==n(this.items).index(n(t.currentTarget))&&this.model.collapsible?(i=-1,n(this.element).addClass("e-tab-collapsed")):i=n(this.items).index(n(t.currentTarget));i!=this.selectedItemIndex()&&this.showItem(i);n(this.element).removeClass("e-tab-collapsed")}},_tabDeleteClick:function(t){var r,i;this.model.enabled&&(r=n(t.target),r.hasClass("e-delete")&&(i=n(this.items).index(n(t.target).parent())),i==this.selectedItemIndex()&&this.items.length>i&&this.selectedItemIndex(this.selectedItemIndex()+1),this.removeItem(i))},_tabScrollClick:function(t){this.model.enabled&&n("div#"+this._id+" .e-icon.e-scroll")[0]==t.target&&(this._executeForwardScrolling(t),this.scrollstep=this.scrollstep+30,this._addScrollBackIcon(),n("div#"+this._id+" .e-icon.e-right-scroll").css("display","block"))},_tabScrollBackClick:function(t){this.model.enabled&&n("div.e-icon.e-right-scroll")[0]==t.target&&this._executeBackwardScrolling(t)},_tabReloadClick:function(t){var i;if(this.model.enabled&&(i=n(t.target),i.hasClass("e-reload"))){var r=this.anchors[this.selectedItemIndex()],u=n(r).attr("href"),f=n(this.contentPanels[this.selectedItemIndex()]);u.indexOf("#")!==0?this._sendAjaxOptions(f,r):this.showItem(this.selectedItemIndex())}},_sendAjaxOptions:function(t,i){if(this._onBeforeLoad(i))return!0;t.addClass("e-load");var r=this,u=n(i).html(),f=i.href.replace("#",""),e={type:this.model.ajaxSettings.type,cache:this.model.ajaxSettings.cache,url:f,data:this.model.ajaxSettings.data,dataType:this.model.ajaxSettings.dataType,contentType:this.model.ajaxSettings.contentType,async:this.model.ajaxSettings.async,success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(){try{r._ajaxErrorHandler(i,r.selectedItemIndex(),u)}catch(n){}}};this._sendAjaxRequest(e)},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,i,r,u){u!=null&&n(r).html(u);i.removeClass("e-load");i.html(t).addClass("e-tab-loaded");var f={data:t,url:r,content:i};return this._trigger("ajaxSuccess",f),this._onLoad(r)?!0:void 0},_ajaxErrorHandler:function(n,t){this._trigger("ajaxError",{data:n,url:t});this._onLoad(t)},_createContentPanel:function(t){return n("<div><\/div>").attr("id",t).addClass("e-content  e-content-item e-content-bottom e-box")},_refresh:function(){this._unWireEvents();this._initialize()},_keyPress:function(i){if(this.model.enabled){var f,r,u=n(i.target);if(code=i.keyCode?i.keyCode:i.which?i.which:i.charCode,u.hasClass("e-link")||u.hasClass("e-item"))switch(code){case 39:case 40:i.preventDefault();this.showItem(this.selectedItemIndex()+1);break;case 37:case 38:i.preventDefault();this.selectedItemIndex()!=0?this.showItem(this.selectedItemIndex()-1):this.selectedItemIndex()==0&&this.showItem(this.getItemsCount()-1);break;case 35:i.preventDefault();this.showItem(this.getItemsCount()-1);break;case 36:i.preventDefault();this.showItem(0)}else if(i.ctrlKey&&!u.hasClass("e-tab"))switch(code){case 38:i.preventDefault();f=n(this.contentPanels).index(u.parent(".e-content"));r=n(this.items[f]);break;case 33:i.preventDefault();r=n(this.items[0]);this.showItem(0);break;case 34:i.preventDefault();r=n(this._headers[this.getItemsCount()-1]);this.showItem(this.getItemsCount()-1)}t.isNullOrUndefined(r)||(r.addClass("e-focus"),r.focus())}},_hoverHandler:function(t){if(t.preventDefault(),this.model.enabled){var i=n(this.items).index(n(t.target).parent());i==-1&&(i=n(this.items).index(n(t.target)));t.type==="mouseout"?n(this.element.find("div.e-delete")[i]).css("visibility","hidden"):n(this.element.find("div.e-delete")[i]).css("visibility","visible");t.type==="mouseout"?n(this.element.find("div.e-scroll")).css("visibility","hidden"):n(this.element.find("div.e-scroll")).css("visibility","visible");t.type==="mouseout"?n(this.element.find("div.e-right-scroll")).css("visibility","hidden"):n(this.element.find("div.e-right-scroll")).css("visibility","visible");t.type==="mouseout"?n(this.element.find("div.e-reload")[i]).css("visibility","hidden"):n(this.element.find("div.e-reload")[i]).css("visibility","visible")}},_wireEvents:function(n){this._on(this.items,n,this._tabItemClick);this._on(this.itemsContainer,"mouseover",this._hoverHandler);this._on(this.itemsContainer,"mouseout",this._hoverHandler);this._on(this.element.find("div.e-delete"),"click",this._tabDeleteClick);this._on(this.element.find("div.e-scroll"),"click",this._tabScrollClick);this._on(this.element.find("div.e-right-scroll"),"click",this._tabScrollBackClick);this._on(this.itemsContainer,"focusin",this._focusIn);this._on(this.itemsContainer,"focusout",this._focusOut);this._on(this.element.find("div.e-reload"),"click",this._tabReloadClick)},_unWireEvents:function(){this._off(this.anchors,this.model.events);this._off(this.element.find("div.e-delete"),"click");this._off(this.element.find("div.e-scroll"),"click");this._off(this.element.find("div.e-right-scroll"),"click");this._off(this.itemsContainer,"mouseover",this._hoverHandler);this._off(this.itemsContainer,"mouseout",this._hoverHandler);this._off(this.itemsContainer,"focusin",this._focusIn);this._off(this.itemsContainer,"focusout",this._focusOut);this._off(this.element.find("div.e-reload"),"click")},_resizeEvents:function(t){t==="fill"?n(window).bind("resize",n.proxy(this._windowResized,this)):n(window).unbind("resize",n.proxy(this._windowResized,this))},_windowResized:function(){var t=this._getDimension(n(this.element).parent(),"height");this._prevSize!=t&&(this._contentPaneSize(),this._prevSize=t)},_contentPaneSize:function(){var i,r,t;for(this.model.height!=null&&this.model.heightAdjustMode=="none"?(n(this.element).height(this.model.height),i=this._getDimension(n(this.element),"height")):i=this._getDimension(n(this.element).parent(),"height"),n(this.contentPanels).height(""),n(this.element).parent().css({overflow:"auto"}),(this.model.headerPosition==="top"||this.model.headerPosition==="bottom")&&(i-=this._getDimension(n(this.itemsContainer),"outerHeight")),r=0,t=0;t<this.contentPanels.length;t++)r=Math.max(r,this._getDimension(n(this.contentPanels[t]),"outerHeight")-this._getDimension(n(this.contentPanels[t]),"height")),this.model.height!=null&&this.model.heightAdjustMode=="none"?n(this.contentPanels[t]).outerHeight(i).css({overflow:"auto"}):n(this.contentPanels).outerHeight(i-r).css({overflow:"auto"})},_disableItems:function(t){if(!this.model.enabled)return!1;if(t!=null){for(var i=0;i<t.length;i++)n.inArray(t[i],this.model.disabledItemIndex)==-1&&this.model.disabledItemIndex.push(t[i]);this.model.disabledItemIndex.sort();this._disableTabs()}},_enableItems:function(i){var u,r;if(!this.model.enabled)return!1;for(u=0;u<i.length;u++){if(r=i[u],t.isNullOrUndefined(this.contentPanels[r])||n(this.contentPanels[r]).removeClass("e-disable"),n.inArray(r,this.model.disabledItemIndex)==-1)return!1;this.model.disabledItemIndex=n.grep(this.model.disabledItemIndex,function(n){return n!=r})}this._refresh();this._disableTabs()},disable:function(){for(var t=[],n=0;n<this.getItemsCount();n++)t.push(n);this._disableItems(t);this.model.enabledItemIndex=[];this._unWireEvents()},enable:function(){for(var i=[],t=0;t<this.getItemsCount();t++)n.inArray(t,this.model.enabledItemIndex)<0&&(this.model.enabledItemIndex.push(t),i.push(t)),this._enableItems(t);this.model.disabledItemIndex=[]},getItemsCount:function(){if(this.items)return this.items.length},addItem:function(i,u,f,e,o){var h,s,a,c,l,v,y;for(this._addItemIndex=f>=0&&f<this.items.length?f:this.items.length,h=0;h<this.model.disabledItemIndex.length;h++)this.model.disabledItemIndex[h]>=f&&this.model.disabledItemIndex[h]++;this.model.headerPosition=="left"?this.items.length>=0&&this.itemsContainer.addClass("e-left"):this.model.headerPosition=="right"?this.items.length>=0&&this.itemsContainer.addClass("e-right"):this.items.length==0&&this.itemsContainer.addClass("e-header");s=t.buildTag("li.e-select e-item");this.model.headerPosition=="top"&&(this.model.enableRTL?n(s).addClass("e-rtl-top-line e-top-hover"):n(s).addClass("e-bottom-line"));t.isNullOrUndefined(e)||(a=t.buildTag("span").addClass(e),s.append(a));f===r&&u===r&&i!=null&&(u="Item");f===r&&u===r&&o===r&&(i="#Item"+this.items.length,u="Item");o!=r?(o.indexOf("#")!=0&&(o="#"+o),this.divId=o):i!=r&&(o=i);c=t.buildTag("a",u,{},{href:i});(this.model.headerPosition=="top"||this.model.headerPosition=="bottom")&&c.appendTo(s);this.model.showCloseButton&&(l=t.buildTag("div.e-icon e-delete","",{},{}).css("visibility","hidden"),s.append(l),this._on(l,"click",this._tabDeleteClick));(this.model.headerPosition=="left"||this.model.headerPosition=="right")&&c.appendTo(s);f===r&&(f=this.anchors.length);v=f>=this.items.length;v?s.appendTo(this.itemsContainer):s.insertBefore(this.items[f]);t.isNullOrUndefined(this.model.headerSize)||this._setHeaderSize(this.model.headerSize);this.selectedItemIndex()==f?(this.hideItem[f],this.selectedItemIndex(this.selectedItemIndex()+1)):(this.hideItem[f],f<this.selectedItemIndex()&&this.selectedItemIndex(this.selectedItemIndex()+1));this._itemsRefreshing();this._reinitialize();this.model.headerPosition=="top"&&n(this.contentPanels[f]).addClass("e-hidebottom");this.model.headerPosition=="bottom"&&(n(this.contentPanels[f]).addClass("e-hidetop"),s.addClass("e-top-line e-item e-select e-margine-bottom"));this.model.headerPosition=="left"&&n(this.contentPanels[f]).addClass("e-hideleft");this.model.headerPosition=="right"&&n(this.contentPanels[f]).addClass("e-hideright");y={tabHeader:this.anchors[f],tabContent:this.contentPanels[f]};this._addItemIndex=null;this._onAdd(y)},removeItem:function(t){var r,i,u;if(!this.model.enabled)return!1;if(t!=null&&t>-1&&t<this.items.length){if(this._onBrforeRemove({index:t})===!0)return!1;for(r=n(this.items[t]).remove(),i=0;i<this.model.disabledItemIndex.length;i++)this.model.disabledItemIndex[i]>t?this.model.disabledItemIndex[i]--:this.model.disabledItemIndex[i]==t&&this.model.disabledItemIndex.splice(i,1);r.hasClass("e-active")&&(t==0?this.selectedItemIndex(t+1):this.selectedItemIndex(t-1),this.showItem(this.selectedItemIndex()));n(this.element.find(">div.e-content")[t]).remove();this.contentPanels.splice(t,1);t<this.selectedItemIndex()?this.selectedItemIndex(this.selectedItemIndex()-1):this.selectedItemIndex();(t<0||t>=this.anchors.length)&&this.selectedItemIndex(0);(this.model.headerPosition=="left"||this.model.headerPosition=="right")&&this.items.length==1?this._removeVerticalClass():this.items.length==1&&this.itemsContainer.removeClass("e-header");this._unWireEvents();this._itemsRefreshing();this._wireEvents();this._disableTabs();u={removedTab:r};this._onRemove(u)}},show:function(){if(!this.model.enabled)return!1;this.element.css("visibility","visible")},hide:function(){if(!this.model.enabled)return!1;this.element.css("visibility","hidden")},_onBeforeLoad:function(n){var t;return t=this.selectedItemIndex()==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null,url:n}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[this.selectedItemIndex()],activeIndex:this.selectedItemIndex(),url:n},this._trigger("ajaxBeforeLoad",t)},_focusIn:function(){!this.model.readOnly&&this.model.allowKeyboardNavigation&&n(this.element).bind("keydown",n.proxy(this._keyPress,this))},_focusOut:function(){n(this.element).unbind("keydown",n.proxy(this._keyPress,this))},_onLoad:function(n){var t;return t=this.selectedItemIndex()==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null,url:n}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[this.selectedItemIndex()],activeIndex:this.selectedItemIndex(),url:n},this._trigger("ajaxLoad",t)},_onActive:function(){var n;return n=this.selectedItemIndex()==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[this.selectedItemIndex()],activeIndex:this.selectedItemIndex()},this._trigger("itemActive",n)},_onBeforeActive:function(n){if(this.model.beforeActive!=null){var t;return t=this.selectedItemIndex()==-1&&this.model.collapsible?{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:null,activeIndex:null}:{prevActiveHeader:this.items[this._preTabIndex],prevActiveIndex:this._preTabIndex,activeHeader:this.items[n],activeIndex:n},this._trigger("beforeActive",t)}},_onAdd:function(n){return this._trigger("itemAdd",n)},_onRemove:function(n){return this._trigger("itemRemove",n)},_onBrforeRemove:function(n){return this._trigger("beforeItemRemove",n)}});t.Tab.HeightAdjustMode={Content:"content",Auto:"auto",Fill:"fill",None:"none"};t.Tab.Position={Top:"top",Bottom:"bottom",Left:"left",Right:"right"}}(jQuery,Syncfusion),function(n,t){t.widget("ejTagCloud","ej.TagCloud",{element:null,model:null,validTags:["div","span"],_ignoreOnPersist:["fields","dataSource","query","create","destroy","click","mouseout","mouseover"],_rootCSS:"e-tagcloud",_setFirst:!1,defaults:{cssClass:"",htmlAttributes:{},dataSource:null,query:null,fields:{text:"text",url:"url",frequency:"frequency",htmlAttributes:"htmlAttributes"},showTitle:!0,titleText:"Title",titleImage:null,format:"cloud",enableRTL:!1,minFontSize:"10px",maxFontSize:"40px",mouseover:null,mouseout:null,click:null,create:null,destroy:null},dataTypes:{cssClass:"string",showTitle:"boolean",titleText:"string",titleImage:"string",format:"enum",enableRTL:"boolean",dataSource:"data",query:"data",fields:"data",htmlAttributes:"data"},_init:function(){this._initialize();this._render()},_setModel:function(n){for(var t in n)switch(t){case"fields":case"query":case"dataSource":case"minFontSize":case"maxFontSize":this._refreshTagItems(t,n[t]);break;case"showTitle":this._showTitle(n[t]);break;case"titleText":this._title(n[t]);break;case"titleImage":this._titleImage(n[t]);break;case"cssClass ":this._changeSkin(n[t]);break;case"format":this._format(n[t]);break;case"enableRTL":this._rtl(n[t]);break;case"htmlAttributes":this._addAttr(n[t])}},_refreshTagItems:function(n,t){this.model[n]=t;this.ul.empty();this._checkDataBinding()},_showTitle:function(n){n?this._generateTitle():(this.titleText.remove(),this.titleText=null)},_title:function(n){this.titleText&&(n?this.text?this.text.html(n):this._generateTextTag(n):this.text&&(this.text.remove(),this.text=null))},_titleImage:function(n){this.titleText&&(n?this.image?this.image.attr("src",n):this._generateImageTag(n):this.image&&(this.image.remove(),this.image=null))},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},insert:function(t){n.trim(t.text)&&this.ul.append(this._generateLi(t,this._getMapper()))},insertAt:function(t,i){n.trim(t.text)&&n(this.ul.children()[i-1]).before(this._generateLi(t,this._getMapper()))},remove:function(t){for(var u=this.ul.children(),r,i=0;i<u.length;i++)r=n(u[i]),r.children()[0].innerHTML==t&&r.remove()},removeAt:function(t){var i=this.ul.children();n(i[t-1]).remove()},_format:function(n){n=="cloud"?(this.ul.removeClass("e-list"),this.ul.addClass("e-cloud")):n=="list"&&(this.ul.removeClass("e-cloud"),this.ul.addClass("e-list"))},_destroy:function(){this.element.removeClass("e-widget "+this.model.cssClass);this.element.empty()},_initialize:function(){this.minFreq=0;this.maxFreq=30;this.ul=null;this.titleText=null;this.image=null;this.text=null},_render:function(){this.element.addClass("e-widget "+this.model.cssClass);this.model.showTitle&&this._generateTitle();this._renderWrapper();this._checkDataBinding();this._addAttr(this.model.htmlAttributes);this._checkProperties()},_generateTitle:function(){this.titleText=t.buildTag("div.e-header e-title");this.model.titleImage&&this._generateImageTag(this.model.titleImage);this.model.titleText&&this._generateTextTag(this.model.titleText);this.ul?this.titleText.insertBefore(this.ul):this.element.append(this.titleText)},_generateImageTag:function(t){this.image||(this.image=n('<img class="e-title-img" src="'+t+'" />'));this.text&&!this.model.titleImage?this.image.insertBefore(this.text):this.titleText.append(this.image)},_generateTextTag:function(n){this.text||(this.text=t.buildTag("span",n));this.titleText.append(this.text)},_renderWrapper:function(){var n;n=this.model.format=="list"?"list":"cloud";this.ul=t.buildTag("ul.e-ul e-box e-"+n);this.element.append(this.ul)},_renderItems:function(n){this._generateTagItems(n);this.ul.removeClass("e-load")},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):i.element.attr(t,n)})},_checkProperties:function(){this.model.enableRTL&&this._rtl(this.model.enableRTL)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_checkDataBinding:function(){var n=this.model.dataSource;n!=null&&(this.ul.addClass("e-load"),t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._renderItems(n))},_initDataSource:function(n){var t=this,i=n.executeQuery(this._getQuery());i.done(function(n){t._renderItems(n.result)}).fail(function(){t.ul.removeClass("e-load")})},_setAttributes:function(n,t){if(n)for(var i in n)i=="class"?t.addClass(n[i]):t.attr(i,(i=="style"?t.attr("style")+";":"")+n[i])},_getQuery:function(){var r;if(t.isNullOrUndefined(this.model.query)){var u=[],i=t.Query(),n=this.model.fields;for(r in n)r!=="tableName"&&n[r]&&u.push(n[r]);u.length>0&&i.select(u);this.model.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||i.from(n.tableName)}else i=this.model.query;return i},_generateTagItems:function(t){var i,r=this._getMapper(),u=function(n){return n[r._freq]},f=t.map?t.map(u):n.map(t,u);for(this.minFreq=Math.min.apply(Math,f),this.maxFreq=Math.max.apply(Math,f),i=0;i<t.length;i++)this.ul.append(this._generateLi(t[i],r))},_getMapper:function(){var n=this.model.fields,t={_text:null,_freq:null,_url:null};return t._text=n&&n.text?n.text:"text",t._freq=n&&n.frequency?n.frequency:"frequency",t._url=n&&n.url?n.url:"url",t._attr=n&&n.htmlAttributes?n.htmlAttributes:"htmlAttributes",t},_generateLi:function(n,i){var u=t.buildTag("li.e-tagitems"),r;return r=t.buildTag("a.e-txt",n[i._text]||n[i._url],{"font-size":this._calculateFontSize(n[i._freq])},{role:"link"}),n[i._url]&&r.attr({href:n[i._url],target:"blank"}),this._setAttributes(n[i._attr],r),u.append(r),this._on(r,"mouseenter",this._mouseEnter),this._on(r,"mouseleave",this._mouseLeave),this._on(r,"click",this._mouseClick),u},_mouseEnter:function(t){n(t.target).addClass("hover");this._raiseEvent(t,"mouseover")},_mouseLeave:function(t){n(t.target).removeClass("hover");this._raiseEvent(t,"mouseout")},_mouseClick:function(t){n(t.target).removeClass("hover");this._raiseEvent(t,"click")},_raiseEvent:function(t,i){this._trigger(i,{value:n(t.target).html(),url:n(t.target).attr("href"),eventType:i,target:n(t.target)})},_calculateFontSize:function(n){if(n){var t=2,i,r,u=parseInt(this.model.minFontSize,10),f=parseInt(this.model.maxFontSize,10);return i=(n-this.minFreq)/(this.maxFreq-this.minFreq),r=f-u,u+t*Math.floor(i*(r/t))}return this.model.minFontSize}});t.Format={Cloud:"cloud",List:"list"}}(jQuery,Syncfusion),function(n,t,r){t.widget("ejTreeView","ej.TreeView",{_rootCSS:"e-treeview",element:null,model:null,validTags:["ul","div"],_ignoreOnPersist:["fields","nodeClick","beforeExpand","nodeExpand","beforeCollapse","nodeCollapse","nodeSelect","nodeCheck","nodeUncheck","inlineEditValidation","beforeEdit","keyPress","nodeDragStart","nodeDrag","nodeDragStop","nodeDropped","create","destroy"],_setFirst:!1,defaults:{showCheckbox:!1,enableAnimation:!0,allowDragAndDrop:!1,htmlAttributes:{},allowDropChild:!0,allowDropSibling:!0,allowDragAndDropAcrossControl:!0,allowEditing:!1,allowKeyboardNavigation:!0,items:null,fields:{dataSource:null,query:null,tableName:null,child:null,id:"id",parentId:"parentId",text:"text",spriteCssClass:"spriteCssClass",expanded:"expanded",hasChild:"hasChild",selected:"selected",linkAttribute:"linkAttribute",imageAttribute:"imageAttribute",htmlAttribute:"htmlAttribute",imageUrl:"imageUrl",isChecked:"isChecked"},autoCheckParentNode:!1,loadOnDemand:!1,cssClass:"",template:null,enableRTL:!1,expandOn:"dblclick",enablePersistence:!1,enabled:!0,expandedNodes:[],checkedNodes:[],selectedNode:-1,width:null,height:null,autoCheck:!0,nodeClick:null,beforeExpand:null,nodeExpand:null,beforeCollapse:null,nodeCollapse:null,nodeSelect:null,nodeCheck:null,nodeUncheck:null,inlineEditValidation:null,beforeEdit:null,keyPress:null,nodeDragStart:null,nodeDrag:null,nodeDragStop:null,nodeDropped:null,create:null,destroy:null},dataTypes:{cssClass:"string",showCheckbox:"boolean",enableAnimation:"boolean",allowDragAndDrop:"boolean",allowDropChild:"boolean",allowDragAndDropAcrossControl:"boolean",allowEditing:"boolean",allowKeyboardNavigation:"boolean",autoCheckParentNode:"boolean",loadOnDemand:"boolean",enableRTL:"boolean",expandOn:"string",enablePersistence:"boolean",items:"data",fields:{dataSource:"data",query:"data",child:"data"},expandedNodes:"array",checkedNodes:"array",selectedNode:"number",htmlAttributes:"data"},observables:["fields.dataSource"],dataSource:t.util.valueFunction("fields.dataSource"),_setModel:function(i){var r,o,s,f,e,h,u;for(r in i)switch(r){case"cssClass":this._changeSkin(i[r]);break;case"fields":this._unWireEvents();o=this.element.hasClass("e-js")?!1:!0;u=o?this.element.children("ul"):this.element;u.empty();n.extend(this.model.fields,i[r]);this.model.expandedNodes=[];this.model.checkedNodes=[];this.model.selectedNode=-1;this._checkDataBinding();o&&(s=this.element.children(".e-treeview-ul"),u.append(s.children()),s.remove());break;case"allowDragAndDropAcrossControl":this.model.allowDragAndDropAcrossControl=i[r];this._enableDragDrop();break;case"enabled":this._enabledAction(i[r]);break;case"showCheckbox":i[r]?(this.model.showCheckbox=i[r],this._showCheckBox(),this.model.enabled||this.element.find(".nodecheckbox").ejCheckBox("disable")):this.element.find("li > div > span.e-chkbox-wrap").remove();break;case"autoCheck":this.model.autoCheck=i[r];break;case"autoCheckParentNode":this.model.autoCheckParentNode=i[r];break;case"expandedNodes":for(this._collapseAll(),this.model.expandedNodes=[],f=0;f<i[r].length;f++)this.model.loadOnDemand?this._createChildNodesWhenExpand(n(this._liList[i[r][f]])):this._expandNode(n(this._liList[i[r][f]]));break;case"checkedNodes":if(this.model.showCheckbox)for(this._unCheckAll(),this.model.checkedNodes=[],e=0;e<i[r].length;e++)h=this._liList[i[r][e]],this._nodeCheckedAction(n(h).find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0]);break;case"expandOn":this._on(this.element,i[r],this._expandEventHandler);break;case"allowEditing":this._preventEditable();i[r]&&this._allowEditable();break;case"allowKeyboardNavigation":i[r]?this._on(this.element,"keydown",this._KeyPress):this._off(this.element,"keydown",this._KeyPress);break;case"allowDragAndDrop":this.model.allowDragAndDrop=i[r];i[r]?this._addDragableClass():this._preventDraggable();break;case"allowDropChild":this.model.allowDropChild=i[r];i[r]?this._addDragableClass():this._preventDropChild();break;case"allowDropSibling":this.model.allowDropSibling=i[r];i[r]?this._addDragableClass():this._preventDropSibling();break;case"enableRTL":this.model.enableRTL=i[r];this.model.enableRTL?this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-rtl"):this.element.addClass("e-rtl"):this.element.is("UL")?this.element.parent(".e-treeview-wrap").removeClass("e-rtl"):this.element.removeClass("e-rtl");break;case"height":this.element.height(i[r]);break;case"width":this.element.width(i[r]);break;case"selectedNode":this.model.selectedNode=i[r];this.model.selectedNode>=0?(u=n(this._liList[this.model.selectedNode]),t.isNullOrUndefined(u)||this._nodeSelectionAction(u.find("> div > a.e-text:first"))):this.element.find("li > div > a.e-active").removeClass("e-active");break;case"htmlAttributes":this._addAttr(i[r])}},_destroy:function(){this.element.html("");this._cloneElement.removeClass("e-treeview e-js e-treeview-wrap");this.element.is("ul")?this.element.closest(".e-treeview-wrap").replaceWith(this._cloneElement):this.element.replaceWith(this._cloneElement);window.localStorage?window.localStorage.removeItem(this._id+"_childNodes"):window.cookie&&(document.cookie=this._id+"_childNodes=; expires=Thu, 01 Jan 1970 00:00:00 UTC")},_init:function(){this._cloneElement=n(this.element).clone();this._dataSource=[];this._fragment=[];this._templateType="";this._indexID=0;this._animating=!1;this._newDataSource=this.dataSource();this._id=this.element.prop("id");t.isNullOrUndefined(this.model.fields)||this.dataSource()==null?this.initialize():this._checkDataBinding()},initialize:function(){this._cutCopyNodeText=null;this.beforeEditText=null;this._CurrenctSelectedNodes=[];this.element.is("ul")?this._createWrapper():(this.element.addClass("e-treeview-wrap e-widget").attr("tabindex",0),this.element.children("ul:first").addClass("e-ul"),this.model.width!=null&&this.element.width(this.model.width),this.model.height!=null&&this.element.height(this.model.height),this.model.enableRTL&&this.element.addClass("e-rtl"),this.model.cssClass!=null&&this.element.addClass(this.model.cssClass));this._beforeBaseClass();this.dataSource()==null&&(this._addBaseClass(),this._controlRender());this._addDragableClass();this._finalize();this._enabledAction(this.model.enabled)},_beforeBaseClass:function(){var t;this.element.is("ul")?(t=this.element.parent(".e-treeview-wrap"),t.attr("role","tree")):(t=this.element,t.attr("aria-activedescendant",this._id+"_active").children("ul:first").attr("role","tree"));this._ulList=n(t[0].querySelectorAll("ul"));this._liList=n(t[0].querySelectorAll("li")).attr("tabindex",-1)},_createWrapper:function(){var n=t.buildTag("div.e-treeview-wrap e-widget "+this.model.cssClass,"","",{tabindex:0,"aria-activedescendant":this._id+"_active"});this.model.width!=null&&n.width(this.model.width);this.model.height!=null&&n.height(this.model.height);this.model.enableRTL&&n.addClass("e-rtl");n.insertAfter(this.element);n.append(this.element.addClass("e-ul").attr("tabindex",0));this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):t=="disabled"&&n=="disabled"?i._enabledAction(!1):i.element.attr(t,n)})},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.is("ul")?this.element.parent(".e-treeview-wrap").removeClass(this.model.cssClass).addClass(n):this.element.removeClass(this.model.cssClass).addClass(n))},_enabledAction:function(n){this.model.enabled=n;n?(this.element.removeClass("e-disable"),this._wireEvents()):(this.element.addClass("e-disable"),this._unWireEvents())},_checkDataBinding:function(){this.dataSource()instanceof t.DataManager?this._initDataSource():!t.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0&&(this._ensureDataSource(this.dataSource()),this.initialize())},_initDataSource:function(){this.element.ejWaitingPopup();var r=this.element.ejWaitingPopup("instance"),t,n=this,i;this.element.ejWaitingPopup("refresh");this.element.ejWaitingPopup("show");t=this._columnToSelect(this.model.fields);i=this.dataSource().executeQuery(t);i.done(function(t){n.element.ejWaitingPopup("hide");n.retriveData=t.result;n._ensureDataSource(t.result);n.initialize()})},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="child"&&i!=="dataSource"&&n[i]&&u.push(n[i]);u.length>0&&r.select(u);this.dataSource().dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_ensureDataSource:function(n){this.currentSelectedData=n;this._renderTemplate(n);this.element.is("ul")?this.element.html(this._fragment.firstChild.children):this.element.html(this._fragment)},_getTemplateType:function(n,t){for(var i=0,r=n.length;i<r;i++){if(n[i].hasOwnProperty(t.parentId)||n[i].hasOwnProperty(t.hasChild))return 1;if(n[i].hasOwnProperty("child"))return 2}return 1},_groupingObjects:function(n,t){for(var u,r={},f=[],i=0,e=n.length;i<e;i++)u=JSON.stringify(t(n[i])),r[u]=r[u]||[],r[u].push(n[i]);for(i in r)f.push(r[i]);return f},_renderTemplate:function(n){this._onlineData=!1;this._loadOnDemandNodes=!1;var i=this;if(this.dataSource()instanceof t.DataManager)this._dataSource=n;else{this._templateType=this._getTemplateType(n,this.model.fields);switch(this._templateType){case 1:this._dataSource=this._groupingObjects(n,function(n){return[!t.isNullOrUndefined(n)&&[n[i.model.fields.parentId]].toString()]});break;case 2:this._dataSource=n}}this._templateNodeCreation(n,this.model.fields)},_templateNodeCreation:function(i,r){var e,u,f,o;if(this._fragment=document.createDocumentFragment(),e=document.createElement("ul"),this._fragment.appendChild(e),u=this._fragment.firstChild,(this._onlineData||this._loadOnDemandNodes)&&(u.className="e-treeview-ul",u.setAttribute("role","group"),n(u).attr("style","display:none")),this.dataSource()!=null){for(f=0,o=i.length;f<o;f++)t.isNullOrUndefined(i[f])||(t.isNullOrUndefined(i[f][this.model.fields.parentId])||i[f][this.model.fields.parentId]==0||this._loadOnDemandNodes)&&u.appendChild(this._tempalteSub(i[f],i,r));n(u).find(">li:first").addClass("first");n(u).find(">li:last").addClass("last")}},_onlineDataSource:function(n,t,i){this._templateNodeCreation(n,i);var r=this.element.find("li#"+t);r.append(this._fragment);r.children().find("> div:first").addClass("e-icon e-plus");this.model.showCheckbox&&(this.element.find("li").children("div").find("input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this._isCheckedAction());this._preventEditable();this.model.allowEditing&&this._allowEditable();this.model.allowDragAndDrop&&this._addDragableClass();this._onlineData=!1},_tempalteSub:function(i,r,u){var p=document.createDocumentFragment(),f,w,a,o,e,b,s,h,c,v,y,l;if(w=document.createElement("li"),p.appendChild(w),f=p.firstChild,f.id=i[u.id]?i[u.id]:!this.model.template&&!this.model.showCheckbox?i[u.text]:"",this._addFirst?(n(f).addClass("e-item first"),this._addFirst=!1):this._addLast?(n(f).addClass("e-item last"),this._addLast=!1):n(f).addClass("e-item"),f.setAttribute("role","treeitem"),i[u.htmlAttribute]&&this._setAttributes(i[u.htmlAttribute],f),i[u.imageUrl]?(o=document.createElement("img"),o.className="e-align",o.src=i[u.imageUrl],i[u.imageAttribute]&&this._setAttributes(i[u.imageAttribute],o),f.appendChild(o)):i[u.spriteCssClass]&&(a=document.createElement("span"),a.className=i[u.spriteCssClass],f.appendChild(a)),this.model.template||i[u.text]){if(e=document.createElement("a"),this.model.template){if(typeof n.fn.render!="function")throw"Error : JsRender dependecy script missing";e.innerHTML=this._renderEjTemplate(this.model.template,i)}else e.innerHTML=i[u.text];i[u.linkAttribute]&&(e.href=i[u.linkAttribute]);i[u.selected]&&(e.className="e-text CanSelect e-active");f.appendChild(e)}if(this._hasExpanded=!1,i[u.expanded]&&(n(f).addClass("expanded"),this._hasExpanded=!0),i[u.isChecked]&&n(f).addClass("ischecked"),!1&&f.appendChild(b),f.setAttribute("aria-selected",!1),f.setAttribute("aria-expanded",!1),this.dataSource()instanceof t.DataManager&&!t.isNullOrUndefined(u.child))u.child.dataSource instanceof t.DataManager&&(this._updateElement(f,!0),this.model.showCheckbox&&(this._checkboxOnTemplate(f.children[0]),this._checkboxChecked&&this.model.autoCheck&&this._currentDataSource&&n(f).addClass("ischecked")),this.model.loadOnDemand?(i[u.hasChild]||i.hasOwnProperty("child"))&&(f.children[0].firstChild.className="e-icon e-plus"):(h=this,c=t.Query(),c=h._columnToSelect(u.child),t.isNullOrUndefined(u.child.parentId)||c.where(u.child.parentId,t.FilterOperators.equal,i[u.id]),queryPromise=u.child.dataSource.executeQuery(c),queryPromise.done(function(n){s=n.result;s&&s.length>0&&(h._onlineData=!0,h._onlineDataSource(s,s[0][u.id],u.child))})));else if(this.dataSource()instanceof t.DataManager)this._updateElement(f,!0),this.model.showCheckbox&&(this._checkboxOnTemplate(f.children[0]),this._checkboxChecked&&this.model.autoCheck&&this._currentDataSource&&n(f).addClass("ischecked"));else if(this.model.loadOnDemand){if(this._updateElement(f,!0),(i[u.hasChild]||i.hasOwnProperty("child"))&&(f.children[0].firstChild.className="e-icon e-plus"),this.model.showCheckbox&&(this._checkboxOnTemplate(f.children[0]),this._checkboxChecked&&this.model.autoCheck&&this._currentDataSource&&n(f).addClass("ischecked")),i[u.expanded]&&this._childNodeCreation(i,f,r,u),this.model.enablePersistence&&(v=this._getCookies("_childNodes"),v))for(y=JSON.parse(v),l=0,objlen=y.length;l<objlen;l++)if(y[l].toString()==i[u.id].toString()){this._childNodeCreation(i,f,r,u);break}}else this._onlineData||(this._updateElement(f,!0),this.model.showCheckbox&&this._checkboxOnTemplate(f.children[0]),this._childNodeCreation(i,f,r,u));return f},_childNodeCreation:function(i,r,u,f){var o,h,c,s,e,l;if(o=this._templateType==2?!t.isNullOrUndefined(i.child)&&i.child.length>0&&i.child:this._getChildNodes(this._dataSource,{id:i[f.id]}),!t.isNullOrUndefined(o)&&o.length>0){for(r.children[0].firstChild.className="e-icon e-plus",h=document.createDocumentFragment(),c=document.createElement("ul"),h.appendChild(c),s=h.firstChild,s.className="e-treeview-ul",s.setAttribute("role","group"),n(s).attr("style","display:none"),e=0,l=o.length;e<l;e++)e==0&&(this._addFirst=!0),e==l-1&&(this._addLast=!0),s.appendChild(this._tempalteSub(o[e],u,f));r.appendChild(c)}},_checkboxOnTemplate:function(n){n.parentElement.id==""&&(n.parentElement.id=this._id+"_"+this._indexID,this._indexID++);var t=document.createElement("input");t.setAttribute("type","checkbox");t.setAttribute("class","nodecheckbox");t.setAttribute("name",this._id+"_Checkbox_"+n.parentElement.id);t.setAttribute("value",n.parentElement.id);n.insertBefore(t,n.children[1])},_updateElement:function(t,i){var u,o,f,e,s=t.firstChild,h;s&&(h=s.nodeName,h=="SPAN"||h=="IMG"?(e=s,f=t.lastChild):f=t.lastChild,f&&(nodeText=f.innerHTML,textElement=n(f).clone()[0],n(f).remove(),textElement.className=f.className?"e-text CanSelect e-active":"e-text CanSelect",textElement.innerHTML=nodeText,t.innerHTML="",this._on(n(textElement),"mouseenter",this._mouseEnterEvent),this._on(n(textElement),"mouseleave",this._mouseLeaveEvent)),u=document.createElement("div"),u.setAttribute("role","presentation"),i?(o=document.createElement("div"),o.setAttribute("role","presentation"),u.appendChild(o),e&&u.appendChild(e),u.appendChild(textElement)):(e&&u.appendChild(e),u.appendChild(textElement)),n(t).prop("name")==r&&n(t).prop("name",nodeText),t.appendChild(u))},_setAttributes:function(t,i){for(var r in t)n(i).attr(r,t[r])},_addDragableClass:function(){this.model.allowDragAndDrop&&(this._anchors=this._liList.map(function(){return n("a",this)[0]}),this._anchors.addClass("e-draggable e-droppable"),this._enableDragDrop())},_addBaseClass:function(){this._ulList.addClass("e-treeview-ul").attr("role","group");this._liList.addClass("e-item").attr("role","treeitem");this.element.is("ul")||this.element.find("ul:first").removeClass("e-treeview-ul").addClass("e-ul")},_controlRender:function(){var s=this.element,h,f,i,c,a,e,l,o,y,v,u,p;if(s!=null){for(h=s.find("li"),f=0;f<h.length;f++)i=n(h[f]),l=i.children("ul")[0],l&&n(i.children("ul")[0]).remove(),o=i.children("a")[0],o?(e=n(o).text(),c=n(o).clone(),n(o).remove(),n(c).addClass("e-text CanSelect"),a=i.clone(),i.html("")):(e=this._getText(i),a=i.clone(),i.html(""),c=t.buildTag("a.e-text CanSelect",e,"",{alt:""})),y=t.buildTag("div","",{},{role:"presentation"}),v=t.buildTag("div","",{},{role:"presentation"}),n(v).append(y).append(a.children()).append(c),i.prepend(v),l&&i.append(l),i.prop("name")==r&&i.prop("name",e),i.attr("id")==r&&i.attr("id",e),this.model.showCheckbox&&this._checkboxOnTemplate(h[f].children[0]);this.model.showCheckbox&&s.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})}u=s.find("li");u.find(">ul").hide();p=u.find("a");p.focus(function(){n(this).blur()});u.filter("li:last-child").addClass("last");n(u[0]).addClass("first");n(u[0]).hasClass("first")&&n(u[0]).hasClass("last")&&n(u[0]).removeClass("first");n(u.filter(":has(ul)")).each(function(){n(this).attr("aria-expanded",!1).attr("aria-selected",!1);var t=n(this).children("ul:first");n(t).is(":hidden")?n(this).find("> div > div:first").removeClass("e-icon e-minus").addClass("e-icon e-plus"):n(this.childNodes[1]).removeClass("e-icon e-plus").addClass("e-icon e-minus")})},_getText:function(t){return n(t).clone().children().remove().end().text()},_finalize:function(){var r,f,i,u,o,e;if(this._isRender=!1,r=this.element,!(this.model.expandedNodes instanceof Array&&this.model.expandedNodes.length>0))for(f=r.find("li.expanded"),i=0;i<f.length;i++)this._expandNode(n(f[i]));for(i=0;i<this.model.expandedNodes.length;i++)!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(n(this._liList[this.model.expandedNodes[i]])):this._createChildNodesWhenExpand(n(this._liList[this.model.expandedNodes[i]]));if(this.model.showCheckbox)for(r.find("li").children("div").find("input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),u=0;u<this.model.checkedNodes.length;u++)o=this._liList[this.model.checkedNodes[u]],this.dataSource()instanceof t.DataManager||this._nodeCheckedAction(n(o).find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0]);this.model.checkedNodes instanceof Array&&this.model.checkedNodes.length>0||this.model.showCheckbox&&this._isCheckedAction();e=this.model.selectedNode>=0?n(this._liList[this.model.selectedNode]):r.find("li > div > a.e-text.e-active").closest("li.e-item");t.isNullOrUndefined(e)||this._nodeSelectionAction(e.find("> div > a.e-text:first"));this._isRender=!0;this.model.allowEditing&&this._allowEditable();n(this._liList).find("a.e-text").attr("id",this._id+"_active");r.find("li.ischecked, li.expanded").removeClass("ischecked expanded")},_updateSelectedNode:function(){var i=n(this._liList).find("a.e-active").closest("li.e-item"),r;!t.isNullOrUndefined(i)&&i.length>0&&(this.model.selectedNode=n(this._liList).index(i));this.model.selectedNode>=0&&(r=n(this._liList[this.model.selectedNode]),t.isNullOrUndefined(r)||n(r.children().find("a")[0]).removeClass("e-active").addClass("e-active"))},_setCookies:function(n,i){window.localStorage?window.localStorage.setItem(this._id+n,i):document.cookie&&t.cookie.set(this._id+n,i)},_getCookies:function(n){return window.localStorage?window.localStorage.getItem(this._id+n):window.cookie?t.cookie.get(this._id+n):void 0},_updateCheckedNodes:function(){for(var r=[],i=this.element.find("li input.nodecheckbox[type=checkbox].checked"),t=0;t<i.length;t++)r.push(n(this._liList).index(n(i[t]).parents("li:first")[0]));r.length>0&&(this.model.checkedNodes=r)},_updateExpandedNodes:function(){var n,i=[],t,r;for(n=this.element.find("li > div > div.e-minus"),n=n.closest("li.e-item").addClass("e-collapse"),t=0,r=n.length;t<r;t++)i.push(this._liList.index(n[t]));i.length>0&&(this.model.expandedNodes=i);this._removeNullInArray(this.model.expandedNodes)},_isCheckedAction:function(){for(var t=this.element.find("li.ischecked"),i=0;i<t.length;i++)this._nodeCheckedAction(n(t[i]).find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0]);t.removeClass("ischecked")},_checkedChange:function(n){var t=this.element.closest(".e-treeview.e-js").data("ejTreeView");n.isChecked?t._nodeCheckedAction(this.element.find(">input.nodecheckbox:first")[0],n):t._nodeUnCheckedAction(this.element.find(">input.nodecheckbox:first")[0],n)},_ClickEventHandler:function(i){var s=this,u,r=n(i.target),e,o,f;this._isclicked||(u=r.closest("li.e-item"),u.hasClass("e-node-disable")||(this._isclicked=!0,this._onClick({event:i,currentElement:r[0]}),!t.isNullOrUndefined(r)&&r.is("DIV")&&(r.hasClass("e-plus")||r.hasClass("e-minus"))&&(e=null,r.is("SPAN")&&(r=r.parent("div").find("div:first")),e=u.children("ul:first"),this._isExpanded=e.find("li").length>0?!0:!1,!this._isExpanded&&this.model.loadOnDemand?(r.removeClass("e-plus").addClass("e-load"),this._checkboxChecked=r.parent().find("input[type=checkbox]").hasClass("checked"),f=this._getNodeDetails(u),o={currentElement:u,targetElement:r[0],id:f.nodeId,value:f.nodeText,parentId:f.parentId,isChildLoaded:this._isExpanded,hasParent:!0,async:!0},this._onBeforeExpand(o),this._loadOnDemand(o,r[0])):this._expandCollapseAction(r)),!t.isNullOrUndefined(r)&&r.is("A")&&r.hasClass("CanSelect")&&!r.hasClass("e-active")&&this._nodeSelectionAction(r)));setTimeout(function(){s._isclicked=!1},300)},_getChildTables:function(n,i,r){return t.isNullOrUndefined(n.child)?this.model.fields:i==r?n.child:this._getChildTables(n.child,i,r+1)},_checkMapperFields:function(n){for(var t in this.model.fields)n[t]||t=="dataSource"||t=="child"||t=="tableName"||t=="query"||(n[t]=this.model.fields[t])},_loadOnDemand:function(n){var r,e,u,i=this,f;this.dataSource()instanceof t.DataManager?(e=n.currentElement.parents("ul").length,u=this._getChildTables(i.model.fields,e,1),f=t.Query(),f=i._columnToSelect(u),t.isNullOrUndefined(u.parentId)||f.where(u.parentId,t.FilterOperators.equal,parseInt(n.currentElement[0].id)),queryPromise=u.dataSource.executeQuery(f),queryPromise.done(function(t){r=t.result;r.length>0&&(i._onlineData=!0,i._currentDataSource=!0,i._loadChildNodeWhenOnDemand(r,n,u))})):(i._currentDataSource=!1,r=this._getChildNodes(this._dataSource,n),!t.isNullOrUndefined(r)&&r.length>0&&setTimeout(function(){i._currentDataSource=!0;i._createSubNodesWhenLoadOnDemand(r,n.targetElement,i.model.fields)},400))},_loadChildNodeWhenOnDemand:function(n,i,r){var u=this;!t.isNullOrUndefined(n)&&n.length>0&&setTimeout(function(){u._createSubNodesWhenLoadOnDemand(n,i.targetElement,r)},100)},_createSubNodesWhenLoadOnDemand:function(t,i,r){this._loadOnDemandNodes=!0;this._templateNodeCreation(t,r);n(this._fragment.firstChild).attr("style","display:none");this._fragment.firstChild.className="e-treeview-ul";this._fragment.firstChild.setAttribute("role","group");i.parentNode.parentNode.appendChild(this._fragment);var u=n(i).closest("li.e-item");u.attr({"aria-expanded":!1,"aria-expanded":!0});n(i).removeClass("e-load").addClass("e-plus");n(i).hasClass("e-plus")&&this._expandCollapseAction(n(i));this._finalizeLoadOnDemand(u)},_finalizeLoadOnDemand:function(n){if(this._beforeBaseClass(),this._isRender=!1,this.model.showCheckbox&&(n.children("ul").find("li > div > input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this._isCheckedAction(),this._updateCheckedNodes()),this._isRender=!0,this._addDragableClass(),this._preventEditable(),this.model.allowEditing&&this._allowEditable(),this._updateSelectedNode(),this._updateExpandedNodes(),this.model.loadOnDemand&&this.model.enablePersistence){var i,r;r=this._getCookies("_childNodes");r&&(i=JSON.parse(r));!t.isNullOrUndefined(i)&&i.indexOf(n[0].id)==-1?i.push(n[0].id):i=[n[0].id];this._setCookies("_childNodes",JSON.stringify(i))}},_getChildNodes:function(n,i){var u=[],r,f;if(this._templateType==1){for(r=0,f=n.length;r<f;r++)if(!t.isNullOrUndefined(n[r][0])&&!t.isNullOrUndefined(n[r][0][this.model.fields.parentId])&&n[r][0][this.model.fields.parentId]==i.id)return n[r]}else{for(r=0,f=n.length;r<f;r++){if(n[r][this.model.fields.id]==i.id)return n[r].child;if(n[r].hasOwnProperty("child")&&(u=this._getChildNodes(n[r].child,i),!t.isNullOrUndefined(u)&&u.length>0))break}return u}},_getPath:function(n){for(var i=n.prop("name"),t=n.parents("li:first");t[0]!=null&&t[0].parentNode.id!=this._id;)i=t.prop("name")+"/"+i,t=t.parents("li:first");return this._id+"/"+i},_nodeSelectionAction:function(n){if(n[0]!=null||n.length!=0){var t,i,r;this.element.find("li > div > a").removeClass("e-node-focus e-active").closest("li").find("[aria-selected=true]").attr("aria-selected",!1);t=n.addClass("e-active").attr("id",this._id+"_active").closest("li.e-item").attr("aria-selected",!0);this.model.selectedNode=this._liList.index(t[0]);i=this._getNodeDetails(t);r={currentElement:t,value:i.nodeText,id:i.nodeId,parentId:i.parentId};this._onNodeSelect(r);this.element.focus()}},_nodeUnSelectionAction:function(n){(n[0]!=null||n.length!=0)&&(n.removeClass("e-active").closest("li.e-item").attr("aria-selected",!1),this.model.selectedNode=-1)},_nodeEnableAction:function(n){if(n[0]!=null||n.length!=0){var t=n.closest("li.e-item");this.model.showCheckbox&&t.find("div > span > input").prop("disabled",!1).ejCheckBox("enable");t.removeClass("e-node-disable").prop("disabled",!1).find("li.e-item, a").removeClass("e-node-disable")}},_nodeDisableAction:function(t){if(t[0]!=null||t.length!=0){var i=t.closest("li.e-item");this._collpaseNode(i);this.model.showCheckbox&&i.find("div > span > input").prop("disabled",!0).ejCheckBox("disable");i.addClass("e-node-disable").prop("disabled",!0).find("li.e-item, a").addClass("e-node-disable").removeClass("e-active");n(this._liList).index(i)==this.model.selectedNode&&(this.model.selectedNode=-1)}},_getNodeDetails:function(n){if(n[0]!=null&&n.length>0){var t,i;return t=n.attr("id"),i=n.children("div").find("a.e-text:first").text(),pid=n.closest("ul").closest("li").attr("id"),{nodeId:t,nodeText:i,parentId:pid?pid:""}}return{nodeId:"",nodeText:"",parentId:""}},_expandCollapseAction:function(t){if(t&&!this._animating){var f,r=this,i,e,u;if(i=t.closest("li"),t.is("SPAN")&&(t=n(t).parent("div").find("div:first")),f=i.children("ul:first"),f.find("> li").length>0)if(this._animating=this.model.enableAnimation?!0:!1,e=this._getNodeDetails(i),u={currentElement:i,value:e.nodeText,isChildLoaded:this._isExpanded,id:e.nodeId,parentId:e.parentId},this._isNodeExpanded(i)){if(i.attr("aria-expanded",!1).attr("tabindex",-1),this._onBeforeCollapse(u)===!0)return!1;f.animate({height:"toggle"},this.model.enableAnimation?200:0,"linear",function(){r._animating=!1;r._onNodeCollapse(u);r._removeExpandedNodes(r._liList.index(u.currentElement))});n(t).removeClass("e-icon e-minus").addClass("e-icon e-plus");i.removeClass("e-collapse")}else i.attr("aria-expanded",!0).attr("tabindex",0),this.model.loadOnDemand?this._isExpanded?this._onBeforeExpand(u)?!0:!1:!1:this._onBeforeExpand(u)?!0:!1,f.animate({height:"toggle"},this.model.enableAnimation?350:0,"linear",function(){r._animating=!1;r._onNodeExpand(u);r._addExpandedNodes(r._liList.index(i))}),n(t).removeClass("e-icon e-plus").addClass("e-icon e-minus"),i.addClass("e-collapse")}},_isChecked:function(n){return n.attr("aria-checked")==="true"?!0:!1},_doRecursiveCheck:function(t,i){var o,r,f,t,u,e;u=t.children[1];o=u?u.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0;allChkEle=u?u.querySelectorAll("li > div > span > input.nodecheckbox[type=checkbox]"):[];r=t.firstChild.querySelector("input.nodecheckbox");r&&r.nodeName.toUpperCase()=="INPUT"&&(e=n(r).data("ejCheckBox"),o==allChkEle.length||this.model.autoCheckParentNode?(e.setModel({enableTriState:!1,checked:!0}),r.className+=" checked",f=t.firstChild.getElementsByTagName("a")[0].innerHTML,i.push({nodeId:t.id,nodeText:f}),this._addHiddenInputElement(r,f),this._addCheckNodes(this._liList.index(t))):e.setModel({enableTriState:!0,checkState:"indeterminate"}),t=t.parentNode.parentNode,t.nodeName.toUpperCase()=="LI"&&this._doRecursiveCheck(t,i))},_nodeCheckedAction:function(t,i){var e,h,r,u,a,c,o,f,s,l;if(this._CurrenctSelectedNodes=[],e=[],t.className+=" checked",h=n(t).data("ejCheckBox"),h){if(h.setModel({enableTriState:!1,checked:!0}),r=t.parentNode.parentNode.parentNode,u=r.firstChild.getElementsByTagName("a")[0].innerHTML,e.push({nodeId:r.id,nodeText:u}),this._addHiddenInputElement(t,u),this._addCheckNodes(this._liList.index(r)),this.model.autoCheck){for(l=r.children[1],o=l?l.querySelectorAll("li > div > span > input.nodecheckbox[type=checkbox]"):[],f=0,a=o.length;f<a;f++)n(o[f]).ejCheckBox({checked:!0,enableTriState:!1})[0].className+=" checked",s=o[f].parentNode.parentNode.parentNode,u=s.firstChild.getElementsByTagName("a")[0].innerHTML,e.push({nodeId:s.id,nodeText:u}),this._addHiddenInputElement(o[f],u),this._addCheckNodes(this._liList.index(s));c=r.parentNode.parentNode;c.nodeName.toUpperCase()=="LI"&&this._doRecursiveCheck(c,e)}i&&(i.checknode=e);this._onChecked(n(t),i)}},_addHiddenInputElement:function(n,t){if(n.firstChild==null){var i=document.createElement("input");i.setAttribute("type","hidden");i.setAttribute("name",this._id+"_Checkbox_"+n.value+".Text");i.setAttribute("value",t);try{n.appendChild(i)}catch(r){}}},_doRecursiveUncheck:function(t,i){var f,r,o,t,e,u;e=t.children[1];f=e?e.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0;allChkEle=e?e.querySelectorAll("li > div > span > input.nodecheckbox[type=checkbox]"):[];r=t.firstChild.querySelector("input.nodecheckbox");r&&r.nodeName.toUpperCase()=="INPUT"&&(u=n(r).data("ejCheckBox"),f<=0&&(u.setModel({enableTriState:!1,checked:!1}),n(r).removeClass("checked").removeClass("checked").children().remove(),o=t.firstChild.getElementsByTagName("a")[0].innerHTML,this._removeCheckNodes(this._liList.index(t)),i.push({nodeId:t.id,nodeText:o})),f>1&&this.model.autoCheckParentNode?(u.setModel({checked:!0}),r.className+=" checked",o=t.firstChild.getElementsByTagName("a")[0].innerHTML,this._addHiddenInputElement(t,o)):f==1&&this.model.autoCheckParentNode?(u.setModel({checked:!1}),n(r).removeClass("checked").removeClass("checked").children().remove(),this._removeCheckNodes(this._liList.index(t))):f>0&&(allChkEle.length>1?u.setModel({enableTriState:!0,checkState:"indeterminate"}):u.setModel({checked:!1}),n(r).removeClass("checked").removeClass("checked").children().remove(),this._removeCheckNodes(this._liList.index(t))),t=t.parentNode.parentNode,t.nodeName.toUpperCase()=="LI"&&this._doRecursiveUncheck(t,i))},_nodeUnCheckedAction:function(t,r){var f=this,u=[];if(currentLi=t.parentNode.parentNode.parentNode,n(currentLi).find("div > span > input.nodecheckbox").removeClass("checked").children().remove(),chkObj=n(t).data("ejCheckBox"),this._removeCheckNodes(this._liList.index(currentLi)),chkObj){if(chkObj.setModel({enableTriState:!1,checked:!1}),textvalue=currentLi.firstChild.getElementsByTagName("a")[0].innerHTML,u.push({nodeId:currentLi.id,nodeText:textvalue}),this.model.autoCheck){for(childUl=currentLi.children[1],allChkEle=childUl?childUl.querySelectorAll("li > div > span > input.nodecheckbox[type=checkbox]"):[],i=0,chklen=allChkEle.length;i<chklen;i++)n(allChkEle[i]).ejCheckBox({enableTriState:!1,checked:!1}),liElement=allChkEle[i].parentNode.parentNode.parentNode,textvalue=liElement.firstChild.getElementsByTagName("a")[0].innerHTML,u.push({nodeId:liElement.id,nodeText:textvalue}),this._removeCheckNodes(this._liList.index(liElement));parentLi=currentLi.parentNode.parentNode;parentLi.nodeName.toUpperCase()=="LI"&&this._doRecursiveUncheck(parentLi,u)}r&&(r.unchecknode=u);this._onUnChecked(n(t),r)}},_createChildNodesWhenExpand:function(n){var o,s,f,h,c,u,i,e,r;n.length>0&&n.find("ul li").length==0?(o=n.attr("id"),s=n.children("div").find("a.e-text:first").text(),h=n.children("div").find("div.e-plus:first"),f={currentElement:n,targetElement:h[0],id:o,value:s,isChildLoaded:!1,hasParent:!0,async:!1},i=this,this._onBeforeExpand(f),this.dataSource()instanceof t.DataManager?(c=f.currentElement.parents("ul").length,u=this._getChildTables(this.model.fields,c,1),e=t.Query(),e=i._columnToSelect(u),e.where(u.parentId,t.FilterOperators.equal,parseInt(f.currentElement[0].id)),queryPromise=u.dataSource.executeQuery(e),queryPromise.done(function(f){r=f.result;!t.isNullOrUndefined(r)&&r.length>0&&(i._checkboxChecked=n.find("> div > span > input[type=checkbox]").hasClass("checked"),i._currentDataSource=!0,i._loadOnDemandNodes=!0,n.find("ul li").length==0&&(i._templateNodeCreation(r,u),n.append(i._fragment)),i._finalizeLoadOnDemand(n),i._expandNode(n))})):(r=this._getChildNodes(this._dataSource,{id:n[0].id}),!t.isNullOrUndefined(r)&&r.length>0&&(this._checkboxChecked=n.find("> div > span > input[type=checkbox]").hasClass("checked"),this._currentDataSource=!0,this._loadOnDemandNodes=!0,this._templateNodeCreation(r,this.model.fields),n.append(this._fragment),this._finalizeLoadOnDemand(n),this._expandNode(n)))):this._expandNode(n)},_expandNode:function(n){var t,i;return n[0]!=null&&n.length>0&&(this.model.loadOnDemand&&!this.model.enablePersistence?n.find("> ul > li.e-item").length>0&&(this._animating=!1,this._expandCollapseAction(n.find("> div > div.e-plus:first"))):(t=n.find("> div > div:first"),t.hasClass("e-plus")&&(i=n.find("> ul > li.e-item").length>0?!0:!1,i&&(this._animating=!1,this._expandCollapseAction(t))))),!0},_collpaseNode:function(n){if(n[0]!=null&&n.length>0&&n.find("> ul > li").length>0){var t=n.find("> div > div:first");t.hasClass("e-minus")&&this._expandCollapseAction(t)}},_expandAll:function(){var i=this.element,t,r;if(this.model.loadOnDemand)for(r=n(i).find("li"),t=0,len=r.length;t<len;t++)this._createChildNodesWhenExpand(n(r[t]));else if(expandCollapseIcon=i.find("li > div > div.e-plus"),i.find("ul:hidden").length==expandCollapseIcon.length)for(t=0,len=expandCollapseIcon.length;t<len;t++)this._animating=!1,this._expandCollapseAction(n(expandCollapseIcon[t]))},_collapseAll:function(){var r=this.element,t,i;if(i=r.find("li > ul:not(:hidden)").closest("li"),expandCollapseIcon=i.find("> div > div.e-minus"),expandCollapseIcon.length>0)for(t=0,len=expandCollapseIcon.length;t<len;t++)this._animating=!1,this._expandCollapseAction(n(expandCollapseIcon[t]))},_checkAll:function(){this._CurrenctSelectedNodes=[];var r=this.element,t;for(t=r.find("li > div > span > input.nodecheckbox"),t.addClass("checked"),i=0,len=t.length;i<len;i++)t[i].disabled?n(t[i]).ejCheckBox("setModel",{checked:!1}):(n(t[i]).ejCheckBox("setModel",{checked:!0}),this._addHiddenInputElement(t[i],n(t[i]).parent().siblings("a.e-text").text()),this._onChecked(n(t[i])))},_unCheckAll:function(){var r=this.element,t;for(t=r.find("li > div > span > input.nodecheckbox"),t.removeClass("checked").children().remove(),i=0,len=t.length;i<len;i++)n(t[i]).ejCheckBox("setModel",{checked:!1}),this._onUnChecked(n(t[i]))},_isNodeExpanded:function(n){if(n[0]!=null)return n.children("ul:first").length>0&&n.find("> div > div.e-minus").length>0},_showCheckBox:function(){for(var t=this.element,i=t.find("li"),n=0;n<i.length;n++)this._checkboxOnTemplate(i[n].children[0]);t.find("li > div > input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange});t.find("li.e-node-disable > div > span > input.nodecheckbox").ejCheckBox("disable")},_drag:function(){var i,u=!1,o=t.browserInfo(),r=null,s=null,f=null,e;e=o.name=="msie"&&o.version=="8.0"?!0:!1;this.element.is("ul")?(this._treeView=this.element.parent(),this.model.allowDragAndDropAcrossControl||(f=this.element.parent())):(this._treeView=this.element,this.model.allowDragAndDropAcrossControl||(f=this.element));n(this._treeView).find("ul li div a").not(".e-js").ejDraggable({dragArea:f,clone:!0,dragStart:function(u){if(t.isNullOrUndefined(u.target)||n(u.target).hasClass("e-node-disable")||n(u.target).is("A")&&!n(u.target).hasClass("e-draggable"))return!1;e&&(document.ondragstart=function(){return!1});var f={dragElement:i._getNodeDetails(n(u.target).closest("li.e-item")),target:u.target,event:u.event};if(i._onDragStarts(f))return u.cancel=!0,r&&r.remove(),!1},drag:function(f){var e,s,o,h;return u=!1,n(".e-sibling").remove(),e=f.target,n(r).css({"margin-left":"20px","margin-top":f.event.clientY-20<0?"0px":"-20px"}),s={dragElement:i._getNodeDetails(n(f.element).closest("li.e-item")),target:e,event:f.event},(n(e).hasClass("e-droppable")||n(e).parent().hasClass("e-droppable"))&&n(e).hasClass("e-dropchild")?(document.body.style.cursor="",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),n(e).addClass("allowDrop")):!n(e).hasClass("e-droppable")||n(e).hasClass("e-item")||n(e).hasClass("e-text")?(n(e).hasClass("e-sibling")||n(e).find("a").hasClass("e-text"))&&(n(e).hasClass("e-sibling")||n(e).parent().parent().hasClass("e-item")||n(e).parent().hasClass("e-item")||n(e).hasClass("e-item")||n(e).hasClass("e-text"))||(document.body.style.cursor="not-allowed",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus"),n(e).removeClass("showline-hover"),n(e).removeClass("noline-hover")):(document.body.style.cursor="",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus")),e.nodeName!="A"?(e.nodeName=="UL"&&n(e).children()[0]!=null&&(e=n(e).children()[0],u=!0),e.nodeName!="LI"&&(e=n(e).closest(".e-droppable")[0]||n(e).parent()),e.nodeName=="LI"&&n(e).hasClass("e-droppable")&&n(e).hasClass("e-dropsibling")?(o=t.buildTag("div.e-sibling"),h=n(".e-treeview").has(e).offset().top+n(e).children().find("a")[0].offsetTop||-1,u||(u=f.event.pageY>h?!1:!0),u?n(e).find("> div > a").prepend(o):n(e).find("> div > a").append(o),n(e).parents().hasClass("e-rtl")?(document.body.style.cursor="",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween-rtl")):(document.body.style.cursor="",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween"))):e.nodeName=="A"&&n(e)&&n(e).hasClass("e-droppable")&&n(e).hasClass("e-dropchild")?(document.body.style.cursor="",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),n(e).addClass("allowDrop")):!n(e).hasClass("e-droppable")||n(e).hasClass("e-item")||n(e).hasClass("e-text")||(document.body.style.cursor="",n(r).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"))):n(".e-sibling").remove(),i._onDrag(s)?!1:void 0},dragStop:function(t){var f,s,o,h;if((e&&(document.ondragstart=function(){return!0}),t.element.dropped||(r&&r.remove(),document.body.style.cursor=""),f=t.target,f.className=="e-sibling"&&(f=n(f).parent("li")[0]),s=i,n(".e-sibling").remove(),o=u?"Before":"After",o=f.nodeName=="A"?"Over":o,h={dragElement:i._getNodeDetails(t.element.closest("li.e-item")),targetElement:i._getNodeDetails(n(t.target).closest("li.e-item")),target:f,position:o,event:t.event},i._onDragStop(h))||(n(t.element).removeClass("e-active"),f.nodeName=="A"&&n(f).hasClass("e-dropchild")&&n(f).hasClass("e-droppable")||f.nodeName=="UL"&&n(f).children().length==0?(o="Over",n(t.element).parent().parent().has(n(f)).length==0&&(n(f).parent().parent().has(n(t.element)).length==0||i._isDescendant(n(f).parents("li:last").find(">ul>li"),n(t.element).parents("li:first")[0]))&&(i._dropAsChildNode(n(f),n(t.element),t.event),s._applyFirstLastChildClass())):(f.nodeName=="UL"&&(f=n(f).children()[0]),f.nodeName!="LI"&&(f=n(f).closest(".e-droppable")[0]||n(f).parent()),f.nodeName=="LI"&&n(f).hasClass("e-dropsibling")&&n(f).hasClass("e-droppable")?n(t.element).parent().parent().has(n(f)).length<1&&(i._dropAsSublingNode(n(f),n(t.element),u,t.event),s._applyFirstLastChildClass()):f.nodeName=="A"&&n(f).hasClass("e-dropchild")&&n(f).hasClass("e-droppable")&&(o="Over",n(t.element).parent().parent().has(n(f)).length==0&&(n(f).parent().parent().has(n(t.element)).length==0||i._isDescendant(n(f).parents("li:last").find(">ul>li"),n(t.element).parents("li:first")[0]))&&(i._dropAsChildNode(n(f),n(t.element),t.event),s._applyFirstLastChildClass()))),n(".allowDrop").removeClass("allowDrop"),n(f).hasClass("e-dropchild")||r&&r.remove(),h={targetElement:i._getNodeDetails(n(t.target).closest("li.e-item")),dragElement:i._getNodeDetails(n(t.element).closest("li.e-item")),target:f,event:t.event,dropedElement:t.element},i._onDropped(h)))return!1;document.body.style.cursor=""},helper:function(u){if(!t.isNullOrUndefined(u.element)&&!n(u.element).hasClass("e-node-disable")&&n(u.element).hasClass("e-draggable")&&(i=n(u.element).closest(".e-treeview.e-js").data("ejTreeView"),i))return r=t.buildTag("div.e-dragedNode"),r.addClass(i.model.cssClass),s=n(u.element).clone().addClass("dragClone"),this.spanEle=t.buildTag("span.e-icon e-plus e-dropedStatus"),r.append(this.spanEle),r.append(s),r.appendTo(n("body"))}})},_isDescendant:function(t,i){var r=!0;return n(t).each(function(n,t){if(t==i)return r=!1,!1;r=!0}),r},_childDrop:function(){n(this._treeView).find("ul li div a").ejDroppable({accept:n(this._treeView).find("ul li div a").addClass("e-dropchild"),drop:function(t,i){n(i.helper).hide()}})},_siblingDrop:function(){n(this._treeView).find("ul li").addClass("e-dropsibling").ejDroppable({drop:function(t,i){n(i.helper).hide()}})},_dropAsSublingNode:function(i,r,u,f){var e=f.ctrlKey?r.parent().parent().clone():r.parent().parent(),o=r.parents(".e-item")[1],h=n(o),s;t.isNullOrUndefined(this.model.fields)||this.dataSource()==null||this.dataSource()instanceof t.DataManager||this._updateDataSource(r.parents(".e-item:first"),n(i),u);u?n(e).insertBefore(i):n(e).insertAfter(i);this.model.template||this._autoGenerateNodes(r.parents(".e-item:first"));this._modifiCss(o);this._finalizeEditing(e);s=n(o).children("ul").find(".e-item > div > span > input.checked");s.length>0&&(h=s.closest(".e-item:first"));this._updateCheckState(h);this._updateCheckState(n(e));this._updateChanges(n(i))},_dropAsChildNode:function(i,r){var u=r.parent().parent(),f=r.parents(".e-item")[1],o=n(f),e;t.isNullOrUndefined(this.model.fields)||this.dataSource()==null||this.dataSource()instanceof t.DataManager||this._updateDataSource(r.parents(".e-item:first"),n(i),"");n(i).is("UL")?n(i).append(u):this._appendNode(i,u);this.model.template||this._autoGenerateNodes(r.parents(".e-item:first"));this._modifiCss(f);this._finalizeEditing(u);e=n(f).children("ul").find(".e-item > div > span > input.checked");e.length>0&&(o=e.closest(".e-item:first"));!n(f).find("li").filter(u).length>0&&this._updateCheckState(o);this._updateCheckState(r.parents(".e-item:first"));this._updateChanges(n(i));i.parent().children(".e-icon.e-plus:first").length>0&&this._expandNode(i.parents(".e-item:first"))},_updateChanges:function(t){if(n(t)[0]!=null){var i=this,r=0;do i._beforeBaseClass(),i._updateExpandedNodes(),i._updateCheckedNodes(),i._applyFirstLastChildClass(),r++,i=t.closest(".e-treeview.e-js").data("ejTreeView");while(i&&this._id!=i._id&&r==1)}},_orderDataSource:function(){var f,r,u,e,i,o;for(this._beforeBaseClass(),f=[],r=this._newDataSource,u=0,e=this._liList.length;u<e;u++)for(i=0,o=r.length;i<o;i++)if(!t.isNullOrUndefined(r[i])&&!t.isNullOrUndefined(r[i][this.model.fields.id])&&r[i][this.model.fields.id].toString()==n(this._liList[u]).attr("id")){n(this._liList[u]).find("> ul li").length==0?delete r[i][this.model.fields.hasChild]:this._templateType==1&&(r[i][this.model.fields.hasChild]=!0);f.push(r[i]);break}return f},_updateDataSource:function(t,i,r){var e,o,s,u,h,f,c;n(t)[0]!=null&&n(i)[0]!=null&&(e=t.closest(".e-treeview.e-js").data("ejTreeView"),o=i.closest(".e-treeview.e-js").data("ejTreeView"),i.is("A")?(s=i.closest("li.e-item").attr("id"),h=i.closest("li.e-item").find("> ul > li"),u=h.length>0?h.length:i.closest("li.e-item").index()):(s=i.parents("li:first").attr("id"),f=i.next("li"),c=i.prev("li"),u=f.length>0?u=c.length>0?f.index()-1:r?i.index():f.index():r?i.index():i.index()+1),o&&e._findAndUpdate(t.attr("id"),s,e._newDataSource,u,o))},_removeObject:function(n,i,r){for(var u=0,f=n.length;u<f;u++)if(!t.isNullOrUndefined(n[u])&&!t.isNullOrUndefined(n[u][r])&&n[u][r].toString()==i){n.splice(u,1);break}},_convertDataSourceTypes:function(n,t){for(var i=0;i<n.child.length;i++)n.child[i][this.model.fields.parentId]=n[this.model.fields.id],t.push(n.child[i]),n.child[i].hasOwnProperty("child")&&n.child[i].child.length>0&&this._convertDataSourceTypes(n.child[i],t);return n.child&&(delete n.child,n[this.model.fields.hasChild]=!0),t},_childObjectCollection:function(n,t,i){for(var u,r=0,f=n.length;r<f;r++)u=this._getChildNodes(t,{id:n[r][this.model.fields.id]}),u&&(i=i.concat(u),i=this._childObjectCollection(u,t,i));return i},_findAndUpdate:function(n,i,r,u,f){var o,y,v,h,a,s,c,e,l;if(this._templateType==1){for(s=0,c=r.length;s<c;s++)if(!t.isNullOrUndefined(r[s])&&!t.isNullOrUndefined(r[s][this.model.fields.id])&&r[s][this.model.fields.id].toString()==n){if(this._id==f._id)r[s][this.model.fields.parentId]=i;else if(y=this,l=[],v=this._groupingObjects(r,function(n){return[!t.isNullOrUndefined(n)&&[n[y.model.fields.parentId]].toString()]}),e=r.splice(s,1),o=this._getChildNodes(v,{id:n}),o&&o.length>0&&(o=this._childObjectCollection(o,v,o)),f._templateType==2){if(o&&o.length>0){for(h=0,a=o.length;h<a;h++)this._removeObject(r,n,this.model.fields.parentId),delete o[h][f.model.fields.parentId],delete o[h][f.model.fields.hasChild];e[0].hasOwnProperty("child")||(e[0].child=[]);e[0].child=o}delete e[0][f.model.fields.parentId];delete e[0][f.model.fields.hasChild];i?this._changeObjectPos(i,e,f._newDataSource,u):f._newDataSource.splice(u,0,e[0])}else{if(o&&o.length>0)for(h=0,a=o.length;h<a;h++)this._removeObject(r,n,this.model.fields.parentId);i?e[0][f.model.fields.parentId]=i:delete e[0][f.model.fields.parentId];f._newDataSource.push(e[0]);o&&o.length>0&&(f._newDataSource=f._newDataSource.concat(o))}break}}else for(s=0,c=r.length;s<c;s++){if(r[s][this.model.fields.id].toString()==n)return e=r.splice(s,1),this._id==f._id?i?this._changeObjectPos(i,e,this._newDataSource,u):this._newDataSource.splice(u,0,e[0]):f._templateType==1?(l=[],e[0].hasOwnProperty("child")?(f._convertDataSourceTypes(e[0],l),e[0]=e.concat(l)):e[0]=e.concat(),i?e[0][0][f.model.fields.parentId]=i:delete e[0][0][f.model.fields.parentId],f._newDataSource=f._newDataSource.concat(e[0])):i?this._changeObjectPos(i,e,f._newDataSource,u):f._newDataSource.splice(u,0,e[0]),!0;if(r[s].hasOwnProperty("child")&&this._findAndUpdate(n,i,r[s].child,u,f))break}},_changeObjectPos:function(n,t,i,r){for(var u=0,f=i.length;u<f;u++){if(i[u][this.model.fields.id].toString()==n)return i[u].hasOwnProperty("child")?i[u].child.splice(r,0,t[0]):(i[u].child=[],i[u].child.push(t[0])),!0;if(i[u].hasOwnProperty("child")&&this._changeObjectPos(n,t,i[u].child,r))break}},_finalizeEditing:function(t){if(n(t)[0]!=null){var i=t.closest(".e-treeview.e-js").data("ejTreeView");i&&(i._preventEditable(),i.model.allowEditing&&i._allowEditable())}},_updateCheckState:function(t){if(n(t)[0]!=null){var i=t.closest(".e-treeview.e-js").data("ejTreeView");i&&i.model.showCheckbox&&(i.isNodeChecked(t)?i._nodeCheckedAction(t.find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0]):i._nodeUnCheckedAction(t.find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0]))}},_autoGenerateNodes:function(t){var i,u,r,f;if(n(t)[0]!=null)if(i=t.closest(".e-treeview.e-js").data("ejTreeView"),i&&i.model.showCheckbox){if(t.find(".e-chkbox-wrap").length==0){for(this._checkboxOnTemplate(t[0].children[0]),u=t.find("li"),r=0,f=u.length;r<f;r++)this._checkboxOnTemplate(u[r].children[0]);t.find(".nodecheckbox").ejCheckBox({cssClass:i.model.cssClass,change:i._checkedChange})}}else t.find("span.e-chkbox-wrap").remove()},_appendNode:function(i,r){var u,f,h,e,o,s;for(i.length!=0?(u=n(i).closest("li.e-item"),this._showline&&(n(u.find("li")).hasClass("last")&&n(u.find("li")).removeClass("last"),n(r).addClass("last")),u.find("ul")[0]==null?(f=u.closest(".e-treeview.e-js").data("ejTreeView"),f&&(f._isExpanded=this._isNodeExpanded(n(i).parents("li:first")),f._isExpanded||!f.model.loadOnDemand||this.dataSource()instanceof t.DataManager||!n(i).parents("li:first").find("> div > div").first().hasClass("e-plus")||f._createChildNodesWhenExpand(u)),e=t.buildTag("ul.e-treeview-ul","",{},{role:"group",style:"display:none"}),n(e).append(n(r)),n(u.find("div")[1]).length==0?(h=document.createElement("div"),h.setAttribute("role","presentation"),h.className="e-icon e-minus",n(u.find("div")).append(n(h))):n(u.find("div")[1]).hasClass("e-minus")||n(u.find("div")[1]).addClass("e-icon e-plus"),f&&f.model.loadOnDemand&&!(this.dataSource()instanceof t.DataManager)&&n(i).parents("li:first").find("ul").length>0?n(i).parents("li:first").children("ul").append(n(r)):u.append(n(e))):n(u.find("ul")[0]).append(r),this._expandNode(u)):this.element.is("UL")?this.element.append(r):this.element.children("ul:first").length>0?this.element.children("ul:first").append(r):(e=t.buildTag("ul.e-treeview-ul","",{},{role:"group"}),e.append(r),this.element.append(e)),o=this.element.find("li.expanded"),s=0;s<o.length;s++)!this.model.loadOnDemand||this.dataSource()instanceof t.DataManager?this._expandNode(n(o[s])):this._createChildNodesWhenExpand(n(o[s]));o.removeClass("expanded");this.model.showCheckbox&&this._isCheckedAction()},_modifiCss:function(t){n(t).find("li").length==0&&(n(t).find("ul").remove(),n(t).removeClass("e-collapse"),n(t).find("div.e-icon").removeClass("e-icon e-minus"));n(t)[0]!=null&&n(t).length>0&&(n(t).find("ul > li:first-child").addClass("first"),n(t).find("ul > li:last-child").addClass("last").removeClass("first"))},_applyFirstLastChildClass:function(){var i=this.element,t=i.find("li");t.removeClass("first");t.removeClass("last");t.filter("li:last-child").addClass("last");n(t[0]).addClass("first");n(t[0]).hasClass("first")&&n(t[0]).hasClass("last")&&n(t[0]).removeClass("first")},_expandEventHandler:function(t){var r=n(t.target),i,u;r.hasClass("e-icon")||t.type==="dblclick"&&this.model.allowEditing||(t.preventDefault(),i=n(r.siblings("div")),u=r.parent().parent(),i.hasClass("e-minus")?this._collpaseNode(u):this.model.loadOnDemand&&i.find(".e-item").length==0?(this._isclicked=!1,this._ClickEventHandler({target:i[0]})):this._expandNode(u))},_inlineEdit:function(t){t.preventDefault();var i=n(t.target);return i.is("A")&&!i.hasClass("e-node-disable")&&i.hasClass("e-text")&&i.closest("li.e-item").hasClass("AllowEdit")&&(i.removeClass("e-active"),this._inlineEditAction(i)),!1},_inlineEditAction:function(t){var i=this.element.find("li > div > #Edit_Input");i[0]==null?this._createEditTextBox(t):(i=this.element.find("li > div > #Edit_Input"),n(i.parentNode).html(i.value),n(i).remove(),this._createEditTextBox(t))},_createEditTextBox:function(i){var e={currentElement:i},r,u,f;return this._trigger("beforeEdit",e)?!1:(r=this.element.find("li > div > #Edit_Input"),r[0]==null&&(u=t.buildTag("Input.Input_Text#Edit_Input","","",{type:"text",value:n.trim(i.html()).replace(/\n\s+/g," "),name:"inplace_value"}),u.width(i.outerWidth()+5),u.height(i.outerHeight()-2),this.beforeEditText=i.text(),i.css("display","none").html(""),i.before(u),f=0,r=u,f=r.val().length==""?3:i.outerWidth()+20,this._mousePositionAtEnd(r),this._currentEditableNode=i,this._on(r,"keypress",this._editTextBoxKeyPress),this._on(r,"keydown",this,this._pressEscKey),this._on(r,"blur",this._focusout)),r)},_editTextBoxKeyPress:function(n){n.target.size=n.target.value.length+1},_mousePositionAtEnd:function(n){return n.focus&&n.focus(),n.select&&n.select(),!0},_focusout:function(t){var i=n(t.currentTarget),r,u;r={nodeId:i.closest("li.e-item").attr("id"),oldText:this.beforeEditText,newText:i.val()};u=i.parent().find("a.e-text:first");this._nodeSelectionAction(u);this._trigger("inlineEditValidation",r)==!0?this._cancelAction(i):this._saveAction(i)},_pressEscKey:function(i){var r,u,f;i.cancelBubble=!0;i.returnValue=!1;r=n(i.currentTarget);r[0]!=null&&(i.keyCode==13&&(i.stopPropagation(),this._focusout(i)),i.keyCode==27&&this._cancelAction(r),(i.keyCode==13||i.keyCode==27)&&(u=t.browserInfo(),f=u.name=="msie"&&u.version=="8.0"?!0:!1,f&&this.element.focus()))},_onFocusHandler:function(t){this.model.allowKeyboardNavigation&&this._isFocus&&(this.element.find(".e-active").length==0&&(this.element.find(".e-active").removeClass("e-active").closest("li.e-item").attr("aria-selected",!1),nextElement=this.element.find("li:first > div > a:first"),n(nextElement).addClass("e-active"),this._updateSelectedNode()),t.preventDefault(),this._isFocus=!1)},_onKeyDown:function(n,t){n.find("> div > a.e-text").removeClass("e-node-focus");t.find("> div > a.e-text").addClass("e-node-focus")},_KeyPress:function(t){var e,r=this,h,u,i,f,l,a,w,b,v,y,p,o,s,k,c;this._isFocus=!0;c=this.element.is("ul")?this.element:this.element.find("> ul");e=t.keyCode?t.keyCode:t.which?t.which:t.charCode;e==113&&(t.preventDefault(),this._isFocus=!1,h=c.find("li > div > a.e-active"),h.length>0&&!h.hasClass("e-node-disable")&&h.hasClass("e-text")&&h.closest("li.e-item").hasClass("AllowEdit")&&(h.removeClass("e-active"),this._createEditTextBox(h)));r.model.allowKeyboardNavigation&&r.element.find("#Edit_Input").length<1&&(u=c.find("li > div > a.e-active").closest("li.e-item"),i=c.find('li.e-item:not([class*="e-node-disable"])').not(":hidden"),f=n(i).find("a.e-node-focus").closest("li"),e!=40||t.ctrlKey||t.altKey||t.shiftKey?e!=38||t.ctrlKey||t.altKey||t.shiftKey?e!=39||t.ctrlKey||t.altKey||t.shiftKey?e!=37||t.ctrlKey||t.altKey||t.shiftKey?e!=36||t.ctrlKey||t.altKey||t.shiftKey?e!=35||t.ctrlKey||t.altKey||t.shiftKey?e==13?(y=f.length>0?f:u,y.find("> div > a.e-text").removeClass("e-node-focus"),this._nodeSelectionAction(y.find("> div > a.e-text").first()),r._KeyPressEventHandler(y,r,e,t)):e==32?u.length>0&&this.model.showCheckbox&&(t.preventDefault(),p=u.find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0],p.checked?this._nodeUnCheckedAction(p):this._nodeCheckedAction(p)):e==46?u.length>0&&(t.preventDefault(),this._removeNode(u.find("> div > a.e-text").first())):t&&t.ctrlKey==!0&&(e==88&&this.model.allowDragAndDrop&&this.model.allowDropChild?u.length>0&&(this._cutCopyNodeText=n(i[i.index(u)]),u.css("display","none").attr({"aria-selected":!0,"aria-selected":!1}).find("div > a.e-text").removeClass("e-active"),u.find("ul li").css("display","none"),o=n(i[i.index(u.next('li.e-item:not([class*="e-node-disable"])'))]),s=n(i[i.index(u)-1]),o.length>0&&!u.hasClass("last")?o.attr({"aria-selected":!1,"aria-selected":!0}).find("> div > a.e-text").addClass("e-active"):s&&s.length>0&&s.attr({"aria-selected":!1,"aria-selected":!0}).find("> div > a.e-text").addClass("e-active"),this.element.focus()):e==86&&this._cutCopyNodeText!=null&&this.model.allowDragAndDrop&&this.model.allowDropChild&&(u.length===0&&(u=this.element),k=u.find("> div > a.e-text").first(),c=this._cutCopyNodeText.find(" > div > a.e-text").first(),n(i).length>0&&(this._cutCopyNodeText.css("display","block").find("ul li").css("display","block"),this._dropAsChildNode(k,c,t),this._cutCopyNodeText=null))):(t.preventDefault(),v=f.length>0?f:u,b=n(i).last(),r._onKeyDown(v,b),r._KeyPressEventHandler(b,r,e,t)):(t.preventDefault(),v=f.length>0?f:u,w=n(i).first(),r._onKeyDown(v,w),r._KeyPressEventHandler(w,r,e,t)):(t.preventDefault(),a=f.length>0?f.find("> div > div").first():u.find("> div > div").first(),s=a.closest("li"),a.hasClass("e-minus")?this._collpaseNode(n(i[i.index(a.closest("li"))])):(s=n(i[i.index(s)]).closest("ul").closest("li"),s.length>0&&r._onKeyDown(f,s)),r._KeyPressEventHandler(s,r,e,t)):(t.preventDefault(),l=f.length>0?f.find("> div > div").first():u.find("> div > div").first(),o=l.closest("li"),l.hasClass("e-plus")?this.model.loadOnDemand&&o.find("> ul li.e-item").length==0?this._ClickEventHandler({target:l[0]}):this._expandNode(n(i[i.index(o)])):(o=n(i[i.index(o)+1]),o.length>0&&o[0]==l.closest("li").find("ul > li:first")[0]||o.find("ul > li").first().hasClass("e-node-disable")?r._onKeyDown(f,o):o=f),r._KeyPressEventHandler(o,r,e,t)):(t.preventDefault(),s=f.length>0?n(i[i.index(f)-1]):n(i[i.index(u)-1]),s.length>0?r._onKeyDown(f,s):s=f,r._KeyPressEventHandler(s,r,e,t)):(t.preventDefault(),o=f.length>0?n(i[i.index(f)+1]):n(i[i.index(u)+1]),o.length>0?r._onKeyDown(f,o):o=f,r._KeyPressEventHandler(o,r,e,t)))},_removeChildNodes:function(n,i,r){for(var e=0,f,o,u=0;u<i.length;u++)if(!t.isNullOrUndefined(i[u][0][this.model.fields.parentId])&&i[u][0][this.model.fields.parentId].toString()==r){e=i[u].length;break}for(u=0;u<e;u++)for(f=0;f<n.length;f++)if(!t.isNullOrUndefined(n[f][this.model.fields.parentId])&&n[f][this.model.fields.parentId].toString()==r){t.isNullOrUndefined(n[f])||(o=n[f][this.model.fields.id].toString());n.splice(f,1);this._removeChildNodes(n,i,o);break}},_removeNode:function(i){if(i=i[0]==null?this.element.find(".e-active"):i,i[0]!=null&&i.length>0){var f,e,r,u,o,s,c=this,h;if(f=i.closest("ul").closest("li.e-item"),e=i.closest("li.e-item"),!t.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0)for(r=this.dataSource(),u=0;u<r.length;u++)if(o=e.attr("id"),r[u][this.model.fields.id].toString()==o){h=this._groupingObjects(r,function(n){return[!t.isNullOrUndefined(n)&&[n[c.model.fields.parentId]].toString()]});r.splice(u,1);this._removeChildNodes(r,h,o);break}n(this._liList).index(e)==this.model.selectedNode&&(this.model.selectedNode=-1);e.remove();this._applyFirstLastChildClass();this._modifiCss(f);this._beforeBaseClass();this._updateExpandedNodes();this._updateSelectedNode();s=f.children("ul").find("li > div > span > input.checked");s.length>0?this._updateCheckState(s.closest("li")):this._updateCheckState(f)}},_updateText:function(n,i,r){var u,f,e;if(this._templateType==1){for(u=0,f=n.length;u<f;u++)if(!t.isNullOrUndefined(n[u])&&!t.isNullOrUndefined(n[u][this.model.fields.id])&&n[u][this.model.fields.id].toString()==i){n[u][this.model.fields.text]=r;e=n[u];n.splice(u,1,e);break}}else for(u=0,f=n.length;u<f;u++){if(n[u][this.model.fields.id].toString()==i){n[u][this.model.fields.text]=r;e=n[u];n.splice(u,1,e);break}n[u].hasOwnProperty("child")&&this._updateText(n[u].child,i,r)}},_KeyPressEventHandler:function(n,t,i,r){var u,f,e,o;o=this._isNodeExpanded(n);u=this._getNodeDetails(n);e=t._getPath(n);f={keyCode:i,currentElement:n,value:u.nodeText,isExpanded:o,path:e,event:r,id:u.nodeId,parentId:u.parentId};this._trigger("keyPress",f)},_documentClick:function(t){if(t.target.id!="Edit_Input")var i=n("#Edit_Input")[0];i!=null&&(n(i).next().html(i.value).removeAttr("style"),n(i).remove());this.element.find("a.e-node-focus").removeClass("e-node-focus")},_saveAction:function(n){var i=n.val(),r=n.closest(".e-item").attr("id");n.next().html(n.val()).css("display","block").removeAttr("style");n.remove();this.element.focus();t.isNullOrUndefined(this.model.fields)||this.dataSource()==null||this.dataSource()instanceof t.DataManager||this._updateText(this._newDataSource,r,i)},_cancelAction:function(n){n.next().html(this.beforeEditText).removeClass("e-node-hover").addClass("e-active").removeAttr("style");n.remove();this.element.focus()},_mouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover");n(t.currentTarget).hasClass("e-text")&&!n(t.currentTarget).hasClass("e-node-disable")&&n(t.currentTarget).addClass("e-node-hover")},_mouseLeaveEvent:function(t){n(t.currentTarget).removeClass("e-node-hover")},_createTreeElement:function(i){var o,f,e,s,r,u;return this.model.showCheckbox&&(o=t.buildTag("input.nodecheckbox","",{},{type:"checkbox",name:this._id+"_Checkbox_"+this._indexID,value:this._id+"_"+this._indexID})),f=t.buildTag("a.e-text CanSelect",i,"",{id:this._id+"_active"}),e=n(f),this._on(e,"mouseenter",this._mouseEnterEvent),this._on(e,"mouseleave",this._mouseLeaveEvent),s=t.buildTag("div","",{},{role:"presentation"}),r=t.buildTag("div","",{},{role:"presentation"}),n(r).append(s),this.model.showCheckbox&&n(r).append(o),n(r).append(f),this.model.showCheckbox?(u=t.buildTag("li.e-item#"+this._id+"_"+this._indexID,"","",{role:"treeitem",tabindex:-1,"aria-selected":!1,"aria-expanded":!1}),this._indexID++):u=t.buildTag("li.e-item#"+i,"","",{role:"treeitem",tabindex:-1,"aria-selected":!1,"aria-expanded":!1}),this.model.allowEditing&&u.addClass("AllowEdit"),u.append(n(r)),n(u)},_addNodesWhenObject:function(i,r){var l=JSON.stringify(this._dataSource),s=this.dataSource(),o,h,u,f,e,c;if(this._dataSource=[],n(r)[0]!=null&&r.length>0&&(o=n(r).closest("li.e-item").attr("id")),t.isNullOrUndefined(i.length))this._dataSource.push(i),!t.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0&&(i[this.model.fields.parentId]=o,s.push(i));else if(this._dataSource=i,!t.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0)for(u=0;u<i.length;u++)t.isNullOrUndefined(i[u][this.model.fields.parentId])&&(i[u][this.model.fields.parentId]=o),s.push(i[u]);for(h=this._templateType,this._templateType=2,this._liList||(this._liList=n("li",this.element).attr("tabindex",-1)),f=document.createDocumentFragment(),e=0,c=this._dataSource.length;e<c;e++)f.appendChild(this._tempalteSub(this._dataSource[e],this._dataSource,this.model.fields)),this._liList.push(n(f).children()[0]);return this._templateType=h,this._dataSource=JSON.parse(l),f},_addExpandedNodes:function(t){var i=this.model.expandedNodes;this._removeNullInArray(i);n.inArray(t,i)==-1&&this.model.expandedNodes.push(t)},_removeExpandedNodes:function(t){var i=this.model.expandedNodes;n.inArray(t,i)>-1&&(this.model.expandedNodes.splice(n.inArray(t,i),1),i.length==0&&i.push(-1))},_onChecked:function(n,i){var r=n.closest("li.e-item"),u,f,e,o;nodeDetails=this._getNodeDetails(r);this._CurrenctSelectedNodes.push(nodeDetails.nodeText);u=this._isChecked(n.parent(".e-chkbox-wrap"));f=t.isNullOrUndefined(i)?"":t.isNullOrUndefined(i.event)?"":i.event;e=t.isNullOrUndefined(i)?"":t.isNullOrUndefined(i.checknode)?"":i.checknode;o={currentElement:r,id:nodeDetails.nodeId,parentId:nodeDetails.parentId,value:nodeDetails.nodeText,currentNode:this._CurrenctSelectedNodes,currentCheckedNodes:e,isChecked:u,event:f};this._isRender&&this._onNodeCheck(o)},_onUnChecked:function(n,i){var r=n.closest("li.e-item"),u,f,e,o;nodeDetails=this._getNodeDetails(r);this._CurrenctSelectedNodes.push(nodeDetails.nodeText);u=this._isChecked(n.parent(".e-chkbox-wrap"));f=t.isNullOrUndefined(i)?"":t.isNullOrUndefined(i.event)?"":i.event;e=t.isNullOrUndefined(i)?"":t.isNullOrUndefined(i.unchecknode)?"":i.unchecknode;o={currentElement:r,id:nodeDetails.nodeId,parentId:nodeDetails.parentId,value:nodeDetails.nodeText,currentNode:nodeDetails.nodeText,currentUncheckedNodes:e,isChecked:u,event:f};this._onNodeUncheck(o)},_addCheckNodes:function(n){var t=this.model.checkedNodes;this._removeNullInArray(t);!t instanceof Array&&(t=[]);t.indexOf(n)==-1&&t.push(n)},_removeCheckNodes:function(n){var t=this.model.checkedNodes,i;!t instanceof Array&&(t=[]);i=t.indexOf(n);i!=-1&&(t.splice(i,1),t.length==0&&t.push(-1))},_removeNullInArray:function(n){var t=n.indexOf(-1);t!=-1&&n.splice(t,1)},_wireEvents:function(){this._on(this.element,"click",this._ClickEventHandler);this._on(this.element.find(".e-text"),"mouseenter",this._mouseEnterEvent);this._on(this.element.find(".e-text"),"mouseleave",this._mouseLeaveEvent);this._on(this.element,this.model.expandOn,this._expandEventHandler);this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._KeyPress);this._on(this.element,"focus",this._onFocusHandler)},_unWireEvents:function(){this._off(this.element,"click");this._off(this.element.find(".e-text"),"mouseenter");this._off(this.element.find(".e-text"),"mouseleave");this._preventEditable();this._off(this.element,this.model.expandOn);this.model.allowKeyboardNavigation&&this._off(this.element,"keydown");this._off(this.element,"focus");this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("disable");this._preventDraggable()},_enableDragDrop:function(){this.model.allowDragAndDrop&&(this._drag(),this.model.allowDropChild&&this._childDrop(),this.model.allowDropSibling&&this._siblingDrop())},_allowEditable:function(){this.model.template||(this.element.find("li").addClass("AllowEdit"),this._on(n(document),"click",this._documentClick),this._on(this.element.find("li > div > a.e-text"),"dblclick",this._inlineEdit))},_preventEditable:function(){this.element.find("li").removeClass("AllowEdit");this._off(n(document),"click");this._off(this.element.find("li > div > a.e-text"),"dblclick")},_preventDraggable:function(){this.element.find(".e-draggable").removeClass("e-draggable");this.element.find(".e-droppable").removeClass("e-droppable");this._preventDropSibling();this._preventDropChild()},_preventDropSibling:function(){this.element.find("li.e-dropsibling").removeClass("e-dropsibling")},_preventDropChild:function(){this.element.find("li.e-item > div > a.e-dropchild").removeClass("e-dropchild")},refresh:function(){this._unWireEvents();this.element.html("");this._init()},expandAll:function(){this._expandAll()},collapseAll:function(){this._collapseAll()},checkAll:function(){this.model.showCheckbox&&this._checkAll()},unCheckAll:function(){this.model.showCheckbox&&this._unCheckAll()},getSelectedNode:function(){return this.element.find("li > div > a.e-active").closest("li.e-item")},getText:function(n){return this.element.find(n).find("> div > a.e-text:first").text()},selectNode:function(t){t=n(t);t[0]!=null&&this.model.enabled&&(t.is("A")&&t.hasClass("e-text")?this._nodeSelectionAction(n(t)):this._nodeSelectionAction(n(t).find(">div > a:first")))},unselectNode:function(t){t=n(t);t[0]!=null&&this.model.enabled&&(t.is("A")&&t.hasClass("e-text")?this._nodeUnSelectionAction(n(t)):this._nodeUnSelectionAction(n(t).find(">div > a:first")))},enableNode:function(t){t=n(t);t[0]!=null&&this.model.enabled&&(t.is("A")&&t.hasClass("e-text")?this._nodeEnableAction(n(t)):this._nodeEnableAction(n(t).find(">div > a:first")))},disableNode:function(t){t=n(t);t[0]!=null&&this.model.enabled&&(t.is("A")&&t.hasClass("e-text")?this._nodeDisableAction(n(t)):this._nodeDisableAction(n(t).find(">div > a:first")))},addNodes:function(i,r){var e,l,o,f,c,h,u;if(i&&i.length>0)for(e=this.model.fields,l=this.dataSource(),this._liList||(this._liList=n("li",this.element).attr("tabindex",-1)),o=0;o<i.length;o++)if(f=i[o],c=f[e.text],c){this.dataSource()&&l.push(f);var a=f[e.id],v=f[e.parentId],s=r&&r.length!=0?r:null;if(t.isNullOrUndefined(s)&&(h=v?this.element.find("#"+v):null,s=h&&h.length!=0?h.children("div").find("a"):null),t.isNullOrUndefined(s))continue;u=this._createTreeElement(c);this._liList.push(u[0]);a?u.attr("id",a):u.removeAttr("id");this._appendNode(n(s),n(u));u.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange});this.model.allowDragAndDrop&&u.find("a").addClass("e-draggable e-droppable")}},addNode:function(i,r){if(this.model.enabled){var u=null,s,h,e=this.element,o,f;e.is("UL")||(e=this.element.children("ul:first"));f=n(r)[0]==null?e.find(".e-active"):n(r).hasClass("e-text")?n(r):n(r).find("> div > a:first");typeof i=="object"&&(t.isNullOrUndefined(i.length)&&!t.isNullOrUndefined(i[this.model.fields.parentId])?o=i[this.model.fields.parentId]:t.isNullOrUndefined(i[0])||t.isNullOrUndefined(i[0][this.model.fields.parentId])?f=n(r)[0]==null?e.find(".e-active"):n(r).hasClass("e-text")?n(r):n(r).find("> div > a:first"):o=i[0][this.model.fields.parentId],o&&(f=e.find("li#"+o).find("> div > a:first")));f.length!=0&&this._expandNode(f.closest("li.e-item"));typeof i!="object"?u=this._createTreeElement(i):(u=this._addNodesWhenObject(i,f),s=document.createElement("ul"),n(s).append(u),u=n(s.children));this.model.showCheckbox&&u.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange});this._appendNode(f,u);this._beforeBaseClass();this._applyFirstLastChildClass();this._addDragableClass();parentLi=u.parents("li:first");this._modifiCss(parentLi);this._updateExpandedNodes();this._finalizeEditing(u);this._updateCheckState(u);h=u.find("a.e-active");h.length>0&&this._nodeSelectionAction(h);parentLi.length>0&&parentLi.hasClass("e-node-disable")&&u.addClass("e-node-disable").prop("disabled",!0).find("> div > a").addClass("e-node-disable").removeClass("e-active");this._updateSelectedNode()}},removeNode:function(t){t=n(t);t[0]!=null&&this.model.enabled&&(t.is("A")&&t.hasClass("e-text")?this._removeNode(n(t)):this._removeNode(n(t).find(">div > a:first")))},getCheckedNodes:function(){if(this.model.showCheckbox)return this.element.find('li > div > span.e-chkbox-wrap[aria-checked="true"]').closest("li")},checkNode:function(t){n(t)[0]!=null&&this._nodeCheckedAction(n(t).find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0])},uncheckNode:function(t){n(t)[0]!=null&&this._nodeUnCheckedAction(n(t).find("> div > span.e-chkbox-wrap > input.nodecheckbox:first")[0])},expandNode:function(t){n(t)[0]!=null&&this._expandNode(n(t))},collapseNode:function(t){n(t)[0]!=null&&this._collpaseNode(n(t))},showNode:function(t){n(t)[0]!=null&&this.model.enabled&&n(t).css("visibility","")},hideNode:function(t){n(t)[0]!=null&&this.model.enabled&&n(t).css("visibility","hidden")},show:function(){this.element.css("visibility","")},hide:function(){this.element.css("visibility","hidden")},isNodeChecked:function(t){return this._isChecked(n(t).find("> div > span.e-chkbox-wrap:first"))},isExpanded:function(t){return t=n(t),t[0]!=null&&this.model.enabled?t.is("A")&&t.hasClass("e-text")?this._isNodeExpanded(t.closest("li")):this._isNodeExpanded(t):void 0},hasChildNode:function(t){return n(t).find("> ul > li.e-item").length>0?!0:!1},getTreeData:function(){if(!t.isNullOrUndefined(this.model.fields)&&this.dataSource()!=null&&!(this.dataSource()instanceof t.DataManager))return this._orderDataSource()},_onNodeExpand:function(n){this._trigger("nodeExpand",n)},_onNodeCollapse:function(n){this._trigger("nodeCollapse",n)},_onBeforeExpand:function(n){if(this._isRender)return this._trigger("beforeExpand",n)},_onBeforeCollapse:function(n){return this._trigger("beforeCollapse",n)},_onNodeSelect:function(n){this._isRender&&this._trigger("nodeSelect",n)},_onNodeCheck:function(n){this._trigger("nodeCheck",n)},_onNodeUncheck:function(n){this._trigger("nodeUncheck",n)},_onDragStarts:function(n){return this._trigger("nodeDragStart",n)},_onDrag:function(n){return this._trigger("nodeDrag",n)},_onDragStop:function(n){return this._trigger("nodeDragStop",n)},_onDropped:function(n){return this._trigger("nodeDropped",n)},_onClick:function(n){this._trigger("nodeClick",n)}})}(jQuery,Syncfusion),function(n,t,r){t.widget("ejUploadbox","ej.Uploadbox",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-uploadbox",defaults:{buttonText:{browse:"Browse",upload:"Upload",cancel:"Cancel",close:"Close"},width:"100px",height:"",htmlAttributes:{},dialogPosition:{X:"",Y:""},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},customFileDetails:{title:!0,name:!0,size:!0,status:!0,action:!0},dialogAction:{modal:!1,closeOnComplete:!1,drag:!0,content:null},locale:"en-US",asyncUpload:!0,pushFile:null,enabled:!0,multipleFilesSelection:!1,autoUpload:!1,showFileDetails:!0,fileSize:31457280,extensionsAllow:"",extensionsDeny:"",saveUrl:"",removeUrl:"",uploadName:"",cssClass:"",dragAreaText:"Drop files or click to upload ",allowDragAndDrop:!1,showBrowseButton:!0,showRoundedCorner:!0,dropAreaHeight:"100%",dropAreaWidth:"100%",enableRTL:!1,create:null,fileSelect:null,begin:null,cancel:null,success:null,complete:null,remove:null,error:null,destroy:null},dataTypes:{buttonText:"data",dialogText:"data",disbled:"boolean",customFileDetails:"data",pushFile:"data",dialogAction:"data",multipleFilesSelection:"boolean",autoUpload:"boolean",showFileDetails:"boolean",allowDragAndDrop:"boolean",showBrowseButton:"boolean",showRoundedCorner:"boolean",fileSize:"number",extensionsAllow:"string",extensionsDeny:"string",saveUrl:"string",removeUrl:"string",cssClass:"string",enableRTL:"boolean",htmlAttributes:"data"},disable:function(){this._currentElement.addClass("e-disable");this.diaObj&&(this.diaObj.option("allowDraggable",!1),this.diaObj.option("beforeClose",this._onBeforeClose),this.diaObj.setModel({enabled:!1}));this.model.enabled=!1},enable:function(){this._currentElement.hasClass("e-disable")&&(this._currentElement.removeClass("e-disable"),this.model.enabled=!0);this.diaObj&&(this.diaObj.option("allowDraggable",!0),this.diaObj.option("beforeClose",this._onBeforeClose),this.diaObj.setModel({enabled:!0}))},refresh:function(){this.diaObj&&(this.diaObj.isOpened()?this.diaObj.close():this._uploadFileListDelete())},_init:function(){this.s=t.browserInfo();this._initialize();this._wireEvents();this.model.asyncUpload||this._initObjectsSyncUpload();this._controlStatus(this.model.enabled);this.model.locale=="en-US"?this._buttonText(this.model.buttonText):this._setLocale();this._roundedCorner(this.model.showRoundedCorner)},_setModel:function(n){for(var t in n){switch(t){case"buttonText":this._buttonText(n[t]);break;case"htmlAttributes":this._addAttr(n[t]);break;case"dialogText":this._dialogText(n[t]);break;case"cssClass":this._setSkin(n[t]);break;case"enableRTL":this._setRTL(n[t]);break;case"enabled":this._controlStatus(n[t]);break;case"locale":this.model.locale=n[t];this._setLocale();break;case"height":this.model.height=n[t];this._setHeight(this.model.height);break;case"width":this.model.width=n[t];this._setWidth(this.model.width);break;case"dialogPosition":this.model.dialogPosition=n[t];this._dialogPosition();break;case"allowDragAndDrop":this.model.allowDragAndDrop=n[t];this._dragAndDrop();break;case"dragAreaText":this.model.dragAreaText=n[t];this._spanTag.html(this.model.dragAreaText);break;case"showBrowseButton":this.model.showBrowseButton=n[t];this._hideBrowseButton();break;case"showRoundedCorner":this._roundedCorner(n[t]);break;case"dropAreaHeight":this.model.dropAreaHeight=n[t];this._setSize();break;case"dropAreaWidth":this.model.dropAreaWidth=n[t];this._setSize();break;case"pushFile":this.model.pushFile=n[t];this.model.pushFile!=null&&this.UploadType=="Xhr"&&this.model.asyncUpload&&(this._files=this.model.pushFile);this._onXhrSelect();break;case"multipleFilesSelection":this.model.multipleFilesSelection=n[t];this.model.multipleFilesSelection?this.inputupload.attr("multiple","multiple"):this.inputupload.removeAttr("multiple");break;case"uploadName":this.model.uploadName=n[t];this.inputupload.attr("name",this.model.uploadName);this.refresh();break;case"autoUpload":this.model.autoUpload=n[t];break;case"showFileDetails":this.model.showFileDetails=n[t];this.refresh();break;case"fileSize":this.model.fileSize=n[t];break;case"extensionsAllow":this.model.extensionsAllow=n[t];break;case"extensionsDeny":this.model.extensionsDeny=n[t];break;case"saveUrl":this.model.saveUrl=n[t];break;case"removeUrl":this.model.removeUrl=n[t]}this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element}},_controlStatus:function(n){n!=!0?this.disable():this.enable()},_setRTL:function(n){n?this._currentElement.addClass("e-rtl"):this._currentElement.removeClass("e-rtl");this.updialog&&this.updialog.ejDialog({enableRTL:n})},_getLocalizedLabels:function(n){var i;return i=n=="browse"||n=="upload"||n=="cancel"||n=="close"?"buttonText":"dialogText",t.Uploadbox.Locale[this.model.locale]===r||t.Uploadbox.Locale[this.model.locale][n]===r?t.Uploadbox.Locale[this.model.locale][i][n]:t.Uploadbox.Locale[this.model.locale][n]},_setLocale:function(){this._buttonText(t.Uploadbox.Locale[this.model.locale].buttonText);this._dialogText(t.Uploadbox.Locale[this.model.locale].dialogText)},_buttonText:function(t){n.extend(this.model.buttonText,t);this.buttondiv.val(this.model.buttonText.browse);this.updialog&&(this.updialog.find(".e-file-upload .e-uploadbtn").html(this.model.buttonText.upload),this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.cancel))},_dialogText:function(t){n.extend(this.model.dialogText,t);this.diaObj==r||this.diaObj.option("title",this.model.dialogText.title);this.updialog&&(this.updialog.find(".e-head-name").html(this.model.dialogText.name),this.updialog.find(".e-head-size").html(this.model.dialogText.size),this.updialog.find(".e-head-status").html(this.model.dialogText.status))},_destroy:function(){this._currentElement.hasClass("e-uploadbox")&&(this._currentElement.removeClass("e-uploadbox e-widget"),this._currentElement.empty(),n(this.dragWrapper).after(this._currentElement),this.dragWrapper.remove())},_setSkin:function(n){this._currentElement.removeClass(this.model.cssClass);this._currentElement.addClass(n)},_initialize:function(){this.control=this.element[0];this.element.addClass("e-widget "+this.model.cssClass);this.innerdiv=t.buildTag("div.e-selectpart e-select e-box");this.element.append(this.innerdiv);this.buttondiv=t.buildTag("input.e-inputbtn e-btn#"+this.control.id+"_SelectButton","",{},{type:"button","data-role":"none",value:this._getLocalizedLabels("browse")});this.inputupload=t.buildTag("input.e-uploadinput","",{},{type:"file","data-role":"none",name:this.model.uploadName!=""?this.model.uploadName:this.control.id});this.model.multipleFilesSelection&&this.inputupload.attr("multiple","multiple");this.innerdiv.append(this.buttondiv);this.innerdiv.append(this.inputupload);this.model.allowDragAndDrop&&this._dragAndDrop(!0);this._Selector=this.buttondiv[0];this._currentElement=this.model.allowDragAndDrop&&!this.model.showBrowseButton?this.dragWrapper:this.element;this._setRTL(this.model.enableRTL);this._addAttr(this.model.htmlAttributes);this.Uploadframes=[];this.UploadForms=[];this._successFiles=[];this.UploadType=this._isXhrSupported()?"Xhr":"IFrame";this.model.width!=""&&this._setWidth(this.model.width);this.model.height!=""&&this._setHeight(this.model.height);this._hideBrowseButton()},_hideBrowseButton:function(){!this.model.showBrowseButton&&this.model.allowDragAndDrop?(this.element.addClass("e-browse-hide"),this._dropAreaSize()):this.element.hasClass("e-browse-hide")&&(this.element.removeClass("e-browse-hide"),this.element.width(this.model.width),this.element.height(this.model.height))},_setSize:function(){this.model.dropAreaWidth!=""&&this.dragWrapper.width(this.model.dropAreaWidth);this.model.dropAreaHeight!=""&&this.dragWrapper.height(this.model.dropAreaHeight);!this.model.showBrowseButton&&this.model.allowDragAndDrop&&this._dropAreaSize()},_dropAreaSize:function(){this.model.dropAreaWidth!=""&&this.element.width(this.model.dropAreaWidth);this.model.dropAreaHeight!=""&&this.element.height(this.model.dropAreaHeight)},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.element.addClass(n):t=="disabled"&&n=="disabled"?i.disable():i.element.attr(t,n)})},_dragAndDrop:function(){this.model.allowDragAndDrop?(this.dragWrapper=t.buildTag("div.e-drag-wrapper e-widget-wrapper e-upload-box "+this.model.cssClass+"#"+this.control.id+"_dragWrapper"),this.innerWrapper=t.buildTag("div.e-drag-container"),this._spanTag=t.buildTag("span.e-drag-text").html(this.model.dragAreaText),this.innerWrapper.append(this._spanTag),this.innerWrapper.insertBefore(this.element),this.dragWrapper.insertBefore(this.element),this.innerWrapper.append(this.element),this.dragWrapper.append(this.innerWrapper),this._bindDragEvents(),this._setSize()):(this.element.insertBefore(this.dragWrapper),this.dragWrapper.remove(),this._unBindDragEvents())},_bindDragEvents:function(){this._on(this.dragWrapper,"dragover",this._onDragOverHandler);this._on(this.dragWrapper,"drop",this._onDropHandler)},_unBindDragEvents:function(){this._off(this.dragWrapper,"dragover",this._onDragOverHandler);this._off(this.dragWrapper,"drop",this._onDropHandler)},_setWidth:function(n){this.element.css("width",n)},_setHeight:function(n){this.element.height(n)},_dialogPosition:function(){if(this.diaObj){if((this.diaObj.model.content=="#"+this.control.id||this.diaObj.model.content=="#"+this.control.id+"_dragWrapper")&&this.model.dialogPosition.X==""&&this.model.dialogPosition.Y==""){var t=parseInt(this.diaObj.wrapper.css("left"))-(this.diaObj.wrapper.outerWidth()-n(this.diaObj.model.content).outerWidth())/2;this.model.dialogPosition.X=parseInt(t)>0?t:parseInt(this.diaObj.wrapper.css("left"));this.model.dialogPosition.Y=parseInt(this.diaObj.wrapper.css("top"))+n(this.diaObj.model.content).outerHeight()}this.model.dialogPosition.X!=""&&this.model.dialogPosition.Y!=""&&this.diaObj.setModel({position:this.model.dialogPosition})}},_roundedCorner:function(n){n?this.innerdiv.addClass("e-corner"):this.innerdiv.hasClass("e-corner")&&this.innerdiv.removeClass("e-corner")},_wireEvents:function(){this._on(this.element,"click",this._disableclickselect);this._on(this.element,"keydown",this._keydownselect);this._bindInputChangeEvent()},_keydownselect:function(t){this.element.hasClass("e-disable")||t.keyCode==13&&(console.log("enter pressed"),n(this.element).click())},_onDropHandler:function(n){if(t.browserInfo().name==="msie"&&t.browserInfo().version==="8.0"||t.browserInfo().version==="9.0"||this._currentElement.hasClass("e-disable"))return!1;n.stopPropagation();n.preventDefault();this._files=this._getAllFileInfo(n.originalEvent.dataTransfer.files);this._fileUpload(n)},_onDragOverHandler:function(n){if(this._currentElement.hasClass("e-disable"))return!1;n.stopPropagation();n.preventDefault()},_disableclickselect:function(n){this._currentElement.hasClass("e-disable")&&n.preventDefault()},_bindInputChangeEvent:function(){this._on(this.inputupload,"change",this._inputValueChange)},_inputValueChange:function(t){var i;if(i=n(t.target),this._files=this._getInputFileInfo(i),this._trigger("fileSelect",this._files))return!1;this._fileUpload(t)},_fileUpload:function(n){this._files=this._isAllowed(this._files);this._files!=null&&this._files.length>0&&(this.model.asyncUpload?this.UploadType=="Xhr"?this._onXhrSelect(n):this._onSelectIFrame(n):this._onSelectSyncUpload(n))},__uploadButtonClick:function(t){if(!this._currentElement.hasClass("e-disable")){var i=this._currentElement.find(".e-uploadbtn");this._currentElement.find(".e-uploadbtn").hasClass("e-disable")?t.preventDefault():this.UploadType=="Xhr"?this._xhrOnUploadButtonClick(t):this._onUploadButtonClickIFrame(t);n(t.target).attr("disabled","disabled").addClass("e-disable")}},_actionClick:function(t){var r,i,u;this._currentElement.hasClass("e-disable")||(r=n(t.target),i=r.closest(".e-upload-file"),this._file=n(i).data("file"),r.hasClass("e-file-delete")?this.UploadType=="Xhr"?this._xhrOnRemove(t,i):this._onRemoveIFrame(t,i):r.hasClass("e-file-cancel")?(this._trigger("cancel",{fileStatus:this._file}),u=this.updialog.find(".e-file-cancel"),u.hasClass("e-disable")?t.preventDefault():this.model.asyncUpload?this.UploadType=="Xhr"?this._xhrOnCancel(t,i):this._onCancelIFrame(t,i):this._onCancelSyncUpload(t,i)):r.hasClass("e-file-retry")&&(this.UploadType=="Xhr"?this._xhrOnRetry(t,i):this._onRetryIFrame(t,i)))},_removeFileEntry:function(n){n.remove()},_isFileUpload:function(t){if(this.model.customFileDetails.action){var i=n(t).find("div.e-icon");return i.is(".e-file-cancel")}return!0},_isXhrSupported:function(){return this.s.name=="msie"&&parseInt(this.s.version)<9||this.s.name=="safari"&&this.s.name=="chrome"&&this.s.version=="536"?!1:typeof FormData!="undefined"&&typeof File!="undefined"},_getFileName:function(t){return n.map(this._getAllFileInfo(t),function(n){return n.name}).join(", ")},_getFileSize:function(t){var i=this;return n.map(this._getAllFileInfo(t),function(n){return i._formatSize(n.size)}).join(", ")},_pushFile:function(i,r){var s,h,f,u,e,o,c,l,a,v,y;for(o=n("<div class='e-head-content'><\/div>"),l=n("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"<\/div>"),a=n("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"<\/div>"),v=n("<div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"<\/div>"),this.model.customFileDetails.name&&n(l).appendTo(o),this.model.customFileDetails.size&&n(a).appendTo(o),this.model.customFileDetails.status&&n(v).appendTo(o),filedialog=this.updialog,filedialog&&filedialog.length!=0?this.model.showFileDetails&&(this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),this.diaObj.open()):(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),DialogContentContainer="#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),DialogContentContainer="#"+this.control.id)),s=this.updialog.find(".e-ul"),s.length==0&&(o.appendTo(this.updialog),s=t.buildTag("ul.e-ul").appendTo(this.updialog),fileListActions=t.buildTag("div.e-file-upload").appendTo(this.updialog),dialogActions=t.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(fileListActions),this._on(dialogActions,"click",this._dialogclose),this._on(dialogActions,"keydown",this._keydownDialogClose)),y=this.model.dialogAction.content!=null&&this.model.dialogAction.content!=""?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:345,width:520,height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:n.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,content:y,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title}),this.diaObj=this.updialog.data("ejDialog"),this._dialogPosition(),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),u=0;u<i.length;u++)h=n("<li class='e-upload-file'><\/li>").appendTo(s).data(r),addedlist=n("<div class='e-file-list'><\/div>"),addedfilename=n("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+i[u].name+"<\/span><\/div>"),c="<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(i[u].size)+"<\/span><\/div>",addedfilestatus=n("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'><\/div><\/div><\/div>"),addedfileaction=n("<div class='e-action-perform'><div class='e-icon e-file-view'><\/div><\/div>"),this.model.customFileDetails.name&&n(addedfilename).appendTo(addedlist),this.model.customFileDetails.size&&(this._getFileSize(i[u]).toString().toLowerCase().match("nankb").length==0||i[u].size!=null?n(c).appendTo(addedlist):n(this.updialog).find(".e-head-size").remove()),this.model.customFileDetails.status&&n(addedfilestatus).appendTo(addedlist),this.model.customFileDetails.action&&(n(addedfileaction).appendTo(addedlist),e="cancel",addedlist.find(".e-icon").remove().addClass(e.toString()),e=="cancel"?f=t.buildTag("div.e-icon e-file-cancel","",{},{title:this._getLocalizedLabels("cancelToolTip")}):e=="remove"?f=t.buildTag("div.e-icon e-file-delete","",{},{title:this._getLocalizedLabels("removeToolTip")}):e=="retry"&&(f=t.buildTag("div.e-icon e-file-retry","",{},{title:this._getLocalizedLabels("retryToolTip")})),addedlist.find(".e-action-perform").append(f),this._on(f,"click",this._actionClick)),n(addedlist).appendTo(h);return this.model.showFileDetails&&this.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),h},_keydownDialogClose:function(n){this._currentElement.hasClass("e-disable")||n.keyCode==13&&this._dialogclose()},_pushFileDetails:function(i){var u,r,f,s,h,c,l,a,v,y,e,o,p;return f=n("<div class='e-head-content'><\/div>"),s=n("<div class='e-file-head e-head-name'>"+this._getLocalizedLabels("name")+"<\/div>"),h=n("<div class='e-file-head e-head-size'>"+this._getLocalizedLabels("size")+"<\/div>"),c=n("<\/div><div class='e-file-head e-head-status'>"+this._getLocalizedLabels("status")+"<\/div>"),this.model.customFileDetails.name&&n(s).appendTo(f),this.model.customFileDetails.size&&n(h).appendTo(f),this.model.customFileDetails.status&&n(c).appendTo(f),u=this,filedialog=this.updialog,filedialog&&filedialog.length!=0?this.model.showFileDetails&&(this.updialog&&this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable"),u.diaObj.open()):(this.updialog=t.buildTag("div.uploaddialog#"+this.element[0].id+"_dialog","",{},{title:this._getLocalizedLabels("title")}),this.model.allowDragAndDrop&&!this.model.showBrowseButton?(this.dragWrapper.append(this.updialog),DialogContentContainer="#"+this.control.id+"_dragWrapper"):(this.element.append(this.updialog),DialogContentContainer="#"+this.control.id)),e=this.updialog.find(".e-ul"),e.length==0&&(f.appendTo(this.updialog),e=t.buildTag("ul.e-ul").appendTo(this.updialog),fileListActions=t.buildTag("div.e-file-upload").appendTo(this.updialog),dialogActions=t.buildTag("button.e-uploadclosebtn e-btn e-select",this._getLocalizedLabels("cancel"),{},{type:"button","data-role":"none"}).appendTo(fileListActions),this._on(dialogActions,"click",this._dialogclose)),this.model.multipleFilesSelection||this.updialog.find(".e-ul>.e-upload-file").remove(),o=n("<li class='e-upload-file'><\/li>").appendTo(e).data("file",i),r=n("<div class='e-file-list'><\/div>"),l=n("<div class='e-file-progress e-file-view'><div class='e-file-name e-file-view'><span class='e-file-name-txt'>"+i.name+"<\/span><\/div>"),v=n("<div class='e-file-size e-file-view'><span class='e-file-name-txt'>"+this._formatSize(0)+"\\"+this._formatSize(i.size)+"<\/span><\/div>"),a=n("<div class='e-file-percentage e-file-view'><div class='e-file-progress-bar'><div class='e-file-progress-status'><\/div><\/div><\/div>"),y=n("<div class='e-action-perform'><div class='e-icon e-file-view'><\/div><\/div><\/div>"),this.model.customFileDetails.name&&n(l).appendTo(r),this.model.customFileDetails.size&&n(v).appendTo(r),this.model.customFileDetails.status&&n(a).appendTo(r),this.model.customFileDetails.action&&n(y).appendTo(r),n(r).appendTo(o),p=this.model.dialogAction.content!=null&&this.model.dialogAction.content!=""?this.model.dialogAction.content:DialogContentContainer,this.updialog.ejDialog({showOnInit:!1,closeIconTooltip:this._getLocalizedLabels("closeToolTip"),minWidth:345,width:520,height:"auto",cssClass:"e-uploadbox "+this.model.cssClass,close:n.proxy(this._uploadFileListDelete,this),enableRTL:this.model.enableRTL,content:p,enableResize:!1,allowDraggable:this.model.dialogAction.drag,enableModal:this.model.dialogAction.modal,showHeader:this.model.customFileDetails.title}),u.diaObj=this.updialog.data("ejDialog"),u._dialogPosition(),this.model.showFileDetails&&u.diaObj.open(),this._buttonText(this.model.buttonText),this._dialogText(this.model.dialogText),o},_setProgress:function(t,i,r){var u,f,e,o;this.model.customFileDetails.status&&(u=n(t).find(".e-file-progress-status"),u.width(i+"%"));this.model.customFileDetails.size&&(f=n(t).find(".e-file-size .e-file-name-txt"),e=this._formatSize(r.loaded),o=this._formatSize(r.total),f.html(e+"\\"+o))},_setAction:function(n,i){if(this.model.customFileDetails.action){var r;n.find(".e-icon").remove().addClass(i.toString());i=="cancel"?r=t.buildTag("div.e-icon e-file-cancel","",{},{title:this._getLocalizedLabels("cancelToolTip")}):i=="remove"?r=t.buildTag("div.e-icon e-file-delete","",{},{title:this._getLocalizedLabels("removeToolTip")}):i=="retry"&&(r=t.buildTag("div.e-icon e-file-retry","",{},{title:this._getLocalizedLabels("retryToolTip")}));n.find(".e-action-perform").append(r);this._on(r,"click",this._actionClick)}},_setStatus:function(n,i){if(this.model.customFileDetails.status){var u,r=t.buildTag("div");i=="success"&&(n.find(".file-status").addClass("e-file-status-success").html("Completed"),n.find(".e-file-percentage").html("").attr("title",this._getLocalizedLabels("completedToolTip")),r.addClass("e-icon e-file-percentage-success"),n.find(".e-file-percentage").append(r));i=="failed"&&(n.find(".file-status").addClass("e-file-status-failed").html("Failed"),n.find(".e-file-percentage").html("").attr("title",this._getLocalizedLabels("failedToolTip")),r.addClass("e-icon e-file-percentage-failed"),n.find(".e-file-percentage").append(r));i=="progress"&&n.find(".file-status").addClass("file-status-inprogress").html("in progress");i=="uploading"&&(n.find(".file-status").addClass("file-status-inprogress").html("uploading"),u=n.find(".e-file-percentage"),u.html(""))}},_createInputandBind:function(){var n=t.buildTag("input","",{},{type:"file","data-role":"none"});n.attr("name",this.model.uploadName!=""?this.model.uploadName:this.control.id).attr("autocomplete","off").attr("class","e-uploadinput");this.model.multipleFilesSelection&&n.attr("multiple","multiple");n.appendTo(this.element.find(".e-selectpart"));this.inputupload=n;this._bindInputChangeEvent()},_showUploadButton:function(){var i=this.updialog.find(".e-uploadbtn");i.length==0&&(i=t.buildTag("button.e-uploadbtn e-btn e-select",this._getLocalizedLabels("upload"),{},{type:"button","data-role":"none"}),this.updialog.find(".e-file-upload").append(i),this._on(i,"click",this.__uploadButtonClick),this._on(i,"keydown",this._keydownUpload),n(i).focus());this._buttonText(this.model.buttonText)},_keydownUpload:function(n){n.keyCode==13&&this.__uploadButtonClick()},_resetFileInput:function(n){var t=n.clone(!1,!1);this._on(t,"change",this._inputValueChange);n.replaceWith(t)},_isAllowed:function(t){var c,u,i,f,h,e,o=this,r=[],s=[];return c=this.element.find(".e-uploadinput"),u=this,this.model.extensionsAllow!=""?(f=this.model.extensionsAllow.replace(/\s/g,"").toLowerCase().split(","),n(t).each(function(){n.inArray(this.extension.toLowerCase(),f)==-1?(i={action:"Files Processing",error:f+o._getLocalizedLabels("allowError"),files:this},u._trigger("error",i)):this.extension!=""&&r.push(this)})):this.model.extensionsDeny!=""?(e=this.model.extensionsDeny.replace(/\s/g,"").toLowerCase().split(","),n(t).each(function(){n.inArray(this.extension.toLowerCase(),e)!=-1?(i={action:"Files Processing",error:e+o._getLocalizedLabels("denyError"),files:this},u._trigger("error",i)):this.extension!=""&&r.push(this)})):n(t).each(function(){this.extension!=""&&r.push(this)}),this.model.fileSize!=""?(h=this.model.fileSize,n(r).each(function(){this.size>h?(i={action:"Files Processing",error:o._getLocalizedLabels("filedetail"),files:this},u._trigger("error",i)):s.push(this)})):s=r,s},_fileListRemove:function(){fileList=this.updialog.find(".e-upload-file .e-file-delete");fileList.length==0&&(this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"))},_uploadHide:function(){fileList=this.updialog.find(".e-upload-file .e-file-cancel");fileList.length==0&&(this.updialog.find(".e-ul").empty(),this.updialog.find(".e-uploadbtn").attr("disabled","disabled").addClass("e-disable"),this.updialog.ejDialog("close"))},_onBeforeClose:function(i){t.isNullOrUndefined(i.event)||(i.cancel=n(i.event.currentTarget).hasClass("e-disable")?!0:!1)},_dialogclose:function(t){var i,u,f,r;this._currentElement.hasClass("e-disable")||(i=this.updialog.find(".e-uploadclosebtn"),f=this.updialog.find(".e-ul").children().first(),u=n(f).data("file"),i.hasClass("e-disable")?t.preventDefault():(this.updialog.find(".e-ul").empty(),r=this._currentElement.find(".e-uploadinput"),this._resetFileInput(r),this.updialog.ejDialog("close")),this.model.asyncUpload||this._formResetSyncUpload(),this._trigger("cancel",{fileStatus:u}))},_uploadFileListDelete:function(){var n;this.updialog.find(".e-ul").empty();n=this._currentElement.find(".e-uploadinput");this._resetFileInput(n)},_onXhrSelect:function(){var t,i;this._xhrBeforeUpload(this._files);t=this;n.each(t._files,function(r,u){i=n(u).data("filelist");t._setAction(i,"cancel");t.model.autoUpload?t._xhrPerformUpload(u):t._showUploadButton()})},_xhrBeforeUpload:function(t){var i,r,u,f;return i=t,r=this,n.each(i,function(t,i){u=r._createFormObjectXhr(i);n(i).data("formobject",u);f=r._pushFileDetails(i);n(i).data("filelist",f)}),i},_xhrPerformUpload:function(t){var o,i,f,u,e;if(u=new XMLHttpRequest,i=this,e={files:t},this._trigger("begin",e)){n(t).data("xhr",u);i._onRequestError(i,r,t);return}o=this.model.saveUrl;f=n(t).data("formobject");f.append(this.control.id+"_data",JSON.stringify(e.data));n(t).data("xhr",u);u.addEventListener("load",function(n){i._onRequestSuccess(i,n,t)},!1);u.addEventListener("error",function(n){i._onRequestError(i,n,t)},!1);u.upload.addEventListener("progress",function(n){i._onRequestProgress(i,n,t)},!1);u.open("POST",o);u.send(f)},_xhrOnUploadButtonClick:function(){var r,f,u,t;for(r=this.model.showBrowseButton?this.diaObj.wrapper:this.dragWrapper,t=r.find(".e-ul li.e-upload-file"),i=0;i<t.length;i++)f=n(this),u=this._isFileUpload(t[i]),u&&this._xhrPerformUpload(n(t[i]).data("file"))},_xhrOnRemove:function(t,i){var u=n(i).find(".e-file-name").text().toString().split(","),r=this;n.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+u,success:function(){n(i).remove();r._fileListRemove();r._trigger("remove",{fileStatus:r._file})}})},_xhrOnCancel:function(t,i){var r,u;r=n(i).data("file");u=n(r).data("xhr");u&&n(r).data("xhr").abort();n(r).data("xhr",null);n(i).data("file",null);n(i).remove();this._uploadHide()},_xhrOnRetry:function(t,i){if(!this._currentElement.hasClass("e-disable")){var r=n(i).data("file");this._xhrPerformUpload(r)}},_onRequestSuccess:function(t,i,r){var u=n(r).data("xhr");u.status>=200&&u.status<=299?t._onXhrUploadSuccess(t,i,r):t._onRequestError(t,i,r)},_onXhrUploadSuccess:function(t,i,r){var u,e,s,h,o,c,f;u=n(r).data("filelist");e=n(r).data("xhr");t.model.removeUrl?(t._setAction(u,"remove"),t._setStatus(u,"success")):(u.find(".e-icon").remove(),t._setStatus(u,"success"));n(r).length>0&&(s=n(u).find(".e-file-progress-status"),s.width("100%"),h=n(r)[0].size,o=this._formatSize(h),c=n(u).find(".e-file-size .e-file-name-txt"),c.html(o+"\\"+o));f={files:r,xhr:e,e:i};this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus();t._trigger("success",f);this._successFiles.push(r);t._files.length==this._successFiles.length&&(f={files:r,success:this._successFiles,xhr:e,e:i},t._trigger("complete",f),this._successFiles.length=0,this.model.dialogAction.closeOnComplete&&this._dialogclose())},_onRequestError:function(t,i,r){var f,u,e;f=n(r).data("filelist");u=n(r).data("xhr");t._setAction(f,"retry");t._setStatus(f,"failed");this.updialog.find(".e-uploadbtn").removeAttr("disabled").removeClass("e-disable");e={action:"File Processing",error:u.status+u.statusText,files:r,xhr:u,e:i};t._trigger("error",e)},_onRequestProgress:function(t,i,r){var f,u;f=Math.round(i.loaded*100/i.total);u=n(r).data("filelist");t._setProgress(u,f,i);t._setStatus(u,"progress")},_createFormObjectXhr:function(n){var t=new FormData;return t.append(this.model.uploadName!=""?this.model.uploadName:this.control.id,n.rawFile),t},_getInputFileInfo:function(n){var t=n[0];return t.files?this._getAllFileInfo(t.files):[{name:this._GetName(t.value),extension:this._getFileExtensionType(t.value),size:this._getFileSizeinIE(t.value)}]},_getFileSizeinIE:function(n){var t,i;t=null;i=null;try{t=new ActiveXObject("Scripting.FileSystemObject")}catch(r){i=null}return t&&(i=t.getFile(n).size),i},_getFileExtensionType:function(n){return n.match?n.match(/\.([^\.]+)$/)?n.match(/\.([^\.]+)$/)[0]:"":""},_getAllFileInfo:function(t){var i=this;return n.map(t,function(n){return i._getFileInfo(n||t)})},_GetName:function(n){var t=n.lastIndexOf("\\");return t!=-1?n.substr(t+1):n},_getFileInfo:function(n){var t=n.name||n.fileName||n;return{name:t,extension:this._getFileExtensionType(t),size:n.size||n.fileSize,rawFile:n}},_formatSize:function(n){var t=-1;do n=n/1024,t++;while(n>99);return Math.max(n,0).toFixed(1)+["KB","MB","GB","TB","PB","EB"][t]},_onSelectIFrame:function(t){var r,u,i,f;r=n(t.target);u=this._getInputFileInfo(r);i=this._beforeUploadIFrame(u);f=i.data("iframe");this.model.autoUpload?this._performUploadIFrame(i):this._showUploadButton();this._off(this.inputupload,"change");this._bindInputChangeEvent()},_onRemoveIFrame:function(t,i){var u,f,r,e;u=i.data("iframe");e=n(i).data("file");f=e[0].name;r=this;u?(this._removeFileEntry(i),this.model.removeUrl&&n.ajax({url:this.model.removeUrl,type:"POST",data:"fileNames="+f,success:function(){r._fileListRemove();r._trigger("remove",{fileStatus:r._file})}})):(this._removeFileEntry(i),this._trigger("remove",{fileStatus:this._file}))},_onCancelIFrame:function(n,t){var i;this._trigger("cancel",{Status:t});i=t.data("iframe");i&&(this._removeFileEntry(t),typeof i.stop!="undefined"?i.stop():i.document&&(i.document.execCommand("Stop"),i.contentWindow.location.href=i.contentWindow.location.href),this._processServerResponse(i,""));this._uploadHide()},_onRetryIFrame:function(n,t){this._performUploadIFrame(t)},_beforeUploadIFrame:function(n){var t,r,i;return t=this._createFrame(this.control.id+"_Iframe"+this.Uploadframes.length),this.Uploadframes.push(t),r=this._createForm(this.model.saveUrl,t[0].id),this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(r),this._createInputandBind(),i=this._pushFile(n,{iframe:t,form:r,file:n}),t.data({filelist:i}),this._setAction(i,"cancel"),i},_performUploadIFrame:function(t){var e,r,i,u,f;if(u={files:t},this._trigger("begin",u)){this._failureIframeUpload(t,"File upload has been denied");return}e=t.data("file");this._setStatus(t,"uploading");r=t.data("iframe");i=t.data("form");f=n("<input>").attr("id",this.control.id+"_data").attr("type","hidden").val(JSON.stringify(u.data));i.append(f);r.appendTo(document.body);i.appendTo(document.body);this._on(r,"load",this._removeFramesIFrame);i.submit()},_onUploadButtonClickIFrame:function(){var t,i,r;t=this;n(".e-ul li.e-upload-file",t.updialog).each(function(){i=n(this);r=t._isFileUpload(i);r&&t._performUploadIFrame(i)})},_removeFramesIFrame:function(t){var u,i,r;u=n(t.target);r=u.data("filelist");try{i=u.context.contentDocument.body.innerText.replace(/\n|\r/g," ").trim()}catch(t){i="Server Error trying to get server response: "+t}i.substring(0,12)!="Server Error"&&i.indexOf("HTTP Error")!=0?(this._processServerResponse(u,i),this._setIframeProgress(r,100,t),this._setStatus(r,"progress"),this._successIframeUpload(r,i)):this._failureIframeUpload(r,i)},_setIframeProgress:function(t,i){var r;r=n(t).find(".e-file-progress-status");r.width(i+"%")},_successIframeUpload:function(n,t){fileEntry=n.data("file");this.model.removeUrl?(this._setAction(n,"remove"),this._setStatus(n,"success")):(n.find(".file-action").remove(),this._setStatus(n,"success"));args={files:fileEntry,responseText:t};this.updialog.find(".e-file-upload .e-uploadclosebtn").html(this.model.buttonText.close).focus();this._trigger("success",args);this._successFiles.push(fileEntry);n.length==this._successFiles.length&&(args={files:fileEntry,success:this._successFiles},this._trigger("complete",args),this._successFiles.length=0,this.model.dialogAction.closeOnComplete&&this._dialogclose())},_failureIframeUpload:function(n,t){fileEntry=n.data("file");this.model.saveUrl&&t!="File upload has been denied"?(this._setAction(n,"retry"),this._setStatus(n,"failed")):(n.find(".file-action").remove(),this._setStatus(n,"failed"));args=t.indexOf("HTTP Error")==0?{files:fileEntry,responseText:t,status:t.match(/\d+/).toString()}:{files:fileEntry,responseText:t};this._trigger("error",args)},_processServerResponse:function(t){var i;i=n(document.body).find("form[target='"+n(t).attr("id")+"']");setTimeout(function(){i.remove();t.remove()},0)},_createDivBlock:function(n){return t.buildTag("div."+n)},_createForm:function(n,i){return t.buildTag("form","",{},{enctype:"multipart/form-data",method:"POST",action:n,target:i})},_createFrame:function(n){return t.buildTag("iframe#"+n,"",{display:"none"},{name:n})},_createInput:function(n){return t.buildTag("input","",{},{type:"file",name:n,"data-role":"none"})},_initObjectsSyncUpload:function(){this._currentElement.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data");this._wireEventsSyncUpload()},_wireEventsSyncUpload:function(){var t=this._currentElement.closest("form")[0];this._on(n(t),"submit",this._formSubmitSyncUpload);this._on(n(t),"reset",this._formResetSyncUpload)},_onSelectSyncUpload:function(t){var i,r,u;i=n(t.target);r=n(".e-selectpart",this.control);this._currentElement.find("input.e-uploadinput").removeClass("e-uploadinput").css("display","none").appendTo(r);this._createInputandBind();u=this._pushFile(this._files,{file:this._files,Input:i})},_onCancelSyncUpload:function(n,t){var i=t.data("Input");t.data("file",null);t.data("Input",null);t.remove();i.remove();this._uploadHide()},_formSubmitSyncUpload:function(){var t,i;t=n(".e-uploadinput",this.control);t.attr("name","");i=this.model.uploadName!=""?this.model.uploadName:this.control.id;setTimeout(function(){t.attr("name",i)},0)},_formResetSyncUpload:function(){n(".e-selectpart",this.control).children('input[type="file"]').each(function(){n(this).hasClass("e-uploadinput")||n(this).remove()});n(".e-ul",this.control).remove()}});t.Uploadbox.Locale={};t.Uploadbox.Locale["en-US"]={buttonText:{upload:"Upload",browse:"Browse",cancel:"Cancel",close:"Close"},dialogText:{title:"Upload Box",name:"Name",size:"Size",status:"Status"},filedetail:"File size is too large.Please select valid file size.",denyError:"Extension Files not accepted",allowError:"Extension Only allowed",cancelToolTip:"Cancel",removeToolTip:"Remove",retryToolTip:"Retry",completedToolTip:"Completed",failedToolTip:"Failed",closeToolTip:"close"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejRTE","ej.RTE",{element:null,model:null,_rootCSS:"e-rte",validTags:["textarea"],_setFirst:!1,defaults:{allowEditing:!0,isResponsive:!1,allowKeyboardNavigation:!0,cssClass:"",height:"370",width:"786",enabled:!0,htmlAttributes:{},enableXHTML:!1,maxLength:7e3,minWidth:400,maxWidth:null,minHeight:280,maxHeight:null,showToolbar:!0,showFooter:!1,showHtmlSource:!0,showWordCount:!0,showHtmlTagInfo:!0,showClearAll:!0,iframeAttribute:"color:#5C5C5C",showClearFormat:!0,showFontOption:!0,showDimensions:!1,showRoundedCorner:!1,locale:"en-US",name:"",tools:{formatStyle:["format"],style:["bold","italic","underline","strikethrough"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"],indenting:["outdent","indent"],doAction:["undo","redo"],links:["createLink"],images:["image","video"],tables:["createTable","addRowAbove","addRowBelow","addColumnLeft","addColumnRight","deleteRow","deleteColumn","deleteTable"]},toolsList:["formatStyle","font","style","scripts","alignment","lists","indenting","copyPaste","doAction","clear","links","images","tables","casing","customTool"],colorCode:["000000","FFFFFF","C4C4C4","ADADAD","595959","262626","4f81bd","dbe5f1","b8cce4","95b3d7","366092","244061","c0504d","f2dcdb","e5b9b7","d99694","953734","632423","9bbb59","ebf1dd","d7e3bc","c3d69b","76923c","4f6128","8064a2","e5e0ec","ccc1d9","b2a2c7","5f497a","3f3151","f79646","fdeada","fbd5b5","fac08f","e36c09","974806"],format:[{text:"Paragraph",value:"<p>",spriteCssClass:"e-paragraph"},{text:"Quotation",value:"<blockquote>",spriteCssClass:"e-quotation"},{text:"Heading 1",value:"<h1>",spriteCssClass:"e-h1"},{text:"Heading 2",value:"<h2>",spriteCssClass:"e-h2"},{text:"Heading 3",value:"<h3>",spriteCssClass:"e-h3"},{text:"Heading 4",value:"<h4>",spriteCssClass:"e-h4"},{text:"Heading 5",value:"<h5>",spriteCssClass:"e-h5"},{text:"Heading 6",value:"<h6>",spriteCssClass:"e-h6"}],fontName:[{text:"Segoe UI",value:"Segoe UI"},{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"Courier New,Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"Lucida Console,Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"Times New Roman,Times,serif"},{text:"Trebuchet MS",value:"Trebuchet MS,Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1",value:"1"},{text:"2 (10pt)",value:"2"},{text:"3 (12pt)",value:"3"},{text:"4 (14pt)",value:"4"},{text:"5 (18pt)",value:"5"},{text:"6 (24pt)",value:"6"},{text:"7 (36pt)",value:"7"}],tableRows:7,tableColumns:9,colorPaletteRows:6,colorPaletteColumns:6,showCustomTable:!0,value:null,undoStackLimit:50,enableResize:!0,enablePersistence:!1,enableRTL:!1,imageBrowser:{filePath:"",extensionAllow:"*.png,*.gif,*.jpg,*.jpeg",ajaxAction:"",uploadAction:"",ajaxSettings:""},fileBrowser:{filePath:"",extensionAllow:"*.doc,*.docx,*.pdf,*.txt",ajaxAction:"",uploadAction:""},change:null,execute:null,keydown:null,keyup:null,create:null,destroy:null,preRender:null},dataTypes:{iframeAttribute:"string",cssClass:"string",name:"string",enabled:"boolean",enableXHTML:"boolean",isResponsive:"boolean",enablePersistence:"boolean",showRoundedCorner:"boolean",toolsList:"array",colorCode:"array",format:"data",fontName:"data",fontSize:"data",htmlAttributes:"data",tools:{formatStyle:"array",font:"array",style:"array",scripts:"array",alignment:"array",lists:"array",indenting:"array",copyPaste:"array",doAction:"array",clear:"array",links:"array",images:"array",tables:"array",casing:"array",customTool:"array"}},observables:["value"],value:t.util.valueFunction("value"),_setModel:function(i){var r,f,e,s,c,h,u,o;for(r in i){switch(r){case"allowEditing":this._enableEdit(i[r]);break;case"showToolbar":i[r]?t.isNullOrUndefined(this._rteToolbar)?this._renderToolBar():this._rteToolbar.show():this._rteToolbar.hide();break;case"showFooter":this.model.showFooter=i[r];i[r]?t.isNullOrUndefined(this._rteFooter)?this._renderFooter():this._rteFooter.show():this._rteFooter.hide();break;case"isResponsive":this.model.isResponsive=i[r];this._renderToolBarList();f=n(this._rteIframe).outerHeight();e=n(this._rteToolbar).outerHeight();n(this._rteWapper).height(f+e);t.isNullOrUndefined(n(this._rteFooter))||(s=n(this._rteFooter).outerHeight(),n(this._rteWapper).height(f+s+e));break;case"enabled":this._disabled(i[r]);break;case"height":this._rteWapper.height(i[r]);break;case"width":this._rteWapper.css("width",i[r]);break;case"cssClass":this._changeSkin(i[r]);break;case"showHtmlSource":this._footerElement("div.e-rte-source",i[r]);break;case"showHtmlTagInfo":this._footerElement("div.e-rte-htmltaginfo",i[r]);break;case"showWordCount":this._footerElement("div.e-rte-wordcount",i[r]);break;case"showClearAll":this._footerElement("div.clearAll",i[r]);break;case"showClearFormat":this._footerElement("div.clearFormat",i[r]);break;case"enableResize":this._footerElement("div.e-rte-resize",i[r]);break;case"fontName":this._fontStyleDDL.ejDropDownList({dataSource:i[r]});break;case"fontSize":this._fontSizeDDL.ejDropDownList({dataSource:i[r]});break;case"format":this._formatDDL.ejDropDownList({dataSource:i[r]});break;case"value":this._getDocument().body.innerHTML=t.util.getVal(i[r]);c={text:this._getText(),htmlText:this.getHtml()};this._onChange();break;case"showDimensions":i[r]?(this._imgDialog.find("div.e-rte-imgdimensions").show(),this._imgDialog.find("div.e-rte-videoDimensions").show()):(this._imgDialog.find("div.e-rte-imgdimensions").hide(),this._imgDialog.find("div.e-rte-videoDimensions").hide());break;case"showFontOption":i[r]?this._rteWapper.find("ul.e-rte-fontgroup").show():this._rteWapper.find("ul.e-rte-fontgroup").hide();break;case"locale":this.model.locale=i[r];h=this.model;this.element.ejRTE("destroy").ejRTE(h);break;case"tableRows":this.model.tableRows=i[r];u=this._createTable.find("div.e-rte-table").html("");this._drawTable(u);break;case"iframeAttribute":this._updateIframeSkin(i[r]);break;case"tableColumns":this.model.tableColumns=i[r];u=this._createTable.find("div.e-rte-table").html("");this._drawTable(u);break;case"showCustomTable":o=this._createTable.find("div.customtable-group");i[r]?t.isNullOrUndefined(this._customTableDialog)?this._createCustomTable():o.show():o.hide();break;case"colorPaletteRows":this.model.colorPaletteRows=i[r];this._updateColorPalette();break;case"colorPaletteColumns":this.model.colorPaletteColumns=i[r];this._updateColorPalette();break;case"colorCode":this.model.colorCode=i[r];this._updateColorPalette();break;case"name":this.model.name=i[r];this._checkNameAttr();break;case"enableRTL":this._enableRTL(i[r]);break;case"htmlAttributes":this._addAttr(i[r]);break;case"showRoundedCorner":this._roundedCorner(i[r])}r!="locale"&&this._setIframeHeight()}},_init:function(){t.isNullOrUndefined(this.element)||this.element[0].type!="textarea"||(this.element.hide(),this._initialize(),this._render(),this.model.allowEditing&&this._wireEvents(),this._updateIframeSkin(this.model.iframeAttribute),this.model.enabled==!1&&this._disabled(this.model.enabled),this._addAttr(this.model.htmlAttributes))},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i._rteWapper.addClass(n):t=="required"?i.element.attr(t,n):t=="disabled"&&n=="disabled"?i.disable():t=="readOnly"&&n=="readOnly"?i._enableEdit(!1):i._rteWapper.attr(t,n)})},_disabled:function(n){n!=!0?this.disable():this.enable()},_destroy:function(){this.element.insertBefore(this._rteWapper);t.isNullOrUndefined(this._formatDDL)||this._formatDDL.ejDropDownList("destroy");t.isNullOrUndefined(this._fontStyleDDL)||this._fontStyleDDL.ejDropDownList("destroy");t.isNullOrUndefined(this._fontSizeDDL)||this._fontSizeDDL.ejDropDownList("destroy");t.isNullOrUndefined(this._fontColorSplit)||this._fontColorSplit.ejSplitButton("destroy");t.isNullOrUndefined(this._bgColorSplit)||this._bgColorSplit.ejSplitButton("destroy");t.isNullOrUndefined(this._customTableDialog)||(t.isNullOrUndefined(this._customTableDialog.find(".e-rte-ddlAlignment"))||this._customTableDialog.find(".e-rte-ddlAlignment").ejDropDownList("destroy"),t.isNullOrUndefined(this._customTableDialog.find(".e-rte-txtBorder"))||this._customTableDialog.find(".e-rte-txtBorder").ejDropDownList("destroy"));t.isNullOrUndefined(this._linkDialog)||n(this._linkDialog).closest("div.e-rte.e-dialog-wrap").remove();t.isNullOrUndefined(this._imgDialog)||(this._imgDialog.find(".e-rte-imgBorderStyle").ejDropDownList("destroy"),n(this._imgDialog).closest("div.e-rte.e-dialog-wrap").remove());t.isNullOrUndefined(this._videoDialog)||n(this._videoDialog).closest("div.e-rte.e-dialog-wrap").remove();t.isNullOrUndefined(this._createTable)||n(this._createTable).closest("div.e-rte.e-dialog-wrap").remove();t.isNullOrUndefined(this._sourceDialog)||n(this._sourceDialog).closest("div.e-dialog-wrap").remove();t.isNullOrUndefined(this._customTableDialog)||n(this._customTableDialog).closest("div.e-rte.e-dialog-wrap").remove();t.isNullOrUndefined(this._alertWindow)||n(this._alertWindow).closest("div.e-rte.e-dialog-wrap").remove();t.isNullOrUndefined(this._eTblDialog)||(this._eTblDialog.find(".e-rte-dropdown").ejDropDownList("destroy"),n(this._eTblDialog).closest("div.e-rte.e-dialog-wrap").remove());t.isNullOrUndefined(this._explorerObj)||this._explorerObj.destroy();t.isNullOrUndefined(this._imgPicker)||this._imgPicker.destroy();t.isNullOrUndefined(this._fileDialog)||n(this._fileDialog).closest("div.e-rte.e-dialog-wrap").remove();this._rteWapper.remove();this.element.show();this._createTable=null},_initialize:function(){this._toolsList=this.model.toolsList;this._rteId=this.element[0].id;this._rteId=this._rteId?this._rteId:"";this._backupArray=[];this._undoRedoPosition=0;this._fontColor="#000000";this._bgColor="#ffffff";this._imgWidth=0;this._imgHeight=0;this._videoWidth=0;this._videoHeight=0;this._keypressFlag=!0;this._styleItems=t.isNullOrUndefined(this.model.tools.style)?[]:this.model.tools.style;this._alignItems=t.isNullOrUndefined(this.model.tools.alignment)?[]:this.model.tools.alignment;this._listItems=t.isNullOrUndefined(this.model.tools.lists)?[]:this.model.tools.lists;this._scriptsItems=t.isNullOrUndefined(this.model.tools.scripts)?[]:this.model.tools.scripts},_render:function(){this._renderWrapper();this._checkNameAttr();this.model.showToolbar&&this._renderToolBar();this._trigger("preRender",this.element);this._renderEditArea();this.model.showFooter&&this._renderFooter();this._setIframeHeight();this._renderAlertDialog();this._roundedCorner(this.model.showRoundedCorner)},_checkNameAttr:function(){this.model.name?this.element.attr({name:this.model.name}):this.element.attr({name:this.element[0].id})},_enableEdit:function(n){this.model.allowEditing=n;n?(this._wireEvents(),this.model.showToolbar&&this._toolBarItems.ejToolbar("option","click",this._toolBarClick),this._rteIframe.contents().find("body").attr("contenteditable",!0)):(this._unwireEvents(),this.model.showToolbar&&this._toolBarItems.ejToolbar("option","click",null),this._rteIframe.contents().find("body").attr("contenteditable",!1))},_changeSkin:function(n){this._rteWapper.removeClass(this.model.cssClass).addClass(n);this._subControlsSetModel("cssClass",n)},_updateIframeSkin:function(n){try{var t=this._rteIframe.contents().find("body");this.model.enableRTL===!0?(t.attr("style",n),this._enableRTL(this.model.enableRTL)):t.attr("style",n)}catch(i){return!1}},_renderWrapper:function(){this._rteWapper=t.buildTag("div.e-rte e-rte-wrapper e-widget e-box "+this.model.cssClass+"#"+this._rteId+"_wrapper","",{},{role:"presentation"}).insertBefore(this.element);this._rteWapper.css("height",this.model.height).css("width",this.model.width).css("min-height",this.model.minHeight).css("min-width",this.model.minWidth).css("max-height",this.model.maxHeight).css("max-width",this.model.maxWidth);this._rteWapper.append(this.element.hide())},_renderToolBar:function(){this._rteToolbar=t.buildTag("div.e-rte-toolbar #"+this._rteId+"_tools").insertAfter(this.element);this._crateToolbarTemplate();this._initToolBarItems();this._renderToolBarList();this._renderToolBarItems();t.isNullOrUndefined(this._explorerObj)||this._rteToolbar.find("li.e-rteItem-image").length>0&&this._explorerObj.setModel({showFooter:!1,showTreeview:!1});t.isNullOrUndefined(this._fileBrowserObj)||this._rteToolbar.find("li.e-rteItem-fileBrowser").length>0&&this._fileBrowserObj.setModel({showFooter:!1,showTreeview:!1});t.browserInfo().name==="msie"&&t.browserInfo().version==="8.0"&&this._toolBarObj.disableItemByID(this._rteId+"video")},_renderToolBarList:function(){var n={};n.click=this.model.allowEditing?this._toolBarClick:null;n.cssClass=this.model.cssClass;n.enableRTL=this.model.enableRTL;n.enableSeparator=this.model.isResponsive?!0:!1;n.isResponsive=this.model.isResponsive;n.height=n.isResponsive?"36px":"auto";n.showRoundedCorner=this.model.showRoundedCorner;this._toolBarItems.ejToolbar(n);this._toolBarObj=this._toolBarItems.ejToolbar("instance")},_crateToolbarTemplate:function(){var i,r,u;this._toolBarItems=t.buildTag("div#"+this._rteId+"_toolbar").appendTo(this._rteToolbar).height(30);for(i in this._toolsList)i=this._toolsList[i],t.isNullOrUndefined(this.model.tools[i])||(i=="customTool"?t.isNullOrUndefined(this.model.tools[i])||this._customTools(this.model.tools[i]):this.model.tools[i].length>0&&this._createToolsItems(this.model.tools[i],i));this.model.fileBrowser.filePath!=""&&(r=t.buildTag("ul#"+this._rteId+"-file-exporer"),u=n("<li id='"+this._rteId+"fileBrowser' class='e-rte-explorer e-rteItem-fileBrowser' title='"+this._getLocalizedLabels("fileBrowser")+"' ><div class='e-rte-toolbar-icon e-fileBrowser' unselectable = 'on'><\/div><\/li>"),u.appendTo(r),r.appendTo(this._toolBarItems))},_createToolsItems:function(i,r){var f=t.buildTag("ul#"+(this._rteId+r)),e,u;for(r=="font"&&f.addClass("e-rte-fontgroup"),r=="formatStyle"&&f.addClass("e-rte-format"),u=0;u<i.length;u++)e=n("<li id='"+(this._rteId+i[u].replace(/ /g,""))+"' class='e-rteItem-"+i[u]+"' ><div class='e-rte-toolbar-icon "+i[u]+"' unselectable = 'on'><\/div><\/li>"),i[u]==="video"&&t.browserInfo().name==="msie"&&t.browserInfo().version==="8.0"?e.attr("title",this._getLocalizedLabels("html5Support")):e.attr("title",this._getLocalizedLabels(i[u].replace(/ /g,""))),e.appendTo(f);f.appendTo(this._toolBarItems);r!="font"||this.model.showFontOption||f.hide()},_customTools:function(i){for(var e,f,u,r=0;r<i.length;r++)e=t.buildTag("ul"),f=n("<li id='"+i[r].name+"' title='"+i[r].tooltip+"' ><div class='"+(t.isNullOrUndefined(i[r].css)?"":i[r].css)+"'>"+i[r].name+"<\/div><\/li>"),u=i[r].action,typeof u=="string"&&(u=t.util.getObject(u,window)),t.isNullOrUndefined(i[r].action)||this._on(f,"click",u),n(i[r].template).appendTo(f.find("div")),f.appendTo(e),e.appendTo(this._toolBarItems)},_initToolBarItems:function(){this._rteToolbar.find("li.e-rteItem-format").length>0&&this._renderFormat();this._rteToolbar.find("li.e-rteItem-createLink").length>0&&this._renderLinkDialog();this._rteToolbar.find("li.e-rteItem-video").length>0&&this._renderVideoDialog();this._rteToolbar.find("li.e-rteItem-image").length>0&&this._renderImageDialog();this._rteToolbar.find("li.e-rteItem-createTable").length>0&&this._renderTableDialog();this._rteToolbar.find("li.e-rteItem-fontName").length>0&&this._renderFontStyle();this._rteToolbar.find("li.e-rteItem-fontSize").length>0&&this._renderFontSize();this._rteToolbar.find("li.e-rteItem-fontColor").length>0&&this._renderFontColor();this._rteToolbar.find("li.e-rteItem-backgroundColor").length>0&&this._renderBGColor();this._rteToolbar.find("li.e-rteItem-createTable").length>0&&this._renderEditTableDialog();this._rteToolbar.find("li.e-rteItem-fileBrowser").length>0&&this._renderFileBrowserDialog();this.model.showClearAll||this._rteToolbar.find("li.e-rteItem-clearAll").hide()},_renderToolBarItems:function(){this._toolBarObj.disableItemByID(this._rteId+"undo");this._toolBarObj.disableItemByID(this._rteId+"redo");this.model.enableRTL?this._toolBarObj.selectItemByID(this._rteId+"justifyRight"):this._toolBarObj.selectItemByID(this._rteId+"justifyLeft");var n=this._rteToolbar.find("li.e-rteItem-addColumnLeft,li.e-rteItem-addColumnRight,li.e-rteItem-addRowAbove,li.e-rteItem-addRowBelow,li.e-rteItem-deleteRow,li.e-rteItem-deleteColumn,li.e-rteItem-deleteTable");this.model.isResponsive&&n.length==0?this._toolBarObj._liTemplte.find("li.e-rteItem-addColumnLeft,li.e-rteItem-addColumnRight,li.e-rteItem-addRowAbove,li.e-rteItem-addRowBelow,li.e-rteItem-deleteRow,li.e-rteItem-deleteColumn,li.e-rteItem-deleteTable").hide():this._rteToolbar.find("li.e-rteItem-addColumnLeft,li.e-rteItem-addColumnRight,li.e-rteItem-addRowAbove,li.e-rteItem-addRowBelow,li.e-rteItem-deleteRow,li.e-rteItem-deleteColumn,li.e-rteItem-deleteTable").hide()},_renderEditArea:function(){this._rteEditor=t.buildTag("div.editarea #"+this._rteId+"_editor").appendTo(this._rteWapper);this._rteIframe=t.buildTag("iframe.content-iframe #"+this._rteId+"_Iframe","",{},{frameborder:"0"}).appendTo(this._rteEditor);this._setIFrames();navigator.userAgent.match(/iPad/i)!=null&&this._rteEditor.addClass("e-ipadscroll")},_xhtmlTagValidation:function(){var e,o,n,f,r,t;if(this.model.value!=null){if(this.model.value=this.model.value.replace(/\r/gi," ").replace(/\n/gi,"<br/> ").replace(/\r\n/gi," ").replace(/( )+/gi," ").replace(/&nbsp;/gi," ").replace(/&bull;/gi,"*").replace(/&ltquo;/gi,"<").replace(/&rtquo;/gi,">").replace(/&trze;/gi,"(tm)").replace(/&copy;/gi,"(c)").replace(/&reg;/gi,"(r)"),this.model.value.indexOf("<body>")!=-1&&(e=this.model.value.indexOf("<body>"),o=this.model.value.slice(0,e+6),this.model.value=this.model.value.replace(o,""),this.model.value=this.model.value.replace("<\/body><\/html>","")),n=this.model.value,n=n.replace(/<br>/g,"<br/>").replace(/<hr>/g,"<hr/>"),n=this._imageXhtml(n),n=this._styleXhtml(n),n=this._startXhtml(n),n.indexOf("alt=")!=-1){for(var a=/alt=\"(.*?)\"/ig,u=[],s,h=0;(s=a.exec(n))!=null;)u[h]=s[0],h++;for(t=0;t<u.length;t++)n=n.replace(u[t],'alt=""')}if(n=this._fontXhtml(n),n.indexOf("ol")!=-1){for(var v=/<ol(.*)<\/ol>/ig,c,l=0,i=[];(c=v.exec(n))!==null;)i[l]=c[0].toString(),l++;for(f=[],r=0;r<i.length;r++)f[r]=i[r];for(t=0;t<i.length;t++)i[t]=i[t].replace(/<br\/>/gi,"");for(t=0;t<i.length;t++)n=n.replace(f[t],i[t])}n=n.replace(/<o:p>/gi,"").replace(/<\/o:p>/gi,"");this.model.value=n}},_setIFrames:function(){var i=null,r,u;this.value()!=null&&this.value()!=""&&(i=this.value().replace(/'/g,'"'));i==null&&this.value(n.trim(this.element[0].value));this.model.enableXHTML&&this._xhtmlTagValidation();r=t.browserInfo().name=="msie"&&parseInt(t.browserInfo().version)==8;u="<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:-1px 5px 0;height:100%;min-height:100%;padding-top:1px;font-size: 13px;font-family:Segoe UI;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;}"+(r?"html{padding-top:0px}":"")+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+(this.model.enableRTL?"ul,ol{padding:0 2.5em 0 0}":"ul,ol{padding:0 0 0 2.5em}")+"a{color:#00a} blockquote{margin-right: 0}.e-rte-table{margin: 0.2em 0 0.5em;border: 1px solid;}.e-rte-table caption{border: 1px solid;border-bottom:none}.e-rte-table,.e-rte-table td{outline:0; min-height:1px;vertical-align: top;text-indent: 5px;} .e-rte-table p{margin:0;padding:0;}<\/style><\/head><body autocorrect='off' contenteditable="+(this.model.allowEditing?"true":"false")+">"+n.trim(this.value())+"<\/body><\/html>";this._rteIframe.css({width:"100%"});this.element[0].value=="<div><\/div>"&&(this.element[0].innerHTML=this.value());this._setContent(u);(!t.isNullOrUndefined(this.model.undoStackLimit)||this.model.undoStackLimit!==""||this.model.undoStackLimit>0)&&(this._backupArray[0]=this.getHtml())},_setIframeHeight:function(){var i=(!t.isNullOrUndefined(this._rteToolbar)&&this._rteToolbar.is(":visible")?this._rteToolbar.outerHeight():6)+(!t.isNullOrUndefined(this._rteFooter)&&this._rteFooter.is(":visible")?this._rteFooter.outerHeight():0);this._rteIframe.height(i==0?this.model.height:this._rteWapper.outerHeight()-i-(parseInt(this.model.showToolbar?n(".e-rte .e-toolbarspan").css("border-bottom-width"):0)+parseInt(n(".e-rte-wrapper").css("border-bottom-width"))+parseInt(n(".e-rte-wrapper").css("border-top-width"))+parseInt(this.model.showFooter?n(".e-rte-footer").css("border-top-width"):0)));n("div#"+this._rteId+"_editor").css("height",n("div.e-ipadscroll#"+this._rteId+"_editor").height())},_renderFooter:function(){var r=this.model,i,n;this._rteFooter=t.buildTag("div.e-rte-footer #"+this._rteId+"_footer").appendTo(this._rteWapper);i=t.buildTag("div.e-rte-footer-left");this._htmlSource=t.buildTag("div.e-rte-icons e-rte-footeritems e-rte-footericon e-rte-source","",{},{title:this._getLocalizedLabels("viewHtml")}).appendTo(i);this._htmlInfo=t.buildTag("div.e-rte-htmltaginfo e-rte-footeritems").appendTo(i);i.appendTo(this._rteFooter);n=t.buildTag("div.e-rte-footer-right");this._wordCount=t.buildTag("div.e-rte-wordcount e-rte-footeritems").appendTo(n);this._clearFormat=t.buildTag("div.e-rte-icons clearFormat e-rte-footericon e-rte-footeritems","",{},{title:this._getLocalizedLabels("clearFormat")}).appendTo(n);this._clearAll=t.buildTag("div.e-rte-icons clearAll e-rte-footericon e-rte-footeritems","",{},{title:this._getLocalizedLabels("clearAll")}).appendTo(n);this._resize=t.buildTag("div.e-icons e-rte-resize e-rte-footeritems").appendTo(n);n.appendTo(this._rteFooter);this._footerEvents("_on");this.model.showHtmlSource||this._htmlSource.hide().removeClass("e-rte-footeritems");this.model.showHtmlTagInfo||this._htmlInfo.hide().removeClass("e-rte-footeritems");this.model.showWordCount||this._wordCount.hide().removeClass("e-rte-footeritems");this.model.showClearAll||this._clearAll.hide().removeClass("e-rte-footeritems");this.model.showClearFormat||this._clearFormat.hide().removeClass("e-rte-footeritems");r.showFooter&&this.model.enableRTL&&this._rteFooter.addClass("e-rtl");r.enableResize?this._enableResize():this._resize.hide().removeClass("e-rte-footeritems");this._updateCharCount()},_footerElement:function(n,t){if(this.model.showFooter){var i=this._rteFooter.find(n);t?i.show().addClass("e-rte-footeritems"):i.hide().addClass("e-rte-footeritems")}},_updateColorPalette:function(){var t=n("ul#"+this._rteId+"_colorTable"),i=n("ul#"+this._rteId+"_colorBGTable");t.find("div.e-rte-table").remove();t.find("li").append(this._colorTable());i.find("div.e-rte-table").remove();i.find("li").append(this._colorTable())},_enableRTL:function(n){n?this._rteIframe.contents().find("body").css("direction","rtl"):this._rteIframe.contents().find("body").css("direction","ltr");this._subControlsSetModel("enableRTL",n)},_roundedCorner:function(n){n?this._rteWapper.addClass("e-corner-all"):this._rteWapper.hasClass("e-corner-all")&&this._rteWapper.removeClass("e-corner-all");this._subControlsSetModel("showRoundedCorner",n)},_subControlsSetModel:function(n,i){t.isNullOrUndefined(this._formatDDL)||this._formatDDL.ejDropDownList("option",n,i);t.isNullOrUndefined(this._fontStyleDDL)||this._fontStyleDDL.ejDropDownList("option",n,i);t.isNullOrUndefined(this._fontSizeDDL)||this._fontSizeDDL.ejDropDownList("option",n,i);t.isNullOrUndefined(this._fontColorSplit)||this._fontColorSplit.ejSplitButton("option",n,i);t.isNullOrUndefined(this._bgColorSplit)||this._bgColorSplit.ejSplitButton("option",n,i);t.isNullOrUndefined(this._toolBarItems)||(n=="showRoundedCorner"&&this._toolBarItems.hasClass("e-corner-top")&&this._toolBarItems.removeClass("e-corner-top").addClass("e-corner-all"),this._toolBarItems.ejToolbar("option",n,i),n=="showRoundedCorner"&&this._toolBarItems.hasClass("e-corner-all")&&this._toolBarItems.removeClass("e-corner-all").addClass("e-corner-top"));t.isNullOrUndefined(this._linkDialog)||(this._linkDialog.ejDialog("option",n,i),this._linkDialog.find(".e-rte-btn").ejButton("option",n,i),this._chkTarget.ejCheckBox("option",n,i),n=="showRoundedCorner"&&(i==!0?this._linkDialog.find(".e-inputtext").addClass("e-corner-all"):this._linkDialog.find(".e-inputtext").removeClass("e-corner-all")));t.isNullOrUndefined(this._imgDialog)||(this._imgDialog.ejDialog("option",n,i),this._imgDialog.find("div.e-rte-imageTab").ejTab("option",n,i),this._imgDialog.find(".e-rte-imgBorderPx").ejNumericTextbox("option",n,i),this._imgDialog.find(".e-rte-imgBorderStyle").ejDropDownList("option",n,i),this._chkImgDimensions.ejCheckBox("option",n,i),this._dialogchkTarget.ejCheckBox("option",n,i),this._imgDialog.find(".e-rte-btn").ejButton("option",n,i),n=="showRoundedCorner"&&(i==!0?this._imgDialog.find(".e-inputtext").addClass("e-corner-all"):this._imgDialog.find(".e-inputtext").removeClass("e-corner-all")));t.isNullOrUndefined(this._videoDialog)||(this._videoDialog.ejDialog("option",n,i),this._videoDialog.find(".e-rte-btn").ejButton("option",n,i),this._chkvideoDimensions.ejCheckBox("option",n,i),n=="showRoundedCorner"&&(i==!0?this._videoDialog.find(".e-inputtext").addClass("e-corner-all"):this._videoDialog.find(".e-inputtext").removeClass("e-corner-all")));t.isNullOrUndefined(this._createTable)||this._createTable.ejDialog("option",n,i);t.isNullOrUndefined(this._sourceDialog)||(this._sourceDialog.ejDialog("option",n,i),this._sourceDialog.find(".e-rte-btn").ejButton("option",n,i),n=="showRoundedCorner"&&(i==!0?this._sourceDialog.find(".e-inputtext").addClass("e-corner-all"):this._sourceDialog.find(".e-inputtext").removeClass("e-corner-all")));t.isNullOrUndefined(this._alertWindow)||(this._alertWindow.ejDialog("option",n,i),this._alertWindow.find(".e-rte-btn").ejButton("option",n,i));t.isNullOrUndefined(this._customTableDialog)||(this._customTableDialog.ejDialog("option",n,i),this._customTableDialog.find(".e-rte-btn").ejButton("option",n,i),this._customTableDialog.find(".numerictextbox").ejNumericTextbox("option",n,i),this._customTableDialog.find(".e-rte-txtColumns").ejNumericTextbox("option",n,i),this._customTableDialog.find(".e-rte-ddlAlignment").ejDropDownList("option",n,i),this._customTableDialog.find(".e-rte-txtBorder").ejDropDownList("option",n,i),this._chkTblCaption.ejCheckBox("option",n,i),n=="showRoundedCorner"&&(i==!0?this._customTableDialog.find(".e-inputtext").addClass("e-corner-all"):this._customTableDialog.find(".e-inputtext").removeClass("e-corner-all")));t.isNullOrUndefined(this._eTblDialog)||(this._eTblDialog.ejDialog("option",n,i),this._eTblDialog.find(".e-numerictextbox").ejNumericTextbox("option",n,i),this._eTblDialog.find(".e-rte-dropdown").ejDropDownList("option",n,i),this._getTableObj("_Tab").ejTab("option",n,i),this._eTblDialog.find(".e-rte-btn").ejButton("option",n,i),this._eTblCaption.ejCheckBox("option",n,i),n=="showRoundedCorner"&&(i==!0?this._eTblDialog.find(".e-inputtext").addClass("e-corner-all"):this._eTblDialog.find(".e-inputtext").removeClass("e-corner-all")));t.isNullOrUndefined(this._fileDialog)||(this._fileDialog.ejDialog("option",n,i),this._fileDialog.find(".e-rte-btn").ejButton("option",n,i),this._chkFileTarget.ejCheckBox("option",n,i),n=="showRoundedCorner"&&(i==!0?this._fileDialog.find(".e-inputtext").addClass("e-corner-all"):this._fileDialog.find(".e-inputtext").removeClass("e-corner-all")))},_createHtmlSource:function(){t.isNullOrUndefined(this._htmlSource)?(this._htmlSource=t.buildTag("div.e-rte-icons e-rte-footeritems e-rte-source").appendTo(this._rteFooter),this._on(this._htmlSource,"click",this._sourceCodeManager),this._renderSourceDialog()):this._htmlSource.show()},_createHtmlTagsInfo:function(){t.isNullOrUndefined(this._htmlInfo)?this._htmlInfo=t.buildTag("div.e-rte-htmltaginfo e-rte-footeritems").appendTo(this._rteFooter):this._htmlInfo.show()},_createWordCount:function(){t.isNullOrUndefined(this._wordCount)?this._wordCount=t.buildTag("div.e-rte-wordcount e-rte-footeritems").appendTo(this._rteFooter):this._wordCount.show()},_enableResize:function(){this.model.enableResize&&this.model.enabled&&(this._rteWapper.addClass("e-resizable"),this._resizeRTE())},_resizeRTE:function(){var i=this;this._overlayElement=t.buildTag("div.e-rte-overlay");this._rteEditor.css("position","relative");this._rteWapper.find("div.e-rte-resize").ejResizable({minHeight:parseInt(i.model.minHeight),minWidth:parseInt(i.model.minWidth),maxHeight:parseInt(i.model.maxHeight),maxWidth:parseInt(i.model.maxWidth),resizeStart:function(n){i._rteEditor.append(i._overlayElement);i._trigger("resizeStart",{event:n})},resize:function(t){var r=n(t.element).parents("div.e-rte-wrapper");i._rteWapper.height(n(r).height());i._rteWapper.width(n(r).width());i._setIframeHeight();i._trigger("resize",{event:t});i.model.isResponsive&&i._toolBarObj._reSizeHandler()},resizeStop:function(n){i._overlayElement.remove();i._trigger("resizeStop",{event:n})},helper:function(t){var r=n(t.element).parents("div.e-rte-wrapper");return i._rteWapper.height(n(r).height()),i._rteWapper.width(n(r).width()),i._setIframeHeight(),n(i._rteWapper)}})},_getDialogModel:function(){var n=this._rteWapper;return dialogModel={enableResize:!1,showOnInit:!1,enableModal:!0,cssClass:this.model.cssClass,content:n,enableRTL:this.model.enableRTL}},_labelFor:function(n){return this._rteId?" for="+this._rteId+n+" ":""},_TagId:function(n){return this._rteId?" id="+this._rteId+n+" ":""},_renderLinkDialog:function(){var i=this.model.enableRTL?"e-rtlrte":"",r=this._linkDialog=t.buildTag("div#"+this._rteId+"_link"),f=n("<div class='e-rte-label "+i+"'><label "+this._labelFor("_link_url")+">"+this._getLocalizedLabels("linkWebUrl")+"<\/label><\/div><div class='e-rte-field "+i+"'><input type='text'  data-role ='none' class='e-inputtext e-rte-linkUrl' "+this._TagId("_link_url")+"/><\/div><div class='e-rte-label "+i+"'><label "+this._labelFor("_link_text")+">"+this._getLocalizedLabels("linkText")+"<\/label><\/div><div class='e-rte-field "+i+"'><input type='text' data-role ='none' class='e-inputtext e-rte-linkText' "+this._TagId("_link_text")+"><\/div><div class='e-rte-label "+i+"'><label "+this._labelFor("_link_title")+">"+this._getLocalizedLabels("linkToolTip")+" <\/label><\/div><div class='e-rte-field "+i+"'><input type='text' data-role ='none' class='e-inputtext e-rte-linkTitle' "+this._TagId("_link_title")+"><\/div><div class='e-rte-label "+i+"'><\/div><div class='e-rte-field "+i+"'><input type='checkbox' class='e-rte-linkTarget'  data-role ='none' "+this._TagId("_link_target")+"><label "+this._labelFor("_link_target")+" style='padding: 5px;'>"+this._getLocalizedLabels("linkOpenInNewWindow")+"<\/label><\/div><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn "+i+"' type='button' data-role ='none' id='link_insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn "+i+"'type='button' data-role ='none' id='link_cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>"),u;f.appendTo(r);r.appendTo(this._rteWapper);u=this._getDialogModel();u.title=this._getLocalizedLabels("createLink");u.content=null;u.closeIconTooltip=this._getLocalizedLabels("closeIcon");u.showRoundedCorner=this.model.showRoundedCorner;r.ejDialog(u);n(n(r.parents()).find(".e-dialog-wrap")).addClass("e-rte");this.model.showRoundedCorner&&r.find(".e-inputtext").addClass("e-corner-all");this._chkTarget=r.find(".e-rte-linkTarget");this._chkTarget.ejCheckBox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});r.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(r.find(".e-rte-btn"),"click",this._linkBtnClick);this._on(this._linkDialog.find(".e-rte-linkUrl"),"keypress",this._urlValidation)},_renderImageDialog:function(){var u=this,o="",i,f,r,e;this._imgDialog=t.buildTag("div#"+this._rteId+"_Image");i=this.model.enableRTL?"e-rtlrte":"";f="<div "+this._TagId("_img_Tab")+" class='e-rte-imageTab'><ul><li class='e-first'><a href='#"+this._rteId+"_general'>"+this._getLocalizedLabels("general")+" <\/a><\/li><li class='e-nofirst'><a href='#"+this._rteId+"_advanced'>"+this._getLocalizedLabels("advanced")+" <\/a><\/li><\/ul><div id='"+this._rteId+"_general'><div class='e-img-field-group'><div class='e-rte-label "+i+"'><label "+this._labelFor("_img_url")+">"+this._getLocalizedLabels("imageWebUrl")+" <\/label><\/div><div class='e-rte-field "+i+"'><input type='text'  data-role ='none' class='e-inputtext e-rte-imgUrl' "+this._TagId("_img_url")+"><\/div><\/div><div class='e-img-field-group'><div class='e-rte-label "+i+"'><label "+this._labelFor("_img_text")+">"+this._getLocalizedLabels("imageAltText")+" <\/label><\/div><div class='e-rte-field "+i+"'><input type='text'  data-role ='none'  class='e-inputtext e-rte-imgText' "+this._TagId("_img_text")+"><\/div><\/div><div class='e-rte-imgdimensions' "+this._TagId("_imgdimensions")+"><div class='e-rte-label "+i+"'><label>"+this._getLocalizedLabels("dimensions")+" <\/label><\/div><div class='e-rte-field "+i+"'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("dimensions")+"'  data-role ='none' class='e-inputtext e-dimensions e-rte-imgX' maxlength='3' "+this._TagId("_imgX")+"><label style='padding: 5px;'>X<\/label><input type='text'  data-role ='none'  title='"+this._getLocalizedLabels("dimensions")+"' style='margin-right: 5px;' class='e-inputtext e-dimensions e-rte-imgY' maxlength='3' "+this._TagId("_imgY")+"><\/div><input type='checkbox' class='e-rte-imgConsrn' data-role ='none'"+this._TagId("_img_consrn")+"<label "+this._labelFor("_img_consrn")+"  style='padding: 5px;'>"+this._getLocalizedLabels("constrainProportions")+"<\/label><\/div><\/div><div id='"+this._rteId+"_advanced'><div class='e-img-field-group'><div class='e-rte-label "+i+"'><label "+this._labelFor("_img_link")+">"+this._getLocalizedLabels("imageLink")+" <\/label><\/div><div class='e-rte-field "+i+"'><input type='text'  data-role ='none' class='e-inputtext e-rte-imgLink' "+this._TagId("_img_link")+"><\/div><\/div><div class='e-img-field-group'><div class='e-rte-label "+i+"'><label "+this._labelFor("_img_border_px")+">"+this._getLocalizedLabels("imageBorder")+"<\/label><\/div><div class='e-rte-field "+i+"'><div class='e-img-border-field'><input type='text' data-role ='none' title='"+this._getLocalizedLabels("imageBorder")+"' class='e-rte-imgBorderPx' maxlength='3' "+this._TagId("_img_border_px")+"><\/div><div class='e-img-border-field'><select class='e-rte-imgBorderStyle'  data-role ='none' "+this._TagId("_img_border_style")+"><option value='solid'>"+this._getLocalizedLabels("solid")+"<\/option><option value='dotted'>"+this._getLocalizedLabels("dotted")+"<\/option><option value='dashed'>"+this._getLocalizedLabels("dashed")+"<\/option><option value='double'>"+this._getLocalizedLabels("doubled")+"<\/option><\/select><\/div><div class='e-img-border-field'><input  data-role ='none' type='text' title='"+this._getLocalizedLabels("imageBorder")+"' class='e-inputtext e-rte-imgBorderColor' "+this._TagId("_img_border_color")+"><\/div><\/div><\/div><div class='e-img-field-group'><div class='e-rte-label "+i+"'><label "+this._labelFor("_img_style")+">"+this._getLocalizedLabels("imageStyle")+" <\/label><\/div><div class='e-rte-field "+i+"'><input type='text' data-role ='none'  class='e-inputtext e-rte-imgStyle' "+this._TagId("_img_style")+"><\/div><\/div><div class='e-img-field-group'><div class='e-rte-label "+i+"'><\/div><div class='e-rte-field "+i+"'><input type='checkbox' class='e-rte-imgLinkTarget' data-role ='none' "+this._TagId("_img_link_target")+"><label "+this._labelFor("_img_link_target")+" style='padding: 5px;'>"+this._getLocalizedLabels("linkOpenInNewWindow")+"<\/label><\/div><\/div><\/div><\/div><div class='e-rte-button'><button class='e-rte-btn "+i+"' data-role ='none'  type='button' id='"+this._rteId+"_img_insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn "+i+"' type='button' data-role ='none' id='"+this._rteId+"_img_cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>";this.model.imageBrowser.filePath!=""&&(o="<div "+this._TagId("_img_explorer")+" class='e-rte-explorer e-rte-imgBrowser'><\/div>");f=n(o+f);f.appendTo(this._imgDialog);this._imgDialog.appendTo(this._rteWapper);this.model.showDimensions||this._rteWapper.find("div.e-rte-imgdimensions").hide();r=this._getDialogModel();r.width=r.width=this.model.imageBrowser.filePath!==""?"720px":"470px";r.title=this._getLocalizedLabels("image");r.content=null;r.closeIconTooltip=this._getLocalizedLabels("closeIcon");r.showRoundedCorner=this.model.showRoundedCorner;r.open=function(){t.isNullOrUndefined(u._imgSplitObj)||u._imgSplitObj.option("enableAutoResize",!0)};r.close=function(){t.isNullOrUndefined(u._imgSplitObj)||u._imgSplitObj.option("enableAutoResize",!1)};this._imgDialog.ejDialog(r);this._imgDialog.parents("#"+this._rteId+"_Image_wrapper").css({visibility:"hidden",display:"block"});n(n(this._imgDialog.parents()).find(".e-dialog-wrap")).addClass("e-rte");this.model.imageBrowser.filePath!=""&&(e={upload:{url:this.model.imageBrowser.uploadAction}},this.model.imageBrowser.ajaxSettings&&n.extend(!0,e,this.model.imageBrowser.ajaxSettings),this._explorerObj=this._imgDialog.find("div.e-rte-imgBrowser").ejFileExplorer({allowMultiSelection:!1,enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"690px",height:"300px",path:this.model.imageBrowser.filePath,fileTypes:this.model.imageBrowser.extensionAllow,layout:"list",select:function(n){u._UpdateImgDetails(n)},tools:{creation:["NewFolder","Open"],navigation:["Back","Forward"],addressBar:["Addressbar"],editing:["Refresh","Upload","Delete"],searchBar:["Searchbar"]},toolsList:["creation","navigation","addressBar","editing","searchBar"],enableResize:!1,showContextMenu:!1,ajaxAction:this.model.imageBrowser.ajaxAction,locale:this.model.locale,ajaxSettings:e}).data("ejFileExplorer"),this._imgSplitObj=this._imgDialog.find(".e-splitter").data("ejSplitter"),this._imgSplitObj.option("enableAutoResize",!1));this.model.showRoundedCorner&&this._imgDialog.find(".e-inputtext").addClass("e-corner-all");this._imgDialog.find("div.e-rte-imageTab").ejTab({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",enabled:!0,showRoundedCorner:this.model.showRoundedCorner});this._imgDialog.find(".e-rte-imgBorderPx").ejNumericTextbox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",minValue:0,value:0,showRoundedCorner:this.model.showRoundedCorner});this._imgDialog.find(".e-rte-imgBorderStyle").ejDropDownList({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",enabled:!0,showRoundedCorner:this.model.showRoundedCorner});this._chkImgDimensions=this._imgDialog.find(".e-rte-imgConsrn");this._chkImgDimensions.ejCheckBox({check:!0,enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._imgDialog.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._imgPicker=this._imgDialog.find(".e-rte-imgBorderColor").ejColorPicker({cssClass:this.model.cssClass,modelType:"palette",buttonText:{apply:this._getLocalizedLabels("buttonApply"),cancel:this._getLocalizedLabels("buttonCancel")}}).data("ejColorPicker");this._imgDialog.parents("#"+this._rteId+"_Image_wrapper").css({visibility:"visible",display:"none"});this._dialogchkTarget=this._imgDialog.find(".e-rte-imgLinkTarget");this._dialogchkTarget.ejCheckBox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._imgDialog.find(".e-rte-btn"),"click",this._imageBtnClick);this._on(this._imgDialog.find(".e-rte-imgUrl"),"keypress",this._urlValidation);this._on(this._imgDialog.find("input.e-dimensions"),"change",this._recalcImgSize)},_renderFileBrowserDialog:function(){var u=this,o="",r=this.model.enableRTL?"e-rtlrte":"",f,i,e;this._fileDialog=t.buildTag("div#"+this._rteId+"_fileDialog");f="<div class='e-rte-elements'><div class='e-rte-label "+r+"'><label "+this._labelFor("_file_url")+">"+this._getLocalizedLabels("linkWebUrl")+"<\/label><\/div><div class='e-rte-field "+r+"'><input type='text'  data-role ='none' class='e-inputtext e-rte-fileUrl' "+this._TagId("_file_url")+"/><\/div><div class='e-rte-label "+r+"'><label "+this._labelFor("_file_text")+">"+this._getLocalizedLabels("linkText")+"<\/label><\/div><div class='e-rte-field "+r+"'><input type='text' data-role ='none' class='e-inputtext e-rte-fileText' "+this._TagId("_file_text")+"><\/div> <\/div><div class='e-rte-field'><input type='checkbox' class='e-rte-fileTarget'  data-role ='none' "+this._TagId("_file_target")+"><label "+this._labelFor("_link_target")+" style='padding: 5px;'>"+this._getLocalizedLabels("linkOpenInNewWindow")+"<\/label><\/div><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn "+r+"' type='button' data-role ='none' id='"+this._rteId+"_file_insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn "+r+"'type='button' data-role ='none' id='"+this._rteId+"_file_cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>";o="<div "+this._TagId("_file_explorer")+" class='e-rte-explorer e-rte-fileBrowser'><\/div>";f=n(o+f);f.appendTo(this._fileDialog);this._fileDialog.appendTo(this._rteWapper);i=this._getDialogModel();i.width="720px";i.title=this._getLocalizedLabels("fileBrowser");i.content=null;i.showRoundedCorner=this.model.showRoundedCorner;i.open=function(){t.isNullOrUndefined(u._fileSplitObj)||u._fileSplitObj.option("enableAutoResize",!0)};i.close=function(){t.isNullOrUndefined(u._fileSplitObj)||u._fileSplitObj.option("enableAutoResize",!1)};this._fileDialog.ejDialog(i);this._fileDialog.parents("#"+this._rteId+"_fileDialog_wrapper").css({visibility:"hidden",display:"block"});n(n(this._fileDialog.parents()).find(".e-dialog-wrap")).addClass("e-rte");e={upload:{url:this.model.fileBrowser.uploadAction}};this.model.fileBrowser.ajaxSettings&&n.extend(!0,e,this.model.fileBrowser.ajaxSettings);this._fileBrowserObj=this._fileDialog.find("div.e-rte-fileBrowser").ejFileExplorer({allowMultiSelection:!1,enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"690px",height:"300px",path:this.model.fileBrowser.filePath,fileTypes:this.model.fileBrowser.extensionAllow,layout:"list",select:function(n){u._UpdateFileDetails(n)},tools:{creation:["NewFolder","Open"],navigation:["Back","Forward"],addressBar:["Addressbar"],editing:["Refresh","Upload","Delete"],searchBar:["Searchbar"]},toolsList:["creation","navigation","addressBar","editing","searchBar"],enableResize:!1,showContextMenu:!1,ajaxAction:this.model.fileBrowser.ajaxAction,locale:this.model.locale,ajaxSettings:e}).data("ejFileExplorer");this._fileSplitObj=this._fileDialog.find(".e-splitter").data("ejSplitter");this._fileSplitObj.option("enableAutoResize",!1);this.model.showRoundedCorner&&this._fileDialog.find(".e-inputtext").addClass("e-corner-all");this._fileDialog.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._fileDialog.parents("#"+this._rteId+"_fileDialog_wrapper").css({visibility:"visible",display:"none"});this._chkFileTarget=f.find(".e-rte-fileTarget");this._chkFileTarget.ejCheckBox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._fileDialog.find(".e-rte-btn"),"click",this._fileBtnClick)},_UpdateImgDetails:function(t){n(this._imgURL).hasClass("e-error")&&this._imgURL.removeClass("e-error");t.path===""?this._imgURL.val("http://"):this._imgDialog.find("div.e-rte-imageTab").find(".e-rte-imgUrl").val(t.path+(t.name[0]?t.name[0]:""))},_UpdateFileDetails:function(t){n(this._fileURL).hasClass("e-error")&&this._fileURL.removeClass("e-error");t.path===""?this._fileURL.val("http://"):this._fileDialog.find(".e-rte-fileUrl").val(t.path+(t.name[0]?t.name[0]:""))},_fileBtnClick:function(n){n.target.id===this._rteId+"_file_cancel"?(this._clearFileFields(),this._fileDialog.ejDialog("close")):n.target.id===this._rteId+"_file_insert"&&(this._restoreSelection(this._selectionRange),this._fileDialog.find("e-rte-fileUrl").val()!=""?this._onInsertFileLink():this._linkDialog.ejDialog("close"),this._onChange(),this._setBackupData())},_clearFileFields:function(){this._fileURL=this._fileDialog.find(".e-rte-fileUrl");this._fileURL.val("http://");this._fileLinkText=this._fileDialog.find(".e-rte-fileText");this._fileLinkText.val("");this._chkFileTarget.ejCheckBox({check:!1})},_onGetInsertFileContent:function(n){this._selectedHTML=this._fileLinkText.val()===""?n:this._fileLinkText.val()},_onInsertFileLink:function(){var i,f,o=this._fileURL.val().match(/(ftp:|http:|https:)\/\//g),u=this._fileURL.val().startsWith("~")?this._fileURL.val().replace(this._fileURL.val().substr("0","1"),".."):this._fileURL.val(),r,e;if(t.isNullOrUndefined(o)&&u!==""||!t.isNullOrUndefined(o)&&o[0].length<u.length)r=this._isIE()?this._currentSelNode:this._getSelectedNode(),t.isNullOrUndefined(r)||r.tagName.toUpperCase()!="A"?t.isNullOrUndefined(r)||r.tagName.toUpperCase()!="IMG"?(i=t.buildTag("a","",{},{href:u}),i[0].target=this._chkFileTarget.ejCheckBox("isChecked")?"_blank":"_self",this._focus(),this._isIE()?(t.isNullOrUndefined(this._selectedHTML)?this._onGetInsertFileContent(u):this._selectedHTML.length==0&&this._onGetInsertFileContent(u),i[0].innerHTML=this._selectedHTML,f=i[0].outerHTML):(this._fileLinkText.val()===""?i.html(u):i.html(this._fileLinkText.val()),f=n("<div>").append(n(i).clone()).html()),f&&(this._isIE()?this._pasteHtml(f):this._getDocument().execCommand("inserthtml",!1,f),this._focus())):(e=n(r).parent("a")[0],t.isNullOrUndefined(e)?(i=t.buildTag("a","",{},{href:u}),n(r.outerHTML).appendTo(n(i)),n(r).replaceWith(n(i)),i[0].target=this._chkFileTarget.ejCheckBox("isChecked")?"_blank":"_self"):(e.href=u,e.target=this._chkFileTarget.ejCheckBox("isChecked")?"_blank":"_self")):(r.href=u,r.innerHTML=this._fileLinkText.val(),r.target=this._chkFileTarget.ejCheckBox("isChecked")?"_blank":"_self"),this._fileDialog.ejDialog("close");else return this._fileURL.addClass("e-error"),!1},_onFileImage:function(){var e=this._fileDialog.find(".e-rte-imgUrl"),s=this._fileDialog.find(".e-rte-imgText"),i=this,h,u;this._restoreSelection(this._selectionRange);var o="",f=i._fileDialog.find("e-rte-fileUrl").val(),r=i._isIE()?i._currentSelNode:i._getSelectedNode();if(t.isNullOrUndefined(r)||(o=r.nodeName.toUpperCase()),o!="p")h=n("<p>",{src:e.val(),error:function(){e.addClass("e-error")},success:function(){var u=t.buildTag("p"),r,e;if(f!="")if(i._isUrl(n.trim(f)))r=t.buildTag("a","",{},{href:f}),r[0].target=i._dialogchkTarget.ejCheckBox("isChecked")?"_blank":"_self",n(u[0].outerHTML).appendTo(r),u=r;else return i._imageLink.addClass("e-error"),!1;e=u[0].outerHTML;i.executeCommand("inserthtml",e)}});else if(r.src=e.val(),r.alt=s.val(),i._setImageProperties(n(r),imgX,imgY,imageStyle,borderPx,borderStyle,borderColor),u=n(r).parent("a"),f!="")if(i._isUrl(n.trim(f)))u.length>0?u.attr("href",f):(u=t.buildTag("a","",{},{href:f}),n(r.outerHTML).appendTo(u),n(r).replaceWith(u));else return i._imageLink.addClass("e-error"),!1;else u.length>0&&u.attr("href","");i._fileDialog.ejDialog("close")},_renderVideoDialog:function(){var r,u,i;this._videoDialog=t.buildTag("div#"+this._rteId+"_video");r=this.model.enableRTL?"e-rtlrte":"";u=n("<div><label>"+this._getLocalizedLabels("embedVideo")+"<\/label><\/div><textarea class='e-rte-video e-inputtext'  aria-label="+this._getLocalizedLabels("embedVideo")+"><\/textarea><div class='e-rte-videoDimensions'"+this._TagId("_videodimensions")+" style='margin-top:7px'><div class='e-rte-label'><label>"+this._getLocalizedLabels("dimensions")+" <\/label><\/div><div><input type='text'  data-role ='none' title='"+this._getLocalizedLabels("dimensions")+"' class='e-inputtext e-dimensions e-rte-videoX' maxlength='3' "+this._TagId("_videoX")+"><label style='padding: 5px;'>X<\/label><input type='text'  data-role ='none'  title='"+this._getLocalizedLabels("dimensions")+"' style='margin-right: 5px;' class='e-inputtext e-dimensions e-rte-videoY' maxlength='3'"+this._TagId("_videoY")+"><input type='checkbox' class='e-rte-videoConsrn' data-role ='none'"+this._TagId("_video_consrn")+"<label "+this._labelFor("_video_consrn")+"style='padding: 5px;'>"+this._getLocalizedLabels("constrainProportions")+"<\/label><\/div><\/div><div class='e-rte-button e-fieldseparate'><button id='video_insert'type='button' data-role ='none' class='e-rte-btn "+r+"'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button id='video_cancel' type='button' data-role ='none' class='e-rte-btn "+r+"'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>");u.appendTo(this._videoDialog);this._videoDialog.appendTo(this._rteWapper);this.model.showDimensions||this._rteWapper.find(".e-rte-videoDimensions").hide();i=this._getDialogModel();i.width="460px";i.closeIconTooltip=this._getLocalizedLabels("closeIcon");i.title=this._getLocalizedLabels("video");i.content=null;i.showRoundedCorner=this.model.showRoundedCorner;this._videoDialog.ejDialog(i);n(n(this._videoDialog.parents()).find(".e-dialog-wrap")).addClass("e-rte");this.model.showRoundedCorner&&this._videoDialog.find(".e-inputtext").addClass("e-corner-all");this._chkvideoDimensions=this._videoDialog.find(".e-rte-videoConsrn");this._chkvideoDimensions.ejCheckBox({checked:!0,enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._videoDialog.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._videoDialog.find(".e-rte-btn"),"click",this._insertVideo);this._on(this._videoDialog.find("input.e-dimensions"),"change",this._recalcVideoSize)},_renderTableDialog:function(){var i,n;this._createTable=t.buildTag("div.e-rte-table-picker#"+this._rteId+"_table");this._tblheaderDiv=t.buildTag("div.e-rte-tableheader");this._tblheaderDiv.html(this._getLocalizedLabels("createTable"));this._tblheaderDiv.appendTo(this._createTable);i=t.buildTag("div.e-rte-table");this._drawTable(i);i.appendTo(this._createTable);this._createCustomTable();this._createTable.appendTo(this._rteWapper);n=this._getDialogModel();n.enableModal=!1;n.showHeader=!1;n.width="230px";n.showRoundedCorner=this.model.showRoundedCorner;this._createTable.ejDialog(n)},_createCustomTable:function(){var r=n("<div class='customtable-group e-rte-createCustomTableLink' "+this._TagId("_createCustomTableLink")+"><span class='e-rte-toolbar-icon customtable-image'><\/span><a class='customtable-link' role='button' title='"+this._getLocalizedLabels("customTable")+"'>"+this._getLocalizedLabels("customTable")+"<\/a><\/div><div class='customtable-group e-rte-eTblProperties' "+this._TagId("_eTblProperties")+"><span class='e-rte-toolbar-icon customtable-image'><\/span><a class='customtable-link' role='button' title='"+this._getLocalizedLabels("editTable")+"'>"+this._getLocalizedLabels("editTable")+"<\/a><\/div>"),u,i;this._on(r,"click",this._openCustomTable);r.appendTo(this._createTable);this.model.showCustomTable||this._createTable.find("#"+this._rteId+"_createCustomTableLink").hide();this._customTableDialog=t.buildTag("div.e-rte-customtable#"+this._rteId+"_customTable");u=n("<div class='e-fieldgroup'><div class='e-rte-tablefields'><label "+this._labelFor("_txtColumns")+">"+this._getLocalizedLabels("tableColumns")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='numerictextbox e-rte-txtColumns' "+this._TagId("_txtColumns")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_txtRows")+">"+this._getLocalizedLabels("tableRows")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='numerictextbox e-rte-txtRows' "+this._TagId("_txtRows")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_txtWidth")+">"+this._getLocalizedLabels("tableWidth")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext e-rte-txtWidth'"+this._TagId("_txtWidth")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_txtHeight")+">"+this._getLocalizedLabels("tableHeight")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext e-rte-txtHeight'"+this._TagId("_txtHeight")+"><\/div><\/div><div class='e-fieldseparate'><div class='e-rte-tablefields'><label "+this._labelFor("_txtSpacing")+">"+this._getLocalizedLabels("tableCellSpacing")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext e-rte-txtSpacing' "+this._TagId("_txtSpacing")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_txtPadding")+">"+this._getLocalizedLabels("tableCellPadding")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext e-rte-txtPadding'"+this._TagId("_txtPadding")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_txtBorder")+">"+this._getLocalizedLabels("tableBorder")+"<\/label><\/div><div class='e-rte-tablefields'><select class='e-rte-txtBorder' data-role ='none' "+this._TagId("_txtBorder")+"><option value='solid'>Solid<\/option><option value='dotted'>Dotted<\/option><option value='dashed'>Dashed<\/option><option value='double'>Double<\/option><\/select><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_chkCaption")+">"+this._getLocalizedLabels("tableCaption")+"<\/label><\/div><div class='e-rte-tablefields'><input type='checkbox' class='e-rte-chkCaption'  data-role ='none'"+this._TagId("_chkCaption")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_ddlAlignment")+">"+this._getLocalizedLabels("tableAlignment")+"<\/label><\/div><div class='e-rte-tablefields'><select class='e-rte-ddlAlignment' data-role ='none' "+this._TagId("_ddlAlignment")+"><option value='left'>Left<\/option><option value='right'>Right<\/option><option value='center'>Center<\/option><\/select><\/div><\/div><div class='e-rte-button e-fieldseparate'><button class='e-rte-btn' data-role ='none' id='insert'>"+this._getLocalizedLabels("dialogInsert")+"<\/button><button class='e-rte-btn' data-role ='none' id='cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>");u.appendTo(this._customTableDialog);i=this._getDialogModel();i.width="480px";i.title=this._getLocalizedLabels("customTable");i.content=null;i.showRoundedCorner=this.model.showRoundedCorner;this._customTableDialog.ejDialog(i);n(n(this._customTableDialog.parents()).find(".e-dialog-wrap")).addClass("e-rte");this.model.showRoundedCorner&&this._customTableDialog.find(".e-inputtext").addClass("e-corner-all");this._createTable.find("div.e-rte-eTblProperties").addClass("e-disable");this._customTableDialog.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._customTableDialog.find(".numerictextbox").ejNumericTextbox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",minValue:1,value:3,showRoundedCorner:this.model.showRoundedCorner});this._customTableDialog.find(".e-rte-txtColumns").ejNumericTextbox({maxValue:63,showRoundedCorner:this.model.showRoundedCorner});this._customTableDialog.find(".e-rte-ddlAlignment").ejDropDownList({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",enabled:!1,showRoundedCorner:this.model.showRoundedCorner});this._customTableDialog.find(".e-rte-txtBorder").ejDropDownList({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",enabled:!0,showRoundedCorner:this.model.showRoundedCorner});this._chkTblCaption=this._customTableDialog.find(".e-rte-chkCaption");this._chkTblCaption.ejCheckBox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._customTableDialog.find(".e-rte-btn"),"click",this._insertCustomTable)},_renderEditTableDialog:function(){var i,u,r;this._eTblDialog=t.buildTag("div#"+this._rteId+"_eTbl");i=this._rteId;u=n("<div id='"+this._rteId+"_eTbl_Tab'><ul><li class='e-first'><a href='#"+this._rteId+"_eTblTable'>"+this._getLocalizedLabels("table")+" <\/a><\/li><li class='e-nofirst'><a href='#"+this._rteId+"_eTblRow'>"+this._getLocalizedLabels("row")+" <\/a><\/li><li class='e-nofirst'><a href='#"+this._rteId+"_eTblColumn'>"+this._getLocalizedLabels("column")+" <\/a><\/li><li class='e-nofirst'><a href='#"+this._rteId+"_eTblCell'>"+this._getLocalizedLabels("cell")+" <\/a><\/li><\/ul><div id='"+this._rteId+"_eTblTable'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblWidth")+">"+this._getLocalizedLabels("tableWidth")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblWidth")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblHeight")+">"+this._getLocalizedLabels("tableHeight")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblHeight")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCellSpace")+">"+this._getLocalizedLabels("tableCellSpacing")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext e-numerictextbox' "+this._TagId("_eTblCellSpace")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCellPad")+">"+this._getLocalizedLabels("tableCellPadding")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext e-numerictextbox' "+this._TagId("_eTblCellPad")+"><\/div><div class='e-rte-tablefields'><label  "+this._labelFor("_eTblAlign")+">"+this._getLocalizedLabels("tableAlignment")+"<\/label><\/div><div class='e-rte-tablefields'><select id='"+i+"_eTblAlign' data-role ='none'  class='e-rte-dropdown'><option value='left'>Left<\/option><option value='right'>Right<\/option><option value='center'>Center<\/option><\/select><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCaption")+">"+this._getLocalizedLabels("tableCaption")+"<\/label><\/div><div class='e-rte-tablefields'><input type='checkbox' data-role ='none' "+this._TagId("_eTblCaption")+"><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblBrdrPx")+">"+this._getLocalizedLabels("tableBorder")+"<\/label><\/div><div class='e-rte-stylefield'><div class='e-img-border-field'><input  data-role ='none' type='text' title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext e-numerictextbox' maxlength='3'  "+this._TagId("_eTblBrdrPx")+"><\/div><div class='e-img-border-field'><select "+this._TagId("_eTbl_border_style")+" class='e-rte-dropdown' data-role ='none' ><option value='solid'>Solid<\/option><option value='dotted'>Dotted<\/option><option value='dashed'>Dashed<\/option><option value='solid'>Double<\/option><\/select><\/div><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext' maxlength='7' "+this._TagId("_eTbl_border_color")+"><\/div><\/div><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblStyle")+">"+this._getLocalizedLabels("imageStyle")+" <\/label><\/div><div class='e-rte-stylefield'><input  data-role ='none' type='text' class='e-inputtext' "+this._TagId("_eTblStyle")+"><\/div><\/div><\/div><div id='"+i+"_eTblRow'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblRHeight")+">"+this._getLocalizedLabels("tableHeight")+"<\/label><\/div><div class='e-rte-tablefields'><input  data-role ='none' type='text' class='e-inputtext' "+this._TagId("_eTblRHeight")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblRAlign")+">"+this._getLocalizedLabels("textAlign")+"<\/label><\/div><div class='e-rte-tablefields'><select "+this._TagId("_eTblRAlign")+" data-role ='none'  class='e-rte-dropdown'><option value='left'>Left<\/option><option value='right'>Right<\/option><option value='center'>Center<\/option><\/select><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblRBrdrPx")+">"+this._getLocalizedLabels("tableBorder")+"<\/label><\/div><div class='e-rte-stylefield'><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext e-numerictextbox' maxlength='3'  "+this._TagId("_eTblRBrdrPx")+"><\/div><div class='e-img-border-field'><select "+this._TagId("_eTblRBrdrStyle")+" data-role ='none' class='e-rte-dropdown'><option value='solid'>Solid<\/option><option value='dotted'>Dotted<\/option><option value='dashed'>Dashed<\/option><option value='solid'>Double<\/option><\/select><\/div><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext' maxlength='7' "+this._TagId("_eTblRBrdrColor")+"><\/div><\/div><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblRStyle")+">"+this._getLocalizedLabels("imageStyle")+" <\/label><\/div><div class='e-rte-stylefield'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblRStyle")+"><\/div><\/div><\/div><div id='"+i+"_eTblColumn'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCWidth")+">"+this._getLocalizedLabels("tableWidth")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblCWidth")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCAlign")+">"+this._getLocalizedLabels("textAlign")+"<\/label><\/div><div class='e-rte-tablefields'><select "+this._TagId("_eTblCAlign")+" data-role ='none'  class='e-rte-dropdown'><option value='left'>Left<\/option><option value='right'>Right<\/option><option value='center'>Center<\/option><\/select><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCBrdrPx")+">"+this._getLocalizedLabels("tableBorder")+"<\/label><\/div><div class='e-rte-stylefield'><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext e-numerictextbox' maxlength='3'  "+this._TagId("_eTblCBrdrPx")+"><\/div><div class='e-img-border-field'><select "+this._TagId("_eTblCBrdrStyle")+" data-role ='none' class='e-rte-dropdown'><option value='solid'>Solid<\/option><option value='dotted'>Dotted<\/option><option value='dashed'>Dashed<\/option><option value='solid'>Double<\/option><\/select><\/div><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext' maxlength='7' "+this._TagId("_eTblCBrdrColor")+"><\/div><\/div><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblCStyle")+">"+this._getLocalizedLabels("imageStyle")+" <\/label><\/div><div class='e-rte-stylefield'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblCStyle")+"><\/div><\/div><\/div><div id='"+i+"_eTblCell'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblClWidth")+">"+this._getLocalizedLabels("tableWidth")+"<\/label><\/div><div class='e-rte-tablefields'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblCWidth")+"><\/div><div class='e-rte-tablefields'><label "+this._labelFor("_eTblClAlign")+">"+this._getLocalizedLabels("textAlign")+"<\/label><\/div><div class='e-rte-tablefields'><select "+this._TagId("_eTblClAlign")+" data-role ='none'  class='e-rte-dropdown'><option value='left'>Left<\/option><option value='right'>Right<\/option><option value='center'>Center<\/option><\/select><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblClBrdrPx")+">"+this._getLocalizedLabels("tableBorder")+"<\/label><\/div><div class='e-rte-stylefield'><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext e-numerictextbox' maxlength='3' "+this._TagId("_eTblClBrdrPx")+" ><\/div><div class='e-img-border-field'><select "+this._TagId("_eTblClBrdrStyle")+" data-role ='none' class='e-rte-dropdown'><option value='solid'>Solid<\/option><option value='dotted'>Dotted<\/option><option value='dashed'>Dashed<\/option><option value='solid'>Double<\/option><\/select><\/div><div class='e-img-border-field'><input type='text' data-role ='none'  title='"+this._getLocalizedLabels("tableBorder")+"' class='e-inputtext' maxlength='7' "+this._TagId("_eTblClBrdrColor")+"><\/div><\/div><\/div><div class='e-img-field-group'><div class='e-rte-tablefields'><label "+this._labelFor("_eTblClStyle")+">"+this._getLocalizedLabels("imageStyle")+" <\/label><\/div><div class='e-rte-stylefield'><input type='text' data-role ='none'  class='e-inputtext' "+this._TagId("_eTblClStyle")+"><\/div><\/div><\/div><\/div><div class='e-rte-button'><button class='e-rte-btn' data-role ='none' id='"+i+"_eTbl_apply'>"+this._getLocalizedLabels("dialogApply")+"<\/button><button class='e-rte-btn' data-role ='none' id='"+i+"_eTbl_cancel'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>");u.appendTo(this._eTblDialog);this._eTblDialog.appendTo(this._rteWapper);r=this._getDialogModel();r.width="470px";r.title=this._getLocalizedLabels("editTable");r.content=null;r.showRoundedCorner=this.model.showRoundedCorner;this._eTblDialog.ejDialog(r);n(n(this._eTblDialog.parents()).find(".e-dialog-wrap")).addClass("e-rte");this.model.showRoundedCorner&&this._eTblDialog.find(".e-inputtext").addClass("e-corner-all");this._eTblDialog.find(".e-numerictextbox").ejNumericTextbox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",minValue:0,value:0,showRoundedCorner:this.model.showRoundedCorner});this._eTblDialog.find(".e-rte-dropdown").ejDropDownList({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",showRoundedCorner:this.model.showRoundedCorner});this._eTblAlign=this._getTableObj("Align").data("ejDropDownList");this._eTblAlign.option("enabled",!1);this._getTableObj("_Tab").find("li:nth-child(3)").css("display","none");this._getTableObj("_Tab").ejTab({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,width:"100%",enabled:!0,showRoundedCorner:this.model.showRoundedCorner});this._eTblCaption=this._getTableObj("Caption");this._eTblCaption.ejCheckBox({enableRTL:this.model.enableRTL,cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._eTblDialog.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._eTblDialog.find(".e-rte-btn"),"click",this._eTblBtnClick)},_drawTable:function(n){for(var r,i=0;i<this.model.tableRows;i++){for(rowDiv=t.buildTag("div.e-rtetablerow"),r=0;r<this.model.tableColumns;r++)tableCell=t.buildTag("div.e-rte-tablecell e-default"),tableCell.appendTo(rowDiv);rowDiv.appendTo(n)}},_renderSourceDialog:function(){var r,i;this._sourceDialog=t.buildTag("div#"+this._rteId+"_Source");r=n("<textarea class='e-rte-srctextarea e-inputtext'><\/textarea><div class='e-rte-button e-fieldseparate'><button id='src_update' data-role ='none' class='e-rte-btn'>"+this._getLocalizedLabels("dialogUpdate")+"<\/button><button id='src_cancel' class='e-rte-btn'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>");r.appendTo(this._sourceDialog);i=this._getDialogModel();i.title=this._getLocalizedLabels("viewHtml");i.width="auto";i.content=null;i.showRoundedCorner=this.model.showRoundedCorner;this._sourceDialog.ejDialog(i);this.model.showRoundedCorner&&this._sourceDialog.find(".e-inputtext").addClass("e-corner-all");this._sourceDialog.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._sourceDialog.find(".e-rte-btn"),"click",this._srcBtnClick)},_renderAlertDialog:function(){var r,i;this._alertWindow=t.buildTag("div#"+this._rteId+"_Alert");r=n("<p class='e-alerttext'><\/p><div class='e-rte-button e-fieldseparate'><button data-role ='none' class='e-rte-btn e-alert-ok' type='button'>"+this._getLocalizedLabels("dialogOk")+"<\/button><button class='e-rte-btn e-alert-cancel' data-role='none'>"+this._getLocalizedLabels("dialogCancel")+"<\/button><\/div>");r.appendTo(this._alertWindow);i=this._getDialogModel();i.showHeader=!1;i.width="auto";i.content=null;i.showRoundedCorner=this.model.showRoundedCorner;this._alertWindow.ejDialog(i);n(n(this._alertWindow.parents()).find(".e-dialog-wrap")).addClass("e-rte");this._alertWindow.find(".e-rte-btn").ejButton({enableRTL:this.model.enableRTL,type:"button",cssClass:this.model.cssClass,showRoundedCorner:this.model.showRoundedCorner});this._on(this._alertWindow.find(".e-rte-btn"),"click",this._alertBtnClick);this._alertWindow.find(".e-alert-cancel").hide()},_alertBtnClick:function(t){if(n.trim(this._alertWindow.find(".e-alerttext").html())==this._getLocalizedLabels("deleteAlert")&&n(t.target).hasClass("e-alert-ok")){this._getDocument().body.innerHTML="";this.model.showToolbar&&this._toolBarObj.selectItemByID(this._rteId+"justifyLeft");this._setBackupData();this._updateCharCount();var i=this._isIE()?this._currentSelNode:this._getSelectedNode();this._updateTagInfo(i);this._onChange()}this._alertWindow.ejDialog("close");this._alertWindow.find(".e-alert-cancel").hide()},_openAlert:function(n){this._alertWindow.find(".e-alerttext").html(n);this._alertWindow.ejDialog("open")},_renderFormat:function(){this._formatDDL=t.buildTag("input#"+this._rteId+"_format","","",{type:"text",title:this._getLocalizedLabels("format"),"data-role":"none"});var n={};n.dataSource=this.model.format;n.width="105px";n.enableRTL=this.model.enableRTL;n.popupWidth="175px";n.popupHeight="auto";n.selectedItemIndex=0;n.popupHide=this._formatChange;n.cssClass="e-rte-format-ddl";n.showRoundedCorner=this.model.showRoundedCorner;n.fields={text:"text",value:"value",spriteCssClass:"spriteCssClass"};this._formatDDL.appendTo(this._rteToolbar.find("li.e-rteItem-format").html(""));this._formatDDL.ejDropDownList(n);this._formatPopupStyle()},_formatPopupStyle:function(){for(var i=n("#"+this._rteId+"_format_popup").find("li"),t=0;t<i.length;t++)n(i[t]).addClass(this.model.format[t].spriteCssClass)},_renderFontStyle:function(){this._fontStyleDDL=t.buildTag("input#"+this._rteId+"_fontName","","",{type:"text",title:this._getLocalizedLabels("fontName"),"data-role":"none"});var n={};n.dataSource=this.model.fontName;n.enableRTL=this.model.enableRTL;n.selectedItemIndex=0;n.popupHide=this._fontStyleChange;n.showRoundedCorner=this.model.showRoundedCorner;n.fields={text:"text",value:"value"};this._fontStyleDDL.appendTo(this._rteToolbar.find("li.e-rteItem-fontName").html(""));this._fontStyleDDL.ejDropDownList(n)},_renderFontSize:function(){this._fontSizeDDL=t.buildTag("input#"+this._rteId+"_fontSize","","",{type:"text",title:this._getLocalizedLabels("fontSize"),"data-role":"none"});var n={};n.dataSource=this.model.fontSize;n.width="100px";n.enableRTL=this.model.enableRTL;n.selectedItemIndex=1;n.popupHide=this._fontSizeChange;n.showRoundedCorner=this.model.showRoundedCorner;n.fields={text:"text",value:"value"};this._fontSizeDDL.appendTo(this._rteToolbar.find("li.e-rteItem-fontSize").html(""));this._fontSizeDDL.ejDropDownList(n)},_renderFontColor:function(){var f=this,u,i,r;this._fontColorSplit=t.buildTag("button#"+this._rteId+"_fontColor","",{},{type:"button","data-role":"none"});u=n("<ul id='"+this._rteId+"_colorTable' class='e-rte-colorpalette'><li><\/li><\/ul>");u.find("li").append(this._colorTable());i={};i.width="50px";i.contentType="textandimage";i.targetID=this._rteId+"_colorTable";i.enableRTL=this.model.enableRTL;i.prefixIcon="e-fontcolor-icon";i.showRoundedCorner=this.model.showRoundedCorner;this._fontColorSplit.appendTo(this._rteToolbar.find("li.e-rteItem-fontColor").html(""));r=n("#"+this._rteId+"_colorTable").get(0);r&&(n(r).parent().hasClass("e-menu-wrap")?n(r).parent().remove():n(r).remove());u.appendTo(this._rteToolbar.find("li.e-rteItem-fontColor"));this._fontColorSplit.ejSplitButton(i);this._splitObj=this._fontColorSplit.ejSplitButton("instance");this._splitObj.option("beforeOpen",function(){f._bindClickOperation("FontColor")});this._on(this._fontColorSplit,"click",this._fontColorClick);this._fontColorSplit.find("span.e-fontcolor-icon").removeClass("e-icon");this._fontColorSplit.find("span.e-btntxt").css("background-color",this._fontColor)},_renderBGColor:function(){var f=this,u,i,r;this._bgColorSplit=t.buildTag("button#"+this._rteId+"_backgroundColor","",{},{type:"button","data-role":"none"});u=n("<ul id='"+this._rteId+"_colorBGTable' class='e-rte-colorpalette'><li><\/li><\/ul>");u.find("li").append(this._colorTable());i={};i.width="50px";i.contentType="textandimage";i.targetID=this._rteId+"_colorBGTable";i.enableRTL=this.model.enableRTL;i.prefixIcon="e-bgcolor-icon";i.showRoundedCorner=this.model.showRoundedCorner;this._bgColorSplit.appendTo(this._rteToolbar.find("li.e-rteItem-backgroundColor").html(""));r=n("#"+this._rteId+"_colorBGTable").get(0);r&&(n(r).parent().hasClass("e-menu-wrap")?n(r).parent().remove():n(r).remove());u.appendTo(this._rteToolbar.find("li.e-rteItem-backgroundColor"));this._bgColorSplit.ejSplitButton(i);this._bgSplitObj=this._bgColorSplit.ejSplitButton("instance");this._bgSplitObj.option("beforeOpen",function(){f._bindClickOperation("BGColor")});this._on(this._bgColorSplit,"click",this._bgColorClick);this._bgColorSplit.find("span.e-bgcolor-icon").removeClass("e-icon");this._bgColorSplit.find("span.e-btntxt").css("background-color",this._bgColor)},_bindClickOperation:function(t){var i=this,u=t=="BGColor"?i._bgSplitObj:i._splitObj,r=t=="BGColor"?"_colorBGTable":"_colorTable";SplitMenu=n("#"+i._rteId+r).ejMenu("instance");t=="BGColor"?i._bgSplitMenu=SplitMenu:i._splitMenu=SplitMenu;SplitMenu.model.close=function(){u.contstatus=!1;i._off(n("#"+i._rteId+r).find("div.e-rte-palettetable"),"click",t=="BGColor"?i._bgColorPaletteClick:i._colorPaletteClick)};i._on(n("#"+i._rteId+r).find("div.e-rte-palettetable"),"click",t=="BGColor"?i._bgColorPaletteClick:i._colorPaletteClick)},_colorTable:function(){for(var u,f=t.buildTag("div.e-rte-table"),i=0,n,r,e=0;e<this.model.colorPaletteRows;e++){for(r=t.buildTag("div.e-rtetablerow"),u=0;u<this.model.colorPaletteColumns;u++)i<this.model.colorCode.length&&(n="#"+this.model.colorCode[i],tableCell=t.buildTag("div.e-rte-palettetable","",{"background-color":n},{title:n,"color-code":n}),tableCell.appendTo(r),i++);r.appendTo(f)}return f},_recalcVideoSize:function(n){var r,u,t,i;r=this._videoDialog.find(".e-rte-videoX");u=this._videoDialog.find(".e-rte-videoY");t=r.val();i=u.val();this._chkvideoDimensions.ejCheckBox("isChecked")&&this._videoWidth&&this._videoHeight&&t&&i&&(n.target.id==r[0].id?(i=Math.round(t/this._videoWidth*i),u.val(i)):(t=Math.round(i/this._videoHeight*t),r.val(t)));this._videoWidth=t;this._videoHeight=i},_recalcImgSize:function(n){var r,u,t,i;r=this._imgDialog.find(".e-rte-imgX");u=this._imgDialog.find(".e-rte-imgY");t=r.val();i=u.val();this._chkImgDimensions.ejCheckBox("isChecked")&&this._imgWidth&&this._imgHeight&&t&&i&&(n.target.id==r[0].id?(i=Math.round(t/this._imgWidth*i),u.val(i)):(t=Math.round(i/this._imgHeight*t),r.val(t)));this._imgWidth=t;this._imgHeight=i},_urlValidation:function(t){var i=n(t.target);i.hasClass("e-error")&&i.removeClass("e-error")},_linkBtnClick:function(n){n.target.id==="link_cancel"?(this._clearLinkFields(),this._linkDialog.ejDialog("close")):n.target.id==="link_insert"&&(this._restoreSelection(this._selectionRange),this._txtURL.val()!=""?this._onInsertLink():(this._onUnlink(),this._linkDialog.ejDialog("close")),this._onChange(),this._setBackupData())},_imageBtnClick:function(n){if(n.target.id===this._rteId+"_img_cancel")this._imgDialog.ejDialog("close");else if(n.target.id===this._rteId+"_img_insert"){var i=this._imgURL.val().match(/(ftp:|http:|https:)\/\//g);if(t.isNullOrUndefined(i)&&this._imgURL.val()!==""||!t.isNullOrUndefined(i)&&i[0].length<this._imgURL.val().length)this._onInsertImage(),this._onChange(),this._setBackupData();else return this._imgURL.addClass("e-error"),!1}},_srcBtnClick:function(t){if(t.target.id==="src_update"){var i=n.trim(this._sourceDialog.find("textarea.e-rte-srctextarea")[0].value);this._getDocument().body.innerHTML=i;this._onChange();this._updateCharCount()}this._sourceDialog.find("textarea.e-rte-srctextarea")[0].value="";this._sourceDialog.ejDialog("close")},_eTblBtnClick:function(n){n.target.id===this._rteId+"_eTbl_cancel"?this._eTblDialog.ejDialog("close"):n.target.id===this._rteId+"_eTbl_apply"&&(this._oneditTable(),this._onChange(),this._setBackupData())},_insertCustomTable:function(i){var f,r,u;if(i.target.id==="insert"){var e=this._customTableDialog.find(".e-rte-txtColumns").ejNumericTextbox("getValue"),o=this._customTableDialog.find(".e-rte-txtRows").ejNumericTextbox("getValue"),s=this._customTableDialog.find(".e-rte-txtHeight").val(),h=this._customTableDialog.find(".e-rte-txtWidth").val(),c=this._customTableDialog.find(".e-rte-ddlAlignment").ejDropDownList("getSelectedValue"),l=this._customTableDialog.find(".e-rte-txtSpacing").val(),a=this._customTableDialog.find(".e-rte-txtPadding").val(),v=this._customTableDialog.find(".e-rte-txtBorder").ejDropDownList("getSelectedValue"),y=this._chkTblCaption.ejCheckBox("isChecked");t.isNullOrUndefined(this._tableInsertAt)||t.isNullOrUndefined(this._tableInsertAt.startContainer)||this._restoreSelection(this._tableInsertAt);f=this._tableGenerator(o,e,!1,h,s,l,a,c,v,y);this.executeCommand("inserthtml",f);r=n(this._getDocument()).find("table.e-rte-table");r.attr("contentEditable",!1);r.find("td").attr("contentEditable",!0);u=this._customTableDialog.find(".e-rte-ddlAlignment").data("ejDropDownList");u.option("value")=="Center"&&r.attr("style","margin: 0 auto");this._onChange();u.option({value:"",enabled:!1})}this._customTableDialog.ejDialog("close");this._clearTableFields()},_clearTableFields:function(){this._customTableDialog.find(".e-rte-txtColumns").ejNumericTextbox("option","value",3);this._customTableDialog.find(".e-rte-txtRows").ejNumericTextbox("option","value",3);this._customTableDialog.find(".e-rte-txtHeight").val("");this._customTableDialog.find(".e-rte-txtWidth").val("");this._customTableDialog.find(".e-rte-ddlAlignment").ejDropDownList("clearText");this._customTableDialog.find(".e-rte-txtSpacing").val("");this._customTableDialog.find(".e-rte-txtPadding").val("");var n=this._customTableDialog.find(".e-rte-txtBorder").ejDropDownList("clearText"),t=this._chkTblCaption.ejCheckBox({check:!1})},_clearEditTableFields:function(){this._eTblHeight=this._eTblDialog.find("input").val("");this._eTblDialog.find(".e-numerictextbox").data("ejNumericTextbox").option("value","");this._eTblDialog.find(".e-rte-dropdown").data("ejDropDownList").option("value","");this._eTblAlign.disable();this._eTblCaption.ejCheckBox({check:!1})},_clearLinkFields:function(){this._txtURL=this._linkDialog.find(".e-rte-linkUrl");this._txtURL.removeClass("e-error");this._txtURL.val("http://");this._txtLinkText=this._linkDialog.find(".e-rte-linkText");this._txtLinkText.val("");this._txtLinkTitle=this._linkDialog.find(".e-rte-linkTitle");this._txtLinkTitle.val("");this._chkTarget.ejCheckBox({check:!1});this._txtURL.focus()},_clearImgFields:function(){this._imgURL=this._imgDialog.find(".e-rte-imgUrl").val("http://").removeClass("e-error");this._imgDialog.find(".e-rte-imgText").val("");this._chkImgDimensions.ejCheckBox({checked:!0});this._imageLink=this._imgDialog.find(".e-rte-imgLink");this._imageLink.removeClass("e-error");this._imageLink.val("");this._imageBorderPx=this._imgDialog.find(".e-rte-imgBorderPx").data("ejNumericTextbox");this._imageBorderPx.option("value",0);this._imageBorderStyle=this._imgDialog.find(".e-rte-imgBorderStyle").data("ejDropDownList");this._imageBorderStyle.option("value","");this._imgPicker.option("value",null);this._imgDialog.find(".e-selected-color").removeAttr("style");this._imageStyle=this._imgDialog.find(".e-rte-imgStyle");this._imageStyle.val("");this._dialogchkTarget.ejCheckBox({check:!1})},_videoManager:function(){var n=this._getSelectedNode();this._editVideo=null;n&&!t.isNullOrUndefined(n.tagName)&&n.tagName.toLowerCase()==="iframe"&&(this._editVideo=n,this._videoWidth=parseInt(n.width),this._videoHeight=parseInt(n.height),this._videoDialog.find("textarea.e-rte-video").val(n.outerHTML),this._videoDialog.find(".e-rte-videoX").val(this._videoWidth),this._videoDialog.find(".e-rte-videoY").val(this._videoHeight));this._videoDialog.ejDialog("open");this._videoDialog.find("textarea.e-rte-video").focus()},_sourceCodeManager:function(){t.isNullOrUndefined(this._sourceDialog)&&this._renderSourceDialog();this._updateTagInfo("body");this._sourceDialog.find("textarea.e-rte-srctextarea")[0].value=this.getHtml();this._sourceDialog.ejDialog("open");this._sourceDialog.find("textarea.e-rte-srctextarea").focus()},_hyperLinkManager:function(){this._linkDialog.ejDialog("open");this._clearLinkFields();var i=this._isIE()?this._currentSelNode:this._getSelectedNode();!t.isNullOrUndefined(i)&&i.tagName.toUpperCase()=="A"?this._txtLinkText.val(n(i).html()):this._txtLinkText.val(this._getSelText());this._selectedHTML=this._getSelText();this._hyperLinkSelection=this._getDocument().selection;i&&!/^(A)$/.test(i.nodeName)&&i.tagName.toUpperCase()=="IMG"&&(i=n(i).parent("a")[0]);i&&/^(A)$/.test(i.nodeName)&&(this._txtURL.val(i.href),this._txtLinkTitle.val(i.title));this._hyperLinkSelection!=null&&(this._hyperLinkSelRange=this._hyperLinkSelection.createRange())},_fileBrowserManager:function(){this._fileDialog.ejDialog("open");this._clearFileFields();var i=this._isIE()?this._currentSelNode:this._getSelectedNode();!t.isNullOrUndefined(i)&&i.tagName.toUpperCase()=="A"?this._fileLinkText.val(n(i).html()):this._fileLinkText.val(this._getSelText());this._selectedHTML=this._getSelText();this._hyperLinkSelection=this._getDocument().selection;i&&!/^(A)$/.test(i.nodeName)&&i.tagName.toUpperCase()=="IMG"&&(i=n(i).parent("a")[0]);i&&/^(A)$/.test(i.nodeName)&&this._fileURL.val(i.href);this._hyperLinkSelection!=null&&(this._hyperLinkSelRange=this._hyperLinkSelection.createRange())},_tableManager:function(){var t=this._rteToolbar.find("li.e-rteItem-createTable"),i,r,u;this.model.isResponsive&&t.length==0?(u=n(this._toolBarObj._liTemplte).outerHeight()-n(this._toolBarObj._liTemplte).height(),t=this._toolBarObj._liTemplte.find("li.e-rteItem-createTable"),n("#"+this._rteId+"_table_wrapper").css({visibility:"hidden",display:"block"}),r=n(this._toolBarObj._liTemplte).offset().top+n(this._toolBarObj._liTemplte).outerHeight()+u-n("#"+this._rteId+"_table_wrapper").offsetParent().offset().top,i=n(t).offset().left-n("#"+this._rteId+"_table_wrapper").offsetParent().offset().left,n("#"+this._rteId+"_table_wrapper").css({visibility:"visible"})):(i=n(t).position().left,r=n(t).position().top+t.height()+7);this._createTable.ejDialog("option","position",{X:i,Y:r});this._createTable.ejDialog("open")},_eTblManager:function(){var s,i,u,e,o,f,r;this._clearEditTableFields();s=this._rteId;i=this._currentSelNode;t.isNullOrUndefined(i)||i.tagName.toLowerCase()!=="td"||(u=n(i).closest("tbody").closest("table"),this._getTableObj("Height").val(u.attr("height")),this._getTableObj("Width").val(u.attr("width")),this._getTableObj("CellSpace").data("ejNumericTextbox").option("value",u[0].cellSpacing),this._getTableObj("CellPad").data("ejNumericTextbox").option("value",u[0].cellPadding),e=u[0].align,t.isNullOrUndefined(e)||e==""||(this._eTblAlign.enable(),this._eTblAlign.option("value",e)),o=n(n(i).closest("tbody")).prev("caption"),o.length>0&&this._eTblCaption.ejCheckBox({checked:!0}),u[0].style!=""&&(this._getTableObj("BrdrPx").data("ejNumericTextbox").option("value",u[0].style.borderWidth.split("px")[0]),r=this._getTableObj("_border_style").data("ejDropDownList"),u[0].style.borderStyle!=""?r.option("value",u[0].style.borderStyle):r.option({selectedItemIndex:0}),r.inputElement.val(u[0].style.borderStyle),this._getTableObj("_border_color").val(u[0].style.borderColor)),this._getTableObj("Style").val(u.attr("style")),f=n(i).closest("tr"),this._getTableObj("RHeight").val(f.attr("height")),this._getTableObj("RAlign").data("ejDropDownList").option("value",f[0].style.textAlign),f[0].style!=""&&(this._getTableObj("RBrdrPx").data("ejNumericTextbox").option("value",f[0].style.borderWidth.split("px")[0]),r=this._getTableObj("RBrdrStyle").data("ejDropDownList"),f[0].style.borderStyle!=""?r.option("value",f[0].style.borderStyle):r.option({selectedItemIndex:0}),r.inputElement.val(f[0].style.borderStyle),this._getTableObj("RBrdrColor").val(f[0].style.borderColor)),this._getTableObj("RStyle").val(f.attr("style")),this._getTableObj("CWidth").val(n(i).attr("width")),this._getTableObj("CAlign").data("ejDropDownList").option("value",i.style.textAlign),i.style!=""&&(this._getTableObj("CBrdrPx").data("ejNumericTextbox").option("value",i.style.borderLeftWidth.split("px")[0]),r=this._getTableObj("CBrdrStyle").data("ejDropDownList"),i.style.borderStyle!=""?r.option("value",i.style.borderStyle):r.option({selectedItemIndex:0}),r.inputElement.val(i.style.borderStyle),this._getTableObj("CBrdrColor").val(i.style.borderColor)),this._getTableObj("CStyle").val(n(i).attr("style")),this._getTableObj("ClWidth").val(n(i).attr("width")),this._getTableObj("ClAlign").data("ejDropDownList").option("value",i.style.textAlign),i.style!=""&&(this._getTableObj("ClBrdrPx").data("ejNumericTextbox").option("value",i.style.borderLeftWidth.split("px")[0]),r=this._getTableObj("ClBrdrStyle").data("ejDropDownList"),i.style.borderStyle!=""?r.option("value",i.style.borderStyle):r.option({selectedItemIndex:0}),r.inputElement.val(i.style.borderStyle),this._getTableObj("ClBrdrColor").val(i.style.borderColor)),this._getTableObj("ClStyle").val(n(i).attr("style")))},_getTableObj:function(n){return this._eTblDialog.find("#"+this._rteId+"_eTbl"+n)},_imageManager:function(){var i,u,r;this._clearImgFields();i=this._isIE()?this._currentSelNode:this._getSelectedNode();t.isNullOrUndefined(i)||i.tagName.toLowerCase()!=="img"||(this._imgWidth=parseInt(i.width),this._imgHeight=parseInt(i.height),this._imgDialog.find(".e-rte-imgUrl").val(i.src),this._imgDialog.find(".e-rte-imgText").val(i.alt),this._imgDialog.find(".e-rte-imgX").val(this._imgWidth),this._imgDialog.find(".e-rte-imgY").val(this._imgHeight),u=n(i).parent("a"),u.length>0&&this._imageLink.val(u.attr("href")),i.style!=""&&(this._imageBorderPx.option("value",i.style.borderWidth.split("px")[0]),this._imageBorderStyle.option("value",i.style.borderStyle),i.style.borderColor.length>0&&(t.browserInfo().name==="msie"&&t.browserInfo().version==="8.0"?this._imgPicker.option("value",i.style.borderColor):(r=i.style.borderColor.split("(")[1].split(")")[0],r=r.split(","),r={r:n.trim(r[0]),g:n.trim(r[1]),b:n.trim(r[2])},this._imgPicker.option("value",this._imgPicker.RGBToHEX(r))))),this._imageStyle.val(n(i).attr("style")));this._imgDialog.ejDialog("open");t.isNullOrUndefined(this._explorerObj)&&this._imgDialog.find(".e-rte-imgUrl").focus()},_toolBarClick:function(i){var s=n(this.itemsContainer).closest("div.e-rte").find("textarea.e-rte"),r=s.ejRTE("instance"),e=s.attr("id"),f=i.currentTarget.id.replace(e,""),o,u;if((n(i.currentTarget).hasClass("e-rteItem-copy")||n(i.currentTarget).hasClass("e-rteItem-cut")||n(i.currentTarget).hasClass("e-rteItem-paste"))&&!r._isIE()?r._openAlert(r._getLocalizedLabels("copyPastAlert")):(t.browserInfo().name!="chrome"&&(u=r._scriptsItems.indexOf(f),r._scriptsItems.indexOf(f)>=0&&n("#"+e+r._scriptsItems[u==0?1:0]).hasClass("e-active")&&r._selectCommand(e+r._scriptsItems[u==0?1:0])),r._selectCommand(i.currentTarget.id)),r._styleItems.indexOf(f)>=0||r._scriptsItems.indexOf(f)>=0)n(i.currentTarget).hasClass("e-isactive")?this.deselectItemByID(i.currentTarget.id):this.selectItemByID(i.currentTarget.id),n(i.currentTarget).hasClass("e-isactive")?n(i.currentTarget).removeClass("e-isactive"):n(i.currentTarget).addClass("e-isactive"),r._scriptsItems.indexOf(f)>=0&&(u=r._scriptsItems.indexOf(f),n("#"+e+r._scriptsItems[u==0?1:0]).removeClass("e-isactive"),this.deselectItemByID(e+r._scriptsItems[u==0?1:0]));else if(r._alignItems.indexOf(f)>=0)for(this.selectItemByID(i.currentTarget.id),u=r._alignItems.indexOf(f),o=0;o<r._alignItems.length;o++)o!=u&&this.deselectItemByID(e+r._alignItems[o]);else r._listItems.indexOf(f)>=0&&(n(i.currentTarget).hasClass("e-isactive")?this.deselectItemByID(i.currentTarget.id):this.selectItemByID(i.currentTarget.id),n(i.currentTarget).hasClass("e-isactive")?n(i.currentTarget).removeClass("e-isactive"):n(i.currentTarget).addClass("e-isactive"),u=r._listItems.indexOf(f),n("#"+e+r._listItems[u==0?1:0]).removeClass("e-isactive"),u==0?this.deselectItemByID(e+r._listItems[1]):this.deselectItemByID(e+r._listItems[0]))},_toggleEditTable:function(){var n=this._isIE()?this._currentSelNode:this._getSelectedNode(),i,r;if(t.isNullOrUndefined(n))return!1;t.isNullOrUndefined(this._toolBarItems)||(r=this._rteToolbar.find("li.e-rteItem-addColumnLeft,li.e-rteItem-addColumnRight,li.e-rteItem-addRowAbove,li.e-rteItem-addRowBelow,li.e-rteItem-deleteRow,li.e-rteItem-deleteColumn,li.e-rteItem-deleteTable"),i=this.model.isResponsive&&r.length==0?this._toolBarObj._liTemplte.find("li.e-rteItem-addColumnLeft,li.e-rteItem-addColumnRight,li.e-rteItem-addRowAbove,li.e-rteItem-addRowBelow,li.e-rteItem-deleteRow,li.e-rteItem-deleteColumn,li.e-rteItem-deleteTable"):this._toolBarItems.find("li.e-rteItem-addColumnLeft,li.e-rteItem-addColumnRight,li.e-rteItem-addRowAbove,li.e-rteItem-addRowBelow,li.e-rteItem-deleteRow,li.e-rteItem-deleteColumn,li.e-rteItem-deleteTable"),t.isNullOrUndefined(n.tagName)||(n&&n.tagName&&n.tagName.toLowerCase()=="td"||n.tagName.toLowerCase()=="table"||n.tagName.toLowerCase()=="tr"?(i.show(),this._createTable.find("div.e-rte-eTblProperties").removeClass("e-disable")):t.isNullOrUndefined(this._createTable)||(i.hide(),this._createTable.find("div.e-rte-eTblProperties").addClass("e-disable"))));this._setIframeHeight()},_formatChange:function(){var i=n(this.element).closest("div.e-rte").find("textarea.e-rte"),t=i.ejRTE("instance"),r=i.attr("id");this.getSelectedValue()!==""&&t._onFormatBlock(this.getSelectedValue());t._focus();t._onChange()},_fontStyleChange:function(){var t=n(this.element).closest("div.e-rte").find("textarea.e-rte"),i=t.ejRTE("instance"),r=t.attr("id");this.getSelectedValue()!==""&&i._onFontName(this.getSelectedValue());i._onChange()},_fontSizeChange:function(){var t=n(this.element).closest("div.e-rte").find("textarea.e-rte"),i=t.ejRTE("instance"),r=t.attr("id");this.getSelectedValue()!==""&&i._onFontSize(this.getSelectedValue());i._onChange()},_colorPaletteClick:function(n){var t;(t=n.target.getAttribute("color-code"))&&(this._focus(),this._onFontColor(t),this._splitMenu.hide(n),this._fontColor=t,this._fontColorSplit.find("span.e-btntxt").css("background-color",t))},_bgColorPaletteClick:function(n){var t;(t=n.target.getAttribute("color-code"))&&(this._focus(),this._onBGColor(t),this._bgSplitMenu.hide(n),this._bgColor=t,this._bgColorSplit.find("span.e-btntxt").css("background-color",t))},_fontColorClick:function(n){if(this._onFontColor(this._fontColor),t.isNullOrUndefined(this._splitMenu))return!1;this._splitMenu.hide(n)},_bgColorClick:function(n){if(this._onBGColor(this._bgColor),t.isNullOrUndefined(this._bgSplitMenu))return!1;this._bgSplitMenu.hide(n)},_selectCommand:function(n){var t=this._rteId,i;n==t+"format"||n==t+"fontName"||n==t+"fontSize"||n==t+"fontColor"||n==t+"backgroundColor"||this._focus();switch(n){case t+"bold":this._onBold();break;case t+"italic":this._onItalics();break;case t+"underline":this._onUnderLine();break;case t+"strikethrough":this._onStrikeThrough();break;case t+"justifyLeft":this._onJustifyLeft();break;case t+"justifyRight":this._onJustifyRight();break;case t+"justifyCenter":this._onJustifyCenter();break;case t+"justifyFull":this._onJustifyFull();break;case t+"cut":this._onCut();break;case t+"copy":this._onCopy();break;case t+"paste":this._onPaste();break;case t+"clearFormat":this._onClearFormat();break;case t+"clearAll":this._clearAllManager();break;case t+"orderedList":this._onOrderList();break;case t+"unorderedList":this._onUnorderList();break;case t+"undo":this._undo();break;case t+"redo":this._redo();break;case t+"indent":this._onIndent();this._indentdepth++;break;case t+"outdent":this._onOutdent();this._indentdepth>0&&this._indentdepth--;break;case t+"createLink":this._hyperLinkManager();break;case t+"image":this._imageManager();break;case t+"createTable":this._tableManager();break;case t+"addRowAbove":this.insertRow(!0);break;case t+"addRowBelow":this.insertRow(!1);break;case t+"addColumnLeft":this.insertColumn(!0);break;case t+"addColumnRight":this.insertColumn(!1);break;case t+"deleteRow":this.removeRow();break;case t+"deleteColumn":this.removeColumn();break;case t+"deleteTable":this.removeTable();break;case t+"superscript":this._onSuperScript();break;case t+"subscript":this._onSubScript();break;case t+"upperCase":this._onUpperCase();break;case t+"lowerCase":this._onLowerCase();break;case t+"video":this._videoManager();break;case t+"fileBrowser":this._fileBrowserManager();break;default:this._onChange()}n!=t+"createLink"&&n!=t+"image"&&n!=t+"video"&&n!=t+"createTable"&&this._onChange();n!=t+"undo"&&n!=t+"redo"&&this._setBackupData();i=this._isIE()?this._currentSelNode:this._getSelectedNode();this._updateTagInfo(i)},_focus:function(){browserInfo=t.browserInfo();browserInfo.name=="webkit"?this._getWindow().focus():this._getWindow().document.body.focus();this._restoreSelection(this._selectionRange)},_getWindow:function(){return n(n(this._rteWapper.find(".content-iframe"))[0].contentWindow)[0]},_getDocument:function(){var n=this._rteWapper.find(".content-iframe");try{return n.contents()[0]}catch(t){return""}},_onBold:function(){var n;this.executeCommand("bold",n)},_onItalics:function(){var n;this.executeCommand("italic",n)},_onStrikeThrough:function(){var n;this.executeCommand("strikethrough",n)},_onUnderLine:function(){var n;this.executeCommand("underline",n)},_onJustifyLeft:function(){var n;this.executeCommand("JustifyLeft",n)},_onJustifyRight:function(){var n;this.executeCommand("JustifyRight",n)},_onJustifyCenter:function(){var n;this.executeCommand("JustifyCenter",n)},_onJustifyFull:function(){this._alignFlag=!0;this.executeCommand("justifyfull")},_onCut:function(){var n;this.executeCommand("cut",n)},_onCopy:function(){var n;this.executeCommand("copy",n)},_onPaste:function(){var n;this.executeCommand("paste",n)},_onOrderList:function(){var n;this.executeCommand("insertorderedlist",n)},_onUnorderList:function(){var n;this.executeCommand("insertunorderedlist",n)},_onUndo:function(){this.executeCommand("undo",null)},_onDelete:function(){this.executeCommand("delete",null)},_onRedo:function(){this.executeCommand("redo",null)},_onClearFormat:function(){var n;this.executeCommand("removeformat",n);this._setBackupData();this._onChange();this._updateIframeSkin(this.model.iframeAttribute)},_onFormatBlock:function(i){this._focus();var r;r=document.getSelection?this._getSelectedNode():this._getWindow().document.selection.createRange().parentElement();this._onClearFormat();this.executeCommand("formatBlock",i);t.isNullOrUndefined(this._tempEle)||t.isNullOrUndefined(this._tempEle.get(0))||(n(this._tempEle).get(0).nodeName=="OL"?n(n(this._tempEle).get(0)).find("li").each(function(){n(this).contents().unwrap()}):n(this._tempEle).get(0).nodeName=="LI"&&this._tempEle.contents().unwrap())},_onFontName:function(n){this.executeCommand("fontName",n)},_onFontSize:function(n){this.executeCommand("fontSize",n)},_onFontColor:function(n){this.executeCommand("foreColor",n);this._onChange();this._updateIframeSkin(this.model.iframeAttribute)},_onBGColor:function(n){this.executeCommand("backColor",n);this._onChange()},_onIndent:function(){this._getWindow().document.body.style.wordWrap="break-word";var t=document.getSelection?this._getWindow().document.getSelection().focusNode:this._getWindow().document.selection.createRange().parentElement();t&&/^(OL|UL|LI)$/.test(t.nodeName)?this._listIndent(t):t&&/^(#text)$/.test(t.nodeName)&&/^(OL|UL|LI)$/.test(n(t).parent()[0].nodeName)?this._listIndent(n(t).parents("li")[0],t):this.executeCommand("indent",!1);t&&n(t).focus();this._updateIframeSkin(this.model.iframeAttribute)},_onOutdent:function(){var t=document.getSelection?this._getWindow().document.getSelection().focusNode:this._getWindow().document.selection.createRange().parentElement();t&&/^(OL|UL|LI)$/.test(t.nodeName)?this._listOutdent(t):t&&/^(#text)$/.test(t.nodeName)&&/^(OL|UL|LI)$/.test(n(t).parent()[0].nodeName)?this._listOutdent(n(t).parents("li")[0],t):this.executeCommand("outdent",!1)},_onSelectAll:function(){this.executeCommand("selectall")},_onHyperLink:function(n){this.executeCommand("createlink",n)},_onInsertLink:function(){var r,u,i,f;if(!this._isUrl(n.trim(this._txtURL.val())))return this._txtURL.addClass("e-error"),!1;i=t.browserInfo().name=="msie"||t.browserInfo().name=="chrome"?this._currentSelNode:this._getSelectedNode();t.isNullOrUndefined(i)||i.tagName.toUpperCase()!="A"?t.isNullOrUndefined(i)||i.tagName.toUpperCase()!="IMG"?(r=t.buildTag("a","",{},{href:this._txtURL.val(),title:this._txtLinkTitle.val()}),r[0].target=this._chkTarget.ejCheckBox("isChecked")?"_blank":"_self",this._focus(),this._isIE()?(this._selectedHTML.length==0&&(this._selectedHTML=this._txtLinkText.val()===""?this._txtURL.val():this._txtLinkText.val()),r[0].innerHTML=this._selectedHTML,u=r[0].outerHTML):(this._txtLinkText.val()===""?r.html(this._txtURL.val()):r.html(this._txtLinkText.val()),u=n("<div>").append(n(r).clone()).html()),u&&(this._isIE()?this._pasteHtml(u):this._getDocument().execCommand("inserthtml",!1,u),this._focus())):(f=n(i).parent("a")[0],t.isNullOrUndefined(f)?(r=t.buildTag("a","",{},{href:this._txtURL.val(),title:this._txtLinkTitle.val()}),r[0].target=this._chkTarget.ejCheckBox("isChecked")?"_blank":"_self",n(i.outerHTML).appendTo(n(r)),n(i).replaceWith(n(r))):(f.href=this._txtURL.val(),f.title=this._txtLinkTitle.val(),f.target=this._chkTarget.ejCheckBox("isChecked")?"_blank":"_self")):(i.href=this._txtURL.val(),i.title=this._txtLinkTitle.val(),i.innerHTML=this._txtLinkText.val(),i.target=this._chkTarget.ejCheckBox("isChecked")?"_blank":"_self");this._linkDialog.ejDialog("close")},_setImageProperties:function(i,r,u,f,e,o,s){this.model.showDimensions&&(r!=""&&(i[0].width=r),u!=""&&(i[0].height=u));i=n(i).attr("style",f);border=e+"px ";border+=!t.isNullOrUndefined(o)&&o!=""?o+" ":"solid ";border+=!t.isNullOrUndefined(s)&&s!=""?s:"#000000";i=i.css("border",border)},_onInsertImage:function(){var o=this._imgDialog.find(".e-rte-imgUrl"),h=this._imgDialog.find(".e-rte-imgText"),c=this._imgDialog.find(".e-rte-imgX").val(),l=this._imgDialog.find(".e-rte-imgY").val(),i=this,s,w,r;this._restoreSelection(this._selectionRange);var a="",f=i._imageLink.val(),v=i._imageBorderPx.getValue(),y=i._imageBorderStyle.getSelectedValue(),e=i._imgPicker.getValue(),p=i._imageStyle.val(),u=i._isIE()?i._currentSelNode:i._getSelectedNode();if(t.isNullOrUndefined(u)||(a=u.nodeName.toUpperCase()),e=!t.isNullOrUndefined(e)&&e.length>0?e:"",s=o.val().startsWith("~")?o.val().replace(o.val().substr("0","1"),".."):o.val(),a!="IMG")w=n("<img>",{src:s,error:function(){o.addClass("e-error")},success:function(){var r=t.buildTag("img","",{},{alt:h.val(),src:s}),u,o;if(i._setImageProperties(r,c,l,p,v,y,e),f!="")if(i._isUrl(n.trim(f)))u=t.buildTag("a","",{},{href:f}),u[0].target=i._dialogchkTarget.ejCheckBox("isChecked")?"_blank":"_self",n(r[0].outerHTML).appendTo(u),r=u;else return i._imageLink.addClass("e-error"),!1;o=r[0].outerHTML;i.executeCommand("inserthtml",o)}});else{if(u.src=s,u.alt=h.val(),i._setImageProperties(n(u),c,l,p,v,y,e),r=n(u).parent("a"),f!="")if(i._isUrl(n.trim(f)))r.length>0?r.attr("href",f):(r=t.buildTag("a","",{},{href:f}),n(u.outerHTML).appendTo(r),n(u).replaceWith(r));else return i._imageLink.addClass("e-error"),!1;else r.length>0&&r.attr("href","");!t.isNullOrUndefined(r)&&r.length>0&&(r[0].target=this._dialogchkTarget.ejCheckBox("isChecked")?"_blank":"_self")}i._imgDialog.ejDialog("close")},_insertVideo:function(i){var u=n.trim(this._videoDialog.find("textarea.e-rte-video")[0].value),f=this._videoDialog.find(".e-rte-videoX").val(),e=this._videoDialog.find(".e-rte-videoY").val(),r;this._restoreSelection(this._selectionRange);i.target.id==="video_insert"&&u!==""?(r=n(u)[0],this.model.showDimensions&&!t.isNullOrUndefined(r)&&(f!=""&&(r.width=f),e!=""&&(r.height=e)),this._editVideo&&n(this._editVideo).remove(),t.isNullOrUndefined(r)||this.executeCommand("inserthtml",r.outerHTML),this._onChange(),this._setBackupData(),this._videoDialog.ejDialog("close")):i.target.id==="video_cancel"?this._videoDialog.ejDialog("close"):this._openAlert(this._getLocalizedLabels("videoError"));this._videoDialog.find("textarea.e-rte-video")[0].value="";this._videoDialog.find(".e-rte-videoX").val("");this._videoDialog.find(".e-rte-videoY").val("");this._chkvideoDimensions.ejCheckBox({check:!0})},_oneditTable:function(){var i=this._currentSelNode,c=n(i).closest("tbody").closest("table"),s=n(n(i).closest("tbody")).prev("caption"),h,f,l,r,u,o;this._eTblCaption.ejCheckBox("isChecked")?s.length==0&&t.buildTag("caption").append(n('<br type="_moz">')).insertBefore(n(n(i).closest("tbody"))):s.length>0&&s.remove();h=this._eTblAlign.getSelectedValue();f=this._getTableObj("Style").val();h=="center"&&(f+=";margin: 0 auto;");f&&c.attr("style",f);c.attr({width:this._getTableObj("Width").val(),height:this._getTableObj("Height").val(),cellPadding:this._getTableObj("CellPad").data("ejNumericTextbox").getValue(),cellSpacing:this._getTableObj("CellSpace").data("ejNumericTextbox").getValue(),align:h}).css({"border-width":this._getTableObj("BrdrPx").data("ejNumericTextbox").getValue()+"px","border-style":this._getTableObj("_border_style").data("ejDropDownList").getSelectedValue(),"border-color":this._getTableObj("_border_color").val()});l=n(i).closest("tr");l.attr({style:this._getTableObj("RStyle").val()}).css({height:this._getTableObj("RHeight").val(),"text-align":this._getTableObj("RAlign").data("ejDropDownList").getSelectedValue(),"border-width":this._getTableObj("RBrdrPx").data("ejNumericTextbox").getValue()+"px","border-style":this._getTableObj("RBrdrStyle").data("ejDropDownList").getSelectedValue(),"border-color":this._getTableObj("RBrdrColor").val()});r=this._getTableObj("CBrdrPx").data("ejNumericTextbox").getValue()+"px ";r+=this._getTableObj("CBrdrStyle").data("ejDropDownList").getSelectedValue()+" ";r+=this._getTableObj("CBrdrColor").val();var a=n(i).closest("tr"),e=a.closest("table").find("tr"),v=a.find("td").index(i);for(u=0;u<e.length;u++)o=n(n(e[u]).find("td")[v]),e.length>1?(o.attr({style:this._getTableObj("CStyle").val()}).css({width:this._getTableObj("ColumnHeight").val(),"text-align":this._getTableObj("CAlign").data("ejDropDownList").getSelectedValue(),"border-left":r,"border-right":r}),u==0&&o.css("border-top",r),u==e.length-1&&o.css("border-bottom",r)):n(i).css("border",r);n(i).attr({style:this._getTableObj("ClStyle").val()}).css({width:this._getTableObj("CellHeight").val(),"text-align":this._getTableObj("ClAlign").data("ejDropDownList").getSelectedValue(),"border-width":this._getTableObj("ClBrdrPx").data("ejNumericTextbox").getValue()+"px","border-style":this._getTableObj("ClBrdrStyle").data("ejDropDownList").getSelectedValue(),"border-color":this._getTableObj("ClBrdrColor").val()});this._eTblDialog.ejDialog("close")},_clearAllManager:function(){this._alertWindow.find(".e-alert-cancel").show();this._openAlert(this._getLocalizedLabels("deleteAlert"))},_onUnlink:function(){var n;this.executeCommand("unlink",n)},_onSuperScript:function(){var n;this.executeCommand("SuperScript",n)},_onSubScript:function(){var n;this.executeCommand("SubScript",n)},_onInsertTable:function(n,t,i){var r=this._tableGenerator(n,t,i);this.executeCommand("inserthtml",r)},_onUpperCase:function(){if(document.getSelection){var a=this._getWindow().getSelection(),i=this._saveSelection(),r=i.commonAncestorContainer,f=i.commonAncestorContainer.children;if(f!=null){var e=i.cloneContents(),o=this._changeCase(e,"Upper"),s=n(o).clone(),u=document.createElement("div");n(u).append(n(s));u.innerHTML!=null&&u.innerHTML!=""&&this._getWindow().document.execCommand("inserthtml",!1,u.innerHTML)}else{var h=r.nodeValue.substring(i.startOffset,i.endOffset).toUpperCase(),c=r.nodeValue.substr(0,i.startOffset),l=r.nodeValue.substring(i.endOffset);r.nodeValue=c+h+l}}else{if(this._getWindow().document.selection.type.toLowerCase()=="control")return;this._seleText=t.isNullOrUndefined(this._seleText)?"":this._seleText;this._getDocument().selection.createRange().pasteHTML(this._seleText.toUpperCase())}},_changeCase:function(n,t){var i=n.childNodes,r;if(i.length>0)for(r=0;r<i.length;r++)i[r].nodeType==3?i[r].nodeValue=t=="Upper"?i[r].nodeValue.toUpperCase():i[r].nodeValue.toLowerCase():i[r].nodeType==1&&i[r].tagName.toUpperCase()!="FONT"&&this._changeCase(i[r],t);return i},_onLowerCase:function(){if(document.getSelection){var a=this._getWindow().getSelection(),i=this._saveSelection(),r=i.commonAncestorContainer,f=i.commonAncestorContainer.children;if(f!=null){var e=i.cloneContents(),o=this._changeCase(e,"Lower"),s=n(o).clone(),u=document.createElement("div");n(u).append(n(s));u.innerHTML!=null&&u.innerHTML!=""&&this._getWindow().document.execCommand("inserthtml",!1,u.innerHTML)}else{var h=r.nodeValue.substring(i.startOffset,i.endOffset).toLowerCase(),c=r.nodeValue.substr(0,i.startOffset),l=r.nodeValue.substring(i.endOffset);r.nodeValue=c+h+l}}else{if(this._getWindow().document.selection.type.toUpperCase()=="control")return;this._seleText=t.isNullOrUndefined(this._seleText)?"":this._seleText;this._getDocument().selection.createRange().pasteHTML(this._seleText.toLowerCase())}},_listIndent:function(n){var i,r;return(i=n.previousSibling,i&&this._isListNode(i))?(i.appendChild(n),!0):i&&i.nodeName=="LI"&&this._isListNode(i.lastChild)?(i.lastChild.appendChild(n),this._combineLists(n.lastChild,i.lastChild,n),!0):(i=n.nextSibling,i&&this._isListNode(i))?(i.insertBefore(n,i.firstChild),!0):i&&i.nodeName=="LI"&&this._isListNode(n.lastChild)?!1:(i=n.previousSibling,i&&i.nodeName=="LI")?(r=t.buildTag(n.parentNode.nodeName)[0],i.appendChild(r),r.appendChild(n),this._combineLists(n.lastChild,r,n),!0):!0},_combineLists:function(t,i,r){var u;if(this._isListNode(t)){while(u=r.lastChild.firstChild)i.appendChild(u);n(t).remove()}},_isListNode:function(n){return n&&/^(OL|UL)$/.test(n.nodeName)},_isFirstChild:function(n){return n.parentNode.firstChild==n},_isLastChild:function(n){return n.parentNode.lastChild==n},_removeEmptyList:function(t){t&&n(t).children().length===0&&n(t).remove()},_listOutdent:function(t){var r=n(t.parentNode),i=r[0].parentNode;return(t=n(t),this._isFirstChild(t[0])&&this._isLastChild(t[0]))?(i.nodeName=="LI"?(t.insertAfter(i),this._removeEmptyList(i),r.remove()):this._isListNode(i)?r.remove():this.executeCommand("outdent",!1),!0):this._isFirstChild(t[0])?(i.nodeName=="LI"?(t.insertAfter(i),t[0].appendChild(r[0]),this._removeEmptyList(i)):this._isListNode(i)?i.insertBefore(t[0],r[0]):this.executeCommand("outdent",!1),!0):this._isLastChild(t[0])?(i.nodeName=="LI"?t.insertAfter(i):this._isListNode(i)?t.insertAfter(r[0]):this.executeCommand("outdent",!1),!0):(this.executeCommand("outdent",!1),!1)},_updateIndent:function(i){t.isNullOrUndefined(this._toolBarObj)||(n("#"+this._rteId+"indent").hasClass("e-disable")||this._toolBarObj.enableItemByID(this._rteId+"indent"),i&&/^(LI)$/.test(i.nodeName)&&n(i).parents(i.parentNode.nodeName).last().find("li").index(i)===0&&this._toolBarObj.disableItemByID(this._rteId+"indent"))},_updateCharCount:function(){if(this.model.showFooter&&this.model.showWordCount){var t=this._getText();this._wordCount.html(this._getLocalizedLabels("characters")+" : "+n.trim(t).length)}},_updateTagInfo:function(i){var e="",u,o=1,r,f;if(this._curNode=t.isNullOrUndefined(i)?"":i.tagName?i.tagName.toLowerCase():"html",this.model.showFooter&&this.model.showHtmlTagInfo){if(this._curNode!="body"&&this._curNode!="html"&&this._curNode!==""){for(r=n(i).parents(),f=r.length-1;f>=0;f--)u=r[f].tagName.toLowerCase(),u!="body"&&u!="html"?e+=" » "+u:o++;e+=" » "+this._curNode;n(i).parents().length>0&&(t.isNullOrUndefined(r[r.length-o])||(this._pTag=r[r.length-o].tagName.toLowerCase()))}this._tags=e;this._responsiveTagList()}},_responsiveTagList:function(){n(this._htmlInfo).html(this._tags);n(this._rteWapper).outerWidth()<n(this._rteWapper).find(".e-rte-footer-left").outerWidth()+n(this._rteWapper).find(".e-rte-footer-right").outerWidth()?n(this._htmlInfo).html(" » "+this._pTag+" » ... ...  » "+this._curNode):n(this._htmlInfo).html(this._tags)},_updateValue:function(){var n=this._updateXhtml();this.value(n);this.element.val(n)},_imageXhtml:function(n){for(var v=/<img(.*?)>/ig,c,u=0,i=[],s,f,r,e;(c=v.exec(n))!==null;)i[u]=c[0].toString(),u++;for(s=[],f=0;f<i.length;f++)s[f]=i[f];for(r=0;r<i.length;r++)i[r].indexOf("/")==-1?i[r]=i[r].substr(0,i[r].length)+"/"+i[r].substr(i[r].length-1,i[r].length):i[r].lastIndexOf("/")!=i[r].length-2&&(i[r]=i[r].substr(0,i[r].length-1)+"/"+i[r].substr(i[r].length-1,i[r].length));var l=/(alt)=("[^"]*")/i,o=/(src)=("[^"]*")/g,a=/(src)=('[^"]*')/g;for(r=0;r<i.length;r++){var y=t.isNullOrUndefined(l.exec(i[r]))?/(alt)=('[^"]*')/i.exec(i[r]):l.exec(i[r]),p=t.isNullOrUndefined(o.exec(i[r]))?a.exec(i[r]):o.exec(i[r]),h=t.isNullOrUndefined(i[r].match(o))?i[r].match(a):i[r].match(o),w=t.isNullOrUndefined(i[r].match(/(alt)=("[^"]*")/g))?i[r].match(/(alt)=('[^"]*')/g):i[r].match(/(alt)=("[^"]*")/g);if(y==null)i[r]=i[r].substr(0,i[r].length-2)+' alt=""'+i[r].substr(i[r].length-2,i[r].length);else for(u=w.length-1;u>0;u--)i[r]=i[r].replace(h[u],"");if(p==null)i[r]=i[r].substr(0,i[r].length-2)+' src=""'+i[r].substr(i[r].length-2,i[r].length);else for(u=h.length-1;u>0;u--)i[r]=i[r].replace(h[u],"")}for(e=0;e<i.length;e++)n=n.replace(s[e],i[e]);return n},_styleXhtml:function(n){for(var b=/<((?:(?!\/)).)*?>/ig,c,l=0,r=[],h,s,o,f,u,i;(c=b.exec(n))!==null;)r[l]=c[0].toString(),l++;for(h=[],s=0;s<r.length;s++)h[s]=r[s];for(i=0;i<r.length;i++){if(r[i].indexOf("style=")!=-1){if(r[i].indexOf("<table")!=-1&&r[i].indexOf("align=")!=-1){var e=/( align)=("[^"]*")/i.exec(r[i]),t=e[0];t=t=='align="center"'?r[i].indexOf("float:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","float"):t=='align="left"'?r[i].indexOf("float:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","float"):t=='align="right"'?r[i].indexOf("float:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","float"):r[i].indexOf("float:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","float");o=/(style)=("[^"]*")/i;f=o.exec(r[i]);f!=null&&(u=f[0],t!=""&&(u=u.substr(0,u.length-1)+t+';"'),r[i]=r[i].replace(e[0],"").replace(f[0],u))}if(r[i].indexOf("height=")!=-1){var a=/( height)=("[^"]*")/i,e=a.exec(r[i]),t=e[0];t=t.replace(/\"/gi,"").replace("=",":");o=/(style)=("[^"]*")/i;f=o.exec(r[i]);f!=null&&(u=f[0],u=u.substr(0,u.length-1)+t+';"',r[i]=r[i].replace(e[0],"").replace(f[0],u))}if(r[i].indexOf("width=")!=-1){var v=/( width)=("[^"]*")/i,e=v.exec(r[i]),t=e[0];t=t.replace(/\"/gi,"").replace("=",":");o=/(style)=("[^"]*")/i;f=o.exec(r[i]);f!=null&&(u=f[0],u=u.substr(0,u.length-1)+t+';"',r[i]=r[i].replace(e[0],"").replace(f[0],u))}if(r[i].indexOf("type=")!=-1){var y=/( type)=("[^"]*")/i,e=y.exec(r[i]),t=e[0];t=t=='type="a"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("a","lower-alpha"):t=='type="A"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("a","upper-alpha"):t=='type="1"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("1","decimal"):t=='type="i"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("i","lower-roman"):t=='type="I"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("I","upper-roman"):t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type");o=/(style)=("[^"]*")/i;f=o.exec(r[i]);f!=null&&(u=f[0],u=u.substr(0,u.length-1)+t+';"',r[i]=r[i].replace(e[0],"").replace(f[0],u))}if(r[i].indexOf("valign=")!=-1){var p=/( valign)=("[^"]*")/i,e=p.exec(r[i]),t=e[0];t=t=='valign="center"'?r[i].indexOf("vertical-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("valign","vertical-align"):t=='valign="left"'?r[i].indexOf("vertical-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("valign","vertical-align"):t=='valign="right"'?r[i].indexOf("vertical-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("valign","vertical-align"):r[i].indexOf("vertical-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("valign","vertical-align");o=/(style)=("[^"]*")/i;f=o.exec(r[i]);f!=null&&(u=f[0],t!=""&&(u=u.substr(0,u.length-1)+t+';"'),r[i]=r[i].replace(e[0],"").replace(f[0],u))}if(r[i].indexOf("align=")!=-1){var w=/( align)=("[^"]*")/i,e=w.exec(r[i]),t=e[0];t=t=='align="center"'?r[i].indexOf("text-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","text-align"):t=='align="left"'?r[i].indexOf("text-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","text-align"):t=='align="right"'?r[i].indexOf("text-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","text-align"):r[i].indexOf("text-align:")!=-1?"":t.replace(/\"/gi,"").replace("=",":").replace("align","text-align");o=/(style)=("[^"]*")/i;f=o.exec(r[i]);f!=null&&(u=f[0],t!=""&&(u=u.substr(0,u.length-1)+t+';"'),r[i]=r[i].replace(e[0],"").replace(f[0],u))}}if(r[i].indexOf("style=")==-1){if(r[i].indexOf("height=")!=-1){var a=/(height)=("[^"]*")/i,e=a.exec(r[i]),t=e[0];t=t.replace(/\"/gi,"").replace("=",":");r[i]=r[i].replace(e[0],'style="'+t+';"')}if(r[i].indexOf("width=")!=-1){var v=/(width)=("[^"]*")/i,e=v.exec(r[i]),t=e[0];t=t.replace(/\"/gi,"").replace("=",":");r[i]=r[i].replace(e[0],'style="'+t+';"')}if(r[i].indexOf("type=")!=-1){var y=/(type)=("[^"]*")/i,e=y.exec(r[i]),t=e[0];t=t=='type="a"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("a","lower-alpha"):t=='type="A"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("a","upper-alpha"):t=='type="1"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("1","decimal"):t=='type="i"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("i","lower-roman"):t=='type="I"'?t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type").replace("I","upper-roman"):t.replace(/\"/gi,"").replace("=",":").replace("type","list-style-type");r[i]=r[i].replace(e[0],'style="'+t+';"')}if(r[i].indexOf("valign=")!=-1){var p=/(valign)=("[^"]*")/i,e=p.exec(r[i]),t=e[0];t=t=='valign="center"'?t.replace(/\"/gi,"").replace("=",":").replace("valign","text-align"):t=='valign="left"'?t.replace(/\"/gi,"").replace("=",":").replace("valign","text-align"):t=='valign="right"'?t.replace(/\"/gi,"").replace("=",":").replace("valign","text-align"):t.replace(/\"/gi,"").replace("=",":").replace("valign","text-align");r[i]=r[i].replace(e[0],'style="'+t+';"')}if(r[i].indexOf("align=")!=-1){var w=/(align)=("[^"]*")/i,e=w.exec(r[i]),t=e[0];t=t=='align="center"'?t.replace(/\"/gi,"").replace("=",":").replace("align","text-align"):t=='align="left"'?t.replace(/\"/gi,"").replace("=",":").replace("align","text-align"):t=='align="right"'?t.replace(/\"/gi,"").replace("=",":").replace("align","text-align"):t.replace(/\"/gi,"").replace("=",":").replace("align","text-align");r[i]=r[i].replace(e[0],'style="'+t+';"')}}}for(i=0;i<r.length;i++)n=n.replace(h[i],r[i]);return n},_startXhtml:function(n){var t;if(n.indexOf("start=")!=-1){for(var f=/start=\"(.*?)\"/ig,i=[],r=0,u;(u=f.exec(n))!=null;)i[r]=u[0],r++;for(t=0;t<i.length;t++)n=n.replace(i[t],"")}return n},_fontXhtml:function(n){var t;if(n.indexOf("<font")!=-1){for(var f=/<font(.*?)>/ig,i=[],r=0,u;(u=f.exec(n))!=null;)i[r]=u[0],r++;for(t=0;t<i.length;t++)n=n.replace(i[t],"").replace(/<\/font>/gi,"")}return n},_tdXhtml:function(n){for(var o=/<td((?:(?!<\/td>).))*?<td/ig,f,e=0,i=[],r,u,t;(f=o.exec(n))!=null;)i[e]=f[0],e++;for(r=[],t=0;t<i.length;t++)r[t]=i[t];for(t=0;t<i.length;t++)u=i[t].lastIndexOf("<td"),i[t]=i[t].substr(0,u)+"<\/td>"+i[t].substr(u,i[t].length);for(t=0;t<i.length;t++)n=n.replace(r[t],i[t]);return n},_ptagXhtml:function(n){var f=/<\/p>((?:(?!<p).))*<\/p>/ig,r,e=0,i=[],u,t;if((r=f.exec(n))!=null)while((r=f.exec(n))!=null)i[e]=r[0],e++;for(u=[],t=0;t<i.length;t++)u[t]=i[t];for(t=0;t<i.length;t++)i[t].indexOf("<p")==-1&&(i[t]=i[t].substr(0,i[t].length-4));for(t=0;t<i.length;t++)n=n.replace(u[t],i[t]);return n},_updateXhtml:function(){var l=this._getDocument().body.innerHTML,t,yt,v,d,nt,pt,u,c,k,lt,st,tt,at,ht,h,y,ii,wt,bt,i,p,g,s,kt,n;if(this.model.enableXHTML){if(l=l.replace(/hhh/g,""),l=l.replace(/<br>/g,"<br/>"),l=l.replace(/contenteditable="false"/g,""),l=l.replace(/contenteditable="true"/g,""),l=l.replace(/&nbsp;/g," "),l=l.replace(/<hr>/g,"<hr/>"),l=this._imageXhtml(l),t=l,t=t.replace(/\s+/g," "),t=t.replace(/> </gi,"><"),t.indexOf("<table")!=-1){for(var dt=/<table(.*?)<\/table>/ig,ut,ft=0,r=[];(ut=dt.exec(t))!=null;)r[ft]=ut[0],ft++;for(d=[],n=0;n<r.length;n++)d[n]=r[n];for(n=0;n<r.length;n++)if(r[n]=r[n].replace(/<p>/gi,""),r[n]=r[n].replace(/<\/p>/gi,""),r[n].indexOf("<p")!=-1)for(yt=0;yt<r[n].length;yt++)if(nt=r[n].indexOf("<p"),v=0,nt!=-1)for(i=nt+4;i<r[n].length-7;i++)r[n].charAt(i)==">"&&v==0&&(r[n]=r[n].substr(0,nt)+r[n].substr(i+1,r[n].length-1),v++);for(n=0;n<r.length;n++)t=t.replace(d[n],r[n])}if(t.indexOf("<td")!=-1)for(n=0;n<2;n++)t=this._tdXhtml(t);if(t.indexOf("<tr")!=-1){for(var dt=/<tr(.*?)<\/tr>/ig,ut,ft=0,r=[];(ut=dt.exec(t))!=null;)r[ft]=ut[0],ft++;for(d=[],n=0;n<r.length;n++)d[n]=r[n];for(n=0;n<r.length;n++)y=r[n].lastIndexOf("<\/tr>"),lt=r[n].charAt(y-5)+r[n].charAt(y-4)+r[n].charAt(y-3)+r[n].charAt(y-2)+r[n].charAt(y-1),lt!="<\/td>"&&(r[n]=r[n].substr(0,y)+"<\/td>"+r[n].substr(y,r[n].length));for(n=0;n<r.length;n++)t=t.replace(d[n],r[n])}if(t.indexOf("<input")!=-1){for(var gt=/<input((?:(?!\/).))*?>/ig,ut,ft=0,r=[];(ut=gt.exec(t))!=null;)r[ft]=ut[0],ft++;for(d=[],n=0;n<r.length;n++)d[n]=r[n];for(n=0;n<r.length;n++)nt=r[n].indexOf(">"),r[n]=r[n].substr(0,nt)+"/"+r[n].substr(nt,r[n].length-1),v++;for(n=0;n<r.length;n++)t=t.replace(d[n],r[n]);t=t.replace(/<\/input>/gi,"")}if(t.indexOf("<param")!=-1){for(var gt=/<param((?:(?!\/).))*?>/ig,ut,ft=0,r=[];(ut=gt.exec(t))!=null;)r[ft]=ut[0],ft++;for(d=[],n=0;n<r.length;n++)d[n]=r[n];for(n=0;n<r.length;n++)nt=r[n].indexOf(">"),r[n]=r[n].substr(0,nt)+"/"+r[n].substr(nt,r[n].length-1),v++;for(n=0;n<r.length;n++)t=t.replace(d[n],r[n]);t=t.replace(/<\/param>/gi,"")}if(t.indexOf("<p ")!=-1||t.indexOf("<p>")!=-1){for(var fi=/<p(.*)<\/p>/ig,ni,ti=0,ot=[];(ni=fi.exec(t))!=null;)ot[ti]=ni[0],ti++;for(pt=[],n=0;n<ot.length;n++)pt[n]=ot[n];if(s=ot[0].length-1,u=ot[0],u.indexOf("<p")!=-1)for(c=u.indexOf("<p");c<=s;c++)if(y="",n=0,c<s-3&&(y=u.charAt(c)+u.charAt(c+1)),y=="<p")for(k=c+1;k<=s;k++)if((lt=u.charAt(k)+u.charAt(k+1)+u.charAt(k+2)+u.charAt(k+3))=="<\/p>"&&n++,(lt=u.charAt(k)+u.charAt(k+1))=="<p"){if(n==0&&u.indexOf("<div")!=-1&&(st=u.substr(c,k-c),st.indexOf("<div")!=-1)){for(tt=st.indexOf("<div"),at=0,h=c+tt+1;h<u.length-1;h++)y=u.charAt(h)+u.charAt(h+1)+u.charAt(h+2)+u.charAt(h+3)+u.charAt(h+4)+u.charAt(h+5),y=="<\/div>"&&at==0&&(ht=h);u=u.substr(0,c+tt)+"<\/span><\/p>"+u.substr(c+tt,-(c+tt)+ht+6)+"<p><span>"+u.substr(ht+6,u.length-1);n++}if(n==0){if(u.indexOf("<table")!=-1&&(st=u.substr(c,k-c),st.indexOf("<table")!=-1)){for(tt=st.indexOf("<table"),at=0,h=c+tt+1;h<u.length-1;h++)y=u.charAt(h)+u.charAt(h+1)+u.charAt(h+2)+u.charAt(h+3)+u.charAt(h+4)+u.charAt(h+5)+u.charAt(h+6)+u.charAt(h+7),y=="<\/table>"&&at==0&&(ht=h);u=u.substr(0,c+tt)+"<\/span><\/p>"+u.substr(c+tt,-(c+tt)+ht+8)+"<p><span>"+u.substr(ht+8,u.length-1);n++}n==0&&(u=u.substr(0,k-1)+"<\/p>"+u.substr(k,u.length-1),s++,n++)}}for(u=u.replace(/<\/p><\/p>/gi,"<\/p>"),ii=[],n=0;n<ot.length;n++)ii[n]=ot[n];for(n=0;n<2;n++)u=this._ptagXhtml(u);for(var ei=/<p(.*?)<\/p>/ig,ri,s=0,w=[];(ri=ei.exec(u))!=null;)w[s]=ri[0],s++;for(wt=[],n=0;n<w.length;n++)wt[n]=w[n];for(i=0;i<w.length;i++){if(w[i].indexOf("<table")!=-1){for(var ct=/<table(.*)<\/table>/ig,it,rt=0,o=[];(it=ct.exec(w[i]))!=null;)o[rt]=it[0],rt++;for(p=[],n=0;n<o.length;n++)p[n]=o[n];o[0]="<\/span><\/p>"+o[0]+"<p><span>";w[i]=w[i].replace(p[0],o[0])}if(w[i].indexOf("<div")!=-1){for(var ct=/<div(.*)<\/div>/ig,it,rt=0,o=[];(it=ct.exec(w[i]))!=null;)o[rt]=it[0],rt++;for(p=[],n=0;n<o.length;n++)p[n]=o[n];o[0]="<\/span><\/p>"+o[0]+"<p><span>";w[i]=w[i].replace(p[0],o[0])}}for(n=0;n<w.length;n++)u=u.replace(wt[n],w[n]);t=t.replace(pt[0],u)}if(t.indexOf("<span")!=-1){for(var oi=/<span(.*?)<\/span>/ig,ui,v=0,a=[];(ui=oi.exec(t))!=null;)a[v]=ui[0],v++;for(bt=[],n=0;n<a.length;n++)bt[n]=a[n];for(i=0;i<a.length;i++){if(a[i].indexOf("<table")!=-1){for(var ct=/<table(.*)<\/table>/ig,it,rt=0,o=[];(it=ct.exec(a[i]))!=null;)o[rt]=it[0],rt++;for(p=[],n=0;n<o.length;n++)p[n]=o[n];o[0]="<\/span>"+o[0]+"<span>";a[i]=a[i].replace(p[0],o[0])}if(a[i].indexOf("<div")!=-1){for(var ct=/<div(.*)<\/div>/ig,it,rt=0,o=[];(it=ct.exec(a[i]))!=null;)o[rt]=it[0],rt++;for(p=[],n=0;n<o.length;n++)p[n]=o[n];o[0]="<\/span>"+o[0]+"<span>";a[i]=a[i].replace(p[0],o[0])}if(a[i].indexOf("<p")!=-1){for(var ct=/<p(.*)<\/p>/ig,it,rt=0,o=[];(it=ct.exec(a[i]))!=null;)o[rt]=it[0],rt++;for(p=[],n=0;n<o.length;n++)p[n]=o[n];o[0]="<\/span>"+o[0]+"<span>";a[i]=a[i].replace(p[0],o[0])}}for(n=0;n<a.length;n++)t=t.replace(bt[n],a[n])}if(t.indexOf("<ol")!=-1){for(var vt=/<ol(.*?)<\/ol>/ig,et,v=0,e=[];(et=vt.exec(t))!==null;)e[v]=et[0].toString(),v++;for(g=[],s=0;s<e.length;s++)g[s]=e[s];for(n=0;n<e.length;n++)e[n]=e[n].replace(/<br\/>/gi,"");for(n=0;n<e.length;n++)t=t.replace(g[n],e[n])}if(t.indexOf("<table")!=-1){for(var vt=/<table(.*?)><\/table>/ig,et,v=0,e=[];(et=vt.exec(t))!==null;)e[v]=et[0].toString(),v++;for(g=[],s=0;s<e.length;s++)g[s]=e[s];for(n=0;n<e.length;n++)e[n]=e[n].replace(/<br\/>/gi,"");for(n=0;n<e.length;n++)t=t.replace(g[n],e[n])}if(t.indexOf("style")!=-1){for(var vt=/style="(.*?)"/ig,et,v=0,e=[];(et=vt.exec(t))!==null;)e[v]=et[1].toString(),v++;for(g=[],s=0;s<e.length;s++)g[s]=e[s];for(n=0;n<e.length;n++)e[n]=e[n].replace(/"/gi,"");for(n=0;n<e.length;n++)t=t.replace(g[n],e[n])}if(t.indexOf("style")!=-1){for(var vt=/style='(.*?)'/ig,et,v=0,e=[];(et=vt.exec(t))!==null;)e[v]=et[1].toString(),v++;for(g=[],s=0;s<e.length;s++)g[s]=e[s];for(n=0;n<e.length;n++)e[n]=e[n].replace(/"/gi,"");for(n=0;n<e.length;n++)t=t.replace(g[n],e[n])}if(t=this._styleXhtml(t),t=this._fontXhtml(t),t.indexOf("<br ")!=-1||t.indexOf("<br>")!=-1){for(var b=/<br(.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"<br/>")}if(t.indexOf("<b ")!=-1||t.indexOf("<b>")!=-1){for(var b=/<b((?:(?!r).))*?>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"<strong>").replace(/<\/b>/gi,"<\/strong>")}if(t.indexOf("<b ")!=-1){for(var b=/<b (.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"<strong>").replace(/<\/b>/gi,"<\/strong>")}if(t.indexOf("<u")!=-1){for(var b=/<u((?:(?!l).))*?>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],'<span style="text-decoration: underline;">').replace(/<\/u>/gi,"<\/span>")}if(t.indexOf("<hr")!=-1){for(var b=/<hr(.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"<hr/>")}if(t=this._startXhtml(t),t.indexOf("v:shapes=")!=-1){for(var b=/v:shapes=\"(.*?)\"/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("v:")!=-1){for(var b=/<v:(.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("/v:")!=-1){for(var b=/<\/v:(.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("o:")!=-1){for(var b=/<o:(.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("/o:")!=-1){for(var b=/<\/o:(.*?)>/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("role=")!=-1){for(var b=/role=\"(.*?)\"/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("target=")!=-1){for(var b=/target=\"(.*?)\"/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("language=")!=-1){for(var b=/language=\"(.*?)\"/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(n=0;n<f.length;n++)t=t.replace(f[n],"")}if(t.indexOf("lang=")!=-1){for(var b=/lang=\"(.*?)\"/ig,f=[],i=0;(htmlTagdup=b.exec(t))!=null;)f[i]=htmlTagdup[0],i++;for(kt=[],n=0;n<f.length;n++)kt[n]=f[n];for(n=0;n<f.length;n++)t=t.replace(kt[n],f[n].toLowerCase())}t=t.replace(/<\/td><\/td>/gi,"<\/td>");t=t.replace(/<\/th><\/td>/gi,"<\/th>");t="<div>"+t+"<\/div>";l=t;this.model.value=l}return l},_setClearFormat:function(){var n=this._rteToolbar.find(".e-active").length},_updateToolbarStatus:function(){var i=!1,t;if(this.model.showToolbar){for(t=0;t<this._styleItems.length;t++)this._getCommandStatus(n.trim(this._styleItems[t].toLowerCase()))?(this._toolBarObj.selectItemByID(this._rteId+this._styleItems[t]),n("#"+this._rteId+this._styleItems[t]).addClass("e-isactive")):(this._toolBarObj.deselectItemByID(this._rteId+this._styleItems[t]),n("#"+this._rteId+this._styleItems[t]).removeClass("e-isactive"));for(t=0;t<this._alignItems.length;t++)this._getCommandStatus(n.trim(this._alignItems[t].toLowerCase()))?(this._toolBarObj.selectItemByID(this._rteId+this._alignItems[t]),i=!0):this._toolBarObj.deselectItemByID(this._rteId+this._alignItems[t]);for(i||this._toolBarObj.selectItemByID(this._rteId+"justifyLeft"),t=0;t<this._scriptsItems.length;t++)this._getCommandStatus(n.trim(this._scriptsItems[t].toLowerCase()))?(this._toolBarObj.selectItemByID(this._rteId+this._scriptsItems[t]),n("#"+this._rteId+this._scriptsItems[t]).addClass("e-isactive")):(this._toolBarObj.deselectItemByID(this._rteId+this._scriptsItems[t]),n("#"+this._rteId+this._scriptsItems[t]).removeClass("e-isactive"));this._getCommandStatus("InsertOrderedList")?(this._toolBarObj.selectItemByID(this._rteId+"orderedList"),n("#"+this._rteId+"orderedList").addClass("e-isactive")):(this._toolBarObj.deselectItemByID(this._rteId+"orderedList"),n("#"+this._rteId+"orderedList").removeClass("e-isactive"));this._getCommandStatus("InsertUnorderedList")?(this._toolBarObj.selectItemByID(this._rteId+"unorderedList"),n("#"+this._rteId+"unorderedList").addClass("e-isactive")):(this._toolBarObj.deselectItemByID(this._rteId+"unorderedList"),n("#"+this._rteId+"unorderedList").removeClass("e-isactive"))}},_updateFormat:function(){if(this._formatDDL&&this.model.showToolbar&&!t.isNullOrUndefined(this.model.tools.formatStyle)){var i=n.trim(this._getCommandValue("formatblock").replace(/'/g,""));this._isIE()||(i="<"+i+">");this._formatDDL.hasClass("e-dropdownlist")&&(t.isNullOrUndefined(i)||i==""?this._formatDDL.ejDropDownList({value:this._getLocalizedLabels("format")}):!n(this._formatDDL).parents("ul.e-rte-format").length==0&&this._formatDDL.ejDropDownList("setSelectedValue",i))}},_updateFontOptionStatus:function(){var i,r;this.model.showFontOption&&this.model.showToolbar&&!t.isNullOrUndefined(this.model.tools.font)&&(i=n.trim(this._getCommandValue("fontname").replace(/"/g,"").replace(/'/g,"").replace(/, /g,",")),(t.isNullOrUndefined(i)||i=="")&&(i="Segoe UI"),this._fontStyleDDL.hasClass("e-dropdownlist")&&!n(this._fontStyleDDL).parents("ul.e-rte-fontgroup").length==0&&this._fontStyleDDL.ejDropDownList("setSelectedValue",i),r=this._getCommandValue("fontsize"),(t.isNullOrUndefined(r)||r=="")&&(r=2),this._fontSizeDDL.hasClass("e-dropdownlist")&&!n(this._fontSizeDDL).parents("ul.e-rte-fontgroup").length==0&&this._fontSizeDDL.ejDropDownList("setSelectedValue",r))},_getSelText:function(){var n="",r,t,i;return this._isIE()?n=this._seleText:window.getSelection?(r=this._getWindow().getSelection(),i=this._saveSelection(),t=document.createTextNode(i.toString()),n=t.nodeValue):document.getSelection&&(n=this._getWindow().document.getSelection()),n},_isIE:function(){var n=!1,i=t.browserInfo();return i.name=="msie"&&(n=!0),n},_isIE8:function(){var n=!1,i=t.browserInfo();return i.name=="msie"&&i.version=="8.0"&&(n=!0),n},_isUrl:function(n){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n)},_pasteHtml:function(t){var u,r,e,o,s,h,a,c,f,i,l;if(this._focus(),window.getSelection){if(u=this._getWindow().getSelection(),u.getRangeAt&&u.rangeCount){for(r=u.getRangeAt(0),e=r.commonAncestorContainer,o=e.nodeType==3?n(e).parentsUntil("body"):n(e).children(),i=o.length-1;i>=0;i--)if(o[i].textContent==r.toString()){r.selectNode(o[i]);break}for(r.deleteContents(),s=document.createElement("div"),s.innerHTML=t,h=this._getDocument().createDocumentFragment();a=s.firstChild;)c=h.appendChild(a);r.insertNode(h);c&&(r=r.cloneRange(),r.setStartAfter(c),r.collapse(!0),u.removeAllRanges(),u.addRange(r))}}else if(this._getDocument().selection&&this._getDocument().selection.type!="Control")if(!this._ieSelectionRange||this._ieSelectionRange.offsetLeft==0&&this._ieSelectionRange.offsetTop==0&&this._ieSelectionRange.boundingHeight==0)this._getDocument().body.insertAdjacentHTML("afterBegin",t);else{for(f=this._ieParents(this._getRange()),l=!1,i=f.length-1;i>=0;i--)if(f[i].innerText==this._getRange().text){f[i].nodeName=="BODY"?f[i].innerHTML=t:f[i].outerHTML=t;l=!0;break}l||this._getRange().pasteHTML(t)}},_ieParents:function(n){var t=[];for(n.parentElement=n.parentElement();n.parentElement.nodeName!="HTML";){if(n.parentElement.nodeName=="TD"||n.parentElement.nodeName=="TH")break;t.push(n.parentElement);n=n.parentElement}return t},_getLocalizedLabels:function(n){return t.RTE.Locale[this.model.locale][n]===i?t.RTE.Locale["en-US"][n]:t.RTE.Locale[this.model.locale][n]},_getSelectedNode:function(){var s=this._getRange(),e,i=this._ieSelectionRange&&s.offsetLeft==0&&s.offsetTop==0&&s.boundingHeight==0?this._ieSelectionRange:s,r=i.startContainer,o=i.endContainer,f=i.startOffset,u=i.endOffset;return(t.isNullOrUndefined(i.commonAncestorContainer)||(this._tempEle=i.commonAncestorContainer.nodeName=="BODY"?n(i.commonAncestorContainer):n(i.cloneContents()).text()==n(n(n(i.startContainer).parents("li")).contents()[0]).text()&&f==0&&u==n(i.startContainer).parents("li").text().length||f==u||f==0&&u==1?n(n(i.startContainer).parents("li")):i.commonAncestorContainer.nodeName=="OL"&&f!=u&&u!=0&&u!=1?n(i.commonAncestorContainer):n(i.startContainer)),!i)?this._getDocument().selection:i.setStart?(e=i.commonAncestorContainer,!i.collapsed&&(r==o&&u-f<2&&r.hasChildNodes()&&(e=r.childNodes[f]),r.nodeType===3&&o.nodeType===3&&(r=r.length===f?this._skipEmptyNode(r.nextSibling,!0):r.parentNode,o=u===0?this._skipEmptyNode(o.previousSibling,!1):o.parentNode,r&&r===o)))?r:e&&e.nodeType==3?e.parentNode:e:i.item?i.item(0):i.parentElement()},_skipEmptyNode:function(n,t){for(var i=n;n&&n.nodeType===3&&n.length===0;)n=t?n.nextSibling:n.previousSibling;return n||i},_getSelection:function(){var n;return this._isIE()?(n=this._getDocument().selection.createRange(),n.type=this._getDocument().selection.type):(n=window.getSelection(),n.rangeCount&&(sText=n.getRangeAt(0)),n.type=this._getWindow().getSelection().type),n},_saveSelection:function(){var i=this._getWindow(),r=i.document,n=i.getSelection?i.getSelection():r.selection,t,u;return n&&(n.createRange?t=n.createRange():n.rangeCount>0&&n.getRangeAt(0)?t=n.getRangeAt(0):n.anchorNode&&n.focusNode&&r.createRange?(t=r.createRange(),t.setStart(n.anchorNode,n.anchorOffset),t.setEnd(n.focusNode,n.focusOffset),t.collapsed!==n.isCollapsed&&(t.setStart(n.focusNode,n.focusOffset),t.setEnd(n.anchorNode,n.anchorOffset))):(u=document.getElementsByTagName("iframe")[0],i=u.contentWindow,t=i.document.createRange(),t.setStart(i.document.body,0),t.setEnd(i.document.body,0))),t},_restoreSelection:function(n){var i=this._getWindow(),r=i.document,t=i.getSelection?i.getSelection():r.selection;t&&n&&(n.select?n.select():t.removeAllRanges&&t.addRange&&(t.removeAllRanges(),t.addRange(n)))},_getRange:function(){var n,u;if(this._isIE8())return n=this._saveSelection(),u=this._ieSelectionRange&&n.offsetLeft==0&&n.offsetTop==0&&n.boundingHeight==0?this._ieSelectionRange:n,u;if(this._isIE())return this._ieSelection=window.getSelection&&(t.isNullOrUndefined(this._selectionRange)?!1:this._selectionRange.length>0)?this._selectionRange:this._saveSelection();if(this._getWindow().getSelection().rangeCount>0)return this._getWindow().getSelection().getRangeAt(0);var f=document.getElementsByTagName("iframe")[0],i=f.contentWindow,r=i.document.createRange();return r.setStart(i.document.body,0),r.setEnd(i.document.body,0),r},_setBackupData:function(){var t=this.getHtml(),i=this._backupArray.length;i==this.model.undoStackLimit+1&&this._backupArray.splice(0,1);t!=this._backupArray[i-1]&&this.model.undoStackLimit>0&&this._backupArray.push(t);this._undoRedoPosition=this._backupArray.length-1;this.model.showToolbar&&this._rteToolbar.find("li.e-rteItem-undo")&&this._backupArray.length>1&&!n("#"+this._rteId+"undo").hasClass("e-rteTooldisable")&&this._toolBarObj.enableItemByID(this._rteId+"undo")},_getSelectedHtmlString:function(){var i,e,o,r,u,f,t,s;if(typeof document.selection!="undefined"){for(i=this._ieParents(this._getRange()),e=!1,t=i.length-1;t>=0;t--)if(i[t].innerText==this._getRange().text){o=i[t].nodeName=="BODY"?i[t].innerHTML:i[t].outerHTML;e=!0;break}return e||(o=this._getRange().htmlText.substring(0,1)=="<"?this._getRange().text:this._getRange().htmlText),o}for(r=this._getRange(),u=r.commonAncestorContainer,f=u.nodeType==3?n(u).parentsUntil("body"):n(u).children(),t=f.length-1;t>=0;t--)if(f[t].textContent==r.toString()){r.selectNode(f[t]);break}return s=document.createElement("div"),s.appendChild(r.cloneContents()),s.innerHTML},_getText:function(){var n=this._getDocument().body;if(n!=null)return this._isIE()?n.innerText:n.textContent},_validateMaxLength:function(n){if(this.model.maxLength!=null){var t=this.model.maxLength,i=this._getText();t<=i.length&&(n.keyCode<47||n.ctrlKey&&n.keyCode==65||n.ctrlKey&&n.keyCode==67||n.ctrlKey&&n.keyCode==86||n.ctrlKey&&n.keyCode==88||(this._keypressFlag=!1,this._cancelEvent(n)))}},_cancelEvent:function(n){return n.returnValue=!1,n.stopPropagation(),n.preventDefault(),!1},_alignToolUpdate:function(n){for(var t=0;t<this._alignItems.length;t++)this._alignItems[t]===n?this._toolBarObj.selectItemByID(this._rteId+n):this._toolBarObj.deselectItemByID(this._rteId+this._alignItems[t])},_getCommandStatus:function(n){return this._getDocument().queryCommandState(n)},_getCommandValue:function(n){var i=this._getDocument().queryCommandValue(n),r;if(this._isIE()){if(n=="fontname"){for(r=0;r<this.model.fontName.length;r++)if(i==this.model.fontName[r].text){i=this.model.fontName[r].value;break}(t.isNullOrUndefined(i)||i=="")&&(i=this.model.fontName[0].value)}if(n=="formatblock"){for(r=2;r<this.model.format.length;r++)if(i==this.model.format[r].text){i=this.model.format[r].value;break}i=="Normal"&&(i=this.model.format[0].value)}}return i},_undo:function(){this._undoRedoPosition>0&&(this.setHtml(this._backupArray[this._undoRedoPosition-1]),this._undoRedoPosition--,this._updateToolbarStatus(),this._updateFontOptionStatus(),this._updateFormat(),this._updateCharCount(),this._toolBarObj.enableItemByID(this._rteId+"redo"));this._undoRedoPosition==0&&(this._toolBarObj.disableItemByID(this._rteId+"undo"),this._toolBarObj.enableItemByID(this._rteId+"redo"));this._focus()},_redo:function(){var n;this._undoRedoPosition!=this._backupArray.length&&(this._backupArray[this._undoRedoPosition+1]!=null?(n=this._backupArray[this._undoRedoPosition+1],this.setHtml(n),this._undoRedoPosition++):(n=this._backupArray[this._backupArray.length-2],t.isNullOrUndefined(n)||this.setHtml(n),this._undoRedoPosition=this._backupArray.length-2),this._updateToolbarStatus(),this._updateFontOptionStatus(),this._updateFormat(),this._updateCharCount(),t.isNullOrUndefined(this._toolBarObj)||(this._backupArray.length-1>0&&this._toolBarObj.enableItemByID(this._rteId+"undo"),this._undoRedoPosition==this._backupArray.length-1&&this._toolBarObj.disableItemByID(this._rteId+"redo")));this._focus()},_setContent:function(n){var t=this._getDocument();t!=""&&(t.open(),t.write(n),t.close(),t.EditMode=!0)},_tableCellStart:function(){this._tableInsertAt=this._saveSelection()},_tableCellSelect:function(i){var r,e=n(i.target),u=e.parent().index(),f=e.index();this._createTable.find("div.e-rte-tablecell").each(function(){r=n(this);r.index()<=f&&r.parent().index()<=u?r.addClass("e-active"):r.removeClass("e-active")});this._tblheaderDiv.html(f+1+"x"+(u+1)+" Table");n(this._getDocument()).find("table.e-rte-tableremove").remove();t.isNullOrUndefined(this._tableInsertAt)||(this._restoreSelection(this._tableInsertAt),this._onInsertTable(u+1,f+1,!0))},_tableCellLeave:function(){this._createTable.find("div.e-rte-tablecell").removeClass("e-active");n(this._getDocument()).find("table.e-rte-tableremove").remove();this._tblheaderDiv.html(this._getLocalizedLabels("createTable"))},_tableCellDown:function(i){var u=n(i.target),f=u.parent().index()+1,e=u.index()+1,r;this._focus();n(this._getDocument()).find("table.e-rte-tableremove").remove();t.isNullOrUndefined(this._tableInsertAt)||(this._restoreSelection(this._tableInsertAt),this._onInsertTable(f,e,!1));r=n(this._getDocument()).find("table.e-rte-table");r.attr("contentEditable",!1);r.find("td").attr("contentEditable",!0);this._createTable.ejDialog("close");this._setBackupData();this._onChange();this.model.isResponsive&&this._toolBarObj._liTemplte&&(this._toolBarObj._liTemplte.addClass("e-display-none"),this._toolBarObj.contstatus=!1)},_tableGenerator:function(n,i,r,u,f,e,o,s,h,c){var l="e-rte-table";r&&(l+=" e-rte-tableremove");u=t.isNullOrUndefined(u)||u==""?"width='100%'":"width="+u+"'";f=t.isNullOrUndefined(f)||f==""?"":"height='"+f+"'";e=t.isNullOrUndefined(e)||e==""?"":"cellspacing='"+e+"'";o=t.isNullOrUndefined(o)||o==""?"":"cellpadding='"+o+"'";s=t.isNullOrUndefined(s)?"":" align='"+s+"'";switch(h){case"dotted":borderstyle="dotted";break;case"double":return this._border="style='border:3px double black'",borderstyle="double","<table border='1' class='"+l+"' "+u+" "+f+" "+this._border+" "+e+" "+o+" "+s+">"+(c?"<caption><\/caption>":"")+Array(n+1).join("<tr>"+Array(i+1).join("<td><br _moz_dirty=''/><\/td>")+"<\/tr>")+"<\/table>";case"dashed":borderstyle="dashed";break;case"solid":borderstyle="solid";break;default:borderstyle="solid"}return borderstyle!="double"?(this._border="style='border:1px "+borderstyle+" black'","<table border='1' class='"+l+"' "+u+" "+f+" "+this._border+" "+e+" "+o+" "+s+">"+(c?"<caption><\/caption>":"")+Array(n+1).join("<tr>"+Array(i+1).join("<td><br _moz_dirty=''/><\/td>")+"<\/tr>")+"<\/table>"):"<table border='1' class='"+l+"' "+u+" "+f+" "+this._border+" "+e+" "+o+" "+s+">"+(c?"<caption><\/caption>":"")+Array(n+1).join("<tr>"+Array(i+1).join("<td><br _moz_dirty=''/><\/td>")+"<\/tr>")+"<\/table>"},_openCustomTable:function(n){n.currentTarget.id==this._rteId+"_createCustomTableLink"?this._customTableDialog.ejDialog("open"):this._createTable.find("div.e-rte-eTblProperties").hasClass("e-disable")||(this._eTblManager(),this._eTblDialog.ejDialog("open"),this._on(this._getTableObj("Width"),"focusout",this._widthFocusOut))},_documentClick:function(i){if(!t.isNullOrUndefined(this._createTable)&&n(i.target).parents("#"+this._rteId+"tables").length<=0?(this._createTable.ejDialog("isOpened")&&this._createTable.ejDialog("close"),this._createTable.find("div.e-rte-eTblProperties").addClass("e-disable")):n(this._createTable.find("div.e-rte-eTblProperties").hasClass("e-disable")).addClass("e-disable"),this._isIE()&&!window.getSelection){var r=i.target.id;r==""&&(r=i.target.parentNode.id);(r==this._rteId+"_fontSize"||r==this._rteId+"_fontName"||r==this._rteId+"_format"||r==this._rteId+"_fontSize_dropdown"||r==this._rteId+"_fontName_dropdown"||r==this._rteId+"_format_dropdown")&&this._restoreSelection(this._selectionRange)}},_iframeFocus:function(i){!t.isNullOrUndefined(this._createTable)&&this._createTable.ejDialog("isOpened")&&this._createTable.ejDialog("close");!n(this._fontSizeDDL).parents("ul.e-rte-fontgroup").length==0&&!t.isNullOrUndefined(this._fontSizeDDL)&&this._fontSizeDDL.hasClass("e-dropdownlist")&&this._fontSizeDDL.ejDropDownList("hidePopup");!n(this._fontStyleDDL).parents("ul.e-rte-fontgroup").length==0&&!t.isNullOrUndefined(this._fontStyleDDL)&&this._fontStyleDDL.hasClass("e-dropdownlist")&&this._fontStyleDDL.ejDropDownList("hidePopup");!n(this._formatDDL).parents("ul.e-rte-format").length==0&&!t.isNullOrUndefined(this._formatDDL)&&this._formatDDL.hasClass("e-dropdownlist")&&this._formatDDL.ejDropDownList("hidePopup");t.isNullOrUndefined(this._createTable)||this._createTable.ejDialog("close");t.isNullOrUndefined(this._splitMenu)||this._splitMenu.hide(i);t.isNullOrUndefined(this._bgSplitMenu)||this._bgSplitMenu.hide(i)},_iframeKeyDown:function(t){var i,r;if(this.model.showToolbar&&this.model.allowKeyboardNavigation)if(t&&t.ctrlKey==!0){if(t.keyCode==66)return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-bold"),i.hasClass("e-disable")||(this._onBold(),i.hasClass("e-active")?this._toolBarObj.deselectItemByID(this._rteId+"bold"):this._toolBarObj.selectItemByID(this._rteId+"bold")),!1;if(t.keyCode==73)return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-italic"),i.hasClass("e-disable")||(this._onItalics(),i.hasClass("e-active")?this._toolBarObj.deselectItemByID(this._rteId+"italic"):this._toolBarObj.selectItemByID(this._rteId+"italic")),!1;if(t.keyCode==85)return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-underline"),i.hasClass("e-disable")||(this._onUnderLine(),i.hasClass("e-active")?this._toolBarObj.deselectItemByID(this._rteId+"underline"):this._toolBarObj.selectItemByID(this._rteId+"underline")),!1;if(t.keyCode!=76||t.altKey){if(t.keyCode==82)return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-justifyRight"),i.hasClass("e-disable")||(this._onJustifyRight(),this._alignToolUpdate("justifyRight")),!1;if(t.keyCode!=69||t.altKey)if(t.keyCode!=74||t.altKey)if(t.keyCode!=90||t.altKey){if(t.keyCode==89)return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-redo"),i.hasClass("e-disable")||this._onRedo(),!1;if(t.keyCode==67)i=this._toolBarItems.find("li.e-rteItem-copy"),i.hasClass("e-disable")&&(this._keypressFlag=!1,t.preventDefault());else if(t.keyCode==88)i=this._toolBarItems.find("li.e-rteItem-cut"),i.hasClass("e-disable")&&(this._keypressFlag=!1,t.preventDefault());else if(t.keyCode==86)i=this._toolBarItems.find("li.e-rteItem-paste"),i.hasClass("e-disable")&&(this._keypressFlag=!1,t.preventDefault());else{if(t.keyCode==77)return t.shiftKey==!0?(t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-outdent"),i.hasClass("e-disable")||(this._onOutdent(),this._indentdepth>0&&this._indentdepth--),!1):(t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-indent"),i.hasClass("e-disable")||(this._onIndent(),this._indentdepth++),!1);if(t.keyCode==75)return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-createLink"),i.hasClass("e-disable")||this._hyperLinkManager(),!1}}else return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-undo"),i.hasClass("e-disable")||this._onUndo(),!1;else return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-justifyFull"),i.hasClass("e-disable")||(this._onJustifyFull(),this._alignToolUpdate("justifyFull")),!1;else return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-justifyCenter"),i.hasClass("e-disable")||(this._onJustifyCenter(),this._alignToolUpdate("justifyCenter")),!1}else return t.preventDefault(),i=this._toolBarItems.find("li.e-rteItem-justifyLeft"),i.hasClass("e-disable")||(this._onJustifyLeft(),this._alignToolUpdate("justifyLeft")),!1}else if(t.keyCode==127){if((this.getHtml()==this.getSelHtmlString()||this._currentIFrame.get_Text()==this._currentIFrame.getSelText())&&(r=this.ClearAllManager(),!r))return t.preventDefault(),r}else t.keyCode==8&&(ele=this._getSelectedNode(),n(ele).parents("BLOCKQUOTE").length>0&&(this._onOutdent(),t.preventDefault()));else t.ctrlKey==!0&&(t.keyCode==66||t.keyCode==73||t.keyCode==85||t.keyCode==76||t.keyCode==82||t.keyCode==69||t.keyCode==74||t.keyCode==90||t.keyCode==89||t.keyCode==67||t.keyCode==88||t.keyCode==86||t.keyCode==8||t.keyCode==46)&&t.preventDefault();this.model.maxLength!=null&&this._validateMaxLength(t);this._trigger("keydown",{keyCode:t.keyCode})},_iframeKeypress:function(n){if(!this._keypressFlag)return n.preventDefault(),this._keypressFlag=!0,!1},_iframeKeyUp:function(n){this._toggleEditTable();this._setBackupData();this._updateToolbarStatus();this._updateFontOptionStatus();this._updateFormat();this._updateCharCount();var i=this._getSelectedNode();this._updateTagInfo(i);this._isIE()?(this._selectionRange="",this._ieSelectionRange=this._getRange(),this._seleText=t.isNullOrUndefined(this._getWindow().document.selection)?this._selectionRange.toString():this._getWindow().document.selection.createRange().text):this._ieSelectionRange=this._ieSelection;this._trigger("keyup",{keyCode:n.keyCode})},_iframeMouseUp:function(n){this._currentSelNode=n.target;this._toggleEditTable();this._updateToolbarStatus();this._updateFontOptionStatus();this._updateFormat();this._isIE()?(this._selectionRange="",this._ieSelectionRange=this._getRange(),this._seleText=t.isNullOrUndefined(this._getWindow().document.selection)?this._selectionRange.toString():this._getWindow().document.selection.createRange().text):this._ieSelectionRange=this._ieSelection},_iframeMouseDown:function(i){t.browserInfo().name=="msie"&&t.browserInfo().version=="8.0"&&this._focus();this._updateTagInfo(i.target);this._updateIndent(i.target);(t.browserInfo().name=="msie"||t.browserInfo().name=="chrome")&&i.ctrlKey==!0&&i.which==1&&(i.target.tagName.toUpperCase()!="A"||t.isNullOrUndefined(n(i.target).attr("href"))||window.open(n(i.target).attr("href"),n(i.target).attr("target")));this.model.isResponsive&&this._toolBarObj._liTemplte.children("ul").length>0&&(this._toolBarObj.contstatus=!0,this._toolBarObj._liTemplte.addClass("e-display-none"),this._toolBarObj.contstatus=!1);this._iframeFocus()},_iframeFocusOut:function(){this._onChange();this._selectionRange=this._isIE8()?this._getRange():this._saveSelection();this._seleText=t.isNullOrUndefined(this._getWindow().document.selection)?this._selectionRange.toString():this._getWindow().document.selection.createRange().text},_widthFocusOut:function(t){var r,u,f;t.currentTarget.id===this._rteId+"_txtWidth"?(r=this._customTableDialog,u="#"+this._rteId+"_ddlAlignment",f="#"+this._rteId+"_txtWidth"):(r=this._eTblDialog,u="#"+this._rteId+"_eTblAlign",f="#"+this._rteId+"_eTblWidth");var i=r.find(f).val(),e=n(u).data("ejDropDownList"),o=i&&!isNaN(i)||i.slice(-2)=="px"||i.slice(-2)=="em"||i.slice(-2)=="pt"||i.slice(-1)=="%"?!0:!1;e.option("enabled",o)},_wireEvents:function(){var i=n(this._getDocument());this._getDocument()!=""&&(t.isNullOrUndefined(this._createTable)||(this._on(this._createTable,"mouseenter","div.e-rte-tablecell",this._tableCellStart),this._on(this._createTable,"mousemove","div.e-rte-tablecell",this._tableCellSelect),this._on(this._createTable,"mouseleave","div.e-rte-table",this._tableCellLeave),this._on(this._createTable,"mousedown","div.e-rte-tablecell",this._tableCellDown),this._on(n(document),"click",this._documentClick)),this._on(i,"focus",this._iframeFocus),this._on(i,"keydown",this._iframeKeyDown),this._on(i,"keypress",this._iframeKeypress),this._on(i,"keyup",this._iframeKeyUp),this._on(i,"mouseup",this._iframeMouseUp),this._on(i,"mousedown",this._iframeMouseDown),this._on(i,"focusout",this._iframeFocusOut),t.isNullOrUndefined(this._customTableDialog)||this._on(this._customTableDialog.find(".e-rte-txtWidth"),"focusout",this._widthFocusOut))},_unwireEvents:function(){var i=n(this._getDocument());t.isNullOrUndefined(this._createTable)||(this._off(this._createTable.find("div.e-rte-tablecell"),"mousemove"),this._off(this._createTable.find("div.e-rte-table"),"mouseleave"),this._off(this._createTable.find("div.e-rte-tablecell"),"mousedown"),this._off(n(document),"click",this._documentClick));this._off(i,"focus");this._off(i,"keydown");this._off(i,"keyup");this._off(i,"mouseup");this._off(i,"mousedown");this._off(i,"blur");t.isNullOrUndefined(this._customTableDialog)||this._off(this._customTableDialog.find(".e-rte-txtWidth"),"focusout")},_footerEvents:function(n){this[n](this._htmlSource,"click",this._sourceCodeManager);this[n](this._clearFormat,"click",this._onClearFormat);this[n](this._clearAll,"click",this._clearAllManager)},_onChange:function(){if(_prevhtml=n.trim(this.value()),_prevhtml!==this.getHtml()){this._updateValue();var t={text:this._getText(),htmlText:this.getHtml()};this._trigger("change",t)}},disable:function(){this._unwireEvents();this.model.showToolbar&&this._toolBarObj.disable();this._rteIframe.contents().find("body").attr("contenteditable",!1);this._rteEditor.addClass("e-disable");this.model.showFooter&&(this._rteFooter.addClass("e-disable"),this._resize.removeClass("e-resizable"),this._footerEvents("_off"))},enable:function(){this._wireEvents();this.model.showToolbar&&this._toolBarObj.enable();this._rteIframe.contents().find("body").attr("contenteditable",!0);this._rteEditor.removeClass("e-disable");this.model.showFooter&&(this._rteFooter.removeClass("e-disable"),this._resize.addClass("e-resizable"),this._footerEvents("_on"))},disableToolbarItem:function(i){t.isNullOrUndefined(i)||this._toolBarObj.disableItemByID(i);i==this._rteId+"undo"&&n("#"+i).addClass("e-rteTooldisable")},enableToolbarItem:function(i){t.isNullOrUndefined(i)||this._toolBarObj.enableItemByID(i);i==this._rteId+"undo"&&n("#"+i).hasClass("e-rteTooldisable");n("#"+i).removeClass("e-rteTooldisable")},removeToolbarItem:function(n){t.isNullOrUndefined(n)||this._toolBarObj.removeItemByID(n);this._setIframeHeight()},refresh:function(){this._unwireEvents();this._setIFrames();this._setIframeHeight();this._wireEvents();this.model.enableRTL&&this._rteIframe.contents().find("body").css("direction","rtl")},show:function(){this._rteWapper.show()},hide:function(){this._rteWapper.hide()},setColorPickerType:function(n){n=="palette"||n==="picker"?this._imgPicker.option("modelType",n):this._imgPicker.option("modelType","default")},getHtml:function(){if(this.model.enableXHTML)return n.trim(this.model.value);try{return n.trim(this._getDocument().body.innerHTML)}catch(t){return""}},setHtml:function(t){this._getDocument().body.innerHTML="";this._getDocument().body.innerHTML=n.trim(t)},getText:function(){return this._getText()},executeCommand:function(i,r){var u,f;if(this._isIE8()&&t.isNullOrUndefined(this._ieSelectionRange)&&(this._ieSelectionRange=this._getRange()),this._trigger("execute",{commandName:i}))return!1;if(u="",t.browserInfo().name=="chrome"&&this._getWindow().getSelection().rangeCount==0&&this._restoreSelection(this._saveSelection()),i=="underline"){if(window.getSelection&&(u=n(this._getWindow().getSelection().anchorNode).parents("a"),u.length>0)){n(u).css("text-decoration",n(u).css("text-decoration")=="none"?"underline":"none");return}}else{if(i.toLowerCase()=="inserthtml"){this._isIE()?this._pasteHtml(r):this._getDocument().execCommand(i,!1,r);return}i.toLowerCase()=="formatblock"&&this._isIE()&&r.charAt(0)!="<"&&r.charAt(r.length-1)!=">"&&(r="<"+r+">")}t.browserInfo().name=="msie"&&this._focus();this._isIE()&&i=="fontName"&&(r=r.substring(0,r.indexOf(",")));!t.isNullOrUndefined(this._tempEle)&&this._tempEle.length>0&&this._tempEle.get(0).nodeName=="#text"&&n(this._tempEle.parents("li")).length>0&&n(this._tempEle.parents("li")).prop("style")["font-size"]!=""&&(f=n(this._tempEle.parents("li")).css("font-size"));this._getDocument().execCommand(i,!1,r);this._onChange();i!="fontName"&&i!="fontSize"&&i!="indent"&&i!="outdent"&&(this._toolBarObj.itemsContainer.find("li#"+this._rteId+i).hasClass("e-active")?this._toolBarObj.deselectItemByID(this._rteId+i):this._toolBarObj.selectItemByID(this._rteId+i));t.isNullOrUndefined(this._tempEle)||this._bulletsResizing(f,i);this._setBackupData()},_bulletsResizing:function(i,r){if(!t.isNullOrUndefined(this._tempEle.get(0)))var u=this._tempEle.get(0).tagName=="BODY"?this._tempEle.find("li"):this._tempEle.get(0).nodeName!="#text"?n(this._tempEle.parents("body")).find("li"):"";u!=""&&n(u).each(function(){fonttag=n(this).find("font")[0]||"";fonttag!=""&&(n(this).css("font-size",n(n(fonttag)[0]).css("font-size")),n(u).find("font").removeAttr("style"))});r=="fontSize"&&(this._getCommandStatus("InsertOrderedList")||this._getCommandStatus("InsertOrderedList"))&&(this._tempEle.get(0).tagName=="LI"||this._tempEle.get(0).tagName=="OL")&&(this._tempEle.css("font-Size",this._tempEle.find("font").css("font-Size")),n(this._tempEle.find("font")).removeProp("style")["font-size"]);i!=null&&(n(this._tempEle.parents("li")).css("font-size",i),n(this._tempEle.parents("li")).find("font").removeAttr("style"))},focus:function(){this._focus()},getCommandStatus:function(n){if(t.isNullOrUndefined(n)||n!="")return this._getCommandStatus(n)},getSelectedHtml:function(){return this._getSelectedHtmlString()},insertRow:function(i,r){var e=t.isNullOrUndefined(r)?this._getSelectedNode():r,o="<td "+this._border+"contentEditable='true'><br _moz_dirty=''/><\/td>",u=n(e).closest("tr"),s=u.find("td").length,f=n("<tr>"+Array(s+1).join(o)+"<\/tr>");i?f.insertBefore(u):f.insertAfter(u);u.find("td:first").focus()},insertColumn:function(i,r){for(var e=t.isNullOrUndefined(r)?this._getSelectedNode():r,o="<td "+this._border+"contentEditable='true'><br _moz_dirty=''/><\/td>",s=n(e).closest("tr"),u,h=s.closest("table").find("tr"),c=s.find("td").index(e),f=0;f<h.length;f++)u=n(h[f]).find("td")[c],i?n(o).insertBefore(u):n(o).insertAfter(u)},removeRow:function(i){var r=t.isNullOrUndefined(i)?this._getSelectedNode():i;curRow=n(r).closest("tr").remove()},removeColumn:function(i){for(var u=t.isNullOrUndefined(i)?this._getSelectedNode():i,f=n(u).closest("tr"),e=f.closest("table").find("tr"),o=f.find("td").index(u),r=0;r<e.length;r++)n(n(e[r]).find("td")[o]).remove()},removeTable:function(i){var r=t.isNullOrUndefined(i)?n(this._getSelectedNode()).closest("table"):i;n(r).remove()}});t.RTE.Locale={};t.RTE.Locale["en-US"]={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Align text center",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",unorderedList:"Insert unordered list",orderedList:"Insert ordered list",indent:"Indent",fileBrowser:"File Browser",outdent:"Decrease Indent",cut:"Cut",copy:"Copy",paste:"Paste",paragraph:"Paragraph",undo:"Undo",redo:"Redo",upperCase:"Upper Case",lowerCase:"Lower Case",clearAll:"Clear All",clearFormat:"Clear Format",createLink:"Insert/Edit hyperlink",image:"Insert image",video:"Insert video",editTable:"Edit Table Properties",embedVideo:"Paste your embed code below",viewHtml:"View HTML",fontName:"Select font family",fontSize:"Select font size",fontColor:"Select color",format:"Format",backgroundColor:"Background color",style:"Styles",deleteAlert:"Are you sure you want to clear all the contents?",copyPastAlert:"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.",videoError:"The text area can not be empty",imageWebUrl:"Web Address",imageAltText:"Image description",dimensions:"Dimensions",constrainProportions:"Constrain Proportions",linkWebUrl:"Web Address",imageLink:"Image as Link",imageBorder:"Image Border",imageStyle:"Style",linkText:"Text",linkToolTip:"ToolTip",html5Support:"This tool icon only enabled in HTML5 supported browsers",linkOpenInNewWindow:"Open link in new window",tableColumns:"No.of Columns",tableRows:"No.of Rows",tableWidth:"Width",tableHeight:"Height",tableCellSpacing:"Cell spacing",tableCellPadding:"Cell padding",tableBorder:"Border",tableCaption:"Caption",tableAlignment:"Alignment",textAlign:"Text align",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",dialogApply:"Apply",dialogOk:"Ok",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete the row",deleteColumn:"Delete the column",deleteTable:"Delete the table",customTable:"Create custom table...",characters:"Characters",general:"General",advanced:"Advanced",table:"Table",row:"Row",column:"Column",cell:"Cell",solid:"Solid",dotted:"Dotted",dashed:"Dashed",doubled:"Doubled"}}(jQuery,Syncfusion),function(n,t,r){t.widget("ejRibbon","ej.Ribbon",{element:null,validTags:["div"],model:null,_rootCSS:"e-ribbon",defaults:{width:null,applicationTab:{Type:null,text:null,backStageHeight:null,backStageWidth:null,backStagePage:[{id:null,text:null,backStageItemType:"tab",contentId:null,enableSeparator:!1}],itemID:null,menuSettings:{}},tabs:[{id:null,text:null,groups:[{text:null,type:null,contentID:null,customContent:null,alignType:"rows",enableGroupExpander:!1,content:[{groups:[{id:null,text:null,toolTip:null,customToolTip:{title:null,content:null,prefixIcon:null},columns:null,itemHeight:null,itemWidth:null,expandedColumns:null,type:"button",galleryItems:[{text:null,toolTip:null,customToolTip:{},buttonSettings:{}}],customGalleryItems:[{text:null,toolTip:null,customToolTip:{},customItemType:"button",buttonSettings:{},menuId:"",menuSettings:{}}],contentID:null,enableSeparator:!1,isBig:null,cssClass:null,buttonSettings:{},splitButtonSettings:{},toggleButtonSettings:{},dropdownSettings:{}}],defaults:{}}]}]}],contextualTabs:[{backgroundColor:null,borderColor:null,tabs:[]}],onTabSelect:null,onTabClick:null,onTabAdd:null,onTabRemove:null,beforeTabRemove:null,onTabCreate:null,create:null,groupClick:null,onGalleryItemClick:null,onBackStageItemClick:null,onRibbonCollapse:null,onToggleButtonClick:null,groupExpand:null,selectedItemIndex:1,enabledItemIndex:[],disabledItemIndex:[0],allowResizing:!1,locale:"en-US",destory:null},dataTypes:{tabs:"array",contextualTabs:"array",disabledItemIndex:"data",enabledItemIndex:"data",selectedItemIndex:"number"},_destroy:function(){this.element.ejTab("destroy");this.element.find(".e-contextul").removeAttr("style")},_tags:[{tag:"applicationTab.backStagePage",attr:["id","text","backStageItemType","contentId","enableSeparator"]},{tag:"tabs",attr:["id","text",[{tag:"groups",attr:["text","alignType","type","contentID",[{tag:"content",attr:["defaults.type","defaults.width","defaults.height","defaults.isBig",[{tag:"groups",attr:["id","columns","itemHeight","itemWidth","expandedColumns","contentID","text","type","toolTip","width","enableSeparator","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","splitButtonSettings.contentType","splitButtonSettings.prefixIcon","splitButtonSettings.targetID","splitButtonSettings.buttonMode","splitButtonSettings.arrowPosition","splitButtonSettings.type","splitButtonSettings.click","splitButtonSettings.enabled","splitButtonSettings.showRoundedCorner","splitButtonSettings.enableRTL","splitButtonSettings.size","splitButtonSettings.height","splitButtonSettings.imagePosition","splitButtonSettings.width","splitButtonSettings.text","splitButtonSettings.suffixIcon","splitButtonSettings.create","splitButtonSettings.itemMouseOver","splitButtonSettings.itemSelected","splitButtonSettings.beforeOpen","splitButtonSettings.destroy","splitButtonSettings.cssClass","dropdownSettings.dataSource","dropdownSettings.text","dropdownSettings.value","dropdownSettings.select","dropdownSettings.width","dropdownSettings.showRoundedCorner","dropdownSettings.showPopupOnLoad","dropdownSettings.allowMultiSelection","dropdownSettings.enableRTL","dropdownSettings.enabled","dropdownSettings.caseSensitiveSearch","dropdownSettings.showCheckbox","dropdownSettings.checkAll","dropdownSettings.uncheckAll","dropdownSettings.enablePersistence","dropdownSettings.enableIncrementalSearch","dropdownSettings.readOnly","dropdownSettings.allowGrouping","dropdownSettings.fields","dropdownSettings.selectedItems","dropdownSettings.itemsCount","dropdownSettings.selectedItemIndex","dropdownSettings.height","dropdownSettings.cssClass","dropdownSettings.itemValue","dropdownSettings.popupHeight","dropdownSettings.targetID","dropdownSettings.waterMarkText","dropdownSettings.template","dropdownSettings.cascadeTo","dropdownSettings.query","dropdownSettings.create","dropdownSettings.popupHide","dropdownSettings.popupShown","dropdownSettings.beforePopupShown","dropdownSettings.change","dropdownSettings.checkChange","dropdownSettings.enableAnimation","dropdownSettings.destroy","toggleButtonSettings.contentType","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.type","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.click","toggleButtonSettings.enabled","toggleButtonSettings.showRoundedCorner","toggleButtonSettings.enableRTL","toggleButtonSettings.enablePersistence","toggleButtonSettings.toggleState","toggleButtonSettings.preventToggle","toggleButtonSettings.size","toggleButtonSettings.imagePosition","toggleButtonSettings.height","toggleButtonSettings.width","toggleButtonSettings.cssClass","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.defaultSuffixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.create","toggleButtonSettings.change","toggleButtonSettings.destroy","customToolTip.title","customToolTip.content","customToolTip.prefixIcon",[{tag:"galleryItems",attr:["text","toolTip","customToolTip.title","customToolTip.content","customToolTip.prefixIcon","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy"]},{tag:"customGalleryItems",attr:["text","toolTip","customToolTip.title","customToolTip.content","customToolTip.prefixIcon","menuId","customItemType","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","menuSettings.openOnClick","menuSettings.enableCenterAlign","menuSettings.showRooltLevelArrows","menuSettings.showSubLevelArrows","menuSettings.enableSeparator","menuSettings.enabled","menuSettings.orientation","menuSettings.menuType","menuSettings.animationType","menuSettings.subMenuDirection","menuSettings.fields","menuSettings.cssClass","menuSettings.contextMenuTarget","menuSettings.excludeTarget","menuSettings.height","menuSettings.width","menuSettings.titleText","menuSettings.create","menuSettings.beforeOpen","menuSettings.open","menuSettings.close","menuSettings.mouseover","menuSettings.mouseout","menuSettings.keydown","menuSettings.destroy"]}]]}]]}]]}]]},{tag:"contextualTabs",attr:["backgroundColor","borderColor",[{tag:"tabs",attr:["id","text",[{tag:"groups",attr:["text","alignType","type","contentID",[{tag:"content",attr:["defaults.type","defaults.width","defaults.height","defaults.isBig",[{tag:"groups",attr:["id","columns","itemHeight","itemWidth","expandedColumns","contentID","text","type","toolTip","width","enableSeparator","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","splitButtonSettings.contentType","splitButtonSettings.prefixIcon","splitButtonSettings.targetID","splitButtonSettings.buttonMode","splitButtonSettings.arrowPosition","splitButtonSettings.type","splitButtonSettings.click","splitButtonSettings.enabled","splitButtonSettings.showRoundedCorner","splitButtonSettings.enableRTL","splitButtonSettings.size","splitButtonSettings.height","splitButtonSettings.imagePosition","splitButtonSettings.width","splitButtonSettings.text","splitButtonSettings.suffixIcon","splitButtonSettings.create","splitButtonSettings.itemMouseOver","splitButtonSettings.itemSelected","splitButtonSettings.beforeOpen","splitButtonSettings.destroy","splitButtonSettings.cssClass","dropdownSettings.dataSource","dropdownSettings.text","dropdownSettings.value","dropdownSettings.select","dropdownSettings.width","dropdownSettings.showRoundedCorner","dropdownSettings.showPopupOnLoad","dropdownSettings.allowMultiSelection","dropdownSettings.enableRTL","dropdownSettings.enabled","dropdownSettings.caseSensitiveSearch","dropdownSettings.showCheckbox","dropdownSettings.checkAll","dropdownSettings.uncheckAll","dropdownSettings.enablePersistence","dropdownSettings.enableIncrementalSearch","dropdownSettings.readOnly","dropdownSettings.allowGrouping","dropdownSettings.fields","dropdownSettings.selectedItems","dropdownSettings.itemsCount","dropdownSettings.selectedItemIndex","dropdownSettings.height","dropdownSettings.cssClass","dropdownSettings.itemValue","dropdownSettings.popupHeight","dropdownSettings.targetID","dropdownSettings.waterMarkText","dropdownSettings.template","dropdownSettings.cascadeTo","dropdownSettings.query","dropdownSettings.create","dropdownSettings.popupHide","dropdownSettings.popupShown","dropdownSettings.beforePopupShown","dropdownSettings.change","dropdownSettings.checkChange","dropdownSettings.enableAnimation","dropdownSettings.destroy","toggleButtonSettings.contentType","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.type","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.click","toggleButtonSettings.enabled","toggleButtonSettings.showRoundedCorner","toggleButtonSettings.enableRTL","toggleButtonSettings.enablePersistence","toggleButtonSettings.toggleState","toggleButtonSettings.preventToggle","toggleButtonSettings.size","toggleButtonSettings.imagePosition","toggleButtonSettings.height","toggleButtonSettings.width","toggleButtonSettings.cssClass","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.defaultSuffixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.create","toggleButtonSettings.change","toggleButtonSettings.destroy","customToolTip.title","customToolTip.content","customToolTip.prefixIcon",[{tag:"galleryItems",attr:["text","toolTip","customToolTip.title","customToolTip.content","customToolTip.prefixIcon","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy"]},{tag:"customGalleryItems",attr:["text","toolTip","customToolTip.title","customToolTip.content","customToolTip.prefixIcon","menuId","customItemType","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","menuSettings.openOnClick","menuSettings.enableCenterAlign","menuSettings.showRooltLevelArrows","menuSettings.showSubLevelArrows","menuSettings.enableSeparator","menuSettings.enabled","menuSettings.orientation","menuSettings.menuType","menuSettings.animationType","menuSettings.subMenuDirection","menuSettings.fields","menuSettings.cssClass","menuSettings.contextMenuTarget","menuSettings.excludeTarget","menuSettings.height","menuSettings.width","menuSettings.titleText","menuSettings.create","menuSettings.beforeOpen","menuSettings.open","menuSettings.close","menuSettings.mouseover","menuSettings.mouseout","menuSettings.keydown","menuSettings.destroy"]}]]}]]}]]}]]}]]}],_setModel:function(t){var o,r,c,e,i,u,f;for(o in t)switch(o){case"selectedItemIndex":this.model.selectedItemIndex>0&&this._tabObj.model.disabledItemIndex.indexOf(this.model.selectedItemIndex)===-1&&this._ribbonTabs.eq(this.model.selectedItemIndex).is(":visible")&&this._tabObj.option({selectedItemIndex:this.model.selectedItemIndex});break;case"disabledItemIndex":var r,l=this.model.disabledItemIndex.length,s=this.model.disabledItemIndex,a=this.element.find(".e-link"),h;for(this.model.disabledItemIndex.push(0),this._tabObj.option({disabledItemIndex:this.model.disabledItemIndex}),i=0;i<l;i++)r=this._ribbonTabs.eq(s[i]).parent().parent(),(r.hasClass("e-contextli")||r.hasClass("e-contextliset"))&&r.addClass("e-disable"),this._tabObj.model.selectedItemIndex!=0&&this._tabObj.model.selectedItemIndex===s[i]&&(h=a.eq(s[i]).attr("href"),n(h).append(this.element.find("#"+this._id+"_disabled")),n(h).css("position","relative"),this.element.find("#"+this._id+"_disabled").show());break;case"enabledItemIndex":for(c=this.model.enabledItemIndex.length,e=this._tabUl.find(".e-contextualtabset"),i=0;i<c;i++)this.model.enabledItemIndex[i]!==0&&this._ribbonTabs.eq(this.model.enabledItemIndex[i]).is(":visible")||(this.model.enabledItemIndex.splice(i,1),--c,--i);for(this._conTabsRemove(),this._tabObj.option({enabledItemIndex:this.model.enabledItemIndex}),this._contextualTabs(),u=0;u<this.model.enabledItemIndex.length;u++)this._tabText.eq(this.model.enabledItemIndex[u]).parent().removeClass("e-disable"),this._tabText.eq(this.model.enabledItemIndex[u]).parent().css("position",""),r=this._ribbonTabs.eq(this.model.enabledItemIndex[u]).parent().parent(),(r.hasClass("e-contextli")||r.hasClass("e-contextliset"))&&r.removeClass("e-disable"),this.model.enabledItemIndex[u]==this._tabObj.model.selectedItemIndex&&this.element.find("#"+this._id+"_disabled").hide();for(f=0;f<e.length;f++)n(e[f]).hasClass("e-disable")&&n(e[f]).parents(".e-contextliset").addClass("e-disable");break;case"allowResizing":this._ribbonWindowResize();break;case"width":this.element.width(t[o]);this._ribbonWindowResize()}},_setTabContentHeight:function(){for(var r=this.element.find(".e-groupdiv"),t=[],i=0;i<r.length;i++)t.push(n(r[i]).height());t.sort();this.element.find(".e-content").height(t[t.length-1])},_init:function(){t.isNullOrUndefined(this.element)||(this._render(),this._wireEvents())},_render:function(){var r,u;this._renderTab();this._initPrivateProperties();this._groupingControls();this._customization();this.element.append(t.buildTag("div#"+this._id+"_disabled"));r=this.element.find(".e-content");this.element.find("#"+this._id+"_disabled").height(n(r).height()).width(this.model.width);this.element.find("#"+this._id+"_disabled").css({top:0,left:0,position:"absolute"}).addClass("e-disable");this.element.find("#"+this._id+"_disabled").hide();this.model.disabledItemIndex.length===0&&(this.model.disabledItemIndex.push(0),this._tabObj.option({disabledItemIndex:this.model.disabledItemIndex}));u=t.buildTag("div#"+this._id+"_resize").addClass("e-resizediv").hide();this.element.append(u);var i=t.buildTag("div#"+this._id+"_tooltip").addClass("e-tooltipdiv").hide(),f=t.buildTag("div#"+this._id+"_toolTip_title").addClass("e-tooltiptitle"),e=t.buildTag("div#"+this._id+"_toolTip_Desc").addClass("e-tooltipdesc");i.append(f);i.append(e);this.element.append(i)},_tooltip:function(t){var i=this.element.find(".e-controlclicked");(i.length<=0||n(i).find(".e-ribbonbtn").length>0)&&(this.element.find("#"+t.data.ribbonId+"_resize").is(":visible")||this.element.find(".e-gallexpandcontent").is(":visible")?(n(t.target).parents(".e-resizediv").length>0||n(t.target).parents(".e-gallexpandcontent").length>0)&&this._toolTipShow(t):this._toolTipShow(t))},_toolTipShow:function(i){var r=this.element.find("#"+i.data.ribbonId+"_tooltip"),e,c,s,u,o,f,l,h;r.find(".e-tooltiptitle").length<=0&&(l=t.buildTag("div#"+i.data.ribbonId+"_toolTip_title").addClass("e-tooltiptitle"),r.prepend(l));r.removeClass("e-tooltipdivwithimg");o=r.find(".e-tooltiptitle");o.children().remove();t.isNullOrUndefined(i.data.value.customToolTip.title)?o.remove():o.append(i.data.value.customToolTip.title);t.isNullOrUndefined(i.data.value.customToolTip.content)||(o.children().length<=0&&o.empty().append("<b>"+i.data.value.customToolTip.title+"<\/b>"),u=r.find(".e-tooltipdesc"),u.children().remove(),u.append(i.data.value.customToolTip.content),u.children().length<=0&&u.empty().append("<h6>"+i.data.value.customToolTip.content+"<\/h6>"),t.isNullOrUndefined(i.data.value.customToolTip.prefixIcon)?u.children().addClass("e-tooltipcontent"):(u.prepend("<span class=e-tooltipimg><\/span>"),u.find(".e-tooltipimg").addClass(i.data.value.customToolTip.prefixIcon),u.children().not("."+i.data.value.customToolTip.prefixIcon).addClass("e-tooltipcntwithimg"),r.addClass("e-tooltipdivwithimg")));e=this.element.find("#"+i.delegateTarget.id).offset();r.stop(!0).delay(700).show(0).addClass("e-rbntooltipshadow");s=this.element.find("#"+i.data.ribbonId+"_resize");f=n(i.target).parents(".e-gallexpandcontent");this.element.css({position:"relative"});c=s.is(":visible")&&!f.is(":visible")?s.height()+s.position().top+2+parseInt(n(s).css("padding-top"),10):f.is(":visible")?n(f).parents(".e-resizediv").length>0?f.height()+this.element.height()+2+f.position().top:f.height()+this.element.find(".e-header").height()+2+f.position().top:n("#"+i.data.ribbonId).height();h=this.element.width()+this.element.offset().left-(e.left+parseInt(n(r).width(),10));e.left=h<=0?e.left+h-this.element.offset().left:e.left-this.element.offset().left;r.offset({top:c,left:e.left})},_toolTipOut:function(n){var t=this.element.find("#"+n.data.ribbonId+"_tooltip");t.hide(0);t.css({top:"",left:""});t.find(".e-tooltiptitle").children().remove();t.find(".e-tooltipdesc").children().remove()},_onGroupClick:function(i){var r=n(i.target).parents(".e-controlpadding"),u,f,e,o;this.element.find(".e-tooltipdiv").hide(0);n(r).find(".e-ribbongallerycontrol").length<=0&&(n(r).hasClass("e-controlclicked")?n(r).removeClass("e-controlclicked"):n(r).addClass("e-controlclicked"));n(i.target).parents(".e-ribbongallerycontrol").length===0&&(this._trigger("groupClick",i),i.cancel||!t.raiseWebFormsServerEvents||t.isNullOrUndefined(this.model.serverEvents)||this.model.serverEvents.indexOf("groupClick")!=-1&&(u=n.extend(!0,{},this.model),f=i.target.id?i.target.id:i.target.parentNode.id,e={model:u,originalEventType:"groupClick",id:f},o={model:u,id:f},t.raiseWebFormsServerEvents("groupClick",e,o)))},_onTabClick:function(t){var r=this.element.find(".e-rarrowdown-2x"),e=this.element.find("li.e-active"),i=this.element.find(".e-collapseactive"),u,o,f=this.element.find(".e-active-content");e.length>0?(e.removeClass("e-active"),f.removeClass("e-active-content").hide()):i.length>0&&(t.activeHeader.textContent===i.find(".e-link").text()?(i.addClass("e-active").removeClass("e-collapseactive"),f.removeClass("e-collapse-content").slideDown("slow")):(u=this.element.find(".e-link"),i.removeClass("e-collapseactive"),this.element.find(".e-collapse-content").removeClass("e-collapse-content"),f.removeClass("e-active-content"),o=u.eq(t.activeIndex).attr("href"),u.eq(t.activeIndex).addClass("e-active"),n(o).slideDown("slow")));r.length>0&&(r.parent().removeClass("e-collapsed").addClass("e-expanded"),r.removeClass("e-rarrowdown-2x").addClass("e-rarrowup-2x"),this._isCollapsed=!1);this._trigger("onTabClick",t)},_onTabSelect:function(i){var o=this.element.find("li.e-active"),r,u,f;if(this.model.selectedItemIndex=i.activeIndex,o.hasClass("e-disable")||(r=this.element.find(".e-link"),u=r.eq(i.activeIndex).attr("href"),f=n(u).find("#"+this._id+"_disabled"),f&&this.element.find("#"+this._id+"_disabled").hide()),this.model.allowResizing&&this._ribbonWindowResize(),this._trigger("onTabSelect",i),t.isOnWebForms&&t.raiseWebFormsServerEvents&&!t.isNullOrUndefined(this.model.serverEvents)&&this.model.serverEvents.indexOf("onTabSelect")!=-1){var e=n.extend(!0,{},this.model),s={model:e,originalEventType:"onTabSelect",activeIndex:i.activeIndex,prevActiveIndex:i.prevActiveIndex},h={model:e,activeIndex:i.activeIndex,prevActiveIndex:i.prevActiveIndex};t.raiseWebFormsServerEvents("onTabSelect",s,h)}},_onTabAdd:function(n){this._trigger("onTabAdd",n)},_onTabRemove:function(n){this._trigger("onTabRemove",n)},_beforeTabRemove:function(n){this._trigger("beforeTabRemove",n)},_create:function(n){this._trigger("onTabCreate",n)},_onGalMoveUpClick:function(t){var i=this.element.find("#"+t.data.galleryId),r=i.find(".e-gallerycontent").children(":visible").first().prev();this.element.find(".e-gallexpandcontent:visible").length>0&&this._ribbonGalleryShow();r.length>0&&(i.find(".e-gallerycontent").children(":visible").last().hide(),r.show().width(i.find(".e-galleryrow").first().width()),n(r).hasClass("e-gryfirstrow")&&i.find(".e-moveupdiv").addClass("e-disablegrymovebtn"),i.find(".e-movedowndiv").removeClass("e-disablegrymovebtn"))},_onGalMoveDownClick:function(t){var i=this.element.find("#"+t.data.galleryId),r=i.find(".e-gallerycontent").children(":visible").last().next();this.element.find(".e-gallexpandcontent:visible").length>0&&this._ribbonGalleryShow();r.length>0&&(i.find(".e-gallerycontent").children(":visible").first().hide(),r.show().width(i.find(".e-galleryrow").first().width()),n(r).hasClass("e-grylastrow")&&i.find(".e-movedowndiv").addClass("e-disablegrymovebtn"),i.find(".e-moveupdiv").removeClass("e-disablegrymovebtn"))},_onGalContentClick:function(t){var i=this.element.find("#"+t.data.galleryId);n(t.target).hasClass("e-gallerybtn")?(i.find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).addClass("e-galleryselect")):n(t.target).parents(".e-gallerybtn")&&(i.find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).parents(".e-gallerybtn").addClass("e-galleryselect"))},_onExpandContentClick:function(t){var i=this.element.find("#"+t.data.galleryId);n(t.target).hasClass("e-gallerybtn")?(i.parent().find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).addClass("e-galleryselect")):n(t.target).parents(".e-gallerybtn")&&(i.parent().find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).parents(".e-gallerybtn").addClass("e-galleryselect"))},_onExpandGalleryClick:function(i){var e,r=this.element.find("#"+i.data.galleryId),u=i.data.expandedColumns,f,o,s,h;for(this.element.find(".e-gallexpandcontent:visible").length>0&&this._ribbonGalleryShow(),t.isNullOrUndefined(i.data.expandedColumns)&&(u=i.data.columns),e=Math.floor(r.find(".e-galleryrow").children().length/u),r.find(".e-galleryrow").children().length%u>0&&++e,f=1;f<=e;f++){for(o=t.buildTag("div#"+r.attr("id")+"_galleryExpanderRow_"+f).addClass("e-galleryexpanderrow").click({model:r},n.proxy(this._onGalleryItemClick,this)),s=0;s<u;s++)r.find(".e-galleryrow").children().eq(0).appendTo(o);o.appendTo(this.element.find("#"+r.attr("id")).parent().find(".e-expandercontent"))}for(r.hide(),h=0;h<i.data.columns;h++)r.find(".e-galleryrow").eq(0).append("<div><\/div>");this.element.find(".e-resizediv").is(":visible")&&(this.element.find(".e-resizediv").css("visibility","hidden"),this.element.find(".e-resizediv .e-gallexpandcontent").css("visibility","visible"));this.element.find("#"+r.attr("id")).parent().find(".e-gallexpandcontent").show();this.element.find("#"+r.attr("id")).parent().find(".e-expandercontent").height()>160&&this.element.find("#"+r.attr("id")).parent().find(".e-gallscrollcontent").ejScroller({height:160})},_onGalleryItemClick:function(i){var r,f,u,e,o;r={target:i.target,galleryModel:i.data.model,cancel:!1};n(r.target).hasClass("e-galleryexpanderrow")||(this._trigger("onGalleryItemClick",r),i.preventDefault(),t.raiseWebFormsServerEvents&&!t.isNullOrUndefined(this.model.serverEvents)&&this.model.serverEvents.indexOf("onGalleryItemClick")!=-1&&(f=n.extend(!0,{},this.model),u=r.target.id?r.target.id:r.target.parentNode.id,e={model:f,originalEventType:"onGalleryItemClick",id:u},o={model:i.data.model,id:u},t.raiseWebFormsServerEvents("onGalleryItemClick",e,o)))},_OnKeyDown:function(n){(n.keyCode===38||n.keyCode===39)&&this.model.tabs.length===this._tabObj.model.selectedItemIndex&&n.stopImmediatePropagation()},_ribAnimationClose:function(n){this._trigger("onRibbonCollapse",n)},collapse:function(){var t=this.element.find(".e-active-content"),i=this.element.find("#"+this._id+"_togglebutton");t.slideUp("fast","swing",n.proxy(this._ribAnimationClose,this,{action:"collapse"}));this.element.find("li.e-active").removeClass("e-active").addClass("e-collapseactive e-select");t.addClass("e-collapse-content");this._selectedItemIndex=this._tabObj.model.selectedItemIndex;this._tabObj.option({selectedItemIndex:0});this._tabObj.model.selectedItemIndex=0;this.model.selectedItemIndex=0;i.removeClass("e-expanded").addClass("e-collapsed");i.find("span").removeClass("e-rarrowup-2x").addClass("e-rarrowdown-2x");this._isCollapsed=!0},expand:function(){var t=this.element.find(".e-active-content"),i=this.element.find("#"+this._id+"_togglebutton");t.slideDown("fast","swing",n.proxy(this._ribAnimationClose,this,{action:"expand"}));this.element.find(".e-collapseactive").addClass("e-active").removeClass("e-collapseactive");t.removeClass("e-collapse-content");this._tabObj.model.selectedItemIndex=this._selectedItemIndex;this.model.selectedItemIndex=this._selectedItemIndex;i.removeClass("e-collapsed").addClass("e-expanded");i.find("span").removeClass("e-rarrowdown-2x").addClass("e-rarrowup-2x");this.model.allowResizing&&this._ribbonWindowResize();this._isCollapsed=!1},_onGroupExpandClick:function(n){this._trigger("groupExpand",n)},_onBackStageItemClick:function(t){var i,r;t.preventDefault();n(t.target).hasClass("e-backstagebutton")&&this.element.find(".e-ribbonbackstagepage").hide();this.element.find(".e-backstageactive-content").removeClass("e-backstageactive-content").hide();this.element.find(".e-backstageactive").removeClass("e-backstageactive");this.element.find(t.data.contentDivId).addClass("e-backstageactive-content").show();n(t.target).hasClass("e-backstageli")?n(t.target).addClass("e-backstageactive"):n(t.target).parents(".e-backstageli").addClass("e-backstageactive");i=this.element.find(".e-ribbonbackstagetop").height();this.element.find(".e-backstagescrollcontent").ejScroller({height:0});this.element.find(".e-backstageactive-content").height()>t.data.height-i&&this.element.find(".e-backstagescrollcontent").ejScroller({height:t.data.height-i});r={target:t.target,type:"onBackStageItemClick",cancel:!1};this._trigger("onBackStageItemClick",r)},_onBackStageTopIcon:function(){this.element.find(".e-ribbonbackstagepage").hide()},_onApplicationTabClick:function(){var n,i,t;this.model.applicationTab.Type==="BackStagePage"&&(this.element.css({position:"relative"}),this.element.find(".e-ribbonbackstagepage").offset({top:0}).show(),n=this.element.find(".e-backstageheader").width(),this.element.find(".e-backstagetopcontent").width(n),this.element.find(".e-backstageheader").width(n),t=this.element.find(".e-ribbonbackstagetop").height(),this.element.find(".e-backstageactive-content").removeClass("e-backstageactive-content").hide(),this.element.find(".e-backstageactive").removeClass("e-backstageactive"),this.element.find(".e-backstageli").first().addClass("e-backstageactive"),this.element.find(".e-backstagecontent").first().addClass("e-backstageactive-content").show(),this.element.find(".e-backstagescrollcontent").ejScroller({height:0}),this.element.find(".e-backstageactive-content").height()>this.model.applicationTab.backStageHeight-t&&this.element.find(".e-backstagescrollcontent").ejScroller({height:this.model.applicationTab.backStageHeight-t}),i={target:this.element.find(".e-backstageli").first().children(),type:"onBackStageItemClick",cancel:!1},this._trigger("onBackStageItemClick",i))},_initPrivateProperties:function(){this._tabUl=this.element.find(".e-header");this._applicationTab=this.element.find(".e-apptab");this._ribbonTabs=this._tabUl.find(":not('a')");this._tabText=this.element.find(".e-link");this._id=this.element.attr("id");this._tabObj=this.element.data("ejTab");this._isCollapsed=!1;this._contextualTabSet="";this._resizeWidth=0;this._selectedItemIndex=0},_getLocalizedLabels:function(n){return t.Ribbon.Locale[this.model.locale][n]===r?t.Ribbon.Locale["en-US"][n]:t.Ribbon.Locale[this.model.locale][n]},_customization:function(){var c,l={},a,r,u,f,e,v,s,h,o,y,w,p,i;if(this._contextualTabs(),c="<div id="+this._id+'_togglebutton class="e-expanded"><span class="e-icon e-rarrowup-2x"><\/span><\/div>',a=t.buildTag("li#"+this._id+"_expandCollapse.e-expandcollapse",c),this._tabUl.append(a),this.model.applicationTab.Type==="ApplicationMenu"?(this._applicationTab.find(".e-link").hide(),this.model.applicationTab.menuSettings&&(l=this.model.applicationTab.menuSettings),n("#"+this.model.applicationTab.itemID).appendTo(this._applicationTab),n("#"+this.model.applicationTab.itemID).ejMenu(l),this.model.applicationTab.Type!=null&&n("#"+this._id+"_"+this.model.applicationTab.Type.replace(/\s/g,"")).hide()):this._applicationTab.find(".e-link").text(this.model.applicationTab.text),this._applicationTab.click(n.proxy(this._onApplicationTabClick,this)),this.element.find(".e-content").css("box-sizing","content-box"),this.model.applicationTab.Type==="BackStagePage"){for(r=t.buildTag("div#"+this._id+"_BackStage").addClass("e-ribbonbackstagepage").height(this.model.applicationTab.backStageHeight).width(this.model.applicationTab.backStageWidth).hide(),o=t.buildTag("div#"+this._id+"_BackStageBody").addClass("e-ribbonbackstagebody").height(this.model.applicationTab.backStageHeight-50),f=t.buildTag("ul#"+this._id+"_BackStageHeader").addClass("e-backstageheader").height(this.model.applicationTab.backStageHeight-50),i=0;i<this.model.applicationTab.backStagePage.length;i++)e=t.buildTag("li").addClass("e-backstageli").click({contentDivId:"#"+this._id+"_BackStage_"+this.model.applicationTab.backStagePage[i].id.replace(/\s/g,""),height:this.model.applicationTab.backStageHeight},n.proxy(this._onBackStageItemClick,this)),t.isNullOrUndefined(this.model.applicationTab.backStagePage[i].backStageItemType)&&(this.model.applicationTab.backStagePage[i].backStageItemType=t.Ribbon.backStageItemType.tab),this.model.applicationTab.backStagePage[i].backStageItemType==t.Ribbon.backStageItemType.tab?(v=t.buildTag("a",this.model.applicationTab.backStagePage[i].text,{},{href:"#"+this._id+"_BackStage_"+this.model.applicationTab.backStagePage[i].id.replace(/\s/g,"")}),e.append(v)):e.append(this.model.applicationTab.backStagePage[i].text).addClass("e-backstagebutton"),f.append(e),this.model.applicationTab.backStagePage[i].enableSeparator&&(p=t.buildTag("li").addClass("e-backstageseparator"),f.append(p)),this.model.applicationTab.backStagePage[i].backStageItemType==t.Ribbon.backStageItemType.tab&&(u=t.buildTag("div#"+this._id+"_BackStage_"+this.model.applicationTab.backStagePage[i].id.replace(/\s/g,"")).addClass("e-backstagecontent").css({width:"auto"}),i>0&&u.hide(),this.model.applicationTab.backStagePage[i].contentId&&(n("#"+this.model.applicationTab.backStagePage[i].contentId).find("*").addClass("e-backstagechild"),n(u).append(n("#"+this.model.applicationTab.backStagePage[i].contentId))),o.append(u));o.prepend(f);h=t.buildTag("div#"+this._id+"_BackStageTop").addClass("e-ribbonbackstagetop").height(50);y=t.buildTag("div#"+this._id+"_BackStageTopContent").addClass("e-backstagetopcontent").appendTo(h);w=t.buildTag("div#"+this._id+"_BackStageTopIcon","<span><\/span>").addClass("e-backstagetopicon").click(n.proxy(this._onBackStageTopIcon,this)).appendTo(y);r.append(h);s=t.buildTag("div#"+this._id+"_backStageScrollContent","<div><\/div>").addClass("e-backstagescrollcontent");s.children().append(o);r.append(s);this._applicationTab.find("a").addClass("e-apptabanchor");this.element.append(r)}},_conTabsRemove:function(){for(var r=this.element.find(".e-contextli,.e-contextliset"),t,i=0;i<r.length;i++)t=n(r[i]),t.is(":visible")?t.find("li").insertAfter(t.eq(0)):t.find("li").hide().insertAfter(t.eq(0)),t.remove()},_contextualTabs:function(){var i,f,e,r,u;if(this.model.contextualTabs)for(r=0;r<this.model.contextualTabs.length;r++)if(i=this.model.contextualTabs[r],i.tabs.length>0){for(f=t.buildTag("li.e-contextliset"),this._contextualTabSet=this._tabUl.children(".e-contextualtabset").filter(function(){return n(this).text()===i.tabs[0].text}),this._contextualTabSet.before(f),this._tabUl.children(".e-contextualtabset").find("a").css("color",i.borderColor),e=t.buildTag("ul.e-contextul","",{background:i.backgroundColor,"border-top-color":i.borderColor}),u=0;u<i.tabs.length;u++)e.append(this._tabUl.children(".e-contextualtabset").filter(function(){return n(this).text()===i.tabs[u].text}));e.appendTo(f)}},showContextualTab:function(t){this.element.find(".e-contexttitle").filter(function(){return n(this).text()===t}).parent().parent().show()},hideContextualTab:function(t){this.element.find(".e-contexttitle").filter(function(){return n(this).text()===t}).parent().parent().hide();this._tabObj.option({selectedItemIndex:this._tabObj.model.selectedItemIndex+1})},hideTab:function(t){for(var f=this._tabText.map(function(i){if(n(this).text()===t)return i})[0],i,h=this._tabObj.model.disabledItemIndex.length,s=!0,o=this.element.find(".e-link").eq(f).attr("href"),u,e=this._tabText.filter(function(){return n(this).text()===t}).parents(".e-contextualtabset"),r=0;r<h;r++)this._tabObj.model.disabledItemIndex[r]===f&&(s=!1);s&&(e.length>0?e.hide():this._tabText.filter(function(){return n(this).text()===t}).parent().hide(),n(o).hasClass("e-active-content")&&(n(o).hide(),n(o).removeClass("e-active-content")));this._tabUl.find(".e-active").is(":hidden")&&(i=this._getVisibleItemIndex(this._tabText),i&&(u=this.element.find(".e-link").eq(i).attr("href"),n(this._tabText[i]).parent().hasClass("e-disable")?(n(this._tabText[f]).parent().removeClass("e-active"),n(this._tabText[i]).parent().addClass("e-active"),n(u).append(this.element.find("#"+this._id+"_disabled")),n(u).css("position","relative"),this.element.find("#"+this._id+"_disabled").show(),n(u).show(),this._tabObj.option("selectedItemIndex",i)):this._tabObj.option("selectedItemIndex",i),this._tabObj.model.selectedItemIndex=i,this.model.selectedItemIndex=i))},showTab:function(t){var u=this._tabText.map(function(i){if(n(this).text()===t)return i})[0],i,r=this._tabText.filter(function(){return n(this).text()===t}).parent();i=this._tabText.filter(function(){return n(this).text()===t}).parents(".e-contextualtabset");i.length>0?i.show():this._tabText.filter(function(){return n(this).text()===t}).parent().show();r.hasClass("e-active")||r.addClass("e-select")},_getVisibleItemIndex:function(t){for(var i=0;i<t.length;){if(n(t[i]).is(":visible"))return i;i++}},removeTab:function(t){var i,r;this._tabObj.model&&t>0&&(this._ribbonTabs=this._tabUl.find(".e-link").parent(),r=this._ribbonTabs.eq(t).children().attr("href"),i=this._ribbonTabs.eq(t),i.hasClass("e-contextualtab")?i.parent().remove():i.hasClass("e-contextualtabset")?i.siblings(".e-contextualtabset").length===0?i.parent().remove():i.remove():i.remove(),n(r).remove(),this._tabObj.model.selectedItemIndex===t&&(this._ribbonTabs=this._tabUl.find(".e-link").parent(),i=this._ribbonTabs.eq(t),i.addClass("e-active"),r=i.children().attr("href"),n(r).addClass("e-active-content e-activetop").show()))},addTabGroup:function(i,r,u){var s,c=0,h=0,e,l,a,y,v,f,o;if(l=this._tabUl.find(".e-select,.e-active").eq(i),s=l.children("a").attr("href"),n(l).hasClass("e-tab"))for(f=0;f<this.model.tabs.length;f++)f===i-1&&(h=this.model.tabs[f].groups.length,t.isNullOrUndefined(u)&&(u=h),this.model.tabs[f].groups.splice(u,0,r),e=this.model.tabs[f]);else for(c=this.model.tabs.length,f=0;f<this.model.contextualTabs.length;f++)for(o=0;o<this.model.contextualTabs[f].tabs.length;o++)++c,c===i&&(h=this.model.contextualTabs[f].tabs[o].groups.length,t.isNullOrUndefined(u)&&(u=h),this.model.contextualTabs[f].tabs[o].groups.splice(u,0,r),e=this.model.contextualTabs[f].tabs[o]);t.isNullOrUndefined(e.groups[u])||(a=t.isNullOrUndefined(e.groups[u].text)?e.groups[u].text:e.groups[u].text.replace(/\s/g,""),y=this._createControls(u,e,a),v=this._addControlsToGroup(u,e,a,y),n(s).children().eq(u).length>0?n(s).children().eq(u).before(v):n(s).append(v))},addTabGroupContent:function(i,r,u,f,e){var k,v=0,s,y,d,a,p,h,w,l,b,o,c;if(y=this._tabUl.find(".e-select,.e-active").eq(i),k=y.children("a").attr("href"),y.hasClass("e-tab"))for(o=0;o<this.model.tabs.length;o++)if(o===i-1)if(t.isNullOrUndefined(this.model.tabs[o].groups[r].content))for(v=this.model.tabs.length,o=0;o<this.model.contextualTabs.length;o++)for(c=0;c<this.model.contextualTabs[o].tabs.length;c++)++v,v===i&&(t.isNullOrUndefined(this.model.contextualTabs[o].tabs[c].groups[r].content)||(t.isNullOrUndefined(e)&&(e=this.model.contextualTabs[o].tabs[c].groups[r].content[u].groups.length),this.model.contextualTabs[o].tabs[c].groups[r].content[u].groups.splice(e,0,f),s=this.model.contextualTabs[o].tabs[c]));else t.isNullOrUndefined(e)&&(e=this.model.tabs[o].groups[r].content[u].groups.length),this.model.tabs[o].groups[r].content[u].groups.splice(e,0,f),s=this.model.tabs[o];t.isNullOrUndefined(s.groups[r])||(d=t.isNullOrUndefined(s.groups[r].text)?s.groups[r].text:s.groups[r].text.replace(/\s/g,""),a=this._createControls(r,s,d),l=t.buildTag("div"),p=a.find(".e-innerdiv,.e-innerdivrow").eq(u).find(".e-controlpadding").eq(e),w=a.find("#"+p.attr("id")).next(),w.hasClass("e-separatordivrow")&&l.append(w),l.prepend(p),h=n(k).children().eq(r).find(".e-innerdiv,.e-innerdivrow").eq(u),b=n(h).parent().height(),h.find(".e-controlpadding").eq(e).length>0?h.find(".e-controlpadding").eq(e).before(l.children()):h.append(l.children()),n(h).parent().height()>b&&this.element.find(".e-content").height(this.element.find(".e-content").height()+(n(h).parent().height()-b)),a.children().remove())},addTab:function(n,r,u){var e={id:n.replace(/\s/g,""),text:n,groups:r},h=this.model.tabs.length;if(t.isNullOrUndefined(u)&&(u=this._tabUl.find(".e-select,.e-active").length),u>0){for(this._conTabsRemove(),this._tabObj.addItem("#"+this._id+"_"+n.replace(/\s/g,""),n,u),this._contextualTabs(),this._tabUl.find(".e-select,.e-active").eq(u).addClass("e-tab"),this._tabUl.find(".e-select > a,.e-active > a ").eq(u).addClass("e-link"),this.model.tabs.splice(u-1,0,e),i=0;i<1;i++)for(tabs=this.model.tabs[u-1],j=0;j<tabs.groups.length;j++)if(!t.isNullOrUndefined(tabs.groups[j])){var f=t.isNullOrUndefined(tabs.groups[j].text)?tabs.groups[j].text:tabs.groups[j].text.replace(/\s/g,""),o=this._createControls(j,tabs,f),s=this._addControlsToGroup(j,tabs,f,o);tabcont=this.element.find("#"+this._id+"_"+tabs.id);tabcont.append(s).addClass("e-parentdiv")}this._setTabContentHeight();this.element.find(".e-content").css("box-sizing","content-box")}},addContextualTabs:function(n,i){var o=this.model.contextualTabs.length,r;if(t.isNullOrUndefined(i)&&(i=this._tabUl.find(".e-select,.e-active").length),i>0){for(this._conTabsRemove(),r=0;r<n.tabs.length;r++)this._tabObj.addItem("#"+this._id+"_"+n.tabs[r].id,n.tabs[r].text,i),this._tabUl.find(".e-select,.e-active").eq(i).addClass("e-contextualtabset"),this._tabUl.find(".e-select > a ,.e-active > a ").eq(i).addClass("e-link"),++i;for(this.model.contextualTabs[0].tabs.length>0?this.model.contextualTabs.splice(i-1,0,n):this.model.contextualTabs[0]=n,this._contextualTabs(),r=0;r<n.tabs.length;r++)for(tabs=n.tabs[r],j=0;j<tabs.groups.length;j++)if(!t.isNullOrUndefined(tabs.groups[j])){var u=t.isNullOrUndefined(tabs.groups[j].text)?tabs.groups[j].text:tabs.groups[j].text.replace(/\s/g,""),f=this._createControls(j,tabs,u),e=this._addControlsToGroup(j,tabs,u,f);tabcont=this.element.find("#"+this._id+"_"+tabs.id);tabcont.append(e).addClass("e-parentdiv")}this._setTabContentHeight();this.element.find(".e-content").css("box-sizing","content-box")}},setTabText:function(t,i){this._tabText.filter(function(){return n(this).text()===t}).text(i)},getTabText:function(n){return this._tabText.eq(n).text()},isVisible:function(t){var i=this._tabText.filter(function(){return n(this).text()===t}).parent();return i.is(":visible")},isEnable:function(t){for(var r=!0,u=this._tabText.filter(function(){return n(this).text()===t}).parent().index(),i=0;i<this.model.disabledItemIndex.length;i++)this.model.disabledItemIndex[i]==u&&(r=!1);return r},_renderTab:function(){var f=t.buildTag("ul"),r,u,h=this.model.applicationTab.Type,o,s,i,e;for(h!=null&&(u=t.buildTag("a","",{},{href:"#"+this._id+"_"+h.replace(/\s/g,"")})),r=t.buildTag("li.e-apptab",u),f.append(r),i=0;i<this.model.tabs.length;i++)o=this.model.tabs[i],u=t.buildTag("a",o.text,{},{href:"#"+this._id+"_"+o.id}),r=t.buildTag("li",u).addClass("e-tab"),f.append(r);if(this.model.contextualTabs)for(i=0;i<this.model.contextualTabs.length;i++)if(this.model.contextualTabs[i].tabs)for(e=0;e<this.model.contextualTabs[i].tabs.length;e++)s=this.model.contextualTabs[i].tabs[e],u=t.buildTag("a",s.text,{},{href:"#"+this._id+"_"+s.id}),r=t.buildTag("li",u).addClass("e-contextualtabset"),f.append(r);this.element.append(f);this.element.ejTab({width:this.model.width,disabledItemIndex:this.model.disabledItemIndex,enabledItemIndex:this.model.enabledItemIndex,enableTabScroll:!1,itemActive:n.proxy(this._onTabSelect,this),beforeActive:n.proxy(this._onTabClick,this),itemAdd:n.proxy(this._onTabAdd,this),itemRemove:n.proxy(this._onTabRemove,this),beforeItemRemove:n.proxy(this._beforeTabRemove,this),create:n.proxy(this._create,this),selectedItemIndex:this.model.selectedItemIndex})},_createControls:function(i,u,f){var b,rt,s,ut,e={},y,l,p,k,w,a,h,v,ft,at,vt,yt,st,et,nt,o,g,ht,d,tt,ot,c,it;if(ut=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_content"),u.groups[i].type==="custom")u.groups[i].contentID?(rt=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+u.groups[i].type).addClass("e-innerdiv"),n("#"+u.groups[i].contentID).appendTo(rt)):rt=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+u.groups[i].type,u.groups[i].customContent).addClass("e-innerdiv"),ut.append(rt);else if(u.groups[i].content)for(c=0;c<u.groups[i].content.length;c++)if(u.groups[i].content[c]!=r)for(h=u.groups[i].content[c].groups,v=u.groups[i].content[c].defaults,u.groups[i].content.length==1&&(centerAlign=!0),t.isNullOrUndefined(u.groups[i].alignType)&&(u.groups[i].alignType=t.Ribbon.alignType.rows),u.groups[i].alignType===t.Ribbon.alignType.columns?b=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+(c+1)).addClass("e-innerdiv"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(b=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+(c+1)).addClass("e-innerdivrow"),++o),o=0;o<h.length;o++)if(!t.isNullOrUndefined(h[o])){if(t.isNullOrUndefined(v)||t.isNullOrUndefined(v.type)||(h[o].type=v.type),t.isNullOrUndefined(h[o].type)&&(h[o].type=t.Ribbon.type.button),t.isNullOrUndefined(h[o].isBig)&&!t.isNullOrUndefined(v)&&(h[o].isBig=v.isBig),t.isNullOrUndefined(h[o].height)&&!t.isNullOrUndefined(v)&&(h[o].height=v.height),t.isNullOrUndefined(h[o].width)&&!t.isNullOrUndefined(v)&&(h[o].width=v.width),h[o].type===t.Ribbon.type.custom)k=h[o],u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+k.contentID).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+k.contentID).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(k.customToolTip)?t.isNullOrUndefined(k.toolTip)||s.attr("title",k.toolTip):s.mouseover({value:k,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),n("#"+k.contentID).appendTo(s),t.isNullOrUndefined(v)||(t.isNullOrUndefined(v.height)||s.children().height(v.height),t.isNullOrUndefined(v.width)||s.children().width(v.width)),t.isNullOrUndefined(k.isBig)||(k.isBig?s.children().addClass("e-big"):s.children().addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+k.toolTip).addClass("e-separatordivrow"),t.isNullOrUndefined(v)?a.addClass("e-small"):t.isNullOrUndefined(v.height)?k.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(v.height),b.append(a));else if(h[o].type===t.Ribbon.type.splitButton)y=h[o],this._splitButtonControl=t.buildTag("button#"+this._id+"_"+y.id,y.text,{},{type:"button"}).addClass(y.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+y.id,this._splitButtonControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+y.id,this._splitButtonControl).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(y.customToolTip)?t.isNullOrUndefined(y.toolTip)||s.attr("title",y.toolTip):s.mouseover({value:y,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},y.splitButtonSettings&&(e=y.splitButtonSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._splitButtonControl.ejSplitButton(e),t.isNullOrUndefined(y.isBig)||(y.isBig?s.children().removeAttr("style").addClass("e-big"):s.children().removeAttr("style").addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+y.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?y.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.toggleButton)w=h[o],this._toggleButtonControl=t.buildTag("input#"+this._id+"_"+w.id,"","",{type:"checkbox"}).addClass(w.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+w.id,this._toggleButtonControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+w.id,this._toggleButtonControl).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(w.customToolTip)?t.isNullOrUndefined(w.toolTip)||s.attr("title",w.toolTip):s.mouseover({value:w,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},w.toggleButtonSettings&&(e=w.toggleButtonSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._toggleButtonControl.ejToggleButton(e).addClass("e-ribbonbtn"),t.isNullOrUndefined(w.isBig)||(w.isBig?s.find(".e-togglebutton.e-tbtn.e-btn").addClass("e-big"):s.find(".e-togglebutton.e-tbtn.e-btn").addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+w.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?w.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.button)l=h[o],this._buttonControl=l.buttonSettings?l.buttonSettings.type?t.buildTag("button#"+this._id+"_"+l.id,l.text,{},{type:l.buttonSettings.type}).addClass(l.cssClass):t.buildTag("button#"+this._id+"_"+l.id,l.text).addClass(l.cssClass):t.buildTag("button#"+this._id+"_"+l.id,l.text).addClass(l.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+l.id,this._buttonControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+l.id,this._buttonControl).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(l.customToolTip)?t.isNullOrUndefined(l.toolTip)||s.attr("title",l.toolTip):s.mouseover({value:l,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},l.buttonSettings&&(e=l.buttonSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._buttonControl.ejButton(e).addClass("e-ribbonbtn"),t.isNullOrUndefined(l.isBig)||(l.isBig?s.children().addClass("e-big"):s.children().addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+l.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?l.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.dropDownList)p=h[o],this._dropdownControl=t.buildTag("input#"+this._id+"_"+p.id,{type:"text"}).addClass(p.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns&&p.dropdownSettings?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+p.id,this._dropdownControl).append(n("#"+p.dropdownSettings.targetID)).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&p.dropdownSettings&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+p.id,this._dropdownControl).append(n("#"+p.dropdownSettings.targetID)).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(p.customToolTip)?t.isNullOrUndefined(p.toolTip)||s.attr("title",p.toolTip):s.mouseover({value:p,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},p.dropdownSettings&&(e=p.dropdownSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._dropdownControl.ejDropDownList(e),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+p.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.gallery){for(gallery=h[o],this._galleryControl=t.buildTag("div#"+this._id+"_"+gallery.id+"_gallerycontrol").addClass("e-ribbongallerycontrol"),this._gallery=t.buildTag("div#"+this._id+"_"+gallery.id).addClass("e-ribbongallery"),nt=t.buildTag("div#"+this._id+"_"+gallery.id+"_ContentDiv").addClass("e-gallerycontent").height(65).width(gallery.columns*gallery.itemWidth).click({galleryId:this._gallery.attr("id")},n.proxy(this._onGalContentClick,this)),et=Math.floor(gallery.galleryItems.length/gallery.columns),gallery.galleryItems.length%gallery.columns>0&&++et,o=1;o<=et;o++){for(g=t.buildTag("div#"+this._id+"_"+gallery.id+"_galleryrow_"+o).addClass("e-galleryrow").click({model:gallery},n.proxy(this._onGalleryItemClick,this)),o===1?g.addClass("e-gryfirstrow"):o===et&&g.addClass("e-grylastrow"),ht=1;ht<=gallery.columns;ht++)d=nt.find(".e-galleryrow").children().length+g.children().length,t.isNullOrUndefined(gallery.galleryItems[d])||(tt=t.buildTag("button#"+gallery.id+"_galleryItem_"+(d+1),gallery.galleryItems[d].text,{},{type:"button"}).addClass("e-gallerybtn"),n.isEmptyObject(gallery.galleryItems[d].customToolTip)?t.isNullOrUndefined(gallery.galleryItems[d].toolTip)||tt.attr("title",gallery.galleryItems[d].toolTip):tt.mouseover({value:gallery.galleryItems[d],ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},gallery.galleryItems[d].buttonSettings&&(e=gallery.galleryItems[d].buttonSettings),e.height=gallery.itemHeight<=65?gallery.itemHeight:65,e.width=gallery.itemWidth,tt.ejButton(e),tt.appendTo(g));st=gallery.itemHeight>65?1:nt.height()/gallery.itemHeight;o>st&&g.hide();g.appendTo(nt)}this._gallery.append(nt);var ft=t.buildTag("div#"+this._id+"_"+gallery.id+"_PagesDiv").addClass("e-gallerymovediv"),at=t.buildTag("div#"+this._id+"_"+gallery.id+"_prevPage","<span class='e-icon e-galleryup e-gallerymoveicon'><\/span>").click({galleryId:this._gallery.attr("id"),rowCnt:st},n.proxy(this._onGalMoveUpClick,this)).addClass("e-moveupdiv e-disablegrymovebtn"),vt=t.buildTag("div#"+this._id+"_"+gallery.id+"_nextPage","<span class='e-icon e-gallerydown e-gallerymoveicon'><\/span>").click({galleryId:this._gallery.attr("id")},n.proxy(this._onGalMoveDownClick,this)).addClass("e-movedowndiv"),yt=t.buildTag("div#"+this._id+"_"+gallery.id+"_expandGallery","<span class='e-icon e-galleryexpand e-gallerymoveicon'><\/span>").click({galleryId:this._gallery.attr("id"),columns:gallery.columns,expandedColumns:gallery.expandedColumns,itemWidth:gallery.itemWidth},n.proxy(this._onExpandGalleryClick,this)).addClass("e-expgallerydiv");ft.append(at);ft.append(vt);ft.append(yt);this._gallery.append(ft);var ct=t.buildTag("div#"+this._id+"_"+gallery.id+"_ExpandContent").addClass("e-gallexpandcontent").hide(),lt=t.buildTag("div#"+this._id+"_"+gallery.id+"_scrollContent","<div><\/div>").addClass("e-gallscrollcontent"),pt=t.buildTag("div#"+this._id+"_"+gallery.id+"_ExpanderContent").addClass("e-expandercontent").click({galleryId:this._gallery.attr("id")},n.proxy(this._onExpandContentClick,this));if(lt.children().append(pt),ct.append(lt),!t.isNullOrUndefined(gallery.customGalleryItems)){for(ot=t.buildTag("div#"+this._id+"_"+gallery.id+"_ExtraContent").addClass("e-extracontent").click({model:gallery},n.proxy(this._onGalleryItemClick,this)),c=0;c<gallery.customGalleryItems.length;c++)t.isNullOrUndefined(gallery.customGalleryItems[c].customItemType)&&(gallery.customGalleryItems[c].customItemType=t.Ribbon.customItemType.button),gallery.customGalleryItems[c].customItemType===t.Ribbon.customItemType.button?(it=t.buildTag("button#"+gallery.id+"__extraItem_"+c,gallery.customGalleryItems[c].text,{},{type:"button"}).addClass("e-galleryextrabtn"),n.isEmptyObject(gallery.customGalleryItems[c].customToolTip)?t.isNullOrUndefined(gallery.customGalleryItems[c].toolTip)||it.attr("title",gallery.customGalleryItems[c].toolTip):it.mouseover({value:gallery.customGalleryItems[c],ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},gallery.customGalleryItems[c]&&(gallery.customGalleryItems[c].buttonSettings&&(e=gallery.customGalleryItems[c].buttonSettings),it.ejButton(e)),it.appendTo(ot)):(e={},gallery.customGalleryItems[c].menuSettings&&(e=gallery.customGalleryItems[c].menuSettings),e.menuType=t.MenuType.NormalMenu,e.orientation=t.Orientation.Vertical,n("#"+gallery.customGalleryItems[c].menuId).ejMenu(e).addClass("e-gallerymenu"),n("#"+gallery.customGalleryItems[c].menuId).appendTo(ot).width("100%"));ct.append(ot)}this._galleryControl.append(this._gallery);this._galleryControl.append(ct);u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+gallery.id,this._galleryControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+gallery.id,this._galleryControl).addClass("e-innerdivchild e-controlpadding"));b.append(s)}ut.append(b)}return ut},_groupingControls:function(){var h=this.model.tabs.length,u,i,c,l,a,e,r,s,v=n.extend(!0,{},this.model),o,f;if(this.model.contextualTabs)for(o=0;o<this.model.contextualTabs.length;o++)if(u=this.model.contextualTabs[o],u.tabs)for(f=0;f<u.tabs.length;f++)u.tabs[f].groups.length>0&&(this.model.tabs[h]=u.tabs[f],++h);for(e=0;e<this.model.tabs.length;e++)for(i=this.model.tabs[e],r=0;r<i.groups.length;r++)t.isNullOrUndefined(i.groups[r])||(s=t.isNullOrUndefined(i.groups[r].text)?i.groups[r].text:i.groups[r].text.replace(/\s/g,""),l=this._createControls(r,i,s),c=this._addControlsToGroup(r,i,s,l),a=this.element.find("#"+this._id+"_"+i.id),a.append(c).addClass("e-parentdiv"));this._setTabContentHeight();this.model=v},_addControlsToGroup:function(i,r,u,f){var o=t.buildTag("div.e-contentbottom"),s=!1,e,h,c=t.buildTag("div.e-captionarea",r.groups[i].text);return o.append(c),r.groups[i].enableGroupExpander&&(h=t.buildTag("div#"+this._id+"_"+r.groups[i].text+"_e-groupexpander.e-icon e-expander e-groupexpander"),o.append(h)),e=t.buildTag("div#"+this._id+"_"+r.id+"_"+u).addClass("e-groupdiv").click(n.proxy(this._onGroupClick,this)),t.isNullOrUndefined(r.groups[i].content)||r.groups[i].content.length==1&&(s=!0),r.groups[i].width&&e.width(r.groups[i].width),e.append(f),s&&(e.addClass("e-centeralign"),s==!1),e.append(o),e},_tabExpandCollapse:function(t){var i,r,u;(i=t.target.tagName=="div"?t.target:t.target.parentNode,u=i.className=="e-expanded"?"collapse":"expand",r={target:n(i),type:t.type,action:u,cancel:!1},this._trigger("onToggleButtonClick",r),r.cancel)||(i.className=="e-expanded"?this.collapse():this.expand())},_ribbonWindowResize:function(){var tt,it,rt,f,s,ut,at,v,e,ft,ht;if(this.model.allowResizing){var vt,y,i,h,c,et,t,ct,p,k,lt,d=0,l,w=[],g,r,ot,u,a=this.element.find(".e-active-content"),nt,o,b,st;if(o=this._tabUl.find("li.e-select:visible,li.e-active:visible"),b=this.element.find(".e-resizediv"),a.is(":visible")||this._tabUl.is(":hidden")&&a.is(":hidden")){if(r=this.element.find(".e-header"),r.is(":hidden")&&a.is(":hidden")&&this._resizeWidth<=this.element.width()+this.element.offset().left&&(r.show(),a.show()),nt=r.find("li.e-select,li.e-active"),et=nt.length,r.is(":visible")){for(s=et-1;s>0;s--)for(t=nt.eq(s).children(),ct=t.text().length-1,v=ct;v>1;v--)h=o.last().offset().left,c=o.last().width(),this.element.width()+this.element.offset().left-30-(h+c)<=0&&(t.hasClass("e-resizeHead")?t.text(t.text().slice(0,-1)):t.text(t.text().slice(0,-1)).addClass("e-resizeHead"));st=r.find(".e-resizeHead");et-1===st.length&&st.eq(0).text().length<=2&&(h=o.last().offset().left,c=o.last().width(),this.element.width()+this.element.offset().left-30-(h+c)<=0&&(this._resizeWidth=this.element.width()+this.element.offset().left,r.hide(),a.hide()))}for(i=this._tabObj.model.selectedItemIndex,u=this.element.find(".e-content"),vt=u.eq(i).attr("id"),p=u.eq(i).children().length,y=u.eq(i).children()[p-1],ot=u.eq(i).children().eq(p-1).find(".e-resizebtn"),f=p-1;f>=0;f--)ot=u.eq(i).children().eq(f).find(".e-resizebtn"),this.element.width()+this.element.offset().left-(y.offsetWidth+n(y).offset().left)<=0&&ot.length===0&&this._createResizeBtn(i,f);for(this.element.width()+this.element.offset().left-(y.offsetWidth+n(y).offset().left)<=0&&p===u.eq(i).find(".e-resizebtn").length&&(this._resizeWidth=this.element.width()+this.element.offset().left,r.hide(),a.hide()),b.is(":visible")&&(tt=b.children().eq(0).attr("id"),tt="#"+tt.replace("_content",""),b.children().hide().appendTo(tt),b.hide()),it=0;it<this.model.tabs.length;it++)rt=this.model.tabs[it].text,w.push(rt);if(this.model.contextualTabs)for(e=0;e<this.model.contextualTabs.length;e++)if(this.model.contextualTabs[e].tabs)for(f=0;f<this.model.contextualTabs[e].tabs.length;f++)rt=this.model.contextualTabs[e].tabs[f].text,w.push(rt);if(resizeHeadLen=r.find(".e-resizeHead").length,r.is(":visible"))for(s=0;s<resizeHeadLen;s++)if(t=r.find(".e-resizeHead").eq(0),t.hasClass("e-resizeHead"))for(ut=nt.find(".e-link").not(".e-resizeHead").length-1,at=t.text().length,v=at;v<=w[ut].length;v++)h=o.last().offset().left,c=o.last().width()+15,this.element.width()+this.element.offset().left-30>=h+c&&(t.text().length===w[ut].length?t.removeClass("e-resizeHead"):t.text(w[ut].slice(0,t.text().length+1)));for(d=u.eq(i).find(".e-resizebtn").length,e=0;e<d;e++)if(l=u.eq(i).find(".e-resizebtn").eq(0),n(l).is(":visible")){if(lt=this.element.width()+this.element.offset().left,k=l.offset().left+l.parent().siblings().not(".e-contentbottom").width(),d>1)for(ft=1;ft<d;ft++)k=k+u.eq(i).find(".e-resizebtn").eq(ft).parents(".e-groupdiv").width()+7;lt>k&&(ht=l.parent().siblings(),l.parent().remove(),ht.show(),ht.not(".e-contentbottom").css("width",""))}g=this.element.find(".e-tooltipdiv");g.hide();g.find(".e-tooltiptitle").children().remove();g.find(".e-tooltipdesc").children().remove()}}},_createResizeBtn:function(i,r){var u,h,e=this.element.find(".e-content"),f,o;f=e.eq(i).children().eq(r);u=f.find(".e-contentbottom").text();o=f.children().not(".e-contentbottom");h=o.width();f.children().hide();o.css("width",h);var c=t.buildTag("div#"+this._id+"_resizeDiv_"+u),s=t.buildTag("button#"+this._id+"_resizebtn_"+u,u,{},{type:"button"}).addClass("e-resizebtn"),l={target:e.eq(i).children().eq(r).children()};s.ejButton({click:n.proxy(this._resizeBtnClick,l),contentType:t.ContentType.TextAndImage,imagePosition:t.ImagePosition.ImageBottom,prefixIcon:"e-ribbonresize"});s.find("div").prepend("<span class=e-"+u+"><\/span>");s.appendTo(c);c.appendTo(e.eq(i).children().eq(r))},_resizeBtnClick:function(){},_ribbonDocClick:function(i){var r,u,e,f;r=n(i.target).parents(".e-resizediv");r.length<=0&&(n(i.target).hasClass("e-resizebtn")?r=n(i.target):t.isNullOrUndefined(n(i.target).parents(".e-resizebtn"))||(r=n(i.target).parents(".e-resizebtn")));this.element.find(".e-resizediv").is(":visible")&&this.element.find(".e-resizediv .e-gallexpandcontent").is(":visible")?(n(i.target).hasClass("e-gallerymoveicon")||n(i.target).hasClass("e-gallerymovediv")||n(i.target).hasClass("e-expgallerydiv")||n(i.target).hasClass("e-scrollbar")||n(i.target).parents().hasClass("e-scrollbar")?u=i.target:n(i.target).parents().hasClass("e-gallerymenu")&&(n(i.target).hasClass("e-haschild")||n(i.target).hasClass("aschild")||n(i.target).hasClass("e-arrows"))&&(u=i.target),t.isNullOrUndefined(u)&&(this._ribbonGalleryShow(),this.element.find(".e-resizediv").show().css("visibility",""),this.element.find(".e-resizediv .e-gallexpandcontent").hide().css("visibility",""))):r.length<=0?this._resizeDivHide():n(r).hasClass("e-resizebtn")&&(this.element.find(".e-resizediv").is(":visible")?r.parent().siblings(".e-contentbottom").length<=0?this._resizeDivHide():(this._resizeDivHide(),this._resizeDivShow(r)):this._resizeDivShow(r));n(i.target).hasClass("e-gallerymoveicon")||n(i.target).hasClass("e-gallerymovediv")||n(i.target).hasClass("e-expgallerydiv")||n(i.target).hasClass("e-scrollbar")||n(i.target).parents().hasClass("e-scrollbar")?u=i.target:n(i.target).parents().hasClass("e-gallerymenu")&&(n(i.target).hasClass("e-haschild")||n(i.target).hasClass("aschild")||n(i.target).hasClass("e-arrows"))&&(u=i.target);t.isNullOrUndefined(u)&&this._ribbonGalleryShow();e=this.element.find(".e-tooltipdiv");e.hide();(n(i.target).hasClass("e-backstagechild")||n(i.target).hasClass("e-ribbonbackstagepage")||n(i.target).hasClass("e-apptab")||n(i.target).parents(".e-ribbonbackstagepage").length>0||n(i.target).parents(".e-apptab").length>0)&&(u=i.target);t.isNullOrUndefined(u)&&this.element.find(".e-ribbonbackstagepage").hide();this.element.find(".e-controlclicked").removeClass("e-controlclicked");f=n(i.target).parents(".e-controlpadding");f.length>0&&n(f).find(".e-ribbongallerycontrol").length<=0&&n(f).addClass("e-controlclicked")},_ribbonGalleryShow:function(){var u=0,r,f,i,e,o,t;if(this.element.find(".e-gallexpandcontent:visible").length>0){for(r=0,f=0,gallery=this.element.find(".e-gallexpandcontent:visible").parent().find(".e-ribbongallery"),t=1;t<=gallery.find(".e-galleryrow").length;t++)gallery.find(".e-galleryrow").eq(t-1).css("display")==="block"&&(r===0&&(u=t-1),++r);for(gallery.find(".e-galleryrow").hide(),gallery.parent().find(".e-gallexpandcontent").hide(),gallery.show(),gryColumns=gallery.find(".e-galleryrow").eq(0).children().length,gallery.find(".e-galleryrow").eq(0).children().remove(),i=0;i<gallery.find(".e-galleryrow").length;i++)for(e=0;e<gryColumns;e++)if(o=gallery.parent().find(".e-galleryexpanderrow").children().eq(0),n(o).hasClass("e-galleryselect")){for(gallery.find(".e-galleryrow").eq(i).append(gallery.parent().find(".e-galleryexpanderrow").children().eq(0)).show(),--r,t=1;t<=r;t++)gallery.find(".e-galleryrow").eq(i+t).length>0?gallery.find(".e-galleryrow").eq(i+t).show():(++f,gallery.find(".e-galleryrow").eq(i-f).show());gallery.find(".e-galleryrow").last().is(":visible")?gallery.parent().find(".e-movedowndiv").addClass("e-disablegrymovebtn"):gallery.parent().find(".e-movedowndiv").removeClass("e-disablegrymovebtn");gallery.find(".e-galleryrow").first().is(":visible")?gallery.parent().find(".e-moveupdiv").addClass("e-disablegrymovebtn"):gallery.parent().find(".e-moveupdiv").removeClass("e-disablegrymovebtn")}else gallery.find(".e-galleryrow").eq(i).append(gallery.parent().find(".e-galleryexpanderrow").children().eq(0));if(gallery.find(".e-galleryselect").length<=0)for(t=0;t<r;t++)gallery.find(".e-galleryrow").eq(u).show(),++u;gallery.parent().find(".e-galleryexpanderrow").remove()}},_resizeDivHide:function(){var r=this.element.find(".e-resizediv"),i;n(r).is(":visible")&&(i=n(r).children().eq(0).attr("id"),t.isNullOrUndefined(i)||(i="#"+i.slice(0,-8),n(r).children().hide().appendTo(i),n(r).hide()))},_resizeDivShow:function(t){var u,f,i,e,r=this.element.find(".e-resizediv");i=this.element.find("#"+t[0].id).parent().siblings();u=i.not(".e-contentbottom").width()+i.parent().offset().left;this.element.css({position:"relative"});u>this.element.width()+this.element.offset().left?(f=i.parent().position().left-(u-(this.element.width()+this.element.offset().left)),e=parseInt(n(r).css("padding-left"),10)+parseInt(n(r).css("padding-right"),10),n(r).offset({left:f-e})):n(r).offset({left:i.parent().position().left});n(r).width(i.not(".e-contentbottom").css("width"));n(r).append(i.show()).show()},_wireEvents:function(){this._on(this.element,"keydown",this._OnKeyDown);this._on(this.element.find("#"+this._id+"_togglebutton"),t.eventType.click,this._tabExpandCollapse);this._on(this.element.find(".e-groupexpander"),t.eventType.click,this._onGroupExpandClick);n(window).bind("resize",n.proxy(this._ribbonWindowResize,this));this._on(n(document),"click",this._ribbonDocClick)}});t.Ribbon.alignType={rows:"rows",columns:"columns"};t.Ribbon.type={button:"button",splitButton:"splitbutton",dropDownList:"dropdownlist",custom:"custom",toggleButton:"togglebutton",gallery:"gallery"};t.Ribbon.customItemType={button:"button",menu:"menu"};t.Ribbon.backStageItemType={button:"button",tab:"tab"};t.Ribbon.Locale={};t.Ribbon.Locale["en-US"]={ExpandCollapse:"Expand Collapse"}}(jQuery,Syncfusion);