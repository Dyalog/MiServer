/*!
*  filename: ej.olapchart.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./../common/ej.touch.min","./../common/ej.draggable.min","./../common/ej.scroller.min","./ej.dialog.min","./ej.waitingpopup.min","./../datavisualization/ej.vmlrenderer.min","./../datavisualization/ej.svgrenderer.min","./../datavisualization/ej.axisrenderer.min","./../datavisualization/ej.legendrender.min","./../datavisualization/ej.seriesrender.min","./../datavisualization/ej.chart.min","./../datavisualization/ej.synchart.min"],n):n()})(function(){(function(n,t,i){t.widget("ejOlapChart","ej.olap.OlapChart",{_rootCSS:"e-olapchart",element:null,model:null,validTags:["div","span"],defaults:n.extend(t.datavisualization.Chart.prototype.defaults,{url:"",cssClass:"",currentReport:"",customObject:{},serviceMethodSettings:{initialize:"InitializeChart",drillDown:"DrillChart"},progressMode:"infinite",locale:"en-US",drillSuccess:null,beforeServiceInvoke:null,afterServiceInvoke:null,renderComplete:null,renderFailure:null,renderSuccess:null}),dataTypes:{marker:"data",crossHair:"data",size:"data",serviceMethodSettings:"data",zooming:"data",customObject:"data"},observables:["title.text","commonSeriesOptions.type","locale"],titleText:t.util.valueFunction("title.text"),seriesType:t.util.valueFunction("commonSeriesOptions.type"),locale:t.util.valueFunction("locale"),getOlapReport:function(){return this._olapReport},setOlapReport:function(n){this._olapReport=n},getJsonRecords:function(){return this._JSONRecords},setJsonRecords:function(t){this._JSONRecords=n.parseJSON(t)},_init:function(){this._initPrivateProperties();this._load()},_destroy:function(){this.element.empty().removeClass("e-olapchart"+this.model.cssClass);this.ochartWaitingPopup!=i&&this.ochartWaitingPopup._destroy()},_initPrivateProperties:function(){this._id=this.element.attr("id");ochartProxy=this;this._olapReport="";this._JSONRecords=null;this._currentAction="initialize";this._selectedItem="";this._selectedIndex=-1;this._selectedTagInfo=null;this._tagCollection=[];this._labelCurrentTags=[];this._startDrilldown=!1;this._drillAction="";this._initZooming=!1;this._dimensionIndex=-1;this._isDrilled=!1;this._selectedMenuItem="";ochartWaitingPopup=null;ochartProgressBar=null;oChartTimer=null},_load:function(){this.element.addClass(this.model.cssClass);this.model.progressMode!="infinite"?(n("#"+ochartProxy._id+"progressContainer").remove(),this._createProgressBar(),this._progressStatus(5,69,140)):typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?n("#"+oclientProxy._id+"_maxView")[0]?n("#"+oclientProxy._id+"_maxView").ejWaitingPopup({showOnInit:!0}):oclientWaitingPopup.show():(this.element.ejWaitingPopup({showOnInit:!0}),ochartWaitingPopup=this.element.data("ejWaitingPopup"));this.model.zooming!=""&&(this._initZooming=!0);this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:this._currentAction,element:this.element,customObject:this.model.customObject});ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("PreparingAndExecutingMDXquery")+"...");this.model.currentReport!=""&&(this.model.customObject={currentReport:this.model.currentReport});var t=JSON.stringify(this.model.customObject);this.model.customObject!=""&&this.model.customObject!=null&&this.model.customObject!=i?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.initialize,JSON.stringify({action:"initialize",customObject:t}),this.renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.initialize,JSON.stringify({action:"initialize"}),this.renderControlSuccess)},_setFirst:!0,_setModel:function(t){var r=this.element.find("#"+this._id+"Container").data("ejChart"),i,u;for(i in t)switch(i){case"olapReport":this.setOlapReport(t[i]);break;case"jsonData":this.setJsonRecords(t[i]);break;case"refreshOlapChart":this.element.renderChartFromJSON(t[i]);break;case"customObject":this.model.customObject=t[i];break;case"height":this.model.size.height=t[i];break;case"width":this.model.size.width=t[i];break;case"commonSeriesOptions":if(r)for(r.model.commonSeriesOptions=t[i],r.model.type=r.model.commonSeriesOptions.type=this.seriesType(),u=0;u<r.model.series.length;u++)r.model.series[u].type=r.model.type;break;case"title":r&&(r.model.title.text=this.titleText());break;case"animation":this.model.animation=t[i];break;case"crossHair":this.model.crossHair=t[i];break;case"marker":this.model.marker=t[i];break;case"zooming":this.model.zooming=t[i];break;case"legend":this.model.legend=t[i];break;case"primaryXAxis":this.model.primaryXAxis=t[i];break;case"primaryYAxis":this.model.primaryYAxis=t[i];break;case"locale":this.locale();break;default:n.extend(!0,this.model,{},t[i])}r&&this.renderControlSuccess({JsonRecords:JSON.stringify(this.getJsonRecords()),OlapReport:this.getOlapReport()})},_wireEvents:function(){window.clearInterval(oChartTimer);this._on(this.element,"click",".menuList",function(t){var r;ochartWaitingPopup=this.element.data("ejWaitingPopup");t.target.innerHTML==ochartProxy._getLocalizedLabels("Exit")?this.element.find("#"+ochartProxy._id+"ExpandMenu, .expandMenu, .e-dialog").remove():t.target.innerHTML.indexOf(ochartProxy._getLocalizedLabels("Expand"))>-1?(typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?n("#"+oclientProxy._id+"_maxView")[0]?n("#"+oclientProxy._id+"_maxView").ejWaitingPopup({showOnInit:!0}):oclientWaitingPopup.show():this.model.progressMode!="infinite"?ochartProxy._progressStatus(0,70,120):ochartWaitingPopup.show(),this._isDrilled||(this._isDrilled=!0,jQuery.each(t.target.parentElement.children,function(n,i){i.innerHTML==t.target.innerHTML&&(ochartProxy._dimensionIndex=n)})),this._drillAction="drilldown",this._selectedItem=n.trim(t.target.innerHTML.split("-")[1]),jQuery.each(this._labelCurrentTags,function(n,t){if(t.name==ochartProxy._selectedItem)return ochartProxy._tagCollection.push(t),ochartProxy._selectedTagInfo=t.tag,ochartProxy._selectedMenuItem=t.name,!1}),this._startDrilldown=!0,this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:this._drillAction,element:this.element,customObject:this.model.customObject}),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("PreparingAndExecutingMDXquery")+"..."),r=JSON.stringify(this.model.customObject),this.model.customObject!=""&&this.model.customObject!=null&&this.model.customObject!=i?typeof oclientProxy!="undefined"?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drilldown",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport(),clientReports:oclientProxy.reports,customObject:r}),this.renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drilldown",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport(),customObject:r}),this.renderControlSuccess):!typeof oclientProxy!="undefined"?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drilldown",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport()}),this.renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drilldown",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport(),clientReports:oclientProxy.reports}),this.renderControlSuccess)):(typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?n("#"+oclientProxy._id+"_maxView")[0]?n("#"+oclientProxy._id+"_maxView").ejWaitingPopup({showOnInit:!0}):oclientWaitingPopup.show():this.model.progressMode!="infinite"?ochartProxy._progressStatus(0,70,120):ochartWaitingPopup.show(),this._drillAction="drillup",this._selectedItem=n.trim(t.target.innerHTML.split("-")[1]),jQuery.each(this._tagCollection,function(n,t){if(t.name==ochartProxy._selectedItem)return ochartProxy._selectedIndex=n+ochartProxy._dimensionIndex,ochartProxy._selectedTagInfo=t.tag,ochartProxy._tagCollection.splice(n,ochartProxy._tagCollection.length),!1}),this._tagCollection.length==0&&(this._isDrilled=!1),this._startDrilldown=!0,this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:this._drillAction,element:this.element,customObject:this.model.customObject}),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("PreparingAndExecutingMDXquery")+"..."),r=JSON.stringify(this.model.customObject),this.model.customObject!=""&&this.model.customObject!=null&&this.model.customObject!=i?typeof oclientProxy!="undefined"?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drillup",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport(),clientReports:reports,customObject:r}),this.renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drillup",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport(),customObject:r}),this.renderControlSuccess):!typeof oclientProxy!="undefined"?this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drillup",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport()}),this.renderControlSuccess):this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drillup",drilledSeries:this._selectedTagInfo,olapReport:this.getOlapReport(),clientReports:reports}),this.renderControlSuccess))})},_unWireEvents:function(){n(document.body).unbind("click");this._off(this.element,"click",".menuList")},renderControlSuccess:function(r){ochartProxy=this;ochartProxy.model.progressMode=="progress"?n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("MDXqueryExecutedSuccessfully")+"...":typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null&&(n("#"+oclientProxy._id+"_maxView")[0]?n("#"+oclientProxy._id+"_maxView").ejWaitingPopup({showOnInit:!0}):oclientWaitingPopup.show());try{ochartProxy.model.progressMode!="infinite"?(window.clearInterval(oChartTimer),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("RenderingStarted")+"..."),ochartProxy._progressStatus(75,98,50),window.setTimeout(function(){u()},400)):window.setTimeout(function(){u()},1);function u(){var u,f;r[0]!=i?(ochartProxy.setJsonRecords(r[0].Value),ochartProxy.setOlapReport(r[1].Value),typeof oclientProxy!="undefined"&&(oclientProxy.currentReport=r[1].Value,r[2]!=null&&r[2]!=i&&r[2].Key=="ClientReports"&&(oclientProxy.reports=r[2].Value)),r[2]!=null&&r[2]!=i&&!r[2].Key=="ClientReports"&&(ochartProxy.model.customObject=r[2].Value)):r.d!=i?(ochartProxy.setJsonRecords(r.d[0].Value),ochartProxy.setOlapReport(r.d[1].Value),typeof oclientProxy!="undefined"&&(oclientProxy.currentReport=r.d[1].Value,r.d[2]!=null&&r.d[2]!=i&&r.d[2].Key=="ClientReports"&&(oclientProxy.reports=r.d[2].Value)),r.d[2]!=null&&r.d[2]!=i&&!r.d[2].Key=="ClientReports"&&(ochartProxy.model.customObject=r.d[2].Value)):(ochartProxy.setJsonRecords(r.JsonRecords),ochartProxy.setOlapReport(r.OlapReport),r.customObject!=null&&r.customObject!=null&&(ochartProxy.model.customObject=r.customObject),typeof oclientProxy!="undefined"&&(typeof oclientProxy.currentReport!="undefined"&&(oclientProxy.currentReport=r.OlapReport),typeof oclientProxy.reports!="undefined"&&(oclientProxy.reports=r.reports)));ochartProxy.model.afterServiceInvoke!=null&&(u=ochartProxy._drillAction!=""?{action:ochartProxy._drillAction,element:ochartProxy.element,customObject:ochartProxy.model.customObject}:{action:ochartProxy._currentAction,element:ochartProxy.element,customObject:ochartProxy.model.customObject},ochartProxy._trigger("afterServiceInvoke",u));f=t.buildTag("div#"+ochartProxy._id+"Container")[0].outerHTML;ochartProxy.element.html(f);ochartProxy.renderChartFromJSON(ochartProxy.getJsonRecords());ochartProxy.model.progressMode!="infinite"&&(ochartProxy._progressStatus(100,101,50),ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("RenderingSucceeded")+"..."));ochartProxy._unWireEvents();ochartProxy._wireEvents();ochartProxy._drillAction!=""&&(ochartProxy.model.currentReport=ochartProxy.getOlapReport(),ochartProxy._trigger("drillSuccess",ochartProxy.element));ochartProxy.model.progressMode!="infinite"&&(ochartProxy._JSONRecords==null||ochartProxy._JSONRecords.chartLables.length==0||ochartProxy._JSONRecords.points_Y.length==0)?n("#"+ochartProxy._id+"progressContainer").hide():typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null?(n("#"+oclientProxy._id+"_maxView")[0]?(n("#"+oclientProxy._id+"_maxView").ejWaitingPopup({showOnInit:!1}),oclientWaitingPopup.hide()):typeof oclientProxy.ogridObj!="undefined"&&(oclientProxy&&oclientProxy.ogridObj._drillAction&&!oclientProxy.ogridObj._startDrilldown||oclientProxy.ochartObj._drillAction&&!oclientProxy.ochartObj._startDrilldown?oclientWaitingPopup.hide():!oclientProxy||oclientProxy.ogridObj._drillAction!=""||oclientProxy.ochartObj._drillAction!=""||oclientProxy.ogridObj._startDrilldown||oclientProxy.ochartObj._startDrilldown?!oclientProxy.ochartObj._startDrilldown||oclientProxy.ogridObj._startDrilldown||n("#"+oclientProxy._id+"_maxView")[0]?oclientProxy.ochartObj._startDrilldown||oclientProxy.ogridObj._startDrilldown||oclientProxy.ochartObj._drillAction!=""||oclientProxy.ogridObj._drillAction!=""||oclientWaitingPopup.hide():oclientWaitingPopup.show():oclientWaitingPopup.hide()),oclientProxy.model.displaySettings.mode=="chartonly"&&oclientWaitingPopup.hide()):ochartWaitingPopup.hide();typeof oclientProxy!="undefined"&&(oclientProxy.ochartObj._startDrilldown=!1)}}catch(e){ochartProxy.model.progressMode!="infinite"&&(ochartProxy.model.progressMode=="progress"&&(n("#"+ochartProxy._id+"progressText")[0].innerHTML=ochartProxy._getLocalizedLabels("RenderingFailed")+"!!!"),window.clearInterval(oChartTimer),ochartProgressBar.setModel({value:70,text:" Failed"}))}var f={action:this._currentAction,customObject:this.model.customObject,element:this.element};this._trigger("renderSuccess",f)},renderChartFromJSON:function(i){if(window.clearInterval(oChartTimer),i!=null&&i.chartLables.length>0&&i.points_Y.length>0){var e=[],r=[],h=i.chartLables,u=[],f=0,o;jQuery.each(i.chartLables,function(n){for(var u=[],t=0;t<i.points_Y[n].length;t++)o={xValues:i.chartLables[n],yValues:i.points_Y[n][t]},u.push(o);r.push(u)});jQuery.each(i.seriesNames,function(){u.push([])});jQuery.each(i.chartLables,function(n){for(var t=0;t<r[n].length;t++)u[t].push(r[n][t])});jQuery.each(i.seriesNames,function(n){e[f]={dataSource:u[n],xName:"xValues",yName:["yValues"],name:i.seriesNames[f]};f++});i.chartLables.length>10&&this.model.zooming==""?this.model.zooming={enable:!0,type:"x,y",enableMouseWheel:!0}:i.chartLables.length<10&&this._initZooming==""&&(this.model.zooming=this._initZooming);jQuery.inArray(this.seriesType(),["line","spline","area","splinearea","stepline","steparea","stackingarea"])>-1&&!this.model.commonSeriesOptions.marker.visible?this.model.commonSeriesOptions.marker={shape:t.olap.OlapChart.SymbolShapes.Circle,size:{height:12,width:12},visible:!0,connectorLine:{height:30,type:"line"},border:{width:3,color:"white"}}:this.seriesType()=="pie"||this.seriesType()=="pyramid"?this.model.commonSeriesOptions.marker={dataLabel:{visible:!0,font:{color:"white",size:"15px",fontWeight:"lighter"}}}:jQuery.inArray(this.seriesType(),["column","stackingcolumn","bar","stackingcolumn"])>-1&&this.model.commonSeriesOptions.marker&&(this.model.commonSeriesOptions.marker.dataLabel&&(this.model.commonSeriesOptions.marker.dataLabel.visible=!1),this.model.commonSeriesOptions.marker.visible=!1);this.model.commonSeriesOptions.tooltip.format=this.model.crosshair.visible?"#point.x# : #point.y#":this._getLocalizedLabels("Measure")+" : "+i.measureNames+" <br/>"+this._getLocalizedLabels("Row")+" : #series.name# <br/>"+this._getLocalizedLabels("Column")+" : #point.x# <br/>"+this._getLocalizedLabels("Value")+" : #point.y#";this.model.progressMode!="infinite"?(ochartProxy._progressStatus(99,"100:100%",70),window.setTimeout(function(){s()},300)):window.setTimeout(function(){s()},1);function s(){n("#"+ochartProxy._id+"Container").ejChart({border:ochartProxy.model.border,chartArea:ochartProxy.model.chartArea,primaryXAxis:ochartProxy.model.primaryXAxis,primaryYAxis:ochartProxy.model.primaryYAxis,secondaryX:ochartProxy.model.secondaryX,secondaryY:ochartProxy.model.secondaryY,striplineDefault:ochartProxy.model.striplineDefault,title:{text:ochartProxy.titleText(),textAlignment:ochartProxy.model.title.textAlignment,font:{color:ochartProxy.model.title.color,fontFamily:ochartProxy.model.title.fontFamily,fontWeight:ochartProxy.model.title.fontWeight,opacity:ochartProxy.model.title.opacity,size:ochartProxy.model.title.size,fontStyle:ochartProxy.model.title.fontStyle}},lineCap:ochartProxy.model.lineCap,lineJoin:ochartProxy.model.lineJoin,legendAlignment:ochartProxy.model.legendAlignment,legendPosition:ochartProxy.model.legendPosition,legend:ochartProxy.model.legend,animation:ochartProxy.model.animation,crosshair:ochartProxy.model.crosshair,commonSeriesOptions:{doughnutCoefficient:ochartProxy.model.commonSeriesOptions.doughnutCoefficient,explodeOffset:ochartProxy.model.commonSeriesOptions.explodeOffset,pyramidMode:ochartProxy.model.commonSeriesOptions.pyramidMode,gapRatio:ochartProxy.model.commonSeriesOptions.gapRatio,pieCoefficient:ochartProxy.model.commonSeriesOptions.pieCoefficient,doughnutSize:ochartProxy.model.commonSeriesOptions.doughnutSize,startAngle:ochartProxy.model.commonSeriesOptions.startAngle,xAxisName:ochartProxy.model.commonSeriesOptions.xAxisName,yAxisName:ochartProxy.model.commonSeriesOptions.yAxisName,explodeAll:ochartProxy.model.commonSeriesOptions.explodeAll,explodeIndex:ochartProxy.model.commonSeriesOptions.explodeIndex,tooltipOptions:ochartProxy.model.commonSeriesOptions.tooltipOptions,marker:ochartProxy.model.commonSeriesOptions.marker||ochartProxy.model.marker,font:ochartProxy.model.commonSeriesOptions.font,type:ochartProxy.seriesType(),enableAnimation:ochartProxy.model.commonSeriesOptions.enableAnimation,style:ochartProxy.model.commonSeriesOptions.style,explode:ochartProxy.model.commonSeriesOptions.explode,labelPosition:ochartProxy.model.commonSeriesOptions.labelPosition,tooltip:ochartProxy.model.commonSeriesOptions.tooltip},seriesStyle:ochartProxy.model.seriesStyle,pointStyle:ochartProxy.model.pointStyle,textStyle:ochartProxy.model.textStyle,initSeriesRender:ochartProxy.model.initSeriesRender,theme:ochartProxy.model.theme,canResize:ochartProxy.model.canResize,zooming:ochartProxy.model.zooming,margin:ochartProxy.model.margin,elementSpacing:ochartProxy.model.elementSpacing,seriesColors:ochartProxy.model.seriesColors,seriesBorderColors:ochartProxy.model.seriesBorderColors,pointColors:ochartProxy.model.pointColors,pointBorderColors:ochartProxy.model.pointBorderColors,series:e,size:ochartProxy.model.size,load:ochartProxy.model.load,axesRangeCalculate:ochartProxy.model.axesRangeCalculate,axesTitleRendering:ochartProxy.model.axesTitleRendering,chartAreaBoundsCalculate:ochartProxy.model.chartAreaBoundsCalculate,legendItemRendering:ochartProxy.model.legendItemRendering,lengendBoundsCalculate:ochartProxy.model.lengendBoundsCalculate,preRender:ochartProxy.model.preRender,seriesRendering:ochartProxy.model.seriesRendering,symbolRendering:ochartProxy.model.symbolRendering,titleRendering:ochartProxy.model.titleRendering,axesLabelsInitialize:ochartProxy.model.axesLabelsInitialize,pointRegionMouseMove:ochartProxy.model.pointRegionMouseMove,legendItemClick:ochartProxy.model.legendItemClick,legendItemMouseMove:ochartProxy.model.legendItemMouseMove,displayTextRendering:ochartProxy.model.displayTextRendering,toolTipInitialize:ochartProxy.model.toolTipInitialize,trackAxisToolTip:ochartProxy.model.trackAxisToolTip,trackToolTip:ochartProxy.model.trackToolTip,animationComplete:ochartProxy.model.animationComplete,destroy:ochartProxy.model.destroy,create:ochartProxy.model.create,axesLabelRendering:t.proxy(ochartProxy._onLabelRenders,ochartProxy),pointRegionClick:t.proxy(ochartProxy._onSeriesClick,ochartProxy)});n("#"+ochartProxy._id+"progressContainer").hide()}ochartProxy._labelCurrentTags.splice(0,ochartProxy._labelCurrentTags.length);jQuery.each(i.labelTags,function(n,t){var r={},i=t.split("::");r={name:i[2],state:i[i.length-1],tag:t};ochartProxy._labelCurrentTags.push(r)})}ochartWaitingPopup!=null&&ochartProxy.model.progressMode=="infinite"?this.element.ejWaitingPopup({showOnInit:!1}):n("#"+ochartProxy._id+"progressContainer").hide()},_onLabelRenders:function(n){if(ochartProxy._trigger("axesLabelRendering",n),n.data.axis.orientation.toLowerCase()=="horizontal"&&n.data.label.Text!=i||(ochartProxy.seriesType()=="bar"||ochartProxy.seriesType()=="stackingbar")&&n.data.axis.orientation.toLowerCase()=="vertical"&&n.data.label.Text!=i){var t=n.data.label.Text.toString().split("~~");n.data.label.Text=ochartProxy._tagCollection.length==0?t[t.length-1]:ochartProxy._drillAction=="drilldown"&&t.indexOf(ochartProxy._selectedItem)+1<t.length?t[t.indexOf(ochartProxy._selectedItem)+1]:ochartProxy._drillAction=="drilldown"&&t.indexOf(ochartProxy._selectedItem)+1>=t.length?t[t.indexOf(ochartProxy._selectedItem)]:t.length==1?t[0]:ochartProxy._drillAction=="drillup"?t[ochartProxy._selectedIndex]:t[t.length-1]}},_getLocalizedLabels:function(n){return t.olap.OlapChart.locale[this.locale()][n]===i?t.olap.OlapChart.locale["en-US"][n]:t.olap.OlapChart.locale[this.locale()][n]},_createProgressBar:function(){var f=t.buildTag("div#"+this._id+"progressContainer.progressContainer","",{top:typeof oclientProxy!="undefined"?oclientProxy.model.displaySettings.controlPlacement=="tab"||oclientProxy.model.displaySettings.mode!="chartAndGrid"?oclientProxy.progressPos.top+300:oclientProxy.model.displaySettings.defaultView=="chart"?oclientProxy.progressPos.top+200:oclientProxy.progressPos.top+500:n("#"+this._id).position().top+n("#"+this._id).height()/2-35,left:typeof oclientProxy!="undefined"?oclientProxy.progressPos.left+550:n("#"+this._id).position().left+n("#"+this._id).width()/3-50,zIndex:999})[0].outerHTML,i=t.buildTag("div#"+this._id+"progressBar.progressBar","")[0].outerHTML,r=t.buildTag("div#"+this._id+"blockDiv.blockDiv","",{width:typeof oclientProxy!="undefined"?n("#"+oclientProxy._id).width():n("#"+this._id).width(),display:"block",opacity:"0.3",backgroundColor:"#E9E9E9",height:typeof oclientProxy!="undefined"?n("#"+oclientProxy._id).height():n("#"+this._id).height(),position:"fixed",top:typeof oclientProxy!="undefined"?oclientProxy.progressPos.top:n("#"+this._id).position().top,left:typeof oclientProxy!="undefined"?oclientProxy.progressPos.left:n("#"+this._id).position().left})[0].outerHTML,u;n("#"+ochartProxy._id).after(f);ochartProxy.model.progressMode=="normal"?(n("#"+this._id+"progressContainer").css({height:0,width:0}),n("#"+this._id+"progressContainer").removeClass(".progressContainer"),n("#"+ochartProxy._id+"progressContainer").append(i).append(r)):(u=t.buildTag("span#"+this._id+"progressText.progressText","OlapChart initial loading...")[0].outerHTML,n("#"+ochartProxy._id+"progressContainer").append(i).append(u).append(r));n("#"+ochartProxy._id+"progressBar").ejProgressBar({value:0,text:"0 %",complete:"progressbarCompleted"});ochartProgressBar=n("#"+ochartProxy._id+"progressBar").data("ejProgressBar")},_progressStatus:function(t,r,u){if(window.clearInterval(oChartTimer),jQuery.type(r)==="string"){var f=r.split(":");f!=i&&(r=parseInt(f[0]))}ochartProgressBar.setModel({value:t,text:t+" %"});n("#"+ochartProxy._id+"progressContainer").show();oChartTimer=window.setInterval(function(){ochartProgressBar.setModel({value:t,text:t+" %"});t++;t>=r&&(window.clearInterval(oChartTimer),f!=i&&ochartProgressBar.setModel({value:100,text:f[1]}))},u)},_onSeriesClick:function(r){var o,l,a;ochartProxy=this;var e,s,u,h=[],f=[],c=this.element.position();r.data.region!=null&&r.data.region!=i?(s=r.model.primaryXAxis.labels[r.data.region.Region.PointIndex],u=r.data.region.Region.PointIndex):r.data.point.x!=null&&r.data.point.x!=i&&r.data.point.x!=""&&(s=r.data.series.xAxis.labels[r.data.point.X],u=r.data.point.X);n(n("#"+ochartProxy._id+"Container_vml_XAxisLabels_0")[0]).children()[u]!=i?e=n(n("#"+ochartProxy._id+"Container_vml_XAxisLabels_0")[0]).children()[u].innerHTML:n("#"+ochartProxy._id+"Container_svg_XAxisLabels_0").children()[u]?e=n("#"+ochartProxy._id+"Container_svg_XAxisLabels_0").children()[u].textContent:this.seriesType()=="bar"||this.seriesType()=="stackingbar"?n(n("#"+ochartProxy._id+"Container_vml_YAxisLabels_0")[0]).children()[u]!=i?e=n(n("#"+ochartProxy._id+"Container_vml_YAxisLabels_0")[0]).children()[u].innerHTML:n("#"+ochartProxy._id+"Container_svg_YAxisLabels_0").children()[u]?e=n("#"+ochartProxy._id+"Container_svg_YAxisLabels_0").children()[u].textContent:(o=r.model.primaryXAxis.labels[u].split("~~"),e=o[o.indexOf(ochartProxy._selectedMenuItem)+1]):(o=r.model.primaryXAxis.labels[u].split("~~"),e=o[o.indexOf(ochartProxy._selectedMenuItem)+1]);e&&(n("#"+ochartProxy._id).find("#"+ochartProxy._id+"ExpandMenu, .expandMenu, .e-dialog").remove(),l=s.split("~~"),jQuery.each(l,function(t,i){jQuery.each(ochartProxy._labelCurrentTags,function(t,r){if(n.trim(i)==r.name)return h.push(r),!1})}),jQuery.each(h,function(i,r){r.state>1&&ochartProxy._tagCollection.length==0?f.push(n(t.buildTag("li.menuList",ochartProxy._getLocalizedLabels("Expand")+" - "+r.name)[0]).attr("role","presentation")[0].outerHTML):r.state>1&&ochartProxy._tagCollection.length>0&&r.name==e&&f.push(n(t.buildTag("li.menuList",ochartProxy._getLocalizedLabels("Expand")+" - "+r.name)[0]).attr("role","presentation")[0].outerHTML)}),ochartProxy._tagCollection.length>0?jQuery.each(ochartProxy._tagCollection,function(i,r){for(var u=0;u<f.length;u++)n.trim(f[u].split("-")[1].replace("<\/li>","")).replace("<\/LI>","")==r.name&&f.splice(u,1);f.push(n(t.buildTag("li.menuList",ochartProxy._getLocalizedLabels("Collapse")+" - "+r.name)[0]).attr("role","presentation")[0].outerHTML)}):ochartProxy._JSONRecords.addInfo.namedsetEnabled||jQuery.each(h,function(i,r){r.state==1&&(f.push(n(t.buildTag("li.menuList",ochartProxy._getLocalizedLabels("Collapse")+" - "+r.name)[0]).attr("role","presentation")[0].outerHTML),ochartProxy._tagCollection.push(r))}),f.push(n(t.buildTag("li.menuList",ochartProxy._getLocalizedLabels("Exit"))[0]).attr("role","presentation")[0].outerHTML),a=n(t.buildTag("div#"+ochartProxy._id+"ExpandMenu.expandMenu",f)[0]).attr("role","presentation")[0].outerHTML,n(a).ejDialog({width:"auto",content:"#"+ochartProxy._id,enableResize:!1}),n("#"+ochartProxy._id+"ExpandMenu_wrapper").appendTo(this.element).css({left:r.data.location.x+8+c.left,top:r.data.location.y+8+c.top}),this.element.find(".e-titlebar, .e-header").remove());ochartProxy._trigger("pointRegionClick",r)},doAjaxPost:function(i,r,u,f){n.ajax({type:i,url:r,data:u,contentType:"application/json; charset=utf-8",dataType:"json",success:n.proxy(f,this),complete:t.proxy(function(){var n={action:this._currentAction,customObject:this.model.customObject,element:this.element};this._trigger("renderComplete",n)},this),error:t.proxy(function(t){this.model.progressMode!="infinite"?(this.model.progressMode=="progress"&&(n("#"+this._id+"progressText")[0].innerHTML=this._getLocalizedLabels("MDXqueryExecutionFailed")+"!!!"),window.clearInterval(oChartTimer),ochartProgressBar.setModel({value:10,text:" Failed"})):ochartWaitingPopup.hide();var i={action:this._currentAction,customObject:this.model.customObject,element:this.element,Message:t};this._trigger("renderFailure",i)},this)})}});t.olap.OlapChart.locale={};t.olap.OlapChart.locale["en-US"]={Measure:"Measure",Row:"Row",Column:"Column",Value:"Value",Expand:"Expand",Collapse:"Collapse",Exit:"Exit",MDXqueryExecutionFailed:"MDX query execution failed",PreparingAndExecutingMDXquery:"Preparing and executing MDX query",MDXqueryExecutedSuccessfully:"MDX query executed successfully",RenderingSucceeded:"Rendering Succeeded",RenderingStarted:"Rendering Started",RenderingFailed:"Rendering failed"};t.olap.OlapChart.ChartTypes={Line:"line",Spline:"spline",Column:"column",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",Bar:"bar",StackingArea:"stackingarea",StackingColumn:"stackingcolumn",StackingBar:"stackingbar",Pyramid:"pyramid",Funnel:"funnel"};t.olap.OlapChart.ProgressMode={Infinite:"infinite",Normal:"normal",Progress:"progress"};t.olap.OlapChart.SymbolShapes={None:"none",LeftArrow:"leftarrow",RightArrow:"rightarrow",Circle:"circle",Cross:"cross",HorizLine:"horizline",VertLine:"vertline",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedtriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"uparrow",DownArrow:"downarrow",Image:"image"}})(jQuery,Syncfusion)})