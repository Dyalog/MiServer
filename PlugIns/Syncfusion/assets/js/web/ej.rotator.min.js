/*!
*  filename: ej.rotator.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t){t.widget("ejRotator","ej.Rotator",{element:null,model:null,_setFirst:!1,defaults:{cssClass:"",dataSource:null,query:null,fields:{text:"text",url:"url"},enabled:!0,displayItemsCount:"1",navigateSteps:"1",animationSpeed:600,startIndex:"0",showPlayButton:!1,enableAutoPlay:!1,showNavigateButton:!0,slideWidth:"",slideHeight:"",frameSpace:"",enableResize:!1,orientation:"horizontal",pagerPosition:"outside",showThumbnail:!1,showPager:!0,stopOnHover:!1,thumbnailSourceID:null,showCaption:!1,allowKeyboardNavigation:!0,enableRTL:!0,animationType:"slide",delay:500,create:null,change:null,start:null,stop:null,thumbItemClick:null,pagerClick:null,destroy:null},dataTypes:{cssClass:"string",dataSource:"data",query:"data",fields:"data",enabled:"boolean",displayItemsCount:"",navigateSteps:"",animationSpeed:"",transitionDelay:"",startIndex:"",showPlayButton:"boolean",enableAutoPlay:"boolean",slideWidth:"",slideHeight:"",frameSpace:"",enableResize:"boolean",orientation:"enum",pagerPosition:"enum",showThumbnail:"boolean",thumbnailSourceID:"",showPager:"boolean",showCaption:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",animationType:"string",delay:""},_init:function(){this._initialize();this.model.dataSource==null&&this._setValues();this._render();this._wireEvent();this.model.enableAutoPlay&&this.play()},_initialize:function(){this.element.attr("tabindex",0);this._liCount=null;this.transitionDelay=null;this._animating=!1;this._interval=null;this._thumbCount=null;this._liSize=null;this._containerSize=null;this.containerCss=this.model.orientation==t.Orientation.Horizontal?"outerWidth":"outerHeight";this.displayCss=this.model.orientation==t.Orientation.Horizontal?"left":"top";n.extend(jQuery.easing,{slowSlide:function(n,t,i,r,u){var f=(t/=u)*t;return i+r*f*f},fastSlide:function(n,t,i,r,u){var f=(t/=u)*t,e=f*t;return i+r*(e*f+-5*f*f+10*e+-10*f+5*t)},slide:function(n,t,i,r,u){var f=(t/=u)*t,e=f*t;return i+r*(6*e*f+-15*f*f+10*e)}})},_setValues:function(){this._setLicount();this._setSpeed(this.model.animationSpeed);this._setVisibleItemCount(this.model.displayItemsCount);this._setItemMove(this.model.navigateSteps);this._setFrameSpace(this.model.frameSpace);this._setSlideWidth(this.model.slideWidth);this._setSlideHeight(this.model.slideHeight);this._changeProperty();this._setInitial()},_refresh:function(){this._setValues();this._setDimension();this._changeSkin()},_reRenderControl:function(){this._setLicount();this._setSpeed(this.model.animationSpeed);this._setVisibleItemCount(this.model.displayItemsCount);this._setItemMove(this.model.navigateSteps);this._setFrameSpace(this.model.frameSpace);this._setSlideWidth(this.model.slideWidth);this._setSlideHeight(this.model.slideHeight);this._changeProperty();this._cloneItem();this._createCaption();this._changeSkin()},_refreshControl:function(){this.model.showPager?(this._bulletWrapper.remove(),this._createBulletControl()):this.element.parents(".e-in-wrap").siblings().hasClass("e-pager-wrap")&&this._bulletWrapper.remove();this.model.showCaption?(this.element.siblings().hasClass("e-caption")&&this._caption.remove(),this._createCaption()):this.element.siblings().hasClass("e-caption")&&this._caption.remove();this.model.showThumbnail?(this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb")&&(this._thumb.remove(),this._thumbControl.remove()),this._createThumb()):this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb")&&(this._thumb.remove(),this._thumbControl.remove());this._changeSkin()},_checkDataBinding:function(){var n=this.model.dataSource;n!=null&&(this.element.addClass("onloading"),t.DataManager&&n instanceof t.DataManager?this._initDataSource(n):this._renderItems(n));this._setValues()},_initDataSource:function(n){var t=this,i;i=n.executeQuery(this._getQuery());i.done(function(n){t._renderItems(n.result)}).fail(function(){t.element.removeClass("onloading")})},_getQuery:function(){var n;if(t.isNullOrUndefined(this.model.query)){n=[];queryManager=t.Query();mapper=this.model.fields;col;for(col in mapper)col!=="tableName"&&mapper[col]&&n.push(mapper[col]);n.length>0&&queryManager.select(n);this.model.dataSource.dataSource.url.match(mapper.tableName+"$")||t.isNullOrUndefined(mapper.tableName)||queryManager.from(mapper.tableName)}else queryManager=this.model.query;return queryManager},_renderItems:function(n){this._generateTagItems(n);this.element.removeClass("onloading")},_generateTagItems:function(n){for(var i=this._getMapper(),t=0;t<n.length;t++)this.element.append(this._generateLi(n[t],i))},_getMapper:function(){var n=this.model.fields,t={_text:null,_url:null};return t._text=n&&n.text?n.text:"text",t._url=n&&n.url?n.url:"url",t._attr=n&&n.htmlAttr?n.htmlAttr:"htmlAttr",t},_generateLi:function(i,r){var f=t.buildTag("li"),u;return u=n('<img  src="'+i[r._url]+'"title="'+i[r._text]+'"/>'),this._setAttributes(i[r._attr],u),f.append(u),f},_setAttributes:function(n,t){if(n)for(var i in n)t.attr(i,n[i])},_createWrapper:function(){this._wrapper=t.buildTag("div.e-inner e-"+this.model.orientation).insertBefore(this.element);this.model.dataSource!=null&&this._checkDataBinding();this._wrapper.append(this.element);this._innerWrapper=t.buildTag("div.e-in-wrap").insertBefore(this._wrapper);this._innerWrapper.append(this._wrapper);this._outerWrapper=t.buildTag("div.e-rotator-wrap e-widget "+this.model.cssClass).insertBefore(this._innerWrapper);this._outerWrapper.append(this._innerWrapper);this.model.enabled||this._outerWrapper.addClass("e-disable").attr({"aria-disabled":!0})},_refreshTagItems:function(n,t){this.model[n]=t;this.element.children("li").remove();this._checkDataBinding();this._cloneItem();this._refreshControl()},_createButtonControl:function(){this._buttonWrapper=t.buildTag("div.e-nav").insertAfter(this._wrapper);this.model.showNavigateButton&&(this._prevButton=t.buildTag("span.e-nav-btn e-icon e-previous").attr({role:"button"}).appendTo(this._buttonWrapper),this._nextButton=t.buildTag("span.e-nav-btn e-icon e-next").attr({role:"button"}).appendTo(this._buttonWrapper));this._buttonWrapper.appendTo(this._wrapper);this._createAutoPlay();this.model.enabled&&this.model.showNavigateButton&&this._wireBtnEvents()},_createAutoPlay:function(){var n;if(!this.model.showPlayButton)return!1;n=this._interval!=null?"pause":"play";this._autoButton=t.buildTag("span.e-nav-btn e-icon "+n,"",{},{role:"button"}).appendTo(this._buttonWrapper);this.model.enabled&&this._wireAutoPlayEvents()},_createBulletControl:function(){var n;for(this._bulletWrapper=t.buildTag("div.e-pager-wrap","",{},{role:"group","aria-label":"showPager",tabindex:"0"}).insertAfter(this._innerWrapper),this._bullet=t.buildTag("ul.e-bullet e-default"),n=(this._liCount-this.model.displayItemsCount*2)/this.model.navigateSteps,(this._liCount-this.model.displayItemsCount*2)%this.model.navigateSteps!=0&&n++,i=1;i<=n;i++)t.buildTag("li.e-icon","",{},{tabindex:"-1","aria-selected":"false"}).appendTo(this._bullet);this._bullet.appendTo(this._bulletWrapper);this._setActiveBullet();this._setPagerposition(this.model.pagerPosition);this.model.enabled&&this._wireBulletEvents()},_createCaption:function(){var i;if(!this.model.showCaption)return!1;this._caption=t.buildTag("div.e-caption").append(n("<span>")).insertAfter(this._buttonWrapper);i=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize);i--;this._setCaptionText(i)},_createThumb:function(){var r,i;if(this.model.thumbnailSourceID!=null){for(this._thumb=this.model.showPager?t.buildTag("div.e-thumb","",{},{tabindex:"0",role:"group"}).insertAfter(this._bulletWrapper):t.buildTag("div.e-thumb","",{},{tabindex:"0",role:"group"}).insertAfter(this._innerWrapper),this._thumbItems=t.buildTag("ul.e-thumb-items e-ul"),i=0;i<n("#"+this.model.thumbnailSourceID).children("li").length;i++)r=n("#"+this.model.thumbnailSourceID).children("li").eq(i).clone(),r.addClass("e-thumb-ele").attr("tabindex",-1).removeAttr("style").appendTo(this._thumbItems);this._thumbItems.appendTo(this._thumb);n("#"+this.model.thumbnailSourceID).css("display","none");this._setThumbProperty();this._setActiveThumb()}},_createThumbControl:function(){this._thumbControl=t.buildTag("div.e-thumb-nav").insertAfter(this._thumb);this._previous=t.buildTag("span.e-thumb-btn e-icon e-previous e-disable","",{},{"aria-disabled":!0}).appendTo(this._thumbControl);this._next=t.buildTag("span.e-thumb-btn e-icon e-next e-enable","",{},{"aria-disabled":!1}).appendTo(this._thumbControl);this._thumbControl.appendTo(this._outerWrapper);this.model.enabled&&this._wireThumbEvents()},_setSkin:function(n){this._outerWrapper.removeClass(this.model.cssClass).addClass(n)},_cloneItem:function(){for(var n=0,i=t.buildTag("ul"),n=0;n<this.model.displayItemsCount;n++)this.element.children("li").eq(n).clone().addClass("clone").appendTo(this.element);for(n=this._liCount-this.model.displayItemsCount;n<this._liCount;n++)this.element.children("li").eq(n).clone().addClass("clone").prependTo(i);for(n=0;n<i.children("li").length;n++)i.children("li").eq(n).clone().prependTo(this.element);this._setDimension()},_undoClone:function(){for(i=0;i<this._liCount;i++)this.element.children("li").eq(i).hasClass("clone")&&(this.element.children("li").eq(i).remove(),this._setLicount(),i--)},_setModel:function(n){if(!this.model.enabled&&t.isNullOrUndefined(n.enabled))return!1;var i,u=!1,r=!1;for(i in n)switch(i){case"fields":case"query":case"dataSource":this._refreshTagItems(i,n[i]);break;case"enabled":this._changeState(n[i]);break;case"slideWidth":this._setSlideWidth(n[i]);u=!0;r=!0;break;case"slideHeight":this._setSlideHeight(n[i]);u=!0;r=!0;break;case"displayItemsCount":this._undoClone();this._setVisibleItemCount(n[i]);this._cloneItem();u=!0;r=!0;break;case"navigateSteps":n[i]=this._validateItemMove(n[i]);this.model.navigateSteps=n[i];u=!0;r=!0;break;case"pagerPosition":this._setPagerposition(n[i]);break;case"showPager":this.model.showPager=n[i];r=!0;break;case"showThumbnail":this.model.showThumbnail=n[i];u=!0;r=!0;break;case"thumbnailSourceID":this.model.thumbnailSourceID=n[i];u=!0;r=!0;break;case"showCaption":this.model.showCaption=n[i];u=!0;r=!0;break;case"enableResize":this.model.enableResize=n[i];this._wireResizeEvents();break;case"orientation":this.model.orientation=n[i];this._setOrientation(n[i]);break;case"animationSpeed":this._setSpeed(n[i]);break;case"frameSpace":this._setFrameSpace(n[i]);u=!0;r=!0;break;case"showPlayButton":this.model.showPlayButton=n[i];this._setAutoplay(n[i]);this._changeSkin();break;case"startIndex":this.model.startIndex=n[i];u=!0;r=!0;break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=n[i];this._wireKeyboardEvents();break;case"showNavigateButton":this.model.showNavigateButton=n[i];this._setSlideButton(n[i]);this._changeSkin();break;case"animationType":this.model.animationType=n[i];this._setSpeed(this.model.animationSpeed);break;case"cssClass":this._setSkin(n[i]);break;case"enableRTL":this.model.enableRTL=n[i];break;case"delay":this._setSpeed(n[i])}u&&this._refresh();r&&this._refreshControl()},_setDimension:function(){this._setLicount();this._setUlInitial();this._setWidth();this._setHeight();this._setContainerPercent();this._changeProperty()},_render:function(){this._createWrapper();this._cloneItem();this._createButtonControl();this._createCaption();this.model.showPager&&this._createBulletControl();this.model.showThumbnail&&this._createThumb();this._outerWrapper.find(this.element).addClass("e-ul");this._changeSkin()},_setWidth:function(){this._containerWidth=this.model.orientation=="horizontal"?parseInt(this.model.slideWidth)*this.model.displayItemsCount+parseInt(this.model.frameSpace)*(parseInt(this.model.displayItemsCount)-1):this.model.slideWidth;this.element.parent().css("width",this._containerWidth);this.element.parents(".e-in-wrap").css("width",this._containerWidth);this.element.parents(".e-rotator-wrap").css("width",this._containerWidth);this._changeProperty()},_setHeight:function(){this._containerHeight=this.model.orientation=="vertical"?parseInt(this.model.slideHeight)*this.model.displayItemsCount+parseInt(this.model.frameSpace)*(parseInt(this.model.displayItemsCount)-1):this.model.slideHeight;this.element.parent().css("height",this._containerHeight);this._changeProperty()},_setUlInitial:function(){this.model.orientation==t.Orientation.Horizontal?this.element.css({width:this._liCount*this._liWidth,height:this._liHeight}):this.element.css({height:this._liCount*this._liHeight,width:this._liWidth})},_setInitial:function(){this.element.css(this.displayCss,-(this._liSize*this.model.displayItemsCount)-this.model.startIndex*this.model.navigateSteps*this._liSize)},_setBegin:function(){this.element.css(this.displayCss,-(this._liSize*this.model.displayItemsCount))},_setSlideWidth:function(n){isNaN(parseInt(n))?this.model.slideWidth=this._getMaxSize("width"):(n=n.toString(),this.model.slideWidth=this._checkValue(n,"width"));this.element.children("li").css("width",this.model.slideWidth);this._liWidth=this.element.children("li").outerWidth(!0)},_setSlideHeight:function(n){isNaN(parseInt(n))?this.model.slideHeight=this._getMaxSize("height"):(n=n.toString(),this.model.slideHeight=this._checkValue(n,"height"));this.element.children("li").css("height",this.model.slideHeight);this._liHeight=this.element.children("li").outerHeight(!0)},_setPagerposition:function(n){this.model.showPager&&(this._bullet.removeClass("e-default e-thumb-pos e-topleft e-topright e-bottomleft e-bottomright e-topCenter e-outside"),this._bullet.addClass("e-"+n),(n=="bottomleft"||n=="bottomright")&&this.model.showThumbnail&&this.model.thumbnailSourceID!=null&&this._bullet.addClass("e-thumb-pos"))},_setCaptionText:function(n){this.model.showCaption&&this._caption.children().html(this.element.children("li").eq(++n).children("img").attr("title"))},_setAutoplay:function(n){n?this._createAutoPlay():this._autoButton!=null&&(this._setPause(),this._autoButton.remove())},_setSlideButton:function(n){n?this._createButtonControl():(this._prevButton.remove(),this._nextButton.remove())},_setOrientation:function(n){this._wrapper.removeClass("e-"+this.model.orientation).addClass("e-"+n);this._setFrameSpace(this.model.frameSpace);this._refresh();this.model.orientation==t.Orientation.Horizontal?this.element.css({left:-(Math.round(-this.element.position().top/this._liHeight)*this._liSize),top:0}):this.element.css({top:-(Math.round(-this.element.position().left/this._liWidth)*this._liSize),left:0})},_setActiveBullet:function(){var n=Math.round(-Math.round(this.element.position()[this.displayCss])/(this._liSize*this.model.displayItemsCount));this.model.navigateSteps<this.model.displayItemsCount&&(n=-(Math.round(this.element.position()[this.displayCss])+this._liSize*this.model.displayItemsCount)/(this._liSize*this.model.navigateSteps));n=this.model.navigateSteps==this.model.displayItemsCount?n-1:n;this._bullet.children().eq(n).addClass("e-active").attr({tabindex:0,"aria-selected":"true"})},_setActiveThumb:function(){var n=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize);n--;this._thumbItems.children().eq(n).addClass("e-active").attr({tabindex:0,"aria-selected":"true"});this._transferThumb(n)},_checkValue:function(t,i){return t.indexOf("%")>0&&(Math.round(parseInt(t))=="100"&&(this.model.displayItemsCount=1,this._setVisibleItemCount(this.model.displayItemsCount)),t=this._convertPercentageToPixel(n(this.element[0]).parent()[i](),parseInt(t))),t},_convertPercentageToPixel:function(n,t){return Math.round(t*n/100)},_convertPixelToPercentage:function(n,t){return Math.round(t/n*100)},_changeProperty:function(){this.containerCss=this.model.orientation==t.Orientation.Horizontal?"outerWidth":"outerHeight";this.displayCss=this.model.orientation==t.Orientation.Horizontal?"left":"top";this.model.orientation==t.Orientation.Horizontal?(this._liSize=this._liWidth,this._containerSize=this._containerWidth):(this._liSize=this._liHeight,this._containerSize=this._containerHeight)},_setFrameSpace:function(n){isNaN(parseInt(n))?this.model.frameSpace="0px":(this.model.frameSpace=n,this.model.orientation==t.Orientation.Horizontal?this.element.children("li").css({"margin-right":n,"margin-bottom":0}):this.element.children("li").css({"margin-bottom":n,"margin-right":0}))},_setLicount:function(){this._liCount=this.element.children("li").length},_setVisibleItemCount:function(n){this.model.displayItemsCount=n;this.model.navigateSteps=this.model.navigateSteps<=this.model.displayItemsCount?this.model.navigateSteps:this.model.displayItemsCount;this._checkAndSet()},_checkAndSet:function(){(this.model.displayItemsCount>1||this.model.navigateSteps>1)&&(this.model.showThumbnail&&(this.model.showThumbnail=!1),this.model.showCaption&&(this.model.showCaption=!1))},_changeSkin:function(){var n;this.model.displayItemsCount>1||this.model.navigateSteps>1?(this._innerWrapper.addClass("e-multiple"),this._wrapper.removeClass("e-single")):(this._innerWrapper.removeClass("e-multiple"),this._wrapper.addClass("e-single"));this.model.showPlayButton&&this._autoButton.css({left:(this._innerWrapper.outerWidth(!0)/2-this._autoButton.width()/2)/this._innerWrapper.outerWidth(!0)*100+"%",top:(this._innerWrapper.outerHeight(!0)/2-this._autoButton.height()/2)/this._innerWrapper.outerHeight(!0)*100+"%"});this.model.showNavigateButton&&(n=(this._innerWrapper.outerHeight(!0)/2-this._prevButton.height()/2)/this._innerWrapper.outerHeight(!0)*100+"%",this._prevButton.css("top",n),this._nextButton.css("top",n));this.model.showThumbnail&&this.model.thumbnailSourceID!=null&&this._previous!=null&&this._next!=null&&(n=this._outerWrapper.outerHeight(!0)+this._thumbItems.children("li").outerHeight(!0)/2-this._thumbItems.children("li").outerHeight(!0)-this._previous.height()/2,n=n/this._outerWrapper.outerHeight(!0)*100+"%",this._previous.css("top",n),this._next.css("top",n))},_setItemMove:function(n){this.model.navigateSteps=this._validateItemMove(n);this._checkAndSet()},_validateItemMove:function(n){return n<=this.model.displayItemsCount?n:this.model.displayItemsCount},_setPlay:function(){this.model.showPlayButton&&this._autoButton.hasClass("play")&&this._autoButton.removeClass("play").addClass("pause");this._animate=!0;this._raiseEvent("start")},_setPause:function(){this._interval!=null&&(this.model.showPlayButton&&this._autoButton.hasClass("pause")&&this._autoButton.removeClass("pause").addClass("play"),clearInterval(this._interval),this._animate=this.model.stopOnHover?!0:!1,this._interval=null,this._raiseEvent("stop"))},_setContainerPercent:function(){this._containerPercent=this._convertPixelToPercentage(this.element.parents(".e-rotator-wrap").parent().width(),this.element.parent().width())},_setSpeed:function(n){this.transitionDelay=this.model.animationType!="slideshow"?n+this.model.delay:n*2+this.model.delay},_setThumbProperty:function(){var t,n,i;n=this._thumbItems.children("li").outerWidth(!0);t=this.element.parent().outerWidth(!0)-this.element.parent().outerWidth(!0)*12/100;this._thumb.css("width",t);this._thumbCount=Math.floor(this._thumb.innerWidth()/n);i=Math.round(this.element.parent().outerWidth(!0)*6/100)+Math.floor((t-this._thumbCount*n)/2);this._thumb.css({"margin-left":i,"margin-right":i,width:this._thumbCount*n});this._thumbItems.css({width:this._thumbItems.children("li").length*n,height:this._thumbItems.children("li").outerHeight(!0)});this._checkState()},_checkState:function(){this._thumbCount<this._liCount-this.model.displayItemsCount*2?this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb-nav")||this._createThumbControl():this.element.parents(".e-in-wrap").siblings().hasClass("e-thumb-nav")&&this._thumbControl.remove()},_removeActiveItem:function(){this.model.showPager&&this._bullet.children().removeClass("e-active").attr({tabindex:-1,"aria-selected":"false"});this.model.showThumbnail&&this._thumbItems.children().removeClass("e-active").attr({tabindex:-1,"aria-selected":"false"})},_setActiveItem:function(n){if(this.model.showPager&&this._bullet.children().eq(n).addClass("e-active").attr({tabindex:0,"aria-selected":"true"}),this.model.showThumbnail)for(this._thumbItems.children().eq(n).addClass("e-active").attr({tabindex:0,"aria-selected":"true"}),this._transferThumb(n),i=0;i<this._thumbItems.children("li").length;i++)this._thumbItems.children("li").eq(i).hasClass("e-thumbhover")&&this._thumbItems.children("li").eq(i).removeClass("e-thumbhover")},_transferThumb:function(n){var t,i;this.model.showThumbnail&&(t=n*this._thumbItems.children("li").outerWidth(!0)- -this._thumbItems.position().left,i=-this._thumbItems.position().left+this._thumb.width(),this._thumbItems.width()-i>t?this._thumbMove(t):this._thumbMove(this._thumbItems.width()-i))},_changeThumbControl:function(t){var i;this.model.showThumbnail&&this.model.thumbnailSourceID!=null&&(i=n("#"+this.model.thumbnailSourceID).children("li").length,t*this._thumbItems.children("li").outerWidth(!0)>0?this._previous!=null&&this._previous.hasClass("e-disable")&&this._previous.removeClass("e-disable").addClass("e-enable").attr({"aria-disabled":!1}):this._previous!=null&&this._previous.hasClass("e-enable")&&this._previous.removeClass("e-enable").addClass("e-disable").attr({"aria-disabled":!0}),t*this._thumbItems.children("li").outerWidth(!0)<(i-this._thumbCount)*this._thumbItems.children("li").outerWidth(!0)?this._next!=null&&this._next.hasClass("e-disable")&&this._next.removeClass("e-disable").addClass("e-enable").attr({"aria-disabled":!1}):this._next!=null&&this._next.hasClass("e-enable")&&this._next.removeClass("e-enable").addClass("e-disable").attr({"aria-disabled":!0}))},_getMaxSize:function(n){for(var t=0,r=0,i=0,u=this,i=0;i<this._liCount;i++)r=this.element.children("li").eq(i)[n](),t=r>t?r:t;return t},_calculateValue:function(){return this._convertPercentageToPixel(this._containerWidth-(this.model.displayItemsCount-1)*parseInt(this.model.frameSpace),100/this.model.displayItemsCount)},_changeState:function(n){n?this.enable():this.disable()},_findActive:function(){var t,n;if(this.model.showPager){for(n=0;n<this._bullet.children("li").length;n++)if(this._bullet.children("li").eq(n).hasClass("e-active"))return n}else if(this.model.showThumbnail){for(n=0;n<this._thumbItems.children("li").length;n++)if(this._thumbItems.children("li").eq(n).hasClass("e-active"))return n}else this.model.showPager||this.model.showThumbnail||(t=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize));return t--,t},_wireEvent:function(){if(!this.model.enabled)return!1;this._wrapper.bind("mouseenter",n.proxy(this._showControl,this));this._wrapper.bind("mouseleave",n.proxy(this._hideControl,this));this._wireKeyboardEvents();this._wireResizeEvents();this._on(this._wrapper,"swiperight swipeleft swipedown swipeup",{control:!0},this._touchOperations);this.model.thumbnailSourceID&&this._on(this._thumb,"swiperight swipeleft",{control:!1},this._touchOperations)},_wireKeyboardEvents:function(){this.model.allowKeyboardNavigation?(this._outerWrapper.bind("focusin",n.proxy(this._onFocusIn,this)),this._outerWrapper.bind("focusout",n.proxy(this._onFocusOut,this))):(this._outerWrapper.unbind("focusin",n.proxy(this._onFocusIn,this)),this._outerWrapper.unbind("focusout",n.proxy(this._onFocusOut,this)))},_wireBtnEvents:function(){this.model.showNavigateButton?(this._prevButton.bind("click",n.proxy(this._prevAction,this)),this._nextButton.bind("click",n.proxy(this._nextAction,this))):(this._prevButton.unbind("click",n.proxy(this._prevAction,this)),this._nextButton.unbind("click",n.proxy(this._nextAction,this)))},_wireAutoPlayEvents:function(){this.model.showPlayButton?this._on(this._autoButton,"click",this._autoPlay):this._off(this._autoButton,"click",this._autoPlay)},_wireResizeEvents:function(){this.model.enableResize?n(window).bind("resize",n.proxy(this._resizeEvent,this)):n(window).unbind("resize",n.proxy(this._resizeEvent,this))},_wireThumbEvents:function(){this.model.showThumbnail?(this._on(this._thumbItems.children(),"click",this._thumbClick),this._on(this._next,"click",this._thumbNext),this._on(this._previous,"click",this._thumbPrev)):(this._off(this._thumbItems.children(),"click",this._thumbClick),this._off(this._next,"click",this._thumbNext),this._off(this._previous,"click",this._thumbPrev))},_wireBulletEvents:function(){this.model.showPager?this._on(this._bullet.children(),"click",this._bulletClick):this._off(this._bullet.children(),"click",this._bulletClick)},_thumbNext:function(){var t=this,n;if(!this.model.enabled)return!1;this._previous.hasClass("e-disable")&&this._previous.removeClass("e-disable").addClass("e-enable").attr({"aria-disabled":!1});n=-Math.round(this._thumbItems.position().left)+this._thumb.width();this._thumbItems.width()-n>=this._thumbItems.children("li").outerWidth(!0)&&this._thumbMove(this._thumbItems.children("li").outerWidth(!0));this._thumbItems.width()-n<=this._thumbItems.children("li").outerWidth(!0)&&this._next.removeClass("e-enable").addClass("e-disable").attr({"aria-disabled":!0})},_thumbMove:function(n){var t=this;t._thumbItems.animate({left:"-="+n+"px"},600,function(){t._thumbItems.stop(!0,!0)})},_thumbPrev:function(){var i=this,t,n;if(!this.model.enabled)return!1;this._next.hasClass("e-disable")&&this._next.removeClass("e-disable").addClass("e-enable").attr({"aria-disabled":!1});t=Math.round(this._thumbItems.position().left);n=this._thumbItems.children("li").outerWidth(!0);-t>=n&&this._thumbMove(-n);-t<=n&&this._previous.removeClass("e-enable").addClass("e-disable").attr({"aria-disabled":!0})},_findLength:function(){var t=this,n;return this.model.showThumbnail&&(n=t._thumbItems.children("li").length-1),this.model.showPager&&(n=t._bullet.children("li").length-1),this.model.showPager||this.model.showThumbnail||(n=this.element[this.containerCss]()/this._liSize-this.model.displayItemsCount*2),n},_changeActiveState:function(n){var t=this,i,r;i=t._findActive();r=t._findLength();t._removeActiveItem();n=="prev"?i>0&&this.model.animationType!="slideshow"?(t._setActiveItem(i-1),this.model.animationType!="slideshow"&&this._setCaptionText(i-1)):(t._setActiveItem(r),this.model.animationType!="slideshow"&&this._setCaptionText(r)):i<r?(t._setActiveItem(i+1),this.model.animationType!="slideshow"&&this._setCaptionText(i+1)):(t._setActiveItem(0),this.model.animationType!="slideshow"&&this._setCaptionText(0))},_moveSlide:function(n,t){var i=this,e,o,r,u,f={};e=this.model.animationType!="slideshow"?this.model.animationType:"slideshow";o=this.model.animationType!="slideshow"?i.model.animationSpeed:0;r=i._findActive();u=i._findLength();f[this.displayCss]=i.element.position()[i.displayCss];f[this.displayCss]-=n;r=t=="next"?r<u?r+1:0:t=="prev"?r>0?r-1:u:0;this.model.animationType=="slideshow"&&(i.element.fadeOut(i.model.animationSpeed/2),i.model.showCaption&&i._caption.fadeOut(i.model.animationSpeed/2));i.element.animate(f,o,e,function(){t=="end"&&i._setBegin();i._animating=!1;i._setCaptionText(r)});this.model.animationType=="slideshow"&&(i.element.fadeIn(i.model.animationSpeed/2),i.model.showCaption&&i._caption.fadeIn(i.model.animationSpeed/2))},_moveNext:function(){var n=this,i,r,t,u;return(n._animating=!0,i=Math.round(n.element.position()[n.displayCss]),r=n.model.displayItemsCount*n._liSize-n._liCount*n._liSize,t=Math.round(n.element.position()[n.displayCss])+n.element[n.containerCss](),n._calculateItemMove(),i>r&&t-n._containerSize>n._move+parseInt(n.model.frameSpace))?{move:n._move,action:"next"}:t-n._containerSize<=n._move+parseInt(n.model.frameSpace)?(u=t-n._containerSize-parseInt(n.model.frameSpace),{move:u,action:"end"}):void 0},_movePrev:function(){var n=this,i,u,f,r;return i=Math.round(n.element.position()[n.displayCss]),u=n.element.position()[n.displayCss],+n.element[n.containerCss](),f=n.element[n.containerCss](),n._calculateItemMove(),u<f&&-i>n.model.displayItemsCount*n._liSize?{move:-n._move,action:"prev"}:(r=n.model.displayItemsCount*n._liSize*2+i-n._liCount*n._liSize,n._move=(n._liCount-n.model.displayItemsCount*2)%n.model.navigateSteps*n._liSize,n._move==0&&n._calculateItemMove(),n.model.orientation==t.Orientation.Horizontal?n.element.css("left",r):n.element.css("top",r),{move:-n._move,action:"prev"})},_autoPlay:function(){if(!this.model.enabled)return!1;var n=this,t,i;if(this._interval==null){this._setPlay();i=function(){n._animating=!0;t=n.model.enableRTL?n._moveNext():n._movePrev();n._moveSlide(t.move,t.action);n._changeActiveState(t.action);n._changeThumbControl(n._findActive());n._raiseEvent("change")};function r(n,t){return n(),setInterval(n,t)}this._animating||(this._interval=r(i,this.transitionDelay))}else this._setPause()},_nextAction:function(){if(!this.model.enabled)return!1;var n=this,i,r,t;r=function(){t=n._moveNext();n._moveSlide(t.move,t.action);clearInterval(i);n._changeActiveState("next");n._changeThumbControl(n._findActive());n._raiseEvent("change")};this._interval!=null&&this._setPause();this._animating||(this._animating=!0,i=setInterval(r,""))},_prevAction:function(){if(!this.model.enabled)return!1;var n=this,i,r,t;r=function(){t=n._movePrev();n._moveSlide(t.move,t.action);clearInterval(i);n._changeActiveState("prev");n._changeThumbControl(n._findActive());n._raiseEvent("change")};this._interval!=null&&this._setPause();this._animating||(this._animating=!0,i=setInterval(r,""))},_touchOperations:function(n){var r=!n.data.control,t,i=this.model.orientation;r?t=n.type=="swipeleft"?"left":"right":i=="horizontal"&&n.type=="swipeleft"||i=="vertical"&&n.type=="swipeup"?t="left":(i=="horizontal"&&n.type=="swiperight"||i=="vertical"&&n.type=="swipedown")&&(t="right");t=="left"?r?this._thumbNext():this.slideNext():t=="right"&&(r?this._thumbPrev():this.slidePrevious())},_resizeEvent:function(){var n,t;if(!this.model.enabled)return!1;n=Math.round(-Math.round(this.element.position().left)/this._liSize);t=Math.round(this.element.parents(".e-rotator-wrap").parent().width());this._containerWidth=this._convertPercentageToPixel(t,this._containerPercent);this._setSlideWidth(this._calculateValue().toString());this._setWidth();this.element.css("left",-(n*this._liSize));this._setUlInitial();this.model.showThumbnail&&this.model.thumbnailSourceID!=null&&this._setThumbProperty()},_calculateItemMove:function(){isNaN(this.model.navigateSteps)?(this.model.navigateSteps=1,this._move=this._liSize*this.model.navigateSteps):this._move=this._liSize*this.model.navigateSteps},_thumbClick:function(t){var i,r=this._autoButton!=null?this._autoButton.hasClass("play")?!1:!0:this.model.enableAutoPlay?!0:!1;if(!this.model.enabled)return!1;this._interval!=null&&this._setPause();this._removeActiveItem();i=t.target.className=="e-thumb-ele e-thumbhover"||t.target.className=="e-thumb-ele"?this._thumbItems.children("li").index(n(t.target)):this._thumbItems.children("li").index(n(t.target).parents(".e-thumb-ele"));this._changeThumbControl(i);this._setActiveItem(i);this._raiseEvent("thumbItemClick");this._moveSlideContent(this.element.position()[this.displayCss],-(this.model.displayItemsCount*this._liSize+i*this.model.navigateSteps*this._liSize),i,r)},_bulletClick:function(n){var t,i=this._autoButton!=null?this._autoButton.hasClass("play")?!1:!0:this.model.enableAutoPlay?!0:!1;if(!this.model.enabled)return!1;this._interval!=null&&this._setPause();this._removeActiveItem();t=this._bullet.children("").index(n.target);this._changeThumbControl(t);this._setActiveItem(t);this._moveSlideContent(this.element.position()[this.displayCss],-(this.model.displayItemsCount*this._liSize+t*this.model.navigateSteps*this._liSize),t,i);this._raiseEvent("pagerClick")},_moveSlideContent:function(n,t,i,r){var u=this,e,o,f={};o=this.model.animationType!="slideshow"?this.model.animationType:"slideshow";e=this.model.animationType!="slideshow"?u.model.animationSpeed:0;f[this.displayCss]=u.element.position()[u.displayCss];f[this.displayCss]+=t-n;this.model.animationType=="slideshow"&&(u.element.fadeOut(u.model.animationSpeed/2),u.model.showCaption&&u._caption.fadeOut(u.model.animationSpeed/2));u.element.animate(f,e,o,function(){u._setCaptionText(i);r&&setTimeout(function(){u.play()},u.model.animationSpeed)});this.model.animationType=="slideshow"&&(u.element.fadeIn(u.model.animationSpeed/2),u.model.showCaption&&u._caption.fadeIn(u.model.animationSpeed/2));u._raiseEvent("change")},_destroy:function(){this._interval!=null?this.pause():"";this._undoClone();this.element.removeAttr("style").insertAfter(this._outerWrapper);this.element.children().removeAttr("style");this._outerWrapper.remove()},_raiseEvent:function(n){return this._trigger(n,{activeItemIndex:this._findActive(),itemID:this.element.attr("id")})},_showControl:function(n){if(!this.model.enabled)return!1;this.model.showNavigateButton&&(this._prevButton.stop(!0,!0).fadeIn("slow"),this._nextButton.stop(!0,!0).fadeIn("slow"));this.model.showPlayButton&&this._autoButton.stop(!0,!0).fadeIn("slow");this.model.showCaption&&this._caption!=null&&this._caption.stop(!0,!0).fadeIn("slow");this.model.stopOnHover&&this._animate&&this.pause();n.stopPropagation()},_hideControl:function(n){if(!this.model.enabled)return!1;this.model.showNavigateButton&&(this._prevButton.stop(!0,!0).fadeOut("slow"),this._nextButton.stop(!0,!0).fadeOut("slow"));this.model.showPlayButton&&this._autoButton.stop(!0,!0).fadeOut("slow");this.model.showCaption&&this._caption!=null&&this._caption.stop(!0,!0).fadeOut("slow");this.model.stopOnHover&&this._animate&&this.play();n.stopPropagation()},_onFocusIn:function(){if(!this.model.enabled)return!1;this._outerWrapper.addClass("e-Focused");n(this._outerWrapper).bind("keydown",n.proxy(this._focuseHandle,this))},_onFocusOut:function(){this._outerWrapper.removeClass("e-Focused");n(this._outerWrapper).unbind("keydown",n.proxy(this._focuseHandle,this))},_focuseHandle:function(n){if(!this.model.enabled)return!1;if(this._outerWrapper.hasClass("e-Focused")){n.keyCode=n.altKey&&(n.keyCode==37||n.keyCode==40)?1e3:n.keyCode;n.keyCode=n.altKey&&(n.keyCode==38||n.keyCode==39)?1001:n.keyCode;switch(n.keyCode){case 37:case 40:n.preventDefault();this._prevAction();break;case 38:case 39:n.preventDefault();this._nextAction();break;case 32:n.preventDefault();this._autoPlay();break;case 1e3:n.preventDefault();this._thumbPrev();this._thumbHover("prev");break;case 1001:n.preventDefault();this._thumbNext();this._thumbHover("next");break;case 13:for(n.preventDefault(),i=0;i<this._thumbItems.children("li").length;i++)this._thumbItems.children("li").eq(i).hasClass("e-thumbhover")&&this.gotoIndex(i)}}},_thumbHover:function(n){var u=this,t=null,r;for(i=0;i<this._thumbItems.children("li").length;i++)if(this._thumbItems.children("li").eq(i).hasClass("e-thumbhover")){t=i;this._thumbItems.children("li").eq(i).removeClass("e-thumbhover");break}t==null&&(t=this._findActive());r=u._findLength();n=="prev"?t>0?this._thumbItems.children().eq(--t).addClass("e-thumbhover"):this._thumbItems.children().eq(0).addClass("e-thumbhover"):t<r?this._thumbItems.children().eq(++t).addClass("e-thumbhover"):this._thumbItems.children().eq(r).addClass("e-thumbhover")},enable:function(){this.model.enabled||(this.model.enabled=!0,this._outerWrapper.removeClass("e-disable").attr({"aria-disabled":!1}))},disable:function(){this.model.enabled&&(this.model.enabled=!1,this._outerWrapper.addClass("e-disable").attr({"aria-disabled":!0}),this._interval!=null&&this._setPause())},slideNext:function(){this.model.enabled&&this._nextAction()},slidePrevious:function(){this.model.enabled&&this._prevAction()},play:function(){this._interval==null&&this._autoPlay()},pause:function(){this._interval!=null&&this._setPause()},getIndex:function(){var n,i,r="",t;if(this.model.displayItemsCount>1){for(n=Math.round(-Math.round(this.element.position()[this.displayCss])/this._liSize),n--,i=this._liCount-this.model.displayItemsCount*2,n=n-(this.model.displayItemsCount-1),t=0;t<this.model.displayItemsCount;t++)n<i?(r+="  "+n.toString(),0,n++):(n=0,t--);return r}return this._findActive()},gotoIndex:function(n){var t=this._autoButton!=null?this._autoButton.hasClass("play")?!1:!0:this.model.enableAutoPlay?!0:!1;this._interval!=null&&this._setPause();this._removeActiveItem();this.model.showThumbnail&&this._changeThumbControl(n);this._setActiveItem(n);this._moveSlideContent(this.element.position()[this.displayCss],-(this.model.displayItemsCount*this._liSize+n*this.model.navigateSteps*this._liSize),n,t)}});t.Rotator.PagerPosition={TopLeft:"topleft",TopRight:"topright",BottomLeft:"bottomleft",BottomRight:"bottomright",TopCenter:"topCenter",Outside:"outside"}})(jQuery,Syncfusion)})