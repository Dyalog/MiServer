/*!
*  filename: ej.radialmenu.min.js
*  version : 13.3.0.7
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.radialmenubase.min"],n):n()})(function(){(function(n,t){t.widget("ejRadialMenu","ej.RadialMenu",{_rootCSS:"e-radialmenu",element:null,model:null,_setFirst:!0,defaults:{imageClass:"e-radialimage",backImageClass:"e-backimage",targetElementId:null,click:null,autoOpen:!1,position:{x:null,y:null}},dataTypes:{autoOpen:"boolean"},_init:function(){this._id=this.element[0].id;t.browserInfo().name=="msie"&&t.browserInfo().version<9||(this._initialization(),this._prefix="e-",this._renderRadial(),this._wireEvents())},_renderRadial:function(){this._radial=t.buildTag("div.e-radial e-abs "+this.model.imageClass+"").css({left:this._startXY-22+"px",top:this._startXY-22+"px"});this._radialContainer=t.buildTag("div.e-rel").css({height:this._diameter,width:this._diameter});this.element.append(this._radialContainer.append(this._radial)).addClass("e-radialmenu e-overlow e-user-select");this._radialInitialPosition();this._renderRadialMenu();var n=this._childArcGroup.children(),i=this._polygonGroup.children();this._on(n,"mouseenter",this._arcOverHandler);this._on(n,"mouseleave",this._arcOverHandler);this._on(i,"mouseenter",this._arcOverHandler);this._on(i,"mouseleave",this._arcOverHandler);this._itemsEvents(this._menuItemsGroup.children(),this._menuItemsPaths.children(),this._menuItemsArcGroup.children())},_wireEvents:function(){var i=n(document);this._radialClick=n.proxy(this._showMenu,this);this._targetDown=n.proxy(this._targetDownHandler,this);this._targetClick=n.proxy(this._targetClickHandler,this);this._itemClick=n.proxy(this._itemClickHandler,this);t.listenEvents([this._radial,this._radialSVGDiv,i,i],[t.endEvent(),t.endEvent(),t.endEvent(),t.startEvent()],[this._radialClick,this._itemClick,this._targetClick,this._targetDown],!1)},_itemsEvents:function(n,t,i){this._on(n,"mouseenter",this._itemOverHandler);this._on(n,"mouseleave",this._itemOverHandler);this._on(t,"mouseenter",this._itemOverHandler);this._on(t,"mouseleave",this._itemOverHandler);this._on(i,"mouseenter",this._itemOverHandler);this._on(i,"mouseleave",this._itemOverHandler)},_showMenu:function(){this._radial.hasClass("e-backarrow")?this._windowsInnerMenuHide(this):this._radialCircleSVGDiv.hasClass("e-displaynone")?this._windowsMenuShow():this._windowsMenuHide(this);this._childTarget=!1},_itemClickHandler:function(t){var i=n(t.target);(i.attr("class")=="e-active"||t.target.tagName=="polygon")&&(this._index=parseInt(i.attr("index")),this._renderRadialChildMenu(this._index),this._childTarget=!0,this._itemsEvents(this._childItemsGroup.children(),this._childItemsPaths.children(),this._childItemArcGroup.children()));this._eventAction(t);this._event&&this._eventsTrigger(this._data,"click");this._event=!1},_eventAction:function(t){var i=n(t.target),r,u;i.attr("class")=="e-itembgcolor"||i.attr("class")=="e-default"?(r=i.index(),u=this._childTarget?n(this._childItemsGroup.children()[i.index()]).text():n(this._menuItemsGroup.children()[i.index()]).text(),this._event=!0,this._data=this._childTarget?{index:this._index,childIndex:r,text:u}:{index:r,text:u}):(t.target.tagName=="text"||t.target.tagName=="image")&&(r=i.parent().index(),u=i.parent().text(),this._event=!0,this._data=this._childTarget?{index:this._index,childIndex:r,text:u}:{index:r,text:u})},_radialInitialPosition:function(){this._targetElement=n("#"+this.model.targetElementId+"");this.model.autoOpen?(this.model.position.x!=null&&this.model.position.y!=null?this.element.css({position:"absolute",top:this.model.position.y+"px",left:this.model.position.x+"px"}):this.model.targetElementId&&this.element.css({position:"absolute",top:this._targetElement.height()/2-this.model.radius+"px",left:this._targetElement.width()/2-this.model.radius+"px"}),this.show()):this.hide()},_radialChildAnimate:function(){var n=this;setTimeout(function(){n._radialChildSVGDiv.removeClass("e-scalehide e-scaleshow").addClass("e-displaynone")},150)},_arcOverHandler:function(t){var i=n(t.target),u=parseInt(i.attr("index")),r=n(this._childArcGroup.find("path[index="+u+"]"));t.type=="mouseenter"?i.attr("class")=="e-childdefault"?i.attr("class","e-active"):r.attr("class","e-active"):i.attr("class")=="e-active"?i.attr("class","e-childdefault"):r.attr("class","e-childdefault")},_itemOverHandler:function(t){var i=n(t.currentTarget).index(),r=this._childTarget?n(this._childItemsArcPaths.children()[i]):n(this._menuItemsArcPaths.children()[i]);t.type=="mouseenter"?r.attr("class","e-childdefault"):r.attr("class","e-arcbgcolor")},_targetDownHandler:function(t){var i=n(t.target);!i.hasClass("e-rel")&&n(i.closest(".e-radialmenu")).length&&t.preventDefault()},_targetClickHandler:function(t){var u=n(t.target),f=t.clientX,e=t.clientY,i,r,o=n(u.closest(".e-radialmenu")).length,s=this._radialCircleSVGDiv.hasClass("e-displaynone"),h,c;this.model.targetElementId?(i=this._targetElement.width(),r=this._targetElement.height()):(i=window.innerWidth,r=window.innerHeight);o==0&&n(u.closest(this._targetElement)).length==0&&this.model.targetElementId?s?this.hide():this.hideMenu():n(u.closest("div.e-radial")).length==0&&s?(h=f>i-this.model.radius?i-this._diameter:f>this.model.radius?f-this.model.radius:0,c=e>r-this.model.radius?r-this._diameter:e>this.model.radius?e-this.model.radius:0,this.element.css({position:"absolute",top:c+"px",left:h+"px"})):o==0&&this.hideMenu()},_menuItems:function(n,t,i){this._ejMenuItem(n,t,i)},_hideMenu:function(){this._radial.hasClass("e-backarrow")?this._ejInnerMenuHide(this):this._ejMenuHide(this)},menuHide:function(){this._hideMenu()},enableItem:function(n){this._ejMenuEnabledDisabled(n,"enabled")},disableItem:function(n){this._ejMenuEnabledDisabled(n,"disabled")},enableItems:function(n){this._ejMenuEnabledDisabled(n,"enabled")},disableItems:function(n){this._ejMenuEnabledDisabled(n,"disabled")},_ejMenuEnabledDisabled:function(t,i){var r=this,u=n.isArray(t)?t:n.makeArray(t);n.each(u,function(t,u){n.each(r.model.items,function(t,f){f.text.toLowerCase()==u.toLowerCase()&&r._menuItems(this,t,i);f.items&&n.each(f.items,function(n,t){t.text.toLowerCase()==u.toLowerCase()&&(t.enabled=i=="disabled"?!1:!0)})})})}});n.extend(!0,t.RadialMenu.prototype,t.RadialMenuBase.prototype)})(jQuery,Syncfusion)});