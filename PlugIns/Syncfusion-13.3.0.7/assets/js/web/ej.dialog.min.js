/*!
*  filename: ej.dialog.min.js
*  version : 13.3.0.7
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.scroller.min","./../common/ej.draggable.min"],n):n()})(function(){(function(n,t,i){t.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},enableResize:!0,htmlAttributes:{},showHeader:!0,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",animation:"data",closeIconTooltip:"string",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",contentUrl:"string",contentType:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array"},_setModel:function(i){var r,u;for(r in i)switch(r){case"closeIconTooltip":this._ejDialog.find("button.e-dialog-icon").attr("title",i[r]);break;case"title":this.model.title=i[r];this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(i[r]);this._updateCaptionWidth();break;case"width":this.model.width=i[r];this._changeSize();this._updateCaptionWidth();break;case"height":this.model.height=i[r];this._changeSize();break;case"position":this.model.position=i[r];this._dialogPosition();break;case"cssClass":this._changeSkin(i[r]);break;case"showRoundedCorner":this._roundedCorner(i[r]);break;case"contentType":this._appendContent(i[r]);break;case"enabled":this.model.enabled=i[r];this._enabledAction(i[r]);break;case"contentUrl":this.model.contentUrl=i[r];this._appendContent(this.model.contentType);break;case"content":case"target":this._ejDialog.appendTo(n(i[r]));this.model.target=this.model.content=i[r];this._dialogPosition();break;case"minHeight":this.model.minHeight=i[r];this._ejDialog.css("minHeight",i[r]);this._resetScroller();this._resizeDialog();break;case"minWidth":this.model.minWidth=i[r];this._ejDialog.css("minWidth",i[r]);this._resetScroller();this._resizeDialog();break;case"maxHeight":this.model.maxHeight=i[r];this._ejDialog.css("maxHeight",i[r]);this._resetScroller();this._resizeDialog();break;case"maxWidth":this.model.maxWidth=i[r];this._ejDialog.css("maxWidth",i[r]);this._resetScroller();this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",i[r]);break;case"faviconCSS":this.model.faviconCSS=i[r];this._favIcon();this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=i[r];this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize");this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=i[r];i[r]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=i[r];i[r]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove());this._reRenderScroller();break;case"showHeader":this.model.showHeader=i[r];i[r]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this._enableDrag(),this._updateScroller(this._ejDialog.outerHeight(!0)-this._dialogTitlebar.outerHeight(!0),this._ejDialog.width()-2)):(this._ejDialog.find(".e-titlebar").remove(),this._updateScroller(this._ejDialog.outerHeight(!0),this._ejDialog.width()-2));break;case"enableRTL":this.model.enableRTL=i[r];this.model.faviconCSS&&this._favIcon();i[r]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":u=[];proxy=this;n.grep(this.model.actionButtons,function(t){n.inArray(t,i[r])==-1&&u.push(t)});!t.isNullOrUndefined(this._dialogTitlebar)&&u.length&&(this._removeAllIcons(),this._iconsRender(i[r]));this.model.actionButtons=i[r];this._updateCaptionWidth();break;case"enableModal":this._enableModal(i[r]);break;case"htmlAttributes":this._addAttr(i[r])}},_destroy:function(){this._overLay&&this._overLay.remove();this._cloneElement.appendTo(this._ejDialog.parent());this._ejDialog.remove();this._cloneElement.removeClass("e-dialog");this.element=this._cloneElement;this._isOpen=!1},keyConfigs:[37,38,39,40],_init:function(){this._widthPercent=null;this._heightPercent=null;this._isOpen=this._maximize=this._minimize=!1;this.model.close||(this.model.close=this.model.Close);this.model.target||(this.model.target=this.model.content);this._renderControl();this._wireEvents()},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i._ejDialog.addClass(n):t=="disabled"&&n=="disabled"?(i.model.enabled=!1,i._enabledAction(!1)):i._ejDialog.attr(t,n)})},_renderControl:function(){this.initialRender=!0;this._cloneElement=this.element.clone();this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"});this._ejDialog=t.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+this.element.prop("id")+"_wrapper","",{display:"none",zIndex:this.model.zIndex},{tabindex:0});this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize");this.wrapper=this._ejDialog;this._addAttr(this.model.htmlAttributes);this._ejDialog.appendTo(t.isNullOrUndefined(this.model.target)?document.body:n(this.model.target));this.model.enableRTL&&this._ejDialog.addClass("e-rtl");this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon());this._appendContent(this.model.contentType);this._enableResize()._enableDrag()._setSize()._sizeInPercent();this.model.contentType!="ajax"&&(this.model.showOnInit?this.open()._setContainerSize()._resetScroller():this._setHiddenDialogSize());this._roundedCorner(this.model.showRoundedCorner);this._enabledAction(this.model.enabled)},_setContainerSize:function(){if(this.model.height!="auto"){var t=this._ejDialog.outerHeight()-n(this._ejDialog.find("div.e-titlebar")).outerHeight();this.contentDiv.height(t);this.element.outerHeight(t)}return this},_changeSize:function(){this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){if(this.model.enableResize){this._ejDialog.addClass("e-resizable");var n=t.buildTag("div.e-icon e-resize-handle");n.appendTo(this._ejDialog);this._resizeDialog()}return this},_changeSkin:function(n){this.model.cssClass!=n&&this._ejDialog.removeClass(this.model.cssClass).addClass(n)},_enableModal:function(n){n?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(n){n?(this._ejDialog.removeClass("e-disable"),t.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),t.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title");typeof this._elementTitle!="string"&&(this._elementTitle="");this.model.title=this.model.title||this._elementTitle;this._dialogTitlebar=t.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header e-dialog").prependTo(this._ejDialog);this._addTitleText()},_addTitleText:function(){return this.model.title&&(this._titleText=t.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var n=this.model.faviconCSS?this._dialogFavIcon.outerWidth():0;return this._titleText&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-n),this},_iconsRender:function(n){for(var t=0;t<n.length;t++)switch(n[t]){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon()}},_removeAllIcons:function(){this._dialogTitlebar.find("button.e-dialog-icon").remove()},_appendContent:function(i){var r,u;this.contentDiv=t.isNullOrUndefined(this.contentDiv)?t.buildTag("div.e-dialog-scroller"):this.contentDiv;this.element.removeAttr("title").addClass("e-widget-content e-box");r=this;t.isNullOrUndefined(this.model.contentUrl)||t.isNullOrUndefined(i)?this.element.show().appendTo(this.contentDiv):i=="ajax"?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):i=="iframe"?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=t.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"no",frameborder:0,src:this.model.contentUrl}),this.element.append(this.iframe).show().appendTo(this.contentDiv)),this.model.enableRTL&&n(this.iframe).load(function(){r.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):i=="image"?(u=t.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(u).show().appendTo(this.contentDiv),n(u).load(function(){r._dialogPosition()}),this._trigger("contentLoad",{contentType:i,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv);this._ejDialog.find("div.e-resize-handle").length>0?this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):this.contentDiv.appendTo(this._ejDialog)},_roundedCorner:function(n){this._ejDialog[n?"addClass":"removeClass"]("e-corner")},_reRenderScroller:function(){if(this.scroller!=i&&(this.scroller.refresh(),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){var r=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),t=2,n=this._ejDialog.find("div.e-resize-handle").outerHeight();this.contentDiv.outerHeight()===this.scroller._vScrollbar.model.height+1&&(this.scroller._vScrollbar.model.height-=n+t,this.scroller._vScrollbar._scrollData.handle-=n,this.scroller._vScrollbar._scrollData.handleSpace-=n+t,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(r-n-t))}if(!(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){var u=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),t=2,n=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=n+t;this.scroller._hScrollbar._scrollData.handle-=n+t;this.scroller._hScrollbar._scrollData.handleSpace-=n+t;this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData);this.scroller._hScrollbar.element.find("> div.e-hscroll").width(u-n-t)}}},_dialogMaxZindex:function(){var u=this.element.parents(),i,r,t;return i=n("body").children(),index=i.index(this.popup),i.splice(index,1),n(i).each(function(n,t){u.push(t)}),r=n(this.model.target).children(),cindex=r.index(this.popup),r.splice(cindex,1),n(r).each(function(n,t){u.push(t)}),t=Math.max.apply(t,n.map(u,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_setZindex:function(){var n=this._dialogMaxZindex();this.model.zIndex<=n&&this._ejDialog.css({zIndex:n+1})},_createOverlay:function(){var n=this._ejDialog.css("zIndex");this._overLay=t.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:n-1});this._overLay.appendTo(this.model.target!=null?this.model.target:document.body)},_sendAjaxOptions:function(t,i){t.addClass("e-load");var r=this,u=this.model.title,e=i,f={success:function(n){try{r._ajaxSuccessHandler(n,t,i,u)}catch(f){}},error:function(n){try{r._ajaxErrorHandler({status:n.status,responseText:n.responseText,statusText:n.statusText},t,i,u)}catch(n){}},complete:function(){try{r._setContainerSize();r._resetScroller();r.model.showOnInit||r._setHiddenDialogSize()}catch(n){}}};n.extend(!0,f,this.model.ajaxSettings);this._sendAjaxRequest(f)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(n,t,i){t.removeClass("e-load");t.html(n).addClass("e-dialog-loaded").appendTo(this._ejDialog);t.appendTo(this.contentDiv);this._dialogPosition();this.model.showOnInit&&this.open();this._trigger("ajaxSuccess",{data:n,url:i})},_ajaxErrorHandler:function(n,t,i){t.addClass("e-dialog-loaded").appendTo(this.contentDiv);this._dialogPosition().open();this._trigger("ajaxError",{data:n,url:i})},_createEJButton:function(n,t){n.ejButton({size:"normal",contentType:"imageonly",prefixIcon:"e-icon "+t})},_closeIcon:function(){this._dialogClose=t.util.buildTag("button#"+this.element[0].id+"_closebutton.e-dialog-icon",null,null,{type:"button"});this._createEJButton(this._dialogClose,"e-close");this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip);this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=t.util.buildTag("button#"+this.element[0].id+"_collapsbutton.e-dialog-icon",null,null,{type:"button"});this._createEJButton(this._dialogCollapsible,"e-collapse-arrow");this._dialogCollapsible.appendTo(this._dialogTitlebar);this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=t.util.buildTag("button#"+this.element[0].id+"_maximizebutton.e-dialog-icon",null,null,{type:"button"});this._createEJButton(this._dialogMaximize,"e-maximize");this._dialogMaximize.appendTo(this._dialogTitlebar);this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=t.util.buildTag("button#"+this.element[0].id+"_minimizebutton.e-dialog-icon",null,null,{type:"button"});this._createEJButton(this._dialogMinimize,"e-minimize");this._dialogMinimize.appendTo(this._dialogTitlebar);this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=t.util.buildTag("button#"+this.element[0].id+"_pinbutton.e-dialog-icon",null,null,{type:"button"});this._createEJButton(this._dialogPin,"e-unpin");this._dialogPin.appendTo(this._dialogTitlebar);this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)n=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=t.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var n=t.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});n.appendTo(this._dialogFavIcon);this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?n.addClass(this.model.faviconCSS):this._dialogFavIcon.remove();this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_setSize:function(){var n=this.model;return this._ejDialog.css({width:n.width,minWidth:n.minWidth,maxWidth:n.maxWidth}),this._ejDialog.css({height:n.height,minHeight:n.minHeight,maxHeight:n.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){var u=this._ejDialog.outerHeight(!0)-n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0),r,i={width:this._ejDialog.width()-2,enableRTL:this.model.enableRTL,height:u};this.element.css({height:"auto","max-width":"","max-height":"",width:""});(this.model.height=="auto"||this.model.height=="100%")&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&(i.height="100%");(this.model.width=="auto"||this.model.width=="100%")&&(i.width=this.model.width);this.contentDiv.ejScroller(i);this.scroller=this.contentDiv.data("ejScroller");this._reRenderScroller();this._padding=parseInt(n(this.element).css("padding-top"))+parseInt(n(this.element).css("padding-bottom"));!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(r=t.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),this.model.height!="auto"&&this.model.height!="100%"?this.element.css({height:r}):this.element.css("height",this.model.height),this.model.height!="auto"&&this.model.height!="100%"||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-n(this._ejDialog.find("div.e-titlebar")).outerHeight(!0)}),this.scroller._vScrollbar||this.model.width=="auto"||this.model.width=="100%"?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth(this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight}))},_updateScroller:function(n,t){this.contentDiv.ejScroller({width:t,height:n,enableRTL:this.model.enableRTL});this.scroller=this.contentDiv.data("ejScroller");this._reRenderScroller()},_dragDialog:function(){var t=this,i=this._ejDialog.parents(".e-dialog-scroller");return this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragStart:function(n){return(t._clickHandler(),t.dialogPin||!t.model.allowDraggable||!t.model.enabled)?(n.cancel=!0,!1):t._trigger("dragStart",{event:n})?(n.cancel=!0,!1):void 0},drag:function(n){t._trigger("drag",{event:n})},dragStop:function(i){t._ejDialog.focus();t.element.find("> .e-draggable.e-titlebar")&&(dragobject=n("#"+t.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"),dragobject&&dragobject.option("cursorAt",t.element.offset()));t._trigger("dragStop",{event:i});t.model.position.X=this.position.left;t.model.position.Y=this.position.top},helper:function(){return n(t._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var t=this,r=!1,i,u=parseInt(this.model.minWidth),f=parseInt(this.model.minHeight),e=parseInt(this.model.maxWidth),o=parseInt(this.model.maxHeight);return i=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(u=this._convertPercentageToPixel(i.outerWidth(),u)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(f=this._convertPercentageToPixel(i.outerHeight(),f)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(e=this._convertPercentageToPixel(i.innerWidth(),e)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(o=this._convertPercentageToPixel(i.innerHeight(),o)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:f,minWidth:u,maxHeight:o,maxWidth:e,handle:"e-widget-content",resizeStart:function(n){if(!t.model.enabled)return!1;r||t._trigger("resizeStart",{event:n});r=!0;t.model.position={X:t._ejDialog.css("left"),Y:t._ejDialog.css("top")};t._dialogPosition()},resize:function(i){var r=n(i.element).parents("div.e-dialog-wrap");t.model.height=n(r).outerHeight();t.model.width=n(r).outerWidth();t._setSize();t._setContainerSize();t._resetScroller();t._updateCaptionWidth();t._trigger("resize",{event:i})},resizeStop:function(i){t._ejDialog.focus();t._sizeInPercent();var u=n(i.element).parents("div.e-dialog-wrap");t.model.height=n(u).outerHeight();t.model.width=n(u).outerWidth();t._setSize();t._setContainerSize();t._resetScroller();r&&t._trigger("resizeStop",{event:i});r=!1},helper:function(){return n(t._ejDialog)}}),this}},_dialogPosition:function(){var r,u,i,f,e,o;return this._ejDialog.parents("form").length>0&&t.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),this.model.position.X!=""||this.model.position.Y!=""?(this._ejDialog.css("position","absolute"),this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(r=0,u=0,t.isNullOrUndefined(this.model.target)?(o=document.documentElement,r=(n(window).outerWidth()>this._ejDialog.width()?(n(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||o.scrollLeft),u=(n(window).outerHeight()>this._ejDialog.height()?(n(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||o.scrollTop)):(i=n(this.model.target),i.css("position")=="static"&&(f=i.offsetParent().offset(),e=i.offset(),r=e.left-f.left,u=e.top-f.top),i.outerWidth()>this._ejDialog.width()&&(r+=(i.outerWidth()-this._ejDialog.width())/2),i.outerHeight()>this._ejDialog.height()&&(u+=(i.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:u,left:r}),this._ejDialog.css("position","absolute")),this},_closeClick:function(n){this.model.enabled&&(n.stopPropagation(),this.close(n))},_collapsibleClick:function(t){t.target=this._dialogCollapsible.find("span.e-icon");this.model.enabled&&(n(t.target).hasClass("e-collapse-arrow")?this._actionCollapse():n(t.target).hasClass("e-expand-arrow")&&this._actionExpand())},_actionCollapse:function(){this._dialogCollapsible&&this._dialogCollapsible.find("span.e-collapse-arrow").removeClass("e-collapse-arrow").addClass("e-expand-arrow");this._ejDialog.find("div.e-resize-handle").hide();this._ejDialog.find(".e-widget-content").parent().slideUp("fast");this._ejDialog.removeClass("e-shadow");this._ejDialog.css("minHeight","0");this._ejDialog.height("auto");this._trigger("collapse")},_actionExpand:function(){this._dialogCollapsible&&this._dialogCollapsible.find("span.e-expand-arrow").removeClass("e-expand-arrow").addClass("e-collapse-arrow");this._ejDialog.addClass("e-shadow");this._ejDialog.find(".e-widget-content").parent().slideDown("fast");this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height);this._ejDialog.find("div.e-resize-handle").show();this._trigger("expand")},_maximizeClick:function(i){if(i.target=this._dialogMaximize.find("span.e-icon"),this.model.enabled){var r=n(i.target),u=this._dialogMaximize.find("span.e-icon");r.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minimize"),r.removeClass("e-maximize").addClass("e-restore"),this._hideIcon(!0)):r.hasClass("e-restore")&&(this._actionRestore(),r.removeClass("e-restore").addClass("e-maximize"),!t.isNullOrUndefined(u)&&n(u).hasClass("e-expand-arrow")&&n(u).removeClass("e-expand-arrow").addClass("e-collapse-arrow"),this._hideIcon(!0))}},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("position",this.model.target?"absolute":"fixed");this._ejDialog.css({width:"100%",height:"100%"});this.element.css({width:"100%",height:"100%"});this.contentDiv.css({width:"100%",height:"100%"});this._maximize=!0;this._minimize=!1;this._dialogCollapsible&&!t.isNullOrUndefined(this._dialogCollapsible.find("span.e-expand-arrow"))&&(this._dialogCollapsible.find("span.e-expand-arrow").removeClass("e-expand-arrow").addClass("e-collapse-arrow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"));this._resetScroller()},_actionRestore:function(){this.element.height("").width("");this.contentDiv.height("").width("");this._restoreDialog();this._maximize=this._minimize=!1},_minimizeClick:function(i){if(i.target=this._dialogMinimize.find("span.e-icon"),this.model.enabled){var r=n(i.target),u=this._dialogMinimize.find("span.e-icon");r.hasClass("e-minimize")?(this._maximize&&this._setSize(),this._actionMinimize()):r.hasClass("e-restore")&&(this._actionRestore(),r.removeClass("e-restore").addClass("e-minimize"),!t.isNullOrUndefined(u)&&n(u).hasClass("e-expand-arrow")&&n(u).removeClass("e-expand-arrow").addClass("e-collapse-arrow"),this._hideIcon(!0))}},_actionMinimize:function(){var i=n(window).height()-this._ejDialog.height()+this.element.height()+14,t;this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.target?"absolute":"fixed");this._ejDialog.css("minHeight","0");this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogTitlebar.find(".e-minimize").removeClass("e-minimize").addClass("e-restore"),this._isOpen?t=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),t=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",t+2),this._hideIcon(!1)):this._ejDialog.css("height","");this.contentDiv.hide();this._maximize=!1;this._minimize=!0},_hideIcon:function(i){var r=this._dialogCollapsible?this._dialogCollapsible.find("span.e-icon"):null;i?(t.isNullOrUndefined(r)||n(r).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(t.isNullOrUndefined(r)||n(r).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(t.target=this._dialogPin.find("span.e-icon"),this.model.enabled){var i=n(t.target);i.hasClass("e-unpin")?(this.dialogPin=!0,i.removeClass("e-unpin").addClass("e-pin")):i.hasClass("e-pin")&&(this.dialogPin=!1,i.removeClass("e-pin").addClass("e-unpin"))}},_restoreDialog:function(){this.contentDiv.show();this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow");this._setSize()._resetScroller();this._dialogTitlebar&&this._dialogTitlebar.find(".e-minimize").parent().show()},_clickHandler:function(){var n=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<n&&this._ejDialog.css({zIndex:n+1})},_mouseClick:function(t){(n(t.target).hasClass("e-dialog")||n(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),n(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){code=t.keyCode?t.keyCode:t.which?t.which:t.charCode;this.model.allowKeyboardNavigation&&this.model.enabled&&n(t.target).hasClass("e-dialog")&&n.inArray(code,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(code,t.ctrlKey),t.preventDefault());this.model.closeOnEscape&&code===27&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault()));code==9&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var i=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");i=n(i).find("a, button, :input, select, [tabindex]:not('')");t.shiftKey?i[i.index(t.target)-1]||(t.preventDefault(),i.last().focus()):i[i.index(t.target)+1]||(t.preventDefault(),i[0].focus())},_keyPressed:function(n,t){switch(n){case 40:t?this.option("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:t?this.option("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:t?this.option("height",this._ejDialog.outerHeight()-3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top-3});break;case 37:t?this.option("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left-3,Y:this._ejDialog.position().top})}},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var n=this._getParentObj();return this._widthPercent=this._convertPixelToPercentage(n.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent=this._convertPixelToPercentage(n.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>100&&(this._widthPercent=100,this._ejDialog.outerWidth(n.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>100&&(this._heightPercent=100,this._ejDialog.outerHeight(n.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return t.isNullOrUndefined(this.model.target)?n(window):n(this.model.target)},_convertPercentageToPixel:function(n,t){return Math.round(t*n/100)},_convertPixelToPercentage:function(n,t){return Math.round(t/n*100)},_reSizeHandler:function(){var i;if(this._maximize){this._resetScroller();return}this._minimize||this._dialogPosition();i=this._getParentObj();this._ejDialog.outerWidth(this._convertPercentageToPixel(i.outerWidth(),this._widthPercent));this._ejDialog.outerHeight(this._convertPercentageToPixel(i.outerHeight(),this._heightPercent));this.contentDiv.width(this._ejDialog.width());this.element.outerWidth(this.contentDiv.width());this.contentDiv.height(this._ejDialog.height()-n(this._ejDialog.find("div.e-titlebar")).outerHeight());this.element.outerHeight(this._ejDialog.height()-n(this._ejDialog.find("div.e-titlebar")).outerHeight());this.scroller=this.contentDiv.ejScroller({width:this._ejDialog.width()-2,height:this.element.outerHeight(),rtl:this.model.rtl});this.scroller=this.contentDiv.data("ejScroller");this._reRenderScroller();this._padding=parseInt(n(this.element).css("padding-top"))+parseInt(n(this.element).css("padding-bottom"));!t.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&this.element.css({height:this.contentDiv.height()-this._padding});this._minimize?this._ejDialog.css("height",this._dialogTitlebar.outerHeight()):this._dialogPosition();this._updateCaptionWidth()},_enableWindowResize:function(){return this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&this.model.height!="auto"?!0:!1},_wireResizing:function(){n(window)[this._enableWindowResize()?"bind":"unbind"]("resize",n.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown);this._on(this._ejDialog,"click",this._mouseClick);this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var t,i,r;return this._isOpen?!0:!this.initialRender&&!0==this._trigger("beforeOpen")?!1:(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._dialogPosition(),t=this,i={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),this.model.animation.show.effect=="slide"?(r=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),i={left:r,opacity:1}):i={opacity:1}),this._ejDialog.animate(i,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){t.model&&(t._ejDialog.eq(0).focus(),t._ejDialog.css({opacity:""}),t.contentDiv.find("a, button, :input, select").first().focus(),t.initialRender||t._trigger("open"),t._updateCaptionWidth(),(t.model.maxHeight||t.model.maxWidth)&&t._updateScroller(t._ejDialog.outerHeight(!0)-(t._dialogTitlebar?t._dialogTitlebar.outerHeight(!0):0),t._ejDialog.width()-2),t.initialRender=!1)}),this.model.enableModal==!0&&this._createOverlay(),this._isOpen=!0,this.element.find(".e-draggable.e-titlebar")&&(dragobject=n("#"+this.element.find(".e-draggable.e-titlebar").attr("id")).data("ejDraggable"),dragobject&&dragobject.option("cursorAt",this.element.offset())),this)},close:function(n){if(!this._isOpen||!this.model.enabled)return!0;if(!0==this._trigger("beforeClose",{event:n}))return!1;this._isOpen=!1;var t=this,i={};return this.model.enableAnimation&&(i=this.model.animation.hide.effect=="slide"?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(i,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){t._trigger("close",{event:n});t._ejDialog.hide()}),this.model.enableModal&&this._overLay&&this._overLay.remove(),this},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(n){return this.model.title=n,this._titleText.text(n),this._updateCaptionWidth(),this},setContent:function(n){return this.model.enabled?(this.element.html(n),this._resetScroller(),this):!1},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){return this._actionMinimize(),n(this.wrapper.find(".e-minimize")[0]).parent().hide(),this},maximize:function(){return this._actionMaximize(),n(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),this.contentDiv.show(),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minimize").parent().show(),this},restore:function(){return this._actionRestore(),n(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass("e-maximize"),this},pin:function(){return this.dialogPin=!0,n(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this},unpin:function(){return this.dialogPin=!1,n(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this},collapse:function(){return this._actionCollapse(),this},expand:function(){return this._actionExpand(),this}})})(jQuery,Syncfusion)});