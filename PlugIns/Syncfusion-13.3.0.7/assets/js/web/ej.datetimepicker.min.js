/*!
*  filename: ej.datetimepicker.min.js
*  version : 13.3.0.7
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.scroller.min","./ej.datepicker.min","./ej.timepicker.min"],n):n()})(function(){(function(n,t){t.widget("ejDateTimePicker","ej.DateTimePicker",{element:null,model:null,validTags:["input"],_setFirst:!1,_rootCSS:"e-datetimepicker",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{cssClass:"",locale:"en-US",readOnly:!1,showRoundedCorner:!1,enableRTL:!1,htmlAttributes:{},enabled:!0,value:"",minDateTime:new Date("1/1/1900 12:00:00 AM"),maxDateTime:new Date("12/31/2099 11:59:59 PM"),height:"",width:"",dateTimeFormat:"",showPopupButton:!0,enableStrictMode:!1,buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"},enablePersistence:!1,interval:30,timeDisplayFormat:"",timePopupWidth:100,dayHeaderFormat:"short",startLevel:"month",depthLevel:"",startDay:0,stepMonths:1,showOtherMonths:!0,enableAnimation:!0,headerFormat:"MMMM yyyy",validationRules:null,validationMessage:null,open:null,close:null,change:null,create:null,destroy:null,focusIn:null,focusOut:null},dataTypes:{cssClass:"string",locale:"string",readOnly:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",enabled:"boolean",enableAnimation:"boolean",dateTimeFormat:"string",showPopupButton:"boolean",buttonText:"data",enablePersistence:"boolean",enableStrictMode:"boolean",interval:"number",timeDisplayFormat:"string",dayHeaderFormat:"string",startLevel:"string",depthLevel:"string",startDay:"number",stepMonths:"number",showOtherMonths:"boolean",headerFormat:"string",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},_setModel:function(n){var t,r=!1,u,i,f;for(t in n)switch(t){case"cssClass":this._changeSkin(n[t]);break;case"locale":this._localize(n[t]);break;case"readOnly":this._readOnly(n[t]);break;case"showRoundedCorner":this._setRoundedCorner(n[t]);break;case"enableRTL":this._setRtl(n[t]);break;case"enabled":this._enabled(n[t]);break;case"validationRules":this.model.validationRules!=null&&(this.element.rules("remove"),this.model.validationMessage=null);this.model.validationRules=n[t];this._setValidation();break;case"validationMessage":this.model.validationMessage=n[t];this._setValidation();break;case"value":n[t]=this._setValue(n[t]);r=!0;break;case"enableStrictMode":this.model.enableStrictMode=n[t];r=!0;break;case"minDateTime":i=this._stringToObject(n[t]);u=this._getFormat(i,"HH:mm:ss");this._isValidDate(i)?(this.datePicker.option("minDate",i),this.timePicker.option("minTime",u),n[t]=i):n[t]=this.model[t];r=!0;break;case"maxDateTime":i=this._stringToObject(n[t]);f=this._getFormat(n[t],"HH:mm:ss");this._isValidDate(i)?(this.datePicker.option("maxDate",i),this.timePicker.option("maxTime",f),n[t]=i):n[t]=this.model[t];r=!0;break;case"height":this.wrapper.height(n[t]);break;case"width":this.wrapper.width(n[t]);break;case"dateTimeFormat":this.model.dateTimeFormat=n[t];this.isValidState&&this._setValue(this.model.value);break;case"showPopupButton":this._showButton(n[t]);break;case"buttonText":this._buttonText(n[t]);break;case"interval":this._updateTimeHeight();this.timePicker.option("interval",n[t]);break;case"timeDisplayFormat":this._updateTimeHeight();this.timePicker.option("timeFormat",n[t]);break;case"timePopupWidth":this._updateTimeHeight();this.timePicker.option("popupWidth",n[t]);break;case"dayHeaderFormat":this.datePicker.option("dayHeaderFormat",n[t]);break;case"startLevel":this.datePicker.option("startLevel",n[t]);break;case"depthLevel":this.datePicker.option("depthLevel",n[t]);break;case"startDay":this.datePicker.option("startDay",n[t]);break;case"stepMonths":this.datePicker.option("stepMonths",n[t]);break;case"showOtherMonths":this.datePicker.option("showOtherMonths",n[t]);break;case"headerFormat":this.datePicker.option("headerFormat",n[t]);break;case"htmlAttributes":this._addAttr(n[t])}r&&this._validateMinMax();this._valueChange();this._checkErrorClass()},observables:["value"],_destroy:function(){this.isPopupOpen&&this._hideResult();this.element.insertAfter(this.wrapper);this.element.removeClass("e-input").val("");this.wrapper.remove();this.popup.remove()},_init:function(){if(!this.element.is("input")||this.element.attr("type")&&this.element.attr("type")!="text")return!1;this._initialize();this._initial=!0;this._render();this._wireEvents();this._addAttr(this.model.htmlAttributes);this.model.validationRules!=null&&(this._initValidator(),this._setValidation())},_initValidator:function(){var t=this;this.element.closest("form").validate({ignore:".e-hidden",errorClass:"e-validation-error",errorElement:"span",errorPlacement:function(t,i){n(t).insertAfter(i.closest(".e-widget"))}})},_setValidation:function(){var u,i,r,f;this.element.rules("add",this.model.validationRules);u=this.element.closest("form").validate();name=this.element.attr("name");u.settings.messages[name]={};for(i in this.model.validationRules)if(r=null,!t.isNullOrUndefined(this.model.validationRules[i])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[i])){u.settings.messages[name][i]=n.validator.messages[i];for(f in this.model.validationMessage)i==f?r=this.model.validationMessage[i]:""}else r=this.model.validationRules.messages[i];u.settings.messages[name][i]=r!=null?r:n.validator.messages[i]}},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="required"?i.element.attr(t,n):t=="class"?i.wrapper.addClass(n):t=="disabled"&&n=="disabled"?i._enabled(!1):t=="readOnly"&&n=="readOnly"?i._readOnly(!0):i.wrapper.attr(t,n)})},_initialize:function(){var n,i,r;this.popup=null;this.isPopupOpen=!1;this.isValidState=!0;this.model.value=this.model.value===""?this.element[0].value:this.model.value;this._isIE8=t.browserInfo().name=="msie"&&t.browserInfo().version=="8.0"?!0:!1;this.model.dateTimeFormat&&this.model.timeDisplayFormat||this._getDateTimeFormat();typeof this.model.value=="string"&&typeof this.model.value!=""&&(n=this._stringToObject(this.model.value),n&&(this.model.value=n));i=this.model.minDateTime=this._stringToObject(this.model.minDateTime);i&&this._isValidDate(i)||(this.model.minDateTime=this.defaults.minDateTime);r=this.model.maxDateTime=this._stringToObject(this.model.maxDateTime);r&&this._isValidDate(r)||(this.model.maxDateTime=this.defaults.maxDateTime)},_render:function(){this._renderWrapper();this._renderIcon();this._setDimentions();this._renderDropdown();this._checkProperties()},_renderWrapper:function(){this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive",tabindex:"0",value:this.model.value});this.wrapper=t.buildTag("span.e-datetime-wrap e-widget "+this.model.cssClass+"#"+this.element[0].id+"_wrapper").insertAfter(this.element);this.container=t.buildTag("span.e-in-wrap e-box").append(this.element);this.wrapper.append(this.container)},_renderIcon:function(){if(!this.model.showPopupButton)return!1;this.datetimeIcon=t.buildTag("span.e-select","",{}).attr(this._isIE8?{unselectable:"on"}:{});var n=t.buildTag("span.e-icon e-datetime","",{},{"aria-label":"select"}).attr(this._isIE8?{unselectable:"on"}:{});this.datetimeIcon.append(n);this.container.append(this.datetimeIcon).addClass("e-padding");this._on(this.datetimeIcon,"click",this._iconClick);this._on(this.datetimeIcon,"mousedown",function(n){n.preventDefault()})},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height);this.model.width&&this.wrapper.width(this.model.width)},_renderDropdown:function(){var f=n("#"+this.element.context.id+"_popup").get(0),e,o,s,h,i,r,u,c;f&&n(f).remove();this.popup=t.buildTag("div.e-datetime-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.element[0].id+"_popup").css("visibility","hidden");n("body").append(this.popup);this._renderControls();e=t.buildTag("div.e-header",this.model.buttonText.timeTitle).attr(this._isIE8?{unselectable:"on"}:{});o=t.buildTag("div.e-datecontainer").append(this.datePicker.popup).attr(this._isIE8?{unselectable:"on"}:{});s=t.buildTag("div.e-timecontainer").append(e,this.timePicker.popup).attr(this._isIE8?{unselectable:"on"}:{});h=t.buildTag("div.e-popup-container").append(o,s).attr(this._isIE8?{unselectable:"on"}:{});i=t.buildTag("div.e-dt-button e-dt-today",this.model.buttonText.today).attr(this._isIE8?{unselectable:"on"}:{});r=t.buildTag("div.e-dt-button e-dt-now",this.model.buttonText.timeNow).attr(this._isIE8?{unselectable:"on"}:{});u=t.buildTag("div.e-dt-button e-dt-done",this.model.buttonText.done).attr(this._isIE8?{unselectable:"on"}:{});c=t.buildTag("div.e-button-container").append(i,r,u).attr(this._isIE8?{unselectable:"on"}:{});this.popup.append(h,c);this._checkForResponsive();this._updateTimeHeight();this._bindOperations();this._updateValues();this.popup.css({visibility:"visible",display:"none"});this._on(i,"click",this._todayClick);this._on(r,"click",this._nowClick);this._on(u,"click",this._doneClick)},_renderControls:function(){this._renderDateControl();this._renderTimeControl();var n=t.buildTag("span").append(this.datePicker.wrapper,this.timePicker.wrapper);n.find("span").css("display","none");this.popup.append(n)},_renderDateControl:function(){var i=t.buildTag("input#"+this.element[0].id+"_date","",{},{type:"text"}),n;this.popup.append(i);i.ejDatePicker({height:"0px",width:"0px",displayInline:!0,showDateIcon:!1,showFooter:!1,enableStrictMode:!0,minDate:this._stringToObject(this.model.minDateTime),maxDate:this._stringToObject(this.model.maxDateTime),dayHeaderFormat:this.model.dayHeaderFormat,startLevel:this.model.startLevel,depthLevel:this.model.depthLevel,startDay:this.model.startDay,stepMonths:this.model.stepMonths,showOtherMonths:this.model.showOtherMonths,headerFormat:this.model.headerFormat,buttonText:this.model.buttonText.today,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale});this.datePicker=i.data("ejDatePicker");this.datePicker._getInternalEvents=!0;this.datePicker.popup.css({position:"static",display:"block"});this.model.value==""&&(n=new Date,this.model.minDateTime>n?n=this.model.minDateTime:this.model.maxDateTime<n&&(n=this.model.maxDateTime),this.datePicker.option("value",n))},_renderTimeControl:function(){var n=t.buildTag("input#"+this.element[0].id+"_time","",{},{type:"text"}),i,r;this.popup.append(n);n.ejTimePicker({height:"0px",width:"0px",interval:this.model.interval,timeFormat:this.model.timeDisplayFormat,popupWidth:this.model.timePopupWidth,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale});this.timePicker=n.data("ejTimePicker");this.timePicker._getInternalEvents=!0;this.timePicker.showDropdown=!0;this.timePicker.popup.css({position:"static",display:"block"});i=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime;r=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime;this.model.value==""&&(+this.datePicker.model.value==+this.datePicker._zeroTime(this.model.minDateTime)&&this.timePicker.option("minTime",this._getFormat(i,"HH:mm:ss")),+this.datePicker.model.value==+this.datePicker._zeroTime(this.model.maxDateTime)&&this.timePicker.option("maxTime",this._getFormat(r,"HH:mm:ss")))},_updateTimeHeight:function(){var n=this.datePicker.popup.outerHeight()-this.popup.find(".e-header").outerHeight()-2;n=this.popup.hasClass("e-dt-responsive")?"98px":n;this.timePicker.option("popupHeight",n)},_bindOperations:function(){var n=this;this.datePicker.option("layoutChange",function(){n._updateTimeHeight()});this.datePicker.option("outOfRange",function(){n.isValidState=!1});this.timePicker.option("outOfRange",function(){n.isValidState=!1});this.datePicker.option("change",function(t){n._refreshTimes(t)});this.datePicker.option("select",function(t){n._updateInput(t)});this.timePicker.option("select",function(){n._updateInput()})},_updateInput:function(n){var t=this._getDate()||new Date,i=this._getTime()||new Date;this.model.value=new Date(t.getFullYear(),t.getMonth(),t.getDate(),i.getHours(),i.getMinutes(),i.getSeconds());this._preVal=this._objectToString(this.model.value);this._updateDateTime();this._raiseChangeEvent();n&&(n.cancel=!0)},_updateDateTime:function(){this.isValidState=!0;var n=this._objectToString(this.model.value);this.element.val(n)},_refreshTimes:function(n){var i=this._getDateObj(n.value,this.datePicker.model.dateFormat),r,u,t;if(!i)return!1;this.isValidState=!0;this._compare(i,this._setEmptyTime(this.model.minDateTime))?(r=this._getFormat(this.model.minDateTime,"HH:mm:ss"),t=this._getTime(),this.timePicker.option("minTime",r),this._compare(t,this._getTime())||(this.timePicker.model.value=this._getFormat(t,this.timePicker.model.timeFormat),this.isValidState=!1)):this.timePicker.option("minTime","12:00:00 AM");this._compare(i,this._setEmptyTime(this.model.maxDateTime))?(u=this._getFormat(this.model.maxDateTime,"HH:mm:ss"),t=this._getTime(),this.timePicker.option("maxTime",u),this._compare(t,this._getTime())||(this.timePicker.model.value=this._getFormat(t,this.timePicker.model.timeFormat),this.isValidState=!1)):this.timePicker.option("maxTime","11:59:59 PM")},_updateValues:function(){this._setValue(this.model.value);this.model.value!=null&&(this.datePicker.option("value",this.model.value),this.timePicker.option("value",this.model.value));this._validateMinMax();this._preVal=this.element.val();this._checkErrorClass()},_setValue:function(n){return n==null||typeof JSON=="object"&&JSON.stringify(n)==="{}"?(this.element.val(""),this.model.value=null,this.isValidState=!0):typeof n=="string"?(this.element.val(n),this._updateModel(),this._validateMinMax(),this._checkStrictMode()):n instanceof Date&&this._isValidDate(n)&&(this.model.value=n,this._updateDateTime(),this._validateMinMax(),this._checkStrictMode()),this._checkErrorClass(),this.model.value},_validateValue:function(n){var t=this._stringToObject(n);t?(this.isValidState=!0,this.model.value=t):(this.model.value=n,this.isValidState=!1)},_validateMinMax:function(){var n,t,i;if(n=this.model.value?this._stringToObject(this.model.value):null,t=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,i=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime,!n||!t||!i)return!1;t>i&&(this.model.minDateTime=this.model.maxDateTime);this.isValidState=n<t||n>i?!1:!0},_checkProperties:function(){this.model.readOnly&&this._readOnly(!0);this.model.showRoundedCorner&&this._setRoundedCorner(!0);this.model.enableRTL&&this._setRtl(!0);this.model.enabled&&this._enabled(!0);this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this._enabled(!0):this._enabled(!1);this.element.attr("name")||this.element.attr({name:this.element[0].id});this._checkStrictMode();this._checkErrorClass()},_checkStrictMode:function(){this.model.enableStrictMode||this.isValidState||(this.model.value<this.model.minDateTime?(this.element.val(this._objectToString(this.model.minDateTime)),this.model.value=this.model.minDateTime,this.isValidState=!0):this.model.value>this.model.maxDateTime?(this.element.val(this._objectToString(this.model.maxDateTime)),this.model.value=this.model.maxDateTime,this.isValidState=!0):(this.model.value="",this.element.val(""),this.isValidState=!0))},_targetFocus:function(n){n.preventDefault();this.isFocused=!0;this.wrapper.addClass("e-focus");this.wrapper.removeClass("e-error");this._prevDateTimeVal=this.element.val();this.model.showPopupButton||this.model.readOnly||this._showResult();this.model.showPopupButton||this._on(this.element,"click",this._elementClick);this._trigger("focusIn",{value:this.model.value})},_targetBlur:function(){this.isFocused=!1;this.wrapper.removeClass("e-focus");this.model.showPopupButton||this._hideResult();this._valueChange();this.model.enableStrictMode||(this.isValidState?this._prevDateTimeVal=this.element.val():(this.element.val(this._prevDateTimeVal),this._preVal=this._prevDateTimeVal,this.model.value=this._stringToObject(this._prevDateTimeVal),this.isValidState=!0));this._checkErrorClass();this.model.showPopupButton||this._off(this.element,"click",this._elementClick);this._trigger("focusOut",{value:this.model.value})},_elementClick:function(){this.isPopupOpen||this._showResult()},_keyDownOnInput:function(n){switch(n.keyCode){case 40:n.altKey&&this._showhidePopup();break;case 37:case 39:n.altKey&&this.isPopupOpen&&(n.preventDefault(),this._addPrevNextFocus(n.keyCode==37));break;case 27:n.preventDefault();case 9:this._hideResult();break;case 13:this._valueChange();this.isPopupOpen&&this._hideResult()}},_addFocus:function(t){t.hasClass("e-focus")||(this._removeFocus(),t.addClass("e-focus"),t.hasClass("e-datecontainer")?n(document).bind("keydown",n.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?n(document).bind("keydown",n.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-dt-button")&&n(document).bind("keydown",n.proxy(this._buttonClick,this)))},_removeFocus:function(){var t=this._getFocusedElement();t.length>0&&(t.removeClass("e-focus"),t.hasClass("e-datecontainer")?n(document).unbind("keydown",n.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?n(document).unbind("keydown",n.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-dt-button")&&n(document).unbind("keydown",n.proxy(this._buttonClick,this)))},_addPrevNextFocus:function(n){var i=this._getFocusedElement(),t;i.length>0?i.hasClass("e-datecontainer")?t=n?this.popup.find(".e-dt-done"):this.popup.find(".e-timecontainer"):i.hasClass("e-timecontainer")?t=n?this.popup.find(".e-datecontainer"):this.popup.find(".e-dt-today"):i.hasClass("e-dt-today")?t=n?this.popup.find(".e-timecontainer"):this.popup.find(".e-dt-now"):i.hasClass("e-dt-now")?t=n?this.popup.find(".e-dt-today"):this.popup.find(".e-dt-done"):i.hasClass("e-dt-done")&&(t=n?this.popup.find(".e-dt-now"):this.popup.find(".e-datecontainer")):t=n?this.popup.find(".e-dt-done"):this.popup.find(".e-datecontainer");this._addFocus(t)},_getFocusedElement:function(){return this.popup.children("div").children("div.e-focus")},_valueChange:function(){this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._updateModel(),this._validateMinMax(),this._raiseChangeEvent())},_updateModel:function(){var n=this.element.val(),t;n==""?(this.model.value=null,this.isValidState=!0):(t=this._stringToObject(n),t?(this.model.value=t,this.isValidState=!0,this._refreshPopup()):(this.model.value=n,this.isValidState=!1))},_refreshPopup:function(){if(this.isValidState&&this.isPopupOpen){var n=this._setEmptyTime(this.model.value),t=this._setEmptyDate(this.model.value),i=this._getDate(),r=this._getTime();i&&this._compare(i,n)||this.datePicker.option("value",n);r&&this._compare(r,t)||this.timePicker.option("value",t)}},_buttonClick:function(n){if(n.keyCode==13){n.preventDefault();var t=this._getFocusedElement();t.hasClass("e-dt-today")?this._todayClick():t.hasClass("e-dt-now")?this._nowClick():t.hasClass("e-dt-done")&&this._doneClick()}},_todayClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.datePicker.popup.find(".today").hasClass("e-active")&&this.datePicker.popup.children("table").hasClass("e-dp-viewdays")&&this.element.val()!=""&&this.isValidState||(this.datePicker._setCurrDate(),this._updateInput())},_nowClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.timePicker.setCurrentTime();var i=this.model.minDateTime,r=this.model.maxDateTime,n=this.datePicker.model.value,t=new Date,u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());u<i?this.timePicker.option("value",this.timePicker._localizeTime(i)):u>r&&this.timePicker.option("value",this.timePicker._localizeTime(r));this._updateInput()},_doneClick:function(){this._hideResult()},_iconClick:function(n){n.preventDefault();this.isFocused||this.element.focus();this._showhidePopup()},_showhidePopup:function(){if(this.model.readOnly)return!1;this.isPopupOpen?this._hideResult():this._showResult()},_showResult:function(){if(this.isPopupOpen||!this.model.enabled||this._raiseEvent("open"))return!1;this.isPopupOpen=!0;this._setListPosition();this._checkForResponsive();var i=this;this.popup.slideDown(this.model.enableAnimation?200:0,"easeOutQuad",function(){i._on(n(document),"mousedown",i._OnDocumentClick)});this._updateModel();this._updateTimeHeight();this._validateMinMax();this._on(n(window),"resize",this._OnWindowResize);this._on(t.getScrollableParents(this.wrapper),"scroll",this._hideResult);this._initial&&(this.timePicker._refreshScroller(),this.timePicker._changeActiveEle(),this._initial=!1);this.wrapper.addClass("e-active")},_hideResult:function(){if(!this.isPopupOpen||this._raiseEvent("close"))return!1;this.isPopupOpen=!1;this._removeFocus();this.popup.slideUp(this.model.enableAnimation?100:0,"easeOutQuad");this._off(n(document),"mousedown",this._OnDocumentClick);this._off(n(window),"resize",this._OnWindowResize);this._off(t.getScrollableParents(this.wrapper),"scroll",this._hideResult);this.wrapper.removeClass("e-active")},_setListPosition:function(){var t=this.wrapper,i=this._getOffset(t),f,h=n(document).scrollTop()+n(window).height()-(i.top+n(t).outerHeight()),c=i.top-n(document).scrollTop(),u=this.popup.outerHeight(),e=this.popup.outerWidth(),r=i.left,o=t.outerHeight(),l=(o-t.height())/2,a=this._getZindexPartial(),s=3,v=(u<h||u>c?i.top+o+s:i.top-u-s)-l;f=n(document).scrollLeft()+n(window).width()-r;(this.model.enableRTL||e>f&&e<r+t.outerWidth())&&(r-=this.popup.outerWidth()-t.outerWidth());this.popup.css({left:r+"px",top:v+"px","z-index":a})},_getOffset:function(n){return t.util.getOffset(n)},_OnDocumentClick:function(t){this.model&&(n(t.target).is(this.popup)||n(t.target).parents(".e-datetime-popup").is(this.popup)||n(t.target).is(this.wrapper)||n(t.target).parents(".e-datetime-wrap").is(this.wrapper)?(n(t.target).is(this.popup)||n(t.target).parents(".e-datetime-popup").is(this.popup))&&(t.preventDefault(),n(t.target).parents(".e-datecontainer").length>0?this._addFocus(n(t.target).parents(".e-datecontainer")):n(t.target).parents(".e-timecontainer").length>0?this._addFocus(n(t.target).parents(".e-timecontainer")):n(t.target).hasClass("e-dt-button")?this._addFocus(n(t.target)):this._removeFocus()):this._hideResult())},_OnWindowResize:function(){this._setListPosition();this._checkForResponsive()},_raiseChangeEvent:function(){var n=this._stringToObject(this._prevDateTimeVal),t=this._stringToObject(this.element.val());this.element==null||+n==+t||(this._trigger("change",{prevDateTime:this._prevDateTimeVal,value:this.element.val(),isValidState:this.isValidState}),this._trigger("_change",{prevDateTime:this._prevDateTimeVal,value:this.element.val(),isValidState:this.isValidState}),this._prevDateTimeVal=this.element.val())},_raiseEvent:function(n){return this.element!=null&&this.model[n]?this._trigger(n,{prevDateTime:this._preVal,value:this.element.val()}):!1},_getDateTimeFormat:function(){var n=Globalize.culture(this.model.locale).calendar.patterns;this.model.dateTimeFormat||(this.model.dateTimeFormat=n.d+" "+n.t);this.model.timeDisplayFormat||(this.model.timeDisplayFormat=n.t)},_getZindexPartial:function(){return t.util.getZindexPartial(this.element,this.popup)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},_getDate:function(){return this.datePicker.model.value},_getTime:function(){return this._getDateObj(this.timePicker.model.value,this.timePicker.model.timeFormat)},_setEmptyTime:function(n){var t=new Date(n);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},_setEmptyDate:function(n){var t=new Date(n);return t.setDate(1),t.setMonth(0),t.setFullYear(2e3),t},_objectToString:function(n){return this._getFormat(n,this.model.dateTimeFormat)},_stringToObject:function(n){return this._getDateObj(n,this.model.dateTimeFormat)},_getFormat:function(n,t){if(n instanceof Date){var i=this._checkFormat(t);return Globalize.format(n,i,this.model.locale)}return n},_checkFormat:function(n){var t=this,i=this._regExp();return n.replace(i,function(n){return n==="/"?Globalize.culture(t.model.locale).calendars.standard["/"]!=="/"?"'/'":n:n})},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},_getDateObj:function(n,t){var e,u;if(typeof n=="string"){if(e=this._checkFormat(t),u=Globalize.parseDate(n,e,this.model.locale),u!=null)return u;if(n!=""&&n!=null){var f,i=/^\s*(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d).*Z\s*$/.exec(n),r=new Date;if(i&&(f=+i[2],r.setUTCFullYear(i[1],f-1,i[3]),r.setUTCHours(i[4],i[5],i[6]),f!=r.getUTCMonth()+1&&r.setTime()),this._isValidDate(r))return r}else return null}else return n},_compare:function(n,t){return n&&t&&n.getTime()==t.getTime()},_isValidDate:function(n){return n&&typeof n.getTime=="function"&&isFinite(n.getTime())},_change:function(n,t){this.datePicker.option(n,t);this.timePicker.option(n,t)},_changeSkin:function(n){this.wrapper.removeClass(this.model.cssClass).addClass(n);this.popup.removeClass(this.model.cssClass).addClass(n);this._change("cssClass",n)},_localize:function(n){this.model.locale=n;this.model.dateTimeFormat=this.model.timeDisplayFormat="";this._getDateTimeFormat();(this.isValidState||this.model.value instanceof Date&&this._isValidDate(this.model.value))&&this.element.val(this._objectToString(this.model.value));this._preVal=this.element.val();this._change("locale",n)},_readOnly:function(n){this.model.readOnly=n;n?this.element.attr("readonly","readonly"):this.element.removeAttr("readonly");this._change("readOnly",n)},_setRoundedCorner:function(n){n?(this.container.addClass("e-corner"),this.popup.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popup.removeClass("e-corner"));this.datePicker.option("showRoundedCorner",n)},_setRtl:function(n){n?(this.wrapper.addClass("e-rtl"),this.popup.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popup.removeClass("e-rtl"));this._change("enableRTL",n)},_enabled:function(n){n?(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable())},_showButton:function(n){this.model.showPopupButton=n;n?(this.container.addClass("e-padding"),this._renderIcon()):(this.container.removeClass("e-padding"),this.datetimeIcon.remove(),this.datetimeIcon=null)},_buttonText:function(t){n.extend(this.model.buttonText,t);this.popup.find(".e-dt-today").html(this.model.buttonText.today);this.popup.find(".e-dt-now").html(this.model.buttonText.timeNow);this.popup.find(".e-dt-done").html(this.model.buttonText.done);this.popup.find(".e-timecontainer").find(".e-header").html(this.model.buttonText.timeTitle)},_checkForResponsive:function(){if(n(window).outerWidth()>200&&n(window).outerWidth()<=500)this.popup.hasClass("e-dt-responsive")||(this.popup.addClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.datePicker.popup.outerWidth()),this.timePicker.option("popupHeight",98),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle());else if(this.popup.hasClass("e-dt-responsive")){this.popup.removeClass("e-dt-responsive");this.timePicker.option("popupWidth",this.model.timePopupWidth);var t=this.datePicker.popup.outerHeight()-this.popup.find(".e-header").outerHeight()-2;this.timePicker.option("popupHeight",t);this.timePicker._refreshScroller();this.timePicker._changeActiveEle()}},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.removeAttr("disabled"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this.datetimeIcon&&this.datetimeIcon.removeClass("e-disable").attr("aria-disabled",!1),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().removeClass("e-disable"),this.popup.children("div").removeClass("e-disable").attr("aria-disabled",!1),this._change("enabled",!0))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.addClass("e-disable").attr("aria-disabled",!0),this.element.attr("disabled","disabled"),this.datetimeIcon&&this.datetimeIcon.addClass("e-disable").attr("aria-disabled",!0),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().addClass("e-disable"),this.popup.children("div").addClass("e-disable").attr("aria-disabled",!0),this._hideResult(),this._change("enabled",!1),this.datePicker.popup.removeClass("e-disable").attr("aria-disabled",!1),this.timePicker.popup.removeClass("e-disable").attr("aria-disabled",!1))},getValue:function(){return this._objectToString(this.model.value)},setCurrentDateTime:function(){this.model.readOnly||this._setValue(new Date)},show:function(){this._showResult()},hide:function(){this._hideResult()},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus);this._on(this.element,"blur",this._targetBlur);this._on(this.element,"keydown",this._keyDownOnInput)}})})(jQuery,Syncfusion)});