/*!
*  filename: ej.mobile.button.min.js
*  version : 13.3.0.7
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./ej.mobile.core.min","./ej.mobile.application.min","./../common/ej.unobtrusive.min","./../common/ej.touch.min"],n):n()})(function(){(function(n,t){t.widget({ejmButton:"ej.mobile.Button",ejmActionlink:"ej.mobile.Actionlink"},{_setFirst:!0,_rootCSS:"e-m-btn",defaults:{touchStart:null,touchEnd:null,enabled:!0,cssClass:"",renderMode:"auto",text:"button",theme:"auto",imageClass:null,imagePosition:"left",contentType:"text",enablePersistence:!1,ios7:{style:"normal",color:""},android:{style:"normal"},windows:{style:"normal",renderDefault:!1},flat:{style:"normal"},inline:!1},dataTypes:{enabled:"boolean",theme:"enum",renderMode:"enum",imagePoisition:"enum",contentType:"enum",enablePersistence:"boolean",android:{style:"enum"},windows:{style:"enum",renderDefault:"boolean"},ios7:{style:"enum",color:"enum"},flat:{style:"enum"},inline:"boolean"},_init:function(){App.activePage||App.createAppView();this._renderControl()},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this._isLinkButton=this.element[0].nodeName=="A";this._wrapper=t.buildTag("div.e-m-btnwrapper e-m-"+this.model.renderMode+" e-m-"+this.model.theme,"",{},{style:this.model.style});this._isLinkButton&&this._wrapper.addClass("e-m-actionlink "+this.element.attr("class"));this.element.addClass("e-m-clearall e-m-btn-tag e-m-font-normal e-m-state-default e-m-user-select "+this.model.cssClass);!this.element.attr("name")&&this.element[0].id&&this.element.attr("name",this.element[0].id);this._setImagePosition();this.model.text=this.element.html()!=""?this.element.html():t.isNullOrUndefined(this.element.attr("value"))?this.model.text:this.element.attr("value");this._setText(this.model.text);this.model[this.model.renderMode].style=="back"&&this.element.addClass("e-m-fontimage");this["_"+this.model.renderMode+"Properties"]&&this["_"+this.model.renderMode+"Properties"]();this.element.wrap(this._wrapper);this._wrapper=this.element.parent();this._createDelegates();this._controlStatus(this.model.enabled);this._ios7ImageClass()},_ios7Properties:function(){this.model.ios7.style=="back"?this._isLinkButton&&this._wrapper.addClass("e-m-btn-"+this.model.ios7.style):this._wrapper.addClass("e-m-btn-"+this.model.ios7.style);this._isLinkButton&&this.model.ios7.color!=""&&this._wrapper.removeClass("e-m-"+this.model.theme).addClass("e-m-"+this.model.ios7.color)},_ios7ImageClass:function(){this.model.renderMode=="ios7"&&this.model.imageClass&&this._wrapper.removeClass("e-m-btn-normal")},_androidProperties:function(){this._wrapper.addClass(" e-m-"+this.model.theme+" e-m-btn-"+this.model.android.style);this.element.removeClass("e-m-font-normal").addClass("e-m-font-"+this.model.android.style)},_windowsProperties:function(){this._wrapper.addClass("e-m-btn-"+this.model.windows.style);this.model.windows.style=="back"&&(this._isLinkButton?this.element.empty():this.element.attr("value",""))},_flatProperties:function(){this._wrapper.addClass(" e-m-btn-"+this.model.flat.style)},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._touchMoveHandler=n.proxy(this._touchMove,this)},_wireEvents:function(n){t.listenEvents([this._wrapper,this._wrapper,this._wrapper],[t.startEvent(),t.endEvent(),t.cancelEvent()],[this._touchStartHandler,this._touchEndHandler,this._touchEndHandler],n)},_touchStart:function(n){this._start=!0;this._move=!1;t.isWindows()&&t._touchStartPoints(n,this);this._wrapper.addClass("e-m-state-active").removeClass("e-m-state-default");this.model.touchStart&&this._trigger("touchStart",data={text:this.model.text});t.listenTouchEvent(window,t.moveEvent(),this._touchMoveHandler,!1)},_touchMove:function(n){(!t.isWindows()||t.isWindows()&&t._isTouchMoved(n,this))&&(this._move=!0)},_touchEnd:function(n){if(t.listenTouchEvent(window,t.moveEvent(),this._touchMoveHandler,!0),this._wrapper.addClass("e-m-state-default").removeClass("e-m-state-active"),!this._start||this._move){this._start=!1;this._move=!1;return}this._wrapper.parents(".e-m-dlg-btn").length&&n.preventDefault();this.model[this.model.renderMode].style!="back"||this.model.touchEnd?this.model.touchEnd&&this._trigger("touchEnd",data={text:this.model.text}):history.back()},_controlStatus:function(n){var t=n?"removeClass":"addClass";this.element[t]("e-m-state-disabled");this._wrapper[t]("e-m-state-disabled");this._wireEvents(!n)},_setImagePosition:function(){this.model.imageClass&&(this._ios7ImageClass(),this.model.inline?this._wrapper.addClass("e-m-btn-image e-m-inline"):this._wrapper.addClass(" e-m-btn-image"),this.model.contentType!="text"&&this.element.addClass(this.model.imageClass),this.model.contentType=="both"&&this.element.removeClass("e-m-image-left e-m-image-right").addClass("e-m-image-"+this.model.imagePosition),this.model.contentType=="image"&&(this.model.text="",this._wrapper.addClass("e-m-btn-imageonly"),this.element.attr("value","")))},_setModel:function(n){for(var t in n)setprop="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[setprop]&&this[setprop](n[t])},_setRenderMode:function(n){this.model.renderMode=n;this._wrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat e-m-corner-all").addClass("e-m-"+this.model.renderMode);this._wrapper.addClass("e-m-btn-"+this.model[this.model.renderMode].style)},_setTheme:function(){this._wrapper.removeClass("e-m-dark e-m-light e-m-default").addClass("e-m-"+this.model.theme)},_setIos7:function(n){n.style&&this._setButtonStyle(n.style);n.color&&this._setColor(n.color)},_setAndroid:function(n){this._setButtonStyle(n.style)},_setFlat:function(n){this._setButtonStyle(n.style)},_setWindows:function(n){this._setButtonStyle(n.style)},_setButtonStyle:function(n){this.model[this.model.renderMode].style=n;this._wrapper.removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header e-m-btn-dialog").addClass("e-m-btn-"+this.model[this.model.renderMode].style);this._setText(this.model.text);this.model[this.model.renderMode].style=="back"&&this.element.addClass("e-m-fontimage")},_setColor:function(n){this.model.ios7.style=="normal"&&(this.model[this.model.renderMode].color=n,this._wrapper.removeClass("e-m-red e-m-black e-m-green e-m-blue e-m-gray e-m-"+this.model.theme).addClass("e-m-"+this.model[this.model.renderMode].color))},_setEnabled:function(){this._controlStatus(this.model.enabled)},_setText:function(){this.element[0].nodeName=="INPUT"?this.element.attr("value",this.model.text):this.model.renderMode=="windows"&&this.model.windows.style=="back"?this.element.empty():this.element.html(this.model.text)},_setContentType:function(){this._setImagePosition()},_setImageClass:function(){this._setImagePosition()},_clearElement:function(){this.element.insertAfter(this._wrapper);this._wrapper.remove();this.element.removeAttr("class");this.element.addClass("e-m-btn")},_destroy:function(){this._wireEvents(!0);this._clearElement()},enable:function(){this.model.enabled=!0;this._controlStatus(!0)},disable:function(){this.model.enable=!1;this._controlStatus(!1)}});t.mobile.Button.IOS7={};t.mobile.Button.IOS7.Style={Normal:"normal",Back:"back",Header:"header",Dialog:"dialog"};t.mobile.Button.IOS7.Color={Gray:"gray",Black:"black",Blue:"blue",Green:"green",Red:"red"};t.mobile.Button.Android={};t.mobile.Button.Android.Style={Normal:"normal",Small:"small",Dialog:"dialog"};t.mobile.Button.Windows={};t.mobile.Button.Windows.Style={Normal:"normal",Back:"back"};t.mobile.Button.Flat={};t.mobile.Button.Flat.Style={Normal:"normal",Back:"back",Header:"header"};t.mobile.Button.ImagePosition={Left:"left",Right:"right"};t.mobile.Button.ContentType={Text:"text",Image:"image",Both:"both"}})(jQuery,Syncfusion)});