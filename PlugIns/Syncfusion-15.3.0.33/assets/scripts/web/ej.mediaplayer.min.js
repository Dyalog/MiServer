/*!
*  filename: ej.mediaplayer.min.js
*  version : 15.3.0.33
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./../common/ej.draggable.min","./../common/ej.scroller.min","./../common/ej.globalize.min","./ej.button.min","./ej.listbox.min","./ej.listview.min","./ej.togglebutton.min","./ej.slider.min"],n):n()})(function(){"use strict";var n=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},t=function(t){function i(n){return t.call(this),this.rootCSS="e-mediaplayer",this.PluginName="ejMediaPlayer",this._id="null",this._playList=[],this._mediaIndex=0,this._mediaDiv=null,this._youtubeIns=null,this._playTimer=null,this._animateWidth=null,this._animateHeight=null,this._autoHideTime=null,this._mobIconHide=null,this._playListWidth="32%",this._parentElement=null,this._youtubeMediaEle=null,this._pausedOnSeek=!1,this._dataSource=null,this._repeat=!1,this._mute=!1,this._shuffle=!1,this._subtitle=!1,this._tochStart=!1,this._mouseMoveEvt=null,this._mouseLeaveEvt=null,this._clickEvt=null,this._fullScEvt=null,this._keyDownEvt=null,this._pausedManual=!1,this._manualMute=!1,this._hideVolume=null,this._playStarted=null,this._isWaitingPopup=null,this._APIKey="AIzaSyBFRrwfRNr5iTur-fBwexpBG70_P6foPPM&part",this._browserInfo=ej.browserInfo(),this._defaultPosterUrl="data:image/png;base64,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",this._thumbnailUrl=" data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAdCAYAAAAzfpVwAAAACXBIWXMAAAsSAAALEgHS3X78AAAAzUlEQVRYw+3VsW2AMBCF4d++KyzAMjXjpAp9lsh02SJrpEpDAQVYciKDUmUDI2HJN8Gnp/d0Zp7nF+q4LwXegbcnK8/z/BaRVwVY15VlWR4J7bqOaZoUwFLRNWzDNmzD3oQ1xtSDHccRVa0Dq6qEEHDO1dFZay3ee7z3RWtx68CccwzDUAc2pcRxHOUqdgfyui5ijKSUyu6hNDTnzL7v5JyLh1Acu21b+2AN27AN27CVYhUghPDb9/3PI9O0Vowx+R/7ISKfIvLkUCMQ/wAP5C8WF/A5pwAAAABJRU5ErkJggg==",this.defaults={width:"100%",height:"100%",toolbarHeight:"70px",source:[],volume:50,mute:!1,autoPlay:!0,autoHide:!0,shuffle:!1,repeat:!1,subtitle:!0,showPoster:!0,playSpeed:1,disableKeys:!1,showTitle:!0,enableFullScreen:!0,cssClass:"",showPlaylist:!1,renderMode:screen.width<=480?"mobile":"basic",contentType:"video",autoHideTime:3,forwardTime:10,rewindTime:10,playlistTitle:"Playlist"},this.model=this.defaults,this.observable=["value"],this.hideWaitingPopup=function(){this._hideWaitingPopup();this._isWaitingPopup=!1},this.showWaitingPopup=function(){this._isWaitingPopup=!0;this._showWaitingPopup()},n&&(n.jquery||(n=$("#"+n)),n.length)?$(n).ejMediaPlayer().data(this.PluginName):void 0}return n(i,t),i.prototype._destroy=function(){window.clearInterval(this._playTimer);window.clearTimeout(this._autoHideTime);this._playTimer=null;this._autoHideTime=null;this._unwireCommonEvents();this._removeClass(this._mediaDiv,"e-media-player");this._removeClass(this._mediaDiv,"e-media-player");this._mediaDiv.innerHTML=""},i.prototype.setModel=function(n,t){this.setModel(n,t)},i.prototype.option=function(n,t){this.option(n,t)},i.prototype._setModel=function(n){var t,i,r,u;for(t in n){i=this._getCurrentMedia();r=this._isYoutubeElement(i);switch(t){case"width":this.model.width=n[t];this._setModelWidth();break;case"height":this.model.height=n[t];this._setModelHeight();break;case"toolbarHeight":this.model.toolbarHeight=n[t];this._updatetoolbarHeight();break;case"renderMode":this.model.renderMode=n[t];this._changerenderMode(n[t]);break;case"source":this._playList=this.model.source=n[t];break;case"volume":this.model.volume=n[t];this._setModelVolume(i,n[t],r);break;case"mute":this._mute=this.model.mute=n[t];this._setModelMute(i,n[t],r);break;case"autoPlay":this.model.autoPlay=n[t];break;case"autoHide":this.model.autoHide=n[t];this._updatetoolbarHeight();break;case"shuffle":this._shuffle=this.model.shuffle=n[t];break;case"repeat":this._repeat=this.model.repeat=n[t];break;case"subtitle":this._subtitle=this.model.subtitle=n[t];this._setSubtitle(i,null,r);break;case"showPoster":this.model.showPoster=n[t];break;case"playSpeed":this.model.playSpeed=n[t];this._setModelSpeed(i,n[t],r);break;case"disableKeys":this.model.disableKeys=n[t];break;case"showTitle":this.model.showTitle=n[t];break;case"enableFullScreen":this.model.enableFullScreen=n[t];break;case"cssClass":u=this._mediaDiv;this._removeClass(u,this.model.cssClass);this.model.cssClass=n[t];this._addClass(u,n[t]);break;case"showPlaylist":this.model.showPlaylist=n[t];break;case"autoHideTime":this.model.autoHideTime=n[t];break;case"forwardTime":this.model.forwardTime=n[t];break;case"rewindTime":this.model.rewindTime=n[t]}}},i.prototype._init=function(){this._browserInfo.name=="msie"&&parseInt(this._browserInfo.version)<9||ej.isNullOrUndefined(this.element)||(this._setHTMLCustomAttributes(),this._mediaDiv=this.element[0],this._setControlId(),this._initPlayList(),this._setMediaTypes(),this._generatePlayerData())},i.prototype._generatePlayerDataDataSuccess=function(n){this._dataSource=n;this._renderMediaPlayer();this._renderToolbar();this._renderTooltip();this._renderPlayList();this._initMediaElements();this._wireCommonEvents()},i.prototype._setControlId=function(){if(!this._mediaDiv.id){var n=document.getElementsByClassName("e-media-player");this._id="mediaPlayer"+(n.length+1)}},i.prototype._initPlayList=function(){var n=this.model.source;this._playList=n.slice(0,n.length)},i.prototype._setMediaTypes=function(){for(var t,n=0;n<this._playList.length;n++)t=this._playList[n].url,t&&t.trim()!=""&&(this._playList[n].url=t,this._playList[n].type=this._getTypeFromUrl(this._playList[n].url))},i.prototype._changerenderMode=function(n){var t,i,r;this.model.renderMode=n;t=this._getCurrentMedia();this.stop();window.clearInterval(this._playTimer);this._playTimer=null;this._mediaDiv.querySelector(".e-media-control-container").remove();this._mediaDiv.querySelector(".e-media-settings-popup").remove();this._mediaDiv.querySelector(".e-media-time-tooltip").remove();i=this._mediaDiv.querySelector(".e-media-toolbar-ul.mob-playGroup");i&&i.remove();r=this._mediaDiv.querySelector(".e-media-prev-li.basic");r&&(r.remove(),this._mediaDiv.querySelector(".e-media-next-li.basic").remove());this._collapsePlayList();this._renderToolbar();this._renderTooltip();this._updatetoolbarHeight();this._setMediaDuration(t);this._updateTimeStamp(t);this._mediaDiv.querySelector(".e-media-playlist-container").remove();this._mediaDiv.querySelector(".e-media-playlist-toggle").remove();this._renderPlayList();n==ej.MediaPlayer.RenderMode.Mobile?(this._removeClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide"),this._addClass(this._mediaDiv.querySelector(".e-media-playlist-close"),"hide")):(this._addClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide"),this._removeClass(this._mediaDiv.querySelector(".e-media-playlist-close"),"hide"));this._setPlaylistVisibility();this._setQualityItemVisibility(this._isYoutubeElement(t));this._disablePrevNextIcons()},i.prototype._getTypeFromUrl=function(n){return this._isVaildYoutubeUrl(n)?ej.MediaPlayer.Types.Youtube:this._isVaildVideoUrl(n)?ej.MediaPlayer.Types.Video:this._isVaildAudioUrl(n)?ej.MediaPlayer.Types.Audio:void 0},i.prototype._isVaildVideoUrl=function(n){var t=this._getExtensionFromUrl(n);if(t=="mp4"||t=="webm"||t=="ogg")return!0},i.prototype._isVaildAudioUrl=function(n){var t=this._getExtensionFromUrl(n);if(t=="mp3"||t=="wav")return!0},i.prototype._isVaildYoutubeUrl=function(n){var t=n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/);if(t&&t[2].length==11)return!0},i.prototype._getExtensionFromUrl=function(n){var t=n.split(".");return t[t.length-1]},i.prototype._initMediaElements=function(){this._setModelWidth();this._setModelHeight();this._setAllMediaProperties();this.model.showPlaylist&&this._setPlaylistVisibility();this._updatetoolbarHeight();this._handleAutoHide(null);this._updateSettingsSelector("Quality","auto");this._setLowPriorityIconsVisibility();this._fadeMobileIcons();this._fadeBasicIcons();this._updateAudioContent()},i.prototype._renderMediaPlayer=function(){var n,t,r,u,f,e,s,i,h,c,l,o,a;this._mediaIndex=0;n=this._id;t=this._mediaDiv;this._addClass(t,"e-media-player");r=this._createElement("div",n+"_mediaEleDiv","e-media-element-div",!1);t.appendChild(r);u=this._createElement("div",n+"_mediaFocusDiv","e-media-focus-div",!1);t.appendChild(u);u.contentEditable="true";f=this._createElement("div",n+"_mediaContentDiv","e-media-content-div",!1);r.appendChild(f);e=this._createElement("div",n+"_vBaner","e-media-video-baner",!1);s=this._createElement("div",n+"_vTitle","e-media-video-title",!1);e.appendChild(s);t.appendChild(e);i=this._createElement("div",n+"_aDetail","e-media-audio-detail hide",!1);h=this._createElement("img",n+"_poster","e-media-audio-poster",!1);i.appendChild(h);c=this._createElement("div",n+"_aTitle","e-media-audio-title",!1);i.appendChild(c);f.appendChild(i);l=this._createElement("div",n+"_overlay","e-media-overlay",!1);t.querySelector(".e-media-content-div").appendChild(l);o=this._playList;o.length>0?this._renderElementByType(t,o):this._renderVideoElement(t);a=this._createElement("div",n+"_customFullScreen","e-media-custom-fullscreen hide",!1);document.body.appendChild(a);t.querySelector(".e-media-content-div").style.width="100%"},i.prototype._renderYTPlayer=function(n){var r,t,i;typeof YT=="undefined"||typeof YT.Player=="undefined"?(r=this,t=document.createElement("script"),t.src="https://www.youtube.com/iframe_api",i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(t,i),window.onYouTubeIframeAPIReady=function(){r._renderYTPlayerProgress(n)}):this._renderYTPlayerProgress(n)},i.prototype._renderYTPlayerProgress=function(n){var t=this,i=this._playList[0],r=" ";i&&i.type==ej.MediaPlayer.Types.Youtube&&(r=this._getYTVideoIdFromUrl(i.url));t._processYoutubeAPI("destroy",null);new YT.Player(n,{videoId:r,playerVars:{controls:0,wmode:"transparent",rel:0,autohide:1,showinfo:0,enablejsapi:1,cc_load_policy:1,fs:1},events:{onReady:function(n){t._onYoutubePlayerReady(n)},onStateChange:function(n){t._onYoutubeStateChange(n)}}})},i.prototype._renderElementByType=function(n,t){for(var r=ej.MediaPlayer.Types,i=0;i<t.length;i++)t[i].type==r.Video?this._renderVideoElement(n):t[i].type==r.Audio?this._renderAudioElement(n):this._renderYoutubeElement(n)},i.prototype._renderVideoElement=function(n){var i=n.id,t,u,f,r;document.getElementById(i+"_video")||(t=this._createElement("video",i+"_video","e-media-element e-media-video hide",!1),n.querySelector(".e-media-content-div").appendChild(t),u=this._createElement("source",i+"_video_source","e-media-video-source",!1),u.setAttribute("type","video/mp4"),f=this._createElement("track",i+"_video_track","e-media-video-track",!1),t.appendChild(u),t.appendChild(f),r=this,t.addEventListener("playing",function(){r._playStarted=!1},!1),t.addEventListener("waiting",function(){r.showWaitingPopup()},!1),t.addEventListener("canplaythrough",function(){r.hideWaitingPopup()},!1))},i.prototype._renderAudioElement=function(n){var t=n.id,i,r;document.getElementById(t+"_audio")||(i=this._createElement("audio",t+"_audio","e-media-element e-media-audio hide",!1),n.querySelector(".e-media-content-div").appendChild(i),r=this._createElement("source",t+"_audio_source","e-media-audio-source",!1),r.setAttribute("type","audio/mp3"),i.appendChild(r))},i.prototype._renderYoutubeElement=function(n){var t=n.id,i;document.getElementById(t+"_youtube")||(i=this._createElement("div",t+"_youtube","e-media-element e-media-youtube hide",!1),n.querySelector(".e-media-content-div").appendChild(i))},i.prototype._renderToolbar=function(){var t=this._id,i=this,n=this._createElement("div",t+"_controlContainer","e-media-control-container",!1);this._mediaDiv.appendChild(n);this.model.contentType==ej.MediaPlayer.ContentType.Audio?(this._renderBasicToolbar(n),this._addClass(this._mediaDiv.querySelector(".e-media-toolbar"),"audio")):this.model.renderMode==ej.MediaPlayer.RenderMode.Advanced?this._renderAdvancedToolbar(n):this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile?this._renderMobileToolbar(n):this._renderBasicToolbar(n);this._renderSettingspopup()},i.prototype._getToolIconsTooltip=function(n){return this._containsClass(n,"e-media-play")?"Play":this._containsClass(n,"e-media-pause")?"Pause":this._containsClass(n,"e-media-forward")?"Forward":this._containsClass(n,"e-media-backward")?"Rewind":this._containsClass(n,"e-media-next")?"Next":this._containsClass(n,"e-media-previous")?"Previous":this._containsClass(n,"e-media-shuffle")?"Shuffle":this._containsClass(n,"e-media-repeat")?"Repeat Playlist":this._containsClass(n,"e-media-volume")?this._containsClass(n,"media-muted")?"Unmute":"Mute":this._containsClass(n,"e-media-fullscreen")?"Full screen":this._containsClass(n,"e-media-smallscreen")?"Exit Full screen":this._containsClass(n,"e-media-settings")?"Settings":this._containsClass(n,"e-media-playlist")?"Playlist":void 0},i.prototype._renderTooltip=function(){var t=this._createElement("div",this._id+"_tooltip","e-media-time-tooltip hide"),i;this._mediaDiv.appendChild(t);var n=this,u=this._mediaDiv.querySelector(".e-media-timeslider"),r=u.parentNode;r.addEventListener("mousemove",function(i){n._containsClass(n._mediaDiv.querySelector(".e-media-settings-popup"),"hide")?(t.innerHTML=n._getTimeFromSeconds(n._getHoverTime(i)),n._setTooltipPosition(i)):n._addClass(t,"hide")});r.addEventListener("mouseleave",function(){n._addClass(t,"hide")});i=this._mediaDiv.querySelector(".e-media-toolbar");i.addEventListener("mousemove",function(i){var r=n._getToolIconsTooltip(i.target);r&&n._containsClass(n._mediaDiv.querySelector(".e-media-settings-popup"),"hide")&&(n._containsClass(i.target,"e-media-toolbar-icon")||i.target.closest(".e-media-toolbar-icon"))?(t.innerHTML=r,n._setTooltipPosition(i)):n._containsClass(i.target,"e-slider-wrap")||i.target.closest(".e-slider-wrap")||n._addClass(t,"hide")});i.addEventListener("mouseleave",function(){n._addClass(t,"hide")})},i.prototype._setTooltipPosition=function(n){var u=this._mediaDiv.querySelector(".e-media-time-tooltip");this._removeClass(u,"hide");var e=this._mediaDiv.querySelector(".e-media-timeslider"),f=this._mediaDiv.getBoundingClientRect(),t=this._mediaDiv.querySelector(".e-media-control-container").getBoundingClientRect(),r=u.getBoundingClientRect(),i=n.clientX-t.left-r.width/2;this.model.renderMode!=ej.MediaPlayer.RenderMode.Basic||this._containsClass(this._mediaDiv.querySelector(".e-media-toolbar-volume-li"),"hide")||(i-=35);i+t.left>=t.left&&i+r.width<=t.width+t.left&&(Math.abs(i+r.width)>Math.abs(t.width)&&(i=t.width-r.width),u.style.left=i+"px");u.style.top=t.top-f.top-r.height+"px"},i.prototype._updateAudioContent=function(){this.model.contentType==ej.MediaPlayer.ContentType.Audio&&(this._addClass(this._mediaDiv.querySelector(".e-media-playlist-container"),"hide"),this._addClass(this._mediaDiv.querySelector(".e-media-video-baner"),"hide"),this._addClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide"),this._addClass(this._mediaDiv.querySelector(".e-media-toolbar-settings-li"),"hide"),this._addClass(this._mediaDiv.querySelector(".e-media-toolbar-fullscreen-li"),"hide"),this._mediaDiv.style.height=this.model.toolbarHeight,this._mediaDiv.querySelector(".e-media-control-container").style.width="100%")},i.prototype._updatetoolbarHeight=function(){var t=this._mediaDiv,u=this.model.toolbarHeight,n,i,r;t.querySelector(".e-media-control-container").style.height=u;n=t.querySelector(".e-media-content-div");i=t.querySelector(".e-media-video-baner").getBoundingClientRect().height;this.model.autoHide?(n.style.top="0px",n.style.height="100%"):(r=t.querySelector(".e-media-control-container").getBoundingClientRect().height,n.style.height="calc(100% - "+(r+i)+"px)",n.style.top=i+"px")},i.prototype._renderBasicToolbar=function(n){var i=this._id,r=this,t=this._createElement("div",i+"_playerToolbar","e-media-toolbar basic",!1);n.appendChild(t);this._renderBasicToolbarControls(t);t.addEventListener("click",function(n){r._mediaToolBarClick(n)});this._renderTimeSlider(this._mediaDiv.querySelector(".e-media-timeslider"));this._renderBasicVolSlider(this._mediaDiv.querySelector(".e-media-volume-slider"))},i.prototype._renderBasicVolSlider=function(n){var t=this;this._renderEJControls(n,"Slider",{showRoundedCorner:!0,allowMouseWheel:!0,animationSpeed:100,orientation:ej.Orientation.Vertical,sliderType:ej.SliderType.MinRange,maxValue:100,value:t.model.volume||50,height:60,incrementStep:1,change:function(n){t._onVolSliderChange(n)},slide:function(n){t._onVolSliderChange(n)}})},i.prototype._renderBasicToolbarControls=function(n){var t=this._id,i=this,r=this._createElement("ul",t+"_basicUl","e-media-toolbar-ul",!1),f=this._createElement("div",t+"_previousLi","e-media-toolbar-li e-media-prev-li basic",!1),ut=this._createElement("div",t+"_previousIcon","e-media-toolbar-icon e-media-previous basic e-icon",!1),o,w,u,b,s,k,h,d,c,g,l,nt,a,it,v,rt,y,p;f.appendChild(ut);f.title="Previous";o=this._createElement("li",t+"_playLi","e-media-toolbar-li e-media-play-li",!1);w=this._createElement("div",t+"_playIcon","e-media-toolbar-icon e-media-play e-icon",!1);o.appendChild(w);u=this._createElement("div",t+"_nextLi","e-media-toolbar-li e-media-next-li basic",!1);b=this._createElement("div",t+"_nextIcon","e-media-toolbar-icon e-media-next basic e-icon",!1);u.appendChild(b);u.title="Next";s=this._createElement("li",t+"_timeStartTextLi","e-media-toolbar-li e-media-toolbar-time-run-li",!1);k=this._createElement("div",t+"_timeStamp","e-media-time-stamp-run e-media-basic",!1);s.appendChild(k);h=this._createElement("li",t+"_timeLi","e-media-toolbar-li e-media-time-li",!1);d=this._createElement("div",t+"_timeSlider","e-media-timeslider e-media-basic",!1);h.appendChild(d);c=this._createElement("div",t+"_volumeSliderLi","e-media-toolbar-volume-li e-media-vol-slider-li hide",!1);g=this._createElement("div",t+"_volumeSliderIcon","e-media-volume-slider",!1);c.appendChild(g);l=this._createElement("li",t+"_timeTextLi","e-media-toolbar-li e-media-toolbar-time-icon-li",!1);nt=this._createElement("div",t+"_timeStamp","e-media-time-stamp-end e-media-basic",!1);l.appendChild(nt);var e=this._createElement("li",t+"_rightLi","e-media-toolbar-li e-media-toolbar-right-li",!1),tt=this._createElement("div",t+"_volumeLi","e-media-toolbar-right-div e-media-toolbar-volume-icon-li",!1),ft=this._createElement("div",t+"_volumeIcon","e-media-toolbar-icon e-media-volume e-icon",!1);tt.appendChild(ft);e.appendChild(tt);a=this._createElement("div",t+"_settingsLi","e-media-toolbar-right-div e-media-toolbar-settings-li",!1);it=this._createElement("div",t+"_settingsIcon","e-media-toolbar-icon e-media-settings e-icon",!1);a.appendChild(it);e.appendChild(a);v=this._createElement("div",t+"_fullscreenLi","e-media-toolbar-right-div e-media-toolbar-fullscreen-li",!1);rt=this._createElement("div",t+"_fullscreenIcon","e-media-toolbar-icon e-media-fullscreen e-icon",!1);v.appendChild(rt);e.appendChild(v);y=this._createElement("li",t+"_splittLi","e-media-toolbar-li e-media-toolbar-split-li",!1);p=this._createElement("div",t+"_splitIcon","e-media-toolbar-icon e-media-split",!1);p.innerHTML="/";y.appendChild(p);r.appendChild(o);this.model.contentType!=ej.MediaPlayer.Types.Audio&&(this._mediaDiv.querySelector(".e-media-content-div").appendChild(f),this._mediaDiv.querySelector(".e-media-content-div").appendChild(u));r.appendChild(h);r.appendChild(s);r.appendChild(y);r.appendChild(l);r.appendChild(e);n.appendChild(r);n.appendChild(c);i=this;this._mediaDiv.querySelector(".e-media-toolbar.basic").querySelector(".e-media-volume").addEventListener("touchstart",function(n){n.preventDefault();var t=i._mediaDiv.querySelector(".e-media-vol-slider-li");i._containsClass(t,"hide")?i._showBasicVolSlider():i._handleMuteBtnClick(i._getCurrentMedia(),this)});f.addEventListener("click",function(n){i._mediaToolBarClick(n)});u.addEventListener("click",function(n){i._mediaToolBarClick(n)})},i.prototype._showBasicVolSlider=function(){var i=this._mediaDiv,n=i.querySelector(".e-media-toolbar.basic"),t,r;n&&this._containsClass(this._mediaDiv.querySelector(".e-media-settings-popup"),"hide")&&(t=n.querySelector(".e-media-vol-slider-li"),this._removeClass(t,"hide"),r=n.querySelector(".e-media-volume").getBoundingClientRect(),t.style.left=(r.left-i.getBoundingClientRect().left).toString()+"px")},i.prototype._hideBasicVolSlider=function(){var n=this._mediaDiv.querySelector(".e-media-toolbar.basic");n&&this._addClass(n.querySelector(".e-media-vol-slider-li"),"hide")},i.prototype._renderAdvancedToolbar=function(n){var t=this._id,s=this,u=this._createElement("div",t+"_timeSliderDiv","e-media-time-li e-media-timeslider-div e-media-adv",!1),f=this._createElement("div",t+"_timeSlider","e-media-timeslider e-media-adv",!1),o,i;u.appendChild(f);var r=this._createElement("div",t+"_timeStamp","e-media-time-stamp e-media-adv",!1),h=this._createElement("div",t+"_timeStamp_run","e-media-time-stamp-run e-media-adv",!1),e=this._createElement("div",t+"_timeStamp_divide","e-media-time-stamp-divide e-media-adv",!1);e.innerHTML="/";o=this._createElement("div",t+"_timeStamp_end","e-media-time-stamp-end e-media-adv",!1);r.appendChild(h);r.appendChild(e);r.appendChild(o);n.appendChild(u);n.appendChild(r);this._renderTimeSlider(f);i=this._createElement("div",t+"_playerToolbar","e-media-toolbar adv",!1);this._renderToolbarControls(i);i.addEventListener("click",function(n){s._mediaToolBarClick(n)});n.appendChild(i);this._renderVolumeSlider(i.querySelector("#"+t+"_volumeSliderIcon"))},i.prototype._setLowPriorityIconsVisibility=function(){var i=this._mediaDiv.querySelector(".e-media-control-container"),r,t,n;if(this.model.renderMode==ej.MediaPlayer.RenderMode.Advanced)for(r=i.getBoundingClientRect().width,t=i.querySelectorAll(".e-media-lp-icons"),n=0;n<t.length;n++)r<400?this._addClass(t[n],"hide"):this._removeClass(t[n],"hide")},i.prototype._renderVolumeSlider=function(n){var t=this;this._renderEJControls(n,"Slider",{showRoundedCorner:!0,animationSpeed:100,sliderType:ej.SliderType.MinRange,maxValue:100,value:t.model.volume||50,height:2,incrementStep:1,change:function(n){t._onVolSliderChange(n)},slide:function(n){t._onVolSliderChange(n)}})},i.prototype._renderTimeSlider=function(n){var t=this,i=100;this._renderEJControls(n,"Slider",{showRoundedCorner:!0,animationSpeed:i,showTooltip:!1,sliderType:ej.SliderType.MinRange,width:"100%",height:"6px",incrementStep:1,slide:function(n){window.clearInterval(t._playTimer);t._onTimeSliderChange(n.value)}});n.closest(".e-slider-wrap").addEventListener("mousedown",function(){window.clearInterval(t._playTimer);var n=this.querySelector(".e-slider");setTimeout(function(){window.clearInterval(t._playTimer);t._onTimeSliderChange(t._getEJControlInstance(n,"Slider").getValue())},i)})},i.prototype._getHoverTime=function(n){var i=this._getMediaDuration(this._getCurrentMedia()),r=n.target.closest(".e-media-timeslider")||n.target.querySelector(".e-media-timeslider"),t;if(r)return t=(n.clientX-r.getBoundingClientRect().left)/r.getBoundingClientRect().width*parseInt(i),t>i&&(t=i),t},i.prototype._renderToolbarControls=function(n){this._renderPlayerGroup(n);this._renderSettingsGroup(n)},i.prototype._renderSettingsGroup=function(n){var t=this._id,i=this._createElement("ul",t+"_settingsGroup","e-media-toolbar-ul e-media-toolbar-settingsgroup",!1),r=this._createElement("li",t+"_settingsIcon","e-media-toolbar-icon e-media-settings e-icon",!1),u=this._createElement("li",t+"_fullscreenIcon","e-media-toolbar-icon e-media-fullscreen e-icon",!1);i.appendChild(r);i.appendChild(u);n.appendChild(i)},i.prototype._renderPlayerGroup=function(n){var t=this._id,i=this._createElement("ul",t+"_playGroup","e-media-toolbar-ul e-media-toolbar-playgroup",!1),s=this._createElement("li",t+"_playIcon","e-media-toolbar-icon e-media-play e-icon",!1),h=this._createElement("li",t+"_backwardIcon","e-media-toolbar-icon e-media-backward e-icon e-media-lp-icons",!1),c=this._createElement("li",t+"_forwardIcon","e-media-toolbar-icon e-media-forward e-icon e-media-lp-icons",!1),l=this._createElement("li",t+"_previousIcon","e-media-toolbar-icon e-media-previous e-icon",!1),a=this._createElement("li",t+"_nextIcon","e-media-toolbar-icon e-media-next e-icon",!1),v=this._createElement("li",t+"_playlistIcon","e-media-toolbar-icon e-media-playlist e-icon",!1),u=this._createElement("li",t+"_repeatIcon","e-media-toolbar-icon e-media-repeat e-icon e-media-lp-icons",!1),r,e,o;this.model.repeat&&this._addClass(u,"media-repeated");r=this._createElement("li",t+"_shuffleIcon","e-media-toolbar-icon e-media-shuffle e-icon e-media-lp-icons",!1);this.model.shuffle&&this._addClass(r,"media-shuffled");var y=this._createElement("li",t+"_volumeIcon","e-media-toolbar-icon e-media-volume e-icon",!1),f=this._createElement("li",t+"_volumeSliderLi","e-media-toolbar-icon e-media-volume-slider-li e-media-lp-icons",!1),p=this._createElement("div",t+"_volumeSliderIcon","e-media-volume-slider",!1);f.appendChild(p);i.appendChild(s);e=this._createElement("li",t+"_splitIcon1","e-media-toolbar-split",!1);i.appendChild(e);i.appendChild(l);i.appendChild(h);i.appendChild(c);i.appendChild(a);o=this._createElement("li",t+"_splitIcon2","e-media-toolbar-split",!1);i.appendChild(o);i.appendChild(v);i.appendChild(u);i.appendChild(r);i.appendChild(y);i.appendChild(f);n.appendChild(i)},i.prototype._renderMobileToolbar=function(n){var t=this._id,l=this,u=this._createElement("div",t+"_mplayerToolbar","e-media-toolbar mob",!1),i,f,e,o,s,v,h,y,c,p;n.appendChild(u);i=this._createElement("ul",t+"_mobPlayUl","e-media-toolbar-ul mob-playGroup",!1);f=this._createElement("li",t+"_mpreviousIcon","e-media-toolbar-icon e-media-previous e-icon",!1);f.title="Previous";e=this._createElement("li",t+"_mplayIcon","e-media-toolbar-icon e-media-play e-icon",!1);e.title="Play/Pause";o=this._createElement("li",t+"_mnextIcon","e-media-toolbar-icon e-media-next e-icon",!1);o.title="Next";i.appendChild(f);i.appendChild(e);i.appendChild(o);this._mediaDiv.querySelector(".e-media-content-div").appendChild(i);i.addEventListener("click",function(n){l._mediaToolBarClick(n)});var r=this._createElement("ul",t+"_mobUl","e-media-toolbar-ul toolGroup",!1),a=this._createElement("li",t+"_mtimeStartTextLi","e-media-toolbar-li e-media-toolbar-time-run-li",!1),w=this._createElement("div",t+"_mtimeStamp","e-media-time-stamp-run e-media-mob",!1);a.appendChild(w);s=this._createElement("li",t+"_mtimeLi","e-media-toolbar-li e-media-time-li",!1);v=this._createElement("div",t+"_mtimeSlider","e-media-timeslider e-media-mob",!1);s.appendChild(v);h=this._createElement("li",t+"_mtimeTextLi","e-media-toolbar-li e-media-toolbar-time-icon-li",!1);y=this._createElement("div",t+"_mtimeStamp","e-media-time-stamp-end e-media-mob",!1);h.appendChild(y);c=this._createElement("li",t+"_mfullscreenLi","e-media-toolbar-li e-media-toolbar-fullscreen-li",!1);p=this._createElement("div",t+"_mfullscreenIcon","e-media-toolbar-icon e-media-fullscreen e-icon",!1);c.appendChild(p);r.appendChild(a);r.appendChild(s);r.appendChild(h);r.appendChild(c);u.appendChild(r);u.addEventListener("click",function(n){l._mediaToolBarClick(n)});this._renderTimeSlider(this._mediaDiv.querySelector(".e-media-timeslider"))},i.prototype._renderSettingspopup=function(){var i=this._id,t=this._createElement("div",i+"_settingsPopup","e-media-settings-popup hide",!1),n;t.innerHTML='<ul><li data-ej-text="Speed" class="e-media-settings-speed"><ul class="e-media-settings-speed-ul"><li data-ej-text="0.25"><\/li><li data-ej-text="0.5"><\/li><li data-ej-text="0.75"><\/li><li data-ej-text="Normal"><\/li><li data-ej-text="1.25"><\/li><li data-ej-text="1.5"><\/li><li data-ej-text="1.75"><\/li><li data-ej-text="2"><\/li><\/ul><\/li><li data-ej-text="Quality" class="e-media-settings-quality"><ul class="e-media-settings-quality-ul"><li data-ej-text="1080p"><\/li><li data-ej-text="720p"><\/li><li data-ej-text="480p"><\/li><li data-ej-text="360p"><\/li><li data-ej-text="240p"><\/li><li data-ej-text="Auto"><\/li><\/ul><\/li><\/ul>';this._mediaDiv.appendChild(t);n=this._mediaDiv.querySelector(".e-media-settings-popup");this._renderSettingsListView(n);this._addQualityHDTag(n)},i.prototype._addQualityHDTag=function(n){var e=n.querySelector(".e-media-settings-quality").getAttribute("data-childid"),t=n.querySelector("#"+e),i,u,r,f;t&&(i=this._createElement("span",null,"e-media-hd-tag"),i.innerHTML="HD",u=t.querySelectorAll("li")[0],u.appendChild(i),r=this._createElement("span",null,"e-media-hd-tag"),r.innerHTML="HD",f=t.querySelectorAll("li")[1],f.appendChild(r))},i.prototype._renderSubtitleButton=function(){var n=this;this._renderEJControls(this._mediaDiv.querySelector(".e-media-settings-subtitle-btn"),"Slider",{width:"25px",sliderType:ej.SliderType.MinRange,animationSpeed:100,value:1,minValue:0,maxValue:1,showRoundedCorner:!0,showTooltip:!1,incrementStep:1,change:function(t){n._handleSubtitleBtnClick(t)}})},i.prototype._renderSettingsListView=function(n){var t=this;this._renderEJControls(n,"ListView",{showHeader:!0,showHeaderBackButton:!0,headerTitle:"Settings",width:150,mouseDown:function(n){t._onSettingsPopupMouseDown(n,this)}});n.addEventListener("click",function(){t._onSettingsPopupClick()})},i.prototype._onSettingsPopupClick=function(){this._setPopupPosition(this._mediaDiv.querySelector(".e-media-settings-popup"))},i.prototype._onSettingsPopupMouseDown=function(n,t){var u,i,o;if(t.model.headerBackButtonText=n.text,u=n.item[0],i=u.closest(".subpage"),i){var r=this._getCurrentMedia(),f=this._isYoutubeElement(r),e=i.getAttribute("data-hdr-title");e=="Speed"?(o=n.text=="Normal"?1:parseFloat(n.text),this._trigger("onBeforeSpeedChange",{mediaInfo:this._getCurrentMediaInfo(),speed:this.getMediaSpeed()}),this._setPlayerSpeed(r,o,f),this._hideSettingsPopup(null),this._trigger("onAfterSpeedChange",{mediaInfo:this._getCurrentMediaInfo(),speed:this.getMediaSpeed()})):e=="Quality"&&(this._setMediaQuality(r,n.text,f),this._hideSettingsPopup(null))}},i.prototype._getListViewElementByValue=function(){var n=this._mediaDiv.querySelector(".e-media-settings-popup"),t=this._getEJControlInstance(n,"ListView")},i.prototype._expandToolbar=function(n){this._fadeIn(this._mediaDiv.querySelector(".e-media-control-container"));var t=this._mediaDiv.querySelector(".e-media-video-baner");this._getCurrentMedia()instanceof HTMLAudioElement==!1&&this.model.showTitle?(this._removeClass(t,"hide"),this._fadeIn(t)):this._addClass(t,"hide");this._collapseToolbar(n)},i.prototype._collapseToolbar=function(n){var t=this,i=parseInt(this.model.autoHideTime.toString())*1e3;window.clearTimeout(this._autoHideTime);n&&n.target.closest(".e-media-control-container")||(t._autoHideTime=setTimeout(function(){t._fadeOut(t._mediaDiv.querySelector(".e-media-control-container"));t._fadeOut(t._mediaDiv.querySelector(".e-media-video-baner"))},i))},i.prototype._renderPlayList=function(){var n=this._id,r=this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile?"mobile":"desktop",u=this._createElement("div",n+"_playlistContainer","e-media-playlist-container "+r+" hide",!1),f=this._createElement("div",n+"_playlistHeader","e-media-playlist-header",!1),p=this._createElement("div",n+"_playlistTitle","e-media-playlist-title",!1),o=this._createElement("div",n+"_playlistNav","e-media-playlist-navigation",!1),s=this._createElement("div",n+"_playlistClose","e-media-playlist-close e-icon",!1),h,c,l,a,e,t,y,i;s.title="Hide Playlist";f.appendChild(p);this.model.renderMode!=ej.MediaPlayer.RenderMode.Mobile&&f.appendChild(s);f.appendChild(o);h=this._createElement("label",n+"_playlistLabel","e-media-playlist-header-label",!1);c=this._createElement("span",n+"_playlistPrevious","e-media-playlist-icon e-media-playlist-header-previous e-icon",!1);c.title="Previous";l=this._createElement("span",n+"_playlistNext","e-media-playlist-icon e-media-playlist-header-next e-icon",!1);l.title="Next";o.appendChild(h);u.appendChild(f);a=this._createElement("div",n+"_playlist","e-media-playlist-div",!1);u.appendChild(a);e=this._createElement("div",n+"_playlist_toggle","e-media-playlist-toggle "+r+" e-media-collapse e-icon hide",!1);e.title="Toggle Playlist";t=this._mediaDiv;t.appendChild(e);t.appendChild(u);var i=this,v=this._playList,t=this._mediaDiv,w=t.getBoundingClientRect(),b=this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile?this._playList.length*52:parseInt(w.height.toString())-45;this._renderEJControls(t.querySelector(".e-media-playlist-div"),"ListBox",{dataSource:i._dataSource,width:"100%",itemHeight:"52px",height:b,select:function(n){i._playListItemClick(n)},create:function(){i._updateListBoxScroller()},template:'<div class="e-media-playlist-item" title=${title}><label class="e-media-playlist-number">${number}<\/label><img class="e-media-playlist-img '+r+'" src=${posterUrl} /><div class="e-media-playlist-title-div '+r+'"><div class="e-media-playlist-name"> ${title} <\/div><div class="e-media-playlist-author">${author}<\/div><\/div>'});v.length>0&&(this._setPlayListHeaderText("1/"+v.length),y=this._getEJControlInstance(this._mediaDiv.querySelector(".e-media-playlist-div"),"ListBox"),y.selectItemByIndex(0));t.querySelector(".e-media-playlist-toggle").addEventListener("click",function(){i._togglePlayList()});this.model.renderMode!=ej.MediaPlayer.RenderMode.Mobile&&t.querySelector(".e-media-playlist-close").addEventListener("click",function(){i._hidePlaylist()});t.querySelector(".e-media-playlist-title").innerText=this.model.playlistTitle;i=this;u.addEventListener("click",function(){i.focus()})},i.prototype._updateListBoxScroller=function(){var n=this;setTimeout(function(){var t=n._getEJControlInstance(n._mediaDiv.querySelector(".e-media-playlist-div"),"ListBox");t._refreshScroller()},500)},i.prototype._generatePlayerData=function(){this._addPlaylistItemsAjax([],0,this._playList.length)},i.prototype._addYoutubePlaylistData=function(n,t,i){if(n&&n.items&&n.items[0]&&n.items[0].snippet){var r=n.items[0].snippet;t.author=r.channelTitle;t.title=r.title;r.thumbnails&&r.thumbnails["default"]&&(t.posterUrl=r.thumbnails["default"].url);t.number=i+1}},i.prototype._addDefaultPlaylistValue=function(n,t){n.title||(n.title="Media "+(t+1));n.posterUrl||(n.posterUrl=this._thumbnailUrl);n.author||(n.author="");n.number=t+1},i.prototype._addNextPlayListItem=function(n,t,i){n.push(t);i=i+1;i==length?this._generatePlayerDataDataSuccess(n):this._addPlaylistItemsAjax(n,i,length)},i.prototype._togglePlayList=function(){this._containsClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"e-media-expand")?this._collapsePlayList():this._expandPlayList()},i.prototype._expandPlayList=function(){var t,i;if(this.model.contentType!=ej.MediaPlayer.ContentType.Audio){if(t=this._mediaDiv.querySelector(".e-media-playlist-container"),i=this._mediaDiv.querySelector(".e-media-playlist-toggle"),this._addClass(i,"e-media-expand"),this._removeClass(i,"e-media-collapse"),this._containsClass(t,"desktop")){var r=this._mediaDiv.querySelector(".e-media-video-baner"),u=this._mediaDiv.querySelector(".e-media-content-div"),f=this._mediaDiv.querySelector(".e-media-control-container"),n=this;n._hideWaitingPopup();this._animate(t,{width:n._playListWidth},function(){n._removeClass(t.querySelector(".e-media-playlist-header"),"hide");n._removeClass(t.querySelector(".e-ddl-popup"),"hide");n._setLowPriorityIconsVisibility();t.style.display="block";n._showWaitingPopup()});this._animate(u,{width:100-parseFloat(n._playListWidth.toString())+"%"},null);this._animate(f,{width:100-parseFloat(n._playListWidth.toString())+"%"},null);this._animate(i,{right:n._playListWidth},null);r&&this._animate(r,{width:100-parseFloat(n._playListWidth.toString())+"%"},null)}else this._animate(t.querySelector(".e-ddl-popup"),{height:t.querySelector(".e-listbox-container").getBoundingClientRect().height},null);this._updateListBoxScroller()}},i.prototype._collapsePlayList=function(){var n,i;if(this.model.contentType!=ej.MediaPlayer.ContentType.Audio)if(n=this._mediaDiv.querySelector(".e-media-playlist-container"),i=this._mediaDiv.querySelector(".e-media-playlist-toggle"),this._removeClass(i,"e-media-expand"),this._addClass(i,"e-media-collapse"),this._containsClass(n,"desktop")){var r=this._mediaDiv.querySelector(".e-media-video-baner"),u=this._mediaDiv.querySelector(".e-media-content-div"),f=this._mediaDiv.querySelector(".e-media-control-container"),t=this;t._addClass(n.querySelector(".e-media-playlist-header"),"hide");t._addClass(n.querySelector(".e-ddl-popup"),"hide");t._hideWaitingPopup();this._animate(n,{width:"0%"},function(){t._removeClass(n.querySelector(".e-media-playlist-header"),"hide");t._removeClass(n.querySelector(".e-ddl-popup"),"hide");t._setLowPriorityIconsVisibility();t._showWaitingPopup()});this._animate(u,{width:"100%"},null);this._animate(f,{width:"100%"},null);this._animate(i,{right:"0%"},null);r&&this._animate(r,{width:"100%"},null)}else this._animate(n.querySelector(".e-ddl-popup"),{height:"0px"},null)},i.prototype._playListItemClick=function(n){var t=n.index,i=this._mediaDiv.querySelector(".e-media-playlist-header-previous"),r=this._mediaDiv.querySelector(".e-media-playlist-header-next");t==0?this._addClass(i,"disabled"):this._removeClass(i,"disabled");t==this._playList.length-1?this._addClass(r,"disabled"):this._removeClass(r,"disabled");this._playVideoByIndex(this._getCurrentMedia(),t,!0);this._setPlayListHeaderText(t+1+"/"+this._playList.length)},i.prototype._setPlayListHeaderText=function(n){this._mediaDiv.querySelector(".e-media-playlist-header-label").innerText=n},i.prototype._selectPlayListItemByType=function(n){var i=this._getEJControlInstance(this._mediaDiv.querySelector(".e-media-playlist-div"),"ListBox"),r=i.model.selectedIndex||0,t=n=="previous"?r-1:r+1;t>=0&&t<this._playList.length&&i.selectItemByIndex(t)},i.prototype._setPlaylistVisibility=function(){this._containsClass(this._mediaDiv.querySelector(".e-media-playlist-container"),"hide")?this._showPlaylist():this._hidePlaylist()},i.prototype._showPlaylist=function(){this._trigger("onTogglePlaylist",{mediaInfo:this._getCurrentMediaInfo(),visible:!1});this._removeClass(this._mediaDiv.querySelector(".e-media-playlist-container"),"hide");this._addClass(this._mediaDiv.querySelector(".e-media-playlist"),"e-media-playlist-visible");this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile&&this._removeClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide");this._expandPlayList()},i.prototype._hidePlaylist=function(){this._trigger("onTogglePlaylist",{mediaInfo:this._getCurrentMediaInfo(),visible:!0});this._collapsePlayList();this._addClass(this._mediaDiv.querySelector(".e-media-playlist-container"),"hide");this._removeClass(this._mediaDiv.querySelector(".e-media-playlist"),"e-media-playlist-visible");this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile&&this._addClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide")},i.prototype._setAllMediaProperties=function(){for(var r=this._mediaDiv.querySelector(".e-media-content-div").children,t,n,i=0;i<r.length;i++)n=r[i],this._containsClass(n,"e-media-element")&&(t=this._isYoutubeElement(n),t?(this._changeMediaSource(n),this._renderYTPlayer(n.id)):(this._setMediaSettings(n,t),this._changeMediaSource(n)));this._updateAutoPlay()},i.prototype._setMediaSettings=function(n,t){if(n){var i=this.model;this._setPlayerSpeed(n,i.playSpeed,t);this._repeat=i.repeat;this._mute=i.mute;this._shuffle=i.shuffle;this._subtitle=i.subtitle;this._setMute(n,i.mute,t);this._setVolume(n,i.volume,t)}},i.prototype._setMediaSource=function(n,t,i,r){i?(!r||this.model.autoPlay)&&this._processYoutubeAPI("loadVideoByUrl","https://www.youtube.com/embed/"+this._getYTVideoIdFromUrl(t)):n.src=t},i.prototype._setSubtitle=function(n,t,i){i?this._setYoutubeSubtitle():n instanceof HTMLVideoElement&&this._setVideoSubtitle(n,t)},i.prototype._setYoutubeSubtitle=function(){this._subtitle?(this._processYoutubeAPI("loadModule","captions"),this._processYoutubeAPI("loadModule","cc")):(this._processYoutubeAPI("unloadModule","captions"),this._processYoutubeAPI("unloadModule","cc"))},i.prototype._setVideoSubtitle=function(n,t){if(this._subtitle){var i=n.querySelector("track");this._removeClass(i,"hide");t&&i.setAttribute("src",t)}else this._addClass(n.querySelector("track"),"hide")},i.prototype._setModelWidth=function(){this._mediaDiv.style.width=this.model.width;this._setToolbarIconSize()},i.prototype._setToolbarIconSize=function(){this._addClass(this._mediaDiv,"e-media-large-size")},i.prototype._setModelHeight=function(){this._mediaDiv.style.height=this.model.height},i.prototype._setPlayerSpeed=function(n,t,i){i?this._processYoutubeAPI("setPlaybackRate",t):n.playbackRate=t;var r=t==1?"Normal":t;this._updateSettingsSelector("Speed",r)},i.prototype._updateSettingsSelector=function(n,t){var e=this._mediaDiv.querySelector(".e-media-settings-popup").children,u=n=="Quality"?e[1]:e[2],f,i,r;if(u)for(this._removeClass(u.querySelector(".e-media-settings-selector"),"e-media-settings-selector"),f=u.querySelectorAll(".e-list-text"),r=0;r<f.length;r++)if(i=f[r],i.textContent==t.toString()){this._addClass(i,"e-icon");this._addClass(i,"e-media-settings-selector");break}},i.prototype._getPlayerSpeed=function(n,t){return t?this._processYoutubeAPI("getPlaybackRate",null):n.playbackRate},i.prototype._setMediaQuality=function(n,t,i){if(i){var r=this._processYoutubeAPI("getVideoData",null),u=this._processYoutubeAPI("getCurrentTime",null);this._processYoutubeAPIMultiArgs("loadVideoById",r.video_id,u,ej.MediaPlayer.Quality[t]);this._updateSettingsSelector("Quality",t)}},i.prototype._setMute=function(n,t,i){i?t?this._processYoutubeAPI("mute",null):this._processYoutubeAPI("unMute",null):n.muted=t},i.prototype._setVolume=function(n,t,i){t>=0&&t<=100&&(i?this._processYoutubeAPI("setVolume",t):n.volume=t/100)},i.prototype._getVolume=function(n,t){return t?this._processYoutubeAPI("getVolume",null):n.volume*100},i.prototype._setModelVolume=function(n,t,i){this._trigger("onBeforeVolumeChange",{mediaInfo:this._getCurrentMediaInfo(),volume:this.getVolume()});this._setVolume(n,t,i);this._trigger("onAfterVolumeChange",{mediaInfo:this._getCurrentMediaInfo(),volume:this.getVolume()})},i.prototype._setModelMute=function(n,t,i){var r=t?"Mute":"Unmute";this._trigger("onBefore"+r+"Change",{mediaInfo:this._getCurrentMediaInfo()});this._setMute(n,t,i);this._trigger("onAfter"+r+"Change",{mediaInfo:this._getCurrentMediaInfo()})},i.prototype._setModelSpeed=function(n,t,i){this._trigger("onBeforeSpeedChange",{mediaInfo:this._getCurrentMediaInfo(),speed:this.getMediaSpeed()});this._setPlayerSpeed(n,t,i);this._trigger("onAfterSpeedChange",{mediaInfo:this._getCurrentMediaInfo(),speed:this.getMediaSpeed()})},i.prototype._mediaToolBarClick=function(n){var t=n.target.closest(".e-media-toolbar-icon"),i;t&&!this._containsClass(t,"disabled")&&(i=this._getCurrentMedia(),this._containsClass(t,"e-media-play")||this._containsClass(t,"e-media-pause")?this._handlePlayIconClick(i):this._containsClass(t,"e-media-forward")?this._handleFwdBtnClick(i):this._containsClass(t,"e-media-backward")?this._handleBwdBtnClick(i):this._containsClass(t,"e-media-next")?this._handleNextBtnClick(i):this._containsClass(t,"e-media-previous")?this._handlePreviousBtnClick(i):this._containsClass(t,"e-media-shuffle")?this._handleShuffleBtnClick(t):this._containsClass(t,"e-media-repeat")?this._handleRepeatBtnClick(t):this._containsClass(t,"e-media-volume")?this._handleMuteBtnClick(i,t):this._containsClass(t,"e-media-stop")?this._handleStopBtnClick(i):this._containsClass(t,"e-media-fullscreen")||this._containsClass(t,"e-media-smallscreen")?this._handleScreenBtnClick(this._containsClass(t,"e-media-smallscreen")):this._containsClass(t,"e-media-settings")?this._showSettingsPopup():this._containsClass(t,"e-media-playlist")&&this._setPlaylistVisibility(),this._mediaDiv.querySelector(".e-media-time-tooltip").innerHTML=this._getToolIconsTooltip(n.target))},i.prototype._handlePlayIconClick=function(n){this._isYoutubeElement(n)?this._onClickYoutubePlay():(n instanceof HTMLVideoElement||n instanceof HTMLAudioElement)&&this._onToggleVideoPlay(n)},i.prototype._onClickYoutubePlay=function(){var n=this._processYoutubeAPI("getPlayerState",null);n=="1"?this._pauseYoutubeVideo():this._playYoutubeVideo()},i.prototype._playYoutubeVideo=function(){var n={mediaInfo:this._getCurrentMediaInfo(),cancel:!1};this._trigger("onBeforePlay",n);this._addPauseClass();this._processYoutubeAPI("playVideo",null);this._trigger("onAfterPlay",n)},i.prototype._pauseYoutubeVideo=function(n){var t={mediaInfo:this._getCurrentMediaInfo(),cancel:!1};n||this._trigger("onBeforePause",t);this._addPlayClass();this._processYoutubeAPI("pauseVideo",null);n||this._trigger("onAfterPause",t)},i.prototype._onToggleVideoPlay=function(n){n.paused?this._playMedia(n):this._pauseMedia(n)},i.prototype._playMedia=function(n){var t={mediaInfo:this._getCurrentMediaInfo(),cancel:!1};this._trigger("onBeforePlay",t);t.cancel||(this._addPauseClass(),this._play(n),this._trigger("onAfterPlay",t))},i.prototype._play=function(n){if(n&&!this._playStarted){var t=this;t.promise=n.play();t.promise.then(function(){t._playStarted=!1});t._playStarted=!0}},i.prototype._pauseMedia=function(n,t){var i={mediaInfo:this._getCurrentMediaInfo(),cancel:!1};t||this._trigger("onBeforePause",i);i.cancel||(this._addPlayClass(),n.pause(),t||this._trigger("onAfterPause",i),window.clearInterval(this._playTimer))},i.prototype._getCurrentMediaInfo=function(){var n=this._playList;if(n.length>0)return n[this._mediaIndex]},i.prototype._seekVideo=function(n,t,i){var r=this._getMediaDuration(n);t<0?t=0:t>r&&(t=r);i?(window.clearInterval(this._playTimer),this._processYoutubeAPI("seekTo",t)):(n instanceof HTMLVideoElement||n instanceof HTMLAudioElement)&&(n.paused?(n.currentTime=t,this._updateTimeSlider(n),this._updateTimeStamp(n)):(this._pausedManual=!0,n.pause(),window.clearInterval(this._playTimer),n.currentTime=t-.001,this._play(n)));this._playTimer||(this._updateTimeSlider(n),this._updateTimeStamp(n))},i.prototype._handleNextBtnClick=function(n){this._playVideoByIndex(n,this._mediaIndex+1)},i.prototype._handlePreviousBtnClick=function(n){this._playVideoByIndex(n,this._mediaIndex-1)},i.prototype._handleFwdBtnClick=function(n){this._forwardMedia(n,this._getCurrentMediaTime(n)+parseFloat(this.model.forwardTime.toString()))},i.prototype._handleBwdBtnClick=function(n){this._rewindMedia(n,this._getCurrentMediaTime(n)-parseFloat(this.model.rewindTime.toString()))},i.prototype._forwardMedia=function(n,t){this._getCurrentMediaTime(n)<this._getMediaDuration(n)&&(this._trigger("onBeforeForward",{mediaInfo:this._getCurrentMediaInfo()}),this._seekVideo(n,t,this._isYoutubeElement(n)),this._trigger("onAfterForward",{mediaInfo:this._getCurrentMediaInfo()}))},i.prototype._rewindMedia=function(n,t){this._getCurrentMediaTime(n)>0&&(this._trigger("onBeforeRewind",{mediaInfo:this._getCurrentMediaInfo()}),this._seekVideo(n,t,this._isYoutubeElement(n)),this._trigger("onAfterRewind",{mediaInfo:this._getCurrentMediaInfo()}))},i.prototype._handleRepeatBtnClick=function(n){var t=this._containsClass(n,"media-repeated");this._trigger("onRepeat",{mediaInfo:this._getCurrentMediaInfo(),isRepeat:t});t?(this._removeClass(n,"media-repeated"),this._repeat=!1):(this._addClass(n,"media-repeated"),this._repeat=!0);this._disablePrevNextIcons()},i.prototype._handleShuffleBtnClick=function(n){var t=this._containsClass(n,"media-shuffled");this._trigger("onShuffle",{mediaInfo:this._getCurrentMediaInfo(),isShuffle:t});t?(this._removeClass(n,"media-shuffled"),this._shuffle=!1):(this._addClass(n,"media-shuffled"),this._shuffle=!0);this._disablePrevNextIcons()},i.prototype._handleMuteBtnClick=function(n,t){this._hideBasicVolSlider();var i=this._mediaDiv.querySelector(".e-media-volume-slider");this._containsClass(t,"media-muted")?(this._trigger("onBeforeUnmute",{mediaInfo:this._getCurrentMediaInfo()}),this._removeClass(t,"media-muted"),this._mute=!1,this._manualMute=!0,this._setMute(n,this._mute,this._isYoutubeElement(n)),this._getEJControlInstance(i,"Slider").option("value",this._getVolume(n,this._isYoutubeElement(n))),this._manualMute=!1,this._trigger("onAfterUnmute",{mediaInfo:this._getCurrentMediaInfo()})):(this._trigger("onBeforeMute",{mediaInfo:this._getCurrentMediaInfo()}),this._addClass(t,"media-muted"),this._mute=!0,this._manualMute=!0,this._setMute(n,this._mute,this._isYoutubeElement(n)),this._getEJControlInstance(i,"Slider").option("value",0),this._manualMute=!1,this._trigger("onAfterMute",{mediaInfo:this._getCurrentMediaInfo()}))},i.prototype._handleSubtitleBtnClick=function(n){this._subtitle=n.value==1?!0:!1;var t=this._getCurrentMedia();this._setSubtitle(t,this._playList[this._mediaIndex].track,this._isYoutubeElement(t))},i.prototype._handleStopBtnClick=function(n){this._trigger("onBeforeStop",{mediaInfo:this._getCurrentMediaInfo()});this._pauseCurrentMedia(n);this._seekVideo(n,0,this._isYoutubeElement(n));this._updateTimeSlider(n);this._updateTimeStamp(n);this._addPlayClass();this._trigger("onAfterStop",{mediaInfo:this._getCurrentMediaInfo()})},i.prototype._handleScreenBtnClick=function(n){this._fullScreenChange(n);n?this._exitFullScreen():this._setFullScreen()},i.prototype._onVolSliderChange=function(n){if(!this._manualMute){this._trigger("onBeforeVolumeChange",{mediaInfo:this._getCurrentMediaInfo(),volume:this.getVolume()});var t=this._getCurrentMedia();this._setVolume(t,n.value,this._isYoutubeElement(t));n.value!=0||this._mute?n.value>0&&this._mute&&(this._removeClass(this._mediaDiv.querySelector(".e-media-volume"),"media-muted"),this._mute=!1,this._setMute(t,this._mute,this._isYoutubeElement(t))):(this._addClass(this._mediaDiv.querySelector(".e-media-volume"),"media-muted"),this._mute=!0,this._setMute(t,this._mute,this._isYoutubeElement(t)));this._trigger("onAfterVolumeChange",{mediaInfo:this._getCurrentMediaInfo(),volume:this.getVolume()})}},i.prototype._onTimeSliderChange=function(n){var i=this._getCurrentMediaTime(this._getCurrentMedia())>n?"Rewind":"Forward",t;this._trigger("onBefore"+i,{mediaInfo:this._getCurrentMediaInfo()});t=this._getCurrentMedia();t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?t.currentTime=n:this._processYoutubeAPI("seekTo",n);this._updateTimeStamp(t);this._trigger("onAfter"+i,{mediaInfo:this._getCurrentMediaInfo()})},i.prototype._showSettingsPopup=function(){var n=this._mediaDiv.querySelector(".e-media-settings-popup");this._containsClass(n,"hide")?(this._resetInitialView(n),this._removeClass(n,"hide"),this._setPopupPosition(n)):this._addClass(n,"hide")},i.prototype._hideSettingsPopup=function(n){n&&(n.target.closest(".e-media-settings")||n.target.closest(".e-media-settings-popup"))||this._addClass(this._mediaDiv.querySelector(".e-media-settings-popup"),"hide")},i.prototype._showWaitingPopup=function(){if(this._isWaitingPopup){var n=this._mediaDiv.querySelector(".e-media-content-div"),i=this,t=this._getEJControlInstance(n,"WaitingPopup");t?t.show():this._renderEJControls(n,"WaitingPopup",{showOnInit:!0,appendTo:"#"+n.id})}},i.prototype._hideWaitingPopup=function(){var t=this._mediaDiv.querySelector(".e-media-content-div"),n=this._getEJControlInstance(t,"WaitingPopup");n&&n.hide()},i.prototype._resetInitialView=function(n){n.children[0].style.display="block";n.children[1].style.display="none";n.children[2].style.display="none"},i.prototype._processYoutubeAPI=function(n,t){if(this._youtubeIns)return this._youtubeIns[n](t)},i.prototype._processYoutubeAPIMultiArgs=function(n,t,i,r){if(this._youtubeIns)return this._youtubeIns[n](t,i,r)},i.prototype._wireCommonEvents=function(){for(var t=this._mediaDiv.querySelector(".e-media-content-div").children,n=0;n<t.length;n++)this._containsClass(t[n],"e-media-element")&&this._wireCommonEventsProcess(t[n]);this._wireDocumentClickEvent();this._wireMediaClickEvent();this._wireMouseMoveEvent();this._wireFullScreenChangeEvent();this._handleKeyBoardShortcuts();this._wireTouchEvent()},i.prototype._unwireCommonEvents=function(){this._mediaDiv.removeEventListener("mousemove",this._mouseMoveEvt);this._mediaDiv.removeEventListener("mouseleave",this._mouseLeaveEvt);document.removeEventListener("keydown",this._keyDownEvt);document.removeEventListener("fullscreenchange",this._fullScEvt);document.removeEventListener("webkitfullscreenchange",this._fullScEvt);document.removeEventListener("mozfullscreenchange",this._fullScEvt);document.removeEventListener("MSFullscreenChange",this._fullScEvt);document.removeEventListener("click",this._clickEvt)},i.prototype._wireTouchEvent=function(){var n=this;this._mediaDiv.querySelector(".e-media-content-div").addEventListener("touchstart",function(){n._tochStart=!0});this._mediaDiv.querySelector(".e-media-content-div").addEventListener("touchend",function(){n._tochStart=!1})},i.prototype._wireFullScreenChangeEvent=function(){var n=this;this._fullScEvt=function(){n._onFullScreenChange()};document.addEventListener("fullscreenchange",this._fullScEvt);document.addEventListener("webkitfullscreenchange",this._fullScEvt);document.addEventListener("mozfullscreenchange",this._fullScEvt);document.addEventListener("MSFullscreenChange",this._fullScEvt)},i.prototype._onFullScreenChange=function(){var n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;this._fullScreenChange(!n)},i.prototype._handleKeyBoardShortcuts=function(){var n=this;this._keyDownEvt=function(t){n.model.disableKeys||n._onMediaKeydown(n._getCurrentMedia(),t)};document.addEventListener("keydown",this._keyDownEvt)},i.prototype._onMediaKeydown=function(n,t){if(document.activeElement.closest(".e-media-player")){this.focus();var r=this._isYoutubeElement(n),u=this._getCurrentMediaTime(n),i=t.which||t.keyCode,f=t.ctrlKey?t.ctrlKey:i===17?!0:!1,e=t.shiftKey?t.shiftKey:i===16?!0:!1,o=t.altKey?t.altKey:i===18?!0:!1;!f||e||o?!e||f||o?!o||e||f?this._otherKeyEvents(t,i,n,u,r):this._altKeyEvents(t,i,n,u,r):this._shiftKeyEvents(t,i,n,u,r):this._controlKeyEvents(t,i,n,u,r);this._addClass(this._mediaDiv.querySelector(".e-media-time-tooltip"),"hide")}},i.prototype._otherKeyEvents=function(n,t,i,r,u){var f=this._getVolume(i,u);switch(t){case 27:this._preventDefault(n);this._handleScreenBtnClick(!0);break;case 37:this._preventDefault(n);this._rewindMedia(i,r-3);break;case 32:this._preventDefault(n);this._handlePlayIconClick(i);break;case 39:this._preventDefault(n);this._forwardMedia(i,r+3);break;case 77:this._preventDefault(n);this._handleMuteBtnClick(i,this._mediaDiv.querySelector(".e-media-volume"));break;case 38:this._preventDefault(n);this._changeVolume(i,f+10,u);break;case 40:this._preventDefault(n);this._changeVolume(i,f-10,u);break;case 122:this._preventDefault(n);this._handleScreenBtnClick(!1)}},i.prototype._altKeyEvents=function(n,t,i,r){switch(t){case 37:this._preventDefault(n);this._rewindMedia(i,r-10);break;case 32:this._preventDefault(n);this._handlePlayIconClick(i);break;case 39:this._preventDefault(n);this._forwardMedia(i,r+10);break;case 77:this._preventDefault(n);this._handleMuteBtnClick(i,this._mediaDiv.querySelector(".e-media-volume"))}},i.prototype._shiftKeyEvents=function(n,t,i,r,u){var f=this._getVolume(i,u);switch(t){case 37:this._preventDefault(n);this._rewindMedia(i,r-3);break;case 32:this._preventDefault(n);this._handlePlayIconClick(i);break;case 39:this._preventDefault(n);this._forwardMedia(i,r+3);break;case 38:this._preventDefault(n);this._changeVolume(i,f+10,u);break;case 40:this._preventDefault(n);this._changeVolume(i,f-10,u);break;case 77:this._preventDefault(n);this._handleMuteBtnClick(i,this._mediaDiv.querySelector(".e-media-volume"))}},i.prototype._controlKeyEvents=function(n,t,i,r,u){var f=this._getVolume(i,u);switch(t){case 37:this._preventDefault(n);this._rewindMedia(i,r-60);break;case 38:this._preventDefault(n);this._changeVolume(i,f+10,u);break;case 39:this._preventDefault(n);this._forwardMedia(i,r+60);break;case 40:this._preventDefault(n);this._changeVolume(i,f-10,u)}},i.prototype._changeVolume=function(n,t,i){var r,u,e,f;this._trigger("onBeforeVolumeChange",{mediaInfo:this._getCurrentMediaInfo()});r=this._mediaDiv.querySelector(".e-media-vol-slider-li");r&&(u=this,e=!1,this._showBasicVolSlider(),window.clearTimeout(this._hideVolume),this._hideVolume=setTimeout(function(){u._hideBasicVolSlider()},1e3));this._setVolume(n,t,i);f=this._getEJControlInstance(this._mediaDiv.querySelector(".e-media-volume-slider"),"Slider");f.option("value",this._getVolume(n,i));this._trigger("onAfterVolumeChange",{mediaInfo:this._getCurrentMediaInfo()})},i.prototype._wireMouseMoveEvent=function(){var n=this;this._mouseMoveEvt=function(t){n._handleAutoHide(t);n.model.renderMode==ej.MediaPlayer.RenderMode.Basic&&(t.target.closest(".e-media-toolbar-volume-icon-li")||n._containsClass(t.target,"e-media-toolbar-volume-li")||t.target.closest(".e-media-toolbar-volume-li")?n._showBasicVolSlider():n._hideBasicVolSlider())};this._mediaDiv.addEventListener("mousemove",this._mouseMoveEvt);this._mouseLeaveEvt=function(t){n._handleAutoHide(t);n._hideBasicVolSlider()};this._mediaDiv.addEventListener("mouseleave",this._mouseLeaveEvt)},i.prototype._isAllowAutoHide=function(){if(this._containsClass(this._mediaDiv.querySelector(".e-media-settings-popup"),"hide"))return!0},i.prototype._handleAutoHide=function(n){this.model.autoHide&&this.model.contentType!=ej.MediaPlayer.ContentType.Audio&&this._isAllowAutoHide()&&(n&&n.target.closest(".e-media-content-div")?this._expandToolbar(n):this._collapseToolbar(n));n&&n.target.closest(".e-media-content-div")&&(this._fadeMobileIcons(),this._fadeBasicIcons())},i.prototype._fadeMobileIcons=function(){var n=this._mediaDiv.querySelector(".mob-playGroup"),i,t;n&&(this._fadeIn(n),i=parseInt(this.model.autoHideTime.toString())*1e3,t=this,window.clearTimeout(this._mobIconHide),t._mobIconHide=setTimeout(function(){t._fadeOut(n)},i))},i.prototype._fadeBasicIcons=function(){var t=this._mediaDiv.querySelector(".e-media-prev-li.basic"),i,r,n;t&&(i=this._mediaDiv.querySelector(".e-media-next-li.basic"),this._fadeIn(t),this._fadeIn(i),r=parseInt(this.model.autoHideTime.toString())*1e3,n=this,window.clearTimeout(this._mobIconHide),n._mobIconHide=setTimeout(function(){n._fadeOut(t);n._fadeOut(i)},r))},i.prototype._wireDocumentClickEvent=function(){var n=this;this._clickEvt=function(t){if(n._mediaDiv){if(t.target.closest(".e-media-player")){var i=n._mediaDiv.querySelector(".e-media-focus-div");i&&i.focus()}n._hideSettingsPopup(t);n._handleAutoHide(null);t.target.closest(".e-media-vol-slider-li")||n._hideBasicVolSlider()}};document.addEventListener("click",this._clickEvt)},i.prototype._wireMediaClickEvent=function(){var n=this;this._mediaDiv.querySelector(".e-media-content-div").addEventListener("click",function(t){var i=n._mediaDiv.querySelector(".e-media-control-container");n._containsClass(t.target,"e-media-toolbar-icon")||n._containsClass(t.target,"e-media-toolbar-li")||i.style.display=="none"||i.style.opacity=="0"||(window.clearInterval(n._playTimer),n._handlePlayIconClick(n._getCurrentMedia()))})},i.prototype._wireCommonEventsProcess=function(n){var t=n.nodeName.toLowerCase();(t=="audio"||t=="video")&&this._mediaEvents(n)},i.prototype._mediaEvents=function(n){this._raisePlayEvent(n);this._raisePlayingEvent(n);this._raiseLoadEvent(n);this._raiseMediaEndEvent(n)},i.prototype._raisePlayingEvent=function(n){var t=this;n.onplaying=function(){t._onPlaying(n)}},i.prototype._raisePlayEvent=function(n){var t=this;n.onplay=function(){t._addPlayClass()}},i.prototype._raiseLoadEvent=function(n){var t=this;n.onloadeddata=function(){t._setMediaDuration(n);t._updateTimeStamp(n)}},i.prototype._raiseMediaEndEvent=function(n){var t=this;n.onended=function(){t._onEndCurrentMedia(n)}},i.prototype._onPlaying=function(n){this._trigger("onPlaying",{mediaInfo:this._getCurrentMediaInfo()});var t=this;window.clearInterval(this._playTimer);this._playTimer=window.setInterval(function(){n==t._getCurrentMedia()&&(t._updateTimeSlider(n),t._updateTimeStamp(n))},10);this._addPauseClass()},i.prototype._fullScreenChange=function(n){var t,i;this.model.contentType!=ej.MediaPlayer.ContentType.Audio&&(n?(i=this._mediaDiv.querySelector(".e-media-smallscreen"),i&&(this._removeClass(i,"e-media-smallscreen"),this._addClass(i,"e-media-fullscreen"),this._removeClass(this._mediaDiv,"fullscreen"))):(t=this._mediaDiv.querySelector(".e-media-fullscreen"),t&&(this._removeClass(t,"e-media-fullscreen"),this._addClass(t,"e-media-smallscreen"),this._addClass(this._mediaDiv,"fullscreen"))),this._showWaitingPopup())},i.prototype._setFullScreen=function(){var n,t,i;this.model.contentType!=ej.MediaPlayer.ContentType.Audio&&(n=this._mediaDiv,this._trigger("onBeforeScreenChange",{mediaInfo:this._getCurrentMediaInfo(),isFullScreen:this._containsClass(this._mediaDiv,"fullscreen")}),this._addClass(n,"fullscreen"),this._browserInfo.name=="msie"?(t=document.querySelector(".e-media-custom-fullscreen"),this._removeClass(t,"hide"),this._parentElement=n.parentElement,t.appendChild(n)):(i=n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullscreen,i&&i.call(n)),this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile&&this.model.showPlaylist&&(this._addClass(this._mediaDiv.querySelector(".e-media-playlist-container"),"hide"),this._removeClass(this._mediaDiv.querySelector(".e-media-playlist"),"e-media-playlist-visible"),this._addClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide")),this._trigger("onAfterScreenChange",{mediaInfo:this._getCurrentMediaInfo(),isFullScreen:this._containsClass(this._mediaDiv,"fullscreen")}))},i.prototype._exitFullScreen=function(){var n,t;this.model.contentType!=ej.MediaPlayer.ContentType.Audio&&(this._trigger("onBeforeScreenChange",{mediaInfo:this._getCurrentMediaInfo(),isFullScreen:this._containsClass(this._mediaDiv,"fullscreen")}),this._removeClass(this._mediaDiv,"fullscreen"),this._browserInfo.name=="msie"?(n=document.querySelector(".e-media-custom-fullscreen"),this._addClass(n,"hide"),this._parentElement.appendChild(this._mediaDiv),n.innerHTML=""):(t=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,t&&t.call(document)),this.model.renderMode==ej.MediaPlayer.RenderMode.Mobile&&this.model.showPlaylist&&(this._removeClass(this._mediaDiv.querySelector(".e-media-playlist-container"),"hide"),this._addClass(this._mediaDiv.querySelector(".e-media-playlist"),"e-media-playlist-visible"),this._removeClass(this._mediaDiv.querySelector(".e-media-playlist-toggle"),"hide"),this._collapsePlayList()),this._trigger("onAfterScreenChange",{mediaInfo:this._getCurrentMediaInfo(),isFullScreen:this._containsClass(this._mediaDiv,"fullscreen")}))},i.prototype._onYoutubePlayerReady=function(n){this._youtubeIns=n.target;this._setMediaSettings(this._youtubeIns,!0);this._youtubeMediaEle&&this._changeMediaSource(this._youtubeMediaEle,!0)},i.prototype._onYoutubeStateChange=function(n){var t=n.data;t==YT.PlayerState.PLAYING?(this._setMediaDuration(this._getCurrentMedia()),window.clearInterval(this._playTimer),this._onPlaying(this._getCurrentMedia())):t==YT.PlayerState.ENDED&&this._onEndCurrentMedia(this._getCurrentMedia())},i.prototype.play=function(){var n=this._getCurrentMedia();n&&(this._isYoutubeElement(n)?this._playYoutubeVideo():this._playMedia(n))},i.prototype.pause=function(){var n=this._getCurrentMedia();n&&(this._isYoutubeElement(n)?this._pauseYoutubeVideo():this._pauseMedia(n))},i.prototype.mute=function(){var n=this._getCurrentMedia(),t,i;n&&(t=this._mediaDiv.querySelector(".e-media-volume-slider"),this._mute=!0,this._manualMute=!0,this._setModelMute(n,!0,this._isYoutubeElement(n)),t&&this._getEJControlInstance(t,"Slider").option("value",0),i=this._mediaDiv.querySelector(".e-media-volume"),i&&this._addClass(i,"media-muted"))},i.prototype.unmute=function(){var n=this._getCurrentMedia(),t,i;n&&(t=this._mediaDiv.querySelector(".e-media-volume-slider"),this._mute=!1,this._manualMute=!0,this._setModelMute(n,!1,this._isYoutubeElement(n)),t&&this._getEJControlInstance(t,"Slider").option("value",this._getVolume(n,this._isYoutubeElement(n))),i=this._mediaDiv.querySelector(".e-media-volume"),i&&this._removeClass(i,"media-muted"))},i.prototype.stop=function(){var n=this._getCurrentMedia();n&&this._handleStopBtnClick(n)},i.prototype.next=function(){var n=this._getCurrentMedia();n&&this._handleNextBtnClick(n)},i.prototype.previous=function(){var n=this._getCurrentMedia();n&&this._handlePreviousBtnClick(n)},i.prototype.forward=function(n){var t=this._getCurrentMedia(),i;t&&(i=n||this.model.forwardTime||10,this._forwardMedia(t,this._getCurrentMediaTime(t)+i))},i.prototype.rewind=function(n){var t=this._getCurrentMedia(),i;t&&(i=n||this.model.rewindTime||10,this._rewindMedia(t,this._getCurrentMediaTime(t)-i))},i.prototype.setShuffle=function(n){var t=this._mediaDiv.querySelector(".e-media-shuffle");n==!1?(this._shuffle=!1,this._removeClass(t,"media-shuffled")):(this._shuffle=!0,this._addClass(t,"media-shuffled"));this._disablePrevNextIcons()},i.prototype.setRepeat=function(n){var t=this._mediaDiv.querySelector(".e-media-repeat");n==!1?(this._repeat=!1,this._removeClass(t,"media-repeated")):(this._repeat=!0,this._addClass(t,"media-repeated"));this._disablePrevNextIcons()},i.prototype.seekTo=function(n){var t=this._getCurrentMedia();t&&n&&(this._seekVideo(t,n,this._isYoutubeElement(t)),this._getEJControlInstance(this._mediaDiv.querySelector(".e-media-timeslider"),"Slider").option("value",n))},i.prototype.getCurrentMediaType=function(){var t=this._getCurrentMedia(),n;if(t)return n=ej.MediaPlayer.Types,t instanceof HTMLVideoElement?n.Video:t instanceof HTMLAudioElement?n.Audio:n.Youtube},i.prototype.getCurrentTime=function(){var n=this._getCurrentMedia();if(n)return this._getCurrentMediaTime(n)},i.prototype.setMediaSpeed=function(n){var t=this._getCurrentMedia();t&&(this._trigger("onBeforeSpeedChange",{mediaInfo:this._getCurrentMediaInfo(),speed:this.getMediaSpeed()}),this._setPlayerSpeed(t,n,this._isYoutubeElement(t)),this._trigger("onAfterSpeedChange",{mediaInfo:this._getCurrentMediaInfo(),speed:this.getMediaSpeed()}))},i.prototype.getMediaSpeed=function(){var n=this._getCurrentMedia();if(n)return this._getPlayerSpeed(n,this._isYoutubeElement(n))},i.prototype.getDuration=function(){var n=this._getCurrentMedia();if(n)return this._isYoutubeElement(n)?this._processYoutubeAPI("getDuration",null):n.duration},i.prototype.setVolume=function(n){var t=this._getCurrentMedia(),i,r;t&&(i=n||50,this._setModelVolume(t,i,this._isYoutubeElement(t)),r=this._mediaDiv.querySelector(".e-media-volume-slider"),r&&this._getEJControlInstance(r,"Slider").option("value",i))},i.prototype.getVolume=function(){var n=this._getCurrentMedia();if(n)return this._getVolume(n,this._isYoutubeElement(n))},i.prototype.getCurrentMediaIndex=function(){return this._mediaIndex},i.prototype.addMedia=function(n){this.model.source.push(n);this._playList.push(n);var t=this._mediaDiv.querySelector(".e-listbox");t&&this._getEJControlInstance(t,"ListBox").option("dataSource",this._playList)},i.prototype.removeMedia=function(n){var i=this._getIndexByMediaUrl(n.url),r=this._playList[i],t;r&&(this._playList.splice(i,1),t=this._mediaDiv.querySelector(".e-listbox"),t&&this._getEJControlInstance(t,"ListBox").option("dataSource",this._playList))},i.prototype.showPlaylist=function(){this._showPlaylist()},i.prototype.hidePlaylist=function(){this._hidePlaylist()},i.prototype.makeFullScreen=function(){this._setFullScreen()},i.prototype.exitFullScreen=function(){this._exitFullScreen()},i.prototype.focus=function(){this._mediaDiv.focus()},i.prototype.switchView=function(n){n&&this._changerenderMode(n)},i.prototype._getIndexByMediaUrl=function(n){for(var i=this._playList,t=0;t<i.length;t++)if(i[t].url==n)return t},i.prototype._preventDefault=function(n){n.preventDefault&&n.preventDefault();n.returnValue=!1},i.prototype._getPopupPosition=function(n){var t=this._mediaDiv,o=t.querySelector(".e-media-settings").getBoundingClientRect(),i=t.querySelector(".e-media-control-container").getBoundingClientRect(),r=n.getBoundingClientRect(),u=t.querySelector(".e-media-content-div").getBoundingClientRect(),f=i.height,e=u.width-r.width;return{left:e,bottom:f}},i.prototype._setPopupPosition=function(n){var t=this._getPopupPosition(n);n.style.bottom=t.bottom.toString()+"px";n.style.left=t.left.toString()+"px"},i.prototype._onEndCurrentMedia=function(n){this._trigger("onMediaComplete",{mediaInfo:this._getCurrentMediaInfo()});this.model.autoPlay?this._playVideoByIndex(n,this._mediaIndex+1):(window.clearInterval(this._playTimer),this._playTimer=null,this._addPlayClass())},i.prototype._playCurrentMediaAgain=function(n){this._seekVideo(n,0,this._isYoutubeElement(n));this._handlePlayIconClick(n)},i.prototype._setMediaDuration=function(n){var i=this._getEJControlInstance(this._mediaDiv.querySelector(".e-media-timeslider"),"Slider"),t;t=this._isYoutubeElement(n)?this._processYoutubeAPI("getDuration",null):n.duration;i.setModel({maxValue:t,incrementStep:t/100})},i.prototype._getMediaDuration=function(n){return this._isYoutubeElement(n)?this._processYoutubeAPI("getDuration",null):n.duration},i.prototype._getCurrentMediaTime=function(n){return this._isYoutubeElement(n)?this._processYoutubeAPI("getCurrentTime",null):n instanceof HTMLVideoElement||n instanceof HTMLAudioElement?n.currentTime:void 0},i.prototype._playVideoByIndex=function(n,t,i){var f,r,u;this._repeat&&(t>=this._playList.length?t=0:t<0&&(t=this._playList.length-1));!i&&this._shuffle&&(t=this._getRandomNumber(0,this._playList.length));window.clearInterval(this._playTimer);f=this._playList;n&&f[t]&&(this.stop(),r=this._mediaIndex>t?"Previous":"Next",this._trigger("onBeforePlay"+r,{mediaInfo:this._getCurrentMediaInfo()}),this._mediaIndex=t,this._trigger("onBeforeMediaChange",{mediaInfo:this._getCurrentMediaInfo()}),this._changeMediaSource(n),this._trigger("onAfterMediaChange",{mediaInfo:this._getCurrentMediaInfo()}),u=this._getCurrentMedia(),this._handlePlayIconClick(u),this._updateTimeSlider(u),this._trigger("onAfterPlay"+r,{mediaInfo:this._getCurrentMediaInfo()}))},i.prototype._pauseCurrentMedia=function(n){this._isYoutubeElement(n)?this._processYoutubeAPI("pauseVideo",null):(n instanceof HTMLVideoElement||n instanceof HTMLAudioElement)&&n.pause();window.clearInterval(this._playTimer)},i.prototype._playCurrentMedia=function(n){this._isYoutubeElement(n)?this._processYoutubeAPI("playVideo",null):(n instanceof HTMLVideoElement||n instanceof HTMLAudioElement)&&this._play(n)},i.prototype._isMediaPaused=function(n){if(this._isYoutubeElement(n)){if(this._processYoutubeAPI("getPlayerState",null)!="1")return!0}else if(n instanceof HTMLVideoElement||n instanceof HTMLAudioElement)return n.paused},i.prototype._changeMediaSource=function(n,t){var e=this._playList,r,f;if(this._disablePrevNextIcons(),r=e[this._mediaIndex],r){window.clearInterval(this._playTimer);this._pauseCurrentMedia(n);f=r.type;this._hideAllMedia();this._showCurrentMedia(f);var i=this._getCurrentMediaFromType(f),o=e[this._mediaIndex].url,u=this._isYoutubeElement(i);u&&!this._youtubeIns?this._youtubeMediaEle=i:(this._setMediaSource(i,o,u,t),this._setSubtitle(i,r.track,u),this._setMute(i,this._mute,u),this._changePlaylistItem(),this._setVideoTitle(i,r),this._setAudioPoster(i,r),this._setAudioTitle(i,r),this._updateTimeStamp(i));this._setQualityItemVisibility(u)}},i.prototype._disablePrevNextIcons=function(){var n=this._playList;n[this._mediaIndex-1]||this._repeat||this._shuffle?this._removeClass(this._mediaDiv.querySelector(".e-media-previous"),"disabled"):this._addClass(this._mediaDiv.querySelector(".e-media-previous"),"disabled");n[this._mediaIndex+1]||this._repeat||this._shuffle?this._removeClass(this._mediaDiv.querySelector(".e-media-next"),"disabled"):this._addClass(this._mediaDiv.querySelector(".e-media-next"),"disabled")},i.prototype._setQualityItemVisibility=function(n){var t=this._mediaDiv.querySelector(".e-media-settings-popup").querySelector(".e-media-settings-quality");n?this._removeClass(t,"hide"):this._addClass(t,"hide")},i.prototype._updateAutoPlay=function(){var n=this._getCurrentMedia();n&&(this.model.autoPlay?n instanceof HTMLVideoElement||n instanceof HTMLAudioElement?this._playMedia(n):this._playYoutubeVideo():n instanceof HTMLVideoElement||n instanceof HTMLAudioElement?this._pauseMedia(n,!0):this._pauseYoutubeVideo(!0))},i.prototype._setVideoTitle=function(n,t){var i=this._mediaDiv.querySelector(".e-media-video-baner");n instanceof HTMLAudioElement==!1&&this.model.showTitle&&(i.querySelector(".e-media-video-title").innerHTML=t.title)},i.prototype._setAudioPoster=function(n){var t=this._mediaDiv.querySelector(".e-media-audio-detail");n instanceof HTMLAudioElement?(this._removeClass(t,"hide"),this._mediaDiv.querySelector(".e-media-audio-poster").src=this._defaultPosterUrl):this._addClass(t,"hide")},i.prototype._setAudioTitle=function(n,t){var i=this._mediaDiv.querySelector(".e-media-audio-detail");n instanceof HTMLAudioElement?(this._removeClass(i,"hide"),this._mediaDiv.querySelector(".e-media-audio-title").innerHTML=t.title):this._addClass(i,"hide")},i.prototype._changePlaylistItem=function(){var n=this._mediaDiv.querySelector(".e-media-playlist-div"),t=n.querySelector(".e-select");t&&this._removeClass(t,"e-select");this._addClass(n.children[this._mediaIndex],"e-select")},i.prototype._updateTimeSlider=function(n){var t=$(this._mediaDiv.querySelector(".e-media-timeslider")).data("ejSlider");this._isYoutubeElement(n)?t.option("value",this._processYoutubeAPI("getCurrentTime",null)):(n instanceof HTMLVideoElement||n instanceof HTMLAudioElement)&&t.option("value",n.currentTime)},i.prototype._updateTimeStamp=function(n){var t=this._mediaDiv,i=t.querySelector(".e-media-time-stamp-run"),r=t.querySelector(".e-media-time-stamp-end"),u=this._getCurrentMediaTime(this._getCurrentMedia()),f=this._getMediaDuration(n);i.innerText=this._getTimeFromSeconds(u);r.innerText=this._getTimeFromSeconds(f)},i.prototype._addPlayClass=function(){var n=this._mediaDiv.querySelector(".e-media-pause");n&&!this._pausedManual&&(this._removeClass(n,"e-media-pause"),this._addClass(n,"e-media-play"))},i.prototype._addPauseClass=function(){var n=this._mediaDiv.querySelector(".e-media-play");n&&!this._pausedManual&&(this._removeClass(n,"e-media-play"),this._addClass(n,"e-media-pause"));this._pausedManual=!1},i.prototype._getCurrentMedia=function(){for(var t=this._mediaDiv.querySelector(".e-media-content-div").children,n=0;n<t.length;n++)if(this._containsClass(t[n],"e-media-element")&&!this._containsClass(t[n],"hide"))return t[n]},i.prototype._showCurrentMedia=function(n){var t=this._getCurrentMediaFromType(n);t&&this._removeClass(t,"hide")},i.prototype._hideAllMedia=function(){var n=this._mediaDiv,t=n.querySelector(".e-media-video"),i=n.querySelector(".e-media-audio"),r=n.querySelector(".e-media-youtube");t&&this._addClass(t,"hide");i&&this._addClass(i,"hide");r&&this._addClass(r,"hide")},i.prototype._getCurrentMediaFromType=function(n){var t=this._mediaDiv,i=ej.MediaPlayer.Types;return n==i.Video?t.querySelector(".e-media-video"):n==i.Audio?t.querySelector(".e-media-audio"):n==i.Youtube?t.querySelector(".e-media-youtube"):void 0},i.prototype._isYoutubeElement=function(n){if(n&&this._containsClass(n,"e-media-youtube"))return!0},i.prototype._createElement=function(n,t,i,r){var u,e,f;if(n&&n!=""){if(n=="video"?(u=document.createElement(n),r=!0):u=document.createElement(n),t&&t!=""&&(u.id=t),i&&i!="")for(e=i.split(" "),f=0;f<e.length;f++)this._addClass(u,e[f]);return u}return null},i.prototype._getYTVideoIdFromUrl=function(n){var t=n.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);if(t&&t[2].length==11)return t[2]},i.prototype._getRandomNumber=function(n,t){if(t!=0){var i;return i=Math.floor(Math.random()*(t-n+1))+n,i==this._mediaIndex&&(i=this._getRandomNumber(0,t)),i}},i.prototype._getTimeFromSeconds=function(n){n=Number(n);var r=Math.floor(n/3600),t=Math.floor(n%3600/60),i=Math.floor(n%3600%60),u,f,e;return u=r>0?r+":":"",f=t>0?t<10?t+":":t+":":"0:",e=i>0?i<10?"0"+i:i:"00",u+f+e},i.prototype._addClass=function(n,t){n&&(n.classList?n.classList.add(t):this._containsClass(n,t)||(n.className+=(n.className?" ":"")+t))},i.prototype._removeClass=function(n,t){var r,i;if(n)if(n.classList)n.classList.remove(t);else for(r=n.className.split(" "),n.className="",i=0;i<r.length;i++)r[i]!=t&&(n.className+=(n.className?" ":"")+r[i])},i.prototype._containsClass=function(n,t){var r,i;if(n){if(n.classList)return n.classList.contains(t);for(r=n.className.split(" "),i=0;i<r.length;i++)if(r[i]==t)return!0}},i.prototype._renderEJControls=function(n,t,i){var r=new ej[t]($(n),i)},i.prototype._getEJControlInstance=function(n,t){return $(n).data("ej"+t)},i.prototype._animate=function(n,t,i){$(n).animate(t,i)},i.prototype._fadeIn=function(n){$(n).fadeIn("slow")},i.prototype._fadeOut=function(n){$(n).fadeOut("slow")},i.prototype._addPlaylistItemsAjax=function(n,t){var i=this._playList[t],r=this,u;i?i.type==ej.MediaPlayer.Types.Youtube?(u=this._getYTVideoIdFromUrl(i.url),$.ajax({url:"https://www.googleapis.com/youtube/v3/videos?id="+u+"?key="+this._APIKey+"=snippet",dataType:"jsonp",success:function(u){u&&u.items&&u.items[0]&&u.items[0].snippet?r._addYoutubePlaylistData(u,i,t):r._addDefaultPlaylistValue(i,t);r._addNextPlayListItem(n,i,t)},error:function(){r._addDefaultPlaylistValue(i,t);r._addNextPlayListItem(n,i,t)}})):(r._addDefaultPlaylistValue(i,t),r._addNextPlayListItem(n,i,t)):r._generatePlayerDataDataSuccess(n)},i.prototype._setHTMLCustomAttributes=function(){Element.prototype.closest||(Element.prototype.closest=function(n){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);for(var t=this;t;){if(t.matches(n))return t;t=t.parentElement}});Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})},i}(ej.WidgetBase);ej.widget("ejMediaPlayer","ej.MediaPlayer",new t);ej.MediaPlayer.Types={Audio:"audio",Video:"video",Youtube:"youtube"};ej.MediaPlayer.Quality={"240p":"small","360p":"medium","480p":"large","720p":"hd720","1080p":"hd1080",auto:"default"};ej.MediaPlayer.RenderMode={Basic:"basic",Advanced:"advanced",Mobile:"mobile"};ej.MediaPlayer.ContentType={Audio:"audio",Video:"video"}});
