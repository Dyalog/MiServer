/*!
*  filename: ej.mobile.all.min.js
*  version : 17.4.0.39
*  Copyright Syncfusion Inc. 2001 - 2019. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function Scrollbar(n,t){this._wrapper=typeof t.el=="string"?document.querySelector(t.el):t.el;this._sb=this._wrapper.children[0];this._sbStyle=this._sb.style;this.scroller=n;this.model={listenX:!0,listenY:!0,enableInteraction:!1,enableResize:!0,enableShrink:!1,enableFade:!1,speedRatioX:0,disableTouch:!1,speedRatioY:0,ignoreBoundaries:!1};for(var i in t)this.model[i]=t[i];this._sizeRatioX=1;this._sizeRatioY=1;this._maxPosX=0;this._maxPosY=0;this.model.enableFade&&(this._sbStyle[ej.transform]=this.scroller.model.translateZ,this._sbStyle[ej.transitionDuration]=ej.isLowerAndroid()?"0.001s":"0ms",this._sbStyle.opacity="0");this._createDelegates();this._wireEvents()}var eAnimation,_sideBySeriesPadding,ejSparkline,__extends,ejSunburstChart;window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var e,u,f,o;t.version="17.4.0.39";t.consts={NamespaceJoin:"-"};t.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"};t.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.serverTimezoneOffset=0;t.parseDateInUTC=!1;t.persistStateVersion=null;t.locales=t.locales||[];Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n,t){return n[t]!==i});Date.prototype.toISOString||function(){function n(n){var t=String(n);return t.length===1&&(t="0"+t),t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}();String.format=function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n+1]);return t.replace(/\{[0-9]\}/g,"")};jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};t.defineClass=function(n,r,u,f){if(!n||!u)return i;for(var o=n.split("."),s=window,e=0;e<o.length-1;e++)t.isNullOrUndefined(s[o[e]])&&(s[o[e]]={}),s=s[o[e]];return(f||t.isNullOrUndefined(s[o[e]]))&&(r=typeof r=="function"?r:function(){},s[o[e]]=r,s[o[e]].prototype=u),s[o[e]]};t.util={getNameSpace:function(n){var i=n.toLowerCase().split(".");return i[0]==="ej"&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(n,r){var u,e,f;if(!r||!n)return i;for(typeof n!="string"&&(n=JSON.stringify(n)),u=r,e=n.split("."),f=0;f<e.length;f++){if(t.util.isNullOrUndefined(u))break;u=u[e[f]]}return u},createObject:function(n,i,r){for(var o=n.split("."),s=r||window,u=s,e,h=o.length,f=0;f<h;f++)e=o[f],f+1==h?u[e]=i:t.isNullOrUndefined(u[e])&&(u[e]={}),u=u[e];return s},isNullOrUndefined:function(n){return n===i||n===null},exportAll:function(i,r){var h=[],o,u=[],c,l,a,f,v,p={action:i,method:"post","data-ajax":"false"},s=t.buildTag("form","",null,p),e,y;if(r.length!=0){for(e=0;e<r.length;e++)c=e,l=n("#"+r[e]),a=n("#"+r[e]).data(),o=a.ejWidgets,f=n(l).data(o[0]),u.push({id:f._id,locale:f.model.locale}),t.isNullOrUndefined(f)||(v=f._getExportModel(f.model),h.push({name:o[0],type:"hidden",value:f.stringify(v)}),y=t.buildTag("input","",null,h[c]),s.append(y));n("body").append(s);s.submit();setTimeout(function(){var r,f,i;if(u.length)for(i=0;i<u.length;i++)t.isNullOrUndefined(u[i].locale)||(r=n("#"+u[i].id).data(),o=r.ejWidgets,f=n("#"+u[i].id).data(o[0]),f.model.locale=u[i].locale)},0);s.remove()}return!0},print:function(i,r){var f=t.buildTag("div"),o=i.clone(),r,e,u;f.append(o);r||(r=window.open("","print","height=452,width=1024,tabbar=no"));r.document.write("<!DOCTYPE html>");e=n("head").find("link").add("style");t.browserInfo().name==="msie"?(u="",e.each(function(t,i){i.tagName=="LINK"&&n(i).attr("href",i.href);u+=i.outerHTML}),r.document.write("<html><head><\/head><body>"+u+f[0].innerHTML+"<\/body><\/html>")):(u="",r.document.write("<html><head>"),e.each(function(t,i){i.tagName=="LINK"&&n(i).attr("href",i.href);u+=i.outerHTML}),r.document.writeln(u+"<\/head><body>"),r.document.writeln(f[0].innerHTML+"<\/body><\/html>"));r.document.close();r.focus();setTimeout(function(){t.isNullOrUndefined(r.window)||(r.print(),setTimeout(function(){r.close()},1e3))},1e3)},ieClearRemover:function(t){var i=n(t).height();t.style.paddingTop=parseFloat(i/2)+"px";t.style.paddingBottom=parseFloat(i/2)+"px";t.style.height="1px";t.style.lineHeight="1px"},sendAjaxRequest:function(t){n.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.successHandler,error:t.errorHandler,beforeSend:t.beforeSendHandler,complete:t.completeHandler})},buildTag:function(t,r,u,f){var s=/^[a-z]*[0-9a-z]+/ig.exec(t)[0],e=/#([_a-z0-9-&@\/\\,+()$~%:*?<>{}\[\]]+\S)/ig.exec(t),o;return e=e?e[e.length-1].replace(/[&@\/\\,+()$~%.:*?<>{}\[\]]/g,""):i,o=/\.([a-z]+[-_0-9a-z ]+)/ig.exec(t),o=o?o[o.length-1]:i,n(document.createElement(s)).attr(e?{id:e}:{}).addClass(o||"").css(u||{}).attr(f||{}).html(r||"")},_preventDefaultException:function(n,t){if(n)for(var i in t)if(t[i].test(n[i]))return!0;return!1},getMaxZindex:function(){var t=1;return t=Math.max.apply(null,n.map(n("body *"),function(t){if(n(t).css("position")=="absolute"||n(t).css("position")=="fixed")return parseInt(n(t).css("z-index"))||1})),(t==i||t==null)&&(t=1),t},blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},getDimension:function(t,i){var e,u=n(t).parents().andSelf().filter(":hidden"),r,f;return u&&(r={visibility:"hidden",display:"block"},f=[],u.each(function(){var t={};for(var n in r)t[n]=this.style[n],this.style[n]=r[n];f.push(t)}),e=/(outer)/g.test(i)?n(t)[i](!0):n(t)[i](),u.each(function(n){var i=f[n];for(var t in r)this.style[t]=i[t]})),e},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[t.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[t.userAgent()]},startEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return t.isTouchDevice()||n.support.hasPointer?n.support.hasPointer&&!t.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return t.isTouchDevice()||n.support.hasPointer?"taphold":"click"},isDevice:function(){return t.getBooleanVal(n("head"),"data-ej-forceset",!1)?t.getBooleanVal(n("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var n=document.documentElement;return n&&n.clientWidth/n.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&t.isPortrait()&&t.isDevice()||window.innerWidth<=800&&!t.isDevice()||window.innerWidth<=800&&!t.isPortrait()&&t.isWindows()&&t.isDevice()||t.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!(typeof Android=="undefined")},isWindowsWebView:function(){return location.href.indexOf("x-wmapp")!=-1},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||t.getBooleanVal(n("head"),"data-ej-mobile",!1)===!0},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||t.getBooleanVal(n("head"),"data-ej-tablet",!1)===!0||!t.isMobile()&&t.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&t.isMobile())&&this.isDevice()},getClearString:function(t){return n.trim(t.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u.toLowerCase()=="true":r},_getSkewClass:function(n,t,i){var h=n.width(),c=n.height(),f=n.offset().left,e=n.offset().left+h,o=n.offset().top,s=n.offset().top+c,r=h*.3,u=c*.3;return t<f+r&&i<o+u?"e-m-skew-topleft":t>e-r&&i<o+u?"e-m-skew-topright":t>e-r&&i>s-u?"e-m-skew-bottomright":t<f+r&&i>s-u?"e-m-skew-bottomleft":t>f+r&&i<o+u&&t<e-r?"e-m-skew-top":t<f+r?"e-m-skew-left":t>e-r?"e-m-skew-right":i>s-u?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(t){n(t).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(n){var t,i=[];if(n=Object.prototype.toString.call(n)===Object.prototype.toString()?n:{},!Object.keys){for(t in n)n.hasOwnProperty(t)&&i.push(t);return i}if(Object.keys)return Object.keys(n)},_touchStartPoints:function(n,t){if(n){var i=n.touches?n.touches[0]:n;t._distX=0;t._distY=0;t._moved=!1;t._pointX=i.pageX;t._pointY=i.pageY}},_isTouchMoved:function(n,t){if(n){var i=n.touches?n.touches[0]:n,f=i.pageX-t._pointX,e=i.pageY-t._pointY,o=Date.now(),r,u;return t._pointX=i.pageX,t._pointY=i.pageY,t._distX+=f,t._distY+=e,r=Math.abs(t._distX),u=Math.abs(t._distY),!(r<5&&u<5)}},listenEvents:function(n,i,r,u,f,e){for(var o=0;o<n.length;o++)t.listenTouchEvent(n[o],i[o],r[o],u,f,e)},listenTouchEvent:function(i,r,u,f,e,o){for(var s,h=f?"removeEventListener":"addEventListener",a=f?"off":"on",l=n(i),c=0;c<l.length;c++){s=l[c];switch(r){case"touchstart":t._bindEvent(s,h,r,u,"mousedown","MSPointerDown","pointerdown",o);break;case"touchmove":t._bindEvent(s,h,r,u,"mousemove","MSPointerMove","pointermove",o);break;case"touchend":t._bindEvent(s,h,r,u,"mouseup","MSPointerUp","pointerup",o);break;case"touchcancel":t._bindEvent(s,h,r,u,"mousecancel","MSPointerCancel","pointercancel",o);break;case"tap":case"taphold":case"ejtouchmove":case"click":n(s)[a](r,u);break;default:t.browserInfo().name=="msie"&&t.browserInfo().version<9?e._on(n(s),r,u):s[h](r,u,!0)}}},_bindEvent:function(t,i,r,u,f,e,o){n.support.hasPointer?t[i](window.navigator.pointerEnabled?o:e,u,!0):t[i](r,u,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var i="webkitT,t,MozT,msT,OT".split(","),r,n=0,u=i.length;n<u;n++)if(r=i[n]+"ransform",r in t.styles)return i[n].substr(0,i[n].length-1);return!1},addPrefix:function(n){return t.userAgent()===""?n:(n=n.charAt(0).toUpperCase()+n.substr(1),t.userAgent()+n)},destroyWidgets:function(t){var i=n(t).find("[data-role *= ejm]");i.each(function(t,i){var r=n(i),u=r.data("ejWidgets");u&&r[u]("destroy")})},getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},getOffset:function(t){var i={},u=t.offset()||{left:0,top:0},r;return n.extend(!0,i,u),n("body").css("position")!="static"&&(r=n("body").offset(),i.left-=r.left,i.top-=r.top),i},getZindexPartial:function(i,r){var e,f,u;if(!t.isNullOrUndefined(i)&&i.length>0)return e=i.parents(),f=n("body").children(),!t.isNullOrUndefined(i)&&i.length>0&&f.splice(f.index(r),1),n(f).each(function(n,t){e.push(t)}),u=Math.max.apply(u,n.map(e,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!u||u<1e4?u=1e4:u+=1,u},isValidAttr:function(t,i){var t=n(t)[0],r;return typeof t[i]!="undefined"?!0:(r=!1,n.each(t,function(n){if(n.toLowerCase()==i.toLowerCase())return r=!0,!1}),r)}};n.extend(t,t.util);t.widgetBase={droppables:{"default":[]},resizables:{"default":[]},_renderEjTemplate:function(i,r,u,f,e){var o=null;if((typeof i=="object"||i.startsWith("#")||i.startsWith("."))&&(o=n(i).attr("type")),o){if(o=o.toLowerCase(),t.template[o])return t.template[o](this,i,r,u,f)}else if(!t.isNullOrUndefined(e))return t.template["text/x-"+e](this,i,r,u,f);return t.template.render(this,i,r,u,f)},destroy:function(){var u,r,f,i;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),n(window).off("unload",this._persistHandler));try{this._destroy()}catch(e){}for(u=this.element.data("ejWidgets")||[],i=0;i<u.length;i++)u[i]==this.pluginName&&u.splice(i,1);for(u.length||this.element.removeData("ejWidgets");this._events;){if(r=this._events.pop(),f=[],!r)break;for(i=0;i<r[1].length;i++)n.isPlainObject(r[1][i])||f.push(r[1][i]);n.fn.off.apply(r[0],f)}this._events=null;this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName);this.element=null;this.model=null}},_on:function(i){this._events||(this._events=[]);for(var r=[].splice.call(arguments,1,arguments.length-1),u={},f=r.length;u&&typeof u!="function";)u=r[--f];return r[f]=t.proxy(r[f],this),this._events.push([i,r,u,r[f]]),n.fn.on.apply(i,r),this},_off:function(t,i,r,u){var e=this._events,s,h,o,f,c;if(!e||!e.length)return this;for(typeof r=="function"&&(s=u,u=r,r=s),h=i.match(/\S+/g)||[""],o=0;o<e.length;o++)if(f=e[o],c=f[0].length&&(!u||f[2]===u)&&(f[1][0]===i||h[0])&&(!r||f[1][1]===r)&&n.inArray(t[0],f[0])>-1,c){n.fn.off.apply(t,u?[i,r,f[3]]:[i,r]);e.splice(o,1);break}return this},_trigger:function(i,r){var f=null,e,u,o={},s;return(n.extend(o,r),i in this.model&&(f=this.model[i]),f&&(typeof f=="string"&&(f=t.util.getObject(f,window)),n.isFunction(f)&&(u=t.event(i,this.model,r),e=f.call(this,u),r&&n.extend(r,u),u.cancel||!t.isNullOrUndefined(e))))?e===!1||u.cancel:(s=Boolean(r),r=r||{},r.originalEventType=i,r.type=this.pluginName+i,u=n.Event(r.type,t.event(r.type,this.model,r)),this.element&&this.element.trigger(u),s&&n.extend(r,u),t.isOnWebForms&&u.cancel==!1&&this.model.serverEvents&&this.model.serverEvents.length&&t.raiseWebFormsServerEvents(i,r,o),u.cancel)},setModel:function(t,i){var r,f,o,u;if(!this._trigger("modelChange",{changes:t})){for(r in t){if(!i){if(this.model[r]===t[r]){delete t[r];continue}if(n.isPlainObject(t[r])&&(e(this.model[r],t[r]),n.isEmptyObject(t[r]))){delete t[r];continue}}if(this.dataTypes&&(f=this._isValidModelValue(r,this.dataTypes,t),f!==!0))throw"setModel - Invalid input for property :"+r+" - "+f;this.model.notifyOnEachPropertyChanges&&this.model[r]!==t[r]&&(o={oldValue:this.model[r],newValue:t[r]},t[r]=this._trigger(r+"Change",o)?this.model[r]:o.newValue)}n.isEmptyObject(t)||(this._setFirst?(u=t.dataSource,u&&delete t.dataSource,n.extend(!0,this.model,t),u&&(this.model.dataSource=u instanceof Array?u.slice():u,t.dataSource=this.model.dataSource),this._setModel&&this._setModel(t)):this._setModel&&this._setModel(t)===!1||n.extend(!0,this.model,t),"enablePersistence"in t&&this._setState(t.enablePersistence))}},option:function(r,u,f){if(!r)return this.model;if(n.isPlainObject(r))return this.setModel(r,f);if(typeof r=="string"){r=r.replace(/^model\./,"");var e=t.getObject(r,this.model);if(u===i&&!f)return e;if(r==="enablePersistence")return this._setState(u);if(f&&u===t.extensions.modelGUID)return this._setModel(t.createObject(r,t.getObject(r,this.model),{}));if(f||t.getObject(r,this.model)!==u)return this.setModel(t.createObject(r,u,{}),f)}return i},_isValidModelValue:function(n,t,i){var r=t[n],u=i[n],f,e,o;if(!r)return!0;if(typeof r=="string"){if(r=="enum"&&(i[n]=u?u.toString().toLowerCase():u,r="string"),r==="array"){if(Object.prototype.toString.call(u)==="[object Array]")return!0}else if(r==="data"||r==="parent"||typeof u===r)return!0;return"Expected type - "+r}if(u instanceof Array){for(e=0;e<u.length;e++)if(f=this._isValidModelValue(n,t,u[e]),f!==!0)return" ["+e+"] - "+f;return!0}for(o in u)if(f=this._isValidModelValue(o,r,u),f!==!0)return o+" : "+f;return!0},_returnFn:function(n,t){t.indexOf(".")!=-1?this._returnFn(n[t.split(".")[0]],t.split(".").slice(1).join(".")):n[t]=n[t].call(n.propName)},_removeCircularRef:function(n){function i(n,r,u){if(typeof n=="object"){if(Array.prototype.indexOf||(Array.prototype.indexOf=function(n){return jQuery.inArray(n,this)}),t.indexOf(n)>=0){delete u[r];return}t.push(n);for(var f in n)n.hasOwnProperty(f)&&i(n[f],f,n);t.pop();return}}var t=[];return i(n,"obj",null),n},stringify:function(n,i){for(var f,u=this.observables,r=0;r<u.length;r++)f=t.getObject(u[r],n),t.isNullOrUndefined(f)||typeof f!="function"||this._returnFn(n,u[r]);return i&&(n=this._removeCircularRef(n)),JSON.stringify(n)},_setState:function(i){if(i===!0){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler)}else this.deleteState(),n(window).off("unload",this._persistHandler)},_removeProp:function(n,i){t.isNullOrUndefined(n)||(i.indexOf(".")!=-1?this._removeProp(n[i.split(".")[0]],i.split(".").slice(1).join(".")):delete n[i])},persistState:function(){var n,i;if(this._ignoreOnPersist){for(n=r({},this.model),i=0;i<this._ignoreOnPersist.length;i++)this._removeProp(n,this._ignoreOnPersist[i]);n.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(n={},i=0;i<this._addToPersist.length;i++)t.createObject(this._addToPersist[i],t.getObject(this._addToPersist[i],this.model),n);n.addToPersist=this._addToPersist}else n=r({},this.model);this._persistState&&(n.customPersists={},this._persistState(n.customPersists));window.localStorage?(t.isNullOrUndefined(t.persistStateVersion)||window.localStorage.getItem("persistKey")!=null||window.localStorage.setItem("persistKey",t.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(n))):document.cookie&&(t.isNullOrUndefined(t.persistStateVersion)||t.cookie.get("persistKey")!=null||t.cookie.set("persistKey",t.persistStateVersion),t.cookie.set("$ej$"+this.pluginName+this._id,n))},deleteState:function(){var n;window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&t.cookie.set("$ej$"+this.pluginName+this._id,n,new Date)},restoreState:function(i){var f=null,r,u,e;if(window.localStorage?f=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(f=t.cookie.get("$ej$"+this.pluginName+this._id)),f&&(r=JSON.parse(f),this._restoreState&&(this._restoreState(r.customPersists),delete r.customPersists),t.isNullOrUndefined(r)===!1&&(t.isNullOrUndefined(r.ignoreOnPersist)?t.isNullOrUndefined(r.addToPersist)||(this._addToPersist=r.addToPersist,delete r.addToPersist):(this._ignoreOnPersist=r.ignoreOnPersist,delete r.ignoreOnPersist))),t.isNullOrUndefined(r)||t.isNullOrUndefined(this._ignoreOnPersist))this.model=n.extend(!0,this.model,r);else{for(u=0,e=this._ignoreOnPersist.length;u<e;u++)this._ignoreOnPersist[u].indexOf(".")!==-1?t.createObject(this._ignoreOnPersist[u],t.getObject(this._ignoreOnPersist[u],this.model),r):r[this._ignoreOnPersist[u]]=this.model[this._ignoreOnPersist[u]];this.model=r}!i&&f&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(n){var r=[],t,u;if(typeof n=="object"?r=n:typeof n=="string"&&r.push(n),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],t=0;t<r.length;t++)this._ignoreOnPersist.push(r[t]);else for(t=0;t<r.length;t++)u=this._addToPersist.indexOf(r[t]),this._addToPersist.splice(u,1)},addToPersist:function(t){var u=[],f,r;if(typeof t=="object"?u=t:typeof t=="string"&&u.push(t),this._addToPersist===i)for(this._ignoreOnPersist=this._ignoreOnPersist||[],r=0;r<u.length;r++)f=this._ignoreOnPersist.indexOf(u[r]),this._ignoreOnPersist.splice(f,1);else for(r=0;r<u.length;r++)n.inArray(u[r],this._addToPersist)===-1&&this._addToPersist.push(u[r])},formatting:function(i,r,u){var f,l,h,c,a,v,s,e,y;if(i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),u=t.preferredCulture(u)?u:"en-US",f=i,l=i.split("{0:"),a=i.split("}"),h=l[0],c=a[1],typeof r=="string"&&n.isNumeric(r)&&(r=Number(r)),i.indexOf("{0:")!=-1)return v=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),s=v.exec(i),s!=null&&r!=null?h!=null&&c!=null?h+t.format(r,s[2],u)+c:t.format(r,s[2],u):r!=null?r:"";if(f.startsWith("{")&&!f.startsWith("{0:")){var o=f.split(""),r=(r||"")+"",p=r.split(""),w=/[0aA\*CN<>\?]/gm;for(e=0,y=0;e<o.length;e++)o[e]=w.test(o[e])?"{"+y+++"}":o[e];return String.format.apply(String,[o.join("")].concat(p)).replace("{","").replace("}","")}return this.data!=null&&this.data.Value==null?(n.each(this.data,function(n,t){f=f.replace(new RegExp("\\{"+n+"\\}","gm"),t)}),f):this.data.Value}};t.WidgetBase=function(){};e=function(t,i){var u,f,r;if(t instanceof Array)for(u=0,f=t.length;u<f;u++)r=t[u],r===i[r]&&delete i[r],n.isPlainObject(i[r])&&n.isPlainObject(r)&&e(r,i[r]);else for(r in t)t[r]===i[r]&&delete i[r],n.isPlainObject(i[r])&&n.isPlainObject(t[r])&&e(t[r],i[r])};t.widget=function(f,e,h){var a,l,v;if(typeof f=="object"){h=e;for(a in f)l=f[a],l instanceof Array&&(h._rootCSS=l[1],l=l[0]),t.widget(a,l,h),f[a]instanceof Array&&(h._rootCSS="");return}v=h._rootCSS||t.getNameSpace(e);h=t.defineClass(e,function(i,o){var y,p,w,b,c,tt,g,k,d,nt,l,a;if(this.sfType=e,this.pluginName=f,this.instance=s,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},n.extend(this,t.widgetBase),this.dataTypes)for(y in o)if(p=this._isValidModelValue(y,this.dataTypes,o),p!==!0)throw"setModel - Invalid input for property :"+y+" - "+p;for(w=i.data("ejWidgets")||[],w.push(f),i.data("ejWidgets",w),c=0;t.widget.observables&&this.observables&&c<this.observables.length;c++)b=t.getObject(this.observables[c],o),b&&t.createObject(this.observables[c],t.widget.observables.register(b,this.observables[c],this,i),o);if(this.element=i.jquery?i:n(i),this.model=r(!0,{},h.prototype.defaults,o),this.model.keyConfigs=r(this.keyConfigs),this.element.addClass(v+" e-js").data(f,this),this._id=i[0].id,this.model.enablePersistence){if(window.localStorage&&!t.isNullOrUndefined(t.persistStateVersion)&&window.localStorage.getItem("persistKey")!=t.persistStateVersion)for(c in window.localStorage)c.indexOf("$ej$")!=-1&&(window.localStorage.removeItem(c),window.localStorage.setItem("persistKey",t.persistStateVersion));else if(document.cookie&&!t.isNullOrUndefined(t.persistStateVersion)&&t.cookie.get("persistKey")!=t.persistStateVersion){g=document.cookie.split(/; */);for(k in g)k.indexOf("$ej$")!=-1&&(t.cookie.set(k.split("=")[0],tt,new Date),t.cookie.set("persistKey",t.persistStateVersion))}this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler);this.restoreState(!0)}if(this._init(o),typeof this.model.keyConfigs=="object"&&!(this.model.keyConfigs instanceof Array)){d=!1;this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus);for(nt in this.model.keyConfigs)if(nt!=="focus"){d=!0;break}d&&this._keyPressed&&(l=i,a="keydown",this.keySettings&&(l=this.keySettings.getElement?this.keySettings.getElement()||l:l,a=this.keySettings.event||a),this._on(l,a,function(n){if(this.model.keyConfigs){var t=u.getActionFromCode(this.model.keyConfigs,n.which,n.ctrlKey,n.shiftKey,n.altKey),i={code:n.which,ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};t&&this._keyPressed(t,n.target,i,n)===!1&&n.preventDefault()}}))}this._trigger("create")},h);n.fn[f]=function(r){for(var w,p=r,u,y=0;y<this.length;y++){var s=n(this[y]),l=s.data(f),b=l&&s.hasClass(v),a=null;if(this.length>0&&n.isPlainObject(p)&&(r=t.copyObject({},p)),!b){h.prototype._requiresID!==!0||n(this[y]).attr("id")||s.attr("id",c("ejControl_"));r&&typeof r!="object"?o(f+": methods/properties can be accessed only after plugin creation"):(h.prototype.defaults&&!t.isNullOrUndefined(t.setCulture)&&"locale"in h.prototype.defaults&&f!="ejChart"&&(!r||"locale"in r?t.isNullOrUndefined(r)&&(r={},r.locale=t.setCulture().name):r.locale=t.setCulture().name),new h(s,r));continue}if(r)if(u=[].slice.call(arguments,1),this.length>0&&u[0]&&p==="option"&&n.isPlainObject(u[0])&&(u[0]=t.copyObject({},u[0])),n.isPlainObject(r))l.setModel(r);else if((r.indexOf("_")===0||t.isNullOrUndefined(a=t.getObject(r,l)))&&r.indexOf("model.")!==0)o(e+": function/property - "+r+" does not exist");else{if(!a||!n.isFunction(a)){if(arguments.length==1)return a;l.option(r,arguments[1]);continue}if(w=a.apply(l,u),w!==i)return w}}return f.indexOf("ejm")!=-1&&t.widget.registerInstance(s,f,e,h.prototype),this};t.widget.register(f,e,h.prototype);t.loadLocale(f)};t.loadLocale=function(i){for(var f=t.locales,r=0,u=f.length;r<u;r++)n.fn["Locale_"+f[r]](i)};n.extend(t.widget,function(){var n={},i=[],r=function(i,r,u){t.isNullOrUndefined(n[i])||o("ej.widget : The widget named "+i+" is trying to register twice.");n[i]={name:i,className:r,proto:u};t.widget.extensions&&t.widget.extensions.registerWidget(i)},u=function(n,t,r,u){i.push({element:n,pluginName:t,className:r,proto:u})};return{register:r,registerInstance:u,registeredWidgets:n,registeredInstances:i}}());t.widget.destroyAll=function(n){var u,r,t,i;if(n&&n.length)for(u=0;u<n.length;u++)if(r=n.eq(u).data(),t=r.ejWidgets,t&&t.length)for(i=0;i<t.length;i++)r[t[i]]&&r[t[i]].destroy&&r[t[i]].destroy()};t.cookie={get:function(n){var t=RegExp(n+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(n,t,i){typeof t=="object"&&(t=JSON.stringify(t));t=escape(t)+(i==null?"":"; expires="+i.toUTCString());document.cookie=n+"="+t}};u={getActionFromCode:function(n,t,i,r,f){var s,o,e;i=i||!1;r=r||!1;f=f||!1;for(s in n)if(s!=="focus")for(o=u.getKeyObject(n[s]),e=0;e<o.length;e++)if(t===o[e].code&&i==o[e].isCtrl&&r==o[e].isShift&&f==o[e].isAlt)return s;return null},getKeyObject:function(t){for(var f,o,e,s={isCtrl:!1,isShift:!1,isAlt:!1},c=n.extend(!0,{},s),r=t.split(","),h=[],i=0;i<r.length;i++){if(f=null,r[i].indexOf("+")!=-1)for(o=r[i].split("+"),e=0;e<o.length;e++)f=u.getResult(n.trim(o[e]),s);else f=u.getResult(n.trim(r[i]),n.extend(!0,{},c));h.push(f)}return h},getResult:function(n,t){return n==="ctrl"?t.isCtrl=!0:n==="shift"?t.isShift=!0:n==="alt"?t.isAlt=!0:t.code=parseInt(n,10),t}};t.getScrollableParents=function(t){return n(t).parentsUntil("html").filter(function(){return n(this).css("overflow")!="visible"}).add(n(window))};t.browserInfo=function(){var i={},r=[],e={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},o,s,f,u;for(o in e)if(e.hasOwnProperty(o)&&(r=navigator.userAgent.match(e[o]),r)){if(i.name=r[1].toLowerCase()=="opr"?"opera":r[1].toLowerCase(),i.version=r[2],i.culture={},i.culture.name=i.culture.language=navigator.language||navigator.userLanguage,typeof t.globalize!="undefined"){for(s=t.preferredCulture().name,f=navigator.language||navigator.userLanguage?t.preferredCulture(navigator.language||navigator.userLanguage):t.preferredCulture("en-US"),u=0;navigator.languages&&u<navigator.languages.length;u++)if(f=t.preferredCulture(navigator.languages[u]),f.language==navigator.languages[u])break;t.preferredCulture(s);n.extend(!0,i.culture,f)}!navigator.userAgent.match(/Trident\/7\./)||(i.name="msie");break}return i.isMSPointerEnabled=i.name=="msie"&&i.version>9&&window.navigator.msPointerEnabled,i.pointerEnabled=window.navigator.pointerEnabled,i};t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"};t.event=function(t,i,r){return n.extend(r||{},{type:t,model:i,cancel:!1})};t.proxy=function(n,t,i){return!n||typeof n!="function"?null:"on"in n&&t?i?n.on(t,i):n.on(t):function(){var r=i?[i]:[];return r.push.apply(r,arguments),n.apply(t||this,r)}};t.hasStyle=function(n){var r=document.documentElement.style,i,t;if(n in r)return!0;for(i=["ms","Moz","Webkit","O","Khtml"],n=n[0].toUpperCase()+n.slice(1),t=0;t<i.length;t++)if(i[t]+n in r)return!0;return!1};Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1};String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n};var r=t.copyObject=function(n,u){var h=2,c,f,s,o,e,l;for(typeof n!="boolean"&&(h=1),s=[].slice.call(arguments,h),h===1&&(u=n,n=i),o=0;o<s.length;o++)for(e in s[o])if(c=u[e],f=s[o][e],f!==i&&c!==f&&s[o]!==f&&u!==f)if(f instanceof Array)if(o===0&&n)if(e==="dataSource"||e==="data"||e==="predicates")u[e]=f.slice();else for(u[e]=[],l=0;l<f.length;l++)r(!0,u[e],f);else u[e]=f.slice();else t.isPlainObject(f)?(u[e]=c||{},n?r(n,u[e],f):r(u[e],f)):u[e]=f;return u},s=function(){return this},h=0,c=function(n){return n+h++};t.template={};t.template.render=t.template["text/x-jsrender"]=function(t,i,r,u,f){i.slice(0,1)!=="#"&&(i=["<div>",i,"<\/div>"].join(""));var e={prop:f,index:u};return n(i).render(r,e)};t.isPlainObject=function(n){if(!n||t.DataManager!==i&&n instanceof t.DataManager||typeof n!="object"||n.nodeType||jQuery.isWindow(n))return!1;try{if(n.constructor&&!n.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(f){return!1}var r,u=t.support.isOwnLast;for(r in n)if(u)break;return r===i||n.hasOwnProperty(r)};f=!1;t.util.valueFunction=function(n){return function(r,u){var e=t.getObject(n,this.model);if(f===!1&&(f=t.getObject("observables.getValue",t.widget)),r===i)return t.isNullOrUndefined(f)?typeof e=="function"?e.call(this):e:f(e,u);typeof e=="function"?(this["ob.values"][n]=r,e.call(this,r)):t.createObject(n,r,this.model)}};t.util.getVal=function(n){return typeof n=="function"?n():n};t.support={isOwnLast:function(){var n=function(){this.a=1},t;n.prototype.b=1;for(t in new n)return t==="b"}(),outerHTML:function(){return document.createElement("div").outerHTML!==i}()};o=t.throwError=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}};t.getRandomValue=function(n,r){var u,f;return n===i||r===i?t.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(f=new Uint16Array(1),window.crypto.getRandomValues(f),u=f[0]%(r-n)+n):u=Math.random()*(r-n)+n,u|0)};t.extensions={};t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(n){var t=$(this);$.each(n,function(n,i){i&&i.specified&&t.attr(i.name,i.value)})};$.fn.removeEleAttrs=function(n){return this.each(function(){var t=$(this),i=$(this.attributes).clone();$.each(i,function(i,r){r&&r.specified&&n.test(r.name)&&t.removeAttr(r.name)})})};$.fn.attrNotStartsWith=function(n){var u=this,r=[],i,t;for(this.each(function(){i=$(this.attributes).clone()}),t=0;t<i.length;t++)if(i[t]&&i[t].specified&&n.test(i[t].name))continue;else r.push(i[t]);return r};$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var n=$(this),t=$(this.attributes).clone();$.each(t,function(t,i){i&&i.specified&&i.value===""&&n.removeAttr(i.name)})})};$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:ej.userAgent()!==!1,pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles});$.extend($.expr[":"],{attrNotStartsWith:function(n,t,i){for(var u=n.attributes,r=0;r<u.length;r++)if(u[r].nodeName.indexOf(i[3])===0)return!1;return!0}});var n=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return n.apply(this,arguments)}}();ej.mobUtil={cssUA:ej.userAgent?"-"+ej.userAgent().toString().toLowerCase()+"-":"",transform:ej.addPrefix("transform"),transition:ej.addPrefix("transition"),transitionProperty:ej.addPrefix("transitionProperty"),transformStyle:ej.addPrefix("transformStyle"),transitionDuration:ej.addPrefix("transitionDuration"),transformOrigin:ej.addPrefix("transformOrigin"),transitionTimingFunction:ej.addPrefix("transitionTimingFunction"),transitionDelay:ej.addPrefix("transitionDelay"),ease:{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return Math.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*Math.pow(2,-10*n)*Math.sin((n-t/4)*2*Math.PI/t)+1}}},angular:{defaultAppName:$("[ng-app]").attr("ng-app"),compile:function(n){var t=angular.element(document.querySelector("[ng-app],[data-ng-app]")||document).injector();t.invoke(["$compile","$rootScope",function(t,i){var r=angular.element(n.closest(".ng-scope")||n).scope();(r||i)&&t(n)(r||i);(r||i).$$phase||(r||i).$digest()}])}},angularMobileSettings:{enableAnimation:!0,animationTime:300},isAppNullOrUndefined:function(){return typeof App=="undefined"},device:{isIOS:function(){return/(ipad|iphone|ipod touch)/i.test(navigator.userAgent.toLowerCase())&&!this.isWindows()},isIOS7:function(){return/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i.test(navigator.userAgent.toLowerCase())&&!this.isWindows()},isAndroid:function(){return/android/i.test(navigator.userAgent.toLowerCase())&&!this.isWindows()},isWindows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())},isFlat:function(){return ej.getBooleanVal($("head"),"data-ej-flat",!1)===!0}},isIOS:function(){if(!ej.getBooleanVal($("head"),"data-ej-windows")&&!ej.getBooleanVal($("head"),"data-ej-android")&&!ej.getBooleanVal($("head"),"data-ej-flat"))return this._ios()},isIOS7:function(){if(!ej.getBooleanVal($("head"),"data-ej-windows")&&!ej.getBooleanVal($("head"),"data-ej-android")&&!ej.getBooleanVal($("head"),"data-ej-flat"))return this._ios7()},isAndroid:function(){if(!ej.getBooleanVal($("head"),"data-ej-windows")&&!ej.getBooleanVal($("head"),"data-ej-ios")&&!ej.getBooleanVal($("head"),"data-ej-ios7")&&!ej.getBooleanVal($("head"),"data-ej-flat"))return this._android()},setTransition:function(){return ej.isAndroid()?"pop":ej.isWindows()?ej.isMobile()?"slide":"slide":"slide"},isLowerAndroid:function(){return/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)},getAndroidVersion:function(){return this._android()&&navigator.userAgent.toLowerCase().match(/android\s+([\d\.]+)/)?parseFloat(navigator.userAgent.toLowerCase().match(/android\s+([\d\.]+)/)[1]):!1},isWindows:function(){if(!ej.getBooleanVal($("head"),"data-ej-android")&&!ej.getBooleanVal($("head"),"data-ej-ios")&&!ej.getBooleanVal($("head"),"data-ej-ios7")&&!ej.getBooleanVal($("head"),"data-ej-flat"))return this._windows()},isFlat:function(){return ej.getBooleanVal($("head"),"data-ej-flat",!1)===!0},hasTheme:function(n){return n.hasClass("e-m-dark")||n.hasClass("e-m-light")||n.hasClass("e-m-default")},setTheme:function(n){n.model.renderMode=="windows"||ej.isMobile()||n.model.theme!="default"||(n.model.theme="auto");var t=ej.getAttrVal($("head"),"data-ej-theme","auto"),i=ej.getBooleanVal($("head"),"data-ej-windows-renderdefault",n.model.windows?n.model.windows.renderDefault:!1);n.model.windows&&(n.model.windows.renderDefault=i);n.model.theme=n.model.theme=="auto"?t=="auto"?n.model.renderMode=="ios7"||(n.model.renderMode=="android"||n.model.renderMode=="windows")&&!ej.isMobile()?"light":"dark":t:n.model.theme},getTheme:function(){return objTheme={model:{theme:"auto"}},this.setTheme(objTheme),objTheme.model.theme},hasRenderMode:function(n){return n.hasClass("e-m-ios7")||n.hasClass("e-m-android")||n.hasClass("e-m-windows")||n.hasClass("e-m-flat")},setRenderMode:function(n){n.model.renderMode=ej.getAttrVal(n.element,"data-ej-rendermode",n.model.renderMode);n.model.renderMode=="auto"&&(n.model.renderMode=ej.isAndroid()?"android":ej.isIOS()?"ios7":ej.isWindows()?"windows":ej.isFlat()?"flat":"ios7")},getRenderMode:function(){return this.isAndroid()?"android":this.isIOS()?"ios7":this.isWindows()?"windows":this.isFlat()?"flat":"ios7"},getCurrentPage:function(){return ej.isAppNullOrUndefined()?$("body"):App._renderingPage?App._renderingPage:App.activePage},browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},round:function(n,t,i){return t*(i?Math.ceil(n/t):Math.floor(n/t))},logBase:function(n,t){return Math.log(n)/Math.log(t)},correctRect:function(n,t,i,r){return{X:Math.min(n,i),Y:Math.min(t,r),Width:Math.abs(i-n),Height:Math.abs(r-t)}},measureText:function(n,t,i){var r=document.createElement("DIV"),u;return r.innerHTML=n,i!=null&&(r.style.font=i),r.style.backgroundColor="white",r.style.position="absolute",r.style.top=-100,r.style.left=0,t&&(r.style.maxwidth=t+"px"),document.body.appendChild(r),u={width:r.offsetWidth,height:r.offsetHeight},$(r).remove(),u},getTime:Date.now||(new Date).getTime(),getFontString:function(n){return n==null&&(n={}),n.FontFamily||(n.FontFamily="Arial"),n.FontStyle||(n.FontStyle=0),n.Size||(n.Size="12px"),ej.GetFontStyle(n.FontStyle)+" "+n.Size+" "+n.FontFamily},getFontStyle:function(n){switch(n){case 0:return"Regular";case 1:return"Bold";case 2:return"Italic";case 4:return"Underline";case 8:return"StrikeOut"}},hexFromRGB:function(n){var i=n.R,r=n.G,u=n.B,t=[i.toString(16),r.toString(16),u.toString(16)];return $.each(t,function(n,i){i.length===1&&(t[n]="0"+i)}),t.join("").toUpperCase()},adjustFixedElement:function(n){n.removeClass("e-m-adjheader e-m-adjfooter");var t=n.siblings(".e-m-navbar-top").length,i=n.siblings(".e-m-navbar-bottom").length;t&&n.addClass("e-m-adjheader-"+t);i&&n.addClass("e-m-adjfooter-"+i)},setCaretToPos:function(n,t,i){if(n.setSelectionRange&&n.type!="number")n.focus(),n.setSelectionRange(t,i);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0);r.moveStart("character",t);r.moveEnd("character",i);r.select()}},isCssCalc:function(){$("body").append('<div id="css3-calc" style=" width: 10px; width: calc(10px + 10px);display: none;"><\/div>');var n=$("#css3-calc").width();return $("#css3-calc").remove(),n==20?!0:!1},getLocation:function(n){var t=n?this.route.splitUrl(n):location,i=this.route.splitUrl(n||location.href).hash;return i=i==="#"?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},route:{urlSplitReg:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,splitUrl:function(n){if($.type(n)==="object")return n;var t=this.urlSplitReg.exec(n||"")||[];return{href:t[0]||"",protocol:t[4]||"",host:t[10]||"",pathname:t[13]||"",search:t[16]||"",hash:t[17]||""}}},resize:function(){$(window).bind("onorientationchange"in window?"orientationchange":"resize",function(n){(ej.getRenderMode()=="android"||ej.getRenderMode()=="ios7")&&$(document.activeElement).blur();ej._currentResolution!=ej.isLowerResolution()?(ej._currentResolution=ej.isLowerResolution(),$.extend(!0,n,{resolutionChanged:!0})):$.extend(!0,n,{resolutionChanged:!1});for(var t=0;t<ej.widget.registeredInstances.length;t++)$(ej.widget.registeredInstances[t].element).is(":visible")&&$.isFunction(ej.widget.registeredInstances[t].proto.resize)&&$(ej.widget.registeredInstances[t].element).data(ej.widget.registeredInstances[t].pluginName).resize(n);n.type=="orientationchange"&&window.setTimeout(function(){ej.getRenderMode()=="ios7"&&window.scrollTo(0,0)})})},initPage:function(){if(/(ipad|iphone|ipod touch);.*os 7_\d/i.test(navigator.userAgent.toLowerCase()))$(document).on("blur","input, select, textarea",function(){window.setTimeout(function(){document.activeElement.nodeName&&document.activeElement.nodeName.toLowerCase()!="input"&&window.scrollTo(0,0)})});$(window).bind("touchmove",function(n){$(n.target).closest(".e-m-scroll-native").length==0&&ej.isTouchDevice()&&ej.blockDefaultActions(n)})},_momentum:function(n,t,i,r,u){var o=.0006,e=Math.abs(n)/t,f=e*e/(2*o),h=0,s=0;return n>0&&f>i?(s=u/(6/(f/e*o)),i=i+s,e=e*i/f,f=i):n<0&&f>r&&(s=u/(6/(f/e*o)),r=r+s,e=e*r/f,f=r),f=f*(n<0?-1:1),h=e/o,{dist:f,time:Math.round(h)}},_nativeMomentum:function(n,t,i,r,u,f,e){var h=n-t,s=Math.abs(h)/i,o,c;return f=f==null?.0006:f,o=n+s*s/(2*(f/e))*(h<0?-1:1),c=s/f,o<r?(o=u?r-u/2.5*(s/8):r,h=Math.abs(o-n),c=h/s):o>0&&(o=u?u/2.5*(s/8):0,h=Math.abs(n)+o,c=h/s),{dest:Math.round(o),duration:c}},_setHidden:function(){var n=this;this.hidden.each(function(t){var r=n.tmp[t];for(var i in prop)this.style[i]=r[i]})},_removeHidden:function(n){var t=this;this.hidden=$(n).parents().andSelf().filter(":hidden");prop={visibility:"hidden",display:"block"};this.tmp=[];this.hidden.each(function(){var i={};for(var n in prop)i[n]=this.style[n],this.style[n]=prop[n];t.tmp.push(i)})},_transitionTime:function(n,t){n+="ms";t.style[ej.transitionDuration]=n},_slideOutWithoutDuration:function(n,t){ej._transitionTime(0,n);n.style[ej.transform]=t?"translateX(-100%)":"translateX(100%)"},_slideInWithoutDuration:function(n,t){ej._transitionTime(0,n);n.style[ej.transform]=t?"translateX(100%)":"translateX(-100%)"},_slideOutWithDuration:function(n,t){ej._transitionTime(300,n);n.style[ej.transform]=t?"translateX(-100%)":"translateX(100%)"},_slideInWithDuration:function(n,t){ej._transitionTime(100,n);n.style[ej.transform]=t?"translateX(100%)":"translateX(-100%)"},_slide:function(n){ej._transitionTime(100,n);n.style[ej.transform]="translateX(0)"},_device:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_ios:function(){return/(ipad|iphone|ipod touch)/i.test(navigator.userAgent.toLowerCase())&&!this._windows()||ej.getBooleanVal($("head"),"data-ej-ios7",!1)===!0},_ios7:function(){return/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i.test(navigator.userAgent.toLowerCase())&&!this._windows()||ej.getBooleanVal($("head"),"data-ej-ios7",!1)===!0},_android:function(){return/android/i.test(navigator.userAgent.toLowerCase())&&!this._windows()||ej.getBooleanVal($("head"),"data-ej-android",!1)===!0},_windows:function(){return/trident|windows phone|edge/i.test(navigator.userAgent.toLowerCase())||ej.getBooleanVal($("head"),"data-ej-windows",!1)===!0},_getFontString:function(n,t){return n.model.fontStyle[t.FontStyle]+" "+(t.Size==null?"11px":t.Size)+" "+t.FontFamily},_setScroller:function(n){n._wrpWd=n.element[0].clientWidth;n._scrollerWidth=n.element[0].scrollWidth;n._maxScrollX=n._wrpWd-n._scrollerWidth},_inputTouchStart:function(n,t){var i=n.touches?n.touches[0]:n;t._moved=!1;t._distX=0;t._x=t._x==undefined?t.element[0].scrollLeft:t._x;t._cloned=!1;t._startX=0;t._pointX=i.pageX;t._startTime=ej.getTime()},_inputTouchMove:function(n,t){var u=n.touches?n.touches[0]:n,i=u.pageX-t._pointX,r,f;(i>0&&(t._reverse=!0),t.element[0].scrollLeft==0&&i>0||i>0&&t.element[0].scrollLeft<i||i<0&&t.element[0].scrollLeftMax<=t.element[0].scrollLeft)||(i>0&&t.element[0].scrollLeft+i>t.element[0].scrollLeftMax&&(t._x<0&&(t._x=-t._x),i=-i),r=t._x+i,f=ej.getTime(),t._distX+=i,ej._translateText(t.element,r))},_inputTouchEnd:function(n,t){var r=n.touches?n.changedTouches[0]:n,i=r.pageX-t._pointX,u=i,f=ej.getTime();t._distX+=i;ej._translateText(t.element,t.element[0].scrollLeft);t._x=-t.element[0].scrollLeft},_translateText:function(n,t){n[0].scrollLeft=Math.abs(t)},_setGradientColor:function(n,t,i){var r=n;i.Name||typeof i=="string"?t.addColorStop(0,ej._getColor(i)):$.each(i,function(n,i){t.addColorStop(i.ColorStop!=NaN?i.ColorStop:0,typeof i.Color=="string"?i.Color:ej._getColor(i.Color))})},_pushValue:function(n,t,r){var u=[],r;for(i=0;i<r;i++)u[i]=n[i];for(u[r]=t,r=u.length,i=r;i<=n.length;i++)u[i]=n[i-1];return u}};$.extend(ej,ej.mobUtil);ej.mobile={};ej.mobile.enableRippleEffect=!0;ej.mobile.WaitingPopup={_init:function(n){this.model={text:"Loading...",target:$("body"),showOnInit:!1};$.extend(!0,this.model,n);this.createWaitingPopup()},createWaitingPopup:function(){if(!this.waitingPopupDiv){var n=ej.isMobile()?"mobile":"tablet";this.waitingPopupDiv=ej.buildTag("div.e-m-waitingpopup e-m-"+ej.getRenderMode()+" e-m-"+n,"<div class='e-m-image' style='top: "+(ej.isCssCalc()?"":window.innerHeight/2-16)+"px'><\/div>");this.waitingPopupDiv.find(".e-m-image").text(this.model.text);this.model.target.append(this.waitingPopupDiv);this.model.showOnInit||this.hide()}},setText:function(n){this.model.text=n;this.waitingPopupDiv.find(".e-m-image").text(n)},changeTarget:function(n){this.model.target=n;this.model.target.append(this.waitingPopupDiv)},show:function(){this.model.showOnInit=!0;this.waitingPopupDiv.addClass("e-m-show").removeClass("e-m-hide")},hide:function(){this.model.showOnInit=!1;this.waitingPopupDiv.removeClass("e-m-show").addClass("e-m-hide")}};$(function(){ej.initPage();ej._currentResolution=ej.isLowerResolution();ej.mobile.WaitingPopup._init();ej.mobile.enableRippleEffect&&!ej.isNullOrUndefined(window.ejAnimation)&&$("body").ejAnimation("rippleEffect");ej.resize()});ej.mobile.RenderMode={Auto:"auto",IOS7:"ios7",Android:"android",Windows:"windows"};ej.mobile.Theme={Auto:"auto",Dark:"dark",Light:"light"};window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i,r){"use strict";var e,nt,tt,y,d,w,h,c,f;t.DataManager=function(i,u,f){if(!(this instanceof t.DataManager))return new t.DataManager(i,u,f);i||(i=[]);f=f||i.adaptor;typeof f=="string"&&(f=new t[f]);var e=[],o=this;return i instanceof Array?e={json:i,offline:!0}:typeof i=="object"?n.isPlainObject(i)?(i.json||(i.json=[]),i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),e={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,async:i.async,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,antiForgery:i.antiForgery,jsonp:i.jsonp,dataType:i.dataType,enableAjaxCache:i.enableAjaxCache,offline:i.offline!==r?i.offline:i.adaptor=="remoteSaveAdaptor"||i.adaptor instanceof t.remoteSaveAdaptor?!1:i.url?!1:!0,requiresFormat:i.requiresFormat}):(i.jquery||pt(i))&&(e={json:this._getJsonFromElement(i),offline:!0,table:i}):typeof i=="string"&&(e={url:i,offline:!1,dataType:"json",json:[]}),e.requiresFormat!==r||t.support.cors||(e.requiresFormat=c(e.crossDomain)?!0:e.crossDomain),e.antiForgery&&this.antiForgeryToken(),e.dataType===r&&(e.dataType="json"),this.dataSource=e,this.defaultQuery=u,e.url&&e.offline&&!e.json.length?(this.isDataAvailable=!1,this.adaptor=f||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(u||t.Query()).done(function(n){o.dataSource.offline=!0;o.isDataAvailable=!0;e.json=n.result;o.adaptor=new t.JsonAdaptor})):this.adaptor=e.offline?new t.JsonAdaptor:new t.ODataAdaptor,!e.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(e.jsonp="callback"),this.adaptor=f||this.adaptor,e.enableCaching&&(this.adaptor=new t.CacheAdaptor(this.adaptor,e.timeTillExpiration,e.cachingPageSize)),this};t.DataManager.prototype={setDefaultQuery:function(n){this.defaultQuery=n},executeQuery:function(i,u,e,o){var s,h,c;return typeof i=="function"&&(o=e,e=u,u=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||f("DataManager - executeQuery() : A query is required to execute"),s=n.Deferred(),s.then(u,e,o),h={query:i},this.dataSource.offline||this.dataSource.url==r?t.isNullOrUndefined(this.dataSource.async)||this.dataSource.async!=!1?d(function(){this._localQueryProcess(i,h,s)},this):this._localQueryProcess(i,h,s):(c=this.adaptor.processQuery(this,i),t.isNullOrUndefined(c.url)?d(function(){h=this._getDeferedArgs(i,c,h);s.resolveWith(this,[h])},this):this._makeRequest(c,s,h,i)),s.promise()},_localQueryProcess:function(n,t,i){var r=this.executeLocal(n);t=this._getDeferedArgs(n,r,t);i.resolveWith(this,[t])},_getDeferedArgs:function(n,t,i){return n._requiresCount?(i.result=t.result,i.count=t.count):i.result=t,i.getTableModel=rt(n._fromTable,i.result,this),i.getKnockoutModel=ut(i.result),i},executeLocal:function(i){var e,r;if(this.defaultQuery||i instanceof t.Query||f("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||f("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,e=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,s=i._subQuery._lookup,u=i._requiresCount?e.result:e;for(s&&s instanceof Array&&k(i._subQuery._fKey,o,u,s,i._subQuery._key),r=0;r<u.length;r++)u[r][o]instanceof Array&&(u[r]=n.extend({},u[r]),u[r][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(u[r][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(e,this,i)},_makeRequest:function(i,r,u,f){var o=!!f._subQuerySelector,c=h(function(n){u.error=n;r.rejectWith(this,[u])},this),l=h(function(n,t,i,e,s,h,c){o||(u.xhr=i,u.count=parseInt(t,10),u.result=n,u.request=e,u.aggregates=h,u.getTableModel=rt(f._fromTable,n,this),u.getKnockoutModel=ut(n),u.actual=s,u.virtualSelectRecords=c,r.resolveWith(this,[u]))},this),a=h(function(t,i){var r=n.Deferred(),h={parent:u},e,s;return f._subQuery._isChild=!0,e=this.adaptor.processQuery(this,f._subQuery,t?this.adaptor.processResponse(t):i),s=this._makeRequest(e,r,h,f._subQuery),o||r.then(function(n){t&&(k(f._subQuery._fKey,f._subQuery._fromTable,t,n,f._subQuery._key),l(t))},c),s},this),v=w(function(n,i,r,u){r.getResponseHeader("Content-Type").indexOf("xml")==-1&&t.dateParse&&(n=t.parseJSON(n));var e=this.adaptor.processResponse(n,this,f,r,u),s=0,h=null,c=n.virtualSelectRecords;if(f._requiresCount&&(s=e.count,h=e.aggregates,e=e.result),!f._subQuery){l(e,s,r,u,n,h,c);return}o||a(e)},this),e=n.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:t.isNullOrUndefined(this.dataSource.enableAjaxCache)?!0:this.dataSource.enableAjaxCache,beforeSend:h(this._beforeSend,this),processData:!1,success:v,error:c},i),s;return"async"in this.dataSource&&(e.async=this.dataSource.async),e=n.ajax(e),o&&(s=f._subQuerySelector.call(this,{query:f._subQuery,parent:f}),s&&s.length?(e=n.when(e,a(null,s)),e.then(w(function(n,t,i){var r=this.adaptor.processResponse(n[0],this,f,n[2],i[0]),e=0,u;f._requiresCount&&(e=r.count,r=r.result);u=this.adaptor.processResponse(t[0],this,f._subQuery,t[2],i[1]);e=0;f._subQuery._requiresCount&&(e=u.count,u=u.result);k(f._subQuery._fKey,f._subQuery._fromTable,r,u,f._subQuery._key);o=!1;l(r,e,n[2])},this),c)):o=!1),e},_beforeSend:function(n,t){var i,f,r,u;for(this.adaptor.beforeSend(this,n,t),i=this.dataSource.headers,r=0;i&&r<i.length;r++){f=[];for(u in i[r])f.push(u),n.setRequestHeader(u,i[r][u])}},saveChanges:function(i,r,u,f){var s,o,e;return(u instanceof t.Query&&(f=u,u=null),s={url:u,key:r||this.dataSource.key},o=this.adaptor.batchRequest(this,i,s,f),this.dataSource.offline)?o:(e=n.Deferred(),n.ajax(n.extend({beforeSend:h(this._beforeSend,this),success:w(function(n,t,u,f){e.resolveWith(this,[this.adaptor.processResponse(n,this,null,u,f,i,r)])},this),error:function(n){e.rejectWith(this,[{error:n}])}},o)),e.promise())},insert:function(i,r,f){var o,e;return(i=u.replacer(i,!0),r instanceof t.Query&&(f=r,r=null),o=this.adaptor.insert(this,i,r,f),this.dataSource.offline)?o:(e=n.Deferred(),n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:h(this._beforeSend,this),success:w(function(n,i,r,f){try{t.isNullOrUndefined(n)?n=[]:u.parseJson(n)}catch(o){n=[]}n=this.adaptor.processResponse(u.parseJson(n),this,null,r,f);e.resolveWith(this,[{record:n,dataManager:this}])},this),error:function(n){e.rejectWith(this,[{error:n,dataManager:this}])}},o)),e.promise())},antiForgeryToken:function(){var i;return t.isNullOrUndefined(n("input[name='_ejRequestVerifyToken']").val())?i=t.buildTag("input","","",{type:"hidden",name:"_ejRequestVerifyToken",value:t.getGuid()}).appendTo("body"):n("input[name='_ejRequestVerifyToken']").val(t.getGuid()),t.cookie.set("_ejRequestVerifyToken",n("input[name='_ejRequestVerifyToken']").val()),{name:"_ejRequestVerifyToken",value:n("input[name='_ejRequestVerifyToken']").val()}},remove:function(i,r,f,e){var s,o;return(typeof r=="object"&&(r=r[i]),f instanceof t.Query&&(e=f,f=null),s=this.adaptor.remove(this,i,r,f,e),this.dataSource.offline)?s:(o=n.Deferred(),n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:w(function(n,i,r,f){try{t.isNullOrUndefined(n)?n=[]:u.parseJson(n)}catch(e){n=[]}n=this.adaptor.processResponse(u.parseJson(n),this,null,r,f);o.resolveWith(this,[{record:n,dataManager:this}])},this),error:function(n){o.rejectWith(this,[{error:n,dataManager:this}])}},s)),o.promise())},update:function(i,r,f,e){var s,o;return(r=u.replacer(r,!0),f instanceof t.Query&&(e=f,f=null),s=this.adaptor.update(this,i,r,f,e),this.dataSource.offline)?s:(o=n.Deferred(),n.ajax(n.extend({contentType:"application/json; charset=utf-8",beforeSend:h(this._beforeSend,this),success:w(function(n,i,r,f){try{t.isNullOrUndefined(n)?n=[]:u.parseJson(n)}catch(e){n=[]}n=this.adaptor.processResponse(u.parseJson(n),this,null,r,f);o.resolveWith(this,[{record:n,dataManager:this}])},this),error:function(n){o.rejectWith(this,[{error:n,dataManager:this}])}},s)),o.promise())},_getJsonFromElement:function(i){typeof i=="string"&&(i=n(n(i).html()));i=i.jquery?i[0]:i;var r=i.tagName.toLowerCase();return r!=="table"&&f("ej.DataManager : Unsupported htmlElement : "+r),t.parseTable(i)}};var k=function(n,i,r,u,e){var o,s={},c,h;for(u.result&&(u=u.result),u.GROUPGUID&&f("ej.DataManager: Do not have support Grouping in hierarchy"),o=0;o<u.length;o++)h=t.getObject(n,u[o]),c=s[h]||(s[h]=[]),c.push(u[o]);for(o=0;o<r.length;o++)r[o][i]=s[t.getObject(e||n,r[o])]},l={accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},u={parseJson:function(n){var t=typeof n;return t==="string"?n=JSON.parse(n,u.jsonReviver):n instanceof Array?u.iterateAndReviveArray(n):t==="object"&&u.iterateAndReviveJson(n),n},iterateAndReviveArray:function(n){for(var t=0;t<n.length;t++)typeof n[t]=="object"?u.iterateAndReviveJson(n[t]):n[t]=typeof n[t]!="string"||/^[\s]*\[|^[\s]*\{|\"/g.test(n[t])?u.parseJson(n[t]):u.jsonReviver("",n[t])},iterateAndReviveJson:function(n){var t;for(var i in n)i.startsWith("__")||(t=n[i],typeof t=="object"?t instanceof Array?u.iterateAndReviveArray(t):u.iterateAndReviveJson(t):n[i]=u.jsonReviver(i,t))},jsonReviver:function(n,i){var o=i,e=/[\-,/,\,.,:,]+/,f,r;if(typeof i=="string"){if(f=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i),f)return t.parseDateInUTC?u.isValidDate(f[0]):u.replacer(new Date(parseInt(f[1])));(t.dateParse?/^(?:(\d{4}\-\d\d\-\d\d)|(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?)$/.test(i):/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i))&&(r=o.split(/[^0-9]/),/^(\d{4}\-\d\d\-\d\d)$/.test(i)?i=new Date(r[t.dateFormat.split(e).indexOf("yyyy")],r[t.dateFormat.split(e).indexOf("MM")]-1,r[t.dateFormat.split(e).indexOf("dd")]):(i=t.parseDateInUTC?u.isValidDate(i):u.replacer(new Date(i)),isNaN(i)&&(i=u.replacer(new Date(r[0],r[1]-1,r[2],r[3],r[4],r[5])))))}return i},isValidDate:function(n){var t=n,i;return(typeof t=="string"&&t.indexOf("/Date(")==0&&(n=t.replace(/\d+/,function(n){var t=new Date(parseInt(n)).getTimezoneOffset()*6e4,i=parseInt(n)+t;return u.replacer(new Date(parseInt(i)))})),typeof n=="string")?(n=n.replace("/Date(",function(){return""}),n=n.replace(")/",function(){return""}),i=new Date(n)instanceof Date,i?new Date(n):n):n},isJson:function(n){return typeof n[0]=="string"?n:t.parseJSON(n)},isGuid:function(n){var t=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(n);return t!=null},replacer:function(n,i){return t.isPlainObject(n)?u.jsonReplacer(n,i):n instanceof Array?u.arrayReplacer(n):n instanceof Date?u.jsonReplacer({val:n},i).val:n},jsonReplacer:function(n,i){var r,u,f;for(u in n)(r=n[u],r instanceof Date)&&(f=t.serverTimezoneOffset*36e5*(t.isNullOrUndefined(i)||i===!1?1:-1),n[u]=new Date(+r+f));return n},arrayReplacer:function(n){for(var i=0;i<n.length;i++)t.isPlainObject(n[i])?n[i]=u.jsonReplacer(n[i]):n[i]instanceof Date&&(n[i]=u.jsonReplacer({date:n[i]}).date);return n}};t.isJSON=u.isJson;t.parseJSON=u.parseJson;t.dateParse=!0;t.dateFormat="yyyy-MM-dd";t.isGUID=u.isGuid;t.Query=function(n){return(this instanceof t.Query)?(this.queries=[],this._key="",this._fKey="",typeof n=="string"?this._fromTable=n||"":n&&n instanceof Array&&(this._lookup=n),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(n)};t.Query.prototype={key:function(n){return typeof n=="string"&&(this._key=n),this},using:function(n){return n instanceof t.DataManager?(this.dataManagar=n,this):f("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(n,i,r,u){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeQuery(this,i,r,u):f("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(n){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeLocal(this):f("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var n=new t.Query;return n.queries=this.queries.slice(0),n._key=this._key,n._isChild=this._isChild,n.dataManagar=this.dataManager,n._fromTable=this._fromTable,n._params=this._params.slice(0),n._expands=this._expands.slice(0),n._sortedColumns=this._sortedColumns.slice(0),n._groupedColumns=this._groupedColumns.slice(0),n._subQuerySelector=this._subQuerySelector,n._subQuery=this._subQuery,n._fKey=this._fKey,n._requiresCount=this._requiresCount,n},from:function(n){return typeof n=="string"&&(this._fromTable=n),this},addParams:function(n,i){return typeof i=="function"||t.isPlainObject(i)?typeof i=="function"&&this._params.push({key:n,fn:i}):this._params.push({key:n,value:i}),this},expand:function(n){return this._expands=typeof n=="string"?[].slice.call(arguments,0):n.slice(0),this},where:function(n,i,r,u,e){i=(i||t.FilterOperators.equal).toLowerCase();var o=null;return typeof n=="string"?o=new t.Predicate(n,i,r,u,e):n instanceof t.Predicate?o=n:f("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:o}),this},search:function(n,i,r,u,f){i&&typeof i!="boolean"?typeof i=="string"&&(i=[i]):(i=[],u=i);typeof r=="boolean"&&(u=r,r=null);r=r||t.FilterOperators.contains;r.length<3&&(r=t.data.operatorSymbols[r]);var e=t.data.fnOperators[r]||t.data.fnOperators.processSymbols(r);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:r,searchKey:n,ignoreCase:u,ignoreAccent:f,comparer:e}}),this},sortBy:function(n,i,r){var o=t.sortOrder.Ascending,s,f,u,e;if(typeof n=="string"&&n.toLowerCase().endsWith(" desc")&&(n=n.replace(/ desc$/i,""),i=t.sortOrder.Descending),n instanceof Array){for(u=0;u<n.length;u++)this.sortBy(n[u],i,r);return this}if(typeof i=="boolean"?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:typeof i=="function"&&(o="custom"),i&&typeof i!="string"||(o=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),r)for(s=a(this.queries,"onSortBy"),u=0;u<s.length;u++)if(f=s[u].e.fieldName,typeof f=="string"){if(f===n)return this}else if(f instanceof Array)for(e=0;e<f.length;e++)if(f[e]===n||n.toLowerCase()===f[e]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:n,comparer:i,direction:o}}),this},sortByDesc:function(n){return this.sortBy(n,t.sortOrder.Descending)},group:function(n,t){return this.sortBy(n,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:n,fn:t}}),this},page:function(n,t){return this.queries.push({fn:"onPage",e:{pageIndex:n,pageSize:t}}),this},range:function(n,t){return(typeof n!="number"||typeof t!="number")&&f("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:n,end:t}}),this},take:function(n){return typeof n!="number"&&f("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:n}}),this},skip:function(n){return typeof n!="number"&&f("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:n}}),this},select:function(n){return typeof n=="string"&&(n=[].slice.call(arguments,0)),n instanceof Array||f("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:n}}),this},hierarchy:function(n,i){return n&&n instanceof t.Query||f("Query() - hierarchy : query must be instance of ej.Query"),typeof i=="function"&&(this._subQuerySelector=i),this._subQuery=n,this},foreignKey:function(n){return typeof n=="string"&&(this._fKey=n),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(n,t){this.queries.push({fn:"onAggregates",e:{field:t,type:n}})}};t.Adaptor=function(n){this.dataSource=n;this.pvt={};this.init.apply(this,[].slice.call(arguments,1))};t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",antiForgery:"antiForgery"},init:function(){},extend:function(t){var i=function(t){this.dataSource=t;this.options&&(this.options=n.extend({},this.options));this.init.apply(this,[].slice.call(arguments,0));this.pvt={}},u,r;i.prototype=new this.type;i.prototype.type=i;u=i.prototype.base={};for(r in t)i.prototype[r]&&(u[r]=i.prototype[r]);return n.extend(!0,i.prototype,t),i},processQuery:function(){},processResponse:function(n){return n.d?n.d:n},convertToQueryString:function(t){return n.param(t)},type:t.Adaptor};t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(n,t,i){var w=a(t.queries,"onSortBy"),d=a(t.queries,"onGroup"),nt=a(t.queries,"onWhere"),tt=a(t.queries,"onSearch"),it=a(t.queries,"onAggregates"),l=g(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),rt=t._params,b=n.dataSource.url,u,y,p=null,h=this.options,s={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]},f,r,v,k;for(l.onPage?(u=l.onPage,y=e(u.pageIndex,t),p=e(u.pageSize,t),y=(y-1)*p):l.onRange&&(u=l.onRange,y=u.start,p=u.end-u.start),f=0;f<w.length;f++)u=e(w[f].e.fieldName,t),s.sorted.push(o(this,"onEachSort",{name:u,direction:w[f].e.direction},t));for(i&&(u=this.getFiltersFrom(i,t),u&&s.filters.push(o(this,"onEachWhere",u.toJSON(),t))),f=0;f<nt.length;f++){s.filters.push(o(this,"onEachWhere",nt[f].e.toJSON(),t));for(v in s.filters[f])c(s[v])&&delete s[v]}for(f=0;f<tt.length;f++)u=tt[f].e,s.searches.push(o(this,"onEachSearch",{fields:u.fieldNames,operator:u.operator,key:u.searchKey,ignoreCase:u.ignoreCase},t));for(f=0;f<d.length;f++)s.grouped.push(e(d[f].e.fieldName,t));for(f=0;f<it.length;f++)u=it[f].e,s.aggregates.push({type:u.type,field:e(u.field,t)});r={};r[h.from]=t._fromTable;h.expand&&(r[h.expand]=t._expands);r[h.select]=l.onSelect?o(this,"onSelect",e(l.onSelect.fieldNames,t),t):"";r[h.count]=t._requiresCount?o(this,"onCount",t._requiresCount,t):"";r[h.search]=s.searches.length?o(this,"onSearch",s.searches,t):"";r[h.skip]=l.onSkip?o(this,"onSkip",e(l.onSkip.nos,t),t):"";r[h.take]=l.onTake?o(this,"onTake",e(l.onTake.nos,t),t):"";r[h.antiForgery]=n.dataSource.antiForgery?n.antiForgeryToken().value:"";r[h.where]=s.filters.length||s.searches.length?o(this,"onWhere",s.filters,t):"";r[h.sortBy]=s.sorted.length?o(this,"onSortBy",s.sorted,t):"";r[h.group]=s.grouped.length?o(this,"onGroup",s.grouped,t):"";r[h.aggregates]=s.aggregates.length?o(this,"onAggregates",s.aggregates,t):"";r.param=[];o(this,"addParams",{dm:n,query:t,params:rt,reqParams:r});for(v in r)(c(r[v])||r[v]===""||r[v].length===0||v==="params")&&delete r[v];return(h.skip in r&&h.take in r||p===null||(r[h.skip]=o(this,"onSkip",y,t),r[h.take]=o(this,"onTake",p,t)),k=this.pvt,this.pvt={},this.options.requestType==="json")?{data:JSON.stringify(r),url:b,ejPvtData:k,type:"POST",contentType:"application/json; charset=utf-8"}:(u=this.convertToQueryString(r,t,n),u=(n.dataSource.url.indexOf("?")!==-1?"&":"/")+u,{type:"GET",url:u.length?b.replace(/\/*$/,u):b,ejPvtData:k})},convertToQueryString:function(t,i,r){return r.dataSource.url&&r.dataSource.url.indexOf("?")!==-1?n.param(t):"?"+n.param(t)},processResponse:function(n,i,u,f,e,o){var c=e.ejPvtData||{},v=n.groupDs,y,a,h,s,d,w;if(f&&f.getResponseHeader("Content-Type")&&f.getResponseHeader("Content-Type").indexOf("xml")!=-1&&n.nodeType==9)return u._requiresCount?{result:[],count:0}:[];if(y=JSON.parse(e.data),y&&y.action==="batch"&&n.added)return o.added=n.added,o;if(n.d&&(n=n.d),c&&c.aggregates&&c.aggregates.length){var l=c.aggregates,h={},p,k={};for(("count"in n)&&(h.count=n.count),n.result&&(h.result=n.result),n.aggregate&&(n=n.aggregate),s=0;s<l.length;s++)p=t.aggregates[l[s].type],p&&(k[l[s].field+" - "+l[s].type]=p(n,l[s].field));h.aggregates=k;n=h}if(c&&c.groups&&c.groups.length){for(a=c.groups,h={},("count"in n)&&(h.count=n.count),n.aggregates&&(h.aggregates=n.aggregates),n.result&&(n=n.result),s=0;s<a.length;s++)d=null,w=b(a[s],u.queries),t.isNullOrUndefined(v)||(v=t.group(v,a[s],null,w)),n=t.group(n,a[s],c.aggregates,w,d,v);return h.count!=r?h.result=n:h=n,h}return n},onGroup:function(n){this.pvt.groups=n},onAggregates:function(n){this.pvt.aggregates=n},batchRequest:function(n,t,i,r){var u={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key,antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""};return r&&this.addParams({dm:n,query:r,params:r._params,reqParams:u}),{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.removeUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u)}},beforeSend:function(){},insert:function(n,t,i,r){var u={value:t,table:i,action:"insert",antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""};return r&&this.addParams({dm:n,query:r,params:r._params,reqParams:u}),{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify(u)}},remove:function(n,t,i,r,u){var f={key:i,keyColumn:t,table:r,action:"remove",antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""};return u&&this.addParams({dm:n,query:u,params:u._params,reqParams:f}),{type:"POST",url:n.dataSource.removeUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify(f)}},update:function(n,t,i,r,u){var f={value:i,action:"update",keyColumn:t,key:i[t],table:r,antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""};return u&&this.addParams({dm:n,query:u,params:u._params,reqParams:f}),{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify(f)}},getFiltersFrom:function(n,i){var r;n instanceof Array&&n.length||f("ej.SubQuery: Array of key values required");var u=i._fKey,e,o=u,h=i._key,s=[],c=typeof n[0]!="object";for(typeof n[0]!="object"&&(o=null),r=0;r<n.length;r++)e=c?n[r]:t.pvt.getObject(h||o,n[r]),s.push(new t.Predicate(u,"==",e));return t.Predicate.or(s)},addParams:function(n){var e=n.dm,u=n.query,o=n.params,i=n.reqParams,r,t;for(i.params={},r=0;t=o[r];r++)i[t.key]&&f("ej.Query: Custom Param is conflicting other request arguments"),i[t.key]=t.value,t.fn&&(i[t.key]=t.fn.call(u,t.key,u,e)),i.params[t.key]=i[t.key]}});t.WebMethodAdaptor=(new t.UrlAdaptor).extend({processQuery:function(n,i,r){var u=t.UrlAdaptor.prototype.processQuery(n,i,r),e=t.parseJSON(u.data),f={};return f.value=e,o(this,"addParams",{dm:n,query:i,params:i._params,reqParams:f}),{data:JSON.stringify(f),url:u.url,ejPvtData:u.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(n){var s=n.dm,o=n.query,h=n.params,i=n.reqParams,u,t,r,e;for(i.params={},u=0;t=h[u];u++)i[t.key]&&f("ej.Query: Custom Param is conflicting other request arguments"),r=t.key,e=t.value,t.fn&&(e=t.fn.call(o,t.key,o,s)),i[r]=e,i.params[r]=i[r]}});t.CacheAdaptor=(new t.UrlAdaptor).extend({init:function(n,i,r){var f,u;t.isNullOrUndefined(n)||(this.cacheAdaptor=n);this.pageSize=r;this.guidId=t.getGuid("cacheAdaptor");f={keys:[],results:[]};window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify(f));u=this.guidId;t.isNullOrUndefined(i)||setInterval(function(){for(var e,r=t.parseJSON(window.localStorage.getItem(u)),f=[],n=0;n<r.results.length;n++)r.results[n].timeStamp=new Date-new Date(r.results[n].timeStamp),new Date-new Date(r.results[n].timeStamp)>i&&f.push(n);for(e=f,n=0;n<f.length;n++)r.results.splice(f[n],1),r.keys.splice(f[n],1);window.localStorage.removeItem(u);window.localStorage.setItem(u,JSON.stringify(r))},i)},generateKey:function(n,t){var h=a(t.queries,"onSortBy"),c=a(t.queries,"onGroup"),o=a(t.queries,"onWhere"),l=a(t.queries,"onSearch"),v=a(t.queries,"onPage"),s=g(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),y=t._params,r=n,u,i,f,e;for(s.onPage&&(r+=s.onPage.pageIndex),h.forEach(function(n){r+=n.e.direction+n.e.fieldName}),c.forEach(function(n){r+=n.e.fieldName}),l.forEach(function(n){r+=n.e.searchKey}),u=0;u<o.length;u++)if(i=o[u],i.e.isComplex){for(f=t.clone(),f.queries=[],e=0;e<i.e.predicates.length;e++)f.queries.push({fn:"onWhere",e:i.e.predicates[e],filter:t.queries.filter});r+=i.e.condition+this.generateKey(n,f)}else r+=i.e.field+i.e.operator+i.e.value;return r},processQuery:function(n,i){var f=this.generateKey(n.dataSource.url,i),r,u;return(window.localStorage&&(r=t.parseJSON(window.localStorage.getItem(this.guidId))),u=r?r.results[r.keys.indexOf(f)]:null,u!=null&&!this._crudAction&&!this._insertAction)?u:(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0)))},processResponse:function(i,r,u,f,e,o){var h;if(this._insertAction||e&&this.cacheAdaptor.options.batch&&e.url.endsWith(this.cacheAdaptor.options.batch)&&e.type.toLowerCase()==="post")return this.cacheAdaptor.processResponse(i,r,u,f,e,o);var i=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0)),c=this.generateKey(r.dataSource.url,u),s={};for(window.localStorage&&(s=t.parseJSON(window.localStorage.getItem(this.guidId))),h=n.inArray(c,s.keys),h!=-1&&(s.results.splice(h,1),s.keys.splice(h,1)),s.results[s.keys.push(c)-1]={keys:c,result:i.result,timeStamp:new Date,count:i.count};s.results.length>this.pageSize;)s.results.splice(0,1),s.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(s)),i},update:function(n,t,i,r){return this._crudAction=!0,this.cacheAdaptor.update(n,t,i,r)},insert:function(n,t,i){return this._insertAction=!0,this.cacheAdaptor.insert(n,t,i)},remove:function(n,t,i,r){return this._crudAction=!0,this.cacheAdaptor.remove(n,t,i,r)},batchRequest:function(n,t,i){return this.cacheAdaptor.batchRequest(n,t,i)}});var a=function(n,t){return n.filter(function(n){return n.fn===t})||[]},g=function(n,t){for(var r=n.filter(function(n){return t.indexOf(n.fn)!==-1}),u={},i=0;i<r.length;i++)u[r[i].fn]||(u[r[i].fn]=r[i].e);return u},o=function(n,t,i,r){if(n[t]){var u=n[t](i,r);c(u)||(i=u)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(n,t){return n.isComplex?this.onComplexPredicate(n,t):this.onPredicate(n,t)},_typeStringQuery:function(n,i,r,u,f){r.indexOf("'")!=-1&&(r=r.replace(new RegExp(/'/g),"''"));return/[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(r)&&(r=encodeURIComponent(r)),r="'"+r+"'",i&&(u="cast("+u+", 'Edm.String')"),t.isGUID(r)&&(f="guid"),n.ignoreCase&&(f?u:u="tolower("+u+")",r=r.toLowerCase()),{val:r,guid:f,field:u}},onPredicate:function(n,i,r){var f="",o,l,e=n.value,v=typeof e,h=this._p(n.field),s,c,y,a;if(e instanceof Date&&(e="datetime'"+u.replacer(e).toJSON()+"'"),v==="string"&&(c=this._typeStringQuery(n,r,e,h,l),e=c.val,h=c.field,l=c.guid),o=t.data.odBiOperator[n.operator],n.anyCondition!=""&&o)return f+=e.table,f+="/"+n.anyCondition,f+="(d:d/",f+=h,f+=o,f+=e.value,f+")";if(n.operator=="in"||n.operator=="notin"){for(f+="(",s=0;s<e.length;s++)e[s]instanceof Date&&(e[s]="datetime'"+u.replacer(e[s]).toJSON()+"'"),typeof e[s]=="string"&&(c=this._typeStringQuery(n,r,e[s],h,l),e[s]=c.val,h=c.field,l=c.guid),f+=h,f+=o,f+=e[s],s!=e.length-1&&(f+=n.operator=="in"?" or ":" and ");return f+")"}return o?this.onOperation(f,o,h,e,l):(o=t.data.odUniOperator[n.operator],!o||v!=="string")?"":(o==="substringof"&&(y=e,e=h,h=y),f+=o+"(",f+=h+",",l&&(f+=l),f+=e+")",n.operator=="notcontains"&&(f+=" eq false"),n.anyCondition!=""&&o)?(a+=e.table,a+="/"+n.anyCondition,a+="(d:d/",f+=f,a+")"):f},onOperation:function(n,t,i,r,u){return n+=i,n+=t,u&&(n+=u),n+r},onComplexPredicate:function(n,t){for(var r=[],i=0;i<n.predicates.length;i++)r.push("("+this.onEachWhere(n.predicates[i],t)+")");return r.join(" "+n.condition+" ")},onWhere:function(n){return this.pvt.searches&&n.push(this.onEachWhere(this.pvt.searches,null,!0)),n.join(" and ")},onEachSearch:function(n){var r,i;for(n.fields.length===0&&f("Query() - Search : oData search requires list of field names to search"),r=this.pvt.searches||[],i=0;i<n.fields.length;i++)r.push(new t.Predicate(n.fields[i],n.operator,n.key,n.ignoreCase));this.pvt.searches=r},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(n){var i=[],t;if(n.name instanceof Array)for(t=0;t<n.name.length;t++)i.push(this._p(n.name[t]));else i.push(this._p(n.name)+(n.direction==="descending"?" desc":""));return i.join(",")},onSortBy:function(n){return n.reverse().join(",")},onGroup:function(n){return this.pvt.groups=n,""},onSelect:function(n){for(var t=0;t<n.length;t++)n[t]=this._p(n[t]);return n.join(",")},onAggregates:function(n){return this.pvt.aggregates=n,""},onCount:function(n){return n===!0?"allpages":""},beforeSend:function(n,t,i){i.url.endsWith(this.options.batch)&&i.type.toLowerCase()==="post"&&(t.setRequestHeader("Accept",l.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined"));n.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,r,f,e,o,s){var a,l,v,d,tt,g,it,k,h,ft;if(!t.isNullOrUndefined(i.d)&&(a=f&&f._requiresCount?i.d.results:i.d,!t.isNullOrUndefined(a)))for(h=0;h<a.length;h++)t.isNullOrUndefined(a[h].__metadata)||delete a[h].__metadata;if(l=o&&o.ejPvtData,e&&e.getResponseHeader("Content-Type")&&e.getResponseHeader("Content-Type").indexOf("xml")!=-1&&i.nodeType==9)return f._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&o.type.toLowerCase()==="post"){if(v=e.getResponseHeader("Content-Type"),v=v.substring(v.indexOf("=batchresponse")+1),i=i.split(v),i.length<2)return;for(i=i[1],g=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(g[0],""),it=g[1],i=i.split(it),h=i.length;h>-1;h--)/\bContent-ID:/i.test(i[h])&&/\bHTTP.+201/.test(i[h])&&(d=parseInt(/\bContent-ID: (\d+)/i.exec(i[h])[1]),s.added[d]&&(tt=u.parseJson(/^\{.+\}/m.exec(i[h])[0]),n.extend(s.added[d],this.processResponse(tt))));return s}var y=e&&e.getResponseHeader("DataServiceVersion"),w=null,rt={};if(y=y&&parseInt(y,10)||2,f&&f._requiresCount&&((i.__count||i["odata.count"])&&(w=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(w=i.__count||i["odata.count"])),y===3&&i.value&&(i=i.value),i.d&&(i=i.d),y<3&&i.results&&(i=i.results),l&&l.aggregates&&l.aggregates.length){var p=l.aggregates,nt,ut={};for(h=0;h<p.length;h++)nt=t.aggregates[p[h].type],nt&&(ut[p[h].field+" - "+p[h].type]=nt(i,p[h].field));rt=ut}if(l&&l.groups&&l.groups.length)for(k=l.groups,h=0;h<k.length;h++)ft=b(k[h],f.queries),i=t.group(i,k[h],l.aggregates,ft);return c(w)?i:{result:i,count:w,aggregates:rt}},convertToQueryString:function(n,t,i){var r=[],u=n.table||"",f;delete n.table;i.dataSource.requiresFormat&&(n.$format="json");for(f in n)r.push(f+"="+n[f]);return(r=r.join("&"),i.dataSource.url&&i.dataSource.url.indexOf("?")!==-1&&!u)?r:r.length?u+"?"+r:u||""},insert:function(n,t,i){return{url:n.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(n,i,r,u){return typeof r=="string"?{type:"DELETE",url:t.isGUID(r)?n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"("+r+")":n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"('"+r+"')"}:{type:"DELETE",url:n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"("+r+")"}},update:function(n,i,r,u){var f;return f=typeof r[i]=="string"?t.isGUID(r[i])?n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"("+r[i]+")":n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"('"+r[i]+"')":n.dataSource.url.replace(/\/*$/,u?"/"+u:"")+"("+r[i]+")",{type:"PUT",url:f,data:JSON.stringify(r),accept:this.options.accept}},batchRequest:function(n,i,r){var e=r.guid=t.getGuid(l.batchPre),o=n.dataSource.url.replace(/\/*$/,"/"+this.options.batch),f={url:r.url,key:r.key,cid:1,cSet:t.getGuid(l.changeSet)},u="--"+e+"\n";return u+="Content-Type: multipart/mixed; boundary="+f.cSet.replace("--","")+"\n",this.pvt.changeSet=0,u+=this.generateInsertRequest(i.added,f),u+=this.generateUpdateRequest(i.changed,f),u+=this.generateDeleteRequest(i.deleted,f),u+=f.cSet+"--\n",u+="--"+e+"--",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+e,data:u}},generateDeleteRequest:function(n,t){var i,u,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=l.changeSetContent+"\n\n",i+="DELETE ",u=typeof n[r][t.key]=="string"?"'"+n[r][t.key]+"'":n[r][t.key],i+=t.url+"("+u+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+l.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=l.batchChangeSetContentType+"\n";return i+"\n"},generateInsertRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=l.changeSetContent+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+l.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=l.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n";return i},generateUpdateRequest:function(n,t){var i,u,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=l.changeSetContent+"\n\n",i+="PUT ",u=typeof n[r][t.key]=="string"?"'"+n[r][t.key]+"'":n[r][t.key],i+=t.url+"("+u+") HTTP/1.1\n",i+="If-Match : * \n",i+="Accept: "+l.accept+"\n",i+="Content-Id: "+this.pvt.changeSet+++"\n",i+=l.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n\n";return i},_p:function(n){return n.replace(/\./g,"/")}});t.ODataV4Adaptor=(new t.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(n){return n===!0?"true":""},onPredicate:function(n,i,r){var u="",f=n.value,e=f instanceof Date;return t.data.odUniOperator.contains="contains",u=t.ODataAdaptor.prototype.onPredicate.call(this,n,i,r),t.data.odUniOperator.contains="substringof",e&&(u=u.replace(/datetime'(.*)'$/,"$1")),u},onOperation:function(n,t,i,r,u){return u?(n+="("+i,n+=t,n+=r.replace(/["']/g,"")+")"):(n+=i,n+=t,n+=r),n},onEachSearch:function(n){var t=this.pvt.search||[];t.push(n.key);this.pvt.search=t},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(n,i){for(var f,o,e=/\/[\d*\/]*/g,u="",r=i._expands.length-1;r>0;r--)if(u.indexOf(i._expands[r])>=0)i._expands.pop();else if(e.test(i._expands[r])){for(u=i._expands.pop(),f=u.replace(e,"($expand="),o=0;o<u.split(e).length-1;o++)f=f+")";i._expands.unshift(f);r++}return t.ODataAdaptor.prototype.processQuery.apply(this,[n,i])},processResponse:function(i,r,f,e,o,s){var l=o&&o.ejPvtData,a,w,nt,k,tt,y,d,p,h,rt;if(e&&e.getResponseHeader("Content-Type")&&e.getResponseHeader("Content-Type").indexOf("xml")!=-1&&i.nodeType==9)return f._requiresCount?{result:[],count:0}:[];if(o&&this.options.batch&&o.url.endsWith(this.options.batch)&&o.type.toLowerCase()==="post"){if(a=e.getResponseHeader("Content-Type"),a=a.substring(a.indexOf("=batchresponse")+1),i=i.split(a),i.length<2)return;for(i=i[1],k=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(k[0],""),tt=k[1],i=i.split(tt),h=i.length;h>-1;h--)/\bContent-ID:/i.test(i[h])&&/\bHTTP.+201/.test(i[h])&&(w=parseInt(/\bContent-ID: (\d+)/i.exec(i[h])[1]),s.added[w]&&(nt=u.parseJson(/^\{.+\}/m.exec(i[h])[0]),n.extend(s.added[w],this.processResponse(nt))));return s}if(y=null,d={},f&&f._requiresCount&&"@odata.count"in i&&(y=i["@odata.count"]),i=t.isNullOrUndefined(i.value)?i:i.value,l&&l.aggregates&&l.aggregates.length){var v=l.aggregates,g,it={};for(h=0;h<v.length;h++)g=t.aggregates[v[h].type],g&&(it[v[h].field+" - "+v[h].type]=g(i,v[h].field));d=it}if(l&&l.groups&&l.groups.length)for(p=l.groups,h=0;h<p.length;h++)rt=b(p[h],f.queries),i=t.group(i,p[h],l.aggregates,rt);return c(y)?i:{result:i,count:y,aggregates:d}}});t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(n,t){for(var u=n.dataSource.json.slice(0),o=u.length,s=!0,f,i,h={},e=0;e<t.queries.length;e++)i=t.queries[e],f=this[i.fn].call(this,u,i.e,t),i.fn=="onAggregates"?h[i.e.field+" - "+i.e.type]=f:u=f!==r?f:u,(i.fn==="onPage"||i.fn==="onSkip"||i.fn==="onTake"||i.fn==="onRange")&&(s=!1),s&&(o=u.length);return t._requiresCount&&(u={result:u,count:o,aggregates:h}),u},batchRequest:function(n,t,i){for(var r=0;r<t.added.length;r++)this.insert(n,t.added[r]);for(r=0;r<t.changed.length;r++)this.update(n,i.key,t.changed[r]);for(r=0;r<t.deleted.length;r++)this.remove(n,i.key,t.deleted[r]);return t},onWhere:function(n,t){return n?n.filter(function(n){return t.validate(n)}):n},onAggregates:function(n,i){var r=t.aggregates[i.type];return!n||!r||n.length==0?null:r(n,i.field)},onSearch:function(n,i){return!n||!n.length?n:(i.fieldNames.length===0&&t.pvt.getFieldList(n[0],i.fieldNames),n.filter(function(n){for(var r=0;r<i.fieldNames.length;r++)if(i.comparer.call(n,t.pvt.getObject(i.fieldNames[r],n),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1}))},onSortBy:function(n,i,r){var o,u,f;if(!n)return n;if(u=e(i.fieldName,r),!u)return n.sort(i.comparer);if(u instanceof Array){for(u=u.slice(0),f=u.length-1;f>=0;f--)u[f]&&(o=i.comparer,u[f].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),u[f]=u[f].replace(" desc","")),n=it(n,u[f],o,[]));return n}return it(n,u,i.comparer,r?r.queries:[])},onGroup:function(n,i,r){var u,o,s,f,h;if(!n)return n;if(u=a(r.queries,"onAggregates"),o=[],u.length)for(f=0;f<u.length;f++)s=u[f].e,o.push({type:s.type,field:e(s.field,r)});return h=b(i.fieldName,r.queries),t.group(n,e(i.fieldName,r),o,h)},onPage:function(n,t,i){var r=e(t.pageSize,i),u=(e(t.pageIndex,i)-1)*r,f=u+r;return n?n.slice(u,f):n},onRange:function(n,t){return n?n.slice(e(t.start),e(t.end)):n},onTake:function(n,t){return n?n.slice(0,e(t.nos)):n},onSkip:function(n,t){return n?n.slice(e(t.nos)):n},onSelect:function(n,i){return n?t.select(n,e(i.fieldNames)):n},insert:function(n,t){return n.dataSource.json.push(t)},remove:function(n,i,r){var f=n.dataSource.json,u;for(typeof r=="object"&&(r=t.getObject(i,r)),u=0;u<f.length;u++)if(t.getObject(i,f[u])===r)break;return u!==f.length?f.splice(u,1):null},update:function(i,r,u){for(var e=i.dataSource.json,o=t.getObject(r,u),f=0;f<e.length;f++)if(t.getObject(r,e[f])===o)break;return f<e.length?n.extend(e[f],u):null}});t.ForeignKeyAdaptor=function(i,u){var f=(new t[u||"JsonAdaptor"]).extend({init:function(){var r,n;for(this.foreignData=[],this.key=[],this.adaptorType=u,this.value=[],this.fValue=[],this.keyField=[],r=i,n=0;n<r.length;n++)this.foreignData[n]=r[n].dataSource,this.key[n]=r[n].foreignKeyField,this.fValue[n]=t.isNullOrUndefined(r[n].field)?r[n].foreignKeyValue:r[n].field+"_"+r[n].foreignKeyValue,this.value[n]=r[n].foreignKeyValue,this.keyField[n]=r[n].field||r[n].foreignKeyField,this.initial=!0},processQuery:function(n,i){var e=n.dataSource.json,u,f,r;if(this.initial){for(u=0;u<e.length;u++)for(f=this,r=0;r<this.foreignData.length;r++)this.foreignData[r].filter(function(n){t.getObject(f.key[r],n)==t.getObject(f.keyField[r],e[u])&&(e[u][f.fValue[r]]=t.getObject(f.value[r],n))});this.initial=!1}return this.base.processQuery.apply(this,[n,i])},setValue:function(i){for(var o,f,e,u=0;u<this.foreignData.length;u++)o=this,f=i[this.fValue[u]],typeof f!="string"||isNaN(f)||(f=t.parseFloat(f)),e=n.grep(o.foreignData[u],function(n){return n[o.value[u]]==f})[0],t.isNullOrUndefined(e)&&(e=n.grep(o.foreignData[u],function(n){return n[o.key[u]]==f})[0],t.getObject(this.value[u],e)!=r&&t.createObject(o.value[u],t.getObject(this.value[u],e),i)),t.getObject(this.value[u],e)!=r&&t.createObject(this.keyField[u],t.getObject(this.key[u],e),i)},insert:function(n,t,i){return this.setValue(t),{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert",antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""})}},update:function(n,i,r,u){return this.setValue(r),t.JsonAdaptor.prototype.update(n,i,r,u),{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:r,action:"update",keyColumn:i,key:r[i],table:u,antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""})}}});return n.extend(this,new f),this};t.remoteSaveAdaptor=(new t.JsonAdaptor).extend({beforeSend:t.UrlAdaptor.prototype.beforeSend,insert:t.UrlAdaptor.prototype.insert,update:t.UrlAdaptor.prototype.update,remove:t.UrlAdaptor.prototype.remove,addParams:t.UrlAdaptor.prototype.addParams,batchRequest:function(n,t,i,r){var u={changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key,antiForgery:n.dataSource.antiForgery?n.antiForgeryToken().value:""};return r&&this.addParams({dm:n,query:r,params:r._params,reqParams:u}),{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u)}},processResponse:function(n,i,r,u,f,e,o){if(t.isNullOrUndefined(e))return n.d?n.d:n;n.d&&(n=n.d);n.added&&(e.added=t.parseJSON(n.added));n.changed&&(e.changed=t.parseJSON(n.changed));n.deleted&&(e.deleted=t.parseJSON(n.deleted));for(var s=0;s<e.added.length;s++)t.JsonAdaptor.prototype.insert(i,e.added[s]);for(s=0;s<e.changed.length;s++)t.JsonAdaptor.prototype.update(i,o,e.changed[s]);for(s=0;s<e.deleted.length;s++)t.JsonAdaptor.prototype.remove(i,o,e.deleted[s]);return n}});t.WebApiAdaptor=(new t.ODataAdaptor).extend({insert:function(n,t){return{type:"POST",url:n.dataSource.url,data:JSON.stringify(t)}},remove:function(n,t,i){return{type:"DELETE",url:n.dataSource.url+"/"+i,data:JSON.stringify(i)}},update:function(n,t,i){return{type:"PUT",url:n.dataSource.url,data:JSON.stringify(i)}},batchRequest:function(i,r,u){var e=u.guid=t.getGuid(l.batchPre),f=[];return n.each(r.added,function(n,t){f.push("--"+e);f.push("Content-Type: application/http; msgtype=request","");f.push("POST "+i.dataSource.insertUrl+" HTTP/1.1");f.push("Content-Type: application/json; charset=utf-8");f.push("Host: "+location.host);f.push("",t?JSON.stringify(t):"")}),n.each(r.changed,function(n,t){f.push("--"+e);f.push("Content-Type: application/http; msgtype=request","");f.push("PUT "+i.dataSource.updateUrl+" HTTP/1.1");f.push("Content-Type: application/json; charset=utf-8");f.push("Host: "+location.host);f.push("",t?JSON.stringify(t):"")}),n.each(r.deleted,function(n,t){f.push("--"+e);f.push("Content-Type: application/http; msgtype=request","");f.push("DELETE "+i.dataSource.removeUrl+"/"+t[u.key]+" HTTP/1.1");f.push("Content-Type: application/json; charset=utf-8");f.push("Host: "+location.host);f.push("",t?JSON.stringify(t):"")}),f.push("--"+e+"--",""),{type:"POST",url:i.dataSource.batchUrl||i.dataSource.crudUrl||i.dataSource.url,data:f.join("\r\n"),contentType:'multipart/mixed; boundary="'+e+'"'}},processResponse:function(n,i,r,u,f){var o=f&&f.ejPvtData,l,e,w;if(f&&f.type.toLowerCase()!="post"){var h=u&&u.getResponseHeader("DataServiceVersion"),a=null,y={};if(h=h&&parseInt(h,10)||2,r&&r._requiresCount&&(c(n.Count)||(a=n.Count)),h<3&&n.Items&&(n=n.Items),o&&o.aggregates&&o.aggregates.length){var s=o.aggregates,v,p={};for(e=0;e<s.length;e++)v=t.aggregates[s[e].type],v&&(p[s[e].field+" - "+s[e].type]=v(n,s[e].field));y=p}if(o&&o.groups&&o.groups.length)for(l=o.groups,e=0;e<l.length;e++)w=b(l[e],r.queries),n=t.group(n,l[e],o.aggregates,w);return c(a)?n:{result:n,count:a,aggregates:y}}}});e=function(n,t){return typeof n=="function"?n.call(t||{}):n};t.TableModel=function(i,r,u,e){var c,o,l,s;if(!p(this,t.TableModel))return new t.TableModel(r);for(p(r,Array)||f("ej.TableModel - Json Array is required"),c=[],l=h(ht,this),s=0;s<r.length;s++){o=new t.Model(r[s],this);o.state="unchanged";o.on("stateChange",l);e&&o.computes(e);c.push(o)}return this.name=i||"table1",this.rows=t.NotifierArray(c),this._deleted=[],this._events=n({}),this.dataManager=u,this._isDirty=!1,this};t.TableModel.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},setDataManager:function(n){this.dataManagar=n},saveChanges:function(){if(this.dataManager&&p(this.dataManager,t.DataManager)||f("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var n=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);n.done(h(function(n){for(var t=this.toArray(),i=0;i<t.length;i++)t.state==="added"&&t.set(this.key,n.added.filter(function(n){return n[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this));n.fail(h(function(n){this.rejectChanges();this._events.triggerHandler({type:"reject",table:this,error:n})},this));this._isDirty=!1}},rejectChanges:function(){for(var t=this.toArray(),n=0;n<t.length;n++)t[n].revert(!0);this._isDirty=!1;this._events.triggerHandler({type:"reject",table:this})},insert:function(n){var i=new t.Model(n);i._isDirty=this._isDirty=!0;this.rows.push(i);this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(n){var r;this.key||f("TableModel - update : Primary key should be assigned to TableModel.key");var i=n,t,u=this.key,e=i[u];t=this.rows.array.filter(function(n){return n.get(u)===e});t=t[0];for(r in i)t.set(r,i[r]);this._isDirty=!0;this._events.triggerHandler({type:"update",model:t,table:this})},remove:function(n){var t,i,e,u;for(this.key||f("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,n&&typeof n=="object"&&(n=n[t]!==r?n[t]:n.get(t)),u=0;u<this.rows.length();u++)if(this.rows.array[u].get(t)===n){i=u;break}i>-1&&(e=this.rows.removeAt(i),e.markDelete(),this._deleted.push({model:e,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:e,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var i={added:[],changed:[]},r=this.toArray(),n=0;n<r.length;n++)i[r[n].state]&&i[r[n].state].push(r[n].json);return i.deleted=t.select(this._deleted,["model"]),i},toArray:function(){return this.rows.toArray()},setDirty:function(n,t){this._isDirty!==!!n&&(this._isDirty=!!n,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(n){return this.rows.array[n]},length:function(){return this.rows.array.length},bindTo:function(t){var i=nt,e=n(t.html()),f=this.toArray(),u,r;for(n.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(i=tt),i.insertBefore(t),t.detach().empty(),r=0;r<f.length;r++)u=e.clone(),f[r].bindTo(u),t.append(u);t.insertAfter(i);i.remove()}};nt=i?n(document.createElement("div")):{};tt=i?n(document.createElement("tr")):{};t.Model=function(i,r,u){typeof r=="string"&&(u=r,r=null);this.$id=et("m");this.json=i;this.table=r instanceof t.TableModel?r:null;this.name=u||this.table&&this.table.name;this.dataManager=r instanceof t.DataManager?r:r.dataManagar;this.actual={};this._events=n({});this.isDirty=!1;this.state="added";this._props=[];this._computeEls={};this._fields={};this._attrEls={};this._updates={};this.computed={}};t.Model.prototype={computes:function(t){n.extend(this.computed,t)},on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},set:function(n,t){var i=this.json,e=n,f,u;for(n=n.split("."),u=0;u<n.length-1;u++)n=n[0],i=i[n[0]];this.isDirty=!0;this.changeState("changed",{from:"set"});f=i[n];this.actual[n]!==r||n in this.actual||(this.actual[n]=t);i[n]=t;this._updateValues(n,t);this._events.triggerHandler({type:e,current:t,previous:f,model:this})},get:function(n){return t.pvt.getObject(n,this.json)},revert:function(n){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1;n?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,r){return(i=i||this.dataManagar,r=r||i.dataSource.key,i||f("ej.Model - DataManager is required to commit the changes"),this.state==="added")?i.insert(this.json,this.name).done(t.proxy(function(t){n.extend(this.json,t.record)},this)):this.state==="changed"?i.update(r,this.json,this.name):this.state==="deleted"?i.remove(r,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1;this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if(this.state==="added")if(t==="deleted")t="unchanged";else return;var r=t;i=i||{};this.state=t;this._events.triggerHandler(n.extend({type:"stateChange",current:t,previous:r,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var n in this.json)this._props.push(n),this._updates[n]={read:[],input:[]};return this._props},bindTo:function(t){var e=n(t),r,i,o=e.find("[ej-observe], [ej-computed], [ej-prop]"),s=o.length,u,f;for(e.data("ejModel",this),u={fields:[],props:[],computes:[]},f=0;f<s;f++){if(r=o.eq(f),i=r.attr("ej-prop"),i&&this._processAttrib(i,r,u),i=r.attr("ej-observe"),i&&this._props.indexOf(i)!==-1){this._processField(r,i,u);continue}if(i=r.attr("ej-computed"),i){this._processComputed(i,r,u);continue}}e.data("ejModelBinding"+this.$id,u)},unbind:function(t){var u,r={props:this._attrEls,computes:this._computeEls},f=!1,i,c,e,s,h,o;t&&(r=n(t).removeData("ejModel").data("ejModelBinding"+this.$id)||r,f=!0);for(i in this.computed)u=r.computes[i],i=this.computed[i],u&&i.deps&&(this.off(i.deps.join(" "),u.handle),f&&delete this._computeEls[i]);f||(this._computeEls={});for(i in r.props)u=r.props[i],u&&(this.off(u.deps.join(" "),u.handle),delete r.props[i],f&&delete this._attrEls[i]);if(f||(this._attrEls={}),r.fields&&r.fields.length)for(c=r.fields.length,o=0;o<c;o++)e=r.fields[o],n(e).off("change",null,this._changeHandler),h=this.formElements.indexOf(e.tagName.toLowerCase())!==-1?"input":"read",s=this._updates[h].indexOf(e),s!==-1&&this._updates[h].splice(s,1)},_processComputed:function(n,t,i){if(n){var r,u,f=st(n),e=this.formElements.indexOf(t[0].tagName.toLowerCase())!==-1?"val":"html";this.computed[n]&&this.computed[f]||(this.computed[f]={value:new Function("var e = this; return "+n),deps:this._generateDeps(n)},n=f);r=this.computed[n];r.get||(r.get=function(){r.value.call(this.json)});u=r.deps;r=r.value;this._updateDeps(u);this._updateElement(t,e,r);r={el:t,handle:h(this._computeHandle,this,{value:n,type:e})};this._computeEls[n]=r;i.computes[n]=r;this.on(u.join(" "),r.handle)}},_computeHandle:function(n){var t=this._computeEls[n.value];t&&this.computed[n.value]&&this._updateElement(t.el,n.type,this.computed[n.value].value)},_updateElement:function(t,i,r){t[i](r.call(n.extend({},this.json,this.computed)))},_updateDeps:function(n){for(var i=0;i<n.length;i++)!(n[i]in this.json)&&n[i]in this.computed&&t.merge(n,this.computed[n[i]].deps)},_generateDeps:function(n){for(var r=n.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),t,u=[],i=0;i<r.length;i++)r[i].startsWith("#ej.#")&&(t=r[i].replace("#ej.#","").split(" ")[0],t&&this._props.indexOf(t)!==-1&&u.push(t));return u},_processAttrib:function(n,t,i){var e,o,u={},r,f;for(n=n.replace(/^ +| +$/g,"").split(";"),r=0;r<n.length;r++)(n[r]=n[r].split(":"),n[r].length<2)||(e=n[r][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""),u[e]=n[r][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));n=u;f=[];for(e in n)f.push(n[e]);this._updateDeps(f);this._updateProps(t,n);u=et("emak");o={el:t,handle:h(this._attrHandle,this,u),value:n,deps:f};t.prop("ejmodelattrkey",u);i.props[u]=o;this._attrEls[u]=o;this.on(f.join(" "),o.handle)},_attrHandle:function(n){var t=this._attrEls[n];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var f=this.json,r,u=this.computed;for(var e in i)r=i[e],r in f?r=f[r]:r in u&&(r=u[r],r&&(r=r.value.call(n.extend({},this.json,u)))),c(r)||t.prop(e,r)},_updateValues:function(n,t){var i=this._updates[n];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,r){if(t)for(var u=t.length-1;u>-1;u--){if(!t[u].offsetParent){t.splice(u,1);continue}n(t[u])[i](r)}},_changeHandler:function(t){t.data.self.set(t.data.prop,n(this).val())},_processField:function(n,t,i){var u={self:this,prop:t},r=this.get(t);if(i.fields.push(n[0]),this.formElements.indexOf(n[0].tagName.toLowerCase())===-1)return n.html(r),this._updates[t].read.push(n[0]);n.val(r).off("change",null,this._changeHandler).on("change",null,u,this._changeHandler);return this._updates[t].input.push(n[0])},formElements:["input","select","textarea"]};var ot=/[^\w]+/g,st=function(n){return n.replace(ot,"_")},ht=function(n){this.setDirty(!0,n.model)};if(t.Predicate=function(n,i,r,u,f){if(!(this instanceof t.Predicate))return new t.Predicate(n,i,r,u,f);if(this.ignoreAccent=!1,typeof n=="string"){var e="";i.toLowerCase().indexOf(" any")!=-1?(i=i.replace(" any",""),e="any"):i.toLowerCase().indexOf(" all")!=-1&&(i=i.replace(" all",""),e="all");this.field=n;this.operator=i;this.value=r;this.ignoreCase=u;this.ignoreAccent=f;this.isComplex=!1;this.anyCondition=e;this._comparer=t.data.fnOperators.processOperator(e!=""?e:this.operator)}else(n instanceof t.Predicate&&r instanceof t.Predicate||r instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[n],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r));return this},t.Predicate.and=function(){return y._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return y._combinePredicates([].slice.call(arguments,0),"or")},t.Predicate.fromJSON=function(n){var i,t,r;if(p(n,Array)){for(i=[],t=0,r=n.length;t<r;t++)i.push(y._fromJSON(n[t]));return i}return y._fromJSON(n)},y={_combinePredicates:function(n,i){if(!n.length)return r;if(n.length===1){if(!p(n[0],Array))return n[0];n=n[0]}return new t.Predicate(n[0],i,n.slice(1))},_combine:function(n,i,r,u,e,o,s){return i instanceof t.Predicate?t.Predicate[e](n,i):typeof i=="string"?t.Predicate[e](n,new t.Predicate(i,r,u,o,s)):f("Predicate - "+e+" : invalid arguments")},_fromJSON:function(n){var i;if(!n||p(n,t.Predicate))return n;var u=n.predicates||[],f=u.length,r=[];for(i=0;i<f;i++)r.push(y._fromJSON(u[i]));return n.isComplex?new t.Predicate(r[0],n.condition,r.slice(1)):new t.Predicate(n.field,n.operator,t.parseJSON({val:n.value}).val,n.ignoreCase,n.ignoreAccent)}},t.Predicate.prototype={and:function(n,t,i,r,u){return y._combine(this,n,t,i,"and",r,u)},or:function(n,t,i,r,u){return y._combine(this,n,t,i,"or",r,u)},validate:function(n){var f=this.predicates,r,u,i;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,n),this.value,this.ignoreCase,this.ignoreAccent);for(r=this.condition==="and",i=0;i<f.length;i++)if(u=f[i].validate(n),r){if(!u)return!1}else if(u)return!0;return r},toJSON:function(){var t,i,n;if(this.isComplex)for(t=[],i=this.predicates,n=0;n<i.length;n++)t.push(i[n].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t,anyCondition:this.anyCondition}}},t.dataUtil={swap:function(n,t,i){if(t!=i){var r=n[t];n[t]=n[i];n[i]=r}},mergeSort:function(n,i,r){return r&&typeof r!="string"||(r=t.pvt.fnSort(r,!0)),typeof i=="function"&&(r=i,i=null),t.pvt.mergeSort(n,i,r)},max:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnDescending)},min:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnAscending)},distinct:function(n,t,i){for(var f=[],r,e={},u=0;u<n.length;u++)r=v(n,t,u),r in e||(f.push(i?n[u]:r),e[r]=1);return f},sum:function(n,t){for(var u=0,i,f=typeof v(n,t,0)!="number",r=0;r<n.length;r++)i=v(n,t,r),isNaN(i)||i===null||(f&&(i=+i),u+=i);return u},avg:function(n,i){return t.sum(n,i)/n.length},select:function(n,i){for(var u=[],r=0;r<n.length;r++)u.push(t.pvt.extractFields(n[r],i));return u},group:function(i,r,u,f,e,o){var p,a,c,h,k,l,b,y,s,w;if(e=e||1,i.GROUPGUID==t.pvt.consts.GROUPGUID){for(s=0;s<i.length;s++)t.isNullOrUndefined(o)?(i[s].items=t.group(i[s].items,r,u,f,i.level+1),i[s].count=i[s].items.length):(p=-1,w=n.grep(o,function(n){return n.key==i[s].key}),p=o.indexOf(w[0]),i[s].items=t.group(i[s].items,r,u,f,i.level+1,o[p].items),i[s].count=o[p].count);return i.childLevels+=1,i}for(a={},c=[],c.GROUPGUID=t.pvt.consts.GROUPGUID,c.level=e,c.childLevels=0,c.records=i,l=0;l<i.length;l++)h=v(i,r,l),t.isNullOrUndefined(f)||(h=f(h,r)),a[h]||(a[h]={key:h,count:0,items:[],aggregates:{},field:r},c.push(a[h]),t.isNullOrUndefined(o)||(k=n.grep(o,function(n){return n.key==a[h].key}),a[h].count=k[0].count)),a[h].count=t.isNullOrUndefined(o)?a[h].count+=1:a[h].count,a[h].items.push(i[l]);if(u&&u.length)for(l=0;l<c.length;l++){for(b={},s=0;s<u.length;s++)y=t.aggregates[u[s].type],t.isNullOrUndefined(o)?y&&(b[u[s].field+" - "+u[s].type]=y(c[l].items,u[s].field)):(w=n.grep(o,function(n){return n.key==c[l].key}),y&&(b[u[s].field+" - "+u[s].type]=y(w[0].items,u[s].field)));c[l].aggregates=b}return c},parseTable:function(i,r,u){var s=i.rows,h,v=[],y=[],f,c,l,a,e,o;if(!s.length)return[];u=u||0;switch((r||"").toLowerCase()){case t.headerOption.tHead:h=i.tHead.rows[u];break;case t.headerOption.row:default:h=i.rows[u]}for(c=h.cells,f=0;f<c.length;f++)v.push(n.trim(c[f].innerHTML));for(f=u+1;f<s.length;f++){for(l={},a=s[f].cells,e=0;e<a.length;e++)o=a[e].innerHTML,l[v[e]]=typeof o=="string"&&n.isNumeric(o)?Number(o):o;y.push(l)}return y}},t.headerOption={tHead:"thead",row:"row"},t.aggregates={sum:function(n,i){return t.sum(n,i)},average:function(n,i){return t.avg(n,i)},minimum:function(n,i){return t.getObject(i,t.min(n,i))},maximum:function(n,i){return t.getObject(i,t.max(n,i))},truecount:function(n,i){var r=t.Predicate(i,"equal",!0);return t.DataManager(n).executeLocal(t.Query().where(r)).length},falsecount:function(n,i){var r=t.Predicate(i,"equal",!1);return t.DataManager(n).executeLocal(t.Query().where(r)).length},count:function(n){return n.length}},t.pvt={filterQueries:a,mergeSort:function(n,i,r){if(n.length<=1)return n;var e=parseInt(n.length/2,10),u=n.slice(0,e),f=n.slice(e);return u=t.pvt.mergeSort(u,i,r),f=t.pvt.mergeSort(f,i,r),t.pvt.merge(u,f,i,r)},getItemFromComparer:function(n,i,r){var f,e,o,u=0,s=typeof v(n,i,0)=="string";if(n.length)while(t.isNullOrUndefined(f)&&u<n.length)f=v(n,i,u),o=n[u++];for(;u<n.length;u++)(e=v(n,i,u),t.isNullOrUndefined(e))||(s&&(f=+f,e=+e),r(f,e)>0&&(f=e,o=n[u]));return o},quickSelect:function(n,i,r,u,f,e){if(r==u)return n[r];var o=t.pvt.partition(n,i,r,u,e),s=o-r+1;return s==f?n[o]:f<s?t.pvt.quickSelect(n,i,r,o-1,f,e):t.pvt.quickSelect(n,i,o+1,u,f-s,e)},extractFields:function(n,i){var u={},r;if(i.length==1)return t.pvt.getObject(i[0],n);for(r=0;r<i.length;r++)u[i[r].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[r],n);return u},partition:function(n,i,r,u,f){var e=parseInt((r+u)/2,10),s=v(n,i,e),o;for(t.swap(n,e,u),e=r,o=r;o<u;o++)f(v(n,i,o),s)&&(t.swap(n,o,e),e++);return t.swap(n,e,u),e},fnSort:function(n){return(n=n?n.toLowerCase():t.sortOrder.Ascending,n==t.sortOrder.Ascending)?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(n,i){return function(r,u){return i(t.pvt.getObject(n,r),t.pvt.getObject(n,u))}},fnAscending:function(n,i){return t.isNullOrUndefined(i)&&t.isNullOrUndefined(n)?-1:i===null||i===r?-1:typeof n=="string"?n.localeCompare(i):n===null||n===r?1:n-i},fnDescending:function(n,i){return t.isNullOrUndefined(i)&&t.isNullOrUndefined(n)?-1:i===null||i===r?1:typeof n=="string"?n.localeCompare(i)*-1:n===null||n===r?-1:i-n},merge:function(n,t,i,r){for(var u=[],f;n.length>0||t.length>0;)f=n.length>0&&t.length>0?r?r(v(n,i,0),v(t,i,0))<=0?n:t:n[0][i]<n[0][i]?n:t:n.length>0?n:t,u.push(f.shift());return u},getObject:function(n,t){var i,f,u;if(!t)return r;if(!n)return t;if(n.indexOf(".")===-1)return t[n];for(i=t,f=n.split("."),u=0;u<f.length;u++){if(i==null)break;i=i[f[u]]}return i},createObject:function(n,t,i){for(var f=n.split("."),o=i||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t===r?{}:t:e[f[u]]==null&&(e[f[u]]={}),e=e[f[u]];return o},ignoreDiacritics:function(n){if(typeof n!="string")return n;var i=n.split(""),r=i.map(function(n){return n in t.data.diacritics?t.data.diacritics[n]:n});return r.join("")},getFieldList:function(n,i,u){if(u===r&&(u=""),i===r||i===null)return t.pvt.getFieldList(n,[],u);for(var f in n)typeof n[f]!="object"||n[f]instanceof Array?i.push(u+f):t.pvt.getFieldList(n[f],i,u+f+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne ","in":" eq ",notin:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",notcontains:"substringof"},t.data.diacritics={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},t.data.fnOperators={equal:function(n,i,r,u){return(u&&(n=t.pvt.ignoreDiacritics(n),i=t.pvt.ignoreDiacritics(i)),r)?s(n)==s(i):n==i},notequal:function(n,i,r,u){return u&&(n=t.pvt.ignoreDiacritics(n),i=t.pvt.ignoreDiacritics(i)),!t.data.fnOperators.equal(n,i,r)},notin:function(n,i,r){for(var u=0;u<i.length;u++)if(t.data.fnOperators.notequal(n,i[u],r)==!1)return!1;return!0},lessthan:function(n,t,i){return i?s(n)<s(t):n<t},greaterthan:function(n,t,i){return i?s(n)>s(t):n>t},lessthanorequal:function(n,t,i){return i?s(n)<=s(t):n<=t},greaterthanorequal:function(n,t,i){return i?s(n)>=s(t):n>=t},contains:function(n,i,r,u){return(u&&(n=t.pvt.ignoreDiacritics(n),i=t.pvt.ignoreDiacritics(i)),r)?!c(n)&&!c(i)&&s(n).indexOf(s(i))!=-1:!c(n)&&!c(i)&&n.toString().indexOf(i)!=-1},notcontains:function(n,i,r,u){return u&&(n=t.pvt.ignoreDiacritics(n),i=t.pvt.ignoreDiacritics(i)),!t.data.fnOperators.contains(n,i,r)},notnull:function(n){return n!==null},isnull:function(n){return n===null},startswith:function(n,i,r,u){return(u&&(n=t.pvt.ignoreDiacritics(n),i=t.pvt.ignoreDiacritics(i)),r)?n&&i&&s(n).startsWith(s(i)):n&&i&&n.startsWith(i)},endswith:function(n,i,r,u){return(u&&(n=t.pvt.ignoreDiacritics(n),i=t.pvt.ignoreDiacritics(i)),r)?n&&i&&s(n).endsWith(s(i)):n&&i&&n.endsWith(i)},all:function(n,i,r){for(var u=0;u<i.length;u++)if(t.data.fnOperators[this.operator](n,i[u],r)==!1)return!1;return!0},any:function(n,i,r){for(var u=0;u<i.length;u++)if(t.data.fnOperators[this.operator](n,i[u],r)==!0)return!0;return!1},processSymbols:function(n){var r=t.data.operatorSymbols[n],i;return r&&(i=t.data.fnOperators[r],i)?i:f("Query - Process Operator : Invalid operator")},processOperator:function(n){var i=t.data.fnOperators[n];return i?i:t.data.fnOperators.processSymbols(n)}},t.data.fnOperators["in"]=function(n,i,r){for(var u=0;u<i.length;u++)if(t.data.fnOperators.equal(n,i[u],r)==!0)return!0;return!1},t.NotifierArray=function(i){return p(this,t.NotifierArray)?(this.array=i,this._events=n({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},push:function(n){var t;return t=p(n,Array)?[].push.apply(this.array,n):this.array.push(n),this._raise("add",{item:n,index:this.length()-1}),t},pop:function(){var n=this.array.pop();return this._raise("remove",{item:n,index:this.length()-1}),n},addAt:function(n,t){return this.array.splice(n,0,t),this._raise("add",{item:t,index:n}),t},removeAt:function(n){var t=this.array.splice(n,1)[0];return this._raise("remove",{item:t,index:n}),t},remove:function(n){var t=this.array.indexOf(n);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:n,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(n.extend({type:t},i));this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},n.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(n,t){for(var i=0,r=this.length;i<r;++i)n.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(n){var i,u,t,r;if(typeof n!="function")throw new TypeError;for(i=[],u=arguments[1]||this,t=0;t<this.length;t++)r=this[t],n.call(u,r,t,this)&&i.push(r);return i},String.prototype.endsWith=String.prototype.endsWith||function(n){return this.slice(-n.length)===n},String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n},t.support||(t.support={}),t.support.stableSort=function(){for(var t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),n=0;n<17;n++)if(n!==t[n])return!1;return!0}(),t.support.cors=n.support.cors,!n.support.cors&&window.XDomainRequest){var ct=/^https?:\/\//i,lt=/^get|post$/i,at=new RegExp("^"+location.protocol,"i"),vt=/\/xml/i;n.ajaxTransport("text html xml json",function(n,t){if(n.crossDomain&&n.async&&lt.test(n.type)&&ct.test(t.url)&&at.test(t.url)){var i=null,u=(t.dataType||"").toLowerCase();return{send:function(f,e){i=new XDomainRequest;/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout);i.ontimeout=function(){e(500,"timeout")};i.onload=function(){var o="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,t={code:200,message:"success"},f={text:i.responseText},n;try{if(u==="json")try{f.json=JSON.parse(i.responseText)}catch(h){t.code=500;t.message="parseerror"}else if(u==="xml"||u!=="text"&&vt.test(i.contentType)){n=new ActiveXObject("Microsoft.XMLDOM");n.async=!1;try{n.loadXML(i.responseText)}catch(h){n=r}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){t.code=500;t.message="parseerror";throw"Invalid XML: "+i.responseText;}f.xml=n}}catch(s){throw s;}finally{e(t.code,t.message,f,o)}};i.onerror=function(){e(500,"error",{text:i.responseText})};navigator.userAgent.indexOf("MSIE 9.0")!=-1&&(i.onprogress=function(){});i.open(n.type,n.url);i.send(t.data)},abort:function(){i&&i.abort()}}}})}n.support.cors=!0;t.sortOrder={Ascending:"ascending",Descending:"descending"};t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"};d=function(n,t){t&&(n=h(n,t));(window.setImmediate||window.setTimeout)(n,0)};t.support.enableLocalizedSort=!1;var it=function(n,i,r,u){return t.support.stableSort?!t.support.enableLocalizedSort&&typeof t.pvt.getObject(i,n[0]||{})=="string"&&(r===t.pvt.fnAscending||r===t.pvt.fnDescending)&&u.filter(function(n){return n.fn==="onSortBy"}).length===1?yt(n,i,r===t.pvt.fnDescending):n.sort(t.pvt.fnGetComparer(i,r)):t.mergeSort(n,i,r)},b=function(i,r){for(var f=n.grep(r,function(n){return n.fn=="onGroup"}),u=0;u<f.length;u++)if(t.getObject("fieldName",f[u].e)==i)return t.getObject("fn",f[u].e)},yt=function(n,i,r){var u=Object.prototype.toString;Object.prototype.toString=i.indexOf(".")===-1?function(){return this[i]}:function(){return t.pvt.getObject(i,this)};n=n.sort();Object.prototype.toString=u;r&&n.reverse()},s=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString().toLowerCase():n===0||n===!1?n.toString():""},v=function(n,i,r){return i?t.pvt.getObject(i,n[r]):n[r]},pt=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&n.nodeType===1&&typeof n=="object"&&typeof n.nodeName=="string"},p=function(n,t){return n instanceof t},rt=function(n,i,r,u){return function(f){return typeof f=="object"&&(u=f,f=null),new t.TableModel(f||n,i,r,u)}},ut=function(t){return function(i,r){var o,h,e,u,s;for(r=r||window.ko,r||f("Knockout is undefined"),h=[],s=0;s<t.length;s++){o={};for(e in t[s])e.startsWith("_")||(o[e]=r.observable(t[s][e]));for(e in i)u=i[e],n.isPlainObject(u)?(u.owner||(u.owner=o),u=r.computed(u)):u=r.computed(u,o),o[e]=u;h.push(o)}return r.observableArray(h)}},ft=0,et=function(n){return ft+=1,n+ft};t.getGuid=function(n){var i="0123456789abcdef",t;return(n||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){if("crypto"in window&&"getRandomValues"in crypto){var u=new Uint8Array(1);window.crypto.getRandomValues(u);t=u[0]%16|0}else t=Math.random()*16|0;return i[r===19?t&3|8:t]})};w=function(n,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),n.apply(t||this,i)}};h=function(n,t,i){return"bind"in n?i?n.bind(t,i):n.bind(t):function(){var r=i?[i]:[];return r.push.apply(r,arguments),n.apply(t||this,r)}};t.merge=function(n,t){n&&t&&Array.prototype.push.apply(n,t)};c=function(n){return n===r||n===null};f=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}}(window.jQuery,window.Syncfusion,window.document),function(n,t){function k(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n}function a(t,i,r){var u=r.type;r.type=i;n.event.dispatch.call(t,r);r.type=u}function it(n,t){if(t)for(prop in t)prop in n||(n[prop]=t[prop])}function o(n){return n.originalEvent.touches?n.originalEvent.touches[0]:i?n.originalEvent:n}function d(n){var r=i?n.originalEvent.pointerType:n.originalEvent.touches?"touch":"mouse",u=i&&l==t?r==4?"mouse":"touch":r;return n.pointerType=u,n.type!="mousedown"&&n.type!="mouseup"&&it(n,n.originalEvent),u=="touch"&&(n.button=t),n}function s(t,i,r){var o,s,h,u={},e,f;return r&&(f=r.originalEvent.touches?[r.originalEvent.touches[0],t.originalEvent.changedTouches[0]]:[r.originalEvent,t.originalEvent],i._isSwipe||i._isdrag?(o=n.event.special.pinch._getdistance(f[0],f[1]),s=i.time,e={pageX:i.stopPoint.pageX,pageY:i.stopPoint.pageY}):i._isPinch&&(o=n.event.special.pinch.distance(t),s=t.timeStamp-r.timeStamp,h=i._pinchDistance),i._isDelta&&(u._dTime=t.timeStamp-r.timeStamp,u._x=f[1].pageX-f[0].pageX,u._y=f[1].pageY-f[0].pageY)),{options:t,delta:{time:u._dTime||null,X:u._x||null,Y:u._y||null},distance:o,scale:i._isPinch?h:null,time:s,velocity:{XY:o/u._dTime||null,X:u._x/u._dTime||null,Y:u._y/u._dTime||null},currentPosition:{pageX:e?e.pageX:null,pageY:e?e.pageY:null}}}function h(){var n=new Date;return n.getTime()}function v(n){i&&n.css("-ms-touch-action","pinch-zoom").css("touch-action","pinch-zoom")}var c=n(document);n.each("touchstart touchmove touchend tap doubletap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstop scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.on(i,n):this.trigger(i)};n.attrFn&&(n.attrFn[i]=!0)});var i=k().isMSPointerEnabled,l=k().pointerEnabled,y="ontouchstart"in window,rt="scroll",p=typeof orientation=="undefined",g=navigator.userAgent.match(/iPhone|iPad|iPod/i),u=i?l?"pointerdown":"MSPointerDown":y?"touchstart":"mousedown",f=i?l?"pointerup":"MSPointerUp":g?"touchend":y?"touchend":"mouseup",r=i?l?"pointermove":"MSPointerMove":y?"touchmove":"mousemove",w=i?l?"pointercancel":"MSPointerCancel":y?"touchcancel":"mouseleave",ut=i||!p?u:g?"touchstart":"touchstart mousedown",e=i||!p?f:"touchend mouseup",b=i||!p?r:"touchmove mousemove",nt=k(),tt=nt.name=="msie"&&nt.version=="9.0"?!0:!1;n.event.special.ejtouchmove={setup:function(){function s(){}function h(n){if(n.originalEvent&&!(n.which&&n.which!==1)){var f=n.target,u=n.originalEvent;i&&(t={x:u.x,y:u.y});o.on(r,l)}}function l(n){if(!(n.which&&n.which!==1)){var u=n.target,r=n.originalEvent;it(n,n.originalEvent);(!i||!t||Math.abs(t.x-r.x)>10||Math.abs(t.y-r.y)>10&&i)&&a(e,"ejtouchmove",n)}}var e=this,o=n(e),t;o.on(u,h);c.on(f,s);t={}}};n.event.special.swipeupdown={setup:function(){var e=this,i=n(e);v(i);i.on(u,function(u){function l(n){if(n.preventDefault(),e){var t=o(n);h={time:(new Date).getTime(),coords:[t.pageX,t.pageY]};Math.abs(e.coords[1]-h.coords[1])>10&&n.preventDefault()}}if(u.originalEvent){var a=u,c=o(u),e={time:(new Date).getTime(),coords:[c.pageX,c.pageY],origin:n(u.target)},h;i.on(r,l).one(f,function(u){if(i.off(r,l),e&&h&&h.time-e.time<1e3&&Math.abs(e.coords[1]-h.coords[1])>30&&Math.abs(e.coords[0]-h.coords[0])<75){var o={time:h.time-e.time,_isSwipe:!0,_isDelta:!0,stopPoint:h},f=s(u,o,a);e.origin.trigger(n.extend(!0,{type:"swipeupdown"},f)).trigger(n.extend(!0,{type:e.coords[1]>h.coords[1]?"swipeup":"swipedown"},f))}e=h=t})}})}};n.event.special.scrollstart={isEnabled:!0,setup:function(){function u(n,r){t=r;a(i,t?"scrollstart":"scrollstop",n)}var i=this,f=n(i),t,r;f.on(rt,function(i){n.event.special.scrollstart.isEnabled&&(t||u(i,!0),clearTimeout(r),r=setTimeout(function(){u(i,!1)},250))})}};n.event.special.tap={doubleTapThreshold:500,tapholdThreshold:650,canDoubleTap:function(t){return h()-t.doubleTapStartTime<=n.event.special.tap.doubleTapThreshold},setup:function(){var u=this,i=n(u),t=i.data(),r;v(i);t.isDoubleTapWait=!1;t.stopProcess=!1;t.preTouchend=null;t.preTouchstart=null;i.on(ut,function(f){function o(){clearTimeout(v);i.off(e,s);tt&&c.off(e,s);c.off(e,o);i.off(w,o);i.off(b,y);i.off("dragstart",it)}function y(n){var t=10,r=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0]:n.originalEvent,u=f.originalEvent.changedTouches?f.originalEvent.changedTouches[0]:f.originalEvent;r.pageX-u.pageX<t&&r.pageX-u.pageX>-t&&r.pageY-u.pageY<t&&r.pageY-u.pageY>-t||(n.type=="mousemove"||n.type=="pointermove"&&n.originalEvent.pointerType=="mouse"||n.type=="MSPointerMove"&&n.originalEvent.pointerType==4?(clearTimeout(v),i.off(w,o),i.off(b,y)):o())}function s(i){var e,s;i.type=="touchend"&&(t.preTouchend=h());o();r!=i.target&&(i.type=="mouseup"||f.type=="pointerup"||"MSPointerUp")&&(e=i.target,jQuery.contains(r,e)?nt(i,r):jQuery.contains(e,r)||(s=n(r).parents().has(n(e)).first()[0],ej.isNullOrUndefined(s)||nt(i,s)));g===i.currentTarget&&(a(u,"tap",n.extend(d(i),{time:h()-t.startTime})),t.isDoubleTapWait&&n.event.special.tap.canDoubleTap(t)?(t.isDoubleTapWait=!1,a(u,"doubletap",n.extend(d(i),{time:h()-t.doubleTapStartTime}))):(t.isDoubleTapWait&&(t.isDoubleTapWait=!1,t.doubleTapStartTime=t.startTime),n.event.special.tap.canDoubleTap(t)&&(t.isDoubleTapWait=!0)))}function nt(n,t){n.target=t;n.toElement=t}function it(){o()}var g,l,v,p,k;if(f.originalEvent)if((f.type=="mousedown"||f.type=="pointerdown"||"MSPointerDown")&&(r=f.target),t=i.data(),t.startTime=h(),t.isDoubleTapWait||(t.doubleTapStartTime=t.startTime),f.type=="touchstart"&&(t.preTouchstart=t.startTime),t.stopProcess=f.type=="mousedown"&&(t.startTime-t.preTouchend<300||t.startTime-t.preTouchstart<30)?!0:!1,g=f.currentTarget,l=f.originalEvent,f.which&&f.which!==1||t.stopProcess)t.stopProcess&&(t.stopProcess=!1);else{i.on(e,s);c.on(e,o);if(tt)c.on(e,s);i.on(w,o);i.on(b,y);i.on("dragstart",it);p={};for(k in l)p[k]=l[k];v=setTimeout(function(){t.isDoubleTapWait&&(t.isDoubleTapWait=!1);a(u,"taphold",n.extend(d(f),{options:p,time:h()-t.startTime}))},n.event.special.tap.tapholdThreshold)}})}};n.event.special.swipe={scrollSupression:10,duration:1e3,horizontalDistance:30,verticalDistance:75,pointers:window.navigator.msPointerEnabled,startPoint:function(t){var i=o(t);return{time:(new Date).getTime(),Items:i,coords:[i.pageX,i.pageY],origin:n(t.target)}},stopPoint:function(n){var t=o(n);return{time:(new Date).getTime(),Items:t,coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i,r,u){if((t.Items.pageY!=t.Items.clientY||i.Items.pageY!=i.Items.clientY)&&(n.event.special.swipe.horizontalDistance=130),i.time-t.time<n.event.special.swipe.duration&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistance&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistance){var e={time:i.time-t.time,_isSwipe:!0,_isDelta:!0,stopPoint:i},f=s(r,e,u);t.origin.trigger(n.extend(!0,{type:"swipe"},f)).trigger(n.extend(!0,{type:t.coords[0]>i.coords[0]?"swipeleft":"swiperight"},f))}},setup:function(){var e=this,i=n(e);v(i);i.on(u,function(u){function s(t){e&&(o=n.event.special.swipe.stopPoint(t),Math.abs(e.coords[0]-o.coords[0])>n.event.special.swipe.scrollSupression&&t.preventDefault())}if(u.originalEvent){var e=n.event.special.swipe.startPoint(u),o,h=u;n(u.target).data("_dataTouchStart",{event:u,_now:(new Date).getTime()});i.on(r,s).one(f,function(u){i.off(r,s);e&&o&&n.event.special.swipe.handleSwipe(e,o,u,h);e=o=t})}})}};n.event.special.pinch={distance:function(t){return t.originalEvent.touches.length<2?null:n.event.special.pinch._getdistance(t.originalEvent.touches[0],t.originalEvent.touches[1])},_getdistance:function(n,t){return Math.sqrt((n.pageX-t.pageX)*(n.pageX-t.pageX)+(n.pageY-t.pageY)*(n.pageY-t.pageY))},setup:function(){var e=this,i=n(e);v(i);i.on(u,function(u){var h;if(u.originalEvent&&(h=u,u.originalEvent.touches&&u.originalEvent.touches.length>=2)){var o=n.event.special.pinch.distance(u),e,v=5,c=o,l,y=s(u,{_isPinch:!0,_pinchDistance:c},h);n(u.target).trigger(n.extend(!0,{type:"pinch"},y));function a(t){l=t;e=n.event.special.pinch.distance(t)||null;o&&e&&Math.abs(o-e)>v&&(n(t.target).trigger(n.extend(!0,{type:o>e?"pinchin":"pinchout"},s(t,{_isPinch:!0,_pinchDistance:c},h))),o=e)}i.on(r,a).one(f,function(){i.off(r,a);n(u.target).trigger(n.extend(!0,{type:"pinchstop"},s(l,{_isPinch:!0,_pinchDistance:e},h)));o=e=t})}})}};n.event.special.touchdrag={setup:function(){var e=this,i=n(e);v(i);i.on(u,function(u){function c(t){h&&(e=o(t),n.event.special.pinch._getdistance(h,e)>5&&n(t.target).trigger(n.extend(!0,{type:"touchdrag"},s(t,{_isdrag:!0,stopPoint:e,_isDelta:!0},l))))}if(u.originalEvent){var h=o(u),e,l=u;n(u.target).data("_dataTouchStart",{event:u,_now:(new Date).getTime()});i.on(r,c).one(f,function(){i.off(r,c);h=e=t})}})}};n.each({scrollstop:"scrollstart",doubletap:"tap",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},function(t,i){n.event.special[t]={setup:function(){n(this).on(i,n.noop)}}})}(jQuery),function(n,t){function ft(n,t){var s=n||"",k=y,t=t.toString(),ct=t.indexOf(".")>-1||n.indexOf(".")>-1,r=0,rt=0,i="",d="",a=n.split(","),ut="0",lt,at=n.toLowerCase().indexOf("e"),w,o,ft=s.indexOf("#"),v,st,b,l,p,nt,tt,f,u,c,e;if(n.indexOf("\\")>-1&&(d=n.substr(0,n.lastIndexOf("\\")+1),n=n.substr(n.lastIndexOf("\\")+1,n.length),ft=n.indexOf("#")),at>-1){for(v="",s="",o=n.toLowerCase().split("e"),lt=n.indexOf("+")>-1?n.split("+")[1]:n.split("-")[1],t=parseInt(t).toExponential(),w=t.split("e"),r=o[1].length-w[1].length,u=o[1].length-1;u>0;u--)o[1][u]!="0"?s+=o[1][u]:r>1?(s+="#",r--):s+="0";for(st=n.indexOf("+")>-1?"+":"",s=st+s.split("").reverse().join(""),u=0;u<w[0].length;u++)v=w[0][u]!="."?v.concat("#"):v.concat(".");v.length>o[0].length&&(v=o[0]);s=d+v+"e"+s}else if(ct){if(o=n.split("."),w=t.split("."),o[1]=o[1].replace(/[,.]/g,""),r=o[0].replace(/[,.]/g,"").length-w[0].replace(/[,.]/g,"").length,r<0&&ej.isNullOrUndefined(n.match(/[\[\(\)\]]/g))){for(a=o[0].split(","),i=o[0].split(","),e=a.length-1;e>=0;e--)if(a[e])for(f=a[e].length,u=0,c=Math.abs(r);u<c;u++){if(f===3)break;i[e]="0"+i[e];f++;r++}if(i=i.join(),r<0)for(ej.isNullOrUndefined(f)||f==3||(i=","+i),u=0,c=Math.abs(r);u<c;u++)f===3&&(i=","+i,f=0),i="0"+i,f++;r=0;s=d+i+"."+o[1]}else if(ej.isNullOrUndefined(n.match(/[\[\(\)\]]/g))){for(i=o[0].replace(/[,.]/g,""),b="",f=0,l=i.length-1;l>=0;l--)f===3?(b=","+b,f=0):f++,b=i[l]+b;s=d+b+"."+o[1]}}else{if(p=0,nt=a.splice(1,a.length),r=n.replace(/[,.\[\(\]\)]/g,"").length-t.replace(/[,.]/g,"").length,ft>-1){for(tt=0,c=n.length;tt<c;tt++)n[tt]==="#"&&p++;(p===1||a[1]&&p===2)&&(ut="#");p===1&&(nt=a[0])}if(r<0){for(o=s.split(","),i=o.splice(1,o.length),e=a.length-1;e>=0;e--)if(nt[e])for(f=nt[e].length,i[e]||(i[e]=""),u=0,c=Math.abs(r)+1;u<c;u++){if(p!=1&&f===3){f=0;break}i[e]=i[e].concat(ut);f++;r++}if(i=i.join(),r<0)for(ej.isNullOrUndefined(f)||f==3||(i=","+i),u=0,c=Math.abs(r)+1;u<c;u++)p!=1&&f===3&&(i=","+i,f=0),i=ut+i,f++;r=0;s=d+i}rt=0}for(var et=[],vt=s.split(""),it=0,l=0,h,g,ot=!1,ht=!1,yt=n.indexOf("\\");l<s.length;l++)if(h=vt[l],h==="e"&&(ht=!0),h==="0"&&ft<0?r>0&&rt<=l?(r--,rt++):r>0?r--:g=k[h]:h=="0"&&(ht||h!="0")||(g=k[h]),h==="0"&&yt>-1&&(g=k[h]),l===s.lastIndexOf("\\")&&(ot=!1),g&&!ot)et[it]={rule:g},it+=1;else for(h==="\\"&&(h="",l===s.lastIndexOf("\\")||(ot=!0)),h=h.split(""),e=0;e<h.length;e++)et[it]=h[e],it+=1;return k=et,{rules:k,format:s}}function et(n,t,i){var u,r,e,o;if(ej.isNullOrUndefined(n)||typeof n=="string"||!t)throw"Bad Number Format Exception";if(o=t,u=ft(t,n),e=u.rules,t=u.format,t.indexOf("\\")>=0){var s=t.lastIndexOf("\\"),l=t.slice(0,s),f=t.slice(s+1,t.length),c;f=f.replace(/[9?CANa#&]/g,"_");c=l+f;r=c.replace(/[\\]/g,"");t=t.replace(/[\\]/g,"")}else r=t.replace(/[9?CANa#&]/g,"_");return r=h(r,i),ot(n,t,r,e,i,o)}function h(n,t){var r,f,e,o,u,i;if(n.length!=0){for(r=ej.preferredCulture(t),u="",f=r.numberFormat[","],e=r.numberFormat.currency.symbol,o=r.numberFormat["."],i=0;i<n.length;i++)u+=n[i]==","?f:n[i]=="."?o:n[i]=="$"?e:n[i];n=u}return n}function ot(i,r,u,f,e,o){var ft,l,nt,it;if(!ej.isNullOrUndefined(i)){r.toLowerCase().indexOf("e")>-1&&(ft=o.indexOf("+")>-1?o.split("+")[1]:o.split("-")[1],i=i.toExponential(),o.indexOf("-")>-1&&(i=i.replace("+","")));var b,ut,k,et,rt=b=ut=i.toString(),s=u,a=k=0,c,g="_",d,v,y,tt,ot=r.match(/[\(\[\]\)]/g);if(rt=!r.indexOf("\\")>=0?i=ut.replace(/[\(\)-]/g,""):et,l=f.length-1,nt=b.length-1,ej.isNullOrUndefined(ot))while(a<f.length){if(c=b[k],d=f[a],c==t)break;if(c===d||c===g||c==="e"&&c===d.toLowerCase()?(c===g?g:"",v=s.substring(0,a),y=s.substring(a),c=h(c,e),s=v+c+y.substr(1,y.length),k+=1,a+=1):f[a].rule!=t?(it=b.charCodeAt(k),p(r,it,a)?(v=s.substring(0,a),y=s.substring(a),tt=w(b,k,a,r,u),s=v+tt+y.substr(1,y.length),a++,k++):a++):(d==="e"&&(k=b.indexOf("e")+1),a++),k>rt.length||l<0)break}else while(l>=0){if(c=b[nt],d=f[l],c==t)break;if(c===d||c===g||c==="e"&&c===d.toLowerCase()?(c===g?g:"",v=s.substring(0,l+1),y=s.substring(l+1),c=h(c,e),s=v.substr(0,v.length-1)+c+y,l--,nt--):f[l].rule!=t?(it=b.charCodeAt(nt),p(r,it,l)?(v=s.substring(0,l+1),y=s.substring(l+1),tt=w(b,nt,l,r,u),s=v.substr(0,v.length-1)+tt+y,l--,nt--):l--):l--,k>rt.length||l<0)break}if(i)return(s.indexOf("_")-s.indexOf(",")==1||s.indexOf("_")-s.indexOf(".")==1)&&(s=s.slice(0,s.indexOf("_")-1)),n.trim(s.replace(/[_]/g,""))==""?null:s.replace(/[_]/g,"")}}function p(t,i,r){var f=y,u=!1,e=t.substr(r,1),o=String.fromCharCode(i);return n.each(f,function(n,t){e==n&&(u=o.match(new RegExp(t))?!0:!1)}),u}function w(n,t,i,r,u){var f=!1;return r.indexOf(".")>-1&&i===u.length-1&&n[t+1]>5&&(f=!0),f?(parseInt(n[t])+1).toString():n[t]}function o(n,t){return n.indexOf(t)===0}function c(n,t){return n.substr(n.length-t.length)===t}function f(n){return(n+"").replace(tt,"")}function st(n){return isNaN(n)?NaN:Math[n<0?"ceil":"floor"](n)}function s(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function l(n,t,i){var r=t["-"],u=t["+"],f;switch(i){case"n -":r=" "+r;u=" "+u;case"n-":c(n,r)?f=["-",n.substr(0,n.length-r.length)]:c(n,u)&&(f=["+",n.substr(0,n.length-u.length)]);break;case"- n":r+=" ";u+=" ";case"-n":o(n,r)?f=["-",n.substr(r.length)]:o(n,u)&&(f=["+",n.substr(u.length)]);break;case"(n)":o(n,"(")&&c(n,")")&&(f=["-",n.substr(1,n.length-2)])}return f||["",n]}function ht(n,t,i){var l=i.groupSizes||[3],c=l[0],a=1,v=ej._round(n,t),p;isFinite(v)||(v=n);n=v;var r=n+"",u="",e=r.split(/e/i),f=e.length>1?parseInt(e[1],10):0;r=e[0];e=r.split(".");r=e[0];u=e.length>1?e[1]:"";f>0?(u=s(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=s(r,f+1,!0),u=r.slice(-f,r.length)+u,r=r.slice(0,-f));p=i["."]||".";u=t>0?p+(u.length>t?u.slice(0,t):s(u,t)):"";for(var o=r.length-1,y=i[","]||",",h="";o>=0;){if(c===0||c>o)return r.slice(0,o+1)+(h.length?y+h+u:u);h=r.slice(o-c+1,o+1)+(h.length?y+h:"");o-=c;a<l.length&&(c=l[a],a++)}return r.slice(0,o+1)+y+h+u}function ct(n,t,i){var h,r;if(!t||t==="i")return i.name.length?n.toLocaleString():n.toString();t=t||"D";var e=i.numberFormat,u=Math.abs(n),f=-1,o;t.length>1&&(f=parseInt(t.slice(1),10));h=t.charAt(0).toUpperCase();switch(h){case"D":o="n";u=st(u);f!==-1&&(u=s(""+u,f,!0));n<0&&(u=-u);break;case"N":r=e;r.pattern=r.pattern||["-n"];case"C":r=r||e.currency;r.pattern=r.pattern||["-$n","$n"];case"P":r=r||e.percent;r.pattern=r.pattern||["-n %","n %"];o=n<0?r.pattern[0]||"-n":r.pattern[1]||"n";f===-1&&(f=r.decimals);u=ht(u*(h==="P"?100:1),f,r);break;default:return et(n,t,i)}return lt(u,o,e)}function lt(n,t,i){for(var f=/n|\$|-|%/g,r="",e,u;;){if(e=f.lastIndex,u=f.exec(t),r+=t.slice(e,u?u.index:t.length),!u)break;switch(u[0]){case"n":r+=n;break;case"$":r+=i.currency.symbol||"$";break;case"-":/[1-9]/.test(n)&&(r+=i["-"]||"-");break;case"%":r+=i.percent.symbol||"%"}}return r}function b(n,t,i){var p,o,s,r,w,d,b,k,g,h,nt;typeof i=="string"&&(t=i,i=10);t=ej.globalize.findCulture(t);var c=NaN,u=t.numberFormat,y=t.numberFormat.pattern[0];if(n=n.replace(/ /g,""),n.indexOf(t.numberFormat.currency.symbol)>-1?(n=n.replace(t.numberFormat.currency.symbol||"$",""),n=n.replace(t.numberFormat.currency["."]||".",t.numberFormat["."]||"."),y=f(t.numberFormat.currency.pattern[0].replace("$",""))):n.indexOf(t.numberFormat.percent.symbol)>-1&&(n=n.replace(t.numberFormat.percent.symbol||"%",""),n=n.replace(t.numberFormat.percent["."]||".",t.numberFormat["."]||"."),y=f(t.numberFormat.percent.pattern[0].replace("%",""))),n=f(n),it.test(n))c=parseFloat(n,"",i);else if(rt.test(n))c=parseInt(n,16);else{var a=l(n,u,y),v=a[0],e=a[1];v===""&&u.pattern[0]!=="-n"&&(a=l(n,u,"-n"),v=a[0],e=a[1]);v=v||"+";s=e.indexOf("e");s<0&&(s=e.indexOf("E"));s<0?(o=e,p=null):(o=e.substr(0,s),p=e.substr(s+1));d=u["."]||".";b=o.indexOf(d);b<0?(r=o,w=null):(r=o.substr(0,b),w=o.substr(b+d.length));k=u[","]||",";r=r.split(k).join("");g=k.replace(/\u00A0/g," ");k!==g&&(r=r.split(g).join(""));h=v+r;w!==null&&(h+="."+w);p!==null&&(nt=l(p,u,y),h+="e"+(nt[0]||"+")+nt[1]);!i&&ut.test(h)?c=parseFloat(h):i&&(c=parseInt(h,i))}return c}function r(n,t,i){return n<t||n>i}function at(n,t){var u=new Date,i,r;return t<100&&(i=n.twoDigitYearMax,i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i,r=u.getFullYear(),t+=r-r%100,t>i&&(t-=100)),t}function e(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}function a(n){return n.split("").join(" ").toUpperCase()}function u(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=a(n[t]);return i}function vt(n,t,i){var r,o=n.days,f=n._upperDays;return f||(n._upperDays=f=[u(o.names),u(o.namesAbbr),u(o.namesShort)]),t=a(t),i?(r=e(f[1],t),r===-1&&(r=e(f[2],t))):r=e(f[0],t),r}function yt(n,t,i){var s=n.months,h=n.monthsGenitive||n.months,r=n._upperMonths,o=n._upperMonthsGen,f;return r||(n._upperMonths=r=[u(s.names),u(s.namesAbbr)],n._upperMonthsGen=o=[u(h.names),u(h.namesAbbr)]),t=a(t),f=e(i?r[1]:r[0],t),f<0&&(f=e(i?o[1]:o[0],t)),f}function v(n,t){for(var r,f=0,i=!1,u=0,e=n.length;u<e;u++)r=n.charAt(u),r=="'"?(i?t.push("'"):f++,i=!1):r=="\\"?(i&&t.push("\\"),i=!i):(t.push(r),i=!1);return f}function pt(n,t,i,r){var s,e;if(!n)return null;var u=0,f=0,o=null;t=t.split("");for(var h=t.length,c=function(n){for(var i=0;t[u]===n;)i++,u++;return i>0&&(u-=1),i},l=function(t){var r=new RegExp("^\\d{1,"+t+"}"),i=n.substr(f,t).match(r);return i?(i=i[0],f+=i.length,parseInt(i,10)):null},a=function(t,i){for(var r=0,s=t.length,e,o,u;r<s;r++)if(e=t[r],o=e.length,u=n.substr(f,o),i&&(u=u.toLowerCase()),u==e)return f+=o,r+1;return null},v=function(n){for(var t=0,r=n.length,i=[];t<r;t++)i[t]=(n[t]+"").toLowerCase();return i},y=function(n){var t={};for(var i in n)t[i]=v(n[i]);return t};u<h;u++)s=t[u],s==="d"&&(e=c("d"),r._lowerDays||(r._lowerDays=y(r.days)),o=e<3?l(2):a(r._lowerDays[e==3?"namesAbbr":"names"],!0));return o}function k(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t}function d(n,t,u){var w,ct,h,g,nt,s,wt,b,et;n=f(n);t=f(t);var e=u.calendar,ot=ej.globalize._getDateParseRegExp(e,t),st=new RegExp(ot.regExp).exec(n);if(st===null)return null;var ht=ot.groups,y=null,a=null,v=null,tt=null,l=0,p,it=0,rt=0,ut=0,k=null,ft=!1;for(w=0,ct=ht.length;w<ct;w++)if(h=st[w+1],h){var lt=ht[w],d=lt.length,c=parseInt(h,10);switch(lt){case i.DAY_OF_MONTH_DOUBLE_DIGIT:case i.DAY_OF_MONTH_SINGLE_DIGIT:if(v=c,r(v,1,31))return null;break;case i.MONTH_THREE_LETTER:case i.MONTH_FULL_NAME:if(a=yt(e,h,d===3),r(a,0,11))return null;break;case i.MONTH_SINGLE_DIGIT:case i.MONTH_DOUBLE_DIGIT:if(a=c-1,r(a,0,11))return null;break;case i.YEAR_SINGLE_DIGIT:case i.YEAR_DOUBLE_DIGIT:case i.YEAR_FULL:if(y=d<4?at(e,c):c,r(y,0,9999))return null;break;case i.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case i.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(l=c,l===12&&(l=0),r(l,0,11))return null;break;case i.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case i.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(l=c,r(l,0,23))return null;break;case i.MINUTES_SINGLE_DIGIT:case i.MINUTES_DOUBLE_DIGIT:if(it=c,r(it,0,59))return null;break;case i.SECONDS_SINGLE_DIGIT:case i.SECONDS_DOUBLE_DIGIT:if(rt=c,r(rt,0,59))return null;break;case i.MERIDIAN_INDICATOR_FULL:case i.MERIDIAN_INDICATOR_SINGLE:if(ft=e.PM&&(h===e.PM[0]||h===e.PM[1]||h===e.PM[2]),!ft&&(!e.AM||h!==e.AM[0]&&h!==e.AM[1]&&h!==e.AM[2]))return null;break;case i.DECISECONDS:case i.CENTISECONDS:case i.MILLISECONDS:if(ut=c*Math.pow(10,3-d),r(ut,0,999))return null;break;case i.DAY_OF_WEEK_THREE_LETTER:v=pt(n,t,u,e);break;case i.DAY_OF_WEEK_FULL_NAME:if(vt(e,h,d===3),r(tt,0,6))return null;break;case i.TIME_ZONE_OFFSET_FULL:if((g=h.split(/:/),g.length!==2)||(p=parseInt(g[0],10),r(p,-12,13))||(nt=parseInt(g[1],10),r(nt,0,59)))return null;k=p*60+(o(h,"-")?-nt:nt);break;case i.TIME_ZONE_OFFSET_SINGLE_DIGIT:case i.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(p=c,r(p,-12,13))return null;k=p*60}}if(s=new Date,b=e.convert,wt=b?b.fromGregorian(s)[0]:s.getFullYear(),y===null&&(y=wt),a===null&&(a=0),v===null&&(v=1),b){if(s=b.toGregorian(y,a,v),s===null)return null}else if((s.setFullYear(y,a,v),s.getDate()!==v)||tt!==null&&s.getDay()!==tt)return null;return ft&&l<12&&(l+=12),s.setHours(l,it,rt,ut),k!==null&&(et=s.getMinutes()-(k+s.getTimezoneOffset()),s.setHours(s.getHours()+parseInt(et/60,10),et%60)),s}function g(n,t,r){function o(n,t){var i,r=n+"";return t>1&&r.length<t?(i=it[t-2]+r,i.substr(i.length-t,t)):r}function ut(){return l||b?l:(l=rt.test(t),b=!0,l)}var e=r.calendar,p=e.convert,u,w,y,f,tt,h;if(!t||!t.length||t==="i")return r&&r.name.length?p?g(n,e.patterns.F,r):n.toLocaleString():n.toString();w=t==="s";t=k(e,t);u=[];var s,it=["0","00","000"],l,b,rt=/([^d]|^)(d|dd)([^d]|$)/g,d=0,nt=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,c;for(!w&&p&&(c=p.fromGregorian(n));;){var ft=nt.lastIndex,a=nt.exec(t),et=t.slice(ft,a?a.index:t.length);if(d+=v(et,u),!a)break;if(d%2){u.push(a[0]);continue}y=a[0];f=y.length;switch(y){case i.DAY_OF_WEEK_THREE_LETTER:case i.DAY_OF_WEEK_FULL_NAME:tt=f===3?e.days.namesAbbr:e.days.names;u.push(tt[n.getDay()]);break;case i.DAY_OF_MONTH_SINGLE_DIGIT:case i.DAY_OF_MONTH_DOUBLE_DIGIT:l=!0;u.push(o(c?c[2]:n.getDate(),f));break;case i.MONTH_THREE_LETTER:case i.MONTH_FULL_NAME:h=c?c[1]:n.getMonth();u.push(e.monthsGenitive&&ut()?e.monthsGenitive[f===3?"namesAbbr":"names"][h]:e.months[f===3?"namesAbbr":"names"][h]);break;case i.MONTH_SINGLE_DIGIT:case i.MONTH_DOUBLE_DIGIT:u.push(o((c?c[1]:n.getMonth())+1,f));break;case i.YEAR_SINGLE_DIGIT:case i.YEAR_DOUBLE_DIGIT:case i.YEAR_FULL:h=c?c[0]:n.getFullYear();f<4&&(h=h%100);u.push(o(h,f));break;case i.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case i.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:s=n.getHours()%12;s===0&&(s=12);u.push(o(s,f));break;case i.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case i.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:u.push(o(n.getHours(),f));break;case i.MINUTES_SINGLE_DIGIT:case i.MINUTES_DOUBLE_DIGIT:u.push(o(n.getMinutes(),f));break;case i.SECONDS_SINGLE_DIGIT:case i.SECONDS_DOUBLE_DIGIT:u.push(o(n.getSeconds(),f));break;case i.MERIDIAN_INDICATOR_SINGLE:case i.MERIDIAN_INDICATOR_FULL:h=n.getHours()<12?e.AM?e.AM[0]:" ":e.PM?e.PM[0]:" ";u.push(f===1?h.charAt(0):h);break;case i.DECISECONDS:case i.CENTISECONDS:case i.MILLISECONDS:u.push(o(n.getMilliseconds(),3).substr(0,f));break;case i.TIME_ZONE_OFFSET_SINGLE_DIGIT:case i.TIME_ZONE_OFFSET_DOUBLE_DIGIT:s=n.getTimezoneOffset()/60;u.push((s<=0?"+":"-")+o(Math.floor(Math.abs(s)),f));break;case i.TIME_ZONE_OFFSET_FULL:s=n.getTimezoneOffset()/60;u.push((s<=0?"+":"-")+o(Math.floor(Math.abs(s)),2)+":"+o(Math.abs(n.getTimezoneOffset()%60),2));break;case i.DATE_SEPARATOR:u.push(e["/"]||"/");break;default:throw"Invalid date format pattern '"+y+"'.";}}return u.join("")}function nt(n,t){return t.length?nt(n[t[0]],t.slice(1)):n}var i;ej.globalize={};ej.cultures={};ej.cultures["default"]=ej.cultures["en-US"]=n.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,week:{name:"Week",nameAbbr:"Wek",nameShort:"Wk"},days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]);ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var tt=/^\s+|\s+$/g,it=/^[+-]?infinity$/i,rt=/^0x[a-f0-9]+$/i,ut=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,y={"9":"[0-9 ]","0":"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^]+","<":"",">":"",C:"[A-Za-z ]","?":"[A-Za-z]"};i={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"};ej.globalize._getDateParseRegExp=function(n,t){var e=n._parseRegExp,s,p,o,w,r,b,d;if(e){if(s=e[t],s)return s}else n._parseRegExp=e={};for(var h=k(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),u=["^"],l=[],c=0,a=0,y=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,f;(f=y.exec(h))!==null;){if(p=h.slice(c,f.index),c=y.lastIndex,a+=v(p,u),a%2){u.push(f[0]);continue}o=f[0];w=o.length;switch(o){case i.DAY_OF_WEEK_THREE_LETTER:case i.DAY_OF_WEEK_FULL_NAME:case i.MONTH_FULL_NAME:case i.MONTH_THREE_LETTER:r="(\\D+)";break;case i.MERIDIAN_INDICATOR_FULL:case i.MERIDIAN_INDICATOR_SINGLE:r="(\\D*)";break;case i.YEAR_FULL:case i.MILLISECONDS:case i.CENTISECONDS:case i.DECISECONDS:r="(\\d{"+w+"})";break;case i.DAY_OF_MONTH_DOUBLE_DIGIT:case i.DAY_OF_MONTH_SINGLE_DIGIT:case i.MONTH_DOUBLE_DIGIT:case i.MONTH_SINGLE_DIGIT:case i.YEAR_DOUBLE_DIGIT:case i.YEAR_SINGLE_DIGIT:case i.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case i.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case i.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case i.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case i.MINUTES_DOUBLE_DIGIT:case i.MINUTES_SINGLE_DIGIT:case i.SECONDS_DOUBLE_DIGIT:case i.SECONDS_SINGLE_DIGIT:r="(\\d\\d?)";break;case i.TIME_ZONE_OFFSET_FULL:r="([+-]?\\d\\d?:\\d{2})";break;case i.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case i.TIME_ZONE_OFFSET_SINGLE_DIGIT:r="([+-]?\\d\\d?)";break;case i.DATE_SEPARATOR:r="(\\"+n["/"]+")";break;default:throw"Invalid date format pattern '"+o+"'.";}r&&u.push(r);l.push(f[0])}return v(h.slice(c),u),u.push("$"),b=u.join("").replace(/\s+/g,"\\s+"),d={regExp:b,groups:l},e[t]=d};ej.globalize.addCulture=function(t,i){ej.cultures[t]=n.extend(!0,n.extend(!0,{},ej.cultures["default"],i),ej.cultures[t]);ej.cultures[t].calendar=ej.cultures[t].calendars.standard};ej.globalize.preferredCulture=function(n){return n=typeof n!="undefined"&&typeof n==typeof this.cultureObject?n.name:n,this.cultureObject=ej.globalize.findCulture(n),this.cultureObject};ej.globalize.setCulture=function(n){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(n)),n=typeof n!="undefined"&&typeof n==typeof this.globalCultureObject?n.name:n,n&&(this.globalCultureObject=ej.globalize.findCulture(n)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject};ej.globalize.culture=function(n){ej.cultures.current=ej.globalize.findCulture(n)};ej.globalize.findCulture=function(t){var f,i,e,u,r,o;if(t){if(n.isPlainObject(t)&&t.numberFormat&&(f=t),typeof t=="string"){if(i=ej.cultures,i[t])return i[t];if(t.indexOf("-")>-1){if(e=t.split("-")[0],i[e])return i[e]}else for(u=n.map(i,function(n){return n}),r=0;r<u.length;r++)if(o=u[r].name.split("-")[0],o===t)return u[r];return ej.cultures["default"]}}else f=ej.cultures.current||ej.cultures["default"];return f};ej.globalize.format=function(n,t,i){var r=ej.globalize.findCulture(i);return typeof n=="number"?n=ct(n,t,r):n instanceof Date&&(n=g(n,t,r)),n};ej.globalize._round=function(n,t){var i=Math.pow(10,t);return Math.round(n*i)/i};ej.globalize.parseInt=function(n,t,i){return t||(t=10),Math.floor(b(n,i,t))};ej.globalize.getISODate=function(n){if(n instanceof Date)return n.toISOString()};ej.globalize.parseFloat=function(n,t,i){return typeof t=="string"&&(i=t,t=10),b(n,i)};ej.globalize.parseDate=function(n,t,i){var r,o,f,u,s,e;if(i=ej.globalize.findCulture(i),t){if(typeof t=="string"&&(t=[t]),t.length)for(u=0,s=t.length;u<s;u++)if(e=t[u],e&&(r=d(n,e,i),r))break}else{f=i.calendar.patterns;for(o in f)if(r=d(n,f[o],i),r)break}return r||null};ej.globalize.getLocalizedConstants=function(t,i){var r,u=t.replace("ej.","").split(".");return r=nt(ej,u),n.extend(!0,{},r.Locale["default"],r.Locale[i?i:this.cultureObject.name])};n.extend(ej,ej.globalize)}(jQuery);eAnimation=eAnimation||{};ejAnimation={};$.fn.ejAnimation=function(n,t,i){var r=$.Deferred();return new eAnimation(this,n,t,i).done(function(n){return r.resolve(n)}),r.promise()};eAnimation=function(n,t,i,r){return this._deferred=$.Deferred(),this._initAnimation(n,t,i,r),this._deferred.promise(this)};eAnimation.prototype={_initAnimation:function(n,t,i,r){var n=$(n),u=this;if(i=i?i:400,r=r?r:ejAnimation.Easing.Ease,n.off(ej.animationEndEvent()),t=="rippleEffect")this._createRippleSpan(n),ej.listenTouchEvent(n.addClass("e-ripple-parent"),ej.startEvent(),$.proxy(this._rippleAnimation,this));else if(t=="stop"||t=="stopAnimation")this.stopAnimation(n);else{n.addClass("in-animation").on(ej.animationEndEvent(),function(){return n.css("animation","").removeClass("in-animation"),n.off(ej.animationEndEvent()),u._deferred.resolve(n)});n.css((ej.userAgent()?"-"+ej.userAgent()+"-":"")+"animation",t+" "+i+"ms "+r)}},stopAnimation:function(n){n.css((ej.userAgent()?"-"+ej.userAgent()+"-":"")+"animation","").removeClass("in-animation");this._deferred.resolve(n)},_rippleAnimation:function(n){var u=n.changedTouches?n.changedTouches[0]:n,o=n.target,r=$(n.currentTarget),s=this,i=o.getBoundingClientRect(),t,f,e;r.on(ej.animationEndEvent(),function(){return $(ripple).css("animation",""),s._deferred.resolve(this)});t=$(n.target).closest(".e-ripple");t.length?(t=t[0],i=t.getBoundingClientRect()):t=n.target;$(t).hasClass("e-ripple")&&(ripple=this._createRippleSpan(r),$(ripple).appendTo(t),ripple.style.height=ripple.style.width=Math.max(i.width,i.height)+"px",f=u.pageY-i.top-ripple.offsetHeight/2-document.body.scrollTop,e=u.pageX-i.left-ripple.offsetWidth/2-document.body.scrollLeft,ripple.style.top=f+"px",ripple.style.left=e+"px",$(ripple).css("animation","ripple .5s ease-out"))},_createRippleSpan:function(n){return ripple=n.find(".ripple")[0],ripple||(ripple=document.createElement("span"),ripple.className="ripple",ripple.style.height=ripple.style.width="100%",n[0].appendChild(ripple)),ripple}};ejAnimation.Effect={SlideLeftIn:"slideLeftIn",SlideLeftOut:"slideLeftOut",SlideRightIn:"slideRightIn",SlideRightOut:"slideRightOut",SlideTopIn:"slideTopIn",SlideTopOut:"slideTopOut",SlideBottomIn:"slideBottomIn",SlideBottomOut:"slideBottomOut",SlideLeft:"slideLeft",SlideRight:"slideRight",SlideUp:"slideUp",SlideDown:"slideDown",FadeIn:"fadeIn",FadeOut:"fadeOut",FadeZoomIn:"fadeZoomIn",FadeZoomOut:"fadeZoomOut",ZoomIn:"zoomIn",ZoomOut:"zoomOut",FlipRightDownIn:"flipRightDownIn",FlipRightDownOut:"flipRightDownOut",FlipRightUpIn:"flipRightUpIn",FlipRightUpOut:"flipRightUpOut",FlipLeftDownIn:"flipLeftDownIn",FlipLeftDownOut:"flipLeftDownOut",FlipLeftUpIn:"flipLeftUpIn",FlipLeftUpOut:"flipLeftUpOut",FlipYRightIn:"flipYRightIn",FlipYRightOut:"flipYRightOut",FlipYLeftIn:"flipYLeftIn",FlipYLeftOut:"flipYLeftOut",FlipXUpIn:"flipXUpIn",FlipXUpOut:"flipXUpOut",FlipXDownIn:"flipXDownIn",FlipXDownOut:"flipXDownOut",RippleEffect:"rippleEffect"};ejAnimation.Easing={Ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",Linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",Easein:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",EaseOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",EaseInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",Bounce:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",ElasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",ElasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",ElasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},function(){ejPageAnimation={slideLeft:["slideLeftOut","slideRightIn","slideRightOut","slideLeftIn"],slideRight:["slideRightOut","slideLeftIn","slideLeftOut","slideRightIn"],slideUp:["slideTopOut","slideBottomIn","slideBottomOut","slideTopIn"],slideDown:["slideBottomOut","slideTopIn","slideTopOut","slideBottomIn"],flipIn:["flipYLeftOut","flipYRightIn","flipYRightOut","flipYLeftIn"],flipOut:["flipYRightOut","flipYLeftIn","flipYLeftOut","flipYRightIn"],pop:["fadeZoomOut","fadeZoomIn","fadeZoomOut","fadeZoomIn"]};App={window:$(window),document:$(document),html:$("html"),head:$("head"),container:$("body"),model:{},_isBack:!1,_initialHeap:!0,currentStateId:null,checkStateId:null,activeSubPage:null,activePage:null,renderEJMControlsByDef:!0,applyMobileStyles:!0,defaults:{enableBrowserHistory:!0,forceHash:!1,enableAjax:"auto",ajaxOptions:{async:!0,crossDomain:!0,data:null,dataType:"html",contentType:"text/plain",method:"GET"},hashValue:null,enableCache:!1,enableAnimation:!0,animateOptions:{transitionType:"slideLeft",transitionDuration:"400",easing:"ease"},toPageClass:"",isReverseAnimation:!1,customOption:null,viewTransfered:null,viewBeforeTransfer:null,ajaxSuccess:null,ajaxFailure:null,refreshed:null,onBack:null,onHistoryBack:null},_isUrl:function(n){return/[\.|\/|\#]/g.test(n)},_getModel:function(n){return n.data("historyModel")},_getEventArguments:function(n){return{heap:n.data("heap")?n.data("heap"):{},historyState:history.state?{target:history.state.target,templateUrl:history.state.targetUrl,templateContent:history.state.targetContent,userModel:history.state.userModel,uid:history.state.uid}:{},renderingPage:App._renderingPage}},transferPage:function(n,t,i){var n,r,h,e,f,u,o,s;if(ej.mobile.WaitingPopup.show(),n=$("#"+n),n.addClass("page-container").data({historyModel:$.extend(!1,App.defaults,i?i:{})}),r=App._getModel(n),h=App._isUrl(t),n.children().first().attr("data-url")){for(currentPageUrl=n.children().first().attr("id"),newpageurl=t,e=[],f=0;f<n.data("heap").length;f++)e.push(n.data("heap")[f].href);u=e.indexOf(newpageurl);u>-1?(o=n.data("heap")[u],n.data("heap").splice(u,1),n.data("heap").push(o),App._loadExistingView(n,t,r),r.enableBrowserHistory&&(this._trimmedContent=$.trim(n.children().html()),App._initialHeap&&(App._initialTargetId=$("#"+n[0].id),App._initialHeap=!1),o.href==t&&u==n.data("heap").length-1?history.replaceState({target:n[0].id,targetUrl:t,targetContent:r.enableCache?this._trimmedContent:"",userModel:i,uid:App.currentStateId},t,r.forceHash?"#"+(r.hashValue?r.hashValue:t):App._isUrl(t)?t:"#"+t):history.pushState({target:n[0].id,targetUrl:t,targetContent:r.enableCache?this._trimmedContent:"",userModel:i,uid:App.currentStateId},t,r.forceHash?"#"+(r.hashValue?r.hashValue:t):App._isUrl(t)?t:"#"+t))):App._getContent(n,t,r,!0)}else s=$("<div class='e-m-hidden' style='z-index:1'><\/div>"),s.attr({id:"page_"+Math.floor(Math.random()*1e3+1)+"_container"}),n.wrapInner(s),App._pushHistory(n,t,n.html(),i),App._getContent(n,t,r,!0);App.currentStateId=history.state?history.state.uid+1:1},_updateContent:function(n,t,i,r){var u=App._getModel(n),o=App._isUrl(t)?"template_"+Math.floor(Math.random()*1e3+1):t,f,e;App._trimmedContent=$.trim(r);n.css({overflow:"hidden"});f=$("<div id="+o+"_container class='e-m-hidden' data-url="+t+"><\/div>");f.html(App._trimmedContent);e=$("<div><\/div>");e.append(f.clone());App._pushHistory(n,t,e.html(),i);e.remove();App._renderingPage=f;n.append(f);App._animatePages(n,u.isReverseAnimation);u.enableBrowserHistory&&(App._initialHeap&&(App._initialTargetId=$("#"+n[0].id),App._initialHeap=!1),history.pushState({target:n[0].id,targetUrl:t,targetContent:u.enableCache?App._trimmedContent:"",userModel:i,uid:App.currentStateId},t,u.forceHash?"#"+(u.hashValue?u.hashValue:t):App._isUrl(t)?t:"#"+t));App._currentTarget=n},_animatePages:function(n,t){var i=App._getModel(n),r;typeof i.animateOptions.transitionType=="string"&&(i.animateOptions.transitionType=ejPageAnimation[i.animateOptions.transitionType]);typeof i.animateOptions.easing=="string"&&(i.animateOptions.easing=ejAnimation.Easing[i.animateOptions.easing]);App._page1=n.children().first().addClass("page");App._page2=n.children().last().addClass("page "+i.toPageClass);i.viewBeforeTransfer&&App._trigger("viewBeforeTransfer",App._getEventArguments(n),n);r=App;ej.widget.init(App._page2);i.enableAnimation?(n.addClass("e-m-intransition"),App._page1.ejAnimation("stop"),App._page2.ejAnimation("stop"),t?(r._page1.removeClass("e-m-hidden").ejAnimation(i.animateOptions.transitionType[2],i.animateOptions.transitionDuration,i.animateOptions.easing),r._page2.removeClass("e-m-hidden").ejAnimation(i.animateOptions.transitionType[3],i.animateOptions.transitionDuration,i.animateOptions.easing).done($.proxy(function(t){t.siblings().remove();ej.mobile.WaitingPopup.hide();n.removeClass("e-m-intransition");this._page2.css("z-index","").removeClass("page");i.viewTransfered&&App._trigger("viewTransfered",App._getEventArguments(n),n)},r))):(r._page1.removeClass("e-m-hidden").ejAnimation(i.animateOptions.transitionType[0],i.animateOptions.transitionDuration,i.animateOptions.easing),r._page2.removeClass("e-m-hidden").ejAnimation(i.animateOptions.transitionType[1],i.animateOptions.transitionDuration,i.animateOptions.easing).done($.proxy(function(t){t.siblings().remove();ej.mobile.WaitingPopup.hide();n.removeClass("e-m-intransition");this._page2.css("z-index","").removeClass("page");i.viewTransfered&&App._trigger("viewTransfered",App._getEventArguments(n),n)},r)))):(n.children().not(":last").remove(),App._page2.removeClass("e-m-hidden page").css("z-index",""),ej.mobile.WaitingPopup.hide(),i.viewTransfered&&App._trigger("viewTransfered",App._getEventArguments(n),n));App._isBack=!1},_pushHistory:function(n,t,i,r){var u=App._getModel(n),f=n.data("heap"),e=f?f.length:0;currentPageUrl=u.enableAjax?t:n.children().first().attr("id");e==0?n.data("heap",[{target:n,href:n.children().first().attr("id"),content:i,model:r}]):n.data("heap").push({target:n,href:t,content:u.enableCache?i:"",model:r})},_loadExistingView:function(n,t,i){var f=App._getModel(n),r=n.data("heap"),u=r.length;heapLastContent=r[u-1].content;heapLastUrl=r[u-1].href;heapModel=r[u-1].model;heapLastContent!=""?(App._renderingPage=$(heapLastContent),n.append(App._renderingPage),App._animatePages(n,f.isReverseAnimation)):App._getContent(n,heapLastUrl,heapModel,!1);(i.refreshed?i.refreshed:f.refreshed)&&App._trigger("refreshed",App._getEventArguments(n),n)},_getContent:function(n,t,i,r){var u=App._getModel(n),e,o,f;App._isUrl(t)?(proxy=App,$.ajax({url:t,dataType:i.dataType?i.dataType:u.ajaxOptions.dataType,crossDomain:i.crossDomain?i.crossDomain:u.ajaxOptions.crossDomain,contentType:i.contentType?i.contentType:u.ajaxOptions.contentType,async:!1,data:i.data?i.data:u.ajaxOptions.data,method:i.method?i.method:u.ajaxOptions.method,success:function(f){var o,s,e;u.ajaxSuccess&&App._trigger("ajaxSuccess",App._getEventArguments(n),n);o=/<body[^>]*>((.|[\n\r])*)<\/body>/im;templateContent=o.exec(f)?o.exec(f)[1]:f;r?proxy._updateContent(n,t,i,templateContent):(s=proxy._isUrl(t)?"template_"+Math.floor(Math.random()*1e3+1):t,e=$("<div id="+s+"_container class='e-m-hidden' data-url="+t+"><\/div>"),e.append($.trim(templateContent)),App._renderingPage=e,n.append(e),proxy._animatePages(n,App._isBack))},error:function(){ej.mobile.WaitingPopup.hide();u.ajaxFailure&&App._trigger("ajaxFailure",App._getEventArguments(n),n)}})):(e=$("#"+t),templateContent=e.html(),r?App._updateContent(n,t,i,templateContent):(o=App._isUrl(t)?"template_"+Math.floor(Math.random()*1e3+1):t,f=$("<div id="+o+"_container class='e-m-hidden' data-url="+t+"><\/div>"),f.append($.trim(templateContent)),App._renderingPage=f,n.append(f),App._animatePages(n,u.isReverseAnimation)))},renderEJMControls:function(n){var t=n?n:App.activePage;App.renderEJMControlsByDef&&(t.find("input[type='button']:not([data-role]):attrNotStartsWith('ejm-'),input[type='submit']:not([data-role]):attrNotStartsWith('ejm-'),input[type='reset']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmbutton"),t.find("a:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmactionlink"),t.find("input:not([data-role]):not([type]):attrNotStartsWith('ejm-'),input[type='text']:not([data-role]):attrNotStartsWith('ejm-'),input[type='tel']:not([data-role]):attrNotStartsWith('ejm-'),input[type='email']:not([data-role]):attrNotStartsWith('ejm-'),input[type='password']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmtextbox"),t.find("input[type='checkbox']:not([data-role]):attrNotStartsWith('ejm-')").filter(function(){if(!$(this).closest("[data-role='ejmgroupbutton']").length)return this}).attr("data-role","ejmcheckbox"),t.find("input[type='radio']:not([data-role]):attrNotStartsWith('ejm-')").filter(function(){if(!$(this).closest("[data-role='ejmgroupbutton']").length)return this}).attr("data-role","ejmradiobutton"),t.find("input[type='date']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmdatepicker"),t.find("input[type='time']:not([data-role]):attrNotStartsWith('ejm-')").attr("data-role","ejmtimepicker"))},back:function(n){var i,e,r,t,u,o;if(typeof n=="undefined")if(i=$("<div class='e-m-hidden'><\/div>"),history.state){if(ej.isNullOrUndefined(history.state.target))return;App._currentTarget=n=$("#"+history.state.target);r=App._getModel(n);App._currentTarget.data({historyModel:$.extend(!1,App.defaults,history.state.userModel?history.state.userModel:{})});history.state.targetContent==""?App._getContent(n,history.state.targetUrl,r,!1):(e=App._isUrl(history.state.targetUrl)?"template_"+Math.floor(Math.random()*1e3+1)+"_container":history.state.targetUrl,i.attr({id:e,"page-url":history.state.targetUrl}),i.html(history.state.targetContent),App._renderingPage=i,n.append(i),App._animatePages(App._currentTarget,r.isReverseAnimation));App.model.onHistoryBack&&App._trigger("onHistoryBack",App._getEventArguments(n),n);App.checkStateId=history.state&&history.state.uid}else r=App._getModel(App._initialTargetId),i.attr("id",App._initialTargetId.data("heap")[0].href+"_container"),i.html(App._initialTargetId.data("heap")[0].content),App._renderingPage=i,App._initialTargetId.append(i),App._animatePages(App._initialTargetId,r.isReverseAnimation),App.model.onHistoryBack&&App._trigger("onHistoryBack",App._getEventArguments(App._initialTargetId),n);else if(App._isBack=!0,t=$("#"+n).data("heap"),t&&t.length){if(u=$("#"+n),o=t.pop(),t.length){var f=t[t.length-1].content,s=t[t.length-1].href,h=t[t.length-1].model;f!=""||t.length<=1?(App._renderingPage=f,u.append(f),App._animatePages($("#"+n),App._isBack)):App._getContent(u,s,h,!1)}App.model.onBack&&App._trigger("onBack",App._getEventArguments($("#"+n)),$("#"+n))}else return!1},_trigger:function(n,t,i){var f=App._getModel(i),r,e,u,o,s;if(f)return(r=null,o={},t=$.extend({target:i},t),$.extend(o,t),n in f&&(r=f[n]),r&&(typeof r=="string"&&(r=ej.util.getObject(r,window)),$.isFunction(r)&&(u=ej.event(n,f,t),e=r.call(App,u),t&&$.extend(t,u),u.cancel||!ej.isNullOrUndefined(e))))?e===!1||u.cancel:(s=Boolean(t),t=t||{},t.originalEventType=n,t.type=n,u=$.Event(t.type,ej.event(t.type,f,t)),s&&$.extend(t,u),u.cancel)}}}();$(function(){App.applyMobileStyles&&$("body").find("[data-role*='ejm']").length>0&&$("body").addClass("e-m-user-select e-m-viewport e-m-"+ej.getRenderMode());App._currentPage=App.activeSubPage=App.activePage=$("body");App.window.on("popstate",function(n){App._isBack=!0;App.checkStateId&&n.originalEvent.state&&n.originalEvent.state.uid>=App.checkStateId&&(App._isBack=!1);App.back()})}),function(n,t){t.mobile.AjaxLoader={_renderItems:function(i,r,u){var i=n(i),e,f,o;this._control=this._rootCSS.split("e-m-")[1];i.attr("id",this.elementId+"-"+this._control+"-item"+u).addClass("e-m-"+this._control+"-item");e=!t.isNullOrUndefined(this._items[u].enableAjax)&&this._items[u].enableAjax?this._items[u].enableAjax:this.model.enableAjax;this._storedContent[u]||e||(this._items[u].href?(f=t.getCurrentPage().find(this._items[u].href),this._storedContent[u]=f[0]&&f[0].nodeName&&f[0].nodeName.toLowerCase()=="script"?t.getClearString(f[0].innerHTML):f):this._storedContent[u]=this._items[u].template?this._items[u].template:i.html());e||(o=t.buildTag("div.e-m-"+this._control+"-content e-m-"+this._control+"-static-content#"+this.elementId+"-"+this._control+"-item"+u+"-content",this._storedContent[u]).appendTo(r));e&&this.model.showAjaxPopup&&t.mobile.WaitingPopup.show();e&&this.model.prefetchAjaxContent&&this._loadAjaxContent(i,r,u)},_loadAjaxContent:function(i,r,u){var o=n(i),f=this,s=this,e=this._items[u].href,h,c;(!n.support.pushstate||t.isWindowsWebView())&&(e=this._makeUrlAbsolute(e));h={item:i,index:u,text:o.text(),url:this.model.ajaxSettings.url?this.model.ajaxSettings.url:e};this.model.ajaxBeforeLoad&&this._trigger("ajaxBeforeLoad",h);c={cache:this.model.ajaxSettings.cache,async:this.model.ajaxSettings.async,type:this.model.ajaxSettings.type,contentType:this.model.ajaxSettings.contentType,url:t.isWindowsWebView()?e:this.model.ajaxSettings.url?this.model.ajaxSettings.url:e,dataType:this.model.ajaxSettings.dataType,data:this.model.ajaxSettings.data,successHandler:function(h){var l={item:i,index:u,text:o.text(),url:f.model.ajaxSettings.url?f.model.ajaxSettings.url:e},a=t.getCurrentPage().find("#"+f.elementId+"-"+s._control+"-item"+u+"-content"),c;f.model.enableCache&&a.length!=0||(c=t.buildTag("div.e-m-"+s._control+"-content e-m-"+s._control+"-ajax-content#"+f.elementId+"-"+s._control+"-item"+u+"-content",/<\/?body[^>]*>/gmi.test(h)?h.split(/<\/?body[^>]*>/gmi)[1]:h||"").appendTo(r),f._content=this._control=="acc"?c.children():c,(!t.isAppNullOrUndefined()&&App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(n(c)));t.widget.init(f._content);f.model.ajaxSuccess&&f._trigger("ajaxSuccess",l);f._ajaxSuccessHandler&&f._ajaxSuccessHandler(l)},errorHandler:function(n,t,r){var u={xhr:n,textStatus:t,errorThrown:r,item:i,index:o.index(),text:o.text(),url:f.model.ajaxSettings.url?f.model.ajaxSettings.url:e};f.model.ajaxError&&f._trigger("ajaxError",u)},completeHandler:function(){f.model.showAjaxPopup&&t.mobile.WaitingPopup.hide();var n={content:f._content,item:i,index:o.index(),text:o.text(),url:f.model.ajaxSettings.url?f.model.ajaxSettings.url:e};f.model.ajaxComplete&&f._trigger("ajaxComplete",n)}};t.sendAjaxRequest(c)},_showHideItems:function(i,r,u){var f=t.getCurrentPage(),e=t.isNullOrUndefined(this._items[u].enableAjax)?this.model.enableAjax:this._items[u].enableAjax,o=f.find("#"+i.id+"-content").length;e&&o==0&&!this.model.prefetchAjaxContent&&this._loadAjaxContent(i,r,u);n(this["_"+this._control+"Items"]).removeClass("e-m-state-active");n(i).addClass("e-m-state-active");f.find(".e-m-"+this._control+"-content").addClass("e-m-"+this._control+"-state-hide");f.find("#"+i.id+"-content").removeClass("e-m-"+this._control+"-state-hide");this.model.prefetchAjaxContent||this.model.enableCache||f.find(".e-m-"+this._control+"-ajax-content.e-m-"+this._control+"-state-hide").remove();this.model.select&&this._trigger("select",{index:u,item:n(i),text:n(i).text(),isInteraction:this._isInteraction?!0:!1})},ajaxReload:function(){var n=this.element.find(".e-m-"+this._control+"-item.e-m-state-active"),t=this.element.find(".e-m-"+this._control+"-content:not(.e-m-"+this._control+"-state-hide)"),i=t.parent(),r=n[0].id.split("item")[1];t.remove();this._loadAjaxContent(n,i,r)},_makeUrlAbsolute:function(i){var r=n("<a href ='"+i+"'><\/a>")[0],u;n("body").append(r);u=r.pathname.indexOf("/")!=0?"/"+r.pathname:r.pathname;var f=t.browserInfo(),e=f.name=="msie"&&f.version=="9.0",o=r.protocol+"//"+(e&&r.port=="80"?r.host.replace(":80",""):r.host)+u+r.search+r.hash;return n(r).remove(),o}}}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("ejmAccordion","ej.mobile.Accordion",{_setFirst:!0,_requiresID:!0,_rootCSS:"e-m-acc",validTags:["ul"],_tags:[{tag:"items",attr:["text","href","enableAjax"],content:"template"}],defaults:{renderMode:"auto",cssClass:"",selectedItems:[0],disabledItems:[],enableMultipleOpen:!1,expandAll:!1,collapseAll:!1,heightAdjustMode:"content",enableRippleEffect:ej.isAndroid()?!0:!1,showHeaderIcon:!0,headerIcon:{normal:"e-m-icon-down",active:"e-m-icon-up"},spinnerText:null,enablePersistence:!1,enableAjax:!1,enableCache:!1,prefetchAjaxContent:!1,showAjaxPopup:!1,items:[],itemTouchStart:null,itemTouchEnd:null,select:null,expand:null,collapse:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,ajaxComplete:null,ajaxSettings:{type:"GET",cache:!1,async:!0,dataType:"html",contentType:"html",url:"",data:{}},locale:"en-US"},dataTypes:{renderMode:"enum",cssClass:"string",selectedItems:"array",disabledItems:"array",enableMultipleOpen:"boolean",expandAll:"boolean",enableRippleEffect:"boolean",collapseAll:"boolean",heightAdjustMode:"enum",showHeaderIcon:"boolean",headerIcon:{normal:"string",active:"string"},spinnerText:"string",enablePersistence:"boolean",enableAjax:"boolean",enableCache:"boolean",prefetchAjaxContent:"boolean",showAjaxPopup:"boolean",locale:"string"},observableArray:["selectedItems"],selectedItems:ej.util.valueFunction("selectedItems"),_init:function(){this._getLocalizedLabels();this.model.spinnerText=ej.isNullOrUndefined(this.model.spinnerText)?this._localizedLabels.spinnerText:this.model.spinnerText;this._renderControl();this._wireEvents(!1)},_renderControl:function(){var i,li,itemLength,content;if(this._orgEle=$(this.element).clone(),ej.setRenderMode(this),this.element.addClass("e-m-user-select e-m-clearall e-m-"+this.model.renderMode+" "+this.model.cssClass),this.elementId=this.element[0].id,this._headerIcon=jQuery.extend({},this.model.headerIcon),this.model.prefetchAjaxContent=this.model.expandAll&&this.model.enableAjax?!0:this.model.prefetchAjaxContent,this.model.enableMultipleOpen=this.model.expandAll?!0:this.model.enableMultipleOpen,typeof this.model.items=="string"&&(this.model.items=eval(this.model.items)),this._storedContent=[],this._accItems=[],this._items=[],this._isAngular=this.model.items.length>0?!0:!1,this._isAngular)this._items=this.model.items;else for(this._accItems=this.element.find("li"),i=0,itemLength=this._accItems.length;i<itemLength;i++)this._items.push(this._insertItem($(this._accItems[i])));for(li=0,itemLength=this._items.length;li<itemLength;li++)this._isAngular&&this._accItems.push(ej.buildTag("li").appendTo(this.element)[0]),content=ej.buildTag("li#"+this.elementId+"-acc-item"+li+"-content-wrapper.e-m-acc-content-wrapper e-m-acc-state-hide"),$(this._accItems[li]).after(content),this._renderItems(this._accItems[li],content,li),$(this._accItems[li]).text(this._items[li].text?this._items[li].text:$(this._accItems[li]).attr("data-ej-text")).addClass((li==0?"e-m-acc-item-first ":li==itemLength-1?"e-m-acc-item-last ":"")+(this.model.showHeaderIcon?this.model.headerIcon.normal:""));this._setEnableRippleEffect();this._postRendering()},_setEnableRippleEffect:function(){$(this._accItems)[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple")},_insertItem:function(n){var t={};return t.text=ej.getAttrVal(n,"data-ej-text")==undefined?$(n).html():ej.getAttrVal(n,"data-ej-text"),t.href=ej.getAttrVal(n,"data-ej-href",undefined),t.enableAjax=ej.getBooleanVal(n,"data-ej-enableAjax",undefined),t.template=$(n).html(),t},_postRendering:function(){this._setHeightAdjustMode();this.model.expandAll?this._setExpandAll(!0):this.model.collapseAll?this._setCollapseAll(!0):this._loadItem(this.selectedItems());this.model.disabledItems.length&&this._enableDisable(this.model.disabledItems,!0)},_ajaxSuccessHandler:function(n){if($(n.item).text()==this.model.spinnerText&&($(n.item).text(this._items[n.index].text).next(".e-m-acc-content-wrapper").slideDown(300,"linear"),this.model.expand&&!this.model.enableMultipleOpen)){var t=this,i={item:n.item,index:n.index};setTimeout(function(){t._trigger("expand",i)},300)}},_loadItem:function(n,t){var e=this,i,s,h,r,f,o;if(this.model.enableMultipleOpen){for(i=0,s=n.length;i<s;i++){var o={item:u,index:n[i]},u=$(this._accItems[n[i]]),r=this.element.find("#"+this._accItems[n[i]].id+"-content-wrapper"),f=r.find(".e-m-acc-content").length>0;u.hasClass("e-m-state-active")?t?u.removeClass("e-m-state-active "+this.model.headerIcon.active).addClass(this.model.headerIcon.normal):"":u.addClass("e-m-state-active "+(this.model.showHeaderIcon?this.model.headerIcon.active:"")).removeClass(this.model.headerIcon.normal);u.hasClass("e-m-state-active")?t?this.selectedItems().push(parseInt(n[i])):"":this.selectedItems().splice(n[i],1);!(ej.isNullOrUndefined(this._items[n[i]].enableAjax)?this.model.enableAjax:this._items[n[i]].enableAjax)||this.model.prefetchAjaxContent||f||(u.text(this.model.spinnerText),this._loadAjaxContent(u,r,n[i]));r.hasClass("e-m-acc-state-hide")?((!this.model.enableAjax||this.model.prefetchAjaxContent||f)&&$(r).slideDown(300,"linear"),this.model.expand&&setTimeout(function(){e._trigger("expand",o)},300),r.removeClass("e-m-acc-state-hide")):t&&(r.slideUp(300,"linear").addClass("e-m-acc-state-hide"),this.model.collapse&&setTimeout(function(){e._trigger("collapse",o)},300))}this.model.enableCache||this.model.prefetchAjaxContent||this.element.find(".e-m-acc-content-wrapper.e-m-acc-state-hide > .e-m-acc-ajax-content").remove()}else this.selectedItems(n),t&&!this.model.collapseAll&&(h={item:this.element.find(".e-m-acc-item.e-m-state-active"),index:this.element.find(".e-m-acc-item.e-m-state-active")[0].id.split("item")[1]}),this.element.find(".e-m-acc-item.e-m-state-active").removeClass(this.model.headerIcon.active).addClass(this.model.showHeaderIcon?this.model.headerIcon.normal:""),r=this.element.find("#"+this._accItems[n[0]].id+"-content-wrapper"),f=r.find(".e-m-acc-content").length>0,!(ej.isNullOrUndefined(this._items[n[0]].enableAjax)?this.model.enableAjax:this._items[n[0]].enableAjax)||this.model.prefetchAjaxContent||f||$(this._accItems[n[0]]).text(this.model.spinnerText),(!this.model.enableAjax||this.model.prefetchAjaxContent||f)&&($(r).slideDown(300,"linear"),o={item:this._accItems[n[0]],index:n[0]},this.model.expand&&setTimeout(function(){e._trigger("expand",o)},300)),r.removeClass("e-m-acc-state-hide"),this._showHideItems(this._accItems[n[0]],r,n[0]),this.model.collapse&&t&&setTimeout(function(){e._trigger("collapse",h)},300);this.element.find(".e-m-acc-item.e-m-state-active").removeClass(this.model.headerIcon.normal).addClass(this.model.showHeaderIcon?this.model.headerIcon.active:"");this.element.find(".e-m-acc-item:not(.e-m-state-active)").next(".e-m-acc-content-wrapper").slideUp(t?300:0,"linear").addClass("e-m-acc-state-hide")},_getLocalizedLabels:function(){this._localizedLabels=ej.getLocalizedConstants(this.sfType,this.model.locale)},_setLocale:function(){this._getLocalizedLabels();this.model.spinnerText=this._localizedLabels.spinnerText},_createDelegates:function(){this._itemTouchStartHndlr=$.proxy(this._itemTouchStart,this);this._itemTouchEndHndlr=$.proxy(this._itemTouchEnd,this);this._touchMoveHndlr=$.proxy(this._onTouchMove,this);this._resizeHndlr=$.proxy(this._resize,this)},_wireEvents:function(n){this._createDelegates();ej.listenEvents([this._accItems],[ej.startEvent()],[this._itemTouchStartHndlr],n);ej.listenTouchEvent($(window),"onorientationchange"in window?"orientationchange":"resize",this._resizeHndlr,n)},_itemTouchStart:function(n){var i=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n,t;this._clickX=i.clientX;this._isMouseMove=!1;t={item:n.target,index:n.target.id.split("item")[1]};this._target=n.target;ej.listenEvents([this._accItems,this._accItems],[ej.endEvent(),ej.moveEvent()],[this._itemTouchEndHndlr,this._touchMoveHndlr],!1);this.model.itemTouchStart&&this._trigger("itemTouchStart",t)},_onTouchMove:function(n){var t=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n;this._clickX!=t.clientX&&(this._isMouseMove=!0)},_itemTouchEnd:function(n){if(ej.listenEvents([this._accItems,this._accItems],[ej.moveEvent(),ej.endEvent()],[this._touchMoveHndlr,this._itemTouchEndHndlr],!0),n.target===this._target&&!this._isMouseMove){var t={item:n.target,index:n.target.id.split("item")[1]};!this.model.enableMultipleOpen&&$(n.target).hasClass("e-m-state-active")||$(n.target).hasClass("e-m-state-disabled")||this._loadItem([parseInt(n.target.id.split("item")[1])],!0);this.element.find(".e-m-state-active").length==this._items.length?this.model.expandAll=!0:this.model.collapseAll=this.element.find(".e-m-state-active").length==0?!0:!1;this.model.expandAll=!1;this.model.itemTouchEnd&&this._trigger("itemTouchEnd",t)}},_resize:function(){this._setHeightAdjustMode()},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_refresh:function(){this._destroy();this.element.addClass("e-m-acc");this._renderControl();this._wireEvents()},_destroy:function(){this._wireEvents(!0);this._clearElement()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_setExpandAll:function(n){n&&(this.model.enableAjax&&!this.model.prefetchAjaxContent?this._refresh():this._addRemoveClass(!0),this.model.collapseAll&&(this.model.collapseAll=!1))},_setCollapseAll:function(n){n&&(this._addRemoveClass(!1),this.model.expandAll&&(this.model.expandAll=!1))},_addRemoveClass:function(n,t){$(t>=0?this._accItems[t]:this._accItems)[(n?"add":"remove")+"Class"]("e-m-state-active "+this.model.headerIcon.active)[(n?"remove":"add")+"Class"](this.model.headerIcon.normal);this.element.find(t>=0?"#"+this._accItems[t].id+"-content-wrapper":".e-m-acc-content-wrapper")["slide"+(n?"Down":"Up")](0);this.element.find(t>=0?"#"+this._accItems[t].id+"-content-wrapper":".e-m-acc-content-wrapper")[(n?"remove":"add")+"Class"]("e-m-acc-state-hide")},_setSelectedItems:function(n){n.length&&(this.model.enableMultipleOpen?this._selectDeselect(this.selectedItems(),!0):($(this._accItems[n[0]]).hasClass("e-m-state-active")||$(this._accItems[n[0]]).hasClass("e-m-state-disabled"))?"":this._loadItem(n))},_setSpinnerText:function(){},_selectDeselect:function(n,t){for(var i=0,r=n.length;i<r;i++)this.element.find("#"+this._accItems[n[i]].id+"-content").length==0&&this._loadAjaxContent(this._accItems[n[i]],this.element.find("#"+this._accItems[n[i]].id+"-content-wrapper"),n[i]),this._addRemoveClass(t,n[i])},_setDisabledItems:function(){this._enableDisable(this.model.disabledItems,!0)},_enableDisable:function(n,t){addremove=t?"add":"remove";for(var i=0,r=n.length;i<r;i++)$(this._accItems[n[i]])[addremove+"Class"]("e-m-state-disabled"),this.element.find("#"+this._accItems[n[i]].id+"-content-wrapper")[[addremove+"Class"]]("e-m-state-disabled")},_setHeightAdjustMode:function(){var n=this.model.heightAdjustMode=="fill"?this._adjustFillHeight():this.model.heightAdjustMode=="fixed"?this._adjustFixedHeight():"auto";$(this.element.find(".e-m-acc-content-wrapper")).height(n)},_adjustFixedHeight:function(){if(!this.model.enableAjax)return maxHeight=Math.max.apply(null,$(".e-m-acc-content-wrapper").map(function(){return $(this).height()}).get())},_adjustFillHeight:function(){return ej.getDimension(this.element.parent(),"height")-ej.getDimension(this._accItems[0],"outerHeight")*this._accItems.length},_setHeaderIcon:function(){this.element.find(".e-m-acc-item.e-m-state-active").removeClass(this._headerIcon.active).addClass(this.model.headerIcon.active);this.element.find(".e-m-acc-item:not(.e-m-state-active)").removeClass(this._headerIcon.normal).addClass(this.model.headerIcon.normal);this._headerIcon=jQuery.extend({},this.model.headerIcon)},selectItems:function(n){this.model.enableMultipleOpen?this._selectDeselect(n,!0):this._loadItem(n)},deselectItems:function(n){this.model.enableMultipleOpen&&this._selectDeselect(n,!1)},enableItems:function(n){this._enableDisable(n,!1)},disableItems:function(n){this._enableDisable(n,!0)},addItem:function(n,t){this.model.items=this._items;t>=0?this.model.items.splice(t,0,this._insertItem($(n))):this.model.items.push(this._insertItem($(n)));this.element.empty();this._renderControl();this._wireEvents();this._items=this.model.items},removeItem:function(n){this.model.items=this._items;n>=0&&(this.model.items.splice(n,1),this.element.empty(),this._renderControl(),this._wireEvents());this._items=this.model.items},getItemsCount:function(){return this._items.length}});$.extend(!0,ej.mobile.Accordion.prototype,ej.mobile.AjaxLoader);ej.mobile.Accordion.HeightAdjustMode={Fixed:"fixed",Content:"content",Fill:"fill"};ej.mobile.Accordion.Locale=ej.mobile.Accordion.Locale||{};ej.mobile.Accordion.Locale["default"]=ej.mobile.Accordion.Locale["en-US"]={spinnerText:"Loading..."}}(jQuery,Syncfusion),function($,ej){ej.widget("ejmAutocomplete","ej.mobile.Autocomplete",{_setFirst:!0,_rootCSS:"e-m-ac",defaults:{renderMode:"auto",cssClass:"",watermarkText:null,minCharacter:1,enableMultiSelect:!1,caseSensitiveSearch:!1,enableDistinct:!1,enablePersistence:!1,enableAutoFill:!1,allowSorting:!0,templateId:"",popupHeight:"164px",popupWidth:"auto",itemsCount:0,sortOrder:"ascending",delimiterChar:",",emptyResultText:null,showEmptyResultText:!0,filterType:"startswith",mode:"default",value:"",enabled:!0,dataSource:[],fields:{text:null,key:null,image:null},locale:"en-US",touchEnd:null,keyPress:null,select:null,change:null,focusIn:null,focusOut:null},dataTypes:{renderMode:"enum",filterType:"enum",sortOrder:"enum",minCharacter:"number",dataSource:"data",enableMultiSelect:"boolean",caseSensitiveSearch:"boolean",enableDistinct:"boolean",enablePersistence:"boolean",enableAutoFill:"boolean",allowSorting:"boolean",showEmptyResultText:"boolean",enabled:"boolean",itemsCount:"number",locale:"string"},observables:["value"],value:ej.util.valueFunction("value"),_init:function(){this._orgEle=this.element.clone();ej.setRenderMode(this);this._getLocalizedLabels();this.model.emptyResultText=ej.isNullOrUndefined(this.model.emptyResultText)?this._localizedLabels.emptyResultText:this.model.emptyResultText;this.model.watermarkText=ej.isNullOrUndefined(this.model.watermarkText)?this._localizedLabels.watermarkText:this.model.watermarkText;this._initialize();this._renderControl();this._wireEvents()},_initialize:function(){this._id=this.element.attr("id");this._noResultEle=ej.buildTag("li.e-m-lv-item e-m-emptyresult",ej.buildTag("a.e-m-lv-content",this.model.emptyResultText,{},{"data-ej-appajax":!1}));this._selectedData=[];this._hiddenVal=[];this.model.dataSource=eval(this.model.dataSource);this.model.value!=""&&(this._selectedData.push(this.model.value),this.element.val(this.model.value))},_getLocalizedLabels:function(){this._localizedLabels=ej.getLocalizedConstants(this.sfType,this.model.locale)},_renderControl:function(){this.element.addClass(this.model.cssClass);this._wrapper=ej.buildTag("div#"+this._id+"_wrapper.e-m-ac-wrapper").addClass("e-m-"+this.model.renderMode);this._wrapper=this.element.wrap(this._wrapper).parent();this._setWatermarkText(this.model.watermarkText);this._controlState(this.model.enabled);this._hiddenElement=ej.buildTag("input#"+this._id+"_hidden",{},{display:"none"},{name:this._id});this._accList=ej.buildTag("ul#"+this._id+"list.e-m-ac-list").appendTo(this._wrapper.append(this._hiddenElement));this._listWrapper=ej.buildTag("div.e-m-list-wrapper");this.model.mode==ej.mobile.Autocomplete.Mode.Search&&(this._search=ej.buildTag("div.e-m-icon-search"),this._clear=ej.buildTag("div.e-m-icon-close"),this._search.appendTo(this._wrapper.addClass("e-m-ac-search")),this._clear.appendTo(this._wrapper).hide());this._listWrapper.appendTo(this._wrapper).append(this._accList).hide()},_createDelegates:function(){this._focus=$.proxy(this._focusHandler,this);this._blur=$.proxy(this._blurHandler,this);this._keyPress=$.proxy(this._keyPressHandler,this);this._docTouchStart=$.proxy(this._docTouchStartHandler,this);this._docTouchEnd=$.proxy(this._docTouchEndHandler,this);this._clearClick=$.proxy(this._clearClickHandler,this)},_wireEvents:function(n){var t=$(document);this._createDelegates();ej.listenEvents([this.element,this.element,this.element,t,t],["focus","blur","keyup",ej.startEvent(),ej.endEvent()],[this._focus,this._blur,this._keyPress,this._docTouchStart,this._docTouchEnd],n);this.model.mode==ej.mobile.Autocomplete.Mode.Search&&ej.listenTouchEvent(this._clear,ej.endEvent(),this._clearClick,n)},_focusHandler:function(n){this.element.addClass("e-m-focus");var t=this.element.val().substring(this.element.val().length-2,this.element.val().length);t!=this.model.delimiterChar+" "&&this.model.enableMultiSelect&&this.element.val().length&&this.element.val(this.element.val()+this.model.delimiterChar+" ");this.model.focusIn&&this._trigger("focusIn",{event:n,isInteraction:!0})},_blurHandler:function(n){this.element.removeClass("e-m-focus");this.model.focusOut&&this._trigger("focusOut",{event:n,isInteraction:!0})},_keyPressHandler:function(n){var t=this.element.val().lastIndexOf(this.model.delimiterChar),i=t<0?this.element.val():this.element.val().substring(t+2);i.length>=this.model.minCharacter&&(dataQuery=ej.Query().where(this.model.fields.text,this.model.filterType,i,!this.model.caseSensitiveSearch),this._addQuery(dataQuery),this._renderSuggestionsList(dataQuery),this.model.enableAutoFill&&n.keyCode!=8&&this.model.filterType==ej.mobile.Autocomplete.FilterType.StartsWith&&!this._selectedData.length&&this._autoFill(),this.model.dataSource instanceof ej.DataManager||(this._listWrapper.show(),this._accList.children().length?this._checkItems():this.model.showEmptyResultText&&this._accList.append(this._noResultEle)));this.element.val()||this.clearText();this.model.keyPress&&this._trigger("keyPress",{event:n,isInteraction:!0})},_listTouchHandler:function(n){if(!$(n.event.target).closest(this._noResultEle).length){var t=this.model.templateId!=""?n.data.text:n.text,r=n.item.attr("data-value"),i=r?r:t;this.model.enableMultiSelect?(n.isChecked?$.inArray(t,this._selectedData)==-1&&(this._selectedData.push(t),this._hiddenVal.push(i)):(this._selectedData=jQuery.grep(this._selectedData,function(n){return n!=t}),this._hiddenVal=jQuery.grep(this._hiddenVal,function(n){return n!=i})),this.element.val(this._setDelimiterChar(this._selectedData)),this._hiddenElement.attr("value",this._hiddenVal.toString()),this.value(this._setDelimiterChar(this._selectedData))):(this.element.val(t),this.value(t),this._hiddenElement.attr("value",i),this._selectedData=[],this._hiddenVal=[],this._selectedData.push(t),this._listWrapper.hide());this.element.blur();this.model.select&&this._trigger("select",n);this.model.touchEnd&&this._trigger("touchEnd",n);this.model.change&&this._trigger("change",n)}this._accList.find(".e-m-emptyresult").removeClass("e-m-lv-selected e-m-lv-checked")},_onComplete:function(){this.model.enableDistinct&&this._distinctList();this.element.val()&&this._listWrapper.show();this._accList.children().length?this._checkItems():this.model.showEmptyResultText&&this._accList.append(this._noResultEle);this._renderScroll()},_clearClickHandler:function(){this.clearText()},_docTouchStartHandler:function(n){this._isTargetDropDown(n.target)||(this._hide=!0)},_docTouchEndHandler:function(evt){!this._isTargetDropDown(evt.target)&&this._hide&&(this._listWrapper.hide(),this.element.removeClass("e-m-focus"),this.model.enableMultiSelect&&this.element.val(this.element.val().replace(eval("/"+this.model.delimiterChar+"\\s*$/"),"")),this._hide=!1)},_isTargetDropDown:function(n){return $(n).closest(this._wrapper).length},_addQuery:function(n){if(this.model.allowSorting){var t=this.model.sortOrder==ej.mobile.Autocomplete.SortOrder.Descending?!0:!1;n.sortBy(this.model.fields.text?this.model.fields.text:"",t)}this.model.itemsCount>0&&n.take(this.model.itemsCount)},_renderSuggestionsList:function(n){var t={renderMode:this.model.renderMode,dataSource:this.model.dataSource,query:n,templateId:this.model.templateId,touchEnd:$.proxy(this._listTouchHandler,this),enableChecklist:this.model.enableMultiSelect,fields:{text:this.model.fields.text,image:this.model.fields.image,value:this.model.fields.key},actionSuccess:$.proxy(this._onComplete,this)};this._accList.ejmListView(t);this._listWrapper.hide();this.model.enableDistinct&&this._distinctList();this._renderScroll();this.model.mode==ej.mobile.Autocomplete.Mode.Search&&this._clear.show()},_renderScroll:function(){this._scrollDestroy();var t=this._listWrapper.height(),r=window.innerHeight,n=parseInt(this.model.popupHeight),i=t>n?n:t,u=this.element.offset().top+this.element.height();n<t&&this._listWrapper.ejmScrollPanel({renderMode:this.model.renderMode,targetHeight:n});u+i>r&&this._listWrapper.css("top",-i);this.model.popupWidth!="auto"&&this._listWrapper.css("width",this.model.popupWidth)},_scrollDestroy:function(){var n=this._wrapper.find(".e-m-scroll");n.length&&(n.ejmScrollPanel("destroy"),this._listWrapper.addClass("e-m-list-wrapper"))},_autoFill:function(){var n=this._accList.ejmListView("getTextByIndex",0);n.length&&typeof n=="string"?this._setInputText(n):this.model.showEmptyResultText&&this._accList.append(this._noResultEle)},_distinctList:function(){var n=this._accList.data("ejmListView"),t=ej.dataUtil.distinct(n.model.dataSource,this.model.fields.text,!0);this._accList.ejmListView({dataSource:t});this._listWrapper.hide()},_setDelimiterChar:function(n){var t=n.toString();return t.replace(/,/g,this.model.delimiterChar+" ")},_getDelimiterIndex:function(){return this.element.val().lastIndexOf(this.model.delimiterChar)},_setInputText:function(n){var i=this._getDelimiterIndex()+1,r=this.element.val(),u=this.element[0].selectionStart,t;this.element.val(r.substring(0,i)+n);this.element[0].selectionStart=u;t=this.element[0].selectionEnd;this.element[0].selectionEnd=t},_setWatermarkText:function(n){n?this.element.attr("placeholder",n):this.element.removeAttr("placeholder")},_controlState:function(n){this._wrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_checkItems:function(){var n,t,r;if(this.model.enableMultiSelect){for(n=this._accList.data("ejmListView"),t=[],i=0;i<this._selectedData.length;i++)for(j=0;j<n.model.dataSource.length;j++)r=this.model.fields.text?n.model.dataSource[j][this.model.fields.text]:n.model.dataSource[j],this._selectedData[i]==r&&t.push(j);n.checkItemsByIndices(t)}},enable:function(){this.element.removeClass("e-m-state-disabled")},disable:function(){this.element.addClass("e-m-state-disabled")},getValue:function(){return this.element.val()},clearText:function(){this.element.val("");this.value("");this._selectedData=[];this._hiddenVal=[];this.model.mode==ej.mobile.Autocomplete.Mode.Search&&this._clear.hide();this._listWrapper.hide()},getSelectedItems:function(){return this._selectedData},_setModel:function(n){var t,i;if(!this.model.enabled&&ej.isNullOrUndefined(n.enabled))return!1;for(i in n)switch(i){case"renderMode":this._setRenderMode(n.renderMode);break;case"delimiterChar":this.model.enableMultiSelect&&this._setDelimiterChar(this._text);break;case"enabled":this._controlState(this.model.enabled);break;case"watermarkText":this._setWatermarkText(this.model.watermarkText);break;case"value":this._setValue(this.model.value);break;case"emptyResultText":this._setEmptyRestultText();break;case"locale":this._setLocale(n.locale);break;default:t=!0}t&&this._refresh();t=!1},_setValue:function(n){this.element.prop("disabled")||(this.element.val(n),this.value(n))},_setEmptyRestultText:function(){this._noResultEle.find("a.e-m-lv-content").html(this.model.emptyResultText)},_setLocale:function(){this._getLocalizedLabels();this.model.emptyResultText=this._localizedLabels.emptyResultText;this.model.watermarkText=this._localizedLabels.watermarkText;this._setWatermarkText();this._setEmptyRestultText()},_refresh:function(){this._destroy();this.element.addClass(this._rootCSS);this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class").removeAttr("style");this._orgEle.insertBefore(this._wrapper);this._wrapper.remove()},_destroy:function(){this._wireEvents(!0);this._clearElement()}});ej.mobile.Autocomplete.FilterType={StartsWith:"startswith",Contains:"contains"};ej.mobile.Autocomplete.Mode={Search:"search",Default:"default"};ej.mobile.Autocomplete.SortOrder={Ascending:"ascending",Descending:"descending"};ej.mobile.Autocomplete.Locale=ej.mobile.Autocomplete.Locale||{};ej.mobile.Autocomplete.Locale["default"]=ej.mobile.Autocomplete.Locale["en-US"]={watermarkText:null,emptyResultText:"No suggestions"}}(jQuery,Syncfusion),function(n,t){t.widget({ejmButton:"ej.mobile.Button",ejmActionlink:"ej.mobile.Actionlink"},{_setFirst:!0,_rootCSS:"e-m-btn",defaults:{touchStart:null,touchEnd:null,enabled:!0,cssClass:"",renderMode:"auto",enableRippleEffect:t.isAndroid()?!0:!1,text:null,href:"",imageClass:null,imagePosition:"left",contentType:"text",enablePersistence:!1,showBorder:!0,style:"normal",color:{border:"",fill:"",text:""},locale:"en-US"},dataTypes:{enabled:"boolean",renderMode:"enum",imagePoisition:"enum",contentType:"enum",enablePersistence:"boolean",enableRippleEffect:"boolean"},_init:function(){this._getLocalizedLabels();this.model.text=t.isNullOrUndefined(this.model.text)?this._localizedLabels.text:this.model.text;this._renderControl();this._createDelegates();this._wireEvents()},_renderControl:function(){t.setRenderMode(this);this._isLinkButton=this.element[0].nodeName=="A";this._isLinkButton&&this.model.href&&this.element.attr("href",this.model.href);this.element.addClass("e-m-"+this.model.renderMode+" e-m-btn-"+this.model.style+" e-m-btn-image e-m-state-default e-m-user-select e-m-border"+(this._isLinkButton?" e-m-actionlink ":" ")+this.model.cssClass);!this.element.attr("name")&&this.element[0].id&&this.element.attr("name",this.element[0].id);this._setImagePosition();this.model.text=this.element.html()!=""?this.element.html():t.isNullOrUndefined(this.element.attr("value"))?this.model.text:this.element.attr("value");this._setText(this.model.text);this.model.style=="back"&&this.element.addClass("e-m-icon-back");this._controlStatus(this.model.enabled);this.model.showBorder||this._setShowBorder(!1);this._setColor();this._setEnableRippleEffect()},_setEnableRippleEffect:function(){this.element[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple")},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_setColor:function(){this.element.css({color:this.model.color.text,"border-color":this.model.color.border,"background-color":this.model.color.fill})},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._touchMoveHandler=n.proxy(this._touchMove,this)},_wireEvents:function(n){t.listenTouchEvent(this.element,t.startEvent(),this._touchStartHandler,n)},_touchStart:function(n){this._target=n.currentTarget;this.element.removeClass("e-m-state-default").addClass("e-m-state-active");this.model.touchStart&&this._trigger("touchStart",data={text:this.model.text,currentEvent:n});t.listenEvents([window,this.element],[t.moveEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler],!1)},_touchMove:function(){this.element.removeClass("e-m-state-active").addClass("e-m-state-default");t.listenTouchEvent(window,t.moveEvent(),this._touchMoveHandler,!0)},_touchEnd:function(n){this._target==this.element[0]&&(this._target=[],this.element.removeClass("e-m-state-active").addClass("e-m-state-default"),this.element.hasClass("e-m-btn-large")&&n.preventDefault(),this.model.style!="back"||this.model.touchEnd?this.model.touchEnd&&this._trigger("touchEnd",data={text:this.model.text,currentEvent:n}):history.back())},_controlStatus:function(n){this.element[n?"removeClass":"addClass"]("e-m-state-disabled");this._wireEvents(!n)},_setImagePosition:function(){this.model.imageClass&&this.model.contentType!="text"&&(this._imgClass=this.model.imageClass,this.element.addClass("e-m-btn-image "+this.model.imageClass),this.model.contentType=="both"&&this.element.removeClass("e-m-image-left e-m-image-right").addClass("e-m-image-"+this.model.imagePosition),this.model.contentType=="image"&&(this.element.removeClass("e-m-image-"+this.model.imagePosition).addClass("e-m-btn-imageonly").attr("value","").html(""),this.model.text=""));this.model.contentType=="text"&&this.element.removeClass(this.model.imageClass+" e-m-image-"+this.model.imagePosition)},_setLocale:function(){this._getLocalizedLabels();this.model.text=this._localizedLabels.text;this._setText(this.model.text)},_setModel:function(n){for(var t in n)setprop="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[setprop]&&this[setprop](n[t])},_setRenderMode:function(){this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setStyle:function(){this.element.removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header e-m-btn-large").addClass("e-m-btn-"+this.model.style+" "+(this.model.style=="back"?"e-m-icon-back":""));this._setText(this.model.text)},_setShowBorder:function(n){n?this.element.removeClass("e-m-noborder").addClass("e-m-border"):this.element.addClass("e-m-noborder").removeClass("e-m-border")},_setEnabled:function(){this._controlStatus(this.model.enabled)},_setText:function(){this.element[0].nodeName=="INPUT"?this.element.attr("value",this.model.text):this.element.html(this.model.text)},_setContentType:function(){this._setImagePosition()},_setImageClass:function(){this.element.removeClass(this._imgClass);this._setImagePosition()},_clearElement:function(){this.element.removeAttr("class");this.element.addClass("e-m-btn")},_destroy:function(){this._wireEvents(!0);this._clearElement()},enable:function(){this.model.enabled=!0;this._controlStatus(!0)},disable:function(){this.model.enabled=!1;this._controlStatus(!1)}});t.mobile.Button.ImagePosition={Left:"left",Right:"right"};t.mobile.Button.ContentType={Text:"text",Image:"image",Both:"both"};t.mobile.Button.Style={Normal:"normal",Back:"back",Header:"header",Large:"large"};t.mobile.Button.Locale=t.mobile.Button.Locale||{};t.mobile.Actionlink.Locale=t.mobile.Actionlink.Locale||{};t.mobile.Button.Locale["default"]=t.mobile.Button.Locale["en-US"]={text:"Button"};t.mobile.Actionlink.Locale["default"]=t.mobile.Actionlink.Locale["en-US"]={text:"Actionlink"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmDatePicker","ej.mobile.DatePicker",{_setFirst:!0,_requiresID:!0,_rootCSS:"e-m-datepicker",_isOpen:!1,defaults:{dateFormat:null,renderMode:"auto",minDate:null,maxDate:null,locale:"en-US",value:null,enabled:!0,enablePersistence:!1,cssClass:"",select:null,load:null,focusIn:null,focusOut:null,open:null,close:null,change:null},dataTypes:{renderMode:"enum",enabled:"boolean",enablePersistence:"boolean"},_init:function(){this._createDelegates();this._renderControl();this._wireEvents()},_datepickerInitialize:function(){this._winrt=this.model.renderMode=="windows"&&!t.isLowerResolution();this._menuTargetId=this._id;this._setLocale(this.model.locale);this.model.dateFormat=this.model.dateFormat==null?Date.format:this.model.dateFormat;this.model.minDate=this.model.minDate?this.model.minDate:"01/01/2000";this.model.maxDate=this.model.maxDate?this.model.maxDate:"12/31/2030";this.model.value||(date=new Date,this.model.value=date.getMonth()+1+"/"+date.getDate()+"/"+date.getFullYear());this._currentDate=new Date(this.model.minDate)>new Date(this.model.value)?this.model.minDate:new Date(this.model.maxDate)<new Date(this.model.value)?this.model.maxDate:this.model.value;this._prevResolution=t.isLowerResolution()},_setLocale:function(n){this.culture=t.preferredCulture(n);this._localizedLabels=this._getLocalizedLabels();this.culture&&(Date.dayNames=this.culture.calendar.days.names,Date.abbrDayNames=this.culture.calendar.days.namesAbbr,Date.monthNames=this.culture.calendar.months.names,Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,Date.format=this.culture.calendar.patterns.d)},_renderControl:function(){t.setRenderMode(this);this._datepickerInitialize();this._datepickerwrapper=t.buildTag("div.e-m-datepickerwrapper "+this.model.cssClass+" e-m-"+this.model.renderMode+" e-m-user-select#"+this._id+"_Wrapper","",{},{});this.element.attr({name:this._id}).wrap(this._datepickerwrapper);this._datepickerwrapper=this.element.parent();this.element.attr({readonly:!0});this._outerdiv=t.buildTag("div.e-m-"+this.model.renderMode+" e-m-dp e-m-user-select #"+this._id+"_dp","",{},{});this._innerdiv=t.buildTag("div.e-m-dpinner","",{},{});this._wrapdiv=t.buildTag("div.e-m-dpwrap","",{},{});this._visibletexthtml=this._winrt?"":"<div class='col-fill'><\/div>";this._months=t.buildTag("div.e-m-dp e-m-dpmonth e-m-left","<div class='e-m-datewrapper'><div id="+this._id+"_dpmonth><div class='e-m-dpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-dp-overlay'><\/div><\/div>",{},{});this._days=t.buildTag("div.e-m-dp e-m-dpdate e-m-center","<div class='e-m-datewrapper'><div id="+this._id+"_dpdate><div class='e-m-dpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-dp-overlay'><\/div><\/div>",{},{});this._years=t.buildTag("div.e-m-dp e-m-dpyear e-m-right","<div class='e-m-datewrapper'><div id="+this._id+"_dpyear><div class='e-m-dpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><div class='e-m-dp-overlay'><\/div><\/div>",{},{});this["_"+this.model.renderMode+"Rendering"]();this._scrollInitialize();this._domElements();this._minDateInitialize();this._maxDateInitialize();this.model.load&&this._trigger("load",this._argsValue());this._controlStatus(this.model.enabled);this._initscroll=!1;this._setcurrent=!1;this._setformat=!1;this.element.addClass("e-m-user-select");this._setCurrentPreviousDate()},_setCurrentPreviousDate:function(){this._updateValue(this.model.dateFormat);this._previousDate=n(this.element).val()},_scrollPanel:function(i){this["_"+i]=t.buildTag("div#"+this._id+"dp"+i+"_scrollpanel");this._outerdiv.find("#"+this._id+"_dp"+i).append(this["_"+i]);this["_"+i].ejmScrollPanel({enableMouseWheel:!1,enableNativeScrolling:!1,enableTransition:!1,enableTransform:!1,showScrollbars:!1,target:this._id+"_dp"+i,targetHeight:this._targetHeight,renderMode:this.model.renderMode,scrollStart:n.proxy(this._onScrollStart,this),scrollStop:n.proxy(this._onScrollStop,this),enableBounce:!1,enableDisplacement:!0,displacementValue:this._displacement,displacementTime:t.isWindows()?800:350,isRelative:!0})},_windowsTargetHeight:function(){return this._closestAppview.innerHeight()-(t.getDimension(this._toolbar,"outerHeight")+t.getDimension(n(this._outerdiv).find(".e-m-dp-header"),"outerHeight"))},_scrollInitialize:function(){this._displacement=this.model.renderMode=="ios7"?40:this.model.renderMode=="android"?45:90;this._targetHeight=this.model.renderMode=="ios7"?200:this.model.renderMode=="android"?135:this._winrt?0:this._windowsTargetHeight();this._winrt||(this._scrollPanel("date"),this._scrollPanel("month"),this._scrollPanel("year"))},_minDateInitialize:function(){if(!this._winrt){this._minDate=new Date(this.model.minDate);var n=this._minDate.getDate(),t=this._minDate.getMonth();this._minMonths=this._monthtext.slice(0,t);this._minDates=this._datetext.slice(0,n-1)}},_maxDateInitialize:function(){if(!this._winrt){this._maxDate=new Date(this.model.maxDate);var n=this._maxDate.getDate(),t=this._maxDate.getMonth();this._maxMonths=this._monthtext.slice(t+1,12);this._maxDates=this._datetext.slice(n,31)}},_renderTemplate:function(){var t={};t["default"]="<div class='e-m-text {{:class}}'>{{:value}}<\/div>";t.monthtemplate="<div class='e-m-text'>{{:secondvalue}}<\/div>";t.windows="<div class='e-m-text {{:class}}'><div class='e-m-text-inner'>{{:value}}<\/div><div class='e-m-text-val e-m-dp-dayweek'>{{:secondvalue}}<\/div><\/div>";t.winrt="<option value='{{:value}}'>{{:value}}<\/option>";t.winrtmonths="<option value='{{:value}}'>{{:secondvalue}}<\/option>";n.templates(t)},_renderDateContent:function(){this._renderTemplate();this._monthsRendering();this._daysRendering();this._yearsRendering();this._innerdiv.append(this._wrapdiv);this._outerdiv.append(this._innerdiv)},_ios7Rendering:function(){this._renderDateContent();this._innerdiv.append("<div class='e-m-ios7-overlay'><\/div>");this._menu=t.buildTag("div#"+this._id+"_menu.e-m-dp-menu");this._menu.append(this._outerdiv);t.getCurrentPage().append(this._menu);this._menu.ejmMenu({allowScrolling:!1,type:t.isLowerResolution()?"actionsheet":"popover",target:this._menuTargetId,height:205,renderMode:this.model.renderMode,show:n.proxy(this._showDatePicker,this),showTitle:!1,cancelButton:{show:!1},hide:n.proxy(this._hideDatePicker,this)})},_androidRendering:function(){this._renderDateContent();this._dialog=t.buildTag("div.e-m-dp-dialog#"+this._id+"_dialog");this._dialog.ejmDialog({allowScrolling:!1,title:this._localizedLabels.headerText,mode:"confirm",leftButtonCaption:this._localizedLabels.confirmText,rightButtonCaption:this._localizedLabels.cancelText,renderMode:this.model.renderMode,enableAnimation:!1});this._dialog.find(".e-m-dlg-content").append(this._outerdiv)},_windowsRendering:function(){this.model.renderMode!="windows"||t.isLowerResolution()?(this._outerdiv.append("<div class='e-m-dp-header' style='visibility:hidden;'>"+this._localizedLabels.headerText+"<\/div>"),this._renderDateContent(),this._toolbar=t.buildTag("div#"+this._id+"_toolbar.e-m-dp-tb","<ul><li data-ej-iconname='check'><\/li><li data-ej-iconname='close'><\/li><\/ul>"),this._toolbar.ejmNavigationBar({mode:"toolbar",position:"bottom",renderMode:this.model.renderMode,touchEnd:n.proxy(this._winToolbarItem,this)}),this._closestAppview=this._outerdiv.closest(".appview").length?this._outerdiv.closest(".appview"):t.getCurrentPage(),t.getCurrentPage().append(this._outerdiv).append(this._toolbar),this._outerdiv.find(".e-m-dpouter").find(".col-fill").css("height",(this._windowsTargetHeight()-90)/2),this._outerdiv.css("top",-this._closestAppview.innerHeight()+"px"),this._toolbar.css({visibility:"hidden"})):(this._renderDateContent(),this._dialog=t.buildTag("div.e-m-dp-dialog#"+this._id+"_dialog"),this._dialog.ejmDialog({enableModal:!0,allowScrolling:!1,width:"100%",enableAnimation:!1,title:this._localizedLabels.headerText,leftButtonCaption:this._localizedLabels.confirmText,rightButtonCaption:this._localizedLabels.cancelText,mode:"confirm",renderMode:this.model.renderMode}),this._dialog.find(".e-m-dlg-content").append(this._outerdiv))},_flatRendering:function(){this._windowsRendering()},_daysRendering:function(){var t=[],n,i;for(this._daysofmonth=this._getDaysInMonth(new Date(this.model.value)),n=1;n<=31;n++)i=Date.dayNames[new Date(new Date(this.model.value).getMonth()+1+"/"+n+"/"+new Date(this.model.value).getFullYear()).getDay()],n<=this._daysofmonth?t.push({value:n,secondvalue:i,"class":""}):t.push({value:n,secondvalue:i,"class":"e-m-state-disabled"});this._columnRendering("days",t)},_winrtContent:function(i,r){this._select=t.buildTag("select");r=n.render[i=="months"?"winrtmonths":"winrt"](r);this["_"+i].find(".e-m-dpouter").html(this._select.append(r));this._wrapdiv.append(this["_"+i])},_monthsRendering:function(){for(var t=[],i=this.model.renderMode=="android"?"abbrMonthNames":"monthNames",n=0;n<12;n++)t.push({secondvalue:Date[i][n],value:n+1});this._columnRendering("months",t)},_yearsRendering:function(){for(var t=[],n=new Date(this.model.minDate).getFullYear();n<=new Date(this.model.maxDate).getFullYear();n++)t.push({value:n});this._columnRendering("years",t)},_columnRendering:function(t,i){if(this._winrt)this._winrtContent(t,i);else{var r=this.model.renderMode=="windows"||this.model.renderMode=="flat"?"windows":t=="years"?"default":t=="months"?"monthtemplate":"default";i=n.render[r](i)+this._visibletexthtml;this["_"+t].find(".e-m-dpouter").html(this["_"+t].find(".e-m-dpouter").html()+i);this._wrapdiv.append(this["_"+t])}},_createDelegates:function(){this._winScrlHndlr=n.proxy(this._outerScroll,this);this._focusHndlr=n.proxy(this._showDatePicker,this);this._blurHndlr=n.proxy(this._blurEventHandler,this);this._andBtnClkHndlr=n.proxy(this._androidDialogButtonClick,this);this._winrtBtnClkHndlr=n.proxy(this._winrtDialogButtonClick,this);this._OrientationChangeHndlr=n.proxy(this._OrientationChange,this);this._resizeHndlr=n.proxy(this._resize,this)},_wireEvents:function(i){this.model.renderMode=="android"?t.listenTouchEvent(n(this._dialog).find(".e-m-dlg-btn"),t.tapEvent(),this._andBtnClkHndlr,i):this._winrt?t.listenTouchEvent(n(this._dialog).find(".e-m-dlg-btn"),t.tapEvent(),this._winrtBtnClkHndlr,i):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.listenTouchEvent(n(this._outerdiv).find(".e-m-dpwrap .e-m-dp"),t.startEvent(),this._winScrlHndlr,i);t.listenEvents([n(this.element),n(this.element)],["focus","blur"],[this._focusHndlr,this._blurHndlr],i);t.listenTouchEvent(n(window),"onorientationchange"in window?"orientationchange":"resize",this._resizeHndlr,i)},_resize:function(){this._currentResolution=t.isLowerResolution();(this.model.renderMode=="ios7"||this.model.renderMode=="windows")&&this._prevResolution!=this._currentResolution?this._refresh():this._prevResolution=this._currentResolution;(this.model.renderMode=="windows"&&t.isLowerResolution()||this.model.renderMode=="flat")&&(this._outerdiv.find(".e-m-dpouter").find(".col-fill").css("height",(this._windowsTargetHeight()-90)/2),this._date.ejmScrollPanel({targetHeight:this._windowsTargetHeight()}),this._month.ejmScrollPanel({targetHeight:this._windowsTargetHeight()}),this._year.ejmScrollPanel({targetHeight:this._windowsTargetHeight()}),this._setValue(this._currentDate),this._outerdiv.offset().top!=0&&this._outerdiv.css("top",-this._closestAppview.innerHeight()))},_scrollCoordinates:function(){var n={};return n.Scrolldate=Math.round(this._date.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollmonth=Math.round(this._month.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollyear=Math.round(this._year.ejmScrollPanel("getScrollPosition").y/this._displacement),n.date=-n.Scrolldate+1,n.month=-n.Scrollmonth+1,n.year=-n.Scrollyear+new Date(this.model.minDate).getFullYear(),n},_domElements:function(){this._windate=this._days.find("#"+this._id+"_dpdate");this._winmonth=this._months.find("#"+this._id+"_dpmonth");this._winyear=this._years.find("#"+this._id+"_dpyear");this._datetext=this._windate.find(".e-m-text");this._monthtext=this._winmonth.find(".e-m-text");this._yeartext=this._winyear.find(".e-m-text")},_activeText:function(t,i,r,u){(u&&u=="dpdate"||u==null)&&(n(this._datetext).removeClass("e-m-text-active"),n(this._datetext[t-1]).addClass("e-m-text-active"));(u&&u=="dpmonth"||u==null)&&(n(this._monthtext).removeClass("e-m-text-active"),n(this._monthtext[i-1]).addClass("e-m-text-active"));(u&&u=="dpyear"||u==null)&&(n(this._yeartext).removeClass("e-m-text-active"),n(this._yeartext[r-new Date(this.model.minDate).getFullYear()]).addClass("e-m-text-active"))},_setDateInput:function(){this.model.renderMode!="ios7"&&this._updateValue(this.model.dateFormat);this._dateSelect()},_winrtInitialDate:function(n){var n=new Date(this._currentDate);this._windate.find("select option[value='"+n.getDate()+"']").attr("selected",!0);this._winmonth.find("select option[value='"+(n.getMonth()+1)+"']").attr("selected",!0);this._winyear.find("select option[value='"+n.getFullYear()+"']").attr("selected",!0)},_setInitialDate:function(){if(this._winrt)this._winrtInitialDate(this._currentDate);else{this.model.renderMode=="ios7"&&(this._initscroll=!0);this._setValue(this._currentDate);var n=this;setTimeout(function(){n._setProperDate(100)},200);this.model.renderMode=="ios7"&&(this._initscroll=!1)}},_setValue:function(n){var n=new Date(n);this._resetScrollPos();this._time=t.isIOS7()?!this._initscroll&&!this._setcurrent?200:0:0;this._date.ejmScrollPanel("scrollTo",0,-this._displacement*(n.getDate()-1),this._time);this._month.ejmScrollPanel("scrollTo",0,-this._displacement*n.getMonth(),this._time);this._year.ejmScrollPanel("scrollTo",0,-this._displacement*(n.getFullYear()-new Date(this.model.minDate).getFullYear()),this._time)},_resetScrollPos:function(){this._date.ejmScrollPanel("scrollTo",0,0,0);this._month.ejmScrollPanel("scrollTo",0,0,0);this._year.ejmScrollPanel("scrollTo",0,0,0)},_formatter:function(n,i){var r=this._checkFormat(i);return t.format(n,r,this.model.locale)},_parseDate:function(n){this._setformat||(this._oldFormat=this.model.dateFormat);var i=this._checkFormat(this._oldFormat);return t.parseDate(n,i,this.model.locale)},_checkFormat:function(n){var t=this,i=this._regExp();return n.replace(i,function(n){return n==="/"?t.culture.calendars.standard["/"]!=="/"?"'/'":n:n})},_changeFormat:function(n){var i=this,r=this._regExp();return n.replace(r,function(n){return n==="/"?i.culture.calendars.standard["/"]!=="/"?"'/'":n:n=="d"?new Date(i._currentDate).getDate():n=="M"?new Date(i._currentDate).getMonth()+1:t.format(new Date(i._currentDate),n)})},_regExp:function(){return/dddd|\/|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},_checkMinMax:function(n){if(this._outerdiv.find(".e-m-state-disabled").removeClass("e-m-state-disabled"),n.year==this._minDate.getFullYear()||n.year==this._maxDate.getFullYear()){var t=n.year==this._minDate.getFullYear()?"min":"max";this["_"+t+"Months"].addClass("e-m-state-disabled");(t=="min"?n.month<this._minDate.getMonth()+1:n.month>this._maxDate.getMonth()+1)?(n.month=this["_"+t+"Date"].getMonth()+1,this._month.ejmScrollPanel("scrollTo",0,-this._displacement*this["_"+t+"Date"].getMonth(),this._time)):(t=="min"?n.month==this._minDate.getMonth()+1:n.month==this._maxDate.getMonth()+1)&&(this["_"+t+"Dates"].addClass("e-m-state-disabled"),(t=="min"?n.date<this._minDate.getDate():n.date>this._maxDate.getDate())&&(n.date=this["_"+t+"Date"].getDate(),this._date.ejmScrollPanel("scrollTo",0,-this._displacement*(this["_"+t+"Date"].getDate()-1),this._time)))}return n},_setProperDate:function(t,i){var r=this._scrollCoordinates(),f,u;for(r=this._checkMinMax(r),f=this,(i=="dpmonth"||i=="dpyear")&&(this._daysofmonth=this._getDaysInMonth(new Date(r.month+"/1/"+r.year))),u=27;u<=30;u++)u+1>this._daysofmonth&&n(this._datetext[u]).addClass("e-m-state-disabled");this._daysofmonth<r.date&&(r.date=this._daysofmonth,this._date.ejmScrollPanel("scrollTo",0,-this._displacement*(this._daysofmonth-1),this._time));this.model.renderMode!="ios7"||this._initscroll||setTimeout(function(){n(f.element).val(f._formatter(new Date(r.month+"/"+r.date+"/"+r.year),f.model.dateFormat))},t);this._currentDate=r.month+"/"+r.date+"/"+r.year;this._activeText(r.date,r.month,r.year,i);this.model.value=this._currentDate;this.model.change&&this._trigger("change",this._argsValue())},_argsValue:function(){return{value:this._currentDate}},_onScrollStop:function(n){var t=n.model.target.replace(this._id+"_","");this._setProperDate(this.model.renderMode=="windows"?700:200,t);this["_"+this.model.renderMode+"ScrollStop"]&&this["_"+this.model.renderMode+"ScrollStop"](n.model.target,t,n)},_windowsScrollStop:function(t,i){for(var f,e,r=this._scrollCoordinates(),u=0;u<this._getDaysInMonth(new Date(r.month+"/"+r.date+"/"+r.year));u++)f=Date.dayNames[new Date(r.month+"/"+(u+1)+"/"+r.year).getDay()],n(this._datetext[u]).find(".e-m-dp-dayweek").html(f);e=this._id+"_"+this._target;this._hideWrapper(i)},_flatScrollStop:function(n,t,i){this._windowsScrollStop(n,t,i)},_onScrollStart:function(n){this._target=n.model.target.replace(this._id+"_","");this["_"+this.model.renderMode+"ScrollStart"]&&this["_"+this.model.renderMode+"ScrollStart"](n.model.target,this._target)},_windowsScrollStart:function(t,i){n("#"+t+"").find(".e-m-text.e-m-text-active").removeClass("e-m-text-active");this._hideWrapper(i)},_flatScrollStart:function(n,t){this._windowsScrollStart(n,t)},_hideWrapper:function(n){n&&n=="dpdate"&&(this._year.ejmScrollPanel("instance")._moved||this._winyear.closest(".e-m-datewrapper").removeClass("e-m-scrollstart"),this._month.ejmScrollPanel("instance")._moved||this._winmonth.closest(".e-m-datewrapper").removeClass("e-m-scrollstart"));n&&n=="dpmonth"&&(this._year.ejmScrollPanel("instance")._moved||this._winyear.closest(".e-m-datewrapper").removeClass("e-m-scrollstart"),this._date.ejmScrollPanel("instance")._moved||this._windate.closest(".e-m-datewrapper").removeClass("e-m-scrollstart"));n&&n=="dpyear"&&(this._month.ejmScrollPanel("instance")._moved||this._winmonth.closest(".e-m-datewrapper").removeClass("e-m-scrollstart"),this._date.ejmScrollPanel("instance")._moved||this._windate.closest(".e-m-datewrapper").removeClass("e-m-scrollstart"))},_blurEventHandler:function(){this.model.focusOut&&this._trigger("focusOut",this._argsValue());this.model.renderMode=="ios7"&&(this.model.select&&this._previousDate!=n(this.element).val()&&this._trigger("select",this._argsValue()),this._isOpen&&this._trigger("close",this._argsValue()))},_dateSelect:function(){this._previousDate!=n(this.element).val()&&this.model.select&&this._trigger("select",this._argsValue());this._previousDate=n(this.element).val();this._hideDatePicker()},_winToolbarItem:function(n){n.iconname=="check"?this._setDateInput():n.iconname=="close"&&this._hideDatePicker()},_winrtDialogButtonClick:function(t){n(t.target).text()==this._localizedLabels.confirmText?(this._currentDate=this._formatter(new Date(this._winmonth.find("select option:selected").val()+"/"+this._windate.find("select option:selected").val()+"/"+this._winyear.find("select option:selected").val()),this._setformat?this._oldFormat:this.model.dateFormat),this._setDateInput()):this._showHidePicker(!0)},_androidDialogButtonClick:function(t){n(t.target).text()==this._localizedLabels.confirmText?this._setDateInput():this._showHidePicker(!0)},_outerScroll:function(t){this._hideWrapper(n(t.target).parents(".e-m-scrollpanel")[0].id.replace(this._id+"_",""));n(t.target).closest(".e-m-dp").find(".e-m-datewrapper").addClass("e-m-scrollstart")},_showHidePicker:function(i){var u=this,f={currentTarget:this._datepickerwrapper},r=i?"hidden":"visible",e=t.getMaxZindex();this.element.blur();this._winrt?this._dialog.ejmDialog(i?"close":"open"):this.model.renderMode=="android"?this._dialog.ejmDialog(i?"close":"open"):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(this._outerdiv.css({top:i?-this._closestAppview.innerHeight():"0px","visibility ":r}),n(this._outerdiv).find(".e-m-dp-header").css({visibility:r}),this._toolbar.css({visibility:r}))},_showDatePicker:function(){this._setInitialDate();this.model.focusIn&&this._trigger("focusIn",this._argsValue());this._showHidePicker();this._outerdiv.find(".e-m-datewrapper").removeClass("e-m-scrollstart");this._isOpen||(this._trigger("open",this._argsValue()),this._isOpen=!0)},_hideDatePicker:function(){this._showHidePicker(!0);this._isOpen&&(this._trigger("close",this._argsValue()),this._isOpen=!1)},_getDaysInMonth:function(n){return[31,this._isLeapYear(n.getFullYear())?29:28,31,30,31,30,31,31,30,31,30,31][n.getMonth()]},_isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},_refreshScroller:function(){this._date.ejmScrollPanel("refresh");this._month.ejmScrollPanel("refresh");this._year.ejmScrollPanel("refresh")},_setModel:function(n){var i;for(var t in n)t=="renderMode"||t=="minDate"||t=="maxDate"||t=="locale"?i=!0:(setprop="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[setprop]&&this[setprop](n[t]));i&&this._refresh()},_setEnabled:function(n){this._controlStatus(n)},_setDateFormat:function(n){this._setformat=!0;this._updateValue(n)},_updateValue:function(t){var i=this._changeFormat(t);n(this.element).val(i)},_controlStatus:function(n){this._datepickerwrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_refresh:function(){this._destroy();this.element.addClass("e-m-datepicker");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class").removeAttr("style");this.element.insertAfter(this._datepickerwrapper);this._datepickerwrapper.remove();this._dialog?(this._dialog.ejmDialog("instance")._destroy(),this._dialog.remove(),this._dialog=null):this._toolbar?(this._toolbar.ejmNavigationBar("instance")._destroy(),this._toolbar.remove(),this._toolbar=null):this._menu&&(this._menu.ejmMenu("instance")._destroy(),this._menu.remove(),this._menu=null);this.element=n(this.element);this._outerdiv.remove()},_destroy:function(){this._wireEvents(!0);this._clearElement()},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},show:function(n){var n={currentTarget:this._datepickerwrapper};this.model.renderMode=="ios7"?this._menu.ejmMenu("show",n):this._showHidePicker()},hide:function(n){var n={currentTarget:this._datepickerwrapper};this.model.renderMode=="ios7"?this._menu.ejmMenu("hide",n):this._showHidePicker(!0)},enable:function(){this.model.enabled=!0;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},disable:function(){this.model.enabled=!1;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},getValue:function(){return n(this.element).val()},setCurrentDate:function(n){this._setcurrent=!0;this._currentDate=n;this._daysofmonth=this._getDaysInMonth(new Date(n));this._setCurrentPreviousDate();this._setcurrent=!1}});t.mobile.DatePicker.Locale=t.mobile.DatePicker.Locale||{};t.mobile.DatePicker.Locale["default"]=t.mobile.DatePicker.Locale["en-US"]={confirmText:"Done",cancelText:"Cancel",headerText:"CHOOSE DATE"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmDialog","ej.mobile.Dialog",{_setFirst:!0,_rootCSS:"e-m-dialog",defaults:{renderMode:"auto",mode:"alert",enableAutoOpen:!1,title:null,closeOndocumentTap:!1,cssClass:"",enableModal:!0,showButtons:!0,showHeader:!0,leftButtonCaption:null,rightButtonCaption:null,allowScrolling:!1,enableNativeScrolling:t.isAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1,templateId:null,height:null,width:null,enablePersistence:!1,enableAnimation:!0,locale:"en-US",open:null,close:null,beforeClose:null,buttonTap:null},dataTypes:{renderMode:"enum",mode:"enum",enableAutoOpen:"boolean",title:"string",cssClass:"string",enableModal:"boolean",showButtons:"boolean",showHeader:"boolean",leftButtonCaption:"string",rightButtonCaption:"string",allowScrolling:"boolean",templateId:"string",height:"string",width:"string",locale:"string",enablePersistence:"boolean",enableAnimation:"boolean"},_init:function(){t.setRenderMode(this);this._orgEle=this.element.clone();this._getLocalizedLabels();this.model.title=t.isNullOrUndefined(this.model.title)?this._localizedLabels.title:this.model.title;this.model.leftButtonCaption=t.isNullOrUndefined(this.model.leftButtonCaption)?this._localizedLabels.leftButtonCaption:this.model.leftButtonCaption;this.model.rightButtonCaption=t.isNullOrUndefined(this.model.rightButtonCaption)?this._localizedLabels.rightButtonCaption:this.model.rightButtonCaption;this._renderControl();this._createDelegates();this._wireEvents();this.model.enableAutoOpen&&this.open()},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_renderControl:function(){this.element.addClass("e-m-"+this.model.renderMode+" e-m-dialog e-m-user-select "+this.model.cssClass+" e-m-"+this.model.mode);this.model.enableAnimation&&this.element.addClass("e-m-dlg-animate");t.isNullOrUndefined(this.model.templateId)?this._html=this.element.html():this._setTemplate();this.element.empty();this._renderDialog();this._dialogInit();this.element.addClass("e-m-"+(this.model.enableAutoOpen?"show":"hide"));this.model.enableModal&&this._setModal()},_setTemplate:function(){if(t.getCurrentPage().find("#"+this.model.templateId).length){var n=t.getCurrentPage().find("#"+this.model.templateId);this._html=n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n}t.destroyWidgets(this._html)},_renderButton:function(){this._leftbtn=t.buildTag("button").addClass("e-m-"+this.model.mode+"btn e-m-dlg-btn e-m-dlg-alertbtn e-m-state-default").html(this.model.leftButtonCaption);this._dlgbtnwrapper=t.buildTag("div.e-m-dlgbtnwrapper");this._innerDiv.append(this._dlgbtnwrapper);this.model.mode=="alert"?this._dlgbtnwrapper.append(this._leftbtn):this.model.mode=="confirm"&&(this._leftBtn=this._leftbtn.removeClass("e-m-"+this.model.mode+"btn").addClass("e-m-dlg-btn e-m-dlg-leftbtn").html(this.model.leftButtonCaption),this._rightBtn=t.buildTag("button").addClass("e-m-dlg-btn e-m-dlg-rightbtn e-m-state-default").html(this.model.rightButtonCaption),this._dlgbtnwrapper.append(this._leftBtn).append(this._rightBtn))},_renderDialog:function(){var n=!t.isNullOrUndefined(this.model.height)&&parseInt(this.model.height)?this.model.height:"",i=!t.isNullOrUndefined(this.model.width)&&parseInt(this.model.width)?this.model.width:"";this.element.addClass("e-m-dialog e-m-abs");this._innerDiv=t.buildTag("div","",{width:i},{"class":"e-m-dlg-container e-m-abs "});this.element.append(this._innerDiv);this._contentContainer=t.buildTag("div",this._html,{height:n},{"class":"e-m-dlg-content e-m-rel"});this.model.allowScrolling&&this._contentContainer.attr({"data-role":"ejmscrollpanel","data-ej-showscrollbars":!0,"data-ej-enablenativescrolling":this.model.enableNativeScrolling,"data-ej-isrelative":!0});this._innerDiv.append(this._contentContainer);this.model.mode=="custom"||(t.buildTag("div",this.model.title,{},{"class":"e-m-dlg-hdr "+(this.model.showHeader?"":"e-m-hide")}).insertBefore(this._contentContainer),this._header=this._innerDiv.find(".e-m-dlg-hdr"),this.model.showButtons&&this._renderButton())},_dialogInit:function(){var n=this.element.parents("form").length>0?this.element.parents("form"):t.getCurrentPage();this.element.appendTo(n);t.widget.init(this._innerDiv);!t.isAppNullOrUndefined()&&t.angular.defaultAppName&&t.angular.compile(this._innerDiv)},_setModal:function(){var n=this.element.css("zIndex");this._overlay=t.buildTag("div#.e-m-overlay e-m-abs","",{zIndex:n-1});this.element.append(this._overlay)},_setTemplateId:function(){t.getCurrentPage().find("#"+this.model.templateId).length&&(this._setTemplate(),this._contentContainer.empty().html(this._html),this._dialogInit())},_setCloseOndocumentTap:function(){this.model.closeOndocumentTap&&(this._documentClickHandler=n.proxy(this._docClick,this));t.listenEvents([n(document)],[t.endEvent()],[this._documentClickHandler],!this.model.closeOndocumentTap)},_setLocale:function(){this._getLocalizedLabels();this.model.title=this._localizedLabels.title;this.model.leftButtonCaption=this._localizedLabels.leftButtonCaption;this.model.rightButtonCaption=this._localizedLabels.rightButtonCaption;this._setTitle();this._setLeftButtonCaption();this._setRightButtonCaption()},_createDelegates:function(){this._touchEndHandler=n.proxy(this._buttonTap,this);this._touchStartHandler=n.proxy(this._touchStart,this);this.model.closeOndocumentTap&&(this._documentClickHandler=n.proxy(this._docClick,this))},_wireEvents:function(i){var r="onorientationchange"in window?"orientationchange":"resize";t.listenEvents([window,this.element.find(".e-m-dlg-btn"),this.element.find(".e-m-dlg-btn"),n(document)],[r,t.startEvent(),t.endEvent(),t.endEvent()],[this._resizeHandler,this._touchStartHandler,this._touchEndHandler,this._documentClickHandler],i)},_docClick:function(t){(n(t.target).hasClass("e-m-overlay")||n(t.target).hasClass("e-m-dialog"))&&this.element.hasClass("e-m-show")&&this.close()},_buttonTap:function(t){n(t.target).removeClass("e-m-state-active").addClass("e-m-state-default");this.model.buttonTap&&this._trigger("buttonTap",{text:n(t.target).text(),title:this.model.title,currentEvent:t})},_touchStart:function(t){n(t.target).removeClass("e-m-state-default").addClass("e-m-state-active")},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i]():r=!0;r&&this._refresh()},_setRenderMode:function(){this.element.removeClass("e-m-android e-m-ios7 e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setMode:function(){this._refresh()},_setTitle:function(){this._header.length&&this._header.html(this.model.title)},_setLeftButtonCaption:function(){this.element.find(".e-m-dlg-btn.e-m-dlg-"+(this.model.mode=="confirm"?"leftbtn":"alertbtn")).html(this.model.leftButtonCaption)},_setRightButtonCaption:function(){this.element.find(".e-m-dlg-btn.e-m-dlg-rightbtn").html(this.model.rightButtonCaption)},_setEnableModal:function(){this.model.enableModal?this.element.find(".e-m-overlay").length?"":this._setModal():this.element.find(".e-m-overlay").remove()},_setShowButtons:function(){this._refresh()},_setShowHeader:function(){this.model.showHeader?this._header.removeClass("e-m-hide"):this._header.addClass("e-m-hide")},_setButtonTap:function(){},_setBeforeClose:function(){},_setClose:function(){},_setOpen:function(){},_destroy:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.html(this._orgEle.html())},_refresh:function(){this._destroy();this._renderControl();this._wireEvents(!1)},_animate:function(n,t){var i=this;this._innerDiv.removeClass(n+" "+t);this._innerDiv.addClass(n);n=="e-m-dlg-hideanimate"&&(delay=this.model.renderMode=="android"?250:this.model.renderMode=="windows"?200:0,setTimeout(function(){i.element.addClass("e-m-hide")},delay))},open:function(){this.model.allowScrolling&&this._contentContainer.ejmScrollPanel("scrollTo",0,0);this.element.addClass("e-m-show").removeClass("e-m-hide");this.model.enableAnimation&&this._animate("e-m-dlg-showanimate","e-m-dlg-hideanimate");this.model.open&&this._trigger("open",{title:this.model.title})},close:function(){var n={title:this.model.title};this.model.beforeClose&&this._trigger("beforeClose",n);this.model.enableAnimation?this._animate("e-m-dlg-hideanimate","e-m-dlg-showanimate"):this.element.addClass("e-m-hide");this.element.removeClass("e-m-show");this.model.close&&this._trigger("close",n)},disableButton:function(n){t.isNullOrUndefined(n)?this.element.find(".e-m-dlg-btn").addClass("e-m-state-disabled"):this.element.find(".e-m-dlg-btn.e-m-"+n+"btn").addClass("e-m-state-disabled")},enableButton:function(n){t.isNullOrUndefined(n)?this.element.find(".e-m-dlg-btn").removeClass("e-m-state-disabled"):this.element.find(".e-m-dlg-btn.e-m-"+n+"btn").removeClass("e-m-state-disabled")}});t.mobile.Dialog.Mode={Alert:"alert",Confirm:"confirm",Custom:"custom"};t.mobile.Dialog.Locale=t.mobile.Dialog.Locale||{};t.mobile.Dialog.Locale["default"]=t.mobile.Dialog.Locale["en-US"]={title:"Title",leftButtonCaption:"Cancel",rightButtonCaption:"Continue"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmDropDownList","ej.mobile.DropDownList",{_setFirst:!0,_rootCSS:"e-m-dropdownlist",validTags:["input"],defaults:{renderMode:"auto",cssClass:"",targetId:null,templateId:"",popupHeight:"164px",popupWidth:"auto",dataSource:[],fields:{text:null,value:null,groupBy:null,image:null,checkBy:null},enableMultiSelect:!1,enablePersistence:!1,readOnly:!1,enabled:!0,query:null,watermarkText:null,locale:"en-US",selectedItemIndex:-1,delimiterChar:",",itemsCount:0,allowVirtualScrolling:!1,focusIn:null,focusOut:null,select:null,change:null,actionSuccess:null,actionFailure:null,actionComplete:null},dataTypes:{renderMode:"enum",dataSource:"data",itemsCount:"number",enableMultiSelect:"boolean",enablePersistence:"boolean",readOnly:"boolean",enabled:"boolean",allowVirtualScrolling:"boolean",locale:"string"},observables:["selectedItemIndex"],selectedItemIndex:t.util.valueFunction("selectedItemIndex"),_init:function(){t.setRenderMode(this);this._getLocalizedLabels();this._initialization();this._renderControl();this.model.readOnly||this._wireEvents();this.model.watermarkText=t.isNullOrUndefined(this.model.watermarkText)?this._localizedLabels.watermarkText:this.model.watermarkText},_renderControl:function(){this._renderList()},_wireEvents:function(i){i||(this._touchStart=n.proxy(this._touchStartHandler,this),this._docTouchStart=n.proxy(this._docTouchStartHandler,this),this._docTouchEnd=n.proxy(this._docTouchEndHandler,this));var r=n(document);t.listenEvents([this._eleWarpper,this._dropDownIcon,r,r],["focus",t.startEvent(),t.startEvent(),t.endEvent()],[this._touchStart,this._touchStart,this._docTouchStart,this._docTouchEnd],i)},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_initialization:function(){this._index=0;var i=this.element.attr("id"),r=this.element.is("select"),u=r&&this._renderSelectOption(i);this._orgEle=this.element.clone();this._text=[];this._hiddenVal=[];this._targetEle=this.model.targetId?n("#"+this.model.targetId):r?u:t.buildTag("ul");this._eleWarpper=t.buildTag("div#"+i+"_wrapper.e-m-dropdown-wrapper "+this.model.cssClass+"  e-m-"+this.model.renderMode+" e-m-user-select");this._hiddenElement=t.buildTag("input#"+this._id+"_hidden",{},{display:"none"},{name:this._id});this.element.addClass("e-m-user-select e-m-"+this.model.renderMode).attr({name:i,readonly:!0}).wrap(this._eleWarpper);this._eleWarpper=this.element.parent();this._dropDownIcon=t.buildTag("div.e-m-icon-down").appendTo(this._eleWarpper.append(this._hiddenElement));this._setWatermarkText(this.model.watermarkText=t.isNullOrUndefined(this.model.watermarkText)?this._localizedLabels.watermarkText:this.model.watermarkText);this._controlState(this.model.enabled)},_renderList:function(){t.isNullOrUndefined(this._targetWrapper)&&(this._targetWrapper=t.buildTag("div.e-m-target-wrapper"));this._targetWrapper.append(this._targetEle.ejmListView({renderMode:this.model.renderMode,dataSource:this.model.dataSource,query:this.model.query,enableChecklist:this.model.enableMultiSelect,itemsCount:this.model.itemsCount,fields:{text:this.model.fields.text,value:this.model.fields.value,groupBy:this.model.fields.groupBy,image:this.model.fields.image,checkBy:this.model.fields.checkBy},templateId:this.model.templateId,touchEnd:n.proxy(this._listItemClickHandler,this),actionSuccess:n.proxy(this._onComplete,this),actionFailure:this.model.actionFailure,actionComplete:this.model.actionComplete})).appendTo(this._eleWarpper);this.model.dataSource instanceof t.DataManager||this._renderScroll();this.hidePopup();this._setSelectedItemIndex(this.selectedItemIndex(),!0)},_renderScroll:function(){var u=this.model.allowVirtualScrolling?n.proxy(this._virtualScroll,this):null,i=this._targetWrapper.height(),f=window.innerHeight,t=parseInt(this.model.popupHeight),r=i>t?t:i,e=this.element.offset().top+this.element.height();t<i&&this._targetWrapper.ejmScrollPanel({renderMode:this.model.renderMode,targetHeight:t,scrollEnd:u});e+r>f&&this._targetWrapper.css("top",-r);this.model.popupWidth!="auto"&&this._targetWrapper.css("width",this.model.popupWidth)},_onComplete:function(n){this._renderScroll(n);this.model.actionSuccess&&this._trigger("actionSuccess")},_touchStartHandler:function(){this.model.readOnly||(this._targetWrapper.css("display")=="none"?(this.element.addClass("e-m-focus"),this.model.focusIn&&this._trigger("focusIn"),this.showPopup()):(this.element.removeClass("e-m-focus"),this.model.focusOut&&this._trigger("focusOut"),this.hidePopup()),this.element.blur())},_virtualScroll:function(n){if(n.position=="bottom"){var t=this._targetEle.data("ejmListView"),i=this._targetWrapper.data("ejmScrollPanel");t.append(this.model.dataSource);i.refresh()}},_docTouchStartHandler:function(n){this._isTargetDropDown(n.target)||(this._hide=!0)},_docTouchEndHandler:function(n){!this._isTargetDropDown(n.target)&&this._hide&&(this.element.removeClass("e-m-focus"),this.model.focusOut&&this._trigger("focusOut"),this.hidePopup(),this._hide=!1)},_isTargetDropDown:function(t){return n(t).closest(this._eleWarpper).hasClass("e-m-dropdown-wrapper")},_listItemClickHandler:function(n){var t=this.model.templateId!=""?n.data[this.model.fields.text]:n.text;this._updateSelectedItem(n.item,t,n.item.attr("data-value"),n.isChecked);this.element.blur();n.event.preventDefault()},_renderSelectOption:function(i){var u=t.buildTag("input#"+i+".e-m-dropdownlist",null,null,{"data-role":"ejmdropdownlist"}),r=t.buildTag("ul");return n(this.element.children()).each(function(n,i){var u=t.buildTag("li",null,null,{"data-ej-text":i.text});r.append(u)}),this.element.hide(),this.element.before(u.after(r)),this.element=u,r},_setWatermarkText:function(n){n?this.element.attr("placeholder",n):this.element.removeAttr("placeholder")},_controlState:function(n){this._eleWarpper[n?"removeClass":"addClass"]("e-m-state-disabled")},_setSelectedItemIndex:function(t,r){var u=this._targetEle.data("ejmListView"),f,e;if(this.selectedItemIndex()>=0)f=u.getTextByIndex(this.selectedItemIndex()),e=u.getItemByIndex(this.selectedItemIndex()),r?this.model.enableMultiSelect?u.checkItemsByIndex(this.selectedItemIndex()):u.selectItemByIndex(this.selectedItemIndex()):this.model.enableMultiSelect?u.uncheckItemsByIndex(this.selectedItemIndex()):u.deselectItem(),this._updateSelectedItem(e,f,e.attr("data-value"),r?!0:!1);else if(this.model.fields.checkBy)for(t=this._targetWrapper.find(".e-m-lv-checked").length,i=0;i<t;i++)f=n(this._targetWrapper.find(".e-m-lv-checked")[i]).find(".e-m-lv-content").text(),this._updateSelectedItem([],f,null,r?!0:!1)},_updateSelectedItem:function(t,i,r,u){var f=r?r:i;this.model.enableMultiSelect?(u?n.inArray(i,this._text)==-1&&(this._text.push(i),this._hiddenVal.push(f)):(this._text=jQuery.grep(this._text,function(n){return n!=i}),this._hiddenVal=jQuery.grep(this._hiddenVal,function(n){return n!=f})),this.model.select&&this._trigger("select",this._getArgs(t,i,r,u)),this.element.val(this._setDelimiterChar(this._text)),this._hiddenElement.attr("value",this._hiddenVal.toString()),this.model.change&&this._trigger("change",this._getArgs(t,i,r,u))):(this._hiddenVal=[],this._hiddenVal.push(f),this.model.select&&this._trigger("select",this._getArgs(t,i,r,u)),this.element.val()!=i&&(this.selectedItemIndex(this._targetEle.data("ejmListView").getIndexByText(i)),this.element.val(i),this._hiddenElement.attr("value",f),this.model.change&&this._trigger("change",this._getArgs(t,i,r,u))),this.hidePopup())},_getArgs:function(n,t,i,r){return data={selectedItem:n,selectedText:t,selectedValue:i,isChecked:r}},_setDelimiterChar:function(n){var t=n.toString();return t.replace(/,/g,this.model.delimiterChar+" ")},showPopup:function(){this._targetWrapper.show()},hidePopup:function(){this._targetWrapper.hide()},getValue:function(){return this.element.val()},selectItemByIndex:function(n){this.model.selectedItemIndex=n;this._setSelectedItemIndex(this.selectedItemIndex(),!0)},selectItemByIndices:function(t){if(this.model.enableMultiSelect){var i=this;n(t).each(function(n,t){i.model.selectedItemIndex=t;i._setSelectedItemIndex(i.selectedItemIndex(),!0)})}},unselectItemByIndex:function(n){this.model.selectedItemIndex=n;this._setSelectedItemIndex(this.selectedItemIndex(),!1)},unselectItemByIndices:function(t){if(this.model.enableMultiSelect){var i=this;n(t).each(function(n,t){i.model.selectedItemIndex=t;i._setSelectedItemIndex(i.selectedItemIndex(),!1)})}},getSelectedItemValue:function(){return this.model.enableMultiSelect||t.isNullOrUndefined(this._hiddenVal[0])?this._hiddenVal:this._hiddenVal[0]},_setModel:function(n){var t;for(var i in n)switch(i){case"renderMode":this._targetWrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode);this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode);this._targetEle.ejmListView({renderMode:this.model.renderMode});this._targetWrapper.ejmScrollPanel({renderMode:this.model.renderMode});break;case"delimiterChar":this.model.enableMultiSelect&&this._setDelimiterChar(this._text);break;case"enabled":this._controlState(this.model.enabled);break;case"watermarkText":this._setWatermarkText(this.model.watermarkText);break;case"selectedItemIndex":this._setSelectedItemIndex(this.selectedItemIndex(),!0);break;case"locale":this._setLocale();break;default:t=!0}t&&this._refresh();t=!1},_setLocale:function(){this._getLocalizedLabels();this.model.watermarkText=this._localizedLabels.watermarkText;this._setWatermarkText(this.model.watermarkText)},_refresh:function(){this._destroy();this.element.addClass(this._rootCSS);this._initialization();this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class").removeAttr("style");this.element.empty().html(this._orgEle.html());this._targetEle.remove();this.element.unwrap();this._eleWarpper.remove();this._hiddenElement.remove();this._dropDownIcon.remove();this._targetWrapper.remove();this._targetWrapper=null},_destroy:function(){this._wireEvents(!0);this._clearElement()}});t.mobile.DropDownList.Locale=t.mobile.DropDownList.Locale||{};t.mobile.DropDownList.Locale["default"]=t.mobile.DropDownList.Locale["en-US"]={watermarkText:null}}(jQuery,Syncfusion),function(n,t,i){t.widget({ejmTextBox:"ej.mobile.TextBox",ejmTextArea:"ej.mobile.TextArea",ejmPassword:"ej.mobile.Password",ejmNumeric:"ej.mobile.Numeric",ejmMaskEdit:"ej.mobile.MaskEdit"},{_setFirst:!0,_rootCSS:"e-m-editor",_requiresID:!0,validTags:["input","textarea"],defaults:{renderMode:"auto",cssClass:"",enablePersistence:!1,borderStyle:"box",watermarkText:"",value:"",readOnly:!1,type:"text",enabled:!0,maxLength:"",autoFocus:!1,height:"",width:"",step:1,minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,format:"",locale:"en-US",touchStart:null,touchEnd:null,keyUp:null,keyDown:null},dataTypes:{renderMode:"enum",enablePersistence:"boolean",borderStyle:"enum",readOnly:"boolean",enabled:"boolean",autoFocus:"boolean",step:"number",minValue:"number",maxValue:"number",locale:"string"},observables:["value"],value:t.util.valueFunction("value"),_init:function(){this._cloneElement=this.element.clone();this.culture=t.preferredCulture(this.model.locale);this._getLocalizedLabels();this.model.watermarkText=!t.isNullOrUndefined(this.model.watermarkText)&&this.model.watermarkText!=""?this.model.watermarkText:this._localizedLabels.watermarkText;this._renderControl();this._wireEvents()},_getControlName:function(){return this.pluginName.replace("ejm","")},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_renderControl:function(){t.setRenderMode(this);var n=this.model;this.model.type=this.element.attr("type")?this.element.attr("type"):n.type;(this.element.attr("name")==""||t.isNullOrUndefined(this.element.attr("name")))&&this.element.attr("name",this._id);this._noClearBtn=["MaskEdit","Numeric","Password","TextArea"];this["_set"+this._getControlName()+"Properties"]()},_setTextBoxProperties:function(){this._setCommonWrapper(this.model.type);this._setCommonProperties()},_setPasswordProperties:function(){this._setCommonWrapper("password");this._setCommonProperties()},_setTextAreaProperties:function(){var n=this.model;this.element.addClass("e-m-"+n.renderMode+" e-m-editor "+n.cssClass+" e-m-input-wrapper e-m-textbox");this._setCommonProperties();n.height&&this._setHeight(n.height)},_setNumericProperties:function(){this._setCommonWrapper("number");this._numbersRegex=["0","1","2","3","4","5","6","7","8","9","-",".","Delete","Backspace","ArrowRight","Tab","ArrowLeft","Home","End","e"];this._keyPressCalled=!1;this._setCommonProperties();this.element.css("padding-right",64)},_setMaskEditProperties:function(){var n=this.model;this.element.addClass("e-m-"+n.renderMode+" e-m-input-wrapper e-m-mask "+n.cssClass);this._alphaNumeric=/^[a-zA-Z0-9]*$/;this._alphabetic=/^[a-zA-Z]/;this._numeric=/^[0-9]/;this._allowedKeys=["ArrowRight","Tab","ArrowLeft","Shift","Enter","Home","End","Ctrl"];this._restrictedKeys=["Backspace","ArrowUp","ArrowDown","Delete","VolumeMute","VolumeUp","VolumeDown","PageDown","PageUp","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"];this._islastindex=!1;this._keyDownCalled=!1;this._setCommonProperties()},_setCommonWrapper:function(n){this.model.type=n;this.element.attr("type",n);var i=this.model;this._inputWrapper=t.buildTag("div.e-m-"+i.renderMode+" e-m-editor "+i.cssClass+" e-m-input-wrapper");this.element.after(this._inputWrapper).addClass("e-m-textbox");this._inputWrapper.append(this.element);i.type!="number"?(this._rightIcon=t.buildTag("span"),this._inputWrapper.append(this._rightIcon)):(this._upBtn=t.buildTag("span.e-m-icon-up up-btn"),this._downBtn=t.buildTag("span.e-m-icon-down down-btn"),this._inputWrapper.append(this._upBtn).append(this._downBtn))},_setCssClass:function(){this._inputWrapper.addClass(this.model.cssClass)},_setCommonProperties:function(){var r=this.model,u;this._setBorderStyle();r.width!=""&&this._setWidth(r.width);r.type=="number"?this._setValue(this.value()==""?this._validateNumericInput(0):this._validateNumericInput(this.value())):(u=n(this.element).attr("value"),typeof u!=typeof i&&this.value(t.parseFloat(u)),this.value()&&this._setValue(this.value()));r.watermarkText!=""&&this._setWatermarkText(r.watermarkText);r.maxLength!=""&&this._setMaxLength(r.maxLength);r.autoFocus&&this._setAutoFocus(!0);r.readOnly&&this._setReadOnly(!0);r.enabled||this._setEnabled(!1)},_setMinValue:function(n){this.element.prop("disabled")||this.model.type!="number"||(this.element.attr("min",n),n>this.element.val()&&this.element.val(n))},_setMaxValue:function(n){this.element.prop("disabled")||this.model.type!="number"||(this.element.attr("max",n),n<this.element.val()&&this.element.val(n))},_setStep:function(n){this.model.type!="number"||this.element.prop("disabled")||!n||isNaN(n)||this.element.attr("step",n)},_setHeight:function(n){this._getControlName()=="TextArea"&&!this.element.prop("disabled")&&n&&this.element.height(n)},_setReadOnly:function(n){this.element.prop("disabled")||this.element.attr("readonly",n);this.model.type=="number"?(this._upBtn[n?"addClass":"removeClass"]("e-m-disabled"),this._downBtn[n?"addClass":"removeClass"]("e-m-disabled")):this._getControlName()!="MaskEdit"&&this._getControlName()!="TextArea"&&this._rightIcon[n?"removeClass":"addClass"]("e-m-disabled")},_setAutoFocus:function(n){!this.element.prop("disabled")&&n&&(this.element.focus(),this.element.prop("autofocus","autofocus"),this._getControlName()!="MaskEdit"&&this._getControlName()!="TextArea"&&this.element.parent().addClass("focus"))},_setMaxLength:function(n){!this.element.prop("disabled")&&n&&this.element.attr("maxlength",n)},_setEnabled:function(n){this.element.attr("disabled",!n);this._getControlName()=="TextArea"||this._getControlName()=="MaskEdit"?this.element[n?"removeClass":"addClass"]("e-m-state-disabled"):this.element.parent()[n?"removeClass":"addClass"]("e-m-state-disabled")},_setWidth:function(n){this.element.prop("disabled")||(this.element.width(n),(this._getControlName()!="MaskEdit"||this._getControlName()!="TextArea")&&this.element.parent().width(n))},_setWatermarkText:function(){this.element.prop("disabled")||this.element.attr("placeholder",this.model.watermarkText)},_setValue:function(n){this.element.prop("disabled")||(this.element.val(n),this.value(n))},_setBorderStyle:function(){this.element.prop("disabled")||(this._getControlName()!="MaskEdit"&&this._getControlName()!="TextArea"?this.element.parent().removeClass("e-m-line e-m-box e-m-none").addClass("e-m-"+this.model.borderStyle):this.element.removeClass("e-m-line e-m-box e-m-none").addClass("e-m-"+this.model.borderStyle))},_setRenderMode:function(n){this.element.prop("disabled")||this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+n)},_setLocale:function(){this._getLocalizedLabels();this.model.watermarkText=this._localizedLabels.watermarkText;this._setWatermarkText()},_createDelegate:function(){this._keyDownProxy=n.proxy(this._keyDown,this);this._keyUpProxy=n.proxy(this._keyUp,this);this._touchStartProxy=n.proxy(this._touchStart,this);this._touchEndProxy=n.proxy(this._touchEnd,this);this._focus=n.proxy(this._focus,this);this._blur=n.proxy(this._blur,this);this._keyPressProxy=n.proxy(this._keyPress,this);this._cutProxy=n.proxy(this._cut,this);this._pasteProxy=n.proxy(this._paste,this);this._docClickProxy=n.proxy(this._docClick,this);this._showPasswordProxy=n.proxy(this._showPassword,this);this._hidePasswordProxy=n.proxy(this._hidePassword,this);this._clearInputProxy=n.proxy(this._clearInput,this);this._stepProxy=n.proxy(this._step,this);this._stepCloseProxy=n.proxy(this._stepClose,this)},_wireEvents:function(i){var u=this.model,r=this.element,f=this._getControlName();this._createDelegate();(f=="MaskEdit"||f=="Numeric")&&t.listenTouchEvent(r,"keypress",this._keyPressProxy,i);u.type=="number"&&t.listenEvents([this._upBtn,this._downBtn,this._upBtn,this._downBtn,this._upBtn,this._downBtn,this._upBtn,this._downBtn],[t.startEvent(),t.startEvent(),t.endEvent(),t.endEvent(),t.cancelEvent(),t.cancelEvent(),"mouseout","mouseout"],[this._stepProxy,this._stepProxy,this._stepCloseProxy,this._stepCloseProxy,this._stepCloseProxy,this._stepCloseProxy,this._stepCloseProxy,this._stepCloseProxy],i);u.type=="password"&&t.listenEvents([this._rightIcon,this._rightIcon],[t.startEvent(),t.endEvent()],[this._showPasswordProxy,this._hidePasswordProxy],i);this._noClearBtn.indexOf(this._getControlName())==-1&&t.listenTouchEvent(this._rightIcon,"tap",this._clearInputProxy,i);t.listenEvents([r,r,r,r,r,r,r,r,n(document)],[t.startEvent(),t.endEvent(),"keydown","keyup","focus","blur","cut","paste","click"],[this._touchStartProxy,this._touchEndProxy,this._keyDownProxy,this._keyUpProxy,this._focus,this._blur,this._cutProxy,this._pasteProxy,this._docClickProxy],i)},_docClick:function(t){n(t.target).hasClass("e-m-editor")||n(t.target).hasClass("right-eye-btn e-m-icon-eye")||n(t.target).hasClass("e-m-icon-clear")||this._removecleariconclass()},_cut:function(n){(this._getControlName()=="MaskEdit"||this.model.type=="number")&&n.preventDefault()},_paste:function(n){(this._getControlName()=="MaskEdit"||this.model.type=="number")&&n.preventDefault()},_blur:function(){(this.model.type=="password"||this.model.type=="number"||this.model.type=="text"||this.model.type=="tel"||this.model.type=="email")&&this.element.parent().removeClass("focus");this.model.type=="number"&&this._setValue(this._validateNumericInput(this.element.val()));this._removecleariconclass()},_removecleariconclass:function(){if(this.value()){var n=this._getControlName()=="Password"?"eye":this._noClearBtn.indexOf(this._getControlName())==-1?"clear":"";n&&this._rightIcon.removeClass("right-"+n+"-btn e-m-icon-"+n)}},_step:function(t){if(this.model.enabled&&this.model.type=="number"){var r=this,i=n(t.target).hasClass("e-m-icon-down")?"down":"up";this._updateValue(i);this._timeout=setInterval(function(){r._updateValue(i)},200)}},_updateValue:function(n){var t=this.element.val()==""?this._validateNumericInput(0):n=="down"?parseFloat(this.element.val())-this.model.step:parseFloat(this.element.val())+this.model.step;this.model.step.toString().indexOf(".")!=-1&&(t=t.toFixed(this._trimfloat(this.model.step.toString())));this._setValue(this._validateNumericInput(t))},_stepClose:function(){clearTimeout(this._timeout)},_focus:function(){if(this._getControlName()!="MaskEdit"&&this._getControlName()!="TextArea"&&this.element.parent().addClass("focus"),this.value()){var n=this._getControlName()=="Password"?"eye":this._noClearBtn.indexOf(this._getControlName())==-1?"clear":"";n&&this._rightIcon.addClass("right-"+n+"-btn e-m-icon-"+n)}},_showPassword:function(){this.element.attr("type","text")},_hidePassword:function(){this.element.attr("type","password")},_clearInput:function(){this._rightIcon.hasClass("e-m-icon-clear")&&(this._rightIcon.removeClass("right-clear-btn e-m-icon-clear"),this._setValue(""))},_touchStart:function(){this.model.touchStart&&!this.model.readOnly&&this._trigger("touchStart",{value:this.element.val()})},_touchEnd:function(){var n={value:this.element.val()};this.model.touchEnd&&!this.model.readOnly&&this._trigger("touchEnd",n)},_setCharAt:function(n,t,i){return t>n.length-1?n:n.substr(0,t)+i+n.substr(t+1)},_validateMaskInput:function(n){if((this._charType=="alphabetic"||this._charType=="numeric"||n=="Backspace"||n=="Delete")&&this._charType!="")if(this["_"+this._charType].test(n)||n=="Delete"||n=="Backspace")if(this._replace){var t=n=="Backspace"||n=="Delete"?"_":this._restrictedKeys.indexOf(n)==-1?n:"";if(t=="")return!1;this.value(this._setCharAt(this.value(),n=="Backspace"?this._charIndex-1:this._charIndex,t));this.element.val(this.value());this._setCursor(this.element[0],n=="Backspace"?this._charIndex-1:this._charIndex+1)}else this._restrictedKeys.indexOf(n)==-1&&(this.value(this.value()+n),this.element.val(this.value()));else this["_"+this._charType].test(n)?this._setCursor(this.element[0],this._charIndex):(this.element.val(this.value()),this._setCursor(this.element[0],this._charIndex))},_getFormatCharType:function(n){this._formatChar=this.model.format.toString().charAt(n);return this._alphaNumeric.test(this._formatChar)?this._numeric.test(this._formatChar)?"numeric":this._alphabetic.test(this._formatChar)?"alphabetic":"":"symbol"},_setMaskSpecialChar:function(){this.value(this.value()+this._formatChar);this.element.val(this.value())},_setCursor:function(n,t){if(n=typeof n=="string"||n instanceof String?document.getElementById(n):n,n){if(n.createTextRange){var i=n.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}if(n.setSelectionRange)return n.setSelectionRange(t,t),!0}else return!1;return!1},_handleMaskValue:function(n,t){if(this._allowedKeys.indexOf(t)==-1){if(this._charIndex=this.element[0].selectionStart,this.element[0].selectionEnd-this._charIndex==1&&this._charIndex==0&&n.keyCode==8&&(this._charIndex=1),this._islastindex=this._charIndex==this.model.format.length?!0:!1,this._replace=this.value().charAt(this._charIndex)||t=="Backspace"?!0:!1,this._charType=this._getFormatCharType(t=="Backspace"?this._charIndex-1:this._charIndex),!this._islastindex||t=="Backspace"){if(this._charType=="symbol"){var i=this._charIndex;do this._replace?(this._setCursor(this.element[0],t=="Backspace"?i:i+1),this._charIndex=this.element[0].selectionStart):this._setMaskSpecialChar(this.value()+this._formatChar,i),t=="Backspace"?i--:i++,this._charType=this._getFormatCharType(i);while(this._charType=="symbol")}this._validateMaskInput(t)}n.preventDefault()}},_trimfloat:function(n){return(n.split(".")[1]||[]).length},_validateNumericInput:function(n){n=parseFloat(n);var t=this.model.minValue,i=this.model.maxValue;return isNaN(n)&&(n=0),n>t&&n<i?n:n==t||n<t?t:i},_keyDown:function(n){if(this._keyDownCalled=!1,this._getControlName()=="MaskEdit"&&(n.keyCode==8||n.keyCode==46)){var t=n.keyCode==8?"Backspace":"Delete";this._handleMaskValue(n,t);this._keyDownCalled=!0}this.model.keyDown&&!this.model.readOnly&&this._trigger("keyDown",{value:this.element.val(),keyCode:n.keyCode})},_keyPress:function(n){var t=n.key?n.key:String.fromCharCode(n.keyCode||n.charCode);this._getControlName()=="MaskEdit"?t=="BackSpace"||t=="Delete"?this._keyDownCalled||this._handleMaskValue(n,t):this._handleMaskValue(n,t):this.model.type=="number"&&this._numbersRegex.indexOf(t)==-1&&n.preventDefault()},_keyUp:function(n){var r=this.model,i,t;r.readOnly?n.preventDefault():this._getControlName()=="MaskEdit"&&(n.keyCode==229||n.keyCode==0)?(i=String.fromCharCode(n.which),(n.keyCode==229||n.keyCode==0)&&(i=String.fromCharCode(this.element.val().charCodeAt(this.element[0].selectionStart-1)),this.element[0].selectionStart=this.element[0].selectionStart-1),this._handleMaskValue(n,i),this.element.val(this.value()),n.preventDefault()):this._getControlName()!="MaskEdit"&&r.type!="number"&&this._getControlName()!="TextArea"?(this.value(this.element.val()),t=this._getControlName()=="Password"?"eye":this._noClearBtn.indexOf(this._getControlName())==-1?"clear":"",t&&this._rightIcon[this.value()?"addClass":"removeClass"]("right-"+t+"-btn e-m-icon-"+t),this.value()&&this.element.css("padding-right",32)):(this.value(this.element.val()),n.preventDefault());this.model.keyUp&&!this.model.readOnly&&this._trigger("keyUp",{value:this.element.val(),keyCode:n.keyCode})},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_clearElement:function(){t.isNullOrUndefined(this._inputWrapper)?this.element.replaceWith(this._cloneElement):(this._inputWrapper.before(this._cloneElement),this._inputWrapper.remove(),this._inputWrapper=null);this.element=this._cloneElement;this.element.removeAttr("class")},_destroy:function(){this._wireEvents(!0);this._clearElement()},_refresh:function(){this._destroy();this.element.addClass("e-m-editor");this._init()}});t.mobile.TextBox.BorderStyle={Box:"box",Line:"line",None:"none"};t.mobile.TextBox.Type={Number:"number",Text:"text",Password:"password",Tel:"tel",Email:"email"};t.mobile.TextBox.Locale=t.mobile.TextBox.Locale||{};t.mobile.TextArea.Locale=t.mobile.TextArea.Locale||{};t.mobile.Password.Locale=t.mobile.Password.Locale||{};t.mobile.Numeric.Locale=t.mobile.Numeric.Locale||{};t.mobile.MaskEdit.Locale=t.mobile.MaskEdit.Locale||{};t.mobile.TextBox.Locale["default"]=t.mobile.TextBox.Locale["en-US"]=t.mobile.TextArea.Locale["default"]=t.mobile.TextArea.Locale["en-US"]=t.mobile.Password.Locale["default"]=t.mobile.Password.Locale["en-US"]=t.mobile.Numeric.Locale["default"]=t.mobile.Numeric.Locale["en-US"]=t.mobile.MaskEdit.Locale["default"]=t.mobile.MaskEdit.Locale["en-US"]={watermarkText:""}}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("ejmGroupButton","ej.mobile.GroupButton",{_setFirst:!0,_rootCSS:"e-m-grpbtn",_tags:[{tag:"items",attr:["text","type","name","imageClass","imageUrl"]}],defaults:{selectedItemIndex:0,renderMode:"auto",enablePersistence:!1,cssClass:"",items:[],touchStart:null,touchEnd:null,select:null},dataTypes:{renderMode:"enum",enablePersistence:"boolean"},observables:["selectedItemIndex"],selectedItemIndex:ej.util.valueFunction("selectedItemIndex"),_init:function(){this._orgEle=this.element.clone();this._renderControl();this._createDelegates();this._wireEvents()},_renderControl:function(){var element,isAngular,i,btnelement,label,proxy;for(ej.setRenderMode(this),element=this.element,element.addClass("e-m-grpbtn e-m-"+this.model.renderMode+" "+this.model.cssClass),typeof this.model.items=="string"&&(this.model.items=eval(this.model.items)),isAngular=this.model.items.length>0?!0:!1,i=0,btnelement=element.children();i<(isAngular?this.model.items.length:btnelement.length);i++)isAngular?label=!ej.isNullOrUndefined(this.model.items[i].type)||!ej.isNullOrUndefined(this.model.items[i].type)?ej.buildTag("label","<input "+(ej.isNullOrUndefined(this.model.items[i].type)?"":'type="'+this.model.items[i].type+'"')+(ej.isNullOrUndefined(this.model.items[i].name)?"":'name="'+this.model.items[i].name+'"')+" />"+this.model.items[i].text):ej.buildTag("button",this.model.items[i].text).appendTo(element):this.model.items.push(this._insertItem(btnelement[i]));proxy=this;$.each(element.children(),function(n){var t=$(this),i;imageClass=proxy.model.items[n].imageClass;imagePath=proxy.model.items[n].imageUrl;(imageClass||imagePath)&&(i=ej.buildTag("div.grpimage "+imageClass).appendTo(t),imagePath&&(i.css({"background-image":"url('"+imagePath+"')"}),t.text().trim()==""&&t.addClass("e-m-imageonly")));t.addClass("e-m-btn")});this._selectItem(this.selectedItemIndex())},_insertItem:function(n){for(var i,r={},t=0,u=this._tags[0].attr.length;t<u;t++)i=this._tags[0].attr[t],r[i]=ej.getAttrVal(n,"data-ej-"+i.toLowerCase(),undefined);return r},_createDelegates:function(){this._touchStartHandler=$.proxy(this._touchStartHandler,this);this._touchEndHandler=$.proxy(this._touchEndHandler,this);this._touchMoveHandler=$.proxy(this._onTouchMove,this)},_wireEvents:function(n){var t=this.element.find(".e-m-btn");ej.listenEvents([t],[ej.startEvent()],[this._touchStartHandler],n)},_touchStartHandler:function(n){$(this.element.children()[this.model.selectedItemIndex]).children().is(":checked")||$(this.element.children()[this.model.selectedItemIndex]).removeClass("e-m-active");this._prevItem=this.model.selectedItemIndex;var t=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n;this._clickX=t.clientX;this._isMouseMove=!1;this._target=n.target;this.currentText=$(n.target).text();this.data={text:this.currentText.trim()};ej.listenEvents([this._target,this._target],[ej.endEvent(),ej.moveEvent()],[this._touchEndHandler,this._touchMoveHandler],!1);this.model.touchStart&&this._trigger("touchStart",this.data)},_onTouchMove:function(n){var t=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n;this._clickX!=t.clientX&&(this._isMouseMove=!0)},_touchEndHandler:function(n){var t,i;ej.listenEvents([$(n.currentTarget),$(n.currentTarget)],[ej.moveEvent(),ej.endEvent()],[this._touchMoveHandler,this._touchEndHandler],!0);n.target!==this._target||this._isMouseMove||(t=this.element,$(n.target).addClass("e-m-active"),i=$(n.currentTarget),this.model.selectedItemIndex=i.index(),i.find("input").length==0||i.find("input[type='groupbutton']").length==0?(t.children().find("input").attr("type")!="checkbox"&&t.find(".e-m-active").removeClass("e-m-active").find("input[type='radio']").attr("checked",!1),i.addClass("e-m-active").find("input[type='radio']").prop("checked",!0)):i.find("input").is(":checked")?i.removeClass("e-m-active"):i.addClass("e-m-active"),t.children().find("input").attr("type")=="checkbox"&&($(t.children()[this._prevItem]).children().is(":checked")&&$(t.children()[this._prevItem]).addClass("e-m-active"),$(t.children()[this.model.selectedItemIndex]).children().is(":checked")&&$(t.children()[this.model.selectedItemIndex]).removeClass("e-m-active")),this.selectedItemIndex($(n.currentTarget).index()),this.model.touchEnd&&this._trigger("touchEnd",this.data));this.data={text:this.currentText.trim()};this.model.select&&this._trigger("select",this.data)},_selectItem:function(n){var t=this.element,i;n>=0&&(this.selectedItemIndex(n),i=$(t.find("input")[this.selectedItemIndex()]),t.find(".e-m-active").children().attr("type")=="checkbox"?$(t.children().find("input")[n]).is(":checked")?($(t.children()[n]).removeClass("e-m-active"),i.prop("checked",!1)):($(t.children()[n]).addClass("e-m-active"),i.prop("checked",!0)):(t.find(".e-m-active").removeClass("e-m-active"),$(t.find(".e-m-btn")[this.selectedItemIndex()]).addClass("e-m-active"),i.prop("checked",!0)),this.currentText=$(t.find(".e-m-btn")[this.selectedItemIndex()]).text(),this.data={text:this.currentText.trim()},this.model.select&&this._trigger("select",this.data))},_setModel:function(n){var r=!1,t,i,u;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),u=typeof n[t]=="function"?this[t]():n[t],this[i]?this[i](u):r=!0;r&&this._refresh()},_setRenderMode:function(){this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode+"")},_setSelectedItemIndex:function(n){this._selectItem(n)},_refresh:function(){this._destroy();this.element.addClass("ejm-groupbutton");this._renderControl();this._wireEvents(!1)},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget({ejmRadioButton:"ej.mobile.RadioButton",ejmCheckBox:"ej.mobile.CheckBox"},{_setFirst:!0,_rootCSS:"e-m-editor",validTags:["input"],defaults:{renderMode:"auto",cssClass:"",enablePersistence:!1,enabled:!0,checked:!1,touchStart:null,enableRippleEffect:t.isAndroid()?!0:!1,touchEnd:null,beforeChange:null,change:null},dataTypes:{renderMode:"enum",enablePersistence:"boolean",enabled:"boolean",enableRippleEffect:"boolean",checked:"boolean"},_init:function(){this._cloneElement=this.element.clone();this._renderControl();this._wireEvents()},_getControlName:function(){return this.pluginName.replace("ejm","")},_renderControl:function(){t.setRenderMode(this);var n=this.model;this._radioCheckCoreProperties(this._getControlName().toLowerCase())},_radioCheckCoreProperties:function(i){this.model.type=i=="checkbox"?"checkbox":"radio";this.element.attr("type")||this.element.attr("type",this.model.type);this.element.css("display","none");this._wrapper=this.element.parent();this._elementName=this.element.attr("name");this._inputWrapper=t.buildTag("div.e-m-"+this.model.renderMode).addClass("e-m-input-"+i+" "+this.model.cssClass+" "+(this._elementName?this._elementName:""));this.element.addClass(this.model.cssClass);this._inputWrapper.insertBefore(this.element);this._setEnableRippleEffect();this.element.appendTo(this._inputWrapper);this._label=n("label[for='"+this._id+"']");this._setCommonProperties()},_setEnableRippleEffect:function(){this._inputWrapper[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple")},_setCommonProperties:function(){var n=this.model;n.checked&&this._setChecked(!0);n.enabled||this._setEnabled(!1)},_setChecked:function(n){this.element.prop("disabled")||(this.element.prop("checked",n),this._inputWrapper[n?"addClass":"removeClass"]("e-m-state-active"))},_setEnabled:function(n){this.element.attr("disabled",!n);this._inputWrapper[n?"removeClass":"addClass"]("e-m-state-disabled")},_setRenderMode:function(){this.element.prop("disabled")||this._inputWrapper.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_createDelegate:function(){this._touchStartProxy=n.proxy(this._touchStart,this);this._touchEndProxy=n.proxy(this._touchEnd,this)},_wireEvents:function(n){var i=this.model,r=this.element,u=this._getControlName();this._createDelegate();t.listenEvents([this._inputWrapper,this._inputWrapper,this._label,this._label],[t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent()],[this._touchStartProxy,this._touchEndProxy,this._touchStartProxy,this._touchEndProxy],n)},_touchStart:function(n){if(this.model.enabled){this._inputWrapper.addClass("e-m-state-glow");var t={isChecked:this.model.checked,value:this.element.val(),controlType:this.model.type,element:this.element,events:n};this.model.touchStart&&this._trigger("touchStart",t);this.model.beforeChange&&this._trigger("beforeChange",t)}},_touchEnd:function(t){var r,i;this.model.enabled&&(this.model.type=="checkbox"&&(this.element.attr("checked")&&this.element.attr("checked").length?(this.element.attr("checked",!1),this.model.checked=!1,this._inputWrapper.removeClass("e-m-state-active")):(this.element.attr("checked",!0),this.model.checked=!0,this._inputWrapper.addClass("e-m-state-active"))),this.model.type=="radio"&&(r=n(".e-m-input-radiobutton."+this._elementName),n.each(r,function(t,i){n(i).removeClass("e-m-state-active");n(i).children().attr("checked",!1)}),this.element.attr("checked",!0),this.model.checked=!0,this.element.parent().addClass("e-m-state-active")),i={isChecked:this.model.checked,value:this.element.val(),controlType:this.model.type,element:this.element,events:t},this._inputWrapper.removeClass("e-m-state-glow"),this.model.touchEnd&&this._trigger("touchEnd",i),this.model.change&&this._trigger("change",i))},enable:function(){this.model.enabled=!0;this._inputWrapper.removeClass("e-m-state-disabled")},disable:function(){this.model.enabled=!1;this._inputWrapper.addClass("e-m-state-disabled")},isChecked:function(){return this.model.checked},_setModel:function(n){for(var t in n)this["_set"+t.charAt(0).toUpperCase()+t.slice(1)](n[t])},_clearElement:function(){return this._cloneElement.insertBefore(this.element.parent()),this.element.parent().remove(),this.element.remove(),this._wireEvents(!0),this},_destroy:function(){this._clearElement()},_refresh:function(){this._clearElement()._init();this._wireEvents()}})}(jQuery,Syncfusion),function($,ej){ej.widget("ejmListView","ej.mobile.ListView",{_setFirst:!0,_rootCSS:"e-m-lv",validTags:["ul"],_tags:[{tag:"items",attr:["text","value","href","imageUrl","enabled","badge.value","badge.maxValue","allowSelection"],content:"template"}],defaults:{renderMode:"auto",cssClass:"",dataSource:[],templateId:"",enabled:!0,enableChecklist:!1,persistSelection:!1,enablePersistence:!1,enableRippleEffect:ej.isAndroid()?!0:!1,allowSelection:!0,selectedIndex:null,checkedIndices:[],query:null,deleteMode:"none",fields:{text:null,value:null,image:null,groupBy:null,checkBy:null,enabled:null,href:null,allowSelection:null,badge:{value:null,maxValue:100}},windows:{preventSkew:!1},itemsCount:0,items:[],touchStart:null,select:null,touchEnd:null,beforeDelete:null,afterDelete:null,actionSuccess:null,actionFailure:null,actionComplete:null},dataTypes:{renderMode:"enum",dataSource:"data",items:"data",enabled:"boolean",enableRippleEffect:"boolean",selectedIndex:["string","number"],checkedIndices:"array",enableChecklist:"boolean",persistSelection:"boolean",allowSelection:"boolean",windows:{preventSkew:"boolean"},templateId:"string",itemsCount:"number"},observables:["selectedIndex"],selectedIndex:ej.util.valueFunction("selectedIndex"),_init:function(){ej.setRenderMode(this);this._dataObj=this.model.dataSource;this._index=0;this._initialize()},_initialize:function(){this._listItems=[];this._orgEle=this.element.clone();typeof this.model.dataSource=="string"&&(this.model.dataSource=eval(this.model.dataSource));Object.keys(this.model.dataSource).length?this._dataProcess(this.model.dataSource,null):this._render();this._browser=ej.browser().toLowerCase();this._doc=$(document);this._relDis=0;this._move=!1},_dataProcess:function(data,action){var proxy=this,query;query=action=="append"?this.model.query?this.model.query:"ej.Query().range("+this._index+","+(this._index+this.model.itemsCount)+")":this.model.query&&this.model.itemsCount?this.model.query+".take("+this.model.itemsCount+")":!this.model.query&&this.model.itemsCount?"ej.Query().take("+this.model.itemsCount+")":this.model.query?this.model.query:"ej.Query()";data instanceof ej.DataManager?data.executeQuery(eval(query)).done(function(n){action=="refresh"&&proxy.element.children().remove();proxy.model.dataSource=action=="append"?proxy.model.dataSource.concat(n.result):n.result;proxy._dataSource=n.result;proxy._render();proxy._trigger("actionSuccess",n);proxy.model.itemsCount&&(proxy._index+=proxy.model.itemsCount)}).fail(function(n){proxy._trigger("actionFailure",n)}).always(function(n){proxy._trigger("actionComplete",n)}):(this._dataSource=ej.DataManager(data).executeLocal(eval(query)),action=="refresh"&&this.element.children().remove(),this.model.dataSource=action=="append"?this.model.dataSource.concat(this._dataSource):this._dataSource,this._render(),this.model.itemsCount&&(this._index+=this.model.itemsCount))},_render:function(){this._renderControl();this._setValues();this._wireEvents()},_setValues:function(){this.model.enabled?(this.model.selectedIndex!=null&&this.selectItemByIndex(this.selectedIndex()),this.model.checkedIndices.length&&this.checkItemsByIndices(this.model.checkedIndices)):this.disable()},_renderItems:function(){if(this.model.items.length<1){var n=this.element.find("li");for(i=0;i<n.length;i++)this.model.items.push({text:ej.getAttrVal(n[i],"data-ej-text",null),value:ej.getAttrVal(n[i],"data-ej-value",null),href:ej.getAttrVal(n[i],"data-ej-href",null),imageUrl:ej.getAttrVal(n[i],"data-ej-imageurl",null),enabled:ej.getAttrVal(n[i],"data-ej-enabled",!0),allowSelection:ej.getAttrVal(n[i],"data-ej-allowselection",!0),badge:{value:ej.getAttrVal(n[i],"data-ej-badge-value",null),maxValue:ej.getAttrVal(n[i],"data-ej-badge-maxvalue",null)}})}else for(i=0;i<this.model.items.length;i++)this.model.items[i].template&&this.element.append(ej.buildTag("li",this.model.items[i].template))},_renderControl:function(){this.element.addClass("e-m-"+this.model.renderMode+" e-m-lv e-m-user-select"+(this.model.allowSelection?"":" e-m-lv-preventselection")+" "+this.model.cssClass);this.model.templateId.length?this._renderTemplateList():this._dataObj.length==0?(this._renderItems(),this._renderList()):this.model.dataSource.length&&(this.model.fields.groupBy?this._dataSourceGroupList():this._dataSourceList(this._dataSource))},_wireEvents:function(n){this._touchStart=$.proxy(this._touchStartHandler,this);this._touchEnd=$.proxy(this._touchEndHandler,this);this._touchMove=$.proxy(this._touchMoveHandler,this);ej.listenEvents([this.element],[ej.startEvent()],[this._touchStart],n)},_renderList:function(){var n,t,i;for(this._listItems=this.element.find("li").addClass("e-m-lv-item"),this._setEnableRippleEffect(),this._listHeaders=this.element.find(">span").addClass("e-m-lv-group"),n=0;n<this._listItems.length;n++)t=$(this._listItems[n]).attr({index:n,"data-value":this.model.items[n].value,"data-allowselection":this.model.items[n].allowSelection}).addClass(this.model.items[n].enabled=="false"?"e-m-state-disabled":""),i=ej.buildTag("a.e-m-lv-content",this.model.items[n].text?this.model.items[n].text:t.html(),{},{"data-ej-appajax":!1,href:this.model.items[n].href}),t.empty().append(i),this._slideDeleteButton(t,i),this.model.items[n].imageUrl&&i.css("background-image","url("+this.model.items[n].imageUrl+")").addClass("e-m-lv-image"),this._setBadge(t)},_setEnableRippleEffect:function(){this._listItems[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple")},_slideDeleteButton:function(n,t){if(this.model.deleteMode==ej.mobile.ListView.DeleteMode.SlideButton){var i=ej.buildTag("div.e-m-lv-slideitem"),r=ej.buildTag("span.e-m-lv-delete","Delete");n.append(i.append(r));t.addClass("e-m-lv-swipeout");this._swipeDis=this.element.find(".e-m-lv-slideitem").width()}},_renderTemplateList:function(){var n=$("#"+this.model.templateId);n.html("<li class='e-m-lv-item'>"+n.html()+"<\/li>");this._dataSource.length&&this.element.html(n.render(this._dataSource));ej.widget.init(this.element)},_dataSourceList:function(n){var t=this;$(n).each(function(n,i){var u=ej.buildTag("a.e-m-lv-content",i[t.model.fields.text],{},{"data-ej-appajax":!1,href:i[t.model.fields.href]}),f={badge:{value:ej.isNullOrUndefined(i[t.model.fields.badge.value])?null:i[t.model.fields.badge.value],maxValue:ej.isNullOrUndefined(i[t.model.fields.badge.value])?null:i[t.model.fields.badge.maxValue]}},r=ej.buildTag("li.e-m-lv-item"+(i[t.model.fields.checkBy]?" e-m-lv-checked":"")+(i[t.model.fields.enabled]?" e-m-state-disabled":""),u,{},{"data-ej-badge-value":ej.isNullOrUndefined(i[t.model.fields.badge.value])?null:i[t.model.fields.badge.value],"data-ej-badge-maxvalue":ej.isNullOrUndefined(i[t.model.fields.badge.maxValue])?null:i[t.model.fields.badge.maxValue]});ej.isNullOrUndefined(i[t.model.fields.image])||u.css("background-image","url("+i[t.model.fields.image]+")").addClass("e-m-lv-image");t.model.items.push(f);t._listItems.push(r);t._slideDeleteButton(r,u);t.element.append(r.attr({index:n,"data-value":i[t.model.fields.value],"data-allowselection":i[t.model.fields.allowSelection]}));t._setBadge(r)})},_dataSourceGroupList:function(){var n=this,t=ej.DataManager(n._dataSource).executeLocal(ej.Query().group(n.model.fields.groupBy));$(t).each(function(t,i){n.element.append(ej.buildTag("span.e-m-lv-group",i.key));n._dataSourceList(i.items)})},_touchStartHandler:function(n){ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n);this._startX=n.clientX;this._startY=n.clientY;this._timeStart=n.timeStamp||Date.now();var t=$(n.target);this._curentEle=t.closest("li");this._removeSelect();t.hasClass("e-m-lv-delete")||this._curentEle.hasClass("swipeend")||(this.model.allowSelection&&this._curentEle.attr("data-allowselection")!="false"&&this._curentEle.addClass("e-m-lv-active e-m-lv-selected"),this.model.renderMode!="windows"||this.model.windows.preventSkew||this._curentEle.addClass(ej.isMobile()?ej._getSkewClass($(this._curentEle),n.pageX,n.pageY):"e-m-skew-center"),this.element.find("a,span").css("-"+this._browser+"-transform",""),this.element.find(".e-m-lv-slideitem,.e-m-lv-delete").removeClass("e-m-lv-swipe"),this.element.find("li").removeClass("swipeend"));ej.listenEvents([this._doc,this.element],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!1);this.model.touchStart&&this._trigger("touchStart",this._getItemObject(this._curentEle,n))},_touchMoveHandler:function(n){var i,t,r;this._isMoved=n.clientX!=this._startX?!0:!1;this._isMoved&&n.preventDefault();i=$(n.target);ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n);t=n.clientX-this._startX;r=n.clientY-this._startY;Math.abs(r)>=10&&(this._move=!0,this._removeActive(),ej._removeSkewClass(this._curentEle));this.model.deleteMode!=ej.mobile.ListView.DeleteMode.Default&&this._removeActive();i.closest(this.element).length!=0?(this.model.deleteMode==ej.mobile.ListView.DeleteMode.SlideButton&&(t<0||this._curentEle.hasClass("swipeend"))&&(this._relDis=this._curentEle.hasClass("swipeend")?-this._swipeDis+t:t,this._relDis<=0&&(this._curentEle.find("a,span").css("-"+this._browser+"-transform","translate3d("+this._relDis+"px,0px,0px) scale(1)").css("-"+this._browser+"-transition","none"),this._curentEle.find(".e-m-lv-slideitem,.e-m-lv-delete").addClass("e-m-lv-swipe"))),this.model.deleteMode==ej.mobile.ListView.DeleteMode.Swipe&&(this._relDis=t,this._curentEle.find("a").css("-"+this._browser+"-transform","translate3d("+t+"px,0px,0px) scale(1)").css("-"+this._browser+"-transition","none"))):this._touchEndHandler(n)},_touchEndHandler:function(n){var r=$(n.target),i=(n.timeStamp||Date.now())-this._timeStart,t;this.model.persistSelection||this._curentEle.removeClass("e-m-lv-active");this.model.deleteMode==ej.mobile.ListView.DeleteMode.Swipe&&(this._curentEle.find("a").css("-"+this._browser+"-transform","translate3d(0px,0px,0px) scale(1)").css("-"+this._browser+"-transition","").addClass("e-m-lv-swipeout"),(this._curentEle.width()/2<=Math.abs(this._relDis)||i>=120&&i<=200&&Math.abs(this._relDis)>=10)&&this._deleteItem(this._curentEle,n));this.model.deleteMode==ej.mobile.ListView.DeleteMode.SlideButton&&(this._relDis!=0?(t=-this._swipeDis/2<=this._relDis?0:-this._swipeDis,t!=0?this._curentEle.addClass("swipeend"):this._curentEle.removeClass("swipeend"),this._curentEle.find("a,span").css("-"+this._browser+"-transform","translate3d("+t+"px,0px,0px) scale(1)").css("-"+this._browser+"-transition","").addClass("e-m-lv-swipeout")):r.hasClass("e-m-lv-delete")&&this._deleteItem(this._curentEle,n),this._relDis=0);this._move||(this.model.enableChecklist&&this._curentEle.toggleClass("e-m-lv-checked"),this.model.renderMode!="windows"||this.model.windows.preventSkew||ej._removeSkewClass(this._curentEle),this._setModelValues(),this.model.touchEnd&&this._trigger("touchEnd",this._getItemObject(this._curentEle,n)),this.model.select&&this._trigger("select",this._getItemObject(this._curentEle,n)));ej.listenEvents([this._doc,this.element],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0);this._move=!1},_deleteItem:function(n,t){var i=n.index();this.model.beforeDelete&&this._trigger("beforeDelete",this._getItemObject(n,t));this.model.dataSource.length&&this.model.dataSource.splice(i,1);n.remove();this.model.afterDelete&&this._trigger("afterDelete",this._getItemObject(n,t))},_removeSelect:function(){this.element.find(".e-m-lv-active,.e-m-lv-selected").removeClass("e-m-lv-active e-m-lv-selected")},_removeActive:function(){this.element.find(".e-m-lv-active").removeClass("e-m-lv-active")},_setModelValues:function(){var n=this;this.model.selectedIndex=parseInt(this.element.find(".e-m-lv-selected").attr("index"));this.model.checkedIndices=[];this.element.find(".e-m-lv-checked").each(function(){n.model.checkedIndices.push(parseInt($(this).attr("index")))})},_setBadge:function(n,t){var i=t||(this.model.items[n.attr("index")].badge?this.model.items[n.attr("index")].badge.value:null),r;maxBadgeValue=this.model.items[n.attr("index")].badge?this.model.items[n.attr("index")].badge.maxValue:this.model.fields.bage.maxValue;ej.isNullOrUndefined(i)||(r=parseInt(i)>parseInt(maxBadgeValue)?maxBadgeValue+"+":i,n.find(".e-m-lv-content").attr("badgeValue",r).addClass("e-m-lv-badge"))},_getItemObject:function(n,t){var i=this.element.find("li").index(n);return{item:n,index:i,text:n.find("a").html(),badge:n.find("a").attr("badgeValue")||null,isSelected:n.hasClass("e-m-lv-selected"),isChecked:n.hasClass("e-m-lv-checked"),data:this.model.dataSource[i]||null,event:t,isInteraction:t?!0:!1}},addItem:function(n,t){var i=this;this.model.dataSource.length?($(n).each(function(n,r){i.model.dataSource.splice(t?t:i.model.dataSource.length,0,r)}),this._refresh()):(ItemObj=$.isArray(n)?n:$.makeArray(n),$(ItemObj).each(function(n,r){var u=ej.buildTag("a.e-m-lv-content"),f=ej.buildTag("li.e-m-lv-item");t?$(i.element.find("li")[t]).before(f.append(u.html(r))):$(i.element.find("li")[i.element.find("li").length-1]).after(f.append(u.html(r)))}))},refresh:function(n){this._dataProcess(n,"refresh")},append:function(n){this._dataProcess(n,"append")},enable:function(){this.element.removeClass("e-m-state-disabled");this.model.enabled=!0},disable:function(){this.element.addClass("e-m-state-disabled");this.model.enabled=!1},enableItemByIndex:function(n){this.model.enabled&&$(this.element.find("li")[n]).removeClass("e-m-state-disabled")},disableItemByIndex:function(n){this.model.enabled&&$(this.element.find("li")[n]).addClass("e-m-state-disabled")},enableItemsByIndices:function(n){if(this.model.enabled){var t=this;$(n).each(function(n,i){t.enableItemByIndex(i)})}},disableItemsByIndices:function(n){if(this.model.enabled){var t=this;$(n).each(function(n,i){t.disableItemByIndex(i)})}},enableAll:function(){this.model.enabled&&$(this.element.find("li").removeClass("e-m-state-disabled"))},disableAll:function(){this.model.enabled&&$(this.element.find("li").addClass("e-m-state-disabled"))},selectItemByIndex:function(n){this.model.enabled&&n>=0&&(this._curentEle=$(this.element.find("li").removeClass("e-m-lv-selected e-m-lv-active")[this.model.selectedIndex=n]),this._curentEle.addClass("e-m-lv-selected "+(this.model.persistSelection?"e-m-lv-active":"")),this.model.select&&this._trigger("select",this._getItemObject(this._curentEle)))},deselectItem:function(){this.model.enabled&&($(this.element.find("li").removeClass("e-m-lv-selected e-m-lv-active")),this.model.selectedIndex=null)},checkItemsByIndex:function(n){this.model.enableChecklist&&this.model.enabled&&($(this.element.find("li")[n]).addClass("e-m-lv-checked"),this._setModelValues())},checkItemsByIndices:function(n){if(this.model.enableChecklist&&this.model.enabled){var t=this;$(n).each(function(n,i){$(t.element.find("li")[i]).addClass("e-m-lv-checked")});this._setModelValues()}},uncheckItemsByIndex:function(n){this.model.enableChecklist&&this.model.enabled&&($(this.element.find("li")[n]).removeClass("e-m-lv-checked"),this._setModelValues())},uncheckItemsByIndices:function(n){if(this.model.enableChecklist&&this.model.enabled){var t=this;$(n).each(function(n,i){$(t.element.find("li")[i]).removeClass("e-m-lv-checked")});this._setModelValues()}},checkAll:function(){this.model.enableChecklist&&this.model.enabled&&($(this.element.find("li").addClass("e-m-lv-checked")),this._setModelValues())},uncheckAll:function(){this.model.enableChecklist&&this.model.enabled&&($(this.element.find("li").removeClass("e-m-lv-checked")),this._setModelValues())},getItemByIndex:function(n){if(this.model.enabled)return $(this.element.find("li")[n])},getItemByText:function(n){if(this.model.enabled){var t;return $(this.element.find("li")).each(function(i,r){$(r).find("a").html()==n&&(t=i)}),this.getItemByIndex(t)}},getTextByIndex:function(n){if(this.model.enabled)return $(this.element.find("li")[n]).find("a").html()},getIndexByText:function(n){if(this.model.enabled){var t;return $(this.element.find("li")).each(function(i,r){$(r).find("a").html()==n&&(t=i)}),t}},deleteItemByIndex:function(n){if(this.model.enabled){var t=$(this.element.find("li")[n]).remove().find("a").html();return this.model.dataSource.length&&(t=this.model.dataSource.splice(n,1)),t}},deleteItemByText:function(n){if(this.model.enabled)return this.deleteItemByIndex(this.getIndexByText(n))},setBadge:function(n,t){this.model.enabled&&this._setBadge(this.getItemByIndex(n),t)},_setModel:function(n){var t,i=!1;for(t in n){if(!this.model.enabled&&t!="enabled")return!1;switch(t){case"renderMode":this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode);case"selectedIndex":this.selectItemByIndex(n[t]);break;case"checkedIndices":this.checkItemsByIndices(n[t]);break;case"enabled":n[t]?this.enable():this.disable();break;case"enableRippleEffect":this._setEnableRippleEffect();break;case"allowSelection":this.element[n[t]?"addClass":"removeClass"]("e-m-lv-preventselection")}(n.dataSource||n.fields||n.query)&&(n.dataSource||(this.model.dataSource=this._dataObj),this.deselectItem(),this.uncheckAll(),i=!0)}i&&this._refresh();i=!1},_refresh:function(){this._destroy();this.element.addClass(this._rootCSS);this._initialize()},_clearElement:function(){this.element.removeAttr("class").removeAttr("style");this.element.empty().html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}});ej.mobile.ListView.DeleteMode={Default:"none",Swipe:"swipe",SlideButton:"slideButton"}}(jQuery,Syncfusion),function(n,t,r){t.widget("ejmMenu","ej.mobile.Menu",{_setFirst:!0,_rootCSS:"e-m-menu",_tags:[{tag:"items",attr:["text","touchStart","touchEnd","href","color"],content:"textTemplate"}],defaults:{renderMode:"auto",height:null,width:null,templateId:null,dataSource:[],fields:{text:"",href:null,color:""},query:t.Query(),allowScrolling:!0,enablePersistence:!1,text:"",color:"",target:null,showOn:"tap",cancelButton:{text:null,show:!0,color:""},showTitle:!0,title:null,showArrow:!0,type:"actionsheet",locale:"en-US",load:null,loadComplete:null,touchStart:null,touchEnd:null,hide:null,show:null,cssClass:"",enableRippleEffect:t.isAndroid()?!0:!1,items:[],href:null,actionSuccess:null,actionFailure:null,actionComplete:null},dataTypes:{dataSource:"data",query:"data",enableRippleEffect:"boolean",renderMode:"enum",locale:"string"},observableArray:["dataSource"],dataSource:t.util.valueFunction("dataSource"),_init:function(){t.getCurrentPage().append(this.element);this._getLocalizedLabels();this.model.title=t.isNullOrUndefined(this.model.title)?this._localizedLabels.title:this.model.title;this.model.cancelButton.text=t.isNullOrUndefined(this.model.cancelButton.text)?this._localizedLabels.cancelButtonText:this.model.cancelButton.text;this._template=t.getCurrentPage().find("#"+this.model.templateId);Object.keys(this.model.dataSource).length>1?this._initDataSource():this._render()},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_load:function(){t.setRenderMode(this);this._touchStart=this.model.touchStart;this._touchEnd=this.model.touchEnd;this._orgEle=this.element.clone();(this._orgEle.find("ul").length||Object.keys(this.model.dataSource).length>1)&&(this.model.items=[]);this.model.id=this.element[0].id;Object.keys(this.model.dataSource).length>1&&this._dataSourceList(this._dataSource);this.model.load&&this._trigger("load")},_renderItems:function(n){var f,o,e,u,s;if(n.model.items.length<1)for(e=this.element.find("li"),i=0;i<e.length;i++)f={},u=e[i],f.text=t.getAttrVal(u,"data-ej-text",""),f.href=t.getAttrVal(u,"data-ej-href",null),f.color=t.getAttrVal(u,"data-ej-color",""),f.templateId=t.getAttrVal(u,"data-ej-templateid",r),f.touchStart=t.getAttrVal(u,"data-ej-touchstart",r),f.touchEnd=t.getAttrVal(u,"data-ej-touchend",r),this.model.items.push(f);else for(o=t.buildTag("ul.e-m-menu-hdr e-m-clearall"),e=this.model.items,i=0;i<e.length;i++)u=e[i],u.text=u.text?u.text:"",u.href=u.href?u.href:null,u.color=u.color?u.color:"",u.templateId=u.templateId?u.templateId:r,u.touchStart=u.touchStart?u.touchStart:r,u.touchEnd=u.touchEnd?u.touchEnd:r,s=t.buildTag("li",e[i].textTemplate),this.element.append(o.append(s));this._setEnableRippleEffect()},_setEnableRippleEffect:function(){this.element.find("li")[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple");this.element.find("span.e-m-menu-btn")[this.model.enableRippleEffect&&this.model.cancelButton.show?"addClass":"removeClass"]("e-ripple")},_render:function(){this._renderControl();this._wireEvents()},_initDataSource:function(){t.mobile.WaitingPopup.show();var n=this;this.dataSource()instanceof t.DataManager?this.dataSource().executeQuery(n.model.query).done(function(i){n._dataSource=i.result;n._render();n._trigger("actionSuccess",i);t.mobile.WaitingPopup.hide()}).fail(function(t){n._trigger("actionFailure",t)}).always(function(t){n._trigger("actionComplete",t)}):(this._dataSource=t.DataManager(this.dataSource()).executeLocal(this.model.query),this._render(),t.mobile.WaitingPopup.hide())},_renderControl:function(){this._load();this.element.addClass("e-m-"+this.model.renderMode+" "+this.model.cssClass);var n=this;this._renderItems(n);this._menuUl=this.element.find("ul").addClass("e-m-menulist");this.model.templateId&&Object.keys(this.model.dataSource).length<1?(t.getCurrentPage().find("#"+this.model.templateId).remove(),this.element.append(t.buildTag("div.e-m-menutemplate").append(this._template.html())),this._menuProperties()):(this._menuLiItems=this.element.find("li").addClass("e-m-state-default e-m-user-select e-m-menuitem"),this._menuLiItems.first().addClass("e-m-firstitem"),this._menuLiItems.last().addClass("e-m-lastitem"),this._menuProperties(),this._menuLiItems.each(function(t,i){n._renderMenuItems(i,t)}),this._liHeight=t.getDimension(this._menuLiItems,"height"));t.widget.init(this.element);this.hide();this._setHeightWidth();this.model.allowScrolling&&this._renderScrollPanel();this.model.loadComplete&&this._trigger("loadComplete")},_getTarget:function(){return typeof this.model.target=="string"?t.getCurrentPage().find("#"+this.model.target).length>0?t.getCurrentPage().find("#"+this.model.target):n("body").find("#"+this.model.target):this.model.target},_setHeightWidth:function(){if(this.model.width&&this.element.width(this.model.width),this._titleHeight=Math.abs(this._titleDiv?t.getDimension(this._titleDiv,"outerHeight"):0),this._menuHeight=this._liHeight*5+this._titleHeight+this._menuArrowHeight,this.model.height)this._menuUl.height(this.model.height-(this._titleHeight+this.element.find(".e-m-menu-cancelbtn").outerHeight()+(this.model.type=="actionsheet"?10:0)));else if(this.model.allowScrolling)if(this.model.type=="actionsheet")window.innerHeight<this._liHeight*5+(this._titleDiv?this._titleDiv.outerHeight():0)+this.element.find(".e-m-menu-cancelbtn").outerHeight()+25?this._menuUl.css("max-height",window.innerHeight-((this._titleDiv?this._titleDiv.outerHeight():0)+this.element.find(".e-m-menu-cancelbtn").outerHeight()+20)):this._menuUl.css("max-height",this._liHeight*5);else{var n=this._getTarget().offset().top,i=n+this._getTarget().outerHeight();this.element.css({top:"auto",bottom:"auto"});this._menuHeight+(this.element.offset().top+10)>window.innerHeight?this._menuUl.css("max-height",this._liHeight*5-(this._menuHeight-(window.innerHeight-this.element.offset().top))):!this.model.height&&this.model.allowScrolling&&t.isNullOrUndefined(this.model.templateId)&&window.innerHeight>=this._menuHeight&&this._menuUl.css("max-height",this._liHeight*5)}},_renderScrollPanel:function(){var n=t.buildTag("div.e-m-menuscrollwrapper");t.isNullOrUndefined(this.model.templateId)?this._menuUl.wrap(n):this.element.find(".e-m-menutemplate").wrap(n);this.element.find(".e-m-menuscrollwrapper").ejmScrollPanel({isRelative:!0})},_dataSourceList:function(i){var r,u;t.isNullOrUndefined(this.model.templateId)?(r=this,this._datasrcUl=t.buildTag("ul"),this.element.append(this._datasrcUl),n(i).each(function(n,i){var u=t.buildTag("li",i[r.model.fields.text],{color:i[r.model.fields.color]},{}).attr("data-ej-href",i[r.model.fields.href]).appendTo(r.element);r._datasrcUl.append(u)})):(u=t.getCurrentPage().find("#"+this.model.templateId),this._dataSource.length&&(this._temp=t.buildTag("div.e-m-menutemplate"),this.element.append(this._temp),this._temp.html(u.render(this._dataSource))))},_menuProperties:function(){this.element.addClass("e-m-menu-"+this.model.type+(this.model.type=="actionsheet"?" e-m-abs":" e-m-fixed"));this.model.type=="popover"&&this.element.addClass("e-m-corner-all").prepend(this.model.showArrow?t.buildTag("div.e-m-icon-arrow e-m-top"):"").append(this.model.showArrow?t.buildTag("div.e-m-icon-arrow e-m-bottom"):"");!this.model.showTitle||this.model.type=="popup"||(this._titleDiv=t.buildTag("span.e-m-menu-title",this.model.title),this.model.type=="actionsheet"?this.element.prepend(this._titleDiv):this.model.showArrow?this._titleDiv.insertAfter(this.element.find(".e-m-icon-arrow.e-m-top")):this.element.prepend(this._titleDiv));this._menuArrowHeight=this.element.find(".e-m-icon-arrow").height();this.model.cancelButton.show&&this.model.type=="actionsheet"&&this.element.append(t.buildTag("span.e-m-menu-btn").addClass("e-m-menu-cancelbtn").text(this.model.cancelButton.text).css("color",this.model.cancelButton.color));this._createOverlayDiv()},_renderMenuItems:function(i,u){if(!n(i).hasClass("e-m-menu-title")){var f=t.getAttrVal(i,"data-ej-text")==(""||r)?this.model.items[u].text==""?n(this._menuLiItems[u]).html():this.model.items[u].text:t.getAttrVal(i,"data-ej-text");ctrl=t.buildTag("a.e-m-menu-btn#"+this.model.id+u,f,{},{href:t.getAttrVal(i,"data-ej-href")||this.model.items[u].href}).css("color",t.getAttrVal(i,"data-ej-color")||this.model.items[u].color);n(i).empty().append(ctrl.css("color",i.style.color==""?this.model.items[u].color:i.style.color))}},_normalPosition:function(n){var r,t,u,i,f;n.length&&(r=this.element.width(),this.element.find(".e-m-icon-arrow.e-m-top").removeClass("e-m-state-hide").addClass("e-m-state-block"),this.element.find(".e-m-icon-arrow.e-m-bottom").removeClass("e-m-state-block").addClass("e-m-state-hide"),t=n.offset().left+n.outerWidth()/2-r/2,u=window.innerWidth,this._windowHeight=window.innerHeight,this._targetHeight=this.element.outerHeight(),t<0?t=5:u-t<r&&(t=u-r),this.model.type=="popover"?this.element.css({left:t+"px"}):this.element.css({left:u/2-this.element.width()/2+"px"}),this.element.find(".e-m-icon-arrow").css("left",n.offset().left+(n.outerWidth()-this.element.find(".e-m-icon-arrow").width())/2-t),i=n.offset().top,f=i+n.outerHeight(),this.element.css({top:f+10,bottom:"auto"}),this.model.showArrow||this.model.type!="popover"||this.element.css("top",this.element.offset().top-(n.height()+10)),window.innerHeight<this.element.offset().top&&this.element.css({top:"auto"}),this.model.type=="popover"&&(!this.model.height&&window.innerHeight-(i+10)<this._targetHeight&&this._menuUl.css("max-height",this._liHeight*5-((this._titleDiv?this._titleDiv.outerHeight():0)+this._menuArrowHeight+10)),i>this._targetHeight+10&&window.innerHeight-i<this._targetHeight&&(this.element.css({bottom:this._windowHeight-i+10,top:"auto"}),this.element.find(".e-m-icon-arrow.e-m-bottom").removeClass("e-m-state-hide").addClass("e-m-state-block"),this.element.find(".e-m-icon-arrow.e-m-top").removeClass("e-m-state-block").addClass("e-m-state-hide"))),this.model.showArrow||this.model.type!="popover"||this.element.css("bottom",this._windowHeight-i+10-(n.height()+10)),this.model.type=="popup"&&(this.element.css({top:(this._windowHeight-this._targetHeight)/2}),this.element.css({left:(this._windowWidth-this.element.outerWidth())/2})))},_createOverlayDiv:function(){this._overlay=t.buildTag("div#"+this.model.id+"_overlay","","",{"class":"e-m-overlay e-m-menu-overlay e-m-menu-"+this.model.type});this.element.after(this._overlay)},_cancelbtnTouchEnd:function(t){this.element.find(".e-m-menu-cancelbtn").removeClass("e-m-state-active");var i=t.currentTarget,r={item:n(i),text:n(i).text()};this._trigger("touchEnd",r);this.hide()},_cancelbtnTouchStart:function(t){this.element.find(".e-m-menu-cancelbtn").addClass("e-m-state-active");var i=t.currentTarget,r={item:n(i),text:n(i).text()};this._trigger("touchStart",r)},_docTouchStartHandler:function(t){this._currentTarget=this.model.target&&(t.currentTarget.id!=this.model.target||t.target.id!=this.model.target);!n(t.target).closest(".e-m-menu").length&&this._currentTarget&&(this._hide=!0,this.hide())},_docTouchEndHandler:function(t){this._hide&&!n(t.target).closest(".e-m-menu").length&&this._currentTarget&&(this._hide=!1)},_onTouchHandler:function(i,r){if(t.isNullOrUndefined(this.model.templateId)){this._currentItem[r=="touchStart"?"addClass":"removeClass"]("e-m-state-active");var u=n(i.currentTarget).index();this.model[r]=this.model.items[u][r]?this.model.items[u][r]:this["_"+r];this.model[r]&&this._trigger(r,{item:this._currentItem,text:this._currentItem.text()})}},_onTouchStartHandler:function(t){this._currentItem=n(t.currentTarget);this._onTouchHandler(t,"touchStart")},_onTouchEndHandler:function(n){this._onTouchHandler(n,"touchEnd")},_onTapEventHandler:function(i){this.model.showOn=="taphold"&&i.currentTarget==this._getTarget()[0]&&(t.listenEvents([n(document),n(document)],[t.startEvent(),t.endEvent],[this._docTouchStartDelegate,this._docTouchEndDelegate],!0),this.show(),t.listenEvents([n(document),n(document)],[t.startEvent(),t.endEvent],[this._docTouchStartDelegate,this._docTouchEndDelegate],!1))},_onTouchMoveHandler:function(t){this._currentItem=n(t.currentTarget);this._currentItem.removeClass("e-m-state-active")},_orientation:function(){var i=this._getTarget(),n=this;setTimeout(function(){n._setHeightWidth();n.model.type!="actionsheet"&&n._normalPosition(i)},t.isAndroid()?100:0)},_createDelegates:function(){this._showDelegate=n.proxy(this.show,this);this._cancelbtnTouchEndDelegate=n.proxy(this._cancelbtnTouchEnd,this);this._cancelbtnTouchStartDelegate=n.proxy(this._cancelbtnTouchStart,this);this._docTouchStartDelegate=n.proxy(this._docTouchStartHandler,this);this._docTouchEndDelegate=n.proxy(this._docTouchEndHandler,this);this._touchStartDelegate=n.proxy(this._onTouchStartHandler,this);this._touchEndDelegate=n.proxy(this._onTouchEndHandler,this);this._tapDelegate=n.proxy(this._onTapEventHandler,this);this._touchMoveDelegate=n.proxy(this._onTouchMoveHandler,this);this._resizeDelegate=n.proxy(this._orientation,this);this._orientationDelegate=n.proxy(this._orientation,this)},_wireEvents:function(i){var r=i?"unbind":"bind";i||this._createDelegates();this._li=this.element.find("li");t.listenEvents([this._li,this._li,this._li,window],[t.startEvent(),t.endEvent(),t.moveEvent(),"orientationchange"],[this._touchStartDelegate,this._touchEndDelegate,this._touchMoveDelegate,this._orientationDelegate],i);this._tapEvent=this.model.showOn=="taphold"?t.tapHoldEvent():t.tapEvent();this.model.target&&(this.model.showOn=="taphold"?t.listenTouchEvent(this._getTarget(),this._tapEvent,this._tapDelegate,i):t.listenEvents([this._getTarget(),n(document),n(document)],[this._tapEvent,t.startEvent(),t.endEvent()],[this._showDelegate,this._docTouchStartDelegate,this._docTouchEndDelegate],i));this.model.cancelButton.show&&t.listenEvents([this.element.find(".e-m-menu-cancelbtn"),this.element.find(".e-m-menu-cancelbtn")],[t.startEvent(),t.endEvent()],[this._cancelbtnTouchStartDelegate,this._cancelbtnTouchEndDelegate],i);t.isTouchDevice()||n(window)[r]("resize",this._resizeDelegate)},_refresh:function(){this._destroy();this.element.addClass("e-m-menu");this._render()},_clearElement:function(){this.element.removeAttr("class").removeAttr("style");this._overlay.remove();this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()},_setCancelButton:function(){this.element.find(".e-m-menu-cancelbtn").css("color",this.model.cancelButton.color).text(this.model.cancelButton.text)},_setShowCancelButton:function(n){this.element.find(".e-m-menu-cancelbtn").css("display",n?"block":"none")},_setType:function(){this._refresh()},_setAllowScrolling:function(){this._refresh()},_setTitle:function(){this._titleDiv.text(this.model.title)},_setRendermode:function(){this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setLocale:function(){this._getLocalizedLabels();this.model.title=this._localizedLabels.title;this.model.cancelButton.text=this._localizedLabels.cancelButtonText;this._setTitle();this._setCancelButtonText()},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},show:function(t){if(this.element.addClass("e-m-menushow"),this.model.type=="popover"||this.model.type=="popup"){var i=n(t.currentTarget);this.element.show().css({opacity:"1"});this._setHeightWidth();this._normalPosition(i)}this.model.type=="actionsheet"&&(this.element.css("visibility","visible"),this.element.css({bottom:0}));this._overlay.removeClass("e-m-overlay-hide").css("pointer-events","auto");this.model.show&&this._trigger("show")},hide:function(){(this.model.type=="actionsheet"?(this.element.css({bottom:-t.getDimension(this.element,"outerHeight")-this.model.height+"px"}),this.element.css("visibility","hidden")):this.element.css("display","none"),this._overlay.addClass("e-m-overlay-hide").css("pointer-events","none"),this.model.hide&&this.element.hasClass("e-m-menushow")&&this._trigger("hide"))||this.element.removeClass("e-m-menushow")},_enableDisable:function(n){this.element[n?"removeClass":"addClass"]("e-m-state-disabled")},_enableDisableItem:function(t,i){t&&n(this.element.find("li.e-m-menuitem")[t-1])[i?"removeClass":"addClass"]("e-m-state-disabled")},enableItem:function(n){this._enableDisableItem(n,!0)},disableItem:function(n){this._enableDisableItem(n,!1)},enable:function(){this._enableDisable(!0)},disable:function(){this._enableDisable(!1)},disableCancelButton:function(){this.element.find(".e-m-menu-cancelbtn").addClass("e-m-state-disabled")},enableCancelButton:function(){this.element.find(".e-m-menu-cancelbtn").removeClass("e-m-state-disabled")},addItem:function(t,i){n(this._orgEle.children()).length?i?t.insertBefore(n(this._orgEle.children().children()[i-1])):this._orgEle.children().append(t):this.model.items.push(t);this._refresh()},removeItem:function(t){n(this._orgEle.children()).length?t?n(this._orgEle.children().children()[t-1]).remove():n(this._orgEle.children().children()).last().remove():t?this.model.items.splice(t-1,1):this.model.items.pop();this._refresh()}});t.mobile.Menu.ShowOn={Tap:"tap",TapHold:"taphold"};t.mobile.Menu.Type={Popover:"popover",Popup:"popup",ActionSheet:"actionsheet"};t.mobile.Menu.Locale=t.mobile.Menu.Locale||{};t.mobile.Menu.Locale["default"]=t.mobile.Menu.Locale["en-US"]={title:"Title",cancelButtonText:"Cancel"}}(jQuery,Syncfusion),function(n,t,i){t.widget({ejmNavigationBar:"ej.mobile.NavigationBar",ejmHeader:"ej.mobile.Header",ejmFooter:"ej.mobile.Footer",ejmToolbar:"ej.mobile.Toolbar"},{_setFirst:!0,_rootCSS:"e-m-navbar",_tags:[{tag:"items",attr:["iconName","badgeValue"],content:"template"}],defaults:{title:null,titleAlignment:"left",isRelative:!1,renderMode:"auto",templateID:null,enablePersistence:!1,cssClass:"",mode:"header",position:"auto",iconAlignment:"auto",locale:"en-US",badge:{maxValue:99},android:{position:"auto"},ios7:{position:"auto"},flat:{position:"auto"},windows:{position:"auto"},touchStart:null,touchEnd:null,ellipsisTouchStart:null,ellipsisTouchEnd:null,enableRippleEffect:t.isAndroid()?!0:!1,items:[]},dataTypes:{title:"string",titleAlignment:"enum",items:"data",isRelative:"boolean",renderMode:"enum",templateID:"string",cssClass:"string",enableRippleEffect:"boolean",mode:"enum",position:"enum",iconAlignment:"enum",android:{position:"enum"},ios7:{position:"enum"},flat:{position:"enum"},windows:{position:"enum"},badge:{maxValue:"number"},enablePersistence:"boolean"},_init:function(){t.setRenderMode(this);this._getLocalizedLabels();this.model.title=t.isNullOrUndefined(this.model.title)?this._localizedLabels.title:this.model.title;this._renderControl();this._wireEvents(!1)},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_renderControl:function(){this._orgEle=n(this.element).clone();this._angularContent=this.element.children();this._position=this.model[this.model.renderMode].position!="auto"?this.model[this.model.renderMode].position:this.model.position!="auto"?this.model.position:this.model.mode=="header"?"top":this.model.renderMode=="android"?"top":"bottom";this.model.iconAlignment=!t.isNullOrUndefined(this.model.iconAlignment)&&this.model.iconAlignment!="auto"?this.model.iconAlignment:this.model.renderMode=="windows"?"group":"split";this.element.addClass("e-m-user-select e-m-"+this.model.renderMode+" "+this.model.cssClass+" e-m-navbar-"+this._position+" e-m-navbar-"+this.model.mode+" e-m-"+(this.model.isRelative?"rel":"abs")+(this.model.templateID?" e-m-navbar-template":""));this.model.templateID?this._renderNavigationBarTemplate():this._renderDefaultNavigationBar()},_renderNavigationBarTemplate:function(){var n=t.getCurrentPage().find("#"+this.model.templateID);n.length&&(this.element.empty(),t.destroyWidgets(n),this._template=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n,this.element.append(this._template),t.widget.init(this.element),this._compileAngularElement(this.element.children()))},_renderDefaultNavigationBar:function(){this._compileAngularElement(this._angularContent);(this.model.mode=="header"||this.model.mode=="toolbar"&&this._position=="top")&&(this._titleSpan=t.buildTag("span.e-m-navbar-text",this.model.title,null,null).appendTo(this.element),this._titleSpan.addClass("e-m-title-"+this.model.titleAlignment).css({"margin-left":this.element.find(".e-m-navbar-left").length?t.getDimension(this.element.find(".e-m-navbar-left"),"outerWidth")+32:16,"margin-right":this.model.mode=="header"?this.element.find(".e-m-navbar-right").length?t.getDimension(this.element.find(".e-m-navbar-right"),"outerWidth")+32:16:""}));this.model.mode=="toolbar"&&this._toolbarRendering()},_compileAngularElement:function(i){(!t.isAppNullOrUndefined()&&App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(n(i))},_toolbarRendering:function(){var i=this,u=this.model.items.length?!0:!1,r,f;if(this._items=[],u)this._items=this.model.items;else for(this._navIcons=this.element.find("li"),r=0,f=this._navIcons.length;r<f;r++)this._items.push(this._insertItemValue(n(this._navIcons[r])));this._navContainer=u?t.buildTag("ul.e-m-clearall").appendTo(this.element):this.element.find("ul").addClass("e-m-clearall");n.each(this._items,function(r){var e=(u?t.buildTag("li").attr("data-ej-badgevalue",!t.isNullOrUndefined(this.badgeValue)&&this.badgeValue>0?this.badgeValue:null):n(i._navIcons[r])).attr("id","nav-item"+r).addClass("e-m-navbar-icon e-m-icon-"+this.iconName).appendTo(i._navContainer),f;parseInt(e.attr("data-ej-badgevalue"))>0&&(f=parseInt(this.badgeValue),e.addClass("e-m-nav-badge").attr("badgeValue",f<=i.model.badge.maxValue?f:i.model.badge.maxValue.toString()+"+"))});this._allIconsLength=this._navContainer.find("li").length;this._maxIconsLength=this._position=="top"?this._allIconsLength>3?2:this._allIconsLength:this._allIconsLength>5?5:this._allIconsLength;this._ellipsis=null;this._allIconsLength>this._maxIconsLength&&(this._ellipsis=t.buildTag("span.e-m-navbar-ellipsis e-m-icon-overflow").appendTo(this.element),this._overflowContainer=this._navContainer.clone(),this.element.append(this._overflowContainer),this._navContainer.find("li").slice(this._maxIconsLength,this._allIconsLength).remove(),this._overflowContainer.addClass("e-m-overflow-container").find("li").slice(0,this._maxIconsLength).remove(),this._overflowIcons=this._overflowContainer.find("li").addClass("e-m-overflow-icon"));this._navbarIcons=this._navContainer.addClass("e-m-navbar-container"+(this._position=="bottom"?" e-m-"+this.model.iconAlignment+"-icons"+(t.isNullOrUndefined(this._ellipsis)?"":" e-m-more"):"")).find("li");this._position=="top"&&(this._navContainer.addClass(this._allIconsLength>this._maxIconsLength?"e-m-margin-right":""),this._titleSpan.addClass("e-m-margin-right-"+(this._allIconsLength>this._maxIconsLength?3:this._allIconsLength)));this._iconWidth();this._setEnableRippleEffect()},_setEnableRippleEffect:function(){this.element.find("li")[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple")},_insertItemValue:function(n){var r={};return r.iconName=t.getAttrVal(n,"data-ej-iconname",i),r.badgeValue=t.getAttrVal(n,"data-ej-badgevalue",i),r},_iconWidth:function(){this.model.iconAlignment!="group"?this.model.mode=="toolbar"&&this._position=="bottom"&&(t.isNullOrUndefined(this._ellipsis)?this._navContainer.width("100%"):this._navContainer.width(window.innerWidth-56)):this._navContainer.width("auto")},_createDelegates:function(){this._ellipsisTouchStartHndlr=n.proxy(this._ellipsisTouchStart,this);this._ellipsisTouchEndHndlr=n.proxy(this._ellipsisTouchEnd,this);this._touchStartHndlr=n.proxy(this._touchStart,this);this._touchEndHndlr=n.proxy(this._touchEnd,this);this._resizeHndlr=n.proxy(this._resize,this)},_wireEvents:function(i){this._createDelegates();t.listenEvents([n(this._ellipsis),n(this._ellipsis),this._navbarIcons,this._navbarIcons],[t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent()],[this._ellipsisTouchStartHndlr,this._ellipsisTouchEndHndlr,this._touchStartHndlr,this._touchEndHndlr],i);t.listenTouchEvent(n(document),t.tapEvent(),this._docClickHndlr,i);t.listenTouchEvent(n(window),"onorientationchange"in window?"orientationchange":"resize",this._resizeHndlr,i)},_touchStart:function(n){this._touchEvents(n,!0,"touchStart")},_touchEnd:function(n){this._touchEvents(n,!0,"touchEnd")},_ellipsisTouchStart:function(n){this._touchEvents(n,!1,"ellipsisTouchStart")},_ellipsisTouchEnd:function(n){this._touchEvents(n,!1,"ellipsisTouchEnd")},_touchEvents:function(i,r,u){var f=r?{element:n(i.target),iconname:i.target.getAttribute("data-ej-iconname"),index:i.target.id.split("item")[1]}:{element:n(i.target)},e=i.type==t.startEvent()?"add":"remove";n(i.target)[e+"Class"]("e-m-state-active");this.model[u]&&this._trigger(u,f)},_resize:function(){var n=this;setTimeout(function(){n._iconWidth()},t.isAndroid()?200:0)},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setRenderMode:function(){this.element.removeClass("e-m-android e-m-ios7 e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode)},_setIsRelative:function(n){this.element.removeClass("e-m-abs e-m-rel").addClass("e-m-"+(n?"rel":"abs"))},_setTitle:function(){this._titleSpan.text(this.model.title)},_setTemplateID:function(){this._renderNavigationBarTemplate()},_setTitleAlignment:function(){this._titleSpan.removeClass("e-m-title-left e-m-title-center e-m-title-right").addClass("e-m-title-"+this.model.titleAlignment)},_setIconAlignment:function(){this._navContainer.removeClass("e-m-split-icons e-m-group-icons").addClass("e-m-"+this.model.iconAlignment+"-icons");this._iconWidth()},_setLocale:function(){this._getLocalizedLabels();this.model.title=this._localizedLabels.title;this._setTitle(this.model.title)},_refresh:function(){this._clearElement();this.element.addClass("e-m-navbar");this._renderControl()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElement()},_addRemoveRefresh:function(){this.element.empty();this._renderControl();this._wireEvents();this._items=this.model.items},removeItem:function(n){this.model.items=this._items;n>=0&&this.model.items.splice(n,1);this._addRemoveRefresh()},addItem:function(t,i){this.model.items=this._items;i>=0?this.model.items.splice(i,0,this._insertItemValue(n(t))):this.model.items.push(this._insertItemValue(n(t)));this._addRemoveRefresh()},disableItem:function(t){t>=0&&n(this._navbarIcons[t]).addClass("e-m-state-disabled")},enableItem:function(t){t>=0&&n(this._navbarIcons[t]).removeClass("e-m-state-disabled")},hideItem:function(t){t>=0&&n(this._navbarIcons[t]).addClass("e-m-hide")},showItem:function(t){t>=0&&n(this._navbarIcons[t]).removeClass("e-m-hide")},getTitle:function(){return this._titleSpan.text()},hide:function(){this.element.addClass("e-m-hide")},show:function(){this.element.removeClass("e-m-hide")}});t.mobile.NavigationBar.Position={Top:"top",Bottom:"bottom"};t.mobile.NavigationBar.Mode={Header:"header",Toolbar:"toolbar"};t.mobile.NavigationBar.TitleAlignment={Left:"left",Center:"center",Right:"right"};t.mobile.NavigationBar.IconAlignment={Split:"split",Group:"group"};t.mobile.NavigationBar.Locale=t.mobile.NavigationBar.Locale||{};t.mobile.Header.Locale=t.mobile.Header.Locale||{};t.mobile.Footer.Locale=t.mobile.Footer.Locale||{};t.mobile.Toolbar.Locale=t.mobile.Toolbar.Locale||{};t.mobile.NavigationBar.Locale["default"]=t.mobile.NavigationBar.Locale["en-US"]=t.mobile.Header.Locale["default"]=t.mobile.NavigationBar.Locale["en-US"]=t.mobile.Footer.Locale["default"]=t.mobile.NavigationBar.Locale["en-US"]=t.mobile.Toolbar.Locale["default"]=t.mobile.NavigationBar.Locale["en-US"]={title:null}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmProgress","ej.mobile.Progress",{_setFirst:!0,_rootCSS:"e-m-progress",defaults:{renderMode:"auto",value:0,percentage:0,incrementStep:0,minValue:0,maxValue:100,width:null,height:null,orientation:"horizontal",create:null,change:null,start:null,complete:null,text:"",enabled:!0,enableCustomText:!1,theme:"auto",enablePersistence:!1},dataTypes:{renderMode:"enum",orientation:"enum",enabled:"boolean",enableCustomText:"boolean",theme:"enum",enablePersistence:"boolean"},_init:function(){App.activePage||App.createAppView();this._getLocalizedLabels();this.model.text=t.isNullOrUndefined(this.model.text)?this._localizedLabels.text:this.model.text;this._cloneElement=this.element.clone();this._createDelegate();this._wireEvents(!1);this._renderControl();this._progressbarInit();this._pageLoad()},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_renderControl:function(){t.setRenderMode(this);t.setTheme(this);var n=t.buildTag("canvas");this.element.append(n)},_createDelegate:function(){this._onOrientationChangedDelegate=n.proxy(this._onOrientationChangedHandler,this);this._onWindowsResizeDelegate=n.proxy(this._onWindowResizeHandler,this)},_wireEvents:function(n){n||t.listenEvents([window],["onorientationchange"in window?"orientationchange":"resize"],[this._onWindowsResizeDelegate],n)},_onWindowResizeHandler:function(){var n=this;window.setTimeout(function(){n._draw()},250)},_widthAndHeightProperties:function(){this._tempHeight=this.model.orientation=="horizontal"?this.model.height?this.model.height:3:this.model.width?this.model.width:this.element.parent().height();this._tempWidth=this.model.orientation=="horizontal"?this.model.width?this.model.width:this.element.parent().width():this.model.height?this.model.height:3},_progressbarInit:function(){this._initialX=0;this._initialY=0;this._mProgress=this.element;this._increment=0;this._result=0;this._context=null;this._text=this.model.textStyle;this._externalText=null;this._totalWidth=0;this._totalHeight=0;this._radius=0;this._currentValue=1},_pageLoad:function(){var t=this.element.find("canvas")[0],r=n(t).parent(),i;(typeof G_vmlCanvasManager!="undefined"&&(t=window.G_vmlCanvasManager.initElement(t)),t&&t.getContext)&&(t=this.element.find("canvas")[0],this._context=t.getContext("2d"),this._context)&&(this.model.value=this.model.value+this.model.incrementStep,this._validate(),i={element:this.element,value:this.model.value},this._result=this._draw(),i={value:this._setValue,percentage:this.model.percentage},this.model.minValue==this.model.value&&this._trigger("start",i))},_validate:function(){if(this._setValue==this.model.maxValue){var n={value:this._setValue,text:this.model.text,percentage:this.model.percentage};this.model.complete&&this._trigger("complete",n)}this._setValue=this._setValue<this.model.minValue?this.model.minValue:this._setValue>this.model.maxValue?this.model.maxValue:this._setValue;this._step>this._max&&(this._step=1)},_draw:function(){if(this._widthAndHeightProperties(),this._context!=null){this.model.enabled||(n(this.element).addClass("e-m-state-disabled"),this._wireEvents(!0));this.model.value<=0&&this.model.percentage!=0?this.model.value=Math.round(this.model.percentage*this.model.maxValue/100):this.model.value!=0&&this.model.percentage<=0?this.model.percentage=Math.round(this.model.value/this.model.maxValue*100):this.model.value!=0&&this.model.percentage!=0&&(this.model.percentage=Math.round(this.model.value/this.model.maxValue*100));this.model.minValue<=this.model.value&&this.model.maxValue>=this.model.value?(this._cutOffValue=this.model.value-this.model.minValue,this.model.percentage>=100?this.model.percentage=100:this.model.percentage<=0&&(this.model.percentage=0),this._setValue=this.model.percentage!=i?this.model.percentage:Math.round(100/(this.model.maxValue-this.model.minValue)*this._cutOffValue)):this.model.minValue>this.model.value&&this.model.maxValue>this.model.value?this._setValue=0:this.model.minValue<this.model.value&&this.model.maxValue<this.model.value&&(this._setValue=100);this._setOrientationProperties(this._tempWidth,this._tempHeight,this._tempHeight+50,this._tempWidth+50);this._context.translate(.5,.5);this._context.clearRect(this._initialX-5,this._initialY-5,this._totalWidth+15,this._totalHeight+15);var t;t=this.model.renderMode=="windows"||this.model.renderMode=="flat"?10:25;this._initialY=this.model.orientation=="horizontal"?t:0;this._initialX=this.model.orientation=="horizontal"?0:t;this.model.renderMode=="ios7"?(this.model.orientation=="horizontal"?this._totalHeight=this._tempHeight==""?3:this._tempHeight:this._totalWidth=this._tempWidth==""?3:this._tempWidth,this.totalRadius=this.model.orientation=="horizontal"?Math.round(this._totalHeight/2):Math.round(this._totalWidth/2),this._fillRadius=this.totalRadius):(this.model.orientation=="horizontal"?this._totalHeight=this._tempHeight==""?2:this._tempHeight:this._totalWidth=this._tempWidth==""?2:this._tempWidth,this.totalRadius=0,this._fillRadius=0);this.model.orientation=="horizontal"?this._roundRectOuter(this._context,this._initialX,this._initialY,this._totalWidth-15,this._totalHeight,this.totalRadius):this._roundRectOuter(this._context,this._initialX,this._initialY,this._totalWidth,this._totalHeight-15,this.totalRadius);this.model.orientation=="horizontal"?this._roundRectFill(this._context,this._initialX,this._initialY,this._increment,this._totalHeight,this._fillRadius):this._roundRectFill(this._context,this._initialX,this._initialY,this._increment,this._totalHeight-15,this._fillRadius);this._increment>=this._totalWidth&&window.clearInterval(this._result)}this._validate()},_setOrientationProperties:function(n,t,i,r){this._totalWidth=n;this._totalHeight=t;this._radius=(this.model.orientation=="horizontal"?this._totalHeight:this._totalWidth)/2;this._increment=this._setValue*(this.model.orientation=="horizontal"?(this._totalWidth-15)/100:(this._totalHeight-15)/100);this._context.canvas.width=this.model.orientation=="horizontal"?n:r;this._context.canvas.height=this.model.orientation=="horizontal"?i:t},_setLocale:function(){this._getLocalizedLabels();this._setText(this._localizedLabels.text)},_roundRect:function(n,t,i,r,u,f){n.save();n.beginPath();n.strokeStyle=this._strokeStyle;n.fillStyle=this._fillStyle;n.lineWidth=1;n.moveTo(t+f,i);n.lineTo(t+r-f,i);n.quadraticCurveTo(t+r,i,t+r,i+f);n.lineTo(t+r,i+u-f);n.quadraticCurveTo(t+r,i+u,t+r-f,i+u);n.lineTo(t+f,i+u);n.quadraticCurveTo(t,i+u,t,i+u-f);n.lineTo(t,i+f);n.quadraticCurveTo(t,i,t+f,i);n.fill();n.stroke();n.closePath();n.restore()},_roundRectOuter:function(n,i,r,u,f,e){if(this.model.renderMode=="ios7"){var o=this.model.theme=="dark"?[{ColorStop:1,Color:"#363636"}]:[{ColorStop:1,Color:"#b5b5b6"}];grd=this.model.orientation=="horizontal"?n.createLinearGradient(i,r,i,r+f):n.createLinearGradient(i,r,i+u,r);t._setGradientColor(this,grd,o);this._strokeStyle=grd;this._fillStyle=grd}else this.model.renderMode=="android"?this._setRectOuterProperties("#3A3A3A","#A9A9A9"):this.model.renderMode=="windows"?this._setRectOuterProperties("#373737","#c5c5c5"):this.model.renderMode=="flat"&&this._setRectOuterProperties("#b3b3b3","#b3b3b3");this.model.orientation=="horizontal"?this._roundRect(n,i,r,u+e,f,e):this._roundRect(n,i+5,r,u,f+e,e)},_setRectOuterProperties:function(n,t){this.model.theme=="dark"?(this._strokeStyle=n,this._fillStyle=n):(this._strokeStyle=t,this._fillStyle=t)},_roundRectFill:function(n,r,u,f,e,o){var s,h,c;this.model.renderMode=="ios7"?(s=[{ColorStop:0,Color:"#017aff"}],grd=this.model.orientation=="horizontal"?n.createLinearGradient(r,u,r,u+e):n.createLinearGradient(r,u,r+f,u),t._setGradientColor(this,grd,s),this._strokeStyle=grd,this._fillStyle=grd):this.model.renderMode=="android"?this._strokeStyle=this._fillStyle="#33B5E5":this.model.renderMode=="windows"?this._strokeStyle=this._fillStyle="#2ca1dd":this.model.renderMode=="flat"&&(this._strokeStyle=this._fillStyle="#f48b22");f>0&&(this.model.orientation=="horizontal"?this._roundRect(n,r,u,f+o,e,o):this._roundRect(n,r+5,e-f+u,this._totalWidth,f+o,o));n.save();this.model.orientation=="horizontal"?this._setTextProperties():(this._setTextProperties(),h=270,n.save(),n.translate(this._totalWidth/2,e/2),n.rotate(h*2*3.1416/360),this.model.renderMode=="ios7"?n.textAlign="center":this.model.renderMode=="android"&&(n.textAlign="right"));this.model.enableCustomText?this.model.text==""||this.model.text==i?this.setCustomText(this._text):this.setCustomText(this.model.text):this.setCustomText(this._text);c={value:this._setValue,text:this.model.text,percentage:this.model.percentage};this.model.change&&this.model.value>0&&this._trigger("change",c);n.restore()},_setTextProperties:function(){this.model.renderMode=="ios7"?this._text="Downloading "+this._setValue+" of 100%":this.model.renderMode=="android"?this._text=this._setValue+"%":(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(this._text=this._setValue)},_setCustomtextProperties:function(n,t,i,r){n.fillStyle=this.model.theme=="dark"?t:i;n.font=r},_setRenderMode:function(n){this.model.enabled&&(this.model.renderMode=n,n=="auto"&&t.setRenderMode(this),this._draw())},_setTheme:function(n){this.model.enabled&&(this.model.theme=n,this._draw())},_value:function(n){this.model.enabled&&(this._setValue=n,this.model.percentage=Math.round(this.model.value*this.model.maxValue/100),this._draw())},_setPercentage:function(n){this.model.enabled&&(this._value=n,this._draw())},_disable:function(){this.model.enabled=!1;this.element.addClass("e-m-state-disabled");this._wireEvents(!0)},_enable:function(){this.model.enabled=!0;this.element.removeClass("e-m-state-disabled");this._wireEvents(!1)},_refresh:function(){this._clearElements();this._wireEvents(!1);this._renderControl();this._progressbarInit();this._pageLoad()},_setWidth:function(n){this._tempWidth=this.model.width=n;this._draw()},_setHeight:function(n){this._tempHeight=this.model.height=n;this._draw()},_setText:function(n){this.model.enabled&&(this.model.text=n,this._draw())},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this.model.enabled?this._setTheme(n.theme):"";break;case"width":this.model.enabled?this._setWidth(n.width):"";break;case"height":this.model.enabled?this._setHeight(n.height):"";break;case"orientation":this.model.enabled?this._draw():"";break;case"value":this.model.enabled?this._value(n.value):"";break;case"percentage":this.model.enabled?this._setPercentage(n.percentage):"";break;case"minValue":this.model.enabled?this._draw():"";break;case"maxValue":this.model.enabled?this._draw():"";break;case"enabled":n.enabled?this._enable():this._disable();break;case"text":this.model.enabled?this._setText(n.text):""}},_clearElements:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeClass("e-m-progress");this.element.html("")},_destroy:function(){this._cloneElement.insertBefore(this.element).removeClass("e-m-progress");this.element.remove()},getValue:function(){return this._setValue},getPercentage:function(){return this.model.percentage},setCustomText:function(n){var t=this._context,u=this._totalHeight,l=this.totalRadius,f=this._totalWidth,e,r,c,s,h,o;this.model.text=n;c=270;this.model.renderMode=="ios7"?(e=this.model.orientation=="horizontal"?0:8,r=this.model.orientation=="horizontal"?8:0):this.model.renderMode=="android"?r=15:(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&(e=0,r=30);t.save();this.model.renderMode=="ios7"?this._setCustomtextProperties(t,"#fefefe","#000000","14px Helvetica"):this.model.renderMode=="android"?this._setCustomtextProperties(t,"#fefefe","#333333","17px Roboto"):this.model.renderMode=="windows"?this._setCustomtextProperties(t,"#ffffff","#000000","17px Segoe UI"):this.model.renderMode=="flat"&&this._setCustomtextProperties(t,"#333333","#333333","17px Segoe UI");s=t.measureText(this.model.text).width;h=t.measureText(this._setValue+"%").width;this.model.orientation=="horizontal"?(o=e+f/2-s/2,this.model.renderMode=="ios7"?t.fillText(this.model.text,o,r+5):this.model.renderMode=="android"?this.model.text!=""&&this.model.text!=i?t.fillText(this.model.text,f-s-15,r):t.fillText(this.model.text,f-h-15,r):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.fillText(this.model.text,e,u+r)):(o=r+15,this.model.renderMode=="ios7"?t.fillText(this.model.text,r,o):this.model.renderMode=="android"?(this.model.text!=""&&this.model.text!=i?t.fillText(this.model.text,(u-15)/2,15):t.fillText(this.model.text,(u-15)/2,r),t.textAlign="right"):(this.model.renderMode=="windows"||this.model.renderMode=="flat")&&t.fillText(this.model.text,-(u-15)/2,r+f));t.restore()},changeEventHandler:function(){var n={element:this.element,value:this._setValue,percentage:this._value};this.model.change&&this._trigger("change",n)}});t.mobile.Progress.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.mobile.Progress.Locale=t.mobile.Progress.Locale||{};t.mobile.Progress.Locale["default"]=t.mobile.Progress.Locale["en-US"]={text:""}}(jQuery,Syncfusion),function(n,t){t.widget("ejRadialMenuBase","ej.RadialMenuBase",{_tags:[{tag:"items",attr:["imageName","imagePath","imageUrl","prependTo","windows.text","flat.text","text","click","touch","enabled","badge.enabled","badge.value","type","sliderSettings.ticks","sliderSettings.strokeWidth","sliderSettings.labelSpace",[{tag:"items",attr:["imageName","imagePath","imageUrl","windows.text","flat.text","text","prependTo","click","touch","enabled"]}]]}],defaults:{radius:150,cssClass:"",enableAnimation:!0,open:null,close:null,items:[]},dataTypes:{radius:"number",enableAnimation:"boolean",items:"array"},_initialization:function(){var t,i;if(this.element.addClass(this.model.cssClass),this._svgLink="http://www.w3.org/2000/svg",this.model.items.length<1)for(this._radialItems=n(this.element.find(">ul").children()),t=0;t<this._radialItems.length;t++)if(this.model.items.push(this._itemsObjectCollection(n(this._radialItems[t]))),n(this._radialItems[t]).find("ul").children().length>0)for(this._nestedRadialItems=n(this._radialItems[t]).find("ul").children(),this.model.items[t].items=[],i=0;i<this._nestedRadialItems.length;i++)this.model.items[t].items.push(this._itemsObjectCollection(n(this._nestedRadialItems[i])));this._itemCount=this.model.items.length;n(this.element.children()).remove();this._startXY=this.model.radius;this._diameter=2*this.model.radius},_itemsObjectCollection:function(t){var i={},r={};return n(this._tags[0].attr).each(function(n,u){var f,e,o;typeof u=="string"&&(f=u.split("."),f.length==1?i[u]=t.attr("data-ej-"+u):(e=f[0],o=f[1],i[e]||(r={}),r[o]=t.attr("data-ej-"+u.replace(".","-")),i[e]=r))}),i},_createSVGElement:function(){var t=document.createElementNS(this._svgLink,"svg");return this.model.radius!=null&&(t.setAttribute("width",this._diameter),t.setAttribute("height",this._diameter)),n(t)},_createGroupElement:function(t){var i=document.createElementNS(this._svgLink,"g");return t&&i.setAttribute("id",t),n(i)},_createImageElement:function(i,r,u,f,e){var s,o;if(t.isNullOrUndefined(u.imageUrl)&&t.isNullOrUndefined(u.imagePath)){if(!t.isNullOrUndefined(u.prependTo))return n(n.find(u.prependTo)[0].children).clone()}else return s=u.imageUrl?u.imageUrl:this.model.renderMode.toLowerCase()!="flat"?u.imagePath+"/"+this.model.renderMode.toLowerCase()+"/"+u.imageName:u.imagePath+"/"+this.model.renderMode.toLowerCase()+"/"+u.imageName,o=document.createElementNS(this._svgLink,"image"),o.setAttribute("width",i),o.setAttribute("height",r),o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttribute("x",f),o.setAttribute("y",e),o},_createTextElement:function(n,t,i,r){var u=document.createElementNS(this._svgLink,"text");return u.setAttribute("x",n),u.setAttribute("y",t),u.setAttribute("class",i),u.textContent=r,u},_createPathElement:function(n,t,i){var r=document.createElementNS(this._svgLink,"path");return r.setAttribute("data-ej-index",n),r.setAttribute("d",t),r.setAttribute("class",i),r},_createPolygonElement:function(n,t){var i=document.createElementNS(this._svgLink,"polygon");return i.setAttribute("points","10,10 0,10 5,5"),i.setAttribute("data-ej-index",n),i.setAttribute("fill","#FFFFFF"),i.setAttribute("transform",t),i},_createCircleElement:function(n,t,i,r){var u=document.createElementNS(this._svgLink,"circle");return u.setAttribute("cx",n),u.setAttribute("cy",t),u.setAttribute("r",i),u.setAttribute("class",r),u},_calculateRadialArc:function(n,t,i,r,u){for(var a,l,h=0,e=2*Math.PI*h,o=2*Math.PI*(h+1/n),s=.5*t*Math.min(this._diameter,this._diameter),v=i*t*Math.min(this._diameter,this._diameter),c=r*s,y=u*s,p=360/n,w=p/2,b=[],k=[],d=[],g=[],nt=[],tt=[],it=[],rt=[],ut=[],ft=[],et=[],ot=[],st=[],ht=[],f=0;f<n;f++)a=-.5*Math.PI,e=e+a,o=o+a-1e-6,ht[f]=o-e<Math.PI?0:1,l=(e+o)/2,b[f]=this._startXY+s*Math.cos(e),k[f]=this._startXY+s*Math.sin(e),d[f]=this._startXY+s*Math.cos(o),g[f]=this._startXY+s*Math.sin(o),nt[f]=this._startXY+v*Math.cos(l),tt[f]=this._startXY+v*Math.sin(l),it[f]=this._startXY+c*Math.cos(e),rt[f]=this._startXY+c*Math.sin(e),ut[f]=this._startXY+c*Math.cos(o),ft[f]=this._startXY+c*Math.sin(o),et[f]=this._startXY+y*Math.cos(l),ot[f]=this._startXY+y*Math.sin(l),st[f]=w,h+=1/n,e=2*Math.PI*h,o=2*Math.PI*(h+1/n),w+=p;return{x1:b,y1:k,x2:d,y2:g,midx:nt,midy:tt,dStartX:it,dStartY:rt,dEndX:ut,dEndY:ft,dmidx:et,dmidy:ot,deg:st,longArc:ht,radius:s,dradius:c}},_renderRadialMenu:function(){var n,l,a;this._radialSVG=this._createSVGElement();this._radialChildSVG=this._createSVGElement();this._childArcGroup=this._createGroupElement("childarcgroup");this._polygonGroup=this._createGroupElement("polygongroup");this._polygonGroup.attr("transform","translate(-10,-10)");this._radialArcGroup=this._createGroupElement("outerarcpathgroup");this._menuItemsArcGroup=this._createGroupElement("arcpathgroup");this._menuItemsGroup=this._createGroupElement("menuitemsgroup");this._menuItemsGroup.attr("transform","translate(-10,-5)");this._menuItemsArcPaths=this._createGroupElement("menuitemsarcpaths");this._menuItemsPaths=this._createGroupElement("itemspathgroup");this._radialSVGDiv=t.buildTag("div#"+this._id+"_svgdiv."+this._prefix+"abs").css("height",this._diameter);this._radialCircleSVGDiv=t.buildTag("div#"+this._id+"_circlesvgdiv."+this._prefix+"abs "+this._prefix+"displaynone");this._radialChildSVGDiv=t.buildTag("div#"+this._id+"_childsvgdiv."+this._prefix+"abs "+this._prefix+"displaynone");var i=this._calculateRadialArc(this._itemCount,1,.28,.8,.95),r=this._calculateRadialArc(this._itemCount,.79,null,.97,null),u=this._calculateRadialArc(this._itemCount,.8,null,.3,null),f=this._calculateRadialArc(1,1,.28,.8,null),v=this._pathDirection(f.x1[0],f.y1[0],f.radius,f.longArc[0],f.x2[0],f.y2[0],f.dEndX[0],f.dEndY[0],f.dradius,f.dStartX[0],f.dStartY[0]),h=20;for(n=0;n<this._itemCount;n++){var c=this._pathDirection(i.x1[n],i.y1[n],i.radius,i.longArc[n],i.x2[n],i.y2[n],i.dEndX[n],i.dEndY[n],i.dradius,i.dStartX[n],i.dStartY[n]),y=this._pathDirection(r.x1[n],r.y1[n],r.radius,r.longArc[n],r.x2[n],r.y2[n],r.dEndX[n],r.dEndY[n],r.dradius,r.dStartX[n],r.dStartY[n]),p=this._pathDirection(u.x1[n],u.y1[n],u.radius,u.longArc[n],u.x2[n],u.y2[n],u.dEndX[n],u.dEndY[n],u.dradius,u.dStartX[n],u.dStartY[n]),e=this.model.items[n],o=this._createGroupElement(),s=this._enableItem(e,o);this._menuItemsArcPaths.append(this._createPathElement(n,y,""+this._prefix+"arcbgcolor"));this._menuItemsPaths.append(this._createPathElement(n,p,s.itemPathClass));this._menuItemsArcGroup.append(this._createPathElement(n,c,s.arcPathClass));o.attr({cursor:"context-menu","data-ej-index":n});o.append(this._createImageElement(h,h,e,i.midx[n],i.midy[n]-h/2));o.append(this._createTextElement(i.midx[n]+10,i.midy[n]+25,s.textClass,s.dataText));e.badge&&(e.badge.enabled=="true"||e.badge.enabled==!0)&&o.append(this._createCircleElement(i.midx[n]+25,i.midy[n]-10,10,""+this._prefix+"badgecircle")).append(this._createTextElement(i.midx[n]+25,i.midy[n]-7,""+this._prefix+"badgetext",e.badge.value));this._menuItemsGroup.append(o);(e.items||e.type&&e.type.toLowerCase()==(this.model.renderMode?t.mobile:t).RadialMenu.ItemType.Slider)&&(l=i.deg[n]>270?"translate("+(i.dmidx[n]+5)+","+(i.dmidy[n]+15)+")rotate("+i.deg[n]+")":"translate("+(i.dmidx[n]+10)+","+(i.dmidy[n]+10)+")rotate("+i.deg[n]+")",this._childArcGroup.append(this._createPathElement(n,c,""+this._prefix+"childdefault")),this._polygonGroup.append(this._createPolygonElement(n,l)))}a=this._createCircleElement(this._startXY,this._startXY,this._startXY/3.5,""+this._prefix+"circlebgcolor");this._radialArcGroup.append(this._createPathElement(1,v,""+this._prefix+"outerdefault"));this._radialChildSVG.append(this._menuItemsPaths).append(this._menuItemsArcGroup).append(this._childArcGroup).append(this._polygonGroup).append(this._menuItemsArcPaths).append(this._menuItemsGroup).append(a);this._radialContainer.append(this._radialSVGDiv.append(this._radialCircleSVGDiv.append(this._radialSVG.append(this._radialArcGroup))).append(this._radialChildSVGDiv.append(this._radialChildSVG)))},_ejMenuBaseItemsRemove:function(){this._menuChildSVGDiv=t.buildTag("div#"+this._id+"_menuchildsvgdiv."+this._prefix+"abs");this.model.enableAnimation?(this._radialChildSVGDiv.removeClass(""+this._prefix+"radialshow").addClass(""+this._prefix+"scalehide"),this._radialChildAnimate(),this._menuChildSVGDiv.addClass(""+this._prefix+"scaleshow")):this._radialChildSVGDiv.addClass(""+this._prefix+"displaynone");this._radial.removeClass(this.model.imageClass).addClass(""+this._prefix+"backarrow "+this.model.backImageClass+"")},_renderRadialChildMenu:function(n){var t,c;this._menuChildSVG=this._createSVGElement();this._childItemsGroup=this._createGroupElement("childitemsgroup");this._childItemsGroup.attr("transform","translate(-10,-10)");this._childItemArcGroup=this._createGroupElement();this._childItemsArcPaths=this._createGroupElement("childitemsarcpaths");this._childItemsPaths=this._createGroupElement();var e=n.items.length,i=this._calculateRadialArc(e,1,.28,.8,null),r=this._calculateRadialArc(e,.79,null,.97,null),u=this._calculateRadialArc(e,.8,null,.3,null),s=20;for(t=0;t<e;t++){var l=this._pathDirection(i.x1[t],i.y1[t],i.radius,i.longArc[t],i.x2[t],i.y2[t],i.dEndX[t],i.dEndY[t],i.dradius,i.dStartX[t],i.dStartY[t]),a=this._pathDirection(r.x1[t],r.y1[t],r.radius,r.longArc[t],r.x2[t],r.y2[t],r.dEndX[t],r.dEndY[t],r.dradius,r.dStartX[t],r.dStartY[t]),v=this._pathDirection(u.x1[t],u.y1[t],u.radius,u.longArc[t],u.x2[t],u.y2[t],u.dEndX[t],u.dEndY[t],u.dradius,u.dStartX[t],u.dStartY[t]),f=this._createGroupElement(),h=n.items[t],o=this._enableItem(h,f);this._childItemArcGroup.append(this._createPathElement(t,l,o.arcPathClass));this._childItemsArcPaths.append(this._createPathElement(t,a,""+this._prefix+"arcbgcolor"));this._childItemsPaths.append(this._createPathElement(t,v,o.itemPathClass));f.attr({cursor:"context-menu","data-ej-index":t});f.append(this._createImageElement(s,s,h,i.midx[t],i.midy[t]-s/2));f.append(this._createTextElement(i.midx[t]+10,i.midy[t]+25,o.textClass,o.dataText));this._childItemsGroup.append(f)}c=this._createCircleElement(this._startXY,this._startXY,this._startXY/3.5,""+this._prefix+"circlebgcolor");this._radialSVGDiv.append(this._menuChildSVGDiv.append(this._menuChildSVG.append(this._childItemsPaths).append(this._childItemArcGroup).append(this._childItemsArcPaths).append(this._childItemsGroup).append(c)))},_radialSliderHandler:function(n){this.updateBadgeValue(this._index,n.value);this._data={value:n.value,oldValue:n.oldValue,index:this._index};this._eventsTrigger(this._data,this.model.renderMode?"touch":"click")},_isRSText:function(n){return n==this._prefix+"ticks-text"||n==this._prefix+"dynamic-text"?!0:!1},_pathDirection:function(n,t,i,r,u,f,e,o,s,h,c){return"M "+n+" "+t+" A "+i+" "+i+" 0 "+r+" 1 "+u+" "+f+" L "+e+" "+o+" A "+s+" "+s+" 1 "+r+" 0 "+h+" "+c+" z"},_enableItem:function(n,t){var u=this._prefix+"itembgcolor",f=this._prefix+"default",i=""+this._prefix+"textcolor",r=this.model.renderMode?n[this.model.renderMode].text:n.text;return n.enabled=="false"||n.enabled==!1?(t.attr("class",this._prefix+"itemdisabled"),{itemPathClass:this._prefix+"itembgcolor "+this._prefix+"pathdisabled",arcPathClass:this._prefix+"default "+this._prefix+"pathdisabled",dataText:r,textClass:i}):{itemPathClass:u,arcPathClass:f,dataText:r,textClass:i}},_windowsMenuShow:function(){this.model.enableAnimation?(this._radialCircleSVGDiv.removeClass(this._prefix+"displaynone "+this._prefix+"radialhide").addClass(this._prefix+"radialshow"),this._radialChildSVGDiv.removeClass(this._prefix+"displaynone "+this._prefix+"radialhide").addClass(this._prefix+"radialshow")):(this._radialCircleSVGDiv.removeClass(this._prefix+"displaynone"),this._radialChildSVGDiv.removeClass(this._prefix+"displaynone"));this._openCloseTrigger("open")},_windowsMenuHide:function(n){this.model.enableAnimation?(this._radialCircleSVGDiv.removeClass(this._prefix+"radialshow").addClass(this._prefix+"radialhide"),this._radialChildSVGDiv.removeClass(this._prefix+"radialshow "+this._prefix+"scaleshow").addClass(this._prefix+"radialhide"),setTimeout(function(){n._radialCircleSVGDiv.addClass(n._prefix+"displaynone");n._radialChildSVGDiv.addClass(n._prefix+"displaynone")},160)):(this._radialCircleSVGDiv.addClass(this._prefix+"displaynone"),this._radialChildSVGDiv.addClass(this._prefix+"displaynone"));this._openCloseTrigger("close")},_windowsInnerMenuHide:function(n){this._radial.removeClass(this._prefix+"backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass);this.model.enableAnimation?(this._menuChildSVGDiv.removeClass(this._prefix+"scaleshow").addClass(this._prefix+"scalehide"),setTimeout(function(){n._menuChildSVGDiv.remove()},150),setTimeout(function(){n._radialChildSVGDiv.removeClass(n._prefix+"scalehide "+n._prefix+"displaynone").addClass(n._prefix+"scaleshow")},200)):(this._menuChildSVGDiv.remove(),this._radialChildSVGDiv.removeClass(this._prefix+"displaynone"))},_eventsTrigger:function(n,t){var i=this.model[t];this.model[t]=this._childTarget&&this.model.items[n.index].items[n.childIndex][t]?this.model.items[n.index].items[n.childIndex][t]:!this._childTarget&&this.model.items[n.index][t]?this.model.items[n.index][t]:this.model[t];this.model[t]&&this._trigger(t,n);this.model[t]=i},_openCloseTrigger:function(n){this.model[n]&&this._trigger(n)},_menuEnabledDisabled:function(t,i){var r=this;Array.isArray(t)&&n.each(t,function(t,u){Array.isArray(u)?n.each(u,function(t,f){Array.isArray(f)?n.each(f,function(n,t){r.model.items[u].items[t].enabled=i=="disabled"?!1:!0}):((!r.model.renderMode||r.model.renderMode&&(r.model.renderMode=="windows"||r.model.renderMode=="flat"))&&r._menuItems(r,f,i),u=f)}):r._menuItems(r,u,i)})},_ejMenuItem:function(i,r,u){var f=n(this._menuItemsGroup.find("g")[r]),e=n(this._menuItemsPaths.find("path")[r]),o=n(this._radialChildSVGDiv.find("#arcpathgroup path")[r]);u=="disabled"?(e.attr("class",""+this._prefix+"itembgcolor "+this._prefix+"pathdisabled"),o.attr("class",""+this._prefix+"default "+this._prefix+"pathdisabled"),f.attr("class",""+this._prefix+"itemdisabled"),!t.isNullOrUndefined(this._radialChildSVGDiv)&&n(this._radialChildSVGDiv.find("#polygongroup polygon[index='"+r+"']")).length>0&&(n(this._radialChildSVGDiv.find("#polygongroup polygon[index='"+r+"']")).attr("class",this._prefix+"itemdisabled"),n(this._radialChildSVGDiv.find("#childarcgroup path[index='"+r+"']")).attr("class",this._prefix+"itemdisabled"))):(e.attr("class",""+this._prefix+"itembgcolor"),o.attr("class",""+this._prefix+"default"),f.removeAttr("class"),!t.isNullOrUndefined(this._radialChildSVGDiv)&&n(this._radialChildSVGDiv.find("#polygongroup polygon[index='"+r+"']")).length>0&&n(this._radialChildSVGDiv.find("#polygongroup polygon[index='"+r+"']")).removeAttr("class"),n(this._radialChildSVGDiv.find("#childarcgroup path[index='"+r+"']")).attr("class",this._prefix+"childdefault"))},_ejMenuHide:function(n){this.model.enableAnimation?(this._radialCircleSVGDiv.removeClass(this._prefix+"radialshow").addClass(this._prefix+"radialhide"),this._radialChildSVGDiv.removeClass(this._prefix+"radialshow "+this._prefix+"scaleshow").addClass(this._prefix+"radialhide"),setTimeout(function(){n._radialCircleSVGDiv.addClass(n._prefix+"displaynone").removeClass(n._prefix+"radialshow "+n._prefix+"radialhide "+n._prefix+"scaleshow "+n._prefix+"scalehide");n._radialChildSVGDiv.addClass(n._prefix+"displaynone").removeClass(n._prefix+"radialshow "+n._prefix+"radialhide "+n._prefix+"scaleshow "+n._prefix+"scalehide")},160)):(this._radialCircleSVGDiv.addClass(this._prefix+"displaynone"),this._radialChildSVGDiv.addClass(this._prefix+"displaynone"));this._openCloseTrigger("close")},_ejInnerMenuHide:function(n){this._radial.removeClass(this._prefix+"backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass);this.model.enableAnimation?(this._radialCircleSVGDiv.removeClass(this._prefix+"radialshow "+this._prefix+"radialhide "+this._prefix+"scaleshow "+this._prefix+"scalehide").addClass(this._prefix+"displaynone"),this._radialChildSVGDiv.removeClass(this._prefix+"radialshow "+this._prefix+"radialhide "+this._prefix+"scaleshow "+this._prefix+"scalehide").addClass(this._prefix+"displaynone"),this._menuChildSVGDiv.removeClass(this._prefix+"scaleshow").addClass(this._prefix+"radialhide"),setTimeout(function(){n._menuChildSVGDiv.removeClass(n._prefix+"radialhide").remove()},150)):(this._radialCircleSVGDiv.addClass(this._prefix+"displaynone"),this._radialChildSVGDiv.addClass(this._prefix+"displaynone"),this._menuChildSVGDiv.remove());this._openCloseTrigger("close")},_currentBadgeEle:function(t){return this.model.renderMode=="android"?n(this._imageBadgeGroup.find("g")[t]):n(this._menuItemsGroup.find("g")[t])},_badge:function(n){return this._currentBadgeEle(n).find("."+this._prefix+"badgetext,."+this._prefix+"badgecircle")},show:function(){this.element.removeClass(this._prefix+"displaynone")},hide:function(){this.element.addClass(this._prefix+"displaynone")},showMenu:function(){this._showMenu()},hideMenu:function(){this._hideMenu()},enableItemByIndex:function(n){this._menuItems(this,n,"enabled")},enableItemsByIndices:function(n){this._menuEnabledDisabled(n,"enabled")},disableItemByIndex:function(n){this._menuItems(this,n,"disabled")},disableItemsByIndices:function(n){this._menuEnabledDisabled(n,"disabled")},updateBadgeValue:function(n,t){this.model.items[n].badge.value=t;this._currentBadgeEle(n).children("text."+this._prefix+"badgetext").html(t)},showBadge:function(n){this._badge(n).show()},hideBadge:function(n){this._badge(n).hide()},_setModel:function(n){n.items&&(this.model.items=n.items);this._refresh()},_refresh:function(){this._destroy();this._init()},_destroy:function(){t.listenEvents([document,document],[t.endEvent(),t.startEvent()],[this._targetClick,this._targetDown],!0);this.element.removeAttr("class style").children().remove()}})}(jQuery,Syncfusion),function($,ej){ej.widget("ejmRadialMenu","ej.mobile.RadialMenu",{_setFirst:!0,_rootCSS:"e-m-radialmenu",defaults:{renderMode:"auto",imageClass:"e-m-radialimage",backImageClass:"e-m-backimage",touch:null,select:null,position:"rightcenter"},dataTypes:{renderMode:"enum",position:"enum"},_init:function(){this._initialization();this._setValues();this._renderRadial();this._wireEvents();this._id=this.element[0].id},_setValues:function(){ej.browserInfo().name=="msie"&&ej.browserInfo().version<9||(ej.setRenderMode(this),this._degDis=0,this._totDis=0,this._prefix="e-m-",this._pos=this.model.position)},_renderRadial:function(){this._radial=ej.buildTag("div.e-m-radial e-m-abs "+this.model.imageClass+"").css({left:this._startXY-25+"px",top:this._startXY-25+"px"});this._radialContainer=ej.buildTag("div.e-m-rel").css({height:this._diameter,width:this._diameter});this.element.addClass("e-m-radialmenu e-m-overlow e-m-abs e-m-user-select e-m-"+this.model.renderMode+" e-m-radial"+this.model.position+"").append(this._radialContainer.append(this._radial));this._pos.charAt(0).toLowerCase()=="r"?this._radialContainer.addClass("e-m-radialright").css("right",-this._startXY+"px"):this._radialContainer.css("left",-this._startXY+"px");this._posCenter();this["_"+this.model.renderMode+"RadialMenu"]()},_wireEvents:function(){this._touchStart=$.proxy(this._touchStartHandler,this);this._touchMove=$.proxy(this._touchMoveHandler,this);this._touchCanel=$.proxy(this._touchCancelHandler,this);this._touchEnd=$.proxy(this._touchEndHandler,this);this._radialTouch=$.proxy(this._showMenu,this);ej.listenEvents([this._radial,this._radialSVGDiv],[ej.endEvent(),ej.startEvent()],[this._radialTouch,this._touchStart],!1)},_touchCancelHandler:function(n){ele=n.toElement||n.relatedTarget;$(ele).hasClass("e-m-radial")||$(ele).attr("class")=="e-m-radialcircle"||$(ele).attr("class")=="e-m-radialdefault"||this._radialSVGDiv.find(ele).length||(ej.listenEvents([this._radialSVGDiv],["mouseout",],[this._touchCanel],!0),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1),this._move=!1)},_ios7RadialMenu:function(){var u,t,r,n,s;for(this._radialSVG=this._createSVGElement(),this._menuItemsGroup=this._createGroupElement("menuitemsgroup"),u=this._createGroupElement(),this._radialSVGDiv=ej.buildTag("div#"+this._id+"_svgdiv.e-m-abs").css("height",this._diameter),this._radialMenuSVGDiv=ej.buildTag("div#"+this._id+"_menusvgdiv.e-m-abs e-m-displaynone"),t=this._calculateRadialArc(this._itemCount,1,.35,.2,.95),r=32,n=0;n<this._itemCount;n++){var e=this._createGroupElement(),i=this.model.items[n],o=this._createImageElement(r,r,i,t.midx[n]-r/2,t.midy[n]-r/2),f=this._ejmEnableItem(i,o);this._menuItemsGroup.append(e.append(this._createCircleElement(t.midx[n],t.midy[n],22,f?"e-m-radialdefault":"e-m-radialdefault e-m-pathdisabled")).append(o));i.badge&&(i.badge.enabled=="true"||i.badge.enabled==!0)&&e.append(this._createCircleElement(t.midx[n]+30,t.midy[n]-5,10,f?"e-m-badgecircle":"e-m-badgecircle e-m-itemdisabled")).append(this._createTextElement(t.midx[n]+30,t.midy[n]-2,f?"e-m-badgetext":"e-m-badgetext e-m-itemdisabled",i.badge.value));(i.items||i.type&&i.type.toLowerCase()==ej.mobile.RadialMenu.ItemType.Slider)&&u.append(this._createCircleElement(t.midx[n],t.midy[n],25,"e-m-chaildcircle"))}s=this._createCircleElement(this._startXY,this._startXY,this._startXY,"e-m-radialcircle");this._radialContainer.append(this._radialSVGDiv.append(this._radialMenuSVGDiv.append(this._radialSVG.append(s).append(this._menuItemsGroup).append(u))))},_ios7ChildRadialMenu:function(n,t,i){var u,f,r,s;for(this._radialChildSVG=this._createSVGElement(),this._menuChildItemsGroup=this._createGroupElement("menuchilditemsgroup"),u=this._calculateRadialArc(t,1,.35,.2,.95),f=32,r=0;r<t;r++){var h=this._createGroupElement(),e=this.model.items[i].items[r],o=this._createImageElement(f,f,e,u.midx[r]-f/2,u.midy[r]-f/2),c=this._ejmEnableItem(e,o);this._menuChildItemsGroup.append(h.append(this._createCircleElement(u.midx[r],u.midy[r],22,c?"e-m-radialdefault":"e-m-radialdefault e-m-pathdisabled")).append(o))}s=this._createCircleElement(this._startXY,this._startXY,this._startXY,"e-m-radialcircle");this._radialSVGDiv.append(this._menuChildSVGDiv.append(this._radialChildSVG.append(s).append(this._menuChildItemsGroup)))},_androidRadialMenu:function(){var n;this._radialSVG=this._createSVGElement();this._menuItemsGroup=this._createGroupElement("menuitemsgroup");this._androidArcGroup=this._createGroupElement("androidarcgroup");this._imageBadgeGroup=this._createGroupElement("imagebadgegroup");this._imageBadgeGroup.attr("transform","translate(-12,-12)");this._radialSVGDiv=ej.buildTag("div#"+this._id+"_svgdiv.e-m-abs").css("height",this._diameter);this._radialMenuSVGDiv=ej.buildTag("div#"+this._id+"_menusvgdiv.e-m-abs e-m-displaynone");var t=this._calculateRadialArc(this._itemCount,1,.41,.65,null),i=this._calculateRadialArc(this._itemCount,.63,null,.95,null),f=this._createGroupElement(),e=25;for(n=0;n<this._itemCount;n++){var s=this._pathDirection(t.x1[n],t.y1[n],t.radius,t.longArc[n],t.x2[n],t.y2[n],t.dEndX[n],t.dEndY[n],t.dradius,t.dStartX[n],t.dStartY[n]),h=this._pathDirection(i.x1[n],i.y1[n],i.radius,i.longArc[n],i.x2[n],i.y2[n],i.dEndX[n],i.dEndY[n],i.dradius,i.dStartX[n],i.dStartY[n]),r=this.model.items[n],o=this._createPathElement(n,h,"e-m-radialarcdefault"),u=this._createGroupElement("itemscontainer"),c=this._ejmEnableItem(r,u);this._imageBadgeGroup.append(u.append(this._createImageElement(e,e,r,t.midx[n],t.midy[n])));r.badge&&(r.badge.enabled=="true"||r.badge.enabled==!0)&&u.append(this._createCircleElement(t.midx[n]+25,t.midy[n],10,"e-m-badgecircle")).append(this._createTextElement(t.midx[n]+25,t.midy[n]+3,"e-m-badgetext",r.badge.value));this._androidArcGroup.append(this._createPathElement(n,s,c?"e-m-radialdefault":"e-m-radialdefault e-m-pathdisabled"));f.append(o);(r.items||r.type&&r.type.toLowerCase()==ej.mobile.RadialMenu.ItemType.Slider)&&o.setAttribute("class","e-m-radialarcactive")}this._radialContainer.append(this._radialSVGDiv.append(this._radialMenuSVGDiv.append(this._radialSVG.append(this._menuItemsGroup.append(this._androidArcGroup).append(f).append(this._imageBadgeGroup)))))},_androidChildRadialMenu:function(n,t,i){var r;this._radialChildSVG=this._createSVGElement();this._menuChildItemsGroup=this._createGroupElement("menuchilditemsgroup");this._androidChildArcGroup=this._createGroupElement("androidchildarcgroup");this._childImageBadgeGroup=this._createGroupElement("childimagebadgegroup");this._childImageBadgeGroup.attr("transform","translate(-12,-12)");var u=this._calculateRadialArc(t,1,.41,.65,null),f=this._calculateRadialArc(t,.63,null,.95,null),e=this._createGroupElement(),o=25;for(r=0;r<t;r++){var c=this._pathDirection(u.x1[r],u.y1[r],u.radius,u.longArc[r],u.x2[r],u.y2[r],u.dEndX[r],u.dEndY[r],u.dradius,u.dStartX[r],u.dStartY[r]),l=this._pathDirection(f.x1[r],f.y1[r],f.radius,f.longArc[r],f.x2[r],f.y2[r],f.dEndX[r],f.dEndY[r],f.dradius,f.dStartX[r],f.dStartY[r]),s=this.model.items[i].items[r],h=this._createGroupElement("childitemscontainer"),a=this._ejmEnableItem(s,h);this._childImageBadgeGroup.append(h.append(this._createImageElement(o,o,s,u.midx[r],u.midy[r])));this._androidChildArcGroup.append(this._createPathElement(r,c,a?"e-m-radialdefault":"e-m-radialdefault e-m-pathdisabled"));e.append(this._createPathElement(r,l,"e-m-radialarcdefault"))}this._radialSVGDiv.append(this._menuChildSVGDiv.append(this._radialChildSVG.append(this._menuChildItemsGroup.append(this._androidChildArcGroup).append(this._childImageBadgeGroup).append(e))))},_windowsRadialMenu:function(){this._renderRadialMenu()},_flatRadialMenu:function(){this._renderRadialMenu()},_ejmEnableItem:function(n,t){return n.enabled=="false"||n.enabled==!1?($(t).attr("class","e-m-itemdisabled"),!1):!0},_ejmMenuBaseItemsRemove:function(){var n=this;this._degDis=0;this._totDis=0;this._menuChildSVGDiv=ej.buildTag("div#"+this._id+"_menuchildsvgdiv.e-m-abs");this.model.enableAnimation?(setTimeout(function(){n._radialMenuSVGDiv.removeClass("e-m-scalehide e-m-scaleshow").addClass("e-m-displaynone")},150),this._menuChildSVGDiv.addClass("e-m-scaleshow")):this._radialMenuSVGDiv.addClass("e-m-displaynone");this._radial.removeClass(this.model.imageClass).addClass("e-m-backarrow "+this.model.backImageClass+"")},_touchStartHandler:function(n){n.preventDefault();ej._touchStartPoints(n,this);ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n);this._startY=n.clientY;this["_"+this.model.renderMode+"TouchStart"](n);ej.listenEvents([this._radialSVGDiv],["mouseout"],[this._touchCanel],!1);ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!1);ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!0)},_ios7TouchStart:function(n){var t=$(n.target),i=t.attr("class"),r=n.target.tagName;(i=="e-m-radialdefault"||this._isBadge(i,r))&&(this._currentTarget=t.parent(),this._currentTarget.find("circle.e-m-radialdefault").attr("class","e-m-radialactive"))},_androidTouchStart:function(n){var t=$(n.target),i=t.attr("class"),r=n.target.tagName,f=this._isBadge(i,r)?t.parent().index():t.index(),u;(i=="e-m-radialdefault"||this._isBadge(i,r))&&(u=this._childTarget?this._androidChildArcGroup:this._androidArcGroup,this._currentTarget=$(u.children()[f]),this._currentTarget.attr("class","e-m-radialactive"))},_windowsTouchStart:function(n){this._windowsTouchStartAction(n)},_flatTouchStart:function(n){this._windowsTouchStartAction(n)},_windowsTouchStartAction:function(n){var t=$(n.target),r=t.attr("class"),u=n.target.tagName,i,f;r=="e-m-itembgcolor"||r=="e-m-default"?(i=t.index(),f=this._childTarget?$(this._childItemsGroup.children()[t.index()]).text():$(this._menuItemsGroup.children()[t.index()]).text(),this._event=!0):(u!="text"||this._isRSText(r))&&u!="image"?(r=="e-m-childdefault"||u=="polygon")&&(i=parseInt(t.attr("index")),this._windowsChild=this._childArcGroup.find("path[index="+i+"]"),this._windowsChild.attr("class","e-m-active")):(i=t.parent().index(),f=t.parent().text(),this._event=!0);this._event&&(this._currentTarget=this._childTarget?$(this._childItemsArcPaths.children()[i]):$(this._menuItemsArcPaths.children()[i]),this._currentTarget.attr("class","e-m-childdefault"),this._event=!1)},_touchMoveHandler:function(n){n.preventDefault();ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n);this._relativeDis=n.clientY-this._startY;this._degDis!=0&&(this._relativeDis+=this._totDis);this._degDis=this._pos.charAt(0).toLowerCase()=="r"?-(this._relativeDis%360):this._relativeDis%360;ej._isTouchMoved(n,this)&&(this["_"+this.model.renderMode+"TouchMove"](n),this._move=!0,this._currentTarget=null)},_windowsTouchMoveAction:function(){this._windowsChild&&this._windowsChild.attr("class","e-m-childdefault");this._currentTarget&&this._currentTarget.attr("class","e-m-arcbgcolor");this._childTarget?(this._menuChildSVG.css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"}),this._iconRotation(this._childItemsGroup)):(this._radialSVG.css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"}),this._radialChildSVG.css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"}),this._iconRotation(this._menuItemsGroup))},_touchMoveAction:function(n,t){this._childTarget?(this._radialChildSVG.css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"}),this._iconRotation(n)):(this._radialSVG.css({"transform-origin":"center",transform:"rotate("+this._degDis+"deg)"}),this._iconRotation(t))},_ios7TouchMove:function(){this._touchMoveAction(this._menuChildItemsGroup,this._menuItemsGroup);this._currentTarget&&this._currentTarget.find("circle.e-m-radialactive").attr("class","e-m-radialdefault")},_androidTouchMove:function(){this._touchMoveAction(this._childImageBadgeGroup,this._imageBadgeGroup);this._currentTarget&&this._currentTarget.attr("class","e-m-radialdefault")},_windowsTouchMove:function(n){this._windowsTouchMoveAction(n)},_flatTouchMove:function(){this._windowsTouchMoveAction()},_touchEndHandler:function(n){this._totDis=this._relativeDis;this["_"+this.model.renderMode+"TouchEnd"](n);ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0);ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1);this._move=!1},_ios7TouchEnd:function(n){this._ios7TouchEndAction(n)},_androidTouchEnd:function(n){this._ios7TouchEndAction(n)},_windowsTouchEnd:function(n){this._windowsTouchEndAction(n)},_flatTouchEnd:function(n){this._windowsTouchEndAction(n)},_ios7TouchEndAction:function(){var n,t,i;if(this._currentTarget){if(n=this._currentTarget.index(),this.model.renderMode=="ios7"?this._currentTarget.find("circle.e-m-radialactive").attr("class","e-m-radialdefault"):this._currentTarget.attr("class","e-m-radialdefault"),t=this.model.items[n],!this._childTarget&&t.items)this._ejmMenuBaseItemsRemove(),this["_"+this.model.renderMode+"ChildRadialMenu"](t.items,t.items.length,n),this._childTarget=!0,this._index=n;else if(!this._childTarget&&t.type&&t.type.toLowerCase()==ej.mobile.RadialMenu.ItemType.Slider){this._ejmMenuBaseItemsRemove();var f=ej.buildTag("div"),r=ej.buildTag("div.e-m-rm-slider"),u=this._createSVGElement(),e=this._createCircleElement(this._startXY,this._startXY,this._startXY,"e-m-radialcircle");this._renderRadialSlider(t,r);this._radialSVGDiv.append(this._menuChildSVGDiv.append(f.append(u.append(e)).append(r.removeAttr("style"))));this.model.renderMode=="android"&&u.append(this._createCircleElement(this._startXY,this._startXY,this._startXY-60,"e-m-radialcircle"));this._index=n}i=this._childTarget?{index:this._index,childIndex:n}:{index:n,childIndex:null};this._eventsTrigger(i,"select");this._eventsTrigger(i,"touch")}this._currentTarget=null},_windowsTouchEndAction:function(n){var u=$(n.target),i,r,t;(u.attr("class")=="e-m-active"||n.target.tagName=="polygon")&&(this._index=parseInt(u.attr("index")),this._ejMenuBaseItemsRemove(),i=this.model.items[this._index],$(this._childArcGroup.find("path[index="+this._index+"]")).attr("class","e-m-childdefault"),i.type&&i.type.toLowerCase()==ej.mobile.RadialMenu.ItemType.Slider?(this._renderRadialSlider(i,this._menuChildSVGDiv),this._radialSVGDiv.append(this._menuChildSVGDiv.removeAttr("style").addClass("e-m-rm-slider"))):(this._renderRadialChildMenu(i),t={index:this._index,childIndex:null},this._eventsTrigger(t,"select"),this._eventsTrigger(t,"touch"),this._childTarget=!0));this._currentTarget&&(r=this._currentTarget.index(),t=this._childTarget?{index:this._index,childIndex:r}:{index:r,childIndex:null},this._eventsTrigger(t,"select"),this._eventsTrigger(t,"touch"),this._currentTarget.attr("class","e-m-arcbgcolor"));this._currentTarget=null},_isBadge:function(n,t){return n=="e-m-badgetext"||n=="e-m-badgecircle"||t=="image"?!0:!1},_renderRadialSlider:function(currentItem,sliderEle){var ticks=currentItem.sliderSettings.ticks?eval(currentItem.sliderSettings.ticks):[0,2,4,6,8,10,12],value=currentItem.badge.value?parseInt(currentItem.badge.value):4,radius=this.model.renderMode=="android"?this.model.radius-22:this.model.renderMode=="ios7"?this.model.radius-35:this.model.radius-30,stroke=currentItem.sliderSettings.strokeWidth?parseInt(currentItem.sliderSettings.strokeWidth):this.model.renderMode=="windows"||this.model.renderMode=="flat"?10:2,labelSpace=currentItem.sliderSettings.labelSpace?parseInt(currentItem.sliderSettings.labelSpace):this.model.renderMode=="android"?22:25;sliderEle.ejmRadialSlider({enableAnimation:!1,radius:radius,value:value,ticks:ticks,strokeWidth:stroke,labelSpace:labelSpace,position:this.model.position,renderMode:this.model.renderMode,change:$.proxy(this._radialSliderHandler,this)})},resize:function(){this._posCenter()},_posCenter:function(){var n=this;window.setTimeout(function(){(n._pos=="rightcenter"||n._pos=="leftcenter")&&n.element.css({top:window.innerHeight/2-n.model.radius+"px"})},ej.isAndroid()?200:0)},_showMenu:function(){this["_"+this.model.renderMode+"RadialTouch"]()},showRadialMenu:function(){this._showMenu()},_ios7RadialTouch:function(){this._ios7RadialAction()},_androidRadialTouch:function(){this._ios7RadialAction()},_windowsRadialTouch:function(){this._windowsRadialAction()},_flatRadialTouch:function(){this._windowsRadialAction()},_ios7RadialAction:function(){var n=this;this._radial.hasClass("e-m-backarrow")?(this._radial.removeClass("e-m-backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass),this.model.enableAnimation?(this._menuChildSVGDiv.removeClass("e-m-scaleshow").addClass("e-m-scalehide"),setTimeout(function(){n._menuChildSVGDiv.remove()},150),setTimeout(function(){n._radialMenuSVGDiv.removeClass("e-m-scalehide e-m-displaynone").addClass("e-m-scaleshow")},200)):(this._menuChildSVGDiv.remove(),this._radialMenuSVGDiv.removeClass("e-m-displaynone")),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1)):this._radialMenuSVGDiv.hasClass("e-m-displaynone")?(this.model.enableAnimation?this._radialMenuSVGDiv.removeClass("e-m-displaynone e-m-radialhide").addClass("e-m-radialshow"):this._radialMenuSVGDiv.removeClass("e-m-displaynone"),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1),this._openCloseTrigger("open")):(this.model.enableAnimation?(this._radialMenuSVGDiv.removeClass("e-m-radialshow e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n._radialMenuSVGDiv.addClass("e-m-displaynone")},160)):this._radialMenuSVGDiv.addClass("e-m-displaynone"),this._openCloseTrigger("close"),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0));this._degDis=0;this._totDis=0;this._childTarget=!1;$(this._menuItemsGroup).each(function(){$(this).find("image,circle,text").removeAttr("transform")});this._radialSVG.css("transform","rotate(0deg)")},_windowsRadialAction:function(){this._radial.hasClass("e-m-backarrow")?(this._windowsInnerMenuHide(this),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1)):this._radialCircleSVGDiv.hasClass("e-m-displaynone")?(this._windowsMenuShow(),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1)):(this._windowsMenuHide(this),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0));this._degDis=0;this._totDis=0;this._childTarget=!1;$(this._menuItemsGroup).each(function(){$(this).find("g").removeAttr("transform")});this._radialSVG.css("transform","rotate(0deg)");this._radialChildSVG.css("transform","rotate(0deg)")},_radialChildAnimate:function(){this._degDis=0;this._totDis=0;var n=this;setTimeout(function(){n._radialChildSVGDiv.removeClass("e-m-scalehide e-m-scaleshow").addClass("e-m-displaynone")},150)},_iconRotation:function(n){var t=this;$.each(n.children(),function(n,i){var u=$(i),r=u.find("image"),f=u.find("circle"),e=parseFloat(r.attr("x")),o=parseFloat(r.attr("y")),s=r.attr("width")/2,h=r.attr("height")/2,l=parseFloat(f.attr("cx")),a=parseFloat(f.attr("cy")),v=t.model.renderMode=="ios7"?l:e+s,y=t.model.renderMode=="ios7"?a:o+h,c="rotate("+-t._degDis+" "+v+" "+y+")",p="rotate("+-t._degDis+" "+(e+s)+" "+(o+h)+")";t.model.renderMode=="windows"||t.model.renderMode=="flat"?u.attr({transform:c}):(r.attr({transform:c}),u.find("text,circle").attr({transform:p}))})},_menuItems:function(n,t,i){var r,u;if(n.model.renderMode=="ios7"){var r=$(n._menuItemsGroup.find("g")[t]),f=r.find("image"),e=r.find("circle.e-m-radialdefault"),o=r.find("circle.e-m-badgecircle"),s=r.find("text");i=="disabled"?(f.attr("class","e-m-itemdisabled"),e.attr("class","e-m-radialdefault e-m-pathdisabled"),o.attr("class","e-m-badgecircle e-m-itemdisabled"),s.attr("class","e-m-badgetext e-m-itemdisabled")):(f.removeAttr("class"),e.attr("class","e-m-radialdefault"),o.attr("class","e-m-badgecircle"),s.attr("class","e-m-badgetext"))}else n.model.renderMode=="android"?(r=$(n._imageBadgeGroup.find("g")[t]),u=$(n._androidArcGroup.find("path")[t]),i=="disabled"?(r.attr("class","e-m-itemdisabled"),u.attr("class","e-m-radialdefault e-m-pathdisabled")):(r.removeAttr("class"),u.attr("class","e-m-radialdefault"))):this._ejMenuItem(n,t,i)},_hideMenu:function(){var n=this;this.model.renderMode=="ios7"||this.model.renderMode=="android"?(this._radial.hasClass("e-m-backarrow")?(this._radial.removeClass("e-m-backarrow "+this.model.backImageClass+"").addClass(this.model.imageClass),this._childTarget=!1,this.model.enableAnimation?(this._radialMenuSVGDiv.removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide").addClass("e-m-displaynone"),this._menuChildSVGDiv.removeClass("e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n._menuChildSVGDiv.removeClass("e-m-radialhide").remove()},150)):(this._radialMenuSVGDiv.addClass("e-m-displaynone"),this._menuChildSVGDiv.remove()),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1)):this.model.enableAnimation?(this._radialMenuSVGDiv.removeClass("e-m-radialshow e-m-scaleshow").addClass("e-m-radialhide"),setTimeout(function(){n._radialMenuSVGDiv.addClass("e-m-displaynone").removeClass("e-m-radialshow e-m-radialhide e-m-scaleshow e-m-scalehide")},160)):this._radialMenuSVGDiv.addClass("e-m-displaynone"),this._openCloseTrigger("close"),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0)):(this._radial.hasClass("e-m-backarrow")?(this._childTarget=!1,this._ejInnerMenuHide(this),ej.listenTouchEvent(this._radialSVGDiv,ej.startEvent(),this._touchStart,!1)):this._ejMenuHide(this),ej.listenEvents([this._radialSVGDiv,this._radialSVGDiv],[ej.moveEvent(),ej.endEvent()],[this._touchMove,this._touchEnd],!0))},documentClick:function(n){$($(n.target).closest("div.e-m-rel")).length!=0||this._move||(this.hideMenu(),this._move=!1)}});ej.mobile.RadialMenu.Position={RightCenter:"rightcenter",RightTop:"righttop",RightBottom:"rightbottom",LeftCenter:"leftcenter",LeftTop:"lefttop",LeftBottom:"leftbottom"};ej.mobile.RadialMenu.ItemType={Default:"default",Slider:"slider"};$.extend(!0,ej.mobile.RadialMenu.prototype,ej.RadialMenuBase.prototype)}(jQuery,Syncfusion),function(n,t){t.widget("ejRadialSliderBase","ej.RadialSliderBase",{defaults:{radius:200,ticks:[0,10,20,30,40,50,60,70,80,90,100],enableRoundOff:!0,value:10,autoOpen:!0,enableAnimation:!0,cssClass:null,labelSpace:30,stop:null,slide:null,start:null,change:null,create:null,destroy:null},dataTypes:{radius:"number",enableRoundOff:"boolean",enableAnimation:"boolean",cssClass:"string"},observables:["value"],observableArray:["ticks"],value:t.util.valueFunction("value"),ticks:t.util.valueFunction("ticks"),_outerTextCalculation:function(n,t,i){var e=this._isMobile()?this.model.radius-this.model.labelSpace:this.model.radius+this.model.labelSpace,f,s,o,r,u;for(this._point=(i-t)/(n-1),i=t+(i-t)/(n-1),f=i,s=f,this._textPoints=[],o=0;o<n;o++)r={},u=t,t=t*Math.PI/180,i=i*Math.PI/180,r.X2=this._startXY+e*Math.cos(t),r.Y2=this._startXY+e*Math.sin(t),r.textAlignment=u<=270&&90<=u?"middle":"start",t=f,i=f+this._point,f+=this._point,this._textPoints.push(r);return r={},u=this._startValueAngle,this._startValueAngle=this._startValueAngle*Math.PI/180,r.X2=this._startXY+e*Math.cos(this._startValueAngle),r.Y2=this._startXY+e*Math.sin(this._startValueAngle),r.textAlignment=u<=270&&90<=u?"middle":"start",this._textPoints.push(r),this._textPoints},_polarToCartesian:function(n,t,i,r,u){var f=r*Math.PI/180;return{x:n+i*Math.cos(f),y:t+i*Math.sin(u?-f:f)}},_tapHandlerEvent:function(i){var f,s,h=n("#"+this._prefix+this._elementID+"-radial-slider-svg").offset(),c=i.clientY,l=i.clientX,a=h.top+this._radialWidth/2-n(window).scrollTop(),v=h.left+this._radialWidth/2,e,o,y,u,r,p;if(this._dynamicAngleCalculation(v,l,a,c),e=this._isMobile()&&this.model.renderMode=="ios7"?6.5:this._isMobile()&&this.model.renderMode=="windows"?2.5:5,!this._isMobile()&&this._angle>=360-this._endAngle&&this._angle<=360-this._startAngle||this._isMobile()&&this._angle>=360-(this._endAngle-e)&&this._angle<=360-(this._startAngle+e)||this._isMobile()&&this.model.position.charAt(0).toLowerCase()=="l"&&(this._angle>270+e||this._angle<90-e)){if(this._lineAngleCalculation(!0),this._previousAngle=this._angle,this._isMobile()||(n(this._overLine).remove(),this._pathBeforeAddlength=this._tickCount+1,this._pathAfterAddLength=this._directionLine.toString().replace(/[^M]/g,"").length,this._pathBeforeAddlength<this._pathAfterAddLength?(o=this._isTapSelected?2:1,this._directionLine.remove(this._tickCount,o,o)):this._directionLine.remove(this._tickCount,1),this._dynamicLineCalculation(this._angle,!1,!0,!0,this._tickCount,this._tickCount+1,!0),n(this._pathLineElement).attr("d",this._directionLine.toString())),n(this._textGroupElement).find("[id="+this._prefix+this._elementID+"-dynamic-text]").length>0&&this._textGroupElement.find("[id="+this._prefix+this._elementID+"-dynamic-text]").remove(),y=this._selectPart(),u=y.select,this._isTicksControl()){if(r=this._ticksCalculation(),this._isMobile()&&this.model.position.charAt(0).toLowerCase()=="l"?this.line.textAlignment="end":this._isMobile()&&this.model.position.charAt(0).toLowerCase()=="r"?this.line.textAlignment="start":this._isMobile()&&(this.model.position.charAt(0).toLowerCase()=="b"||this.model.position.charAt(0).toLowerCase()=="t")&&(this.line.textAlignment="middle"),(this._isMobile()&&this.ticks().indexOf(r)==0||this.ticks().indexOf(r)==this._tickCount-1)&&(this.line.textAlignment="middle"),this.ticks().indexOf(r)<0){f=r.toString().split(".");p=t.preferredCulture(this.model.locale).numberFormat["."];f=t.isNullOrUndefined(f[1])?f[0]:f[0]+p+f[1];s=f;this._outerTextElement=this._createSVGElements("text",{"stroke-width":.5,x:this.line.X2,y:this.line.Y2,"class":this._prefix+"dynamic-text",id:this._prefix+this._elementID+"-dynamic-text",textContent:s,"text-anchor":this.line.textAlignment});this._textGroupElement.append(this._outerTextElement);var w=document.getElementById(this._prefix+this._elementID+"-dynamic-text").getBoundingClientRect(),v=this._textPoints[u.toFixed()].X2,a=this._textPoints[u.toFixed()].Y2,l=this.line.X2,c=this.line.Y2,nt=Math.sqrt(Math.pow(l-v,2)+Math.pow(c-a,2));if(nt<w.width*72/96){this.line={};var b=r.toString().length,k=w.width*72/96-(this._isMobile()?b*2:b*4),tt=parseFloat(u.toFixed(3).substr(0,1))==u.toFixed()?this._degPoint[u.toFixed()]+k:this._degPoint[u.toFixed()]-k,d=(360-tt)*(Math.PI/180),g=this._isMobile()?this.model.radius-this.model.labelSpace:this.model.radius+this.model.labelSpace;this.line.X2=this._startXY+g*Math.cos(d);this.line.Y2=this._startXY+g*Math.sin(-d);n("#"+this._prefix+this._elementID+"-dynamic-text").attr({x:this.line.X2,y:this.line.Y2})}}}else r=this.ticks()[u.toFixed()];this._trigger("change",{value:r,oldValue:this.value()});this._needleStop&&this.model.stop&&this._trigger("stop",{value:r});this.value(r);this._needleStop=!0;this._needleMove=!1;this._isMobile()&&(this.model.renderMode=="windows"||this.model.renderMode=="flat"?this._dynamicWindowsRadial():this._dynamicIOSandAndroidRadial())}},_selectPart:function(){var t=this._dynamicAngle,i=this._startAngle,u=this._endAngle,n;this._isMobile()&&(n=this.model.renderMode=="ios7"?5:this.model.renderMode=="windows"?2.5:5,i=this._startAngle+n,u=this._endAngle-n,this.model.position.charAt(0).toLowerCase()=="l"&&this._dynamicAngle<180&&(t=this._dynamicAngle+360));var r=(t-i)/((u-i)/(this.ticks().length-1)),f=this.ticks()[parseInt(r)],e=this.ticks()[parseInt(r)+1],o=e-f;return{select:r,firstValue:f,space:n,difference:o,dynamicAngle:t}},_lineAngleCalculation:function(n){var t=this._selectPart(),i,f,r,u;this._degPoint.splice(this.ticks().length,this.ticks().length+1);this._degPoint.push(this._degPoint[this._degPoint.length-1]+this._point);i=(this._degPoint[parseInt(t.select)+1]-this._degPoint[parseInt(t.select)]-(this._degPoint[parseInt(t.select)+1]-t.dynamicAngle))/(this._point/t.difference);f=parseInt(t.select)!=0?this._degPoint[parseInt(t.select)]:this._degPoint[parseInt(t.select)];this.model.enableRoundOff&&n?(u=parseFloat(i.toFixed(2)),i=parseInt(i.toFixed()),r=t.difference==.5&&u>=.25?this._point*1:this._point/t.difference*i):r=this._point/t.difference*parseFloat(i.toFixed(2));this._angle=360-this._degPoint[parseInt(t.select)]-Math.abs(r)},_isTicksControl:function(){var t=this._selectPart(),i,r;return this._degPoint.splice(this.ticks().length,this.ticks().length+1),this._degPoint.push(this._degPoint[this._degPoint.length-1]+this._point),i=(this._degPoint[parseInt(t.select)+1]-this._degPoint[parseInt(t.select)]-(this._degPoint[parseInt(t.select)+1]-this._dynamicAngle))/(this._point/t.difference),r=this.model.enableRoundOff?parseInt(i.toFixed())==0||parseInt(i.toFixed())==t.difference?!1:!0:n.inArray(this._angle,this._degPoint)>-1?!1:!0,r},_ticksCalculation:function(){var t=this._selectPart(),r=t.select,s=t.dynamicAngle,h=t.difference,e=t.firstValue,l=t.space,e=this.ticks()[parseInt(r)],u,f,o,n,i,c;return this.line={},u=this._angle*(Math.PI/180),f=this._isMobile()?this.model.radius-this.model.labelSpace:this.model.radius+this.model.labelSpace,this.line.X2=this._startXY+f*Math.cos(u),this.line.Y2=this._startXY+f*Math.sin(-u),this.line.textAlignment=this._angle<=270&&90<=this._angle?"middle":"start",o=parseInt(r)!=0?this._degPoint[parseInt(r)]:this._degPoint[parseInt(r)],n=(s-o)/(this._point/h),this.model.enableRoundOff?(c=parseFloat(n.toFixed(1).substr(1,3)),n=parseInt(n.toFixed()),i=e+Math.abs(n)):(i=e+Math.abs(parseFloat(n.toFixed(2))),i=parseFloat(i.toFixed(2))),i},_dynamicAngleCalculation:function(n,t,i,r){var u=Math.atan2(r-i,t-n);this._angle=(360-u*180/Math.PI)%360;this._dynamicAngle=(360+u*180/Math.PI)%360},_createSVGElements:function(t,i){var r=document.createElementNS(this._svgLink,t);return n.each(i,function(n,t){n=="xlink:href"&&r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);n!="textContent"?r.setAttribute(n,t):r.textContent=t}),r},show:function(){this.model.enableAnimation&&(this.element.removeClass(this._prefix+"slider-hide").addClass(this._prefix+"slider-show"),this._radialSVG.attr("class","").attr("class",this._prefix+"radialslider-svg-show "+this._prefix+"rs-svg"));this.element.css("display","block");this.model.autoOpen=!0},hide:function(){var n=this;this.model.enableAnimation?(this.element.removeClass(this._prefix+"slider-show").addClass(this._prefix+"slider-hide"),this._radialSVG.attr("class","").attr("class",this._prefix+"radialslider-svg-hide "+this._prefix+"rs-svg"),this.model.autoOpen?setTimeout(function(){n.element.css("display","none")},this._isMobile?150:400):n.element.css("display","none")):n.element.css("display","none");this.model.autoOpen=!1},_setModel:function(n){t.isNullOrUndefined(n.inline)||n.inline||(this.model.radius+=50);n.ticks&&(this.model.ticks=n.ticks);n.locale&&(this.model.locale=n.locale);n.enableRoundOff&&this.model.value(Math.round(t.util.getVal(this.model.value)));this._refresh()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()},_isMobile:function(){return this._prefix=="e-m-"?!0:!1}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmRadialSlider","ej.mobile.RadialSlider",{_setFirst:!0,_rootCSS:"e-m-radialslider",defaults:{renderMode:"auto",theme:"auto",position:"rightcenter",strokeWidth:t.isWindows()||t.isFlat()?12:5},dataTypes:{ticks:"array"},_init:function(){this._docClick=!1;this._orgEle=this.element.clone();this._renderEJMControl()},_renderEJMControl:function(){var r,i,f,u;for(t.setRenderMode(this),t.setTheme(this),this._prefix="e-m-",this._initialization(),this.element.addClass("e-m-radialslider e-m-overlow e-m-abs e-m-user-select e-m-"+this.model.renderMode+" e-m-"+this.model.theme+" e-m-radial"+this.model.position+""),this._radialSVG=n(this._createSVGElements("svg",{id:this._prefix+this._elementID+"-radial-slider-svg","class":this._prefix+"rs-svg",width:this._diameter,height:this._diameter})),this._circleGroupElement=n(this._createSVGElements("g",{id:"circlegroup"})),this._radialCircleCalculation(50,40,this._tickCount,!0,!0,"path"),this._textGroupElement=n(this._createSVGElements("g",{id:"outerTextCircle",transform:"translate(0, 4)"})),r=this.model.renderMode=="ios7"?6.5:5,this._outerTextDirection=this._outerTextCalculation(this._tickCount,this._startAngle+r,this._endAngle-r),i=0;i<this._tickCount+1;i++){if(f=i==0&&this._startAngle==0&&this._endAngle==360?this._tickCount-1:i,u=i==0||i==this._tickCount-1||this.ticks()[i]==this.value()&&this.ticks()[0]==this.value()||this.ticks()[i]==this.value()&&this.ticks()[this._tickCount-1]==this.value(),this.model.position.charAt(0).toLowerCase()=="l"&&(this._outerTextDirection[i].textAlignment="end"),u&&(this._outerTextDirection[i].textAlignment="middle"),this.model.position.charAt(0).toLowerCase()!="r"||u||(this._outerTextDirection[i].textAlignment="start"),(this.model.position.charAt(0).toLowerCase()=="b"||this.model.position.charAt(0).toLowerCase()=="t")&&(this._outerTextDirection[i].textAlignment="middle"),this._outerTextElement,i==this._tickCount)if(this.ticks()[0]==this.value())continue;else this._outerTextElement=this._createSVGElements("text",{"stroke-width":.5,x:this._outerTextDirection[i].X2,y:this._outerTextDirection[i].Y2,id:this._prefix+this._elementID+"-dynamic-text","class":this._prefix+"dynamic-text",textContent:this.value(),"text-anchor":this._outerTextDirection[i].textAlignment});else this._outerTextElement=this._createSVGElements("text",{"stroke-width":.5,x:this._outerTextDirection[i].X2,y:this._outerTextDirection[i].Y2,"class":this._prefix+"ticks-text",textContent:this.ticks()[f],"text-anchor":this._outerTextDirection[i].textAlignment});this._textGroupElement.append(this._outerTextElement)}this._radialSliderWrapper.append(this._radialSVG.append(this._textGroupElement).append(this._circleGroupElement));this.model.autoOpen?this.element.css("display","block"):this.element.css("display","none");this._wireEvents(!1)},_initialization:function(){this.element.addClass(this.model.cssClass);this._svgLink="http://www.w3.org/2000/svg";this._startXY=this.model.radius;this._diameter=2*this.model.radius;this.model.radius=this._startXY;this._elementID=this.element.attr("id");this._tickCount=this.ticks().length;this._radialWidth=this._diameter;this.model.position.charAt(0).toLowerCase()=="r"&&(this._startAngle=90,this._endAngle=270);this.model.position.charAt(0).toLowerCase()=="l"&&(this._startAngle=270,this._endAngle=450);this.model.position.charAt(0).toLowerCase()=="t"&&(this._startAngle=0,this._endAngle=180);this.model.position.charAt(0).toLowerCase()=="b"&&(this._startAngle=180,this._endAngle=360);this._radialSliderWrapper=t.buildTag("div",{},{},{"class":this._prefix+"radail-slider-wrapper"});this.element.append(this._radialSliderWrapper);this._positionRadial()},resize:function(){var n=this;window.setTimeout(function(){n._positionRadial()},t.isAndroid()?200:0)},_documentClick:function(t){n(n(t.target).closest("svg.e-m-rs-svg")).length==0&&this._docClick&&(this.hide(),this._docClick=!1);this.element.hasClass("e-m-slider-show")&&(this._docClick=!0)},_positionRadial:function(){this.model.position.charAt(0).toLowerCase()=="r"&&this.element.addClass("e-m-radialright").css("right",-this._startXY+"px");(this.model.position=="rightcenter"||this.model.position=="leftcenter")&&this.element.css({top:window.innerHeight/2-this.model.radius+"px"});this.model.position.charAt(0).toLowerCase()=="b"&&(this.element.css({bottom:-this.model.radius+"px"}),this.model.position=="bottomcenter"&&this.element.css({left:window.innerWidth/2-this.model.radius+"px"}),this.model.position=="bottomright"&&this.element.css({right:"10px"}),this.model.position=="bottomleft"&&this.element.css({left:"10px"}));this.model.position.charAt(0).toLowerCase()=="t"&&(this.element.css({top:-this.model.radius+"px"}),this.model.position=="topcenter"?this.element.css({left:window.innerWidth/2-this.model.radius+"px"}):this.model.position=="topleft"?this.element.css({left:"10px"}):this.model.position=="topright"&&this.element.css("right","10px"));this.model.position.charAt(0).toLowerCase()=="l"&&this.element.css({left:-this.model.radius+"px"})},_pathDirection:function(n,t,i,r,u,f,e,o,s,h,c,l){return r=l?0:r,["M",n,t,"A",i,i,"0",r,"1",u,f,"L",e,o,"A",s,s,"1",r,"0",h,c,"z"].join(" ")},_radialCircleCalculation:function(n,t,i){var f=this.model.renderMode=="ios7"?6.5:this.model.renderMode=="windows"?2.5:5,e=this._startAngle+f,o=e+(this._endAngle-f-(this._startAngle+f))/(i-1),u,y,h,p,r,a,v;for(this._point=(this._endAngle-f-(this._startAngle+f))/(i-1),u=o,y=u,this._degPoint=[],this._degPoint.push(e),h=0;h<i;h++)p={},e=e*Math.PI/180,o=o*Math.PI/180,this._degPoint.push(u),e=u,o=u+this._point,u+=this._point;for(r=0;r<i;r++){var s=r+1,c=r==this.ticks().length-1?this.ticks()[this.ticks().length-1]+.5:this.ticks()[s],l=r==0?this.ticks()[r]-.5:this.ticks()[r],w=l<=0&&l>=this.value()?!0:!1,b=c<=0&&c<=this.value()?!0:!1,k=w&&b?!0:l<=this.value()&&this.value()<c;k&&(this.ticks()[r]!=this.value()?(a=this._point/(this.ticks()[s]-this.ticks()[r]),v=this.ticks()[s]-this.value(),this._startValueAngle=this._degPoint[s]-a*v,this._radialSliderCircle()):(this._startValueAngle=this._degPoint[r],this._radialSliderCircle()))}},_radialSliderCircle:function(){var r=this._calculateCircleDirection(this._startAngle,this.model.renderMode=="windows"||this.model.renderMode=="flat"?this._startValueAngle-2.5:this._startValueAngle),i,n;this._fillCircleElement=this._createSVGElements("path",{d:r,"class":this._prefix+"rs-fill-circle"});this._circleGroupElement.append(this._fillCircleElement);r=this._calculateCircleDirection(this.model.renderMode=="windows"||this.model.renderMode=="flat"?this._startValueAngle+2.5:this._startValueAngle,this._endAngle);this._radialCircleDefault=this._createSVGElements("path",{d:r,"class":this._prefix+"rs-circle-default"});this._circleGroupElement.append(this._radialCircleDefault);this.model.renderMode=="windows"||this.model.renderMode=="flat"?(r=this._calculateCircleDirection(this._startValueAngle-2.5,this._startValueAngle+2.5),this._markerElement=this._createSVGElements("path",{d:r,"class":this._prefix+"rs-marker","stroke-width":t.isFlat()?this.model.strokeWidth-5:"none"}),this._circleGroupElement.append(this._markerElement)):(i=.5*Math.min(this._diameter,this._diameter),i=i-(i-this._arcRadius)/2,this.model.renderMode=="android"?(n=this._polarToCartesian(this._startXY,this._startXY,i,this._startValueAngle),this._smallCircle=this._createSVGElements("circle",{"class":"e-m-rs-marker",cx:n.x,cy:n.y,r:6}),this._outerSmallCircel=this._createSVGElements("circle",{"class":"e-m-marker-large",cx:n.x,cy:n.y,r:15}),this._circleGroupElement.append(this._outerSmallCircel).append(this._smallCircle)):(this._iosMarkerElement=t.buildTag("div.e-m-rs-marker"),n=this._polarToCartesian(this._startXY,this._startXY,i,this._startValueAngle),this._radialSliderWrapper.append(this._iosMarkerElement),this._iosMarkerElement.css({left:n.x-15,top:n.y-15})))},_refresh:function(){this._destroy();this.element.removeAttr("style");this.element.addClass("e-m-radialslider e-js");this._renderEJMControl()},_createDelegates:function(){this._documentDelegate=n.proxy(this._documentClick,this);this._touchStartDelegate=n.proxy(this._touchStartHandler,this);this._markerMoveDelegate=n.proxy(this._markerMoveHandler,this);this._touchEndDelegate=n.proxy(this._touchEndHandler,this)},_wireEvents:function(i){this._createDelegates();t.listenEvents([this._radialSVG],[t.startEvent()],[this._touchStartDelegate],i);t.listenEvents([n(document)],["click"],[this._documentDelegate],i);this.model.renderMode=="ios7"&&t.listenEvents([this._iosMarkerElement],[t.startEvent()],[this._touchStartDelegate],i)},_touchEndHandler:function(n){n=n.touches?n.changedTouches[0]:n;t.listenEvents([this._radialSVG],[t.moveEvent()],[this._markerMoveDelegate],!0);this.model.renderMode=="ios7"&&t.listenEvents([this._iosMarkerElement],[t.moveEvent()],[this._markerMoveDelegate],!0);this._tapHandlerEvent(n);this._docClick=!1},_touchStartHandler:function(n){t.blockDefaultActions(n);t.isTouchDevice()&&(n=n.touches?n.touches[0]:n);this.model.start&&this._trigger("start",{value:this.value()});t.listenEvents([this._radialSVG,this._radialSVG],[t.moveEvent(),t.endEvent()],[this._markerMoveDelegate,this._touchEndDelegate],!1);this.model.renderMode=="ios7"&&t.listenEvents([this._iosMarkerElement,this._iosMarkerElement],[t.moveEvent(),t.endEvent()],[this._markerMoveDelegate,this._touchEndDelegate],!1)},_markerMoveHandler:function(i){var r,f;t.blockDefaultActions(i);t.isTouchDevice()&&(i=i.touches?i.touches[0]:i);var u=n("#"+this._prefix+this._elementID+"-radial-slider-svg").offset(),e=i.clientY,o=i.clientX,s=u.top+this._radialWidth/2,h=u.left+this._radialWidth/2;this._dynamicAngleCalculation(h,o,s,e);r=this.model.renderMode=="ios7"?6.5:this.model.renderMode=="windows"?2.5:5;(this.model.position.charAt(0).toLowerCase()=="l"&&(this._angle>270+r||this._angle<90-r)||this.model.position.charAt(0).toLowerCase()!="l"&&this._angle>360-(this._endAngle-r)&&this._angle<360-(this._startAngle+r))&&(this.model.renderMode=="windows"||this.model.renderMode=="flat"?this._dynamicWindowsRadial():this._dynamicIOSandAndroidRadial(),this.model.slide&&(f=this._ticksCalculation(),this._trigger("slide",{value:f,selectedValue:this.value()})))},_calculateCircleDirection:function(n,t,i){var r=.5*Math.min(this._diameter,this._diameter),u=r-this.model.strokeWidth,f,e,o,s,h,c,l,a,v,y;return this._arcRadius=u,n=n*Math.PI/180,t=t*Math.PI/180,v=t-n<Math.PI?0:1,y=(n+t)/2,f=this._startXY+r*Math.cos(n),e=this._startXY+r*Math.sin(i?-n:n),o=this._startXY+r*Math.cos(t),s=this._startXY+r*Math.sin(i?-t:t),h=this._startXY+u*Math.cos(n),c=this._startXY+u*Math.sin(i?-n:n),l=this._startXY+u*Math.cos(t),a=this._startXY+u*Math.sin(i?-t:t),leftPosition=!1,(this.model.position.charAt(0).toLowerCase()=="l"||this.model.position.charAt(0).toLowerCase()=="b")&&(leftPosition=!0),this._pathDirection(f,e,r,v,o,s,l,a,u,h,c,leftPosition)},_dynamicWindowsRadial:function(){var t=this._calculateCircleDirection(360-this._startAngle,this._angle+2.5,!0,!0);n(this._fillCircleElement).attr("d",t);t=this._calculateCircleDirection(this._angle+2.5,this._angle-2.5,!0,!1);n(this._markerElement).attr("d",t);t=this._calculateCircleDirection(this._angle-2.5,360-this._endAngle,!0,!1,!0);n(this._radialCircleDefault).attr("d",t)},_dynamicIOSandAndroidRadial:function(){var r=this._calculateCircleDirection(this._angle,360-this._endAngle,!0,!1,!0),i,t;n(this._radialCircleDefault).attr("d",r);r=this._calculateCircleDirection(360-this._startAngle,this._angle,!0,!0);n(this._fillCircleElement).attr("d",r);i=.5*Math.min(this._diameter,this._diameter);i=i-(i-this._arcRadius)/2;this.model.renderMode=="android"?(t=this._polarToCartesian(this._startXY,this._startXY,i,this._angle,!0),n(this._smallCircle).attr({cx:t.x,cy:t.y}),n(this._outerSmallCircel).attr({cx:t.x,cy:t.y})):(t=this._polarToCartesian(this._startXY,this._startXY,i,this._angle,!0),this._iosMarkerElement.css({left:t.x-15,top:t.y-15}))}});t.mobile.RadialSlider.Position={RightCenter:"rightcenter",RightTop:"righttop",RightBottom:"rightbottom",LeftCenter:"leftcenter",LeftTop:"lefttop",LeftBottom:"leftbottom",TopLeft:"topleft",TopRight:"topright",TopCenter:"topcenter",BottomLeft:"bottomleft",BottomRight:"bottomright",BottomCenter:"bottomcenter"};n.extend(!0,t.mobile.RadialSlider.prototype,t.RadialSliderBase.prototype)}(jQuery,Syncfusion),function($,ej){ej.widget("ejmRating","ej.mobile.Rating",{_setFirst:!0,_rootCSS:"e-m-rating",defaults:{maxValue:5,minValue:0,value:1,incrementStep:1,precision:"full",enabled:!0,renderMode:"auto",shape:"star",shapeWidth:25,shapeHeight:25,spaceBetweenShapes:15,tap:null,change:null,touchMove:null,orientation:"horizontal",readOnly:!1,enablePersistence:!1,backgroundColor:null,selectionColor:null,hoverColor:null,borderColor:null},dataTypes:{enabled:"boolean",renderMode:"enum",precision:"enum",shape:"enum",orientation:"enum",readOnly:"boolean",enablePersistence:"boolean"},observables:["value"],value:ej.util.valueFunction("value"),_init:function(){App.activePage||App.createAppView();this._cloneElement=this.element.clone();this._renderControl();this._wireEvents(!1);this._isLoaded=!0},_initObjects:function(){this.element.css({display:"inline-block"});this._canvasElement=this.element.find("canvas")[0];this._renderRatingControl();this._hiddenField=this.element.find("input")[0]},_renderControl:function(){ej.setRenderMode(this);this.element.addClass("e-m-"+this.model.renderMode);this.model.enabled||this.element.addClass("e-m-state-disabled");this._renderColorCodes();this["_"+this.model.precision+"PrecisionProperties"]();this._canvasElement=ej.buildTag("canvas");this._canvasElement.css("-ms-touch-action","none");this.element.append(this._canvasElement);this._hiddenField=ej.buildTag("input ",{},{},{type:"hidden",value:this.model.minValue+this.value()});this.element.append(this._hiddenField);this._initObjects()},_fullPrecisionProperties:function(){var n=Math.round(this.value());this.value(n-n%this.model.incrementStep);this._currentIndex=Number(this.value()/this.model.incrementStep)},_exactPrecisionProperties:function(){var n=Math.ceil(this.value());this.value(Math.round(this.value(),1));this._pricisionProperties(n)},_halfPrecisionProperties:function(){var n=Math.ceil(this.value());this.value(this.value()-this.value()%(Number(this.model.incrementStep)/2));this._pricisionProperties(n)},_pricisionProperties:function(n){this.value()%this.model.incrementStep!=0?(n=n+n%this.model.incrementStep,currentItemIndex=Number(n/this.model.incrementStep)):(n=this.value(),currentItemIndex=Number(n/this.model.incrementStep))},_hexTorgb:function(n){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return n[1]=parseInt(n[1],16),n[2]=parseInt(n[2],16),n[3]=parseInt(n[3],16),color=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:n[1],G:n[2],B:n[3],A:0,Name:"64b7b7b7"}}]})},_renderColorCodes:function(){var bgcolor,shapebgcolor,shapeselectcolor,shapehovercolor,glowcolor;this.model.renderMode=="ios7"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:13,G:122,B:255,A:0,Name:"Transparent"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:238,G:238,B:238,A:100,Name:"64ff9d09"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:13,G:122,B:255,A:100,Name:"64c1dff7"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:0,Color:{R:13,G:122,B:255,A:100,Name:"64c1dff7"}}]})):this.model.renderMode=="android"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:188,G:188,B:188,A:40,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:54,G:190,B:240,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:54,G:190,B:240,A:100,Name:"6433b5e5"}}]}),glowcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:74,G:188,B:230,A:100,Name:"644abce6"}}]})):this.model.renderMode=="windows"?(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:255,G:255,B:255,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:209,G:207,B:207,A:100,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:70,G:70,B:70,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:70,G:70,B:70,A:100,Name:"6433b5e5"}}]})):this.model.renderMode=="flat"&&(bgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:51,G:181,B:229,A:100,Name:"6433b5e5"}}]}),shapebgcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:242,G:242,B:242,A:100,Name:"64b7b7b7"}}]}),shapeselectcolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:243,G:133,B:41,A:100,Name:"6433b5e5"}}]}),shapehovercolor=JSON.stringify({ColorInfo:[{ColorStop:NaN,Color:{R:243,G:133,B:41,A:100,Name:"6433b5e5"}}]}));typeof this.model.backgroundColor=="string"&&(shapebgcolor=this._hexTorgb(this.model.backgroundColor));typeof this.model.selectionColor=="string"&&(shapeselectcolor=this._hexTorgb(this.model.selectionColor));typeof this.model.hoverColor=="string"&&(shapehovercolor=this._hexTorgb(this.model.hoverColor));bgcolor=bgcolor.replace("null",NaN);shapebgcolor=shapebgcolor.replace("null",NaN);shapeselectcolor=shapeselectcolor.replace("null",NaN);shapehovercolor=shapehovercolor.replace("null",NaN);this._backgroundColor=eval("("+bgcolor+")");this._shapeBackgroundColor=eval("("+shapebgcolor+")");this._shapeSelectedColor=eval("("+shapeselectcolor+")");this._shapeHoverColor=eval("("+shapehovercolor+")");this.model.renderMode=="android"&&(glowcolor=glowcolor.replace("null",NaN),this.model.glowColor=eval("("+glowcolor+")"))},_createDelegates:function(){this._canvasMDDelegate=$.proxy(this._canvasMouseDownHandler,this);this._canvasMMDelegate=$.proxy(this._canvasMouseMoveHandler,this);this._canvasMUDelegate=$.proxy(this._canvasMouseUpHandler,this);this._documentEndDelegate=$.proxy(this._documentEndHandler,this)},_wireEvents:function(n){this.model.enabled&&(this._createDelegates(),this.model.readOnly||ej.listenEvents([this._canvasElement,this._canvasElement,document],[ej.startEvent(),ej.endEvent(),ej.endEvent()],[this._canvasMDDelegate,this._canvasMUDelegate,this._documentEndDelegate],n))},_canvasMouseDownHandler:function(n){ej.blockDefaultActions(n);this._move=!1;this._canvasAction="mouseDown";ej.listenTouchEvent(this._canvasElement,ej.moveEvent(),this._canvasMMDelegate,!1);var t={value:this.value()};this.model.tap&&this._trigger("tap",t)},_canvasMouseMoveHandler:function(n){ej.blockDefaultActions(n);this._move=!0;ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n);this._canvasAction="mouseMove";this._getCursorPosition(n);this._mouseMove(n)},_mouseMove:function(n){var r,u,t,i;this._getCursorPosition(n);this._mousepos=this.model.orientation=="vertical"?this._mousePosition.y:this._mousePosition.x;r=0;u=0;this["_"+this.model.orientation+"MouseMoveOrUpProperties"]();t=this._getRoundOffValue(this._value);this._currentMouseMove=t;this._canvasContext.canvas.title=this.model.minValue+parseFloat(t);this._canvasContext.canvas.alt=this.model.minValue+parseFloat(t);this._renderRatingControl();i={value:this.value()};this.model.touchMove&&this._trigger("touchMove",i)},_verticalMouseMoveOrUpProperties:function(){shapesCount=Math.floor(this._mousepos-1)/(this.model.shapeHeight+this.model.spaceBetweenShapes);this._value=((this._mousepos-shapesCount*this.model.spaceBetweenShapes)*this.model.incrementStep/this.model.shapeHeight).toFixed(1)},_horizontalMouseMoveOrUpProperties:function(){shapesCount=Math.floor(this._mousepos-1)/(this.model.shapeWidth+this.model.spaceBetweenShapes);this._value=((this._mousepos-shapesCount*this.model.spaceBetweenShapes)*this.model.incrementStep/this.model.shapeWidth).toFixed(1)},_canvasMouseUpHandler:function(n){ej.blockDefaultActions(n);ej.isTouchDevice()&&(n=n.changedTouches?n.changedTouches[0]:n);ej.listenTouchEvent(this._canvasElement,ej.moveEvent(),this._canvasMMDelegate,!0);this._canvasAction="mouseUp";this._getCursorPosition(n);this._mouseUp(n)},_documentEndHandler:function(n){$(n.target).closest(".e-m-rating").length==0&&(ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n),ej.listenTouchEvent(this._canvasElement,ej.moveEvent(),this._canvasMMDelegate,!0))},_mouseUp:function(n){var r,u,t,i;if(this.model.precision=="exact"&&this._move){this.model.change&&this._trigger("change",i);return}this._move=!1;r=this._shapesCount;u=0;this._mousepos=this.model.orientation=="vertical"?this._mousePosition.y:this._mousePosition.x;this._getCursorPosition(n);var f=this.model.shapeWidth,e=this.model.shapeHeight;this["_"+this.model.orientation+"MouseMoveOrUpProperties"]();t=this._getRoundOffValue(this._value);this.value(t);this._currentMouseMove=t;this._canvasContext.canvas.title=this.model.minValue+parseFloat(t);this._canvasContext.canvas.alt=this.model.minValue+parseFloat(t);$(this._hiddenField).val(this._canvasContext.canvas.title);this._renderRatingControl();i={value:this.value()};this.model.change&&this._trigger("change",i)},_renderRatingControl:function(){var t=this._canvasElement,n,i;(typeof G_vmlCanvasManager!="undefined"&&(t=window.G_vmlCanvasManager.initElement(t)),t&&t.getContext)&&this._canvasElement.getContext&&(this._canvasContext=this._canvasElement.getContext("2d"),n=this._canvasContext,this._shapesCount=Math.floor((this.model.maxValue-this.model.minValue)/this.model.incrementStep),this["_"+this.model.orientation+"RenderRatingProperties"](),this._canvasWidth=this.tempCanvasWidth,this._canvasHeight=this.tempCanvasHeight,n.canvas.width=this._canvasWidth,n.canvas.height=this._canvasHeight,i=n.createLinearGradient(0,0,this._canvasWidth,this._canvasHeight),this._backgroundColor.ColorInfo[0].ColorStop.toString()!="NaN"&&$.each(this._backgroundColor.ColorInfo,function(n,t,r){i.addColorStop(r.ColorStop.toString()=="NaN"?0:r.ColorStop,"#"+(r.Color.Name?ej.hexFromRGB(r.Color):r.Color))}),this.model.orientation=="horizontal"?n.translate(7,15):n.translate(15,7),n.fillStyle=i,n.fillRect(0,0,n.canvas.width,n.canvas.height),this._renderRatingShapes(n))},_verticalRenderRatingProperties:function(){this._renderRatingProperties(this.model.shapeWidth,this.model.shapeHeight,this._canvasWidth,this._canvasHeight)},_horizontalRenderRatingProperties:function(){this._renderRatingProperties(this.model.shapeHeight,this.model.shapeWidth,this._canvasHeight,this._canvasWidth)},_renderRatingProperties:function(n,t,i,r){i=n+3+30;r=this._shapesCount*t;r+=this._shapesCount*this.model.spaceBetweenShapes;this.tempCanvasWidth=this.model.orientation=="horizontal"?r:i;this.tempCanvasHeight=this.model.orientation=="horizontal"?i:r},_renderRatingShapes:function(n){var e=this._shapesCount,r,i=this.value(),u,t,f;for(r=e,st=0,u=Math.floor(i/this.model.incrementStep),t=i%this.model.incrementStep,i=this.value(),st=st;st<r;st++)n.save(),this._drawRatingShape(n,st),st<u?(this._notClipped=!0,this._setClippingRegion(n,st,this.model.shapeWidth,!0)):t!=0?(this._notClipped=!0,f=t*this.model.shapeWidth/this.model.incrementStep,this._setClippingRegion(n,st,f,!0),t=0):this._setClippingRegion(n,st,this.model.shapeWidth,!1),n.restore()},_drawRatingShape:function(n,t){this._drawShapeProperties(t);this._drawShape(n,this.x1,this.y1,this.width,this.height)},_drawShapeProperties:function(n){this.width=this.model.shapeWidth;this.height=this.model.shapeHeight;this.x1;this.y1;this.model.orientation=="vertical"?(this.x1=1,this.y1=n*this.height+n*this.model.spaceBetweenShapes):(this.x1=n*this.width+n*this.model.spaceBetweenShapes,this.y1=0)},_drawShape:function(n,t,i,r,u){n.beginPath();switch(this.model.shape){case"heart":this._drawHeartenShape(n,t,i,r,u);break;case"pentagon":this._drawPentagonShape(n,t,i,r,u);break;case"diamond":this._drawDiamondShape(n,t,i,r,u);break;case"triangle":this._drawTriangleShape(n,t,i,r,u);break;case"square":this._drawSquareShape(n,t,i,r,u);break;case"circle":this._drawCircleShape(n,t,i,r,u);break;default:this._drawStarShape(n,t,i,r,u)}n.closePath();this.model.borderColor?(n.strokeStyle=this.model.borderColor,n.stroke()):this.model.renderMode!="windows"&&(n.strokeStyle=this.model.renderMode=="ios7"?this._generateGradient(n,this._backgroundColor,t,i):"",n.stroke());n.save();n.fillStyle=this._generateGradient(n,this._shapeBackgroundColor,t,i);n.fill();n.restore()},_drawStarShape:function(n,t,i,r,u){n.moveTo(t+r/6,i+u);n.lineTo(t+r,i+u/3);n.lineTo(t,i+u/3);n.lineTo(t+r-r/6,i+u);n.lineTo(t+r/2,i);n.lineWidth=this.model.renderMode=="android"?2:1},_drawCircleShape:function(n,t,i,r,u){this._draw?(n.arc(t+r/2,i+u/2,u/9,0,Math.PI*2,!0),this._draw=!1):n.arc(t+r/2,i+u/2,u/2,0,Math.PI*2,!0)},_drawSquareShape:function(n,t,i,r,u){n.moveTo(t,i);n.lineTo(t+r,i);n.lineTo(t+r,i+u);n.lineTo(t,i+u)},_drawTriangleShape:function(n,t,i,r,u){n.moveTo(t+r/2,i);n.lineTo(t+r,i+u);n.lineTo(t,i+u)},_drawDiamondShape:function(n,t,i,r,u){n.moveTo(t+r/2,i);n.lineTo(t+r,i+u/2);n.lineTo(t+r/2,i+u);n.lineTo(t,i+u/2)},_drawPentagonShape:function(n,t,i,r,u){n.moveTo(t+r/2,i);n.lineTo(t+r,i+u/2);n.lineTo(t+r-r/4,i+u);n.lineTo(t+r/4,i+u);n.lineTo(t,i+u/2)},_drawHeartenShape:function(n,t,i,r,u){t+=r/2;i+=u/4;u-=u*.25;n.beginPath();n.moveTo(t,i);n.bezierCurveTo(t,i-u*.4,t-r/2,i-u*.4,t-r/2,i);n.bezierCurveTo(t-r/2,i+u/2,t,i+u/2,t,i+u);n.bezierCurveTo(t,i+u/2,t+r/2,i+u/2,t+r/2,i);n.bezierCurveTo(t+r/2,i-u*.4,t,i-u*.4,t,i)},_setClippingRegion:function(n,t,i,r){if(n.save(),this._drawShapeProperties(t),n.clip(),n.beginPath(),this._canvasAction=="mouseMove"){var u,f;this._mouseMoveValue!=null?(u=this._mouseMoveValue*this.width+Math.floor(this._mouseMoveValue)*this.model.spaceBetweenShapes-7,f=this._mouseMoveValue*this.height+Math.floor(this._mouseMoveValue)*this.model.spaceBetweenShapes-7):(u=this._mousePosition.x-7,f=this._mousePosition.y-7);n.fillStyle=this._generateGradient(n,this._shapeHoverColor,this.x1,this.y1);n.fill();this.model.orientation=="vertical"?n.fillRect(0,0,this.width,f):n.fillRect(0,0,u,this.height)}else r&&(n.fillStyle=this._generateGradient(n,this._shapeSelectedColor,this.x1,this.y1),n.fill(),r=!1),this.model.orientation=="vertical"?n.fillRect(this.x1,this.y1,this.width,i):n.fillRect(this.x1,this.y1,i,this.height);n.restore()},_generateGradient:function(n,t,i,r){var u=this.model.renderMode=="ios7"?n.createLinearGradient(i+this.model.shapeWidth/2,r,i+this.model.shapeWidth/2,r+this.model.shapeHeight):n.createLinearGradient(i+this.model.shapeWidth/2,r+this.model.shapeHeight,i+this.model.shapeWidth/2,r);return $.each(t.ColorInfo,function(n,t){u.addColorStop(t.ColorStop.toString()=="NaN"?0:t.ColorStop,"#"+(t.Color.Name?ej.hexFromRGB(t.Color):t.Color))}),u},_clearRatingControl:function(n){n.clearRect(0,0,this._canvasWidth,this._canvasHeight)},_getCursorPosition:function(n){var t,i;return n.pageX||n.pageY?(t=n.pageX,i=n.pageY):(t=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),t-=$(this._canvasElement).offset().left,i-=$(this._canvasElement).offset().top,this._mousePosition={x:t,y:i},this._mousePosition},_getRoundOffValue:function(n){var t;return this.model.precision=="full"?(t=Math.round(n),t=t-t%this.model.incrementStep):this.model.precision=="exact"?t=n:(n=Math.round(n/.5)*.5,n=n-n%(this.model.incrementStep/2),t=n),t},_setRenderMode:function(n){this.model.renderMode=n;this._refresh()},_changeShape:function(n){this.model.shape=n;this._renderRatingControl()},_refresh:function(){this._clearElement();this.element.addClass("e-m-rating");this._renderControl();this._wireEvents(!1)},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"shape":this._changeShape(n.shape);break;case"shapeWidth":this._refresh();break;case"shapeHeight":this._refresh();break;case"incrementStep":this._refresh();break;case"orientation":this._refresh();break;case"precision":this._refresh();break;case"value":this._refresh();break;case"maxValue":this._refresh();break;case"enabled":this._refresh();break;case"readOnly":this._refresh();break;case"backgroundColor":this._refresh();break;case"selectionColor":this._refresh();break;case"hoverColor":this._refresh()}},_clearElement:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html("")},_destroy:function(){this._cloneElement.insertBefore(this.element).removeClass("e-m-rating");this.element.remove()},disable:function(){this.model.enabled=!1;this._refresh()},enable:function(){this.model.enabled=!0;this._refresh()},show:function(){if(!this.model.enabled)return!1;this.element.css("display","block")},hide:function(){if(!this.model.enabled)return!1;this.element.css("display","none")},getValue:function(){return this.value()},reset:function(){this.value(0);this._refresh()},setValue:function(n){this.value(n);this._refresh()}});ej.mobile.Rating.Precision={Full:"full",Exact:"exact",Half:"half"};ej.mobile.Rating.Shape={Star:"star",Circle:"circle",Diamond:"diamond",Heart:"heart",Pentagon:"pentagon",Square:"square",Triangle:"triangle"};ej.mobile.Rating.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("ejmRotator","ej.mobile.Rotator",{_requiresID:!0,_setFirst:!0,_rootCSS:"e-m-rotator",_tags:[{tag:"items",attr:["imageUrl","text"]}],defaults:{targetId:null,renderMode:"auto",targetHeight:"auto",targetWidth:"auto",currentItemIndex:0,showPager:!0,cssClass:"",orientation:"horizontal",enablePersistence:!1,pagerPosition:"bottom",items:[],swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,change:null,pagerSelect:null,dataSource:null},dataTypes:{renderMode:"enum",showPager:"boolean",dataSource:"data",enablePersistence:"boolean"},observables:["currentItemIndex"],currentItemIndex:ej.util.valueFunction("currentItemIndex"),_init:function(){this._renderControl();this._createDelegate();this._wireEvents()},_renderControl:function(){this._setValues();this.element.addClass("e-m-"+this.model.renderMode+" "+this.model.cssClass+" e-m-rotator e-m-user-select").append(this._wrapper);this.model.dataSource?this._renderDatabind():this._renderDefault()},_setValues:function(){var itemsLen,item;if(ej.setRenderMode(this),eval(this.model.items).length!=0)for(this.model.items=eval(this.model.items),itemsLen=this.model.items.length,this._wrapper=ej.buildTag("div#"+this._id+"_container"),i=0;i<itemsLen;i++)this._wrapper.append(ej.buildTag("div"));else{this._wrapper=this.model.targetId?ej.getCurrentPage().find("#"+this.model.targetId):$(this.element.children()[0]);var childEle=this._wrapper.children(),tempImgAttr=ej.getAttrVal($(childEle[0]),"data-ej-imageUrl"),tempTextAttr=ej.getAttrVal($(childEle[0]),"data-ej-text");if(tempImgAttr||tempTextAttr)for(i=0;i<childEle.length;i++)item={},item.imageUrl=ej.getAttrVal($(childEle[i]),"data-ej-imageUrl"),tempTextAttr&&(item.text=ej.getAttrVal($(childEle[i]),"data-ej-text")),this.model.items.push(item)}this._divCount=this._wrapper.children().length;this._orgEle=this._wrapper;this._autoHeightWidthValues();this._browser=ej.browser().toLowerCase();this._startValues()},_autoHeightWidthValues:function(){this._mHeight=this.model.targetHeight=="auto"?ej.getDimension(this.element.parent(),"height"):parseInt(this.model.targetHeight);this._mWidth=this.model.targetWidth=="auto"?ej.getDimension(this.element.parent(),"width"):parseInt(this.model.targetWidth)},_startValues:function(){this._moveEle=this._divCount>this.currentItemIndex()&&this.currentItemIndex()>=0?-(this.currentItemIndex()*(this.model.orientation=="horizontal"?this._mWidth:this._mHeight)):0;this._divEle=this._moveEle?this.currentItemIndex()+1:1;this._timeStart=0},_transform:function(n,t){var i="-"+this._browser+"-transform",r=this.model.orientation=="horizontal"?"translate3d("+n+"px,0px,0px) scale(1)":"translate3d(0px,"+n+"px,0px) scale(1)",u="-"+this._browser+"-transition-property",f="-"+this._browser+"-transition-duration",e=t+"ms";this._wrapper.css(i,r).css(u,"transform").css(f,e)},_renderDatabind:function(){var n=ej.buildTag("script#"+this._id+"_Template",{},{},{type:"text/x-jsrender"}),t=this._wrapper.find("div"),i;t.remove();i=ej.buildTag("div").append(t);n[0].text=i[0].innerHTML;ej.getCurrentPage().append(n);this.model.dataSource&&this.renderDatasource(this.model.dataSource)},_renderDefault:function(){this.model.items.length!=0&&(this._imgTag=this.model.items[0].imageUrl,this._textTag=this.model.items[0].text);(this._imgTag!=undefined||this._textTag!=undefined)&&this._tagCreate();this._scrollItem();this._transform(this._moveEle,350);this._renderPager()},_scrollItem:function(){this.element.css({width:""+this._mWidth+"px",height:""+this._mHeight+"px"});this._wrapper.addClass("e-m-sv-container e-m-"+this.model.orientation+"").css({height:""+this._mHeight+"",width:""+this._mWidth+""});this._wrapper.children().addClass("e-m-item")},_tagCreate:function(){var n=this._wrapper.find("div"),t,r;for(i=0;i<this._divCount;i++)this._textTag!=undefined&&(r=ej.buildTag("p").html(this.model.items[i].text).addClass("e-m-rotator-p"),$(n[i]).append(r)),this._imgTag!=undefined&&(t=ej.buildTag("div").css({"background-image":"url("+this.model.items[i].imageUrl+")"}).addClass("e-m-rotator-image"),$(n[i]).append(t))},_renderPager:function(){for(this._span=ej.buildTag("div.e-m-abs  e-m-pager e-m-"+this.model.renderMode+""),this._wrapper.after(this._span),i=0;i<this._divCount;i++)this._span.append(ej.buildTag("span.e-m-sv-pager"));this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active");this._pagerPos();this._setShowPager()},_pagerPos:function(){this.model.orientation=="horizontal"?this.model.pagerPosition=this.model.pagerPosition=="top"?this._span.addClass("e-m-sv-pagertop"):this._span.addClass("e-m-sv-pagerbottom"):this.model.pagerPosition=="right"?this._span.addClass("e-m-sv-pagerright"):this._span.addClass("e-m-sv-pagerleft");this.model.orientation=="horizontal"?this._span.addClass("e-m-rotator-spanleft"):this._span.css("bottom",+(this._mHeight-$(".e-m-pager").height())/2+"px")},_createDelegate:function(){this._onMouseDownDelg=$.proxy(this._onMouseDownHandler,this);this._onMouseMoveDelg=$.proxy(this._onMouseMoveHandler,this);this._onMouseUpDelg=$.proxy(this._onMouseUpHandler,this);this._onTouchEndDelegate=$.proxy(this._onTouchEndHandler,this)},_wireEvents:function(n){ej.listenTouchEvent(this._wrapper,ej.startEvent(),this._onMouseDownDelg,n);ej.listenEvents([window],["onorientationchange"in window?"orientationchange":"resize"],[$.proxy(this._ResizeHandler,this)],n);this._pagerEvents(n)},_ResizeHandler:function(n){if(this.model.targetHeight=="auto"||this.model.targetWidth=="auto"){var t=this;window.setTimeout(function(){n.preventDefault();t._orientationAndResize()},ej.isAndroid()?200:0)}},_pagerEvents:function(n){this._spanEle=this.element.find("div.e-m-abs").children();ej.listenEvents([this._spanEle,this._spanEle],[ej.startEvent(),ej.endEvent()],[this._onTouchStartDelegate,this._onTouchEndDelegate],n)},_onTouchEndHandler:function(n){this._index=$(n.currentTarget).index();this.currentItemIndex(this._index);this._moveEle=-(this._index*(this.model.orientation=="horizontal"?this._mWidth:this._mHeight));this._transform(this._moveEle,350);this._span.find(":nth-child("+this._divEle+")").removeClass("e-m-active");this._divEle=this._index+1;this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active");var t={targetElement:this._wrapper,element:this._divEle};this.model.pagerSelect&&this._trigger("pagerSelect",t)},_orientationAndResize:function(){this._autoHeightWidthValues();var n=this.model.orientation=="horizontal"?this._mWidth:this._mHeight;this._moveEle=-(this._divEle*n-n);this._transform(this._moveEle,0);this._scrollItem();this._spanTrans=(this._divEle-1)*this._andSpanVal;this._pagerPos()},_onMouseDownHandler:function(n){ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n);this._startX=n.clientX;this._startY=n.clientY;this._timeStart=n.timeStamp||Date.now();ej.listenEvents([this._wrapper,this._wrapper],[ej.moveEvent(),ej.endEvent()],[this._onMouseMoveDelg,this._onMouseUpDelg],!1)},_onMouseMoveHandler:function(n){if(ej.isTouchDevice()&&(n=n.touches?n.touches[0]:n),this._relativeX=n.clientX-this._startX,this._relativeY=n.clientY-this._startY,this.model.orientation=="horizontal"?(this._start=this._startX,this._relative=this._relativeX,this._distValue=this._mWidth,this._swipeLeftUp="swipeLeft",this._swipeRightDown="swipeRight"):(this._start=this._startY,this._relative=this._relativeY,this._distValue=this._mHeight,this._swipeLeftUp="swipeUp",this._swipeRightDown="swipeDown"),this._start!=0&&Math.abs(this._relative)){this._relative<0&&this._divEle<this._divCount||this._relative>0&&this._divEle>1||Math.abs(this._relative)<this._distValue/2;var t=this._moveEle+this._relative;this._transform(t,0)}ej.listenTouchEvent(this._wrapper,"mouseleave",this._onMouseUpDelg,!1)},_onMouseUpHandler:function(n){if(this._timeStart!=0){this._data={targetElement:this._wrapper,element:this._divEle};var r=(n.timeStamp||Date.now())-this._timeStart,i={dist:0,time:0},u=this._relative>0?!0:!1,t=this._relative;r<300&&(i=this._relative?this._momentum(this._relative,r,u?this._relative:-this._relative,this._distValue+this._relative,this._distValue):i,t=this._relative+i.dist);t<0&&Math.abs(t)>this._distValue/2&&this._divEle<this._divCount?(this._moveEle+=-this._distValue,this._movePager(!0),(this.model.swipeLeft||this.model.swipeUp)&&this._trigger(this._swipeLeftUp,this._data)):t>0&&Math.abs(t)>this._distValue/2&&this._divEle>1&&(this._moveEle-=-this._distValue,this._movePager(!1),(this.model.swipeRight||this.model.swipeDown)&&this._trigger(this._swipeRightDown,this._data));this._transform(this._moveEle,350);this._timeStart=0;this._startX=0;this._relativeX=0;this._relative=0;this._start=0;ej.listenEvents([this._wrapper,this._wrapper],[ej.moveEvent(),ej.endEvent()],[this._onMouseMoveDelg,this._onMouseUpDelg],!0)}this.currentItemIndex(this._divEle-1)},_momentum:function(n,t,i,r,u){var o=.0006,e=Math.abs(n)/t,f=e*e/(2*o),h=0,s=0;return n>0&&f>i?(s=u/(6/(f/e*o)),i=i+s,e=e*i/f,f=i):n<0&&f>r&&(s=u/(6/(f/e*o)),r=r+s,e=e*r/f,f=r),f=f*(n<0?-1:1),h=e/o,{dist:f,time:Math.round(h)}},_movePager:function(n){this._span.find(":nth-child("+this._divEle+")").removeClass("e-m-active");this._divEle=n?this._divEle+1:this._divEle-1;this._span.find(":nth-child("+this._divEle+")").addClass("e-m-active");this._spanTrans=(this._divEle-1)*this._andSpanVal;this._data={targetElement:this._wrapper,element:this._divEle};this.model.change&&this._trigger("change",this._data)},_setModel:function(n){var r=!1,t,i;for(t in n)(t!="swipeLeft"||t!="swipeRight")&&(i="_set"+t.charAt(0).toUpperCase()+t.slice(1)),this[i]?this[i]():r=!0;r&&this._refresh()},_setRenderMode:function(){this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode+"");this._span.remove();this._renderPager();this._pagerEvents(!1)},_setShowPager:function(){this.model.showPager?this._span.css("display","block"):this._span.css("display","none")},_setOrientation:function(){this.model.orientation=="horizontal"?this._span.addClass("e-m-sv-pagerbottom"):this._span.addClass("e-m-sv-pagerright");this.currentItemIndex(this._divEle-1);this._refresh()},_setCurrentItemIndex:function(){var n=this._span.find(":nth-child("+this._divEle+")");n.removeClass("e-m-active");this._startValues();this._transform(this._moveEle,1e3);this._spanTrans=(this._divEle-1)*this._andSpanVal;n.addClass("e-m-active")},_refresh:function(){this._destroy();this._init()},_destroy:function(){this._wireEvents(!0);this._wrapper.children().find(".e-m-rotator-p,.e-m-rotator-image").remove().removeClass("e-m-item");this.element.removeAttr("class style").children().removeAttr("class style").remove();this._span.remove();ej.getCurrentPage().append(this._orgEle)},renderDatasource:function(n){var t=$.templates("#"+this._id+"_Template"),i=t.render(n);this._wrapper.html(i);this._divCount=this._wrapper.children().length;this._scrollItem();this._transform(this._moveEle,350);this._renderPager();this._wireEvents()}})}(jQuery,Syncfusion);Scrollbar.prototype={_createDelegates:function(){this._touchStartDelegate=$.proxy(this._touchStart,this);this._touchMoveDelegate=$.proxy(this._touchMove,this);this._touchEndDelegate=$.proxy(this._touchEnd,this)},_wireEvents:function(n){target=this.scroller.model.bindToWrapper?this.scroller._wrapper:window;$.support.hasTouch&&!this.model.disableTouch&&ej.listenEvents([this.scroller._wrapper,target,target],[ej.startEvent(),ej.cancelEvent(),ej.endEvent()],[this._scrollStartDelegate,this.scrollEndDelegate,this.scrollEndDelegate],n);this.model.enableInteraction&&(this.model.disableTouch||ej.listenEvents([this._sb,window,window],[ej.startEvent(),ej.cancelEvent(),ej.endEvent()],[this._touchStartDelegate,this._touchEndDelegate,this._touchEndDelegate],n),this.model.disablePointer||ej.listenEvents([this._sb,window],[ej.startEvent(),ej.endEvent()],[this._touchStartDelegate,this._touchEndDelegate],n),this.model.disableMouse||ej.listenEvents([this._sb,window],[ej.startEvent(),ej.endEvent()],[this._touchStartDelegate,this._touchEndDelegate],n))},_touchStart:function(n){var t=n.touches?n.touches[0]:n;ej.blockDefaultActions(n);this.transitionTime();this._startedScroll=!0;this._moved=!1;this._lastPointX=t.pageX;this._lastPointY=t.pageY;this._startTime=ej.getTime();this.model.disableTouch&&this.model.disableMouse||ej.listenTouchEvent(window,ej.moveEvent(),this._touchMoveDelegate);this.model.disablePointer||ej.listenTouchEvent(window,ej.moveEvent(),this._touchMoveDelegate)},_touchMove:function(n){ej.blockDefaultActions(n);var t=n.touches?n.touches[0]:n,i,r,u,f,e=ej.getTime();this._moved||this.scroller._triggerEvent("scrollStart",this.scroller._dataValue());this._moved=!0;i=t.pageX-this._lastPointX;this._lastPointX=t.pageX;r=t.pageY-this._lastPointY;this._lastPointY=t.pageY;u=this._x+i;f=this._y+r;this._pos(u,f)},_touchEnd:function(n){if(this._startedScroll){if(this._startedScroll=!1,ej.blockDefaultActions(n),ej.listenEvents([window,window,window],[ej.moveEvent(),ej.moveEvent(),ej.moveEvent()],[this._touchMoveDelegate,this._touchMoveDelegate,this._touchMoveDelegate],!0),this.scroller.model.snap){var t=this.scroller._nearestSnap(this.scroller._x,this.scroller._y),i=this.model.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller._x-t.x),1e3),Math.min(Math.abs(this.scroller._y-t.y),1e3)),300);(this.scroller._x!=t.x||this.scroller._y!=t.y)&&(this.scroller._directionX=0,this.scroller._directionY=0,this.scroller._currentPage=t,this.scroller.scrollTo(t.x,t.y,i,this.scroller.model.bounceEasing))}this._moved&&this.scroller._triggerEvent("scrollStop",this.scroller._dataValue())}},_pos:function(n,t){n<0?n=0:n>this._maxPosX&&(n=this._maxPosX);t<0?t=0:t>this._maxPosY&&(t=this._maxPosY);n=this.model.listenX?Math.round(n/this._sizeRatioX):this.scroller._x;t=this.model.listenY?Math.round(t/this._sizeRatioY):this.scroller._y;this.scroller.scrollTo(n,t)},enableFade:function(n,t){if((!t||this._visible)&&this.model.enableFade){clearTimeout(this._fadeTimeout);this._fadeTimeout=null;var r=n?250:500,i=this,u=n?0:300;n=n?"1":"0";this._sbStyle[ej.transitionDuration]=r+"ms";this._fadeTimeout=setTimeout(function(n){i._sbStyle.opacity=n;i._visible=+n}.bind(this,n),u)}},destroy:function(){this.model.enableInteraction&&this._wireEvents(!0)},transitionTime:function(n){n=n||0;this._sbStyle[ej.transitionDuration]=n+"ms";!n&&ej.isLowerAndroid()&&(this._sbStyle[ej.transitionDuration]="0.001s")},transitionTimingFunction:function(n){this._sbStyle[ej.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this._sbStyle.display=this.model.listenX&&!this.model.listenY?this.scroller._hasHScroll?"block":"none":this.model.listenY&&!this.model.listenX?this.scroller._hasVScroll?"block":"none":this.scroller._hasHScroll||this.scroller._hasVScroll?"block":"none";this.model.listenX&&(this._wrpWd=this._wrapper.clientWidth,this.model.enableResize?(this._sbWidth=Math.max(Math.round(this._wrpWd*this._wrpWd/(this.scroller._scrollerWidth||this._wrpWd||1)),8),this._sbStyle.width=this._sbWidth+"px"):this._sbWidth=this._sb.clientWidth,this._maxPosX=this._wrpWd-this._sbWidth,this.model.enableShrink=="clip"?(this._minBoundaryX=-this._sbWidth+8,this._maxBoundaryX=this._wrpWd-8):(this._minBoundaryX=0,this._maxBoundaryX=this._maxPosX),this._sizeRatioX=this.model.speedRatioX||this.scroller._maxScrollX&&this._maxPosX/this.scroller._maxScrollX);this.model.listenY&&(this._wrpHt=this._wrapper.clientHeight,this.model.enableResize?(this._sbHeight=Math.max(Math.round(this._wrpHt*this._wrpHt/(this.scroller._scrollerHeight||this._wrpHt||1)),8),this._sbStyle.height=this._sbHeight+"px"):this._sbHeight=this._sb.clientHeight,this._maxPosY=this._wrpHt-this._sbHeight,this.model.enableShrink=="clip"?(this._minBoundaryY=-this._sbHeight+8,this._maxBoundaryY=this._wrpHt-8):(this._minBoundaryY=0,this._maxBoundaryY=this._maxPosY),this._sizeRatioY=this.model.speedRatioY||this.scroller._maxScrollY&&this._maxPosY/this.scroller._maxScrollY);this.setPosition()},setPosition:function(){var n=this.model.listenX&&Math.round(this._sizeRatioX*this.scroller._x)||0,i=this,t=this.model.listenY&&Math.round(this._sizeRatioY*this.scroller._y)||0;this.model.ignoreBoundaries||(n<this._minBoundaryX?(this.model.enableShrink=="scale"&&(this._width=Math.max(this._sbWidth+n,8),this._sbStyle.width=this._width+"px"),n=this._minBoundaryX):n>this._maxBoundaryX?this.model.enableShrink=="scale"?(this._width=Math.max(this._sbWidth-(n-this._maxPosX),8),this._sbStyle.width=this._width+"px",n=this._maxPosX+this._sbWidth-this.width):n=this._maxBoundaryX:this.model.enableShrink=="scale"&&this._width!=this._sbWidth&&(this._width=this._sbWidth,this._sbStyle.width=this._width+"px"),t<this._minBoundaryY?(this.model.enableShrink=="scale"&&(this._height=Math.max(this._sbHeight+t*3,8),this._sbStyle.height=this._height+"px"),t=this._minBoundaryY):t>this._maxBoundaryY?this.model.enableShrink=="scale"?(this._height=Math.max(this._sbHeight-(t-this._maxPosY)*3,8),this._sbStyle.height=this._height+"px",t=this._maxPosY+this._sbHeight-this._height):t=this._maxBoundaryY:this.model.enableShrink=="scale"&&this._height!=this._sbHeight&&(this._height=this._sbHeight,this._sbStyle.height=this._height+"px"));$(this._wrapper).hasClass("e-m-ver")?n=0:t=0;this._x=n;this._y=t;this.scroller.model.enableTransform?this._sbStyle[ej.transform]="translate("+n+"px,"+t+"px)"+this.scroller.model.translateZ:(this._sbStyle.left=n+"px",this._sbStyle.top=t+"px")}},function(n,t,i){nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,1)}}();cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();t.widget("ejmScrollPanel","ej.mobile.ScrollPanel",{_setFirst:!0,_rootCSS:"e-m-scroll",angular:{terminal:!1},defaults:{renderMode:"auto",enableResize:!0,targetHeight:null,targetWidth:null,scrollHeight:"auto",scrollWidth:"auto",enableFade:!0,enableShrink:t.isWindows()?!1:!0,allowPullToRefresh:!1,cssClass:null,pullToRefreshSettings:{thresholdDistance:75,textOnPull:"Pull to Refresh...",textOnRelease:"Release to Refresh...",textOnRefresh:"Refreshing..."},isRelative:!1,wheelSpeed:16,enableInteraction:!0,enabled:!0,enableHrScroll:t.isWindows()&&!t.isMobile()?!0:!1,enableVrScroll:!0,eventPassthrough:null,translateZ:t.browserInfo().name=="msie"?"":n.support.has3d?" translateZ(0)":"",zoomMin:1,zoomMax:6,startZoom:1,startX:0,startY:0,enableDisplacement:!1,displacementValue:94,displacementTime:800,deceleration:null,disableTouch:!1,directionLockThreshold:5,scrollEndThresholdDistance:5,momentum:!0,enableBounce:t.isAndroid()?!1:!0,bounceTime:450,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},enableTransition:!0,enableTransform:!0,showScrollbars:!0,enableMouseWheel:!0,enableKeys:!0,enableZoom:!1,enableNativeScrolling:t.isAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1,invertWheel:!1,scrollStart:null,scroll:null,scrollStop:null,scrollEnd:null,zoomStart:null,zoomEnd:null,pull:null,target:null},dataTypes:{},_init:function(){if(t.setRenderMode(this),this._createDelegates(),this.model.enableDisplacement&&t.isWindows()&&(this.model.deceleration=6e-5),this._eventType={touchstart:1,touchmove:1,touchend:1,ejtouchmove:3,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3,pointerdown:3,pointermove:3,pointerup:3},this._scrollEvents={scrollStop:[this.model.scrollStop],scroll:[this.model.scroll],scrollStart:[this.model.scrollStart],zoomStart:[this.model.zoomStart],zoomEnd:[this.model.zoomEnd]},this._scale=Math.min(Math.max(this.model.startZoom,this.model.zoomMin),this.model.zoomMax),this._wrapper=this.model.target?typeof this.model.target=="string"?n("#"+this.model.target)[0]:this.model.target:this.element[0],this._$wrapper=n(this._wrapper),this._$wrapper.wrapInner("<div>"),this._wrapper&&(this._scroller=this._wrapper.children[0]),this._scroller){if(this._aniTime=null,n(this._scroller).addClass("e-m-scrollcontent e-m-user-select").css({height:this.model.scrollHeight,width:this.model.scrollWidth}),this.model.target&&this._$wrapper.append(this.element),this._$wrapper.addClass("e-m-scrollpanel "+(this.model.isRelative?"e-m-rel":"e-m-abs")+(this.model.cssClass?" "+this.model.cssClass:"")+" e-m-"+this.model.renderMode),this.element.addClass("e-m-scroll"),this.model.enableNativeScrolling)this.refresh(),this._$wrapper.addClass("e-m-scroll-native e-m-scroll-wrapper"),(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&n(this._scroller).addClass("e-m-scroll-content"),this._scroller[t.transform]="translate(0px,0px)",(this._hasVScroll||this._maxScrollY!=0)&&(this._hasHScroll||this._maxScrollX!=0)||this.model.renderMode!="ios7"||this._$wrapper.addClass("e-m-scroll-box"),this.model.showScrollbars||this._$wrapper.addClass("e-m-scroll-hide"),this.model.enableZoom||this._$wrapper.addClass("e-m-zoom");else{var i=this;this._scrollerStyle=this._scroller.style;this.model.enableTransition=n.support.hasTransition&&this.model.enableTransition;this.model.enableTransform=n.support.hasTransform&&this.model.enableTransform;this.model.eventPassthrough=this.model.eventPassthrough===!0?"vertical":this.model.eventPassthrough;this.model.preventDefault=!this.model.eventPassthrough&&this.model.preventDefault;this.model.enableVrScroll=this.model.eventPassthrough=="vertical"?!1:this.model.enableVrScroll;this.model.enableHrScroll=this.model.eventPassthrough=="horizontal"?!1:this.model.enableHrScroll;this.model.directionLockThreshold=this.model.eventPassthrough?0:this.model.directionLockThreshold;this.model.invertWheel=this.model.invertWheel?-1:1;this._x=this._y=this._directionX=this._directionY=this._startX=this._startY=0;this._createRefresher();this.model.enableZoom&&(this._scrollerStyle[t.transformOrigin]="0 0");this.model.showScrollbars&&this._initScrollbars();this.model.enableMouseWheel&&this._initWheel();this.model.enableKeys&&this._initKeys();this.refresh();this.scrollTo(this.model.startX,this.model.startY)}this._wireEvents()}},_createRefresher:function(){if(this.model.allowPullToRefresh){var i=t.buildTag("div.e-m-scroll-refresher",'<span class="e-m-scroll-refreshcontent"><span class="e-m-left"><span class="e-m-icon e-m-pull"><\/span><\/span><span class="e-m-right e-m-text">'+this.model.pullToRefreshSettings.textOnPull+"<\/span><\/span>");n(this._scroller).prepend(i);this._refresherElement=n(this._scroller).find(".e-m-scroll-refresher");this._refresherIcon=this._refresherElement.find(".e-m-icon");this._refresherText=this._refresherElement.find(".e-m-text")}},_dataValue:function(){return data={x:this.model.enableNativeScrolling?this._nx:this._x,y:this.model.enableNativeScrolling?this._ny:this._y,object:this}},_transitionEnd:function(t){t.target==this._scroller&&this._isInTransition&&(this._transitionTime(),this.resetPosition(this.model.bounceTime)||(this._moved=this._isInTransition=!1,this._triggerEvent("scrollStop",this._dataValue()),this._y-this.model.scrollEndThresholdDistance<=this._maxScrollY&&this._trigger("scrollEnd",n.extend(this._dataValue(),{position:"bottom"})),this._y>=-this.model.scrollEndThresholdDistance&&this._trigger("scrollEnd",n.extend(this._dataValue(),{position:"top"}))))},_touchStart:function(i){if((!(n(i.target).parents(".e-m-scrollpanel").length>1)||n(i.target).closest(".e-m-scrollpanel")[0]==this._wrapper)&&!this._lockRefresh){var r=i.touches?i.touches[0]:i,u;if(this.model.enableNativeScrolling){this._moved=!1;(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&(startY=r.pageY,startTopScroll=this._wrapper.scrollTop,startTopScroll<=0&&(this._wrapper.scrollTop=1),startTopScroll+this._wrapper.offsetHeight>=this._wrapper.scrollHeight&&(this._wrapper.scrollTop=this._wrapper.scrollHeight-this._wrapper.offsetHeight-1));return}(this._eventType[i.type]==1||i.button===0)&&this.model.enabled&&(!this._startedScroll||this._eventType[i.type]===this._startedScroll)&&(t.listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler,this._touchEndHandler],!1,this,this.model.disableMouse),!this.model.preventDefault||t.isDevice()||t._preventDefaultException(i.target,this.model.preventDefaultException)||i.preventDefault(),this.model.preventDefault&&this._moved&&t.blockDefaultActions(i),this._startedScroll=this._eventType[i.type],this._distX=this._distY=this._directionX=this._directionY=this._lockedDir=0,this._transitionTime(),this._startTime=this._getTime(),this.model.enableTransition&&this._isInTransition?(this._isInTransition=!1,u=this.getComputedPosition(),this._translate(Math.round(u.x),Math.round(u.y)),this._triggerEvent("scrollStop",this._dataValue())):!this.model.enableTransition&&this._animating&&(cancelFrame(this._aniTime),this._steps=[],this._animating=!1,this._translate(this._wrapper.scrollLeft,this._wrapper.scrollTop),this._triggerEvent("scrollStop",this._dataValue())),this._moved=!1,this._startX=this._x,this._startY=this._y,this._absStartX=this._x,this._absStartY=this._y,this._pointX=r.pageX,this._pointY=r.pageY,this.model.enableZoom&&i.touches&&i.touches.length>1&&this._zoomStart(i),(this._oldScrollX!=this._scroller.scrollWidth||this._oldScrollY!=this._scroller.scrollHeight)&&this._calculateXY()._refreshScrollbar())}},_scrollStart:function(){this._moved=!1;this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scrollStart",this._dataValue())},_touchMove:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){if(this.model.preventDefault&&n.preventDefault(),this.model.enableZoom&&n.touches&&n.touches[1]){this._zoom(n);return}var f=n.touches?n.touches[0]:n,t=f.pageX-this._pointX,i=f.pageY-this._pointY,s=this._getTime(),u,r,e,o;if(this._pointX=f.pageX,this._pointY=f.pageY,this._distX+=t,this._distY+=i,e=Math.abs(this._distX),o=Math.abs(this._distY),!(s-this._endTime>300)||!(e<10)||!(o<10)){if(this._lockedDir||(this._lockedDir=e>o+this.model.directionLockThreshold?"horizontal":o>=e+this.model.directionLockThreshold?"vertical":"none"),this._lockedDir=="horizontal"){if(this.model.eventPassthrough=="vertical")n.preventDefault();else if(this.model.eventPassthrough=="horizontal"){this._startedScroll=!1;return}i=0}else if(this._lockedDir=="vertical"){if(this.model.eventPassthrough=="horizontal")n.preventDefault();else if(this.model.eventPassthrough=="vertical"){this._startedScroll=!1;return}t=0}t=this.model.enableHrScroll||this._hasHScroll?t:0;i=this.model.enableVrScroll||this._hasVScroll?i:0;u=this._x+t;r=this._y+i;(u>0||u<this._maxScrollX)&&(u=this.model.enableBounce?this._x+t/3:u>0?0:this._maxScrollX);(r>0||r<this._maxScrollY)&&(r=this.model.enableBounce?this._y+i/3:r>0?0:this._maxScrollY);this._directionX=t>0?-1:t<0?1:0;this._directionY=i>0?-1:i<0?1:0;this.model.allowPullToRefresh&&!this._lockRefresh&&(this._refresherIcon[r>=this.model.pullToRefreshSettings.thresholdDistance?"addClass":"removeClass"]("e-m-rotate"),this._refresherText.text(r>=this.model.pullToRefreshSettings.thresholdDistance?this.model.pullToRefreshSettings.textOnRelease:this.model.pullToRefreshSettings.textOnPull));this._translate(u,r);s-this._startTime>300&&(this._startTime=s,this._startX=this._x,this._startY=this._y);this._moved?this._triggerEvent("scroll",this._dataValue()):this._triggerEvent("scrollStart",this._dataValue());this._moved=this._lockedDir!="none"?!0:!1}}},_scroll:function(){this._moved=!0;this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scroll",this._dataValue());proxy=this;clearTimeout(this._wheelEndTimeout);this._wheelEndTimeout=setTimeout(function(){proxy._trigger("scrollStop",proxy._dataValue());Math.abs(proxy._maxScrollY)-proxy.model.scrollEndThresholdDistance<=proxy._ny&&proxy._trigger("scrollEnd",n.extend(proxy._dataValue(),{position:"bottom"}));proxy._ny<=proxy.model.scrollEndThresholdDistance&&proxy._trigger("scrollEnd",n.extend(proxy._dataValue(),{position:"top"}))},200)},_touchEnd:function(n){if(t.listenEvents([window,window,window],[t.moveEvent(),t.cancelEvent(),t.endEvent()],[this._touchMoveHandler,this._touchEndHandler,this._touchEndHandler],!0,this,this.model.disableMouse),this.model.enabled&&this._eventType[n.type]===this._startedScroll){if(!this.model.preventDefault||t.isDevice()||t._preventDefaultException(n.target,this.model.preventDefaultException)||n.preventDefault(),this.model.enableNativeScrolling&&this._moved){t.blockDefaultActions(n);this._moved=!1;return}if(this._scaled){this._zoomEnd(n);return}var h=n.changedTouches?n.changedTouches[0]:n,f,e,o=this._getTime()-this._startTime,i=Math.round(this._x),r=Math.round(this._y),c=Math.abs(i-this._startX),l=Math.abs(r-this._startY),u=0,s="";if(this._isInTransition=this._startedScroll=0,this._endTime=this._getTime(),this.model.allowPullToRefresh&&(this._lockRefresh=this._refresherIcon.hasClass("e-m-rotate"),this._lockRefresh&&(this._refresherText.text(this.model.pullToRefreshSettings.textOnRefresh),this._refresherIcon.removeClass("e-m-pull").addClass("e-m-refresh"))),this.resetPosition(this.model.bounceTime)){this._lockRefresh&&this._trigger("pull",{Obj:this.element.data("ejmScrollPanel")});return}if(this.model.momentum&&o<500&&this._moved&&(f=this._hasHScroll?t._nativeMomentum(this._x,this._startX,o,this._maxScrollX,this.model.enableBounce?this._wrpWd:0,this.model.deceleration,t.isWindows()?10:1):{dest:i,duration:0},e=this._hasVScroll?t._nativeMomentum(this._y,this._startY,o,this._maxScrollY,this.model.enableBounce?this._wrpHt:0,this.model.deceleration,t.isWindows()?10:1):{dest:r,duration:0},i=f.dest,r=e.dest,u=Math.max(f.duration,e.duration),(i!=0&&i!=this._maxScrollX||r!=0&&r!=this._maxScrollY)&&(this._isInTransition=1)),this.model.displacementValue&&this.model.enableDisplacement&&(r=this.model.displacementValue*Math.round(r/this.model.displacementValue),i=this.model.displacementValue*Math.round(i/this.model.displacementValue),u<this.model.displacementTime&&(u=this.model.diplacementTime)),r<this._maxScrollY&&Math.abs(this._y)&&(r=this._maxScrollY),i<this._maxScrollX&&(i=this._maxScrollX),this._moved&&!this._isInTransition&&this._trigger("scrollStop",this._dataValue()),i!=this._x||r!=this._y){(i>0||i<this._maxScrollX||r>0||r<this._maxScrollY)&&(s=t.ease.quadratic);this.scrollTo(i,r,u,s);return}this._moved=!1}},_scrollStop:function(){this._nx=this._$wrapper.scrollLeft();this._ny=this._$wrapper.scrollTop();this._trigger("scrollStop",this._dataValue())},_zoomStart:function(n){var t=Math.abs(n.touches[0].pageX-n.touches[1].pageX),i=Math.abs(n.touches[0].pageY-n.touches[1].pageY);this._touchesDistanceStart=Math.sqrt(t*t+i*i);this._startScale=this._scale;this._originX=Math.abs(n.touches[0].pageX+n.touches[1].pageX)/2+this._wrapperOffset.left-this._x;this._originY=Math.abs(n.touches[0].pageY+n.touches[1].pageY)/2+this._wrapperOffset.top-this._y;this.model.allowPullToRefresh&&this._refresherElement.css("display","none");this._triggerEvent("zoomStart",this._dataValue())},_zoom:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){this.model.preventDefault&&n.preventDefault();var r=Math.abs(n.touches[0].pageX-n.touches[1].pageX),u=Math.abs(n.touches[0].pageY-n.touches[1].pageY),o=Math.sqrt(r*r+u*u),t=1/this._touchesDistanceStart*o*this._startScale,i,f,e;this._scaled=!0;t<this.model.zoomMin?t=.5*this.model.zoomMin*Math.pow(2,t/this.model.zoomMin):t>this.model.zoomMax&&(t=2*this.model.zoomMax*Math.pow(.5,this.model.zoomMax/t));i=t/this._startScale;f=this._originX-this._originX*i+this._startX;e=this._originY-this._originY*i+this._startY;this._scale=t;this.scrollTo(f,e,0)}},_zoomEnd:function(n){if(this.model.enabled&&this._eventType[n.type]===this._startedScroll){this.model.preventDefault&&n.preventDefault();var t,i,r;this._isInTransition=this._startedScroll=0;this._scale>this.model.zoomMax?this._scale=this.model.zoomMax:this._scale<this.model.zoomMin&&(this._scale=this.model.zoomMin);this.refresh();r=this._scale/this._startScale;t=this._originX-this._originX*r+this._startX;i=this._originY-this._originY*r+this._startY;t>0?t=0:t<this._maxScrollX&&(t=this._maxScrollX);i>0?i=0:i<this._maxScrollY&&(i=this._maxScrollY);(this._x!=t||this._y!=i)&&this.scrollTo(t,i,this.model.bounceTime);this._scaled=!1;this.model.allowPullToRefresh&&this._refresherElement.css("display","");this._triggerEvent("zoomEnd",this._dataValue())}},_resize:function(){if(this._$wrapper.is(":visible")){var n=this;clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(function(){n.refresh()},t.isAndroid()?250:0)}},_scrollable:function(){return n(this._wrapper).map(function(){var t=this,r=!t.nodeName||n.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1,i;return r?(i=(t.contentWindow||t).document||t.ownerDocument||t,/webkit/i.test(navigator.userAgent)||i.compatMode=="BackCompat"?i.body:i.documentElement):t})},_both:function(t){return n.isFunction(t)||typeof t=="object"?t:{top:t,left:t}},_scrollTo:function(t,i,r){var u=this;return typeof i=="object"&&(r=i,i=0),typeof r=="function"&&(r={onAfter:r}),t=="max"&&(t=9e9),r=n.extend({},{axis:"xy",duration:0,limit:!0},r),i=i||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(i/=2),r.offset=this._both(r.offset),r.over=this._both(r.over),this._scrollable().each(function(){function l(n){s.animate(e,i,r.easing,n&&function(){n.call(this,f,r)})}var c;if(t!=null){var o=this,s=n(o),f=t,h,e={},a=s.is("html,body");switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=this._both(f);break}if(f=n(f,this),!f.length)return;case"object":(f.is||f.style)&&(h=(f=n(f)).offset())}c=n.isFunction(r.offset)&&r.offset(o,f)||r.offset;n.each(r.axis.split(""),function(n,t){var p=t=="x"?"Left":"Top",v=p.toLowerCase(),i="scroll"+p,w=o[i],b=u._scrollToMax(o,t),y;h?(e[i]=h[v]+(a?0:w-s.offset()[v]),r.margin&&(e[i]-=parseInt(f.css("margin"+p))||0,e[i]-=parseInt(f.css("border"+p+"Width"))||0),e[i]+=c[v]||0,r.over[v]&&(e[i]+=f[t=="x"?"width":"height"]()*r.over[v])):(y=f[v],e[i]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*b:y);r.limit&&/^\d+$/.test(e[i])&&(e[i]=e[i]<=0?0:Math.min(e[i],b));!n&&r.queue&&(w!=e[i]&&l(r.onAfterFirst),delete e[i])});l(r.onAfter)}}).end()},_scrollToMax:function(t,i){var r=i=="x"?"Width":"Height",u="scroll"+r;if(!n(t).is("html,body"))return t[u]-n(t)[r.toLowerCase()]();var f="client"+r,e=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(e[u],o[u])-Math.min(e[f],o[f])},_transitionTime:function(n){if((!t.getAndroidVersion()||!(t.getAndroidVersion()<=4))&&(n=n||0,this._scrollerStyle[t.transitionDuration]=n+"ms",this._scrollbars))for(var i=this._scrollbars.length;i--;)this._scrollbars[i].transitionTime(n)},_transitionTimingFunction:function(n){if(this._scrollerStyle[t.transitionTimingFunction]=n,this._scrollbars)for(var i=this._scrollbars.length;i--;)this._scrollbars[i].transitionTimingFunction(n)},_translate:function(i,r){if(this.model.enableTransform?this._scrollerStyle[t.transform]="translate("+i+"px,"+r+"px) scale("+this._scale+")":(n(this._wrapper).scrollTop(Math.abs(r)),n(this._wrapper).scrollLeft(Math.abs(i))),this._x=i,this._y=this.model.enableTransform?r:-Math.abs(r),this._scrollbars)for(var u=this._scrollbars.length;u--;)this._scrollbars[u].setPosition()},_createDelegates:function(){this._resizeHandler=n.proxy(this._resize,this);this._touchStartHandler=n.proxy(this._touchStart,this);this._touchMoveHandler=n.proxy(this._touchMove,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._transitionEndHandler=n.proxy(this._transitionEnd,this);this._scrollStartHandler=n.proxy(this._scrollStart,this);this._scrollHandler=n.proxy(this._scroll,this);this._scrollStopHandler=n.proxy(this._scrollStop,this);this._wheelDelegate=n.proxy(this._wheel,this)},_isWinrt:function(){return!this.model.enableTransform&&t.isWindows()&&!t.isMobile()},_wireEvents:function(i){var u=i?"off":"on",r="onorientationchange"in window?"orientationchange":"resize";t.listenTouchEvent(window,r,this._resizeHandler,i);this.model.disableTouch||t.listenTouchEvent(this._scroller,t.startEvent(),this._touchStartHandler,i,this,this.model.disableMouse);this.model.enableNativeScrolling&&n(this._wrapper).bind("scroll",this._scrollHandler);t.listenTouchEvent(this._scroller,t.transitionEndEvent(),this._transitionEndHandler,i)},_initScrollbars:function(){var i=this.model.enableInteraction,n=[],t,r;for(this._scrollbars=[],this.model.showScrollbars&&(this.model.enableVrScroll&&(t={el:this._createDefaultScrollbar("vertical",i,this.model.showScrollbars),enableInteraction:i,enableShrink:this.model.enableShrink?"scale":!1,enableFade:this.model.enableFade,enableResize:this.model.enableResize,listenX:!1},this._wrapper.appendChild(t.el),n.push(t),this.element.append(this._sbw)),this.model.enableHrScroll&&(t={el:this._createDefaultScrollbar("horizontal",i,this.model.showScrollbars),enableInteraction:i,enableShrink:this.model.enableShrink?"scale":!1,enableFade:this.model.enableFade,enableResize:this.model.enableResize,listenY:!1},this._wrapper.appendChild(t.el),n.push(t),this.element.append(this._sbw))),this.model.showScrollbars&&(n=n.concat()),r=n.length;r--;)this._scrollbars[r]=new Scrollbar(this,n[r]);if(this.model.enableFade){this.on("scrollStop",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade()});this.on("scrollCancel",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade()});this.on("scrollStart",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].enableFade(1)})}this.on("refresh",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].refresh()});this.on("destroy",function(n){if(n.model.showScrollbars)for(var t=n.object._scrollbars.length;t--;)n.object._scrollbars[t].destroy();delete this._scrollbars})},_refreshScrollbar:function(){if(this.model.showScrollbars&&this._scrollbars)for(var n=this._scrollbars.length;n--;)this._scrollbars[n].refresh()},_triggerEvent:function(n,t){if(this._scrollEvents[n]){var i=0,r=this._scrollEvents[n].length;if(r)for(;i<r;i++)this._triggerInternalEvent(this._scrollEvents[n][i],n,t,this)}},_triggerInternalEvent:function(i,r,u){if(i){var f=i;return typeof f=="string"&&(f=t.util.getObject(f,window)),r=n.Event(r),r.type=i,args=t.event(r,this.model,u),!(n.isFunction(f)&&f.call(this,args)===!1||r.isDefaultPrevented())}},_initWheel:function(){var n=this;this._bindWheelEvents();this.on("destroy",function(){n._bindWheelEvents(remove)})},_bindWheelEvents:function(n){t.listenEvents([this._wrapper,this._wrapper],["mousewheel","DOMMouseScroll"],[this._wheelDelegate,this._wheelDelegate],n)},_wheel:function(t){if(this.model.enabled){t.preventDefault();var u,f,e,o,r=this;if(this.wheelTimeout===i&&this._triggerEvent("scrollStart",this._dataValue()),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r._triggerEvent("scrollStop",r._dataValue())},400),"deltaX"in t&&(u=-t.deltaX,f=-t.deltaY),"wheelDeltaX"in t)u=t.wheelDeltaX/120,f=t.wheelDeltaY/120;else if("wheelDelta"in t)u=f=t.wheelDelta/120;else if("detail"in t)u=f=-t.detail/3;else if(u==i)return;u*=this.model.wheelSpeed;f*=this.model.wheelSpeed;this._hasVScroll||(u=f,f=0);e=this._x+Math.round(this._hasHScroll?u*this.model.invertWheel:0);o=this._y+Math.round(this._hasVScroll?f*this.model.invertWheel:0);e>0?e=0:e<this._maxScrollX&&(e=this._maxScrollX);o>0?o=0:o<this._maxScrollY&&(o=this._maxScrollY);clearTimeout(this._wheelEndTimeout);this._wheelEndTimeout=setTimeout(function(){r._y-r.model.scrollEndThresholdDistance<=r._maxScrollY&&r._trigger("scrollEnd",n.extend(r._dataValue(),{position:"bottom"}));r._y>=-r.model.scrollEndThresholdDistance&&r._trigger("scrollEnd",n.extend(r._dataValue(),{position:"top"}))},400);this.scrollTo(e,o,0)}},_initKeys:function(){var r={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i;if(typeof this.model.enableKeys=="object")for(i in this.model.enableKeys)typeof this.model.enableKeys[i]=="string"&&(this.mdoel.enableKeys[i]=this.model.enableKeys[i].toUpperCase().charCodeAt(0));else this.model.enableKeys={};for(i in r)this.model.enableKeys[i]=this.model.enableKeys[i]||r[i];this._keyDownDelegate=n.proxy(this._keyPress,this);t.listenTouchEvent(window,"keydown",this._keyDownDelegate)},_startAni:function(){var n=this,i=this._startX,r=this._startY,e=Date.now(),t,u,f,n=this;if(!this._animating){if(!this._steps.length){this.resetPosition(400);return}t=this._steps.shift();t.x==i&&t.y==r&&(t.time=0);this._animating=!0;this._moved=!0;f=function(){var o=Date.now(),s,h;if(o>=e+t.time){n._translate(t.x,t.y);n._animating=!1;n._moved=!1;n.model.scrollStop&&n._triggerEvent("scrollStop",n._dataValue());n._startAni();return}o=(o-e)/t.time-1;u=Math.sqrt(1-o*o);s=(t.x-i)*u+i;h=(t.y-r)*u+r;n._translate(s,h);n._animating&&(n._aniTime=nextFrame(f))};f()}},_keyPress:function(n){if(this.model.enabled){var t=this._x,i=this._y,u=this._getTime(),f=this._keyTime||0,r;this.model.enableTransition&&this._isInTransition&&(r=this.getComputedPosition(),this._translate(Math.round(r.x),Math.round(r.y)),this._isInTransition=!1);this._keyAcc=u-f<200?Math.min(this._keyAcc+.25,50):0;switch(n.keyCode){case this.model.enableKeys.pageUp:this._hasHScroll&&!this._hasVScroll?t+=this._wrpWd:i+=this._wrpHt;break;case this.model.enableKeys.pageDown:this._hasHScroll&&!this._hasVScroll?t-=this._wrpWd:i-=this._wrpHt;break;case this.model.enableKeys.end:t=this._maxScrollX;i=this._maxScrollY;break;case this.model.enableKeys.home:t=i=0;break;case this.model.enableKeys.left:t+=5+this._keyAcc>>0;break;case this.model.enableKeys.up:i+=5+this._keyAcc>>0;break;case this.model.enableKeys.right:t-=5+this._keyAcc>>0;break;case this.model.enableKeys.down:i-=5+this._keyAcc>>0;break;default:return}t>0?t=this.keyAcceleration=0:t<this._maxScrollX&&(t=this._maxScrollX,this._keyAcc=0);i>0?i=this._keyAcc=0:i<this._maxScrollY&&(i=this._maxScrollY,this._keyAcc=0);this.scrollTo(t,i,0);this._keyTime=u}},_setModel:function(n){var i=!1,r,t;for(r in n)switch(r){case"enabled":case"invertWheel":break;case"targetHeight":case"targetWidth":this.refresh();break;case"enableFade":for(t=this._scrollbars.length;t--;)this._scrollbars[t].model.enableFade=!1,this._sbw.children().css("opacity","");break;default:i=!0}i&&this._refresh()},_refresh:function(){this.scrollTo(0,0,0);this._destroy();this._init();this._wireEvents();n(this._scroller).offset({top:this._$wrapper.offset().top})},_clearElement:function(){this._sbw&&this._sbw.remove();this.element.removeAttr("class");var i=typeof this.model.target=="string"?n("#"+this.model.target)[0]:this.model.target==null?this.element[0]:this.model.target;n(i).removeAttr("style");n(this._scroller).children().unwrap();n(i).removeClass("e-m-scrollpanel e-m-scroll-native e-m-scroll-wrapper e-m-scroll-box e-m-scroll-hide e-m-zoom e-m-abs e-m-adjheader-1");this.model.enableTransform&&n(n(i).children()[0]).css(t.transform,"")},_destroy:function(){this._wireEvents(!0);this._keyDownDelegate&&t.listenTouchEvent(window,"keydown",this._keyDownDelegate,!0);this._bindWheelEvents(!0);this._clearElement()},_getTime:function(){return Date.now()},resetPosition:function(n){if(!this.model.enableNativeScrolling&&this.model.enableTransform){var i=this._x,t=this._y;return(n=n||0,!this._hasHScroll||this._x>0?i=0:this._x<this._maxScrollX&&(i=this._maxScrollX),!this._hasVScroll||this._y>0?t=0:this._y<this._maxScrollY&&(t=this._maxScrollY),this._lockRefresh&&t==0&&(t=this._refresherElement.height()),i==this._x&&t==this._y)?!1:(this.scrollTo(i,t,n,this.model.bounceEasing),!0)}},scrollToElement:function(n,t,r,u,f){if(n=n.nodeType?n:this._scroller.querySelector(n),n){var e=n.offsetLeft,o=n.offsetTop;r===!0&&(r=Math.round(n.offsetWidth/2-this._wrapper.offsetWidth/2));u===!0&&(u=Math.round(n.offsetHeight/2-this._wrapper.offsetHeight/2));e=-e;o=-o;e-=r||0;o-=u||0;e=e>0?0:e<this._maxScrollX?this._maxScrollX:e;o=o>0?0:o<this._maxScrollY?this._maxScrollY:o;t=t===i||t===null||t==="auto"?Math.max(Math.abs(this._x-e),Math.abs(this._y-o)):t;this.scrollTo(e,o,t,f)}},on:function(n,t){this._scrollEvents[n]||(this._scrollEvents[n]=[]);this._scrollEvents[n].push(t)},_createDefaultScrollbar:function(n,i,r){return this._sbw=t.buildTag("div.e-m-sbw e-m-"+this.model.renderMode),sb=t.buildTag("div.e-m-sb"),n=="horizontal"&&r?this._sbw.addClass("e-m-hr"):n=="vertical"&&r&&this._sbw.addClass("e-m-ver"),i||(this._sbw[0].style.pointerEvents="none"),this._sbw.append(sb),this._sbw[0]},_calculateXY:function(){return this._wrpWd=this._wrapper.clientWidth,this._wrpHt=this._wrapper.clientHeight,this._scrollerWidth=this._scroller.scrollWidth*this._scale,this._scrollerHeight=this._scroller.scrollHeight*this._scale,this._maxScrollX=this._wrpWd-this._scrollerWidth,this._maxScrollY=this._wrpHt-this._scrollerHeight,this._oldScrollX=this._scroller.scrollWidth,this._oldScrollY=this._scroller.scrollHeight,this._hasHScroll=this.model.enableHrScroll&&this._maxScrollX<0,this._hasVScroll=this.model.enableVrScroll&&this._maxScrollY<0,this._hasHScroll||(this._maxScrollX=0,this._scrollerWidth=this._wrpWd),this._hasVScroll||(this._maxScrollY=0,this._scrollerHeight=this._wrpHt),this},zoom:function(n,t,r,u){if(n<this.model.zoomMin?n=this.model.zoomMin:n>this.model.zoomMax&&(n=this.model.zoomMax),n!=this._scale){var f=n/this._scale;t=t===i?this._wrpWd/2:t;r=r===i?this._wrpHt/2:r;u=u===i?300:u;t=t+this._wrapperOffset.left-this._x;r=r+this._wrapperOffset.top-this._y;t=t-t*f+this._x;r=r-r*f+this._y;this._scale=n;this.refresh();t>0?t=0:t<this._maxScrollX&&(t=this._maxScrollX);r>0?r=0:r<this._maxScrollY&&(r=this._maxScrollY);this.scrollTo(t,r,u)}},disable:function(){this.model.enabled=!1},enable:function(){this.model.enabled=!0},closeRefresher:function(){this._refresherText.text(this.model.pullToRefreshSettings.textOnPull);this._refresherIcon.removeClass("e-m-refresh e-m-rotate").addClass("e-m-pull");this._lockRefresh=this._refresherIcon.hasClass("e-m-rotate");this.scrollTo(0,0)},refresh:function(){if(this._scroller){var i=this._wrapper.offsetHeight;t.adjustFixedElement(this._$wrapper);this.model.targetHeight&&this._$wrapper.height(this.model.targetHeight);this.model.targetWidth&&this._$wrapper.width(this.model.targetWidth);this._calculateXY();this._endTime=this._directionX=this._directionY=0;this._wrapperOffset=n(this._wrapper).offset();this.model.showScrollbars||this._$wrapper.addClass("e-m-hidescrollbar");this.model.enableNativeScrolling&&(this._hasHScroll&&this._hasVScroll?this._$wrapper.css("overflow","auto"):this._hasVScroll?this._$wrapper.css("overflow-y","auto"):this._hasHScroll?this._$wrapper.css("overflow-x","auto"):this.model.renderMode=="windows"&&!t.isMobile()?this._$wrapper.css("overflow","scroll"):this._$wrapper.css("overflow","auto"));this.model.enableNativeScrolling&&t.isWindows()&&(this._hasHScroll&&!this._hasVScroll?this._$wrapper.addClass("e-m-horizontal"):this._hasVScroll&&!this._hasHScroll&&this._$wrapper.addClass("e-m-vertical"));this.resetPosition();this._triggerEvent("refresh",this._dataValue())}},scrollBy:function(n,t,i,r){n=this._x+n;t=this._y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(i,r,u,f,e){var h=this,o,s,c;if(this.model.enableNativeScrolling)this._nx=i,this._ny=r,this._scrollTo({top:r,left:i},u,{queue:!0,easing:0,onAfter:function(){h._nx=n(h._wrapper).scrollLeft();h._ny=n(h._wrapper).scrollTop()}});else if((this._oldScrollX!=this._scroller.scrollWidth||this._oldScrollY!=this._scroller.scrollHeight)&&this._calculateXY()._refreshScrollbar(),e=e||t.ease.circular,this.model.enableTransition&&e.style)this._isInTransition=this.model.enableTransition&&u>0,this._transitionTimingFunction(e.style),this._transitionTime(u),this._translate(i,r);else{if(this._x==i&&this._y==r)return;for(o=i,this.stop(),o.length||(o=[{x:i,y:r,time:u,relative:f}]),s=0,c=o.length;s<c;s++)o[s].relative&&(o[s].x=this._x-o[s].x,o[s].y=this._y-o[s].y),this._steps.push({x:o[s].x,y:o[s].y,time:o[s].time||0});this._startAni()}},getComputedPosition:function(){var n=window.getComputedStyle(this._scroller,null),i,r;return this.model.enableTransform?(n=n[t.transform].split(")")[0].split(", "),i=+(n[12]||n[4]),r=+(n[13]||n[5])):(i=+n.left.replace(/[^-\d.]/g,""),r=+n.top.replace(/[^-\d.]/g,"")),{x:i,y:r}},stop:function(){cancelFrame(this._aniTime);this._steps=[];this._moved=!1;this._animating=!1},getScrollPosition:function(){return{x:this.model.enableNativeScrolling?this._nx:this._x,y:this.model.enableNativeScrolling?this._ny:this._y}}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmSlider","ej.mobile.Slider",{_setFirst:!0,_rootCSS:"e-m-slider",defaults:{theme:"auto",orientation:"horizontal",maxValue:100,minValue:0,enableRange:!1,values:[20,80],enableAnimation:!1,animationSpeed:400,readOnly:!1,incrementStep:1,value:0,enabled:!0,enablePersistence:!1,touchStart:null,touchEnd:null,change:null,slide:null,load:null,windows:{renderDefault:!1},ios7:{thumbStyle:"normal"},renderMode:"auto"},dataTypes:{theme:"enum",orientation:"enum",enableRange:"boolean",thumbStyle:"enum",enableAnimation:"boolean",enabled:"boolean",renderMode:"enum",values:"array",enablePersistence:"boolean"},observables:["value"],observableArray:["values"],value:t.util.valueFunction("value"),values:t.util.valueFunction("values"),_init:function(){App.activePage||App.createAppView();this._cloneElement=this.element.clone();this._load();t.setRenderMode(this);t.setTheme(this);this._renderControl();this._initObjects();this.model.readOnly||this._wireEvents(!1)},_renderControl:function(){var n=this.model,r,i,u;this.model.enabled||this.element.addClass("e-m-state-disabled");this.model.renderMode=="windows"&&this.model.windows.renderDefault&&(this.model.theme="default");this._sliderHandle=t.buildTag("div .e-m-slider-outer");this._selectedRegion=t.buildTag("div .e-m-slider-inner").appendTo(this._sliderHandle);this._dragHandle=this.model.renderMode=="ios7"&&this.model.ios7.thumbStyle=="small"?t.buildTag("div .e-m-slider-handleout e-m-small-handle e-m-slider-left ").appendTo(this._sliderHandle):t.buildTag("div .e-m-slider-handleout e-m-slider-left ").appendTo(this._sliderHandle);r=t.buildTag("div .e-m-slider-handlein").appendTo(this._dragHandle);n.enableRange&&(i=this.model.renderMode=="ios7"&&this.model.ios7.thumbStyle=="small"?t.buildTag("div .e-m-slider-handleout e-m-small-handle e-m-slider-right"):t.buildTag("div .e-m-slider-handleout e-m-slider-right"),u=t.buildTag("div .e-m-slider-handlein").appendTo(i),i.appendTo(this._sliderHandle));this.element.addClass("e-m-"+n.orientation+" e-m-"+n.theme).addClass("e-m-slider e-m-"+n.renderMode).append(this._sliderHandle);this.element.append(t.buildTag("input ",{},{},{type:"hidden",name:"sliderValue"}));this._dragHandle=this.element.find(".e-m-slider-handleout");this._inputValue=this.element.find("input");this._wrapperDiv=this.element;this._currentValue=this.value();this["_"+n.orientation+"RenderMode"]()},_horizontalRenderMode:function(){this._setOrientationProperties("width","left")},_verticalRenderMode:function(){this._setOrientationProperties("height","bottom")},_setOrientationProperties:function(t,i){var r=this.model;r.enableRange?(this.values()[0]<=this.values()[1]?(this.values()[0]=this.values()[0]<r.minValue&&this.values()[0]<=r.maxValue?r.minValue:this.values()[0],this.values()[1]=this.values()[1]>=r.minValue&&this.values()[1]>r.maxValue?r.maxValue:this.values()[1]):this.values()[1]=this.values()[0],this._selectedRegion.css(i,parseFloat((this.values()[0]-r.minValue)/(r.maxValue-r.minValue)*100)+"%").css(t,parseFloat((this.values()[1]-r.minValue)/(r.maxValue-r.minValue)*100)-parseFloat((this.values()[0]-r.minValue)/(r.maxValue-r.minValue)*100)+"%"),n(this._dragHandle[0]).css(i,parseFloat((this.values()[0]-r.minValue)/(r.maxValue-r.minValue)*100)+"%"),n(this._dragHandle[1]).css(i,parseFloat((this.values()[1]-r.minValue)/(r.maxValue-r.minValue)*100)+"%")):(this.value(this.value()<r.minValue?r.minValue:this.value()),this.value(this.value()>r.maxValue?r.maxValue:this.value()),this._selectedRegion.css(t,parseFloat((this.value()-r.minValue)/(r.maxValue-r.minValue)*100)+"%"),this._dragHandle.css(i,parseFloat((this.value()-r.minValue)/(r.maxValue-r.minValue)*100)+"%"))},_initObjects:function(){this._createDelegates()},_createDelegates:function(){this._mouseDownHandler=n.proxy(this._onMouseDownHandler,this);this._mouseMoveHandler=n.proxy(this._onMouseMove,this);this._mouseUpHandler=n.proxy(this._onMouseUp,this)},_onMouseDownHandler:function(i){var u,o,f,r,e;if(t.blockDefaultActions(i),t.isTouchDevice()&&(i=i.touches?i.touches[0]:i),!this.model.enabled)return!1;jQuery.fx.off=!1;this.sliderClick=i;this.model.enableRange||this._dragHandle.addClass("e-m-state-active");t.listenEvents([document,document],[t.moveEvent(),t.endEvent()],[this._mouseMoveHandler,this._mouseUpHandler],!1);o={x:i.pageX,y:i.pageY};f=this._getNormalValue(o);this._currentValue=f;r=this;e=this.model.maxValue-this.model.minValue+1;n(this._dragHandle).each(function(t){var i=Math.abs(f-r._getNewValues(t));e>=i&&r._getNewValues(0)!=r._getNewValues(1)&&(e=i,r._closestHandle=n(this),u=t)});n(this.model.enableRange?this._closestHandle:this._dragHandle).removeClass("e-m-state-hover").addClass("e-m-state-active");this._start(i,u);this.model.enableRange&&(this._setZindex(),r._getNewValues(0)==r._getNewValues(1)&&(r._closestHandle=n(this),u=this._handlingIndex),this._setRangeValueProperties(i,u))},_setZindex:function(){this._dragHandle.css("z-index",0);this._closestHandle.css("z-index",5)},_setRangeValueProperties:function(t,i){var f=[],u=[],e,o,s=this.values()[i],r;for(this._closestHandle=n(this._dragHandle[i]),this._handlingIndex=i,r=0;r<this.values().length;r++)r!=i&&u.push(this.values()[r]),f.push(this.values()[r]);for(r=0;r<u.length;r++)if(s>=u[r]){this._closestLeftValue=u[r];break}else if(s<=u[r]){this._closestRightValue=u[r];break}return o=f[0],e=f[f.length-1],o!=e?s<=o?this._closestLeftValue=this.model.minValue:s>=e&&(this._closestRightValue=this.model.maxValue):o==e&&(this._closestHandle.hasClass("e-m-slider-left")?this._closestLeftValue=this.model.minValue:this._closestHandle.hasClass("e-m-slider-right")&&(this._closestRightValue=this.model.maxValue)),t.preventDefault&&t.preventDefault(),!0},_onMouseMove:function(i){if(t.blockDefaultActions(i),t.isTouchDevice()&&(i=i.touches?i.touches[0]:i),!this.model.enabled)return!1;jQuery.fx.off=!0;this.element.css("cursor","pointer");var u={x:i.pageX,y:i.pageY},r=this._getNormalValue(u);this._currentValue=r;this.model.enableRange?this._slide(i,r,this._handlingIndex):this._slide(i,r);n(this.model.enableRange?this._closestHandle:this._dragHandle).addClass("e-m-state-active");i.preventDefault&&i.preventDefault()},_onMouseUp:function(i){if(t.blockDefaultActions(i),t.isTouchDevice()&&(i=i.changedTouches?i.changedTouches[0]:i),!this.model.enabled)return!1;jQuery.fx.off=!1;t.listenEvents([document,document],[t.moveEvent(),t.endEvent()],[this._mouseMoveHandler,this._mouseUpHandler],!0);this._mouseMoveStarted&&(this._mouseMoveStarted=!1,i.target==this.sliderClick.target&&n.data(i.target,this.model.sliderId+".preventClickEvent",!0));this.element.css("cursor","default");var u={x:i.pageX,y:i.pageY},r=this._getNormalValue(u);return this.model.enableRange?this._slide(i,r,this._handlingIndex):this._slide(i,r),this._stop(i,this._handlingIndex),this._change(i,this._handlingIndex),n(this.model.enableRange?this._closestHandle:this._dragHandle).removeClass("e-m-state-hover").removeClass("e-m-state-active"),!1},_getNewValues:function(n){return this.model.enableRange?this._trimValue(this.values()[n]):this.value()},_getCurrentValue:function(n,t){return this.model.enableRange?(this.values()[t]=this._trimValue(n),this.value(this.values()[t])):(this.value(this._trimValue(n)),this._currentValue=n),this._refreshValue(),this._trimValue(this.value())},_refreshValue:function(){var r=this.model.enableAnimation?"animate":"css",u,t,i;this.model.enableRange?(u=this.values()[0]+","+this.values()[1],this._inputValue.val(u)):this._inputValue.val(this._currentValue);correctedPercent=this._dragHandle.width()/2/this._dragHandle.parent().width()*100;this.model.enableRange?this._rangeRefreshProperties():(t=this.model.minValue!=this.model.maxValue?(this.value()-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100:0,i=t-this._dragHandle.width()/n(this._dragHandle.parent()).width()*100,i<0&&(i=t),this.model.orientation=="horizontal"?this._rangeRefreshOrientationProperties({width:t+"%"},{left:t+"%"},this.model.animationSpeed,r):this._rangeRefreshOrientationProperties({height:t+"%"},{bottom:t+"%"},this.model.animationSpeed,r))},_rangeRefreshProperties:function(){var r=this,t=this.model.enableAnimation?"animate":"css",i=this.model.animationSpeed,f=(this.values()[1]-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100,u=(this.values()[0]-this.model.minValue)/(this.model.maxValue-this.model.minValue)*100;this.model.orientation=="horizontal"?this._selectedRegion[t]({left:u+"%"},i)[t]({width:f-u+"%"},i):this._selectedRegion[t]({bottom:u+"%"},i)[t]({height:f-u+"%"},i);this._dragHandle.each(function(u){percentValue=(r.values()[u]-r.model.minValue)/(r.model.maxValue-r.model.minValue)*100;handlePercent=percentValue-n(this).width()/n(n(this).parent()).width()*100;handlePercent<0&&(handlePercent=percentValue);r.model.orientation=="horizontal"?n(this)[t]({left:percentValue+"%"},i):n(this)[t]({bottom:percentValue+"%"},i);lastPercentValue=percentValue})},_rangeRefreshOrientationProperties:function(n,t,i,r){this._selectedRegion[r](n,i);this._dragHandle[r](t,i)},_getNormalValue:function(n){var i,t,r,u;return this.model.orientation=="vertical"?(i=n.y-this._sliderHandle.offset().top,t=i/this._sliderHandle[0].offsetHeight):(i=n.x-this._sliderHandle.offset().left,t=i/this._sliderHandle[0].offsetWidth),this.model.orientation=="vertical"&&(t=1-t),r=this.model.maxValue-this.model.minValue,u=this.model.minValue+t*r,this._trimValue(u)},_trimValue:function(n){this.model.enableRange||(n<this.model.minValue?n=this.model.minValue:n>this.model.maxValue&&(n=this.model.maxValue));var t=this.model.incrementStep>0?this.model.incrementStep:1,i=(n-this.model.minValue)%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_slide:function(n,t,i){var u,r;this.model.enableRange?t!=this._getCurrentValue()&&(this.value(t),t<this._closestLeftValue?t=this._closestLeftValue:t>this._closestRightValue&&(t=this._closestRightValue),t!=this._getNewValues(i)&&(u=this._getCurrentValue(t,i),u[i]=t,r={value:this.value(),values:this.values()},this.values([this.values()[0],this.values()[1]]),this._triggerSlide(r,t,this._getNewValues(i),i))):t!=this.value()&&(this._getCurrentValue(t),r={value:this.value(),values:this.values()},this._triggerSlide(r,t,this.value()))},_triggerSlide:function(n,t,i,r){this.model.slide&&this._trigger("slide",n);this._getCurrentValue(t,r);this.prevValue=this._getNewValues(r)},_load:function(){var n=this.model.enableRange?{values:this._getNewValues()}:{value:this.value()};this.model.load&&this._trigger("load",n)},_start:function(n,t){var i={value:this.value(),values:this.values()};this.model.enableRange?(i._getCurrentValue=this._getNewValues(t),i.values=this._getNewValues()):(i._getCurrentValue=this.value(),i.value=this.value());this.model.touchStart&&this._trigger("touchStart",i)},_stop:function(n,t){var i={value:this.value(),values:this.values()};this.model.enableRange?(i._getCurrentValue=this._getNewValues(t),i.values=this._getNewValues()):(i._getCurrentValue=this.value(),i.value=this.value());this.model.touchEnd&&this._trigger("touchEnd",i)},_change:function(n,t){var i={value:this.value(),values:this.values()};this.model.enableRange?(i._getCurrentValue=this._getNewValues(t),i.values=this._getNewValues()):(i._getCurrentValue=this.value(),i.value=this.value());this.model.change&&this._trigger("change",i)},_wireEvents:function(n){t.listenEvents([this._sliderHandle,this.element],[t.startEvent(),t.startEvent()],[this._mouseDownHandler,this._mouseDownHandler],n)},_setRenderMode:function(n){this.model.enabled&&(this.model.renderMode=n,n=="auto"&&t.setRenderMode(this),this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode))},_setTheme:function(n){this.model.enabled&&(this.model.theme=n,this.element.removeClass("e-m-dark e-m-light").addClass("e-m-"+n))},_validateValue:function(){this.model.enabled&&(this.model.enableRange||this["_"+this.model.orientation+"RenderMode"]())},_validateRangeValue:function(){this["_"+this.model.orientation+"RenderMode"]();this.values()[0]==this.values()[1]&&(this.model.maxValue==this.values()[1]?this._setRangeValueProperties("",0):this._setRangeValueProperties("",1))},_disable:function(){this.model.enabled=!1;this.element.addClass("e-m-state-disabled");this._wireEvents(!0)},_enable:function(){this.model.enabled=!0;this.element.removeClass("e-m-state-disabled");this._wireEvents()},_enableAnimation:function(n){this.model.enabled&&(this.model.enableAnimation=n)},_refresh:function(){this.model.enabled&&(this._clearElements(),this._renderControl(),this._wireEvents(!1))},_setModel:function(n){for(var t in n)switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"theme":this._setTheme(n.theme);break;case"orientation":this._refresh();break;case"value":this._validateValue(n.value);break;case"values":this.model.enableRange&&this.model.enabled&&this._validateRangeValue(n.values);break;case"enabled":n.enabled?this._enable():this._disable();break;case"enableRange":this._refresh();break;case"minValue":this.model.minValue=n.minValue;break;case"maxValue":this.model.maxValue=n.maxValue;break;case"enableAnimation":this._enableAnimation(n.enableAnimation);break;case"readOnly":n.readOnly?this._wireEvents(!0):this._wireEvents(!1)}},_destroy:function(){this._cloneElement.insertBefore(this.element);this.element.remove()},_clearElements:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html("")},getValue:function(){return this.model.enableRange?this.values()[0]+","+this.values()[1]:this._trimValue(this.value())},dispose:function(){return this._destroy()}});t.mobile.Slider.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.mobile.Slider.ThumbStyle={Normal:"normal",Small:"small"}}(jQuery,Syncfusion),function(n,i,r){i.widget("ejmSplitPane","ej.mobile.SplitPane",{_setFirst:!0,_rootCSS:"e-m-splitpane",_ignoreOnPersist:["create","destroy","beforeOpen","beforeClose","close","open","swipe"],angular:{terminal:!1},defaults:{renderMode:"auto",cssClass:"",enablePersistence:!1,height:"auto",width:"auto",isRelative:!1,edgeThreshold:50,enableSwipe:!0,stopEventPropagation:i.isWindows(),leftPane:{templateId:null,showOnTablet:!0,animationType:"overlay",width:"280px"},rightPane:{templateId:null,showOnTablet:!1,animationType:"overlay",width:"280px"},contentPane:{templateId:null},swipe:null,open:null,close:null,beforeClose:null,beforeOpen:null,create:null,destroy:null},dataTypes:{renderMode:"enum",enablePersistence:"boolean",isRelative:"boolean",edgeThreshold:"number",stopEventPropagation:"boolean",leftPane:"object",rightPane:"object",contentPane:"object"},_lModel:{overlayOpacity:.3,swipeThreshold:15,defaultTransitionTime:400,fastTransitionTime:200},_class:{opened:"e-m-opened",hide:"e-m-hide",show:"e-m-show",hidden:"e-m-hidden"},_init:function(){this._isNavPaneOpened=!1;this._orgEleStyle=n(this.element).attr("style");this._orgEleClass=n(this.element).attr("class");this._browser=i.browser().toLowerCase();this._cssClass=this.model.cssClass;i.setRenderMode(this);this._initPane();this._renderControl();this._createDelegates();this._wireEvents()},_initPane:function(){return this._panel={left:this.model.leftPane.templateId?this._getTemplate(this.model.leftPane.templateId,"_leftpane"):this.element.find("[data-ej-pane='left']").length?this.element.find("[data-ej-pane='left']"):this.element.find("[e-pane='left']"),content:this.model.contentPane.templateId?this._getTemplate(this.model.contentPane.templateId,"_contentpane"):this.element.find("[data-ej-pane='content']").length?this.element.find("[data-ej-pane='content']"):this.element.find("[e-pane='content']"),right:this.model.rightPane.templateId?this._getTemplate(this.model.rightPane.templateId,"_rightpane"):this.element.find("[data-ej-pane='right']").length?this.element.find("[data-ej-pane='right']"):this.element.find("[e-pane='right']")},this._panel.left.addClass("e-m-type-"+this.model.leftPane.animationType+" e-m-sp-left e-m-pane e-m-hidden e-m-abs"),this._panel.right.addClass("e-m-type-"+this.model.rightPane.animationType+" e-m-sp-right e-m-pane e-m-hidden e-m-abs"),this._panel.content.addClass("e-m-sp-content e-m-pane e-m-abs"),this._elementOverlay=i.buildTag("div#"+this._id+"_Overlay",{},{},{"class":"e-m-overlay e-m-splitpane-overlay e-m-hide e-m-abs"}),this._elementOverlay.appendTo(this._panel.content),this},_getTemplate:function(t,r){var u=null;return n("#"+t)[0].nodeName=="SCRIPT"?(u=i.buildTag("div#"+this._id+r),u.html(n("#"+t).text()).appendTo(this.element),i.widget.init(u),i.angular.defaultAppName&&angular&&i.angular.compile(u)):(u=n("#"+t),n("#"+t).parent()!=this.element&&u.appendTo(this.element)),u},_renderControl:function(){this._direction=["left","right"];this.element.addClass("e-m-splitpane e-m-"+this.model.renderMode+" e-m-"+(i.isMobile()?"mobile ":"tablet ")+this.model.cssClass).addClass(i.isLowerResolution()?"e-m-lower":"e-m-higher").addClass(this.model.isRelative?"e-m-rel":"e-m-abs");this._setPaneSize()},_createDelegates:function(){this._swipeStartHandler=n.proxy(this._swipeStart,this);this._swipeEndHandler=n.proxy(this._swipeEnd,this);this._swipeMoveHandler=n.proxy(this._swipeMove,this);this._overlayTapStartDelegate=n.proxy(this._overlayTapStart,this);this._overlayTapEndDelegate=n.proxy(this._overlayTapEnd,this);this._resizeDelegate=n.proxy(this._resize,this)},_wireEvents:function(n){var t=!n&&this.model.enableSwipe?"bind":"unbind";this._bindSwipeEvent(n);i.listenTouchEvent(this._elementOverlay,i.startEvent(),this._overlayTapStartDelegate,n);i.isTouchDevice()&&this._isOrientationSupported()?i.listenTouchEvent(window,"orientationchange",this._resizeDelegate,n,this):i.listenTouchEvent(window,"resize",this._resizeDelegate,n,this)},_bindSwipeEvent:function(){this.model.enableSwipe&&this._on(this._panel.content,"mousedown touchstart MSPointerDown pointerdown",this._swipeStartHandler)},_unbindSwipeEvent:function(){this.model.enableSwipe&&(this._off(this._panel.content,"mousedown touchstart MSPointerDown pointerdown",this._swipeStartHandler),this._off(t.element,"mousemove touchmove MSPointerMove pointermove",this._swipeMoveHandler),this._off(t.element,"mouseup touchend MSPointerUp pointerup",this._swipeEndHandler),this._off(t.element,"mousecancel touchcancel MSPointerCancel pointercancel",this._swipeEndHandler))},_overlayTapStart:function(){i.listenTouchEvent(this._elementOverlay,i.endEvent(),this._overlayTapEndDelegate)},_overlayTapEnd:function(){this._cancelClose||this._closeOpenedPane(this._lModel.defaultTransitionTime);i.listenTouchEvent(this._elementOverlay,i.endEvent(),this._overlayTapEndDelegate,!0)},_swipeStart:function(n){if(this._isNavPaneOpened!=!0){var r=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0]:n,t=this;if(t._startX=r.clientX,t._cancelClose=null,t._startTime=new Date,t._ap=r.clientX<t.element.offset().left+t.model.edgeThreshold?"left":t._ap=r.clientX<t.element.offset().left+t.model.edgeThreshold?"left":r.clientX>t.element.width()-t.model.edgeThreshold?"right":"",t._isPaneOpen()&&(t._ap=t._isPaneOpen()),t._ap&&t._panel[t._ap].length)t._tp=t._getTransitionPane(t._ap),i.isLowerResolution()*t.model.rightPane.showOnTablet&&t._panel.right.hide(),i.isLowerResolution()*t.model.leftPane.showOnTablet&&t._panel.left.hide(),t._panel[t._ap].show(),t.model.stopEventPropagation&&i.browserInfo().name!="msie"&&i.blockDefaultActions(n);else return;this._on(t.element,"mousemove touchmove MSPointerMove pointermove",this._swipeMoveHandler);this._on(t.element,"mouseup touchend MSPointerUp pointerup",this._swipeEndHandler);this._on(t.element,"mousecancel touchcancel MSPointerCancel pointercancel",this._swipeEndHandler)}},_swipeMove:function(n){var u,t;if(this._isNavPaneOpened!=!0&&this._ap){u=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0]:n;t=this;t.model.stopEventPropagation&&i.browserInfo().name=="msie"&&i.blockDefaultActions(n);t._swipeDirection=t._startX>u.clientX?"right":t._startX==u.clientX?"":"left";var r=u.clientX-t._startX,f=t._panel[t._ap].outerWidth(),e=t._ap=="left"?1:-1;t._panel[t._swipeDirection]&&t._panel[t._swipeDirection].length&&!t._isPaneOpen()&&t._panel[t._swipeDirection].removeClass(t._class.hidden).addClass("e-m-opening");t._tp&&!t._isPaneOpen()&&t._ap?(r=f<=Math.abs(r)?e*f:r,t._transform(r,0,t._tp)._elementOverlay.removeClass(t._class.hide),t.model[t._ap+"Pane"].animationType!="overlay"?t._elementOverlay.css("opacity",0):t._elementOverlay.css("opacity",Math.abs(r/t._panel[t._ap].width())*t._lModel.overlayOpacity)):t._tp&&t._ap&&t._isPaneOpen()!=t._swipeDirection&&t._swipeDirection!=""&&(r=f<=Math.abs(r)?0:e*r+f,t._transform(e*r,0,t._tp),t._cancelClose=!0,t.model[t._ap+"Pane"].animationType!="reveal"&&t._elementOverlay.css("opacity",Math.abs(r/t._panel[t._ap].width())*t._lModel.overlayOpacity));t._movedX=r}},_swipeEnd:function(n){if(this._isNavPaneOpened!=!0&&this._ap!=null&&this._ap!=""){var s=n.originalEvent.changedTouches?n.originalEvent.changedTouches[0]:n,t=this,r=Math.abs(t._movedX),i=new Date-t._startTime,o=!1;if(Math.abs(i)<100&&(o=!0),t._panel[t._swipeDirection]&&t._panel[t._swipeDirection].length&&!t._isPaneOpen()&&t._panel[t._swipeDirection].removeClass("e-m-opening"),i=t._getMomentumTime(t._movedX,Math.abs(i),t._panel[t._ap].outerWidth()),i=i>500?500:i,t._cancelClose&&t._swipeDirection||r&&!t._isPaneOpen()&&t._tp&&t._ap){var u=t._panel[t._ap].outerWidth(),f=t._ap=="left"?u:-u,e=t._panel[t._ap].outerWidth()/100*t._lModel.swipeThreshold;e<r&&!t._cancelClose||e>u-r&&t._cancelClose?(t._transform(f,!t._isPaneOpen()&&!t._cancelClose?i:t._lModel.defaultTransitionTime,t._tp),opacity=t.model[t._ap+"Pane"].animationType!="overlay"?0:Math.abs(f/t._panel[t._ap].width())*t._lModel.overlayOpacity,t._elementOverlay.css("opacity",opacity),t._panel[t._ap].addClass(t._class.opened)):t._cancelClose?t._closeOpenedPane(i<100?100:i):(t._transform(0,t._lModel.fastTransitionTime,t._tp)._elementOverlay.addClass(t._class.hide),t._panel[t._ap].addClass(t._class.hidden))}else t._closeOpenedPane(t._lModel.defaultTransitionTime);this._trigger("swipe",{direction:t._swipeDirection,event:n});t._lastClientX=t._swipeDirection=t._ap=t._tp=t._movedX=t._startTime=null;this._on(t.element,"mousemove touchmove MSPointerMove pointermove",this._swipeMoveHandler);this._on(t.element,"mouseup touchend MSPointerUp pointerup",this._swipeEndHandler);this._on(t.element,"mousecancel touchcancel MSPointerCancel pointercancel",this._swipeEndHandler)}},_getMomentumTime:function(n,t,i){return Math.abs(t-Math.abs(i/n*t))},_getTransitionPane:function(n){return this.model[n+"Pane"].animationType=="reveal"?this._panel.content:this._panel[n]},_isPaneOpen:function(){var n="";return this.element.find("."+this._class.opened).length&&(n=this.element.children("."+this._class.opened).hasClass("e-m-sp-left")?"left":"right"),n},_isOrientationSupported:function(){return"orientation"in window&&"onorientationchange"in window},_transform:function(n,t,i,r){if(n=="none")return this;var f="-"+this._browser+"-transform",e="translateX("+n+"px) translateZ(0px)",o="-"+this._browser+"-transition-property",s="-"+this._browser+"-transition-duration",u=t+"ms";return i.css(o,"transform").css(s,u).css(f,e).css("transition-duration",u),r&&i.addClass(r),this},_closeOpenedPane:function(n){if(n=n==r?0:n,this._isPaneOpen()){var u=this._isPaneOpen(),f=this._getTransitionPane(u),t=this;this._elementOverlay.addClass(this._class.hide);this._trigger("beforeClose",this._getArgData(u));f.bind(i.transitionEndEvent(),function(){t._trigger("close",t._getArgData(u));t._panel.left.length&&t._panel.left.removeClass(t._class.hidden);t._panel.right.length&&t._panel.right.removeClass(t._class.hidden);f.unbind(i.transitionEndEvent())});this._transform(0,n,f).element.children("."+this._class.opened).removeClass(this._class.opened)}return this._isNavPaneOpened=!1,this},_resize:function(){this._closeOpenedPane(0)._setPaneSize();this.element.removeClass("e-m-lower e-m-higher").addClass(i.isLowerResolution()?"e-m-lower":"e-m-higher")},_setPaneSize:function(){var n,t;return this._panel.content.css({right:"",left:""}),this._panel.left.length&&(this._panel.left.css({width:this.model.leftPane.width,left:""}),!i.isLowerResolution()*this.model.leftPane.showOnTablet?(this._panel.left.addClass("e-m-exposed").removeClass(this._class.hidden),this._panel.content.css("left",this._panel.left.outerWidth())):(n=this.model.leftPane.width!="auto"?"-"+this.model.leftPane.width:-i.getDimension(this._panel.left,"width"),this.model.leftPane.animationType=="overlay"&&this._panel.left.css("left",n).addClass(this._class.hidden),this._panel.left.removeClass("e-m-exposed"))),this._panel.right.length&&(this._panel.right.css({width:this.model.rightPane.width,right:""}),!i.isLowerResolution()*this.model.rightPane.showOnTablet?(this._panel.right.addClass("e-m-exposed").removeClass(this._class.hidden),this._panel.content.css("right",this._panel.right.outerWidth())):(t=this.model.rightPane.width!="auto"?"-"+this.model.rightPane.width:-i.getDimension(this._panel.right,"width"),this.model.rightPane.animationType=="overlay"&&this._panel.right.css("right",t).addClass(this._class.hidden),this._panel.right.removeClass("e-m-exposed"))),this.element.css({height:this.model.height,width:this.model.width}),this},_setModel:function(n){for(var t in n){switch(t){case"renderMode":this._setRenderMode(n.renderMode);break;case"cssClass":this.element.removeClass(this._cssClass).addClass(n.cssClass);this._cssClass=n.cssClass;break;case"isRelative":this.element.removeClass("e-m-rel e-m-abs").addClass(this.model.isRelative?"e-m-rel":"e-m-abs");break;case"height":case"width":this.element.css({height:this.model.height,width:this.model.width});break;case"leftPane":case"rightPane":case"contentPane":this["_set"+t.charAt(0).toUpperCase()+t.slice(1)](n[t])}!1&&this._refresh()}},_setRenderMode:function(n){n=="auto"&&i.setRenderMode(this);this.element.removeClass("e-m-ios7 e-m-android e-m-windows e-m-flat").addClass("e-m-"+this.model.renderMode);this._setPaneSize()},_setLeftPane:function(n){for(var t in n)switch(t){case"animationType":this._panel.left.removeClass("e-m-type-overlay");case"width":case"showOnTablet":this._setPaneSize();break;case"templateId":this._setTemplate(n[t],"left")}},_setRightPane:function(n){for(var t in n)switch(t){case"animationType":this._panel.right.removeClass("e-m-type-overlay");case"width":case"showOnTablet":this._setPaneSize();break;case"templateId":this._setTemplate(n[t],"right")}},_setTemplate:function(t,i){this._closeOpenedPane();n("#"+t).removeAttr("class style");this._panel[i].length&&this._panel[i].removeAttr("class style").addClass(this._class.hidden);this._initPane()._setPaneSize()},_setContentPane:function(n){for(var t in n)switch(t){case"templateId":this._bindSwipeEvent(!0);this._setTemplate(n[t],"content");this._bindSwipeEvent()}},_contentTransition:function(t){n(t.target).hasClass("new")&&n(t.target).contents().unwrap();n(t.target).hasClass("old")&&n(t.target).remove()},_getArgData:function(n){return{panel:n,element:this._panel[n],content:this._panel.content}},_isCanOpen:function(n){return this.model[n+"Pane"].showOnTablet==!0&&i.isLowerResolution()==!1?!1:!0},_refresh:function(){this._clearElements();this._renderControl();this.model.renderTemplate&&i.angular.defaultAppName&&i.angular.compile(this._layouts);this._wireEvents()},_clearElements:function(){this.element.removeAttr("class style");this._panel.left.length&&this._panel.left.removeAttr("class style");this._panel.content.length&&this._panel.content.removeAttr("class style");this._panel.right.length&&this._panel.right.removeAttr("class style");this._elementOverlay&&this._elementOverlay.remove();this.element.attr({style:this._orgEleStyle,"class":this._orgEleClass}).removeClass(this._rootCSS)},_destroy:function(){this._wireEvents(!0);this._unbindSwipeEvent();this._clearElements()},openLeftPane:function(n){if(!this._isPaneOpen()&&this._panel.left.length&&this._isCanOpen("left")){var t=this._getTransitionPane("left"),r=this;return this._panel.left.removeClass(this._class.hidden),this._trigger("beforeOpen",this._getArgData("left")),t.bind(i.transitionEndEvent(),function(){r._trigger("open",r._getArgData("left"));t.unbind(i.transitionEndEvent())}),this._transform(this._panel.left.outerWidth(),n?n:this._lModel.defaultTransitionTime,t),opacity=this.model.leftPane.animationType!="overlay"?0:this._lModel.overlayOpacity,this._elementOverlay.css("opacity",opacity).removeClass(this._class.hide),this._panel.left.addClass(this._class.opened),this._isNavPaneOpened=!0,this}},openRightPane:function(n){if(!this._isPaneOpen()&&this._panel.right.length&&this._isCanOpen("right")){var t=this._getTransitionPane("right"),r=this;return this._panel.right.removeClass(this._class.hidden),this._trigger("beforeOpen",this._getArgData("right")),t.bind(i.transitionEndEvent(),function(){r._trigger("open",r._getArgData("right"));t.unbind(i.transitionEndEvent())}),this._transform(-this._panel.right.outerWidth(),n?n:this._lModel.defaultTransitionTime,t),opacity=this.model.rightPane.animationType!="overlay"?0:this._lModel.overlayOpacity,this._elementOverlay.css("opacity",opacity).removeClass(this._class.hide),this._panel.right.addClass(this._class.opened),this}},closePane:function(n){this._closeOpenedPane(n?n:this._lModel.defaultTransitionTime)}})}(jQuery,Syncfusion),function($,ej,undefined){ej.widget("ejmTab","ej.mobile.Tab",{_setFirst:!0,_rootCSS:"e-m-tab",validTags:["ul"],_tags:[{tag:"items",attr:["icon","text","href","enableAjax","imageClass","badge.value","badge.maxValue"],content:"template"}],defaults:{renderMode:"auto",enableAjax:!1,enableCache:!1,showAjaxPopup:!1,selectedItemIndex:0,enablePersistence:!1,badge:{maxValue:"100"},itemStyle:"bothblock",allowSwiping:!0,position:"bottom",prefetchAjaxContent:!1,cssClass:"",items:[],contentId:null,ajaxSettings:{type:"GET",cache:!1,async:!0,dataType:"html",contentType:"html",url:"",data:{}},enableRippleEffect:ej.isAndroid()?!0:!1,load:null,loadComplete:null,touchStart:null,touchEnd:null,ajaxBeforeLoad:null,ajaxSuccess:null,ajaxError:null,ajaxComplete:null,select:null},observables:["selectedItemIndex"],selectedItemIndex:ej.util.valueFunction("selectedItemIndex"),dataTypes:{renderMode:"enum",enablePersistence:"boolean",items:"data",enableRippleEffect:"boolean"},_init:function(){this._orgEle=this.element.clone();this._storedContent=[];this._items=[];this._renderControl();this._wireEvents(!1)},_renderControl:function(){var i,itemLength,liItem;if(ej.setRenderMode(this),this.element.addClass("e-m-user-select e-m-"+this.model.renderMode+" e-m-tab-"+this.model.position+" e-m-tab-content-"+this.model.itemStyle+" "+this.model.cssClass),this.elementId=this.element[0].id,this._tabContainer=$("#"+this.model.contentId).addClass("e-m-"+this.model.renderMode+" e-m-tab-"+this.model.position+" e-m-tab-content-wrapper"),this.model.items=typeof this.model.items=="string"?eval(this.model.items):this.model.items,this.model.itemStyle=="bothblock"&&this._tabContainer.addClass("e-m-tab-content-bothblock"),this.model.load&&this._trigger("load"),this.model.items.length){for(i=0,itemLength=this.model.items.length;i<itemLength;i++)liItem=ej.buildTag("li",this.model.items[i].template),this.element.append(liItem),this._renderTabItems(liItem,i);this._tabItems=this.element.find("li")}else for(this._tabItems=this.element.find("li"),i=0,itemLength=this._tabItems.length;i<itemLength;i++)this._items.push(this._insertItemValue($(this._tabItems[i]))),this._renderTabItems(this._tabItems[i],i);!this.model.prefetchAjaxContent&&this.selectedItemIndex()>=0&&this._showHideItems(this._tabItems[this.selectedItemIndex()],this._tabContainer,this.selectedItemIndex());this.model.loadComplete&&this._trigger("loadComplete");this._setEnableRippleEffect()},_setEnableRippleEffect:function(){this.element.find("li")[this.model.enableRippleEffect?"addClass":"removeClass"]("e-ripple")},_insertItemValue:function(n){for(var t,r={},i=0,u=this._tags[0].attr.length+1;i<u;i++)t=this._tags[0].attr[i]==undefined?"template":this._tags[0].attr[i],r[t]=t=="enableAjax"?ej.getBooleanVal(n,"data-ej-"+t.replace(".","-").toLowerCase(),undefined):t=="template"?n.html():ej.getAttrVal(n,"data-ej-"+t.replace(".","-").toLowerCase(),undefined);return r},_renderTabItems:function(n,t){var n,i,r;this._items=this.model.items.length>0?this.model.items:this._items;n=$(n);n.attr("id",this.elementId+"-tab-item"+t);ej.isNullOrUndefined(this._items[t].icon)||n.addClass("e-m-icon-"+this._items[t].icon.toLowerCase());(this._items[t]["badge.value"]||this.model.badge.value)>0&&(i=this._items[t]["badge.value"]?this._items[t]["badge.value"]:null,r=this._items[t]["badge.maxValue"]?this._items[t]["badge.maxValue"]:this.model.badge.maxValue,n.addClass("e-m-tab-badge").attr("badgeValue",this._setBadgeValue(parseInt(i),parseInt(r))));this._renderItems(n,this._tabContainer,t);ej.isNullOrUndefined(this._items[t].text)||n.text(this._items[t].text)},_ajaxSuccessHandler:function(){this.model.prefetchAjaxContent&&this._showHideItems(this._tabItems[this.selectedItemIndex()],this._tabContainer,this.selectedItemIndex())},_setBadgeValue:function(n,t){return(n<=t?n:t+"+").toString()},_createDelegates:function(){this._touchStartDelegate=$.proxy(this._onTouchStartHandler,this);this._touchEndDelegate=$.proxy(this._onTouchEndHandler,this);this._touchMoveDelegate=$.proxy(this._onTouchMoveHandler,this);this._contentTouchStartDelegate=$.proxy(this._onContentTouchStartHandler,this);this._contentTouchMoveDelegate=$.proxy(this._onContentTouchMoveHandler,this);this._contentTouchEndDelegate=$.proxy(this._onContentTouchEndHandler,this)},_wireEvents:function(n){this._createDelegates();ej.listenEvents([this._tabItems],[ej.startEvent()],[this._touchStartDelegate],n);this.model.allowSwiping&&ej.listenEvents([this._tabContainer],[ej.startEvent()],[this._contentTouchStartDelegate],n)},_eventArgs:function(n){return{item:$(n),text:$(n).text(),index:$(n).index()}},_onTouchStartHandler:function(n){var t=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n;this._tabClickX=t.clientX;this._currentTab=n.target;this._targetItemId=n.target.id;this._tabItems=this.element.find(".e-m-tab-item");this._index=parseInt(this._targetItemId.split(this.elementId+"-tab-item")[1]);this.model.touchStart&&this._trigger("touchStart",this._eventArgs(this._currentTab));this._tabMouseMove=!1;ej.listenEvents([this._tabItems,this._tabItems],[ej.moveEvent(),ej.endEvent()],[this._touchMoveDelegate,this._touchEndDelegate],!1)},_onTouchMoveHandler:function(n){var t=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n;this._tabClickX!=t.clientX&&(this._tabMouseMove=!0)},_onTouchEndHandler:function(){(this._isInteraction=!0,ej.listenEvents([this._tabItems,this._tabItems],[ej.moveEvent(),ej.endEvent()],[this._touchMoveDelegate,this._touchEndDelegate],!0),this._tabMouseMove)||(this.selectedItemIndex(this._index),this._showHideItems(this._currentTab,this._tabContainer,this._index),this.model.touchEnd&&this._trigger("touchEnd",this._eventArgs(this._currentTab)),this._isInteraction=!1)},_onContentTouchStartHandler:function(n){var t=n.touches?n.touches[0]:n;this._pointX=t.pageX;this._pointY=t.pageY;ej.listenEvents([this._tabContainer],[ej.moveEvent()],[this._contentTouchMoveDelegate],!1)},_onContentTouchMoveHandler:function(){ej.listenEvents([this._tabContainer],[ej.moveEvent()],[this._contentTouchMoveDelegate],!0);ej.listenEvents([this._tabContainer],[ej.endEvent()],[this._contentTouchEndDelegate],!1)},_onContentTouchEndHandler:function(n){var i=n.touches?n.touches[0]?n.touches[0]:n.changedTouches?n.changedTouches[0]:n:n,t,r;ej.listenEvents([this._tabContainer,this._tabContainer],[ej.moveEvent(),ej.endEvent()],[this._contentTouchMoveDelegate,this._contentTouchEndDelegate],!0);this._endPointX=i.pageX;this._endPointY=i.pageY;relativeX=Math.abs(this._endPointX-this._pointX);relativeY=Math.abs(this._endPointY-this._pointY);relativeXY=Math.abs(relativeX-relativeY);relativeX>30&&relativeXY>30&&relativeX>relativeY&&(direction=this._endPointX-this._pointX>30?"swiperight":"swipeleft",t=direction=="swiperight"?this.selectedItemIndex()-1:this.selectedItemIndex()+1,t>=0&&t<this._items.length&&(r=this.element.find("#"+this.elementId+"-tab-item"+t),this.selectedItemIndex(t),this._showHideItems(r[0],this._tabContainer,t)))},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_refresh:function(){this._destroy();this.element.addClass("e-m-tab");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class").find("*").removeAttr("class id");$.each(this._storedContent,function(n,t){ej.getCurrentPage().append(t)});this._tabContainer.removeAttr("class").find("*").remove()},_destroy:function(){this._wireEvents(!0);this._clearElement()},_setContentId:function(n){$.each(this._storedContent,function(n,t){ej.getCurrentPage().append(t)});this.model.allowSwiping&&ej.listenEvents([this._tabContainer],[ej.startEvent()],[this._contentTouchStartDelegate],!0);this._tabContainer.removeAttr("class").find("*").remove();this._tabContainer=$("#"+n).addClass("e-m-"+this.model.renderMode+" e-m-tab-"+this.model.position+" e-m-tab-content-wrapper");for(var t=0,i=this._tabItems.length;t<i;t++)this._renderItems(this._tabItems[t],this._tabContainer,t);!this.model.prefetchAjaxContent&&this.selectedItemIndex()>=0&&this._showHideItems(this._tabItems[this.selectedItemIndex()],this._tabContainer,this.selectedItemIndex());this.model.allowSwiping&&ej.listenEvents([this._tabContainer],[ej.startEvent()],[this._contentTouchStartDelegate],!1)},_addRemovClass:function(n,t){this.element.removeClass(n).addClass("e-m-"+t);this._tabContainer.removeClass(n).addClass("e-m-"+t)},_setRenderMode:function(n){this._addRemovClass("e-m-ios7 e-m-android e-m-windows e-m-flat",n)},_setPosition:function(n){this._addRemovClass("e-m-tab-top e-m-tab-bottom",n)},_setItemStyle:function(n){this.element.removeClass("e-m-tab-content-bothblock e-m-tab-content-bothinline e-m-tab-content-image e-m-tab-content-text").addClass("e-m-"+n)},_setSelectedItemIndex:function(){this.selectedItemIndex()>=0&&this.selectedItemIndex()!=""&&this._showHideItems(this._tabItems[parseInt(this.selectedItemIndex())],this._tabContainer,parseInt(this.selectedItemIndex()))},_setCssClass:function(n){this.element.addClass(n)},showBadge:function(n){var t=this.element.find("#"+this.elementId+"-tab-item"+n);n>=0&&t.addClass("e-m-tab-badge")},hideBadge:function(n){var t=this.element.find("#"+this.elementId+"-tab-item"+n);n>=0&&t.removeClass("e-m-tab-badge")},setBadgeValue:function(n,t){var r=this.element.find("#"+this.elementId+"-tab-item"+n),i;n>=0&&t!=undefined&&(i=this._items[n]["badge.maxValue"]?this._items[n]["badge.maxValue"]:this.model.badge.maxValue,r.addClass("e-m-tab-badge").attr("badgeValue",this._setBadgeValue(parseInt(t),parseInt(i))),this._items[n]["badge.value"]=t)},setActiveItem:function(n){n>=0&&(this.selectedItemIndex(n),this._showHideItems(this._tabItems[n],this._tabContainer,n))},enableItem:function(n){if(n>=0){var t=this.element.find("#"+this.elementId+"-tab-item"+n);t.removeClass("e-m-state-disabled");this.enableContent(n)}},disableItem:function(n){if(n>=0){var t=this.element.find("#"+this.elementId+"-tab-item"+n);t.addClass("e-m-state-disabled");this.disableContent(n)}},enableContent:function(n){var t=$(this._tabContainer.find("#"+this.elementId+"-tab-item"+n+"-content"));n>=0?t.removeClass("e-m-state-disabled"):this._tabContainer.removeClass("e-m-state-disabled")},disableContent:function(n){var t=$(this._tabContainer.find("#"+this.elementId+"-tab-item"+n+"-content"));n>=0?t.addClass("e-m-state-disabled"):this._tabContainer.addClass("e-m-state-disabled")},addItem:function(n,t){var i,r,u;for(t>=0?(this._items.splice(t,0,this._insertItemValue($(n))),this.element.find("#"+this.elementId+"-tab-item"+t).before($(n).addClass("e-m-tab-item"))):(this._items.push(this._insertItemValue($(n).addClass("e-m-tab-item"))),this.element.find("#"+this.elementId+"-tab-item"+this._items.length).after($(n))),$.each(this._storedContent,function(n,t){ej.getCurrentPage().append(t)}),this._storedContent=[],this._tabContainer.find("*").remove(),i=0,r=this.element.find(".e-m-tab-item").length;i<r;i++)u=$(this.element.find(".e-m-tab-item")[i]),this._renderTabItems(u,i);!this.model.prefetchAjaxContent&&this.selectedItemIndex()>=0&&this._showHideItems(this._tabItems[this.selectedItemIndex()],this._tabContainer,this.selectedItemIndex());this._tabItems=this.element.find("li");this._wireEvents(!1)},removeItem:function(n){if(n>=0){this.element.find("#"+this.elementId+"-tab-item"+n).remove();this._tabContainer.find("#"+this.elementId+"-tab-item"+n+"-content").remove();this._items.splice(n,1);for(var t=0,i=this.element.find(".e-m-tab-item").length;t<i;t++)$(this.element.find(".e-m-tab-item")[t]).attr("id",this.elementId+"-tab-item"+t),$(this._tabContainer.find(".e-m-tab-content")[t]).attr("id",this.elementId+"-tab-item"+t+"-content")}},getItemsCount:function(){return this.element.find(".e-m-tab-item").length},getActiveItem:function(){return this.element.find("li.e-m-state-active")},getActiveItemText:function(){return this.element.find("li.e-m-state-active").text()},setContent:function(n,t){t>=0&&(this._items[t].href=n);this._refresh()}});ej.mobile.Tab.ItemStyle={BothBlock:"bothblock",Image:"image",Text:"text",BothInline:"bothinline"};ej.mobile.Tab.Position={Top:"top",Bottom:"bottom"};$.extend(!0,ej.mobile.Tab.prototype,ej.mobile.AjaxLoader)}(jQuery,Syncfusion),function(n,t){t.widget("ejTileBase","ej.TileBase",{defaults:{badge:{enabled:!1,value:1,text:null,maxValue:100,minValue:1,position:"bottomright"},caption:{enabled:!0,text:"text",icon:null,position:"innerbottom",alignment:"normal"},enablePersistence:!1,imageClass:null,imagePosition:"center",imageTemplateId:null,imageUrl:null,liveTile:{text:null,enabled:!1,imageClass:null,imageTemplateId:null,imageUrl:null,type:"flip",updateInterval:2e3},cssClass:"",tileSize:"small",width:null,height:null,showRoundedCorner:!1,backgroundColor:null,allowSelection:!1,locale:"en-US",showText:!0,text:"text",textAlignment:"normal"},dataTypes:{imagePosition:"enum",liveTile:{text:"array",type:"enum",enabled:"boolean",updateInterval:"number",imageUrl:"array",imageClass:"array",imageTemplateId:"array"},alignment:"enum",tileSize:"enum",locale:"string"},observables:["badge.value","badge.enabled","badge.text","badge.position","text","caption.text"],_badgeValue:t.util.valueFunction("badge.value"),_badgeEnabled:t.util.valueFunction("badge.enabled"),_badgeText:t.util.valueFunction("badge.text"),_badgePosition:t.util.valueFunction("badge.position"),_captionText:t.util.valueFunction("caption.text"),text:t.util.valueFunction("text"),_setDeprecatedProperties:function(){this.model.caption.enabled=this.defaults.caption.enabled==this.model.caption.enabled&&this.defaults.showText==this.model.showText?this.defaults.caption.enabled:this.model.caption.enabled!=this.defaults.caption.enabled?this.model.caption.enabled:this.model.showText;this._captionText(this.defaults.caption.text==this._captionText()&&this.defaults.text==this.text()?this.defaults.caption.text:this._captionText()!=this.defaults.caption.text?this._captionText():this.text());this.model.caption.alignment=this.defaults.caption.alignment==this.model.caption.alignment&&this.defaults.textAlignment==this.model.textAlignment?this.defaults.caption.alignment:this.model.caption.alignment!=this.defaults.caption.alignment?this.model.caption.alignment:this.model.textAlignment},_tileRender:function(){var u,r,i,f;if(this._setDeprecatedProperties(),this._imagePosition=this.model.imagePosition,this._cssClass=this.model.cssClass,this.element.addClass(this.model.cssClass+" "+this._prefix+"tile-"+this.model.tileSize),this.model.showRoundedCorner&&this.element.addClass(this._prefix+"tile-round-corner"),this._isLiveTile()?this._liveTile():(this._image=t.buildTag("div").addClass(this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"image-parent"),this._innerImage=t.buildTag("span").addClass(this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),this.model.imageTemplateId?(u=this._isMobile()?t.getCurrentPage().find("#"+this.model.imageTemplateId):n("#"+this.model.imageTemplateId),this._innerImage.addClass(this._prefix+"tile-template").append(u),(this.model.imageUrl||this.model.imageClass)&&this._setImageProcess()):this.model.imageClass?this._setImageProcess():this.model.imageUrl&&this._setImageProcess(),this._image.append(this._innerImage),this.element.append(this._image),this._setBackgroundColor(this.model.backgroundColor),this.model.imageTemplateId&&this._prefix=="e-m-"&&t.angular.defaultAppName&&t.angular.compile(this._image)),this._isCaptionEnable())if(this.model.liveTile.text&&this._isLiveTile())for(r=this.element.find("."+this._prefix+"image-parent"),i=0,f=r.length;i<f;i++)this._setCaptionClass(n(r[i])),n(r[i]).addClass(this._prefix+"tile-caption-text ").attr("data-ej-text",this.model.liveTile.text[i]);else this._setCaptionClass(this.element),this.model.caption.icon?(this._captionIcon=this.model.caption.icon,this.element.addClass(this._prefix+"tile-caption-icon "+this._prefix+"icon-"+this._captionIcon)):this.element.addClass(this._prefix+"tile-caption-text ").attr("data-ej-text",this._captionText());this._badgeEnabled()&&this._setBadgeEnabled();this._selectElement=t.buildTag("span."+this._prefix+"tile-overlay");this.element.append(this._selectElement);this.model.height||(this.model.height=this.model.caption.position=="outer"?this.element.height()-50:this.element.height());this.model.width||(this.model.width=this.element.width());this._isCustomizeSize()&&this._setCustomizSize()},_setImageProcess:function(){if(this.model.imageUrl){var n=this._isMobile()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/"+this.model.renderMode.toLowerCase()+"/"+this.model.imageUrl:this._getAbsolutePath(this.model.imageUrl);this._innerImage.css({"background-image":"url('"+n+"')"});t.browserInfo().name=="msie"&&t.browserInfo().version<9&&this.model.imagePosition=="fill"&&this._innerImage.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n+"',sizingMethod='scale')","-ms-filter":"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n+"',sizingMethod='scale')"})}else this.model.imageClass&&this._innerImage.addClass(this.model.imageClass)},_liveTile:function(){var r,e,o,u,i,s,f;if(this.element.addClass(this._prefix+"livetile-enable"),this.model.liveTile.imageTemplateId)for(i=0;i<this.model.liveTile.imageTemplateId.length;i++)e=t.buildTag("div").addClass(this._prefix+"tile-template "+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"image-parent "+this._prefix+"tile-"+this.model.liveTile.type),o=this._isMobile()?t.getCurrentPage().find("#"+this.model.liveTile.imageTemplateId[i]):n("#"+this.model.liveTile.imageTemplateId[i]),this.element.append(e.append(o));else if(this.model.liveTile.imageClass)for(i=0;i<this.model.liveTile.imageClass.length;i++)r=t.buildTag("span").addClass(this.model.liveTile.imageClass[i]+" "+this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition),u=t.buildTag("div").addClass(this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type+" "+this._prefix+"image-parent"),r.appendTo(u),this.element.append(u);else for(i=0;i<this.model.liveTile.imageUrl.length;i++)s=this._isMobile()&&this.model.imagePath?this._getAbsolutePath(this.model.imagePath)+"/windows/"+this.model.liveTile.imageUrl[i]:this._getAbsolutePath(this.model.liveTile.imageUrl[i]),r=t.buildTag("span").addClass(this._prefix+"tile-image "+this._prefix+"tile-image"+this.model.imagePosition).css({"background-image":"url('"+s+"')"}),f=t.buildTag("div."+this._prefix+"tile-image"+this.model.imagePosition+" "+this._prefix+"tile-"+this.model.liveTile.type+" "+this._prefix+"image-parent"),r.appendTo(f),this.element.append(f);this._setBackgroundColor(this.model.backgroundColor);n(this.element.children()[0]).addClass(this._prefix+"tile-"+this.model.liveTile.type+"back").removeClass(this._prefix+"tile-"+this.model.liveTile.type);this.model.imageTemplateId&&this._prefix=="e-m-"&&(App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(this.element)},_setCustomizSize:function(){var i=(this._isLiveTileMode()||this.model.renderMode=="flat")&&parseInt(this.model.width)<=70?"70":this._isMobile()&&this.model.renderMode=="android"&&this._isBelowSmallSize()?"85":this._isMobile()&&this.model.renderMode=="ios7"&&this._isBelowSmallSize()?"74":this.model.width,n=(this._isLiveTileMode()||this.model.renderMode=="flat")&&parseInt(this.model.height)<=70?"70":this._isMobile()&&(this.model.renderMode=="android"||this.model.renderMode=="ios7")&&this._isBelowSmallSize()?"70":this._isMobile()&&this.model.renderMode=="ios7"&&this._isBelowSmallSize()?"70":this.model.height,t=(this._isLiveTileMode()||this.model.renderMode=="flat")&&!this._isBelowSmallSize()?50:(this._isLiveTileMode()||this.model.renderMode=="flat")&&this._isBelowSmallSize()?0:this._isMobile()&&this.model.renderMode=="android"&&this._isBelowSmallSize()?30:30,r=this.model.caption.enabled&&this.model.caption.position=="outer"&&this.model.height?n?parseInt(n)+t:parseInt(n)+t:this.model.height;this.element.css({width:this.model.width?this.model.width:"70",height:this.model.height?r:this.element.height()+t});this.element.find("."+this._prefix+"image-parent").css({width:this.element.css("width"),height:this.model.height?n:this.element.height()-t});!this._isBelowSmallSize()&&this.model.caption.enabled&&this.model.caption.position=="outer"&&(this.element.find(".e-m-tile-image").css({width:this.model.width?i:"",height:this.model.height?n:""}),this._selectElement.css({width:this.model.width?i:"",height:this.model.height?n:""}));this._isBelowSmallSize()&&(this.element.addClass(this._prefix+"tile-small"),this._isMobile()&&(this.model.renderMode=="android"||this.model.renderMode=="ios7")&&this.model.caption.position=="outer"||this.element.removeAttr("data-ej-text"))},_isLiveTile:function(){return this._isLiveTileMode()&&this.model.liveTile.enabled},_isLiveTileMode:function(){return!this._isMobile()||this.model.renderMode=="windows"},_setCaptionClass:function(n){n.addClass(this._prefix+"tile-caption "+this._prefix+"caption-"+this.model.caption.position+" "+this._prefix+"caption-align-"+this.model.caption.alignment)},_isCaptionEnable:function(){return this.model.caption.enabled&&!(this.model.tileSize=="small"||this._isBelowSmallSize()&&this.model.tileSize=="small")||this._isMobile()&&(this.model.renderMode=="ios7"||this.model.renderMode=="android")&&this.model.caption.position=="outer"||this._isMobile()&&(this.model.renderMode=="android"||this.model.renderMode=="ios7")&&this.model.caption.position=="outer"&&this._isCustomizeSize()&&this._isBelowSmallSize()},_isBelowSmallSize:function(){var n=this.model.width?parseInt(this.model.width):this.model.width,t=this.model.height?parseInt(this.model.height):this.model.height,i=!this._isMobile()||this._isMobile()&&(this.model.renderMode=="windows"||this.model.renderMode=="flat")?70:this._isMobile()&&this.model.renderMode=="android"?85:74;return n<=i&&n!=null||t<=i&&t!=null},_isCustomizeSize:function(){return this.model.height||this.model.width},_createDelegates:function(){this._onStartDelegate=n.proxy(this._isMobile()?this._onTouchStartHandler:this._onMouseDownHandler,this);this._onEndDelegate=n.proxy(this._isMobile()?this._onTouchEndHandler:this._onMouseUpHandler,this);this._onMoveDelegate=n.proxy(this._isMobile()?this._onTouchMoveHandler:this._onMouseMoveHandler,this);this._onDocClickDelegate=n.proxy(this._onDocClickHandler,this);this._startAnimationDelegate=n.proxy(this["_"+this.model.liveTile.type+"Tile"],this)},_wireEvents:function(i){this._createDelegates();t.listenEvents([this.element,n(document)],[t.startEvent(),t.endEvent()],[this._onStartDelegate,this._onDocClickDelegate],i,this);this._isLiveTile()&&(i?this._stopTileAnimation():this._startTileAnimation())},_onDocClickHandler:function(){this._removeActiveClass()},_removeActiveClass:function(){this._isLiveTileMode()?t._removeSkewClass(this.element):n(this.element).removeClass(this._prefix+"state-active")},_startTileAnimation:function(){this._intervalCounter=setInterval(this._startAnimationDelegate,this.model.liveTile.updateInterval)},_stopTileAnimation:function(){clearInterval(this._intervalCounter)},_flipTile:function(){var n=this.element.find("."+this._prefix+"tile-flipback"),t=this.element.find("."+this._prefix+"tile-flip").first();n.addClass(this._prefix+"tile-flip").removeClass(this._prefix+"tile-flipback");t.addClass(this._prefix+"tile-flipback").removeClass(this._prefix+"tile-flip")},_slideTile:function(){this._animateEffect()},_carouselTile:function(){this._animateEffect()},_animateEffect:function(){var i=this.model.liveTile.type.toLowerCase(),r=this.element.find("."+this._prefix+"image-parent"),t=this.element.find("."+this._prefix+"tile-"+i+"back"),e=t.next()[0]==null?r.first():t.next(),o=t.prev()[0]==null?r.last():t.prev(),u,f;(n(t.next()[0]).hasClass(this._prefix+"tile-overlay")||n(t.prev()[0]).hasClass(this._prefix+"tile-overlay"))&&(u=n(t.next()[0]).next(),f=n(t.next()[0]).prev(),e=u.next()[0]==null?r.first():u.next(),o=f.prev()[0]==null?r.last():f.prev());o.addClass(this._prefix+"tile-"+i).removeClass(this._prefix+"tile-"+i+"up");t.addClass(this._prefix+"tile-"+i+"up").removeClass(this._prefix+"tile-"+i+"back");e.removeClass(this._prefix+"tile-"+i).addClass(this._prefix+"tile-"+i+"back")},_getAbsolutePath:function(n){return this._isMobile()?this._makeUrlAbsolute(n).toString():n},_makeUrlAbsolute:function(i){var r=n("<a href ='"+i+"'><\/a>")[0],u;n("body").append(r);u=r.pathname.indexOf("/")!=0?"/"+r.pathname:r.pathname;var f=t.browserInfo(),e=f.name=="msie"&&f.version=="9.0",o=r.protocol+"//"+(e&&r.port=="80"?r.host.replace(":80",""):r.host)+u+r.search+r.hash;return n(r).remove(),o},_isMobile:function(){return this._prefix=="e-m-"?!0:!1},updateTemplate:function(i,r){var u,f;this._isLiveTile()?(n(this.element.children()[r]).empty(),u=this._isMobile()?t.getCurrentPage().find("#"+i):n("#"+i),n(this.element.children()[r]).append(u)):(f=this._isMobile()?t.getCurrentPage().find("#"+i):n("#"+i),this._image.addClass(this._prefix+"tile-template").empty().append(f))},_setModel:function(n){var u=!1,i,r;for(i in n)if(r="_set"+i.charAt(0).toUpperCase()+i.slice(1),this[r]||i=="locale")switch(i){case"text":this[r](t.util.getVal(n[i]));n[i]=this.text(t.util.getVal(n[i]));t.isNullOrUndefined(this._options)&&(this._options={});this._options.caption=this.model.caption;break;case"locale":t.Tile.Locale[n[i]]&&(this.model.locale=n[i],this._setCulture(),this._setCaptionText(this._captionText()));break;default:this[r](n[i])}else u=!0;u&&this._refresh()},_setCaption:function(n){var u=!1,i,r;for(i in n)if(r="_setCaption"+i.charAt(0).toUpperCase()+i.slice(1),this[r])switch(i){case"text":this[r](t.util.getVal(n[i]));n[i]=this._captionText(t.util.getVal(n[i]));break;default:this[r](n[i])}else u=!0;u&&this._refresh()},_setText:function(n){this._captionText(n);this._setCaptionText(n)},_setCaptionText:function(n){this._isCaptionEnable()?this.element.attr("data-ej-text",n):this.element.removeAttr("data-ej-text")},_setCaptionEnabled:function(){this._isCaptionEnable()?this.element.attr("data-ej-text",this._captionText()):this.element.removeAttr("data-ej-text")},_setCaptionIcon:function(n){this._isCaptionEnable()&&(this.element.removeClass(this._prefix+"caption-text "+this._prefix+"icon-"+this._captionIcon).addClass(this._prefix+"caption-icon "+this._prefix+"icon-"+n).removeAttr("data-ej-text"),this._captionIcon=n)},_setCaptionAlignment:function(n){this._isCaptionEnable()&&this.element.removeClass(this._prefix+"caption-align-normal "+this._prefix+"caption-align-left "+this._prefix+"caption-align-center "+this._prefix+"caption-align-right").addClass(this._prefix+"caption-align-"+n)},_setShowRoundedCorner:function(n){n?this.element.addClass(this._prefix+"tile-round-corner"):this.element.removeClass(this._prefix+"tile-round-corner")},_setCssClass:function(n){this.element.removeClass(this._cssClass).addClass(n);this._cssClass=n},_setBackgroundColor:function(n){!this._isMobile()||this._isMobile()&&this.model.renderMode=="windows"||this.model.caption.position=="outer"?this.element.find("."+this._prefix+"tile-image").css("background-color",n):this.element.css("background-color",n)},_setTileSize:function(n){this._isCaptionEnable()?this._isCaptionEnable()&&this.element.attr("data-ej-text",this._captionText()):this.element.removeAttr("data-ej-text");this.element.css({width:"",height:""});this.element.find("."+this._prefix+"image-parent").css({width:"",height:""});this.element.removeClass(this._prefix+"tile-small "+this._prefix+"tile-medium "+this._prefix+"tile-wide "+this._prefix+"tile-large").addClass(this._prefix+"tile-"+n);this.model.height=this.element.height();this.model.width=this.element.width()},_setImagePosition:function(t){this.element.addClass(this._prefix+"tile-image"+t);n(this.element.find("."+this._prefix+"tile-image")).removeClass(this._prefix+"tile-image"+this._imagePosition).addClass(this._prefix+"tile-image"+t);this._imagePosition=this.model.imagePosition},_setBadge:function(n){var i,r;for(i in n)if(r="_setBadge"+i.charAt(0).toUpperCase()+i.slice(1),this[r])switch(i){case"value":case"enabled":case"text":this[r](t.util.getVal(n[i]));typeof n[i]=="function"?n[i](this["_badge"+i.charAt(0).toUpperCase()+i.slice(1)]()):n[i]=this["_badge"+i.charAt(0).toUpperCase()+i.slice(1)]();break;default:this[r](n[i])}},_setBadgeValue:function(n){if(this._badgeEnabled()){n=t.isNullOrUndefined(n)?this._badgeValue():n;var i;this._badgeText()?i=this._badgeText():n<=this.model.badge.maxValue&&n>=this.model.badge.minValue?(i=n.toString(),this._badgeValue(n)):n>this.model.badge.maxValue?(i=this.model.badge.maxValue.toString()+"+",this._badgeValue(this.model.badge.maxValue)):(i=this.model.badge.minValue.toString(),this._badgeValue(this.model.badge.minValue));this.element.addClass(this._prefix+"tile-badge "+this._prefix+"badge-position-"+this._badgePosition());this.element.addClass(this._prefix+"tile-badge-value").attr("data-ej-badgeValue",i)}else this.element.removeClass(this._prefix+"tile-badge "+this._prefix+"badge-position-"+this._badgePosition()+" "+this._prefix+"tile-badge-value")},_setBadgePosition:function(n){this._badgePosition(n);this._badgeEnabled()&&this.element.removeClass(this._prefix+"badge-position-bottomright "+this._prefix+"badge-position-topright").addClass(this._prefix+"badge-position-"+this._badgePosition())},_setBadgeEnabled:function(n){this._badgeEnabled(n);this._setBadgeValue()},_setBadgeMaxValue:function(n){this.model.badge.maxValue=n;this._setBadgeValue()},_setBadgeMinValue:function(n){this.model.badge.minValue=n;this._badgeEnabled()&&this._setBadgeValue()},_setBadgeText:function(n){this._badgeText(n);this._badgeEnabled()&&this._setBadgeValue()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmTile","ej.mobile.Tile",{_setFirst:!0,_rootCSS:"e-m-tile",defaults:{imagePath:null,renderMode:"auto",touchStart:null,touchEnd:null},dataTypes:{renderMode:"enum"},_init:function(){this._orgEle=this.element.clone();this._renderEJMControl()},_renderEJMControl:function(){t.setRenderMode(this);this._prefix="e-m-";this.element.addClass("e-m-"+this.model.renderMode);this._tileRender();this._wireEvents()},_onTouchStartHandler:function(i){var r=this.element,u;this.model.renderMode=="windows"&&(u=i.touches?i.touches[0]:i);t.isWindows()&&t._touchStartPoints(i,this);r.addClass(this.model.renderMode=="windows"?t._getSkewClass(r,u.pageX,u.pageY):this._prefix+"state-active");this.model.touchStart&&this._trigger("touchStart",{text:r.attr("text"),index:n(i.target).index()});t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!1);t.listenTouchEvent(this.element,t.endEvent(),this._onEndDelegate,!1);this._isMoved=!1},_onTouchMoveHandler:function(n){(!t.isWindows()||t.isWindows()&&t._isTouchMoved(n,this))&&(this._isMoved=!0,this._removeActiveClass())},_onTouchEndHandler:function(i){this.model.allowSelection&&(this._selected?this._selected&&(this._selected=!1,this._selectElement.removeClass("e-m-tile-selected")):(this._selected=!0,this._selectElement.addClass("e-m-tile-selected")));!this._isMoved&&this.model.touchEnd&&this._trigger("touchEnd",{text:this.element.attr("text"),index:n(i.target).index(),select:this._selected});this._removeActiveClass();this._isMoved=!1;t.listenTouchEvent(this.element,t.moveEvent(),this._onMoveDelegate,!0);t.listenTouchEvent(this.element,t.endEvent(),this._onEndDelegate,!0)},_refresh:function(){this._destroy();this.element.removeAttr("style");this.element.addClass(this._prefix+"tile e-js");this._renderEJMControl()}});t.mobile.Tile.ImagePosition={Center:"center",TopCenter:"topcenter",BottomCenter:"bottomcenter",RightCenter:"rightcenter",LeftCenter:"leftcenter",TopLeft:"topleft",TopRight:"topright",BottomRight:"bottomright",BottomLeft:"bottomleft",Fill:"fill"};t.mobile.Tile.CaptionAlignment={Normal:"normal",Left:"left",Right:"right",Center:"center"};t.mobile.Tile.CaptionPosition={InnerTop:"innertop",InnerBottom:"innerbottom",Outer:"outer"};t.mobile.Tile.TileSize={Medium:"medium",Small:"small",Large:"large",Wide:"wide"};t.mobile.Tile.LiveTileType={Flip:"flip",Slide:"slide",Carousel:"carousel"};t.mobile.Tile.BadgePosition={TopRight:"topright",BottomRight:"bottomright"};n.extend(!0,t.mobile.Tile.prototype,t.TileBase.prototype)}(jQuery,Syncfusion),function($,ej){ej.widget("ejmTimePicker","ej.mobile.TimePicker",{_setFirst:!0,_requiresID:!0,_rootCSS:"e-m-timepicker",defaults:{renderMode:"auto",hourFormat:"twentyfour",value:null,timeFormat:null,locale:"en-US",enabled:!0,enablePersistence:!1,cssClass:"",select:null,load:null,focusIn:null,focusOut:null,open:null,close:null,change:null},dataTypes:{renderMode:"enum",hourFormat:"enum",value:"string",timeFormat:"enum",locale:"string",enabled:"boolean",enablePersistence:"boolean",cssClass:"string"},_init:function(){this._renderControl();this._createDelegates();this._wireEvents()},_timepickerInitialize:function(){this.model.timeFormat=this.model.timeFormat==null?this.model.hourFormat=="twelve"?"hh:mm tt":"HH:mm":this.model.timeFormat;this.model.value=new Date(ej.format(new Date,"MM/dd/yyyy")+" "+(typeof this.model.value=="string"?this.model.value:ej.format(new Date,this.model.timeFormat)));this._currentTime=this.model.value;this._twelvedata=[{value:"01"},{value:"02"},{value:"03"},{value:"04"},{value:"05"},{value:"06"},{value:"07"},{value:"08"},{value:"09"},{value:"10"},{value:"11"},{value:"12"}];this._twentyfourdata=[{value:"00"},{value:"01"},{value:"02"},{value:"03"},{value:"04"},{value:"05"},{value:"06"},{value:"07"},{value:"08"},{value:"09"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"}];this._minsdata=[{value:"00"},{value:"01"},{value:"02"},{value:"03"},{value:"04"},{value:"05"},{value:"06"},{value:"07"},{value:"08"},{value:"09"},{value:"10"},{value:"11"},{value:"12"},{value:"13"},{value:"14"},{value:"15"},{value:"16"},{value:"17"},{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"},{value:"24"},{value:"25"},{value:"26"},{value:"27"},{value:"28"},{value:"29"},{value:"30"},{value:"31"},{value:"32"},{value:"33"},{value:"34"},{value:"35"},{value:"36"},{value:"37"},{value:"38"},{value:"39"},{value:"40"},{value:"41"},{value:"42"},{value:"43"},{value:"44"},{value:"45"},{value:"46"},{value:"47"},{value:"48"},{value:"49"},{value:"50"},{value:"51"},{value:"52"},{value:"53"},{value:"54"},{value:"55"},{value:"56"},{value:"57"},{value:"58"},{value:"59"}];this._meridiansdata=[{value:this._localizedLabels.AM},{value:this._localizedLabels.PM}]},_renderControl:function(){this._orgEle=$(this.element).clone();ej.setRenderMode(this);this._localizedLabels=this._getLocalizedLabels();this._timepickerInitialize();this.element.addClass(this.model.cssClass+" e-m-"+this.model.renderMode+" e-m-user-select").attr({name:this._id,readonly:!0});this._outerdiv=ej.buildTag("div.e-m-"+this.model.renderMode+" e-m-tp e-m-user-select #"+this._id+"_tp","<div class='e-m-tp-header'><span class='e-m-tp-time'><\/span>"+(this.model.hourFormat=="twelve"?"<div class='e-m-tp-mer'><span class='mer am'>"+this._localizedLabels.AM+"<\/span><span class='mer pm'>"+this._localizedLabels.PM+"<\/span><\/div>":"")+"<\/div>");this._innerdiv=ej.buildTag("div.e-m-tpinner");this._wrapdiv=ej.buildTag("div.e-m-tpwrap");this._visibletexthtml="<div class='e-m-col-fill'><\/div>";this._hours=ej.buildTag("div.e-m-tp e-m-tphours e-m-left","<div class='e-m-timewrapper'><div id="+this._id+"_tphour><div class='e-m-tpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><\/div>");this._mins=ej.buildTag("div.e-m-tp e-m-tpmins e-m-center","<div class='e-m-timewrapper'><div id="+this._id+"_tpmin><div class='e-m-tpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><\/div>");this._meridians=ej.buildTag("div.e-m-tp e-m-tpmeridians e-m-right","<div class='e-m-timewrapper'><div id="+this._id+"_tpmeridian><div class='e-m-tpouter'>"+this._visibletexthtml+"<\/div><\/div><\/div><\/div>");this._dialogRendering();this._scrollInitialize();this._setCurrentPreviousTime();this._hourstext=this._outerdiv.find("#"+this._id+"_tphour .e-m-text");this._minstext=this._outerdiv.find("#"+this._id+"_tpmin .e-m-text");this._meridianstext=this._outerdiv.find("#"+this._id+"_tpmeridian .e-m-text");this.model.load&&this._trigger("load",{value:this._currentTime});this._controlStatus(this.model.enabled)},_setCurrentPreviousTime:function(){var n=ej.format(new Date(this._currentTime),this.model.timeFormat,this.model.locale);$(this.element).val(n);this._updateHeader();this._previousTime=n},_updateHeader:function(){this._outerdiv.find(".e-m-tp-header .e-m-tp-time").text(ej.format(new Date(this._currentTime),this.model.timeFormat,this.model.locale).slice(0,5));this.model.hourFormat=="twelve"&&(this._outerdiv.find(".e-m-state-active").removeClass("e-m-state-active"),this._outerdiv.find(".e-m-tp-header .e-m-tp-mer ."+ej.format(new Date(this._currentTime),"tt",this.model.locale).toLowerCase()).addClass("e-m-state-active"))},_scrollInitialize:function(){this._displacement=45;this._targetHeight=window.innerHeight<260?45:window.innerHeight<350?135:225;this._minHeight=window.innerHeight<260?"low":window.innerHeight<350?"medium":"high";this._outerdiv.find(".e-m-col-fill").addClass("e-m-"+this._minHeight);this._scrollPanel("hour");this._scrollPanel("min");this._scrollPanel("meridian")},_scrollPanel:function(n){this["_"+n]=ej.buildTag("div#"+this._id+"tp"+n+"_scrollpanel");this._outerdiv.find("#"+this._id+"_tp"+n).append(this["_"+n]);this["_"+n].ejmScrollPanel({enableMouseWheel:!1,enableNativeScrolling:!1,enableTransition:!1,enableTransform:!1,showScrollbars:!1,target:this._id+"_tp"+n,targetHeight:this._targetHeight,renderMode:this.model.renderMode,scrollStart:$.proxy(this._onScrollStart,this),scrollStop:$.proxy(this._onScrollStop,this),enableBounce:!1,enableDisplacement:!0,displacementValue:this._displacement,displacementTime:500,isRelative:!0})},_dialogRendering:function(){this._renderTimeContent();this._dialog=ej.buildTag("div.e-m-tp-dialog e-m-"+this.model.hourFormat+"#"+this._id+"_dialog");this._dialog.ejmDialog({allowScrolling:!1,mode:"confirm",showHeader:!1,leftButtonCaption:this._localizedLabels.cancelText,rightButtonCaption:this._localizedLabels.confirmText,renderMode:this.model.renderMode,enableAnimation:!1});this._dialog.find(".e-m-dlg-content").append(this._outerdiv);this._dialog.find(".e-m-dlgbtnwrapper").appendTo(this._outerdiv)},_renderTimeContent:function(){this.model.hourFormat=="twentyfour"&&this._meridians.addClass("e-m-display-none");this._renderTemplate();this._columnRendering("hours");this._columnRendering("mins");this._columnRendering("meridians");this._innerdiv.append(this._wrapdiv);this._outerdiv.append(this._innerdiv)},_renderTemplate:function(){var n={};n["default"]="<div class='e-m-text'>{{:value}}<\/div>";$.templates(n)},_columnRendering:function(n){var t=n=="hours"?this["_"+this.model.hourFormat+"data"]:this["_"+n+"data"],i=$.render["default"](t)+this._visibletexthtml;this["_"+n].find(".e-m-tpouter").html(this["_"+n].find(".e-m-tpouter").html()+i);this._wrapdiv.append(this["_"+n])},_createDelegates:function(){this._focusHndlr=$.proxy(this._showTimePicker,this);this._blurHndlr=$.proxy(this._blurEventHandler,this);this._dlgBtnClkHndlr=$.proxy(this._dialogButtonClick,this);this._resizeHndlr=$.proxy(this._resize,this)},_wireEvents:function(n){ej.listenTouchEvent($(this._dialog).find(".e-m-dlg-btn"),"mousedown",this._dlgBtnClkHndlr,n);ej.listenEvents([$(this.element),$(this.element)],["focus","blur"],[this._focusHndlr,this._blurHndlr],n);ej.listenTouchEvent($(window),"onorientationchange"in window?"orientationchange":"resize",this._resizeHndlr,n)},_showTimePicker:function(){this.model.focusIn&&this._trigger("focusIn",{value:this._currentTime});this._showHidePicker();this._setInitialTime();this._outerdiv.find(".e-m-timewrapper").removeClass("e-m-scrollstart");this.model.open&&this._trigger("open",{value:this._currentTime})},_setInitialTime:function(){this._setValue(this._currentTime);this._setProperTime()},_setValue:function(n){var n=new Date(n);this._resetScrollPos();this._hour.ejmScrollPanel("scrollTo",0,-this._displacement*(this.model.hourFormat=="twelve"?n.getHours()%12==0?11:n.getHours()%12-1:n.getHours()),0);this._min.ejmScrollPanel("scrollTo",0,-this._displacement*n.getMinutes(),0);this._meridian.ejmScrollPanel("scrollTo",0,-this._displacement*(n.getHours()>11?1:0),0)},_resetScrollPos:function(){this._hour.ejmScrollPanel("scrollTo",0,0,0);this._min.ejmScrollPanel("scrollTo",0,0,0);this._meridian.ejmScrollPanel("scrollTo",0,0,0)},_blurEventHandler:function(){this.model.focusOut&&this._trigger("focusOut",{value:this._currentTime})},_dialogButtonClick:function(n){$(n.target).text()==this._localizedLabels.confirmText?($(this.element).val(ej.format(this._currentTime,this.model.timeFormat)),this._previousTime!=$(this.element).val()&&this.model.select&&this._trigger("select",{value:this._currentTime}),this._previousTime=$(this.element).val()):$(n.target).text()==this._localizedLabels.cancelText&&(this._currentTime=new Date(ej.format(new Date,"MM/dd/yyyy")+" "+this._previousTime),this._setInitialTime());this._showHidePicker(!0);this.model.close&&this._trigger("close",{value:this._currentTime})},_showHidePicker:function(n){var t=this,i={currentTarget:this.element},r=n?"hidden":"visible";this.element.blur();this._dialog.ejmDialog(n?"close":"open")},_resize:function(){var n=this;setTimeout(function(){var t=window.innerHeight<350?window.innerHeight<260?"low":"medium":"high";n._minHeight!=t&&(n._targetHeight=t=="low"?45:t=="medium"?135:225,n._minHeight=t,n._hour.ejmScrollPanel({targetHeight:n._targetHeight}),n._min.ejmScrollPanel({targetHeight:n._targetHeight}),n._meridian.ejmScrollPanel({targetHeight:n._targetHeight}),n._outerdiv.find(".e-m-col-fill").removeClass("e-m-short e-m-low e-m-high").addClass("e-m-"+t),n._setInitialTime())},200)},_onScrollStart:function(n){$("#"+n.model.target).find(".e-m-text-active").removeClass("e-m-text-active")},_onScrollStop:function(n){var t=n.model.target.replace(this._id+"_tp","");this._setProperTime(t)},_setProperTime:function(n){var t=this._scrollCoordinates(),i=this.model.hourFormat=="twelve"?t.meridian>0?t.hours==12?12:t.hours==0?13:t.hours==11?12:t.hours+13:t.hours==0?1:t.hours==12?11:t.hours==11?0:t.hours+1:t.hours;this._currentTime=new Date((new Date).setHours(this.model.hourFormat=="twelve"?i:t.hours,t.mins));this._activeText(this.model.hourFormat=="twelve"?t.hours==12?t.hours:t.hours+1:t.hours+1,t.mins+1,t.meridian,n);this._updateHeader();this.model.change&&this._trigger("change",{value:this._currentTime})},_scrollCoordinates:function(){var n={};return n.Scrollhours=Math.round(this._hour.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollmins=Math.round(this._min.ejmScrollPanel("getScrollPosition").y/this._displacement),n.Scrollmeridian=Math.round(this._meridian.ejmScrollPanel("getScrollPosition").y/this._displacement),n.hours=-n.Scrollhours,n.mins=-n.Scrollmins,n.meridian=-n.Scrollmeridian,n},_activeText:function(hours,mins,meridians,target){target?($(this["_"+target+"stext"]).removeClass("e-m-text-active"),$(this["_"+target+"stext"][eval(target+"s")-(target=="meridian"?0:1)]).addClass("e-m-text-active")):($(this._hourstext[hours-1]).addClass("e-m-text-active"),$(this._minstext[mins-1]).addClass("e-m-text-active"),$(this._meridianstext[meridians]).addClass("e-m-text-active"))},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),this[i]?this[i](n[t]):r=!0;r&&this._refresh()},_setTimeFormat:function(){$(this.element).val(ej.format(this._currentTime,this.model.timeFormat))},_setEnabled:function(n){this._controlStatus(n)},_controlStatus:function(n){this.element[n?"removeClass":"addClass"]("e-m-state-disabled")},_refresh:function(){this._destroy();this.element.addClass("e-m-timepicker");this._renderControl();this._wireEvents()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._wireEvents(!0);this._clearElement()},_getLocalizedLabels:function(){return ej.getLocalizedConstants(this.sfType,this.model.locale)},show:function(){this._showHidePicker()},hide:function(){this._showHidePicker(!0)},enable:function(){this.model.enabled=!0;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},disable:function(){this.model.enabled=!1;this._controlStatus(this.model.enabled);this._showHidePicker(!0)},getValue:function(){return $(this.element).val()},setCurrentTime:function(n){this._currentTime=new Date(ej.format(new Date,"MM/dd/yyyy")+" "+n);this._setCurrentPreviousTime()}});ej.mobile.TimePicker.HourFormat={TwentyFour:"twentyfour",Twelve:"twelve"};ej.mobile.TimePicker.Locale=ej.mobile.TimePicker.Locale||{};ej.mobile.TimePicker.Locale["default"]=ej.mobile.TimePicker.Locale["en-US"]={confirmText:"OK",cancelText:"CANCEL",AM:"AM",PM:"PM"}}(jQuery,Syncfusion),function(n,t){t.widget("ejmToggleButton","ej.mobile.ToggleButton",{_setFirst:!0,_rootCSS:"e-m-tbutton",defaults:{cssClass:"",toggleState:!0,renderMode:"auto",touchStart:null,touchEnd:null,change:null,enabled:!0,enablePersistence:!1},dataTypes:{toggleState:"boolean",enabled:"boolean",enablePersistence:"boolean"},_init:function(){this._renderControl();this._createDelegates();this._wireEvents(!1);this.model.enabled?this.enable():this.disable()},_renderControl:function(){var r,i,u,f;t.setRenderMode(this);r=this.model;i=this.element;i.addClass("e-m-tbutton "+r.cssClass+" e-m-"+r.renderMode);this._input=t.buildTag("input",{},{},{name:n(i).attr("id"),type:"checkbox","data-role":"none"});u=this._input;this._slider=t.buildTag("div.e-m-tslider");f=this._slider;r.toggleState?(u.attr("checked","checked").attr("value",!0),f.addClass("e-m-state-active"),i.addClass("e-m-state-active"),this._onState()):(u.attr("value",!1),this._offState());i.append(u).append(f)},_createDelegates:function(){this._touchStartHandler=n.proxy(this._touchStart,this);this._touchEndHandler=n.proxy(this._touchEnd,this);this._touchMoveHandler=n.proxy(this._touchMove,this)},_wireEvents:function(n){this._createDelegates();t.listenTouchEvent(this.element,t.startEvent(),this._touchStartHandler,n)},_touchStart:function(n){var u,r,f,i,e;t.blockDefaultActions(n);u=n.touches?n.touches[0]:n;this._startPoint=u.pageY;r=this._slider;f=this.element;this.maxMove=f.width()-r.width();i=this.model;this._flag=!0;this._startstate=i.toggleState;this._startTime=n.timeStamp||Date.now();this._startPos=n.pageX;t.isTouchDevice()&&(n=u);(i.renderMode=="windows"||i.renderMode=="flat")&&(this.maxMove=this.maxMove-5);r.addClass("e-m-touchactive");this._position={x:n.pageX,y:n.pageY};this.startValue=this._getNormalValue(this._position);this._handleX=r.offset().left-f.offset().left;t.listenEvents([document,document],[t.endEvent(),t.moveEvent()],[this._touchEndHandler,this._touchMoveHandler],!1);e={state:i.toggleState};i.touchStart&&this._trigger("touchStart",e)},_touchMove:function(n){var r,u,i;t.blockDefaultActions(n);this._endPoint=(n.touches?n.touches[0]:n).pageY;this._startPoint!=this._endPoint&&(r=this.model,this._flag=!1,t.isTouchDevice()&&(n=n.touches?n.touches[0]:n),this._position={x:n.pageX,y:n.pageY},this._curValue=this._getNormalValue(this._position)-this.startValue,u=this._curValue,i=u+this._handleX,this._endTime=n.timeStamp||Date.now(),this._endPos=n.pageX,r.renderMode=="flat"||r.renderMode=="windows"?i>=0&&i<=this.maxMove&&this._translateContent(this._slider,i+2):i<this.maxMove/2?this._offState():this._onState())},_touchEnd:function(n){var r,u,i,e,f;t.blockDefaultActions(n);r=this._slider;u=this.element;r.removeClass("e-m-touchactive");i=this.model;t.listenEvents([document,document],[t.endEvent(),t.moveEvent()],[this._touchEndHandler,this._touchMoveHandler],!0);t.isTouchDevice()&&(n=n.changedTouches?n.changedTouches[0]:n);e=r.offset().left-u.offset().left;this._delTime=this._endTime-this._startTime;this._delPos=this._startstate?-(this._endPos-this._startPos):this._endPos-this._startPos;(i.renderMode==="ios7"||i.renderMode==="windows")&&this._delTime<300&&this._delPos>10?this._startstate?this._offState():this._onState():this._flag?r.hasClass("e-m-state-active")?this._offState():this._onState():e<this.maxMove/2?this._offState():this._onState();this._input.attr("checked")?(r.addClass("e-m-state-active"),u.addClass("e-m-state-active")):(r.removeClass("e-m-state-active"),u.removeClass("e-m-state-active"));f={state:i.toggleState};i.touchEnd&&this._trigger("touchEnd",f);i.change&&this._startstate!=i.toggleState&&this._trigger("change",f)},_getNormalValue:function(n){var t,i,r,u;return t=n.x-this.element.offset().left,i=t/this.element[0].offsetWidth,r=this.element.width(),u=i*r,this._trimValue(u)},_trimValue:function(n){var t=1,i=n%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_offState:function(){var t=this.model,n=this._slider;t.toggleState=!1;this._input.removeAttr("checked","checked").attr("value",!1);this._translateContent(n,0);n.removeClass("e-m-state-active");this.element.removeClass("e-m-state-active")},_onState:function(){var n=this.model,t=this._slider,i;n.toggleState=!0;this._input.attr("checked","checked").attr("value",!0);i=n.renderMode=="flat"||n.renderMode=="windows"?43:49;this._translateContent(t,i);t.addClass("e-m-state-active");this.element.addClass("e-m-state-active");(n.renderMode=="ios7"||n.renderMode=="android")&&this._translateContent(t,22)},_translateContent:function(n,i){n[0].style[t.transform]="translateX("+i+"px)"},_setModel:function(n){var i;for(var r in n)switch(r){case"renderMode":n.renderMode=="auto"?t.setRenderMode(this):this.model.renderMode=n.renderMode;i=!0;break;case"toggleState":this.model.toggleState?this._onState():this._offState();break;case"enabled":n.enabled?this.enable():this.disable()}i&&this._refresh()},_refresh:function(){this._clearElement();this._renderControl();this._wireEvents()},_clearElement:function(){this._wireEvents(!0);this.element.removeAttr("class");this.element.removeAttr("style");this.element.html("")},_destroy:function(){this._clearElement()},disable:function(){this.element.addClass("e-m-state-disabled");this._wireEvents(!0);this.model.enabled=!1},enable:function(){this.element.removeClass("e-m-state-disabled");this._wireEvents(!1);this.model.enabled=!0}})}(jQuery,Syncfusion),function(n,t,r){t.widget("ejmGrid","ej.mobile.Grid",{_setFirst:!0,_rootCSS:"e-m-grid-core",validTags:["div"],_tags:[{tag:"columns",attr:["field","headerText","allowFiltering","allowSorting","width","textAlign","format","type"]}],_ignoreOnPersist:["query","dataSource","allowScrolling","cssClass"],defaults:{allowPaging:!1,allowSorting:!1,allowFiltering:!1,allowScrolling:!1,allowSelection:!0,dataSource:null,caption:"",cssClass:"",locale:"en-US",enablePersistence:!1,selectedRowIndex:-1,rowSelecting:null,rowSelected:null,actionBegin:null,actionComplete:null,actionSuccess:null,actionFailure:null,load:null,queryCellInfo:null,rowDataBound:null,dataBound:null,modelChange:null,pageSettings:{pageSize:5,currentPage:1,display:"normal",type:"scrollable",totalRecordsCount:null},scrollSettings:{enableColumnScrolling:!1,height:"auto",enableRowScrolling:!0,enableNativeScrolling:t.isAndroid()||t.isIOS()?!1:t.isDevice()?!0:!1},sortSettings:{allowMultiSorting:!1,sortedColumns:[]},filterSettings:{filterBarMode:"onenter",interval:1500,filteredColumns:[]},showCaption:!1,allowColumnSelector:!1,transition:t.isAndroid()?"pop":t.isWindows()?"slide":"slide",renderMode:"auto",query:t.Query(),columns:[]},dataTypes:{allowPaging:"boolean",allowSorting:"boolean",allowFiltering:"boolean",allowSelection:"boolean",allowScrolling:"boolean",locale:"string",sortSettings:{allowMultiSorting:"boolean",sortedColumns:"array"},filterSettings:{filteredColumns:"array"},dataSource:"data",query:"data",columns:"array",pageSettings:{pageSize:"number",display:"enum",type:"enum"},scrollSettings:{enableRowScrolling:"boolean",enableColumnScrolling:"boolean"},renderMode:"enum",allowColumnSelector:"boolean",showCaption:"boolean",transition:"string"},observables:["dataSource","selectedRowIndex","pageSettings.currentPage"],dataSource:t.util.valueFunction("dataSource"),selectedRowIndex:t.util.valueFunction("selectedRowIndex"),currentPage:t.util.valueFunction("pageSettings.currentPage"),_columns:function(t,i,r){n(".e-m-grid-hbar th .e-m-title")[t.columns].innerHTML=r},_init:function(){this._getLocalizedLabels();this._trigger("load");this._page=t.getCurrentPage();this._hiddenColumns=[];this._visibleColumns=[];this._dataColumns=[];this._rowSelect=!0;this._colInit=!1;this._touchMove=!1;this._controlInit=!0;this._initialRender=!0;this.model.renderMode=="auto"&&t.setRenderMode(this);this.model.allowSorting&&(this._curSort="clearsorting",this._sortedColumns=[],this._sortDirection=[],this._handleInitialSorting());this._id=this.element[0].id;this._render();this._createDelegates();this._wireEvents(!1)},_handleInitialSorting:function(){var t=this,i=this.model.sortSettings.sortedColumns.length;n.each(this.model.sortSettings.sortedColumns,function(n,r){(t.model.sortSettings.allowMultiSorting||n==i-1)&&(t._sortedColumns.push(r.columnName),t._sortDirection.push(r.sortDirection))})},_getLocalizedLabels:function(){this._localizedLabels=t.getLocalizedConstants(this.sfType,this.model.locale)},_setLocale:function(){this._getLocalizedLabels()},_render:function(){this._renderClientgrid();this._content=this.element.find(".e-m-grid-content");this.model.allowPaging&&this._createPagerObject();this.model.allowFiltering&&(this._createFilterObject(),this._filters=this._filteringMgr.model.filterConditions=this.model.filterSettings.filteredColumns);this.model.allowColumnSelector&&this._createColumnListContainer();this._load()},_createColumnListContainer:function(){var i,r,u,f,e;this.element.wrap(t.buildTag("div.e-m-grid-parent-container"));this._parentElement=this.element.parent();i=t.buildTag("div.e-m-grid-colnavcontainer e-m-"+this.model.renderMode+" subpage e-m-state-hide e-m-grid-core#"+this._id+"colnav",{},{},{"data-url":this._id+"colnav"});r=t.buildTag("div.e-m-grid-colnavhdr",{},{},{"data-role":"ejmnavigationbar","data-ej-title":this._localizedLabels.columnSelectorText,"data-ej-rendermode":this.model.renderMode,"data-ej-position":"normal"});i.append(r);this._subPagelistDiv=t.buildTag("div",{},{},{});u=t.buildTag("ul");n.each(this.model.columns,function(n,i){var r=t.buildTag("li",{},{},{"data-ej-text":i.headerText});u.append(r)});this._subPagelistDiv.append(u);i.append(this._subPagelistDiv);(this.model.renderMode=="android"||this.model.renderMode=="windows")&&(f=t.buildTag("input",{},{},{"data-role":"ejmbutton","data-ej-rendermode":this.model.renderMode,"data-ej-text":this._localizedLabels.columnSelectorDone,type:"button"}),e=t.buildTag("input",{},{},{"data-role":"ejmbutton","data-ej-rendermode":this.model.renderMode,"data-ej-text":this._localizedLabels.columnSelectorCancel,type:"button"}),i.append(f).append(e));this._warningDialog=t.buildTag("div#"+this._id+"_warningDlg",{},{},{"data-role":"ejmdialog","data-ej-rendermode":this.model.renderMode,"data-ej-title":this._localizedLabels.columnSelectorWarning,"data-ej-mode":"alert","data-ej-enablemodal":!0,"data-ej-enableautoopen":!1}).append(t.buildTag("div").html(this._localizedLabels.HideColumnAlert));i.append(this._warningDialog);t.isMobile()?n("body").append(i):this._parentElement.append(i);this._subPagelistDiv.ejmListView({touchEnd:t.proxy(this._onColumnSelectHandler,this),renderMode:this.model.renderMode,enableChecklist:!0});t.widget.init(i);this.model.renderMode=="android"||this.model.renderMode=="windows"?(f.ejmButton({touchEnd:t.proxy(this._columnSelectionDoneHandler,this)}),e.ejmButton({touchEnd:t.proxy(this._columnSelectionCancelHandler,this)})):r.ejmNavigationBar({rightButtonTap:t.proxy(this._columnSelectionDoneHandler,this),leftButtonTap:t.proxy(this._columnSelectionCancelHandler,this)});this._warningDialog.ejmDialog({buttonTap:t.proxy(this._dialogButtonClick,this)})},_dialogButtonClick:function(){this._warningDialog.ejmDialog("close")},_columnSelectionCancelHandler:function(){if(this._colHideList!=this._prevColHideList){if(this._subPagelistDiv.ejmListView("uncheckAll"),this._prevColHideList)for(var n=0;n<this._prevColHideList.length;n++)this._subPagelistDiv.ejmListView("checkItemsByIndex",this._dataColumns.indexOf(this._prevColHideList[n]));this._colHideList=this._prevColHideList}history.back()},_columnSelectionDoneHandler:function(){if(this._colHideList&&this._colHideList.length==this.model.columns.length)this._warningDialog.ejmDialog("open");else{if(this._colHideList){this._colHideList&&this._hiddenColumns!=this._colHideList&&this.hideColumns(this._colHideList);var t=this;this._colShowList=[];n.each(this.model.columns,function(n,i){t._colHideList.indexOf(i.headerText)==-1&&t._colShowList.push(i.headerText)});this._colShowList&&this._visibleColumns.toString()!=this._colShowList.toString()&&this.showColumns(this._colShowList)}else this.showColumns(this._prevColHideList);history.back()}this._prevColHideList=this._colHideList},_onColumnSelectHandler:function(n){this._colHideList=n.checkedItemsText},_createPagerObject:function(){var i=this.model.pageSettings,t;i.id=this._id;t=n("#"+this._id+"_pager");t.ejmGridPager(i);this._pager=t.ejmGridPager("instance");this._pager.model.currentPage=parseInt(this.currentPage())},_createFilterObject:function(){var n=this.element.find(".e-m-grid-header"),t=this.model.filterSettings;t.id=this._id;n.ejmGridFilter(t);this._filteringMgr=n.ejmGridFilter("instance")},_renderClientgrid:function(){this.element.addClass("e-m-grid-core e-m-core subpage");this.model.cssClass!=""&&this.model.cssClass!=r&&(this.element.addClass(this.model.cssClass),this._cssClass=this.model.cssClass);this._mainContainer=t.buildTag("div.e-m-grid-container#"+this._id+"container");this.model.allowFiltering&&this._mainContainer.addClass("e-m-filter");this.model.allowFiltering&&this._renderFilterBar();(this.model.showCaption||this.model.allowColumnSelector)&&this._renderCaption();this.model.allowColumnSelector&&(this._colNavigator=t.buildTag("div.e-m-grid-colnav e-m-fontimage"),this.element.find(".e-m-caption-row").append(this._colNavigator));this.element.append(this._mainContainer);this.model.allowScrolling&&this.model.scrollSettings.enableColumnScrolling&&(this._innerContainer=t.buildTag("div.e-m-grid-innercontainer").appendTo(this._mainContainer));this._renderHeader();this._renderContent();this._setRenderMode()},_setRenderMode:function(){var t="e-m-android e-m-ios7 e-m-windows e-m-flat";this.element.removeClass(t).addClass("e-m-"+this.model.renderMode);n("#"+this._id+"_pager").removeClass(t).addClass("e-m-"+this.model.renderMode)},_renderContent:function(){var n=t.buildTag("div#"+this._id+"_content.e-m-grid-content");this._renderInnerContent(n);this._innerContainer?this._innerContainer.append(n):this._mainContainer.append(n);this.model.allowPaging&&this._renderPager()},_renderPager:function(){var i=t.buildTag("div#"+this._id+"_pager.e-m-grid-core e-m-grid-pager e-m-pager-"+this.model.pageSettings.display+" e-m-pagertype-"+this.model.pageSettings.type+" e-m-"+this.model.renderMode),r=t.buildTag("div.e-m-grid-pwrapper e-m-state-default"),n=t.buildTag("div.e-m-grid-inrpgr e-m-state-default");this.model.pageSettings.type=="normal"&&(t.buildTag("div.e-m-grid-first  e-m-fontimage").append(t.buildTag("div.e-m-grid-hfirst  e-m-fontimage")).appendTo(n),t.buildTag("div.e-m-grid-prev  e-m-fontimage").append(t.buildTag("div.e-m-grid-hprev  e-m-fontimage")).appendTo(n));t.buildTag("div#"+this._id+"_pgrtxt.e-m-grid-ptxt").html("1").appendTo(n);this.model.pageSettings.type=="normal"&&(t.buildTag("div.e-m-grid-next  e-m-fontimage").append(t.buildTag("div.e-m-grid-hnext  e-m-fontimage")).appendTo(n),t.buildTag("div.e-m-grid-last  e-m-fontimage").append(t.buildTag("div.e-m-grid-hlast  e-m-fontimage")).appendTo(n));n.appendTo(r);r.appendTo(i);this.model.pageSettings.display==t.mobile.Grid.PagerDisplay.Fixed?i.appendTo(t.getCurrentPage()):i.appendTo(this.element)},_renderInnerContent:function(n){var i=t.buildTag("table.e-m-grid-table",{},{},{cellspacing:"0.25px","data-role":this.element[0].id+"_Table"}),r;this._renderColGrp(i,!1);r=t.buildTag("tbody").append(t.buildTag("tr"));r.append(t.buildTag("td.e-m-grid-emptycell",{},{},{colspan:this.model.columns.length}).html(this._localizedLabels.spinnerText));i.append(r);n.append(i);this._setGridContentTable(i[0])},_renderCaption:function(){var n=t.buildTag("div.e-m-state-default e-m-caption-row").append(t.buildTag("span").html(this.model.caption+": "+this.model.dataSource.length+" "+this._localizedLabels.captionText));this.element.prepend(n)},_renderFilterBar:function(){var n=t.buildTag("div.e-m-grid-fbardiv"),f=t.buildTag("span.e-m-icon-grid-search  e-m-fontimage"),i=t.buildTag("div.e-m-grid-finput"),r=t.buildTag("span.e-m-icon-grid-clear  e-m-fontimage"),u=t.buildTag("input.e-m-text-input",{},{},{"data-role":"none"});t.isDevice()&&t.isAndroid()&&u.addClass("e-m-placeholder-css");t.buildTag("form").append(u).append(f).append(r).appendTo(i);n.append(i);this.model.renderMode=="windows"&&!t.isMobile()?r.css("display","none"):"";this.element.append(n)},_renderHeader:function(){var n=t.buildTag("div.e-m-state-default e-m-grid-header"),r=t.buildTag("div.e-m-grid-inrhdr"),u=t.buildTag("div.e-m-grid-hdrsettings"),i=t.buildTag("table.e-m-grid-table",{},{},{cellspacing:"0.25px"});this._renderColGrp(i,!0);this._renderTHead(i);u.append(i);r.append(u);n.append(r);this._innerContainer?this._innerContainer.append(n):this._mainContainer.append(n)},_renderColGrp:function(i,r){var u=this,f=t.buildTag("colgroup");this._colWidth=0;this._setHorScrWidth=!0;this._hiddenColumns=[];this._visibleColumns=[];n.each(u.model.columns,function(n,i){var e=t.buildTag("col");i.width&&i.width>0?(e.css("width",i.width+"px"),u._colWidth=u._colWidth+i.width):u._setHorScrWidth=!1;f.append(e);i.headerText||(i.headerText=i.field);i.visible==!1?(r?u._hiddenColumns.push(i.headerText):{},e.addClass("e-hide")):(r?u._visibleColumns.push(i.headerText):{},u.model.columns[n].visible=!0);u._dataColumns.push(i.headerText)});setTimeout(function(){u.element.width()>u._colWidth&&u._setHorScrWidth&&u._colWidth>0&&!t.isMobile()&&u.model.allowScrolling&&u.model.scrollSettings.enableColumnScrolling&&u.element.width(u._colWidth)},100);i.append(f)},_renderTHead:function(i){var u=this,f=t.buildTag("thead"),e=t.buildTag("tr.e-m-grid-hbar"),o,s;this.model.columns.length>0&&typeof this.model.columns[0]=="string"&&(o=n.extend({},this.model.columns),this.model.columns=[],n.each(o,function(n,t){u.model.columns.push({field:t,headerText:t})}));n.each(u.model.columns,function(i,f){var s=t.buildTag("th.e-m-grid-hdrcell e-m-state-default"),h,o,c,l,a,v;f.visible==!1&&s.addClass("e-hide");f.textAlign!=r&&s.css("text-align",f.textAlign);i==u.model.columns.length-1&&s.addClass("e-m-grid-lastth");h=t.buildTag("div.e-m-grid-col-elem e-m-grid-coldesc e-m-grid-hcell");n.each(u.model.sortSettings.sortedColumns,function(n,t){t.columnName==f.field&&h.addClass("e-m-grid-"+t.sortDirection)});o="e-m-grid-hcelldiv";u.model.allowSorting&&(f.allowSorting==r||f.allowSorting)&&(o=o+" e-m-sort");u.model.allowFiltering&&(o=o+" e-m-filter");c=t.buildTag("div."+o);l=t.buildTag("span.e-m-title").html(f.headerText);c.append(l);u.model.allowSorting&&(f.allowSorting==r||f.allowSorting)&&(a=t.buildTag("span.e-m-icon-grid-sort e-m-fontimage"),l.append(a));h.append(c);u.model.allowFiltering&&(f.allowFiltering==r||f.allowFiltering)&&(v=t.buildTag("span.e-m-icon-grid-fltr e-m-fontimage"),h.append(v));s.append(h);e.append(s)});f.append(e);i.append(f);s=t.buildTag("tbody",{},{display:"none"}).append(t.buildTag("tr").append(t.buildTag("td")));i.append(s)},_renderColElements:function(n){return t.buildTag("div.e-m-grid-col-child e-m-grid-col-"+n).append(t.buildTag("span.e-m-grid-"+n+"  e-m-fontimage"))},_load:function(){this.model.allowSelection&&!this._selectionManager&&(this.element.ejmGridSelectionManager(this.model.pageSettings),this._selectionManager=this.element.ejmGridSelectionManager("instance"));this._checkWaitingPopup()&&this.element.ejWaitingPopup({autoDisplay:!1});this.refreshContent("refresh")},_addInitialTemplate:function(){var e,u,o,i,f;this._colInit=!0;this.model.pageSettings.totalRecordsCount&&(this._initColumns(this.model.currentViewData[0]!=r?this.model.currentViewData[0]:this.model.currentViewData.value),this.element.find(".e-m-grid-header").remove(),this._renderHeader(),e=this.element.find(".e-m-grid-header"),e.insertBefore(this.element.find(".e-m-grid-content")));u=this.element[0].id;o=this._page.find("#"+u+"_JSONTemplate");n.views.helpers({_gridFormatting:this._formatting});i=t.buildTag("tbody");f=t.buildTag("tr");n(i).attr("id",u+"_JSONTemplate").css("display","none");n.each(this.model.columns,function(i,u){var e=t.buildTag("td.e-m-grid-rowcell");u.visible==!1&&e.addClass("e-hide");e.html("{{:#data['"+u.field+"']}}");u.textAlign!=r&&e.css("text-align",u.textAlign);(u.format!=r&&u.format!=""||u.type&&u.type.toLowerCase()=="datetime"||u.type&&u.type.toLowerCase()=="date")&&(u.format!=""&&u.format||(u.format="{0:"+t.preferredCulture().calendar.patterns.d+"}"),e.html("{{:~_gridFormatting('"+u.format+"',#data['"+u.field+"'],#data['"+u.field+"'])}}"));t.isNullOrUndefined(u.cssClass)||e.addClass(u.cssClass);n(f).append(e)});n(i).append(f);n(this._page).append(i)},_handleQueryCell:function(n){if(n&&n.length!=0&&(this._gridRows=this._getGridContentTable().rows,this.model.queryCellInfo!=null||this.model.rowDataBound!=null))for(var t=0;t<this._gridRows.length;t++)this._rowEventtrigger(this._gridRows[t],n[t])},_rowEventtrigger:function(n,t){var i,r;for(this._trigger("rowDataBound",{element:n,data:t}),i=n.cells,cellIndex=0;cellIndex<i.length;cellIndex++)r={element:i[cellIndex],data:t,text:i[cellIndex].innerHTML},this._trigger("queryCellInfo",r)},_checkWaitingPopup:function(){return n.isFunction(n.fn.ejWaitingPopup)},_renderScrollPager:function(){this._controlInit=!1;this._pgrTxtContainer=n("#"+this._id+"_pgrtxt");this._updateScrollPager();this._pageScroller=this._createScroller({enableHrScroll:!0,enableVrScroll:!1,showScrollbars:!1,target:this._id+"_pgrtxt",rendermode:this.model.renderMode})},_updateScrollPager:function(){var u={},r=[],t;for(n.templates.pager||(u.pager="{{if pageNumber < 100 }}<div class='e-m-page-num'>{{:pageNumber}}<\/div>{{else}}<div class='e-m-page-num e-m-page-large'>{{:pageNumber}}<\/div>{{/if}}",n.templates(u)),i=1;i<=this._getPageCount();i++)r.push({pageNumber:i});this._pgrTxtContainer.find(".e-m-pscroll").length>0?(t=n.render.pager(r),this._pgrTxtContainer.find(".e-m-pscroll").html(t)):(t="<div class='e-m-pscroll'>"+n.render.pager(r)+"<\/div>",this._pgrTxtContainer.html(t));n(this._pgrTxtContainer.find(".e-m-page-num")[parseInt(this.currentPage())-1]).addClass("e-m-state-active");this._pageScroller&&this._pageScroller.ejmScrollPanel("refresh")},_findPredicate:function(){var i,r;return n.each(this._filters,function(n,u){var f=!1;typeof u.value=="string"&&(f=!u.isCaseSensitive);r&&r!=u.columnName&&(u.predicate="and");u.value!=""&&(i=i?i[u.predicate](u.columnName,u.operator,u.value,f):t.Predicate(u.columnName,u.operator,u.value,f));r=u.columnName}),i},_createQuery:function(t){var r,u=[],i=[],f;return i=this.model.query.clone().requiresCount(),this.model.allowFiltering&&(r=this._findPredicate(),r&&(t=="filtering"&&(this.currentPage(1),this._pager&&(this._pager.model.currentPage=1)),i=i.where(r))),this._sortedColumns&&this.model.allowSorting&&(f=this,n.each(this._sortedColumns,function(n,t){f._sortDirection[n]=="descending"&&(t=t+" desc");f._sortDirection[n]!="clearsorting"&&u.push(t)}),u.length>0&&i.sortBy(u)),this.model.allowPaging&&(this._getPageCount()<parseInt(this.currentPage())&&this.model.pageSettings.totalRecordsCount&&this.currentPage(1),i.page(parseInt(this.currentPage()),this.model.pageSettings.pageSize)),i},_getPageCount:function(){return Math.ceil(this.model.pageSettings.totalRecordsCount/this._pager.model.pageSize)},_afterDataProcess:function(n,i){var e,f,r,o,u;this.model.allowFiltering&&this.model.allowPaging&&(this.model.pageSettings.totalRecordsCount<=this._pager.model.pageSize?this._pager.model.currentPage=1:(e=this._getPageCount(),this._pager.model.currentPage=this._pager.model.currentPage<e?this._pager.model.currentPage:e),this.currentPage(this._pager.model.currentPage));this._commonSuccessAction(this.model.pageSettings.totalRecordsCount,n);this._jsonSuccessAction(i,n);this.model.allowScrolling&&(this.model.scrollSettings.height=="auto"&&(f=this.element.find(".e-m-grid-content"),r=window.innerHeight-f.offset().top-(t.isNullOrUndefined(this.element.nextAll().outerHeight())?0:this.element.nextAll().outerHeight()),r=this.model.allowPaging?r-this.element.find(".e-m-grid-pager").height():r,r>f.height()&&(r=f.height())),this.model.scrollSettings.enableRowScrolling&&!this._verScroller&&(this._verScroller=this._createScroller({showScrollbars:!1,targetHeight:this.model.scrollSettings.height=="auto"?r:this.model.scrollSettings.height,rendermode:this.model.renderMode,target:this._id+"_content"})),this.model.scrollSettings.enableColumnScrolling&&!this._horScroller&&(o={enableHrScroll:!0,enableVrScroll:!1,showScrollbars:!1,target:this._id+"container",rendermode:this.model.renderMode},u=this,setTimeout(function(){(u._setHorScrWidth||u.element.width()<u._colWidth)&&(o.scrollWidth=u._colWidth);u._horScroller=u._createScroller(o)},0)),this._controlInit&&this._resize())},_createScroller:function(n){var i=t.buildTag("div");return i.appendTo(this._page),n.enableNativeScrolling=this.model.scrollSettings.enableNativeScrolling,n.isRelative=!0,i.ejmScrollPanel(n),i},_sendSortingRequest:function(n,t){var r=!1;if(t=t.toLowerCase(),n!=null&&n!="")if(this.model.sortSettings.allowMultiSorting){for(i=0;i<this._sortedColumns.length;i++)this._sortedColumns[i]==n&&(r=!0,this._sortDirection[i]=t);r==!1&&(this._sortedColumns.push(n),this._sortDirection.push(t))}else this._sortedColumns[0]=n,this._sortDirection[0]=t;this.refreshContent("sorting")},_setDateFilters:function(t){var u=new Date(t.value.setSeconds(t.value.getSeconds()-1)),f=new Date(t.value.setDate(t.value.getDate()+1)),i=n.extend({},t),r=n.extend({},t);i.value=u;i.operator=">";i.predicate="and";r.value=f;r.operator="<";r.predicate="and";this._filters.push(i);this._filters.push(r)},_sendFilteringRequest:function(t,i,u){var h=!1,f,e,o,s;if(t!=null)for(f=0;f<t.length;f++)i[f]!=null&&(e={columnName:this._filteringMgr._currentFilterColumn.field,operator:t[f],value:i[f],predicate:u,isCaseSensitive:this._filteringMgr._currentFilterColumn.isCaseSensitive==r?!1:this._filteringMgr._currentFilterColumn.isCaseSensitive},this._filters.length==0?(this._filteringMgr._currentFilterColumn.type.toLowerCase()=="datetime"||this._filteringMgr._currentFilterColumn.type.toLowerCase()=="date")&&t=="equal"?this._setDateFilters(e):this._filters.push(e):(o=this,h||(s=[],n.each(this._filters,function(n,t){t.columnName==e.columnName&&s.push(t)}),n.each(s,function(){o._filters.splice(n.inArray(this,o._filters),1)})),(this._filteringMgr._currentFilterColumn.type.toLowerCase()=="datetime"||this._filteringMgr._currentFilterColumn.type.toLowerCase()=="date")&&i[0]!=""&&t=="equal"?this._setDateFilters(e):this._filters.push(e))),h=!0;this._filteringMgr.model.filterConditions=this._filters;this.refreshContent("filtering")},_commonSuccessAction:function(t,i){var u,r;(i=="refresh"||i=="filtering")&&(this.model.pageSettings.totalRecordsCount=t,u=this.model.caption==""?"":this.model.caption+" :",this.element.find(".e-m-caption-row span").html(u+t+" "+this._localizedLabels.captionText));this._pager!=null&&((this._pager.model.currentPage==0||this.model.pageSettings.totalRecordsCount<=this.model.pageSettings.pageSize)&&(this._pager._currentPageNo=1),this._pager.model.totalRecordsCount=t,this._pager._findLastPageNo(),this._pager._refreshPager());i=="filtering"?this._mainContainer.css("margin-top",-this.element.find(".e-m-grid-fbardiv").height()-1+"px"):i=="sorting"&&(r=n(this.element.find(".e-m-grid-hcell")),this.model.sortSettings.allowMultiSorting?n(r[this._currentColIdx]).removeClass("e-m-grid-ascending e-m-grid-descending e-m-clearsorting").addClass("e-m-grid-"+this._currentSortDirection):(r.removeClass("e-m-grid-ascending e-m-grid-descending e-m-clearsorting"),n(r[this._currentColIdx]).addClass("e-m-grid-"+this._currentSortDirection)))},_jsonSuccessAction:function(t,i){var o=this,r=t,u=null,f,e;this._curTable=this.element.find(".e-m-grid-content table");i=="paging"&&(o=this,this._pager._refreshPager(),this._selectionManager._parent=this._curTable);u=n(this._curTable).find("tbody:first")[0];n(u).empty();r&&r.length>0?n(u).html(n("#"+this.element[0].id+"_JSONTemplate").render(r)):(f=document.createElement("tr"),e=document.createElement("td"),n(e).addClass("e-m-grid-emptycell").attr("colspan","7").html(this._localizedLabels.emptyResult),n(f).append(e),n(u).append(f));this._hiddenColumns.length>0&&this.hideColumns(this._colHideList);this._handleQueryCell(r);this._onRequestSuccess(i)},_formatting:function(i,r,u){var f,h,o,s,c,l,e;return typeof r=="string"&&r.indexOf("Date(")!=-1&&(r=new Date(parseInt(r.replace(/[^0-9 +]/g,""))),this.data[u]=r),i=i.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),f=i,h=i.split("{0:"),c=i.split("}"),o=h[0],s=c[1],i.indexOf("{0:")!=-1?(l=new RegExp("\\{0(:([^\\}]+))?\\}","gm"),e=l.exec(i),e!=null&&r!=null?o!=null&&s!=null?o+t.format(r,e[2],t.preferredCulture().name)+s:t.format(r,e[2],t.preferredCulture().name):r!=null?r:""):this.data!=null&&this.data.Value==null?(n.each(this.data,function(n,t){f=f.replace(new RegExp("\\{"+n+"\\}","gm"),t)}),f):this.data.Value},_onRequestSuccess:function(t){var i,r;this.model.allowSorting&&t=="sorting"&&(!this.model.sortSettings.allowMultiSorting&&this._prevSortedCell&&n(this._prevSortedCell).removeClass(this._prevSortDirection.toLowerCase()),i=this,i.model.sortSettings.sortedColumns=[],n.each(this._sortedColumns,function(n,t){i.model.sortSettings.sortedColumns.push({columnName:t,sortDirection:i._sortDirection[n]})}));r={requestType:t};this._trigger("actionSuccess",r);this._prevSortDirection=this._currentSortDirection;this._prevSortedCell=this._currentClickedCell},_colNavigationHandler:function(){t.isMobile()?App.transferPage(t.getCurrentPage,"#"+this._id+"colnav",{transition:this.model.transition,parentSubPage:!0}):App.transferPage(this.element,"#"+this._id+"colnav",{transition:this.model.transition,parentSubPage:!0})},_touchStartHandler:function(i){var r=this._findColTarget(n(i.target));t.isWindows()&&t._touchStartPoints(i,this);(r.hasClass("e-m-grid-col-elem")||r.hasClass("e-m-icon-grid-clear")||this.model.allowColumnSelector&&r.hasClass("e-m-grid-colnav"))&&n(r).addClass("e-m-state-active");t.listenEvents([this.element],[t.moveEvent()],[this._touchMoveDelegate],!1)},_touchMoveHandler:function(i){n(i.target.parentElement).hasClass("e-m-state-active")?n(i.target.parentElement).removeClass("e-m-state-active").addClass("e-m-state-default"):n(i.target).hasClass("e-m-icon-grid-clear e-m-fontimage e-m-state-active")?n(i.target).removeClass("e-m-state-active"):null;(!t.isWindows()||t.isWindows()&&t._isTouchMoved(i,this))&&(this._touchMove=!0)},_findColTarget:function(n){return(n.hasClass("e-m-grid-hcell")||n.hasClass("e-m-grid-hcelldiv")||n.hasClass("e-m-icon-grid-sort")||n.hasClass("e-m-icon-grid-fltr")||n.hasClass("e-m-title"))&&(n=n.parent()),(n.hasClass("e-m-grid-hcelldiv")||n.hasClass("e-m-title"))&&(n=n.parent()),n.hasClass("e-m-grid-hcelldiv")&&(n=n.parent()),n},_touchEndHandler:function(i){var r,u;this.element.find(".e-m-grid-col-elem").removeClass("e-m-state-active");this._touchMove||(this.model.allowSelection&&this._selectionManager!=null&&this._selectionManager._selectHandler(i),this.model.allowColumnSelector&&n(i.target).hasClass("e-m-grid-colnav")&&(this._colNavigationHandler(i),n(i.target).removeClass("e-m-state-active")),n(i.target).hasClass("e-m-icon-grid-clear")&&n(i.target).removeClass("e-m-state-active"),r=i.target,n(r).hasClass("e-m-text-input")||(i.preventDefault(),i.returnValue=!1),u=n(r).parents("table:first"),this._currentColIdx&&(this._currentClickedCell=n(this.element.find(".e-m-grid-hbar").first().find("th")[this._currentColIdx]).find("div:first").first()),r!=null&&r.parentNode!=null&&(this._processSortDirection(i,r)&&this._currentSortColumn!=null&&(this.model.sortSettings.allowMultiSorting||(this._sortedColumns=[],this._sortDirection=[]),this._sendSortingRequest(this._currentSortColumn,this._currentSortDirection)),this.model.allowFiltering&&n(r).hasClass("e-m-icon-grid-fltr")&&(this._currentColIdx=n(r).parents("th.e-m-grid-hdrcell")[0].cellIndex,this._filteringMgr._currentFilterColumn=this.model.columns[this._currentColIdx],this._filteringMgr._displayFilterbar())),n(i.target).hasClass("e-m-text-input")||n(i.target).hasClass("e-m-icon-grid-clear")||n(i.target).hasClass("e-m-icon-grid-fltr")||!this.model.allowFiltering||(this._filteringMgr._fDiv.css("visibility","hidden"),n(this.element).find(".e-m-grid-container").css("margin-top",-this._filteringMgr._fDiv.height()-1+"px"),this._filteringMgr._fBarVisible=!1,this._filteringMgr._fInput.blur()));this._touchMove=!1;t.listenEvents([this.element],[t.moveEvent()],[this._touchMoveDelegate],!0)},_processSortDirection:function(t,i){var r,u;if(this.model.allowSorting&&(n(i).hasClass("e-m-grid-hcelldiv")||n(i).hasClass("e-m-icon-grid-sort")||n(i).hasClass("e-m-title"))){if(r=n(t.target).parents("th.e-m-grid-hdrcell")[0],n(r).find(".e-m-sort").length>0){if(this._currentColIdx=r.cellIndex,u=n(r).find("div.e-m-grid-col-elem")[0],this._currentColIdx>=0){if(this._currentSortColumn=this.getColumnMemberByIndex(this._currentColIdx),this._currentSortColumn==null)return!1;this._currentSortDirection=n(u).hasClass("e-m-grid-ascending")?"descending":n(u).hasClass("e-m-grid-descending")?"clearsorting":"ascending"}return!0}return!1}return!1},_wireEvents:function(n){t.listenEvents([this.element,this.element,this.element],[t.startEvent(),t.endEvent()],[this._touchStartDelegate,this._touchEndDelegate],n);this._filteringMgr&&this.model.allowFiltering&&this._filteringMgr._wireEvents(n);this._pager&&this.model.allowPaging&&this._pager._wireEvents(n);var i="onorientationchange"in window?"orientationchange":"resize";t.listenEvents([window],[i],[this._orientationChangeDelegate],n)},_createDelegates:function(){this._touchStartDelegate=n.proxy(this._touchStartHandler,this);this._touchEndDelegate=n.proxy(this._touchEndHandler,this);this._touchMoveDelegate=n.proxy(this._touchMoveHandler,this);this._orientationChangeDelegate=n.proxy(this._orientationChangeHandler,this)},_getGridContentTable:function(){return this._gridContentTable},_orientationChangeHandler:function(){if(this.model.scrollSettings.height=="auto"){var n=this;t.isAndroid()?setTimeout(function(){n._resize()},400):this._resize()}},_resize:function(){var n,u=this.element.find(".e-m-grid-content"),r=window.innerHeight,i;n=this.element.parent().height()>r?r:this.element.parent().height();n-=this.element.find(".e-m-grid-header").outerHeight()+(t.isNullOrUndefined(this.element.nextAll(":not(script,style)").outerHeight())?0:this.element.nextAll(":not(script,style)").outerHeight());n=this.model.allowPaging?n-this.element.find(".e-m-grid-pager").height():n;i=this._verScroller.ejmScrollPanel("instance");i.model.targetHeight=n;i.refresh()},_setGridContentTable:function(n){this._gridContentTable=n},_hideHeaderColumn:function(t){var f=this.element.find(".e-m-grid-header .e-m-grid-table"),h=f.find("thead"),c=h.find(".e-m-grid-hdrcell"),i=f.find("colgroup").find("col"),e=[],o,r,s,u,l;for(n.map(this.model.columns,function(n){e.push(n.headerText)}),o=this._isDuplicate(e),r=0;r<t.length;r++)s=o?this.getColumnByField(t[r]):this.getColumnByHeaderText(t[r]),u=n.inArray(s,this.model.columns),l=c.eq(u).addClass("e-hide").index(),i.length>this.model.columns.length&&(i=i.slice(i.length-this.model.columns.length)),i.eq(u).addClass("e-hide"),n(this._curTable).find("col").eq(u).addClass("e-hide")},_showHeaderColumn:function(t){var u=this.element.find(".e-m-grid-header .e-m-grid-table"),s=u.find("thead"),h=s.find(".e-m-grid-hdrcell"),c=u.find("colgroup").find("col"),f=[],e,i,o,r,l;for(n.map(this.model.columns,function(n){f.push(n.headerText)}),e=this._isDuplicate(f),i=0;i<t.length;i++)o=e?this.getColumnByField(t[i]):this.getColumnByHeaderText(t[i]),r=n.inArray(o,this.model.columns),l=h.eq(r).removeClass("e-hide").index(),c.eq(r).removeClass("e-hide"),n(this._curTable).find("col").eq(r).removeClass("e-hide")},_showHideColumns:function(t,i,r,u){var f,h=0,e,c,l=[],a,o,s,v;if(n.map(this.model.columns,function(n){l.push(n.headerText)}),a=this._isDuplicate(l),n.isArray(i))for(f=0;f<i.length;f++)e=n.inArray(i[f],u),e!=-1&&(r.push(i[f]),u.splice(e,1));else e=n.inArray(i,u),e!=-1&&(r.push(i),u.splice(e,1));for(f=0;f<this.model.columns.length;f++)if(c=a?this.model.columns[f].field:this.model.columns[f].headerText,n.inArray(c,r)!=-1&&(o=!1,s="addClass",t=="show"&&(o=!0,s="removeClass"),this.model.columns[f].visible=o,n(this._curTable).find("tr td:nth-child("+(f+1)+")")[s]("e-hide"),h++),r.length==h)break;v=t=="hide"?"_hideHeaderColumn":"_showHeaderColumn";this[v](r)},_isDuplicate:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],i[t]=i[t]>=1?i[t]+1:1;for(t in i)if(i[t]>1)return!0;return!1},_initColumns:function(n){for(var i,f,u,e;n.items!=r;)n=n.items[0];if(this.model.columns.length==0&&n)for(i in n)n.hasOwnProperty(i)&&(typeof n[i]!="object"||n[i]instanceof Date)&&(f=n[i],this.model.columns.push({field:i,type:f!=null?f.getDay?"date":typeof f:null}));else for(u=0;u<this.model.columns.length;u++)t.isNullOrUndefined(this.model.columns[u].type)&&(e=n[this.model.columns[u].field],this.model.columns[u].type=e!=null?e.getDay?"date":typeof e:null)},_refresh:function(){this._destroy();this.element.addClass("m-grid");this._render();this._wireEvents(!1)},_destroy:function(){this._wireEvents(!0);this.model.allowColumnSelector&&(this.element.unwrap(),n(t.getCurrentPage().find("#"+this._id+"colnav")).remove());n(t.getCurrentPage().find("#"+this._id+"_validationDlg")).length&&n(t.getCurrentPage().find("#"+this._id+"_validationDlg")).ejmDialog("destroy").remove();n(t.getCurrentPage().find("#"+this._id+"_warningDlg")).length&&n(t.getCurrentPage().find("#"+this._id+"_warningDlg")).ejmDialog("destroy").remove();n(t.getCurrentPage().find("#"+this._id+"_JSONTemplate")).length&&(n(t.getCurrentPage().find("#"+this._id+"_JSONTemplate")).remove(),this._colInit=!1);this._verScroller=r;this._horScroller=r;this._pageScroller=r;this.element.empty().removeAttr("class");n("#"+this._id+"_pager").remove()},_setFormat:function(){for(var f,r,u,i=[],n=0;n<this.model.columns.length;n++)(this.model.columns[n].type=="date"||this.model.columns[n].type=="datetime")&&i.push(this.model.columns[n]);if(i.length>0&&!t.isNullOrUndefined(this.model.currentViewData))for(n=0,f=this.model.currentViewData.length;n<f;n++)for(r=0;r<i.length;r++)u=t.getObject(i[r].field,this.model.currentViewData[n]),/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(u)&&t.createObject(i[r].field,new Date(u),this.model.currentViewData[n])},_processDataSource:function(n,t,i){var r=this,u;this._checkWaitingPopup()&&this.element.ejWaitingPopup("show");u=t.executeQuery(n);u.done(function(t){n.queries=[];r.model.pageSettings.totalRecordsCount=t.count;r.model.currentViewData=t.result;r._setFormat();r._colInit||r._addInitialTemplate();r.model.pageSettings.type=="scrollable"&&r.model.allowPaging&&r._controlInit&&r._renderScrollPager();!r.model.totalRecorsCount&&r.model.allowPaging&&r._pager._findLastPageNo();r._afterDataProcess(i,t.result);r._verScroller&&r._verScroller.ejmScrollPanel("refresh");r.model.allowPaging&&r._pager._lastPNo>1&&r._pageScroller.ejmScrollPanel("scrollToElement",r._pager.element.find(".e-m-page-num")[parseInt(r.currentPage())-1],100,!0,!0);r._checkWaitingPopup()&&r.element.ejWaitingPopup("hide");r.selectedRowIndex()!=-1&&r.model.allowSelection&&r._rowSelect&&(r._selectionManager._selectRow(r.selectedRowIndex()),r._rowSelect=!1);r._initialRender&&r._trigger("dataBound",{model:r.model});r._initialRender=!1});u.always(function(){var n={requestType:i};r._trigger("actionComplete",n)});u.fail(function(){r._checkWaitingPopup()&&r.element.ejWaitingPopup("hide");var n={requestType:i};r._trigger("actionFailure",n)})},refreshContent:function(i){var o,f,e,u;i||(i="refresh");o={requestType:i};this._trigger("actionBegin",o);u=this;u.model.pageSettings.type=="scrollable"&&u.model.allowPaging&&u._pgrTxtContainer&&(this._pgrTxtContainer.find(".e-m-page-num").removeClass("e-m-state-active"),n(this._pgrTxtContainer.find(".e-m-page-num")[parseInt(u.currentPage())-1]).addClass("e-m-state-active"));u.selectedRowIndex()!=-1&&(u._rowSelect=!0);this.dataSource()instanceof t.DataManager?(f=this.dataSource(),f.dataSource.table!=null&&f.dataSource.table.css("display","none"),e=this._createQuery(i),columnNames=[],n.each(this.model.columns,function(n,t){columnNames.push(t.field)}),e=e.select(columnNames),this.dataSource().ready!=r?(u=this,this.dataSource().ready.done(function(n){f=t.DataManager(n.result);u._processDataSource(e,f,i)})):this._processDataSource(e,f,i)):(f=t.DataManager(this.dataSource()),e=this._createQuery(i),this._processDataSource(e,f,i))},scrollRefresh:function(){this._verScroller&&this._verScroller.ejmScrollPanel("refresh");this._horScroller&&this._horScroller.ejmScrollPanel("refresh");this._pageScroller&&this._pageScroller.ejmScrollPanel("refresh")},getColumnByHeaderText:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].headerText==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t==this.model.columns.length?null:this.model.columns[t]},getColumnByIndex:function(n){return n<this.model.columns.length?this.model.columns[n]:null},getColumnIndexByField:function(n){for(var t=0;t<this.model.columns.length;t++)if(this.model.columns[t].field==n)break;return t},getColumnMemberByIndex:function(n){return n<0?null:this.model.columns.length>n?this.model.columns[n].field:null},getColumnFieldNames:function(){for(var t=[],n=0;n<this.model.columns.length;n++)this.model.columns[n].field&&t.push(this.model.columns[n].field);return t},hideColumns:function(n){this._showHideColumns("hide",n,this._hiddenColumns,this._visibleColumns)},showColumns:function(n){this._showHideColumns("show",n,this._visibleColumns,this._hiddenColumns)},_setModel:function(i){var u=!1,e=!1,f=!1;for(var r in i){typeof i[r]=="object"&&r!="dataSource"&&r!="columns"&&n.each(i[r],function(n){r=n});switch(r){case"locale":this._setLocale(i.locale);u=!0;break;case"renderMode":this.model.renderMode=i.renderMode;this._setRenderMode();break;case"pageSize":this._pager.model.pageSize=this.model.pageSettings.pageSize;f=!0;break;case"currentPage":this.model.allowPaging&&((t.isNullOrUndefined(i[r])||this._pager.model.currentPage!=parseInt(this.currentPage()))&&(this._pager.model.currentPage=parseInt(this.currentPage())),f=!0);break;case"display":case"type":this.model.allowPaging&&(n.extend(this.model.pageSettings,i[r]),this._pager.model.display=this.model.pageSettings.display,this._pager.model.type=this.model.pageSettings.type,u=!0);break;case"dataSource":e=!0;this._initialRender=!0;break;case"allowPaging":case"allowFiltering":case"allowSorting":case"allowScrolling":case"allowColumnSelector":case"height":case"columns":u=!0;break;case"sortedColumns":this.model.allowSorting&&(this._sortedColumns=[],this._sortDirection=[],this._handleInitialSorting(),this.refreshContent("sorting"));break;case"filteredColumns":this.model.allowFiltering&&(this._filters=i.filterSettings.filteredColumns,this.refreshContent("filtering"));break;case"showCaption":this.model.showCaption?this._renderCaption():this.element.find(".e-m-caption-row").remove();break;case"caption":this.element.find(".e-m-caption-row span").html(this.model.caption+": "+this.dataSource().length+" "+this._localizedLabels.captionText);break;case"cssClass":this.element.addClass(this.model.cssClass).removeClass(this._cssClass);this._cssClass=this.model.cssClass;break;case"selectedRowIndex":this.model.allowSelection&&(this._selectionManager._selectRow(this.selectedRowIndex()),this._rowSelect=!1)}}u?(this._controlInit=!0,this._verScroller&&(this._verScroller.remove(),this._verScroller=null),this._horScroller&&(this._horScroller.remove(),this._horScroller=null),this._pageScroller&&(this._pageScroller.remove(),this._pageScroller=null),this._refresh()):e?this.refreshContent("refresh"):f&&this.refreshContent("paging")}})}(jQuery,Syncfusion),function(n,t,i){t.widget("ejmGridFilter","ej.mobile.GridFilter",{_rootCSS:"e-m-filter",_init:function(){this.page=t.getCurrentPage();this._fDiv=this.page.find("#"+this.model.id+" .e-m-grid-fbardiv");this._fInput=n(this._fDiv).find("input");this._currentFilterColumn=null;this.predicate="or";this._filterValue="";this._oldFilterValue="";this._operatorValue=[];this._filterValueOldLenth=0;this._filterValueCurrentLenth=0;this._currentFilterbarValue=null;this._alreadyFilterProcessed=!1;this._oldFilterColumn=null;this._skipFilterProcess=!1;this._tokens=["%","<","<=",">",">=","!","=","*"];this._tokenNames=["startswith","lessthan","lessthanorequal","greaterthan","greaterthanorequal","notequal","equal","contains"];this._tokenType=null;this._fltrValCollection=[];this._colFltrValues=[]},_wireEvents:function(i){var f=i?"off":"on",r=n(this._fDiv).find(".e-m-icon-grid-clear"),u=n(this._fDiv).find("form");t.listenEvents([r,u],[t.endEvent(),"submit"],[n.proxy(this._clearHandler,this),n.proxy(this._filterBarValueHandler,this)],i);this.model.filterBarMode=="immediate"&&t.listenEvents([this._fInput],["keyup"],[n.proxy(this._filterBarValueHandler,this)],i)},_clearHandler:function(){this._fInput.val("");this._fInput.focus()},_displayFilterbar:function(){var r,i,t;this._fBarVisible?(n("#"+this.model.id).find(".e-m-grid-container").css("margin-top",-this._fDiv.height()-1+"px"),this._fBarVisible=!1,this._fInput.blur()):(this._fInput.val(""),this._colFltrValues[this._currentFilterColumn.field]!=null?this._fInput.val(this._colFltrValues[this._currentFilterColumn.field]):this.model.filterConditions&&(t="",i=this,n.each(this.model.filterConditions,function(u,f){if(f.columnName==i._currentFilterColumn.field){if(r&&(t=t+" "+(r=="or"?"||":"&&")+" "),f.operator=="startswith"||f.operator=="endswith")t=t+(f.operator=="startswith"?f.value+"%":"%"+f.value);else{var u=n.inArray(f.operator,i._tokenNames);u=u==-1?1:u;t=t+i._tokens[u]+f.value}r=f.predicate}})),i=this,t=i._fInput.val(),this._fInput.attr("placeholder",this._currentFilterColumn.headerText),this._fDiv.css("visibility","visible"),n("#"+this.model.id).find(".e-m-grid-container").css("margin-top","0px"),this._fBarVisible=!0)},_filterBarValueHandler:function(t){if(t.preventDefault(),!(t.type=="submit"&&this.model.filterBarMode=="immediate")){var i=t.keyCode;if(i!=9){if(this._currentFilterColumn==null)return;if(this._currentFilterColumn!=this._oldFilterColumn&&(this._filterValueOldLenth=0),this._currentFilterbarValue=n(this.page.find("#"+this.model.id+" input")).val(),this._colFltrValues[this._currentFilterColumn.field]=this._currentFilterbarValue,this._filterValueCurrentLenth=this._currentFilterbarValue.length,(this._filterValueCurrentLenth==0&&this._filterValueOldLenth==0||this._currentFilterbarValue==this._oldFilterValue)&&this._currentFilterColumn==this._oldFilterColumn)return!1;if(this._skipFilterProcess=this._checkForSkipInput(),this._skipFilterProcess)return this._skipFilterProcess=!1,!1;this._checkFilterProcess()}}return!1},_createValidationDialog:function(){this._validationDlg=t.buildTag("div").append(t.buildTag("div.e-m-filter-validate").html(this._gridObj._localizedLabels.filterValidation));this._validationDlg.attr("id",this.model.id+"_validationDlg");this.element.append(this._validationDlg);this._validationDlg.ejmDialog({leftButtonCaption:this._gridObj._localizedLabels.filterOk,renderMode:this._gridObj.model.renderMode,title:this._gridObj._localizedLabels.filterWarning,mode:"alert",enableAutoOpen:!1,enableModal:!0});this._validationDlg.ejmDialog({buttonTap:t.proxy(this._OkBtnHandler,this)})},_OkBtnHandler:function(){this._validationDlg.ejmDialog("close")},_checkFilterProcess:function(){this.model.filterBarMode=="immediate"?this._alreadyFilterProcessed?(this._stopTimer(),this._startTimer()):(this._alreadyFilterProcessed=!0,this._startTimer()):this._processFilter()},_startTimer:function(){var n=this;this._timer=window.setTimeout(function(){n._processFilter()},n.model.interval)},_stopTimer:function(){this._oldFilterColumn=this._currentFilterColumn;this._filterValueOldLenth=this._filterValueCurrentLenth;this._timer!=null&&window.clearTimeout(this._timer)},_processFilter:function(){this._findPredicate();this._fInput.blur();this._gridObj||(this._gridObj=n("#"+this.model.id).ejmGrid("instance"));!this._skipFilterProcess&&this._fltrValCollection.length>0?(this._gridObj._sendFilteringRequest(this._operatorValue,this._fltrValCollection,this.predicate),this._fBarVisible=this._fBarVisible?!1:!0):(this._validationDlg||this._createValidationDialog(),this._validationDlg.find(".e-m-filter-validate").html(this._gridObj._localizedLabels.filterTypeValidation+"  "+this._currentFilterColumn.type+" "),this._validationDlg.ejmDialog("open"));this._oldFilterValue=this._filterValue;this._filterValue="";this._fltrValCollection=[];this._operatorValue=[];this._tokenType=null},_findPredicate:function(){var t=this._currentFilterbarValue.replace(/ and /i," AND ").replace(/ or /i," OR ").replace(/ && /i," AND ").replace(" || "," OR "),i=t.split(" "),n;i.length!=0?i[1]=="AND"?(this._skipFilterProcess=!1,this.predicate="and",n=t.split(" AND "),this._validator(n)):i[1]=="OR"?(this._skipFilterProcess=!1,this.predicate="or",n=t.split(" OR "),this._validator(n)):this._validateFilterValue(this._currentFilterbarValue.trim()):this._validateFilterValue(this._currentFilterbarValue.trim())},_validator:function(t){var i=this;n.each(t,function(n,t){t!=""?(i._validateFilterValue(t,i._currentFilterColumn.type),i._filterValue=""):(i._skipFilterProcess=!0,i.filterValueCollection=[],i._operatorValue=[],i.TokenType=null)})},_checkNumericDataType:function(){if(this._currentFilterColumn.type&&(this._currentFilterColumn.type.toLowerCase()=="number"||this._currentFilterColumn.type.toLowerCase()=="double"||this._currentFilterColumn.type.toLowerCase()=="decimal"||this._currentFilterColumn.type.toLowerCase()=="datetime"||this._currentFilterColumn.type.toLowerCase()=="date"))return!0},_checkForSkipInput:function(){var i=!1,u=this,r,t;if(this._checkNumericDataType()&&n.each([">","<","=","!"," "],function(n,t){t==u._currentFilterbarValue&&(i=!0)}),this._currentFilterColumn.type&&this._currentFilterColumn.type.toLowerCase()=="string")for(r=[">","<","=","!"],t=0;t<this._currentFilterbarValue.length;t++)jQuery.inArray(this._currentFilterbarValue[t],r)!=-1&&(i=!0);return i},_validateFilterValue:function(n){var u,f,r;if(this._findFilterValue(n),(this._tokenType==null||this._tokenType==i)&&this._currentFilterColumn.type&&this._currentFilterColumn.type.toLowerCase()=="string"?this._operatorValue.push(t.FilterOperators.startsWith):(this._tokenType==null||this._tokenType==i)&&this._checkNumericDataType()&&this._operatorValue.push(t.FilterOperators.equal),this._currentFilterColumn.type&&(this._currentFilterColumn.type.toLowerCase()=="datetime"||this._currentFilterColumn.type.toLowerCase()=="date")&&(u=this._currentFilterColumn.format==""?t.preferredCulture().calendar.patterns.d:this._currentFilterColumn.format.split(":")[1].replace("}",""),this._filterValue!=""&&(this._filterValue=t.parseDate(this._filterValue,u))),this._checkNumericDataType()){for(f=[">","<","=","!"," "],r=0;r<this._filterValue.length;r++)char=this._filterValue.charAt(r),jQuery.inArray(char,f)!=-1&&(this._skipFilterProcess=!0);this._currentFilterColumn.type&&this._currentFilterColumn.type.toLowerCase()!="datetime"&&this._currentFilterColumn.type.toLowerCase()!="date"&&this._filterValue!=""&&(this._filterValue=parseFloat(this._filterValue))}(this.model.filterConditions.length>0&&this._filterValue==""||this.model.filterConditions.length>=0&&this._filterValue!="")&&this._fltrValCollection.push(this._filterValue);this._operatorValue.length!=this._fltrValCollection.length&&this._operatorValue.push(t.FilterOperators.equal)},_findOperators:function(n,i){switch(i){case"%":n?(this._tokenType="startsWith",this._operatorValue.push(t.FilterOperators.startsWith)):(this._tokenType="endsWith",this._operatorValue.push(t.FilterOperators.endsWith));break;case"*":this._tokenType="contains";this._operatorValue.push(t.FilterOperators.contains);break;case"<":this._tokenType="lessThan";this._operatorValue.push(t.FilterOperators.lessThan);break;case"<=":this._tokenType="lessThanOrEqual";this._operatorValue.push(t.FilterOperators.lessThanOrEqual);break;case"=":this._tokenType="equal";this._operatorValue.push(t.FilterOperators.equal);break;case"!":this._tokenType="notEqual";this._operatorValue.push(t.FilterOperators.notEqual);break;case">=":this._tokenType="greaterThanOrEqual";this._operatorValue.push(t.FilterOperators.greaterThanOrEqual);break;case">":this._tokenType="greaterThan";this._operatorValue.push(t.FilterOperators.greaterThan)}},_checkNumeric:function(n){var i="0123456789.<>=!",r=!0,t;for(this._currentFilterColumn.type&&(this._currentFilterColumn.type.toLowerCase()=="datetime"||this._currentFilterColumn.type.toLowerCase()=="date")&&(i="0123456789.AMP<>=!/: "),t=0;t<n.length;t++)char=n.charAt(t),jQuery.inArray(char,i)==-1&&(r=!1);return r},_findFilterValue:function(n){var i,r;n!=""&&(this._currentFilterColumn.type&&this._currentFilterColumn.type.toLowerCase()=="string"?this._getToken(n):this._currentFilterColumn.type&&this._currentFilterColumn.type.toLowerCase()=="boolean"&&n.length==1?(i="01",jQuery.inArray(n,i)!=-1?(n=="1"?this._filterValue="True":n=="0"&&(this._filterValue="False"),this._operatorValue.push(t.FilterOperators.equal)):this._skipFilterProcess=!0):this._checkNumericDataType()?(r=this._checkNumeric(n),r?this._getToken(n):this._skipFilterProcess=!0):this._skipFilterProcess=!0)},_getToken:function(n){(n==null||n==i)&&(this._filterValue="");var t=n.split("");this._getTokens(t,t[0])},_getTokens:function(n,i){var o,e,r,u,f;if(this._isToken(i))if(this._findOperators(this._filterValue!="",i),this._tokenType=="lessThan"||this._tokenType=="greaterThan"){if(n.length>1)if(n.splice(0,1),u=n,f=u[0],this._isToken(f)){if(o=this._tokenType,this._findOperators(!1,f),this._tokenType=="equal")if(o=="lessThan"){for(this._tokenType="lessThanOrEqual",e=this._operatorValue.length,r=this._operatorValue.length;r>e-2;r--)this._operatorValue.splice(r-1,1);this._operatorValue.push(t.FilterOperators.lessThanOrEqual)}else if(o=="greaterThan"){for(this._tokenType="greaterThanOrEqual",e=this._operatorValue.length,r=this._operatorValue.length;r>e-2;r--)this._operatorValue.splice(r-1,1);this._operatorValue.push(t.FilterOperators.greaterThanOrEqual)}this._skipAndTokenizeBlock(u)}else this._getFilterValue(u,f)}else n.length>1&&(n.splice(0,1),u=n,f=u[0],this._getFilterValue(u,f));else this._getFilterValue(n,i)},_getFilterValue:function(n,t){this._filterValue+=t;this._skipAndTokenizeBlock(n)},_skipAndTokenizeBlock:function(n){if(n.length>1){n.splice(0,1);var t=n,i=t[0];this._getTokens(t,i)}},_isToken:function(n){return jQuery.inArray(n,this._tokens)==-1?!1:!0}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmGridPager","ej.mobile.GridPager",{_rootCSS:"e-m-grid-core",_init:function(){this._page=t.getCurrentPage();this._findLastPageNo();this._pElement=this._page.find("#"+this.model.id+"_pager");this._pLast=this._pElement.find(".e-m-grid-last");this._pFirst=this._pElement.find(".e-m-grid-first");this._pPrev=this._pElement.find(".e-m-grid-prev");this._pNext=this._pElement.find(".e-m-grid-next");this._pTxt=this._pElement.find(".e-m-grid-ptxt")},_wireEvents:function(i){var r=this._pElement.find(".e-m-grid-inrpgr >div");t.listenEvents([r,r],[t.endEvent(),t.startEvent()],[n.proxy(this._pageHandler,this),n.proxy(this._tStartHandler,this)],i);this.model.type==t.mobile.Grid.PagerType.Scrollable&&t.listenEvents([this._pElement.find(".e-m-grid-ptxt")],[t.endEvent()],[n.proxy(this._scrollPageHandler,this)],i)},_findLastPageNo:function(){this._lastPNo=this.model.totalRecordsCount%this.model.pageSize>0?parseInt(this.model.totalRecordsCount/this.model.pageSize)+1:parseInt(this.model.totalRecordsCount/this.model.pageSize)},_isPageBtn:function(n){var t=n.hasClass("e-m-grid-next")||n.hasClass("e-m-grid-prev")||n.hasClass("e-m-grid-last")||n.hasClass("e-m-grid-first")?!0:!1,i=n.hasClass("e-m-grid-dnext")||n.hasClass("e-m-grid-dprev")||n.hasClass("e-m-grid-dlast")||n.hasClass("e-m-grid-dfirst")?!0:!1;return t&&!i},_tStartHandler:function(t){var i=n(t.target),r="",u;i.hasClass("e-m-grid-next")&&!i.hasClass("e-m-grid-dnext")?r="hnext":i.hasClass("e-m-grid-prev")&&!i.hasClass("e-m-grid-dprev")?r="hprev":i.hasClass("e-m-grid-last")&&!i.hasClass("e-m-grid-dlast")?r="hlast":i.hasClass("e-m-grid-first")&&!i.hasClass("e-m-grid-dfirst")&&(r="hfirst");u=this._pElement.find(".e-m-grid-"+r);u.length>0&&u.css("display","block").addClass("e-m-state-active")},_pageHandler:function(t){this._tMove||this._sendPageRequest(n(t.target))},_scrollPageHandler:function(t){if(this._gridObj=this._gridObj?this._gridObj:n("#"+this.model.id).ejmGrid("instance"),!this._gridObj._touchMove&&n(t.target).hasClass("e-m-page-num")){var i=parseInt(this.model.currentPage);this.model.currentPage=parseInt(n(t.target).html());i!=this.model.currentPage&&(this._gridObj.currentPage(this.model.currentPage),this._gridObj.refreshContent("paging"))}},_sendPageRequest:function(t){var u=this.model.currentPage,i="",r;(t.hasClass("e-m-grid-hnext")||t.hasClass("e-m-grid-next"))&&!t.hasClass("e-m-grid-dnext")?(this.model.currentPage=this.model.currentPage+1,i="hnext"):(t.hasClass("e-m-grid-hprev")||t.hasClass("e-m-grid-prev"))&&!t.hasClass("e-m-grid-dprev")?(this.model.currentPage=this.model.currentPage-1,i="hprev"):t.hasClass("e-m-grid-hlast")||t.hasClass("e-m-grid-last")?(this.model.currentPage=this._lastPNo,i="hlast"):(t.hasClass("e-m-grid-hfirst")||t.hasClass("e-m-grid-first"))&&(this.model.currentPage=1,i="hfirst");r=this._pElement.find(".e-m-grid-"+i);r.length>0&&r.css("display","none").removeClass("e-m-state-active");this._gridObj||(this._gridObj=n("#"+this.model.id).ejmGrid("instance"));u!=this.model.currentPage&&(this._gridObj.currentPage(this.model.currentPage),this._gridObj.refreshContent("paging"));this._tMove=!1},_refreshPager:function(){this.model.type==t.mobile.Grid.PagerType.Normal?(this._pLast.removeClass("e-m-grid-dlast"),this._pNext.removeClass("e-m-grid-dnext"),this._pFirst.removeClass("e-m-grid-dfirst"),this._pPrev.removeClass("e-m-grid-dprev"),this.model.currentPage==this._lastPNo&&(this._pLast.addClass("e-m-grid-dlast"),this._pNext.addClass("e-m-grid-dnext")),this.model.currentPage==1&&(this._pFirst.addClass("e-m-grid-dfirst"),this._pPrev.addClass("e-m-grid-dprev")),this._pTxt.html(this.model.currentPage)):this.model.type==t.mobile.Grid.PagerType.Scrollable&&(this._gridObj||(this._gridObj=n("#"+this.model.id).ejmGrid("instance")),this._gridObj._updateScrollPager())}})}(jQuery,Syncfusion),function(n,t){t.widget("ejmGridSelectionManager","ej.mobile.GridSelectionManager",{_rootCSS:"e-m-grid-core",_init:function(){this._record={}},_selectRow:function(t,i){var r=this.element.find(".e-m-grid-content tr")[t],u;this._cleanUp();this._selectedRowIndex=r;r&&(this._setCurrentRecord(r.rowIndex),this._gridObj.selectedRowIndex(t),u={rowIndex:r.rowIndex,row:r,cell:i,data:this._record},this._gridObj._trigger("rowSelecting",u),n(r).find("td.e-m-grid-rowcell").addClass("e-m-state-active"),this._gridObj._trigger("rowSelected",u))},_setCurrentRecord:function(n){this._gridObj||(this._gridObj=this.element.ejmGrid("instance"));this._record=this._gridObj.model.currentViewData[n]},_getRow:function(t){return n(t).parents("tr:first")[0]},_getRowCell:function(t){return t.tagName=="TD"&&n(t).hasClass("e-m-grid-rowcell")?n(t):n(t).parents("td.e-m-grid-rowcell:first").length>0?n(t).parents("td.e-m-grid-rowcell:first"):n(n(t).parents("tr:first")[0]).find(".e-m-grid-rowcell")},_getAllRowCells:function(t){return n(t.parentNode).children("td:[class*=e-m-grid-rowcell]")},_deSelectRow:function(){if(this._selectedRowIndex!=null){this._setCurrentRecord(this._selectedRowIndex);var t={row:this._selectedRowIndex,record:this._record};n(this._selectedCell).removeClass("e-m-grid-current-cell");n(this._selectedRowIndex).find("td.e-m-grid-rowcell").removeClass("e-m-state-active")}},_cleanUp:function(){this._selectedRowIndex&&this._deSelectRow()},_selectHandler:function(t){var i=this._getRowCell(t.target),r=this._getRow(t.target),u=this.element.find(".e-m-grid-content table:first")[0];i==null||i.length<1||!n(i).hasClass("e-m-grid-rowcell")||n(i).parents("table:first")[0]!=u||this._selectRow(r.rowIndex,i[0])}});t.mobile.Grid.PagerDisplay={Normal:"normal",Fixed:"fixed"};t.mobile.Grid.PagerType={Normal:"normal",Scrollable:"scrollable"};t.mobile.Grid.Actions={Paging:"paging",Sorting:"sorting",Filtering:"filtering",Refresh:"refresh"};t.mobile.Grid.FilterBarMode={Immediate:"immediate",OnEnter:"onenter"};t.mobile.Grid.Locale=t.mobile.Grid.Locale||{};t.mobile.Grid.Locale["default"]=t.mobile.Grid.Locale["en-US"]={emptyResult:"No records to display",filterValidation:"Enter valid filter data",filterTypeValidation:"Enter valid filter data. The current filter column is of type",captionText:"Items",spinnerText:"loading...",HideColumnAlert:"Atleast one column must be displayed in grid",columnSelectorText:"Hide Column",columnSelectorDone:"OK",columnSelectorCancel:"Cancel",columnSelectorWarning:"Warning",filterOk:"Ok",filterWarning:"Warning"}}(jQuery,Syncfusion);ej.Ej3DRender=function(){},function(n){var r;ej.Ej3DRender.Polygons=[];ej.Ej3DRender.prototype={matrix3D:function(){},vector3D:function(){},BSPTreeBuilder:function(){},Graphics3D:function(){},polygon3D:function(){}};r=new ej.Ej3DRender;r.vector3D.prototype={x:"",y:"",z:"",Epsilon:1e-5,isValid:function(n){return!isNaN(n.x)&&!isNaN(n.y)&&!isNaN(n.z)},vector3D:function(n,t){this.x=n.x;this.y=n.y;this.z=t},vector3D:function(n,t,i){return this.x=n,this.y=t,this.z=i,{x:n,y:t,z:i}},vector3DMinus:function(n,t){return this.vector3D(n.x-t.x,n.y-t.y,n.z-t.z)},vector3DPlus:function(n,t){return this.vector3D(n.x+t.x,n.y+t.y,n.z+t.z)},vector3DMultiply:function(n,t){var i=n.y*t.z-t.y*n.z,r=n.z*t.x-t.z*n.x,u=n.x*t.y-t.x*n.y;return this.vector3D(i,r,u)},vector3dAND:function(n,t){return n.x*t.x+n.y*t.y+n.z*t.z},vector3DStarMultiply:function(n,t){var i=n.x*t,r=n.y*t,u=n.z*t;return this.vector3D(i,r,u)},getLength:function(n){var t=this.vector3dAND(n,n);return Math.sqrt(t)},normalize:function(){var n=this.getLength(),t,i,r;t/=n;i/=n;r/=n},getNormal:function(n,t,i){var f=this.vector3DMinus(n,t),e=this.vector3DMinus(i,t),u=this.vector3DMultiply(f,e),r=this.getLength(u);return r<this.Epsilon&&(r=0),{x:u.x/r,y:u.y/r,z:u.z/r}}};r.matrix3D.prototype={MATRIX_SIZE:4,matrix3D:function(n){for(var i=[],t=0;t<n;t++)i[t]=this.createArray(n);return i},isAffine:function(n){return n[0][3]==0&&n[1][3]==0&&n[2][3]==0&&n[3][3]==1},createArray:function(n){for(var i=[],t=0;t<n;++t)i[t]=0;return i},getIdentity:function(){for(var t=this.matrix3D(this.MATRIX_SIZE),n=0;n<this.MATRIX_SIZE;n++)t[n][n]=1;return t},getInvertal:function(n){for(var t,i=this.getIdentity(),r=0;r<this.MATRIX_SIZE;r++)for(t=0;t<this.MATRIX_SIZE;t++)i[r][t]=this.getMinor(n,r,t);return i=this.transposed(i),this.getMatrixMultiple(1/this.getDeterminant(n),i)},getMatrixMultiple:function(n,t){for(var r,i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)t[i][r]=t[i][r]*n;return t},getMatrixVectorMutiple:function(n,t){var r=n[0][0]*t.x+n[1][0]*t.y+n[2][0]*t.z+n[3][0],u=n[0][1]*t.x+n[1][1]*t.y+n[2][1]*t.z+n[3][1],f=n[0][2]*t.x+n[1][2]*t.y+n[2][2]*t.z+n[3][2],i;return this.isAffine(n)||(i=1/(n[0][3]*t.x+n[1][3]*t.y+n[2][3]*t.z+n[3][3]),r*=i,u*=i,f*=i),{x:r,y:u,z:f}},getMatrixVectorAnd:function(n,t){var i=n[0][0]*t.x+n[1][0]*t.y+n[2][0]*t.z,u=n[0][1]*t.x+n[1][1]*t.y+n[2][1]*t.z,f=n[0][2]*t.x+n[1][2]*t.y+n[2][2]*t.z;return r.vector3D.prototype.vector3D(i,u,f)},getMatrixAdd:function(n,t){for(var i,u=this.matrix3D(4),r=0;r<4;r++)for(i=0;i<4;i++)u[r][i]=n[r][i]+t[r][i];return u},getMatrixMultiplication:function(n,t){for(var i,f,r,o,e=this.getIdentity(),u=0;u<this.MATRIX_SIZE;u++)for(i=0;i<this.MATRIX_SIZE;i++){for(f=0,r=0;r<this.MATRIX_SIZE;r++)f+=n[r][i]*t[u][r],o=f;e[u][i]=f}return e},getMatrixEqual:function(n,t){for(var i,u=!0,r=0;r<n.length;r++)for(i=0;i<n.length;i++)n[r][i]!=t[r][i]&&(u=!1);return u},getMatrixNotEqual:function(n,t){for(var i,u=!0,r=0;r<n.length;r++)for(i=0;i<n.length;i++)n[r][i]!=t[r][i]&&(u=!1);return!u},getMinor:function(n,t,i){return((t+i)%2==0?1:-1)*this.getDeterminant(this.getMMtr(n,t,i))},getMMtr:function(n,t,i){for(var o,u,s,f=n.length-1,e=this.createArray(f),r=0;r<f;r++)for(o=r>=t?r+1:r,e[r]=this.createArray(f),u=0;u<f;u++)s=u>=i?u+1:u,e[r][u]=n[o][s];return e},getDeterminant:function(n){var u=n.length,r=0,i,t,f;if(u<2)r=n[0][0];else for(i=1,t=0;t<u;t++)f=this.getMMtr(n,t,0),r+=i*n[t][0]*this.getDeterminant(f),i=i>0?-1:1;return r},transform:function(n,t,i){var r=this.getIdentity();return r[3][0]=n,r[3][1]=t,r[3][2]=i,r},turn:function(n){var t=this.getIdentity();return t[0][0]=Math.cos(n),t[2][0]=-Math.sin(n),t[0][2]=Math.sin(n),t[2][2]=Math.cos(n),t},tilt:function(n){var t=this.getIdentity();return t[1][1]=Math.cos(n),t[2][1]=Math.sin(n),t[1][2]=-Math.sin(n),t[2][2]=Math.cos(n),t},transposed:function(n){for(var t,r=this.getIdentity(),i=0;i<this.MATRIX_SIZE;i++)for(t=0;t<this.MATRIX_SIZE;t++)r[i][t]=n[t][i];return r},shear:function(n,t,i,r,u,f){var e=this.getIdentity();return e[0]=n,e[0]=t,e[1]=i,e[1]=r,e[2]=u,e[2]=f,e}};r.Graphics3D.prototype={addVisual:function(n){return n==null||f.test(n)?-1:(n.Graphics3D=this,e.add(n))},getVisualCount:function(){return ej.Ej3DRender.Polygons.length()},remove:function(n){ej.Ej3DRender.Polygons.Remove(n)},clearVisual:function(){ej.Ej3DRender.Polygons=null},getVisual:function(){return ej.Ej3DRender.Polygons},prepareView:function(n,t,i,r,u,f){arguments.length==0?e.build():(ej.Ej3DRender.transform==null?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(u):ej.Ej3DRender.transform.mViewport=u,ej.Ej3DRender.tree||(ej.Ej3DRender.tree=[]),ej.Ej3DRender.transform.Rotation=i,ej.Ej3DRender.transform.Tilt=r,ej.Ej3DRender.transform.Depth=t,ej.Ej3DRender.transform.PerspectiveAngle=n,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),ej.Ej3DRender.tree[f._id]=e.build())},view:function(n,i,r,u,f,e,o){var h=32767,s;if(arguments.length==2){if(n==null)return;s=t.vector3D(0,0,h);this.drawBspNode3D(ej.Ej3DRender.tree[i._id],s,n,i)}else{if(n==null)return;ej.Ej3DRender.transform==null?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(f):ej.Ej3DRender.transform.mViewport=f;ej.Ej3DRender.transform.Rotation=r;ej.Ej3DRender.transform.Tilt=u;ej.Ej3DRender.transform.Depth=o;ej.Ej3DRender.transform.PerspectiveAngle=e;ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform);s=t.vector3D(0,0,h);this.drawBspNode3D(ej.Ej3DRender.tree[i._id],s,n,i)}},draw3DElement:function(n,t){n.Plane.element?n.Plane.element.tag=="text"||n.Plane.element.tag=="dataLabel"?f.drawText(n.Plane,t):n.Plane.element.tag=="polyline"?f.drawPolyLine(n.Plane,t):n.Plane.element.tag=="template"?f.drawTemplate(n.Plane,t):f.drawLine(n.Plane,t):f.draw(n.Plane,t)},drawBspNode3D:function(n,i,r,u){if(n!=null&&ej.Ej3DRender.transform!=null)for(;;){var e=t.vector3dAND(f.getNormal(ej.EjSvgRender.chartTransform3D.result(ej.Ej3DRender.transform),n.Plane.VectorPoints),i);if(e>n.Plane.D){if(n.Front!=null&&this.drawBspNode3D(n.Front,i,r,u),this.draw3DElement(n,u),n.Back!=null){n=n.Back;continue}}else if(n.Back!=null&&this.drawBspNode3D(n.Back,i,r,u),this.draw3DElement(n,u),n.Front!=null){n=n.Front;continue}break}}};r.BSPTreeBuilder.prototype={EPSILON:.0005,Polygon:[],add:function(n){return ej.Ej3DRender.Polygons.push(n),ej.Ej3DRender.Polygons.length-1},remove:function(n){ej.Ej3DRender.Polygons.splice(n,1)},clear:function(){ej.Ej3DRender.Polygons=[]},count:function(){return ej.Ej3DRender.Polygons.length},getNext:function(n,t){return n>=t?n-t:n<0?n+t:n},getNodeCount:function(n){return n==null?0:1+this.getNodeCount(n.Back)+this.getNodeCount(n.Front)},vector3DIndexClassification:function(n,t,i){return{index:t,result:i,vector:n,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCuttedBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCuttedFront:!1}},classifyPoint:function(n,t){var i="OnPlane",u=-t.D-r.vector3D.prototype.vector3dAND(n,t.normal);return u>this.EPSILON?i="OnBack":u<-this.EPSILON&&(i="OnFront"),i},classifyPolygon:function(n,t){var i=t.Points,f,h,s;if(i==null)return"Unknown";var e=0,o=0,u=0,c=n.normal,l=n.D;for(f=0,h=i.length;f<h;f++)if(s=-l-r.vector3D.prototype.vector3dAND(i[f],c),s>this.EPSILON?e++:s<-this.EPSILON?o++:u++,e>0&&o>0)break;return u==i.length?"OnPlane":o+u==i.length?"ToRight":e+u==i.length?"ToLeft":"Unknown"},splitPolygon:function(i,r){var w=[],b=[],rt,v,e,k,ut,u,o,ft;if(i.Points!=null){var l=[],s=[],h=[],k,d,g=i.Points.length;for(u=0;u<g;u++){var nt=i.Points[u],y=i.Points[this.getNext(u+1,g)],p=this.classifyPoint(nt,r),a=this.classifyPoint(y,r),c=this.vector3DIndexClassification(nt,l.length,p);if(l.push(c),p!=a&&p!="OnPlane"&&a!="OnPlane"){var it=t.vector3DMinus(nt,y),et=t.vector3DMinus(t.vector3DStarMultiply(r.normal,-r.D),y),ot=t.vector3dAND(et,r.normal),st=ot/t.vector3dAND(r.normal,it),ht=t.vector3DPlus(y,t.vector3DStarMultiply(it,st)),tt=this.vector3DIndexClassification(ht,l.length,"OnPlane");l.push(tt);s.push(tt);h.push(tt)}else if(p=="OnPlane"){if(rt=i.Points[this.getNext(u-1,g)],v=this.classifyPoint(rt,r),v==a)continue;if(v!="OnPlane"&&a!="OnPlane")s.push(c),h.push(c);else if(v=="OnPlane")switch(a){case"OnBack":s.push(c);break;case"OnFront":h.push(c)}else if(a=="OnPlane")switch(v){case"OnBack":s.push(c);break;case"OnFront":h.push(c)}}}if(h.length!=0||s.length!=0){for(u=0;u<s.length-1;u+=2)e=s[u],o=s[u+1],e.CuttingBackPoint=!0,o.CuttingBackPoint=!0,e.CuttingBackPairIndex=o.index,o.CuttingBackPairIndex=e.index;for(u=0;u<h.length-1;u+=2)e=h[u],o=h[u+1],e.CuttingFrontPoint=!0,o.CuttingFrontPoint=!0,e.CuttingFrontPairIndex=o.index,o.CuttingFrontPairIndex=e.index;for(u=0;u<s.length-1;u++)(e=s[u],e.alreadyCuttedBack)||(k=this.cutOutBackPolygon(l,e),k.length>2&&(ut=f.polygon3D(k,i),w.push(n.extend({},ut))));for(u=0;u<h.length-1;u++)(o=h[u],o.alreadyCuttedFront)||(d=this.cutOutFrontPolygon(l,o),d.length>2&&(ft=f.polygon3D(d,i),b.push(n.extend({},ft))))}}else w.push(i),b.push(i);return{BackP:w,FrontP:b}},cutOutFrontPolygon:function(n,t){for(var r=[],i=t,s,u,f,e,o;;)if(i.alreadyCuttedFront=!0,r.push(i.vector),s=n[i.CuttingFrontPairIndex],i.CuttingFrontPoint)if(s.alreadyCuttedFront)if(u=n[this.getNext(i.index-1,n.length)],f=n[this.getNext(i.index+1,n.length)],u.result!="OnFront"||u.alreadyCuttedFront){if(f.result!="OnFront"||f.alreadyCuttedFront)return r;i=f}else i=u;else i=s;else if(e=n[this.getNext(i.index-1,n.length)],o=n[this.getNext(i.index+1,n.length)],e.result=="OnBack"||e.alreadyCuttedFront){if(o.result=="OnBack"||o.alreadyCuttedFront)return r;i=o}else i=e;return r},cutOutBackPolygon:function(n,t){for(var f=[],i=t,e,r,u;;)if(i.alreadyCuttedBack=!0,f.push(i.vector),e=n[i.CuttingBackPairIndex],i.CuttingBackPoint)if(e.alreadyCuttedBack)if(r=n[this.getNext(i.index-1,n.length)],u=n[this.getNext(i.index+1,n.length)],r.result!="OnBack"||r.alreadyCuttedBack){if(u.result!="OnBack"||u.alreadyCuttedBack)return f;i=u}else i=r;else i=e;else if(r=n[this.getNext(i.index-1,n.length)],u=n[this.getNext(i.index+1,n.length)],r.result=="OnFront"||r.alreadyCuttedBack){if(u.result=="OnFront"||u.alreadyCuttedBack)return f;i=u}else i=r;return f},build:function(){var f,e,o,i,s,h,c,n,l,t,r,u;if(arguments[0]){if(f=arguments[0],f.length<1)return null;for(e={Back:null,Front:null,Plane:null},o=f[0],e.Plane=o,i=[],s=[],h=1,c=f.length;h<c;h++)if(n=f[h],n!=o){l=this.classifyPolygon(o,n);switch(l){case"OnPlane":case"ToRight":s.push(n);break;case"ToLeft":i.push(n);break;case"Unknown":if(n.element&&(n.element.tag=="line"||n.element.tag=="text"))i.push(n);else{for(t=this.splitPolygon(n,o),r=0;r<t.BackP.length;r++)t.BackP[r].Name=t.BackP[r].Name+"back",i.push(t.BackP[r]);for(u=0;u<t.FrontP.length;u++)t.FrontP[u].Name=t.FrontP[u].Name+"front",s.push(t.FrontP[u])}}}return i.length>0&&(e.Back=this.build(i)),s.length>0&&(e.Front=this.build(s)),e}return this.build(ej.Ej3DRender.Polygons)}};r.polygon3D.prototype={epsilon:1e-5,normal:{x:0,y:0,z:0},vector:new(new ej.Ej3DRender).vector3D,polygon3D:function(n,t,i,r,u,f,e,o){var h,s;if(arguments.length==3)this.calcNormal(arguments[0],arguments[1],arguments[2]);else return arguments.length==2?(n=arguments[0],this.calcNormal(n[0],n[1],n[2]),this.vectorPoints=n,this.calcNormal(this.vectorPoints),s=arguments[1],s.Normal=this.normal,s.normal=this.normal,s.Points=n,s.VectorPoints=this.vectorPoints,s.IsSplitted=!0,s.d=this.d,s.D=this.d,s):(this.calcNormal(n[0],n[1],n[2]),this.vectorPoints=n,this.calcNormal(this.vectorPoints),h={Tag:"path",Parent:arguments[arguments.length-1]},s={Normal:this.normal,normal:this.normal,Points:n,VectorPoints:this.vectorPoints,Index:i,Tag:t,Name:o?o:null,StrokeThickness:u,Opacity:f,Fill:e,d:this.d,D:this.d},arguments.length!=1&&(s.Element=h),s)},createLine:function(n,i,r,u,f,e){var s=n.width,o=[];return o[0]=t.vector3D(i,r,e),o[1]=t.vector3D(i+s,f+s,e),o[2]=t.vector3D(u,f,e),this.line3D(n,o)},createPolyline:function(n,i){if(n.length==2){var r=n[1];n.push(t.vector3D(r.x,r.y,r.z))}return this.polyLine3D(i,n)},polyLine3D:function(n,t){var i=this.polygon3D(t);return i.element=n,i},line3D:function(n,t){var i=this.polygon3D(t);return i.element=n,i},text3D:function(n,t){var i=this.polygon3D(t);return i.element=n,i},createCylinder:function(n,r,u,f,e,o,s,h,c,l,a,v){var y=0,rt,ut,k,d,b=24,g=360/b,nt=Math.PI/180,ft=parseFloat((n.z+r.z)/2),w=[],p=[],tt=[],it=[],et=r.y-n.y<r.z-n.z?parseFloat((r.y-n.y)/2):parseFloat((r.z-n.z)/2),ot=r.x-n.x<r.z-n.z?parseFloat((r.x-n.x)/2):parseFloat((r.z-n.z)/2),st=parseFloat((n.x+r.x)/2),ht=parseFloat((n.y+r.y)/2),e=e.toLowerCase();switch(e){case"bar":case"stackingbar":case"stackingbar100":for(b++;b--;)ut=parseFloat(ht+et*Math.cos(y*g*nt)),k=parseFloat(ft+et*Math.sin(y*g*nt)),p[y]={Y:ut,Z:k},tt.push(t.vector3D(n.x,p[y].Y,p[y].Z)),it.push(t.vector3D(r.x,p[y].Y,p[y].Z)),y>0&&(d=[t.vector3D(n.x,p[y-1].Y,p[y-1].Z),t.vector3D(r.x,p[y-1].Y,p[y-1].Z),t.vector3D(r.x,p[y].Y,p[y].Z),t.vector3D(n.x,p[y].Y,p[y].Z)],w[y+1]=this.polygon3D(d,u,f,s,0,c,s,"_"+(y+1).toString()+"_"+a,v),i.addVisual(w[y+1])),y++;break;case"column":case"stackingcolumn":case"stackingcolumn100":for(b++;b--;)rt=parseFloat(st+ot*Math.cos(y*g*nt)),k=parseFloat(ft+ot*Math.sin(y*g*nt)),p[y]={X:rt,Z:k},tt.push(t.vector3D(p[y].X,n.y,p[y].Z)),it.push(t.vector3D(p[y].X,r.y,p[y].Z)),y>0&&(d=[t.vector3D(p[y-1].X,n.y,p[y-1].Z),t.vector3D(p[y-1].X,r.y,p[y-1].Z),t.vector3D(p[y].X,r.y,p[y].Z),t.vector3D(p[y].X,n.y,p[y].Z)],w[y+1]=this.polygon3D(d,u,f,s,0,c,s,"_"+(y+1).toString()+"_"+a,v),i.addVisual(w[y+1])),y++}return w[0]=this.polygon3D(it,u,f,o,0,c,s,"_0_"+a,v),w[1]=this.polygon3D(tt,u,f,o,h,c,s,"_1_"+a,v),i.addVisual(w[0]),i.addVisual(w[1]),w},createBox:function(n,r,u,f,e,o,s,h,c,l,a,v){var y=[],p=[t.vector3D(n.x,n.y,n.z),t.vector3D(r.x,n.y,n.z),t.vector3D(r.x,r.y,n.z),t.vector3D(n.x,r.y,n.z)],w=[t.vector3D(n.x,n.y,r.z),t.vector3D(r.x,n.y,r.z),t.vector3D(r.x,r.y,r.z),t.vector3D(n.x,r.y,r.z)],b=[t.vector3D(n.x,n.y,r.z),t.vector3D(r.x,n.y,r.z),t.vector3D(r.x,n.y,n.z),t.vector3D(n.x,n.y,n.z)],k=[t.vector3D(n.x,r.y,r.z),t.vector3D(r.x,r.y,r.z),t.vector3D(r.x,r.y,n.z),t.vector3D(n.x,r.y,n.z)],d=[t.vector3D(n.x,n.y,n.z),t.vector3D(n.x,n.y,r.z),t.vector3D(n.x,r.y,r.z),t.vector3D(n.x,r.y,n.z)],g=[t.vector3D(r.x,n.y,n.z),t.vector3D(r.x,n.y,r.z),t.vector3D(r.x,r.y,r.z),t.vector3D(r.x,r.y,n.z)],v;return arguments[10]?(y[0]=this.polygon3D(p,u,f,o,h,c,s,"_0_"+a,v),y[1]=this.polygon3D(w,u,f,o,h,c,s,"_1_"+a,v),y[2]=this.polygon3D(b,u,f,o,h,c,s,"_2_"+a,v),y[3]=this.polygon3D(k,u,f,o,h,c,s,"_3_"+a,v),y[4]=this.polygon3D(d,u,f,o,h,c,s,"_4_"+a,v),y[5]=this.polygon3D(g,u,f,o,h,c,s,"_5_"+a,v)):(v=arguments[arguments.length-1],y[0]=this.polygon3D(p,u,f,o,h,c,s,"_0_"+f,v),y[1]=this.polygon3D(w,u,f,o,h,c,s,"_1_"+f,v),y[2]=this.polygon3D(b,u,f,o,h,c,s,"_2_"+f,v),y[3]=this.polygon3D(k,u,f,o,h,c,s,"_3_"+f,v),y[4]=this.polygon3D(d,u,f,o,h,c,s,"_4_"+f,v),y[5]=this.polygon3D(g,u,f,o,h,c,s,"_5_"+f,v)),l?(i.addVisual(y[0]),i.addVisual(y[1]),i.addVisual(y[2]),i.addVisual(y[3]),i.addVisual(y[4]),i.addVisual(y[5])):(i.addVisual(y[5]),i.addVisual(y[4]),i.addVisual(y[0]),i.addVisual(y[1]),i.addVisual(y[2]),i.addVisual(y[3])),y},calcNormal:function(){var n,r;if(arguments.length>=3){var u=arguments[0],e=arguments[1],o=arguments[2],s=t.vector3DMinus(u,e),h=t.vector3DMinus(o,e),f=t.vector3DMultiply(s,h),i=t.getLength(f);i<this.epsilon&&(i=1);this.normal=t.vector3D(f.x/i,f.y/i,f.z/i);this.d=-(this.normal.x*u.x+this.normal.y*u.y+this.normal.z*u.z);arguments[3]&&(arguments[3].normal=this.normal,arguments.d=this.d)}else for(n=arguments[0],this.calcNormal(n[0],n[1],n[2],arguments[1]),r=3;r<n.length&&this.test();r++)this.calcNormal(n[r],n[0],n[r/2])},test:function(){return!t.isValid(this.normal)},transform:function(n,i){var r,f;if(i.Points!=null){for(r=0;r<i.Points.length;r++)i.VectorPoints[r]=i.Points[r]=u.getMatrixVectorMutiple(n,i.Points[r]);this.calcNormal(i.VectorPoints,i)}else f=n*i.normal*-i.d,i.normal=u.getMatrixVectorAnd(n,i.normal),t.normalize(),i.d=-(i.normal&f)},getPoint:function(n,i,r,u){var f;if(typeof n=="number")return f=-(r.x*n+r.y*i+u)/r.z,t.vector3D(n,i,f);var e=n,o=i,s=t.vector3DMinus(t.vector3DStarMultiply(r,-u),e),h=t.vector3dAND(s,r),c=h/t.vector3dAND(r,o);return t.vector3DPlus(e,t.vector3DStarMultiply(o*c))},getNormal:function(n,i){var f,r;if(i!=null)for(f=t.getNormal(u.getMatrixVectorMutiple(n,i[0]),u.getMatrixVectorMutiple(n,i[1]),u.getMatrixVectorMutiple(n,i[2])),r=3;r<i.length&&!t.isValid(f)&&i[r/2];r++){var e=u.getMatrixVectorMutiple(n,i[r]),o=u.getMatrixVectorMutiple(n,i[0]),s=u.getMatrixVectorMutiple(n,i[r/2]);f=t.getNormal(e,o,s)}else f=u.getMatrixVectorAnd(n),t.normalize();return f},createTextElement:function(n,t,i,r){var u=[],f=n.x,e=n.y,o=t.Width,s=t.Height;return u[0]=this.vector.vector3D(f,e,n.z),u[1]=this.vector.vector3D(f+o,e+s+r,n.z),u[2]=this.vector.vector3D(f+o+i,e+s+r,n.z),this.text3D(t,u)},redraw:function(){},drawPolyLine:function(n,t){var e=ej.Ej3DRender.transform,u=ej.EjSvgRender.utils._getStringBuilder(),o=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[0],e),i,f,s,r;for(u.append("M "+o.x+" "+o.y+" "),i=0;i<n.VectorPoints.length;i++)f=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[i],e),u.append("L "+f.x+" "+f.y+" ");s=u.toString();r={id:n.element.id,"stroke-dasharray":n.element.dashArray,"stroke-width":n.element.width,stroke:n.element.stroke,d:s};r.id=r.id.replace(/[^a-zA-Z0-9]/g,"");t.svgRenderer.drawPath(r,n.element.child)},drawLine:function(n,t){var i=ej.Ej3DRender.transform;if(i!=null){var u=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[0],i),f=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[2],i),r={id:n.element.id,x1:u.x,y1:u.y,x2:f.x,y2:f.y,"stroke-dasharray":n.element.dashArray,"stroke-width":n.element.width,stroke:n.element.stroke,opacity:n.element.opacity};r.id=r.id.replace(/[^a-zA-Z0-9]/g,"");t.svgRenderer.drawLine(r,n.element.child)}},drawTemplate:function(n,t){var i=n.element,u=ej.Ej3DRender.transform,r;u!=null&&(r=ej.EjSvgRender.chartTransform3D.toScreen(n.VectorPoints[0],u),ej.EjSeriesRender.prototype.drawLabelTemplate(i.Label.series,i.Label.series.points[i.Label.pointIndex],i.Label.pointIndex,{X:r.x,Y:r.y},t))},drawText:function(t,i){var r=t.element,o=ej.Ej3DRender.transform,c,w;if(o!=null){var e=ej.EjSvgRender.chartTransform3D.toScreen(t.VectorPoints[0],o),s=e.x,h=e.y;if(r.tag=="text")c={id:r.id,x:s,y:h,fill:r.font.color,"font-size":r.font.size,"font-family":r.font.fontFamily,"font-style":r.font.fontStyle,"font-weight":r.font.fontWeight,opacity:r.font.opacity,"text-anchor":r.TextAnchor,cursor:"default",transform:r.Angle?"rotate("+r.Angle+","+s+","+h+")":null},i.svgRenderer.drawText(c,t.element.Label.Text,t.element.child,t.element.font);else{var u=r.series,l=u.yAxis&&u.yAxis.labelFormat?u.yAxis.labelFormat:"",b=r.point.text?r.point.text:r.point.y+l.substring(l.indexOf("}")+1),a=ej.EjSvgRender.utils._measureText(b,null,u.marker.dataLabel.font),f=u.marker.dataLabel.margin,k=a.width+f.left+f.right,v=a.height+f.top+f.bottom,y={X:e.x,Y:e.y},p;w=u.marker.dataLabel.shape?u.marker.dataLabel.shape:u.marker.dataLabel.shape?u.marker.dataLabel.shape:"None";n.each(i.model.symbolShape,function(n){w.toLowerCase()==n.toLowerCase()&&(p=n)});var d=y.X-f.left/2+f.right/2,g=y.Y-f.top/2-v/f.top+f.bottom/2,nt=n.inArray(u,i.model.series);ej.EjSeriesRender.prototype.dataLabelSymbol(nt,u,r.pointIndex,d,g,k,v,p,i)}}},draw:function(i,r){var o,s,a,h;if(i.VectorPoints!=null&&!(i.VectorPoints.length<=0)){var c=ej.Ej3DRender.transform,l=ej.EjSvgRender.utils._getStringBuilder(),u=i.Fill,y=r.svgRenderer.checkColorFormat(u);if(y||(u=r.colorNameToHex(u)),o={Segments:null,StartPoint:null},c!=null)for(o.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[0],c),l.append("M "+o.StartPoint.x+" "+o.StartPoint.y+" "),s=0;s<i.VectorPoints.length;s++)a=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[s],c),l.append("L "+a.x+" "+a.y+" ");var p=l.toString(),f="Light",e=2*(Math.abs(t.vector3dAND(i.normal,t.vector3D(0,0,1)))-1),v=2*(Math.abs(t.vector3dAND(i.normal,t.vector3D(0,1,0)))-1),w=2*(Math.abs(t.vector3dAND(i.normal,t.vector3D(1,0,0)))-1);e==w?(f="ZLight",u=this.applyZLight(u,r)):v==e||e!=0&&v<e?(f="XLight",u=this.applyXLight(u,r)):e<0?(f="ZLight",u=this.applyZLight(u,r)):(f="Light",u=u);r.model.AreaType=="none"&&(i.StrokeThickness=0);h={id:r.svgObject.id+"_"+i.Name,name:f,fill:u,stroke:i.Stroke,"stroke-width":i.StrokeThickness,opacity:i.Opacity,d:p};r.svgRenderer.drawPath(h,i.Element.Parent);r.model.previousID&&r.model.touchCross&&n("#"+h.id).insertAfter(n("#"+r.model.previousID));r.model.previousID=h.id}},applyXLight:function(n,t){var i=t.svgRenderer.hexToRGB(n);return i.R=parseInt(i.R*.7),i.G=parseInt(i.G*.7),i.B=parseInt(i.B*.7),t.svgRenderer.hexFromRGB(i)},applyZLight:function(n,t){var i=t.svgRenderer.hexToRGB(n);return i.R=parseInt(i.R*.9),i.G=parseInt(i.G*.9),i.B=parseInt(i.B*.9),t.svgRenderer.hexFromRGB(i)},update:function(t,i,r){var u,s,h,c;if(i.VectorPoints!=null&&!(i.VectorPoints.length<=0)){i.VectorPoints=t;var f=ej.Ej3DRender.transform,e=ej.EjSvgRender.utils._getStringBuilder(),l=i.Fill,o={Segments:null,StartPoint:null};if(f!=null)for(o.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[0],f),e.append("M "+o.StartPoint.x+" "+o.StartPoint.y+" "),u=0;u<i.VectorPoints.length;u++)s=ej.EjSvgRender.chartTransform3D.toScreen(i.VectorPoints[u],f),e.append("L "+s.x+" "+s.y+" ");h=e.toString();n(r.chartObj.chart3D).find("#"+r.chartObj.svgObject.id+"_"+i.Name).length>0&&(c=n(r.chartObj.chart3D).find("#"+r.chartObj.svgObject.id+"_"+i.Name)[0],r.chartObj.svgRenderer._setAttr(n(c),{d:h}))}}};var r=new ej.Ej3DRender,t=new r.vector3D,u=new r.matrix3D,e=new r.BSPTreeBuilder,f=new r.polygon3D,i=new r.Graphics3D}(jQuery);ej.Ej3DAxisRenderer=function(){};ej.Ej3DSeriesRender=function(){};ej.Ej3DChart=function(){};ej.series3DTypes={},function(n){ej.Ej3DAxisRenderer.prototype={_drawAxes:function(n,t,i){t.majorGridLines.visible&&this._drawGridLines3D(t,i);t.visible&&t.majorTickLines.visible&&this._renderTicks3D(t,t.majorTickLines.size,t.majorTickLines.width,i);t.visible&&(this._drawAxisLabel(t,i),this._drawMultiLevelLabel(n,t,i),this._drawAxisTitle(t))},_drawAxisTitle:function(t){var i,tt,a,v,e,u,o,s;if(t.title.visible){i=t.title.font;this.gAxisTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"axisTitle_"+t.name});var h=t._opposed,b={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},k=10,f=ej.EjSvgRender.chartTransform3D.transform3D(b);f.mViewport=b;f.Rotation=0;f.Tilt=0;f.Depth=100;f.PerspectiveAngle=90;ej.EjSvgRender.chartTransform3D.transform(f);var d=ej.EjSvgRender.chartTransform3D.result,g=ej.Ej3DRender.prototype.matrix3D.prototype,nt=t.orientation.toLowerCase(),y=!1,c,l;for(a=0;a<this.model._axes.length;a++)if(c=this.model._axes[a],c.orientation.toLowerCase()==nt)for(v=0;v<c.multiLevelLabels.length;v++)if(c.multiLevelLabels[v].visible){y=!0;break}if(nt=="horizontal"){var it=this.model.elementSpacing+t._LableMaxWidth.height,p=ej.EjSvgRender.utils._measureText(t.title.text,t.width,t.title.font).height/2,r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={Text:t.title.text,location:{x:t.width/2,y:it+p+t.majorTickLines.size+t.axisLine.width+this.model.wallSize+t._multiLevelLabelHeight},axes:t};this._trigger("axesTitleRendering",r);i=t.title.font;e=r.data.location.x+t.x;u=h?t.y-r.data.location.y:r.data.location.y+t.y;l={Width:p.width,Height:p.height,Label:r.data,TextAnchor:"middle",tag:"text",font:i,id:this.svgObject.id+"axisTitle",child:this.chart3D};y?(o={id:this.svgObject.id+"axisTitle",x:e,y:u,fill:i.color,"font-size":i.size,"font-family":i.fontFamily,"font-style":i.fontStyle,"font-weight":i.fontWeight,opacity:i.opacity,"text-anchor":"middle"},s=ej.EjSvgRender.chartTransform3D.toScreen({x:e,y:u,z:0},f,d,g),o.x=s.x,o.y=s.y,this.svgRenderer.drawText(o,r.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(e,u,0),l,10,10))}else{var w=ej.EjSvgRender.utils._measureText(t.title.text,t.height,t.title.font),e=h?t.x+(4*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.width+this.model.wallSize+t._multiLevelLabelHeight):t.x-(3*this.model.elementSpacing+t._LableMaxWidth.width+t.majorTickLines.size+t.axisLine.width+this.model.wallSize+t._multiLevelLabelHeight),r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={Text:t.title.text,location:{x:w.width/2,y:0},axes:t};this._trigger("axesTitleRendering",r);i=t.title.font;var u=r.data.location.y+(t.y+t.height)+t.height/-2,ut=h?90:-90,rt=h?25:-25;l={Width:w.width,Height:w.height,Angle:-90,Label:r.data,TextAnchor:"middle",tag:"text",font:i,id:this.svgObject.id+"_YAxisTitle",child:this.chart3D};y?(o={id:tt,x:e,y:u,fill:i.color,"font-size":i.size,"font-family":i.fontFamily,"font-style":i.fontStyle,"font-weight":i.fontWeight,opacity:i.opacity,"text-anchor":"middle",transform:"rotate(-90,"+e+","+(h?u+k:u-k)+")"},s=ej.EjSvgRender.chartTransform3D.toScreen({x:e,y:u,z:0},f,d,g),o.x=s.x+rt,o.y=s.y,this.svgRenderer.drawText(o,r.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(e,u,0),l,10,10))}}},_drawMultiLevelLabel:function(t,i,r){var vt,yt,rt,g,y,dt,pt,st,wi,wt,bi;this.gMultiLevelEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_axisMultiLevelLabels_"+t});var rt,w,ut,e,b,c,hi,ft,o,s,k,ci=0,ki,li,di=i.multiLevelLabels.length,bt=this.model,kt=bt.elementSpacing,f=10,u=0,h=0,ai,l,et,ii,ri,ui,y,dt,ct,a,lt,nt,fi,tt=bt.m_AreaBounds,d,ot=i.visibleRange,ei,gt=bt.wallSize,it=i._opposed,vi=r.axes[i.name]._validCross,oi,at=i.orientation.toLowerCase(),yi=vi?i.y:tt.Y+(!it&&tt.Height),si,gi=vi?i.x:tt.X+(it&&tt.Width),v,st,ni=[],ti,ht,pi={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},p=ej.EjSvgRender.chartTransform3D.transform3D(pi);for(p.mViewport=pi,p.Rotation=0,p.Tilt=0,p.Depth=100,p.PerspectiveAngle=bt.perspectiveAngle,ej.EjSvgRender.chartTransform3D.transform(p),vt=ej.EjSvgRender.chartTransform3D.result,yt=ej.Ej3DRender.prototype.matrix3D.prototype,rt=0;rt<di;rt++)if(e=i.multiLevelLabels[rt],b=this.svgObject.id+"_"+i.name+"MultiLevelLabels_"+t+"_"+rt,e.text!=""&&e.visible){if(l=e._level,et="middle",c=e.font,ht=e.border.width,ct=e.maximumTextWidth,si=e.textAlignment.toLowerCase(),dt=y=e.text,k=e.textOverflow.toLowerCase(),d=ej.EjSvgRender.utils._measureText(e.text,tt.Width,e.font),hi=(e.end-e.start)/2,ft=(e.start+hi-ot.min)/ot.delta,o=(e.start-ot.min)/ot.delta,s=(e.end-ot.min)/ot.delta,i.isInversed&&(ft=isNaN(ft)?0:1-ft,o=isNaN(o)?0:1-o,s=isNaN(s)?0:1-s),at=="horizontal"?(u=Math.round(i.width*ft)+tt.X+i.plotOffset,h=it?yi-gt-i.majorTickLines.size-kt-f/2-i._LableMaxWidth.height:yi+gt+i.majorTickLines.size+kt+i._LableMaxWidth.height,o=Math.round(i.width*o)+tt.X+i.plotOffset,s=Math.round(i.width*s)+tt.X+i.plotOffset,ut=ct?ct:s-o-f):(h=Math.round(i.plotOffset+i.y+i.height*(1-ft)),u=it?i.x+gt+i.majorTickLines.size+i.axisLine.width+kt/2+i._LableMaxWidth.width+i.prevHeight[l]+i.multiLevelLabelHeight[l]/2:gi-gt-i.majorTickLines.size-kt/2-i._LableMaxWidth.width-i.prevHeight[l]-i.multiLevelLabelHeight[l]/2,o=Math.round(i.plotOffset+i.y+i.height*(1-o)),s=Math.round(i.plotOffset+i.y+i.height*(1-s)),ut=ct?ct:i.multiLevelLabelHeight[l]+f),at=="horizontal"&&(h=it?h-i.prevHeight[l]:h+i.prevHeight[l]),si=="far"?(u=u+ut/2-ht/2,et="end"):si=="near"&&(et="start",u=u-ut/2+ht/2),g=ej.EjAxisRenderer.prototype._triggerMultiLevelLabelsRendering(dt,u,h,k,c,e.border,this),y=dt=g.text,u=g.location.x,h=g.location.y,k=g.textOverflow.toLowerCase(),c=g.font,c.color=c.color?c.color:i.multiLevelLabelsFontColor,ki=g.border,li=g.border.type.toLowerCase(),ht=g.border.width,v={id:b,x:u,y:h,fill:c.color,"font-size":c.size,"font-family":c.fontFamily,"font-style":c.fontStyle,"font-weight":c.fontWeight,opacity:c.opacity,"text-anchor":et},k!="none"&&(y=ej.EjAxisRenderer.prototype.textOverflowMultiLevelLabels(i,ut,y,dt,k,c,d,{x:u,y:h},null,this)),k=="wrap"||k=="wrapandtrim")for(pt=h,w=0;w<y.length;w++)d=ej.EjSvgRender.utils._measureText(y[w],null,c),w!=0&&(pt=it?pt-d.height:pt+d.height),ai={Width:d.width,Height:d.height,Label:{Text:y[w]},TextAnchor:et,tag:"text",font:c,id:b+"_"+w,child:this.chart3D},v.id=v.id+"_"+w,st=ej.EjSvgRender.chartTransform3D.toScreen({x:u,y:pt+f/2,z:0},p,vt,yt),v.x=st.x,v.y=st.y,this.svgRenderer.drawText(v,y[w],this.gMultiLevelEle);if(u=at=="horizontal"?u:it?u+f:u-f,k!="wrap"&&k!="wrapandtrim"&&(ai={Width:d.width,Height:d.height,Label:{Text:y},TextAnchor:et,tag:"text",font:c,id:b,child:this.chart3D},st=ej.EjSvgRender.chartTransform3D.toScreen({x:u,y:h+f/2,z:0},p,vt,yt),v.x=st.x,v.y=st.y,this.svgRenderer.drawText(v,y,this.gMultiLevelEle)),wi=at=="horizontal"?{bounds:{x:o,y:h-f,height:i.multiLevelLabelHeight[l],width:ut},axisIndex:t,multiLevelLabel:e}:{bounds:{x:u-a/2-f/2,y:s,height:o-s,width:a},axisIndex:t,multiLevelLabel:e},this.model.multiLevelLabelRegions.push(wi),li!="none"&&ht>0){for(b=this.svgObject.id+"_"+i.name+"MultiLevelLabelsBorder_"+t+"_"+rt,wt=h-f+i.multiLevelLabelHeight[l]+f/2,bi=e.border.color?e.border.color:i.multiLevelLabelsColor,at=="horizontal"?(ii={x1:o,y1:h-f,x2:s,y2:h-f},ri={x1:o,y1:wt,x2:s,y2:wt},ui={x1:o,y1:h-f,x2:o,y2:wt},fi={x1:s,y1:h-f,x2:s,y2:wt}):(a=i.multiLevelLabelHeight[l]-f/2,ii={x1:u-a/2-f/2,y1:s,x2:u+a/2+f/2,y2:s},ri={x1:u-a/2-f/2,y1:o,x2:u+a/2+f/2,y2:o},ui={x1:u-a/2-f/2,y1:s,x2:u-a/2-f/2,y2:o},fi={x1:u+a/2+f/2,y1:s,x2:u+a/2+f/2,y2:o}),ti=0;ti<4;ti++){switch(ti){case 0:lt=b+"_top";nt=ii;break;case 1:lt=b+"_bottom";nt=ri;break;case 2:lt=b+"_left";nt=ui;break;case 3:lt=b+"_right";nt=fi}ni[0]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(nt.x1,nt.y1,ci);ni[1]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(nt.x2,nt.y2,ci);ei=ej.EjSvgRender.chartTransform3D.toScreen(ni[0],p,vt,yt);oi=ej.EjSvgRender.chartTransform3D.toScreen(ni[1],p,vt,yt);v={id:lt,x1:ei.x,y1:ei.y,x2:oi.x,y2:oi.y,stroke:bi,"stroke-width":ht};this.svgRenderer.drawLine(v,this.gMultiLevelEle)}this.svgRenderer.append(this.gMultiLevelEle,this.svgObject)}}},_textTrim:function(n,t,i){var e=t.length,f,u,o=ej.EjSvgRender.utils._measureText(t,this.model.m_AreaBounds.Width,i),r;if(o.width>n){for(r=e-1;r>=0;--r)if(u=t.substring(0,r)+"...",f=ej.EjSvgRender.utils._measureText(u,this.model.m_AreaBounds.Width,i),f.width<=n)return u}else return t},_textWrap:function(n,t,i){for(var o=t.toString().split(" "),r="",f=[],s=o.length,u="",e=0;e<s;e++)u=o[e],ej.EjSvgRender.utils._measureText(r.concat(u),this.model.m_AreaBounds.Width,i).width<n?r=r.concat((r===""?"":" ")+u):r!==""?(f.push(this._textTrim(n,r,i)),r=u):(f.push(this._textTrim(n,u,i)),u=""),r&&e===s-1&&f.push(this._textTrim(n,r,i));return f},_textWrapByLength:function(n,t,i){var u=0,e=[],f="",o,r;for(t=t.toString(),o=t.length,r=0;r<=o;r++)f=u==0?t.slice(u,r):"-"+t.slice(u,r),ej.EjSvgRender.utils._measureText(f,this.model.m_AreaBounds.Width,i).width>n-5?(e.push(f),u=r++):r===o&&e.push(f);return e},_multipleRows:function(n,t,i,r){for(var u,e,o,s=[],h,f=n-1;f>=0;f--)u=r.visibleLabels[f],o=ej.EjSvgRender.utils._measureText(u.Text,this.model.m_AreaBounds.Width,r.font),e=ej.EjSvgRender.utils._valueToCoefficient(r,f)*r.width+r.x,h=t<e+o.width/2,h?(u.index=u.index?u.index:0,s.push(u.index),i.index=i.index>u.index?i.index:u.index+1):i.index=s.indexOf(u.index)>-1?i.index:u.index},_drawAxisLabel:function(n,t){for(var w,e,f,v,r,y,o=[],l=null,g=n.visibleLabels.length,a=this.model.m_AreaBounds,c=n._opposed,b,k=t.axes[n.name]._validCross,d=k?n.y:a.Y+(!c&&a.Height),nt=k?n.x:a.X+(c&&a.Width),i=0;i<g;i++)if(!ej.util.isNullOrUndefined(n.visibleLabels[i].Text)){var s=0,u=0,tt=0,it=0,p,h;if(n.visibleLabels[i].originalText=n.visibleLabels[i].Text,e=ej.EjSvgRender.utils._measureText(n.visibleLabels[i].Text,this.model.m_AreaBounds.Width,n.font),f=(n.visibleLabels[i].Value-n.visibleRange.min)/n.visibleRange.delta,f=n.isInversed?1-f:f,f=isNaN(f)?0:f,n.orientation.toLowerCase()=="horizontal"?(tt=s=Math.round(n.width*f)+this.model.m_AreaBounds.X+n.plotOffset,u=c?d-this.model.wallSize-n.majorTickLines.size-this.model.elementSpacing/2:d+this.model.wallSize+n.majorTickLines.size+this.model.elementSpacing,w="middle"):(u=it=Math.round(n.plotOffset+n.y+e.height/4+n.height*(1-f)),s=c?n.x+n.majorTickLines.size+n.axisLine.width+this.model.elementSpacing/2:nt-this.model.wallSize-n.majorTickLines.size-this.model.elementSpacing/2,w=c?"start":"end"),o.push({x:s,y:u,size:e}),v=n.width/n.visibleLabels.length-5,r=o[i],(r.x-r.size.width/2<n.x&&i===0||r.x+r.size.width/2>n.x+n.width&&i===n.visibleLabels.length-1)&&n.labelIntersectAction!="trim"&&n.labelIntersectAction.indexOf("wrap")<0)if(n.edgeLabelPlacement==="hide")continue;else n.edgeLabelPlacement==="shift"&&(i==0?r.x=s=n.x+r.size.width/2:i==n.visibleLabels.length-1&&(r.x=s=n.x+n.width-r.size.width/2));if(n.orientation.toLowerCase()=="horizontal")if(n.labelRotation)l=n.labelRotation,y=ej.EjSvgRender.utils.rotatedLabel(n,this,n.labelRotation,n.visibleLabels[i].Text,!0),u+=y.height/2;else if(n.labelIntersectAction=="trim")n.visibleLabels[i].Text=this._textTrim(v,n.visibleLabels[i].Text,n.font);else if(n.labelIntersectAction=="wrapByWord")n.visibleLabels[i].Text=this._textWrap(v,n.visibleLabels[i].Text,n.font);else if(n.labelIntersectAction=="wrap")n.visibleLabels[i].Text=this._textWrapByLength(v,n.visibleLabels[i].Text,n.font);else if(n.labelIntersectAction=="rotate45"||n.labelIntersectAction=="rotate90")l=n.labelIntersectAction.indexOf("45")>-1?45:90,y=ej.EjSvgRender.utils.rotatedLabel(n,this,l,n.visibleLabels[i].Text,!0),u+=y.height/2;else if(n.labelIntersectAction==="multipleRows")p=r.x,p-=e.width/2,this._multipleRows(i,p,n.visibleLabels[i],n),u=n.visibleLabels[i].index?u+n.visibleLabels[i].index*(e.height+5):u;else if(n.labelIntersectAction==="hide"){if(h=h?h:0,i!=0&&o[h].x+o[h].size.width/2>=o[i].x-o[i].size.width/2)continue;h=i}b={Width:e.width,Height:e.height,Label:n.visibleLabels[i],TextAnchor:w,tag:"text",font:n.font,id:this.svgObject.id+n.orientation+i,child:this.chart3D,Angle:l};this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(s,u,0),b,10,10))}},_renderTicks3D:function(n,t,i,r){for(var s,f,o,y=n.visibleLabels.length,p,h=this.model.m_AreaBounds,w=n.y,e=0;e<y;e++){var c=0,l=0,a=0,v=0,u=(n.visibleLabels[e].Value-n.visibleRange.min)/n.visibleRange.delta;if(u=n.isInversed?1-u:u,u=isNaN(u)?0:u,n.orientation.toLowerCase()=="horizontal"?l=c=Math.round(n.width*u)+h.X+n.plotOffset:a=v=Math.round(n.plotOffset+n.height*(1-u)+n.y),f=this._calculatePosition3D(n,n.tickLinesPosition,t,i,c,a,l,v,r),o={width:n.majorTickLines.width,stroke:n.majorTickLines.color,child:this.chart3D,tag:"line"},o.id=this.svgObject.id+n.name+"_majorTickLines_"+e,this.graphics.addVisual(this.polygon.createLine(o,f.X1,f.Y1,f.X2,f.Y2,0)),n.minorGridLines.visible&&n.minorTicksPerInterval>0&&e<y-1)for(p=n.visibleRange.interval/(n.minorTicksPerInterval+1),s=0;s<n.minorTicksPerInterval;s++)u=ej.EjSvgRender.utils._valueToCoefficient(n,n.visibleLabels[e].Value+p*(s+1)),u=isNaN(u)?0:u,n.orientation.toLowerCase()=="horizontal"?c=l=Math.round(n.plotOffset+h.Width*u+h.X):a=v=Math.round(n.plotOffset+h.Height*(1-u))+n.y,f=this._calculatePosition3D(n,n.tickLinesPosition,t,i,c,a,l,v,r),o={width:n.minorTickLines.width,stroke:n.minorTickLines.color,child:this.chart3D,tag:"line"},o.id=this.svgObject.id+n.name+"_minorTickLines_"+e+s,this.graphics.addVisual(this.polygon.createLine(o,f.X1,f.Y1,f.X2,f.Y2,0))}},_calculatePosition3D:function(n,t,i,r,u,f,e,o,s){var w=n.orientation,h=n._opposed,t="outside",c=this.model.m_AreaBounds,v=s.axes[n.name]._validCross,y=v?n.y:c.Y+(!h&&c.Height),p=v?n.x:c.X+(h&&c.Width),a,l;if(n.orientation.toLowerCase()=="horizontal"){switch(t){case"inside":f=h?r:0;o=h?f+i:i;break;case"outside":f=0;o=h?i:f+i}l=h?y-this.model.wallSize-i:y+this.model.wallSize-i/2;a=n.x;f+=l;o+=l;u=e=u}else{switch(t){case"inside":u=0;e=h?i:u+i;break;case"outside":u=0;e=h?u+i:i}a=h?p+this.model.wallSize:p-this.model.wallSize-i;l=this.model.m_AreaBounds.Y;u+=a;e+=a;f=o=f}return{X1:u,Y1:f,X2:e,Y2:o}},_drawGridLines3D:function(t,i){var v,u,a,b,c,r,f,y,h;if(t!=null){var p=t.visibleLabels.length,w,k=t._opposed,tt=t.orientation,d=i.axes[t.name]._validCross,l,e,o,s,g;if(tt.toLowerCase()=="horizontal")for(u=0;u<p;u++){r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[u].Value);r=isNaN(r)?0:r;e=l=Math.round(t.width*r)+this.model.m_AreaBounds.X+t.plotOffset;o=this.model.m_AreaBounds.Y;s=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;var a=this.model.depth>2?this.model.depth-2:1,nt=d?t.y:this.model.m_AreaBounds.Y+(!k&&this.model.m_AreaBounds.Height),f={opacity:t.majorGridLines.opacity,width:t.majorGridLines.width,stroke:t.majorGridLines.color,child:this.chart3D,tag:"line"};if(f.id=this.svgObject.id+t.name+"_gridlines_"+u,this.graphics.addVisual(this.polygon.createLine(f,l,o,e,s,a)),v=n.extend({},f),v.id=this.svgObject.id+t.name+"_parallelGridlines_"+u,h=this.polygon.createLine(v,e,0,e,-a,nt),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),h),this.graphics.addVisual(h),t.minorGridLines.visible&&t.minorTicksPerInterval>0&&u<p-1)for(w=t.visibleRange.interval/(t.minorTicksPerInterval+1),c=0;c<t.minorTicksPerInterval;c++)r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[u].Value+w*(c+1)),r=isNaN(r)?0:r,e=l=Math.round(this.model.m_AreaBounds.Width*r)+this.model.m_AreaBounds.X,o=this.model.m_AreaBounds.Y,s=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,f={opacity:t.minorGridLines.opacity,width:t.minorGridLines.width,stroke:t.minorGridLines.color,child:this.chart3D,tag:"line"},f.id=this.svgObject.id+t.name+"_minorgridlines_"+u+c,this.graphics.addVisual(this.polygon.createLine(f,l,o,e,s,a)),v=n.extend({},f),v.id=this.svgObject.id+t.name+"_parallelMinorGridlines_"+u+c,h=this.polygon.createLine(v,e,0,e,-a,nt),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),h),this.graphics.addVisual(h);g++}else for(u=0;u<p;u++){if(r=(t.visibleLabels[u].Value-t.visibleRange.min)/t.visibleRange.delta,r=t.isInversed?1-r:r,r=isNaN(r)?0:r,l=this.model.m_AreaBounds.X,o=Math.round(t.height*(1-r))+.5,o+=t.y,e=l+this.model.m_AreaBounds.Width,s=o,a=this.model.depth>2?this.model.depth-2:1,f={opacity:t.majorGridLines.opacity,width:t.majorGridLines.width,stroke:t.majorGridLines.color,axisName:t.name,child:this.chart3D,tag:"line"},f.id=this.svgObject.id+t.name+"_gridlines_"+u,this.graphics.addVisual(this.polygon.createLine(f,l,o,e,s,a)),b=d?t.x:this.model.m_AreaBounds.X+(k&&this.model.m_AreaBounds.Width+1),y=n.extend({},f),y.id=this.svgObject.id+t.name+"_parallelGridlines_"+u,h=this.polygon.createLine(y,-a,s,0,s,b),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),h),this.graphics.addVisual(h),t.minorGridLines.visible&&t.minorTicksPerInterval>0&&u<p-1)for(w=t.visibleRange.interval/(t.minorTicksPerInterval+1),c=0;c<t.minorTicksPerInterval;c++)r=ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[u].Value+w*(c+1)),r=isNaN(r)?0:r,l=this.model.m_AreaBounds.X,o=Math.round(t.height*(1-r))+.5,o+=t.y,e=l+this.model.m_AreaBounds.Width,s=o,f={opacity:t.minorGridLines.opacity,width:t.minorGridLines.width,stroke:t.minorGridLines.color,axisName:t.name,child:this.chart3D,tag:"line"},f.id=this.svgObject.id+t.name+"_minorgridlines_"+u+c,this.graphics.addVisual(this.polygon.createLine(f,l,o,e,s,a)),y=n.extend({},f),y.id=this.svgObject.id+t.name+"_parallelMinorGridlines_"+u+c,h=this.polygon.createLine(y,-a,s,0,s,b),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),h),this.graphics.addVisual(h);g++}}}};ej.Ej3DSeriesRender.prototype={_getSegmentDepth:function(n){var u=this.chartObj.model.depth,i,r,t;if(this.chartObj.model._sideBySideSeriesPlacement)t=u/4,i=t,r=t*3;else{var e=n.position-1,f=n.all,t=u/(f*2+f+1);i=t+t*e*3;r=i+t*2}return{Start:i,End:r,Delta:r-i}},createSegment:function(n,t,i,r,u,f,e,o,s){return{StartValue:t,EndValue:i,depth:r,radius:u,index:f,YData:e,Center:n,inSideRadius:o,ActualEndValue:i,ActualStartValue:t,pointIndex:s}},calculateSize:function(t,i){var r=t.chartObj.model.legend,o=0,s=0,u=t.chartObj.model.title,h=t.chartObj.model.title.subTitle,e=t.chartObj.model._titleLocation,a=t.chartObj.model._subTitleLocation,v=t.chartObj.model.title.textOverflow,y=t.chartObj.model.title.subTitle.textOverflow,w=u.text&&u.visible&&u.enableTrim&&(v=="wrap"||v=="wrapandtrim")?!0:!1,c=h.text&&h.visible&&h.enableTrim&&(y=="wrap"||y=="wrapandtrim")?!0:!1,p,f,l;return r.visible&&r.position.toLowerCase()!="custom"&&(r.position.toLowerCase()=="right"||r.position.toLowerCase()=="left"?o=(r.position.toLowerCase()=="right"?t.chartObj.model.margin.right:t.chartObj.model.margin.left)+t.chartObj.model.LegendViewerBounds.Width:s=(r.position.toLowerCase()=="top"?t.chartObj.model.margin.top:t.chartObj.model.margin.bottom)+t.chartObj.model.LegendViewerBounds.Height),i.actualWidth=n(t.chartObj.svgObject).width()-o,p=i.actualWidth*.5+(r.position.toLowerCase()==="left"?o:0),w||c?(f=e.size.height+(c?a.size.height:0)+s,i.actualHeight=n(t.chartObj.svgObject).height()-f,l=i.actualHeight*.5+(r.position.toLowerCase()==="top"?f:e.size.height+(c?a.size.height:0))):(f=(u.text&&u.visible?e.Y:0)+s,i.actualHeight=n(t.chartObj.svgObject).height()-f,l=i.actualHeight*.5+(r.position.toLowerCase()==="top"?f:u.text&&u.visible?e.Y:0)),{centerX:p,centerY:l}},createPoints:function(t,i){var s,r;t.segments=[];var p=this.calculateSize(i,t),u=0,tt=this._calculateVisiblePoints(t).visiblePoints,w=t._visiblePoints.length;for(s=0;s<w;s++)u+=tt[s].YValues[0];u=u!=0?u:1;var b=360/u,k=n.inArray(t,i.chartObj.model._visibleSeries),ut=this.chartObj.model._visibleSeries.length,it=i.chartObj.model.innerRadius[k],d=i.chartObj._getYValues(t._visiblePoints),rt=i.chartObj.model.depth,l,a=0,v=0,h=0,g,f,e,o,y,nt=0,c=i.chartObj.model.circularRadius[k];for(r=0;r<w;r++)(t._visiblePoints[r].visible||t._visiblePoints[r].gapMode)&&(g=n.inArray(t._visiblePoints[r],t._visiblePoints),f=Math.abs(d[r]),v=Math.abs(f)*(Math.PI*2/u),e={},e.x=0,e.y=0,ej.util.isNullOrUndefined(f)||((t.explodeIndex==t._visiblePoints[r].actualIndex||t.explodeAll)&&(o={X:0,Y:0},o.X=Math.cos(2*Math.PI*(h+f/2)/u),o.Y=Math.sin(2*Math.PI*(h+f/2)/u),e.x=.01*c*o.X*t.explodeOffset,e.y=.01*c*o.Y*t.explodeOffset),l=i.chartObj.vector.vector3D(e.x+p.centerX,e.y+p.centerY,0),y=this.createSegment(l,parseFloat(b*h),parseFloat(b*f),rt,c,r,f,it,g,t),y.visible=t._visiblePoints[r].gapMode?!1:!0,t.segments.push(y)),t.marker.dataLabel.visible&&this._addPieDataLabel(nt,d[r],a,a+v,r,c,this._isChartRotated(i)?i.chartObj.model.depth+5:0,l,t._visiblePoints[r]),nt++,a+=v,h+=f);return t.segments},_addPieDataLabel:function(n,t,i,r,u,f,e,o,s){var h=(i+r)/2;s.symbolLocation={x:0,y:0,radius:0,angle:0,StartDepth:0};s.symbolLocation.x=n;s.symbolLocation.y=t;s.symbolLocation.radius=f;s.symbolLocation.angle=h;s.symbolLocation.center=o;s.startDepth=e},_isChartRotated:function(n){var t=Math.abs(n.chartObj.model.tilt%360),i=Math.abs(n.chartObj.model.rotattion%360);return(t>90&&t<270)^(i>90&&i<270)?!0:!1},createSector:function(n,t,i,r){var o=parseInt(Math.ceil(n.ActualEndValue/6)),v=Math.PI/180,s=0,rt=[],h=t.chartObj.model.depth,k,d,tt,it,g,p,nt,l,a,u,w,b;if(o<1)return null;var c=[],y=n.ActualEndValue/o,f=[],e=[];for(u=0;u<o+1;u++)k=parseFloat(n.Center.x+n.radius*Math.cos((n.ActualStartValue+u*y)*v)),d=parseFloat(n.Center.y+n.radius*Math.sin((n.ActualStartValue+u*y)*v)),f[u]={X:k,Y:d},tt=parseFloat(n.Center.x+n.inSideRadius*Math.cos((n.ActualStartValue+u*y)*v)),it=parseFloat(n.Center.y+n.inSideRadius*Math.sin((n.ActualStartValue+u*y)*v)),e[u]={X:tt,Y:it},rt.push({X:k,Y:d});for(g=[],u=0;u<o;u++)p=[t.chartObj.vector.vector3D(f[u].X,f[u].Y,0),t.chartObj.vector.vector3D(f[u].X,f[u].Y,h),t.chartObj.vector.vector3D(f[u+1].X,f[u+1].Y,h),t.chartObj.vector.vector3D(f[u+1].X,f[u+1].Y,0)],g[u]=t.chartObj.polygon.polygon3D(p,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D),s++;if(c[1]=g,n.inSideRadius>0){for(nt=[],u=0;u<o;u++)p=[t.chartObj.vector.vector3D(e[u].X,e[u].Y,0),t.chartObj.vector.vector3D(e[u].X,e[u].Y,h),t.chartObj.vector.vector3D(e[u+1].X,e[u+1].Y,h),t.chartObj.vector.vector3D(e[u+1].X,e[u+1].Y,0)],nt[u]=t.chartObj.polygon.polygon3D(p,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D),s++;c[3]=nt}for(l=[],a=[],u=0;u<o+1;u++)l.push(t.chartObj.vector.vector3D(f[u].X,f[u].Y,0)),a.push(t.chartObj.vector.vector3D(f[u].X,f[u].Y,h));if(n.inSideRadius>0)for(u=o;u>-1;u--)l.push(t.chartObj.vector.vector3D(e[u].X,e[u].Y,0)),a.push(t.chartObj.vector.vector3D(e[u].X,e[u].Y,h));else l.push(n.Center),a.push(t.chartObj.vector.vector3D(n.Center.x,n.Center.y,h));return c[0]=[],c[0].push(t.chartObj.polygon.polygon3D(l,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D)),s++,c[0].push(t.chartObj.polygon.polygon3D(a,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D)),s++,n.inSideRadius>0?(w=[t.chartObj.vector.vector3D(f[0].X,f[0].Y,0),t.chartObj.vector.vector3D(f[0].X,f[0].Y,h),t.chartObj.vector.vector3D(e[0].X,e[0].Y,h),t.chartObj.vector.vector3D(e[0].X,e[0].Y,0)],b=[t.chartObj.vector.vector3D(f[o].X,f[o].Y,0),t.chartObj.vector.vector3D(f[o].X,f[o].Y,h),t.chartObj.vector.vector3D(e[o].X,e[o].Y,h),t.chartObj.vector.vector3D(e[o].X,e[o].Y,0)],c[2]=[],c[2].push(t.chartObj.polygon.polygon3D(w,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D)),s++,c[2].push(t.chartObj.polygon.polygon3D(b,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D)),s++):(w=[t.chartObj.vector.vector3D(f[0].X,f[0].Y,0),t.chartObj.vector.vector3D(f[0].X,f[0].Y,h),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,h),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,0)],b=[t.chartObj.vector.vector3D(f[o].X,f[o].Y,0),t.chartObj.vector.vector3D(f[o].X,f[o].Y,h),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,h),t.chartObj.vector.vector3D(n.Center.x,n.Center.y,0)],c[2]=[],c[2].push(t.chartObj.polygon.polygon3D(w,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D)),s++,c[2].push(t.chartObj.polygon.polygon3D(b,this,n.index,i.borderColor,i.borderWidth,i.opacity,i.interior,s.toString()+"_Region_Series_"+r+"_Point_"+n.index,t.chartObj.chart3D)),s++),c},createPolygons:function(t,i,r){var s,f=[],a,v,h,y,e,p=n.inArray(t,i.chartObj.model._visibleSeries),o,c,u,l;for(s=t.segments&&r?t.segments:this.createPoints(t,i),y=s.length,o=0;o<y;o++)if(a=s[o],a.visible&&(h=s[o].pointIndex,v=i.chartObj.setStyle(i,t,p,h),typeof i.chartObj.model.pointColors[h]=="object"&&(v.interior=i.chartObj.model.pointColors[h][0].color),e=this.createSector(a,i,v,p),e!=null))for(u=0;u<e.length;u++)if(f[u]||(f[u]=[]),e[u]!=null)for(c=0;c<e[u].length;c++)f[u].push(e[u][c]);if(r)return f;for(u=0;u<f.length;u++)for(l=0;l<f[u].length;l++)i.chartObj.graphics.addVisual(f[u][l])},draw3DDataLabel:function(t,i,r){var s=t.marker.dataLabel.connectorLine.height,nt,p,e,o,a,d=0,v=0,h,w,f,c,ut,y,k,ft;if(typeof t.marker.dataLabel.offset=="number"?v=t.marker.dataLabel.offset:(d=t.marker.dataLabel.offset.x,v=t.marker.dataLabel.offset.y),this.chartObj.model.AreaType=="none"){if(u={x:0,y:0},h=r.text?r.text:r.y,w=n.inArray(t,this.chartObj.model.series),t.type.toLowerCase()=="doughnut"||t.type.toLowerCase()=="pie"){var et=Math.min(t.actualWidth,t.actualHeight)/2,tt=r.symbolLocation.center,d=t.marker.dataLabel.offset.x,v=t.marker.dataLabel.offset.y,it=r.symbolLocation.radius*t._coefficient;ej.util.isNullOrUndefined(s)&&(s=ej.EjSvgRender.utils._measureText(h,null,t.marker.dataLabel.font).height);t!=null&&t.labelPosition!="inside"?p=r.symbolLocation.radius+s:t!=null&&(p=it+(r.symbolLocation.radius-it)/2);e=u.X=tt.x+p*Math.cos(r.symbolLocation.angle)+d;o=u.Y=tt.y+p*Math.sin(r.symbolLocation.angle)+v;f=n.extend({},ej.EjSvgRender.commonChartEventArgs);f.data={text:h,location:{x:e,y:o},series:t,pointIndex:i,seriesIndex:w};this.chartObj._trigger("displayTextRendering",f);f.data.Text=f.data.text;c=ej.EjSvgRender.utils._measureText(f.data.Text,null,t.marker.dataLabel.font);e=u.X=f.data.location.x;o=u.Y=f.data.location.y}}else{var l=t.yAxis.labelFormat?t.yAxis.labelFormat:"",w=n.inArray(t,this.chartObj.model.series),rt=20,h=r.text?r.text:r.y;l&&(l.indexOf("{value}")>-1?h=l.replace("{value}",r.y):l.indexOf("e")==0||l.indexOf("E")==0?(a=l.match(/(\d+)/g),a=a==null?6:a>rt?rt:a,h=r.y.toExponential(a)):h=ej.globalize.format(r.y,l,this.chartObj.model.locale));var g=0,f=n.extend({},ej.EjSvgRender.commonChartEventArgs),c=ej.EjSvgRender.utils._measureText(h,null,t.marker.dataLabel.font),u=ej.EjSvgRender.utils.Transform3DToVisible(t,r.symbolLocation.x,r.symbolLocation.y,this.chartObj),s=t.marker.dataLabel.connectorLine.height?t.marker.dataLabel.connectorLine.height:0,b=6.28*(1-90/360),o=u.Y,e=u.X;this.chartObj.model.requireInvertedAxes?(e=r.x>0?u.X-Math.sin(b)*s:u.X+Math.sin(b)*s,g=-c.height/3):o=r.y>0?u.Y+Math.sin(b)*s:u.Y+Math.sin(-b)*s;o=t.marker.dataLabel.textPosition=="bottom"?u.Y+v:u.Y-v;e=u.X+d;f.data={text:h,location:{x:e,y:o},series:t,pointIndex:i};f.data.Text=f.data.text;this.chartObj._trigger("displayTextRendering",f);e=f.data.location.x;o=f.data.location.y}ut=this._getSegmentDepth(t);t.marker.dataLabel.shape.toLowerCase()=="none"||r.marker.dataLabel.template||f.data.Text==""||(y={tag:"dataLabel",series:t,point:r,pointIndex:i,id:this.chartObj.svgObject.id+w+"_DataLabel"+i,child:this.chartObj.chart3D},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(e,o,r.symbolLocation.z?r.symbolLocation.z:0),y,0,-c.height)));nt=r.marker.dataLabel.template?"template":"text";y={Width:c.width,Height:c.height,Label:f.data,TextAnchor:"middle",tag:nt,font:t.marker.dataLabel.font,Angle:t.marker.dataLabel.angle,id:this.chartObj.svgObject.id+"_SeriesText"+i+w,child:this.chartObj.chart3D};this.chartObj.model.AreaType!="none"?(t.marker.dataLabel.connectorLine.height&&t.marker.dataLabel.connectorLine.height>0&&(k=[],k.push({x:u.X,y:u.Y+g,z:r.symbolLocation.z}),k.push({x:e,y:o+g,z:r.symbolLocation.z}),this.drawLineSegment(k,i,t)),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(e,o,r.symbolLocation.z),y,0,-c.height))):(t.labelPosition.toLowerCase()!="inside"&&this.updateConnectorLine(r,i,t,u,s),ft={x:t.actualWidth,y:t.actualHeight},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(u.X,u.Y,-1),y,0,-c.height)))},updateConnectorLine:function(n,t,i,r,u){var e=[],f=n.symbolLocation,o=f.center.x+Math.cos(f.angle)*f.radius,s=f.center.y+Math.sin(f.angle)*f.radius,h;e.push({x:o,y:s});h=f.radius+u;o=f.center.x+Math.cos(f.angle)*h;s=f.center.y+Math.sin(f.angle)*h;e.push({x:o,y:s});i.marker.dataLabel.connectorLine.type=="bezier"&&(e=this.getBezierApproximation(e,256,i));this.drawLineSegment(e,t,i)},getBezierApproximation:function(n,t,i){for(var f,u=[],r=0;r<=t;r++)f=r/t,u.push(this.GetBezierPoint(f,n,0,n.length,i));return u},drawLineSegment:function(t,i,r){for(var f=[],u=0;u<t.length;u++)f.push(this.chartObj.vector.vector3D(t[u].x,t[u].y,t[u].z?t[u].z:0));var e=n.inArray(r,this.chartObj.model._visibleSeries),o=this.chartObj.model.AreaType=="none"?this.chartObj.model.pointColors[i]:this.chartObj.model.seriesColors[e],s=r.marker.dataLabel.connectorLine.stroke?r.marker.dataLabel.connectorLine.stroke:o,h={width:r.marker.dataLabel.connectorLine.width,stroke:s,child:this.chartObj.chart3D,tag:"polyline",id:this.chartObj.svgObject.id+"_"+e+"_"+i};this.chartObj.graphics.addVisual(this.chartObj.polygon.createPolyline(f,h))}};ej.ejCircularSeries={draw:function(t,i,r){var e=i.chartObj.model._visibleSeries.length,u=n.inArray(t,i.chartObj.model._visibleSeries),f;if(i._calculateVisiblePoints(t),i.calculateSize(i,t),r=="pie"?(t._size=t.pieCoefficient,t._coefficient=u==0?0:t._size):(t._size=t.doughnutSize,t._coefficient=t.doughnutCoefficient),i.chartObj.model.circularRadius.length>1){for(f=u;f<i.chartObj.model.circularRadius.length;f++)if(!ej.util.isNullOrUndefined(i.chartObj.model.circularRadius[f])){i.chartObj.model.circularRadius[u]=i.chartObj.model.circularRadius[f]*t._size;break}}else i.chartObj.model.circularRadius[u]=(1-.03)*Math.min(t.actualWidth/2,t.actualHeight/2)*t._size;i.chartObj.model.innerRadius[u]=t._coefficient*i.chartObj.model.circularRadius[u];i.createPolygons(t,i)},doAnimation:function(t,i){var r=this;t.count=0;n.each(t.segments,function(r,u){var f=u.radius,e=u.inSideRadius;t.animate=!0;n(i.chartObj.element).each(function(){u.radius=0;u.inSideRadius=0}).animate({Radius:f,InsideRadius:e},{duration:1e3,queue:!1,step:function(n,r){var e,f,o;for(r.prop.toString()==="Radius"?u.radius=n:u.inSideRadius=n,e=i.createPolygons(t,i,!0),f=0;f<e.length;f++)for(o=0;o<e[f].length;o++)i.chartObj.polygon.update(e[f][o].VectorPoints,e[f][o],i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.doughnut=ej.ejCircularSeries;ej.series3DTypes.pie=ej.ejCircularSeries;ej.ej3DStackingColumn={draw:function(n,t,i,r){var f=t._isVisiblePoints(n),u;for(this.createSegments(n,t,r),u=0;u<f.length;u++)f[u].visible&&(n._visiblePoints[u].plans=null,ej.ej3DColumnSeries.update(n,n._visiblePoints[u],u,t))},createSegments:function(n,t,i){var c=t.chartObj._getXValues(n._visiblePoints),e,o,f,u,r;if(c!=null)for(o=t.getSideBySideInfo(n,i),f=t._getSegmentDepth(n),e=o.Delta/2,u=t._isVisiblePoints(n),r=0;r<u.length;r++){var s=c[r]+o.Start,a=c[r]+o.End,l=n.stackedValue.StartValues[r],h=n.stackedValue.EndValues[r];if(ej.ej3DColumnSeries._setData(s,h,a,l,f.Start,f.End,t,u[r]),n.marker.dataLabel.visible){u[r].symbolLocation={x:0,y:0,z:0};switch(n.marker.dataLabel.textPosition){case"top":u[r].symbolLocation.x=s+e;u[r].symbolLocation.y=h;u[r].symbolLocation.z=f.Start+f.Delta/2;break;case"bottom":u[r].symbolLocation.x=s+e;u[r].symbolLocation.y=l-.2;u[r].symbolLocation.z=f.Start+(f.End-f.Start)/2;break;default:u[r].symbolLocation.x=s+e;u[r].symbolLocation.y=h+(l-h)/2;u[r].symbolLocation.z=f.Start}}}},doAnimation:function(t,i){var r=this;n.each(t._visiblePoints,function(r,u){var f=u.Top,e=u.Bottom;n(u).each(function(){u.Top=0;u.Bottom=0}).animate({Top:f,Bottom:e},{duration:1200,queue:!1,step:function(n,f){f.prop.toString()==="Top"&&(u.Top=n);f.prop.toString()==="Bottom"&&(u.Bottom=n);ej.ej3DColumnSeries.update(t,u,r,i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.stackingcolumn=ej.ej3DStackingColumn;ej.series3DTypes.stackingbar=ej.ej3DStackingColumn;ej.series3DTypes.stackingbar100=ej.ej3DStackingColumn;ej.series3DTypes.stackingcolumn100=ej.ej3DStackingColumn;ej.ej3DColumnSeries={draw:function(n,t,i,r){var f=t._isVisiblePoints(n),u;for(this.createSegments(n,t,r),u=0;u<f.length;u++)f[u].visible&&(n._visiblePoints[u].plans=null,this.update(n,n._visiblePoints[u],u,t))},update:function(t,i,r,u){var v=t.xAxis._valueType.toLowerCase(),l=n.inArray(t,u.chartObj.model._visibleSeries),y=v=="logarithmic"?null:1,p=v=="logarithmic"?!0:!1,w=p?Math.log(i.Left,y):i.Left,b=p?Math.log(i.Right,y):i.Right,e=t.yAxis.visibleRange.min,k=t.yAxis.visibleRange.max,o=t.xAxis.visibleRange.min,s=t.xAxis.visibleRange.max,d,a;if(w>=o&&w<=s||b>=o&&b<=s){d=i.Top<0?i.Top>e?i.Top:e:t.yAxis.valueType&&t.yAxis.valueType.toLowerCase()=="logarithmic"?i.Top:i.Top<k?i.Top:k;var h=ej.EjSvgRender.utils.Transform3DToVisible(t,i.Left>o?i.Left:o,d,u.chartObj),c=ej.EjSvgRender.utils.Transform3DToVisible(t,s>i.Right?i.Right:s,e>i.Bottom?e:i.Bottom,u.chartObj),g=u.chartObj.vector.vector3D(Math.min(h.X,c.X),Math.min(h.Y,c.Y),i.StartDepth),nt=u.chartObj.vector.vector3D(Math.max(h.X,c.X),Math.max(h.Y,c.Y),i.EndDepth),f=u.chartObj.setStyle(u,t,l,r);f.interior.indexOf("url")>=0&&(f.interior=u.chartObj.model.seriesColors[l][0].color);a="Region_Series_"+l+"_Point_"+r;t.columnFacet=="cylinder"?u.chartObj.polygon.createCylinder(g,nt,this,r,t.type,f.borderColor,f.interior,f.borderWidth,f.opacity,u.chartObj.model.requireInvertedAxes,a,u.chartObj.chart3D):t.columnFacet=="rectangle"&&u.chartObj.polygon.createBox(g,nt,this,r,t.type,f.borderColor,f.interior,f.borderWidth,f.opacity,u.chartObj.model.requireInvertedAxes,a,u.chartObj.chart3D)}},_setData:function(){var t=arguments,n=arguments[arguments.length-1],i=arguments[arguments.length-2];n.Left=t[0];n.Bottom=t[3];n.Top=t[1];n.Right=t[2];n.StartDepth=t[4];n.EndDepth=t[5];n.XRange=i.getDoubleRange(n.Left,n.Right);isNaN(n.Top)||isNaN(n.Bottom)||(n.YRange=i.getDoubleRange(n.Top,n.Bottom))},createSegments:function(n,t,i){var e=t.chartObj._getXValues(n._visiblePoints),a=t.chartObj._getYValues(n._visiblePoints),r;if(e!=null){var s=t.getSideBySideInfo(n,i),f=t._getSegmentDepth(n),v=t.chartObj._getXCrossValue(n,n.xAxis,i),h=s.Delta/2,u=n._visiblePoints,y,p;for(r=0;r<u.length;r++){var o=e[r]+s.Start,w=e[r]+s.End,c=a[r],l=v;if(this._setData(o,c,w,l,f.Start,f.End,t,u[r]),y=e[r],p=a[r],n.marker.dataLabel.visible){u[r].symbolLocation={x:0,y:0,z:0};switch(n.marker.dataLabel.textPosition){case"top":u[r].symbolLocation.x=o+h;u[r].symbolLocation.y=c;u[r].symbolLocation.z=f.Start;break;case"bottom":u[r].symbolLocation.x=o+h;u[r].symbolLocation.y=l-.2;u[r].symbolLocation.z=f.Start+(f.End-f.Start)/2;break;default:u[r].symbolLocation.x=o+h;u[r].symbolLocation.y=Math.abs(l-c)/2;u[r].symbolLocation.z=f.Start}}}}},doAnimation:function(t,i){var r=this;n.each(t._visiblePoints,function(u,f){var e=f.Top;n(f).each(function(){f.Top=0}).animate({Top:e},{duration:1200,queue:!1,step:function(n,e){e.prop.toString()==="Top"&&(f.Top=n);r.update(t,f,u,i)},complete:function(){i.chartObj.model.AnimationComplete=!0;var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={series:t};i.chartObj._trigger("animationComplete",r)}})})}};ej.series3DTypes.column=ej.ej3DColumnSeries;ej.series3DTypes.bar=ej.ej3DColumnSeries;ej.Ej3DChart.prototype={renderSeries:function(t,i,r){var i,u,f,e,o;(ej.Ej3DSeriesRender.prototype.chartObj=t,n.extend(ej.Ej3DSeriesRender.prototype,ej.EjSeriesRender.prototype),u=new ej.Ej3DSeriesRender,f=n.extend({},ej.EjSvgRender.commonChartEventArgs),f.data={series:i},u.chartObj._trigger("seriesRendering",f),e=i.type.toLowerCase(),o=ej.series3DTypes[e],ej.util.isNullOrUndefined(o))||(o.draw(i,u,e,r),i.marker.dataLabel.visible&&n.each(i._visiblePoints,function(r,f){f.marker=n.extend(!0,{},i.marker,f.marker);f.visible&&(ej.util.isNullOrUndefined(f.marker)||f.marker.dataLabel&&f.marker.dataLabel.visible)&&u.draw3DDataLabel(i,r,f,t)}))},update3DWall:function(t,i){var u,r,f;if(t.model.AreaType=="cartesianaxes")for(n.extend(ej.Ej3DRender.prototype,this),this.updateBackWall(t),u=0;u<t.model._axes.length;u++)r=t.model._axes[u],f=r._opposed,r.orientation.toLowerCase()=="vertical"?f?this.updateRightWall(t,r,i):this.updateLeftWall(t,r,i):f?this.updateTopWall(t,r,i):this.updateBottomWall(t,r,i)},updateTopWall:function(n,t,i){var e=0,r=n.model.m_AreaBounds,u=i.axes[t.name]._validCross?t.y:r.Y,f;e=n.model.wallSize<u?u-n.model.wallSize:-(n.model.wallSize-u);var s=n.vector.vector3D(r.X+r.Width,-n.model.depth,u-.1),h=n.vector.vector3D(r.X,-.1,e),o=n.polygon.createBox(s,h,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"TopWallBrush",n.chart3D);for(f=0;f<o.length;f++)n.polygon.transform(n.matrixobj.tilt(parseFloat(Math.PI/2)),o[f])},updateRightWall:function(n,t,i){for(var f=i.axes[t.name]._validCross?t.x:n.model.m_AreaBounds.X+n.model.m_AreaBounds.Width,r={left:-n.model.depth,top:n.model.m_AreaBounds.Y,bottom:n.model.m_AreaBounds.Height+n.model.m_AreaBounds.Y,right:0},o=n.vector.vector3D(r.left,r.top,f+1.5),s=n.vector.vector3D(r.right,r.bottom,f+n.model.wallSize),e=n.polygon.createBox(o,s,n,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"RightWallBrush",n.chart3D),u=0;u<e.length;u++)n.polygon.transform(n.matrixobj.turn(parseFloat(-Math.PI/2)),e[u])},updateBackWall:function(n){var t=n.model.m_AreaBounds,i=n.vector.vector3D(t.X,t.Y,n.model.depth==0?1.5:n.model.depth+n.model.wallSize),r=n.vector.vector3D(t.X+t.Width,t.Y+t.Height,n.model.depth==0?1.5:n.model.depth);n.polygon.createBox(i,r,n,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"BackWallBrush",n.chart3D)},updateLeftWall:function(n,t,i){for(var r={left:-n.model.depth,top:n.model.m_AreaBounds.Y,bottom:n.model.m_AreaBounds.Height+n.model.m_AreaBounds.Y,right:0},f=i.axes[t.name]._validCross?t.x:n.model.m_AreaBounds.X,o=n.vector.vector3D(r.left,r.top,f-.1),s=n.vector.vector3D(r.right,r.bottom,f-n.model.wallSize),e=n.polygon.createBox(o,s,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"LeftWallBrush",n.chart3D),u=0;u<e.length;u++)n.polygon.transform(n.matrixobj.turn(parseFloat(-Math.PI/2)),e[u])},updateBottomWall:function(n,t,i){for(var r=n.model.m_AreaBounds,f=i.axes[t.name]._validCross?t.y:r.Y+r.Height,o=n.vector.vector3D(r.X+r.Width,-n.model.depth,n.model.wallSize+f),s=n.vector.vector3D(r.X,-.1,f+1),e=n.polygon.createBox(s,o,this,0,"Graphics3D","#D3D3D3","#D3D3D3",0,.15,!1,"BottomWallBrush",n.chart3D),u=0;u<e.length;u++)n.polygon.transform(n.matrixobj.tilt(parseFloat(Math.PI/2)),e[u])}}}(jQuery);ej.EjVmlRender=function(n){var t=document,r,i;this.vmlNamespace="urn:schemas-microsoft-com:vml";this.vmStyle="#default#VML";t.namespaces.add("v","urn:schemas-microsoft-com:vml");this.isdocmode8=t.documentMode===8;t.getElementById("vml_chart")||(r=this.isdocmode8?"v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ":"v\\:*{ behavior:url(#default#VML); display: inline-block; } ",i=t.createStyleSheet(),i.owningElement.id="vml_chart",i.cssText=r);this._rootId=jQuery(n).attr("id");this.svgObj=t.createElement("div");this.svgObj.style.position="relative";this.svgObj.setAttribute("id",this._rootId+"_vml");this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight",points:"points"}},function(n){ej.EjVmlRender.prototype={drawPath:function(t,i){var r=t.d.split(" "),f,e,o,u;n.inArray("A",r)!=-1&&(f=parseFloat(r[4]),e=parseFloat(r[5]),t.d=this.drawArc(f,e,t));n("#"+t.id).length>0?(t.d=this.changePathValue(t.d),this.applyVMLStyle(n("#"+t.id),t)):(t.d=this.changePathValue(t.d),o=document.createElement("v:shape"),u=n(o),this.applyVMLStyle(u,t),u.appendTo(i))},createLegendSvg:function(n){var t=document;return this._rootId=jQuery(n).attr("id"),this.legendsvgObj=t.createElement("div"),this.legendsvgObj.style.position="relative",this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_vml"),this.legendsvgObj},drawPolyline:function(t,i){var f=t.points.split(" "),u,r;n("#"+t.id).length>0?(t.points=this.changePathValue(t.points),this.applyVMLStyle(n("#"+t.id),t)):(t.points=this.changePathValue(t.points),u=document.createElement("v:polyline"),r=n(u),this.applyVMLStyle(r,t),r.appendTo(i))},setFillAttribute:function(t,i){var r=document.createElement("v:fill"),f=i["fill-opacity"]?i["fill-opacity"]:i.opacity,u,e;f=ej.util.isNullOrUndefined(f)?i.opacity?i.opacity:1:f;u=i.fill;u=="none"||ej.util.isNullOrUndefined(u)?u=="none"?(r.setAttribute("type","gradient"),r.setAttribute("color",i.color),r.setAttribute("color2",i.color2),r.setAttribute("colors",i.colors),r.setAttribute("angle",i.angle),f=i.fill_opacity):f=.1:u.match("gradient")?(e=u.replace("gradient",""),r.setAttribute("type","gradient"),r.setAttribute("colors",e)):n(t).attr("fillcolor",u);r.setAttribute("opacity",f);n(r).appendTo(t)},setStrokeAttribute:function(t,i){var f=i.stroke,r,u;f=="transparent"&&(i.opacity=.1);i.name&&n(t).attr("name",i.name);r=i.opacity;r&&(u=document.createElement("v:stroke"),u.setAttribute("opacity",r),n(u).appendTo(t))},changePathValue:function(n){var t,i,r;if(!n.d){for(t=n.split(" "),i=0;i<t.length;i++)r=t[i].match(/\d+/g),r!=null&&(t[i]=Math.round(parseFloat(t[i])));return t.join(" ")}},drawArc:function(n,t,i){var u=0,f=0,w,s=i.start,o=i.end,o=Number(Math.PI.toFixed(2))==Number((o+s).toFixed(2))?o-.01:o,e=i.r||n||t,l=Math.cos(s),a=Math.sin(s),h=Math.cos(o),v=Math.sin(o),r=i.innerR,y=.08/e,p=r&&.1/r||0,c;return o-s==0?"":(2*Math.PI-o+s<y?h=-y:o-s<p&&(h=Math.cos(s+p)),c=["wa",u-e,f-e,u+e,f+e,u+e*l,f+e*a,u+e*h,f+e*v],i.open&&!r&&c.push("e",w,u,f),c.push("at",u-r,f-r,u+r,f+r,u+r*h,f+r*v,u+r*l,f+r*a,"x","e"),c.join(" "))},changeVMLStyle:function(t,i){var r=this,u=i.stroke;t.css("width",i.width).css("visibility",i.visibility).css("height",i.height).css("position","absolute").css("left",i.x).css("top",i.y);n.each(i,function(n,u){(r.changeOptions[n]!=null||r.changeOptions[n]!=undefined)&&((n=="d"||n=="points")&&(u=r.changePathValue(i[n]).toLowerCase()),u!="transparent"||i.fill_opacity||(i[n]=u="white",n!="fill"||i.hasOwnProperty("opacity")&&i.opacity||(i.opacity=.1)),i.fill_opacity&&(i.opacity=i.fill_opacity),t[0].tagName==="SPAN"?n=="fill"?t.css("color",u):n=="id"?t.attr(r.changeOptions[n],u):t.css(r.changeOptions[n],u):r.isdocmode8?t.get(0)[r.changeOptions[n]]=u:t.get(0).setAttribute(r.changeOptions[n],u))});(i.hasOwnProperty("fill-opacity")||i.hasOwnProperty("opacity")||i.hasOwnProperty("fill"))&&(t[0].tagName==="SPAN"||(r.setFillAttribute(t,i),i.hasOwnProperty("stroke")&&(i.stroke=u,i.fill_opacity&&(i.opacity=i.fill_opacity),r.setStrokeAttribute(t,i))))},applyVMLStyle:function(n,t){n[0].tagName!=="SPAN"&&(ej.util.isNullOrUndefined(t.width)&&(t.width="1000px"),ej.util.isNullOrUndefined(t.height)&&(t.height="1000px"));ej.util.isNullOrUndefined(t.x)&&(t.x="0px");ej.util.isNullOrUndefined(t.y)&&(t.y="0px");this.changeVMLStyle(n,t)},drawLine:function(t,i){var r,u;if(n("#"+t.id).length>0)r=t.x1+","+t.y1,u=t.x2+","+t.y2,n(t).attr("from",r).attr("to",u),this.applyVMLStyle(n("#"+t.id),t);else{var e=document.createElement("v:line"),f=n(e),r=t.x1+","+t.y1,u=t.x2+","+t.y2;f.attr("from",r).attr("to",u);this.applyVMLStyle(f,t);f.appendTo(i)}},drawCircle:function(t,i){if(n("#"+t.id).length>0)t.x=t.cx-t.r,t.y=t.cy-t.r,t.width=t.height=2*t.r,this.applyVMLStyle(n("#"+t.id),t);else{var u=document.createElement("v:oval"),r=n(u);t.x=t.cx-t.r;t.y=t.cy-t.r;t.width=t.height=2*t.r;this.applyVMLStyle(r,t);n("#"+t.id).length==0&&r.appendTo(i)}},drawEllipse:function(t,i){if(n("#"+t.id).length>0)t.x=t.cx-t.rx,t.y=t.cy-t.ry,t.width=2*t.rx,t.height=2*t.ry,this.applyVMLStyle(n("#"+t.id),t);else{var u=document.createElement("v:oval"),r=n(u);t.x=t.cx-t.rx;t.y=t.cy-t.ry;t.width=2*t.rx;t.height=2*t.ry;this.applyVMLStyle(r,t);r.appendTo(i)}},drawRect:function(t,i){if(n("#"+t.id).length>0)this.applyVMLStyle(n("#"+t.id),t);else{var u=document.createElement("v:rect"),r=n(u);this.applyVMLStyle(r,t);r.appendTo(i)}},drawCylinder:function(t,i,r){var a=t.x,v=t.y,d=t.width,wt=t.height,bt=t.id,s,f,e,h,g,c,nt,tt,it,rt,ut,ft,y,p,w,et,ot,b,k,st,ht,ct,lt,at,vt,yt,l=t.fill,ti=ej.EjSvgRender.prototype.checkColorFormat(l),u,ni,pt;ti||(l=ej.datavisualization.Chart.prototype.colorNameToHex(t.fill));var ii=t.opacity,kt={svgRenderer:ej.EjSvgRender.prototype},dt=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(l,kt),gt=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(l,kt),o=65535;for(r.isColumn==!0?(t.rx=f=d/2,t.ry=e=f/4,h=g=a+f,tt=c=v-e,ft=k=y=v+wt-e,it=h+f,nt=ut=b=h-f,at=-Math.round(o*180),vt=Math.round(o*180),et=Math.round(o*360),ot=-Math.round(o*180),yt="90",r.stacking==!0&&(r.isLastSeries||(c=v+e)),rt=c):(t.ry=e=wt/2,t.rx=f=e/4,it=nt=g=a+f,b=h=a+d+f,at=Math.round(o*90),vt=Math.round(o*180),et=Math.round(o*270),ot=-Math.round(o*180),y=c=v+e,k=rt=c+e,tt=ft=y-e,yt="0",r.stacking==!0&&(r.isLastSeries||(h=a+d-f)),ut=h),delete t.x,delete t.y,t.width=1e3,t.x=0,t.y=0,delete t.stacking,t.height=1e3,delete t.isColumn,t.fill=dt,t.fill_opacity=ii,t.stroke=dt,t["stroke-width"]=0,u=1;u<=4;u++)u%2==0?(st=g,ht=c,ct=ut,lt=ft,p=et,w=ot):(st=h,ht=y,ct=it,lt=rt,p=at,w=vt),u<3&&(p=o,w=23592600),u<4&&(s=["M",Math.round(b),Math.round(k)]),s.push("ae",Math.round(st),Math.round(ht),Math.round(f),Math.round(e),p,w),u>2&&(s.push("l",Math.round(ct),Math.round(lt)),t.fill="none",t.color=l,t.color2=l,t.colors="30% "+gt+",70% "+gt,t.angle=yt),u!=3&&(s.push("e"),s=s.join(" "),t.d=s,t.id=bt+"_Region_"+(u-1).toString(),u==4&&(t.id=bt+"_Region_"+(u-2).toString()),ni=document.createElement("v:shape"),pt=n(ni),this.applyVMLStyle(pt,t),pt.appendTo(i)),b=nt,k=tt},_getAttrVal:function(t,i,r){i=i=="x"?"left":i;i=i=="y"?"top":i;var u=n(t).attr(i),f=u?u:n(t).css(i);return f!=null?f:r},_setAttr:function(t,i){var r,u,f;i.transform&&(r=i.transform,u=r.slice(r.indexOf("(")+1,r.indexOf(")")).split(","),i.x=u[0],i.y=u[1]);f=n(t);f.length>0&&this.changeVMLStyle(f,i)},createGradientElement:function(n,t){var i,f,r,u;if(Object.prototype.toString.call(t)=="[object Array]")for(i="gradient ",f="",r=0,u=t.length-1;u>=0,r<t.length;r++,u--)i+=f+t[r].colorStop+" "+t[u].color,f=",";else i=t;return i},setSpanAttr:function(t,i,r){var e=t["font-size"]>0?t["font-size"]+"px":t["font-size"],u={size:e,fontStyle:t["font-style"],fontFamily:t["font-family"]},f=ej.EjSvgRender.utils._measureText(i,null,u);n(r).css("white-space","nowrap");t["text-anchor"]==="middle"?t.x=Math.round(t.x-f.width/2):t["text-anchor"]==="end"&&(t.x=Math.round(t.x-f.width));t.y=Math.round(t.y-u.size.replace("px",""));this.applyVMLStyle(r,t)},drawText:function(t,i,r,u){var c=document,v=n("#"+t.id),f,y,l,e,s,o,h,a,p;if(v.length>0)this._textAttrReplace(t,i,u,v);else if(t.id.indexOf("YAxisTitle")>0&&!this.isdocmode8)t.on=!0,f=document.createElement("v:line"),f.style.behavior="url(#default#VML)",f.style.display="inline-block",y=ej.EjSvgRender.utils._measureText(i,null,null),f.setAttribute("to",(t.x-1).toString()+","+(t.y-y.width/2).toString()),f.setAttribute("from",t.x.toString()+","+t.y.toString()),l=document.createElement("v:path"),l.setAttribute("textpathok",!0),e=document.createElement("v:textpath"),e.setAttribute("on",!0),e.setAttribute("string",i),e.style["font-style"]=t["font-style"],e.style["font-size"]=t["font-size"],e.style["font-family"]=t["font-family"],f.appendChild(l),f.appendChild(e),n(f).appendTo(r);else{if(s=c.createElement("span"),o=n(s),jQuery.type(i)=="array")for(this.setSpanAttr(t,i,o),h=0;h<i.length;h++)a=c.createElement("span"),n(a).html(i[h]),n(a).appendTo(s),p=c.createElement("br"),n(p).appendTo(s);else this.setSpanAttr(t,i,o),o.html(i);o.appendTo(r)}},_textAttrReplace:function(t,i,r,u){var f,e,o;if(jQuery.type(i)=="array")if(f=n("#"+t.id).children("span"),this.setSpanAttr(t,i,u),f.length>0&&f.length==i.length)for(e=0;e<f.length;e++)o=f[e],n(o).text(i[e]);else n("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,r);else this.setSpanAttr(t,i,u),u.text(i)},drawImage:function(t,i){var u=document.createElement("img"),r=n(u);r.css({position:"absolute"});n.each(t,function(n,t){n=="href"&&(n="src");r.attr(n,t)});r.appendTo(i)},createDefs:function(){},createGroup:function(t){var i=document.createElement("div"),r;return ej.util.isNullOrUndefined(t.transform)||(r=t.transform.slice(t.transform.indexOf("(")+1,t.transform.indexOf(")")).split(","),n(i).css({position:"absolute",left:r[0]+"px",top:r[1]+"px"})),t.cursor&&n(i).css({cursor:t.cursor}),n.each(t,function(t,r){t!=="transform"&&t!="clip-path"&&n(i).attr(t,r)}),i},createText:function(t,i){var r=document.createElement("span");return n(r).attr(t),ej.util.isNullOrUndefined(i)||(r.textContent=i),r},drawAxesBoundsClipPath:function(t,i,r){var u,e=n(t),f;e.removeAttr("clip-path");f=this._getTransform(i.xAxis,i.yAxis,r);u={id:t.id+"_ClipRect",x:0,y:0,width:f.width,height:f.height,fill:"white","stroke-width":1,stroke:"transparent"};this.drawClipPath(u,t);e.attr("clip-path","url(#"+u.id+")")},getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},round:function(n,t,i){return t*(i?Math.ceil(n/t):Math.floor(n/t))},hexFromRGB:function(t){var r=t.R,u=t.G,f=t.B;if(t.A)return"rgba("+r.toString()+","+u.toString()+","+f.toString()+","+t.A+")";var r=t.R,u=t.G,f=t.B,i=[r.toString(16),u.toString(16),f.toString(16)];return n.each(i,function(n,t){t.length===1&&(i[n]="0"+t)}),"#"+i.join("").toUpperCase()},hexToRGB:function(n){var i=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(n),t;return i==!0?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(n),t?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null):(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null)},checkColorFormat:function(n){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gmi.test(n)},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(t,i){if(t.id.indexOf("ChartAreaClipRect")==-1){var r=Math.round(t.x)+"px",u=Math.round(t.y)+"px",f=Math.round(t.width)+Math.round(t.x)+"px",e=Math.round(t.y)+Math.round(t.height)+"px",o="rect("+u+" "+f+" "+e+" "+r+")";n(i).css("position","absolute").css("clip",o)}},drawCircularClipPath:function(t,i){var r=Math.round(t.r),u=Math.round(t.cx),f=Math.round(t.cy);if(t.id.indexOf("_ClipRect")==-1){var e=u-r+"px",o=f-r+"px",s=u+r+"px",h=f+r+"px",c="rect("+o+" "+s+" "+h+" "+e+")";n(i).css("position","absolute").css("clip",c)}},append:function(t,i){n(t).appendTo(i)}}}(jQuery);ej.EjCanvasRender=function(n){this.svgObj=document.createElement("canvas");this._rootId=jQuery(n).attr("id");this.svgObj.setAttribute("id",this._rootId+"_canvas");this.ctx=this.svgObj.getContext("2d")},function(n){ej.EjCanvasRender.prototype={drawPath:function(n,t,i){var h=n.hasStackingInnerRadius?n.hasStackingInnerRadius:!1,p=n.d,u=p.split(" "),c=n["stroke-width"],l,o,s,a,r,f,e,v,y;if(n.lgndCtx){for(a=this.lgndCtx,this.lgndCtx=t!=undefined?t:this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),i&&this.lgndCtx.translate(i[0],i[1]),this.lgndCtx.globalAlpha=n.opacity?n.opacity:n["fill-opacity"],this.lgndCtx.lineWidth=n["stroke-width"],this.lgndCtx.strokeStyle=n.stroke,r=0;r<u.length;r=r+3){f=parseFloat(u[r+1]);e=parseFloat(u[r+2]);switch(u[r]){case"M":this.lgndCtx.moveTo(f,e);break;case"L":this.lgndCtx.lineTo(f,e);break;case"C":this.lgndCtx.bezierCurveTo(f,e,parseFloat(u[r+3]),parseFloat(u[r+4]),parseFloat(u[r+5]),parseFloat(u[r+6]));r=r+4;break;case"A":this.lgndCtx.arc(parseFloat(u[r-5]),parseFloat(u[r-4]),f,0,2*Math.PI,!1);r=r+5;break;case"a":this.lgndCtx.beginPath();v=parseFloat(u[r-2])+f;y=u[r-1];this.lgndCtx.arc(v,y,f,0,2*Math.PI,!1);r=r+5;break;case"Z":this.lgndCtx.fillStyle=n.fill;this.lgndCtx.fill();r=r-2;break;case"Q":this.lgndCtx.quadraticCurveTo(f,e,parseFloat(u[r+3]),parseFloat(u[r+4]));r=r+2}}n.fill!="none"&&n.fill!=undefined&&(this.lgndCtx.fillStyle=n.fill,this.lgndCtx.fill());this.lgndCtx.stroke();this.lgndCtx.restore();this.lgndCtx=a}else{for(l=this.ctx,this.ctx=t!=undefined?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),i&&this.ctx.translate(i[0],i[1]),this.ctx.globalAlpha=n.opacity?n.opacity:n["fill-opacity"],o=!0,this.ctx.lineWidth=c,s=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1,s&&this.ctx.setLineDash(s),this.ctx.strokeStyle=n.stroke,r=0;r<u.length;r=r+3){f=parseFloat(u[r+1]);e=parseFloat(u[r+2]);switch(u[r]){case"M":n.innerR&&!h||n.cx||this.ctx.moveTo(f,e);break;case"L":(!n.innerR||h)&&this.ctx.lineTo(f,e);break;case"C":this.ctx.bezierCurveTo(f,e,parseFloat(u[r+3]),parseFloat(u[r+4]),parseFloat(u[r+5]),parseFloat(u[r+6]));r=r+4;break;case"A":n.innerR?o&&(this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.arc(n.x,n.y,n.innerR,n.end,n.start,!n.counterClockWise),o=!1):n.cx?this.ctx.arc(n.cx,n.cy,n.radius,0,2*Math.PI,n.counterClockWise):(this.ctx.moveTo(n.x,n.y),this.ctx.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),this.ctx.lineTo(n.x,n.y));r=r+5;break;case"Q":this.ctx.bezierCurveTo(f,e,parseFloat(u[r+1]),parseFloat(u[r+2]),parseFloat(u[r+3]),parseFloat(u[r+4]));r=r+2;break;case"z":this.ctx.closePath()}}n.fill!="none"&&n.fill!=undefined&&(this.ctx.fillStyle=n.fill,this.ctx.fill());c>0&&this.ctx.stroke();this.ctx.restore();this.ctx=l}},_setLinePathStyle:function(n,t){var r=n["stroke-width"],i;t&&this.ctx.translate(t[0],t[1]);this.ctx.globalAlpha=n.opacity?n.opacity:n["fill-opacity"];this.ctx.lineWidth=r;i=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1;i&&this.ctx.setLineDash(i);this.ctx.strokeStyle=n.stroke;n.fill!="none"&&n.fill!=undefined&&(this.ctx.fillStyle=n.fill,this.ctx.fill())},drawRect:function(n,t){var u=this.ctx,r=n.rx,i;this.ctx=t?t.canvas?t:this.ctx:this.ctx;this.ctx.save();this.ctx.beginPath();this.ctx.globalAlpha=n.opacity;this.ctx.lineWidth=n["stroke-width"];i=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1;i&&this.ctx.setLineDash(i);this.ctx.strokeStyle=n.stroke;this.ctx.rect(n.x,n.y,n.width,n.height);r!=null&&r>=0?this.drawCornerRadius(n):(n.fill=="none"&&(n.fill="transparent"),this.ctx.fillStyle=n.fill,this.ctx.fillRect(n.x,n.y,n.width,n.height),this.ctx.stroke());n.id.indexOf("Series")>=0&&this.ctx.clip();this.ctx.restore();this.ctx=u},drawCylinder:function(n,t,i){var kt=this.ctx,h,a,wt,c,f,s;this.ctx=t?t.canvas?t:this.ctx:this.ctx;this.ctx.save();h=ej.datavisualization.Chart.prototype.colorNameToHex(n.fill);a={svgRenderer:ej.EjSvgRender.prototype};"use strict";var s,d,g,v=Math.PI,dt=2*v+.1,r,u,nt,y,p,tt,w,it,rt,b,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,e=n.x,o=n.y,l=n.width,k=n.height,bt=dt;for(this.ctx.fillStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,a),this.ctx.lineWidth=0,this.ctx.strokeStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,a),this.ctx.globalAlpha=n.opacity,i.isColumn==!0?(ct=e,at=l+e,vt=lt=0,r=l/2,u=r/4,y=nt=e+r,b=p=o-u,it=e,w=e+l,tt=rt=o+k-u,ht=0,st=v,yt=-r,pt=u,(i.stacking=!0)&&(i.isLastSeries||(b=p=o+u))):(ct=at=0,lt=k+o,vt=o,u=k/2,r=u/4,it=nt=e+r,w=y=e+l+r,rt=o+k,b=o,tt=p=o+u,ht=v/2,st=v*1.5,(i.stacking=!0)&&(i.isLastSeries||(w=y=e+l-r)),u=-u,r=-r,yt=r,pt=-u),wt=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,a),c=this.ctx.createLinearGradient(ct,vt,at,lt),c.addColorStop(0,h),c.addColorStop(.3,wt),c.addColorStop(.7,wt),c.addColorStop(1,h),f=1;f<=4;f++){for(s=0,f<4?this.ctx.beginPath():"",f%2==0?(ut=y,ft=tt,et=it,ot=b):(ut=nt,ft=p,et=w,ot=rt),f==4&&(r=yt,u=pt,this.ctx.fillStyle=c),f>2&&(s=ht,bt=st);s<=bt;s+=.1)d=ut-r*Math.cos(s),g=ft+u*Math.sin(s),s===0?this.ctx.moveTo(d,g):this.ctx.lineTo(d,g);f>2&&this.ctx.lineTo(et,ot);f!=3&&(this.ctx.stroke(),this.ctx.fill())}n.id.indexOf("Series")>=0&&this.ctx.clip();this.ctx.restore();this.ctx=kt},drawCornerRadius:function(n){var t=n.rx,i=n.x,r=n.y,u=n.width,f=n.height;n.fill=="none"&&(n.fill="transparent");this.ctx.fillStyle=n.fill;u<2*t&&(t=u/2);f<2*t&&(t=f/2);this.ctx.beginPath();this.ctx.moveTo(i+u-t,r);this.ctx.arcTo(i+u,r,i+u,r+f,t);this.ctx.arcTo(i+u,r+f,i,r+f,t);this.ctx.arcTo(i,r+f,i,r,t);this.ctx.arcTo(i,r,i+u,r,t);this.ctx.closePath();this.ctx.fill();this.ctx.stroke()},createGradientElement:function(n,t){var u,o=this.ctx,f,i,e,r;if(Object.prototype.toString.call(t)=="[object Array]"){for(f=o.createLinearGradient(0,0,0,this.svgObj.height),i=0;i<=t.length-1;i++)e=t[i].color,r=t[i].colorStop.slice(0,-1),r=parseInt(r)/100,f.addColorStop(r,e);u=f}else u=t;return u},drawLine:function(n){this.ctx.save();this.ctx.beginPath();this.ctx.lineWidth=n["stroke-width"];this.ctx.strokeStyle=n.stroke;this.ctx.moveTo(n.x1,n.y1);this.ctx.lineTo(n.x2,n.y2);this.ctx.stroke();this.ctx.restore()},drawText:function(t,i,r){var o,u,k,g,w,a,e,y;ej.util.isNullOrUndefined(t["font-weight"])||t["font-weight"].toLowerCase()!="regular"||(t["font-weight"]="normal");var l=t["font-style"].toLowerCase()+" "+t["font-weight"]+" "+t["font-size"]+" "+t["font-family"],f=t["text-anchor"],b=t.opacity!==undefined?t.opacity:1;if(f=="middle"&&(f="center"),t.lgndCtx)this.lgndCtx.save(),this.lgndCtx.fillStyle=t.fill,this.lgndCtx.font=l,this.lgndCtx.textAlign=f,this.lgndCtx.globalAlpha=b,t["dominant-baseline"]=="middle"&&(this.lgndCtx.textBaseline="center"),t.labelRotation?(this.lgndCtx.translate(t.x,t.y),this.lgndCtx.rotate(t.labelRotation*Math.PI/180),this.lgndCtx.fillText(i,0,0)):this.lgndCtx.fillText(i,t.x,t.y),this.lgndCtx.restore();else{if(this.ctx.save(),this.ctx.fillStyle=t.fill,this.ctx.font=l,this.ctx.textAlign=f,this.ctx.globalAlpha=b,t.baseline&&(this.ctx.textBaseline=t.baseline),t.labelRotation)if(o=0,u=t.labelRotation,u&&(t.id.indexOf("XLabel")!=-1||t.id.indexOf("YLabel")!=-1)){k="rotate("+t.labelRotation.toString()+"deg)";n(t).attr("rotateAngle",k);var d=r?r:i,v=ej.EjSvgRender.utils._measureText(d,null,l).height,p=this.createText(t,d);n(document.body).append(p);g=p.getBoundingClientRect();n(p).remove();o=g.height;u<0&&(u=360+u);w=t.transform.split(",");f=f!=undefined?f:"center";var s=parseFloat(w[1]),h=parseFloat(w[2]),c=o/2;if(t.labelPosition=="outside"?f=="start"?this.ctx.translate(s,h+c-(u<0&&u>-180||u>180?o/2:(o-v)/2)):f=="end"?this.ctx.translate(s,h+c-(u<0&&u>-180||u>180?o/2:-(o-v)/2)):this.ctx.translate(s,h+c):f=="start"?this.ctx.translate(s,h-c-(u<0&&u>-180||u>180?o/2:(o-v)/2)):f=="end"?this.ctx.translate(s,h-c-(u<0&&u>-180||u>180?o/2:-(o-v)/2)):this.ctx.translate(s,h-c),this.ctx.textAlign=f,this.ctx.rotate(u*(Math.PI/180)),typeof i=="object")for(a=i.length,e=0;e<a;e++)y=ej.EjSvgRender.utils._measureText(i[e],null,l).height,this.ctx.fillText(i[e],0,e*y);else this.ctx.fillText(i,0,0)}else this.ctx.translate(t.x,t.y),this.ctx.rotate(t.labelRotation*Math.PI/180),this.ctx.fillText(i,0,0);else if(typeof i=="object"||t.isTrackball)if(t.isTrackball&&typeof i=="string")this.ctx.fillText(i,t.x,t.y);else for(a=i.length,e=0;e<a;e++){var nt=ej.util.isNullOrUndefined(t.padding)?0:t.padding,y=ej.EjSvgRender.utils._measureText(i[e],null,l).height,tt=t.isTrackball?Number(parseInt(t["font-size"])):y;this.ctx.fillText(i[e],t.x,t.y+(tt+nt)*e)}else this.ctx.fillText(i,t.x,t.y);this.ctx.restore()}},drawZoomRect:function(t,i){var r={left:0,top:0},f,e,o,s,h=n("<div id="+t.id+"><\/div>"),u=i.model.m_AreaBounds;t.x<u.X||t.x+r.left+t.width>r.left+n(this.svgObj).width()-20?(f=this.prevWidth,o=this.prevX):(f=this.prevWidth=t.width,o=this.prevX=t.x+r.left);t.y<u.Y||t.y+r.top+t.height>r.top+u.Y+u.Height?(e=this.prevHeight,s=this.prevY):(e=this.prevHeight=t.height,s=this.prevY=t.y+r.top);n(h).css({width:f,height:e,top:s,left:o,"background-color":t.fill,"border-style":"solid",position:"absolute","border-color":t.stroke,"border-width":t["stroke-width"]});document.getElementById("chartContainer_"+this._rootId).appendChild(h[0])},zoomButton:function(t,i,r){var l=r.svgObj?r.svgObj:r.svgObject,y=r._rootId?r._rootId:r._id,o,e,c,f,s,h,a,v,u;o=i=="zoom"?"_Zoom":i=="zoomIn"?"_ZoomIn":"_ZoomOut";e={left:0,top:0};n("#"+t.zoomId).length<=0?(u=n("<div id="+l.id+o+"Btn><\/div>"),n(u).css({width:t.width,height:t.height,top:t.top+e.top,left:t.left+e.left,"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),c="http://www.w3.org/2000/svg",f=document.createElementNS(c,"svg"),f.setAttribute("id",t.zoomId),f.setAttribute("width",25),f.setAttribute("height",25),i=="zoom"?(s="M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",h="translate(-3,-3)"):i=="zoomIn"?(s="M9.0983096,4.2999878L9.0983096,9.3999634 3.9983783,9.3999634 3.9983783,12.699951 9.0983096,12.699951 9.0983096,17.799988 12.398249,17.799988 12.398249,12.699951 17.49818,12.699951 17.49818,9.5 12.398249,9.5 12.398249,4.2999878z M10.998276,0C14.298215,0 17.49818,1.3999634 19.69813,4.1999512 22.79809,8.0999756 22.79809,13.5 19.998144,17.399963L28.597992,28.299988 23.898081,32 15.398205,21.199951C10.898271,23.099976 5.5983606,21.899963 2.3983956,17.899963 -1.4015366,13.099976 -0.60156059,6.0999756 4.1983567,2.3999634 6.1983276,0.79998779 8.5983163,0 10.998276,0z",h="translate(4,4) scale(0.6)"):(s="M3.9983433,9.5L3.9983433,12.799988 17.598165,12.799988 17.598165,9.5z M10.998234,0C14.298169,0 17.498131,1.3999634 19.698108,4.1999512 22.798034,8.0999756 22.798034,13.5 19.998092,17.399963L28.597994,28.299988 23.898054,32 15.398188,21.199951C10.898259,23.099976 5.5983546,21.899963 2.398393,17.899963 -1.4015351,13.099976 -0.60155994,6.0999756 4.1983522,2.3999634 6.1983207,0.79998779 8.5983074,0 10.998234,0z",h="translate(4,4) scale(0.6)"),a={id:o+"Path",fill:t.iconColor,transform:h,d:s},v=document.createElementNS(c,"path"),n(v).attr(a).appendTo(f),u[0].appendChild(f),document.getElementById("chartContainer_"+y).appendChild(u[0])):(u=document.getElementById(l.id+o+"Btn"),n(u).css({top:t.top+e.top,left:t.left+e.left}))},panButton:function(t,i){var s=i.svgObj?i.svgObj:i.svgObject,c=i._rootId?i._rootId:i._id,f={left:0,top:0},e,u,o,h,r;n("#"+t.panId).length<=0?(r=n("<div id="+s.id+"_PanBtn><\/div>"),n(r).css({width:t.width,height:t.height,top:t.top+f.top,left:t.left+f.left,"background-color":t.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),e="http://www.w3.org/2000/svg",u=document.createElementNS(e,"svg"),u.setAttribute("id",t.panId),u.setAttribute("width",25),u.setAttribute("height",25),o={id:"panPath",fill:t.iconColor,transform:"translate(-3,-3)"},o.points="26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",h=document.createElementNS(e,"polygon"),n(h).attr(o).appendTo(u),r[0].appendChild(u),document.getElementById("chartContainer_"+c).appendChild(r[0])):(r=document.getElementById(s.id+"_PanBtn"),n(r).css({top:t.top+f.top,left:t.left+f.left}))},resetZoom:function(t,i){var l=i.svgObj?i.svgObj:i.svgObject,w=i._rootId?i._rootId:i._id,e={left:0,top:0},f,r,o,a,s,v,h,y,c,p,u;n("#"+t.resetZoomId).length<=0?(u=n("<div id="+l.id+"_ResetZoom><\/div>"),n(u).css({width:t.width,height:t.height,top:t.top+e.top,left:t.left+e.left,"background-color":t.fill,"border-style":"solid","border-radius":"0.4em",position:"absolute","border-color":t.fill,"box-sizing":"content-box","z-index":2e3}),f="http://www.w3.org/2000/svg",r=document.createElementNS(f,"svg"),r.setAttribute("id",t.resetZoomId),r.setAttribute("width",25),r.setAttribute("height",25),o={id:"p1",fill:t.iconColor,transform:"translate(-3,-3)"},o.points="11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",a=document.createElementNS(f,"polygon"),n(a).attr(o).appendTo(r),s={id:"p2",fill:t.iconColor,transform:"translate(-3,-3)"},s.points="19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",v=document.createElementNS(f,"polygon"),n(v).attr(s).appendTo(r),h={id:"p3",fill:t.iconColor,transform:"translate(-3,-3)"},h.points="11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",y=document.createElementNS(f,"polygon"),n(y).attr(h).appendTo(r),c={id:"p4",fill:t.iconColor,transform:"translate(-3,-3)"},c.points="19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",p=document.createElementNS(f,"polygon"),n(p).attr(c).appendTo(r),u[0].appendChild(r),document.getElementById("chartContainer_"+w).appendChild(u[0])):(u=document.getElementById(l.id+"_ResetZoom"),n(u).css({top:t.top+e.top,left:t.left+e.left}))},drawCrosshairLine:function(t,i){var r=n("<div id="+t.id+"><\/div>");n(r).css({width:t.width,height:t.height,left:t.left,top:t.top,"border-style":t.style,opacity:t.opacity,visibility:"visible","border-color":t.stroke,"border-width":t["stroke-width"],position:t.position});n(i).append(r[0])},drawCrosshairlabel:function(t,i,r){var e=n("#"+this._rootId).offset(),f={left:0,top:0},u;n("#"+t.id).length>0?(u=document.getElementById(t.id),n(u).css({width:t.width-5,height:t.height-5,left:i.x+f.left-5,top:i.y+f.top-15,visibility:"visible",display:t.display}),document.getElementById(t.id).textContent=r):(u=n("<div id="+t.id+" style='position: absolute; z-index: 13000;'><\/div>"),n(u).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],"background-color":t.fill,"border-style":"solid","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"],"text-align":"center"}),document.getElementById(this._rootId).appendChild(u[0]))},createCrosshairCanvas:function(){var i=document.getElementById(this._rootId+"_canvas"),u=n("#"+this._rootId).offset(),t,r={left:0,top:0};return n("#secondCanvas").length?t=document.getElementById("secondCanvas"):(t=document.createElement("canvas"),n(document).find("#"+this.svgObj.id+"_CrosshairGroup").append(t),n(t).attr({id:"secondCanvas",width:i.width,height:i.height,top:r.top,left:r.left}),n(t).css({width:i.width,height:i.height,top:r.top,left:r.left})),t},drawTrackToolTip:function(t,i,r,u){var s={left:this.svgObj.offsetLeft,top:this.svgObj.offsetTop},h,e,o,f;if(n("#"+t.id).length>0)if(f=document.getElementById(t.id),n(f).css({left:t.x+s.left,top:t.y+s.top,visibility:"visible","border-box":"content-box","background-color":t.fill,color:i.fill,"border-color":t.stroke,"border-width":t["stroke-width"]}),jQuery.type(r)=="array"){for(h=0,e="",o=0;o<r.length;o++)e=e+r[o]+"<\/br>";n("#"+t.id).html(e)}else n("#"+t.id).html(r);else f=n("<div id="+t.id+" style='position: absolute; z-index: 13000;'><\/div>"),n(f).css({color:i.fill,"font-family":i["font-family"],"font-size":i["font-size"],"font-weight":i["font-weight"],"font-style":i["font-style"],width:t.width,height:t.height-u-2*t["stroke-width"],"background-color":t.fill,"border-style":"solid","text-align":"center",padding:"0px","padding-top":u/2+"px","padding-bottom":u/2+"px","border-color":t.stroke,"border-width":t["stroke-width"],opacity:t["fill-opacity"]}),document.getElementById(this._rootId).appendChild(f[0])},trackSymbol:function(t,i,r,u,f){var l=f.model.m_AreaBounds,ht=n("#"+this._rootId).offset(),d,b,h,g,nt,tt,v,e,o,w,s;if(i.startX>=l.X&&i.startX<=l.X+l.Width&&i.startY>=l.Y&&i.startY<=l.Y+l.Height)if(b=t.SeriesIndex,g=t.PointIndex,f.model.series[b].type.toLowerCase()=="bubble"&&(nt=f.model.series[b]._visiblePoints[g],h=nt.radius*2+5,t.Style.BorderColor=t.Style.Color),f.model.series[b].type.toLowerCase()=="scatter"&&ej.util.isNullOrUndefined(u))tt={cx:i.startX-2,cy:i.startY-2,r:t.ShapeSize.width/2,fill:t.Style.Color,opacity:t.Style.Opacity,stroke:t.Style.BorderColor},this.drawCircle(tt,null);else{n("#canvas_trackSymbol").length>0?(v=n("#canvas_trackSymbol"),n(v).css({visibility:"visible",display:"block"})):v=n("<div id=canvas_trackSymbol><\/div>");var y={left:i.startX,top:i.startY},c=n("<div id="+t.ID+"><\/div>"),a=y.left-(h||t.ShapeSize.width),p=y.top-(h||t.ShapeSize.height);n(c).css({left:a,top:p,"box-sizing":"content-box",position:"absolute",visibility:"visible",opacity:t.Style.Opacity,"z-index":200});e=t.ShapeSize;t.symbol=c;o={};switch(r.toLowerCase()){case"circle":n(c).css({width:h||t.ShapeSize.width+"px",height:h||t.ShapeSize.height+"px",left:h?a+h/2:a+t.ShapeSize.width/2-t.Style.BorderWidth+"px",top:h?p+h/2:p+t.ShapeSize.height/2-t.Style.BorderWidth+"px","border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"100%"});break;case"rectangle":n(c).css({width:t.ShapeSize.width,height:t.ShapeSize.height,left:a+t.ShapeSize.width/2-t.Style.BorderWidth/2,top:p+t.Style.BorderWidth/2,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth});break;case"diamond":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+i.startX+" "+(i.startY+-t.ShapeSize.height/2)+" L "+(i.startX+t.ShapeSize.width/2)+" "+i.startY+" L "+i.startX+" "+(i.startY+t.ShapeSize.height/2)+" L "+(i.startX+-t.ShapeSize.width/2)+" "+i.startY+"z";o.direction=s;this.drawSvgShape(t,o);break;case"triangle":s="M "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2)+" L "+i.startX+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"invertedtriangle":var s="M "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2)+" L "+i.startX+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/2)+"z",ft=i.startX,et=i.startY,ot="rotate(180,"+ft+","+et+")";o.direction=s;o.rotate=ot;this.drawSvgShape(t,o);break;case"cross":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+e.width/2)+" "+i.startY+" M "+i.startX+" "+(i.startY+e.height/2)+" L "+i.startX+" "+(i.startY+-e.height/2)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"star":s="M "+(i.startX+e.width/3)+" "+(i.startY+-e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/6)+" L "+(i.startX+e.width/2)+" "+(i.startY+e.height/6)+" L "+(i.startX+-e.width/3)+" "+(i.startY+-e.height/2)+" L "+i.startX+" "+(i.startY+e.height/2)+" L "+(i.startX+e.width/3)+" "+(i.startY+-e.height/2)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"hexagon":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+-e.width/4)+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/4)+" "+(i.startY+-e.height/2)+" L "+(i.startX+e.width/2)+" "+i.startY+" L "+(i.startX+e.width/4)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/4)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+i.startY+"z";o.direction=s;this.drawSvgShape(t,o);break;case"wedge":s="M "+(i.startX-e.width)+" "+i.startY+" L "+(i.startX+e.width)+" "+(i.startY+-e.height/2)+" L "+(i.startX+3*(e.width/4))+" "+i.startY+" L "+(i.startX+e.width)+" "+(i.startY+e.height/2)+" L "+(i.startX-e.width)+" "+i.startY+"z";o.direction=s;this.drawSvgShape(t,o);break;case"trapezoid":s="M "+(i.startX+-e.width/2)+" "+i.startY+" L "+(i.startX+-e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX+-e.width/2+e.width)+" "+(i.startY+-e.height/2)+" L "+(i.startX+-e.width/2+e.width)+" "+(i.startY+e.height/2)+" L "+(i.startX+-e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX+-e.width/2)+" "+i.startY+"z";o.direction=s;this.drawSvgShape(t,o);break;case"uparrow":s="M "+(i.startX-e.width/2+e.width/4)+" "+(i.startY-e.height/2+e.height)+" L "+(i.startX-e.width/2+e.width/4)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX-e.width/2)+" "+(i.startY-e.height/2+e.height/2)+" L "+i.startX+" "+(i.startY-e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX+e.width/2-e.width/4)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX+e.width/2-e.width/4)+" "+(i.startY-e.height/2+e.height)+" L "+(i.startX-e.width/2+e.width/4)+" "+(i.startY-e.height/2+e.height)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"downarrow":s="M "+(i.startX-e.width/2+e.width/4)+" "+(i.startY-e.height/2)+" L "+(i.startX+e.width/2-e.width/4)+" "+(i.startY-e.height/2)+" L "+(i.startX+e.width/2-e.width/4)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX+e.width/2)+" "+(i.startY-e.height/2+e.height/2)+" L "+i.startX+" "+(i.startY-e.height/2+e.height)+" L "+(i.startX-e.width/2)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX-e.width/2+e.width/4)+" "+(i.startY-e.height/2+e.height/2)+" L "+(i.startX-e.width/2+e.width/4)+" "+(i.startY-e.height/2)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"leftarrow":s="M "+(i.startX-e.width/2+e.width)+" "+(i.startY+e.height/4)+" L "+(i.startX-e.width/2+e.width)+" "+(i.startY+-e.height/4)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+-e.height/2)+" L "+(i.startX-e.width/2)+" "+i.startY+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX-e.width/2+e.width)+" "+(i.startY+e.height/4)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"rightarrow":s="M "+(i.startX-e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX-e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+-e.height/4)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+-e.height/2)+" L "+(i.startX-e.width/2+e.width)+" "+i.startY+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+e.height/2)+" L "+(i.startX-e.width/2+e.width/2)+" "+(i.startY+e.height/4)+" L "+(i.startX-e.width/2)+" "+(i.startY+e.height/4)+"z";o.direction=s;this.drawSvgShape(t,o);break;case"pentagon":var h=Math.sqrt(e.height*e.height+e.width*e.width)/2,k=ej.EjSvgRender.utils._getStringBuilder();for(w=0;w<=5;w++){var st=w*72,it=Math.PI/180*st,rt=h*Math.cos(it),ut=h*Math.sin(it);w==0?k.append("M "+(i.startX+rt)+" "+(i.startY+ut)+" "):k.append("L "+(i.startX+rt)+" "+(i.startY+ut)+" ")}k.append("z");s=k.toString();o.direction=s;this.drawSvgShape(t,o);break;case"ellipse":n(c).css({width:t.ShapeSize.width,height:t.ShapeSize.height/2,"border-style":"solid",left:a+t.ShapeSize.height/2-t.Style.BorderWidth/2,top:i.startY+y.top-t.ShapeSize.height+4,"background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"-moz-border-radius":"50%","-webkit-border-radius":"50%","border-radius":"50%","border-box":"content-box"});break;case"horizline":n(c).css({width:t.ShapeSize.width,height:0,"border-style":"solid",left:a+t.ShapeSize.width/2,top:i.startY+y.top-1,"border-color":t.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;case"vertline":n(c).css({width:0,height:t.ShapeSize.height,"border-style":"solid",left:i.startX+y.left-1,top:p+t.ShapeSize.height/2-2,"border-color":t.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;default:n(c).css({width:t.ShapeSize.width,height:t.ShapeSize.height,"border-style":"solid","background-color":t.Style.Color,"border-color":t.Style.BorderColor,"border-width":t.Style.BorderWidth,"border-radius":"50px"})}v[0].appendChild(c[0]);d=document.getElementById(this.svgObj.id+"_CrosshairGroup")||document.getElementById("chartContainer_"+this._rootId);d.appendChild(v[0])}},drawSvgShape:function(t,i){var f=document.getElementById(this._rootId+"_canvas"),e={left:0,top:0},o="http://www.w3.org/2000/svg",r=document.createElementNS(o,"svg"),u,s;r.setAttribute("id","mySVG");r.setAttribute("width",n(f).width());r.setAttribute("height",n(f).height());n(t.symbol).css({left:e.left+"px",top:e.top+"px"});u={id:"svgPath","fill-opacity":t.Style.Opacity,"stroke-width":t.Style.BorderWidth,fill:t.Style.Color,transform:i.rotate,stroke:t.Style.BorderColor};u.d=i.direction;s=document.createElementNS(o,"path");n(s).attr(u).appendTo(r);t.symbol[0].appendChild(r)},drawCircle:function(n,t){var r,i,u;n.lgndCtx?(u=this.lgndCtx,this.lgndCtx=t!=undefined?t:this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.arc(n.cx,n.cy,n.r,0,2*Math.PI),this.lgndCtx.fillStyle=n.fill,this.lgndCtx.globalAlpha=n.opacity,this.lgndCtx.fill(),this.lgndCtx.lineWidth=n["stroke-width"],this.lgndCtx.strokeStyle=n.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=u):(r=this.ctx,this.ctx=t!=undefined?t:this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.cx,n.cy,n.r,0,2*Math.PI),this.ctx.fillStyle=n.fill,this.ctx.globalAlpha=n.opacity,this.ctx.fill(),this.ctx.lineWidth=n["stroke-width"],i=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1,i&&this.ctx.setLineDash(i),this.ctx.strokeStyle=n.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=r)},drawPolyline:function(n){var i,t;for(this.ctx.save(),this.ctx.beginPath(),i=n.points.split(" "),t=0;t<i.length-1;t++){var r=i[t].split(","),u=r[0],f=r[1];t==0?this.ctx.moveTo(u,f):this.ctx.lineTo(u,f)}this.ctx.lineWidth=n["stroke-width"];this.ctx.strokeStyle=n.stroke;this.ctx.stroke();this.ctx.restore()},drawPolygon:function(){},setFillAttribute:function(){},setStrokeAttribute:function(){},changePathValue:function(){},drawArc:function(){},changeVMLStyle:function(){},applyVMLStyle:function(){},drawEllipse:function(n,t){var f=this.ctx;this.ctx=t!=undefined?t:this.ctx;var i=Math.max(n.rx,n.ry),r=n.rx/i,u=n.ry/i;n.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.translate(n.rx,n.ry),this.lgndCtx.scale(r,u),this.lgndCtx.arc(n.cx-n.rx,n.cy*2-n.rx,n.rx,0,2*Math.PI,!1),this.lgndCtx.fillStyle=n.fill,this.lgndCtx.fill(),this.lgndCtx.restore(),this.lgndCtx.lineWidth=n["stroke-width"],this.lgndCtx.strokeStyle=n.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(n.cx,n.cy),this.ctx.save(),this.ctx.scale(r,u),this.ctx.arc(0,0,i,0,2*Math.PI,!1),this.ctx.fillStyle=n.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=n["stroke-width"],this.ctx.strokeStyle=n.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=f)},_getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},_setAttr:function(){},setSpanAttr:function(){},_textAttrReplace:function(){},drawImage:function(n){this.ctx.save();var i=this,t=new Image;t.src=n.href;t.onload=function(){i.ctx.drawImage(t,n.x,n.y,n.width,n.height)};this.ctx.restore()},createDefs:function(){},createGroup:function(){},createText:function(t,i){var r=document.createElement("div");return n(r).css({transform:t.rotateAngle,"font-family":parseFloat(t["font-family"]),"font-size":parseFloat(t["font-size"])*1.1,position:"absolute"}),ej.util.isNullOrUndefined(i)||(r.textContent=i),r},drawAxesBoundsClipPath:function(n,t){var i=t},getAttrVal:function(){},hexFromRGB:function(){},createDelegate:function(){},drawClipPath:function(){},drawCircularClipPath:function(){},append:function(t,i){n(t).appendTo(i)},createLegendCanvas:function(n){return this.legendsvgObj=document.createElement("canvas"),this._rootId=jQuery(n).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_canvas"),this.lgndCtx=this.legendsvgObj.getContext("2d"),this.legendsvgObj}}}(jQuery);ej.EjSvgRender=function(n){var t,i;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(n).attr("id"),t=this._rootId+"_svg",$(document).find("#"+t).length>0){i=0;do i++;while($(document).find("#"+this._rootId+"_svg"+i).length>0);t=this._rootId+"_svg"+i}this.svgObj.setAttribute("id",t)},function(n){function t(n,t,i,r){var u=r*Math.PI/180,f=n+i*Math.cos(u),e=t+i*Math.sin(u);return[f,e]}ej.EjSvgRender.prototype={drawPath:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"path");n(r).attr(t).appendTo(i)}},createLegendSvg:function(n){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(n).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"polyline");n(r).attr(t).appendTo(i)}},drawLine:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"line");n(r).attr(t);n(r).appendTo(i)}},drawPolygon:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"polygon");n(r).attr(t);n(r).appendTo(i)}},drawCircle:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"circle");n(r).attr(t).appendTo(i)}},drawEllipse:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"ellipse");n(r).attr(t).appendTo(i)}},drawRect:function(t,i){if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var r=document.createElementNS(this.svgLink,"rect");n(r).attr(t).appendTo(i)}},drawCylinder:function(t,i,r){var d,ot,y;if(n("#"+t.id).length>0)n("#"+t.id).attr(t);else{var rt=t.x,s=t.y,g=t.id,h=t.fill,st=h,ht=this.checkColorFormat(h);ht||(h=ej.datavisualization.Chart.prototype.colorNameToHex(h));var a,v,p,w,l,e,b,nt,ut=2,tt,k,ft=0,et=0,c,it={svgRenderer:this};if(r.isColumn==!0){var o=t.width/2,u=t.height,f=o/4;l=tt=rt;e=f<s?s-f:r.stacking?s+f:s-f;k=e;a=2*o;v=0;p=0;w=f<s?u:u<2*f?u:r.stacking?u-2*f:u;b=l;nt=f<s?e+u:u<e?u+e:r.stacking?u+(s-f):u+e;ft=100;(r.stacking=!0)&&(r.isLastSeries||(e=k=s+f,w=u<o/2?u:u-o/2))}else{var f=t.height/2,u=t.width,o=f/4;e=k=s;l=tt=rt+o;a=0;v=2*f;p=u;w=0;b=l+u;nt=e;et=100;(r.stacking=!0)&&(r.isLastSeries||(b=l+u-o*2,p=u-o*2))}for(delete t.x,delete t.y,delete t.width,delete t.height,delete t.isColumn;ut--;)c="M"+l.toString()+","+e.toString(),c+="a"+o.toString()+","+f.toString()+" 0 1,0 "+a.toString()+","+v.toString(),c+="a"+o.toString()+","+f.toString()+" 0 1,0 "+(-1*a).toString()+","+(-1*v).toString(),t.d=c,t.id=g+"_Region_"+ut,t.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(h,it),this.drawPath(t,i),l=b,e=nt;c="M"+tt.toString()+","+k.toString();c+="a"+o.toString()+","+f.toString()+" 0 1,0 "+a.toString()+","+v.toString();c+="l"+p.toString()+" "+w.toString();c+="a"+o.toString()+","+f.toString()+" 0 1,1 "+(-1*a).toString()+","+(-1*v).toString()+" z";t.d=c;t.id=g+"_Region_2";st.indexOf("url")==-1&&(d=g,n("#"+d).length==0&&(ot={id:d,x1:"0%",y1:"0%",x2:ft.toString()+"%",y2:et.toString()+"%"},y=[],y[0]={colorStop:"0%",color:h},y[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,it)},y[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(h,it)},y[3]={colorStop:"100%",color:h},this.drawGradient(ot,y,i)),t.fill="url(#"+d+")");this.drawPath(t,i)}},createGradientElement:function(n,t,i,r,u,f,e){var o,s,h;return Object.prototype.toString.call(t)=="[object Array]"?(s={id:this.svgObj.id+"_"+n+"Gradient",x1:i+"%",y1:r+"%",x2:u+"%",y2:f+"%"},h="#"+this.svgObj.id+"_"+n+"Gradient",this.drawGradient(s,t,e),o="url(#"+this.svgObj.id+"_"+n+"Gradient)"):o=t,o},drawGradient:function(t,i,r){var o=this.createDefs(),f=document.createElementNS(this.svgLink,"linearGradient"),u,e;for(n(f).attr(t),u=0;u<i.length;u++)e=document.createElementNS(this.svgLink,"stop"),n(e).attr({offset:i[u].colorStop,"stop-color":i[u].color,"stop-opacity":1}),n(e).appendTo(f);n(f).appendTo(o);n(o).appendTo(r)},drawText:function(t,i,r,u){var e,o,h,f,s,c;if(n("#"+t.id).length>0)this._textAttrReplace(t,i,u);else{if(e=document.createElementNS(this.svgLink,"text"),o=n(e),jQuery.type(i)=="array")for(h=0,o.attr(t),f=0;f<i.length;f++)s=document.createElementNS(this.svgLink,"tspan"),s.textContent=i[f],n(s).attr({x:t.x,dy:h}),n(s).appendTo(e),u=this.enable3D?u.font:u,c=ej.EjSvgRender.utils._measureText(i[f],null,u),h=t.isTrackball?c.height+2:c.height;else e.textContent=i,o.attr(t);o.appendTo(r)}},_textAttrReplace:function(t,i,r){var f,e,u,o,s;if(n("#"+t.id).attr(t),jQuery.type(i)=="array")if(f=n("#"+t.id).children("tspan"),e=0,f.length>0&&f.length==i.length)for(u=0;u<f.length;u++)o=f[u],n(o).attr({x:t.x,dy:e}),o.textContent=i[u],s=ej.EjSvgRender.utils._measureText(i[u],null,r),e=s.height+2;else n("#"+t.id).remove(),this.drawText(t,i,this.gTransToolEle,r);else n("#"+t.id).text(i)},drawImage:function(t,i){var r=document.createElementNS(this.svgLink,"image");r.setAttributeNS(null,"height",t.height);r.setAttributeNS(null,"width",t.width);r.setAttributeNS("http://www.w3.org/1999/xlink","href",t.href);r.setAttributeNS(null,"x",t.x);r.setAttributeNS(null,"y",t.y);r.setAttributeNS(null,"id",t.id);r.setAttributeNS(null,"visibility",t.visibility);ej.util.isNullOrUndefined(t.clippath)&&ej.util.isNullOrUndefined(t.preserveAspectRatio)||(r.setAttributeNS(null,"clip-path",t.clippath),r.setAttributeNS(null,"preserveAspectRatio",t.preserveAspectRatio));n(r).appendTo(i)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(t){var i=document.createElementNS(this.svgLink,"clipPath");return n(i).attr(t),i},createForeignObject:function(t){var i=document.createElementNS(this.svgLink,"foreignObject");return n(i).attr(t),i},createGroup:function(t){var i=document.createElementNS(this.svgLink,"g");return n(i).attr(t),i},createPattern:function(n,t){var r=document.createElementNS(this.svgLink,t);for(var i in n)n.hasOwnProperty(i)&&r.setAttribute(i,n[i]);return r},createText:function(t,i){var r=document.createElementNS(this.svgLink,"text");return n(r).attr(t),ej.util.isNullOrUndefined(i)||(r.textContent=i),r},createPath:function(t){var i=document.createElementNS(this.svgLink,"path");return n(i).attr(t),i},createCircle:function(t){var i=document.createElementNS(this.svgLink,"circle");return n(i).attr(t),i},createLine:function(t){var i=document.createElementNS(this.svgLink,"line");return n(i).attr(t),i},_getAttrVal:function(t,i,r){var u=n(t).attr(i);return u!=null?u:r},hexFromRGB:function(t){var r=t.R,u=t.G,f=t.B,i;return t.A?"rgba("+r.toString()+","+u.toString()+","+f.toString()+","+t.A+")":(i=[r.toString(16),u.toString(16),f.toString(16)],n.each(i,function(n,t){t.length===1&&(i[n]="0"+t)}),"#"+i.join("").toUpperCase())},checkColorFormat:function(n){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gmi.test(n)},hexToRGB:function(n){var i=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(n),t;return i==!0?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(n),t?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null):(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null)},createDelegate:function(n,t){return function(i){t.apply(n,[i,this])}},drawClipPath:function(t,i){if(n(i).find("#"+t.id).length>0)n(i).find("#"+t.id).attr(t);else{var r=this.createDefs(),u=this.createClipPath({id:t.id});t.id=t.id+"_Rect";this.drawRect(t,u);this.append(u,r);this.append(r,i)}},drawCircularClipPath:function(n,t){var i=this.createDefs(),r=this.createClipPath({id:n.id});this.drawCircle(n,r);this.append(r,i);this.append(i,t)},append:function(t,i){n(t).appendTo(i)},_setAttr:function(t,i){n(t).attr(i)}};ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null};ej.EjSvgRender.utils={_decimalPlaces:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_getLabelContent:function(n,t,i){switch(t._categoryValueType){case"number":var r=ej.util.isNullOrUndefined(t.labelFormat)?null:t.labelFormat.match("{value}");return ej.util.isNullOrUndefined(t.labelFormat)?t.labels[Math.floor(n)]:r!=null?t.labelFormat.replace("{value}",t.labels[Math.floor(n)]):ej.format(t.labels[Math.floor(n)],t.labelFormat,i);case"date":return ej.format(new Date(t.labels[Math.floor(n)]),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,i);case"string":return t.labels[Math.floor(n)];default:return""}},_getSeriesTemplateSize:function(t,i,r,u,f){var t,i,a=f.model.AreaType,o=f._id,v=n.inArray(r,f.model._visibleSeries),s,h,e,c,l;s=n("#template_group_"+o).length!=0?n("#template_group_"+o):n("<div><\/div>").attr("id","template_group_"+o);s.css("position","relative").css("z-index",1e3);h=n("#"+r.marker.dataLabel.template).clone();n(h).attr("id",r.marker.dataLabel.template+"_"+v+"_"+i+"_"+o);e=n(h);e.css("position","absolute");t.count=1;c={series:r,point:t};e.html(e.html().parseTemplate(c));l=a=="cartesianaxes"||!r.enableAnimation||r.type.toLowerCase()=="pyramid"||r.type.toLowerCase()=="funnel"?"block":"none";e.css("display",l).appendTo(n(s));n(s).appendTo("#"+o);t.size={height:e.height(),width:e.width()};u?((ej.util.isNullOrUndefined(r.LeftLabelMaxHeight)||r.LeftLabelMaxHeight<t.size.height)&&(r.LeftLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(r.LeftLabelMaxWidth)||r.LeftLabelMaxWidth<t.size.width)&&(r.LeftLabelMaxWidth=t.size.width)):((ej.util.isNullOrUndefined(r.RightLabelMaxHeight)||r.RightLabelMaxHeight<t.size.height)&&(r.RightLabelMaxHeight=t.size.height),(ej.util.isNullOrUndefined(r.RightLabelMaxWidth)||r.RightLabelMaxWidth<t.size.width)&&(r.RightLabelMaxWidth=t.size.width))},getMinPointsDelta:function(t,i,r){var f=i,u=Number.MAX_VALUE;return n.each(f.model._visibleSeries,function(i,e){var o,h,s;e.visibility.toLowerCase()=="visible"&&t.name==e._xAxisName&&(o=ej.DataManager(e.points,ej.Query().sortBy("xValue")).executeLocal(),o.length!=1||f.currentSeries&&f.currentSeries._yAxisName.toLowerCase()!=e._yAxisName.toLowerCase()?n.each(o,function(n,t){if(n>0&&t.xValue){var i=t.xValue-o[n-1].xValue;i!=0&&(u=Math.min(u,i))}}):(h=ej.util.isNullOrUndefined(r)?e.xAxis.visibleRange.min:r,s=o[0].xValue-h,s!=0&&(u=Math.min(u,s))))}),u==Number.MAX_VALUE&&(u=1),u},_getSeriesMaxLabel:function(t){var i={width:0,height:0},s=n(this.svgObject).width(),e=[],o,h,r,f,u;if(t.labels.length>0){for(u=0;u<t.labels.length;u++)r=this._measureText(t.visibleLabels[u],s,t.marker.dataLabel.font),i.width<r.width&&(i.width=r.width),i.height<r.height&&(i.height=r.height);t.LabelMaxHeight=i.height;t.LabelMaxWidth=i.width}else for(e.push(t.rightsidePoints),e.push(t.leftsidePoints),f=0;f<e.length;f++){for(u=0;u<e[f].length;u++)o=e[f][u],h=o.text?o.text:o.y,r=this._measureText(h,s,t.marker.dataLabel.font),i.width<r.width&&(i.width=r.width),i.height<r.height&&(i.height=r.height);f==0?(t.RightLabelMaxHeight=i.height,t.RightLabelMaxWidth=i.width):(t.LeftLabelMaxHeight=i.height,t.LeftLabelMaxWidth=i.width)}},_getHighestLabel:function(t,i,r){var c,y=0,f=[],o,s,e=0,v,l,h,a,u;if(ej.isNullOrUndefined(r))for(l=t.labels.length==0?t.visibleLabels:t.labels,h=0;h<l.length;h++){for(a=t.labels.length==0?l[h].Text:l[h],e=0,a.indexOf("<br>")!=-1?f=a.split("<br>"):f.push(a),u=0;u<f.length;u++)o=f[u],s=this._measureText(o,n(i.svgObject).width(),t.font).width,e<s&&(e=s,c=o);y<e&&(y=e,v=c)}else if(r&&(typeof r=="string"&&r.indexOf("<br>")!=-1||typeof r=="object"))for(e=0,f=typeof r=="object"?r:r.split("<br>"),u=0;u<f.length;u++)o=typeof f[u]=="object"?f[u].Text:f[u],s=this._measureText(o,i,t.font).width,e<s&&(e=s,c=o),v=c;return v},_getMaxLabelWidth:function(t,i){var e,g,ot,yt,pi,nt,a,rt,st,kt,p,ei,tt,l,ct,u,d,it,oi,dt,gt,lt,c,ni,s,ti,at,tr,ir;this.chartObj=i;var r={width:0,height:0,maxHeight:0,maxWidth:0},o="",hi=1,rr=i.svgRenderer.vmlNamespace,y=t.visibleRange,h=t.labelIntersectAction?t.labelIntersectAction.toLowerCase():"",vt=t.labelPlacement,ur=t.opposedPosition,ii=t.orientation.toLowerCase(),ci=i.model.requireInvertedAxes?ii=="vertical":ii=="horizontal",li=t.roundingPlaces,f=t.labelRotation,ii=t.orientation,k=0,et=t.visibleLabels,fr=et.length,ai,vi,yi,ri,ui;if(t.visible){for(e=0;e<fr;e++)t.visibleLabels[e].y=0,typeof t.visibleLabels[e].Text=="string"&&t.visibleLabels[e].Text.indexOf("<br>")!=-1&&t.orientation=="vertical"?(ai=t.visibleLabels[e].Text.split("<br>"),vi=this._getHighestLabel(t,n(this.svgObject).width(),ai),g=this._measureText(vi,n(this.svgObject).width(),t.font,t.labelRotation)):g=this._measureText(t.visibleLabels[e].Text,n(this.svgObject).width(),t.font,t.labelRotation),r.width<g.width&&(r.width=g.width,o=t.visibleLabels[e].Text),r.height<g.height&&(r.height=g.height);if((t.enableTrim||h=="trim"&&t.orientation!="vertical")&&(ot=t.maximumLabelWidth,r.width=r.width>ot?ot:r.width),r.rows=1,r.maxWidth=r.width,r.maxHeight=r.height,!rr&&(f||h)&&(yt=0,h=="rotate45"?yt=45:h=="rotate90"&&(yt=90),f=f!=null||ii=="vertical"?f:yt,t.rotationValue=f,f)){if(o=ej.isNullOrUndefined(o)?"":o,pi=this._measureText(o,n(this.svgObject).width(),t.font,t.labelRotation),(t.enableTrim||h=="trim")&&pi.width>ot&&o!="")for(a=o,p=1;p<a.toString().length;p++)if(a=a.toString().substring(0,p)+"... ",nt=this._measureText(a,n(i.svgObject).width(),t.font),nt.width>=ot){a=a.toString().substring(0,p-1)+"... ";o=a;break}o=(h||t.enableTrim)&&f?typeof o=="string"&&o.indexOf("<br>")!=-1?this._getHighestLabel(t,i,null):o:this._getHighestLabel(t,i,null);tt=this.rotatedLabel(t,i,f,o);t.labelIntersectAction&&t.labelIntersectAction.toLowerCase()=="multiplerows"&&(k=r.height+tt.height);r.height=t.rowsCount&&t.rowsCount>1&&f!=90&&t.enableTrim?t.rowsCount*r.height:tt.height;r.width=tt.width}if(t.labelIntersectAction)if(t.rowsCount&&(h=="none"||h=="trim"||h=="hide"||f==0)&&(h!="wrap"||t.enableTrim)&&(h!="wrapbyword"||t.enableTrim)&&(h!="multiplerows"||t.enableTrim))f==0&&(r.rows=t.rowsCount,r.height=t.rowsCount*r.height);else if(h=="wrap"||h=="wrapbyword"){if(vt=vt?vt:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,vt.toLowerCase()=="betweenticks"?(st=1+(t.labels.length>1?-.5:0),st=li?parseFloat(st.toFixed(li)):parseFloat(st.toFixed(ej.EjSvgRender.utils._decimalPlaces(y.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(y.interval))),rt=Math.ceil((st-y.min)/(y.max-y.min)*t.length)):rt=Math.ceil(t.length/et.length),t.orientation=="horizontal"){var ht=0,wi=0,bi,ut=t.labels.length>0&&t.valueType!="datetimecategory"?t.labels:t.visibleLabels,er=t.width?t.width/ut.length:(t.length-(i.svgWidth-t.length)-20)/ut.length;for(t.labelsCollection=[],c=0;c<ut.length;c++){var pt=0,fi=[],wt=[],bt=typeof ut[c]=="object"?ut[c].Text:ut[c];for(typeof bt=="string"&&bt.indexOf("<br>")!=-1?wt=bt.split("<br>"):wt.push(bt),s=0;s<wt.length;s++)for(kt=ej.EjAxisRenderer.prototype.rowscalculation(wt[s],i.model.m_AreaBounds,t,er,null),pt=kt.length+pt,p=0;p<kt.length;p++)fi.push(kt[p]);f&&(o=this._getHighestLabel(t,i,fi),ei=this._measureText(o,n(i.svgObject).width(),t.font).width,wi<ei&&(wi=ei,bi=o));ht=Math.max(pt,ht);t.labelsCollection[c]=fi}tt=this.rotatedLabel(t,i,f,bi)}rt=rt<0?Math.ceil(t.length/et.length):rt;l=Math.round(r.width/rt);r.rows=f?l-hi:l+hi;r.rows<0&&(r.rows=0);ct=ht&&!f?ht:r.rows;ht>l&&!f&&(ct=ct-1);r.height=f?tt.height+ct*tt.height:r.height+ct*r.height}else if(h=="multiplerows"){var or=i._getLegendSpace(),sr=i.model.border.width,wr=i.model._axes[1],hr=n(i.svgObject).width()-i.model.margin.left-i.model.margin.right;ri=t.title;ui=ri.text;var cr=ui==""||!t.visible?0:this._measureText(ui,hr,ri.font).height+2*i.model.elementSpacing,lr=i.model.elementSpacing+cr+t.majorTickLines.size+t.axisLine.width,ar=i._getYValues(i.model._visibleSeries[0].points),vr=Math.max.apply(Math,ar),ki=i.model._axes[1],g=this._measureText(vr,n(this.svgObject).width(),ki.font,ki.labelRotation),yr=or.rightLegendWidth+lr+g.width+i.model.margin.right+i.model.margin.left+2*sr,di=n(i.svgObject).width()-yr;if(ci){var ft=0,w=[],l=0,bi,wi=0;for(e=0;e<et.length;e++){u=et[e];d=[];typeof u.Text=="string"&&u.Text.indexOf("<br>")!=-1?d=u.Text.split("<br>"):d.push(u);it=d.length;oi=!1;k=Math.max(k,ft);ft=u.y=r.height;var a=this._measureText(u.Text,n(this.svgObject).width(),t.font),v=a.height,si=Math.abs(Math.floor((u.Value-y.min)/y.delta*di));if(w.length>0)for(dt=w,gt=!0,lt=0;lt<dt.length&&gt;lt++){var pt=0,b=dt[lt];for(c=0;b&&c<b.length;c++)for(s=0;s<it;s++){var nt=ej.EjSvgRender.utils._measureText(it==1?d[s].Text:d[s],n(this.svgObject).width(),t.font).width,v=ej.EjSvgRender.utils._measureText(d[s],n(this.svgObject).width(),t.font).height,gi=c==b.length?b[c-1]:b[c],pr=Math.abs(Math.floor((gi.Value-y.min)/y.delta*di)),nr=ej.EjSvgRender.utils._measureText(gi.Text,n(this.svgObject).width(),t.font).width;if(nt=nt/2,ni=pr+(t.isInversed?-nr/2:nr/2),ni>=si-nt)ft=u.y+v,u.y+=v,pt++,lt+1==dt.length&&(gt=!1);else if(c+1==b.length){gt=s==it-1?!1:!0;break}}}if(u.y=ft,l=ft/v-1,w[l]==undefined&&(w[l]=[]),it==1)w[l].push(u);else for(s=0;s<it;s++)w[l]==undefined&&(w[l]=[]),w[l].push({Text:d[s],Value:u.Value}),s!=it-1&&(l=l+1,ft=u.y+v)}k=w.length*v;r.height=r.height>k?r.height:k;v>0&&(r.rows=ur?Math.round((k+v)/v):Math.round(k/v));r.rows=f?r.rows-1:r.rows;r.rows<1&&(r.rows=1)}if(!ci){for(ti=0,e=0;e<t.visibleLabels.length;e++){for(u=t.visibleLabels[e],a=this._measureText(u.Text,n(this.svgObject).width(),t.font),nt=a.width,v=a.height,si=Math.abs(Math.floor((u.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),at=0;at<e;at++)b=t.visibleLabels[at],yi=Math.abs(Math.floor((b.Value-t.visibleRange.min)/t.visibleRange.delta*t.length)),tr=this._measureText(b.Text,n(this.svgObject).width(),t.font).height,ni=yi+tr/2,ni>si-v/2&&t.visibleLabels[at].y==u.y&&(ti=u.y+nt,u.y=ti,oi=!0);ir=ti}r.width=r.width+ir+(oi?5:0)}}}return r},rotatedLabel:function(n,t,i,r,u){var e={"font-size":n.font.size,transform:"rotate("+i+",0,0)","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,rotateAngle:"rotate("+i+"deg)","text-anchor":"middle"};t=u?this.chartObj:t;var f=t.svgRenderer.createText(e,r),o=Math.ceil(this._measureBounds(f,t).height),s=Math.ceil(this._measureBounds(f,t).width);return{height:o,width:s}},_getTransform:function(n,t,i){var r,u,f,e;return i?(r=t.x,u=n.y,f=t.width,e=n.height):(r=n.x,u=t.y,f=n.width,e=t.height),{x:r,y:u,width:f,height:e}},_calculateroundedCorner:function(n,t,i,r,u,f){var e=t.x,o=t.y,c=5,l=this.chartObj.model.enableCanvasRendering&&!f?c/4:0,s=t.width,h=t.height,v,y,p,w,a;return typeof n!="object"||ej.util.isNullOrUndefined(n)?v=y=p=w=n:(v=n.topLeft,y=n.bottomLeft,p=n.topRight,w=n.bottomRight),v=ej.util.isNullOrUndefined(t.rx)?v:t.rx,y=ej.util.isNullOrUndefined(t.rx)?y:t.rx,p=ej.util.isNullOrUndefined(t.ry)?p:t.ry,w=ej.util.isNullOrUndefined(t.ry)?w:t.ry,a="M "+e+" "+(v+o)+" Q "+e+" "+o+" "+(e+v)+" "+o+" ",i&&r=="top"&&(a+="L "+(e+s/2-c/2+l)+" "+o+" L "+(e+s/2+l-u)+" "+(o-c)+" L "+(e+s/2+c/2+l)+" "+o+" "),a+="L "+(e+s-p)+" "+o+" Q "+(e+s)+" "+o+" "+(e+s)+" "+(o+p)+" ",i&&r=="right"&&(a+="L "+(e+s)+" "+(o+h/2-c/2+l)+" L "+(e+s+c)+" "+(o+h/2+l-u)+" L "+(e+s)+" "+(o+h/2+c/2+l)+" "),a+="L "+(e+s)+" "+(o+h-w)+" Q "+(e+s)+" "+(o+h)+" "+(e+s-w)+" "+(o+h)+" ",i&&r=="bottom"&&(a+="L "+(e+s/2-c/2+l)+" "+(o+h)+" L "+(e+s/2+l-u)+" "+(o+h+c)+" L "+(e+s/2+c/2+l)+" "+(o+h)+" "),a+="L "+(e+y)+" "+(o+h)+" Q "+e+" "+(o+h)+" "+e+" "+(o+h-y)+" ",i&&r=="left"&&(a+="L "+e+" "+(o+h/2-c/2+l)+" L "+(e-c)+" "+(o+h/2+l-u)+" L "+e+" "+(o+h/2+c/2+l)+" "),a+("L "+e+" "+(v+o)+" z")},browserInfo:function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n},_measureText:function(t,i,r){var s=n(document).find("#measureTex"),u,e,o,f,v;n("#measureTex").css("display","block");s.length==0?(u=document.createElement("text"),n(u).attr({id:"measureTex"}),document.body.appendChild(u)):u=s[0];var h=null,c=null,l=null,a=null;if(typeof t=="string"&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(e=t.split(" "),o=0;o<e.length;o++)e[o].indexOf("<br/>")==-1&&(e[o]=e[o].replace(/[<>]/g,"&"));t=e.join(" ")}return/<\/?[a-z][\s\S]*>/.test(t)?n(u).html(t):u.textContent=t,r!=undefined&&r.size==undefined&&(f=r,f=f.split(" "),h=f[0],c=f[1],l=f[2],a=f[3]),r!=null&&(u.style.fontSize=r.size>0?r.size+"px":r.size?r.size:c,u.style.fontStyle&&(u.style.fontStyle=r.fontStyle?r.fontStyle:h),u.style.fontFamily=r.fontFamily?r.fontFamily:l,window.navigator.userAgent.indexOf("MSIE 8.0")==-1&&(u.style.fontWeight=r.fontWeight?r.fontWeight:a)),u.style.backgroundColor="white",u.style.position="absolute",u.style.top=-100,u.style.left=0,u.style.visibility="hidden",u.style.whiteSpace="nowrap",i&&(u.style.maxwidth=i+"px"),v={width:u.offsetWidth,height:u.offsetHeight},n("#measureTex").css("display","none"),v},_trimText:function(n,t,i){var f,r,e,u;for(r=n.toString(),e=r.length,u=1;u<e;u++)if(r=n.substring(0,u)+"...",f=ej.EjSvgRender.utils._measureText(r,null,i).width,f>=t)return r.substring(0,u-1)+"... ";return n},_measureBounds:function(t,i){i.model.enableCanvasRendering?n(document.body).append(t):(i.svgRenderer.append(t,i.svgObject),i.svgRenderer.append(i.svgObject,i.element));var r=t.getBoundingClientRect(),u={left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.right-r.left,height:r.bottom-r.top};return n(t).remove(),u},_drawAxesBoundsClipPath:function(t,i,r){var u,s=n(t),f=this._getTransform(i.xAxis,i.yAxis,r.model.requireInvertedAxes),h=r.model.AreaType=="polaraxes"?n(r.svgObject).width():f.width,c=r.model.AreaType=="polaraxes"?n(r.svgObject).height():f.height,e=r.model.requireInvertedAxes?i.yAxis.plotOffset:i.xAxis.plotOffset,o=r.model.requireInvertedAxes?i.xAxis.plotOffset:i.yAxis.plotOffset;r.model.AreaType=="polaraxes"?(u={id:t?t.id+"_ClipRect":"",cx:r.model.centerX,cy:r.model.centerY,r:r.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},r.svgRenderer.drawCircularClipPath(u,t)):(u={id:t?t.id+"_ClipRect":"",x:0-e,y:0-o,width:h+2*e,height:c+2*o,fill:"white","stroke-width":1,stroke:"transparent"},r.svgRenderer.drawClipPath(u,t));u.id.indexOf("_Rect")&&(u.id=u.id.replace("_Rect",""));s.attr("clip-path","url(#"+u.id+")")},_getStringBuilder:function(){var n=[],t=0;return{append:function(i){return n[t++]=i,this},remove:function(t,i){return n.splice(t,i||1),this},insert:function(t,i){return n.splice(t,0,i),this},toString:function(t){return n.join(t||"")}}},_addRegion:function(t,i,r,u,f){var s=r.type,e=n.inArray(r,t.model._visibleSeries),o;e>=0&&(o={SeriesIndex:e,Region:{PointIndex:f,Bounds:i},type:s},t.model.chartRegions.push(o))},AddRegion:function(n,t,i){if(i){var r={isStripLine:i,Region:{Bounds:t}};n.model.chartRegions.push(r)}},_getSvgXY:function(n,t,i,r){var u,f;return r.model.requireInvertedAxes?(u=n+i.yAxis.x,f=t+i.xAxis.y):(u=n+i.xAxis.x,f=t+i.yAxis.y),{X:u,Y:f}},_getPoint:function(n,t){var f=n.xValue,i,r,u,e=t.type=="boxandwhisker"?n.YValues:n.YValues[0],s=t._isTransposed?t.xAxis.height:t.xAxis.width,o=t._isTransposed?t.yAxis.width:t.yAxis.height;return n.location={},t._hiloTypes&&(i=n.YValues[1],i=t.yAxis._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(i==0?1:i,t.xAxis.logBase):i,i=this._getPointXY(i,t.yAxis.visibleRange,t.yAxis.isInversed),n.location.low=(t._isTransposed?i:1-i)*o),r=t.xAxis._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(f==0?1:f,t.xAxis.logBase):f,u=t.yAxis._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(e==0?1:e,t.xAxis.logBase):e,r=this._getPointXY(r,t.xAxis.visibleRange,t.xAxis.isInversed),u=this._getPointXY(u,t.yAxis.visibleRange,t.yAxis.isInversed),n.location.X=t._isTransposed?u*o:r*s,n.location.Y=t._isTransposed?(1-r)*s:(1-u)*o,n.location},_getPointXY:function(n,t,i){var r=0;return r=(n-t.min)/t.delta,r=isNaN(r)?0:r,i?1-r:r},_dateTimeLabelFormat:function(n,t){switch(n.toLowerCase()){case"years":return t._labelFormat="MMM, yyyy";case"months":return t._labelFormat="dd, MMM";case"days":return t._labelFormat="dd/MM/yyyy";case"hours":return t._labelFormat="dd, hh:mm";case"minutes":return t._labelFormat="hh:mm";case"seconds":return t._labelFormat="mm:ss";case"milliseconds":return t._labelFormat="ss:fff";default:return t._labelFormat="dd/MM/yyyy"}},_getFontString:function(n){return n==null&&(n={}),n.FontFamily||(n.FontFamily="Arial"),n.FontStyle||(n.FontStyle="Normal"),n.Size||(n.Size="12px"),n.FontStyle+" "+n.Size+" "+n.FontFamily},_valueToVector:function(n,t){return this._coefficientToVector(this._valueToPolarCoefficient(n,t))},TransformToVisible:function(n,t,i,r){t=n.xAxis._valueType=="logarithmic"&&t>0?Math.log(t,n.xAxis.logBase):t;i=n.xAxis._valueType=="logarithmic"&&i>0?Math.log(i,n.yAxis.logBase):i;var u=r.model.Radius*this._valueToCoefficient(n.yAxis,i),f=this._valueToVector(n.xAxis,t);return{X:r.model.centerX+u*f.X,Y:r.model.centerY+u*f.Y}},Transform3DToVisible:function(n,t,i,r){var u,s,h,f;if(n.xAxis!=null&&n.yAxis!=null){if(u=n.xAxis._valueType.toLowerCase(),f=u=="logarithmic"?!0:!1,t=t=f&&t>0?math.log(t,s):t,i=i,r.model.requireInvertedAxes){var e=r.model.m_AreaBounds.X,o=r.model.m_AreaBounds.Y,c=e+n.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(n.yAxis,i,r),l=o+n.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(n.xAxis,t,r));return{X:c,Y:l}}var e=n.xAxis.x,o=n.yAxis.y,t=e+Math.round(n.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(n.xAxis,t,r)),i=o+Math.round(n.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(n.yAxis,i,r)));return{X:t,Y:i}}return new h(0,0)},_valueToPolarCoefficient:function(n,t){var f=n.visibleRange.min,r,u,i;return n._valueType!="category"?(r=n.visibleRange.max-n.visibleRange.interval-n.visibleRange.min,u=n.visibleLabels.length-1):(r=n.visibleRange.delta,u=n.visibleLabels.length),i=(t-f)/r,i*=1-1/u,i=isNaN(i)?0:i,n.isInversed?i:1-i},_coefficientToVector:function(n){var t=Math.PI*(1.5-2*n);return{X:Math.cos(t),Y:Math.sin(t)}},_valueToCoefficient:function(n,t,i){var r;return r=i&&i.model.AreaType=="polaraxes"?t:n._valueType&&n._valueType.toLowerCase()=="logarithmic"?ej.EjSvgRender.utils._logBase(t==0?1:t,n.logBase):t,r=(r-n.visibleRange.min)/n.visibleRange.delta,n.isInversed?1-r:r},_getBoundingClientRect:function(t,i,r,u){var f=t.getBoundingClientRect(),s=n("#"+i.svgObject.id)[0].getBoundingClientRect(),e,o,h,c;return u?(e=this._getTransform(r.xAxis,r.yAxis,!0).x,o=this._getTransform(r.xAxis,r.yAxis,!0).y):(e=this._getTransform(r.xAxis,r.yAxis,!1).x,o=this._getTransform(r.xAxis,r.yAxis,!1).y),h=f.left-(e+s.left),c=f.top-(o+s.top),{x:h,y:c,width:f.right-f.left,height:f.bottom-f.top}},_minMax:function(n,t,i){return n>i?i:n<t?t:n},_inside:function(n,t){return n===""?!1:n<=t.max&&n>=t.min},_logBase:function(n,t){return Math.log(n)/Math.log(t)},_correctRect:function(n,t,i,r){return{X:Math.min(n,i),Y:Math.min(t,r),Width:Math.abs(i-n),Height:Math.abs(r-t)}},_getValuebyPoint:function(n,t,i,r){var e=r?i.xAxis.height:i.xAxis.width,o=r?i.yAxis.width:i.yAxis.height,u=i.xAxis.isInversed?1-n/e:n/e,f=i.yAxis.isInversed?1-t/o:t/o;return u=u*i.xAxis.visibleRange.delta+i.xAxis.visibleRange.min,f=f*i.yAxis.visibleRange.delta+i.yAxis.visibleRange.min,u=i.xAxis._valueType=="logarithmic"?Math.pow(i.xAxis.logBase,u):u,f=i.yAxis._valueType=="logarithmic"?Math.pow(i.yAxis.logBase,f):f,{PointX:u,PointY:f}}};ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(n){return this.vector||(this.vector=new(new ej.Ej3DRender).vector3D,this.matrixobj=new(new ej.Ej3DRender).matrix3D,this.bsptreeobj=new(new ej.Ej3DRender).BSPTreeBuilder,this.polygon=new(new ej.Ej3DRender).polygon3D),{mViewport:n,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity(),Depth:0}},transform:function(n){this.setCenter(this.vector.vector3D(n.mViewport.Width/2,n.mViewport.Height/2,n.Depth/2),n);this.setViewMatrix(this.matrixobj.transform(0,0,n.Depth),n);this.setViewMatrix(this.matrixobj.getMatrixMultiplication(n.viewMatrix,this.matrixobj.turn(-this.ToRadial*n.Rotation)),n);this.setViewMatrix(this.matrixobj.getMatrixMultiplication(n.viewMatrix,this.matrixobj.tilt(-this.ToRadial*n.Tilt)),n);this.updatePerspective(n.PerspectiveAngle,n);n.needUpdate=!0},updatePerspective:function(n,t){var i=(t.mViewport.Width+t.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(n%181))/2))+t.Depth/1;t.Perspective[0][0]=i;t.Perspective[1][1]=i;t.Perspective[2][3]=1;t.Perspective[3][3]=i},degreeToRadianConverter:function(n){return n*Math.PI/180},toScreen:function(n,t,i,r){var i=i?i:this.result;return r?(this.matrixobj=r,n=r.getMatrixVectorMutiple(i(t,r),n)):(t.chartObj=this.matrixobj,n=this.matrixobj.getMatrixVectorMutiple(i(t),n)),{x:n.x,y:n.y}},setViewMatrix:function(n,t){t.viewMatrix!=n&&(t.viewMatrix=n,t.needUpdate=!0)},setCenteredMatrix:function(n,t){t.viewMatrix!=n&&(t.centeredMatrix=n,t.needUpdate=!0)},result:function(n,t){var i=n.chartObj?n.chartObj:this.matrixobj,r;return(i||(i=t),!n.needUpdate)?n.resultMatrix:(r=this.matrixobj?this.matrixobj:t,n.resultMatrix=i.getMatrixMultiplication(r.getInvertal(n.centeredMatrix),n.Perspective),n.resultMatrix=i.getMatrixMultiplication(n.resultMatrix,n.viewMatrix),n.resultMatrix=i.getMatrixMultiplication(n.resultMatrix,n.centeredMatrix),n.needUpdate=!1,n.resultMatrix)},setCenter:function(n,t){t.centeredMatrix=this.matrixobj.transform(-n.x,-n.y,-n.z);t.needUpdate=!0},toPlane:function(n,t,i){var r=this.vector.vector3D(n.x,n.y,0),u=this.vector.vector3DPlus(r,this.vector.vector3D(0,0,1));return r=this.vector.vector3DMultiply(i.centeredMatrix,r),u=this.vector.vector3DMultiply(i.centeredMatrix,u),r=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),r),u=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.Perspective),u),r=this.polygon.getPoint(r,this.vector.vector3DMinus(u-r)),r=this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.viewMatrix),r),this.vector.vector3DMultiply(this.matrixobj.getInvertal(i.centeredMatrix),r)}};ej.EjSvgRender.chartSymbol={_drawSeriesType:function(n,t,i){var r=i.model.series[t.SeriesIndex].type.toLowerCase(),u=i.legendItem.drawType;r=ej.util.isNullOrUndefined(u)?r:u;switch(r){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(u)?this._drawLine(n,t,i,i.gLegendItemEle):this._drawStraightLine(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(n,t,i,i.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(n,t,i,i.gLegendItemEle);default:return this._drawRectangle(n,t,i,i.gLegendItemEle)}},_drawCircle:function(n,t,i,r){var o=i.svgRenderer,h=i.svgObject,f=t.ShapeSize,e=Math.sqrt(f.height*f.height+f.width*f.width)/2,u=t.Style,s={id:t.ID,cx:n.startX,cy:n.startY,r:e,fill:u.Color,"stroke-width":u.BorderWidth,stroke:u.BorderColor,opacity:u.Opacity,visibility:u.Visibility,lgndCtx:t.context};return o.drawCircle(s,r),n.startX-e},_drawLeftArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/2)+" "+n.startY+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2+u.width)+" "+(n.startY+u.height/4)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawRightArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/2+u.width)+" "+n.startY+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width/2+u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX-u.width/2)+" "+(n.startY+u.height/4)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawUpArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2+u.width/4)+" "+(n.startY-u.height/2+u.height)+" L "+(n.startX-u.width/2+u.width/4)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX-u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+n.startX+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX+u.width/2-u.width/4)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX+u.width/2-u.width/4)+" "+(n.startY-u.height/2+u.height)+" L "+(n.startX-u.width/2+u.width/4)+" "+(n.startY-u.height/2+u.height)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawDownArrow:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width/2+u.width/4)+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2-u.width/4)+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2-u.width/4)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+n.startX+" "+(n.startY-u.height/2+u.height)+" L "+(n.startX-u.width/2)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX-u.width/2+u.width/4)+" "+(n.startY-u.height/2+u.height/2)+" L "+(n.startX-u.width/2+u.width/4)+" "+(n.startY-u.height/2)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawCross:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY+" M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2);e={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawHorizLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+u.width/2)+" "+n.startY;e={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawVertLine:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+n.startX+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2);e={id:t.ID,opacity:t.Style.Opacity,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawTriangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawInvertedTriangle:function(n,t,i,r){var f=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,e="M "+(n.startX+u.width/2)+" "+(n.startY-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width/2)+" "+(n.startY-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY-u.height/2)+" z";var h=n.startX,c=n.startY,o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:e};f.drawPath(o,r)},_drawHexagon:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+(n.startX+u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawWedge:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX-u.width)+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+3*(u.width/4))+" "+n.startY+" L "+(n.startX+u.width)+" "+(n.startY+u.height/2)+" L "+(n.startX-u.width)+" "+n.startY+" z";e={"stroke-linecap":"miter","stroke-miterlimit":u.width/4,id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawPentagon:function(n,t,i,r){for(var l,a,v=i.svgRenderer,p=i.svgObject,u=t.ShapeSize,o=Math.sqrt(u.height*u.height+u.width*u.width)/2,f=ej.EjSvgRender.utils._getStringBuilder(),e=0;e<=5;e++){var y=e*72,s=Math.PI/180*y,h=o*Math.cos(s),c=o*Math.sin(s);e==0?f.append("M "+(n.startX+h)+" "+(n.startY+c)+" "):f.append("L "+(n.startX+h)+" "+(n.startY+c)+" ")}f.append("z");l=f.toString();a={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:l};v.drawPath(a,r)},_drawStar:function(n,t,i,r){var o=i.svgRenderer,u=t.ShapeSize,s=i.svgObject,f,e;f="M "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/6)+" L "+(n.startX+-u.width/3)+" "+(n.startY+-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/3)+" "+(n.startY+-u.height/2)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawRectangle:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2)+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawTrapezoid:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/4)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+-u.height/2)+" L "+(n.startX+-u.width/2+u.width)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+(n.startY+u.height/4)+" L "+(n.startX+-u.width/2)+" "+n.startY+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawDiamond:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;f="M "+(n.startX+-u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+n.startY+" L "+n.startX+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2)+" "+n.startY+" z";e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,d:f};o.drawPath(e,r)},_drawEllipse:function(n,t,i,r){var f=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,e=n.startX,o=n.startY,s={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,lgndCtx:t.context,cx:e,cy:o,rx:u.width,ry:u.height/2};f.drawEllipse(s,r)},_drawImage:function(n,t,i,r){var f=i.svgRenderer,e=i.svgObject,u=t.ShapeSize,o=n.startX+-u.width/2,s=n.startY+-u.width/2,h=u.width,c=u.height,l={id:e.id+"_image"+t.PointIndex,height:c,width:h,href:t.Imageurl,x:o,y:s,visibility:"visible",lgndCtx:t.context};f.drawImage(l,r)},_drawStraightLine:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/10)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/10),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2+-f/4},_drawLine:function(n,t,i,r){var o=i.svgRenderer,l=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,s;if(i.model.enableCanvasRendering===!0){e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/10)+" L "+(n.startX-Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" M "+(n.startX+Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/10);var s={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},h="M "+(n.startX-Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" a "+Math.floor(u.width/3)+" "+Math.floor(u.width/3)+" 0 1 0 "+2*Math.floor(u.width/3)+" 0 a"+Math.floor(u.width/3)+" "+Math.floor(u.width/3)+" 0 1 0 "+-2*Math.floor(u.width/3)+" 0",c={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:h,lgndCtx:!0};o.drawPath(s,r);o.drawPath(c,r)}else e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/10)+" L "+(n.startX-Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" M "+(n.startX+Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/10)+" M "+(n.startX-Math.floor(u.width/3))+" "+(n.startY+u.height/10)+" a "+Math.floor(u.width/3)+" "+Math.floor(u.width/3)+" 0 1 0 "+2*Math.floor(u.width/3)+" 0 a"+Math.floor(u.width/3)+" "+Math.floor(u.width/3)+" 0 1 0 "+-2*Math.floor(u.width/3)+" 0",s={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},o.drawPath(s,r);return n.startX+-u.width/2+-f/4},_drawColumn:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX-3*(u.width/5))+" "+(n.startY-u.height/5)+" L "+(n.startX+3*(-u.width/10))+" "+(n.startY-u.height/5)+" L "+(n.startX+3*(-u.width/10))+" "+(n.startY+u.height/2)+" L "+(n.startX-3*(u.height/5))+" "+(n.startY+u.height/2)+" Z M "+(n.startX+-u.width/10-u.width/20)+" "+(n.startY-u.height/4-f/2)+" L "+(n.startX+u.width/10+u.width/20)+" "+(n.startY-u.height/4-f/2)+" L "+(n.startX+u.width/10+u.width/20)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/10-u.width/20)+" "+(n.startY+u.height/2)+" Z M "+(n.startX+3*(u.width/10))+" "+n.startY+" L "+(n.startX+3*(u.width/5))+" "+n.startY+" L "+(n.startX+3*(u.width/5))+" "+(n.startY+u.height/2)+" L "+(n.startX+3*(u.width/10))+" "+(n.startY+u.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX-3*(u.width/5)},_drawRangeColumn:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/5)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+-u.width/5)+" "+(n.startY-u.height/2-f/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2+-f/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+f/4)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/5},_drawBar:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY-3*(u.height/5))+" L "+(n.startX+3*(u.width/10))+" "+(n.startY-3*(u.height/5))+" L "+(n.startX+3*(u.width/10))+" "+(n.startY-3*(u.height/10))+" L "+(n.startX-u.width/2+-f/4)+" "+(n.startY-3*(u.height/10))+" Z M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY-u.height/5+f/20)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY-u.height/5+f/20)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/10+f/20)+" L "+(n.startX-u.width/2+-f/4)+" "+(n.startY+u.height/10+f/20)+" Z M "+(n.startX-u.width/2+-f/4)+" "+(n.startY+u.height/5+f/10)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/5+f/10)+" L "+(n.startX+-u.width/4)+" "+(n.startY+u.height/2+f/10)+" L "+(n.startX-u.width/2+-f/4)+" "+(n.startY+u.height/2+f/10)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2+-f/4},_drawStepLine:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2-f/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2+u.width/10)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2+u.width/10)+" "+n.startY+" L "+(n.startX+-u.width/10)+" "+n.startY+" L "+(n.startX+-u.width/10)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/5)+" "+(n.startY+u.height/2)+" L "+(n.startX+u.width/5)+" "+(n.startY+-u.height/2)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2)+"L "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" L"+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/2),o={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2-f/4},_drawSpline:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;return f="M "+(n.startX-u.width/2)+" "+(n.startY+u.height/5)+" Q "+n.startX+" "+(n.startY-u.height)+" "+n.startX+" "+(n.startY+u.height/5)+" M "+n.startX+" "+(n.startY+u.height/5)+" Q "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" "+(n.startX+u.width/2)+" "+(n.startY-u.height/2),e={id:t.ID,fill:"transparent","stroke-width":t.Style.BorderWidth*2,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:f,lgndCtx:!0},o.drawPath(e,r),n.startX-u.width/2},_drawSplineArea:function(n,t,i,r){var o=i.svgRenderer,s=i.svgObject,u=t.ShapeSize,f,e;return f="M "+(n.startX-u.width/2)+" "+(n.startY+u.height/5)+" Q "+n.startX+" "+(n.startY-u.height)+" "+n.startX+" "+(n.startY+u.height/5)+" Z M "+n.startX+" "+(n.startY+u.height/5)+" Q "+(n.startX+u.width/2)+" "+(n.startY+u.height/2)+" "+(n.startX+u.width/2)+" "+(n.startY-u.height/2)+"  Z",e={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:f,lgndCtx:!0},o.drawPath(e,r),n.startX-u.width/2},_drawArea:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX-u.width/2-f/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/4+-f/8)+" "+(n.startY-u.height/2)+" L "+n.startX+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/4+f/8)+" "+(n.startY+-u.height/2+u.height/4)+" L "+(n.startX+u.height/2+f/4)+" "+(n.startY+u.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX-u.width/2-f/4},_drawStepArea:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/2)+" L "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+-u.height/2)+" L "+(n.startX-u.width/4)+" "+(n.startY-u.height/2)+" L "+(n.startX-u.width/4)+" "+(n.startY-u.height/4)+" L "+(n.startX+u.width/4)+" "+(n.startY-u.height/4)+" L "+(n.startX+u.width/4)+" "+n.startX+" L "+(n.startX+u.width/2+f/4)+" "+n.startY+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/2)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2+-f/4},_drawPyramid:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2+-f/4)+" "+(n.startY+u.height/2+f/8)+" L "+n.startX+" "+(n.startY+-u.height/2+-f/8)+" L "+(n.startX+u.width/2+f/4)+" "+(n.startY+u.height/2+f/8)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2+-f/4},_drawFunnel:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2+-f/5)+" "+(n.startY+-u.height/2+-f/4)+" L "+(n.startX+-u.width/5)+" "+(n.startY+u.height/4)+" L "+(n.startX+-u.width/5)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+u.width/5)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+u.width/5)+" "+(n.startY+u.height/4)+" L "+(n.startX+u.width/2+f/5)+" "+(n.startY+-u.height/2+-f/4)+" Z",o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.BorderColor,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2+-f/5},_drawCandle:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+-u.width/2)+" "+(n.startY+u.height/4+f/8)+" L "+(n.startX+u.width/2)+" "+(n.startY+u.height/4+f/8)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2+f/8)+" L "+(n.startX+-u.width/2)+" "+(n.startY+-u.height/2+f/8)+" Z M "+n.startX+" "+(n.startY+-u.height/2+f/8)+" L "+n.startX+" "+(n.startY+-u.height/2+-f/4)+" M "+n.startX+" "+(n.startY+u.height/4+f/8)+" L "+n.startX+" "+(n.startY+u.height/4+f/2),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+-u.width/2},_drawHilo:function(n,t,i,r){var s=i.svgRenderer,h=i.svgObject,u=t.ShapeSize,f=t.ElementSpace,e,o;return e="M "+(n.startX+u.width/2)+" "+(n.startY+u.height/2+f/4)+" L "+(n.startX+u.width/2)+" "+(n.startY+-u.height/2+-f/4),o={id:t.ID,fill:t.Style.Color,"stroke-width":t.Style.BorderWidth,stroke:t.Style.Color,opacity:t.Style.Opacity,visibility:t.Style.Visibility,d:e,lgndCtx:!0},s.drawPath(o,r),n.startX+u.width/2},_drawHiloOpenClose:function(n,i,r,u){var h=r.svgRenderer,c=r.svgObject,f=i.ShapeSize,l=t(18,12,4.0710678118654755,270),e=i.ElementSpace,o,s;return o="M "+n.startX+" "+(n.startY-3*(f.height/10))+" L "+(n.startX-f.width/2-e/4)+" "+(n.startY-3*(f.height/10))+" M "+n.startX+" "+(n.startY-f.height/2-e/4)+" L "+n.startX+" "+(n.startY+f.height/2+e/4)+" M "+n.startX+" "+(n.startY+3*(f.height/10))+" L "+(n.startX+f.width/2+e/4)+" "+(n.startY+3*(f.height/10)),s={id:i.ID,fill:"transparent","stroke-width":i.Style.BorderWidth,stroke:i.Style.Color,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:o,lgndCtx:!0},h.drawPath(s,u),n.startX-f.width/2},_drawDoughnut:function(n,i,r,u){var o=r.svgRenderer,y=r.svgObject,e=i.ShapeSize,c=i.ElementSpace,f=Math.sqrt(e.height*e.width)/2;f=f+c/5;var s=t(n.startX,n.startY,f,270),h=t(n.startX+e.width/10,n.startY,f,270),c=i.ElementSpace,l="M "+n.startX+" "+n.startY+" L "+(n.startX+f)+" "+n.startY+" A "+f+" "+f+" 0 1 1 "+s[0]+" "+s[1]+" Z M "+(n.startX+e.width/10)+" "+(n.startY-e.height/10)+" L"+(n.startX+f)+" "+(n.startY-e.height/10)+" A "+f+" "+f+" 0 0 0 "+h[0]+" "+h[1]+" Z",a={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:l,lgndCtx:!0},v={id:i.ID,cx:n.startX,cy:n.startY,r:f/2,lgndCtx:!0,fill:"white","stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility};return o.drawPath(a,u),o.drawCircle(v,u),n.startX-f},_drawPie:function(n,i,r,u){var h=r.svgRenderer,v=r.svgObject,e=i.ShapeSize,c=i.ElementSpace,f=Math.sqrt(e.height*e.width)/2;f=f+c/5;var o=t(n.startX,n.startY,f,270),s=t(n.startX+e.width/10,n.startY,f,270),c=i.ElementSpace,l="M "+n.startX+" "+n.startY+" L "+(n.startX+f)+" "+n.startY+" A "+f+" "+f+" 0 1 1 "+o[0]+" "+o[1]+" Z M "+(n.startX+e.width/10)+" "+(n.startY-e.height/10)+" L"+(n.startX+f)+" "+(n.startY-e.height/10)+" A "+f+" "+f+" 0 0 0 "+s[0]+" "+s[1]+" Z",a={id:i.ID,fill:i.Style.Color,"stroke-width":i.Style.BorderWidth,stroke:i.Style.BorderColor,opacity:i.Style.Opacity,visibility:i.Style.Visibility,d:l,lgndCtx:!0};return h.drawPath(a,u),n.startX-f}};ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}};ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}};n.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery);ej.axisTypes={};ej.EjAxisRenderer=function(){};_sideBySeriesPadding=function(n,t,i,r){for(var u,f,o=ej.DataManager(n.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),s=!1,h=o.length,c=r.orientation.toLowerCase(),e=0;e<h;e++)if(u=o[e].type.toLowerCase(),u.indexOf("column")!=-1||u.indexOf("bar")!=-1||u.indexOf("waterfall")!=-1||u=="candle"||u.indexOf("hilo")!=-1||u.indexOf("box")!=-1){s=!0;break}return n.model.AreaType!="polaraxes"&&s?(r.m_minPointsDelta=undefined,f=ej.EjSvgRender.utils.getMinPointsDelta(r,n,t)*.5,t=t-f,i=i+f>Number.MAX_VALUE?Number.MAX_VALUE:i+f,r.padding=f):r.padding=0,{startPadding:t,endPadding:i}};ej.EjStripline=function(n){this.chart=n},function(n){function t(t,i){var r=function(){};return r.prototype=new t,n.extend(r.prototype,i),r}var i,r,u,f,e;ej.EjAxisRenderer.prototype={_seriesMinMax:function(t,i,r,u,f){var vt=i.orientation.toLowerCase(),ti=r.length,yt,d,e,l,w,lt,at,s,o,nt,tt,rt,ui,li,fi,y,ei,gt,oi,ni,ut;if(f.seriesCollection=ej.util.isNullOrUndefined(f.seriesCollection)?{}:f.seriesCollection,ti>0&&t.model._hasSeriesPoints&&r[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var pt,a,wt,v,bt,kt,ii,si={maxX:null,minX:null},hi={maxY:null,minY:null},k=si.maxX,b=si.minX,c=hi.maxY,h=hi.minY,dt,ft,et,ot;for(e=0;e<ti;e++){if(dt=r[e].visibility.toLowerCase(),ft=r[e].points.length,yt=0,dt==="visible")for(r[e]._visiblePoints=[],s=0;s<ft;s++)d=r[e].points[s],(d.x!=null&&d.x!=undefined&&(typeof d.y=="object"||!isNaN(d.y))&&d.y!=null&&d.y!=undefined||d.showIntermediateSum||d.showTotalSum||d.isEmpty==!1)&&(r[e]._visiblePoints[yt]=d,r[e]._visiblePoints[yt].actualIndex=s,yt++);i.maxPointLength=ft}for(e=0;e<ti;e++)if(et=r[e]._visiblePoints.length,l=r[e],et>0&&(dt=r[e].visibility.toLowerCase(),ft=r[e].points.length,dt==="visible"&&ft>0))if(vt=="horizontal"&&!t.model.requireInvertedAxes||vt=="vertical"&&t.model.requireInvertedAxes){for(wt=pt=r[e]._visiblePoints[0].xValue,s=0;s<et;s++)o=r[e]._visiblePoints[s].xValue,wt>o&&(wt=o),pt<o&&(pt=o);r[e].minX=wt;r[e].maxX=pt;(b===null||b===undefined)&&et>0&&(k=r[e].maxX,b=r[e].minX);b>r[e].minX&&(b=r[e].minX);k<r[e].maxX&&(k=r[e].maxX)}else{var ri=l.type.toLowerCase().indexOf("spline")!=-1,g,st,ht,ct,ci,it=0,p=r[e]._visiblePoints;for(ri&&(w=l._name=l.name||"series"+e,f.seriesCollection[w]={},p=ej.ejSplineSeries.prototype._isVisiblePoints(l),st=f.seriesCollection[w].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(p,l,0),l.type.toLowerCase()=="splinerangearea"&&(ht=f.seriesCollection[w].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(p,l,1)),f.seriesCollection[w].controlPoints=[],ct=ej.ejSplineSeries.prototype.getBezierControlPoints,ci=p.filter(function(n){return!ej.isNullOrUndefined(n.YValues[0])&&!isNaN(n.YValues[0])})),v=a=ri?ci[0].YValues[0]:p[0].YValues[0],s=0;s<p.length;s++)if(o=p[s],r[e]._hiloTypes&&l.type.toLowerCase()!="splinerangearea")for(nt=0;nt<2;nt++)a>o.YValues[nt]&&(a=o.YValues[nt]),v<o.YValues[nt]&&(v=o.YValues[nt]);else if(l.type.toLowerCase()=="boxandwhisker"){for(lt=p[s].YValues[0][0],at=p[s].YValues[0][0],tt=0;tt<o.YValues[0].length;tt++)lt>o.YValues[0][tt]&&(lt=o.YValues[0][tt]),at<o.YValues[0][tt]&&(at=o.YValues[0][tt]);a=lt>a?a:lt;v=at<v?v:at}else ri?s!=0&&o.visible&&p[s-1].visible?(f.seriesCollection[w].controlPoints.push(ct(p[s-1],o,st[s-1],st[s],0,l,this)),l.type.toLowerCase()=="splinerangearea"&&(rt=ct(p[s-1],o,ht[s-1],ht[s],1,l,this),f.seriesCollection[w].controlPoints[it].controlPoint1.YValues[1]=rt.controlPoint1.YValues[0],f.seriesCollection[w].controlPoints[it].controlPoint2.YValues[1]=rt.controlPoint2.YValues[0]),g=f.seriesCollection[w].controlPoints[it++],a=Math.min(a,o.YValues[0],g.controlPoint1.YValues[0],g.controlPoint2.YValues[0]),v=Math.max(v,o.YValues[0],g.controlPoint1.YValues[0],g.controlPoint2.YValues[0]),l.type.toLowerCase()=="splinerangearea"&&(a=Math.min(a,o.YValues[1],g.controlPoint1.YValues[1],g.controlPoint2.YValues[1]),v=Math.max(v,o.YValues[1],g.controlPoint1.YValues[1],g.controlPoint2.YValues[1]))):(s!=0&&(l.type.toLowerCase().indexOf("stacking")!=-1||l.type.toLowerCase()=="splinerangearea")&&(f.seriesCollection[w].controlPoints.push(ct(p[s-1],o,st[s-1],st[s],0,l,this)),l.type.toLowerCase()=="splinerangearea"&&(rt=ct(p[s-1],o,ht[s-1],ht[s],1,l,this),f.seriesCollection[w].controlPoints[it].controlPoint1.YValues[1]=rt.controlPoint1.YValues[0],f.seriesCollection[w].controlPoints[it].controlPoint2.YValues[1]=rt.controlPoint2.YValues[0]),g=f.seriesCollection[w].controlPoints[it++]),a=Math.min(a,isNaN(o.YValues[0])?a:o.YValues[0]||null),v=Math.max(v,o.YValues[0]||null),l.type.toLowerCase()=="splinerangearea"&&(a=Math.min(a,isNaN(o.YValues[1])?a:o.YValues[1]||null),v=Math.max(v,o.YValues[1]||null))):(a>o.YValues[0]&&(a=o.YValues[0]),v<o.YValues[0]&&(v=o.YValues[0]));r[e].minY=a;r[e].maxY=v;(h===null||h===undefined)&&et>0&&(c=r[e].maxY,h=r[e].minY);h>r[e].minY&&(h=r[e].minY);c<r[e].maxY&&(c=r[e].maxY);ot=r[e].type;(ot=="column"||ot=="bar")&&i.startFromZero&&(h=h<0?h:0)}vt=="horizontal"&&!t.model.requireInvertedAxes||vt=="vertical"&&t.model.requireInvertedAxes?(this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[i.name]&&(y=this.chartObj.model.indicatorRange[i.name],(h>y.min||h==null)&&(h=y.min),(c<y.max||c==null)&&(c=y.max)),k==b&&(k+=1),u=="double"?(ui=_sideBySeriesPadding(t,b,k,i),b=ui.startPadding,k=ui.endPadding,li=k-b,i.range=this._getDoubleAutoRange(i,b,k,li)):i.range=this._getLogAutoRange(i,b,k,k-b)):(this.chartObj.model.stackedValue[i.name]&&(y=this.chartObj.model.stackedValue[i.name],fi=!0,h>y.min&&(h=y.min),c<y.max&&(c=y.max)),this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[i.name]&&(y=this.chartObj.model.indicatorRange[i.name],(h>y.min||h==null)&&(h=y.min),(c<y.max||c==null)&&(c=y.max)),c==h&&(c<0?c=0:c<=1&&c>0?h=0:(h=0,c+=1)),ot!="column"&&ot!="bar"||i.startFromZero||(ei=i.range&&i.range.max||c,gt=i.range&&i.range.interval||this.calculateNumericNiceInterval(ei-h,i,null,ei),c+=gt,h-gt<0&&h>0||fi?h=0:h-=gt),oi=c-h,fi=!1,i.range=u=="double"?this._getDoubleAutoRange(i,h,c,oi):this._getLogAutoRange(i,h,c,oi))}else i.setRange?(bt=i.range.min==null||i.range.min==undefined?0:i.range.min,kt=i.range.max==null||i.range.max==undefined?5:i.range.max,ii=kt-bt,i.range=u=="double"?this._getDoubleAutoRange(i,bt,kt,ii):this._getLogAutoRange(i,bt,kt,ii)):i.range={min:0,max:5,interval:1,Delta:4};ni=n.extend({},ej.EjSvgRender.commonChartEventArgs);ni.data={range:i.range,axis:i};this.chartObj._trigger("axesRangeCalculate",ni);ut=ni.data.range;i.range={min:ut.min,max:ut.max,interval:ut.interval,delta:ut.max-ut.min}},_calculateTrendLineRange:function(n,t,i){for(var f,u,e,r,l,s,h,c,a=i.length,o=0;o<a;o++)if(u=i[o],e=u.trendlines,n.model.AreaType=="cartesianaxes"&&(t.name==u._xAxisName||t.name==u._yAxisName))for(s=e.length,f=0;f<s;f++)r=e[f],r.visibility.toLowerCase()==="visible"&&(t.name==u._xAxisName?(h=r.type.toLowerCase(),c=new ej.trendlineTypes[h],c.calculateTrendLineSegment(u,r,t,n)):t.name==u._yAxisName&&!t.setRange&&r.points&&r.points.length>1&&(l=r.points.length-1,t.range.min=t.range.min>r.minY?r.minY:t.range.min,t.range.max=t.range.max<r.maxY?r.maxY:t.range.max));return!1},AlignRangeStart:function(n,t,i){var r=new Date(n),u,f,e,o,s,h,c;return i.toLowerCase()=="days"?(u=Math.floor(Math.floor(n.getDate()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),u,0,0,0)):i.toLowerCase()=="hours"?(f=Math.floor(Math.floor(n.getHours()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),f,0,0)):i.toLowerCase()=="milliseconds"?(e=Math.floor(Math.floor(n.getMilliseconds()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),e)):i.toLowerCase()=="seconds"?(o=Math.floor(Math.floor(n.getSeconds()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),o,0)):i.toLowerCase()=="minutes"?(s=Math.floor(Math.floor(n.getMinutes()/t)*t),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s,0,0)):i.toLowerCase()=="months"?(h=Math.floor(Math.floor(n.getMonth()/t)*t),r=new Date(n.getFullYear(),h,n.getDate(),0,0,0)):i.toLowerCase()=="years"&&(c=Math.floor(Math.floor(n.getFullYear()/t)*t),r=new Date(c,n.getMonth(),n.getDate(),0,0,0)),r},_increaseDateTimeInterval:function(n,t,i){var r=new Date(n);return i.toLowerCase()=="days"?r.setDate(n.getDate()+t):i.toLowerCase()=="hours"?r.setHours(n.getHours()+t):i.toLowerCase()=="milliseconds"?r.setMilliseconds(n.getMilliseconds()+t):i.toLowerCase()=="seconds"?r.setSeconds(n.getSeconds()+t):i.toLowerCase()=="minutes"?r.setMinutes(n.getMinutes()+t):i.toLowerCase()=="months"?r.setMonth(n.getMonth()+t):i.toLowerCase()=="years"&&r.setYear(n.getFullYear()+t),r},_calculatePadding:function(n){var t=typeof n.range.min=="string"&&!isNaN(Date.parse(n.range.min))?Date.parse(n.range.min):n.range.min.getTime(),i=typeof n.range.max=="string"&&!isNaN(Date.parse(n.range.max))?Date.parse(n.range.max):n.range.max.getTime(),d=this._increaseDateTimeInterval(new Date(t),n.range.interval,n._intervalType).getTime()-t,r=n.rangePadding.toLowerCase(),b,h,c,l,f,a,v,e,y,u,k,o,p,s,w;if(!this.chartObj.zoomed&&!n.setRange)if(t=new Date(t),i=new Date(i),b=n._intervalType.toLowerCase(),n.rangePadding.toLowerCase()=="none")t=t.getTime(),i=i.getTime();else if(r=="additional"||r=="round")switch(b){case"years":h=t.getFullYear();c=i.getFullYear();n.rangePadding.toLowerCase()=="additional"?(t=new Date(h-n.range.interval,1,1,0,0,0).getTime(),i=new Date(c+n.range.interval,1,1,0,0,0).getTime()):(t=new Date(h,0,0,0,0,0).getTime(),i=new Date(c,11,30,23,59,59).getTime());break;case"months":l=t.getMonth();f=i.getMonth();r=="round"?(t=new Date(t.getFullYear(),l,0,0,0,0).getTime(),i=new Date(i.getFullYear(),f,new Date(i.getFullYear(),i.getMonth(),0).getDate(),23,59,59).getTime()):(t=new Date(t.getFullYear(),l+-n.range.interval,1,0,0,0).getTime(),i=new Date(i.getFullYear(),f+n.range.interval,f==2?28:30,0,0,0).getTime());break;case"days":a=t.getDate();v=i.getDate();r=="round"?(t=new Date(t.getFullYear(),t.getMonth(),a,0,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),v,23,59,59).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),a+-n.range.interval,0,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),v+n.range.interval,0,0,0).getTime());break;case"hours":e=t.getHours()/n.range.interval*n.range.interval;y=i.getHours()+(t.getHours()-e);r=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),e,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),y,59,59).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),e+-n.range.interval,0,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),y+n.range.interval,0,0).getTime());break;case"minutes":u=t.getMinutes()/n.range.interval*n.range.interval;k=i.getMinutes()+(t.getMinutes()-u);r=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHour(),u,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),k,59).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),u+-n.range.interval,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),u+n.range.interval,0).getTime());break;case"seconds":o=t.getSeconds()/n.range.interval*n.range.interval;p=i.getSeconds()+(t.getSeconds()-o);r=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),o,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHour(),i.getMinutes(),p,0).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),o+-n.range.interval,0).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),i.getMinutes(),p+n.range.interval,0).getTime());break;case"milliseconds":s=t.getMilliseconds()/n.range.interval*n.range.interval;w=i.getMilliseconds()+(t.getMilliseconds()-s);r=="round"?(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds(),s).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),i.getMinutes(),i.getSeconds(),w).getTime()):(t=new Date(t.getFullYear(),t.getMonth(),t.getDay(),t.getHours(),t.getMinutes(),t.getSeconds(),s+-n.range.interval).getTime(),i=new Date(i.getFullYear(),i.getMonth(),i.getDay(),i.getHours(),i.getMinutes(),i.getSeconds(),w+n.range.interval).getTime())}n.actualRange.interval=d;n.actualRange.min=t;n.actualRange.max=i;n._interval=n.range.interval;n.actualRange.delta=n.actualRange.max-n.actualRange.min;n.range.min=new Date(t);n.range.max=new Date(i);this._calculateVisibleRange(n)},_calculateVisibleRange:function(t,i,r){var e,u,f,o,s;if(this.chartObj=i?i:this.chartObj,t.visibleRange=r?t.visibleRange:n.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&this.chartObj.model.AreaType!="polaraxes"&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor;t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition;e=t.actualRange;t.isInversed?(u=t.actualRange.max-t.zoomPosition*t.actualRange.delta,f=u-t.zoomFactor*t.actualRange.delta):(u=t.actualRange.min+t.zoomPosition*t.actualRange.delta,f=u+t.zoomFactor*t.actualRange.delta);u<e.min&&(f=f+(e.min-u),u=e.min);f>e.max&&(u=u-(f-e.max),f=e.max);o=new Date(u);s=new Date(f);u==f&&(o=new Date(Date.parse(o)-2592e6),s=new Date(Date.parse(s)+2592e6));var c=Math.min(o.getTime(),s.getTime()),l=Math.max(o.getTime(),s.getTime()),h=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,o,s):{interval:t._interval,intervalType:t._intervalType},a=this._increaseDateTimeInterval(o,h.interval,h.intervalType).getTime()-c;if(r)return{min:c,max:l,interval:a};t._intervalType=h.intervalType;t.visibleRange.min=c;t.visibleRange.max=l;t.visibleRange.interval=a;t.visibleRange.delta=Math.abs(t.visibleRange.max-t.visibleRange.min);t._interval=h.interval}},_calculateAxisLabels:function(t){for(var u,f=t.enableAutoIntervalOnZooming?t.visibleRange.min:t.actualRange.min,r,i=this.chartObj.zoomed||t.zoomed||!t.setRange?this.AlignRangeStart(new Date(f),t._interval,t._intervalType).getTime():t.visibleRange.min;i<=t.visibleRange.max;)i>=t.visibleRange.min&&i<=t.visibleRange.max&&(u=ej.format(new Date(i),t.labelFormat?t.labelFormat:ej.EjSvgRender.utils._dateTimeLabelFormat(t._intervalType,t),this.chartObj.model.locale),r=n.extend({},ej.EjSvgRender.commonChartEventArgs),r.data={label:{Text:u,Value:i},axis:t},this.chartObj._trigger("axesLabelRendering",r),t.visibleLabels.push({Value:i,Text:r.data.label.Text})),i=this._increaseDateTimeInterval(new Date(i),t._interval,t._intervalType).getTime(),t.visibleLabels[t.visibleLabels.length-1]=t.visibleLabels[t.visibleLabels.length-1];t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},calculateDateTimeNiceInterval:function(n,t,i){var u=Math.abs((t.getTime()-i.getTime())/864e5),r=this.calculateNumericNiceInterval(u/365,n,"years"),f,e,o,s;return r>=1?{interval:r,intervalType:"Years"}:(r=this.calculateNumericNiceInterval(u/30,n,"months"),r>=1)?{interval:r,intervalType:"Months"}:(r=this.calculateNumericNiceInterval(u,n,"days"),r>=1)?{interval:r,intervalType:"Days"}:(f=u*24,r=this.calculateNumericNiceInterval(f,n,"hours"),r>=1)?{interval:r,intervalType:"Hours"}:(e=u*1440,r=this.calculateNumericNiceInterval(e,n,"minutes"),r>=1)?{interval:r,intervalType:"Minutes"}:(o=u*86400,r=this.calculateNumericNiceInterval(o,n,"seconds"),r>=1)?{interval:r,intervalType:"Seconds"}:(s=u*864e5,r=this.calculateNumericNiceInterval(s,n,"milliseconds"),r>=1?{interval:r,intervalType:"Milliseconds"}:void 0)},calculateNumericNiceInterval:function(n,t,i,r){var o=this.GetActualDesiredIntervalsCount(t,t.length),u=n/o,f,e;if(t._valueType=="double"&&t.desiredIntervals!=null)return u;var h=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(u,10))),s=[10,5,2,1],c=r||t.range&&t.range.max;for(f=0;f<s.length;f++){if(e=h*s[f],o<n/e)return t._valueType=="datetime"?!ej.util.isNullOrUndefined(t.intervalType)&&t.intervalType.toLowerCase()==i?Math.ceil(u):u:ej.util.isNullOrUndefined(t.range)||ej.util.isNullOrUndefined(t.range.max)?u:u>c?e:u;u=e}return u},GetActualDesiredIntervalsCount:function(n,t){if(ej.util.isNullOrUndefined(n.desiredIntervals)){var i=(n.orientation.toLowerCase()=="horizontal"?.533:1)*n.maximumLabels;return Math.max(t*(i/100),1)}return n.desiredIntervals},_calculateRange:function(t,i){var o,c,y,p,s,r,l,a,u,f,v,b,e,k,w,h;if(!this.chartObj.zoomed){if(o=new Date,i.length>0&&this.chartObj.model._hasSeriesPoints&&i[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){for(r={maxX:null,minX:null},l={maxY:null,minY:null},u=0;u<i.length;u++){if(a=i[u].points.length,a>0&&i[u].visibility.toLowerCase()==="visible"&&i[u].points.length>0){for(s=c=new Date(i[u].points[0].xValue),p=y=i[u].points[0].YValues[0],f=0;f<a;f++)s!=null&&s!=undefined?(s>i[u].points[f].xValue&&(s=i[u].points[f].xValue),c<i[u].points[f].xValue&&(c=i[u].points[f].xValue)):s=c=new Date(i[u].points[f+1].xValue),y>i[u].points[f].YValues[0]&&(y=i[u].points[f].YValues[0]),p<i[u].points[f].YValues[0]&&(p=i[u].points[f].YValues[0]);i[u].minX=s;i[u].maxX=c;i[u].minY=y;i[u].maxY=p;(!t.maxPointLength||t.maxPointLength<a)&&(t.maxPointLength=a)}(r.minX=r.minX==null&&typeof i[u].minX!="number"?i[u].minX:r.minX)>i[u].minX&&(r.minX=typeof i[u].minX!="number"?i[u].minX:r.minX);(r.maxX=r.maxX==null&&typeof i[u].maxX!="number"?i[u].maxX:r.maxX)<i[u].maxX&&(r.maxX=typeof i[u].maxX!="number"?i[u].maxX:r.maxX);l.minY>i[u].minY&&(l.minY=i[u].minY);l.maxY<i[u].maxY&&(l.maxY=i[u].maxY)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[t.name]&&(v=this.chartObj.model.indicatorRange[t.name],(r.minX>new Date(v.min)||r.minX==null)&&(r.minX=new Date(v.min)),(r.maxX<new Date(v.max)||r.maxX==null)&&(r.maxX=new Date(v.max)));r.minX=r.minX==null?o:r.minX;r.maxX=r.maxX==null?new Date((new Date).setMonth(o.getMonth()+5)):r.maxX;r.minX==r.maxX&&(r.minX=new Date(Date.parse(r.minX)-2592e6),r.maxX=new Date(Date.parse(r.maxX)+2592e6));b=_sideBySeriesPadding(this.chartObj,r.minX.getTime(),r.maxX.getTime(),t);r.minX=new Date(b.startPadding);r.maxX=new Date(b.endPadding);e=this.calculateDateTimeNiceInterval(t,r.minX,r.maxX);t._intervalType=t.intervalType?t.intervalType:e.intervalType;t.intervalType=="auto"&&(t._intervalType=t.intervalType=e.intervalType);(t.setAxisInterval==null||t.setAxisInterval==undefined)&&(t.setAxisInterval=t.range&&t.range.interval?!0:!1);t._setInterval&&!this.chartObj._chartResize&&t.range&&t._setInterval!=t.range.interval&&(t._setInterval=null);t.setRange?(t.range.max||(t.range.max=r.maxX),t.range.min||(t.range.min=r.minX),typeof t.range.min=="string"&&t.range.min.indexOf("/Date(")!=-1&&(t.range.min=new Date(parseInt(t.range.min.substr(6)))),typeof t.range.max=="string"&&t.range.max.indexOf("/Date(")!=-1&&(t.range.max=new Date(parseInt(t.range.max.substr(6)))),new Date(t.range.min).getTime()==new Date(t.range.max).getTime()&&(t.range.max=new Date(Date.parse(t.range.max)+864e5)),e=this.calculateDateTimeNiceInterval(t,new Date(t.range.min),new Date(t.range.max)),t._intervalType=t.intervalType?t.intervalType:e.intervalType,t.setAxisInterval||(t.range.interval=e.interval,t._setInterval=e.interval),t.actual_Range=n.extend(!0,{},t.range),t.setRange=!0,k=t._setInterval?e.interval:t.range.interval||t.actual_Range.interval,t.range={min:t.actual_Range.min,max:t.actual_Range.max,interval:k}):t.range={min:r.minX,max:r.maxX,interval:e.interval}}else t.setRange?(t.range.min=t.range.min===null||t.range.min===undefined?o:t.range.min,t.range.max=t.range.max===null||t.range.max===undefined?new Date((new Date).setMonth(o.getMonth()+5)):t.range.max,t.range.interval=t.range.interval===null||t.range.interval===undefined?1:t.range.interval,t._intervalType="Months"):(t.range={min:o,max:new Date((new Date).setMonth(o.getMonth()+5)),interval:1},t._intervalType=ej.util.isNullOrUndefined(t.intervalType)?"Months":t.intervalType);w=n.extend({},ej.EjSvgRender.commonChartEventArgs);w.data={range:t.range,axis:t};this.chartObj._trigger("axesRangeCalculate",w);h=w.data.range;t.range={min:h.min,max:h.max,interval:h.interval,delta:h.max-h.min}}},_calculateRanges:function(n,t,i){this.chartObj=n;this._saveRange(n,t);this._calculateRange(t,i);t._range=t.range;n.model._drawTrendline&&this._calculateTrendLineRange(n,t,i);this._calculatePadding(t);this._calculateAxisLabels(t)},_saveRange:function(n,t){(n.zoomed||n.resetZooming)&&(t.range=t.range!=null&&t.range.min!=null&&t.range.max!=null?t.range:t._range);t._initialRange&&(t._initialRange!=t.range&&t.range!=null?t.setRange=!0:t.range==null&&(t.setRange=!1));t._initialRange=t.range==null?{min:null,max:null,interval:null}:{min:t.range.min,max:t.range.max,interval:t.range.interval}}};i=t(ej.EjAxisRenderer);ej.axisTypes.datetime=i;r=t(ej.EjAxisRenderer,{_calculateRange:function(n,t,i,r){n.zoomed||this._seriesMinMax(n,t,i,"double",r)},_getDoubleAutoRange:function(t,i,r){var e,u,f;return t.setRange?(ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=r),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=i),t.actual_Range=n.extend(!0,{},t.range),t.setRange=!0):t.range={min:i,max:r},e=t.range.max-t.range.min,u=this.calculateNumericNiceInterval(e,t),ej.EjSvgRender.utils._decimalPlaces(u)>20&&(f=u.toString(),u=parseFloat(f.substring(0,f.indexOf("."))+f.substring(f.indexOf("."),22))),(ej.util.isNullOrUndefined(t.range.interval)||t.range.interval<0)&&(t.range.interval=u),t.range.delta=e,t.range},_calculatePadding:function(n,t,i){var e=i.min,u=i.max,s=t.rangePadding.toLowerCase(),r=i.interval,o,h,f;t.setRange||n.zoomed||(s=="normal"?(o=0,e<0?(e=0,o=i.min+i.min/20,h=r+o%r,.365*r>=h&&(o-=r),o%r<0&&(o=o-r-o%r)):(o=e<5/6*u?0:e-(u-e)/2,o%r>0&&(o-=o%r)),f=u>0?u+(u-e)/20>Number.MAX_VALUE?Number.MAX_VALUE:u+(u-e)/20:u-(u-e)/20,h=r-f%r,.365*r>=h&&(f=f+r>Number.MAX_VALUE?Number.MAX_VALUE:f+r),f%r>0&&(f=f+r-f%r>Number.MAX_VALUE?Number.MAX_VALUE:f+r-f%r),o<=0&&(r=this.calculateNumericNiceInterval(f-o,t),f=Math.ceil(f/r)*r>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(f/r)*r),e=t.roundingPlaces?parseFloat(o.toFixed(t.roundingPlaces)):parseFloat(o.toFixed(ej.EjSvgRender.utils._decimalPlaces(r)==0?1:ej.EjSvgRender.utils._decimalPlaces(r))),u=t.roundingPlaces?parseFloat(f.toFixed(t.roundingPlaces)):parseFloat(f.toFixed(ej.EjSvgRender.utils._decimalPlaces(r)==0?1:ej.EjSvgRender.utils._decimalPlaces(r)))):(s=="additional"||s=="round")&&(e=Math.floor(e/r)*r,u=Math.ceil(u/r)*r>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(u/r)*r,s=="additional"&&(e-=r,u=u+r>=Number.MAX_VALUE?Number.MAX_VALUE:u+r)));t.actualRange.min=e;t.actualRange.max=u;t.actualRange.interval=r;t.range.min=e;t.range.max=u;t.range.interval=r;t.actualRange.delta=u-e>=Number.MAX_VALUE?u:u-e;this._calculateVisibleRange(t);t.rangePadding=t._rangePadding},_calculateVisibleRange:function(t,i,r){var e,u,f,o,s;if(this.chartObj=i?i:this.chartObj,t.visibleRange=r?t.visibleRange:n.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&this.chartObj.model.AreaType!="polaraxes"&&!this.chartObj.model.disableZoom){if(e=t.actualRange,t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor,t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition,t.isInversed?(u=t.actualRange.max-t.zoomPosition*t.actualRange.delta,f=u-t.zoomFactor*t.actualRange.delta):(u=t.actualRange.min+t.zoomPosition*t.actualRange.delta,f=u+t.zoomFactor*t.actualRange.delta),u<e.min&&(f=f+(e.min-u),u=e.min),f>e.max&&(u=u-(f-e.max),f=e.max),o=Math.abs(f-u),s=t.enableAutoIntervalOnZooming?this.calculateNumericNiceInterval(o,t):t.actualRange.interval,r)return{min:Math.min(u,f),max:Math.max(u,f),delta:o,interval:s};t.visibleRange.min=Math.min(u,f);t.visibleRange.max=Math.max(u,f);t.visibleRange.delta=o;t.visibleRange.interval=s;t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateAxisLabels:function(t,i){var r,u,e=i.roundingPlaces,a,y,h,f,v=this.chartObj.model.locale,p,k=i.labelFormat,o,w=20,c,l,s,b;for(i.visibleRange.min=parseFloat(i.visibleRange.min.toPrecision(14)),i.visibleRange.max=parseFloat(i.visibleRange.max.toPrecision(14)),r=t.zoomed||i.zoomed||i.padding?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;r<=i.visibleRange.max;r+=i.visibleRange.interval)if(ej.EjSvgRender.utils._inside(r,i.visibleRange)){if(r==p)break;p=r;a=r.toString().split(0).length-1>10?10:20;r=parseFloat(r.toFixed(!e&&e>a?e:a));y=e?r:parseFloat(r.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)));f=e?parseFloat(r.toFixed(e)):parseFloat(r.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)));u=i.labelFormat;u?u.match("{value}")!=null?f=u.replace("{value}",f):(u.indexOf("e")==0||u.indexOf("E")==0)&&u.indexOf("ej.format")==-1?(o=u.match(/(\d+)/g),o=o==null?6:o>w?w:o,f=f.toExponential(o)):(u.indexOf("ej.format")!=-1&&(u=u.substring(u.indexOf("(")+1,u.indexOf(")"))),f=ej.format(f,u,v)):f=i.isStacked100?f+"%":v?f.toLocaleString(v):f;h=n.extend({},ej.EjSvgRender.commonChartEventArgs);h.data={label:{Text:f,Value:r},axis:i};t._trigger("axesLabelRendering",h);i.visibleLabels.push({Value:y,Text:h.data.label.Text})}for(c=0,l=i.visibleLabels,s=0;s<l.length;s++)typeof l[s].Text=="string"&&(b=l[s].Text.split("<br>").length,c=Math.max(b,c));i.rowsCount=c;i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(n,t,i,r){this.chartObj=n;this._saveRange(n,t);this._calculateRange(n,t,i,r);t._range=t.range;n.model._drawTrendline&&this._calculateTrendLineRange(n,t,i);this._calculatePadding(n,t,t.range);t.maximumLabels>0&&this._calculateAxisLabels(n,t)}});ej.axisTypes.double=r;u=t(ej.EjAxisRenderer,{_getRoundValue:function(n,t,i){return(i?Math.ceil(n/t):Math.floor(n/t))*t},calculateLogNiceInterval:function(n,t){for(var u,e=this.GetActualDesiredIntervalsCount(t,t.length),i=n,o=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(i,10))),f=[10,5,2,1],r=0;r<f.length;r++){if(u=o*f[r],e<n/u)return i;i=u}return i},_getLogAutoRange:function(t,i,r,u){var s=ej.EjSvgRender.utils._logBase(i,t.logBase),o,f,e,h;return s=n.isNumeric(s)?s:i,o=ej.EjSvgRender.utils._logBase(r,t.logBase),o=n.isNumeric(o)?o:r,f=this._getRoundValue(s,1,!1),e=this._getRoundValue(o,1,!0),f==0&&e==0&&(f=ej.EjSvgRender.utils._logBase(r-r/2,t.logBase),e=ej.EjSvgRender.utils._logBase(r+r/2,t.logBase)),u=e-f,h=this.calculateLogNiceInterval(u,t),t.actual_Range={min:f,max:e,interval:h,Delta:u},f=Math.pow(t.logBase,Math.floor(s)),e=Math.pow(t.logBase,Math.ceil(o)),u=e-f,t.setRange?(ej.util.isNullOrUndefined(t.range.interval)&&(t.range.interval=h),ej.util.isNullOrUndefined(t.range.max)&&(t.range.max=e),ej.util.isNullOrUndefined(t.range.min)&&(t.range.min=f),t.actual_Range=n.extend(!0,{},t.range),ej.util.isNullOrUndefined(t.actual_Range.max)||(t.actual_Range.max=ej.EjSvgRender.utils._logBase(t.actual_Range.max,t.logBase),t.actual_Range.max=this._getRoundValue(t.actual_Range.max,1,!0)),ej.util.isNullOrUndefined(t.range.min)||(t.actual_Range.min=ej.EjSvgRender.utils._logBase(t.actual_Range.min,t.logBase),t.actual_Range.min=this._getRoundValue(t.actual_Range.min,1,!1)),t.setRange=!0,t.range):t.range={min:f,max:e,interval:h,Delta:u}},_calculateLogRange:function(n,t,i,r){n.zoomed||this._seriesMinMax(n,t,i,"logarithmic",r)},_calculateLogPadding:function(n,t,i){var r=i.min,u=i.max,f=i.interval;t.actualRange.min=r;t.actualRange.max=u;t.actualRange.interval=f;t.actualRange.delta=u-r;this._calculateVisibleRange(t)},_calculateVisibleRange:function(t,i,r){var e,u,f;if(this.chartObj=i?i:this.chartObj,t.visibleRange=r?t.visibleRange:n.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&this.chartObj.model.AreaType!="polaraxes"&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor;t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition;e=t.actualRange;t.isInversed?(u=t.actualRange.max-t.zoomPosition*t.actualRange.delta,f=u-t.zoomFactor*t.actualRange.delta):(u=t.actualRange.min+t.zoomPosition*t.actualRange.delta,f=u+t.zoomFactor*t.actualRange.delta);u<e.min&&(f=f+(e.min-u),u=e.min);f>e.max&&(u=u-(f-e.max),f=e.max);var s=Math.abs(f-u),o=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(s,t):t.visibleRange.interval,h=ej.util.isNullOrUndefined(t.roundingPlaces)?ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(t.visibleRange.interval):t.roundingPlaces;if(o=parseFloat(t.visibleRange.interval.toFixed(h)),r)return{min:Math.min(u,f),max:Math.max(u,f),interval:o};t.visibleRange.interval=o;t.visibleRange.min=Math.min(u,f);t.visibleRange.max=Math.max(u,f);t.visibleRange.delta=s;t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateAxisLabels:function(t,i){for(var e=i.roundingPlaces,s,f,r=t.zoomed||i.zoomed?i.visibleRange.min-i.visibleRange.min%i.visibleRange.interval:i.visibleRange.min;r<=i.visibleRange.max;r+=i.visibleRange.interval)if(ej.EjSvgRender.utils._inside(r,i.visibleRange)){var h=i.labelFormat?i.labelFormat.match("{value}"):null,u=Math.pow(i.logBase,r),o=u.toString().split(0).length-1>10?10:20;u=parseFloat(u.toFixed(!e&&e>o?e:o));s=i.labelFormat?h!=null?i.labelFormat.replace("{value}",u):ej.format(u,i.labelFormat,t.model.locale):u;f=n.extend({},ej.EjSvgRender.commonChartEventArgs);f.data={label:{Text:s,Value:r},axis:i};t._trigger("axesLabelRendering",f);i.visibleLabels.push({Value:r,Text:f.data.label.Text})}i._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(i,this.chartObj)},_calculateRanges:function(n,t,i,r){this.chartObj=n;this._calculateLogRange(n,t,i,r);n.model._drawTrendline&&this._calculateTrendLineRange(n,t,i);this._calculateLogPadding(n,t,t.actual_Range);this._calculateAxisLabels(n,t)}});ej.axisTypes.logarithmic=u;f=t(ej.EjAxisRenderer,{_calculateCategoryRange:function(t,i){var tt=this.chartObj.model.legendCollapsed==undefined?!this.chartObj.zoomed:this.chartObj.model.legendCollapsed,e,h,r,o,a,l;if(!this.chartObj.model.excludeDataUpdate||tt){var u={maxX:null,minX:0},f=[],s,y,c,b,p,k=t.isIndexed,d=this.chartObj.model.locale;if(i.length>0&&this.chartObj.model._hasSeriesPoints&&i[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){for(e=0;e<i.length;e++){for(p=i[e].points.length,h=0;h<p;h++)s=i[e]._xAxisValueType=="date"?ej.format(new Date(i[e].points[h].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,d):i[e].points[h].x,k?f[h]=e==0?s:f[h]+", "+s:(b=n.inArray(s,f),b<0&&f.push(s));(!t.maxPointLength||t.maxPointLength<p)&&(t.maxPointLength=p)}for(r=0;r<i.length;r++){for(i[r]._pointCollection=[],o=0;o<i[r].points.length;o++)i[r]._pointCollection.push(i[r].points[o].x),s=i[r]._xAxisValueType=="date"?ej.format(new Date(i[r].points[o].x),ej.util.isNullOrUndefined(t.labelFormat)?"dd/MM/yyyy":t.labelFormat,d):i[r].points[o].x,i[r].points[o].xValue=k?o:n.inArray(s,f);i[r].minX=0;i[r].maxX=i[r]._xAxisValueType=="date"?i[r]._pointCollection.length-1:f.length-1;r==0&&(u.maxX=i[r].maxX,t.labels=i[r]._xAxisValueType=="date"?i[r]._pointCollection:f,t._categoryValueType=i[r]._xAxisValueType);u.maxX<i[r].maxX&&(u.maxX=i[r].maxX,t.labels=[],t.labels=f)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[t.name]&&(a=this.chartObj.model.indicatorRange[t.name],(u.minX>a.min||u.minX==null)&&(u.minX=a.min),(u.maxX<a.max||u.maxX==null)&&(u.maxX=a.max));c=u.maxX-u.minX;y=t.setRange&&t.range.interval?Math.ceil(t.range.interval):this._calculateActualInterval(c,t);t.range={min:u.minX,max:u.maxX,interval:y,Delta:c}}else l=t.labels.length,l>0?(c=l-1,y=this._calculateActualInterval(c,t),t.range={min:0,max:l-1,interval:y,Delta:c}):t.range||(t.range={min:0,max:6,interval:1,Delta:6})}var w=0,v,g=t.labelIntersectAction,nt=t.labelRotation;if((g!="rotate45"||g!="rotate90")&&(nt==0||nt==null))for(v=0;v<t.labels.length;v++)typeof t.labels[v]=="string"&&(l=t.labels[v].split("<br>").length,w=Math.max(l,w));t.rowsCount=w},_calculateActualInterval:function(n,t){return t.categoryInterval==null?Math.max(1,Math.floor(n/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(n){var t,i;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||n.zoomed||(t=0,this.chartObj.model.AreaType!=="polaraxes"&&(t=n.labelPlacement===null||n.labelPlacement===undefined||n.labelPlacement===""?-.5:n.labelPlacement.toLowerCase()=="betweenticks"?-.5:0),this.chartObj.scrollsvgObj||(t<0?(n.range.min=n.range.min+t,n.range.max=n.range.max-t,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range):(i=_sideBySeriesPadding(this.chartObj,n.range.min,n.range.max,n),n.range.min=i.startPadding,n.range.max=i.endPadding,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range)));this._calculateVisibleRange(n)},_calculateVisibleRange:function(t,i,r){var e,u,f,o;if(this.chartObj=i?i:this.chartObj,t.visibleRange=r?t.visibleRange:n.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&this.chartObj.model.AreaType!="polaraxes"&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor;t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition;e=t.actualRange;t.isInversed?(u=t.actualRange.max-t.zoomPosition*t.actualRange.delta,f=u-t.zoomFactor*t.actualRange.delta):(u=t.actualRange.min+t.zoomPosition*t.actualRange.delta,f=u+t.zoomFactor*t.actualRange.delta);u<e.min&&(f=f+(e.min-u),u=e.min);f>e.max&&(u=u-(f-e.max),f=e.max);var o=Math.abs(f-u),s=this._calculateActualInterval(o,t),h=Math.min(u,f),c=Math.max(u,f);if(r)return{min:h,max:c,interval:s};o=Math.abs(f-u);t.visibleRange.interval=s;t.visibleRange.min=h;t.visibleRange.max=c;t.visibleRange.delta=o;t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateAxisLabels:function(t){for(var f=t.visibleRange.interval,i=t.visibleRange.min-t.visibleRange.min%t.range.interval,u,r;i<=t.visibleRange.max;i+=f)ej.EjSvgRender.utils._inside(i,t.visibleRange)&&(u=Math.round(i),t.visibleLabels.push({Value:u,Text:ej.EjSvgRender.utils._getLabelContent(u,t,this.chartObj.model.locale)}),r=n.extend({},ej.EjSvgRender.commonChartEventArgs),r.data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",r),t.visibleLabels[t.visibleLabels.length-1]=r.data.label);t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateRanges:function(n,t,i){this.chartObj=n;this._saveRange(n,t);this._calculateCategoryRange(t,i);t._range=t.range;n.model._drawTrendline&&this._calculateTrendLineRange(n,t,i);this._applyRangePadding(t);this._calculateAxisLabels(t)}});ej.axisTypes.category=f;e=t(ej.EjAxisRenderer,{_calculateDateTimeCategoryRange:function(t,i){for(var v={minX:0,MaxX:null},w=[],a=[],e,st,g,it,nt,c,s,rt=[],b,tt=[],ut=[],o,f,h,l,ft,r,k,d,ht,et,ot,p,y,u=0;u<i.length;u++){for(i[u]._pointCollection=[],s=[],i[u]._points=[],i[u]._xPoints=[],i[u]._yPoints=[],ft=i[u].points.length,d=0;d<ft;d++)b=isNaN(new Date(i[u].points[d].x).getTime())?null:new Date(i[u].points[d].x).getTime(),s.indexOf(b)!=-1&&(i[u].points[d].xValue=s.indexOf(b)),s.push(b),i[u]._xPoints.push(b),i[u]._yPoints.push(i[u].points[d].y),b!=null&&tt.push(b);for(ej.isNullOrUndefined(t.intervalType)&&(nt=this.calculateDateTimeNiceInterval(t,new Date(Math.min.apply(null,tt)),new Date(Math.max.apply(null,tt))),t.intervalType=nt.intervalType.toLowerCase()),r=0;r<s.length;r++){if(e=new Date(s[r]),i[u]._points.indexOf(e.getTime())==-1&&i[u]._points.push(e.getTime()),ht=n.inArray(s[r],i[u]._xPoints),i[u]._pointCollection.push(new Date(i[u].points[r].x)),u==0)i[u].points[r].x==i[u].points[r].xValue&&(i[u].points[r].xValue=r);else for(y=0;y<u;y++)if(g=n.inArray(new Date(i[u].points[r].x).getTime(),i[y]._points),g>=0){i[u].points[r].xValue=y==0?g:i[y].points[g].xValue;break}else if(y==u-1){i[u].points[r].x==i[u].points[r].xValue?i[u].points[r].xValue=t.maxPointLength++:(et=i[u].points[r].xValue,i[u].points[r].xValue=i[u].points[et].xValue);break}st=u==0?-1:n.inArray(e.getTime(),rt);switch(t.intervalType){case"auto":w.indexOf(e.getTime())==-1&&w.push(e.getTime());break;case"years":f=e.getFullYear();break;case"months":l=e.getFullYear();o=e.getMonth();r<=0?f=r+1:(h=new Date(s[r-1]).getFullYear(),f+=l!=h?12-c+o:o-c);c=o;break;case"days":l=e.getMonth();o=e.getDate();r<=0?f=r+1:(h=new Date(s[r-1]).getMonth(),f+=l!=h?new Date(e.getFullYear(),h,1).getDate()-c+o:o-c,l==h&&(p=this._diffDate(e,new Date(s[r-1]),1),ot=new Date(e.getFullYear(),h,0).getDate(),f=p>ot?a[a.length-1]+1:f));c=o;break;case"hours":l=e.getDate();o=e.getHours();r<=0?f=r+1:(h=new Date(s[r-1]).getDate(),f+=l!=h?24-c+o:o-c,l==h&&(p=this._diffDate(e,new Date(s[r-1]),24),f=p>24?a[a.length-1]+1:f));c=o;break;case"minutes":l=e.getHours();o=e.getMinutes();r<=0?f=r+1:(h=new Date(s[r-1]).getHours(),f+=l!=h?60-c+o:o-c,l==h&&(p=this._diffDate(e,new Date(s[r-1]),1440),f=p>60?a[a.length-1]+1:f));c=o;break;case"seconds":l=e.getMinutes();o=e.getSeconds();r<=0?f=r+1:(h=new Date(s[r-1]).getMinutes(),f+=l!=h?60-c+o:o-c,l==h&&(p=this._diffDate(e,new Date(s[r-1]),86400),f=p>60?a[a.length-1]+1:f));c=o;break;case"milliseconds":l=e.getSeconds();o=e.getMilliseconds();r<=0?f=r+1:(h=new Date(s[r-1]).getSeconds(),f+=l!=h?1e3-c+o:o-c,l==h&&(p=this._diffDate(e,new Date(s[r-1]),864e5),f=p>1e3?a[a.length-1]+1:f));c=o}t.intervalType!="auto"&&w.indexOf(e.getTime())==-1&&w.push(e.getTime());f=u==0?f:a[a.length-1]+f;a.indexOf(f)==-1&&a.push(f);ut.push(f);rt.push(new Date(s[r]).getTime())}t.maxPointLength||(t.maxPointLength=t.intervalType!="auto"?a.length:w.length)}for(k=0;k<i.length;k++)t.setRange||(t.range={min:null,max:null,interval:null}),ej.isNullOrUndefined(t.m_minPointsDelta)||(t.m_minPointsDelta=undefined),i[k].minX=ej.isNullOrUndefined(t.range.min)?0:t.range.min<v.minX?0:t.range.min,i[k].maxX=ej.isNullOrUndefined(t.range.max)?w.length-1:t.range.max>w.length-1?w.length-1:t.range.max,v.MaxX=i[k].maxX,v.minX=i[k].minX,t.labels=w,t.dateLabels=ut,t._categoryValueType="date";if(v.minX==v.MaxX&&t.labelPlacement.toLowerCase()=="onticks"&&(v.MaxX+=1),i.length>0)it=v.MaxX-v.minX,nt=t.range.interval==null||t.range.interval==undefined?1:t.range.interval<1?1:Math.ceil(t.range.interval),t.range={min:v.minX,max:v.MaxX,interval:nt,Delta:it};else if(!t.setInterval)for(t.range={min:0,max:6,interval:1,Delta:6},t.dateLabels=[],y=0;y<=t.range.max;y++)t.labels.push(""),t.dateLabels.push("")},_diffDate:function(n,t,i){var r,u;return r=864e5,u=Math.abs(n.getTime()-t.getTime())/r,Math.round(u*i)},_calculateAxisLabels:function(t){for(var f=t.visibleRange.interval,o=[],c=this.chartObj.model.series.length,s,i,r,h,e,u=t.visibleRange.min-t.visibleRange.min%t.range.interval;u<=t.visibleRange.max;u+=f)ej.EjSvgRender.utils._inside(u,t.visibleRange)&&(i=Math.round(u),r=t.dateLabels,ej.util.isNullOrUndefined(r)||(r[r.length-1]-r[i]>=f&&t.visibleRange.max<u+f&&(t.visibleRange.max+=u+f-t.visibleRange.max),h=n.inArray(r[i],o)),(h<0||t.intervalType=="auto"||c==0)&&i<t.labels.length&&(t.intervalType!="auto"&&(s=r[i],o.push(s)),t.visibleLabels.push({Value:i,Text:!t.labelFormat&&t.labels[Math.floor(i)]!=""?ej.format(new Date(t.labels[Math.floor(i)]),ej.EjSvgRender.utils._dateTimeLabelFormat(t.intervalType,t),this.chartObj.model.locale):ej.EjSvgRender.utils._getLabelContent(i,t,this.chartObj.model.locale)}),e=n.extend({},ej.EjSvgRender.commonChartEventArgs),e.data={label:t.visibleLabels[t.visibleLabels.length-1],axis:t},this.chartObj._trigger("axesLabelRendering",e),t.visibleLabels[t.visibleLabels.length-1]=e.data.label));t._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(t,this.chartObj)},_calculateActualInterval:function(n,t){return t.categoryInterval==null?Math.max(1,Math.floor(n/this.GetActualDesiredIntervalsCount(t,t.length))):t.categoryInterval},_applyRangePadding:function(n){var t,i;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||(t=0,this.chartObj.model.AreaType!=="polaraxes"&&(t=n.labelPlacement===null||n.labelPlacement===undefined?-.5:n.labelPlacement.toLowerCase()=="betweenticks"?-.5:0),t<0?(n.range.min=n.range.min+t,n.range.max=n.range.max-t,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range):(i=_sideBySeriesPadding(this.chartObj,n.range.min,n.range.max,n),n.range.min=i.startPadding,n.range.max=i.endPadding,n.range.delta=n.range.max-n.range.min,n.actualRange=n.range));this._calculateVisibleRange(n)},_calculateVisibleRange:function(t,i,r){var e,u,f,o;if(this.chartObj=i?i:this.chartObj,t.visibleRange=r?t.visibleRange:n.extend(!0,{},t.actualRange),(t.zoomFactor<1||t.zoomPosition>0)&&this.chartObj.model.AreaType!="polaraxes"&&!this.chartObj.model.disableZoom){t.zoomFactor=t.zoomFactor>1?1:t.zoomFactor<0?0:t.zoomFactor;t.zoomPosition=t.zoomPosition<0?0:t.zoomPosition>1?1:t.zoomPosition;e=t.actualRange;t.isInversed?(u=t.actualRange.max-t.zoomPosition*t.actualRange.delta,f=u-t.zoomFactor*t.actualRange.delta):(u=t.actualRange.min+t.zoomPosition*t.actualRange.delta,f=u+t.zoomFactor*t.actualRange.delta);u<e.min&&(f=f+(e.min-u),u=e.min);f>e.max&&(u=u-(f-e.max),f=e.max);var o=Math.abs(f-u),s=this._calculateActualInterval(o,t),h=Math.min(u,f),c=Math.max(u,f);if(r)return{min:h,max:c,interval:s};o=Math.abs(f-u);t.visibleRange.interval=s;t.visibleRange.min=h;t.visibleRange.max=c;t.visibleRange.delta=o;t.zoomed=this.chartObj.zoomed===null||this.chartObj.zoomed===undefined?!0:this.chartObj.zoomed}},_calculateRanges:function(n,t,i){this.chartObj=n;this._saveRange(n,t);this._calculateDateTimeCategoryRange(t,i);n.model._drawTrendline&&this._calculateTrendLineRange(n,t,i);t._range=t.range;this._applyRangePadding(t);this._calculateAxisLabels(t)}});ej.axisTypes.datetimecategory=e;ej.EjAxisRenderer.prototype={_drawGridLines:function(n,t,i){this.model.AreaType=="cartesianaxes"?t.orientation.toLowerCase()=="horizontal"?this._drawXAxisGridLine(n,t,i):this._drawYAxisGridLine(n,t,i):t.orientation.toLowerCase()=="horizontal"&&n==0?(this._drawPolarGridLine(t),this._drawPolarLabels(t)):n==1&&this._drawPolarCircle(t)},_drawAxes:function(n,t){this.model.AreaType=="cartesianaxes"&&(t.visible&&t.orientation.toLowerCase()=="horizontal"&&(this._drawXAxisLabels(n,t),this._drawXTitle(n,t)),t.visible&&t.orientation.toLowerCase()=="vertical"&&(this._drawYAxisLabels(n,t),this._drawYTitle(n,t)))},_getSharpPath:function(n){return n%2==0?0:.5},_drawAxisLine:function(t){var u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLine"}),h=ej.EjSvgRender.utils._getStringBuilder(),y=this.model.centerX,p=this.model.centerY,w=this.model.centerX,b=this.model.centerY-this.model.Radius,k="M "+y+" "+p+" L "+w+" "+b,l,f,i;if(t.visible&&t.axisLine.visible&&(f={id:this.svgObject.id+"_YAxisLines",fill:"none","stroke-width":t.axisLine.width,stroke:t.axisLine.color,opacity:t.axisLine.opacity,"stroke-dasharray":t.axisLine.dashArray,d:k},this.svgRenderer.drawPath(f,u),n(u).appendTo(this.gPolarAxisEle)),t.visible&&t.majorTickLines.visible){for(u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisMajorTicks"}),i=0;i<t.visibleLabels.length;i++){var d=t.visibleLabels[i],c=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,d.Value,this),r={};r.X1=this.model.centerX;r.Y1=this.model.centerY-c;r.X2=r.X1-t.majorTickLines.size;r.Y2=r.Y1;h.append("M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ")}l=h.toString();f={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:l};this.svgRenderer.drawPath(f,u);n(u).appendTo(this.gPolarAxisEle)}if(t.visible){var u=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels"}),e=t.font,a,v,g=t.visibleLabels.length;for(i=0;i<g;i++){var c=(this.model.Radius||this.model._radius)*ej.EjSvgRender.utils._valueToCoefficient(t,t.visibleLabels[i].Value,this),s=t.visibleLabels[i].Text,o=ej.EjSvgRender.utils._measureText(s,null,t.font),nt=this.model.centerX-t.majorTickLines.size-this.model.elementSpacing/3,tt=this.model.centerY-c+o.height/5,f={id:this.svgObject.id+"_"+t.name+"_YLabel_"+i,x:nt,y:tt,fill:e.color,"font-size":e.size,"font-family":e.fontFamily,"font-style":e.fontStyle,"font-weight":e.fontWeight,opacity:e.opacity,"text-anchor":"end"};this.svgRenderer.drawText(f,s,u);v=f.x-o.width;a={x:v,y:f.y,width:o.width,height:o.height};t.visibleLabels[i].region={bounds:a,labelText:s}}n(u).appendTo(this.gPolarAxisEle)}},_drawPolarLabels:function(t){var u,i,h,s;if(!t.visible)return 0;var v=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels"}),y=this.model.Radius+t.majorTickLines.size,e=t.font,p=t.visibleLabels.length,w,b,k,l;for(u=0;u<p;u++)if(i=ej.EjSvgRender.utils._valueToPolarCoefficient(t,t.visibleLabels[u].Value),h=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[u].Value),!isNaN(h.X)&&!isNaN(h.Y)){var c=t.visibleLabels[u].Text,r=this.model.centerX+y*h.X,o=this.model.centerY+y*h.Y,a=r<this.model.centerX?"end":r>this.model.centerX?"start":"middle",f=ej.EjSvgRender.utils._measureText(c,this.model.m_AreaBounds.Height,t.font);i==.25?(r-=this.model.elementSpacing/2,o+=f.height/4):i==.5?o+=f.height:i==.75?(r+=this.model.elementSpacing/2,o+=f.height/4):i==1||i==0?o-=f.height/2:.25<i&&i<.5?(r-=this.model.elementSpacing/2,o+=f.height/2):.5<i&&i<=.75?(r+=this.model.elementSpacing/2,o+=f.height/2):0<i&&i<.25?r-=this.model.elementSpacing/2:r+=this.model.elementSpacing/2;u==0&&(w=r);u==p-1&&t._valueType!="category"&&(l=ej.EjSvgRender.utils._measureText(c,null,e).width,l+=r,l>w&&(c=""));s={id:this.svgObject.id+"_"+t.name+"_XLabel_"+u,x:r,y:o,fill:e.color,"font-size":e.size,"font-family":e.fontFamily,"font-style":e.fontStyle,"font-weight":e.fontWeight,opacity:e.opacity,"text-anchor":a};this.svgRenderer.drawText(s,c,v);k=a=="middle"?s.x-f.width/2:a=="end"?s.x-f.width:s.x;b={x:k,y:s.y,width:f.width,height:f.height};t.visibleLabels[u].region={bounds:b,labelText:c}}n(v).appendTo(this.gXaxisEle)},_drawPolarCircle:function(t){var s,o,i,h,u,f,r,e,l,a,v,y,c;if(t.majorGridLines.visible)if(s=ej.EjSvgRender.utils._getStringBuilder(),o=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid"}),this.model.isPolar)for(i=0;i<t.visibleLabels.length;i++){var h=t.visibleLabels[i],u=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,h.Value,this),c={id:this.svgObject.id+"_YAxisGridLines_"+i,cx:this.model.centerX,cy:this.model.centerY,r:u,fill:"transparent","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:this.vmlRendering?.3:t.majorGridLines.opacity};this.svgRenderer.drawCircle(c,o)}else{for(i=0;i<t.visibleLabels.length;i++)for(h=t.visibleLabels[i],u=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,h.Value,this),f=0;f<this.model._axes[0].visibleLabels.length;f++)r=this.model._axes[0],e=ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[f].Value),isNaN(e.X)||isNaN(e.Y)||(l=f+1<r.visibleLabels.length?ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[f+1].Value):ej.EjSvgRender.utils._valueToVector(r,r.visibleLabels[0].Value),a={X:this.model.centerX+u*e.X,Y:this.model.centerY+u*e.Y},v={X:this.model.centerX+u*l.X,Y:this.model.centerY+u*l.Y},s.append("M "+a.X+" "+a.Y+" L "+v.X+" "+v.Y+" "));t.majorGridLines.visible&&(y=s.toString(),c={id:this.svgObject.id+"_YAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:y},this.svgRenderer.drawPath(c,o))}n(o).appendTo(this.gYaxisEle)},_drawPolarGridLine:function(t){var i=this.model,o=i.legend,ot=ej.EjSvgRender.utils._measureText(o.title.text,null,o.title.font).height,e=o.position.toLowerCase(),a=0,d=0,g=ej.EjSvgRender.utils._getStringBuilder(),nt=ej.EjSvgRender.utils._getStringBuilder(),tt=o.border.width,v,y,p,u,r,w,it,rt=t.visibleLabels.length,ut=i.border.width,s=i.title,h=i.title.subTitle,ft=s.enableTrim&&(s.textOverflow=="wrap"||s.textOverflow=="wrapandtrim")?!0:!1,et=h.text!=""&&h.visible&&h.enableTrim&&(h.textOverflow=="wrap"||h.textOverflow=="wrapandtrim")?!0:!1,c,st,b,f,k,l;if(o.visible&&e!="custom"&&(e=="right"||e=="left"?a=(e=="right"?i.margin.right:i.margin.left)+i.LegendActualBounds.Width+(tt+ut)*2:d=(e=="top"?i.margin.top:i.margin.bottom)+i.LegendActualBounds.Height+ot+(tt+ut)*2),v=(i.title.text&&i.title.visible?i._titleLocation.Y+(ft?i._titleLocation.size.height:0)+(et?i._subTitleLocation.size.height:0):0)+d,y=i.svgWidth-a,p=i.svgHeight-v,i.centerX=y*.5+(e==="left"?a:0),i.centerY=p*.5+(e==="top"?v:s.text&&s.visible?i._titleLocation.Y+(ft?i._titleLocation.size.height:0)+(et?i._subTitleLocation.size.height:0):0),c=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid"}),i.finalSize={width:y,height:p},i.Radius=Math.min(i.finalSize.width,i.finalSize.height)/2-2*i.elementSpacing-t.majorTickLines.size-t._LableMaxWidth.maxHeight,st=0,t.majorGridLines.visible)for(f=0;f<rt;f++)u=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[f].Value),r={},r.X1=i.centerX,r.Y1=i.centerY,r.X2=i.centerX+i.Radius*u.X,r.Y2=i.centerY+i.Radius*u.Y,g.append("M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ");if(t.visible&&t.majorTickLines.visible)for(b=i.Radius,f=0;f<rt;f++)u=ej.EjSvgRender.utils._valueToVector(t,t.visibleLabels[f].Value),r={},r.X1=i.centerX+b*u.X,r.Y1=i.centerY+b*u.Y,r.X2=r.X1+t.majorTickLines.size*u.X,r.Y2=r.Y1+t.majorTickLines.size*u.Y,k="M "+r.X1+" "+r.Y1+" L "+r.X2+" "+r.Y2+" ",k.indexOf("NaN")==-1&&nt.append(k);t.majorGridLines.visible&&(w=g.toString(),l={id:this.svgObject.id+"_XAxisGridLines",fill:"none","stroke-width":t.majorGridLines.width,stroke:t.majorGridLines.color,opacity:t.majorGridLines.opacity,"stroke-dasharray":t.majorGridLines.dashArray,d:w},w.indexOf("NaN")==-1&&(this.svgRenderer.drawPath(l,c),n(c).appendTo(this.gXaxisEle)));t.visible&&t.majorTickLines.visible&&(it=nt.toString(),l={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":t.majorTickLines.width,stroke:t.majorTickLines.color,d:it},this.svgRenderer.drawPath(l,c),n(c).appendTo(this.gXaxisEle))},_drawXAxisTickLine:function(t,i,r,u){var wt,bt,st=ej.EjSvgRender.utils._getStringBuilder(),kt=ej.EjSvgRender.utils._getStringBuilder(),rt,c=Math.floor(i.x),li=Math.floor(i.x+i.width),o=i._opposed,ht,l=[],dt=i._isScroll&&!(i.scrollbarSettings.pointsLength!=null&&i.scrollbarSettings.pointsLength<i.maxPointLength),nt=i.labelBorder,gt=u.axes[i.name]._validCross,ct,f,ut,ft,b,e,k,p,ei,et,at,g,h,vt,w,v,fi,yt,pt;for(t==0||gt||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?t==0||gt||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?f=ct=i._y?i.showNextToAxisLine?i.y:i._y:Math.floor(i.y+i.majorTickLines.size-5):(f=o?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),ct=o?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)):(f=o?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),ct=o?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)),r||(ut=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTicklines_"+t})),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,ft=i.labels.length>0&&i.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,b=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&ft<0&&(b=b>0?i.visibleLabels.length+1:b),e=0;e<b;e++)if(ht=i.visibleLabels[e]?i.visibleLabels[e].Value:i.visibleLabels[e-1].Value+i.range.interval,k=i.labels.length>0&&ft<0?ht+ft:ht,k=i.roundingPlaces?k:parseFloat(k.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(k,i.visibleRange)){if(i.hidePartialLabels&&(e==0||e==b-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(p=this._getSharpPath(i.minorTickLines.width),ei=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){h=k;var ni=i.visibleRange.max,lt=i.visibleRange.min,ti=Math.pow(i.logBase,h-i.visibleRange.interval),oi=Math.pow(i.logBase,h),si=(oi-ti)/(i.minorTicksPerInterval+1),hi=ti+si;for(h=ej.EjSvgRender.utils._logBase(hi,i.logBase),g=0;g<i.minorTicksPerInterval;g++)h<ni&&h>lt&&(rt=Math.ceil((h-lt)/(ni-lt)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(at=Math.floor(rt+c),et=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?o?Math.floor(f-i.minorTickLines.size):Math.floor(i.minorTickLines.size+f):o?Math.floor(f+i.minorTickLines.size):f-Math.floor(i.minorTickLines.size),st.append("M "+(at+p)+" "+(et+p)+" L "+(at+p)+" "+(f+p)+" ")))}else for(g=0,h=k;g<i.minorTicksPerInterval;g++)h+=i.visibleRange.interval/(i.minorTicksPerInterval+1),h<i.visibleRange.max&&h>i.visibleRange.min&&(rt=Math.ceil((h-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorTickLines&&i.minorTickLines.visible&&(et=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?o?Math.floor(f-i.minorTickLines.size):Math.floor(i.minorTickLines.size+f):o?Math.floor(f+i.minorTickLines.size):Math.floor(f-i.minorTickLines.size),vt=Math.floor(rt+c),st.append("M "+(vt+p)+" "+(et+p)+" L "+(vt+p)+" "+(f+p)+" ")));if(i.majorTickLines.visible||i.majorGridLines.visible||nt.width>0){var ot=this._getSharpPath(i.majorTickLines.width),ai=this._getSharpPath(i.majorGridLines.width),ii=l[e]=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(k,i.visibleRange,i.isInversed)*i.width);i.majorTickLines.visible&&(w=i.majorTickLines.size+i.axisLine.width/2,v=i.tickLinesPosition=="inside"&&i.labelPosition=="inside"||i.tickLinesPosition=="inside"&&i.labelPosition!="inside"?o?f+w:f-w:(o?f-w:w+f)-(dt?o?this.model.scrollerSize:-this.model.scrollerSize:0),kt.append("M "+(Math.floor(ii+c)+ot)+" "+(Math.floor(v)+ot)+" L "+(Math.floor(ii+c)+ot)+" "+(Math.floor(f+(o?-i.axisLine.width/2:i.axisLine.width/2))+ot)+" "))}}if(nt.width>0){var d=ej.EjSvgRender.utils._getStringBuilder(),ri=dt?this.model.scrollerSize:0,w=i.axisLine.width,v,s,y,a,e,tt,ui=i.labelPosition.toLowerCase(),vi=this.model.m_AreaBounds.X,yi=this.model.m_AreaBounds.Width,ci=nt.width,it=i._LableMaxWidth.height+i.axisLine.width/2+2,b=i.visibleLabels.length;for(f=i.y,i.tickLinesPosition==ui&&(it+=i.majorTickLines.size),ui=="inside"?(v=o?f+w:f+w,s=o?f+it:f-it):(v=o?f-w:w+f+(i.zoomFactor<1&&this.model.zooming.enableScrollbar&&t==0?this.model.scrollerSize:0),s=o?f-it-ri:f+it+ri),e=0;e<b;e++)tt=(l[l.length-1]-l[l.length-2])/2,!ej.util.isNullOrUndefined(l[e])&&l.length>=1&&!isNaN(tt)&&(i._valueType=="category"&&i.labelPlacement.toLowerCase()=="betweenticks"?(y=l[e]+c,a=l[e]+tt*2+c):(y=l[e]-tt+c,a=l[e]+tt+c),a=Math.floor(a),s=Math.floor(s),y=Math.floor(y),v=Math.floor(v),y<i.x?d.append("M "+Math.floor(c)+" "+s+" L "+a+" "+s+" "):a>i.width+i.x?(d.append("M "+y+" "+v+" L "+y+" "+s+" L "+Math.floor(i.width+c)+" "+s+" "),a-ci<=i.width+i.x&&d.append("M "+Math.floor(i.width+c)+" "+s+" L "+(i.x+i.width)+" "+v)):(e==0&&d.append("M "+i.x+" "+s+" L "+y+" "+s+" "),d.append("M "+y+" "+v+" L "+y+" "+s+" L "+a+" "+s+" "),e==b-1&&d.append("M "+a+" "+v+" L "+a+" "+s+" M "+a+" "+s+" L "+(i.x+i.width)+" "+s)));fi={id:this.svgObject.id+"_XAxisLabelBorder_"+t,fill:"transparent","stroke-width":nt.width,stroke:nt.color,d:d.toString()};this.svgRenderer.drawPath(fi,r);n(r).appendTo(this.gXaxisEle)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(bt=st.toString(),yt={id:this.svgObject.id+"_XAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:bt},r?this.svgRenderer.drawPath(yt,r):this.svgRenderer.drawPath(yt,ut));i.majorTickLines.visible&&i.visible&&(wt=kt.toString(),pt={id:this.svgObject.id+"_XAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:wt},r?this.svgRenderer.drawPath(pt,r):this.svgRenderer.drawPath(pt,ut));i.tickLinesPosition=="inside"&&n(ut).appendTo(this.gXaxisEle)},_drawXAxisGridLine:function(t,i,r){var ct,lt,ut=ej.EjSvgRender.utils._getStringBuilder(),at=ej.EjSvgRender.utils._getStringBuilder(),w,f=[],vt=this.model.elementSpacing+5,ft,l=i._opposed,b=Math.floor(i.x),ni=Math.floor(i.x+i.width),d=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+t}),g=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisAlternateGridBand_"+t}),yt=r.axes[i.name]._validCross,a,k,tt,s,c,ii,h,st,p,o,it,rt,dt,u,e,gt,ht;if(t==0||yt||i.labelPosition!="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?i.labelPosition!="inside"||i.tickLinesPosition=="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?t==0||yt||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||i.y==this.model.m_AreaBounds.Y?(a=Math.floor(i.y),k=Math.floor(i.y)):(a=l?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size),k=l?Math.floor(i.y-i.majorTickLines.size):Math.floor(i.y+i.majorTickLines.size)):a=k=l?Math.floor(i.y-i._LableMaxWidth.height)+vt:i.showNextToAxisLine?Math.floor(i.y+i._LableMaxWidth.height)-vt:Math.floor(i.y+i._LableMaxWidth.height):(a=l?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height),k=l?Math.floor(i.y-i._LableMaxWidth.height):Math.floor(i.y+i._LableMaxWidth.height)),i.visible&&i.axisLine.visible){var pt=i.axisLine.offset>0?i.axisLine.offset:0,nt=this._getSharpPath(i.axisLine.width),ti={id:this.svgObject.id+"_XAxisLine_"+t,x1:b-i.plotOffset+nt+pt,y1:a+nt,x2:ni+i.plotOffset-pt+nt,y2:k+nt,"stroke-dasharray":i.axisLine.dashArray,"stroke-width":i.axisLine.width,stroke:i.axisLine.color,opacity:i.axisLine.opacity||1};r.axes[i.name]._lineOption=[ti,this.gXaxisEle]}else r.axes[i.name]._lineOption=[null,this.gXaxisEle];for(i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,tt=i.labels.length>0&&i.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,s=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&tt<0&&(s=s>0?i.visibleLabels.length+1:s),u=0;u<s;u++)if(ft=i.visibleLabels[u]?i.visibleLabels[u].Value:i.visibleLabels[u-1].Value+i.range.interval,c=i.labels.length>0&&tt<0?ft+tt:ft,c=i.roundingPlaces?c:parseFloat(c.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(c,i.visibleRange)){if(i.hidePartialLabels&&(u==0||u==s-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(ii=this._getSharpPath(i.minorTickLines.width),h=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){o=c;var wt=i.visibleRange.max,et=i.visibleRange.min,bt=Math.pow(i.logBase,o-i.visibleRange.interval),ri=Math.pow(i.logBase,o),kt=(ri-bt)/(i.minorTicksPerInterval+1),ot=bt+kt;for(o=ej.EjSvgRender.utils._logBase(ot,i.logBase),p=0;p<i.minorTicksPerInterval;p++)o<wt&&o>et&&(w=Math.ceil((o-et)/(wt-et)*i.width),i.minorGridLines&&i.minorGridLines.visible&&(st=Math.floor(w+b),ut.append("M "+(st+h)+" "+(a+h)+" L "+(st+h)+" "+(Math.floor(l?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+h)+" "))),ot+=kt,o=ej.EjSvgRender.utils._logBase(ot,i.logBase)}else for(p=0,o=c;p<i.minorTicksPerInterval;p++)o+=i.visibleRange.interval/(i.minorTicksPerInterval+1),o<i.visibleRange.max&&o>i.visibleRange.min&&(w=Math.ceil((o-i.visibleRange.min)/(i.visibleRange.max-i.visibleRange.min)*i.width),i.minorGridLines&&i.minorGridLines.visible&&ut.append("M "+(Math.floor(w+b)+h)+" "+(a+h)+" L "+(Math.floor(w+b)+h)+" "+(Math.floor(l?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+h)+" "));if(i.majorTickLines.visible||i.majorGridLines.visible){var fi=this._getSharpPath(i.majorTickLines.width),v=this._getSharpPath(i.majorGridLines.width),ui=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(c,i.visibleRange,i.isInversed)*i.width),y=Math.floor(ui+b);if(i.zoomed&&(f[0]=i.x),u==0&&y==Math.floor(this.model.m_AreaBounds.X)){f.push(y+v);continue}if(u==s-1&&this.model.chartArea.border.color!="transparent"&&this.model.chartArea.border.width>0){if(y==Math.floor(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width))continue;i.zoomed&&(f[s]=y+v)}if(i.majorGridLines.visible&&at.append("M "+(y+v)+" "+(Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+v)+" L "+(y+v)+" "+(Math.floor(this.model.m_AreaBounds.Y)+v)+" "),i._valueType.toLowerCase()!="category"&&u==s-1)continue;f.push(y+v)}}if(i.alternateGridBand.odd.fill!="transparent"||i.alternateGridBand.even.fill!="transparent"){for(it=this.model.m_AreaBounds.Height,f.length===0&&(rt={id:this.svgObject.id+"_XAxis"+t+"_Alternateeven0",x:i.x,y:Math.floor(this.model.m_AreaBounds.Y),width:i.width,height:it,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},this.svgRenderer.drawRect(rt,g)),u=1;u<f.length;u+=2)e=f[u+1]-f[u],e=e||i.labelPlacement.toLowerCase()=="onticks"?e:i.width+i.x-f[u],u==f.length-1&&i.zoomed&&(e=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-f[f.length-1]-i.plotOffset),dt={id:this.svgObject.id+"_XAxis"+t+"_Alternateodd"+[u],x:f[u],y:Math.floor(this.model.m_AreaBounds.Y),width:e,height:it,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},e>0&&this.svgRenderer.drawRect(dt,g);for(u=0;u<f.length;u+=2)e=f[u+1]-f[u],e=e||i.labelPlacement.toLowerCase()=="onticks"?e:i.width+i.x-f[u],u==0&&i.zoomed&&(e=f[1]-i.x),u==f.length-1&&i.zoomed&&(e=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-f[f.length-1]-i.plotOffset),rt={id:this.svgObject.id+"_XAxis"+t+"_Alternateeven"+[u],x:f[u],y:Math.floor(this.model.m_AreaBounds.Y),width:e,height:it,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},e>0&&this.svgRenderer.drawRect(rt,g);n(g).appendTo(d)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(lt=ut.toString(),gt={id:this.svgObject.id+"_XAxisMinorGridLines_"+t,fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:lt},this.svgRenderer.drawPath(gt,d));ct=at.toString();i.majorGridLines.visible&&(ht={id:this.svgObject.id+"_XAxisMajorGridLines_"+t,fill:"none","stroke-width":i.majorGridLines.width,stroke:i.majorGridLines.color,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,d:ct},ht.d!=""&&this.svgRenderer.drawPath(ht,d));n(d).appendTo(this.svgObject)},_drawYAxisTickLine:function(t,i,r,u){var at="",vt="",et=0,yt=i._isScroll&&!(i.scrollbarSettings.pointsLength!=null&&i.scrollbarSettings.pointsLength<i.maxPointLength),o=i._opposed,ot,c=[],rt=i.labelBorder,st,f,ut,y,v,b,l,ii,k,s,ft,nt,ui,d,e,gt,ni,ti;t==1||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?t==1||u||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?f=st=i.showNextToAxisLine?!i.showNextToAxisLine&&i.tickLinesPosition=="inside"?i.x+i.majorTickLines.size:i.x:i._x:(f=Math.floor(i.x+i.majorTickLines.size),st=Math.floor(i.x+i.majorTickLines.size)):(f=!o&&!u?Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing):i.showNextToAxisLine?i.x:Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing),st=!o&&!u?Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing):i.showNextToAxisLine?i.x:Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing));var h=Math.floor(i.y+i.height),fi=Math.floor(i.y),ht=ej.EjSvgRender.utils._getStringBuilder(),pt=ej.EjSvgRender.utils._getStringBuilder(),ei=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTicklines_"+t});for(i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,ut=i.labels.length>0&&i.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,y=i.visibleLabels.length,i._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&ut<0&&(y=y>0?i.visibleLabels.length+1:y),e=0;e<y;e++)if(ot=i.visibleLabels[e]?i.visibleLabels[e].Value:i.visibleLabels[e-1].Value+i.range.interval,v=i.labels.length>0&&ut<0?ot+ut:ot,v=i.roundingPlaces?v:parseFloat(v.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(v,i.visibleRange)){if(i.hidePartialLabels&&(e==0||e==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(l=this._getSharpPath(i.minorTickLines.width),ii=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){s=v;var wt=i.visibleRange.max,ct=i.visibleRange.min,bt=Math.pow(i.logBase,s-i.visibleRange.interval),ri=Math.pow(i.logBase,s),kt=(ri-bt)/(i.minorTicksPerInterval+1),lt=bt+kt;for(s=ej.EjSvgRender.utils._logBase(lt,i.logBase),k=0;k<i.minorTicksPerInterval;k++)s<wt&&s>ct&&(b=Math.ceil((s-ct)/(wt-ct)*i.height),i.minorTickLines&&i.minorTickLines.visible&&i.minorTickLines.visible&&(ft=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?o?i.minorTickLines.size:-i.minorTickLines.size:o?-i.minorTickLines.size:i.minorTickLines.size,ht.append("M "+(Math.floor(ft+f)+l)+" "+(Math.floor(b*-1+h)+l)+" L "+(f+l)+" "+(Math.floor(b*-1+h)+l)+" "))),lt+=kt,s=ej.EjSvgRender.utils._logBase(lt,i.logBase)}else for(k=0,s=v;k<i.minorTicksPerInterval;k++)s+=i.visibleRange.interval/(i.minorTicksPerInterval+1),s<i.visibleRange.max&&s>i.visibleRange.min&&(b=(s-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorTickLines.visible&&(ft=i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?o?i.minorTickLines.size:-i.minorTickLines.size:o?-i.minorTickLines.size:i.minorTickLines.size,ht.append("M "+(Math.floor(ft+f)+l)+" "+(Math.floor(b*-1+h)+l)+" L "+(f+l)+" "+(Math.floor(b*-1+h)+l)+" ")));(i.majorTickLines.visible||i.majorGridLines.visible||rt.width>0)&&(nt=this._getSharpPath(i.minorTickLines.width),ui=this._getSharpPath(i.majorGridLines.width),et=c[e]=ej.EjSvgRender.utils._getPointXY(v,i.visibleRange,i.isInversed)*i.height,i.majorTickLines.visible&&(i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||i.tickLinesPosition!="inside"&&i.labelPosition=="inside"?d=(o?i.majorTickLines.size+i.axisLine.width/2:-(i.majorTickLines.size+i.axisLine.width/2))+(yt?o?this.model.scrollerSize:o-this.model.scrollerSize:0):(i.tickLinesPosition=="inside"&&i.labelPosition!="inside"||i.tickLinesPosition=="inside"&&i.labelPosition=="inside")&&(d=o?-(i.majorTickLines.size+i.axisLine.width/2):i.majorTickLines.size+i.axisLine.width/2),pt.append("M "+(Math.floor(d+f)+nt)+" "+(Math.floor(et*-1+h)+nt)+" L "+(Math.floor(f+(o?i.axisLine.width/2:i.axisLine.width/2))+nt)+" "+(Math.floor(et*-1+h)+nt)+" ")))}if(rt.width>0){var tt=ej.EjSvgRender.utils._getStringBuilder(),d=i.axisLine.width/2,e,p,w,a,it,dt=yt?this.model.scrollerSize:0,g=i._LableMaxWidth.maxWidth+10;for(f=i.x,i.tickLinesPosition==i.labelPosition&&(g+=i.majorTickLines.size),a=Math.floor(f-g),a=i.labelPosition=="outside"?o?Math.floor(f+g)+dt:Math.floor(f-g)-dt:o?Math.floor(f-g):Math.floor(f+g),e=0;e<y;e++)it=(c[c.length-1]-c[c.length-2])/2,!ej.util.isNullOrUndefined(c[e])&&c.length>1&&!isNaN(it)&&(i._valueType=="category"&&i.labelPlacement.toLowerCase()=="betweenticks"?(p=Math.floor(c[e]*-1+h),w=Math.floor(c[e]*-1-it*2+h)):(p=Math.floor(c[e]*-1+it+h),w=Math.floor(c[e]*-1-it+h)),p>h?tt.append("M "+a+" "+h+" L "+a+" "+w+" "):w<this.model.m_AreaBounds.Y?tt.append("M "+Math.floor(d+f)+" "+p+" L "+a+" "+p+" L "+a+" "+this.model.m_AreaBounds.Y+" "):(tt.append("M "+Math.floor(d+f)+" "+p+" L "+a+" "+p+" L "+a+" "+w+" "),e==y-1&&tt.append("M "+Math.floor(d+f)+" "+w+" L "+a+" "+w+" ")));gt={id:this.svgObject.id+"_YAxisLabelBorder_"+t,fill:"none","stroke-width":rt.width,stroke:rt.color,d:tt.toString()};this.svgRenderer.drawPath(gt,r);n(r).appendTo(this.gYaxisEle)}i.minorTickLines.visible&&i.visible&&i.minorTicksPerInterval>0&&(vt=ht.toString(),ni={id:this.svgObject.id+"_YAxisMinorTicks_"+t,fill:"none","stroke-width":i.minorTickLines.width,stroke:i.minorTickLines.color,d:vt},this.svgRenderer.drawPath(ni,r));i.majorTickLines.visible&&i.visible&&(at=pt.toString(),ti={id:this.svgObject.id+"_YAxisMajorTicks_"+t,fill:"none","stroke-width":i.majorTickLines.width,stroke:i.majorTickLines.color,d:at},this.svgRenderer.drawPath(ti,r))},_drawYAxisGridLine:function(t,i,r){var st="",ht="",ct=0,nt,s=Math.floor(i.y+i.height),ii=Math.floor(i.y),b=i._opposed,f=[],lt=r.axes[i.name]._validCross,at=i.name.replace(/[^a-zA-Z0-9]/g,""),k,d,pt,rt,wt,h,v,ui,o,y,e,ei,c,et,gt,u,a,p,ni,ti,ot;t==1||lt||(i.labelPosition!="inside"||i.tickLinesPosition!="inside")&&(i.labelPosition!="inside"||i.tickLinesPosition=="inside")||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?t==1||lt||i.labelPosition=="inside"||i.tickLinesPosition!="inside"||i.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||i.x==this.model.m_AreaBounds.X?(k=Math.floor(i.x),d=Math.floor(i.x)):(k=b?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size),d=b?Math.floor(i.x+i.majorTickLines.size):Math.floor(i.x-i.majorTickLines.size)):(k=b?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing),d=b?Math.floor(i.x+i._LableMaxWidth.width+this.model.elementSpacing):Math.floor(i.x-i._LableMaxWidth.width-this.model.elementSpacing));var tt=ej.EjSvgRender.utils._getStringBuilder(),vt=ej.EjSvgRender.utils._getStringBuilder(),w=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+t}),it=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisAlternateGridBand_"+t});if(i.visible&&i.axisLine.visible){var yt=i.axisLine.offset>0?i.axisLine.offset:0,g=this._getSharpPath(i.axisLine.width),ri={id:this.svgObject.id+at+"_YAxisLine_"+t,x1:k+g,y1:ii-i.plotOffset+yt+g,x2:d+g,y2:s+i.plotOffset-yt+g,"stroke-width":i.axisLine.width,"stroke-dasharray":i.axisLine.dashArray,stroke:i.axisLine.color,opacity:i.axisLine.opacity||1};r.axes[i.name]._lineOption=[ri,this.gYaxisEle]}else r.axes[i.name]._lineOption=[null,this.gYaxisEle];for(i.axisBottomLine&&i.axisBottomLine.visible&&(pt={id:this.svgObject.id+at+"_YAxisBottomLine_"+t,x1:this.model.m_AreaBounds.X,y1:s,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:s,"stroke-width":i.axisBottomLine.width,stroke:i.axisBottomLine.color},this.svgRenderer.drawLine(pt,w)),i.labelPlacement=i.labelPlacement?i.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,rt=i.labels.length>0&&i.labelPlacement.toLowerCase()=="betweenticks"?-.5:0,wt=i.visibleLabels.length,u=0;u<wt;u++)if(nt=i.visibleLabels[u].Value,h=i.labels.length>0&&rt<0?nt+rt:nt,h=i.roundingPlaces?h:parseFloat(h.toFixed(ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval)==0?1:ej.EjSvgRender.utils._decimalPlaces(i.visibleRange.interval))),ej.EjSvgRender.utils._inside(h,i.visibleRange)){if(i.hidePartialLabels&&(u==0||u==i.visibleLabels.length-1))continue;if(i.minorGridLines.visible||i.minorTickLines.visible)if(ui=this._getSharpPath(i.minorTickLines.width),o=this._getSharpPath(i.minorGridLines.width),i._valueType=="logarithmic"){e=h;var bt=i.visibleRange.max,ut=i.visibleRange.min,kt=Math.pow(i.logBase,e-i.visibleRange.interval),fi=Math.pow(i.logBase,e),dt=(fi-kt)/(i.minorTicksPerInterval+1),ft=kt+dt;for(e=ej.EjSvgRender.utils._logBase(ft,i.logBase),y=0;y<i.minorTicksPerInterval;y++)e<bt&&e>ut&&(v=Math.ceil((e-ut)/(bt-ut)*i.height),i.minorGridLines.visible&&tt.append("M "+(Math.floor(this.model.m_AreaBounds.X)+o)+" "+(Math.floor(v*-1+s)+o)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+o)+" "+(Math.floor(v*-1+s)+o)+" ")),ft+=dt,e=ej.EjSvgRender.utils._logBase(ft,i.logBase)}else for(y=0,e=h;y<i.minorTicksPerInterval;y++)e+=i.visibleRange.interval/(i.minorTicksPerInterval+1),e<i.visibleRange.max&&e>i.visibleRange.min&&(v=(e-i.visibleRange.min)/i.visibleRange.delta*i.height,i.minorGridLines.visible&&tt.append("M "+(Math.floor(this.model.m_AreaBounds.X)+o)+" "+(Math.floor(v*-1+s)+o)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+o)+" "+(Math.floor(v*-1+s)+o)+" "));if((i.majorTickLines.visible||i.majorGridLines.visible)&&(ei=this._getSharpPath(i.minorTickLines.width),c=this._getSharpPath(i.majorGridLines.width),i.majorGridLines.visible)){ct=ej.EjSvgRender.utils._getPointXY(h,i.visibleRange,i.isInversed)*i.height;var oi=Math.floor(this.model.m_AreaBounds.X)+c,l=Math.floor(ct*-1+s),si=Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+c;if(u==0){if(l==Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height))continue;i.zoomed&&(f[0]=l+c)}if(u==i.visibleLabels.length-1&&this.model.chartArea.border.color!="transparent"&&this.model.chartArea.border.width>0&&l==Math.floor(this.model.m_AreaBounds.Y)){f.push(l+c);continue}if(vt.append("M "+oi+" "+(l+c)+" L "+si+" "+(l+c)+" "),u==0)continue;f.push(l+c)}}if(i.alternateGridBand.odd.fill!="transparent"||i.alternateGridBand.even.fill!="transparent"){for(et=this.model.m_AreaBounds.Width,i.zoomed&&(f[f.length]=i.y),u=1;u<f.length;u+=2)a=f[0]-f[1],u==f.length-1&&i.zoomed&&(p=f[f.length-2]-i.y,a=p),gt={id:this.svgObject.id+"_YAxisAlternateodd"+[u],x:Math.floor(this.model.m_AreaBounds.X),y:f[u],width:et,height:a,fill:i.alternateGridBand.odd.fill,opacity:i.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(gt,it);for(u=0;u<f.length;u+=2)a=f[0]-f[1],u==f.length-1&&i.zoomed&&(p=f[f.length-2]-i.y,a=p),u==0&&i.zoomed&&(p=i.y+i.height-f[0]-i.plotOffset,a=p),ni={id:this.svgObject.id+"_YAxisAlternateeven"+[u],x:Math.floor(this.model.m_AreaBounds.X),y:f[u],width:et,height:a,fill:i.alternateGridBand.even.fill,opacity:i.alternateGridBand.even.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(ni,it);n(it).appendTo(w)}i.minorGridLines.visible&&i.minorTicksPerInterval>0&&(ht=tt.toString(),ti={id:this.svgObject.id+"_YAxisMinorGridLines_"+t,fill:"none","stroke-width":i.minorGridLines.width,stroke:i.minorGridLines.color,"stroke-dasharray":i.minorGridLines.dashArray,d:ht},this.svgRenderer.drawPath(ti,w));st=vt.toString();i.majorGridLines.visible&&(ot={id:this.svgObject.id+"_YAxisMajorGridLines_"+t,fill:"none","stroke-width":i.majorGridLines.width,opacity:i.majorGridLines.opacity,"stroke-dasharray":i.majorGridLines.dashArray,stroke:i.majorGridLines.color,d:st},ot.d!=""&&this.svgRenderer.drawPath(ot,w));n(w).appendTo(this.svgObject)},textOverflowMultiLevelLabels:function(n,t,i,r,u,f,e,o,s,h){var v=o.y,y=0,a,p,l,w,b,c;if(u=="wrap"||u=="wrapandtrim"){for(p=h._wrap(n,t,i,u,f,e),l=p.text,w=l.length,c=0;c<w;c++)o.y+=e.height,h.model.enable3D||(o.id+="_"+c,h.svgRenderer.drawText(o,l[c],s)),u=="wrapandtrim"&&l[c].indexOf("...")>-1&&(h.model.enable3D&&y==0&&(o.y-=e.height),b=p.unTrimmedText,e=ej.EjSvgRender.utils._measureText(l[c],null,f),a={X:o.x-e.width/2,Y:o.y,Width:e.width,Height:e.height},h.model.axisMultiLevelLabelRegions.push({trimText:l[c],labelText:b[y],Bounds:a}),y++);return l}return i=u=="trim"?ej.EjSvgRender.utils._trimText(r,t,f):r,h.model.enable3D||(v=o.y+e.height),n.orientation.toLowerCase()=="vertical"&&(v=o.y-e.height/4),e=ej.EjSvgRender.utils._measureText(i,null,f),a={X:o.x-e.width/2,Y:v,Width:e.width,Height:e.height},h.model.axisMultiLevelLabelRegions.push({trimText:i,labelText:r,Bounds:a}),i},_triggerMultiLevelLabelsRendering:function(t,i,r,u,f,e,o){var s=n.extend({},ej.EjSvgRender.commonChartEventArgs);return s.data={text:t,location:{x:i,y:r},textOverflow:u,font:f,border:e},o._trigger("multiLevelLabelRendering",s),s.data},_drawXAxisMultiLevelLabels:function(t,i){var tt,u,r,ri,ui,st,vt,a,e,v,y,h,d,c,s,it,kt,ht,dt,gt,yt,o,f,ni,pt,w,ct,rt,wt=this.svgObject.id,g=i.visibleRange,et=this.svgRenderer.createGroup({id:wt+"_XAxisMultiLevelLabels_"+t,"clip-path":"url(#"+this.svgObject.id+"_XAxis_Clippath_"+t+")"}),bt=this.model.m_AreaBounds,nt=i.opposedPosition,b,p=i.labelPosition.toLowerCase(),fi=i.labelBorder,l=10,ot=i._isScroll?this.model.scrollerSize:0,ti,k,ft,ii,ut,ei,at,lt;for(h=i.majorTickLines.size+i._LableMaxWidth.height+fi.width,kt=i.x,ht=i.y+h+ot,dt=i.width+this.model.chartArea.border.width,gt=i._multiLevelLabelHeight+l-2,nt?ht=p=="outside"?i.y-h-i._multiLevelLabelHeight-l/2-ot:i.y+h-l/2:p=="inside"&&(ht=i.y-h-i._multiLevelLabelHeight),ti={id:this.svgObject.id+"_XAxis_Clippath_"+t,x:kt,y:ht,width:dt,height:gt,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(ti,et),tt=0;tt<i.multiLevelLabels.length;tt++)if(e=i.multiLevelLabels[tt],typeof e.start=="string"&&e.start.indexOf("/Date(")!=-1&&(e.start=parseInt(e.start.substr(6))),typeof e.end=="string"&&e.end.indexOf("/Date(")!=-1&&(e.end=parseInt(e.end.substr(6))),e.visible&&(e.start>=g.min&&e.start<=g.max||e.end>=g.min&&e.end<=g.max||e.start<g.min&&e.end>g.max)){if(v=e.font,w=e.border,b=w.width,s=e._level,it=e.textOverflow.toLowerCase(),ct=w.type.toLowerCase(),rt=e.textAlignment.toLowerCase(),y=Math.ceil(ej.EjSvgRender.utils._getPointXY(e.start,g,i.isInversed)*i.width),d=Math.ceil(ej.EjSvgRender.utils._getPointXY(e.end,g,i.isInversed)*i.width),i.isInversed&&(y=y-d,d=y+d,y=d-y),ft=e.text,a=ej.EjSvgRender.utils._measureText(ft,null,v),st=ej.util.isNullOrUndefined(e.maximumTextWidth)?d-y-b-l:e.maximumTextWidth-l,ri=1,ui=0,u=y+i.x+l/2,r=h+i.y,r=nt?p=="outside"?i.y-h-i.multiLevelLabelHeight[s]-l-i.prevHeight[s]-ot:i.y+h-l/2+i.prevHeight[s]:p=="inside"?i.y-h-i.multiLevelLabelHeight[s]-i.prevHeight[s]:h+i.y+i.prevHeight[s]+ot,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(kt,ht,dt,gt),this.svgRenderer.ctx.clip()),rt=="center"?(u+=st/2,yt="middle"):rt=="far"?(u=u+st-b/2,yt="end"):(yt="start",u+=b/2),k=this._triggerMultiLevelLabelsRendering(ft,u,r,it,v,e.border,this),ft=k.text,u=k.location.x,r=k.location.y,it=k.textOverflow.toLowerCase(),v=k.font,w=k.border,ct=k.border.type.toLowerCase(),b=k.border.width,c={id:wt+"_XAxisMultiLevelLabels_Text_"+t+"_"+tt,x:u,y:ct=="curlybrace"?r+10:r,fill:v.color?v.color:i.multiLevelLabelsFontColor,"font-size":v.size,"font-family":v.fontFamily,"font-style":v.fontStyle,"font-weight":v.fontWeight,opacity:v.opacity,"text-anchor":yt},vt=ft,it!="none"&&(vt=this.textOverflowMultiLevelLabels(i,st,vt,ft,it,v,a,c,et,this)),it!="wrap"&&it!="wrapandtrim"&&(c.y+=a.height,a.height<i.multiLevelLabelHeight[s]&&(c.y=c.y+i.multiLevelLabelHeight[s]/2-a.height/2),this.svgRenderer.drawText(c,vt,et)),r=nt?p=="inside"?h+i.y+i.prevHeight[s]-l/2:i.y-h-i.multiLevelLabelHeight[s]-l+2-i.prevHeight[s]-ot:p=="inside"?i.y-h-i.multiLevelLabelHeight[s]-3-i.prevHeight[s]:h+i.y+i.prevHeight[s]+ot,u=y+i.x,r+=b,o=i.multiLevelLabelHeight[s]+l/2,f=st+l+b,ii={bounds:{x:u,y:r,height:o,width:f},axisIndex:t,multiLevelLabel:e},this.model.multiLevelLabelRegions.push(ii),ut="",ei=(f+b-a.width)/2-2,ct=="rectangle")pt={id:wt+"_XAxisMultiLevelLabels_Rect_"+t+"_"+tt,x:u,y:r,width:f,height:o,fill:"transparent",stroke:w.color?w.color:i.multiLevelLabelsColor,"stroke-width":b},this.svgRenderer.drawRect(pt,et);else{switch(ct){case"withouttopandbottomborder":ut="M "+u+" "+r+" L "+u+" "+(r+o)+" M "+(u+f)+" "+r+" L "+(u+f)+" "+(r+o);break;case"withouttopborder":ni=!nt&&p=="outside"||nt&&p=="inside"?o:0;ut="M "+u+" "+(r+ni)+" L "+(u+f)+" "+(r+ni)+" M "+u+" "+r+" L "+u+" "+(r+o)+" M "+(u+f)+" "+r+" L "+(u+f)+" "+(r+o);break;case"brace":rt=="near"?(lt=c.x,at=c.x+a.width+2):rt=="center"?(lt=c.x-a.width/2-2<=bt.X+y?bt.X+y+l:c.x-a.width/2-2,at=c.x+a.width/2+2>bt.X+d?bt.X+d-l:c.x+a.width/2+2):(lt=c.x-a.width-2,at=c.x);ut=!nt&&p=="outside"||nt&&p=="inside"?"M "+u+" "+r+" L "+u+" "+(r+o/2)+" M "+u+" "+(r+o/2)+" L "+(lt-2)+" "+(r+o/2)+" M "+at+" "+(r+o/2)+" L "+(u+f)+" "+(r+o/2)+" M "+(u+f)+" "+(r+o/2)+" L "+(u+f)+" "+r:"M "+u+" "+(r+o)+" L "+u+" "+(r+o/2)+" M "+u+" "+(r+o/2)+" L "+lt+" "+(r+o/2)+" M "+at+" "+(r+o/2)+" L "+(u+f)+" "+(r+o/2)+" M "+(u+f)+" "+(r+o)+" L "+(u+f)+" "+(r+o/2);break;case"curlybrace":r=i.y+h+i.prevHeight[s];ut=f<30?"M "+(u+f/2-5)+" "+(r+10)+" L "+(u+f/2)+" "+(r+15)+" L "+(u+f/2+5)+" "+(r+10):nt?"M "+u+" "+r+" C "+u+" "+r+" "+(u+5)+" "+(r+10)+" "+(u+10)+" "+(r+10)+" L "+(u+f/2-5)+" "+(r+10)+" L "+(u+f/2)+" "+(r+15)+" L "+(u+f/2+5)+" "+(r+10)+" L "+(u+f-10)+" "+(r+10)+" C "+(u+f-10)+" "+(r+10)+" "+(u+f)+" "+(r+5)+" "+(u+f)+" "+r:rt=="center"?"M "+u+" "+r+" C "+u+" "+r+" "+(u+5)+" "+(r+10)+" "+(u+10)+" "+(r+10)+" L "+(u+f/2-5)+" "+(r+10)+" L "+(u+f/2)+" "+(r+15)+" L "+(u+f/2+5)+" "+(r+10)+" L "+(u+f-10)+" "+(r+10)+" C "+(u+f-10)+" "+(r+10)+" "+(u+f)+" "+(r+5)+" "+(u+f)+" "+r:rt=="near"?"M "+u+" "+r+" C "+u+" "+r+" "+(u+5)+" "+(r+10)+" "+(u+10)+" "+(r+10)+" L "+(u+15)+" "+(r+15)+" L "+(u+15+5)+" "+(r+10)+" L "+(u+f-10)+" "+(r+10)+" C "+(u+f-10)+" "+(r+10)+" "+(u+f)+" "+(r+5)+" "+(u+f)+" "+r:"M "+u+" "+r+" C "+u+" "+r+" "+(u+5)+" "+(r+10)+" "+(u+10)+" "+(r+10)+" L "+(u+f-20)+" "+(r+10)+" L "+(u+f-15)+" "+(r+15)+" L "+(u+f-10)+" "+(r+10)+" L "+(u+f-10)+" "+(r+10)+" C "+(u+f-10)+" "+(r+10)+" "+(u+f)+" "+(r+5)+" "+(u+f)+" "+r}ut&&(pt={id:wt+"_XAxisMultiLevelLabels_Rect_"+t+"_"+tt,d:ut,stroke:w.color?w.color:i.multiLevelLabelsColor,"stroke-width":w.width,fill:"none"},this.svgRenderer.drawPath(pt,et))}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore();n(et).appendTo(this.gXaxisEle)}},_drawYAxisMultiLevelLabels:function(t,i){var g,r,u,fi,ht,nt,s,a,p,b,ft,tt,l=5,c,pt,ti,ei,ct,o,e,wt,bt,kt,lt,h,et,ot,at=this.svgObject.id,k=i.visibleRange,dt,ii,gt,ni,st,it,oi,y,si,f,ut=this.svgRenderer.createGroup({id:at+"_YAxisMultiLevelLabels_"+t,"clip-path":"url(#"+this.svgObject.id+"_YAxis_Clippath_"+t+")"}),ci=this.model.m_AreaBounds,w=i.opposedPosition,d=i.labelPosition.toLowerCase(),hi=i.labelBorder,vt=i._multiLevelLabelHeight,v=i.majorTickLines.size+i._LableMaxWidth.width+hi.width+2*l,yt=i._isScroll?this.model.scrollerSize:0,ri,rt,ui;for(ii=i.y,gt=vt+l,ni=i.height+l,dt=w?d=="outside"?i.x+v-l+yt:i.x-vt-v+l:d=="outside"?i.x-vt-v-yt:i.x+v-l,ri={id:this.svgObject.id+"_YAxis_Clippath_"+t,x:dt,y:i.y,width:gt,height:ni,fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(ri,ut),g=0;g<i.multiLevelLabels.length;g++)if(s=n.extend(!0,{},this.model.multiLevelLabelsDefault,i.multiLevelLabels[g]),s.visible&&(s.start>=k.min&&s.start<=k.max||s.end>=k.min&&s.end<=k.max||s.start<k.min&&s.end>k.max)){if(a=s.font,h=s.border,c=s._level,pt=s.maximumTextWidth,tt=s.textOverflow.toLowerCase(),et=h.type.toLowerCase(),ot=s.textAlignment.toLowerCase(),p=Math.ceil(ej.EjSvgRender.utils._getPointXY(s.start,k,i.isInversed)*i.height),b=Math.ceil(ej.EjSvgRender.utils._getPointXY(s.end,k,i.isInversed)*i.height),i.isInversed&&(p=p-b,b=p+b,p=b-p),rt=s.text,nt=ej.EjSvgRender.utils._measureText(rt,null,a),ht=b-p-h.width,ti=ej.util.isNullOrUndefined(pt)?i.multiLevelLabelHeight[c]+l:pt-l,fi=1,ei=0,st=0,r=i.x-v-i.prevHeight[c]-i.multiLevelLabelHeight[c]/2+h.width-l/2,u=i.height+i.y-p-ht/2,r=w?d=="outside"?i.x+v+i.multiLevelLabelHeight[c]/2+i.prevHeight[c]+h.width+yt:i.x-v-i.multiLevelLabelHeight[c]/2-i.prevHeight[c]+h.width+l/2:d=="inside"?i.x+v+i.multiLevelLabelHeight[c]/2+i.prevHeight[c]-l/2:r+st-yt,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(dt,ii,gt,ni),this.svgRenderer.ctx.clip()),u=ot=="far"?u+ht/2-nt.height/2:ot=="near"?u-ht/2+nt.height:u+nt.height/4,it=this._triggerMultiLevelLabelsRendering(rt,r,u,tt,a,s.border,this),rt=it.text,r=it.location.x,u=it.location.y,tt=it.textOverflow,a=it.font,h=it.border,et=h.type.toLowerCase(),oi=h.width,ft={id:at+"_YAxisMultiLevelLabels_Text_"+t+"_"+g,x:et=="curlybrace"?w?r+st+10:r+st-10:r+st,y:u,fill:a.color?a.color:i.multiLevelLabelsFontColor,"font-size":a.size,"font-family":a.fontFamily,"font-style":a.fontStyle,"font-weight":a.fontWeight,opacity:a.opacity,"text-anchor":"middle"},ct=rt,tt!="none"&&(ct=this.textOverflowMultiLevelLabels(i,ti,ct,rt,tt,a,nt,ft,ut,this)),tt!="wrap"&&tt!="wrapandtrim"&&this.svgRenderer.drawText(ft,ct,ut),r=r-l/2-i.multiLevelLabelHeight[c]/2,u=i.y+i.height-b+h.width,o=b-p,e=i.multiLevelLabelHeight[c]+l,y="",si=(e+h.width-vt)/2-2,ui={bounds:{x:r,y:u,height:o,width:e},axisIndex:t,multiLevelLabel:s},this.model.multiLevelLabelRegions.push(ui),et=="rectangle")lt={id:at+"_YAxisMultiLevelLabels_Rect_"+t+"_"+g,x:r,y:u,width:e,height:o,fill:"transparent",stroke:h.color?h.color:i.multiLevelLabelsColor,"stroke-width":h.width},this.svgRenderer.drawRect(lt,ut);else{switch(et){case"withouttopandbottomborder":y="M "+r+" "+(u+o)+" L "+(r+e)+" "+(u+o)+" M "+r+" "+u+" L "+(r+e)+" "+u;break;case"withouttopborder":kt=!w&&d=="outside"||w&&d=="inside"?0:e;y="M "+r+" "+(u+o)+" L "+(r+e)+" "+(u+o)+" M "+r+" "+u+" L "+(r+e)+" "+u+" M "+(r+kt)+" "+(u+o)+" L "+(r+kt)+" "+u;break;case"brace":wt=ft.y-nt.height/2-4;bt=ft.y+nt.height/4+2;y=!w&&d=="outside"||w&&d=="inside"?"M "+(r+e)+" "+u+" L "+(r+e/2)+" "+u+" M "+(r+e/2)+" "+u+" L "+(r+e/2)+" "+wt+" M "+(r+e/2)+" "+bt+" L "+(r+e/2)+" "+(u+o)+" M "+(r+e/2)+" "+(u+o)+" L "+(r+e)+" "+(u+o):"M "+r+" "+u+" L "+(r+e/2)+" "+u+" M "+(r+e/2)+" "+u+" L "+(r+e/2)+" "+wt+" M "+(r+e/2)+" "+bt+" L "+(r+e/2)+" "+(u+o)+" M "+(r+e/2)+" "+(u+o)+" L "+r+" "+(u+o);break;case"curlybrace":r=i.x-v-i.prevHeight[c];f=o-10;o<30?w?(r=i.x+v+i.prevHeight[c],f=o-10,y=" M "+(r+10)+" "+(u+f/2)+"  L "+(r+15)+" "+(u+f/2+5)+" L "+(r+10)+" "+(u+f/2+10)):y="M "+(r-10)+" "+(u+o/2-5)+" L "+(r-15)+" "+(u+o/2)+" L "+(r-10)+" "+(u+o/2+5):w?(r=i.x+v+i.prevHeight[c],f=o-10,y="M "+r+" "+u+" C "+r+" "+u+" "+(r+10)+" "+u+" "+(r+10)+" "+(u+10)+" L "+(r+10)+" "+(u+f/2)+"  L "+(r+15)+" "+(u+f/2+5)+" L "+(r+10)+" "+(u+f/2+10)+" L "+(r+10)+" "+(u+f)+" C"+(r+10)+" "+(u+f)+" "+(r+5)+" "+(u+f+10)+" "+r+" "+(u+f+10)):y=ot=="center"?"M "+r+" "+u+" C "+r+" "+u+" "+(r-10)+" "+u+" "+(r-10)+" "+(u+10)+" L "+(r-10)+" "+(u+f/2)+" L "+(r-15)+" "+(u+f/2+5)+" L "+(r-10)+" "+(u+f/2+10)+" L "+(r-10)+" "+(u+f)+" C "+(r-10)+" "+(u+f)+" "+(r-5)+" "+(u+f+10)+" "+r+" "+(u+f+10):ot=="far"?"M "+r+" "+u+" C "+r+" "+u+" "+(r-10)+" "+u+" "+(r-10)+" "+(u+10)+" L "+(r-10)+" "+(u+f-10)+"  L "+(r-15)+" "+(u+f-5)+" L "+(r-10)+" "+(u+f)+" L "+(r-10)+" "+(u+f)+" C"+(r-10)+" "+(u+f)+" "+(r-10)+" "+(u+f+10)+" "+r+" "+(u+f+10):"M "+r+" "+u+" C "+r+" "+u+" "+(r-10)+" "+u+" "+(r-10)+" "+(u+10)+" L "+(r-15)+" "+(u+10+5)+" L "+(r-10)+" "+(u+10+10)+" L "+(r-10)+" "+(u+f)+" C"+(r-10)+" "+(u+f)+" "+(r-5)+" "+(u+f+10)+" "+r+" "+(u+f+10)}y&&(lt={id:at+"_YAxisMultiLevelLabels_Rect_"+t+"_"+g,d:y,stroke:h.color?h.color:i.multiLevelLabelsColor,"stroke-width":h.width,fill:"none"},this.svgRenderer.drawPath(lt,ut))}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore();n(ut).appendTo(this.gYaxisEle)}},_getLabelCollection:function(n,t,i,r,u){var f=[],h=[],c,s,e,o;for(typeof n=="string"&&n.indexOf("<br>")!=-1?f=n.split("<br>"):f.push(n),r=r<=0?i.width/i.labels.length:r,c=f.length,e=0;e<c;e++)for(s=this.rowscalculation(f[e].toString(),t,i,r,u),o=0;o<s.length;o++)h.push(s[o]);return h},_drawXAxisLabels:function(t,i){var yt=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),sf=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+t,cursor:"default"}),cu,ct=this.model.m_AreaBounds,ai=this.model.enableCanvasRendering,lu,tf=i.name.replace(/[^a-zA-Z0-9]/g,""),h=i._opposed,gt=i._valueType,dr=3,au=i.alignment.toLowerCase(),cr=i.labelIntersectAction,ni=i.labelPlacement.toLowerCase(),di,w,vi=!1,c=0,st=i.tickLinesPosition=="inside",gr=i._LableMaxWidth,pt=gr.height,ti=gr.rows==0?1:gr.rows,rf=this.svgRenderer.vmlNamespace,ii=i.axisLine.width,y=i.font,b=i.rotationValue,tt,ht,p,et=ct.Width,uf=ct.X,lr,l=i.labelIntersectAction.toLowerCase(),oi=n(this.svgObject).width(),nu,lt,ar,vr,vu,ri,yu,gi,si,tu,ff,yr,nr,u,e,ef=i.maximumLabelWidth,hi=i.visibleRange,ui=et,wt=i.majorTickLines.size,a=i.visibleLabels,gt=i.valueType&&i.valueType.toLowerCase(),bt=i.width,iu=i.isInversed,ru,tr=i.majorTickLines.width,uu,fu,yi,eu=!1,pr=this.model.scrollerSize,of,wr,ci,ir,pi,ou,fi,at=i.rotateOn.toLowerCase(),v=i.labelPosition=="inside",li=0,rt=[],ei=[],o=[],ut,su,s,it,pu,wu,wi,f,rr,ur,bu,d,r,ku,ft,vt,br,g,du,fr,er,or,ot,kt,dt,kr,bi,ki,sr,hr,k,nt,hu;for(su=i._isScroll&&!(i.scrollbarSettings.pointsLength!=null&&i.scrollbarSettings.pointsLength<i.maxPointLength),this.edgeLabel=!1,t==0||!(v&&st||v&&!st)||i.y==ct.Height+ct.Y||i.y==ct.Y?t==0||!v||!st||i.y==ct.Height+ct.Y||i.y==ct.Y?(i._y=Math.floor(i.y),i.y=i.showNextToAxisLine?Math.floor(i.y):h?Math.floor(ct.Y):Math.floor(ct.Height+ct.Y)):i.y=h?Math.floor(i.y-wt):Math.floor(i.y+wt):i.y=h?Math.floor(i.y-pt):Math.floor(i.y+pt),s=0;s<a.length;s++)if(u=a[s],e=u.displayText=ej.util.isNullOrUndefined(u.displayText)?u.Text:u.displayText,ej.EjSvgRender.utils._inside(u.Value,hi)){if(lt=bt/a.length,ej.isNullOrUndefined(gt)||s<a.length-1&&gt=="datetimecategory"&&l=="wrap"&&ni=="betweenticks"&&(ri=a[s+1],u.Value-=.5,yu=ri.Value-.5),it=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(u.Value,hi,iu)*bt)),ej.isNullOrUndefined(gt)||(s<a.length-1&&gt=="datetimecategory"&&l=="wrap"&&ni=="betweenticks"?(vu=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(yu,hi,iu)*bt)),ar=s==0?i.x+it+(tr-.5):i.x+it+(tr+.5),vr=i.x+vu+(tr+.5),lt=vr-ar):gt=="datetimecategory"&&l=="wrap"&&ni=="betweenticks"?(lt=bt+i.x-vr,ar=vr):gt=="datetimecategory"&&l=="wrap"&&ni=="onticks"&&(lt=bt/i.labels.length)),i._gap=ar,this.edgeLabel=!1,ut=typeof e=="string"&&e.indexOf("<br>")!=-1?ej.EjSvgRender.utils._getHighestLabel(i,oi,e):e,tt=ej.EjSvgRender.utils._measureText(ut,ui,i.font),f=tt.width,p=tt.height,c=0,vi=!1,l=="trim"||i.enableTrim){if(ni=="onticks")if(s!=a.length-1){for(pu=u,wu=a[s+1],o=[],ei=[],ri=a[s+1],typeof ri.Text=="string"&&ri.Text.indexOf("<br>")!=-1||typeof u.Text=="string"&&u.Text.indexOf("<br>")!=-1?(o=u.Text.split("<br>"),ei=ri.Text.split("<br>")):(ei.push(ri.Text),u.displayText?o.push(u.displayText):o.push(u.Text)),d=0;d<ei.length;d++)for(gi=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ri.Value,hi,iu)*bt)),si=ej.EjSvgRender.utils._measureText(ei[d],et,y).width,k=gi-si/2,c=0,tu=!0,wi=0;wi<o.length&&tu;wi++)for(f=ej.EjSvgRender.utils._measureText(o[wi],ui,i.font).width;k<it+f/2&&c<2;)for(c++,si>f?(ff=yr=ei[d],eu=!1):(yr=o[wi],eu=!0),ht=yr,rr={},rr.displayText=yr,g=1;g<ht.length;g++)if(ht=rr.displayText.substring(0,g)+"... ",nr=ej.EjSvgRender.utils._measureText(ht,et,y).width,eu){if(k=gi-si/2,k<it+nr/2){g-1!=0&&(ht=ht.toString().substring(0,g-1)+"... ");f=nr;e=rr.displayText=pu.displayText=ht;o[wi]=ht;break}}else if(k=gi-nr/2,k<it+f/2){g-1!=0&&(ht=ht.toString().substring(0,g-1)+"... ");si=nr;rr.displayText=wu.displayText=ht;ei[d]=ht;tu=!1;break}}else s==a.length-1&&(o=ei);else if(ni=="betweenticks")for(ur=i.enableTrim?ef:lt,o=[],typeof e=="string"&&e.indexOf("<br>")!=-1?o=e.split("<br>"):o.push(e),bu=o.length,d=0;d<bu;d++)if(u.displayText=o[d],tt=ej.EjSvgRender.utils._measureText(o[d],ui,i.font),f=tt.width,f>ur&&o[d]!=""){for(g=1;g<o[d].toString().length;g++)if(o[d]=u.displayText.toString().substring(0,g)+"... ",f=ej.EjSvgRender.utils._measureText(o[d],et,y).width,f>=ur){if(o[d]=o[d].toString().substring(0,g-1)+"... ",u.displayText=o[d],s==a.length-1&&it+i.x+f/2>oi&&ur==lt){ur-=f/2;g=1;continue}break}u.displayText=o[d]}(i._valueType!="double"||typeof u.displayText=="string")&&(ut=o.length>0?ej.EjSvgRender.utils._getHighestLabel(i,oi,o,null):ut,tt=ej.EjSvgRender.utils._measureText(ut,et,y))}else tt=typeof e=="string"&&e.indexOf("<br>")!=-1?ej.EjSvgRender.utils._measureText(ut,et,y):ej.EjSvgRender.utils._measureText(u.displayText,et,y);if(lr=tt.width/2,p=tt.height,f=tt.width,nu=i.majorGridLines.width>tr?i.majorGridLines.width:tr,!ej.util.isNullOrUndefined(u.Text)){if(di=au=="near"?it+i.x+nu+(gt=="category"&&ni!="onticks"?-(bt/i.actualRange.delta)/2+dr:-tt.width-dr):au=="far"?it+i.x+(gt=="category"&&ni!="onticks"?+(bt/i.actualRange.delta/2)-tt.width:+nu+dr):it+i.x-lr,v&&st||v&&!st&&l=="multiplerows"?w=h?i.y+wt+p/2+ii/2+pt/(2*ti)-5:i.y-wt-ii/2-pt/(2*ti)+5:v&&!st?w=h?i.y+p/2+ii/2+pt/(2*ti)-5:i.y-ii/2-pt/(2*ti)+5:(v||st)&&(v||!st||l!="multiplerows")?!v&&st&&(w=h?i.y+p/2-ii/2-pt/(2*ti)-5:i.y+ii/2+pt/(2*ti)+5,w=w+(su?h?-pr:pr:0)):(w=h?i.y-wt+p/2-ii/2-pt/(2*ti)-5:i.y+wt+ii/2+pt/(2*ti)+5,w=w+(su?h?-pr:pr:0)),v&&!st?(b==90||l=="rotate90")&&(w=h?w:w-wt):!v&&st?(i.labelRotation==90||l=="rotate90")&&(w=h?w-wt:w-wt):v&&st&&(i.labelRotation==90||l=="rotate90")&&(w=h?w:w-wt),r={id:this.svgObject.id+"_"+tf+"_XLabel_"+s,x:di,y:w,fill:y.color,"font-size":y.size,"font-family":y.fontFamily,"font-style":y.fontStyle,"font-weight":y.fontWeight,opacity:y.opacity},i.edgeLabelPlacement){uu=i.edgeLabelPlacement.toLowerCase();fu=a.length-1;switch(uu){case"shift":s==0?r.x<i.x&&(yi=i.x-r.x,r.x=di=r.x+yi,this.diff=yi,this.edgeLabel=!0):s==fu&&r.x+tt.width>i.x+i.width&&(yi=r.x+tt.width-(i.x+i.width),r.x=di=r.x-yi,this.diff=yi,this.edgeLabel=!0);break;case"hide":(s==0&&r.x<i.x||s==fu&&r.x+f>et+uf)&&(e="")}}if((l=="wrap"||l=="wrapbyword")&&(vt=this._getLabelCollection(e,ui,i,lt,r),ku=ej.EjSvgRender.utils._getHighestLabel(i,n(this.svgObject).width(),vt,null),f=ej.EjSvgRender.utils._measureText(ku,et,y).width),b==0||rf||(u.displayText=typeof u.displayText=="string"&&u.displayText.indexOf("<br>")!=-1?ej.EjSvgRender.utils._getHighestLabel(i,oi,u.displayText):u.displayText,this.labelRotation(i,di+lr,w,r,u,b)),i.labelIntersectAction||i.enableTrim)if(this.diff=ej.util.isNullOrUndefined(this.diff)?0:this.diff,l!="none"||i.enableTrim)if(l!="wrap"&&l!="wrapbyword"||i.enableTrim){if(l=="hide")for(fr=a.length-1,er=0;er<s;er++){if(ir=a[er],pi=0,ou=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ir.Value,hi,i.isInversed)*i.width)),fi=ej.EjSvgRender.utils._measureText(ir.displayText,ui,i.font).width,k=ou+(i.isInversed?-fi/2:fi/2),k=er==0?k+this.diff:k,or=fi==0?fi:f,(s!=fr||s==fr&&f<=fi)&&(or=or/2),uu=="shift"&&s==fr){var gu=a[s],gi=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(gu.Value,hi,i.isInversed)*i.width)),si=ej.EjSvgRender.utils._measureText(gu.displayText,ui,i.font).width,nf=gi+(i.isInversed?si/2:-si/2);(i.isInversed?k<=nf-this.diff:k>=nf-this.diff)&&(e=u.displayText="")}l=="hide"&&(i.isInversed?k<it+or:k>it-or)&&(u.displayText=e="")}else if(l=="multiplerows"&&!i.enableTrim){if(ot=[],kt=u,typeof kt.Text=="string"&&kt.Text.indexOf("<br>")!=-1?ot=kt.Text.split("<br>"):ot.push(kt.Text),dt=ot.length,e==""&&i.edgeLabelPlacement=="hide")for(kr=0;kr<dt;kr++)ot[kr]="";var hu=ej.EjSvgRender.utils._getHighestLabel(i,oi,ot),f=ej.EjSvgRender.utils._measureText(hu,et,y).width,fr=i.visibleLabels.length-1;if(f=f/2,rt.length>0)for(bi=rt,ki=0;ki<bi.length&&!vi;ki++)for(sr=bi[ki],hr=0;sr&&hr<sr.length;hr++)for(nt=0;nt<dt;nt++){var pi=0,f=ej.EjSvgRender.utils._measureText(ot[nt],et,y).width,ir=sr[hr],ou=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(ir.Value,hi,i.isInversed)*i.width)),fi=ej.EjSvgRender.utils._measureText(ir.Text,ui,i.font).width;if(s!=fr&&(f=f/2),k=ou+(i.isInversed?-fi/2:fi/2),(this.edgeLabel||bi.length==1)&&(k=k+this.diff),i.isInversed?k<it+f:k>it-f)if(h){pi=v?r.y+p:r.y-p;r.y=pi;c=c+1;c<li&&(c=c+li,li=0);ki+1==bi.length&&(vi=!0);break}else{pi=v?r.y-p:r.y+p;r.y=pi;c=c+1;c<li&&(c=c+li,li=0);ki+1==bi.length&&(vi=!0);break}else if(hr+1==sr.length){nt==dt-1?vi=!0:(li++,vi=!1);break}}if(pi==undefined)if(rt[0]==undefined&&(rt[0]=[]),dt==1)rt[0].push(kt);else for(nt=0;nt<dt;nt++)rt[nt]==undefined&&(rt[nt]=[]),rt[nt].push({Text:ot[nt],Value:kt.Value});else if(rt[c]==undefined&&(rt[c]=[]),dt==1)rt[c].push(kt);else for(nt=0;nt<dt;nt++)rt[c]==undefined&&(rt[c]=[]),rt[c].push({Text:ot[nt],Value:kt.Value}),nt!=dt-1&&(c=c+1);r.y=v?h?r.y:r.y-p*(ot.length-1):h?r.y-p*(ot.length-1):r.y;b!=0&&b!=-360&&b!=360&&(hu=ej.EjSvgRender.utils._getHighestLabel(i,oi,ot),f=ej.EjSvgRender.utils._measureText(hu,et,y).width,r["text-anchor"]=at,r.x=r.x+f/2);this.svgRenderer.drawText(r,ot,yt)}}else{for(of=0,ft=[],vt=[],typeof e=="string"&&e.indexOf("<br>")!=-1?ft=e.split("<br>"):ft.push(e),ci="",lt=lt<=0?bt/a.length:lt,br=0;br<ft.length;br++)for(wr=this.rowscalculation(ft[br].toString(),ui,i,lt,r),g=0;g<wr.length;g++)vt.push(wr[g]),ci=ci+wr[g];r.x=r.x+lr;ci.indexOf("...")!=-1||(ci=e);var ut=ej.EjSvgRender.utils._getHighestLabel(i,oi,vt,null),tt=ej.EjSvgRender.utils._measureText(ut,et,y),f=tt.width;r.x=r.x-f/2;r.y=v?h?r.y:r.y-p*(vt.length-1):h?r.y-p*(vt.length-1):r.y;b!=0&&b!=-360&&b!=360&&(r["text-anchor"]=at,r.x=r.x+f/2);this.svgRenderer.drawText(r,vt,ai?ut:yt);lu=ej.EjSvgRender.utils._measureText(vt[0],null,y);du=vt.length;ru=lu.height*vt.length;cu={x:r.x,y:r.y,width:f,height:ru-ru/du};a[s].region={bounds:cu,labelText:u.Text,displayText:ci};a[s].displayText=ci;this.model.xAxisLabelRegions.push(a[s].region);continue}else{typeof e=="string"&&e.indexOf("<br>")!=-1?(ft=e.split("<br>"),r.y=v?h?r.y:r.y-p*(ft.length-1):h?r.y-p*(ft.length-1):r.y,b!=0&&(r.x=r.x+f/2,r["text-anchor"]=at),this.svgRenderer.drawText(r,ft,ai?ut:yt)):((at=="start"||at=="end")&&b!=0&&b!=-360&&b!=360&&(r.x=r.x+f/2,r["text-anchor"]=at),this.svgRenderer.drawText(r,e,ai?ut:yt));a[s].region=this.calculateRegion(e,y,r,u);this.model.xAxisLabelRegions.push(a[s].region);v?n(yt).appendTo(this.gXaxisTickEle):n(yt).appendTo(this.gXaxisEle);continue}this.edgeLabel||this.zoomed||i.zoomed||b||cr=="rotate90"||cr=="rotate45"||!(it+i.x+f/2>n(this.svgObject).width())||(n(r).attr("x",n(this.svgObject).width()-2),n(r).attr("text-anchor","end"));i.visibleLabels[s].y=r.y;this.model.enableCanvasRendering&&v&&(i.labelIntersectAction=="rotate45"||i.labelIntersectAction=="rotate90")&&(r.y=r.y-f);(l=="trim"||i.enableTrim)&&(i._valueType!="double"||typeof u.displayText=="string")?(r.y=v?h?r.y:r.y-p*(o.length-1):h?r.y-p*(o.length-1):r.y,u.displayText=o.length>0?o.join(""):e,u.displayText.indexOf("...")!=-1||(u.displayText=e),b!=0&&at!="middle"&&(r.x=r.x+f/2,r["text-anchor"]=at),this.svgRenderer.drawText(r,o.length>0?o:e,ai?ut:yt)):l!="multiplerows"&&(typeof e=="string"&&e.indexOf("<br>")!=-1?(ft=e.split("<br>"),r.y=v?h?r.y:r.y-p*(ft.length-1):h?r.y-p*(ft.length-1):r.y,(b!=0||cr=="rotate45"||cr=="rotate90")&&(r.x=r.x+f/2,r["text-anchor"]=at),this.svgRenderer.drawText(r,ft,ai?ut:yt)):(at=="start"&&b!=0&&b!=-360&&b!=360&&(r.x=r.x+f/2,r["text-anchor"]=at),this.svgRenderer.drawText(r,e,ai?ut:yt)));s!=a.length-1&&(l=="trim"||i.enableTrim)&&(r.x=r.x-f/2);i.visibleLabels[s].region=this.calculateRegion(e,y,r,u,o?o:ft,ut,l);this.model.xAxisLabelRegions.push(i.visibleLabels[s].region)}}n(yt).appendTo(this.gXaxisEle)},calculateRegion:function(n,t,i,r,u,f,e){var o;e=="trim"&&u.length>0?(o=u.join(""),o.indexOf("...")!=-1||(o=r.Text)):o=f?f:n;var s=u?u.length>0?u.length:1:1,h=s>1&&f?ej.EjSvgRender.utils._measureText(f,null,t):ej.EjSvgRender.utils._measureText(o,null,t),c=h.height*s,l={x:i.x,y:i.y,width:h.width,height:c};return{bounds:l,trimText:o,labelText:r.Text}},rowscalculation:function(n,t,i,r,u){var h=ej.EjSvgRender.utils._measureText,s=i.font,nt=h(n,t,s),c=nt.width,rt=c/2,e=n.toString(),tt=e.length,a=[],f=0,w,d,it=i.labelIntersectAction,v=e.split(" "),g=v.length,l,b,y,o,p,k;if(this.edgeLabel&&(r=f==0?r-this.diff:r),c>r&&u&&(w=0,this.edgeLabel&&(u.x=f==0?u.x-this.diff:u.x+this.diff)),it=="wrap"){if(c>r)for(l=1;l<=e.length;l++)n=e.substring(0,l),c=h(n,t,s).width,c>r&&(w=w+1,n=e.substring(0,l-1),a[f]=n,e=e.slice(l-1,tt),d=e.split(" "),e=v.indexOf(d[0])>-1?e:"-"+e,b=h(n,t,s).width,f++,l=0);u&&(u.x=i.valueType=="datetimeCategory"&&i.labelPlacement.toLowerCase()=="betweenticks"?i._gap:u.x);a[f]=n}else for(y=0,f=0;f<g;f++)if(o=v[f],p=h(o,t,s).width,p<r&&c>r){while(f<g)if(p=h(o,t,s).width,k=v[f+1]?h(v[f+1],t,s).width:0,p+k<=r&&k>0)o=o.concat(" "+v[f+1]),f++;else{y=Math.max(y,p);break}a.push(o)}else if(c>r)o=ej.EjSvgRender.utils._trimText(o,r,s),b=h(o,t,s).width,y=Math.max(y,b),a.push(o);else{a.push(n);break}return a},labelRotation:function(t,i,r,u,f,e,o){var y=t._opposed,p=t.rotateOn.toLowerCase(),w=t.labelIntersectAction.toLowerCase(),c=0,l=f.displayText?f.displayText:f.Text,s=e>360?e-360:e<-360?e+360:e,v="rotate("+s+","+i+","+r+")",h;if(n(u).attr("transform",v),n(u).attr("labelRotation",s),n(u).attr("labelPosition",t.labelPosition),w=="wrap"||w=="wrapbyword")var d=t.width/t.labels.length,g=this._getLabelCollection(l,this.model.m_AreaBounds.width,t,d,u),l=ej.EjSvgRender.utils._getHighestLabel(t,n(this.svgObject).width(),g,null);var b=this.svgRenderer.createText(u,l),a=Math.round(ej.EjSvgRender.utils._measureBounds(b,this).height),k=ej.EjSvgRender.utils._measureText(l,null,t.font).height;c=Math.ceil(ej.EjSvgRender.utils._measureBounds(b,this).height-ej.EjSvgRender.utils._measureText(l,null,t.font).height);c=t._LableMaxWidth.height-c-ej.EjSvgRender.utils._measureText(l,null,t.font).height;h=t.labelPosition!="inside"?y?c/2:-c/2:y?-c/2:c/2;p=="end"&&(h=h+(s<0&&s>-180||s>180?-(a/2):(a-k)/2));p=="start"&&(h=h+(s<0&&s>-180||s>180?a/2:-((a-k)/2)));v="rotate("+s+","+i+","+(r+(this.model.enableCanvasRendering&&t.opposedPosition?-h:h))+")";this.edgeLabel&&e==90&&(r=o==0?u.y+this.diff:u.y-this.diff);n(u).attr({transform:v,y:r+(this.model.enableCanvasRendering&&t.opposedPosition?-h:h)})},_drawYAxisLabels:function(t,i){var wi=i.name.replace(/[^a-zA-Z0-9]/g,""),gt=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+t,cursor:"default"}),k,fi,et,yt,e=i._opposed,a=i.labelPosition=="inside",nt=i.tickLinesPosition=="inside",tt,pt,s=this.model.m_AreaBounds,di=this.model.requireInvertedAxes,bi=this.model.enableCanvasRendering,ei=i._isScroll&&!(i.scrollbarSettings.pointsLength!=null&&i.scrollbarSettings.pointsLength<i.maxPointLength),wt,oi,si,ni,v,ti,h=i.font,hi=i.visibleRange,d=i.axisLine.width,g=i._LableMaxWidth,gi=g.height,nr=g.rows,s=this.model.m_AreaBounds,ii=s.Width,ci=i.maximumLabelWidth,o,ot,it,bt,kt,li,u,dt=this.model.scrollerSize,y,ri=i.labelIntersectAction.toLowerCase(),f,rt=i.visibleLabels,ai=hi,st=i.isInversed,w=i.height,ut,ki,vi,ht,p,b=i.labelRotation,ui,yi=i.alignment.toLowerCase(),pi=3,ft,c,l,ct,lt,r,at,vt;for(t==1||(!a||!nt)&&(!a||nt||i.x==s.Width+s.X||i.x==s.X)?t==1||i.x==s.Width+s.X&&i.x!=s.X||a||!nt?(i._x=Math.floor(i.x),i.x=i.showNextToAxisLine?Math.floor(i.x):e?Math.floor(s.X+s.Width):Math.floor(s.X)):(i._x=Math.floor(i.x),i.x=e?Math.floor(i.x+i.majorTickLines.size):i.showNextToAxisLine?Math.floor(i.x-i.majorTickLines.size):Math.floor(s.X)):i.x=e?a&&nt?Math.floor(i.x):Math.floor(i.x+g.width+this.model.elementSpacing):i.showNextToAxisLine?Math.floor(i.x):Math.floor(i.x-g.width-this.model.elementSpacing),c=0;c<rt.length;c++)if(f=rt[c],ej.EjSvgRender.utils._inside(f.Value,ai)){if(wt=Math.abs(ej.EjSvgRender.utils._getPointXY(f.Value,ai,st)*w),oi=ej.EjSvgRender.utils._measureText(f.Text,s.Height,h),v=oi.height,r=f.displayText=f.Text,li=ej.EjSvgRender.utils._measureText(r,ii,h),y=li.width,a&&nt?(o=e?i.x-i.majorTickLines.size-d/2-5:i.x+d/2+5+i.majorTickLines.size,ot=e?"end":"start"):a&&!nt?(o=e?i.x-d/2-5:i.x+d/2+5,ot=e?"end":"start"):nt&&!a?(o=e?d/2+i.x+5:i.x-d/2-5,ot=e?"start":"end",o=o-(ei?e?-dt:dt:0)):(o=e?i.majorTickLines.size+d/2+i.x+5:i.x-d/2-5-i.majorTickLines.size,ot=e?"start":"end",o=o-(ei?e?-dt:dt:0)),ui=i.majorGridLines.width>i.majorTickLines.width?i.majorGridLines.width:i.majorTickLines.width,ft=yi=="far"?-wt+(i.y+w)-ui-pi:yi=="near"?-wt+(i.y+w)+v/2+ui+pi:-wt+(i.y+w)+v/4,u={id:this.svgObject.id+"_"+wi+"_YLabel_"+c,x:o,y:ft,fill:h.color,"font-size":h.size,"font-family":h.fontFamily,"font-style":h.fontStyle,"font-weight":h.fontWeight,opacity:h.opacity,"text-anchor":!ej.util.isNullOrUndefined(b)&&b!=0?"middle":ot},r=f.displayText?f.displayText:f.Text,l=[],typeof r=="string"&&r.indexOf("<br>")!=-1?(l=r.split("<br>"),ct=r=ej.EjSvgRender.utils._getHighestLabel(i,s.Height,l),y=ej.EjSvgRender.utils._measureText(r,ii,h).width):l.push(r),i.edgeLabelPlacement){si=i.edgeLabelPlacement.toLowerCase();ni=rt.length-1;switch(si){case"shift":c==0?u.y>i.y+w&&(it=u.y-(i.y+w),u.y=ft=u.y-it,this.diff=it,this.edgeLabel=!0):c==ni&&u.y-v/2<i.y&&(it=i.y-(u.y-v/2),u.y=ft=u.y+it,this.diff=it,this.edgeLabel=!0);break;case"hide":(c==0&&u.y>i.y+w||c==ni&&u.y-v/2<s.Y)&&(r=f.Text="",l.length==1&&(l[0]=r))}}if(ej.util.isNullOrUndefined(b)||b==0||this.svgRenderer.vmlNamespace||(o=a?e?o-y/2:o+y/2:e?o+y/2:o-y/2,r=f.displayText?f.displayText:f.Text,r=ct?ct:r,bt=b>360?b-360:b<-360?b+360:b,kt="rotate("+bt+","+o+","+ft+")",n(u).attr("transform",kt),n(u).attr("labelRotation",bt),fi=this.svgRenderer.createText(u,r),et=Math.ceil(ej.EjSvgRender.utils._measureBounds(fi,this).width-ej.EjSvgRender.utils._measureText(r,null,h).width),ti=a?e?-et/2:et/2:e?et/2:-et/2,kt="rotate("+bt+","+(o+ti)+","+ft+")",n(u).attr({transform:kt,x:o+ti})),i.labelIntersectAction||i.enableTrim){if(ri!="none"||i.enableTrim){if(i.enableTrim)for(lt=0;lt<l.length;lt++)if(r=l[lt],y=ej.EjSvgRender.utils._measureText(r,null,h).width,y>ci&&r!=""){for(at=1;at<r.toString().length;at++)if(r=f.displayText.toString().substring(0,at-1)+"...",y=ej.EjSvgRender.utils._measureText(r,ii,h).width,y>=ci){r=r.toString().substring(0,at-1)+"...";break}f.displayText=l[lt]=r}}else{this.svgRenderer.drawText(u,l.length>0?l:f.Text,bi&&ct?ct:gt);k=ej.EjSvgRender.utils._measureText(r,null,h);pt=i.opposedPosition?u.x:u.x-k.width;tt={x:pt,y:u.y,width:k.width,height:k.height};yt={bounds:tt,trimText:r,labelText:f.Text};i.visibleLabels[c].region={bounds:tt,trimText:r,labelText:f.Text};this.model.yAxisLabelRegions.push(yt);continue}for(vt=0;vt<c;vt++)ut=rt[vt],ki=0,vi=Math.abs(ej.EjSvgRender.utils._getPointXY(ut.Value,hi,st)*w),ht=ej.EjSvgRender.utils._measureText(ut.Text,s.Height,h).height,p=vi*-1+(i.y+w)+ht/4,p=p+(st?ht/2:-ht/2),this.edgeLabel&&(p=vt==0?p-ht/4:p),ri=="hide"&&ut.Text.toString()!=""&&(st?p>u.y-v/4:p<u.y+v/4)?r=f.Text="":ri=="multiplerows"&&(st?p>u.y-v/4:p<u.y+v/4)&&ut.x==u.x&&(u.x=ut.x+e?a?-g.maxWidth-5:g.maxWidth+5:a?g.maxWidth+5:-g.maxWidth-5)}rt[c].x=u.x;this.svgRenderer.drawText(u,l.length>0?l:r,gt);k=ej.EjSvgRender.utils._measureText(r,null,h);pt=e?u.x:u.x-k.width;tt={x:pt,y:u.y,width:k.width,height:k.height};yt={bounds:tt,trimText:r,labelText:f.Text};rt[c].region={bounds:tt,trimText:r,labelText:f.Text};this.model.yAxisLabelRegions.push(yt)}n(gt).appendTo(this.gYaxisEle)},trimText:function(n,t,i){return t--,n=n.substring(0,t-i.length),n+i},_drawXTitle:function(t,i){var et,f,w,o,st,ht;if(i.title.text!=""&&i.title.text&&i.title.visible){var g=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis_Title_"+t,cursor:"default"}),pt=this.model.elementSpacing+i._LableMaxWidth.height,u=ej.EjSvgRender.utils._measureText(i.title.text,i.width,i.title.font),e=u.height/2,it=i._opposed,l=i.title.text,b=i._LableMaxWidth,p="middle",r=this.model.elementSpacing,rt=i.title.enableTrim,a=i._isScroll||this.model.zooming.enableScrollbar&&i.scrollbarSettings.visible&&(i.zoomFactor<1||i.zoomPosition>0),v=i.title.maximumTitleWidth,k=i.title.position.toLowerCase(),ft=i.title.alignment.toLowerCase(),w,nt=i.title.isReversed,s=i.tickLinesPosition.toLowerCase(),h=i.labelPosition.toLowerCase(),c=this.model.m_AreaBounds,d=i.title.offset,tt,ut,y=this.model.scrollerSize;if(rt&&(ej.util.isNullOrUndefined(v)||v>0||isNaN(v)))for(et=v?v:i.width-r*2;u.width>et;)if(l=this.trimText(l,l.length,"..."),u=ej.EjSvgRender.utils._measureText(l,i.width,i.title.font),l=="..."){l="";break}if(f=n.extend({},ej.EjSvgRender.commonChartEventArgs),w=r+b.height+e+i._multiLevelLabelHeight+i.majorTickLines.size+i.axisLine.width,s=="inside"&&h=="inside"&&(t==0||i.y==c.Height+c.Y||i.y==c.Y)?w=k=="inside"?r+b.height+e+i._multiLevelLabelHeight+i.majorTickLines.size+i.axisLine.width:r+e+i.axisLine.width:(t==0||i.y==c.Width+c.X||i.y==c.X)&&s!="inside"&&h=="inside"?w=k=="inside"?r+b.height+e+i._multiLevelLabelHeight+i.axisLine.width:r+i.majorTickLines.size+i.axisLine.width:(t==0||i.y==c.Width+c.X||i.y==c.X)&&s=="inside"&&h!="inside"?w=k=="inside"?r+e+i.majorTickLines.size+i.axisLine.width:r+b.height+e+i._multiLevelLabelHeight+i.axisLine.width:s!="inside"&&h!="inside"||t!=1?w=k=="inside"?r:r+b.height+e+i.majorTickLines.size+i.axisLine.width+i._multiLevelLabelHeight:s=="inside"||h!="inside"||i.showNextToAxisLine||(w=k=="inside"?r+b.height+e+i._multiLevelLabelHeight+i.axisLine.width:r+e+i.majorTickLines.size+i.axisLine.width+r+r),ft=="far"?(tt=nt?i.x+d:i.x+i.width+d,p=nt?"start":"end"):ft=="near"?(tt=nt?i.x+i.width+d:i.x+d,p=nt?"end":"start"):tt=i.x+i.width/2+d,f.data={title:i.title.text,location:{x:tt,y:w},axes:i},this._trigger("axesTitleRendering",f),ut=k=="inside"?(it?s=="inside"&&h=="outside"?i.y+f.data.location.y-(a?y:0)-i.majorTickLines.size:i.y+f.data.location.y-(a?y:0):s=="outside"&&h=="inside"?(a?y:0)+(i.y-f.data.location.y)+i.majorTickLines.size:(a?y:0)+(i.y-f.data.location.y))+u.height/3.5:(it?s=="inside"&&h=="outside"?i.y-f.data.location.y-(a?y:0)-i.majorTickLines.size:i.y-f.data.location.y-(a?y:0):s=="outside"&&h=="inside"?(a?y:0)+(f.data.location.y+i.y)-i.majorTickLines.size:(a?y:0)+(f.data.location.y+i.y))+u.height/3.5,o={id:this.svgObject.id+"_XAxisTitle_"+t,x:f.data.location.x,y:ut,fill:i.title.font.color,"font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":p},this.model.enableCanvasRendering){var ct=jQuery.uaMatch(navigator.userAgent),lt=!!navigator.userAgent.match(/Trident\/7\./),ot=ct.browser.toLowerCase();ot=="msie"||lt||(o.y=it?o.y+e/2+1:o.y+e/2+(ot=="mozilla"?1:-2))}if(n(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).length>0)n(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+t).attr(o);else if(rt){if(rt&&(ej.util.isNullOrUndefined(v)||v>0||isNaN(v))){var at=p=="middle"?o.x-u.width/2:p=="end"?o.x-u.width:o.x,vt={X:at,Y:o.y,Width:u.width,Height:u.height},yt={Bounds:vt,trimText:l,labelText:i.title.text};this.model.xAxisTitleRegion.push(yt);this.svgRenderer.drawText(o,l,g)}}else this.svgRenderer.drawText(o,f.data.title,g);this.model.enableCanvasRendering||(st=p=="start"?0:p=="end"?u.width:u.width/2,ht={id:this.svgObject.id+"_XAxisTitleBorder_"+t,x:f.data.location.x-st-r,y:ut-u.height+u.height/4,width:u.width+2*r,height:u.height,fill:"transparent","class":"e-xaxistitleborder"},this.svgRenderer.drawRect(ht,g));n(g).appendTo(this.gXaxisEle)}},_drawYTitle:function(t,i){var u,et,w,ut,o,st,ht,ct,lt;if(i.title.text!=""&&i.title.text&&i.title.visible){var e=i._opposed,r=this.model.elementSpacing,p="middle",ft=this.model.series.isTransposed,h=i.majorTickLines.size,b=i.title.position.toLowerCase(),c=i._LableMaxWidth,l=this.model.m_AreaBounds,s,f=i.axisLine,g=i.tickLinesPosition.toLowerCase(),k=i.labelPosition.toLowerCase(),a=i.title.text,nt=i.title.enableTrim,pt=this.model.requireInvertedAxes,y,at=i._isScroll,v=i.title.maximumTitleWidth,tt=i.title.offset,it=i.title.alignment.toLowerCase(),d=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTitleGroup_"+t,cursor:"default"}),rt=ej.EjSvgRender.utils._measureText(i.title.text,i.height,i.title.font);if(g=="inside"&&k=="inside"&&(t==1||i.x==l.Width+l.X||i.x==l.X)?s=b=="inside"?e?i.x-(3*r+c.width+i._multiLevelLabelHeight+h+f.width):i.x+(3*r+c.width+i._multiLevelLabelHeight+h+f.width):e?i.x+(3*r+f.width-5):i.x-(3*r+f.width):(t==1||i.x==l.Width+l.X||i.x==l.X)&&g!="inside"&&k=="inside"?s=b=="inside"?e?i.x-(3*r+c.width+i._multiLevelLabelHeight+f.width):i.x+(3*r+c.width+i._multiLevelLabelHeight+f.width):e?i.x+(3*r+h+f.width):i.x-(3*r+h+f.width):(t==1||i.x==l.Width+l.X||i.x==l.X)&&g=="inside"&&k!="inside"?s=b=="inside"?e?i.x-(3*r+h+f.width):i.x+(3*r+h+f.width)+(i.showNextToAxisLine?k=="inside"?-i._multiLevelLabelHeight:i._multiLevelLabelHeight:-r):e?i.x+(3*r+i._multiLevelLabelHeight+c.width+f.width):i.x-(3*r+c.width+f.width+i._multiLevelLabelHeight):(i.tickLinesPosition!="inside"&&i.labelPosition!="inside"||t!=1)&&(s=b=="inside"?e?i.x-(r+f.width+h):i.x+(r+(i.showNextToAxisLine?0:c.width)+f.width+h):e?i.x+(3*r+i._multiLevelLabelHeight+c.width+h+f.width):i.x-(3*r+c.width+i._multiLevelLabelHeight+h+f.width)),u=ej.EjSvgRender.utils._measureText(a,i.height,i.title.font),nt&&(ej.util.isNullOrUndefined(v)||v>0||isNaN(v)))for(et=v?v:i.height-r*2;u.width>et;)if(a=this.trimText(a,a.length,"..."),u=ej.EjSvgRender.utils._measureText(a,i.height,i.title.font),a=="..."){a="";break}if(s=i.opposedPosition?s:s-(at?this.model.scrollerSize:0),document.documentMode===8&&(s=e?s+u.width/2-r:s-u.width/2+r),w=n.extend({},ej.EjSvgRender.commonChartEventArgs),w.data={title:i.title.text,location:{x:rt.width/2,y:0},axes:i},this._trigger("axesTitleRendering",w),y=w.data.location.y+(i.y+i.height)+i.height/-2,it=="near"?(y=i.y+i.height-tt,p=e||ft?"end":"start"):it=="far"?(y=i.y-tt,p=e||ft?"start":"end"):it=="center"&&(y=i.y+i.height/2-tt),ut=e?90:-90,o={id:this.svgObject.id+"_YAxisTitle_"+t,x:s,y:y,fill:i.title.font.color,labelRotation:ut,transform:"rotate("+ut+","+s+","+y+")","font-size":i.title.font.size,"font-family":i.title.font.fontFamily,"font-style":i.title.font.fontStyle,"font-weight":i.title.font.fontWeight,opacity:i.title.font.opacity,"text-anchor":p,"dominant-baseline":"middle"},this.model.enableCanvasRendering){var vt=jQuery.uaMatch(navigator.userAgent),yt=!!navigator.userAgent.match(/Trident\/7\./),ot=vt.browser.toLowerCase();ot=="msie"||yt||(o.x=e?o.x-rt.height/4+1:o.x+rt.height/4+(ot=="mozilla"?1:-2))}n(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).length>0?n(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+t).attr(o):nt?nt&&(ej.util.isNullOrUndefined(v)||v>0||isNaN(v))&&(st=this.svgRenderer.vmlNamespace?{X:o.x-u.width/2,Y:o.y+u.height/2,Width:u.width,Height:u.height}:{X:o.x-u.height/2,Y:o.y+u.width/2,Width:u.height/2,Height:u.width},ht={Bounds:st,trimText:a,labelText:i.title.text},this.model.yAxisTitleRegion.push(ht),this.svgRenderer.drawText(o,a,d)):this.svgRenderer.drawText(o,w.data.title,d);this.model.enableCanvasRendering||(ct=p=="start"?u.width:p=="end"?0:u.width/2,lt={id:this.svgObject.id+"_YAxisTitleBorder_"+t,x:o.x-u.height+u.height/2,y:o.y-ct-r,width:u.height,height:u.width+2*r,fill:"transparent","class":"e-yaxistitleborder"},this.svgRenderer.drawRect(lt,d));n(d).appendTo(this.gYaxisEle)}}};ej.EjStripline.prototype={_drawStripline:function(n,t,i,r){var p=ej.util.isNullOrUndefined(n.valueType)?n._valueType.toLowerCase():n.valueType.toLowerCase(),f,e,w,s,h,c,k,l,y;typeof t.start=="string"&&typeof t.end=="string"&&(t.start=t.start.indexOf("/Date(")!=-1?new Date(parseInt(t.start.substr(6))):t.start,t.end=t.end.indexOf("/Date(")!=-1?new Date(parseInt(t.end.substr(6))):t.end);p=="datetimecategory"?(f=t.start!=null&&typeof t.start!="number"?n.labels.indexOf(t.start.getTime()):t.start,e=t.end!=null&&typeof t.end!="number"?n.labels.indexOf(t.end.getTime()):t.end):(f=t.start<n.visibleRange.min?n.visibleRange.min:t.start,e=t.end>n.visibleRange.max?n.visibleRange.max:t.end);var l=0,b=t.isRepeat,a=t.repeatEvery,v=t.repeatUntil,o=t.width,u;if(t.visible)if(this.model._stripeline=!0,w=t.startFromAxis,s=t.zIndex=="over"?this.gStriplineOver:this.gStriplineBehind,s=ej.util.isNullOrUndefined(s)?"":s,h=!0,c=0,n.orientation.toLowerCase()=="horizontal")if(k=0,l=-90,ej.util.isNullOrUndefined(f)&&(ej.util.isNullOrUndefined(e)||ej.util.isNullOrUndefined(o)))h=!1;else if(f=w?ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset:jQuery.type(f)=="date"?f.getTime():f,ej.util.isNullOrUndefined(e)||jQuery.type(e)!="date"||(e=e.getTime()),b&&!ej.util.isNullOrUndefined(a)&&o)for(y=ej.util.isNullOrUndefined(v)?e?e:n.visibleRange.max:n._valueType=="datetime"?v.getTime():v;f<y;)e=n._valueType==="datetime"?this._getDatetimeValue(e,f,o,n,o?null:e,t,p):f+o,u=this._getHorizontalValue(f,e,n,o,t),h&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,l,i,c,r,s,t,n),c++,f=n._valueType==="datetime"?this._getDatetimeValue(e,f,a,n,null,t,p):f+a;else u=this._getHorizontalValue(f,e,n,o,t),h&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,l,i,c,r,s,t,n);else if(ej.util.isNullOrUndefined(f)&&(ej.util.isNullOrUndefined(e)||ej.util.isNullOrUndefined(o)))h=!1;else if(f=w?ej.util.isNullOrUndefined(t.offset)?n.visibleRange.min:n.visibleRange.min+t.offset:jQuery.type(f)=="date"?f.getTime():f,ej.util.isNullOrUndefined(e)||jQuery.type(e)!="date"||(e=e.getTime()),b&&!ej.util.isNullOrUndefined(a)&&o)for(y=ej.util.isNullOrUndefined(v)?e?e:n.visibleRange.max:v;f<y;)e=f+o,u=this._getVerticalValue(f,e,n,o,t),h&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,l,i,c,r,s,t,n),c++,f=f+a;else u=this._getVerticalValue(f,e,n,o,t),h&&this._drawAxisStriplines(u.x,u.y,u.height,u.width,u.textX,u.textY,l,i,c,r,s,t,n)},_getHorizontalValue:function(n,t,i,r,u,f){var o=(f?(n-i.visibleRange.min)/i.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(n,i.visibleRange,i.isInversed))*i.width+i.x,s=ej.EjSvgRender.utils._getPointXY(t,i.visibleRange,i.isInversed)*i.width+i.x,e=ej.EjSvgRender.utils._getPointXY(n,i.visibleRange,i.isInversed)*i.width+i.x,h;return e=e+(ej.util.isNullOrUndefined(r)?0:r),h=(i.isInversed?s<e:s>e)?Math.abs(o-s):Math.abs(o-e),this._calculateHorizontalStripline(h,o,i,u)},_getVerticalValue:function(n,t,i,r,u,f){var e=i.y+i.height-(f?(n-i.visibleRange.min)/i.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(n,i.visibleRange,i.isInversed))*i.height,o=i.y+i.height-ej.EjSvgRender.utils._getPointXY(ej.util.isNullOrUndefined(t)?0:t,i.visibleRange,i.isInversed)*i.height,s=i.y+i.height-ej.EjSvgRender.utils._getPointXY(n+(ej.util.isNullOrUndefined(r)?0:r),i.visibleRange,i.isInversed)*i.height,h=(i.isInversed?o>s:o<s)?Math.abs(e-o):Math.abs(e-s);return this._calculateVerticalStripline(h,e,i,u)},_calculateHorizontalStripline:function(n,t,i,r){var o=n,u=this.chart.model.m_AreaBounds.Height,f=i.isInversed?t-n:t,e=this.chart.model.m_AreaBounds.Y,s=ej.EjSvgRender.utils._measureText(r.text,null,r.font).height;return r.textAlignment=="middletop"?(textX=f+s,textY=Math.abs(e+u/2)):r.textAlignment=="middlecenter"?(textX=Math.floor(f+o/2)+s/3,textY=Math.abs(e+u/2)):r.textAlignment=="middlebottom"&&(textX=f+o-s,textY=Math.abs(e+u/2)),{x:f,y:e,height:u,width:o,textX:textX,textY:textY}},_calculateVerticalStripline:function(n,t,i,r){var h=n,f=this.chart.model.m_AreaBounds.X,u=this.chart.model.m_AreaBounds.Width,e=t+(i.isInversed?0:-n),c=ej.EjSvgRender.utils._measureText(r.text,u,r.font).height,o,s;return r.textAlignment=="middletop"?(o=f+u/2,s=e+c):r.textAlignment=="middlecenter"?(o=f+u/2,s=Math.abs(e+h/2)+c/3):r.textAlignment=="middlebottom"&&(o=f+u/2,s=e+h-c),{x:f,y:e,height:h,width:u,textX:o,textY:s}},_getDatetimeValue:function(n,t,i,r,u,f,e){var h=f.sizeType.toLowerCase(),s=u===null,o;if(e==="datetime"){o=new Date(t);h==="auto"&&(h=r._intervalType.toLowerCase());switch(h){case"years":return s?new Date(o.setFullYear(o.getFullYear()+i)):n;case"months":return s?new Date(o.setMonth(o.getMonth()+i)):n;case"days":return s?new Date(o.setDate(o.getDate()+i)):n;case"hours":return s?new Date(o.setHours(o.getHours()+i)):n;case"minutes":return s?new Date(o.setMinutes(o.getMinutes()+i)):n;case"seconds":return s?new Date(o.setSeconds(o.getSeconds()+i)):n;default:return t}}else return f.sizeType==="pixel"?t:s?t+i:n},_drawAxisStriplines:function(n,t,i,r,u,f,e,o,s,h,c,l,a){var p,v,y;if(ej.util.isNullOrUndefined(l.imageUrl)){var w={id:c.id+"_striplineRect_"+o+"_"+h+"_"+s,x:n,y:t,width:r,height:i,fill:l.color,opacity:l.opacity,"stroke-width":l.borderWidth,stroke:l.borderWidth==0?"transparent":l.borderColor},b={id:c.id+"_striplineRectText_"+o+"_"+h+"_"+s,x:u,y:f,fill:l.font.color,transform:"rotate("+e+","+u+","+f+")",labelRotation:e,"font-size":l.font.size,"font-family":l.font.fontFamily,"font-style":l.font.fontStyle,"font-weight":l.font.fontWeight,opacity:l.font.opacity,"text-anchor":"middle"},k={X:n,Y:t,Width:r,Height:i},d=l.zIndex=="over"?!0:!1;ej.EjSvgRender.utils.AddRegion(this.chart,k,d);this.chart.model.enableCanvasRendering?(v=this.chart.svgObject.getContext("2d"),y=a.orientation.toLowerCase()=="horizontal"?{X:a.x,Y:t,Width:a.width,Height:this.chart.model.m_AreaBounds.Height}:{X:n,Y:a.y,Width:this.chart.model.m_AreaBounds.Width,Height:a.height},v.save(),v.beginPath(),v.rect(y.X,y.Y,y.Width,y.Height),v.clip(),this.svgRenderer.drawRect(w,c),this.svgRenderer.drawText(b,l.text,c),v.closePath(),v.restore()):(this.svgRenderer.drawRect(w,c),this.svgRenderer.drawText(b,l.text,c))}else p={height:i,width:r,href:l.imageUrl,x:n,y:t,id:c.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},this.svgRenderer.drawImage(p,c)}}}(jQuery);ej.EjLegendRender=function(n){this.chartObj=n},function(n){ej.EjLegendRender.prototype={sumofArray:function(n){for(var i=0,r=n.length,t=0;t<r;t++)i+=n[t];return i},legendRectSpace:function(n,t){var r=n.Width-10,u=n.Height-10,i=!1;return Math.ceil(t.Width)>=r&&Math.ceil(t.Height)>=u&&(i=!0),i},drawLegendTitle:function(){var f=this.chartObj,e=f.model,o=e.legend,s=o.isReversed,a=e.LegendBounds,v=e.elementSpacing,u=o.title,y=ej.EjSvgRender.utils._measureText,t=u.font,i=a.Width,h=y(u.text,null,t),r=h.width,p=h.height,c=u.textAlignment.toLowerCase(),n=0,w=v+p/2,l;switch(c){case"far":n=s?n:i-r-n;break;case"center":n=i/2-r/2}n<0&&(n=0,i=r);i<r+n&&(i=r+n);l={id:f.svgObject.id+"_LegendTitleText",x:s&&c=="near"?i-r-n:n,y:w,fill:t.color,"font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":"start",direction:"ltr",lgndCtx:!0};f.svgRenderer.drawText(l,u.text,this.chartObj.gLegendEle)},drawLegendItem:function(t,i,r){var f=this.chartObj,s=f.model,y=s.legend,w=y.isReversed,d=y.textOverflow.toLowerCase(),kt=y.textWidth,l=s.LegendBounds,p=s.elementSpacing,dt=y.border.width,ct=ej.EjSvgRender.utils._measureText,si=ej.EjSvgRender,g=f.svgRenderer,e=t.Font,hi=s.symbolShape,gt=s.enableCanvasRendering,nt=y.itemStyle,tt=t.PointIndex,lt=t.SeriesIndex,at=tt?tt:lt,it=s.series[lt],ci=f.svgObject,rt=t.LegendStyle,li=jQuery.uaMatch(navigator.userAgent),ai=!!navigator.userAgent.match(/Trident\/7\./),ni,a,ut,ti,vt,ft,h=it.type.toLowerCase(),ii=it.drawType,o,b,et,ot,yt,v,k,c,pt,wt,bt,ri,st,u,ht,ui,fi,ei,oi;if(v=ct(t.Text,l.Width,e).height,typeof t.Text=="object"&&w){for(pt=0,st=0;st<t.Text.length;st++)wt=t.Text[st],bt=ej.EjSvgRender.utils._measureText(wt,l.Width,e).width,pt<bt&&(pt=bt,ri=wt);k=ct(ri,null,e).width}else k=ct(t.Text,null,e).width;c={startX:w?k+i+p:i+nt.width/2,startY:r+(v>nt.height?v:nt.height)/2};for(ft in hi)if(t.Shape.toLowerCase()==ft.toLowerCase()){o=ft.toLowerCase()=="seriestype"?"SeriesType":ft;break}if(o=="SeriesType"&&((h=="radar"||h=="polar")&&(b=ii.toLowerCase()=="scatter"?it.marker.shape:b=ii,o=b.toLowerCase()=="rangecolumn"?"RangeColumn":b.capitalizeFirstString()),h=="scatter"&&(b=it.marker.shape,o=b.capitalizeFirstString()),t.drawType&&(o="SeriesType"),f.vmlRendering&&(h=="pie"||h=="doughnut"||h=="pieofpie")&&(o="Circle")),o=="None"&&(o=h=="pie"||h=="doughnut"||h=="pieofpie"?"Circle":"Rectangle"),at=ej.util.isNullOrUndefined(tt)?lt:tt,f.gLegendItemEle=g.createGroup({id:ci.id+"_Legend"+at,cursor:"pointer"}),t.CommonEventArgs.data.gLegendItemEle=f.gLegendItemEle,ut=n.extend(!0,{},t.CommonEventArgs.data),ut.model=f.model,ti=ut.style,!t.CommonEventArgs.cancel){if(vt=si.chartSymbol["_draw"+o](c,ti,ut,f.gLegendItemEle),ni=rt.Color&&rt.Color.toString().toLowerCase()!=="gray"&&gt?e.color:rt.Color&&rt.Color.toLowerCase()!=="gray"?e.color:"gray",a=t,yt=a.Text.length,(y.shape=="seriestype"||y.shape=="seriesType")&&(i=w?i-p/2:i+p/2),u={id:this.chartObj.svgObject.id+"_LegendItemText"+at,x:w?i:nt.width+i+p/2,y:c.startY,fill:ni,"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,"text-anchor":"start",direction:"ltr"},gt&&(u.lgndCtx=!0),u.y=c.startY+v/4,d=="wrap"||d=="wrapandtrim")for(u.y=u.y-v,ht=0;ht<yt;ht++)u.y=u.y+v,g.drawText(u,a.Text[ht],f.gLegendItemEle),d=="wrapandtrim"&&(et={x:u.x+l.X,y:u.y+l.Y,height:v*yt,width:kt},ot={bounds:et,trimText:a.Text,labelText:a.displayText},s.legendTextRegion.push(ot));else d=="trim"&&(et={x:u.x+l.X,y:u.y+l.Y,height:v+p,width:kt},ot={bounds:et,trimText:a.Text,labelText:a.displayText},s.legendTextRegion.push(ot)),g.drawText(u,a.Text,f.gLegendItemEle);g.append(f.gLegendItemEle,f.gLegendEle);ui={X:l.X+dt,Y:l.Y+dt};i=vt?w?c.startX-k-p:vt:i;fi={X:i,Y:r,_Width:t.Bounds._Width,Width:t.Bounds.Width,Height:t.Bounds.Height};ei={LegendBound:ui,ItemBound:fi};c.startX=w?Math.abs(c.startX-k-p/2):c.startX;oi={LegendItem:t,Location:c,SymbolShape:o,Style:t.CommonEventArgs.data.style,Bounds:ei};s.legendRegion.push(oi)}},drawLegend:function(t){var o=this.chartObj,u=o.model,e=u.legend,yt=e.isReversed,bi=u.LegendViewerBounds,i=u.LegendBounds,r=u.LegendActualBounds,ri=u.AreaType,l=e.position.toLowerCase(),pt=e.alignment.toLowerCase(),s=u.elementSpacing,ki=u.svgWidth,di=u.svgHeight,it=u.title,gi=it.font.size,nt=it.subTitle,nr=it.subTitle.font.size,ft=e.title,h=e.border.width,ui=ej.EjSvgRender.utils._measureText,fi=u.margin,p=u.border.width,y=u.legendCollection,wt=y.length,w=ki-p*2,tt=di-p*2,d=e.itemPadding>0?e.itemPadding:0,bt=10,et=10,tr=nt.text==""||!nt.visible||!it.visible?0:ui(nt.text,w-fi.left-fi.right,nt.font).height+s,ei=u._titleLocation?u._titleLocation.Y:0+tr,oi=ui(ft.text,null,ft.font),ot=oi.height,ir=oi.width,si=u._rowDefinitions,kt=0,hi,st,g,b,ht,ci,li=u._columnDefinitions,rr=this.sumofArray(si.farSizes),ur=this.sumofArray(si.nearSizes),cr=this.sumofArray(li.farSizes),fr=this.sumofArray(li.nearSizes),rt=!1,a=u.m_AreaBounds,ct=e.enableScrollbar,f=n(o.legendContainer),er=n("#ScrollerParent_vertical_"+o._id).length>0?18:0,or=n("#ScrollerParent_horizontal_"+o._id).length>0?18:0,sr=n(o.legendSvgContainer),ai=1.2,vi=10,dt=10,it=u.title,nt=u.title.subTitle,gt=it.visible?parseInt(gi)*ai:0,lt=nt.visible?parseInt(nr)*ai:0,gt=u.titleWrapTextCollection&&u.titleWrapTextCollection.length>1?u._titleLocation._height*u.titleWrapTextCollection.length-1:gt,lt=u.subTitleWrapTextCollection&&u.subTitleWrapTextCollection.length>1?u._subTitleLocation.size.height:lt,at,yi,ni,ti,c,ut;if(u.legend.border&&!nt.text&&(lt=0,dt=5),l=="right"||l=="left"?bt=10:et=ct?tt>200?10:tt>100?5:0:10,bi.Height+=ot,i.Height+=ot,e.visible){if(l!="custom"){if(ri=="cartesianaxes")switch(l){case"bottom":i.Y=a.Y+a.Height+fr-s/2+or;break;case"top":i.Y=ei==0?p+s:gt+vi+lt+dt+s;break;case"right":i.X=a.X+a.Width+rr+s*2;break;case"left":i.X=a.X-ur-r.Width-s/2-h*2-er}else switch(l){case"bottom":i.Y=tt-(r.Height+h)-s*2;break;case"top":i.Y=ei==0?p+s:gt+vi+lt+dt+s;break;case"right":i.X=w-r.Width-s*2;break;case"left":i.X=p+s*2}if(!u.enable3D&&ri=="cartesianaxes"&&t._crossAxisOverlap!=null)for(at=0,yi=u._axes.length;at<yi;at++){var v=u._axes[at],k=t.axes[v.name]._bounds,vt=v.orientation.toLowerCase()==="horizontal";l=="top"&&vt&&v._opposed&&v.y-k<i.Y+i.Height?i.Y-=i.Y+i.Height-v.y+k:l=="bottom"&&vt&&!v._opposed&&v.y+k>i.Y?i.Y+=v.y+k-i.Y:l=="left"&&!vt&&v._opposed&&v.x-k<i.X+i.Width?i.X+=v.x+k-i.X:l=="right"&&!vt&&!v._opposed&&v.x+k>i.X&&(i.X-=i.X+i.Width-v.x+k)}if(l=="left"||l=="right")if(ct)switch(pt){case"center":i.Y=a.Height/2-r.Height/2+a.Y-h;break;case"near":i.Y=a.Y;break;case"far":i.Y=a.Y+a.Height-r.Height-h*2}else switch(pt){case"center":i.Y=tt/2-(r.Height+h*2)/2+s/2;break;case"near":i.Y=p+s*2;break;case"far":i.Y=tt-(r.Height+h)-s*2}else switch(pt){case"center":i.X=w/2-(r.Width+h*2)/2+s/2;break;case"near":i.X=yt?w-(r.Width+h)-s*2:p+s*2;break;case"far":i.X=yt?p+s*2:w-(r.Width+h)-s*2}}else i.Y=e.location.y<tt?e.location.y:0,i.X=e.location.x<w?e.location.x:0;if(ct)if(l=="right"||l=="left"){if(i.Y<a.Y||r.Height+h*2>=a.Height)for(ni=h*2,c=0;c<wt;c++)if(ni+=y[c].Bounds.Height+d,ni>a.Height){r.Height=a.Height-h*2;i.Y=a.Y;break}}else if(h*2+r.Width>=w)for(ti=h*2,c=0;c<wt;c++)if(ti+=y[c].Bounds.Width+d,ti>w){r.Width=w-h*2-r.vScrollSize-p*2;i.X=w/2-(r.Width+h*2)/2+s/2;break}for(o.legendSvgContainer.setAttribute("height",i.Height),o.legendSvgContainer.setAttribute("width",Math.max(ir,i.Width)),g=hi=bt,b=st=et,ft.text!=""&&ft.text&&(this.drawLegendTitle(),b=st=et+ot),c=0;c<wt;c++)(e.rowCount<e.columnCount||e.rowCount==e.columnCount)&&(l=="top"||l=="bottom"||l=="custom")?(g+y[c].Bounds.Width>i.Width+hi&&(g=bt,b+=y[c].Bounds.Height+d),this.drawLegendItem(y[c],g,b),g+=y[c].Bounds.Width+d):(b+y[c].Bounds.Height+d+ot+p>i.Height+st&&(b=st,g+=kt+d),this.drawLegendItem(y[c],g,b),b+=y[c].Bounds.Height+d,kt=Math.max(kt,y[c].Bounds.Width));var pi=o.legendContainer[0].offsetLeft,wi=n(o.element).offset(),ii=o.vmlRendering?pi<=0?i.X:pi-wi.left:n(o.svgObject).offset().left-wi.left,hr=o.vmlRendering?ii:i.X+(ii<=0?0:ii);f.attr("style","");f.show();e._ejScroller||(yt?f.css({direction:"rtl"}):f.css({direction:"ltr"}));f.css({position:"absolute",background:e.background,left:hr,top:i.Y,width:r.Width,height:r.Height,"border-width":e.border.width,"border-color":e.border.color,"border-style":"solid"});f.addClass("e-legendborder");sr.css({height:i.Height,width:i.Width});i.Height=i.Height-(20-et*2);ut=this.legendRectSpace(i,r);ct&&(e._ejScroller?!ut&&(i.Width>Math.ceil(r.Width)||i.Height>Math.ceil(r.Height))?(n("#"+f[0].id).ejScroller({scrollTop:o.scrolltop,scrollLeft:o.scrollleft,height:r.Height,width:r.Width}),rt=!0,i.Height>Math.ceil(r.Height)&&r.vScrollSize==0&&(ht=f[0].offsetWidth+h*5-f[0].clientWidth,f.css({width:r.Width+ht}))):(n("#"+f[0].id).ejScroller("instance").destroy(),e._ejScroller=!1):!ut&&i.Width>Math.ceil(r.Width)&&i.Height>Math.ceil(r.Height)?(f.css({overflow:"scroll"}),rt=!0):(!ut&&i.Height>Math.ceil(r.Height)&&r.vScrollSize>=0&&(f[0].style.overflowY="scroll",f[0].style.overflowX="hidden",r.vScrollSize==0&&(ht=f[0].offsetWidth-h*2-f[0].clientWidth,f.css({width:r.Width+ht})),rt=!0),!ut&&i.Width>Math.ceil(r.Width)&&r.hScrollSize>=0&&(f[0].style.overflowX="scroll",f[0].style.overflowY="hidden",r.hScrollSize==0&&(ci=f[0].offsetHeight-h*2-f[0].clientHeight,f.css({height:r.Height+ci})),rt=!0)));o.svgRenderer.append(o.gLegendEle,o.legendSvgContainer);rt||f.css({width:r.Width-r.vScrollSize,height:r.Height-r.hScrollSize});e._ejScroller||(o.scrolltop!=undefined&&f.scrollTop(o.scrolltop),o.scrollleft!=undefined&&f.scrollLeft(o.scrollleft))}else f.hide()}}}(jQuery);ej.seriesTypes={};ej.EjSeriesRender=function(){};ej.indicatorTypes={};ej.EjIndicatorRender=function(){};ej.trendlineTypes={};ej.EjTrendLineRenderer=function(){},function(n){function t(t,i){var r=function(){};return r.prototype=new t,n.extend(r.prototype,i),r}ej.EjTrendLineRenderer.prototype={draw:function(t,i,r){var u,f;return this.chartObj=r,u=n.inArray(t,i.trendlines),t._isTransposed=r.model.requireInvertedAxes,t.xAxis=i.xAxis,t.yAxis=i.yAxis,f=t.type.toLowerCase(),t.points.length>1&&(f=="linear"||f=="movingaverage"?this.calculateLineDirection(t,i,u):this.calculateSplineDirection(t,i,u)),!1},calculateSplineDirection:function(n,t,i){for(var a="",h=ej.EjSvgRender.utils._getStringBuilder(),v=!0,c=n.points,y=ej.EjSeriesRender.prototype.naturalSpline(c,t),r=null,u=null,p=-1,l,g=c.length,f=0;f<g;f++){if(l=f,u=c[f],r!=null){var w=null,b=null,k=ej.EjSeriesRender.prototype.getBezierControlPoints(r,u,y[p],y[l],0,t,this);w=k.controlPoint1;b=k.controlPoint2;var d=ej.EjSvgRender.utils._getPoint(r,n),e=ej.EjSvgRender.utils._getPoint(u,n),o=ej.EjSvgRender.utils._getPoint(w,n),s=ej.EjSvgRender.utils._getPoint(b,n),nt=this.chartObj;v?(h.append("M "+d.X+" "+d.Y+" C "+o.X+" "+o.Y+" "+s.X+" "+s.Y+" "+e.X+" "+e.Y+" "),v=!1):h.append("C "+o.X+" "+o.Y+" "+s.X+" "+s.Y+" "+e.X+" "+e.Y+" ")}r=u;p=l}return a=h.toString(),this._drawLinePath(n,t,a,i),!1},calculateLineDirection:function(n,t,i){for(var r,e,u=ej.EjSvgRender.utils._getStringBuilder(),o=!1,s,h=n.points.length,f=0;f<h;f++)s=n.points[f],r=ej.EjSvgRender.utils._getPoint(s,n),o?u.append("L "+r.X+" "+r.Y+" "):(u.append("M "+r.X+" "+r.Y+" "),u.append("L "+r.X+" "+r.Y+" "),o=!0);return e=u.toString(),this._drawLinePath(n,t,e,i),!1},_drawLinePath:function(n,t,i,r){var u=[],f;return u[0]=n.xAxis.x,u[1]=n.yAxis.y,i!=""&&(f={id:this.chartObj.svgObject.id+"_"+n.seriesIndex+"_"+r+"_"+n.name.replace(/[^a-zA-Z ]/g,""),fill:"none","stroke-dasharray":n.dashArray,"stroke-width":n.width,stroke:n.fill,opacity:n.opacity,d:i},n.id=f.id,this.chartObj.svgRenderer.drawPath(f,t.gTrendGroupEle,u)),this.chartObj.svgRenderer.append(t.gTrendGroupEle,this.chartObj.gTrendlinesGroupEle[n.seriesIndex]),!1},calculateTrendLineSegment:function(t,i,r,u){var o=u.model,r,f=n.extend([],t.points),s=i.type.toLowerCase(),e;i.xAxis=t.xAxis?t.xAxis:o.primaryXAxis;i.yAxis=t.yAxis?t.yAxis:o.primaryYAxis;i.backwardForecast=i.backwardForecast<0?0:i.backwardForecast;i.forwardForecast=i.forwardForecast<0?0:i.forwardForecast;f=f.sort(function(n,t){return n.xValue>t.xValue?1:t.xValue>n.xValue?-1:0});switch(s){case"linear":this.updateTrendSource(f,i);this.calculateLinearTrendline(t,i,r);break;case"exponential":this.updateExponentialTrendSource(f,i);this.calculateExponentialTrendline(t,i,r);break;case"logarithmic":this.updateLogarithmicTrendSource(f,i);this.calculateLogarithmicTrendline(t,i,r);break;case"power":this.updatePowerTrendSource(f,i);this.calculatePowerTrendline(t,i,r);break;case"polynomial":e=t.points.length;i.polynomialOrder=e<=i.polynomialOrder?e:i.polynomialOrder;i.polynomialOrder=i.polynomialOrder<2?2:i.polynomialOrder;i.polynomialOrder=i.polynomialOrder>6?6:i.polynomialOrder;e>1&&(this.updateTrendSource(f,i),this.calculatePolynomialTrendline(t,i,r));break;case"movingaverage":this.updateMovingAverageTrendSource(f,i);this.calculateMovingAverageTrendline(t,i,r)}return t.points.length>1&&i.points&&this.calculateTrendLineRange(i,r),!1},updateTrendSource:function(n,t){var f=n.length,i,u,r;for(t.xPoints=[],t.xValues=[],t.yValues=[],r=0;r<f;r++)i=n[r],i.isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),u=typeof i.xValue=="number"?i.xValue:Date.parse(i.xValue),t.xValues.push(u),t.yValues.push(i.y));return this.calculateSumXAndYValue(t),!1},calculateLinearTrendline:function(n,t,i){var f=t.xValues.length,r,u,e,o;return t.points=[],f>1&&(i._valueType.toLowerCase()=="datetime"?(r=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType),u=this._increaseDateTimeInterval(t.xPoints[f-1],t.forwardForecast,i._intervalType)):(r=t.xPoints[0]-t.backwardForecast,u=t.xPoints[f-1]+t.forwardForecast),e=t.slope*r+t._intercept,o=t.slope*u+t._intercept,t.points.push({x:r,xValue:r,y:e,YValues:[],visible:!0}),t.points.push({x:u,xValue:u,y:o,YValues:[],visible:!0}),t.points[0].YValues[0]=t.points[0].y,t.points[1].YValues[0]=t.points[1].y),!1},calculateTrendLineRange:function(n,t){var i=n.points.length,u,r;for(n.minY=n.points[0].y,n.maxY=n.points[i-1].y,t.setRange||(n.backwardForecast>0&&t._valueType!="category"&&i>1&&(t.range.min=t.range.min>n.points[0].x?n.points[0].x:t.range.min,t.visibleRange.min=t.range.min),n.forwardForecast>0&&i>1&&(t.range.max=t.range.max<n.points[i-1].x?n.points[i-1].x:t.range.max,t.visibleRange.max=t.range.max)),r=0;r<i;r++)u=n.points[r].y,n.minY=Math.min(n.minY,u),n.maxY=Math.max(n.maxY,u);return!1},calculateSumXAndYValue:function(n){for(var y=n.points,e=n.xPoints.length,u=n.type.toLowerCase(),r,a,i=0,o=0,f=0,l=0,v=0,s=0,h=n.xValues,c=n.yValues,t=0;t<e;t++)i=i+h[t],o=o+c[t],s=s+h[t]*c[t],l=l+h[t]*c[t],f=f+h[t]*h[t],v=v+c[t]*c[t];if(ej.util.isNullOrUndefined(n.intercept)||u!="linear"&&u!="exponential"&&u!="polynomial")r=(e*l-i*o)/(e*f-i*i),a=u=="exponential"||u=="power"?Math.exp((o-r*i)/e):(o-r*i)/e,n._intercept=a;else{switch(u){case"polynomial":r=(s-Math.log(n.intercept)*i)/f*3;break;case"linear":r=(s-n.intercept*i)/f;break;case"exponential":r=(s-Math.log(n.intercept)*i)/f}n._intercept=n.intercept}return n.slope=r,!1},_increaseDateTimeInterval:function(n,t,i){var r=new Date(n);return n=typeof n=="object"?n:r,i.toLowerCase()=="days"?r.setDate(n.getDate()+t):i.toLowerCase()=="hours"?r.setHours(n.getHours()+t):i.toLowerCase()=="milliseconds"?r.setMilliseconds(n.getMilliseconds()+t):i.toLowerCase()=="seconds"?r.setSeconds(n.getSeconds()+t):i.toLowerCase()=="minutes"?r.setMinutes(n.getMinutes()+t):i.toLowerCase()=="months"?r.setMonth(n.getMonth()+t):i.toLowerCase()=="years"&&r.setYear(n.getFullYear()+t),r}};ej.ejLinear=t(ej.EjTrendLineRenderer);ej.trendlineTypes.linear=ej.ejLinear;ej.Exponential=t(ej.EjTrendLineRenderer,{updateExponentialTrendSource:function(n,t){var f=n.length,i,u,r;for(t.xPoints=[],t.xValues=[],t.yValues=[],r=0;r<f;r++)i=n[r],i.isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),u=typeof i.xValue=="number"?i.xValue:Date.parse(i.xValue),t.xValues.push(u),t.yValues.push(Math.log(i.y)));return this.calculateSumXAndYValue(t),!1},calculateExponentialTrendline:function(n,t,i){var e=t.xValues.length,r,u,f,o,s,h,c=Math.round(e/2);if(t.points=[],e>1){i._valueType.toLowerCase()=="datetime"?(r=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType),o=r.getTime(),u=t.xPoints[c-1],s=new Date(u).getTime(),f=this._increaseDateTimeInterval(t.xPoints[e-1],t.forwardForecast,i._intervalType),h=f.getTime()):(r=o=t.xPoints[0]-t.backwardForecast,u=s=t.xPoints[c-1],f=h=t.xPoints[e-1]+t.forwardForecast);var l=t._intercept*Math.exp(t.slope*r),a=t._intercept*Math.exp(t.slope*u),v=t._intercept*Math.exp(t.slope*f);t.points.push({x:r,xValue:o,y:l,YValues:[],visible:!0});t.points.push({x:u,xValue:s,y:a,YValues:[],visible:!0});t.points.push({x:f,xValue:h,y:v,YValues:[],visible:!0});t.points[0].YValues[0]=t.points[0].y;t.points[1].YValues[0]=t.points[1].y;t.points[2].YValues[0]=t.points[2].y}return!1}});ej.trendlineTypes.exponential=ej.Exponential;ej.Logarithmic=t(ej.EjTrendLineRenderer,{updateLogarithmicTrendSource:function(n,t){var e=n.length,i,r,u,f;for(t.xPoints=[],t.xValues=[],t.yValues=[],u=0;u<e;u++)i=n[u],i.isEmpty||ej.isNullOrUndefined(i.y)||(t.xPoints.push(i.xValue),r=typeof i.xValue=="number"?i.xValue:Date.parse(i.xValue),f=isFinite(Math.log(r))?Math.log(r):r,t.xValues.push(f),t.yValues.push(i.y));return this.calculateSumXAndYValue(t),!1},calculateLogarithmicTrendline:function(n,t,i){var e=t.xValues.length,r,u,f,o,s,h,c=Math.round(e/2);if(t.points=[],e>1){i._valueType.toLowerCase()=="datetime"?(r=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType),o=r.getTime(),u=t.xPoints[c-1],s=new Date(u).getTime(),f=this._increaseDateTimeInterval(t.xPoints[e-1],t.forwardForecast,i._intervalType),h=f.getTime()):(r=o=t.xPoints[0]-t.backwardForecast,u=s=t.xPoints[c-1],f=h=t.xPoints[e-1]+t.forwardForecast);var l=t._intercept+t.slope*(isFinite(Math.log(r))?Math.log(r):r),a=t._intercept+t.slope*(isFinite(Math.log(u))?Math.log(u):u),v=t._intercept+t.slope*(isFinite(Math.log(f))?Math.log(f):f);t.points.push({x:r,xValue:o,y:l,YValues:[],visible:!0});t.points.push({x:u,xValue:s,y:a,YValues:[],visible:!0});t.points.push({x:f,xValue:h,y:v,YValues:[],visible:!0});t.points[0].YValues[0]=t.points[0].y;t.points[1].YValues[0]=t.points[1].y;t.points[2].YValues[0]=t.points[2].y}return!1}});ej.trendlineTypes.logarithmic=ej.Logarithmic;ej.Power=t(ej.EjTrendLineRenderer,{updatePowerTrendSource:function(n,t){var f=n.length,i,u,r;for(t.xPoints=[],t.xValues=[],t.yValues=[],r=0;r<f;r++)i=n[r],i.isEmpty||(t.xPoints.push(i.xValue),u=typeof i.xValue=="number"?i.xValue:Date.parse(i.xValue),t.xValues.push(Math.log(u)),t.yValues.push(Math.log(i.y)));return this.calculateSumXAndYValue(t),!1},calculatePowerTrendline:function(n,t,i){var e=t.xValues.length,r,u,f,o,s,h,l=Math.round(e/2),c;if(t.points=[],e>1){i._valueType.toLowerCase()=="datetime"?(r=this._increaseDateTimeInterval(t.xPoints[0],-t.backwardForecast,i._intervalType),o=r.getTime(),u=t.xPoints[l-1],s=new Date(u).getTime(),f=this._increaseDateTimeInterval(t.xPoints[e-1],t.forwardForecast,i._intervalType),h=f.getTime()):(c=t.xPoints[0]-t.backwardForecast,r=o=c>-1?c:0,u=s=t.xPoints[l-1],f=h=t.xPoints[e-1]+t.forwardForecast);var a=t._intercept*Math.pow(r,t.slope),v=t._intercept*Math.pow(u,t.slope),y=t._intercept*Math.pow(f,t.slope);t.points.push({x:r,xValue:o,y:a,YValues:[],visible:!0});t.points.push({x:u,xValue:s,y:v,YValues:[],visible:!0});t.points.push({x:f,xValue:h,y:y,YValues:[],visible:!0});t.points[0].YValues[0]=t.points[0].y;t.points[1].YValues[0]=t.points[1].y;t.points[2].YValues[0]=t.points[2].y}return!1}});ej.trendlineTypes.power=ej.Power;ej.Polynomial=t(ej.EjTrendLineRenderer,{calculatePolynomialTrendline:function(n,t,i){var f=t.polynomialOrder,c,l,e,s,h,a,o,v,u,r;for(t.polynomialSlopes=new Array(f+1),c=t.xValues.length,u=0;u<c;u++)for(o=t.xValues[u],l=t.yValues[u],r=0;r<=f;++r)t.polynomialSlopes[r]||(t.polynomialSlopes[r]=0),t.polynomialSlopes[r]+=Math.pow(o,r)*l;for(e=new Array(1+2*f),s=new Array(f+1),h=0;h<f+1;h++)s[h]=new Array(3);for(a=0,u=0;u<c;++u)for(o=1,v=t.xValues[u],r=0;r<e.length;++r)e[r]||(e[r]=0),e[r]+=o,o*=v,++a;for(u=0;u<=f;++u)for(r=0;r<=f;++r)s[u][r]=e[u+r];return this.gaussJordanEliminiation(s,t.polynomialSlopes)||(t.polynomialSlopes=null),this.createPolynomialSegments(n,i,t),!1},createPolynomialSegments:function(n,t,i){var f=i.polynomialSlopes,e,u,c;if(f!=null){var o=i.xValues.length,a=Math.round(o/2),s=1,r,l=f.length,h=t._valueType.toLowerCase();for(i.points=[],e=1;e<=l;e++)e==1?(h=="datetime"?(u=this._increaseDateTimeInterval(i.xPoints[0],-i.backwardForecast,t._intervalType),r=u.getTime()):u=r=i.xPoints[0]-i.backwardForecast,c=this.getPolynomialYValue(f,r)):e==f.length?(h=="datetime"?(u=this._increaseDateTimeInterval(i.xPoints[o-1],i.forwardForecast,t._intervalType),r=u.getTime()):u=r=i.xPoints[o-1]+i.forwardForecast,c=this.getPolynomialYValue(f,r)):(s+=(o+i.forwardForecast)/f.length,h=="category"?u=r=i.xPoints[0]+(s-1):(u=r=i.xPoints[parseInt(s)-1],h=="datetime"&&o>s&&(r=new Date(u).getTime())),c=this.getPolynomialYValue(f,r)),(e==1||e==f.length||h=="category"||o>s)&&(i.points.push({x:u,xValue:r,y:c,YValues:[],visible:!0}),i.points[i.points.length-1].YValues[0]=i.points[i.points.length-1].y)}return!1},getPolynomialYValue:function(n,t){for(var r=0,i=0;i<n.length;i++)r+=n[i]*Math.pow(t,i);return r},gaussJordanEliminiation:function(n,t){for(var p,v,i,s,o,u,f,w,e=n.length,h=new Array(e),c=new Array(e),l=new Array(e),a=0;a<e;++a)l[a]=0;for(u=0;u<e;++u){var y=0,f=0,r=0;for(i=0;i<e;++i)if(l[i]!=1)for(o=0;o<e;++o)l[o]==0&&Math.abs(n[i][o])>=y&&(y=Math.abs(n[i][o]),f=i,r=o);if(++l[r],f!=r){for(i=0;i<e;++i)s=n[(f,i)],n[f][i]=n[r][i],n[r][i]=s;p=t[f];t[f]=t[r];t[r]=p}if(c[u]=f,h[u]=r,n[r][r]==0)return!1;for(v=1/n[r][r],n[r][r]=1,i=0;i<e;++i)n[r][i]*=v;for(t[r]*=v,i=0;i<e;++i)if(i!=r){for(s=n[i][r],n[i][r]=0,o=0;o<e;++o)n[i][o]-=n[r][o]*s;t[i]-=t[r]*s}}for(u=e-1;u>=0;--u)if(c[u]!=h[u])for(f=0;f<e;++f)w=n[(f,c[u])],n[f][c[u]]=n[f][h[u]],n[f][h[u]]=w;return!0}});ej.trendlineTypes.polynomial=ej.Polynomial;ej.MovingAverage=t(ej.EjTrendLineRenderer,{updateMovingAverageTrendSource:function(n,t){var u=n.length,i,r;for(t.xPoints=[],t.xValues=[],t.yValues=[],i=0;i<u;i++)t.xPoints.push(n[i].xValue),t.xValues.push(i+1),r=n[i].isEmpty?null:n[i].y,t.yValues.push(r);return!1},calculateMovingAverageTrendline:function(n,t){var o=t.xPoints.length,i=t.period>=o?o-1:t.period,u,f,r,s,e,h,c;for(i=i<2?2:i,t.points=[],u=0;u<o-1;u++){for(r=s=e=0,f=u;s<i;f++)s++,ej.util.isNullOrUndefined(t.yValues[f])&&e++,r+=t.yValues[f];r=i-e<=0?null:r/(i-e);ej.util.isNullOrUndefined(r)||isNaN(r)||(h=t.xPoints[i-1+u],t.points.push({x:h,xValue:h,y:r,YValues:[],visible:!0}),c=t.points.length,t.points[c-1].YValues[0]=t.points[c-1].y)}}});ej.trendlineTypes.movingaverage=ej.MovingAverage;ej.EjIndicatorRender.prototype={draw:function(t,i){var f,s,h,e,c,u,r,o;if(this.chartObj=i,f=null,this.chartObj.model.AreaType=="cartesianaxes"&&(s=t.xAxis.x,h=t.yAxis.y,f="translate("+s+","+h+")"),e=n.inArray(t,this.chartObj.model.indicators),c={id:this.chartObj.svgObject.id+"_indicatorGroup_"+e,transform:f},this.gIndicatorGroupEle=this.chartObj.svgRenderer.createGroup(c),t._points.length>0)for(u=0;u<t.segment.length;u++)r=t.segment[u],o={fill:r.fill,width:r.width,opacity:t.opacity},r.isIndicator=!0,r.xAxis=t.xAxis,r.yAxis=t.yAxis,r.type=="line"?this.calculateDirection(r,o,e):this.drawColumn(r,o,t)},_drawLinePath:function(n,t,i,r){if(i!=""){var u={name:"line",id:this.chartObj.svgObject.id+"_"+r+"_"+n.name,fill:"none","stroke-dasharray":n.dashArray,"stroke-width":t.width,stroke:t.fill,"stroke-linecap":n.lineCap,"stroke-linejoin":n.lineJoin,opacity:t.opacity,d:i};this.chartObj.svgRenderer.drawPath(u,this.gIndicatorGroupEle)}this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},calculateDirection:function(n,t,i){var f=0,e=0,r,u;this.chartObj.model.enableCanvasRendering&&(f=n.xAxis.x,e=n.yAxis.y);n.points=ej.DataManager(n.points,ej.Query().sortBy("xValue")).executeLocal();var c=ej.EjSeriesRender.prototype._isVisiblePoints(n),l,o=ej.EjSvgRender.utils._getStringBuilder(),s=!1,h;for(u=0;u<c.length;u++)h=c[u],h.visible?(r=ej.EjSvgRender.utils._getPoint(h,n),s?o.append("L "+(r.X+f)+" "+(r.Y+e)+" "):(o.append("M "+(r.X+f)+" "+(r.Y+e)+" "),s=!0)):s=!1;l=o.toString();this._drawLinePath(n,t,l,i)},drawColumn:function(t,i,r){var f=t,l=n.inArray(r,this.chartObj.model.indicators),e,y,p,c;f.index=l;var w=Math.max(t.yAxis.visibleRange.min,0),b={Start:-.35,End:.35},o=ej.EjSeriesRender.prototype._isVisiblePoints(f),s=this,k=s.chartObj;for(e=0;e<o.length;e++){var d=e,h=o[e],a=h.YValues[0],g=w;if(h.visible){var v=ej.EjSeriesRender.prototype.calculateSides(h,b),nt=v.x1,tt=v.x2,u=ej.EjSeriesRender.prototype.getRectangle(nt,a,tt,g,f,k),it=Math.min(0,u.Width),rt=Math.min(0,u.Height);u.Width<.0001&&(u.Width=.0001);(it==0||rt==0)&&u.Width>0&&(p={id:this.chartObj.svgObject.id+"_"+l+"_"+f.name,x:u.X+s.chartObj.canvasX,y:u.Y+s.chartObj.canvasY,width:u.Width,height:u.Height,fill:o[e].fill?o[e].fill:i.fill,"stroke-width":f.border.width,plot:a<0?"negative":"positive",opacity:f.histogram.opacity,stroke:o[e].fill?o[e].fill:f.border.color},this.chartObj.svgRenderer.drawRect(p,this.gIndicatorGroupEle),c=ej.EjSvgRender.utils._getSvgXY(u.X,u.Y,f,s.chartObj),y={X:c.X,Y:c.Y,Width:u.Width,Height:u.Height},this._addRegion(s.chartObj,y,f,h,d))}}this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},_addRegion:function(n,t,i,r,u){var e=i.type,f;i.index>=0&&(f={SeriesIndex:i.index,Region:{PointIndex:u,Bounds:t},type:e,isIndicator:!0},n.model.chartRegions.push(f))},calculateSegment:function(t,i){var o,v,b,y,a,p,s,w,e,l;if(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},t.period=parseInt(t.period),t.period<t._points.length&&t.period>0){for(o=n.extend(!0,{},t),o.name="upperseries",o.fill=t.upperLine.fill,o.width=t.upperLine.width,o.type="line",v=0;v<t._points.length;v++)t._points[v].YValues.length=1,t._points[v].YValues[0]=t._points[v].y=70;for(o.points=n.extend(!0,[],t._points),b=i._getXValues(o.points),y=i._getYValues(o.points),t.xRange.min=Math.min.apply(Math,b),t.xRange.max=Math.max.apply(Math,b),t.yRange.min=Math.min.apply(Math,y),t.yRange.max=Math.max.apply(Math,y),t.segment.push(o),a=n.extend(!0,{},t),a.name="lowerSeries",a.width=t.lowerLine.width,a.fill=t.lowerLine.fill,a.type="line",p=0;p<t._points.length;p++)t._points[p].YValues[0]=t._points[p].y=30;a.points=n.extend(!0,[],t._points);y=i._getYValues(a.points);t.yRange.min=Math.min(Math.min.apply(Math,y),t.yRange.min);t.yRange.max=Math.max(Math.max.apply(Math,y),t.yRange.max);t.segment.push(a);s=n.extend(!0,{},t);s.name="signalSeries";s.width=t.width;s.fill=t.fill;s.type="line";var u=0,f=0,h=0,c=0,r=t.period;for(f=t._points[0].close,e=1;e<=r;++e)u=t._points[e].close,u>f?h+=u-f:u<f&&(c+=f-u),f=u,t._points[e-1].YValues[0]=t._points[e-1].y=null;for(h=h/r,c=c/r,t._points[r].YValues[0]=t._points[r].y=100-100/(1+h/c),l=r+1;l<t._points.length;l++)u=t._points[l].close,u>f?(h=(h*(r-1)+(u-f))/r,c=c*(r-1)/r):u<f&&(c=(c*(r-1)+(f-u))/r,h=h*(r-1)/r),f=u,t._points[l].YValues[0]=t._points[l].y=100-100/(1+h/c);for(s.points=n.extend(!0,[],t._points),w=[],e=r,l=0;e<s.points.length;e++,l++)w[l]=s.points[e].y;t.yRange.min=Math.min(Math.min.apply(Math,w),t.yRange.min);t.yRange.max=Math.max(Math.max.apply(Math,w),t.yRange.max);t.segment.push(s);this.calculateIndicatorRange(i,t)}},calculateIndicatorRange:function(n,t){n.model.indicatorRange[t.xAxisName]==undefined?(n.model.indicatorRange[t.xAxisName]={},n.model.indicatorRange[t.xAxisName]={min:t.xRange.min,max:t.xRange.max}):(n.model.indicatorRange[t.xAxisName].min>t.xRange.min&&(n.model.indicatorRange[t.xAxisName].min=t.xRange.min),n.model.indicatorRange[t.xAxisName].max<t.xRange.max&&(n.model.indicatorRange[t.xAxisName].max=t.xRange.max));n.model.indicatorRange[t.yAxisName]===undefined?(n.model.indicatorRange[t.yAxisName]={},n.model.indicatorRange[t.yAxisName]={min:t.yRange.min,max:t.yRange.max}):(n.model.indicatorRange[t.yAxisName].min>t.yRange.min&&(n.model.indicatorRange[t.yAxisName].min=t.yRange.min),n.model.indicatorRange[t.yAxisName].max<t.yRange.max&&(n.model.indicatorRange[t.yAxisName].max=t.yRange.max))}};ej.ejRSI=t(ej.EjIndicatorRender);ej.indicatorTypes.rsi=ej.ejRSI;ej.ejMACD=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var f,o,y,r,e,u,l,h,it,b,k,p,w;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};var d=t._points.length,a=t.longPeriod,g=t.shortPeriod,nt=t.trigger,ft=a-g,rt=[],tt=[],s=[],c=[],v=[],ut=a+nt;if(ut<=t._points.length&&ut-2>=0&&g<=a&&g>0){for(rt=this.calculateEMA(t._points,g,!0),tt=this.calculateEMA(t._points,a,!0),e=0;e<tt.length;e++)s.push(rt[e+ft]-tt[e]);for(f=n.extend(!0,{},t),f.name="macdSeries",f.fill=t.macdLine.fill,f.width=t.macdLine.width,f.type="line",f.xAxis=t.xAxis,f.yAxis=t.yAxis,y=a-1,r=0,e=0;r<d;r++)r<y?t._points[r].YValues[0]=t._points[r].y=null:(t._points[r].YValues[0]=t._points[r].y=s[e],e+=1);for(f.points=n.extend(!0,[],t._points),c=this.calculateEMA(s,nt,!1),o=n.extend(!0,{},t),o.name="signalSeries",o.fill=t.fill,o.width=t.width,o.type="line",o.xAxis=t.xAxis,o.yAxis=t.yAxis,y=a+nt-2,r=0,e=0;r<d;r++)r<y?t._points[r].YValues[0]=t._points[r].y=null:(t._points[r].YValues[0]=t._points[r].y=c[e],e+=1);for(o.points=n.extend(!0,[],t._points),u=n.extend(!0,{},t),u.border={},u.name="histogramSeries",u.fill=t.histogram.fill,u.opacity=t.histogram.opacity,u.fill=t.histogram.fill,u.border=t.histogram.border,u.type="column",u.xAxis=t.xAxis,u.yAxis=t.yAxis,l=0,h=y;h<d;l++,h++)v.push(s[l+(nt-1)]-c[l]);for(l=0,h=y;h<d;l++,h++)t._points[h].YValues[0]=t._points[h].y=v[l];u.points=n.extend(!0,[],t._points);it=i._getXValues(f.points);t.xRange.min=Math.min.apply(Math,it);t.xRange.max=Math.max.apply(Math,it);switch(t.macdType){case"line":t.yRange.min=Math.min.apply(Math,s);t.yRange.max=Math.max.apply(Math,s);t.segment.push(f);p=Math.min.apply(Math,c);w=Math.max.apply(Math,c);t.yRange.min=t.yRange.min<p?t.yRange.min:p;t.yRange.max=t.yRange.max>w?t.yRange.max:w;t.segment.push(o);break;case"histogram":b=Math.min.apply(Math,v);k=Math.max.apply(Math,v);t.yRange.min=t.yRange.min<b?t.yRange.min:b;t.yRange.max=t.yRange.max>k?t.yRange.max:k;t.segment.push(u);break;case"both":b=Math.min.apply(Math,v);k=Math.max.apply(Math,v);t.yRange.min=t.yRange.min<b?t.yRange.min:b;t.yRange.max=t.yRange.max>k?t.yRange.max:k;t.segment.push(u);t.yRange.min=Math.min.apply(Math,s);t.yRange.max=Math.max.apply(Math,s);t.segment.push(f);p=Math.min.apply(Math,c);w=Math.max.apply(Math,c);t.yRange.min=t.yRange.min<p?t.yRange.min:p;t.yRange.max=t.yRange.max>w?t.yRange.max:w;t.segment.push(o)}this.calculateIndicatorRange(i,t)}},calculateEMA:function(n,t,i){var e=0,o=0,c=n.length,h=[],s=[],l=2/(t+1),r,u,f;if(i){for(r=0;r<t;r++)h.push(n[r].close),e=e+h[r];for(o=e/t,s.push(o),u=o,f=t;f<c;f++)u=(n[f].close-u)*l+u,s.push(u)}else{for(r=0;r<t;r++)h.push(n[r]),e=e+h[r];for(o=e/t,s.push(o),u=o,f=t;f<c;f++)u=(n[f]-u)*l+u,s.push(u)}return s}});ej.indicatorTypes.macd=ej.ejMACD;ej.ejSMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var r,v,e,l,f,o;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};r=n.extend(!0,{},t);r.name="trendSeries";r.width=t.width;r.fill=t.fill;r.type="line";var h=[],y=[],c=[],s,l,a=t._points.length,u=t.period;if(!(u<=0)&&!(a<u)){for(f=0;f<a;f++)h.push(t._points[f].close);for(v=h.length;v>=u;){for(s=0,o=0;o<u;o++)s=s+h[o];s=s/u;y.push(s);h.splice(0,1);v=h.length}for(e=0;e<a;e++)t._points[e].YValues[0]=e<u-1?t._points[e].y=null:t._points[e].y=y[e-(u-1)];for(r.points=n.extend(!0,[],t._points),l=i._getXValues(r.points),f=u-1,o=0;f<r.points.length;f++,o++)c[o]=r.points[f].y;t.xRange.min=Math.min.apply(Math,l);t.xRange.max=Math.max.apply(Math,l);t.yRange.min=Math.min.apply(Math,c);t.yRange.max=Math.max.apply(Math,c);t.segment.push(r);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.sma=ej.ejSMA;ej.ejEMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var u,y,f,h,e,o;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};u=n.extend(!0,{},t);u.name="trendSeries";u.type="line";u.xAxis=t.xAxis;u.yAxis=t.yAxis;var v=[],s=[],c=t._points.length,r=t.period,l=0,a;if(!(c<r)&&!(r<=0)){for(y=2/(r+1),e=0;e<r;e++)v.push(t._points[e].close),l=l+v[e];for(s.push(l/r),o=r;o<c;o++)s.push((t._points[o].close-s[o-r])*y+s[o-r]);for(f=0;f<c;f++)f<r-1?t._points[f].YValues[0]=t._points[f].y=null:f>=r-1&&(t._points[f].YValues[0]=t._points[f].y=s[f-(r-1)]);for(u.points=n.extend(!0,[],t._points),a=i._getXValues(u.points),h=[],e=r,o=0;e<u.points.length;e++,o++)h[o]=u.points[e].y;t.xRange.min=Math.min.apply(Math,a);t.xRange.max=Math.max.apply(Math,a);t.yRange.min=Math.min.apply(Math,h);t.yRange.max=Math.max.apply(Math,h);t.segment.push(u);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.ema=ej.ejEMA;ej.ejSTOCHASTIC=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){function d(n,i,r){t._points.length>=n+i&&g(n,i,r)}function g(n,i,r){for(var v,h,o,c,u,l=n+(i-1),e=[],a=[],f,s=0;s<t._points.length;s++)v=p[s].y,e.push(v);for(h=e.length;h>=l;){for(f=0,o=n-1;o<n+i-1;o++)f=f+e[o];f=f/i;a.push(f.toFixed(2));e.splice(0,1);h=e.length}for(c=l-1,u=0;u<t._points.length;u++)r[u].YValues[0]=u<c?r[u].y=null:r[u].y=Number(a[u-c])}function nt(n,i,r){t._points.length>n&&tt(n,i,r)}function tt(n,i,r){for(var f,a=n+i,e=[],h=[],o,s,c=0,l=0,u=0;u<n-1;++u)h.push(0),e.push(0);for(u=n-1;u<t._points.length;++u){for(s=Number.MAX_VALUE,o=Number.MIN_VALUE,f=0;f<n;++f)s=Math.min(s,b[u-f]),o=Math.max(o,w[u-f]);h.push(o);e.push(s)}for(u=0;u<a-1;++u)r[u].YValues.length=1,r[u].YValues[0]=r[u].y=null;for(u=n-1;u<t._points.length;++u)c=0,l=0,c+=k[u]-e[u],l+=h[u]-e[u],r[u].YValues.length=1,r[u].YValues[0]=r[u].y=c/l*100}var r,c,u,f,e,v,o,s,h;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};var l=t.kPeriod,y=t.dPeriod,a=t.period;if(!(a<1)&&!(y<1)&&!(l<1)&&!(a>t._points.length)&&!(y>t._points.length)&&!(l>t._points.length)){for(r=n.extend(!0,{},t),r.name="upperseries",r.type="line",r.fill=t.upperLine.fill,r.width=t.upperLine.width,c=0;c<t._points.length;c++)t._points[c].YValues.length=1,t._points[c].YValues[0]=t._points[c].y=80;for(r.points=n.extend(!0,[],t._points),u=i._getXValues(r.points),f=i._getYValues(r.points),t.xRange.min=Math.min.apply(Math,u),t.xRange.max=Math.max.apply(Math,u),t.yRange.min=Math.min.apply(Math,f),t.yRange.max=Math.max.apply(Math,f),t.segment.push(r),e=n.extend(!0,{},t),e.name="lowerSeries",e.width=t.lowerLine.width,e.fill=t.lowerLine.fill,e.type="line",v=0;v<t._points.length;v++)t._points[v].YValues[0]=t._points[v].y=20;e.points=n.extend(!0,[],t._points);u=i._getXValues(e.points);f=i._getYValues(e.points);t.xRange.min=Math.min(Math.min.apply(Math,u),t.xRange.min);t.xRange.max=Math.max(Math.max.apply(Math,u),t.xRange.max);t.yRange.min=Math.min(Math.min.apply(Math,f),t.yRange.min);t.yRange.max=Math.max(Math.max.apply(Math,f),t.yRange.max);t.segment.push(e);o=n.extend(!0,{},t);o.name="periodSeries";o.width=t.periodLine.width;o.fill=t.periodLine.fill;o.type="line";var w=[],b=[],k=[],p=[];for(s=0;s<t._points.length;s++)b[s]=t._points[s].low,w[s]=t._points[s].high,k[s]=t._points[s].close;nt(a,l,t._points);p=t._points;d(a,l,t._points);p=t._points;o.points=n.extend(!0,[],t._points);u=i._getXValues(o.points);f=i._getYValues(o.points);t.xRange.min=Math.min(Math.min.apply(Math,u),t.xRange.min);t.xRange.max=Math.max(Math.max.apply(Math,u),t.xRange.max);t.yRange.min=Math.min(Math.min.apply(Math,f),t.yRange.min);t.yRange.max=Math.max(Math.max.apply(Math,f),t.yRange.max);t.segment.push(o);h=n.extend(!0,{},t);h.name="trendSeries";h.width=t.width;h.fill=t.fill;h.type="line";d(a+l-1,y,t._points);h.points=n.extend(!0,[],t._points);t.segment.push(h);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.stochastic=ej.ejSTOCHASTIC;ej.ejbollingerBand=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var v,ft,d,f,e,l,tt,o,s,it,h,c,rt,r,a;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};var b=0,g=0,nt=t._points.length,ut=t.standardDeviations,w=t.period,u=Math.round(w),y=[],p=[],k=[];if(u<nt&&u>0){for(r=0;r<u;r++)b+=t._points[r].close;for(v=b/w,r=0;r<nt;++r)if(r>=u-1&&r<nt){r-w>=0?(ft=t._points[r].close-t._points[r-u].close,b=b+ft,v=b/w,y[r]=v,p[r]=Math.pow(t._points[r].close-v,2),g+=p[r]-p[r-u]):(y[r]=v,p[r]=Math.pow(t._points[r].close-v,2),g+=p[r]);var et=Math.sqrt(g/w),ot=y[r]-ut*et,st=y[r]+ut*et;if(r+1==u)for(d=0;d<u-1;d++)k[d]={X:t._points[d].X,mb:y[r],lb:ot,ub:st,visible:!0};k[r]={X:t._points[r].X,mb:y[r],lb:ot,ub:st,visible:!0}}else r<w-1&&(y[r]=v,p[r]=Math.pow(t._points[r].close-v,2),g+=p[r]);for(f=n.extend(!0,{},t),f.name="upperseries",f.fill=t.upperLine.fill,f.width=t.upperLine.width,f.type="line",e=0;e<t._points.length;e++)e>=u-1?(t._points[e].YValues.length=1,t._points[e].YValues[0]=t._points[e].y=k[e].ub):t._points[e].YValues[0]=t._points[e].y=null;for(f.points=n.extend(!0,[],t._points),l=i._getXValues(f.points),tt=[],r=u;r<f.points.length;r++)tt.push(f.points[r].y);for(a=tt,t.xRange.min=Math.min.apply(Math,l),t.xRange.max=Math.max.apply(Math,l),t.yRange.min=Math.min.apply(Math,a),t.yRange.max=Math.max.apply(Math,a),t.segment.push(f),o=n.extend(!0,{},t),o.name="lowerSeries",o.width=t.lowerLine.width,o.fill=t.lowerLine.fill,o.type="line",s=0;s<t._points.length;s++)s>=u-1?(t._points[s].YValues.length=1,t._points[s].YValues[0]=t._points[s].y=k[s].lb):t._points[s].YValues[0]=t._points[s].y=null;for(o.points=n.extend(!0,[],t._points),l=i._getXValues(o.points),it=[],r=u;r<o.points.length;r++)it.push(o.points[r].y);for(a=it,t.xRange.min=Math.min(Math.min.apply(Math,l),t.xRange.min),t.xRange.max=Math.max(Math.max.apply(Math,l),t.xRange.max),t.yRange.min=Math.min(Math.min.apply(Math,a),t.yRange.min),t.yRange.max=Math.max(Math.max.apply(Math,a),t.yRange.max),t.segment.push(o),h=n.extend(!0,{},t),h.name="trendSeries",h.width=t.width,h.fill=t.fill,h.type="line",c=0;c<t._points.length;c++)c>=u-1?(t._points[c].YValues.length=1,t._points[c].YValues[0]=t._points[c].y=k[c].mb):t._points[c].YValues[0]=t._points[c].y=null;for(h.points=n.extend(!0,[],t._points),l=i._getXValues(h.points),rt=[],r=u;r<h.points.length;r++)rt.push(h.points[r].y);a=rt;t.xRange.min=Math.min(Math.min.apply(Math,l),t.xRange.min);t.xRange.max=Math.max(Math.max.apply(Math,l),t.xRange.max);t.yRange.min=Math.min(Math.min.apply(Math,a),t.yRange.min);t.yRange.max=Math.max(Math.max.apply(Math,a),t.yRange.max);t.segment.push(h);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.bollingerband=ej.ejbollingerBand;ej.ejATR=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var o,s,h,c,u,f,y,v,r;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};o=[];s=h=c=0;var l,p=0,a,e=t.period;if(!(e<=0)&&!(e>t._points.length)){for(r=0;r<e;r++)s=t._points[r].high-t._points[r].low,r>0&&(h=Math.abs(t._points[r].high-t._points[r-1].close),c=Math.abs(t._points[r].low-t._points[r-1].close)),l=Math.max(s,h,c),p+=l,a=p/e,o[r]={X:t._points[r].X,YValues:a};for(r=e;r<t._points.length;++r)s=t._points[r].high-t._points[r].low,h=Math.abs(t._points[r].high-t._points[r-1].close),c=Math.abs(t._points[r].low-t._points[r-1].close),l=Math.max(s,h,c),a=(o[r-1].YValues*(e-1)+l)/e,o[r]={X:t._points[r].X,YValues:a};for(u=n.extend(!0,{},t),u.name="trendSeries",u.width=t.width,u.fill=t.fill,u.type="line",f=0;f<t._points.length;f++)f>=e-1?(t._points[f].YValues.length=1,t._points[f].YValues[0]=t._points[f].y=o[f].YValues):t._points[f].YValues[0]=t._points[f].y=null;for(u.points=n.extend(!0,[],t._points),y=i._getXValues(u.points),v=[],r=e;r<u.points.length;r++)v.push(u.points[r].y);t.xRange.min=Math.min.apply(Math,y);t.xRange.max=Math.max.apply(Math,y);t.yRange.min=Math.min.apply(Math,v);t.yRange.max=Math.max.apply(Math,v);t.segment.push(u);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.atr=ej.ejATR;ej.ejaccumulationDistribution=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var e,o,r,s,h,u,f,c,l;for(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},e=[],o=0,r=0;r<t._points.length;r++)s=t._points[r].close,h=(s-t._points[r].low-(t._points[r].high-s))/(t._points[r].high-t._points[r].low),o+=(isNaN(h)?0:h)*t._points[r].volume,e[r]=o;for(u=n.extend(!0,{},t),u.name="trendseries",u.fill=t.fill,u.width=t.width,u.type="line",f=0;f<t._points.length;f++)t._points[f].YValues[0]=t._points[f].y=e[f];u.points=n.extend(!0,[],t._points);c=i._getXValues(u.points);l=i._getYValues(u.points);t.xRange.min=Math.min.apply(Math,c);t.xRange.max=Math.max.apply(Math,c);t.yRange.min=Math.min.apply(Math,l);t.yRange.max=Math.max.apply(Math,l);t.segment.push(u);this.calculateIndicatorRange(i,t)}});ej.indicatorTypes.accumulationdistribution=ej.ejaccumulationDistribution;ej.ejTMA=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var o,y,p,r,w,s,u;this.chartObj=i;t.segment=[];t.xRange={};t.yRange={};o=n.extend(!0,{},t);o.name="trendSeries";o.width=t.width;o.fill=t.fill;o.type="line";var l=[],b=[],k=[],h=[],v=[],e=0,c,a=t._points.length,f=t.period;if(!(f<1)&&f<a){for(s=0;s<a;s++)l.push(t._points[s].close);for(y=l.length;y>=f;){for(e=0,u=0;u<f;u++)e=e+l[u];e=e/f;b.push(parseFloat(e.toFixed(2)));l.splice(0,1);y=l.length}for(r=0;r<a;r++)if(r<f-1){for(e=0,u=0;u<r+1;u++)e=e+t._points[u].close;e=e/(r+1);h[r]=parseFloat(e.toFixed(2))}else h[r]=b[r-(f-1)];for(p=h.length;p>=f;){for(c=0,u=0;u<f;u++)c=c+h[u];c=c/f;k.push(c);h.splice(0,1);p=h.length}for(r=0;r<a;r++)t._points[r].YValues[0]=r<f-1?t._points[r].y=null:t._points[r].y=k[r-(f-1)];for(o.points=n.extend(!0,[],t._points),w=i._getXValues(o.points),s=f-1,u=0;s<o.points.length;s++,u++)v[u]=o.points[s].y;t.xRange.min=Math.min.apply(Math,w);t.xRange.max=Math.max.apply(Math,w);t.yRange.min=Math.min.apply(Math,v);t.yRange.max=Math.max.apply(Math,v);t.segment.push(o);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.tma=ej.ejTMA;ej.ejMomentum=t(ej.EjIndicatorRender,{calculateSegment:function(t,i){var e,c,l,o,a,f,p,s,v,r,h,u,y;if(this.chartObj=i,t.segment=[],t.xRange={},t.yRange={},e=n.extend(!0,{},t),e.name="upperseries",e.fill=t.upperLine.fill,e.width=t.upperLine.width,e.type="line",c=t.period,l=t._points.length,c>0&&c<l-1){for(r=0;r<l;r++)t._points[r].YValues.length=1,t._points[r].YValues[0]=t._points[r].y=100;for(e.points=n.extend(!0,[],t._points),o=i._getXValues(e.points),a=i._getYValues(e.points),t.xRange.min=Math.min.apply(Math,o),t.xRange.max=Math.max.apply(Math,o),t.yRange.min=Math.min.apply(Math,a),t.yRange.max=Math.max.apply(Math,a),t.segment.push(e),f=n.extend(!0,{},t),f.name="trendSeries",f.width=t.width,f.fill=t.fill,f.type="line",p=[],s=t.period,u=0;u<t._points.length;++u)v=t._points,u<s||(t._points[u].YValues[0]=t._points[u].y=v[u].close/v[u-s].close*100);for(r=0;r<s&&r<t._points.length;r++)t._points[r].YValues[0]=t._points[r].y=null;for(f.points=n.extend(!0,[],t._points),o=i._getXValues(f.points),h=[],u=s,y=0;u<f.points.length;u++,y++)h[y]=f.points[u].y;t.xRange.min=Math.min(Math.min.apply(Math,o),t.xRange.min);t.xRange.max=Math.max(Math.max.apply(Math,o),t.xRange.max);t.yRange.min=Math.min(Math.min.apply(Math,h),t.yRange.min);t.yRange.max=Math.max(Math.max.apply(Math,h),t.yRange.max);t.segment.push(f);this.calculateIndicatorRange(i,t)}}});ej.indicatorTypes.momentum=ej.ejMomentum;ej.EjSeriesRender.prototype={getOrigin:function(n,t,i){if(i.axes[t.xAxis.name]._validCross){var r=n.chartObj._getCrossAxis(n.chartObj.model._axes,!0,t.xAxis.crossesInAxis);if(n.chartObj.model.requireInvertedAxes?t.xAxis.name:t.yAxis.name===r.name)return t.xAxis._crossValue}return t.type.toLowerCase()=="splinerangearea"?Math.max(t.points[0].YValues[1],0):Math.max(t.yAxis.visibleRange.min,0)},setLineSeriesStyle:function(t){var i=n.inArray(t,this.chartObj.model._visibleSeries),r=this.chartObj.model.seriesColors[i],u,f;return u=t.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,r,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,r,0,0,0,100,this.chartObj.gSeriesEle),f=this.chartObj.model.seriesBorderColors[i],{SeriesInterior:u,SeriesBorder:f}},getSeriesName:function(n){return n.name?n.name.replace(/\s/g,""):"series"},drawAreaPath:function(t,i,r,u){var l=this.chartObj.model.requireInvertedAxes,e=n.inArray(t,this.chartObj.model._visibleSeries),h=null,a=this.chartObj.model.AreaType,o=t.border,s,c,f;a=="cartesianaxes"&&(s=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,l),h="translate("+s.x+","+s.y+")");c={id:this.chartObj.svgObject.id+"_SeriesGroup_"+e,transform:h};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(c);r!=""&&(f={id:this.chartObj.svgObject.id+"_Series"+e,fill:i.SeriesInterior,"fill-opacity":t.opacity,"stroke-width":o.width,stroke:o.color,"stroke-dasharray":o.dashArray,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,d:r},this.chartObj.dragPoint?(f.id=this.chartObj.svgObject.id+"_PreviewSeries"+e,f["fill-opacity"]=.6,this.chartObj.model.enableCanvasRendering?this.chartObj.svgRenderer.drawPath(f,this.chartObj.canvasElement,u):this.chartObj.svgRenderer.drawPath(f,this.chartObj.gPreviewSeriesGroupEle,u)):this.chartObj.svgRenderer.drawPath(f,this.gSeriesGroupEle,u))},setAreaSeriesStyle:function(t){var i=n.inArray(t,this.chartObj.model._visibleSeries),r=this.chartObj.model.seriesColors[i],u;return u=t.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,r,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+i,r,0,0,0,100,this.chartObj.gSeriesEle),{SeriesInterior:u}},naturalSpline:function(n,t,i){var f=n.length,h=[],k=[],s=[],u=[],l=[],y=ej.util.isNullOrUndefined(t.cardinalSplineTension)?.5:t.cardinalSplineTension<0?0:t.cardinalSplineTension>1?1:t.cardinalSplineTension,e=t.type.toLowerCase()=="splinerangearea"?i:0,p,a,o,d,g,nt,r,b,c;if(t.splineType=="monotonic"){for(r=0;r<f-1;r++)h[r]=n[r+1].xValue-n[r].xValue,k[r]=n[r+1].YValues[e]-n[r].YValues[e],s[r]=k[r]/h[r];for(p=s.length,u[0]=s[0],u[f-1]=s[p-1],o=0;o<h.length;o++)p>o+1&&(s[o]*s[o+1]<=0?u[o+1]=0:(a=h[o]+h[o+1],u[o+1]=3*a/((a+h[o+1])/s[o]+(a+h[o])/s[o+1])))}else if(t.splineType=="cardinal")for(r=0;r<f;r++)u[r]=r==0?f>2?y*(n[r+2].xValue-n[r].xValue):0:r==f-1?f>2?y*(n[f-1].xValue-n[f-3].xValue):0:y*(n[r+1].xValue-n[r-1].xValue);else{for(d=6,t.splineType=="clamped"?(g=(n[1].xValue-n[0].xValue)/(n[1].YValues[e]-n[0].YValues[e]),nt=(n[f-1].xValue-n[f-2].xValue)/(n[f-1].YValues[e]-n[f-2].YValues[e]),u[0]=3*(n[1].YValues[e]-n[0].YValues[e])/(n[1].xValue-n[0].xValue)-3*g,l[0]=.5,u[n.length-1]=3*nt-3*(n[n.length-1].YValues[e]-n[n.length-2].YValues[e])/(n[n.length-1].xValue-n[n.length-2].xValue),u[0]=Math.abs(u[0])=="Infinity"?0:u[0],u[n.length-1]=Math.abs(u[n.length-1])=="Infinity"?0:u[n.length-1]):(u[0]=l[0]=0,u[n.length-1]=0),r=1;r<f-1;r++){var v=n[r].xValue-n[r-1].xValue,tt=n[r+1].xValue-n[r-1].xValue,w=n[r+1].xValue-n[r].xValue,it=n[r+1].YValues[e]-n[r].YValues[e]||null,rt=n[r].YValues[e]-n[r-1].YValues[e]||null;v==0||tt==0||w==0?(u[r]=0,l[r]=0):(b=1/(v*u[r-1]+2*tt),u[r]=-b*w,l[r]=b*(d*(it/w-rt/v)-v*l[r-1]))}for(c=f-2;c>=0;c--)u[c]=u[c]*u[c+1]+l[c]}return u},getDaysInMonth:function(n,t){return new Date(t,n+1,0).getDate()},getBezierControlPoints:function(t,i,r,u,f,e,o){var a,v,y,p,w=864e5,g=new Date(t.xValue),nt=o.chartObj.model.hAxes.length,k=n.inArray(e,o.chartObj.model._visibleSeries),b=k!=nt&&k<nt?k:0,c,d,l,s,h;if(e.splineType=="cardinal"){if(ej.util.isNullOrUndefined(o.chartObj.model.hAxes[b].intervalType)||o.chartObj.model.hAxes[b].intervalType.toLowerCase()=="years"||o.chartObj.model.hAxes[b].intervalType.toLowerCase()=="auto")c=new Date(g.getFullYear()),d=c%4==0&&(c%100==0||c%400!=0)?366:365,y=r/(w*d),p=u/(w*d);else if(o.chartObj.model.hAxes[b].intervalType.toLowerCase()=="months"){var tt=new Date(g),c=tt.getFullYear(),rt=tt.getMonth(),it=ej.EjSeriesRender.prototype.getDaysInMonth(rt,c);y=r/(w*it);p=u/(w*it)}else y=r,p=u;a={xValue:t.xValue+r/3,YValues:[t.YValues[f]+y/3]};v={xValue:i.xValue-u/3,YValues:[i.YValues[f]-p/3]}}else if(e.splineType=="monotonic")l=(i.xValue-t.xValue)/3,a={xValue:t.xValue+l,YValues:[t.YValues[f]+r*l]},v={xValue:i.xValue-l,YValues:[i.YValues[f]-u*l]};else{s=1/3;h=i.xValue-t.xValue;h=h*h;var ut=2*parseFloat(t.xValue)+parseFloat(i.xValue),ft=parseFloat(t.xValue)+2*parseFloat(i.xValue),et=2*t.YValues[f]+i.YValues[f],ot=t.YValues[f]+2*i.YValues[f],st=s*(et-s*h*(r+.5*u)),ht=s*(ot-s*h*(.5*r+u));a={xValue:ut*s,YValues:[st]};v={xValue:ft*s,YValues:[ht]}}return{controlPoint1:a,controlPoint2:v}},improveChartPerformance:function(n){for(var s=[],u=n.pointCollection&&n.dragPoint?n.pointCollection:n.points,v=this.chartObj.model.m_AreaBounds,y=0,f=n.xAxis.visibleRange.delta/v.Width,e=n.yAxis.visibleRange.delta/v.Height,p=u[0]&&u[0].xValue>f?0:f,w=u[0]&&u[0].y>e?0:e,i=0,r=0,t,h,c,b=u.length,k=0,d=0,o=!0,g=0,l=b>0&&u[0].xValue,a=0;a<b;a++)t=u[a],i=t.xValue,r=t.YValues[0],t.fill&&(n.pointFill=!0),o&&i!=l&&(o=l<i,l=i),(t.isEmpty||i==null||r==null||i!==i||r!==r||isNaN(i)||isNaN(r))&&(t.isEmpty=!0),i==null&&(t.xValue=n.xAxis.visibleRange.min),r==null&&(t.YValues[0]=n.yAxis.visibleRange.min),t.marker&&t.marker.visible&&k++,t.marker&&t.marker.dataLabel&&t.marker.dataLabel.visible&&d++,t.isEmpty&&y++,h=i-p,c=r-w,(h>=f||-h>=f||c>=e||-c>=e)&&(t.visible=t.isEmpty?t.visible||!1:!0,s[g++]=t,i===i&&(p=i),r===r&&(w=r));return o&&(n._sorted=o),n._pointMarker=k,n._dataLabels=d,y==0&&n.marker&&!n.marker.dataLabel.visible?s:this._calculateEmptyPoints(n,s)},_isVisiblePoints:function(n){for(var t=n.pointCollection&&n.dragPoint?n.pointCollection:n.points,r,f,u=ej.util.isNullOrUndefined,e=t.length,i=0;i<e;i++)f=u(t[i].isEmpty)?!1:t[i].isEmpty,t[i].visible=u(t[i].visible)?!0:t[i].visible,u(t[i].xValue)?(t[i].isEmpty=!0,t[i].visible=!1,t[i].xValue=n.xAxis?n.xAxis.visibleRange.min:null):t[i].isEmpty=f,typeof t[i].YValues[0]!="object"&&isNaN(t[i].YValues[0])||t[i].YValues[0]==null||t[i].YValues[0]=="undefined"||!n.isIndicator&&n._hiloTypes&&(isNaN(t[i].YValues[1])||t[i].YValues[1]==undefined||t[i].YValues[1]==null)?(t[i].isEmpty=!0,t[i].visible=!1):(t[i].isEmpty=t[i].isEmpty,t[i].visible=t[i].isEmpty?!t[i].isEmpty:t[i].visible),u(t[i].x)||jQuery.type(t[i].xValue)=="date"&&(t[i].xValue=t[i].xValue.getTime());return r=n.emptyPointSettings?this._calculateEmptyPoints(n,t):t,n.type.toLowerCase()=="waterfall"&&this.chartObj.calculateWaterfallSeriesPoints(r),n._visiblePoints=r,r},_calculateEmptyPoints:function(t,i,r){var f,l=t.emptyPointSettings,a=l.style,w=a.color,h=ej.util.isNullOrUndefined,b=a.border.color,k=a.border.width,c=l.displayMode.toLowerCase(),d=l.visible,v=i.length,e,y,s=[],o,p,u;if(f=n.extend(!0,{},i,f),o=t.type.toLowerCase(),f.length=i.length,c=o=="boxandwhisker"?"gap":c,d)if(c!="gap")for(u=0;u<v;u++)if(f[u].actualIndex=h(r)?u:r.model._isPieOfPie?f[u].actualIndex:u,e=f[u],e.isEmpty&&(!h(e.x)||t._xAxisValueType=="string")){w!=""&&(e.fill=w);b!=""&&(e.border=e.border?e.border:{},e.border.color=b,e.border.width=k);switch(c){case"average":t._hiloTypes?(o=="splinerangearea"&&this._setsraPoint(f[u]),n.each(e.YValues,function(n,t){t=((f[u-1]?f[u-1].YValues[n]:0)+(f[u+1]?f[u+1].isEmpty?0:f[u+1].YValues[n]:0))/2;e.YValues[n]=t;ej.EjSeriesRender.prototype._sethlocPoint(n,e,t)})):(y=((f[u-1]?f[u-1].y:0)+(f[u+1]?f[u+1].isEmpty?0:f[u+1].y:0))/2,e.YValues[0]=y,e.y=y);break;case"zero":t._hiloTypes?(o=="splinerangearea"&&this._setsraPoint(f[u]),n.each(e.YValues,function(n){e.y=0;e.YValues[n]=0;ej.EjSeriesRender.prototype._sethlocPoint(n,e,0)})):(p=o.indexOf("stackingspline")!=-1?f[u].YValues[0]:0,e.YValues[0]=p,e.y=p)}e.isEmpty=!1;e.visible=!0;s.push(e)}else h(f[u].x)&&t._xAxisValueType!="string"||s.push(e);else for(u=0;u<v;u++)f[u].actualIndex=h(r)?u:r.model._isPieOfPie?f[u].actualIndex:u,o=="splinerangearea"&&this._setsraPoint(f[u]),s[u]=f[u];else for(u=0;u<v;u++)f[u].actualIndex=u,f[u].visible&&s.push(f[u]);return s},_setsraPoint:function(n){var t=ej.util.isNullOrUndefined;t(n.YValues[0])&&(n.YValues[0]=0);t(n.YValues[1])&&(n.YValues[1]=0)},_sethlocPoint:function(n,t,i){switch(n){case 0:t.high=i;break;case 1:t.low=i;break;case 2:t.open=i;break;case 3:t.close=i}},_calculatePolarAxesSegment:function(t){var r=t._visiblePoints,l=ej.EjSvgRender.utils._getStringBuilder(),nt=n.inArray(t,this.chartObj.model._visibleSeries),d,o=this.chartObj.model.centerX,s=this.chartObj.model.centerY,yt=this._getSeriesPosition(t),ai=t.drawType.toLowerCase(),rr=ej.EjSvgRender.utils._getStringBuilder(),ur=this.setLineSeriesStyle(t),vi=0,ii=null,ri=null,ui=-1,st=null,ht=null,ct=null,lt=null,at=null,pt,fi,it,hi,yi,g=this.chartObj,e,pi,tt,ci,nr,ot,ei,wt,bt,wi,li,i,u,c,k,rt,si,ft,et;if(d=n.extend(!0,{},t.marker.size,d),d.width<=10&&(d.width=d.height=1.5*this.chartObj.model.elementSpacing),t.drawType.toLowerCase()=="column"||t.drawType.toLowerCase()=="rangecolumn"){e=0;pi={id:this.chartObj.svgObject.id+"_SeriesGroup_"+nt};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(pi);tt=t.xAxis.visibleRange.interval;t.xAxis.labelPlacement=t.xAxis.labelPlacement?t.xAxis.labelPlacement:"betweenticks";ci=0;(t.xAxis._valueType!="category"||t.xAxis._valueType=="category"&&t.xAxis.labelPlacement=="onticks")&&(ci=tt/2);ei=t.xAxis.isInversed?0:1;tt=tt/yt.all;var wi=tt,h=t._visiblePoints,tr=h.length;for(wt=0;wt<tr;wt++)bt=nr=h[wt].xValue-t.xAxis.visibleRange.min+(tt*yt.pos-ci),bt=bt/this.chartObj.model.sumofYValues,ot=h[wt],wi=t.xAxis.visibleRange.interval/yt.all,ot.startAngle=2*Math.PI*bt,ot.endAngle=2*Math.PI*(bt+wi/this.chartObj.model.sumofYValues);h[h.length-1].startAngle||(h[h.length-1].startAngle=h[0].startAngle,h[h.length-1].endAngle=h[0].endAngle)}for(li=!1,i=0;i<r.length;i++){if(ai=="scatter")u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,r[i].y,this.chartObj),this.drawSymbol(nt,t,i,u.X,u.Y);else if(t.drawType.toLowerCase()=="line")u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,r[i].y,this.chartObj),i<r.length-1&&r[i+1].visible?(c=ej.EjSvgRender.utils.TransformToVisible(t,r[i+1].xValue,r[i+1].y,this.chartObj),l.append("M "+u.X+" "+u.Y+" L "+c.X+" "+c.Y+" ")):i==r.length-1&&t.isClosed&&(c=ej.EjSvgRender.utils.TransformToVisible(t,r[0].xValue,r[0].y,this.chartObj),l.append("M "+u.X+" "+u.Y+" L "+c.X+" "+c.Y+" "));else if(t.drawType.toLowerCase()=="column"){var tt=t.xAxis.visibleRange.interval,ei=t.xAxis.isInversed?0:1,tt=tt/yt.all,f=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,r[i].y),oi=-.5*Math.PI,w=r[i].startAngle+oi,b=r[i].endAngle+oi-1e-6,a,v,y,p,kt;if(t.isStacking){k=t.stackedValue.StartValues[i];rt=t.stackedValue.EndValues[i];f=k==rt?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,rt);a=o+f*Math.cos(w);v=s+f*Math.sin(w);y=o+f*Math.cos(b);p=s+f*Math.sin(b);e=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,k==0&&t.yAxis.visibleRange.min!=0?t.yAxis.visibleRange.min:k);var dt=o+e*Math.cos(w),gt=s+e*Math.sin(w),ni=o+e*Math.cos(b),ti=s+e*Math.sin(b);kt=this.chartObj.model.isPolar?"M "+a+" "+v+" A "+f+" "+f+" 0 0 "+ei+" "+y+" "+p+" L "+ni+" "+ti+" A "+e+" "+e+" 1 0 0 "+dt+" "+gt+" z":"M "+a+" "+v+" L "+y+" "+p+" L "+ni+" "+ti+" L "+dt+" "+gt+" z"}else a=o+f*Math.cos(w),v=s+f*Math.sin(w),y=o+f*Math.cos(b),p=s+f*Math.sin(b),kt=this.chartObj.model.isPolar?"M "+a+" "+v+" A "+f+" "+f+" 0 0 "+ei+" "+y+" "+p+" L "+o+" "+s+" z":"M "+a+" "+v+" L "+y+" "+p+" L "+o+" "+s+" z";var bi=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+nt+i,this.chartObj.model.seriesColors[nt],0,0,0,100,this.chartObj.gSeriesEle),vt=t.border,ut={id:this.chartObj.svgObject.id+"_Series"+nt+"_Point"+i,fill:bi,stroke:vt.color,"stroke-dasharray":vt.dashArray,"stroke-width":vt.width,opacity:t.opacity,pointIndex:i,d:kt,start:r[i].startAngle-1.57,end:r[i].endAngle-1.57,radius:f,innerR:e};if(this.chartObj.model.isPolar&&(ut.x=o,ut.y=s,et={PointIndex:i,StartAngle:r[i].startAngle,EndAngle:r[i].endAngle,CenterX:o,CenterY:s,Radius:f,DRadius:e}),t.type=="radar"){var ki={x:o,y:s},di={x:a,y:v},gi={x:y,y:p};et={PointIndex:i,Line1:ki,Line2:di,Line3:gi};si=e?!0:!1;ut.hasStackingInnerRadius=si}ot=t._visiblePoints[i];(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)&&t.marker.dataLabel.visible)&&(ot.symbolLocation={X:(a+y)/2,Y:(v+p)/2});this.chartObj.svgRenderer.drawPath(ut,this.gSeriesGroupEle)}else if(ai=="spline")h=this.chartObj.dragPoint?t.pointCollection:this._isVisiblePoints(t),u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,r[i].y,this.chartObj),i<r.length-1&&r[i+1].visible&&(c=ej.EjSvgRender.utils.TransformToVisible(t,r[i+1].xValue,r[i+1].y,this.chartObj),pt=this.naturalSpline(r,t),fi=ui=i,ii=h[i],ri=h[i+1],ct=this.getBezierControlPoints(ii,ri,pt[ui],pt[fi],vi,t,this),st=ct.controlPoint1,ht=ct.controlPoint2,lt=ej.EjSvgRender.utils.TransformToVisible(t,st.xValue,st.YValues,g),at=ej.EjSvgRender.utils.TransformToVisible(t,ht.xValue,ht.YValues,g),l.append("M "+u.X+" "+u.Y+" C "+lt.X+" "+lt.Y+" "+at.X+" "+at.Y+" "+c.X+" "+c.Y+" "),t.isClosed&&i==r.length-1&&u!=null&&(it=ej.EjSvgRender.utils.TransformToVisible(t,r[0].xValue,r[0].y,g),ii=h[h.length-1],ri=h[0],fi=ui=0,ct=this.getBezierControlPoints(ii,ri,pt[ui],pt[fi],vi,t,this),st=ct.controlPoint1,ht=ct.controlPoint2,lt=ej.EjSvgRender.utils.TransformToVisible(t,st.xValue,st.YValues,g),at=ej.EjSvgRender.utils.TransformToVisible(t,ht.xValue,ht.YValues,g),l.append("M "+c.X+" "+c.Y+" C "+(lt.X+g.canvasX)+" "+(lt.Y+g.canvasY)+" "+(at.X+g.canvasX)+" "+(at.Y+g.canvasY)+" "+it.X+" "+it.Y+" ")));else if(t.drawType.toLowerCase()=="rangecolumn"){var tt=t.xAxis.visibleRange.interval,ei=t.xAxis.isInversed?0:1,tt=tt/yt.all,oi=-.5*Math.PI,w=r[i].startAngle+oi,b=r[i].endAngle+oi-1e-6,a,v,y,p,kt,k=r[i].YValues[1],rt=r[i].YValues[0];f=k==rt?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,rt);a=o+f*Math.cos(w);v=s+f*Math.sin(w);y=o+f*Math.cos(b);p=s+f*Math.sin(b);e=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t.yAxis,k==0&&t.yAxis.visibleRange.min!=0?t.yAxis.visibleRange.min:k);var dt=o+e*Math.cos(w),gt=s+e*Math.sin(w),ni=o+e*Math.cos(b),ti=s+e*Math.sin(b);kt=this.chartObj.model.isPolar?"M "+a+" "+v+" A "+f+" "+f+" 0 0 "+ei+" "+y+" "+p+" L "+ni+" "+ti+" A "+e+" "+e+" 1 0 0 "+dt+" "+gt+" z":"M "+a+" "+v+" L "+y+" "+p+" L "+ni+" "+ti+" L "+dt+" "+gt+" z";var bi=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(t)+"_"+nt+i,this.chartObj.model.seriesColors[nt],0,0,0,100,this.chartObj.gSeriesEle),vt=t.border,ut={id:this.chartObj.svgObject.id+"_Series"+nt+"_Point"+i,fill:bi,stroke:vt.color,"stroke-dasharray":vt.dashArray,"stroke-width":vt.width,opacity:t.opacity,pointIndex:i,d:kt,start:r[i].startAngle-1.57,end:r[i].endAngle-1.57,radius:f,innerR:e};if(this.chartObj.model.isPolar&&(ut.x=o,ut.y=s,et={PointIndex:i,StartAngle:r[i].startAngle,EndAngle:r[i].endAngle,CenterX:o,CenterY:s,Radius:f,DRadius:e}),t.type=="radar"){var ki={x:ni,y:ti},di={x:a,y:v},gi={x:y,y:p},ir={x:dt,y:gt};et={PointIndex:i,Line1:ki,Line2:di,Line3:gi,Line4:ir};si=e?!0:!1;ut.hasStackingInnerRadius=si}ot=t._visiblePoints[i];(!ej.util.isNullOrUndefined(t.marker)&&t.marker.visible||!ej.util.isNullOrUndefined(t.marker)||t.marker.dataLabel.visible)&&(ot.symbolLocation={X:(a+y)/2,Y:(v+p)/2},this.chartObj.svgRenderer.drawPath(ut,this.gSeriesGroupEle))}else if(t.isStacking){if(k=t.stackedValue.StartValues[i],rt=t.stackedValue.EndValues[i],i==0)for(u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,rt,this.chartObj),ft=r.length-1;ft>=0;ft--)k=t.stackedValue.StartValues[ft],r[ft].y=Math.max(t.yAxis.actualRange.min,k),u=ej.EjSvgRender.utils.TransformToVisible(t,r[ft].xValue,r[ft].y,this.chartObj),yi=ft==r.length-1?"M":"L",l.append(""+yi+" "+u.X+" "+u.Y+" ");i<=r.length-1&&(r[i].y=rt,u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,r[i].y,this.chartObj),l.append("L "+u.X+" "+u.Y+" "),i==r.length-1&&(t.isClosed?(c=ej.EjSvgRender.utils.TransformToVisible(t,r[0].xValue,t.stackedValue.EndValues[0],this.chartObj),it=ej.EjSvgRender.utils.TransformToVisible(t,r[0].xValue,t.stackedValue.StartValues[0],this.chartObj),hi=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,t.stackedValue.StartValues[i],this.chartObj),l.append("L "+c.X+" "+c.Y+"  L "+it.X+" "+it.Y+"  L "+hi.X+" "+hi.Y+"  L "+it.X+" "+it.Y+" z ")):l.append("L "+o+" "+s+" ")))}else u=ej.EjSvgRender.utils.TransformToVisible(t,r[i].xValue,r[i].y,this.chartObj),i==0||li?l.append("M "+u.X+" "+u.Y+" "):i==r.length-1?t.isClosed?(c=ej.EjSvgRender.utils.TransformToVisible(t,r[0].xValue,r[0].y,this.chartObj),l.append("L "+u.X+" "+u.Y+" z")):l.append("L "+u.X+" "+u.Y+" L "+o+" "+s):r[i+1].visible?l.append("L "+u.X+" "+u.Y+" "):l.append("L "+u.X+" "+u.Y+" L "+o+" "+s+" z"),li=r[i+1]&&r[i+1].visible?!1:!0;t.regionAdded||t.drawType.toLowerCase()=="column"||t.drawType.toLowerCase()=="rangecolumn"||(et={X:u.X-d.width/2,Y:u.Y-d.height/2,Width:d.width,Height:d.height},ej.EjSvgRender.utils._addRegion(this.chartObj,et,t,r[i],i));(!t.regionAdded&&t.drawType.toLowerCase()=="column"&&this.chartObj.model.enableCanvasRendering||t.drawType.toLowerCase()=="rangecolumn"&&this.chartObj.model.enableCanvasRendering)&&ej.EjSvgRender.utils._addRegion(this.chartObj,et,t,null,null)}return(t.regionAdded||t.drawType.toLowerCase()!="column"||this.chartObj.model.enableCanvasRendering)&&(t.drawType.toLowerCase()!="rangecolumn"||this.chartObj.model.enableCanvasRendering)||ej.EjSvgRender.utils._addRegion(this.chartObj,et,t,null,null),l.toString()},_calculateVisiblePoints:function(t,i){for(var r,c=[],h=[],v,s=ej.util.isNullOrUndefined,l=s(i)?t.points:i.model._isPieOfPie?t.pieCollections[t.collectionIndex]:t.points,e,a=l.length,u,f,o=0;o<a;o++)f=l[o],s(f._visibility)&&(f._visibility="visible"),f.actualIndex=s(i)?o:i.model._isPieOfPie?f.actualIndex:o,f.visible=f.isEmpty?!1:f.visible,s(f.visible)&&(f.visible=!0),f.y<0&&(f.YValues[0]=Math.abs(f.YValues[0])),s(f.x)&&t._xAxisValueType!="string"&&(f.visible=!1,f.isEmpty=!0),s(f.y)&&(f.visible=!1,f.isEmpty=!0);if(e=n.extend(!0,{},l,e),e.length=a,t.emptyPointSettings.visible)for(u=this._calculateEmptyPoints(t,e,i),v=u.length,r=0;r<v;r++)u[r].visible?(u[r].visible=u[r]._visibility=="hidden"?!1:!0,h.push(u[r]),u[r].visible&&c.push(u[r])):(u[r].y=((u[r-1]?u[r-1].y:0)+(u[r+1]?u[r+1].y:0))/2,isNaN(u[r].y)&&(u[r].y=((u[r-2]?u[r-2].y:0)+(u[r+2]?u[r+2].y:0))/2),u[r].YValues[0]=u[r].y,s(u[r].x)&&t._xAxisValueType!="string"||(u[r].gapMode=!0,c.push(u[r])));else for(r=0;r<a;r++)h.push(e[r]),e[r].visible&&(e[r].visible=e[r]._visibility=="hidden"?!1:!0,e[r].visible&&c.push(e[r]));if(t.visibility=="hidden")for(o=0;o<h.length;o++)h[o].visible=!1;return t._visiblePoints=c,t.visiblePoints=h,{visiblePoints:c,legendPoints:h}},getMinMaxValue:function(n,t,i){var u=Math.min(n.x,t.x),f=Math.min(n.y,t.y),e=Math.max(n.x,t.x),o=Math.max(n.y,t.y),r;switch(i){case 0:case 360:r=o;break;case 90:r=u;break;case 180:r=f;break;case 270:r=e}return r},pieDoughnutCenter:function(t){var p=t.startAngle,w=t.endAngle,y,v,e,r;this.chartObj.model.centerCount++;var i=n.inArray(t,this.chartObj.model._visibleSeries),o=[-630,-540,-450,-360,-270,-180,-90,0,90,180,270,360,450,540,630],u=[],nt=this.chartObj.model.circleCenterX[i],tt=this.chartObj.model.circleCenterY[i];if(t.startAngle<t.endAngle)for(r=0;r<o.length;r++)o[r]>p&&o[r]<w&&(u[u.length]=o[r]%360<0?o[r]%360+360:o[r]%360);else for(r=0;r<o.length;r++)o[r]<p&&o[r]>w&&(u[u.length]=o[r]%360<0?o[r]%360+360:o[r]%360);if(this.chartObj.model.centerCount==1){var f=this.chartObj.model.circularRadius[i],b=2*Math.PI*(p-90)/360,k=2*Math.PI*(w-90)/360,a={x:this.chartObj.model.circleCenterX[i],y:this.chartObj.model.circleCenterY[i]},s={x:this.chartObj.model.circleCenterX[i]+f*Math.cos(b),y:this.chartObj.model.circleCenterY[i]+f*Math.sin(b)},h={x:this.chartObj.model.circleCenterX[i]+f*Math.cos(k),y:this.chartObj.model.circleCenterY[i]+f*Math.sin(k)};switch(u.length){case 0:var it=Math.abs(a.x-s.x)>Math.abs(a.x-h.x)?s.x:h.x,rt=Math.abs(a.y-s.y)>Math.abs(a.y-h.y)?s.y:h.y,e={x:(a.x+it)/2,y:(a.y+rt)/2};this.chartObj.model.circleCenterX[i]=this.chartObj.model.circleCenterX[i]+(this.chartObj.model.circleCenterX[i]-e.x);this.chartObj.model.circleCenterY[i]=this.chartObj.model.circleCenterY[i]+(this.chartObj.model.circleCenterY[i]-e.y);break;case 1:y=2*Math.PI*(u[0]-90)/360;v={x:this.chartObj.model.circleCenterX[i]+f*Math.cos(y),y:this.chartObj.model.circleCenterY[i]+f*Math.sin(y)};switch(u[0]){case 0:case 360:c={x:s.x,y:v.y};l={x:h.x,y:a.y};break;case 90:c={x:a.x,y:h.y};l={x:v.x,y:s.y};break;case 180:c={x:h.x,y:a.y};l={x:s.x,y:v.y};break;case 270:c={x:v.x,y:s.y};l={x:a.x,y:h.y}}e={x:(c.x+l.x)/2,y:(c.y+l.y)/2};this.chartObj.model.circleCenterX[i]=this.chartObj.model.circleCenterX[i]+(this.chartObj.model.circleCenterX[i]-e.x>=f?0:this.chartObj.model.circleCenterX[i]-e.x);this.chartObj.model.circleCenterY[i]=this.chartObj.model.circleCenterY[i]+(this.chartObj.model.circleCenterY[i]-e.y>=f?0:this.chartObj.model.circleCenterY[i]-e.y);break;case 2:var d=2*Math.PI*(u[0]-90)/360,y=2*Math.PI*(u[1]-90)/360,v={x:this.chartObj.model.circleCenterX[i]+f*Math.cos(y),y:this.chartObj.model.circleCenterY[i]+f*Math.sin(y)},g={x:this.chartObj.model.circleCenterX[i]+f*Math.cos(d),y:this.chartObj.model.circleCenterY[i]+f*Math.sin(d)},c,l;c=u[0]==90&&u[1]==180||u[0]==270&&u[1]==0?{x:g.x,y:v.y}:{x:v.x,y:g.y};l=u[0]==90||u[0]==270?{x:this.getMinMaxValue(s,h,u[0]),y:this.getMinMaxValue(s,h,u[1])}:{x:this.getMinMaxValue(s,h,u[1]),y:this.getMinMaxValue(s,h,u[0])};e={x:Math.abs(c.x-l.x)/2>=f?0:(c.x+l.x)/2,y:Math.abs(c.y-l.y)/2>=f?0:(c.y+l.y)/2};this.chartObj.model.circleCenterX[i]=this.chartObj.model.circleCenterX[i]+(e.x==0?0:this.chartObj.model.circleCenterX[i]-e.x>=f?0:this.chartObj.model.circleCenterX[i]-e.x);this.chartObj.model.circleCenterY[i]=this.chartObj.model.circleCenterY[i]+(e.y==0?0:this.chartObj.model.circleCenterY[i]-e.y>=f?0:this.chartObj.model.circleCenterY[i]-e.y)}}for(r=0;r<t.points.length;r++)i<this.chartObj.model._visibleSeries.length&&this.chartObj.model.centerCount>1&&this.chartObj.model._visibleSeries[i+1].startAngle==p&&this.chartObj.model._visibleSeries[i+1].endAngle==w&&(this.chartObj.model.circleCenterX[i]=this.chartObj.model.circleCenterX[i+1],this.chartObj.model.circleCenterY[i]=this.chartObj.model.circleCenterY[i+1]),this.chartObj.model.startX[r]=this.chartObj.model.startX[r]-(nt-this.chartObj.model.circleCenterX[i]),this.chartObj.model.startY[r]=this.chartObj.model.startY[r]-(tt-this.chartObj.model.circleCenterY[i])},_drawEmptyPieOfPie:function(n){var u=-.5*Math.PI,f=2*Math.PI+-.5*Math.PI-1e-6,i=n.model.circleCenterX[1],r=n.model.circleCenterY[1],t=n.model.circularRadius[1],o="M "+(i+t*Math.cos(u))+" "+(r+t*Math.sin(u))+" A "+t+" "+t+" 0 1 1 "+(i+t*Math.cos(f))+" "+(r+t*Math.sin(f))+" z",e=n.model.theme.toLowerCase();return{id:n.svgObject.id+"_Series0_EmptyCircle",fill:"none","stroke-width":1.5,stroke:e.indexOf("dark")>=0||e.indexOf("contrast")>=0?" #FFFFFF":"#000000","stroke-dasharray":"",d:o,opacity:1,radius:t,start:0-1.57,end:2*Math.PI-1.57,cx:i,cy:r}},calculatingSliceAngle:function(t,i){var e=this.chartObj?this.chartObj:i,r=e.model,k=r.legend,f=n.inArray(t,r._visibleSeries),d=k.position.toLowerCase(),ct=r.LegendActualBounds,ut=t._visiblePoints,kt=ut.length,ft=0,s,et=0,lt=k.border.width,at=r.border.width,u,y=r.margin,vt=r.elementSpacing,a=0,p=r.title.subTitle.text?r.title.subTitle:"",o,v,st,wt,ht,it,l,w,rt,h,bt,b,nt,tt,c;for(r.arcData=[],t.rightsidePoints=[],t.leftsidePoints=[],t.labels=[],r.sumofYValues=0,r.midPoint=0,o=t.type.toLowerCase(),v=t.gapWidth,c=0;c<ut.length;c++)r.sumofYValues+=ut[c].YValues[0];s=t.endAngle!=null&&o!="pieofpie"?t.endAngle-t.startAngle:360;s=s!=360&&s!=-360?s%360:s;t.startAngle&&o!="pieofpie"?(t.startAngle=t.startAngle%360,t.endAngle=t.startAngle+s,a=t.startAngle?r.sumofYValues/360*t.startAngle:0,a=a/r.sumofYValues,r.itemCurrentXPos=a):t.endAngle=s;k.visible&&d!="custom"&&(d=="right"||d=="left"?ft+=ct.Width+lt*2+vt:et+=ct.Height+lt*2+vt);var yt=r.title.text&&r.title.visible?r._titleLocation.size.height+r.elementSpacing+(p==""?0:p.text&&p.visible&&p.enableTrim&&(p.textOverflow=="wrap"||p.textOverflow=="wrapandtrim")?r._subTitleLocation.size.height:0):0,ot=.1*Math.min(n(e.svgObject).width(),n(e.svgObject).height()),g=n(e.svgObject).width()-(ft+y.left+y.right+at*2)-(o=="pieofpie"?v:0),pt=n(e.svgObject).height()-(et+yt+y.top+y.bottom+at*2);for(f=e.model._isPieOfPie?t.collectionIndex:f,o=="pieofpie"&&(g<ot&&(st=ot-g,g=ot),v=st?v-st:n(e.svgObject).width()>=v?v:0),wt=o=="pieofpie"?f==0?.25:.25*3:.5,r.circleCenterX[f]=g*wt+(f==1&&o=="pieofpie"?v:0)+y.left+(k.visible&&d==="left"?ft:0),r.circleCenterY[f]=pt*.5+y.top+yt+(k.visible&&d==="top"?et:0),ej.util.isNullOrUndefined(e.model.pieGapWidth)||e.model.pieGapWidth==0||(r.circleCenterX[f]=f==0?r.circleCenterX[f]+e.model.pieGapWidth/2:r.circleCenterX[f]-e.model.pieGapWidth/2),t.startAngle=o=="pieofpie"?0:t.startAngle,s=t.endAngle-t.startAngle,ht=s/180,it=s/4*(Math.PI/180),l=0;l<kt;l++)u=t._visiblePoints[l],(u.visible||u.gapMode)&&(w=o=="pieofpie"?u.actualIndex:l,l==0&&f==0&&o=="pieofpie"?(rt=2*Math.PI*a,h=ht*Math.PI*(u.YValues[0]/r.sumofYValues)+rt,h=isNaN(h)?rt:h,b=(h+rt)/2,u.start=u.startAngle=it-b,u.end=u.endAngle=it+b,u.midAngle=it):(u.startAngle=l==0?2*Math.PI*a:o=="pieofpie"?t.pieCollections[f][l-1].endAngle:h,h=u.endAngle=ht*Math.PI*(u.YValues[0]/r.sumofYValues)+u.startAngle,h=u.endAngle=isNaN(h)?u.startAngle:h,u.start=u.startAngle,u.end=u.endAngle,u.midAngle=(u.endAngle+u.startAngle)/2),u.pointIndex=w,bt=-.5*Math.PI,u.radian=u.midAngle%(2*Math.PI),t.labelPosition.toLowerCase()=="outsideextended"&&o!="pieofpie"&&(u.radian<Math.PI?t.rightsidePoints.push(u):t.leftsidePoints.push(u)),a+=u.YValues[0]/r.sumofYValues,b=u.midAngle+bt,(u.actualIndex==t.explodeIndex||t.explodeAll)&&!e.vmlRendering?(r.startX[w]=r.circleCenterX[f]+Math.cos(b)*t.explodeOffset,r.startY[w]=r.circleCenterY[f]+Math.sin(b)*t.explodeOffset):(r.startX[w]=r.circleCenterX[f],r.startY[w]=r.circleCenterY[f]));if(t.labelPosition.toLowerCase()=="outsideextended"&&(t.rightsidePoints=ej.DataManager(t.rightsidePoints,ej.Query().sortBy("radian")).executeLocal(),t.leftsidePoints=ej.DataManager(t.leftsidePoints,ej.Query().sortBy("radian")).executeLocal()),t.marker.dataLabel.template)if(t.labelPosition.toLowerCase()=="outsideextended"){for(nt=0;nt<t.rightsidePoints.length;nt++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.rightsidePoints[nt],t.rightsidePoints[nt].actualIndex,t,!1,e);for(tt=0;tt<t.leftsidePoints.length;tt++)ej.EjSvgRender.utils._getSeriesTemplateSize(t.leftsidePoints[tt],t.leftsidePoints[tt].actualIndex,t,!0,e)}else for(c=0;c<t._visiblePoints.length;c++)ej.EjSvgRender.utils._getSeriesTemplateSize(t._visiblePoints[c],t._visiblePoints[c].actualIndex,t,!0,e);else ej.EjSvgRender.utils._getSeriesMaxLabel(t);return t.finalSize={width:g,height:pt},t.finalSize},_drawHiloPath:function(t,i,r,u,f,e){var v=n.inArray(t,this.chartObj.model._visibleSeries),y={name:t.type,id:this.chartObj.svgObject.id+"_Series"+v+"_Point"+f,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":i.borderWidth,stroke:r,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:u},o,s,c,l,h,a;this.chartObj.svgRenderer.drawPath(y,this.gSeriesGroupEle);h=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.chartObj.model.requireInvertedAxes);c=Math.min(e.point2.X,e.point1.X)+h.x-i.borderWidth;l=Math.min(e.point2.Y,e.point1.Y)+h.y;e.point1.Y!=e.point2.Y?(o=i.borderWidth+i.borderWidth/2,s=Math.abs(e.point1.Y-e.point2.Y)):(o=Math.abs(e.point2.X-e.point1.X),s=i.borderWidth+i.borderWidth/2);a={X:c,Y:l,Width:o,Height:s};ej.EjSvgRender.utils._addRegion(this.chartObj,a,t,null,f)},isIntersec:function(n,t){return t.Bottom<n.Top||t.Right<n.Left||t.Top>n.Bottom||t.Left>n.Right?!1:!0},IntersectWith:function(t,i,r,u,f,e){var y=this,c,a,o,l,s,h,v;if((ej.util.isNullOrUndefined(t.model.rightsidebounds[f])||ej.util.isNullOrUndefined(t.model.leftsidebounds[f]))&&(t.model.leftsidebounds[f]=[],t.model.rightsidebounds[f]=[],t.model.leftsidebounds[f].points=[],t.model.rightsidebounds[f].points=[]),u=="outsideExtended"){for(o=f;o<t.model.bounds.length;o++)if(t.model._visibleSeries[o].labelPosition.toLowerCase()=="outsideextended"){if(!ej.util.isNullOrUndefined(t.model.bounds[o].points.left)&&t.model.bounds[o].points.left.length>0)for(l=t.model.bounds[o].points.left.length,s=l-1;s>=0&&!ej.util.isNullOrUndefined(t.model.bounds[o].points.left[s]);s--)t.model.leftsidebounds[o].points[s]=t.model.bounds[o].points.left[s];if(!ej.util.isNullOrUndefined(t.model.bounds[o].points.right)&&t.model.bounds[o].points.right.length>0)for(l=t.model.bounds[o].points.right.length,a=0;a<l&&!ej.util.isNullOrUndefined(t.model.bounds[o].points.right[a]);a++)t.model.rightsidebounds[o].points[a]=t.model.bounds[o].points.right[a]}}else if(t.model.bounds[f].points.length>0||f>=0)for(o=f;o<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[o]);o++)if(t.model._visibleSeries[o].labelPosition.toLowerCase()!="outsideextended")for(l=t.model.bounds[o].points.length,s=0;s<l&&!ej.util.isNullOrUndefined(t.model.bounds[o].points[s]);s++)t.model.bounds[o].points[s].X<t.model.circleCenterX[f]?n.inArray(t.model.bounds[o].points[s],t.model.leftsidebounds[o].points)==-1&&(t.model.leftsidebounds[o].points[s]=t.model.bounds[o].points[s]):n.inArray(t.model.bounds[o].points[s],t.model.rightsidebounds[o].points)==-1&&(t.model.rightsidebounds[o].points[s]=t.model.bounds[o].points[s]);for(o=f;o<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[o]);o++)if(t.model.leftsidebounds[o].points.length>0&&(c=t.model.leftsidebounds[o].points,c.length>0))for(s=c.length-1;s>=0;s--)if(h=c[s],!(ej.util.isNullOrUndefined(h)&&h!=r))if(h.SeriesIndex==r.SeriesIndex&&h.PointIndex==r.PointIndex)if(i.smartLabelPosition=="outside")continue;else break;else{if(this.isIntersec(h,r))return!0;r.X<t.model.circleCenterX[f]&&h.X<t.model.circleCenterX[f]&&t.model.series[f].marker.dataLabel.shape!="none"&&(v=Math.abs(h.Y-r.Y),e&&v<=e.height&&h.Bottom>r.Top&&h.Left<r.X&&(r.overlap=!0))}for(o=f;o<t.model.bounds.length&&!ej.util.isNullOrUndefined(t.model.bounds[o]);o++)if(c=t.model.rightsidebounds[o].points,c.length>0)for(s=c.length-1;s>=0;s--)if(h=c[s],!(ej.util.isNullOrUndefined(h)&&h!=r))if(h.SeriesIndex==r.SeriesIndex&&h.PointIndex==r.PointIndex)if(i.smartLabelPosition=="outside")continue;else break;else{if(this.isIntersec(h,r))return!0;r.X>t.model.circleCenterX[f]&&h.X>t.model.circleCenterX[f]&&t.model.series[f].marker.dataLabel.shape!="none"&&(v=Math.abs(h.Y-r.Y),e&&v<=e.height&&h.Bottom>r.Top&&h.X+(h.Right-h.Left)>r.X&&(r.overlap=!0))}return!1},_calculateArcData:function(n,t,i,r,u,f){var u=n.model._isPieOfPie?f:u,ct=r._visiblePoints,ut=i.actualIndex,l=n,p=-.5*Math.PI,e,o,it,rt;r.type.toLowerCase()=="doughnut"&&r._visiblePoints.length==1&&Math.abs(r.endAngle-r.startAngle)==360&&r.startAngle%90!=0?(e=parseFloat((i.startAngle+p).toFixed(3)),o=parseFloat((i.endAngle+p).toFixed(3))-1e-6):(e=i.startAngle+p,o=i.endAngle+p-1e-6);var ft=r.endAngle-r.startAngle,w=o-e<Math.PI?0:1,tt=(e+o)/2;ej.util.isNullOrUndefined(i.currentMidAngle)&&(i.currentMidAngle=(e+o)/2);var b,h,c,v=ft>0?1:0,w=v?o-e<Math.PI?0:1:o-e>-1*Math.PI?0:1,s=l.model.circularRadius[u],a=l.model.innerRadius[u];(ut==r.explodeIndex||r.explodeAll)&&!l.vmlRendering?(h=l.model.circleCenterX[u]+Math.cos(tt)*r.explodeOffset,c=l.model.circleCenterY[u]+Math.sin(tt)*r.explodeOffset):(h=l.model.circleCenterX[u],c=l.model.circleCenterY[u]);var k=h+s*Math.cos(e),d=c+s*Math.sin(e),y=h+s*Math.cos(o),g=c+s*Math.sin(o);if(r.type.toLowerCase()=="doughnut"){var et=h+a*Math.cos(e),ot=c+a*Math.sin(e),nt=h+a*Math.cos(o),st=c+a*Math.sin(o),ht=v?0:1;e<0&&Math.round(i.endAngle-i.startAngle)==6&&(nt=nt-.01,y=y-.01);b="M "+k+" "+d+" A "+s+" "+s+" 0 "+w+" "+v+" "+y+" "+g+" L "+nt+" "+st+" A "+a+" "+a+" 1 "+w+" "+ht+" "+et+" "+ot+" z"}else(i.endAngle-i.startAngle).toFixed(4)==(2*Math.PI).toFixed(4)?(it=h,rt=c,b="M "+k+" "+d+" A "+s+" "+s+" 0 "+w+" "+v+" "+y+" "+g):b="M "+k+" "+d+" A "+s+" "+s+" 0 "+w+" "+v+" "+y+" "+g+" L "+h+" "+c+" z";return{Direction:b,centerX:it,centerY:rt}},getXCordinate:function(n,t,i){return n+t*Math.cos(i)},getYCordinate:function(n,t,i){return n+t*Math.sin(i)},getDoubleRange:function(n,t){var i,r;n>t?(i=t,r=n):(i=n,r=t);var u=r-i,f=(i+r)/2,e=isNaN(i)||isNaN(r);return{Start:i,End:r,Delta:u,Median:f,IsEmpty:e}},isDependentSeries:function(n){var t=n.type.toLowerCase(),i=this.chartObj.model.requireInvertedAxes;return!i||i&&n.isTransposed?t.indexOf("bar")!=-1&&!n._isTransposed||t.indexOf("column")!=-1||t.indexOf("waterfall")!=-1||t.indexOf("hilo")!=-1||t.indexOf("candle")!=-1||t.indexOf("boxandwhisker")!=-1?!0:!1:t.indexOf("bar")!=-1?!0:!1},getPointXYOrgin:function(n,t,i,r){var e=r.model.requireInvertedAxes,u,f;return i.isTransposed&&e||i._isTransposed?(u=(1-ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,n))*i.xAxis.height,f=ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t)*i.yAxis.width,{X:f,Y:u}):(u=ej.EjSvgRender.utils._valueToCoefficient(i.xAxis,n)*i.xAxis.width,f=(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,t))*i.yAxis.height,{X:u,Y:f})},getRectangle:function(n,t,i,r,u,f){var e=this.getPointXYOrgin(n,t,u,f),o=this.getPointXYOrgin(i,r,u,f);return ej.EjSvgRender.utils._correctRect(e.X,e.Y,o.X,o.Y)},calculateMean:function(n,t,i){var u,f,l,a,v,y,e,o,tt,p,it,rt,w,ut,ft,et,ot=0,c=0,s=[],r=0,b,h,ct;for(n.length>1&&n.sort(function(n,t){return n-t}),b=0;b<n.length;b++)ot=ot+n[b];c=ot/n.length;c=parseInt(c.toFixed(2));s[r]=c;r++;t.boxPlotMode.toLowerCase()=="normal"?(u=n.length%2==0?n.slice(0,n.length/2):n.slice(0,Math.floor(n.length/2)),a=Math.floor(u.length/2),e=u.length%2==0?(u[a-1]+u[a])/2:u[a],e=n.length<=3?n[0]:e,s[r]=e,r++,f=n.length%2==0?n.slice(n.length/2,n.length):n.slice(Math.ceil(n.length/2),n.length),v=Math.floor(f.length/2),o=f.length%2==0?(f[v-1]+f[v])/2:f[v],o=n.length<=3?n[n.length-1]:o,s[r]=o,r++):(t.boxPlotMode.toLowerCase()=="exclusive"||t.boxPlotMode.toLowerCase()=="inclusive")&&(tt=t.boxPlotMode.toLowerCase()=="exclusive"?(n.length+1)/4:(n.length-1)/4,p=Math.floor(tt),it=tt-p,ft=t.boxPlotMode.toLowerCase()=="exclusive"?p-1:p,u=(1-it)*n[ft]+it*n[ft+1],u=n.length<=3?n[0]:u,e=u,s[r]=e,r++,rt=t.boxPlotMode.toLowerCase()=="exclusive"?3*(n.length+1)/4:3*(n.length-1)/4,w=Math.floor(rt),ut=rt-w,et=t.boxPlotMode.toLowerCase()=="exclusive"?w-1:w,f=(1-ut)*n[et]+ut*n[et+1],f=n.length<=3?n[n.length-1]:f,o=f,s[r]=o,r++);y=Math.floor(n.length/2);l=n.length%2==0?(n[y-1]+n[y])/2:n[y];s[r]=l;r++;var st=o-e,lt=o+1.5*st,at=e-1.5*st,k=n[n.length-1],d=n[0],g=[],ht=0,nt=0;for(h=0;h<n.length;h++)lt<n[h]&&(ht++,g[nt]=n[h],nt++,k=n[h-ht]),at>n[h]&&(g[nt]=n[h],nt++,d=n[h+1]);return s[r]=d,r++,s[r]=k,r++,ct={Minimum:d,LowerQuartile:e,midvalue:l,UpperQuartile:o,Maximum:k,boxAverage:c,outliers:g},t._visiblePoints[i].boxPlotValues=ct,t._visiblePoints[i].boxPlotValues.quartileValues=s,{Minimum:d,LowerQuartile:e,midvalue:l,UpperQuartile:o,Maximum:k,boxAverage:c,outliers:g}},calculateBoxAndWhiskerPath:function(n,t,i,r,u,f,e){var y,p,b,k,d;u._visiblePoints[e].boxPlotLocation=[];u._visiblePoints[e].dataLabelLocation=[];var h=0,o=this,w=u._isTransposed,g=u.outlierSettings.shape.toLowerCase(),nt=this.chartObj.model.requireInvertedAxes,s,l,a,v,c;for(y=0;y<u._visiblePoints[e].boxPlotValues.quartileValues.length;y++)l={xValue:f.xValue,YValues:u._visiblePoints[e].boxPlotValues.quartileValues[y]},a=ej.EjSvgRender.utils._getPoint(l,u),u._visiblePoints[e].boxPlotLocation[h]=a,u._visiblePoints[e].boxPlotLocation[h].xValue=l.xValue,u._visiblePoints[e].boxPlotLocation[h].YValues=l.YValues,u._visiblePoints[e].dataLabelLocation[h]=w?{X:a.X,Y:t.Y+t.Height/2+5}:{X:t.X+t.Width/2,Y:a.Y},h++;for(p=0;p<r.outliers.length&&g!="none";p++)v={xValue:f.xValue,YValues:r.outliers[p]},c=ej.EjSvgRender.utils._getPoint(v,u),u._visiblePoints[e].boxPlotLocation[h]=c,u._visiblePoints[e].boxPlotLocation[h].xValue=v.xValue,u._visiblePoints[e].boxPlotLocation[h].YValues=v.YValues,u._visiblePoints[e].boxPlotLocation[h].outlier=!0,w?c.Y=t.Y+t.Height/2:c.X=t.X+t.Width/2,u._visiblePoints[e].dataLabelLocation[h]=w?{X:c.X-u.outlierSettings.size.height,Y:t.Y+t.Height/2+u.outlierSettings.size.width,outlier:!0}:{X:t.X+t.Width/2,Y:c.Y,outlier:!0},h++;return s=u._visiblePoints[e].boxPlotLocation,u._isTransposed?(b="M "+(o.chartObj.canvasX+s[4].X)+" "+(o.chartObj.canvasY+t.Y)+" L "+(s[4].X+o.chartObj.canvasX)+" "+(t.Height+t.Y+o.chartObj.canvasY)+" M "+(o.chartObj.canvasX+s[4].X)+" "+(o.chartObj.canvasY+t.Y+t.Height/2)+" L "+(o.chartObj.canvasX+s[1].X)+" "+(o.chartObj.canvasY+t.Y+t.Height/2)+"  z",k="M "+(o.chartObj.canvasX+s[5].X)+" "+(o.chartObj.canvasY+t.Y)+" L "+(o.chartObj.canvasX+s[5].X)+" "+(t.Height+t.Y+o.chartObj.canvasY)+" M "+(o.chartObj.canvasX+s[5].X)+" "+(o.chartObj.canvasY+t.Y+t.Height/2)+" L "+(o.chartObj.canvasX+s[2].X)+" "+(o.chartObj.canvasY+t.Y+t.Height/2)+"  z"):(b="M "+(o.chartObj.canvasX+t.X)+" "+(o.chartObj.canvasY+s[4].Y)+" L "+(o.chartObj.canvasX+t.X+t.Width)+" "+(o.chartObj.canvasY+s[4].Y)+" M "+(o.chartObj.canvasX+t.X+t.Width/2)+" "+(o.chartObj.canvasY+s[4].Y)+" L "+(o.chartObj.canvasX+t.X+t.Width/2)+" "+(o.chartObj.canvasY+s[1].Y)+"  z",k="M "+(o.chartObj.canvasX+t.X)+" "+(o.chartObj.canvasY+s[5].Y)+" L "+(o.chartObj.canvasX+t.X+t.Width)+" "+(o.chartObj.canvasY+s[5].Y)+" M "+(o.chartObj.canvasX+t.X+t.Width/2)+" "+(o.chartObj.canvasY+s[5].Y)+" L "+(o.chartObj.canvasX+t.X+t.Width/2)+" "+(o.chartObj.canvasY+s[2].Y)+"  z"),d=u._isTransposed?"M "+(o.chartObj.canvasX+s[0].X-5)+" "+(o.chartObj.canvasY+t.Y+t.Height/2-5)+" L "+(o.chartObj.canvasX+s[0].X+5)+" "+(o.chartObj.canvasY+t.Y+t.Height/2+5)+" M "+(o.chartObj.canvasX+s[0].X+5)+" "+(o.chartObj.canvasY+t.Y+t.Height/2-5)+" L "+(o.chartObj.canvasX+s[0].X-5)+" "+(o.chartObj.canvasY+t.Y+t.Height/2+5)+" z":"M "+(o.chartObj.canvasX+t.X+t.Width/2-5)+" "+(o.chartObj.canvasY+s[0].Y-5)+" L "+(o.chartObj.canvasX+t.X+t.Width/2+5)+" "+(o.chartObj.canvasY+s[0].Y+5)+" M "+(o.chartObj.canvasX+t.X+t.Width/2-5)+" "+(o.chartObj.canvasY+s[0].Y+5)+" L "+(o.chartObj.canvasX+t.X+t.Width/2+5)+" "+(o.chartObj.canvasY+s[0].Y-5)+" z",{upperWhisker:k,lowerWhisker:b,mean:d}},calculateSides:function(n,t){var i=n.xValue+t.Start,r=n.xValue+t.End;return{x1:i,x2:r}},_getSeriesPosition:function(n){var o,s,i,r,u,f,t,e;if(ej.util.isNullOrUndefined(n.position)||this.chartObj.model.legendCollapsed){for(i=0,r=[],u=0;u<this.chartObj.model._visibleSeries.length;u++)t=this.chartObj.model._visibleSeries[u],(t.visibility.toLowerCase()==="visible"&&t.drawType.toLowerCase()=="column"||t.drawType.toLowerCase()=="rangecolumn")&&r.push(t);for(f=0;f<r.length;f++)t=r[f],t._xAxisName==this.chartObj.model._axes[0].name&&t._yAxisName==this.chartObj.model._axes[1].name&&(t.isStacking?(o||(s=i,i++,o=!0),t.position=s):(t.position=i,i++));for(e=0;e<r.length;e++)r[e].all=i}return{all:n.all,pos:n.position}},getSideBySidePositions:function(t,i){var h=this,s=[],e=h.chartObj.model,r,u,f,o,c,l,a;return u=f=o=0,c=e._visibleSeries.length,(ej.util.isNullOrUndefined(t.position)||e.legendCollapsed||!i.spacingCalculated)&&(l=e.requireInvertedAxes?e.vAxes:e.hAxes,a=e.requireInvertedAxes?e.hAxes:e.vAxes,n.each(l,function(n,t){var a=[],l,v,y,n;for(r=[],f=0;f<c;f++)l=e._visibleSeries[f],l.visibility.toLowerCase()==="visible"&&h.isDependentSeries(l)&&t.name==l._xAxisName&&a.push(l);for(v=a.length,f=0;f<v;f++)n=e.requireInvertedAxes?a[f].yAxis.columnIndex:a[f].yAxis.rowIndex,r[n]||(r[n]=[],a[f].yAxis.position=null),r[n].push(a[f]);for(u=0;u<r.length;u++)if(!ej.util.isNullOrUndefined(r[u]))for(r[u].all=0,f=0;f<r[u].length;f++)l=r[u][f],l.type.toLowerCase().indexOf("stacking")!=-1?l.stackingGroup?ej.util.isNullOrUndefined(s[l.stackingGroup])?(r[u].all++,l.position=r[u].all,s[l.stackingGroup]=r[u].all):l.position=s[l.stackingGroup]:ej.util.isNullOrUndefined(l.yAxis.position)||e.legendCollapsed?(r[u].all++,l.position=r[u].all,l.yAxis.position=r[u].all,e.legendCollapsed=!1):l.position=l.yAxis.position:(r[u].all++,l.position=r[u].all);for(y=v>0&&a[0].columnWidth,o=0;o<v;o++)n=e.requireInvertedAxes?a[o].yAxis.columnIndex:a[o].yAxis.rowIndex,a[o].all=r[n].all,i.needSpace=i.needSpace||y!=a[o].columnWidth}),i.needSpace&&this.chartObj.model._sideBySideSeriesPlacement&&this._getColumnSpacing(r,i),i.spacingCalculated=!0),{all:t.all,pos:t.position}},getSideBySideInfo:function(n,t){var f;ej.util.isNullOrUndefined(n.xAxis.m_minPointsDelta)&&(this.chartObj.currentSeries=n,n.xAxis.m_minPointsDelta=ej.EjSvgRender.utils.getMinPointsDelta(n.xAxis,this.chartObj));var c=n.columnSpacing,e=n.columnWidth,o=this.getSideBySidePositions(n,t),l=o.pos,s=o.all,u=t.needSpace&&this.chartObj.model._sideBySideSeriesPlacement,r=n.xAxis.m_minPointsDelta*(u?1:e),h=u?t[n.name||n._name].loc:(l-1)/s-.5,i=this.getDoubleRange(h,h+(u?e:1)/s);return this.chartObj.model._sideBySideSeriesPlacement?(i.IsEmpty||(i=this.getDoubleRange(i.Start*r,i.End*r),f=c*i.Delta,i=this.getDoubleRange(i.Start+f/2,i.End-f/2)),i):this.getDoubleRange(-r/2,r/2)},_getColumnSpacing:function(n,t){for(var f=0,u=0,s,i,e,c,o,l=n.length;f<l;f++){var h=0,r={};for(s=n[f].length;u<s;u++)(i=n[f][u]).type.toLowerCase().indexOf("stacking")==-1?h+=i.columnWidth/i.all:r[e=i.stackingGroup]={width:Math.max(i.columnWidth,r[e]?r[e].width:0),all:i.all};for(c in r)h+=r[c].width/r[c].all;for(o=(1-h)/2-.5,u=0,s=n[f].length;u<s;u++)(i=n[f][u]).type.toLowerCase().indexOf("stacking")==-1?(t[i.name||(i._name="series"+f+u)]={loc:o},o+=i.columnWidth/i.all):r[e=i.stackingGroup].loc==null?(t[i.name||(i._name="series"+f+u)]={loc:o+(r[e].width-i.columnWidth)/2/i.all},r[e].loc=t[i.name||i._name].loc+i.columnWidth/2/i.all,o+=r[e].width/i.all):t[i.name||i._name]={loc:r[e].loc-i.columnWidth/2/i.all}}},_getPoint:function(n,t,i,r,u,f,e){var o=n.xValue,s=n.YValues[0];return o=(o-r.min)/r.delta,s=(s-f.min)/f.delta,{X:(u?1-o:o)*t,Y:(1-(e?1-s:s))*i}},_getLogPoint:function(n,t,i,r,u,f,e,o){var s=n.xValue,h=n.YValues[0];return s=o.xAxis._valueType.toLowerCase()=="logarithmic"?(ej.EjSvgRender.utils._logBase(s==0?1:s,o.xAxis.logBase)-r.min)/r.delta:(s-r.min)/r.delta,h=o.yAxis._valueType.toLowerCase()=="logarithmic"?(ej.EjSvgRender.utils._logBase(h==0?1:h,o.yAxis.logBase)-f.min)/f.delta:(h-f.min)/f.delta,{X:(u?1-s:s)*t,Y:(1-(e?1-h:h))*i}},_getTransposedPoint:function(n,t,i,r,u,f,e){var o=n.xValue,s=n.YValues[0];return o=(o-r.min)/r.delta,s=(s-f.min)/f.delta,{X:(e?1-s:s)*i,Y:(1-(u?1-o:o))*t}},_getTransposedLogPoint:function(n,t,i,r,u,f,e,o){var s=n.xValue,h=n.YValues[0];return s=o.xAxis._valueType.toLowerCase()=="logarithmic"?(ej.EjSvgRender.utils._logBase(s==0?1:s,o.xAxis.logBase)-r.min)/r.delta:(s-r.min)/r.delta,h=o.yAxis._valueType.toLowerCase()=="logarithmic"?(ej.EjSvgRender.utils._logBase(h==0?1:h,o.yAxis.logBase)-f.min)/f.delta:(h-f.min)/f.delta,{X:(e?1-h:h)*i,Y:(1-(u?1-s:s))*t}},draw:function(t,i){var v=ej.EjSvgRender.utils._getStringBuilder(),u,d,r,et,y,b,k,e,f,o=t.canvasX,s=t.canvasY,p,a,h,g,ot,c,w,nt,st=t.model.requireInvertedAxes,bt=0,tt=t.model.enableCanvasRendering,ht=t,l,kt=i.xAxis._valueType.toLowerCase()=="logarithmic"||i.yAxis._valueType.toLowerCase()=="logarithmic",it=i._isTransposed,ct=it?i.xAxis.height:i.xAxis.width,lt=it?i.yAxis.width:i.yAxis.height,at=i.xAxis.visibleRange,vt=i.yAxis.visibleRange,yt=i.xAxis.isInversed,pt=i.yAxis.isInversed,rt,wt=this["_get"+(it?"Transposed":"")+(kt?"Log":"")+"Point"],ut,ft;if(this.chartObj=t,rt=this.setLineSeriesStyle(i),i._animationType="path",i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("xValue")).executeLocal()),i._visiblePoints=undefined,u=this.improveChartPerformance(i),d={min:0,max:u.length},i.pointFill)for(p=n.inArray(i,this.chartObj.model._visibleSeries),g=u.length-1,l=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,st),o=ht.canvasX,s=ht.canvasY,ot={id:this.chartObj.svgObject.id+"_SeriesGroup_"+p,transform:"translate("+l.x+","+l.y+")"},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ot),r=0;r<g;r++)(nt=u[r],a=u[r+1],c||(c=this.chartObj.setStyle(this,i,p,r,undefined,u)),a.visible&&nt.visible&&(e=ej.EjSvgRender.utils._getPoint(nt,i),f=ej.EjSvgRender.utils._getPoint(a,i),v.append("M "+(e.X+o)+" "+(e.Y+s)+" L "+(f.X+o)+" "+(f.Y+s)+" ")),w=this.chartObj.setStyle(this,i,p,r+1,undefined,u),w.interior==c.interior&&r!=g-1&&a.visible)||(et={name:i.type,id:this.chartObj.svgObject.id+"_Series"+p+"_Point"+bt++,"stroke-dasharray":c.dashArray,fill:"none","stroke-width":c.width,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,stroke:c.interior,opacity:c.opacity,d:v.toString()},this.chartObj.svgRenderer.drawPath(et,this.gSeriesGroupEle),v=ej.EjSvgRender.utils._getStringBuilder(),c=w);else{for(tt&&(h=t.svgRenderer.ctx,h.save(),h.beginPath(),t.model.AreaType=="cartesianaxes"&&(l=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,st),l="translate("+l.x+","+l.y+")"),w={"stroke-dasharray":i.dashArray,"stroke-width":i.width,stroke:rt.SeriesInterior,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,opacity:i.opacity},t.svgRenderer._setLinePathStyle(w,l)),y=null,b,k=-1,ut="M ",r=d.min;r<d.max;r++)b=u[r],b.visible!==!1?(y!=null&&u.length>k+1&&(a=u[k+1],e=wt(y,ct,lt,at,yt,vt,pt,i),f=wt(a,ct,lt,at,yt,vt,pt,i),tt?(ft&&(h.lineTo(f.X+o,f.Y+s),ft=null),h.moveTo(e.X+o,e.Y+s),h.lineTo(f.X+o,f.Y+s),ft=f):(v.append(ut+(e.X+o)+" "+(e.Y+s)+" L "+(f.X+o)+" "+(f.Y+s)+" "),ut="L ")),y=b,k=r):y=null;tt?(h.stroke(),h.restore()):this._drawLinePath(i,rt,v.toString())}this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle);i._visiblePoints=i._dataLabels>0||i.marker&&i.marker.dataLabel.visible==!0&&i.enableSmartLabels?this._isVisiblePoints(i):u},doCircularAnimation:function(t,i,r,u,f){var e=i.type.toLowerCase();if(e=="pie"||e=="doughnut"||e=="pieofpie"){var o=this,h,c,s=i.points[0]?i.points[0].startAngle:0,l=t.model._isPieOfPie?i.collectionIndex:0,a=i.emptyPointSettings.visible?i.visiblePoints:i._visiblePoints;f=ej.util.isNullOrUndefined(f)?1200:f;n.each(a,function(r,a){h=a.startAngle;c=a.endAngle;t.model._radius=t.model._isPieOfPie?t.model.circularRadius[l]:t.model.circularRadius[u];a.startAngle=0;a.endAngle=a.startAngle;t.model.Radius=0;var v=n(t.gSeriesEle).find("#"+t.svgObject.id+"_SeriesGroup_"+u)[l].childNodes[r];e=="pie"||e=="pieofpie"?n(v).each(function(){this.StartAngle=s;this.EndAngle=s}).animate({StartAngle:h,EndAngle:c,pieRadius:t.model._radius},{duration:f,queue:!1,step:function(f,e){if(e.prop.toString()==="StartAngle"?(a.startAngle=f,a.endAngle=a.startAngle):e.prop.toString()=="pieRadius"&&t.model?t.model.Radius=f:a.endAngle=f,t.model){var s=o._calculateArcData(t,r,a,i,u,l);t.svgRenderer._setAttr(n(v),{d:s.Direction});t.model.Radius=t.model._radius}},complete:function(){o.circularAnimationComplete(r,t,i)}}):n(v).each(function(){this.StartAngle=s;this.EndAngle=s}).animate({StartAngle:h,EndAngle:c},{duration:f,queue:!1,step:function(f,e){if(e.prop.toString()==="StartAngle"?(a.startAngle=f,a.endAngle=a.startAngle):a.endAngle=f,t.model){var s=o._calculateArcData(t,r,a,i,u);t.svgRenderer._setAttr(n(v),{d:s.Direction});t.model.Radius=t.model._radius}},complete:function(){o.circularAnimationComplete(r,t,i)}})})}},circularAnimationComplete:function(t,i,r){if(!ej.util.isNullOrUndefined(i.model)){var e,f,u=n.inArray(r,i.model._visibleSeries),o;if(i.gSeriesTextEle[u]&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSeriesTextEle[u].id),{visibility:"visible"}),i.gSymbolGroupEle[u]&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gSymbolGroupEle[u].id),{visibility:"visible"}),i.gDataLabelEle[u]&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gDataLabelEle[u].id),{visibility:"visible"}),r.marker.dataLabel.template)for(o=n(i.element[0].childNodes[0].childNodes),f=0;f<o.length;f++)n(o[f]).css("display","block");i.gConnectorEle[u]&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gConnectorEle[u].id),{visibility:"visible"});i.gConnectorLinesGroup&&i.svgRenderer._setAttr(n(i.gSeriesEle).find("#"+i.gConnectorLinesGroup.id),{visibility:"visible"});i.model.AnimationComplete=!0;r.AnimationComplete=!0;e=n.extend({},ej.EjSvgRender.commonChartEventArgs);e.data={series:r};i._trigger("animationComplete",e)}},_doLineSymbol:function(t,i,r,u,f,e,o){if(t.tagName!="defs"){var p=parseInt(r*i),s=this.chartObj==undefined?e:this.chartObj,h=ej.EjSvgRender.utils._getBoundingClientRect(t,s,u,f),a=h.x+h.width/2,v=h.y+h.height/2,y,c=n(t),l=s.svgRenderer._getAttrVal(c,"transform");l=ej.util.isNullOrUndefined(l)?" ":l;s.svgRenderer._setAttr(c,{transform:"scale(0)"});c.delay(p).animate({scales:1},{duration:o,step:function(n){y=n;s.svgRenderer._setAttr(c,{transform:"translate("+a+" "+v+") scale("+y+") translate("+-a+" "+-v+")"+l})}})}},animateSymbol:function(t,i,r,u,f,e){if(t.tagName!="defs"){var h=this.chartObj==undefined?f:this.chartObj,o=ej.EjSvgRender.utils._getBoundingClientRect(t,h,r,u),l=o.x+o.width/2,a=o.y+o.height/2,v,c=n(t),s=h.svgRenderer._getAttrVal(c,"transform");s=ej.util.isNullOrUndefined(s)?" ":s;c.delay(i).each(function(){this.scale=.5}).animate({scales:1},{duration:e,step:function(n){v=n;h.svgRenderer._setAttr(c,{transform:"translate("+l+" "+a+") scale("+v+") translate("+-l+" "+-a+")"+s})}})}},animateCylinder:function(t,i,r,u,f){var o,e;i.isTransposed&&r?(o=u[0].width.animVal.value,t.model.series[0].type.indexOf("bar")>-1?(t.svgRenderer._setAttr(n(u),{x:o}),n(u).animate({x:0},f,function(){})):(e=u[0].height.animVal.value,t.svgRenderer._setAttr(n(u),{y:0}),n(u).animate({y:parseFloat(t.svgRenderer._getAttrVal(u,"y")),height:parseFloat(t.svgRenderer._getAttrVal(u,"height"))},{duration:f,step:function(i){t.svgRenderer._setAttr(n(u),{y:e-i});t.svgRenderer._setAttr(n(u),{height:i})}}))):t.model.series[0].type.indexOf("bar")>-1?n(u).animate({width:parseFloat(t.svgRenderer._getAttrVal(u,"width"))},{duration:f,step:function(i){t.svgRenderer._setAttr(n(u),{width:i})}}):(e=u[0].height.animVal.value,t.svgRenderer._setAttr(n(u),{y:e}),n(u).animate({y:0},f,function(){}))},animateRect:function(t,i,r,u,f){var a=i.animationType.toLowerCase(),e=ej.EjSvgRender.utils._getBoundingClientRect(a=="smooth"?t[0]:t,u,i,r),h,c,y,p,w,s=n(t),o,v,l;i.isTransposed&&r||r?(o=a=="smooth"?parseFloat(u.svgRenderer._getAttrVal(t,"width")):0,v=!0,u.svgRenderer._getAttrVal(s,"plot")==="negative"?(h=e.x+e.width,c=e.y+e.height):(h=e.x,c=e.y),y=") scale(",p=",1) translate("):(o=a=="smooth"?parseFloat(u.svgRenderer._getAttrVal(t,"height")):0,v=!1,u.svgRenderer._getAttrVal(s,"plot")==="negative"?(h=e.x,c=e.y):(h=e.x+e.width,c=e.y+e.height),y=") scale(1,",p=") translate(");l=Math.abs(ej.EjSvgRender.utils._getPointXY(i.yAxis.visibleRange.min<0?0:i.yAxis.visibleRange.min,i.yAxis.visibleRange,i.yAxis.isInversed)*(v?i.yAxis.width:i.yAxis.height));s.animate({scales:a=="smooth"?o:1},{duration:f,complete:function(){i.type.toLowerCase()=="waterfall"&&n("#"+u.svgObject.id+"_SeriesGroup_waterfallLine_"+i.index).attr("visibility","visible")},step:function(n){w=n;a=="smooth"?(n&&(v?u.svgRenderer._setAttr(s,{width:l+n>=o?o:n}):u.svgRenderer._setAttr(s,{height:n})),v?u.svgRenderer._setAttr(s,{x:l+n>=o?o-n:l}):u.svgRenderer._setAttr(s,{y:o-l-n>=0?o-l-n:0})):u.svgRenderer._setAttr(s,{transform:"translate("+h+" "+c+y+w+p+-h+" "+-c+")"})}})},animateStackingRect:function(t,i,r,u,f){var e,o,s,h,c=n(t),l,a,v,y=ej.EjSvgRender.utils._getBoundingClientRect(t,u,i,r);i.isTransposed&&r||r?(l=ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0)*i.yAxis.width,e=l,o=y.y,s=") scale(",h=",1) translate("):(a=(1-ej.EjSvgRender.utils._valueToCoefficient(i.yAxis,0))*i.yAxis.height,e=y.x,o=a,s=") scale(1,",h=") translate(");c.animate({scales:1},{duration:f,step:function(n){v=n;u.svgRenderer._setAttr(c,{transform:"translate("+e+" "+o+s+v+h+-e+" "+-o+")"})}})},_doLineAnimation:function(t,i,r){var r=ej.util.isNullOrUndefined(r)?2e3:r,f=t.model.primaryXAxis.isInversed,e=parseFloat(t.svgRenderer._getAttrVal(i,"width")),u;t.model.requireInvertedAxes?(u=parseFloat(t.svgRenderer._getAttrVal(i,"height")),n(i).animate({clipRectHeight:parseFloat(t.svgRenderer._getAttrVal(i,"height"))},{duration:r,step:function(r){t.svgRenderer._setAttr(n(i),{y:u-r});t.svgRenderer._setAttr(n(i),{height:r})}})):n(i).animate({clipRectWidth:parseFloat(t.svgRenderer._getAttrVal(i,"width"))},{duration:r,step:function(r){f&&t.svgRenderer._setAttr(n(i),{x:e-r});t.svgRenderer._setAttr(n(i),{width:r})}})},_drawLinePath:function(t,i,r){var h=this.chartObj.model.requireInvertedAxes,f,e=n.inArray(t,this.chartObj.model._visibleSeries),o=null,s,u;this.chartObj.model.AreaType=="cartesianaxes"&&(f=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,h),o="translate("+f.x+","+f.y+")");s={id:this.chartObj.svgObject.id+"_SeriesGroup_"+e,transform:o};this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(s);r!=""&&r.indexOf("NaN")==-1&&(u={id:this.chartObj.svgObject.id+"_Series"+e,fill:"none","stroke-dasharray":t.dashArray,"stroke-width":t.width,stroke:i.SeriesInterior,"stroke-linecap":t.lineCap,"stroke-linejoin":t.lineJoin,opacity:t.opacity,d:r},this.chartObj.dragPoint?(u.id=this.chartObj.svgObject.id+"_PreviewSeries"+e,u.opacity=.6,this.chartObj.model.enableCanvasRendering?this.chartObj.svgRenderer.drawPath(u,this.chartObj.canvasElement,o):this.chartObj.svgRenderer.drawPath(u,this.chartObj.gPreviewSeriesGroupEle)):this.chartObj.svgRenderer.drawPath(u,this.gSeriesGroupEle))},_applySaturation:function(n,t){var r,u,i;return r=ej.EjSvgRender.prototype.checkColorFormat(t),r||(t=n.colorNameToHex(t)),i=ej.EjSvgRender.prototype.hexToRGB(t),u=Math.round((parseInt(i.R)*299+parseInt(i.G)*587+parseInt(i.B)*114)/1e3),u>=128?"black":"white"},drawDataLabel:function(t,i,r,u,f,e,o,s){var ci,et,g,ii,yi,nt,pi,ri,ui;r.marker=r.marker?r.marker:{};var ct=t.yAxis.labelFormat,yt,fi=20,nr=t.yAxis.valueType,lt,rt,ot,tt,st,at,b,ei,wi=t._visiblePoints[i].boxPlotValues,dt=t.type.toLowerCase()=="waterfall"&&(r.showIntermediateSum||r.showTotalSum)?r.waterfallSum:r.y;r.text?lt=r.text:ct?ct.indexOf("{value}")>-1?lt=ct.replace("{value}",dt):ct.indexOf("e")==0||ct.indexOf("E")==0?(yt=ct.match(/(\d+)/g),yt=yt==null?6:yt>fi?fi:yt,lt=dt.toExponential(yt)):lt=ej.format(dt,ct,this.chartObj.model.locale):lt=dt;var c=this.chartObj,a=c.model,v=n.inArray(t,a._visibleSeries),oi,ut,ft,kt=n.extend(!0,{},t.marker,r.marker),it=kt.dataLabel,pt=a.m_AreaBounds,l=it.font,d=it.textPosition.toLowerCase(),vt=it.textAnchor.toLowerCase(),wt=t.type.toLowerCase(),si=a.enableCanvasRendering,bi=ej.seriesTypes[wt].prototype.isRegion,ki=ej.util.isNullOrUndefined(l.size)?"11px":l.size,di=ej.util.isNullOrUndefined(l.fontStyle)?"Normal":l.fontStyle,gi=ej.util.isNullOrUndefined(l.fontFamily)?"Segoe UI":l.fontFamily,hi={size:ki,fontStyle:di,fontFamily:gi},y=ej.EjSvgRender.utils._measureText(lt,null,hi);degree=it.angle;padding=10;angle=degree>360?degree-360:degree<-360?degree+360:degree;d=="middle"&&(angle==-90||angle==90)&&(ci=c.model.chartRegions[e].Region.Bounds,y.width>ci.Height?d="bottom":d=="middle");var li=this.textPosition(t,v,r,y,wt,u,f,e,i,o,d),h=n.extend({},ej.EjSvgRender.commonChartEventArgs),ni=it.enableContrastColor,k=a.chartArea.background.toLowerCase(),ht=a.background.toLowerCase();h.data={text:lt,location:{x:li.x+c.canvasX,y:li.y+c.canvasY},seriesIndex:v,pointIndex:i};t.isStacking&&t.drawType=="area"&&(t.type=="polar"||t.type=="radar")&&(h.data.text=t.stackedValue.EndValues[i]-t.stackedValue.StartValues[i]);c._trigger("displayTextRendering",h);var ai=kt.dataLabel.offset.y==undefined?kt.dataLabel.offset:kt.dataLabel.offset.y,vi=kt.dataLabel.offset.x,y=ej.EjSvgRender.utils._measureText(h.data.text,null,hi);if(h.data.location.y=d=="bottom"?h.data.location.y+ai:h.data.location.y-ai,vi&&(h.data.location.x=h.data.location.x+vi),(angle==90||angle==-90)&&(d=="bottom"?(vt=angle==-90?"start":"end",h.data.location.y=h.data.location.y+padding/2):d=="top"&&(vt=="middle"||vt=="start"?(vt=angle==-90?"start":"end",h.data.location.y=h.data.location.y+padding):(vt="end",h.data.location.y=h.data.location.y+padding*2))),!h.cancel){var p={id:c.svgObject.id+"_SeriesText"+i+v,x:h.data.location.x,y:h.data.location.y,fill:l.color,"font-size":l.size,"font-family":l.fontFamily,"font-style":l.fontStyle,"font-weight":l.fontWeight,opacity:l.opacity,"text-anchor":vt},w=it.margin,gt=y.width+w.left+w.right,bt=y.height+w.top+w.bottom,ti={X:h.data.location.x,Y:h.data.location.y};if(ej.util.isNullOrUndefined(it.template)?(oi=it.shape?it.shape:"None",n.each(a.symbolShape,function(n){oi.toLowerCase()==n.toLowerCase()&&(ft=n)}),et=h.data.location.x-w.left/2+w.right/2,g=h.data.location.y-w.top/2-bt/w.top+w.bottom/2,a.enableCanvasRendering&&degree%360!=0&&(p.y-=y.height/4,p.baseline="middle"),it.showEdgeLabels&&(rt=si?p.x-c.canvasX:p.x,ot=si?p.y-c.canvasY:p.y,(angle==90||angle==-90)&&(y.width=[y.height,y.height=y.width][0]),tt=y.width,st=y.height,ii=t._visiblePoints[t._visiblePoints.length-1]==r&&rt+tt/2>=c.model.m_AreaBounds.Width,(rt-tt/2<0||rt<-tt/2)&&ii?(at=rt-tt/2,p.x=et=Math.abs(at)+(ii?-10:rt+10)):(rt+tt/2>pt.textWidth||rt+tt/2>pt.textWidth+tt/2)&&(at=rt-tt/2,p.x=et=pt.textWidth-tt/2-10),ot+st/2>pt.textHeight||ot+st/2>pt.textHeight+st/2?(at=ot+st/2-pt.textHeight,g=ot-at-10,p.y=g+5):(ot-st/2<0||ot<-st/2)&&(at=ot-st/2,g+=Math.abs(at)+10,p.y=g+5)),t._enableSmartLabels&&(r.dataLabel={textX:p.x,textY:p.y,x:et,y:g,width:gt,height:bt},r.margin={top:w.top,bottom:w.bottom}),b=jQuery.type(a.seriesColors[v])=="array"?a.seriesColors[v][0].color:a.seriesColors[v],b=r.fill?jQuery.type(r.fill)=="array"?r.fill[0].color:r.fill:b,ni&&(ut=!bi||d=="top"?k==="transparent"&&ht==="transparent"?"white":k!="transparent"?k:ht:b,p.fill=this._applySaturation(c,ut)),r.y!=r.low||r.y===undefined&&r.low===undefined?wt.toLowerCase()=="boxandwhisker"&&wi.midvalue!=r.y?(yi={id:c.svgObject.id+"_SeriesText"+i+v,x:ej.util.isNullOrUndefined(s)?h.data.location.x:et,y:ej.util.isNullOrUndefined(s)?h.data.location.y:g,fill:l.color,"font-size":l.size,"font-family":l.fontFamily,"font-style":l.fontStyle,"font-weight":l.fontWeight,opacity:l.opacity,"text-anchor":vt},nt=r.textOptionsBoxValues.length,r.textOptionsBoxValues[nt]=yi,angle!=0&&(r.textOptionsBoxValues[nt].angle=angle),r.textOptionsBoxValues[nt].drawText=h.data.text,r.textOptionsBoxValues[nt].index=i,r.textOptionsBoxValues[nt].xPos=ej.util.isNullOrUndefined(s)?et:et-w.left/2+w.right/2,r.textOptionsBoxValues[nt].yPos=ej.util.isNullOrUndefined(s)?g:g-w.top/2-bt/w.top+w.bottom/2,r.textOptionsBoxValues[nt].seriesIndex=v,r.textOptionsBoxValues[nt].width=ft=="None"?y.width:gt,r.textOptionsBoxValues[nt].height=ft=="None"?y.height:bt,r.textOptionsBoxValues[nt].symbolName=ft):(r.textOptions=p,angle!=0&&(r.textOptions.angle=angle),r.drawText=h.data.text,r.index=i,r.xPos=et,r.yPos=g,r.seriesIndex=v,r.width=ft=="None"?y.width:gt,r.height=ft=="None"?y.height:bt,(angle==90||angle==-90)&&(r.width=[r.height,r.height=r.width][0]),r.symbolName=ft):(r.xPosLow=et,r.yPosLow=g,r.widthLow=ft=="None"?y.width:gt,r.heightLow=ft=="None"?y.height:bt,r.textOptionsLow=p,r.textOptionsLow.angle=angle,r.drawTextLow=h.data.text)):(ti.X-=c.canvasX,ti.Y-=c.canvasY,this.drawLabelTemplate(t,r,i,ti,c)),(wt.indexOf("column")>-1||wt.indexOf("bar")>-1)&&ni)if(pi=c.model.chartRegions[e],ri=o.stackingGroup,d=="top"&&wt.indexOf("stacking")>-1){if(ej.util.isNullOrUndefined(t.stackingGroup)||t.stackingGroup=="")v<a._visibleSeries.length-1?(b=jQuery.type(a.seriesColors[v+1])=="array"?a.seriesColors[v+1][0].color:a.seriesColors[v+1],b=r.fill?jQuery.type(r.fill)=="array"?r.fill[0].color:r.fill:b,ut=b):ut=k==="transparent"&&ht==="transparent"?"white":k!="transparent"?k:ht;else for(ui in ri)if(ui==t.stackingGroup&&v<ri[ui].length-1){b=jQuery.type(a.seriesColors[v+1])=="array"?a.seriesColors[v+1][0].color:a.seriesColors[v+1];b=r.fill?jQuery.type(r.fill)=="array"?r.fill[0].color:r.fill:b;ut=b;break}else{ut=k==="transparent"&&ht==="transparent"?"white":k!="transparent"?k:ht;break}p.fill=this._applySaturation(c,ut)}else ei=ej.ejChart.isCollide(pi,r,0,ni,c),d!="bottom"&&d!="middle"||ei.state||(ut=k==="transparent"&&ht==="transparent"?"white":k!="transparent"?k:ht,p.fill=this._applySaturation(c,ut))}},updateSmartLabelPosition:function(t,i,r,u,f,e,o,s,h,c){var a=[],d=h,y=d.model,ti=y.legend,ei=y.LegendActualBounds,oi=ti.position.toLowerCase(),g=new ej.seriesTypes[t.type.toLowerCase()],ut="",kt="",st=u.connector.connectorX,ht=u.connector.connectorY,v=u.midPoint.midX,p=u.midPoint.midY,pi=u.doughnutMidPoint.dMidX,wi=u.doughnutMidPoint.dMidY,b=e.startX,ct=e.startY,si=n.extend(!0,{},t.marker,i.marker),dt=si.dataLabel.template?0:4,lt,k,nt,at,rt=f,hi=t.startAngle>t.endAngle?-.01:.01,ii=si.dataLabel.connectorLine.type.toLowerCase(),vt,vi=t.type.toLowerCase(),w=y._isPieOfPie?y.circularRadius[t.collectionIndex]:y.circularRadius[c],ri=vi=="pieofpie"?"inside":t.labelPosition.toLowerCase(),ci,li,ft,et,yt,ai,tt,gt,it,pt,bt,ui,ni,fi,wt,ot;if(ej.util.isNullOrUndefined(y.bounds[c])&&(y.bounds[c]=[],y.bounds[c].points=[],ri=="outsideextended"&&(y.bounds[c].points.left=[],y.bounds[c].points.right=[])),ri=="inside"&&ej.util.isNullOrUndefined(i.smartLabelPosition)){k=(v+b)/2;nt=(p+ct)/2;k=(v+k)/2;nt=(p+nt)/2;l=i.isIntersected&&y.bounds[c].points[i.index]?y.bounds[c].points[i.index]:v>b?{X:k,Y:nt,Left:k,Top:nt,Right:k+s.width,Bottom:nt+s.height,SeriesIndex:c,PointIndex:r}:{X:k,Y:nt,Left:k-s.width,Top:nt,Right:k,Bottom:nt+s.height,SeriesIndex:c,PointIndex:r};do(at=!1,this.IntersectWith(d,i,l,"inside",c))&&((vt=l.Left,ci=f*180/Math.PI,li=rt*180/Math.PI,li-ci>=270)||(rt+=hi,i.isIntersected=!0,l.Angle=rt,v>b?(l.X=l.Left=g.getXCordinate(b,w+o,rt),l.Right=l.X+s.width):(l.X=l.Right=g.getXCordinate(b,w+o,rt),l.Left=l.Right-s.width),l.Y=l.Top=g.getYCordinate(ct,w+o,rt),l.Bottom=l.Y+s.height,at=!0));while(at);v>b&&l.X<b&&(l.Right=vt,l.Left=vt-s.width);y.bounds[c].points[r]=l;i.isIntersected&&y.bounds[c].points[r].Angle&&(k=g.getXCordinate(b,w+o,y.bounds[c].points[r].Angle),nt=g.getYCordinate(ct,w+o,y.bounds[c].points[r].Angle),ft=g.getXCordinate(b,w+o/3,f),et=g.getYCordinate(ct,w+o/3,f),a.push({X:v,Y:p}),a.push({X:ft,Y:et}),a.push({X:k,Y:nt}),i.isIntersected&&ii=="bezier"&&!d.vmlRendering&&(kt=g.drawBezierSegment(a,t,r,d,c)),ut="M "+v+" "+p+" L "+ft+" "+et+" M "+ft+" "+et+" L "+k+" "+nt)}else if(ri=="outside"||i.smartLabelPosition=="outside"){l=v>=b?{X:st,Y:ht,Left:st,Top:ht,Right:st+s.width,Bottom:ht+s.height,SeriesIndex:c,PointIndex:r}:{X:st,Y:ht,Left:st-s.width,Top:ht,Right:st,Bottom:ht+s.height,SeriesIndex:c,PointIndex:r};do(at=!1,this.IntersectWith(d,i,l,"outside",c,s))&&(vt=l.Left,rt+=hi,i.isIntersected=!0,v>b?(l.X=l.Left=g.getXCordinate(b,w+o,rt),l.Right=l.X+s.width):(l.X=l.Right=g.getXCordinate(b,w+o,rt),l.Left=l.Right-s.width),l.Y=l.Top=g.getYCordinate(ct,w+o,rt),l.Bottom=l.Y+s.height,at=!0);while(at);v>b&&l.X<b&&(l.Right=vt,l.Left=vt-s.width);y.bounds[c].points[r]=l;ft=g.getXCordinate(b,w+o/3,f);et=g.getYCordinate(ct,w+o/3,f);a.push({X:v,Y:p});a.push({X:ft,Y:et});a.push({X:l.X,Y:l.Y});k=l.X;nt=l.Y;o>0&&(v<b?(lt=l.X-y.elementSpacing,k=lt-dt):(lt=l.X+y.elementSpacing,k=lt+dt),a.push({X:lt,Y:l.Y}));ii!="bezier"||d.vmlRendering?ut="M "+v+" "+p+" L "+ft+" "+et+" M "+ft+" "+et+" L "+l.X+" "+l.Y+" M "+l.X+" "+l.Y+" L "+lt+" "+l.Y:kt=g.drawBezierSegment(a,t,r,d,c)}else{yt=v;ai=p;v=v+Math.cos(f)*-(w/10);p=p+Math.sin(f)*-(w/10);tt=w/4;a.push({X:v,Y:p});v=v+Math.cos(f)*tt;p=p+Math.sin(f)*tt;a.push({X:v,Y:p});gt=ti.visible&&oi=="left"?y.margin.left+ei.Width:0;it=y.circleCenterX[c];v<b?(v=(it-w-tt*2-t.LeftLabelMaxWidth>0?it-w-tt*2+gt:t.LeftLabelMaxWidth>yt?yt:t.LeftLabelMaxWidth+gt)-s.width/2,pt=a[1].X-t.LeftLabelMaxWidth,ni=it-w-tt*2-t.LeftLabelMaxWidth>0?tt:t.LeftLabelMaxWidth>yt?0:pt>3*(tt/2)?tt:pt/2,bt=+s.width/2):(ui=ti.visible&&oi=="right"?y.margin.right+ei.Width:0,v=(it+w+tt*2+t.RightLabelMaxWidth<n(d.svgObject).width()-ui?it+w+tt*2-gt:it+w+t.RightLabelMaxWidth>n(d.svgObject).width()?yt:n(d.svgObject).width()-t.RightLabelMaxWidth-ui)+s.width/2,pt=n(d.svgObject).width()-t.RightLabelMaxWidth-a[1].X,ni=it+w+tt*2+t.RightLabelMaxWidth<n(d.svgObject).width()?tt:it+w+t.RightLabelMaxWidth>n(d.svgObject).width()?0:pt>3*(tt/2)?tt:pt/2,bt=-s.width/2);fi=Math.sqrt(Math.pow(yt-v,2)+Math.pow(ai-p,2))/10;wt=v<b?!0:!1;v=wt?v+fi:v-fi;var bi=wt?1:-1,u=wt?y.bounds[c].points.left:y.bounds[c].points.right,l={X:v,Y:p,Left:v,Top:p,Right:v+s.width,Bottom:p+s.height,index:r,SeriesIndex:c,PointIndex:r},yi=t.endAngle>t.startAngle?!0:!1;if(this.IntersectWith(d,i,l,"outsideExtended",c)&&(a.push(v<b?{X:v+ni+bt,Y:p}:{X:v-ni+bt,Y:p}),p=yi||t.startAngle==null?u[u.length-1].Y+s.height+2:wt?u[u.length-1].Y-s.height-2:u[u.length-1].Y+s.height+2,l.Y=p,l.Top=p,l.Bottom=p+s.height),a.push({X:v+bt,Y:p}),it<a[0].X&&a[1].X>a[2].X&&(a[2].X=a[1].X),it>a[0].X&&a[1].X<a[2].X&&(a[2].X=a[1].X),wt?(y.bounds[c].points.left||(y.bounds[c].points.left=[]),y.bounds[c].points.left.push(l),a[a.length-1].X>a[a.length-2].X&&(a[a.length-2].X=a[a.length-1].X)):(y.bounds[c].points.right||(y.bounds[c].points.right=[]),y.bounds[c].points.right.push(l),a[a.length-1].X<a[a.length-2].X&&(a[a.length-2].X=a[a.length-1].X)),ut=ej.EjSvgRender.utils._getStringBuilder(),ii!="bezier"||d.vmlRendering){for(ot=0;ot<a.length;ot++)ot==a.length-1?ut.append(" "):ut.append("M "+a[ot].X+" "+a[ot].Y+" L "+a[ot+1].X+" "+a[ot+1].Y+" ");ut=ut.toString()}else kt=g.drawBezierSegment(a,t,r,d,c);k=a[a.length-1].X+(v<b?-dt:dt);nt=a[a.length-1].Y}return{positionX:k,positionY:nt,connectorDirection:ut,isInterSected:i.isIntersected,bezierPath:kt}},updateLabelPosition:function(t,i,r,u,f,e,o,s,h,c){var l=[],a=h,st=new ej.seriesTypes[t.type.toLowerCase()],g="",y=u.connector.connectorX,w=u.connector.connectorY,v=u.midPoint.midX,p=u.midPoint.midY,ct=u.doughnutMidPoint.dMidX,lt=u.doughnutMidPoint.dMidY,rt=e.startX,at=e.startY,et=n.extend(!0,{},t.marker,i.marker),ut=et.dataLabel.template?0:4,it,b,nt,ft,vt,yt=t.type.toLowerCase(),k=a.model.circularRadius[c],ht=yt=="pieofpie"?"inside":t.labelPosition.toLowerCase(),tt,ot,d;if(l.push({X:v,Y:p}),l.push({X:y,Y:w}),b=y,nt=w,ht=="outside")o>0&&(y<rt?(it=y-a.model.elementSpacing,b=it-ut):(it=y+a.model.elementSpacing,b=it+ut),l.push({X:it,Y:w})),et.dataLabel.connectorLine.type.toLowerCase()!="bezier"||a.vmlRendering?g="M "+v+" "+p+" L "+y+" "+w+" M "+y+" "+w+" L "+it+" "+w:st.drawBezierSegment(l,t,r,a,c);else if(ht=="outsideextended"){if(ft=v,vt=p,v=v+Math.cos(f)*-(k/10),p=p+Math.sin(f)*-(k/10),l=[],tt=k/4,l.push({X:v,Y:p}),y=v+Math.cos(f)*tt,w=p+Math.sin(f)*tt,l.push({X:y,Y:w}),ot=a.model.legend.visible&&(a.model.legend.position.toLowerCase()=="left"||a.model.legend.position.toLowerCase()=="right")?a.model.elementSpacing:0,y=v<rt?a.model.centerX-k-tt*2-t.LeftLabelMaxWidth>0?a.model.centerX-k-tt*2+ot:t.LeftLabelMaxWidth>ft?ft:t.LeftLabelMaxWidth:a.model.centerX+k+tt*2+t.RightLabelMaxWidth<n(a.svgObject).width()?a.model.centerX+k+tt*2-ot:a.model.centerX+k+t.RightLabelMaxWidth>n(a.svgObject).width()?ft:n(a.svgObject).width()-t.RightLabelMaxWidth,l.push({X:y,Y:w}),g=ej.EjSvgRender.utils._getStringBuilder(),et.dataLabel.connectorLine.type.toLowerCase()!="bezier"||a.vmlRendering){for(d=0;d<l.length;d++)d==l.length-1?g.append(" "):g.append("M "+l[d].X+" "+l[d].Y+" L "+l[d+1].X+" "+l[d+1].Y+" ");g=g.toString()}else st.drawBezierSegment(l,t,r,a,c);b=l[l.length-1].X+(v<rt?-ut:ut);nt=l[l.length-1].Y}else t.type.toLowerCase()=="doughnut"?(b=(v+ct)/2,nt=(p+lt)/2):(b=(v+rt)/2,nt=(p+at)/2,b=(v+b)/2,nt=(p+nt)/2);return{positionX:b,positionY:nt,connectorDirection:g,points:l[l.length-1]}},updateSmartLabel:function(t,i,r,u){var e=!0,h="",c=i.labelPosition.toLowerCase(),p=n.extend(!0,{},i.marker,u.marker),f=p.dataLabel,o=t.model.m_AreaBounds,b=t.model.svgHeight,w=i.type.toLowerCase(),l,a,s,v,y;return u._labelPlacement="",c=="inside"||c=="outsideextended"?this.calculateInsideConnectorLines(r,u,i,t):this.compareDataLabels(u,r,t.model.outsideDataRegionPoints,i,t),l=t.model.enableCanvasRendering&&!f.template?t.pyrX:0,a=t.model.enableCanvasRendering&&!f.template?t.pyrY:0,w=="pyramid"?(t.model.actualHeight<u.yPos-a||u.xPos-l>o.Width&&u._labelPlacement=="insideoverlap"||t.model.legend.position=="right"&&f.template&&u.xPos+u.width>o.Width+t.model.LegendActualBounds.Width)&&(e=!1,u.drawTextacc=""):(u.yPos-a<0||u.xPos-l>o.Width&&u._labelPlacement=="insideoverlap"||t.model.legend.position=="right"&&f.template&&u.xPos+u.width>o.Width+t.model.LegendActualBounds.Width)&&(e=!1,u.drawTextacc=""),(c=="outside"||u._labelPlacement=="insideoverlap")&&e&&(h=this.drawConnectorLines(r,u,i,t)),f.template&&(s=n("#"+u.id),e?(v=u._labelPlacement=="insidenooverlap"?u.textOptionsacc.x+t.pyrX-u.width/2:u.textOptionsacc.x+t.pyrX,y=u._labelPlacement=="insidenooverlap"?u.textOptionsacc.y+t.pyrY:u.textOptionsacc.y+t.pyrY-t.model.elementSpacing,s.css("left",v).css("top",y),s.css("height",u.height).css("overflow","hidden")):s.css("display","none")),{xPos:u.xPos,yPos:u.yPos,textOptionsacc:u.textOptionsacc,connectorDirection:h.connectorDirection,bezierPath:h.bezierdir,drawTextacc:u.drawTextacc}},compareDataLabels:function(t,i,r,u,f){for(var l,tt,w=n.extend(!0,{},u.marker,t.marker),a=w.dataLabel,b,o,k,e,d,v,y,s=f.model.elementSpacing,h=w.dataLabel.margin,it=u._visiblePoints.length,c=u.labelPosition.toLowerCase(),g=f.model.enableCanvasRendering?f.pyrX:0,nt=f.model.enableCanvasRendering?f.pyrY:0,p=0,rt=r.length;p<rt;p++)if(b=r[p],o=this.isCollide(b,t,u),o.state)if(c=="inside"||c=="outsideextended")for(t.textOptionsacc.y=t.yPos=t.textOptionsacc.y+o.height,y=a.template?{x:t.xPos,y:t.yPos}:{x:t.xPos-g,y:t.yPos-nt},l=0,tt=it;l<tt;l++)k=f.isPointInPolygon(f.model.chartRegions[0].Region[l].Polygon,y),k&&(t.textOptionsacc.x=t.xPos=t.textOptionsacc.x+t.width,y=a.template?{x:t.xPos,y:t.yPos}:{x:t.xPos-g,y:t.yPos-nt});else t._labelPlacement="outside",t.textOptionsacc.y=t.yPos=u.type.toLowerCase()=="pyramid"?t.yPos+o.height+s/2:t.yPos+o.height-s/2,t.textOptionsacc.y=t.textOptionsacc.y+t.height/4-s/2+h.top/2-h.bottom/2;e=a.angle;d=e>360?e-360:e<-360?e+360:e;v="rotate("+d+","+t.textOptionsacc.x+","+t.textOptionsacc.y+")";n(t.textOptionsacc).attr("transform",v);n(t.textOptionsacc).attr({transform:v});(c=="inside"||c=="outsideextended")&&(t.yPos=t.yPos+s/4,t.textOptionsacc.y=t.textOptionsacc.y+t.height/4+h.top/2-h.bottom/2);r[r.length]=t},calculateInsideConnectorLines:function(t,i,r,u){var s=i.Polygon,h=n.extend(!0,{},r.marker,i.marker),f=h.dataLabel,c=f.font,e,l=u.model.enableCanvasRendering?u.pyrX:0,a=u.model.enableCanvasRendering?u.pyrY:0,o=70,v=ej.EjSvgRender.utils._measureText(i.drawTextacc,null,c),y=f.template?{x:i.xPos,y:i.yPos}:{x:i.xPos+v.width/2-l,y:i.yPos-i.height/2-a},p=u.isPointInPolygon(s,y);p?i._labelPlacement="insidenooverlap":(i._labelPlacement="insideoverlap",i.textOptionsacc["text-anchor"]="start",e=i.startX+o<u.model.m_AreaBounds.Width?o:u.model.m_AreaBounds.Width-i.startX,i.textOptionsacc.x=i.xPos=i.startX+e,i.textOptionsacc.y=i.yPos=i.yLocation,u.model.enableCanvasRendering&&!f.template&&(i.textOptionsacc.x+=u.pyrX,i.textOptionsacc.y+=u.pyrY,i.xPos+=u.pyrX,i.yPos+=u.pyrY),this.compareDataLabels(i,t,u.model.outsideDataRegionPoints,r,u))},drawConnectorLines:function(t,i,r,u){var h="",v=new ej.seriesTypes[r.type.toLowerCase()],f=r._visiblePoints[t].startX,e=r._visiblePoints[t].startY,o="",y=n.inArray(r,u.model._visibleSeries),p=n.extend(!0,{},r.marker,i.marker),c=p.dataLabel,s=i.textOptionsacc.y-u.model.elementSpacing/2,l=u.model.enableCanvasRendering?u.pyrX:0,a=u.model.enableCanvasRendering?u.pyrY:0,w=[{X:f+l,Y:e+a},{X:i.textOptionsacc.x,Y:s}];return c.connectorLine.type.toLowerCase()!="bezier"||u.vmlRendering?(o="M "+f+" "+e+" L "+i.textOptionsacc.x+" "+s,u.model.enableCanvasRendering&&!c.template&&(o="M "+f+" "+e+" L "+(i.textOptionsacc.x-l)+" "+(s-a))):h=v.drawBezierSegment(w,r,t,u,y),{connectorDirection:o,bezierdir:h}},isCollide:function(n,t,i){var u=0,f=0,e=i.type.toLowerCase(),r;return r=!(n.yPos+n.height<t.yPos||n.yPos>t.yPos+t.height||n.xPos+n.width/2<t.xPos-t.width/2||n.xPos-n.width>t.xPos+t.width),r&&e=="pyramid"?(f=n.yPos+n.height-t.yPos,u=n.xPos+n.width-t.xPos):r&&e=="funnel"&&(f=n.yPos-(t.yPos+t.height),u=n.xPos+n.width-t.xPos),{state:r,height:f,width:u}},trimText:function(n,t,i){t--;var r=t-i.length,u=n.substr(0,r);return u+i},trimfunction:function(n,t,i,r,u,f){while(t<i)if(n=n.toString(),n=this.trimText(n,n.length,r),i=ej.EjSvgRender.utils._measureText(n,u,f).width,n==r){n="";break}return n},calculatePosition:function(n,t,i,r,u){var f,e,o,s;return f=t.x+i/2-r,e=t.y-u,o=t.x-i/2-r,s=t.y-u,{rightEndX:f,rightEndY:e,leftEndX:o,leftEndY:s}},textOption:function(t,i,r,u,f,e,o,s,h,c,l){var a;if(a=i.model._isPieOfPie?n.extend(!0,{},t.marker,l.marker):n.extend(!0,{},t.marker,t._visiblePoints[e].marker),!a.dataLabel.template){n("#"+i.svgObject.id+"series"+c+"_PointText"+e).remove();var y={id:i.svgObject.id+"series"+c+"_PointText"+e,x:s+u,y:h+r.height/4+f,fill:a.dataLabel.font.color,"font-size":a.dataLabel.font.size,"font-family":a.dataLabel.font.fontFamily,"font-style":a.dataLabel.font.fontStyle,"font-weight":a.dataLabel.font.fontWeight,opacity:a.dataLabel.font.opacity,"text-anchor":o,cursor:"default",degree:a.dataLabel.angle},v=a.dataLabel.angle,w=v>360?v-360:v<-360?v+360:v,p="rotate("+w+","+s+","+h+")";n(y).attr("transform",p);i.model.enableCanvasRendering&&n(y).attr("labelRotation",v);n(y).attr({transform:p})}return y},labelTrim:function(n,t,i,r,u,f,e,o,s,h){var d=-.5*Math.PI,ft=.5*Math.PI,p=this.calculatePosition(n,t,i,u,f),v=n.model.series[s].startAngle,a=n.model.series[s].endAngle,et=n.model.chartRegions.length<n.model._visibleSeries.length?n.model.chartRegions[0].Region:n.model.chartRegions[s].Region,c,l,b,g,y,it,rt="...",tt=a-v,s=n.model._isPieOfPie?h:s,w,k,ut,nt;if(tt<0?(a=a/360,w=a?2*Math.PI*(a<0?1+a:a):0):w=v?2*Math.PI*(n.model.itemCurrentXPos<0?1+n.model.itemCurrentXPos:n.model.itemCurrentXPos):0,v=(Math.atan2(p.rightEndY,p.rightEndX)-d-w)%(2*Math.PI),v<0&&(v=2*Math.PI+v),a=(Math.atan2(p.leftEndY,p.leftEndX)-d-w)%(2*Math.PI),a<0&&(a=2*Math.PI+a),c=parseFloat(e.start.toFixed(14)),l=parseFloat(e.end.toFixed(14)),tt>0?(ej.util.isNullOrUndefined(n.firstStartAngle[0])&&n.firstStartAngle.push(c),c=n.firstStartAngle[0]<0?n.model._isPieOfPie?c:2*Math.PI+c:c,l=n.firstStartAngle[0]<0?n.model._isPieOfPie?l:2*Math.PI+l:l):(c=c<0?n.model._isPieOfPie?c:2*Math.PI+c:c,l=l<0?n.model._isPieOfPie?l:2*Math.PI+l:l),c-=w,l-=w,c>2*Math.PI&&l>2*Math.PI?(v=v+2*Math.PI,a=a+2*Math.PI):c<2*Math.PI&&l>2*Math.PI&&(v<Math.PI/2&&(v=v+2*Math.PI),a<Math.PI/2&&(a=a+2*Math.PI)),v<0&&(a>0||a==null)&&(c=c<0?2*Math.PI+c:c,l=l<=0?2*Math.PI+l:l),b=n.model.circleCenterX[s]<t.x?Math.sqrt(Math.pow(Math.abs(p.rightEndX),2)+Math.pow(Math.abs(p.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(p.leftEndX),2)+Math.pow(Math.abs(p.leftEndY),2)),tt<0&&(l=[c,c=l][0]),a>=c&&a<=l&&v>=c&&v<=l&&b<=n.model.circularRadius[s]&&b>0)g=!0;else for(g=!1;!g;){if(r=this.trimText(r,r.length,rt),r==rt){r="";break}it=ej.EjSvgRender.utils._measureText(r,null,o);y=this.calculatePosition(n,t,it.width,u,f);k=(Math.atan2(y.rightEndY,y.rightEndX)-d-w)%(2*Math.PI);k<0&&(k=2*Math.PI+k);a=(Math.atan2(y.leftEndY,y.leftEndX)-d-w)%(2*Math.PI);a<0&&(a=2*Math.PI+a);b=n.model.circleCenterX[s]<t.x?Math.sqrt(Math.pow(Math.abs(y.rightEndX),2)+Math.pow(Math.abs(y.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(y.leftEndX),2)+Math.pow(Math.abs(y.leftEndY),2));c>2*Math.PI&&l>2*Math.PI&&n.model._isPieOfPie?(nt=c-2*Math.PI,c=nt,ut=l-2*Math.PI,l=ut):c!=0&&c<2*Math.PI&&l>=2*Math.PI&&n.model._isPieOfPie&&(nt=c-2*Math.PI,c=nt);a>=c&&a<=l&&k>=c&&k<=l&&b<=n.model.circularRadius[s]&&b>0&&(g=!0)}return r},drawDataLabelAcc:function(t,i,r,u,f,e){var wi=u.marker,ki,vu,ft,wt,dr,yu,it,ir,gr,nu,ri,gu,ti,ui,vi,fi,yi,fr,ar,ot,pu,wu,lt,at,pi,tu,yr,bu;if(u.visible&&(wi&&wi.dataLabel&&wi.dataLabel.visible||(!wi||!wi.dataLabel)&&i.marker.dataLabel.visible)){var o=t,c=i.type.toLowerCase(),rt=new ej.seriesTypes[c],dt=ej.util.isNullOrUndefined,k=c=="pieofpie"?"inside":i.labelPosition.toLowerCase(),h=o.model,ku=h.title,st=ej.EjSvgRender.utils._measureText,er=h.elementSpacing,gt=i.marker,ht=gt.dataLabel,y=ht.margin,g=ht.font,ei=ht.connectorLine,oi=ei.type.toLowerCase(),pr=h.legend,d=pr.position.toLowerCase(),bi=h.LegendActualBounds,iu=dt(u.text)?u.y:u.text,or=ht.enableWrap,sr,ct,ru=iu,p=h._isPieOfPie?e:f,v,wr,nt,ut,l,vt,br,w=0,si,hr,b=0,ni,hi,ci=h.background.toLowerCase(),cr,uu=ht.enableContrastColor;if((c=="pyramid"||c=="funnel")&&k=="outsideextended"&&(k="inside"),nt=n.extend({},ej.EjSvgRender.commonChartEventArgs),nt.data={text:iu,series:i,pointIndex:r},o._trigger("displayTextRendering",nt),wr={size:g.size,fontStyle:g.fontStyle,fontFamily:g.fontFamily},ut=st(nt.data.text,null,wr),si=ut.width+y.left+y.right,hr=ut.height+y.top+y.bottom,c=="pyramid"||c=="funnel"){var fu=h.title.text?st(h.title.text,n(this.svgObject).width()-h.margin.left-h.margin.right,h.title.font):0,kr=o.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(o.model.title.subTitle.text,n(this.svgObject).width()-o.model.margin.left-o.model.margin.right,o.model.title.subTitle.font):0,dr=o.model.title.subTitle.text===""?0:kr.height,lt=er+h.margin.left+(d==="left")?bi.Width:0,at=(d==="top"?bi.Height:0)+(h.title.text&&h.title.visible?h._titleLocation.Y+fu.height+dr:h.margin.top+er);si=si+10;ki={X:u.xLocation+o.pyrX,Y:u.yLocation+o.pyrY};w=u.xLocation;b=u.yLocation;ft=u.marker?u.marker:gt;ft=n.extend(!0,{},gt,ft);v=u.connectorLine;vt={positionX:w,positionY:b}}if(c!="pyramid"&&c!="funnel"){var du=-.5*Math.PI,et=u.midAngle+du,eu,ou,su,ti,lr,fu=h.title.text?st(h.title.text,n(this.svgObject).width()-h.margin.left-h.margin.right,h.title.font):0,kr=o.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(o.model.title.subTitle.text,n(this.svgObject).width()-o.model.margin.left-o.model.margin.right,o.model.title.subTitle.font):0,dr=o.model.title.subTitle.text===""?0:kr.height,li,yt,pt,di,hu,cu,lu,gi,au,nr=h.circularRadius[p];li=dt(ei.height)?st(nt.data.text,null,g).height:ei.height;vu=o.model._isPieOfPie?u.actualIndex:i._visiblePoints[r].actualIndex;(vu==i.explodeIndex||i.explodeAll)&&!o.vmlRendering?(yt=h.circleCenterX[p]+Math.cos(et)*i.explodeOffset,pt=h.circleCenterY[p]+Math.sin(et)*i.explodeOffset):(yt=h.circleCenterX[p],pt=h.circleCenterY[p]);di=rt.getXCordinate(yt,nr,et);di=u.y!=0?di:parseFloat(di.toFixed(12));hu=rt.getYCordinate(pt,nr,et);cu=rt.getXCordinate(yt,h.innerRadius[f],et);lu=rt.getYCordinate(pt,h.innerRadius[f],et);gi=this.getXCordinate(yt,nr+li,et);gi=u.y!=0?gi:parseFloat(gi.toFixed(12));au=this.getYCordinate(pt,nr+li,et);ht.template?ct=u.size:(ft=u.marker?u.marker:gt,ft=n.extend(!0,{},gt,ft),sr=ft.dataLabel.shape,ct=st(nt.data.text,n(o.svgObject).width(),g),sr.toLowerCase()!="none"&&(ct.height=ct.height+y.top+y.bottom,ct.width=ct.width+y.left+y.right));eu={midX:di,midY:hu};ou={dMidX:cu,dMidY:lu};su={connectorX:gi,connectorY:au};ti={midPoint:eu,doughnutMidPoint:ou,connector:su};lr={startX:yt,startY:pt};i._enableSmartLabels?(l=rt.updateSmartLabelPosition(i,u,r,ti,et,lr,li,ct,t,f),o.model.bounds[f].points[r]&&(wt=o.model.bounds[f].points[r].overlap),w=l.positionX,b=l.positionY,vt={positionX:w,positionY:b,isInterSected:l.isInterSected},v=o.model._isPieOfPie||wt?"":l.connectorDirection):(l=rt.updateLabelPosition(i,u,r,ti,et,lr,li,ct,t,f),w=l.positionX,b=l.positionY,v=l.connectorDirection)}var tr=k!="inside"&&k!="insidenooverlap"||(c=="pyramid"||c=="funnel")&&k=="outside"?w<h.circleCenterX[p]?"end":"start":"middle",ir=k=="inside"||k=="insidenooverlap"?0:w<h.circleCenterX[p]?-ut.width:ut.width,lt=0,at=0,s;if((c=="pie"||c=="doughnut"||c=="pieofpie")&&k=="inside"&&(tr=v!=""?w<h.circleCenterX[p]?"end":"start":"middle"),(c=="pyramid"||c=="funnel")&&k=="outside"&&(tr="start"),dr=o.model.title.subTitle.text===""?0:kr.height,this.chartObj&&h.enableCanvasRendering&&(c=="pyramid"||c=="funnel")&&(lt=(d==="left"?bi.Width:0)+er+h.margin.left,at=(d==="top"?bi.Height:0)+(ku.text?h._titleLocation.Y+fu.height+dr:h.margin.top+er)),r=o.model._isPieOfPie?u.actualIndex:r,s=this.textOption(i,o,ut,lt,at,r,tr,w,b,f,u),hi=jQuery.type(h.pointColors[u.actualIndex])=="array"?h.pointColors[u.actualIndex][0].color:h.pointColors[u.actualIndex],hi=u.fill?jQuery.type(u.fill)=="array"?u.fill[0].color:u.fill:hi,ht.template)ki=dt(ki)?{X:w,Y:b}:ki,yu=u.actualIndex,rt.drawLabelTemplate(i,u,yu,ki,t),oi=="bezier"&&l.bezierPath!=""&&t.svgRenderer.drawPolyline(l.bezierPath,t.gConnectorEle[f]);else{if(n.each(h.symbolShape,function(t){ft=u.marker?u.marker:gt;ft=n.extend(!0,{},gt,ft);sr=ft.dataLabel.shape;sr.toLowerCase()==t.toLowerCase()&&(ni=t)}),w=lt+w-y.left/2+y.right/2+ir/2,b=at+b-y.top/2+y.bottom/2,(c=="pyramid"||c=="funnel")&&(u.xPos=vt.positionX+lt,u.yPos=vt.positionY+at,u.width=ni=="None"?ut.width:si,u.height=ni=="None"?ut.height:hr,u.symbolName=ht.template?"none":ni,u.textOptionsacc=s,u.drawTextacc=nt.data.text),h.enableCanvasRendering&&s.degree%360!=0&&(s.y-=ut.height/4,s.baseline="middle"),uu&&!i._enableSmartLabels&&(cr=k!="inside"?ci==="transparent"?"white":ci:hi,s.fill=this._applySaturation(o,cr)),i._enableSmartLabels){var tt=h.m_AreaBounds.Width+h.m_AreaBounds.X+h.margin.left,bt=k,ai=h.enableCanvasRendering,a=typeof nt.data.text=="string"?nt.data.text:nt.data.text.toString(),rr=st(a,a.length,g).width,ur,ii,kt=0,fr=0;pr.visible?(d=="left"||d=="right")&&(ur=bi):ur={Width:0};c=="pie"||c=="doughnut"||c=="pieofpie"?((bt=="outside"||bt=="outsideextended"||v!="")&&(ii=h.circleCenterX[p]<s.x?tt-s.x:d=="left"?s.x-h.margin.left-h.elementSpacing*2-ur.Width:s.x-h.margin.left,a=this.trimfunction(a,ii,rr,"...",tt,g),pr.visible&&(d=="top"||d=="bottom")&&(a=this._overlapLegend(s,a,t,f))),bt=="inside"&&v==""&&(a=this.labelTrim(o,s,rr,a,yt,pt,u,g,f,e),a!=""||o.model._isPieOfPie||(u.smartLabelPosition="outside",l=rt.updateSmartLabelPosition(i,u,r,ti,et,lr,li,ct,t,f),vt={positionX:l.positionX,positionY:l.positionY,isInterSected:l.isInterSected},a=nt.data.text,v=l.connectorDirection,tr=h.circleCenterX[p]<l.positionX?"start":"end",s=this.textOption(i,o,ut,lt,at,r,tr,l.positionX,l.positionY,f,u),ii=h.circleCenterX[p]<l.positionX?d=="right"?tt-s.x-ur:tt-s.x:d=="left"?s.x-ur:s.x,a=this.trimfunction(a,ii,rr,"...",tt,g),delete u.smartLabelPosition))):(c=="pyramid"||c=="funnel")&&(l=rt.updateSmartLabel(t,i,r,u),w=l.xPos,b=l.yPos,v=l.connectorDirection,s=l.textOptionsacc,a=u.drawTextacc,(v!=""||oi=="bezier")&&a!=""&&(a=a.toString(),ii=d=="right"?ai?tt-s.x:tt-s.x-o.pyrX:d=="left"?ai?tt-s.x:tt-s.x-o.pyrX:d=="top"?ai?tt-s.x:tt-s.x-o.pyrX:ai?tt-s.x:tt-s.x-o.pyrX,ii<rr&&(a=this.trimfunction(a,ii,rr,"...",tt,g))));it=st(a,null,g);c=="pie"||c=="doughnut"||c=="pieofpie"?ir=(k=="inside"||k=="insidenooverlap")&&!vt.isInterSected&&v==""?0:w<h.circleCenterX[p]?-it.width:it.width:(c=="pyramid"||c=="funnel")&&(ir=u._labelPlacement=="insidenooverlap"?0:it.width);c=="pie"||c=="doughnut"||c=="pieofpie"?(w=lt+vt.positionX-y.left/2+y.right/2+ir/2,b=at+vt.positionY-y.top/2+y.bottom/2):(w=w-y.left/2+y.right/2+ir/2,b=b-y.top/2+y.bottom/2);gr=n("#"+o.svgObject.id+"_dataLabel_series"+f+"_point_"+r);nu=n("#"+o.svgObject.id+"_connectorLine_series"+f+"_point_"+r);a!==""?(gr.show(),nu.show(),uu&&(cr=bt!="inside"?ci==="transparent"?"white":ci:l.connectorDirection!=""&&!ej.util.isNullOrUndefined(l.connectorDirection)||l.bezierPath!=""&&!ej.util.isNullOrUndefined(l.bezierPath)?ci==="transparent"?"white":ci:hi,s.fill=this._applySaturation(o,cr)),or||wt||rt.dataLabelSymbol(f,i,r,w,b,si,hr,ni,o),oi!="bezier"||l.bezierPath==""||ej.util.isNullOrUndefined(l.bezierPath)||t.svgRenderer.drawPolyline(l.bezierPath,t.gConnectorEle[f])):(gr.hide(),nu.hide(),v="");or||wt||o.svgRenderer.drawText(s,a,o.gSeriesTextEle[f]);ri=st(a,a.length,g);gu=st(nt.data.text,null,g);(c=="pie"||c=="doughnut"||c=="pieofpie")&&(bt=="inside"&&l.connectorDirection==""?(ui=s.x-it.width/2,fi=s.x+it.width/2,vi=s.y-it.height/2,yi=s.y+it.height/2):(h.circleCenterX[p]<s.x?(ui=s.x,fi=s.x+it.width):(ui=s.x-it.width,fi=s.x),vi=s.y-it.height/2,yi=s.y+it.height/3),ti={centerX:h.circleCenterX[p],minX:ui,minY:vi,maxX:fi,maxY:yi,width:ri.width,height:ri.height,labelPosition:bt});(c=="funnel"||c=="pyramid")&&(kt=d=="left"?kt:0,fr=0,(v!=""||oi=="bezier")&&(ui=s.x-kt,fi=s.x+it.width-kt,vi=s.y-it.height,yi=s.y),ti=ai?{minX:ui+kt,maxX:fi+kt,minY:vi+fr,maxY:yi+fr,width:ri.width,height:ri.height,labelPosition:bt}:{minX:ui+o.pyrX+kt,maxX:fi+o.pyrX+kt,minY:vi+o.pyrY+fr,maxY:yi+o.pyrY+fr,width:ri.width,height:ri.height,labelPosition:bt});br={bounds:ti,trimmedText:a,text:nt.data.text,type:c,font:g};o.accDataLabelRegion.type=c;o.accDataLabelRegion.connectorDirection=v;ej.util.isNullOrUndefined(o.accDataLabelRegion[p])&&(o.accDataLabelRegion[p]=[]);o.accDataLabelRegion[p].length<i._visiblePoints.length&&o.accDataLabelRegion[p].push(br);dt(u.index)||!i.explode||ai||o.accDataLabelRegion[p].splice(u.index,1,br);e==1&&o.accDataLabelRegion[p].length==i._visiblePoints.length&&(o.accDataLabelRegion[f]=n.merge(n.merge([],o.accDataLabelRegion[0]),o.accDataLabelRegion[1]))}else or||wt||(rt.dataLabelSymbol(f,i,u.index,w,b,si,hr,ni,o),o.svgRenderer.drawText(s,nt.data.text,o.gSeriesTextEle[f]));if(or)if(ar=st(ru,null,wr),pu=5,ot=this.updateWrappedText(s,ru,ar,u,c,yt,pt,nr,h.innerRadius[f],k,ht,oi=="bezier"?i._enableSmartLabels?dt(l.bezierPath)?"":l.bezierPath.points:l.points:v),a=ot.text,s.x=parseFloat(ot.x),s.y=parseFloat(ot.y),a==""||wt||(wu=s["text-anchor"]=="start"?parseFloat(s.x+ot.width/2):dt(v)||v==""?parseFloat(s.x):parseFloat(s.x-ot.width/2),rt.dataLabelSymbol(f,i,r,wu,s.y+ot.height/2-ar.height/2-pu,ot.width,ot.height,ni,o)),dt(v)||v==""||((c=="funnel"||c=="pyramid")&&(lt=h.enableCanvasRendering?this.chartObj.pyrX:0,at=h.enableCanvasRendering?this.chartObj.pyrY:0),pi=v.split(" "),tu=k=="outsideextended"&&(c=="pie"||c=="doughnut")?pi.length-2:pi.length,pi[tu-1]=s.y-at+(ot.height/2-ar.height),pi[tu-2]=s.x-lt,v=pi.toString().replace(/,/g," ")),v=ot.exceed==!1?"":v,(h.enableCanvasRendering||this.chartObj.vmlRendering)&&typeof a=="object"&&!wt)for(var vr=0,nf=s.y,tf=s.x;vr<a.length;vr++)s.y=parseFloat(nf)+vr*ut.height,s.x=tf,o.svgRenderer.drawText(s,a[vr],o.gSeriesTextEle[f]);else wt||o.svgRenderer.drawText(s,a,o.gSeriesTextEle[f])}(c=="pyramid"||c=="funnel")&&ht.template&&i._enableSmartLabels&&(l=rt.updateSmartLabel(t,i,r,u),w=l.xPos,b=l.yPos,v=l.connectorDirection);yr=[];yr[0]=lt;yr[1]=at;(oi!="bezier"||o.vmlRendering||c=="pyramid"||c=="funnel")&&v!=""&&v&&(bu={id:o.svgObject.id+"_connectorLine_series"+f+"_point_"+r,stroke:ei.color?ei.color:hi,"stroke-width":ei.width,d:v},o.svgRenderer.drawPath(bu,o.gConnectorEle[f],yr))}},_overlapLegend:function(t,i,r,u){var c=n(r.svgObject).height(),y=n(r.svgObject).width(),p=r.model.LegendActualBounds,e=r.model.elementSpacing,o=r.model.series[u].marker.dataLabel.margin,l=r.model.series[u].marker.dataLabel.shape,w=l!="none"?o.top:0,b=l!="none"?o.bottom:0,k=ej.EjSvgRender.utils._measureText((i,t)).height,a=t.y+k+b,d=t.y-w,g=r.model.legend.position.toLowerCase(),nt=r.model.title,h=nt.subTitle,o=r.model.margin,tt=r.model.border.width,it=h.text==""?0:ej.EjSvgRender.utils._measureText(h.text,y-o.left-o.right,h.font).height+e,v=r.model._titleLocation?r.model._titleLocation.Y:0+it,f=i,s;return g=="bottom"?(s=c-r.model.LegendActualBounds.Height-e,f=a>s?"":f):(s=v==0?tt+e:v+e,f=d<s+p.Height?"":f),a>c&&(f=""),f},updateWrappedText:function(t,i,r,u,f,e,o,s,h,c,l,a){var w=this.chartObj,v=u,g={},bt=r.width,at=r.height,ui,kt,dt,gt,y,k,fi=t.x,ei=t.y,ni,b,nt=fi,st=!0,vt=w.model.m_AreaBounds.X,d=ei,tt,ot,it,ht,yt,wt,ii,et,p,rt;if(ej.util.isNullOrUndefined(a)||a==""||(typeof a=="object"?(it=a.X,ht=a.Y):(tt=a.split(" "),ot=c=="outsideextended"?tt.length-2:l.connectorLine.type.toLowerCase()=="bezier"?tt.length-2:tt.length,tt[ot-1].indexOf(",")>-1?(yt=tt[ot].split(","),it=yt[0],ht=yt[1]):(it=tt[ot-2],ht=tt[ot-1]))),f=="pie"||f=="doughnut"){if(c=="inside"){var h=ej.util.isNullOrUndefined(h)?0:h,pt=-.5*Math.PI,ct=v.startAngle+pt,lt=v.endAngle+pt,ut=v.midAngle+pt,oi=180/Math.PI*ut%360,ki=180/Math.PI*ct%360,di=180/Math.PI*lt%360,ti=f=="doughnut"?.75:.5;nt=this.getXCordinate(e,s*ti,ut);d=this.getYCordinate(o,s*ti,ut);var si=this.getXCordinate(e,s,ct),hi=this.getYCordinate(o,s,ct),ci=this.getXCordinate(e,s,lt),li=this.getYCordinate(o,s,lt),ai=this.getXCordinate(e,s,ut),vi=this.getYCordinate(o,s,ut),yi=this.getXCordinate(e,h,ut),pi=this.getYCordinate(o,h,ut),ft=this.getSegementMinMax([si,ci,f=="doughnut"?yi:e,ai],[hi,li,f=="doughnut"?pi:o,vi]);ft.width=ft.height>s?ft.height:ft.width;b=ft.width*.75}else if((c=="outside"||c=="outsideextended")&&(f=="pie"||f=="doughnut")&&a!=""){var gi=w.model.m_AreaBounds,wi=vt,bi=w.svgWidth-vt;b=it<=e?it-wi:bi-it;nt=it;d=ht}}else if(wt=w.svgWidth,c=="outside")b=wt-it;else if(b=v.width,ii=w.isPointInPolygon(v.Polygon,{x:nt+bt,y:d}),!ii){b=f=="funnel"?v.Polygon[3].x-v.Polygon[4].x:v.Polygon[1].x-v.Polygon[0].x;ni=v.Polygon[3].y-v.Polygon[0].y;var ri=Math.round(bt/b)*at,st=ri>=ni-10||b<=50?!0:!1;st?b=wt-nt-vt:(t["text-anchor"]="middle",nt=(f=="funnel"?v.Polygon[4].x:v.Polygon[0].x)+b/2+(w.model.enableCanvasRendering?w.pyrX:0),d=(v.Polygon[0].y+v.Polygon[3].y)/2-ri/2+(w.model.enableCanvasRendering?w.pyrY:0),v._labelPlacement="insidenooverlap")}if(c!="inside"&&a==""&&ej.util.isNullOrUndefined(a))y="";else{for(kt=l.maximumLabelWidth!=null?l.maximumLabelWidth:parseFloat(b),y=i,dt=w._rowsCalculation({text:y.toString(),font:l.font},kt,ui),y=dt.textCollection,k=n.extend([],y),et=0;et<k.length-1;et++)k[et+1]=k[et].concat("<br/>",k[et+1]);k=k[k.length-1]}return p=ej.EjSvgRender.utils._measureText(k,b,l.font),p.height+=at/2,(f=="pie"||f=="doughnut")&&c=="inside"&&(d=d-p.height/2+at/2,y=p.height>ft.height?"":y,y=p.width>ft.width?"":y,y==""&&(p.width=0,p.height=0)),g=this.currentBoundary=="undefined"?"undefined":this.currentBoundary,this.currentBoundary={X:nt-p.width/2,Y:parseFloat(d),Height:p.height,Width:p.width},!g||v._labelPlacement=="insidenooverlap"?gt=this.currentBoundary:(rt=this.checkOverlapping(w,this.currentBoundary,g,f,y,gt,oi,c,{startAngle:ct,endAngle:lt,radius:s,centerX:e,centerY:o}),rt[1]&&rt[2]!=""?(g=rt[0],nt=g.X+g.Width/2,d=g.Y,y=rt[2],p.height=rt[0].Height,p.width=rt[0].Width):y=rt[2]),st=y==""?!1:st,this.currentBoundary=y==""?g:this.currentBoundary,{text:y,x:nt,y:d,exceed:st,height:p.height,width:p.width}},checkOverlapping:function(n,t,i,r,u,f,e,o,s){var c=10,l=!1,h,y,a,p,v,w,b;return h=this.getOverlapArea(t,i),l=h.overlap,y=h.xOverlap,a=h.yOverlap,l&&(r=="pie"||r=="doughnut"?o.toLowerCase()=="inside"?(p=y>=a?"Y":"X",p=="X"?(v=e>0&&e<180?-1:1,t.X+=v*(y+c)):(v=e>90&&e<270?-1:1,t.Y+=v*(a+c))):t.Y-=a+c:t.Y=r=="funnel"?i.Y-t.Height-c:i.Y+i.Height+c),(r=="pie"||r=="doughnut"||r=="pieofpie")&&o.toLowerCase()=="inside"?(h=this.getOverlapArea(t,f),u=h.overlap==!0?"":u,l=h.overlap==!0?!0:l,w=this.checkSegmentExceeding(t,s),u=w?u:""):r=="funnel"?t.Y+t.Height>=i.Y&&(u=""):r=="pyramid"&&t.Y+t.Height<=i.Y+i.Height&&(u=""),b=n.model.m_AreaBounds,[{X:t.X,Y:t.Y,Height:t.Height,Width:t.Width},l,u]},getOverlapArea:function(n,t){var i=Math.max(0,Math.min(n.X+n.Width,t.X+t.Width)-Math.max(n.X,t.X)),r=Math.max(0,Math.min(n.Y+n.Height,t.Y+t.Height)-Math.max(n.Y,t.Y)),u=i*r,f=u>0?!0:!1;return{overlap:f,xOverlap:i,yOverlap:r}},getSegementMinMax:function(n,t){var i,r,u,f,e,o;return n.sort(function(n,t){return n-t}),t.sort(function(n,t){return n-t}),i=n[0],r=n[3],u=t[0],f=t[3],e=r-i,o=f-u,{minX:i,maxX:r,minY:u,maxY:f,width:e,height:o}},checkSegmentExceeding:function(n,t){var u=!1,o=n.X+n.Width/2,s=n.Y+n.Height/2,f=o-t.centerX,e=s-t.centerY,i=Math.atan2(e,f),h=Math.abs(Math.sqrt(f*f+e*e)),r;return h<=t.radius&&(r=2*Math.PI,i=i<0?r+i:i,t.startAngle=t.startAngle<0?r+t.startAngle:t.startAngle,t.endAngle=t.endAngle<0?r+t.endAngle:t.endAngle,i<=t.endAngle&&i>=t.startAngle?u=!0:(i<=r&&i>=t.startAngle&&t.endAngle<t.startAngle||i>0&&i<=t.endAngle&&t.startAngle>t.endAngle)&&(u=!0)),u},drawBezierSegment:function(n,t,i,r,u){for(var h,e,o,s=ej.EjSvgRender.utils._getStringBuilder(),c=new ej.seriesTypes[t.type.toLowerCase()],f=0;f<=16;f++)h=f/16,e=c.GetBezierPoint(h,n,0,n.length,t),s.append(e.X+","+e.Y+" ");if(o={id:r.svgObject.id+"_bezierLine_series"+u+"_point"+i,stroke:t.marker.dataLabel.connectorLine.color?t.marker.dataLabel.connectorLine.color:r.model.pointColors[i],"stroke-width":t.marker.dataLabel.connectorLine.width,fill:"none",points:s.toString()},t._enableSmartLabels)return o;r.svgRenderer.drawPolyline(o,r.gConnectorEle)},GetBezierPoint:function(n,t,i,r,u){var o=new ej.seriesTypes[u.type.toLowerCase()];if(r==1)return t[i];var f=o.GetBezierPoint(n,t,i,r-1,u),e=o.GetBezierPoint(n,t,i+1,r-1,u),c=f.X?f.X:f.x,l=f.Y?f.Y:f.y,a=e.X?e.X:e.x,v=e.Y?e.Y:e.y,s=(1-n)*c+n*a,h=(1-n)*l+n*v;return f.x?{x:s,y:h}:{X:s,Y:h}},drawLabelTemplate:function(t,i,r,u,f){var ut,ft,s,lt,at,vt,a,et,ot,st,d,g,yt,pt;f&&(this.chartObj=f);var tt=this.chartObj.model.m_AreaBounds.X,it=this.chartObj.model.m_AreaBounds.Y,ht=this.chartObj.model.m_AreaBounds.Width,ct=this.chartObj.model.m_AreaBounds.Height,p=n.inArray(t,this.chartObj.model._visibleSeries),nt=this.chartObj.model.AreaType,c=this.chartObj.model.series[p],w=0,rt=0,v=this.chartObj._id,l=n.extend(!0,{},t.marker,i.marker),k={interior:l.dataLabel.fill,opacity:l.dataLabel.opacity,borderColor:l.dataLabel.border.color,borderWidth:l.dataLabel.border.width},b,h,y,bt=this.chartObj.model.chartRegions[r]?this.chartObj.model.chartRegions[r].type:"";if(nt!="none"||this.chartObj.model.enable3D){if(ut=n("#template_group_"+v).length!=0?n("#template_group_"+v):n("<div><\/div>").attr("id","template_group_"+v),ut.css("position","relative").css("z-index",1e3),n("#"+l.dataLabel.template).length==0)return;ft=n("#"+l.dataLabel.template).clone();n(ft).attr("id",l.dataLabel.template+"_"+p+"_"+r+"_"+v);s=n(ft);s.css("position","absolute");lt=i.x;i.dataLabeltemplate=!0;i.id=l.dataLabel.template+"_"+p+"_"+r+"_"+v;t.xAxis._valueType.indexOf("datetime")>-1&&(i.x=ej.format(new Date(i.xValue),ej.util.isNullOrUndefined(t.xAxis.labelFormat)?t.xAxis._valueType=="datetime"?ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis._intervalType,t.xAxis):ej.EjSvgRender.utils._dateTimeLabelFormat(t.xAxis.intervalType,t.xAxis):t.xAxis.labelFormat,this.chartObj.model.locale));t.xAxis._valueType.toLowerCase()=="category"&&(i.x=ej.EjSvgRender.utils._getLabelContent(r,t.xAxis,this.chartObj.model.locale));i.count=1;at={series:t,point:i};s.html(s.html().parseTemplate(at));i.x=lt;vt=nt=="cartesianaxes"||!t.enableAnimation||t.type.toLowerCase()=="pyramid"||t.type.toLowerCase()=="funnel"?"block":"none";s.css("display",vt).appendTo(n(ut));n(ut).appendTo("#chartContainer_"+v);a=this.chartObj.model.m_AreaBounds;nt!="cartesianaxes"||this.chartObj.model.enable3D||(w=a.X+(this.chartObj.model.requireInvertedAxes?c.yAxis.plotOffset:c.xAxis.plotOffset),rt=c.yAxis.y);h=s.width()/2;y=s.height();b=ej.util.isNullOrUndefined(k)&&k.interior?k.interior:nt=="none"?this.chartObj.model.pointColors[r]:this.chartObj.model.seriesColors[p]}else b=ej.util.isNullOrUndefined(k)&&k.interior?k.interior:this.chartObj.model.pointColors[r],h=this.chartObj.model.circleCenterX[p]>u.X?i.size.width:0,s=n("#template_group_"+v).find("#"+l.dataLabel.template+"_"+p+"_"+r+"_"+v),i.id=l.dataLabel.template+"_"+p+"_"+r+"_"+v,y=this.chartObj.model.enable3D?0:i.size.height/2;if((c.type=="hilo"||c.type=="hiloopenclose"||c.type=="candle")&&(b=c._visiblePoints[r]._hiloFill),b=jQuery.type(b)=="array"?b[0].color:b,c.type.indexOf("bar")!=-1)var e=u.X+w-h,o=u.Y+(this.chartObj.model.enable3D?0:a.Y)-y+c.xAxis.plotOffset,wt=u.X+w+h;else var e=u.X+w-h,o=rt+u.Y-y,wt=u.X+w+h;et=s[0].style.backgroundColor;s.css("left",e).css("top",o).css("background-color",et!=""?et:b).css("display","block").css("cursor","default");this.chartObj.model.AreaType!="cartesianaxes"?(i.xPos=e-this.chartObj.pyrX,i.yPos=o-this.chartObj.pyrY,i.textOptionsacc={x:e-this.chartObj.pyrX,y:o-this.chartObj.pyrY}):i.y==i.low?(i.xPosLow=e,i.yPosLow=o,i.textOptionsLow={x:e,y:o},i.dataLabelLow={textX:e,textY:o,x:e,y:o}):(i.xPos=e,i.yPos=o,i.seriesIndex=p,i.textOptions={x:e,y:o},i.dataLabel={textX:e,textY:o,x:e,y:o},i.margin={top:0,bottom:0,left:0,right:0});i.height=s.outerHeight();i.width=s.outerWidth();ot=st=d=0;g=0;nt=="cartesianaxes"&&(e>w+a.Width||o+y>a.Y+a.Height||e<w||o<rt||e>w+a.Width||o>rt+a.Height||wt>a.Width+a.X)&&(h=s.outerWidth(),e<tt&&(st=tt-e),ct+it<o+y&&(yt=o+y-(ct+it),g=y-yt),o<it&&(ot=it-o),ht+tt<e+h&&(pt=e+h-(ht+tt),d=h-pt),d=d==0?h:d,g=g==0?y:g,c.marker.dataLabel.showEdgeLabels||(document.getElementById(s[0].id).style.clip="rect("+ot+"px,"+d+"px,"+g+"px,"+st+"px)"))},animateLabelTemplate:function(t){for(var i,u=n.inArray(t,this.chartObj.model._visibleSeries),f=t._visiblePoints.length,r=0;r<f;r++)i=t.marker.dataLabel.template+"_"+u+"_"+r+"_"+this.chartObj._id,i=n("#"+i),i.css("display","none"),i.delay(1e3).fadeIn(300)},textPosition:function(t,i,r,u,f,e,o,s,h,c,l){var pt=n.extend(!0,{},t.marker,r.marker),st=pt.dataLabel,vt=st.isReversed,v=st.horizontalTextAlignment.toLowerCase(),y=st.verticalTextAlignment.toLowerCase(),wt=t._visiblePoints.length,ht=s,a=10,ct=3,nt=st.margin,g=t.yAxis.isInversed,rt=this.chartObj._getXCrossValue(t,t.xAxis,c),tt=f.indexOf("bar")!=-1||f.indexOf("column")!=-1&&f!="rangecolumn"?this.chartObj.model.requireInvertedAxes?"bar":"column":f,d,lt,yt,b,it,ot,at,et;if(tt=="column"||tt=="stackingcolumn"||tt=="stackingcolumn100")d=this.chartObj.model.chartRegions[ht].Region.Bounds,lt=c.axes[t.xAxis.name]._validCross||!1,w=d.Height,p=d.Width,lt?(b=Math.abs((g?t.yAxis.visibleRange.min:t.yAxis.visibleRange.max)-rt)/t.yAxis.visibleRange.delta*t.yAxis.height,l=="bottom"?o=o<=b?o+w-nt.bottom:o-w+u.height-nt.bottom:l=="middle"?o<b?o+=w/2+u.height/4:o-=w/2:o<b&&g||o<b&&!g?o-=a+u.height/1:o+=a+u.height/1):l=="bottom"?o=r.y>=rt&&!t.yAxis.isInversed||r.y<rt&&t.yAxis.isInversed?o+w-nt.bottom:u.height+nt.bottom:l=="middle"?r.y>rt&&!t.yAxis.isInversed||r.y<rt&&t.yAxis.isInversed?o+=w/2+u.height/4:o-=w/2:r.y>rt&&t.yAxis.isInversed||r.y<rt&&!t.yAxis.isInversed?o+=a:o-=a,v&&v=="far"?e=vt?e-p/2:e+p/2:v&&v=="near"&&(e=vt?e+p/2:e-p/2),y&&y=="near"?o+=l=="bottom"?a:a-ct:y&&y=="far"&&(o-=l=="bottom"?a:a);else if(tt.indexOf("bar")!=-1){var d=this.chartObj.model.chartRegions[ht].Region.Bounds,p=d.Width,lt=c.axes[t.xAxis.name]._validCross||!1,w=d.Height;o=o+u.height/4;lt?(yt=t.xAxis._crossValue||0,b=Math.abs(g?t.yAxis.visibleRange.max:t.yAxis.visibleRange.min-yt)/t.yAxis.visibleRange.delta*t.yAxis.width,l=="bottom"?e=e<b&&!g||e>=b&&g?e+p-u.width:e-p+nt.left:l=="middle"?e=e<b&&!g||e>=b&&g?e+p/2-u.width/2:e-p/2-u.width/2:e<b&&!g||e>=b&&g?e-=a+u.width/1:e+=a+u.width/1):l=="bottom"?r.y>=0&&!t.yAxis.isInversed||r.y<0&&t.yAxis.isInversed?e=tt.indexOf("stacking")==-1&&i>0?e-p+u.width/2:nt.left+u.width/4:e+=p-u.height-nt.right:l=="middle"?r.y>0&&!t.yAxis.isInversed||r.y<0&&t.yAxis.isInversed?e-=p/2+u.width/2:e+=p/2:r.y>=0&&!t.yAxis.isInversed||r.y<0&&t.yAxis.isInversed?e+=u.width/4+a:e-=u.width/4+a;v&&v=="far"?e+=l=="bottom"?u.width-u.width/4:u.width/4+a:v&&v=="near"?e-=l=="bottom"?u.width/4:a-u.width/4-ct:e+=u.width/4;y&&y=="near"?o+=w/2:y&&y=="far"&&(o-=w/2)}else if(tt=="rangecolumn"){var d=this.chartObj.model.chartRegions[ht].Region.Bounds,ut=0,ft=0;r.high!=r.y&&(ut=d.Height,ft=d.Width);this.chartObj.model.requireInvertedAxes?l=="top"?e=e-ft+(a+u.width/1):l=="bottom"?e=e-ft-(2*u.width+a):l=="middle"&&(e=e-ft):l=="top"?o+=ut-a:l=="bottom"?o=o+ut+(2*u.height+a):l=="middle"&&(o=o+ut);v&&v.toLowerCase()=="far"?e+=d.Width/2:v&&v.toLowerCase()=="near"&&(e-=d.Width/2);y&&y.toLowerCase()=="near"?o+=a-ct:y&&y.toLowerCase()=="far"&&(o-=a)}else if(tt=="boxandwhisker"){var d=this.chartObj.model.chartRegions[ht].Region.Bounds,ut=0,ft=0;this.chartObj.model.requireInvertedAxes?l=="top"?e=e-ft+(a+u.width/1):l=="bottom"?e=e-ft-(2*u.width+a):l=="middle"&&(e=e-ft):l=="top"?o+=ut-ct:l=="bottom"?o+=ut+a+u.width/2:l=="middle"&&(o+=ut+a);v&&v.toLowerCase()=="far"?e+=2*u.width:v&&v.toLowerCase()=="near"&&(e-=2*u.width);y&&y.toLowerCase()=="near"?o=l=="top"?o+a:o-a:y&&y.toLowerCase()=="far"&&(o=l=="top"?o-a:o+a)}else if(f=="waterfall"){var d=this.chartObj.model.chartRegions[ht].Region.Bounds,w=d.Height,p=d.Width,k=r.waterfallSum<0||!r.showIntermediateSum&&!r.showTotalSum&&r.y<0;switch(l){case"bottom":t.isTransposed?e=t.yAxis.isInversed?e+p-(a+u.height/1)-(k?p:0):e-p+(a+u.height/1)+(k?p:0):o=t.yAxis.isInversed?o-u.height+nt.bottom+(k?w:0):o+w-nt.bottom-(k?w:0);break;case"middle":t.isTransposed?e=t.yAxis.isInversed?e+p/2-(k?p:0):e-(p/2+u.width/4)+(k?p:0):o=t.yAxis.isInversed?o-w/2+(k?w:0):o+(w/2+u.height/4)-(k?w:0);break;default:t.isTransposed?e=t.yAxis.isInversed?e-(a+u.height/1)-(k?p:0):e+(a+u.height/1)+(k?p:0):o=t.yAxis.isInversed?o+(a+u.height/1)+(k?w:0):o-(a+u.height/1)-(k?w:0)}v&&v=="far"?e+=p/2:v&&v=="near"&&(e-=p/2);y&&y=="near"?o+=l=="bottom"?u.height/3:u.height+a:y&&y=="far"&&(o-=l=="bottom"?u.height/3:a+u.height/2)}else if(f=="polar"||f=="radar")o+=u.height/4,l=="bottom"?o+=u.height:l=="top"&&(o-=u.height),v&&v=="far"?e+=u.width:v&&v=="near"&&(e-=u.width),y&&y=="near"?o+=u.height/2:y&&y=="far"&&(o-=u.height/2);else{if((tt=="rangearea"||tt=="splinerangearea")&&r.high!=r.y)if(this.chartObj.model.series.length==1)et=this.chartObj.model.chartRegions[i][h].region.length,o=this.chartObj.model.chartRegions[i][h].region[et-1].Y,e=this.chartObj.model.chartRegions[i][h].region[et-1].X;else{for(it=0,ot=0;ot<i;ot++)at=this.chartObj.model.series[ot].type,it=at!="rangearea"&&at!="splinerangearea"?it+this.chartObj.model.series[ot].points.length:it+1,this.chartObj.model.series[ot].visibility=="hidden"&&(it=0);et=this.chartObj.model.chartRegions[it][h].region.length;o=this.chartObj.model.chartRegions[it][h].region[et-1].Y;e=this.chartObj.model.chartRegions[it][h].region[et-1].X}this.chartObj.model.requireInvertedAxes?l=="top"?e+=a:l=="bottom"&&(e-=a+u.width/1):l=="bottom"?o+=st.showEdgeLabels?2*u.height-a:2*u.height+a:l=="top"&&(o-=a);v&&v=="far"?e+=u.width+a:v&&v=="near"&&(e-=u.width+a);y&&y=="near"?o+=a-ct:y&&y=="far"?o-=a:(f=="bubble"||f=="scatter")&&l=="middle"&&(o+=u.height/4)}return{x:e,y:o}},changeCrossHairSymbol:function(t,i,r,u,f){var c=f.drawType,e,o,h,s;return ej.util.isNullOrUndefined(i)||(e={},t=n.extend(!0,{},f.marker,t),e=n.extend(!0,{},this.chartObj.model.crosshair.marker,e),o=f.points[r],h=f.type.toLowerCase(),ej.util.isNullOrUndefined(e.shape)&&(e.shape=t.shape,h=="bubble"&&(e.border.color=o.border&&o.border.color?o.border.color:f.border.color,e.border.width=o.border&&o.border.width?o.border.width:f.border.width)),(!this.chartObj.model.crosshair.visible||ej.util.isNullOrUndefined(e.fill))&&f.type.toLowerCase()!="bubble"&&f.type.toLowerCase()!="scatter"&&c!="scatter"&&(e.fill=e.shape.toLowerCase()=="cross"||e.shape.toLowerCase()=="horizline"||e.shape.toLowerCase()=="vertline"?jQuery.type(this.chartObj.model.seriesColors[u])=="array"?this.chartObj.model.seriesColors[u][0].color:this.chartObj.model.seriesColors[u]:t.border.color),f.type.toLowerCase()!="bubble"||this.chartObj.model.enableCanvasRendering?(e.size.width<=t.size.width&&(e.size.width=t.size.width+2),e.size.height<=t.size.height&&(e.size.height=t.size.height+2),(ej.util.isNullOrUndefined(e.border.color)||!this.chartObj.model.crosshair.visible)&&(ej.util.isNullOrUndefined(t.fill)?h=="scatter"?(e.border.color=o.border&&o.border.color?o.border.color:f.border.color,e.border.width=o.border&&o.border.width?o.border.width:f.border.width):e.border.color=o.fill?o.fill:jQuery.type(this.chartObj.model.seriesColors[u])=="array"?this.chartObj.model.seriesColors[u][0].color:this.chartObj.model.seriesColors[u]:e.border.color=jQuery.type(t.fill)=="array"?t.fill._gradientStop[0].color:t.fill)):(s=n(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_Series"+u+"_Point"+r)[0].getBoundingClientRect(),e.size.width=(s.right-s.left)/2+15,e.size.height=(s.bottom-s.top)/2+15)),f._trackMarker=e,e},dataLabelSymbol:function(t,i,r,u,f,e,o,s,h,c){var l=h,y,p,v;if(s!="None"){y=l.model._isPieOfPie?ej.ejChart._getPieOfPiePoint(r,i):i._visiblePoints[r];p={startX:u,startY:f};h.model.enable3D||(v=c?c:l.gDataLabelEle[t]);v=l.model.enableCanvasRendering?null:v;var a=n.extend(!0,{},i.marker,y.marker),w={interior:a.dataLabel.fill,opacity:a.dataLabel.opacity,borderColor:a.dataLabel.border.color,borderWidth:a.dataLabel.border.width},b={style:w,gradientName:"symbol",symbolEle:v,width:e,height:o,point:y,location:p,seriesIndex:t,pointIndex:r,element:a,symbolName:s,id:l.svgObject.id+"_dataLabel_series"+t+"_"+r};this.drawSymbolStyle(b,l)}},drawSymbolStyle:function(t,i){var r=i,tt,it,rt,f=t.style,ot=t.gradientName,o=t.symbolEle,st=t.width,lt=t.dashArray,ht=t.height,l=t.point,c=t.location,v=t.seriesIndex,ct=t.visibility,w=t.pointIndex,ut=t.element,y=t.symbolName,d=t.trackSymbol,g=r.model.enableCanvasRendering,ft=r.model.AreaType=="polaraxes",e=r.model.series[v],p,b,et,u,a,s,h;if(f!=null&&(f.borderColor!=""&&(tt=f.borderColor?f.borderColor:"transparent"),rt=f.opacity,it=f.borderWidth<0?0:f.borderWidth),p=null,f.interior?p=ej.util.isNullOrUndefined(f.interior._gradientStop)?f.interior:f.interior._gradientStop:l.fill?p=jQuery.type(l.fill)=="array"?l.fill[0].color:l.fill:(b=r.model.pointColors,p=r.model.AreaType!="none"?e.type.toLowerCase()=="waterfall"&&e.positiveFill&&(l.y>0||l.waterfallSum>0)?e.positiveFill:r.model.seriesColors[v]:jQuery.type(b[w])=="array"?b[w][0].color:b[w]),r.symbolColorName=r.svgRenderer.createGradientElement(ot+v,p,0,0,0,n(r.svgObject).height(),o),et={dashArray:t.dashArray,ShapeSize:{width:st,height:ht},Style:{BorderColor:tt,BorderWidth:it,Opacity:rt,Visibility:ct,Color:r.symbolColorName},PointIndex:w,SeriesIndex:v,Imageurl:ut.imageUrl,Image:ut.image,ID:t.id},u=n.extend({},ej.EjSvgRender.commonChartEventArgs),u.data={location:c,style:et},r._trigger("symbolRendering",u),!u.cancel)if(g)c.startY=r.model.requireInvertedAxes?c.startY:c.startY+(e.yAxis.y?e.yAxis.y-r.canvasY:0),c.startX=r.model.requireInvertedAxes?c.startX:c.startX+(e.xAxis.x?e.xAxis.x-r.canvasX:0),u.data.location.startY=c.startY,ej.util.isNullOrUndefined(d)?r.model.AreaType=="cartesianaxes"?(o=r.svgRenderer.ctx,r.svgRenderer.ctx.save(),r.svgRenderer.ctx.beginPath(),r.model.requireInvertedAxes?r.svgRenderer.ctx.rect(e.yAxis.x,e.xAxis.y,e.yAxis.width,e.xAxis.height):r.svgRenderer.ctx.rect(e.xAxis.x,e.yAxis.y,e.xAxis.width,e.yAxis.height),r.svgRenderer.ctx.clip(),ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,u.data.style,r,o),r.svgRenderer.ctx.restore()):(g&&ft&&(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.beginPath(),r.svgRenderer.ctx.arc(r.model.centerX,r.model.centerY,r.model.Radius,0,2*Math.PI,!1),r.svgRenderer.ctx.clip()),ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,u.data.style,r,o),g&&ft&&r.svgRenderer.ctx.restore()):(a=u.data.style.PointIndex,s=u.data.style.SeriesIndex,r.model.series[s].highlightSettings.enable||n("#"+r._id+"_selection_"+s+"_"+a+"_canvas").length==0&&r.svgRenderer.trackSymbol(u.data.style,u.data.location,y,d,r));else{var a=u.data.style.PointIndex,s=u.data.style.SeriesIndex,nt=e.type,k;e.highlightSettings.enable&&d&&!r.model.crosshair.visible?(f=n.extend(!0,u.data.style),h=e.highlightSettings,f.Style.Color=h.pattern.toLowerCase()=="none"||h.pattern==""?h.color!=""?h.color:f.Style.Color:"url(#"+h.pattern.toLowerCase()+"_Highlight_2D_"+s+")",f.Style.Opacity=h.opacity,f.Style.BorderColor=h.border.color,f.Style.BorderWidth=h.border.width,k=nt=="bubble"?n("#"+this.chartObj.svgObject.id+"_Series"+s+"_Point"+a).attr("class"):n("#"+this.chartObj.svgObject.id+"_Series"+s+"_Point"+a+"_symbol").attr("class"),k!="SelectionStyleseries"+s&&ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,f,r,r.model.enable3D?i.chart3D:o)):(k=nt=="scatter"?n("#"+r.svgObject.id+"_Series"+s+"_Point"+a+"_symbol").attr("class"):n("#"+r.svgObject.id+"_Series"+s+"_Point"+a).attr("class"),k!="SelectionStyleseries"+s&&ej.EjSvgRender.chartSymbol["_draw"+y](u.data.location,u.data.style,r,r.model.enable3D?i.chart3D:o))}!i.chart3D&&nt!="pieofpie"&&r.model.AreaType=="none"&&n(o).children().not("defs").length>r.model._visibleSeries[v]._visiblePoints.length&&n(o.childNodes[t.pointIndex]).replaceWith(n(o.childNodes[n(o.childNodes).length-1]))},drawSymbol:function(t,i,r,u,f,e,o,s){var ht=i.drawType,c,y,p,w,b,g,nt,tt,rt;ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=e);var h=i._visiblePoints[r],l=i.type.toLowerCase(),it=l=="boxandwhisker"?s:r,ut=l=="bubble"||l=="scatter"?i.border.dashArray:"",a="None",v=this.changeCrossHairSymbol(h.marker?h.marker:i.marker,o,r,t,i);if(c=l.toLowerCase()=="boxandwhisker"?v?v:n.extend(!0,{},i.outlierSettings,h.outlierSettings,i.border,h.border):v?v:n.extend(!0,{},i.marker,h.marker),n.each(this.chartObj.model.symbolShape,function(n){c.shape.toLowerCase()==n.toLowerCase()&&(a=n)}),a!="None"){y=this.chartObj.model.AreaType=="cartesianaxes"?{startX:u+this.chartObj.canvasX,startY:f+this.chartObj.canvasY}:{startX:u,startY:f};l=="scatter"||i.drawType=="scatter"?(p=h.border&&h.border.color?h.border.color:i.border.color,w=h.border&&h.border.width?h.border.width:i.border.width,b={interior:c.fill,opacity:c.opacity,borderColor:p,borderWidth:w}):l=="boxandwhisker"?(p=h.border&&h.border.color?h.border.color=="transparent"?this.chartObj._saturationColor(i.fill,-.6):h.border.color:i.border.color=="transparent"?this.chartObj._saturationColor(i.fill,-.6):i.border.color,w=h.border&&h.border.width?h.border.width:i.border.width,b={interior:i.fill,opacity:i.opacity,borderColor:p,borderWidth:w}):b={interior:c.fill,opacity:c.opacity,borderColor:c.border.color,borderWidth:c.border.width};var ft=o?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle[t],et=o?this.chartObj.svgObject.id+"_trackSymbol_"+t+"_"+it:this.chartObj.svgObject.id+"_Series"+t+"_Point"+it+"_symbol",ot=o?"TrackSymbol":"symbol",k=c.size.width,d=c.size.height,st={style:b,gradientName:ot,symbolEle:ft,width:k,height:d,point:h,location:y,seriesIndex:t,pointIndex:r,element:c,visibility:h.visible?"visible":"hidden",symbolName:a,trackSymbol:o,id:et,dashArray:ut};this.chartObj.model.enableCanvasRendering||(g=this.chartObj.gSymbolGroupEle[t].childNodes[r]);ej.util.isNullOrUndefined(g)||a.toLowerCase()!="image"?this.drawSymbolStyle(st,this.chartObj,o):(g.setAttribute("width",k),g.setAttribute("height",d));i.type.toLowerCase()=="scatter"&&(nt=i.xAxis.x,tt=i.yAxis.y,this.chartObj.model.enableCanvasRendering&&(nt=0,tt=0),rt={X:nt+y.startX-d/2,Y:tt+y.startY-k/2,Height:d,Width:k},ej.EjSvgRender.utils._addRegion(this.chartObj,rt,i,null,r))}},chartAreaType:"cartesianAxes",requireInvertedAxes:!1,stackingSeries:!1,hiloTypes:!1};ej.ejLineSeries=t(ej.EjSeriesRender);ej.seriesTypes.line=ej.ejLineSeries;ej.ejStepLineSeries=t(ej.EjSeriesRender,{draw:function(n,t){var r=this.chartObj=n,v,e;t._animationType="path";var y=ej.EjSvgRender.utils._getStringBuilder(),i=t,w=this.setLineSeriesStyle(i);i.sorting&&(i.points=ej.DataManager(i.points,ej.Query().sortBy("xValue")).executeLocal());var u=t._visiblePoints=i.points.length>100||!i.enableSmartLabels?this.improveChartPerformance(i):this._isVisiblePoints(i),f=null,s="M",h,p,c,l,a,o=-1;for(e=0;e<u.length;e++)h=u[e],h.visible?(f!=null&&(u.length>o+1&&(p={xValue:u[o+1].xValue,YValues:[f.YValues[0]]},c=ej.EjSvgRender.utils._getPoint(f,i),l=ej.EjSvgRender.utils._getPoint(p,i),a=ej.EjSvgRender.utils._getPoint(u[o+1],i),r=this.chartObj,y.append(s+" "+(c.X+r.canvasX)+" "+(c.Y+r.canvasY)+" L "+(l.X+r.canvasX)+" "+(l.Y+r.canvasY)+" L "+(a.X+r.canvasX)+" "+(a.Y+r.canvasY)+" ")),s="L"),f=h,o=e):(f=null,s="M");v=y.toString();this._drawLinePath(i,w,v);this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}});ej.ejStepAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t,i){var e,h,d,w,b,u;this.chartObj=n;t._animationType="path";var p=this.chartObj.model.requireInvertedAxes,k,s=ej.EjSvgRender.utils._getStringBuilder(),f=t,g=this.setAreaSeriesStyle(f);f.sorting&&(f.points=ej.DataManager(f.points,ej.Query().sortBy("xValue")).executeLocal());var o=t._visiblePoints=f.points.length>100||!f.enableSmartLabels?this.improveChartPerformance(f):this._calculateVisiblePoints(f).visiblePoints,c=0,v=null,l;f.xAxis._valueType.toLowerCase()=="category"&&f.xAxis.labelPlacement.toLowerCase()!="onticks"&&(c=.5);var nt=ej.EjSeriesRender.prototype.getOrigin(this,f,i),a=null,y=!0,r=this.chartObj;for(e=0;e<=o.length;e++)e<o.length?o[e].visible?(l={xValue:o[e].xValue-c,YValues:[o[e].y]},u=ej.EjSvgRender.utils._getPoint(l,f),a||(a={xValue:o[e].xValue-c,YValues:[nt]},h=ej.EjSvgRender.utils._getPoint(a,f),s.append("M "+(h.X+r.canvasX)+" "+(h.Y+r.canvasY)+" ")),v!=null&&(d={xValue:l.xValue,YValues:[v.YValues[0]]},w=ej.EjSvgRender.utils._getPoint(d,f),y&&(s.append("L "+(b.X+r.canvasX)+" "+(b.Y+r.canvasY)+" "),y=!1),s.append("L "+(w.X+r.canvasX)+" "+(w.Y+r.canvasY)+" L "+(u.X+r.canvasX)+" "+(u.Y+r.canvasY)+" "),(c==0&&e==o.length-1||e<o.length-1&&!o[e+1].visible)&&(c>0?(l={xValue:o[e].xValue+c,YValues:[o[e].y]},u=ej.EjSvgRender.utils._getPoint(l,f),p?s.append("L "+(u.X+r.canvasX)+" "+(u.Y+r.canvasY)+" L "+(u.Y+r.canvasX)+" "+(h.X+r.canvasY)+" "):s.append("L "+(u.X+r.canvasX)+" "+(u.Y+r.canvasY)+" L "+(u.X+r.canvasX)+" "+(h.Y+r.canvasY)+" ")):p?s.append("L "+(h.X+r.canvasY)+" "+(u.Y+r.canvasX)+" "):s.append("L "+(u.X+r.canvasX)+" "+(h.Y+r.canvasY)+" "),a=null,v=null,y=!0)),a&&(b=u,v=l)):(a=null,v=null,y=!0):o[e-1].visible&&c>0&&(l={xValue:o[e-1].xValue+c,YValues:[o[e-1].y]},u=ej.EjSvgRender.utils._getPoint(l,f),p?s.append("L "+(u.X+r.canvasX)+" "+(u.Y+r.canvasY)+" L "+(u.Y+r.canvasX)+" "+(h.X+r.canvasY)+" "):s.append("L "+(u.X+r.canvasX)+" "+(u.Y+r.canvasY)+" L "+(u.X+r.canvasX)+" "+(h.Y+r.canvasY)+" "));k=s.toString();this.drawAreaPath(f,g,k);this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}});ej.seriesTypes.steparea=ej.ejStepAreaSeries;ej.seriesTypes.stepline=ej.ejStepLineSeries;ej.ejColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var v,e,h,a,c,o,d,tt,it,w;this.chartObj=t;v=this.chartObj.model.requireInvertedAxes;i._animationType="rect";i.columnFacet=="cylinder"&&(i._animationType="cylinder");var u=i,s=u.cornerRadius,y=n.inArray(u,this.chartObj.model._visibleSeries),rt=ej.EjSeriesRender.prototype.getOrigin(this,u,r),b=this.getSideBySideInfo(u,r);u.dragSettings.enable&&(u.sidebysideInfo=b);var p=this._isVisiblePoints(u),k=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,v),ut,ft={id:this.chartObj.svgObject.id+"_SeriesGroup_"+y,transform:"translate("+k.x+","+k.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(ft),e=this,h=0;h<p.length;h++)if(a=h,c=p[h],ut=p[h].marker,o=c.YValues[0],d=rt,c.visible){var g=e.calculateSides(c,b),et=g.x1,ot=g.x2,l=this.chartObj.setStyle(e,u,y,a),f=e.getRectangle(et,o,ot,d,u,t),st=Math.min(0,f.Width),ht=Math.min(0,f.Height),nt;(st==0||ht==0)&&f.Width>0&&(i={id:e.chartObj.svgObject.id+"_Series"+y+"_Point"+a,x:f.X+e.chartObj.canvasX,y:f.Y+e.chartObj.canvasY,width:f.Width,height:f.Height,fill:l.interior,plot:o<0?"negative":"positive","stroke-width":l.borderWidth,opacity:l.opacity,stroke:l.borderColor,"stroke-dasharray":l.dashArray},tt={isColumn:!0,stacking:!1,isLastSeries:!0},u.columnFacet=="cylinder"?e.chartObj.svgRenderer.drawCylinder(i,e.gSeriesGroupEle,tt):typeof s!="object"&&s>0||s.topLeft>0||s.bottomLeft>0||s.topRight>0||s.bottomRight>0?(it=ej.EjSvgRender.utils._calculateroundedCorner(s,i),i.d=it,u._animationType="path",e.chartObj.svgRenderer.drawPath(i,e.gSeriesGroupEle)):u.columnFacet=="rectangle"&&e.chartObj.svgRenderer.drawRect(i,e.gSeriesGroupEle),w=ej.EjSvgRender.utils._getSvgXY(f.X,f.Y,u,e.chartObj),nt={X:w.X,Y:w.Y,Width:f.Width,Height:f.Height},ej.EjSvgRender.utils._addRegion(e.chartObj,nt,u,c,a));i.plot=o<0?"negative":"positive";c.symbolLocation=v?{X:o<(u.xAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&o>(u.xAxis._crossValue||0)?f.X:f.X+f.Width,Y:f.Y+f.Height/2}:{X:f.X+f.Width/2,Y:o<(u.xAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&o>(u.xAxis._crossValue||0)?f.Y+f.Height:f.Y}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0});ej.seriesTypes.column=ej.ejColumnSeries;ej.ejStackingColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var e,s,d,g,p;this.chartObj=t;i._animationType="rect";i.columnFacet=="cylinder"&&(i._animationType="cylinder");var w=this.chartObj.model.requireInvertedAxes,u=i,o=u.cornerRadius,a=n.inArray(u,this.chartObj.model._visibleSeries),tt=this.getSideBySideInfo(u,r),it=this._isVisiblePoints(u),b=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,w),rt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:"translate("+b.x+","+b.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(rt),e=this,s=0;s<it.length;s++){var v=s,l=u._visiblePoints[s],ut=u.stackedValue.StartValues[s],h=u.stackedValue.EndValues[s];if(l.visible){var k=e.calculateSides(l,tt),ft=k.x1,et=k.x2,c=this.chartObj.setStyle(e,u,a,v),f=e.getRectangle(ft,h,et,ut,u,t),ot=Math.min(0,f.Width),st=Math.min(0,f.Height),y,ht=u.type=="stackingcolumn100"?!0:!1;if((ot==0||st==0)&&f.Width>0){i={id:e.chartObj.svgObject.id+"_Series"+a+"_Point"+v,x:f.X+e.chartObj.canvasX,y:f.Y+e.chartObj.canvasY,width:f.Width,height:f.Height,fill:c.interior,"stroke-width":c.borderWidth,plot:h<0?"negative":"positive",opacity:c.opacity,stroke:c.borderColor,"stroke-dasharray":c.dashArray};d={isColumn:!0,stacking:ht,isLastSeries:u.stackedValue.stackedSeries};u.columnFacet=="cylinder"?e.chartObj.svgRenderer.drawCylinder(i,e.gSeriesGroupEle,d):typeof o!="object"&&o>0||o.topLeft>0||o.bottomLeft>0||o.topRight>0||o.bottomRight>0?(g=ej.EjSvgRender.utils._calculateroundedCorner(o,i),i.d=g,u._animationType="path",e.chartObj.svgRenderer.drawPath(i,e.gSeriesGroupEle)):u.columnFacet=="rectangle"&&e.chartObj.svgRenderer.drawRect(i,e.gSeriesGroupEle);p=ej.EjSvgRender.utils._getSvgXY(f.X,f.Y,u,e.chartObj);y={X:p.X,Y:p.Y,Width:f.Width,Height:f.Height};var ct=f.Width/2,lt=Math.round(f.Height),nt=Math.round(ct/4);nt==lt&&(y.Height=f.Height+2*nt);ej.EjSvgRender.utils._addRegion(e.chartObj,y,u,l,v)}l.symbolLocation=w?{X:h<(u.xAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&h>(u.xAxis._crossValue||0)?f.X:f.X+f.Width,Y:f.Y+f.Height/2}:{X:f.X+f.Width/2,Y:h<(u.xAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&h>(u.xAxis._crossValue||0)?f.Y+f.Height:f.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,isRegion:!0});ej.seriesTypes.stackingcolumn=ej.ejStackingColumnSeries;ej.seriesTypes.stackingcolumn100=ej.ejStackingColumnSeries;ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries;ej.ejRangeColumnSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var e,c,g,p;this.chartObj=t;i._animationType="rect";var w=this.chartObj.model.requireInvertedAxes,f=i,s=f.cornerRadius,v=n.inArray(f,this.chartObj.model._visibleSeries),nt=this.getSideBySideInfo(f,r),b=this._isVisiblePoints(f),a=ej.EjSvgRender.utils._getTransform(f.xAxis,f.yAxis,w),tt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+v,transform:"translate("+a.x+","+a.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(tt),e=this,c=0;c<b.length;c++){var y=c,o=b[c],h=o.YValues[0],it=o.YValues[1];if(o.visible){var k=e.calculateSides(o,nt),rt=k.x1,ut=k.x2,l=this.chartObj.setStyle(e,f,v,y),u=e.getRectangle(rt,h,ut,it,f,t),ot=e.chartObj.model.m_AreaBounds.Width,ft=Math.min(0,u.Width),et=Math.min(0,u.Height),d;(ft==0||et==0)&&(i={id:e.chartObj.svgObject.id+"_Series"+v+"_Point"+y,x:u.X+e.chartObj.canvasX,y:u.Y+e.chartObj.canvasY,width:u.Width,height:u.Height,fill:l.interior,"stroke-width":l.borderWidth,opacity:l.opacity,stroke:l.borderColor,"stroke-dasharray":l.dashArray},typeof s!="object"&&s>0||s.topLeft>0||s.bottomLeft>0||s.topRight>0||s.bottomRight>0?(g=ej.EjSvgRender.utils._calculateroundedCorner(s,i),i.d=g,f._animationType="path",e.chartObj.svgRenderer.drawPath(i,e.gSeriesGroupEle)):e.chartObj.svgRenderer.drawRect(i,e.gSeriesGroupEle,a.y),e.chartObj.svgRenderer.drawRect(i,e.gSeriesGroupEle,a.y),p=ej.EjSvgRender.utils._getSvgXY(u.X,u.Y,f,e.chartObj),d={X:p.X,Y:p.Y,Width:u.Width,Height:u.Height},ej.EjSvgRender.utils._addRegion(e.chartObj,d,f,o,y));f.type.toLowerCase()=="waterfall"&&(h=o.waterfallSum?o.waterfallSum:o.y);o.symbolLocation=w?{X:h<0&&!f.yAxis.isInversed||f.yAxis.isInversed&&h>0?u.X:u.X+u.Width,Y:u.Y+u.Height/2}:{X:u.X+u.Width/2,Y:h<0&&!f.yAxis.isInversed||f.yAxis.isInversed&&h>0?u.Y+u.Height:u.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0,isRegion:!0});ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries;ej.ejBoxandwhiskerSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var ut,wt,u,a,rt,w;this.chartObj=t;ut=this.chartObj.model.requireInvertedAxes;i._animationType="rect";var f=i,l=n.inArray(f,this.chartObj.model._visibleSeries),ni=ej.EjSeriesRender.prototype.getOrigin(this,f,r),bt=this.getSideBySideInfo(f,r),b=this._isVisiblePoints(f),ft=ej.EjSvgRender.utils._getTransform(f.xAxis,f.yAxis,ut),kt,et=0,dt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+l,transform:"translate("+ft.x+","+ft.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(dt),u=this,a=0;a<b.length;a++){var h=a,ot,v,k,st,d,ht,ct,o,e,lt,at,l,gt,vt,y,g,nt,p,yt,s,tt,pt,it,c=b[a];if(kt=b[a].marker,ot=c.YValues[0],v=u.calculateMean(ot,f,h),k=v.UpperQuartile,st=v.LowerQuartile,c.visible&&(d=u.calculateSides(c,bt),ht=d.x1,ct=d.x2,o=this.chartObj.setStyle(u,f,l,h),e=u.getRectangle(ht,k,ct,st,f,t),lt=Math.min(0,e.Width),at=Math.min(0,e.Height),l=n.inArray(f,this.chartObj.model._visibleSeries),wt=this.chartObj.setStyle(this,f,l,a),gt=ej.EjSvgRender.utils._getStringBuilder(),vt={xValue:c.xValue,YValues:v.midvalue},y=ej.EjSvgRender.utils._getPoint(vt,f),rt=o.borderColor=="transparent"?this.chartObj._saturationColor(o.interior,-.6):o.borderColor,g,(lt==0||at==0)&&e.Width>0)){for(i={id:u.chartObj.svgObject.id+"_Series"+l+"_Point"+h,x:e.X+u.chartObj.canvasX,y:e.Y+u.chartObj.canvasY,width:e.Width,height:e.Height,fill:o.interior,"stroke-width":o.borderWidth,plot:k<0?"negative":"positive",opacity:o.opacity,stroke:rt,"stroke-dasharray":o.dashArray},nt={id:this.chartObj.svgObject.id+"_Series"+l+"_Point"+h+"_median",x1:f._isTransposed?y.X+u.chartObj.canvasX:e.X+u.chartObj.canvasX,y1:f._isTransposed?e.Y+u.chartObj.canvasY:y.Y+u.chartObj.canvasY,x2:f._isTransposed?y.X+u.chartObj.canvasX:e.X+e.Width+u.chartObj.canvasX,y2:f._isTransposed?e.Y+e.Height+u.chartObj.canvasY:y.Y+u.chartObj.canvasY,"stroke-width":o.borderWidth,stroke:rt},u.chartObj.svgRenderer.drawRect(i,u.gSeriesGroupEle),u.chartObj.svgRenderer.drawLine(nt,u.gSeriesGroupEle),p=u.calculateBoxAndWhiskerPath(i,e,nt,v,f,c,h),i.d=p.lowerWhisker,i.id=i.id+"_whisker",u.chartObj.svgRenderer.drawPath(i,u.gSeriesGroupEle),i.d=p.upperWhisker,u.chartObj.svgRenderer.drawPath(i,u.gSeriesGroupEle),f.showMedian==!0&&(i.d=p.mean,u.chartObj.svgRenderer.drawPath(i,u.gSeriesGroupEle)),w=0;w<v.outliers.length;w++)yt={xValue:c.xValue,YValues:v.outliers[w]},s=ej.EjSvgRender.utils._getPoint(yt,f),s.X=f._isTransposed?s.X:e.X+e.Width/2,s.Y=f._isTransposed?e.Y+e.Height/2:s.Y,this.drawSymbol(l,f,h,s.X,s.Y,null,null,et),et++,tt=ej.EjSvgRender.utils._getSvgXY(s.X,s.Y,f,u.chartObj),pt={X:tt.X-f.outlierSettings.size.width/2,Y:tt.Y-f.outlierSettings.size.height/2,Width:f.outlierSettings.size.width,Height:f.outlierSettings.size.height},ej.EjSvgRender.utils._addRegion(u.chartObj,pt,f,c,h);it=ej.EjSvgRender.utils._getSvgXY(e.X,e.Y,f,u.chartObj);g={X:it.X,Y:it.Y,Width:e.Width,Height:e.Height};ej.EjSvgRender.utils._addRegion(u.chartObj,g,f,c,h)}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0});ej.seriesTypes.boxandwhisker=ej.ejBoxandwhiskerSeries;ej.ejWaterfallSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var o,v,g,c,u,f,y,nt,p,l,w,tt,b,k,it,rt,ut,ft,et,d,e;ej.ejRangeColumnSeries.prototype.draw.call(this,t,i,r);i._animationType="rect";var a=this.chartObj.model.chartRegions,s=[],ot=this.chartObj.model.m_AreaBounds,h=n.inArray(i,this.chartObj.model._visibleSeries);for(i.index=h,o=0,v=0;o<a.length;o++)h==a[o].SeriesIndex&&(s[v]=a[o],v+=1);for(g={id:this.chartObj.svgObject.id+"_SeriesGroup_waterfallLine_"+h},this.connectorLineGroup=this.chartObj.svgRenderer.createGroup(g),e=0;e<s.length-1;e++)c=ej.EjSvgRender.utils._getStringBuilder(),u=s[e].Region.Bounds,f=s[e+1].Region.Bounds,i.isTransposed?(k=Math.ceil(u.X),rt=Math.ceil(u.Width),it=Math.ceil(f.X),ut=Math.ceil(f.Width),l=Math.ceil(u.X+u.Width),w=Math.ceil(f.X+f.Width),b=l==w?u.X+u.Width:k==it?u.X:k==w?u.X:u.X+u.Width,c.append("M "+b+" "+(u.Y+u.Height)+" L "+b+" "+f.Y)):(nt=Math.ceil(u.Y),ft=Math.ceil(u.Height),p=Math.ceil(f.Y),et=Math.ceil(f.Height),l=Math.ceil(u.Y+u.Height),y=nt==p?u.Y:l==p?f.Y:f.Y+f.Height,c.append("M "+u.X+" "+y+" L "+(f.X+f.Width)+" "+y)),d=c.toString(),d!=""&&u.Height>=0&&(tt={id:this.chartObj.svgObject.id+"_waterFall_"+h+"_connectorLine_"+e,fill:"none","stroke-dasharray":i.connectorLine.dashArray,"stroke-width":i.connectorLine.width,stroke:i.connectorLine.color,opacity:i.connectorLine.opacity,d:d},this.chartObj.svgRenderer.drawPath(tt,this.connectorLineGroup));this.chartObj.svgRenderer.append(this.connectorLineGroup,this.chartObj.gSeriesEle);i.enableAnimation&&!i._animatedSeries&&this.chartObj.svgRenderer._setAttr(this.connectorLineGroup,{visibility:"hidden"})},hiloTypes:!1,isRegion:!0});ej.seriesTypes.waterfall=ej.ejWaterfallSeries;ej.ejStackingBarSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var e,s,d,g,nt,y;this.chartObj=t;i._animationType="rect";i.columnFacet=="cylinder"&&(i._animationType="cylinder");var p=this.chartObj.model.requireInvertedAxes,u=i,o=u.cornerRadius,a=n.inArray(u,this.chartObj.model._visibleSeries),tt=this.getSideBySideInfo(u,r),w=this._isVisiblePoints(u),b=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,p),it={id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:"translate("+b.x+","+b.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(it),e=this,s=0;s<w.length;s++){var v=s,l=w[s],h=u.stackedValue.EndValues[s],rt=u.stackedValue.StartValues[s];if(l.visible){var k=e.calculateSides(l,tt),ut=k.x1,ft=k.x2,c=this.chartObj.setStyle(e,u,a,v),f=e.getRectangle(ut,h,ft,rt,u,t),et=Math.min(0,f.Width),ot=Math.min(0,f.Height),st=u.type=="stackingbar100"?!0:!1;(et==0||ot==0)&&(i={id:e.chartObj.svgObject.id+"_Series"+a+"_Point"+v,x:f.X+e.chartObj.canvasX,y:f.Y+e.chartObj.canvasY,width:f.Width,height:f.Height,fill:c.interior,"stroke-width":c.borderWidth,opacity:c.opacity,stroke:c.borderColor,"stroke-dasharray":c.dashArray},g={isColumn:!1,stacking:st,isLastSeries:u.stackedValue.stackedSeries},u.columnFacet=="cylinder"?e.chartObj.svgRenderer.drawCylinder(i,e.gSeriesGroupEle,g):typeof o!="object"&&o>0||o.topLeft>0||o.bottomLeft>0||o.topRight>0||o.bottomRight>0?(nt=ej.EjSvgRender.utils._calculateroundedCorner(o,i),i.d=nt,u._animationType="path",e.chartObj.svgRenderer.drawPath(i,e.gSeriesGroupEle)):u.columnFacet=="rectangle"&&e.chartObj.svgRenderer.drawRect(i,e.gSeriesGroupEle),y=ej.EjSvgRender.utils._getSvgXY(f.X,f.Y,u,e.chartObj),d={X:y.X,Y:y.Y,Width:f.Width,Height:f.Height},ej.EjSvgRender.utils._addRegion(e.chartObj,d,u,l,v));l.symbolLocation=p?{X:h<(u.yAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&h>(u.yAxis._crossValue||0)?f.X:f.X+f.Width,Y:f.Y+f.Height/2}:{X:f.X+f.Width/2,Y:h<(u.yAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&h>(u.yAxis._crossValue||0)?f.Y+f.Height:f.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,requireInvertedAxes:!0,isRegion:!0});ej.seriesTypes.stackingbar=ej.ejStackingBarSeries;ej.seriesTypes.stackingbar100=ej.ejStackingBarSeries;ej.ejBarSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var e,h,g,nt,tt,y;this.chartObj=t;i._animationType="rect";i.columnFacet=="cylinder"&&(i._animationType="cylinder");var p=this.chartObj.model.requireInvertedAxes,u=i,o=u.cornerRadius,a=n.inArray(u,this.chartObj.model._visibleSeries),it=ej.EjSeriesRender.prototype.getOrigin(this,u,r),ht=n.extend(!0,{},this.chartObj.model.seriesStyle,u.style),w=this.getSideBySideInfo(u,r);u.dragSettings.enable&&(u.sidebysideInfo=w);var b=this._isVisiblePoints(u),k=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,p),rt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:"translate("+k.x+","+k.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(rt),e=this,h=0;h<b.length;h++){var v=h,c=b[h],s=c.YValues[0],ut=it;if(c.visible){var d=e.calculateSides(c,w),ft=d.x1,et=d.x2,l=this.chartObj.setStyle(e,u,a,v),f=e.getRectangle(ft,s,et,ut,u,t),ot=Math.min(0,f.Width),st=Math.min(0,f.Height);(ot==0||st==0)&&(i={id:e.chartObj.svgObject.id+"_Series"+a+"_Point"+v,x:f.X+e.chartObj.canvasX,y:f.Y+e.chartObj.canvasY,width:f.Width,height:f.Height,fill:l.interior,"stroke-width":l.borderWidth,plot:s<0?"negative":"positive",opacity:l.opacity,stroke:l.borderColor,"stroke-dasharray":l.dashArray},nt={isColumn:!1,stacking:!1,isLastSeries:!0},u.columnFacet=="cylinder"?e.chartObj.svgRenderer.drawCylinder(i,e.gSeriesGroupEle,nt):typeof o!="object"&&o>0||o.topLeft>0||o.bottomLeft>0||o.topRight>0||o.bottomRight>0?(tt=ej.EjSvgRender.utils._calculateroundedCorner(o,i),i.d=tt,u._animationType="path",e.chartObj.svgRenderer.drawPath(i,e.gSeriesGroupEle)):u.columnFacet=="rectangle"&&e.chartObj.svgRenderer.drawRect(i,e.gSeriesGroupEle),y=ej.EjSvgRender.utils._getSvgXY(f.X,f.Y,u,e.chartObj),g={X:y.X,Y:y.Y,Width:f.Width,Height:f.Height},ej.EjSvgRender.utils._addRegion(e.chartObj,g,u,c,v));c.symbolLocation=p?{X:s<(u.xAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&s>(u.xAxis._crossValue||0)?f.X:f.X+f.Width,Y:f.Y+f.Height/2}:{X:f.X+f.Width/2,Y:s<(u.xAxis._crossValue||0)&&!u.yAxis.isInversed||u.yAxis.isInversed&&s>(u.xAxis._crossValue||0)?f.Y+f.Height:f.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},requireInvertedAxes:!0,isRegion:!0});ej.seriesTypes.bar=ej.ejBarSeries;ej.ejStackingAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t){var i,h,a,s;this.chartObj=n;t._animationType="path";var v,e,f,o=ej.EjSvgRender.utils._getStringBuilder(),r=t,b=this.setAreaSeriesStyle(r),u=this._isVisiblePoints(r),y=Math.max(t.yAxis.visibleRange.min,r.stackedValue.StartValues[0]),c=this.chartObj.canvasX,l=this.chartObj.canvasY,a={xValue:u[0].xValue,YValues:[y]},s=ej.EjSvgRender.utils._getPoint(a,r),p=0,w=r.stackedValue.EndValues.length;for(o.append("M "+(s.X+c)+" "+(s.Y+l)+" "),i=0;i<=w;i++)if(i!=w&&u[i].visible)e={xValue:u[i].xValue,YValues:[r.stackedValue.EndValues[i]]},u[i].visible&&(f=u[i].location=ej.EjSvgRender.utils._getPoint(e,r),o.append("L "+(f.X+c)+" "+(f.Y+l)+" "),u[i].YValues[0]=e.YValues[0]);else{for(y=r.stackedValue.StartValues[i+1],h=i-1;h>=p;h--)e={xValue:u[h].xValue,YValues:[r.stackedValue.StartValues[h]]},f=ej.EjSvgRender.utils._getPoint(e,r),o.append("L "+(f.X+c)+" "+(f.Y+l)+" ");u[i+1]&&u[i+1].visible&&(a={xValue:u[i+1].xValue,YValues:[r.stackedValue.StartValues[i+1]]},s=ej.EjSvgRender.utils._getPoint(a,r),o.append("M "+(s.X+c)+" "+(s.Y+l)+" "));p=i+1}v=o.toString();this.drawAreaPath(r,b,v);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0});ej.seriesTypes.stackingarea=ej.ejStackingAreaSeries;ej.seriesTypes.stackingarea100=ej.ejStackingAreaSeries;ej.ejAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t,i){var a,f,e,w,l;this.chartObj=n;t._animationType="path";var o=ej.EjSvgRender.utils._getStringBuilder(),r=t,b=this.setAreaSeriesStyle(r),v=this.chartObj;r.sorting&&(r.points=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal());var u=this.chartObj.dragPoint?r.pointCollection:this._isVisiblePoints(r),h=ej.EjSeriesRender.prototype.getOrigin(this,r,i),s,c=[];if(c[0]=v.canvasX,c[1]=v.canvasY,u.length>0){for(f=0;f<u.length;f++)if(u[f].visible)if(u.length>f+1){if(s||(s={xValue:u[f].xValue,YValues:[h]},e=ej.EjSvgRender.utils._getPoint(s,r),o.append("M "+e.X+" "+e.Y+" ")),e=ej.EjSvgRender.utils._getPoint(u[f],r),o.append("L "+e.X+" "+e.Y+" "),!u[f+1].visible){var k={xValue:u[f].xValue,YValues:[h]},y=ej.EjSvgRender.utils._getPoint(k,r),p=ej.EjSvgRender.utils._getPoint(s,r);o.append("L "+y.X+" "+y.Y+" L "+p.X+" "+p.Y+" ");s=null}}else u[f-1]&&u[f-1].visible&&(e=ej.EjSvgRender.utils._getPoint(u[f],r),o.append("L "+e.X+" "+e.Y+" "));w={xValue:u[u.length-1].xValue,YValues:[h]};l=ej.EjSvgRender.utils._getPoint(w,r);u.length>1&&o.append("L "+l.X+" "+l.Y+" ");a=o.toString();this.drawAreaPath(r,b,a,c)}this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}});ej.seriesTypes.area=ej.ejAreaSeries;ej.ejRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(t,i){var b,u,v,y,s,l,o,h,r,p,f,w,a;this.chartObj=t;i._animationType="path";var c=ej.EjSvgRender.utils._getStringBuilder(),e=i,k=this.setAreaSeriesStyle(e),d=n.inArray(e,this.chartObj.model._visibleSeries);for(e.points=ej.DataManager(e.points,ej.Query().sortBy("xValue")).executeLocal(),u=this._isVisiblePoints(e),v=[],v[0]=this.chartObj.canvasX,v[1]=this.chartObj.canvasY,s=[],r=0;r<u.length;r++)if(s[r]={Region:{PointIndex:r},SeriesIndex:d,region:[]},u[r].visible&&(y||(l=u[r].low,y={xValue:u[r].xValue,YValues:[l]},o=ej.EjSvgRender.utils._getPoint(y,e),c.append("M "+o.X+" "+o.Y+" ")),o=ej.EjSvgRender.utils._getPoint(u[r],e),c.append("L "+o.X+" "+o.Y+" "),s[r].region.push({X:o.X,Y:o.Y}),r!=0&&s[r-1].region.push({X:o.X,Y:o.Y}),r+1<u.length&&!u[r+1].visible&&r+1!=u.length-1)){for(h=r;h>=0;h--)if(u[h].visible)l=u[h].low,p={xValue:u[h].xValue,YValues:[l]},f=ej.EjSvgRender.utils._getPoint(p,e),c.append("L "+f.X+" "+f.Y+" "),s[h].region.push({X:f.X,Y:f.Y}),h!=0&&s[h-1].region.push({X:f.X,Y:f.Y});else break;y=null}for(r=u.length-1;r>=0;r--)if(u[r].visible)l=u[r].low,p={xValue:u[r].xValue,YValues:[l]},f=ej.EjSvgRender.utils._getPoint(p,e),c.append("L "+f.X+" "+f.Y+" "),s[r].region.push({X:f.X,Y:f.Y}),r!=0&&s[r-1].region.push({X:f.X,Y:f.Y});else if(u.length>r&&u[r].visible){f=ej.EjSvgRender.utils._getPoint(u[r],e);c.append("L "+f.X+" "+f.Y+" ");break}else if(r!=u.length-1){for(w=0,a=r-1;a>=0;a--)if(u[a].visible)w++;else if(!u[a].visible)break;r=r-w}b=c.toString();this.chartObj.model.chartRegions.push(s);this.drawAreaPath(e,k,b,v);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0});ej.seriesTypes.rangearea=ej.ejRangeAreaSeries;ej.ejSplineRangeAreaSeries=t(ej.EjSeriesRender,{draw:function(n,t,i){this.chartObj=n;var r=new ej.seriesTypes.splinearea;r.draw(n,t,i)},chartAreaType:"cartesianAxes",hiloTypes:!0});ej.seriesTypes.splinerangearea=ej.ejSplineRangeAreaSeries;ej.ejSplineSeries=t(ej.EjSeriesRender,{draw:function(n,t,i){var o,h;i.seriesCollection||(i.seriesCollection={},t._name=ej.util.isNullOrUndefined(t.name)?"":t.name.replace(/ /g,""));i.seriesCollection[t._name]||(i.seriesCollection[t._name]={});this.chartObj=n;t._animationType="path";var r=t,c="",l=ej.EjSvgRender.utils._getStringBuilder(),nt=this.setLineSeriesStyle(r),s=this.chartObj.dragPoint?r.pointCollection:this._isVisiblePoints(r),a=i.seriesCollection[r._name].naturalSpline||this.naturalSpline(s,r),f=null,e=null,v=-1,tt=0,it=i.seriesCollection[r._name].controlPoints||[];for(o=0;o<s.length;o++)if(h=o,e=s[o],e.visible){if(f!=null){var y=null,p=null,w=it[tt++]||this.getBezierControlPoints(f,e,a[v],a[h],0,r,this);y=w.controlPoint1;p=w.controlPoint2;var b=ej.EjSvgRender.utils._getPoint(f,r),k=ej.EjSvgRender.utils._getPoint(e,r),d=ej.EjSvgRender.utils._getPoint(y,r),g=ej.EjSvgRender.utils._getPoint(p,r),u=this.chartObj;l.append("M "+(b.X+u.canvasX)+" "+(b.Y+u.canvasY)+" C "+(d.X+u.canvasX)+" "+(d.Y+u.canvasY)+" "+(g.X+u.canvasX)+" "+(g.Y+u.canvasY)+" "+(k.X+u.canvasX)+" "+(k.Y+u.canvasY)+" ")}f=e;v=h}else f=null;c=l.toString();this._drawLinePath(r,nt,c);this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}});ej.seriesTypes.spline=ej.ejSplineSeries;ej.ejSplineAreaSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var h,ni,ot,wt,k,it,bt,kt,dt,ti,tt,f,ii,ut;r.seriesCollection||(r.seriesCollection={},i._name=ej.util.isNullOrUndefined(i.name)?"":i.name.replace(/ /g,""));r.seriesCollection[i._name]||(r.seriesCollection[i._name]={});this.chartObj=t;i._animationType="path";var st=this.chartObj.model.requireInvertedAxes,u=i,p="",w=ej.EjSvgRender.utils._getStringBuilder(),ri=this.setAreaSeriesStyle(u),ht=0;u.sorting&&(u.points=ej.DataManager(u.points,ej.Query().sortBy("xValue")).executeLocal());var s=this.chartObj.dragPoint?u.pointCollection:this._isVisiblePoints(u),ft=r.seriesCollection[u._name].naturalSpline||this.naturalSpline(s,u,ht),fi=r.seriesCollection[u._name].naturalSpline1||this.naturalSpline(s,u,1),d=null,l=null,ct=-1,g=[],lt=ej.EjSeriesRender.prototype.getOrigin(this,u,r),b=null,at=!0,o=this.chartObj,vt=[],ui=0,et=r.seriesCollection[u._name].controlPoints||[];vt[0]=o.canvasX;vt[1]=o.canvasY;var gt,a=o.model._seriesIndex,yt=null,nt=[],e=u.type.toLowerCase(),pt=u.emptyPointSettings;for(o.model._previousSeries=ej.util.isNullOrUndefined(o.model._previousSeries)?null:o.model._previousSeries,u._prevpointIndex=null,f=0;f<s.length;f++)if(g[f]={Region:{PointIndex:f},SeriesIndex:a,region:[]},h=f,l=s[f],l.YValues[0]=e.indexOf("stackingsplinearea")!=-1?u.stackedValue.EndValues[f]:l.YValues[0],l.visible){if(!b){if(a==0||e.indexOf("stackingsplinearea")==-1)b={xValue:s[f].xValue,YValues:[lt]};else{for(ni=n.inArray(i,o.model._visibleSeries),ot=ni;ot>0;ot--)if(wt=o.model.series[ot-1],wt.visibility!="hidden"){yt=wt.points;break}b={xValue:s[f].xValue,YValues:[yt[f].YValues[0]]}}k=ej.EjSvgRender.utils._getPoint(b,u)}if(e=="splinerangearea"&&(it=ej.EjSvgRender.utils._getPoint(s[f],u),g[f].region.push({X:it.X,Y:it.Y}),f!=0&&g[f-1].region.push({X:it.X,Y:it.Y})),d!=null){bt=null;kt=null;dt=e.indexOf("stackingsplinearea")!=-1||e=="splinerangearea"?et[h-1]||this.getBezierControlPoints(d,l,ft[ct],ft[h],ht,u,this):et[ui++]||this.getBezierControlPoints(d,l,ft[ct],ft[h],ht,u,this);bt=dt.controlPoint1;kt=dt.controlPoint2;var c=ej.EjSvgRender.utils._getPoint(d,u),rt=ej.EjSvgRender.utils._getPoint(l,u),v=ej.EjSvgRender.utils._getPoint(bt,u),y=ej.EjSvgRender.utils._getPoint(kt,u);if(at&&(st?w.append("M "+k.X+" "+c.Y+" L "+c.X+" "+c.Y+" "):w.append("M "+c.X+" "+k.Y+" L "+c.X+" "+c.Y+" "),at=!1),w.append("C "+v.X+" "+v.Y+" "+y.X+" "+y.Y+" "+rt.X+" "+rt.Y+" "),e=="splinerangearea"&&(nt[h]=st?"C "+y.low+" "+y.Y+" "+v.low+" "+v.Y+" "+c.low+" "+c.Y+" ":"C "+y.X+" "+y.low+" "+v.X+" "+v.low+" "+c.X+" "+c.low+" "),e.indexOf("stackingsplinearea")!=-1&&(nt[h]="C "+y.X+" "+y.Y+" "+v.X+" "+v.Y+" "+c.X+" "+c.Y+" "),(h==s.length-1||h<s.length-1&&!s[f+1].visible)&&((a!=0&&e.indexOf("stackingsplinearea")!=-1||e=="splinerangearea")&&(b={xValue:s[f].xValue,YValues:e=="splinerangearea"?s[f].YValues:[yt[f].YValues[0]]},k=ej.EjSvgRender.utils._getPoint(b,u)),st?w.append("L "+(e=="splinerangearea"?rt.low:k.X)+" "+rt.Y+" "):w.append("L "+rt.X+" "+(e=="splinerangearea"?k.low:k.Y)+" "),b=null,at=!0,pt.displayMode.toLowerCase()=="gap"&&h!=s.length-1&&a!=0&&e.indexOf("stacking")!=-1)){for(ti=ej.util.isNullOrUndefined(u._prevpointIndex)?1:u._prevpointIndex,tt=h;tt>=ti;tt--)if(s[tt-1].visible&&!ej.util.isNullOrUndefined(o.model._previousSeries))w.append(o.model._previousSeries[tt]),o.model._previousSeries[tt]="";else break;u._prevpointIndex=h+3}}else(e.indexOf("stackingsplinearea")!=-1||e.indexOf("splinerangearea")!=-1)&&h>0&&pt.displayMode=="gap"&&this.drawbackCurve(et,u,nt,h,l);d=l;ct=h}else d=null,(e.indexOf("stackingsplinearea")!=-1||e.indexOf("splinerangearea")!=-1)&&h>0&&pt.displayMode=="gap"&&this.drawbackCurve(et,u,nt,h,l);if(o.model.series[a].type.toLowerCase()=="splinerangearea")for(f=s.length-1;f>=0;f--)lt=s[f].low,ii={xValue:s[f].xValue,YValues:[lt]},ut=ej.EjSvgRender.utils._getPoint(ii,u),g[f].region.push({X:ut.X,Y:ut.Y}),f!=0&&g[f-1].region.push({X:ut.X,Y:ut.Y});p=w.toString();e.indexOf("stackingsplinearea")!=-1&&a>0&&(o.model._previousSeries=this._getReversePath(o,a,o.model._previousSeries));e=="splinerangearea"?(gt=this._getReversePath(o,a,nt),p=p+gt+"Z"):(p=ej.util.isNullOrUndefined(o.model._previousSeries)?p:p+o.model._previousSeries+"Z",o.model._previousSeries=nt);e=="splinerangearea"&&this.chartObj.model.chartRegions.push(g);this.drawAreaPath(u,ri,p,vt);this.chartObj.dragPoint?this.chartObj.svgRenderer.append(this.chartObj.gPreviewSeriesGroupEle,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle);this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle},stackingSeries:!0,_getReversePath:function(n,t,i){var s=n.model.series[t].emptyPointSettings,o="",u=n.model.series[t].points,f,r,e;if(!ej.util.isNullOrUndefined(i)){for(f=0;f<u.length;f++)r=f,u[r].visible||u[r].isEmpty&&s.displayMode!="gap"||(r==0?i[r+1]&&(i[r+1]=""):r==u.length-1?i[r]&&(i[r]=""):(i[r]&&(i[r]=""),i[r+1]&&(i[r+1]="")));for(e=i.length-1;e>0;e--)o=o+i[e]}return o},drawbackCurve:function(n,t,i,r,u){var f=n[r-1],h=f.controlPoint1,c=f.controlPoint2,e=ej.EjSvgRender.utils._getPoint(t.points[r-1],t),l=ej.EjSvgRender.utils._getPoint(u,t),o=ej.EjSvgRender.utils._getPoint(h,t),s=ej.EjSvgRender.utils._getPoint(c,t);i[r]="C "+s.X+" "+s.Y+" "+o.X+" "+o.Y+" "+e.X+" "+e.Y+" "}});ej.seriesTypes.splinearea=ej.ejSplineAreaSeries;ej.seriesTypes.stackingsplinearea=ej.ejSplineAreaSeries;ej.seriesTypes.stackingsplinearea100=ej.ejSplineAreaSeries;ej.ejScatterSeries=t(ej.EjSeriesRender,{draw:function(t,i){var r,u,s;this.chartObj=t;r=i;i._animationType="scatter";var h=n.inArray(i,this.chartObj.model._visibleSeries),f=r.points.length>100||!r.enableSmartLabels?this.improveChartPerformance(r):this._isVisiblePoints(r),c=f.length,o,e;for(i._visiblePoints=f,u=0;u<c;u++)o=f[u],s=u,e=ej.EjSvgRender.utils._getPoint(o,i),this.drawSymbol(h,i,s,e.X,e.Y)}});ej.seriesTypes.scatter=ej.ejScatterSeries;ej.ejBubbleSeries=t(ej.EjSeriesRender,{createBubbleGroup:function(t){var r=n.inArray(t,this.chartObj.model.series),u=this.chartObj.model.m_AreaBounds.X,f=this.chartObj.model.m_AreaBounds.Y,i=t._isTransposed,e=i?u:t.xAxis.x,o=i?f:t.yAxis.y,s={id:this.chartObj.svgObject.id+"_SeriesGroup_"+r,transform:"translate("+e+","+o+")"};this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(s)},draw:function(t,i){var r,f,e,l,o,s,it,ot,at;this.chartObj=t;i._animationType="bubble";r=i;f=r.cornerRadius;r.points=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal();var rt=n.inArray(r,this.chartObj.model._visibleSeries),g=this._isVisiblePoints(r),h=1,nt=i.bubbleOptions,vt=nt.radiusMode.toLowerCase(),v,y,ut,p,ft=t.model.m_AreaBounds,c=t.model._visibleSeries,u=0,et=Math.max(ft.Height,ft.Width),w,b,tt;if(vt=="minmax")tt=et/100,v=nt.minRadius*tt,y=nt.maxRadius*tt,b=y-v,u=Math.max.apply(0,n.map(g,function(n){return n.YValues[h]}));else for(ut=et/10,v=y=1,b=ut*y,e=0;e<c.length;e++)if(c[e].type.toLowerCase()=="bubble"&&c[e].visibility=="visible"&&c[e].bubbleOptions.radiusMode.toLowerCase()=="auto")for(p=c[e]._visiblePoints,l=0;l<p.length;l++)u=u<p[l].YValues[h]?p[l].YValues[h]:u;for(this.createBubbleGroup(r),o=0;o<g.length;o++)if(s=g[o],it=o,s.visible){u=u?u:1;w=r.bubbleOptions.radiusMode.toLowerCase()=="minmax"?v+b*Math.abs(s.YValues[h]/u):b*Math.abs(s.YValues[h]/u);var k=ej.EjSvgRender.utils._getPoint(s,r),a=this.chartObj.setStyle(this,r,rt,it),i={id:this.chartObj.svgObject.id+"_Series"+rt+"_Point"+it,cx:k.X+this.chartObj.canvasX,cy:k.Y+this.chartObj.canvasY,r:w,fill:a.interior,cornerRadius:f,"stroke-width":a.borderWidth,"stroke-dasharray":a.dashArray,opacity:a.opacity,stroke:a.borderColor};typeof f!="object"&&f>0||f.topLeft>0||f.bottomLeft>0||f.topRight>0||f.bottomRight>0?(ot=ej.EjSvgRender.utils.calculateroundedCorner(i),i.d=ot,this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle)):s.radius=w;this.chartObj.svgRenderer.drawCircle(i,this.gSeriesGroupEle);var yt=k.X,pt=k.Y,d=w,st,ht,ct,lt;ht=yt-d+(r.isTransposed?this.chartObj.model.m_AreaBounds.X:r.xAxis.x);ct=pt-d+(r.isTransposed?this.chartObj.model.m_AreaBounds.Y:r.yAxis.y);lt=2*d;st=2*d;at={X:ht,Y:ct,Width:st,Height:lt};ej.EjSvgRender.utils._addRegion(this.chartObj,at,r,null,o)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}});ej.seriesTypes.bubble=ej.ejBubbleSeries;ej.ejhiloSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var p,f,e,l,a,s,h,k;this.chartObj=t;i._animationType="hilo";p=this.chartObj.model.requireInvertedAxes;f=i;f.points=ej.DataManager(f.points,ej.Query().sortBy("xValue")).executeLocal();var w=this._isVisiblePoints(f),o=this.getSideBySideInfo(f,r),u=null,c=n.inArray(f,this.chartObj.model._visibleSeries),b=ej.EjSvgRender.utils._getTransform(f.xAxis,f.yAxis,p),d={id:this.chartObj.svgObject.id+"_SeriesGroup_"+c,transform:"translate("+b.x+","+b.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(d),e=0;e<w.length;e++)if(u=w[e],l=e,u.visible){if(a="",ej.util.isNullOrUndefined(u.YValues[0])||ej.util.isNullOrUndefined(u.YValues[1]))continue;var g=this.chartObj.setStyle(this,f,c,l),nt=this.chartObj.setHiloStyle(f,l,c),v={},y={};u.YValues[0]<u.YValues[1]?(v={xValue:u.xValue+o.Median,YValues:[u.YValues[0]]},y={xValue:u.xValue+o.Median,YValues:[u.YValues[1]]}):(v={xValue:u.xValue+o.Median,YValues:[u.YValues[1]]},y={xValue:u.xValue+o.Median,YValues:[u.YValues[0]]});s=ej.EjSvgRender.utils._getPoint(v,f);h=ej.EjSvgRender.utils._getPoint(y,f);a="M "+(s.X+this.chartObj.canvasX)+" "+(s.Y+this.chartObj.canvasY)+" L "+(h.X+this.chartObj.canvasX)+" "+(h.Y+this.chartObj.canvasY)+" ";k={point1:s,point2:h};this._drawHiloPath(f,g,nt,a,e,k)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0});ej.seriesTypes.hilo=ej.ejhiloSeries;ej.ejhiloopencloseSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var et,u,a,o,g,w,b,h,c,ht,ct,k,d,lt;this.chartObj=t;et=this.chartObj.model.requireInvertedAxes;i._animationType="hilo";u=i;u.points=ej.DataManager(u.points,ej.Query().sortBy("xValue")).executeLocal();var ot=this._isVisiblePoints(u),e=this.getSideBySideInfo(u,r),f=null,l=this.chartObj.model.palette,p=n.inArray(u,this.chartObj.model._visibleSeries),st=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,et),at={id:this.chartObj.svgObject.id+"_SeriesGroup_"+p,transform:"translate("+st.x+","+st.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(at),o=0;o<ot.length;o++)if(g=o,f=ot[o],f.visible){var s="",vt=ej.util.isNullOrUndefined(u.drawMode)?!0:u.drawMode.toLowerCase()=="both"||u.drawMode.toLowerCase()=="open"?!0:!1,yt=ej.util.isNullOrUndefined(u.drawMode)?!0:u.drawMode.toLowerCase()=="both"||u.drawMode.toLowerCase()=="close"?!0:!1,nt={},tt={},v={},y={};if(f.YValues[0]<f.YValues[1]?(nt={xValue:f.xValue+e.Median,YValues:[f.YValues[0]]},tt={xValue:f.xValue+e.Median,YValues:[f.YValues[1]]},v={xValue:f.xValue,YValues:[f.YValues[2]]},y={xValue:f.xValue,YValues:[f.YValues[3]]}):(nt={xValue:f.xValue+e.Median,YValues:[f.YValues[1]]},tt={xValue:f.xValue+e.Median,YValues:[f.YValues[0]]},v={xValue:f.xValue,YValues:[f.YValues[2]]},y={xValue:f.xValue,YValues:[f.YValues[3]]}),u.fill=u.isFill?u.fill:null,f.YValues[2]<f.YValues[3]?u.bearFillColor=a=ej.util.isNullOrUndefined(u.bearFillColor)?u.fill?u.fill:l&&l.length>0?l[p]:"#339933":u.bearFillColor:u.bullFillColor=a=ej.util.isNullOrUndefined(u.bullFillColor)?u.fill?u.fill:l&&l.length>0?l[p]:"#E51400":u.bullFillColor,w=this.chartObj.setStyle(this,u,p,g,a),b=this.chartObj.setHiloStyle(u,g,p,a),f.fill?a=jQuery.type(f.interior)=="array"?f.fill[0]:f.fill:f._hiloFill=a,h=this.chartObj.canvasX,c=this.chartObj.canvasY,vt){var pt={xValue:v.xValue+e.Median,YValues:v.YValues},it=ej.EjSvgRender.utils._getPoint(pt,u),wt={xValue:v.xValue+e.Start,YValues:v.YValues},rt=ej.EjSvgRender.utils._getPoint(wt,u);s="M "+(it.X+h)+" "+(it.Y+c)+" L "+(rt.X+h)+" "+(rt.Y+c)+" ";ht={point1:it,point2:rt};this._drawHiloPath(u,w,b,s,o,ht);s=""}if(yt){var bt={xValue:y.xValue+e.Median,YValues:y.YValues},ut=ej.EjSvgRender.utils._getPoint(bt,u),kt={xValue:y.xValue+e.End,YValues:y.YValues},ft=ej.EjSvgRender.utils._getPoint(kt,u);s="M "+(ut.X+h)+" "+(ut.Y+c)+" L "+(ft.X+h)+" "+(ft.Y+c)+" ";ct={point1:ut,point2:ft};this._drawHiloPath(u,w,b,s,o,ct);s=""}k=ej.EjSvgRender.utils._getPoint(nt,u);d=ej.EjSvgRender.utils._getPoint(tt,u);s="M "+(k.X+h)+" "+(k.Y+c)+" L "+(d.X+h)+" "+(d.Y+c)+" ";lt={point1:k,point2:d};this._drawHiloPath(u,w,b,s,o,lt)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0});ej.seriesTypes.hiloopenclose=ej.ejhiloopencloseSeries;ej.ejCandleSeries=t(ej.EjSeriesRender,{draw:function(t,i,r){var ft,f,y,b,c,k,v,nt,lt,vt,ut,yt;this.chartObj=t;i._animationType="hilo";ft=this.chartObj.model.requireInvertedAxes;f=i;f.points=ej.DataManager(f.points,ej.Query().sortBy("xValue")).executeLocal();var et=this._isVisiblePoints(f),h=this.getSideBySideInfo(f,r),u=null,l=this.chartObj.model.palette,a=n.inArray(f,this.chartObj.model._visibleSeries),ot=ej.EjSvgRender.utils._getTransform(f.xAxis,f.yAxis,ft),pt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:"translate("+ot.x+","+ot.y+")"};for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(pt),b=1,c=0;c<et.length;c++)if(u=et[c],k=c,u.visible){var st="",d={},g={},o={},s={};u.YValues[0]<u.YValues[1]?(d={xValue:u.xValue+h.Median,YValues:[u.YValues[0]]},g={xValue:u.xValue+h.Median,YValues:[u.YValues[1]]},o={xValue:u.xValue,YValues:[u.YValues[2]]},s={xValue:u.xValue,YValues:[u.YValues[3]]}):(d={xValue:u.xValue+h.Median,YValues:[u.YValues[1]]},g={xValue:u.xValue+h.Median,YValues:[u.YValues[0]]},o={xValue:u.xValue,YValues:[u.YValues[2]]},s={xValue:u.xValue,YValues:[u.YValues[3]]});u.YValues[2]<u.YValues[3]?(o={xValue:u.xValue,YValues:[u.YValues[2]]},s={xValue:u.xValue,YValues:[u.YValues[3]]},f.bearFillColor=y=ej.util.isNullOrUndefined(f.bearFillColor)?l&&l.length>0?l[a]:"#339933":f.bearFillColor):(o={xValue:u.xValue,YValues:[u.YValues[3]]},s={xValue:u.xValue,YValues:[u.YValues[2]]},f.bullFillColor=y=ej.util.isNullOrUndefined(f.bullFillColor)?l&&l.length>0?l[a]:"#E51400":f.bullFillColor);v=this.chartObj.setStyle(this,f,a,k,y);nt=this.chartObj.setHiloStyle(f,k,a,y);u.style&&u.style.interior?y=jQuery.type(u.style.interior)=="array"?u.style.interior[0]:u.style.interior:u._hiloFill=nt;var tt=ej.EjSvgRender.utils._getPoint(d,f),it=ej.EjSvgRender.utils._getPoint({xValue:o.xValue+h.Median,YValues:[o.YValues[0]]},f),ht=ej.EjSvgRender.utils._getPoint({xValue:s.xValue+h.Median,YValues:[s.YValues[0]]},f),ct=ej.EjSvgRender.utils._getPoint(g,f),p=this.chartObj.canvasX,w=this.chartObj.canvasY;st="M "+(tt.X+p)+" "+(tt.Y+w)+" L "+(it.X+p)+" "+(it.Y+w)+" M "+(ht.X+p)+" "+(ht.Y+w)+" L "+(ct.X+p)+" "+(ct.Y+w)+" ";lt={point1:tt,point2:it};this._drawHiloPath(f,v,nt,st,c,lt);var wt={xValue:s.xValue+h.Start,YValues:s.YValues},rt=ej.EjSvgRender.utils._getPoint(wt,f),bt={xValue:o.xValue+h.End,YValues:o.YValues},at=ej.EjSvgRender.utils._getPoint(bt,f),e=ej.EjSvgRender.utils._correctRect(rt.X,rt.Y,at.X,at.Y);o.YValues[0]==s.YValues[0]&&(e.Y=rt.Y-b/2,e.Height=b);vt={id:this.chartObj.svgObject.id+"_Series"+a+"_Point"+c,x:e.X+this.chartObj.canvasX,y:e.Y+this.chartObj.canvasY,width:e.Width,height:e.Height,fill:v.interior,"stroke-width":v.borderWidth,"stroke-dasharray":v.dashArray,stroke:v.borderColor};this.chartObj.svgRenderer.drawRect(vt,this.gSeriesGroupEle);ut=ej.EjSvgRender.utils._getSvgXY(e.X,e.Y,f,this.chartObj);yt={X:ut.X,Y:ut.Y,Width:e.Width,Height:e.Height};ej.EjSvgRender.utils._addRegion(this.chartObj,yt,f,u,c)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0});ej.seriesTypes.candle=ej.ejCandleSeries;ej.ejPieOfPieSeries=t(ej.EjSeriesRender,{draw:function(n,t){this.chartObj=n;var i=new ej.seriesTypes.pie;i.draw(n,t)},chartAreaType:"None"});ej.seriesTypes.pieofpie=ej.ejPieOfPieSeries;ej.ejPieSeries=t(ej.EjSeriesRender,{draw:function(t,i){var l,b,nt,tt,v,it,rt,ut,ft,h,f,c,ot,p,st,u,ht,ct,w;this.chartObj=t;var r=i,k=[],d=i.type.toLowerCase(),o=i.collectionIndex,lt=o==0?r.pieCoefficient:r.pieOfPieCoefficient,at=this.chartObj.model.enableCanvasRendering,g=this._calculateVisiblePoints(i,this.chartObj).visiblePoints,a=this.calculatingSliceAngle(r),u=n.inArray(r,this.chartObj.model._visibleSeries),vt=this.chartObj.model._visibleSeries.length,s=this.chartObj.model._visibleSeries[u];if(s._pieCoefficient=s.pieCoefficient,this.chartObj.model.circularRadius.length>1){for(l=u;ej.util.isNullOrUndefined(s.zOrder)?l<this.chartObj.model.circularRadius.length:l>=0;ej.util.isNullOrUndefined(s.zOrder)?l++:l--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[l])){this.chartObj.model.circularRadius[u]=this.chartObj.model.circularRadius[l]*s._pieCoefficient;break}}else d=="pieofpie"&&s.splitMode!=""?this.chartObj.model.circularRadius[o]=.25*lt*Math.min(a.width,a.height):this.chartObj.model.circularRadius[u]=.5*s._pieCoefficient*Math.min(a.width,a.height);if(b=Math.min(a.width,a.height),b<0)return b;for(nt=Math.abs(r.endAngle-r.startAngle),nt<270&&this.pieDoughnutCenter(r),tt={id:this.chartObj.svgObject.id+"_SeriesGroup_"+u},this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(tt),v=r.enableAnimation&&!r._animatedSeries?"hidden":"visible",it={id:this.chartObj.svgObject.id+"_TextGroup_"+u,visibility:v},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[u]=o==1?this.chartObj.gSeriesTextEle[0]:this.chartObj.svgRenderer.createGroup(it),rt={id:this.chartObj.svgObject.id+"_symbolGroup_"+u,visibility:v},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[u]=this.chartObj.svgRenderer.createGroup(rt),ut={id:this.chartObj.svgObject.id+"_connectorGroup_"+u,visibility:v},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[u]=this.chartObj.svgRenderer.createGroup(ut),ft={id:this.chartObj.svgObject.id+"_DataLabel_"+u,visibility:v},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[u]=o==1?this.chartObj.gDataLabelEle[0]:this.chartObj.svgRenderer.createGroup(ft),h=0;h<g.length;h++)if((f=this.chartObj.model._isPieOfPie?g[h].actualIndex:h,!isNaN(r._visiblePoints[h].startAngle))&&(c=r._visiblePoints[h],c.visible)){var y=this._calculateArcData(this.chartObj,f,c,r,u,o),et=y.Direction.split(" "),e=this.chartObj.setStyle(this,r,u,h);if(ot=r.startAngle<r.endAngle?!1:!0,!this.chartObj.model._isPieOfPie)for(p=0;p<r.visiblePoints.length;p++)if(c==r.visiblePoints[p]){f=p;break}i={id:this.chartObj.svgObject.id+"_Series"+u+"_Point"+f,fill:e.interior,"stroke-width":e.borderWidth,stroke:e.borderColor,"stroke-dasharray":e.dashArray,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,d:y.Direction,opacity:e.opacity,"data-pointIndex":f};st={id:this.chartObj.svgObject.id+"_Series"+u+"_Point"+f,fill:e.interior,"stroke-width":e.borderWidth,stroke:e.borderColor,"stroke-dasharray":e.dashArray,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,d:y.Direction,opacity:e.opacity,radius:d=="pieofpie"?this.chartObj.model.circularRadius[o]:this.chartObj.model.circularRadius[u],start:c.startAngle-1.57,end:c.endAngle-1.57,"data-pointIndex":f,counterClockWise:ot,innerR:0,cx:y.centerX,cy:y.centerY,x:et[12],y:et[13]};at?this.chartObj.svgRenderer.drawPath(st,this.gSeriesGroupEle):this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle);w={PointIndex:f,Index:h,StartAngle:c.startAngle,EndAngle:c.endAngle,StartX:this.chartObj.model.startX[f],StartY:this.chartObj.model.startY[f],PieSeriesIndex:o,SeriesIndex:n.inArray(r,this.chartObj.model._visibleSeries)};k.push(w)}u=this.chartObj.model._isPieOfPie?o:u;this.chartObj.model._isPieOfPie&&o==1&&s.pieCollections[0].length>0&&s.pieCollections[1].length==0&&(ht=this._drawEmptyPieOfPie(this.chartObj),this.chartObj.svgRenderer.drawPath(ht,this.gSeriesGroupEle));ct={Radius:this.chartObj.model.circularRadius[u],CenterX:this.chartObj.model.circleCenterX[u],CenterY:this.chartObj.model.circleCenterY[u]};w={Series:r,SeriesData:ct,Region:k,SeriesIndex:n.inArray(r,this.chartObj.model._visibleSeries)};this.chartObj.model.chartRegions.push(w);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"});ej.seriesTypes.pie=ej.ejPieSeries;ej.ejDoughnutSeries=t(ej.EjSeriesRender,{draw:function(t,i){var h,p,d,l,g,nt,tt,it,c,e,o,s,et,a,ot,st,y;this.chartObj=t;var u=i,k=[],ht=this._calculateVisiblePoints(i).visiblePoints,v=this.calculatingSliceAngle(u),ct=this.chartObj.model.enableCanvasRendering,lt=ht.length,r=n.inArray(u,this.chartObj.model._visibleSeries),pt=this.chartObj.model._visibleSeries.length,pt=this.chartObj.model._visibleSeries.length,f=this.chartObj.model._visibleSeries[r];if(f._doughnutSize=f.doughnutSize,f._doughnutCoefficient=f.doughnutCoefficient,this.chartObj.model.circularRadius.length>1){for(h=r;ej.util.isNullOrUndefined(f.zOrder)?h<this.chartObj.model.circularRadius.length:h>=0;ej.util.isNullOrUndefined(f.zOrder)?h++:h--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[h])){this.chartObj.model.circularRadius[r]=this.chartObj.model.circularRadius[h]*f._doughnutSize;break}}else this.chartObj.model.circularRadius[r]=.5*f._doughnutSize*Math.min(v.width,v.height);if(p=Math.min(v.width,v.height),p<0)return p;d=Math.abs(u.endAngle-u.startAngle);d<270&&this.pieDoughnutCenter(u);this.chartObj.model.innerRadius[r]=f._doughnutCoefficient*this.chartObj.model.circularRadius[r];var wt=ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces)?2:this.chartObj.model.roundingPlaces,r=n.inArray(u,this.chartObj.model._visibleSeries),at={id:this.chartObj.svgObject.id+"_SeriesGroup_"+r};if(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup(at),l=u.enableAnimation&&!u._animatedSeries?"hidden":"visible",g={id:this.chartObj.svgObject.id+"_TextGroup_"+r,visibility:l},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[r]=this.chartObj.svgRenderer.createGroup(g),nt={id:this.chartObj.svgObject.id+"_symbolGroup_"+r,visibility:l},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[r]=this.chartObj.svgRenderer.createGroup(nt),tt={id:this.chartObj.svgObject.id+"_connectorGroup_"+r,visibility:l},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[r]=this.chartObj.svgRenderer.createGroup(tt),it={id:this.chartObj.svgObject.id+"_DataLabel_"+r,visibility:l},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[r]=this.chartObj.svgRenderer.createGroup(it),u._doughnutSize>0&&f._doughnutCoefficient>=0&&u._doughnutSize<=1&&f._doughnutCoefficient<=1)for(c=0;c<lt;c++)if(e=u._visiblePoints[c],o=c,e.visible){var w=0,b=0,rt=this._calculateArcData(this.chartObj,o,e,u,r);if((e.actualIndex==u.explodeIndex||u.explodeAll)&&!this.chartObj.vmlRendering){var ut=-.5*Math.PI,vt=e.startAngle+ut,yt=e.endAngle+ut-1e-6,ft=(vt+yt)/2;w=this.chartObj.model.circleCenterX[r]+Math.cos(ft)*u.explodeOffset;b=this.chartObj.model.circleCenterY[r]+Math.sin(ft)*u.explodeOffset}for(s=this.chartObj.setStyle(this,u,r,o),et=u.startAngle<u.endAngle?!1:!0,a=0;a<u.visiblePoints.length;a++)if(e==u.visiblePoints[a]){o=a;break}i={id:this.chartObj.svgObject.id+"_Series"+r+"_Point"+o,fill:s.interior,"stroke-width":s.borderWidth,stroke:s.borderColor,"stroke-dasharray":s.dashArray,"stroke-linecap":u.lineCap,opacity:s.opacity,"stroke-linejoin":u.lineJoin,d:rt.Direction,"data-pointIndex":o};ot={id:this.chartObj.svgObject.id+"_Series"+r+"_Point"+o,fill:s.interior,"stroke-width":s.borderWidth,stroke:s.borderColor,"stroke-dasharray":s.dashArray,"stroke-linecap":u.lineCap,opacity:s.opacity,"stroke-linejoin":u.lineJoin,d:rt.Direction,start:e.startAngle-1.57,end:e.endAngle-1.57,"data-pointIndex":o,radius:this.chartObj.model.circularRadius[r],innerR:this.chartObj.model.innerRadius[r],counterClockWise:et,x:w!=0?w:this.chartObj.model.circleCenterX[r],y:b!=0?b:this.chartObj.model.circleCenterY[r]};ct?this.chartObj.svgRenderer.drawPath(ot,this.gSeriesGroupEle):this.chartObj.svgRenderer.drawPath(i,this.gSeriesGroupEle);y={PointIndex:o,Index:c,StartAngle:e.startAngle,EndAngle:e.endAngle,StartX:this.chartObj.model.startX[o],StartY:this.chartObj.model.startY[o],SeriesIndex:n.inArray(u,this.chartObj.model._visibleSeries)};k.push(y)}st={Radius:this.chartObj.model.circularRadius[r],DRadius:this.chartObj.model.innerRadius[r],CenterX:this.chartObj.model.circleCenterX[r],CenterY:this.chartObj.model.circleCenterY[r]};y={Series:u,SeriesData:st,Region:k,SeriesIndex:n.inArray(u,this.chartObj.model._visibleSeries)};this.chartObj.model.chartRegions.push(y);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"});ej.seriesTypes.doughnut=ej.ejDoughnutSeries;ej.ejPyramidSeries=t(ej.EjSeriesRender,{draw:function(t,i){var a,ot,e,s,wt,ii,bt,kt,dt,gt,h,f,p,it;this.chartObj=t;var r=t.model,o,st=this,d=r.LegendActualBounds,u=i,w=this._calculateVisiblePoints(u).visiblePoints,rt=w.length,ht=[],ut=[],ct=r.legend,g=u.marker.dataLabel,l=ct.position.toLowerCase(),nt=ct.border.width,tt=0,c=r.title,b=r.title.subTitle,lt=r.border.width,at=c.text!=""&&c.visible&&c.enableTrim?!0:!1,vt=b.text!=""&&b.visible&&b.enableTrim?!0:!1,ft=r.title.text&&r.title.visible?ej.EjSvgRender.utils._measureText(r.title.text,n(this.svgObject).width()-r.margin.left-r.margin.right,r.title.font):0,et=r.title.subTitle.text&&r.title.subTitle.visible?ej.EjSvgRender.utils._measureText(r.title.subTitle.text,n(this.svgObject).width()-r.margin.left-r.margin.right,r.title.subTitle.font):0,yt=t.model.title.text==""||!t.model.title.visible?0:at&&c.textOverflow=="wrap"?ft.height*t.model.titleWrapTextCollection.length:at&&c.textOverflow=="wrapandtrim"?ft.height*t.model.titleWrapTextCollection.length:ft.height,pt=t.model.title.subTitle.text==""||!t.model.title.subTitle.visible?0:vt&&b.textOverflow=="wrap"?et.height*t.model.subTitleWrapTextCollection.length:vt&&b.textOverflow=="wrapandtrim"?et.height*t.model.subTitleWrapTextCollection.length:et.height,k=r.margin.left+r.elementSpacing+lt*2+r.elementSpacing+r.margin.right+(l==="right"||l==="left"?d.Width+2*nt:0),ni=(r.title.text&&r.title.visible?r._titleLocation.Y+yt+pt:r.elementSpacing)+lt*2+r.margin.top+r.elementSpacing+r.elementSpacing+(l==="top"||l==="bottom"?d.Height+2*nt+r.elementSpacing:0);if(g.visible&&g.shape!="none"&&u.labelPosition=="outside"&&(k=k+(g.margin.left+g.margin.right)),r.chartRegions=[],r.sumofYValues=0,u.labelPosition.toLowerCase()==="outside"){for(a=0;a<rt;a++)ot=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(w[a].text)?w[a].y:w[a].text,null,u.marker.dataLabel.font).width,tt<ot&&(tt=ot);r.textSize=tt}u._enableSmartLabels?(r.actualWidth=(n(t.svgObject).width()-k)*.8,r.resWidth=(n(t.svgObject).width()-k-r.actualWidth)/2):(r.actualWidth=n(t.svgObject).width()-k-tt,r.resWidth=0);e=n.inArray(u,r._visibleSeries);r.actualHeight=n(t.svgObject).height()-ni;var ti=t.model.title.subTitle.text==""?0:pt,v=t.pyrX=(l==="left"?d.Width+2*nt:0)+r.elementSpacing+r.margin.left,y=t.pyrY=(l==="top"?d.Height+2*nt:0)+(c.text&&c.visible?r._titleLocation.Y+yt+ti:r.margin.top+r.elementSpacing);for(ut[0]=v,ut[1]=y,s=0;s<rt;s++)r.sumofYValues+=w[s].YValues[0];for(wt={id:t.svgObject.id+"_DataLabel_"+e,transform:"translate("+v+","+y+")"},t.gDataLabelEle=[],t.gDataLabelEle[e]=t.svgRenderer.createGroup(wt),ii=ej.util.isNullOrUndefined(r.roundingPlaces)?2:r.roundingPlaces,bt={id:t.svgObject.id+"_SeriesGroup_"+e,transform:"translate("+v+","+y+")"},this.gSeriesGroupEle=t.svgRenderer.createGroup(bt),kt={id:t.svgObject.id+"_textGroup_"+e,transform:"translate("+v+","+y+")"},t.gSeriesTextEle=[],t.gSeriesTextEle[e]=t.svgRenderer.createGroup(kt),dt={id:t.svgObject.id+"_symbolGroup_"+e,transform:"translate("+v+","+y+")"},t.gSymbolGroupEle=[],t.gSymbolGroupEle[e]=t.svgRenderer.createGroup(dt),gt={id:t.svgObject.id+"_connectorGroup_"+e,transform:"translate("+v+","+y+")"},t.gConnectorEle=[],t.gConnectorEle[e]=t.svgRenderer.createGroup(gt),u.pyramidMode.toLowerCase()=="linear"?this.calculateLinearSegments(u):this.calculateSurfaceSegments(u),s=0;s<rt;s++)h=s,o=u._visiblePoints[s],o.visible&&(f=this._getPyramidData(u,h),p=t.setStyle(this,u,0,h),i={id:t.svgObject.id+"_Series"+e+"_Point"+h,fill:p.interior,"stroke-width":p.borderWidth,stroke:p.borderColor,"stroke-dasharray":p.dashArray,"stroke-linecap":u.lineCap,"stroke-linejoin":u.lineJoin,opacity:p.opacity,pointIndex:h,d:f.Direction},t.svgRenderer.drawPath(i,this.gSeriesGroupEle,ut),u.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(o,h,u,!0,t),o.xLocation=f.PositionX,o.yLocation=f.PositionY,o.connectorLine=f.Connector,o.startX=f.startX,o.startY=f.startY,o.Polygon=f.Polygon,it={PointIndex:h,Line1:f.Line1,Line2:f.Line2,Line3:f.Line3,Line4:f.Line4,Polygon:f.Polygon},ht.push(it));it={Series:u,Region:ht,SeriesIndex:n.inArray(u,r._visibleSeries)};r.chartRegions.push(it);this.gSeriesGroupEle&&(n(this.gSeriesGroupEle.childNodes[h]).bind("mousemove",function(n){n.target=st.gSeriesGroupEle.childNodes[h];st.chartObj.chartInteractiveBehavior(n)}),t.svgRenderer.append(this.gSeriesGroupEle,t.gSeriesEle))},_getPyramidData:function(t,i){var r=this.chartObj.model,h=t._visiblePoints[i].marker,it=t._visiblePoints[i].actualIndex,a=t.explodeIndex==it||t.explodeAll?t.explodeOffset:0,c=r.resWidth,w=r.pyramidData[i].CurrY,v=r.pyramidData[i].CurrY+r.pyramidData[i].Height,b=.5*(1-r.pyramidData[i].CurrY),k=.5*(1-v),et=t.points[i],o={x:c+a+b*r.actualWidth,y:w*r.actualHeight},u={x:c+a+(1-b)*r.actualWidth,y:w*r.actualHeight},f={x:c+a+(1-k)*r.actualWidth,y:v*r.actualHeight},l={x:c+a+k*r.actualWidth,y:v*r.actualHeight},rt="M "+o.x+" "+o.y+" L "+u.x+" "+u.y+" L "+f.x+" "+f.y+" L "+l.x+" "+l.y+" z",ut=[{x:o.x,y:o.y},{x:u.x,y:u.y},{x:f.x,y:f.y},{x:l.x,y:l.y}],e,s,d,g,y,p;if(h&&h.dataLabel&&h.dataLabel.visible||(!h||!h.dataLabel)&&t.marker.dataLabel.visible)if(d=(u.x+f.x)/2,g=(u.y+f.y)/2,t.labelPosition.toLowerCase()==="outside"){e=(u.x+f.x)/2;s=(u.y+f.y)/2;y=(this.chartObj.model.legend.position.toLowerCase()=="left"||this.chartObj.model.legend.position.toLowerCase()=="right"?this.chartObj.model.LegendActualBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left;p=ej.util.isNullOrUndefined(t.marker.dataLabel.connectorLine.height)?t._enableSmartLabels?n(this.chartObj.svgObject).width()-(y+e+c+2*this.chartObj.model.elementSpacing):n(this.chartObj.svgObject).width()-(y+e+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):t.marker.dataLabel.connectorLine.height;var nt=this.getXCordinate(e,p,0),tt=this.getYCordinate(s,p,0),ft="M "+e+" "+s+" L "+nt+" "+tt;e=nt;s=tt}else e=(o.x+u.x)/2,s=(f.y+o.y)/2;return{Direction:rt,PositionX:e,PositionY:s,Connector:ft,Line1:o,Line2:u,Line3:f,Line4:l,startX:d,startY:g,Polygon:ut}},calculateLinearSegments:function(n){var f=0,i=this.chartObj.model,t,u;i.pyramidData=[];var r=n.gapRatio>=0?n.gapRatio<=1?n.gapRatio:1:0,o=1/(i.sumofYValues*(1+r/(1-r))),e=n._visiblePoints.length;for(t=0;t<e;t++)(n._visiblePoints[t].visible||n._visiblePoints[t].gapMode)&&(u=o*n._visiblePoints[t].YValues[0],i.pyramidData[t]={CurrY:f,Height:u},f+=r/(e-1)+u)},calculateSurfaceSegments:function(n){var r=n._visiblePoints.length,u=this.chartObj.model,e,t,c;u.pyramidData=[];var i=0,o=[],f=[],l=n.gapRatio>=0?n.gapRatio<=1?n.gapRatio:1:0,s=l/(r-1),h=this.getSurfaceHeight(0,u.sumofYValues);for(t=0;t<r;t++)(n._visiblePoints[t].visible||n._visiblePoints[t].gapMode)&&(o[t]=i,f[t]=this.getSurfaceHeight(i,Math.abs(n._visiblePoints[t].YValues[0])),i+=f[t]+s*h);for(e=1/(i-s*h),t=0;t<r;t++)(n._visiblePoints[t].visible||n._visiblePoints[t].gapMode)&&(c=e*o[t],u.pyramidData[t]={CurrY:c,Height:e*f[t]})},getSurfaceHeight:function(n,t){var i=this.solveQuadraticEquation(1,2*n,-t);return i?i:0},solveQuadraticEquation:function(n,t,i){var r,u,f,e;if(n!=0){if(f=t*t-4*n*i,f>=0)return e=Math.sqrt(f),r=(-t-e)/(2*n),u=(-t+e)/(2*n),Math.max(r,u)}else if(t!=0)return r=-i/t,u=-i/t,Math.max(r,u);return!1},chartAreaType:"None"});ej.seriesTypes.pyramid=ej.ejPyramidSeries;ej.ejFunnelSeries=t(ej.EjSeriesRender,{draw:function(t,i){var st,gt,l,a,h,ni,ti,ii,ri,ht,rt,e,lt,c,f,y,ut;this.chartObj=t;var r=t.model,at=r.legend,v=at.position.toLowerCase(),g=r.LegendActualBounds,s,vt=this,u=i,p=this._calculateVisiblePoints(u).visiblePoints,w=p.length,yt=[],nt=u.marker,tt=at.border.width,ft=[],it=0,b=t.model.title.text==""?"":r.title,k=t.model.title.subTitle.text==""?"":r.title.subTitle,pt=r.border.width,wt=b.text!=""&&b.visible&&b.enableTrim?!0:!1,bt=k.text!=""&&k.visible&&k.enableTrim?!0:!1,et=r.title.text&&r.title.visible?ej.EjSvgRender.utils._measureText(r.title.text,n(this.svgObject).width()-r.margin.left-r.margin.right,r.title.font):0,ot=r.title.subTitle.text&&r.title.subTitle.visible?ej.EjSvgRender.utils._measureText(r.title.subTitle.text,n(this.svgObject).width()-r.margin.left-r.margin.right,r.title.subTitle.font):0,kt=t.model.title.text==""||!t.model.title.visible?0:wt&&b.textOverflow=="wrap"?et.height*t.model.titleWrapTextCollection.length:wt&&b.textOverflow=="wrapandtrim"?et.height*t.model.titleWrapTextCollection.length:et.height,dt=t.model.title.subTitle.text==""||!t.model.title.subTitle.visible?0:bt&&k.textOverflow=="wrap"?ot.height*t.model.subTitleWrapTextCollection.length:bt&&k.textOverflow=="wrapandtrim"?ot.height*t.model.subTitleWrapTextCollection.length:ot.height,d=r.margin.left+r.elementSpacing+r.elementSpacing+r.margin.right+pt*2+(v==="right"||v==="left"?g.Width+2*tt:0),ui=(r.title.text&&r.title.visible?r._titleLocation.Y+kt+dt:r.elementSpacing)+r.margin.top+pt*2+r.elementSpacing+r.elementSpacing+(v==="top"||v==="bottom"?g.Height+2*tt+r.elementSpacing:0);if(nt.visible&&nt.shape!="none"&&u.labelPosition=="outside"&&(d=d+(nt.margin.left+nt.margin.right)),r.chartRegions=[],r.sumofYValues=0,u.labelPosition.toLowerCase()==="outside"){for(e=0;e<w;e++)st=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(p[e].text)?p[e].y:p[e].text,null,u.marker.dataLabel.font).width,it<st&&(it=st);r.textSize=it}for(u._enableSmartLabels?(r.actualWidth=(n(t.svgObject).width()-d)*.8,r.resWidth=(n(t.svgObject).width()-d-r.actualWidth)/2):(r.actualWidth=n(t.svgObject).width()-d-it,r.resWidth=0),gt=t.model.title.subTitle.text==""?0:dt,r.actualHeight=n(t.svgObject).height()-ui,l=t.pyrX=(v==="left"?g.Width+2*tt:0)+r.elementSpacing+r.margin.left,a=t.pyrY=(v==="top"?g.Height+2*tt:0)+(r.title.text&&r.title.visible?r._titleLocation.Y+kt+gt:r.margin.top+r.elementSpacing),ft[0]=l,ft[1]=a,h=0;h<w;h++)r.sumofYValues+=p[h].YValues[0];var si=ej.util.isNullOrUndefined(r.roundingPlaces)?2:r.roundingPlaces,o=n.inArray(u,r._visibleSeries),fi={id:t.svgObject.id+"_SeriesGroup_"+o,transform:"translate("+l+","+a+")"};this.gSeriesGroupEle=t.svgRenderer.createGroup(fi);ni={id:t.svgObject.id+"_DataLabel_"+o,transform:"translate("+l+","+a+")"};t.gDataLabelEle=[];t.gDataLabelEle[o]=t.svgRenderer.createGroup(ni);ti={id:t.svgObject.id+"_textGroup_"+o,transform:"translate("+l+","+a+")"};t.gSeriesTextEle=[];t.gSeriesTextEle[o]=t.svgRenderer.createGroup(ti);ii={id:t.svgObject.id+"_symbolGroup_"+o,transform:"translate("+l+","+a+")"};t.gSymbolGroupEle=[];t.gSymbolGroupEle[o]=t.svgRenderer.createGroup(ii);ri={id:t.svgObject.id+"_connectorGroup_"+o,transform:"translate("+l+","+a+")"};t.gConnectorEle=[];t.gConnectorEle[o]=t.svgRenderer.createGroup(ri);ht=0;rt=r;rt.funnelData=[];var ct=u.gapRatio>=0?u.gapRatio<=1?u.gapRatio:1:0,ei=1/(rt.sumofYValues*(1+ct/(1-ct))),oi=ct/w;for(e=w-1;e>=0;e--)(u._visiblePoints[e].visible||u._visiblePoints[e].gapMode)&&(lt=ei*u._visiblePoints[e].YValues[0],rt.funnelData[e]={CurrY:ht,Height:lt},ht+=lt+oi);for(h=0;h<w;h++)c=h,s=u._visiblePoints[h],s.visible&&(f=this._getFunnelData(u,c,t),y=t.setStyle(this,u,0,c),i={id:t.svgObject.id+"_Series"+o+"_Point"+c,fill:y.interior,"stroke-width":y.borderWidth,stroke:y.borderColor,"stroke-dasharray":y.dashArray,"stroke-linecap":u.lineCap,"stroke-linejoin":u.lineJoin,opacity:y.opacity,pointIndex:c,d:f.Direction},t.svgRenderer.drawPath(i,this.gSeriesGroupEle,ft),u.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(s,c,u,!0,t),s.xLocation=f.PositionX,s.yLocation=f.PositionY,s.connectorLine=f.Connector,s.startX=f.startX,s.startY=f.startY,s.Polygon=f.Polygon,ut={PointIndex:c,Line1:f.Line1,Line2:f.Line2,Line3:f.Line3,Line4:f.Line4,Line5:f.Line5,Line6:f.Line6,Polygon:f.Polygon},yt.push(ut));ut={Series:u,Region:yt,SeriesIndex:n.inArray(u,r._visibleSeries)};r.chartRegions.push(ut);this.gSeriesGroupEle&&n(this.gSeriesGroupEle.childNodes[c]).bind("mousemove",function(n){n.target=vt.gSeriesGroupEle.childNodes[c];vt.chartObj.chartInteractiveBehavior(n)});t.svgRenderer.append(this.gSeriesGroupEle,t.gSeriesEle)},_getFunnelData:function(t,i){var e=this.chartObj.model,pt=t._visiblePoints[i],tt=pt.marker,et=t.marker,ot=t.funnelWidth,st=t.funnelHeight,r=e.actualHeight,c=e.actualWidth,ht=e.elementSpacing,wt,bt=e.legend.position.toLowerCase(),ii=pt.actualIndex,kt,s=e.resWidth,dt,ct,gt,l=t.explodeIndex==ii||t.explodeAll?t.explodeOffset:0,rt,ut,d,lt,at,it,g,ft,a,vt,yt,h,w,ni,ti,v,u,f,b,nt,k,y,o,p;return o=st.indexOf("%")!=-1?r*(parseInt(st)/100):parseInt(st),p=ot.indexOf("%")!=-1?c*(parseInt(ot)/100):parseInt(ot),g=e.funnelData[i].CurrY*r,a=g+e.funnelData[i].Height*r,y=p+(c-p)*((r-o-g)/(r-o)),rt=c/2-y/2,lt=rt+y,y=a>r-o||r==o?p:p+(c-p)*((r-o-a)/(r-o)),d=c/2-y/2,it=d+y,g>=r-o?(rt=d=ut=c/2-p/2,lt=it=at=c/2+p/2):a>r-o&&(ut=d=c/2-y/2,at=it=ut+y,ft=r-o),v={x:s+l+rt,y:g},u={x:s+l+lt,y:g},b={x:s+l+it,y:a},nt={x:s+l+d,y:a},f={x:s+l+it,y:a},k={x:s+l+d,y:a},ft&&(f={x:s+l+at,y:ft},k={x:s+l+ut,y:ft}),kt="M "+v.x+" "+v.y+" L "+u.x+" "+u.y+" L "+f.x+" "+f.y+" L "+b.x+" "+b.y+" L "+nt.x+" "+nt.y+" L "+k.x+" "+k.y+" z",dt=[{x:v.x,y:v.y},{x:u.x,y:u.y},{x:f.x,y:f.y},{x:b.x,y:b.y},{x:nt.x,y:nt.y},{x:k.x,y:k.y}],(tt&&tt.dataLabel&&tt.dataLabel.visible||(!tt||!tt.dataLabel)&&et.dataLabel.visible)&&(h,w,ni=(u.x+f.x)/2,ti=(u.y+f.y)/2,t.labelPosition.toLowerCase()==="outside"?(h=(u.x+f.x)/2,w=(u.y+f.y)/2,wt=(bt=="left"||bt=="right"?e.LegendActualBounds.Width:0)+ht+e.margin.left,ct=ej.util.isNullOrUndefined(et.dataLabel.connectorLine.height)?t._enableSmartLabels?n(this.chartObj.svgObject).width()-(wt+h+s+2*ht):n(this.chartObj.svgObject).width()-(h+e.textSize+ht):et.dataLabel.connectorLine.height,vt=this.getXCordinate(h,ct,0),yt=this.getYCordinate(w,ct,0),gt="M "+h+" "+w+" L "+vt+" "+yt,h=vt,w=yt):(h=(v.x+u.x)/2,w=(v.y+b.y)/2)),{Direction:kt,PositionX:h,PositionY:w,Connector:gt,Line1:v,Line2:u,Line3:f,Line4:b,Line5:nt,Line6:k,startX:ni,startY:ti,Polygon:dt}},chartAreaType:"None"});ej.seriesTypes.funnel=ej.ejFunnelSeries;ej.ejPolarSeries=t(ej.EjSeriesRender,{draw:function(n,t){var r,o,s,e,u;this.chartObj=n;var h=this,i=t,c=this._isVisiblePoints(i),f=this.setLineSeriesStyle(i);if(i.drawType.toLowerCase()=="column"||i.drawType.toLowerCase()=="rangecolumn"){r=i.xAxis.visibleRange;r.interval=1;o=i.xAxis._valueType=="category"?r.max:r.max-1;this.chartObj.model.sumofYValues=0;s=r.interval;e=r.min;do this.chartObj.model.sumofYValues+=r.interval,e+=r.interval;while(e<=o)}u=this._calculatePolarAxesSegment(i);i.drawType.toLowerCase()=="area"?this.drawAreaPath(i,f,u):i.drawType.toLowerCase()=="line"?this._drawLinePath(i,f,u):i.drawType.toLowerCase()=="spline"&&this._drawLinePath(i,f,u);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"PolarAxes"});ej.seriesTypes.polar=ej.ejPolarSeries;ej.ejRadarSeries=t(ej.EjSeriesRender,{draw:function(n,t){var r,o,s,e,u;this.chartObj=n;var h=this,i=t,c=this._isVisiblePoints(i),f=this.setLineSeriesStyle(i);if(i.drawType.toLowerCase()=="column"||i.drawType.toLowerCase()=="rangecolumn"){r=i.xAxis.visibleRange;r.interval=1;o=i.xAxis._valueType=="category"?r.max:r.max-1;this.chartObj.model.sumofYValues=0;s=r.interval;e=r.min;do this.chartObj.model.sumofYValues+=r.interval,e+=r.interval;while(e<=o)}u=this._calculatePolarAxesSegment(i);i.drawType.toLowerCase()=="area"?this.drawAreaPath(i,f,u):i.drawType.toLowerCase()=="line"?this._drawLinePath(i,f,u):i.drawType.toLowerCase()=="spline"&&this._drawLinePath(i,f,u);this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(t,i){var r=i.chartObj,o=t.drawType.toLowerCase();t.regionAdded=!0;r.model._radius=r.model.Radius||r.model._radius;r.model.Radius=0;var e=i,u=n.inArray(t,r.model._visibleSeries),f=n(r.gSeriesEle).find("#"+e.gSeriesGroupEle.id)[0].childNodes[0];n(f).animate({Radius:r.model._radius},{duration:1200,queue:!1,step:function(i){if(ej.util.isNullOrUndefined(r.model))n(f).stop(!0,!0);else{r.model.Radius=i;var u=e._calculatePolarAxesSegment(t);t.drawType.toLowerCase()!="column"&&t.drawType.toLowerCase()!="rangecolumn"&&o!="scatter"&&r.svgRenderer._setAttr(n(f),{d:u});r.model.Radius=r.model._radius}},complete:function(){if(!ej.util.isNullOrUndefined(r.model)){t.regionAdded=!1;r.svgRenderer._setAttr(n(r.gSeriesEle).find("#"+r.svgObject.id+"_TextGroup_"+u),{visibility:"visible"});r.svgRenderer._setAttr(n(r.gSeriesEle).find("#"+r.svgObject.id+"_symbolGroup_"+u),{visibility:"visible"});r.svgRenderer._setAttr(n(r.gSeriesEle).find("#"+r.svgObject.id+"_DataLabel_"+u),{visibility:"visible"});r.model.AnimationComplete=!0;var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data={series:t};r._trigger("animationComplete",i)}}})},chartAreaType:"PolarAxes"});ej.seriesTypes.radar=ej.ejRadarSeries}(jQuery);ej.ejChart={},function($){Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(u){if(typeof u=="function"||typeof u=="object"&&u!==null){var e=[],o,f;for(o in u)t.call(u,o)&&e.push(o);if(i)for(f=0;f<r;f++)t.call(u,n[f])&&e.push(n[f]);return e}}}());Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"});Array.prototype.map===undefined&&(Array.prototype.map=function(n){for(var i=[],t=0,r=this.length;t<r;t++)i.push(n(this[t]));return i});String.prototype.parseTemplate=function(){var str=this,substr,count=0,arabic=/[\u0600-\u06FF]/;for($.each(arguments[0],function(n,t){t.count>0?$.each(t,function(t,i){var e=new RegExp("#"+n+"."+t+"#","gm"),r,u,f;if(count++,arabic.test(str)&&count==2){for(r=str.split(" "),u=0;u<r.length;u++)f=r[u],arabic.test(f)&&(f=f+"&lrm;",r[u]=f);str=r.join(" ")}str=str.replace(e.source,i)}):str=str.replace(new RegExp("\\#"+n+"\\#","gm"),t)});str.indexOf("ej.")>=0;)substr=str.substring(str.indexOf("ej."),str.indexOf(")")+1),str=str.replace(substr,eval(substr));return str};String.prototype.capitalizeFirstString=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var Gradient=function(n){this._gradientStop=[];for(var t=0;t<n.length;t++)this._gradientStop.push(n[t])};ej.ejChart={_renderSfChart:function(){var t=window.SVGSVGElement?!0:!1,n=this.model.enableCanvasRendering;return this.isChartElemId=!1,this.element[0].id||this._createChartId(),$("#chartContainer_"+this._id).remove(),t?(this.renderer=new ej.EjSvgRender(this.element),n?(this.svgRenderer=new ej.EjCanvasRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element)):(this.svgRenderer=new ej.EjSvgRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element)),this._appendChartElements(),n||this.legendContainer.find("svg").attr("class","e-designerhide"),this._createChart(),$(this.svgObject).appendTo(this.element)):(n=!1,this.svgRenderer=new ej.EjVmlRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.renderer=new ej.EjVmlRender(this.element),this._appendChartElements(),this._createChart(),$(this.svgObject).appendTo(this.chartContainer)),!0},_appendChartElements:function(){this.legendContainer=$("<div><\/div>").attr("id","legend_"+this._id).css("height","0px");this.scrollerContainer=$("<div><\/div>").attr("id","legend_Scroller"+this._id).css("height","0px");this.templateContainer=$("<div><\/div>").attr("id",this._id+"_container_svg_TrackToolTip").css("height","0px");this.chartContainer=$("<div><\/div>").css("position","relative").attr("id","chartContainer_"+this._id);this.axisScroll=$("<div><\/div>").attr("id","axisScrollbar_"+this._id).css("height","0px");this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer);$(this.scrollerContainer).appendTo(this.legendContainer);$(this.axisScroll).appendTo(this.chartContainer);$(this.legendContainer).appendTo(this.chartContainer);$(this.templateContainer).appendTo(this.chartContainer);$(this.chartContainer).appendTo(this.element)},setSvgSize:function(n){var t=n,e=$(t.element).height(),i=450,f=ej.isTouchDevice()?250:600,o=$(t.element).width(),s=$(t.chartContainer).height(),r,u;t.model.size.width?(r=t.model.size.width,f=typeof r=="string"&&r.indexOf("%")!=-1?o/100*parseInt(r):parseInt(r)):o>0&&(f=o);$(t.svgObject).width(f);t.model.size.height?(u=t.model.size.height,i=typeof u=="string"&&u.indexOf("%")!=-1?this.vmlRendering?i:e/100*parseInt(u):parseInt(u)):e>0?i=e:$(t.svgObject).css("display","block");$(t.svgObject).height(i);$("#"+t._id).css("overflow","hidden");t.svgObject.setAttribute("width",f);t.svgObject.setAttribute("height",i)},compareExtend:function(n,t,i){var f,e,r,u;if(typeof i=="object"&&i!==null)for(f=Object.keys(i),e=f.length,u=0;u<e;u++)r=f[u],t.hasOwnProperty(r)&&t[r]!=null?(Array.isArray(t[r])||typeof t[r]=="object"&&t[r]!==null)&&this.compareExtend({},t[r],i[r]):t[r]=i[r];return t},setModelProperties:function(n){var r,l,o,u,s,h,c,t,i,e,f;if(n||this.setSvgSize(this),this.svgWidth=$(this.svgObject).width(),this.svgHeight=$(this.svgObject).height(),this.chartCross={visible:n?this.chartCross.visible:this.model.crosshair.visible,mArea:this.model.crosshair.type},this.serAnimation=[],this.model.series&&!n)for(s=!1,this.model._drawTrendline=!1,t=0;t<this.model.series.length;t++)for(c=null,ej.util.isNullOrUndefined(this.model.series[t].dataSource)&&ej.util.isNullOrUndefined(this.model.commonSeriesOptions.dataSource)||(c=ej.util.isNullOrUndefined(this.model.series[t].dataSource)?this.model.commonSeriesOptions.dataSource:this.model.series[t].dataSource),this.model.series[t]=ej.copyObject({},this.model.commonSeriesOptions,this.model.series[t]),this.model.series[t].dataSource=c,u=this.model.series[t],this.serAnimation.push(u.enableAnimation===null||u.enableAnimation===undefined?this.model.commonSeriesOptions.enableAnimation:u.enableAnimation),r=u.trendlines,l=r.length,i=0;i<l;i++)if(r[i]=ej.copyObject({},this.model.trendlineDefaults,r[i]),r[i]._visibility=r[i].visibility,r[i].visibility.toLowerCase()=="visible"){if(this.model._drawTrendline=!0,h=r[i].type.toLowerCase(),!ej.util.isNullOrUndefined(u.points))for(e=0;e<u.points.length;e++)if(o=u.points[e],ej.util.isNullOrUndefined(o.y)||o.y==0){s=!0;break}r[i].isNull=s&&(h=="power"||h=="exponential")?!0:!1}if(this.model.indicators)for(f=0;f<this.model.indicators.length;f++)this.model.indicators[f]=ej.copyObject({},this.model.indicatorDefaults,this.model.indicators[f])},_createChart:function(){var r,n,i,t;if(this.svgObject=this.svgRenderer.svgObj,r=$.extend({},ej.EjSvgRender.commonChartEventArgs),this._trigger("load",r),this.setTheme(ej.EjSvgRender.themes,this.model.theme),n=this.model,n.series[0]&&n.series[0]._isdesigntime){for(n.series[0]={},n.series[0].points=[],i=[],t=1;t<=10;t++)i.push({x:t,y:Math.floor(Math.random()*-30)+40});n.series[0].points=i}this.vmlRendering=this.svgRenderer.vmlNamespace?!0:!1;($(this.element).is(":visible")||$(this.element).css("visibility")!="hidden"||$(this.element).css("display")!="none")&&(this.bindEvents(),this.bindTo())},setTheme:function(n,t){var i=t.toLowerCase();(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")==-1&&i.indexOf("dark")==-1?n[i]=$.extend(!0,{},n.flatlight,n[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark"))>=0&&i.indexOf("gradient")==-1?n[i]=$.extend(!0,{},n.flatdark,n[i]):(i.indexOf("azure")>=0||i.indexOf("lime")>=0||i.indexOf("saffron")>=0)&&i.indexOf("gradient")>=0&&i.indexOf("dark")==-1?n[i]=$.extend(!0,{},n.gradientlight,n[i]):(i.indexOf("azuredark")>=0||i.indexOf("limedark")>=0||i.indexOf("saffrondark")>=0)&&i.indexOf("gradient")>=0?n[i]=$.extend(!0,{},n.gradientdark,n[i]):i.indexOf("high")>=0?n[i]=$.extend(!0,{},n.highcontrast01,n[i]):i.indexOf("material")>=0||i.indexOf("office")>=0?n[i]=$.extend(!0,{},n.material,n[i]):n[i]||(i="flatlight");this.model=this.model._themeChanged?ej.copyObject({},this.model,n[i]):this.compareExtend({},this.model,n[i]);this.model.background=ej.util.isNullOrUndefined(this.model.background)?n[i].background:this.model.background},_drawBackInterior:function(){if(this.model.backInterior&&this.model.backInterior._gradientStop){var n={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:$(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(n,this.model.backInterior._gradientStop)}},_drawBackImage:function(){var n={height:$(this.svgObject).height(),width:$(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};this.svgRenderer.drawImage(n,this.svgObject)},_getDataType:function(n){var t=typeof n;return t==="number"||t==="string"?t:jQuery.type(n)=="date"?"date":n==null?null:!1},addedXYValues:function(n){var i,nt,t,o;n=n?n:!1;var e=this.model,f=e.series,k=f[0].type.toLowerCase(),p,a,u,l,i,s=ej.util.isNullOrUndefined,v=e.primaryXAxis.valueType,w,d=!1,h,r,y,g,b,t,c;if(c=e.AreaType=ej.seriesTypes[k].prototype.chartAreaType,c!="cartesianAxes"&&c!="None"&&(c=e.AreaType="polaraxes",e.isPolar=k=="polar"),c=e.AreaType=e.AreaType.toLowerCase(),!n){for(u=0;u<f.length;u++)if(f[u].visibility=="visible"){if(y=!0,w=!1,f[u].dataSource&&f[u].dataSource.length!=0)for(r=f[u],r._xAxisValueType=null,p=r.points.length,h=r.points[0].x,h!=null&&(r._xAxisValueType=this._getDataType(h)),nt=r.points.length,t=r.points,o=0;o<nt;o++)typeof t[o].x=="string"&&t[o].x.indexOf("<br>")!=-1&&(t[o].x=t[o].x.replace(/(<br>)+/g,"<br>"));else for(t=f[u].points,f[u].points=null,f[u]=$.extend(!0,{},e.commonSeriesOptions,f[u]),f[u].points=t,r=f[u],v=="datetime"&&(d=!0),p=t.length,i=0;i<p;i++)t[i].YValues=[],g=/^-?[0-9]*\.?[0-9]+$/.test(t[i].x)==!0,b=v!="category"&&v!="datetime"&&(typeof t[i].x=="string"||t[i].x instanceof String)&&parseFloat(t[i].x),!isNaN(b?t[i].x:parseFloat(t[i].x))&&b&&g&&v!="category"&&c!="none"&&(t[i].x=d?new Date(t[i].x):parseFloat(t[i].x)),typeof t[i].x=="string"&&t[i].x.indexOf("<br>")!=-1&&(t[i].x=t[i].x.replace(/(<br>)+/g,"<br>")),t[i].xValue=t[i].x,w||(h=t[i].x,s(h)||(r._xAxisValueType=this._getDataType(h),w=!0)),r._hiloTypes||r.drawType.toLowerCase()=="rangecolumn"?(s(t[i].high)||(t[i].YValues[0]=t[i].high,t[i].y=t[i].high),s(t[i].low)||(t[i].YValues[1]=t[i].low),s(t[i].open)||(t[i].YValues[2]=t[i].open),s(t[i].close)||(t[i].YValues[3]=t[i].close)):(t[i].YValues[0]=r.points[i].y,y=y&&!s(t[i].size),y&&(t[i].YValues[1]=t[i].size));if(r.type.toLowerCase()=="waterfall")this.calculateWaterfallSeriesPoints(r.points);else if(r._previousType&&r._previousType.toLowerCase()=="waterfall")for(a=r.points,l=0;l<a.length;l++)a[l].waterfallSum=undefined,a[l].textOptions=null}this._setInternalValues()}},calculateWaterfallSeriesPoints:function(n){for(var r=0,i=0,u=0,t=0;t<n.length;t++)n[t].isEmpty?(n[t].YValues[1]=0,n[t].YValues[0]=0):(i+=n[t].showIntermediateSum||n[t].showTotalSum?0:n[t].y,n[t].showIntermediateSum?(n[t].YValues[1]=r,n[t].YValues[0]=i,n[t].waterfallSum=i-r,r=i):n[t].showTotalSum?(n[t].YValues[1]=0,n[t].YValues[0]=i,n[t].waterfallSum=i):(n[t].YValues[1]=u,n[t].YValues[0]=u+n[t].y,u=i))},_setInternalValues:function(){for(var n,r,t,i=0;i<this.model.series.length;i++){if(n=this.model.series[i],this.model.AreaType=="cartesianaxes"&&ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType=="cartesianAxes")n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n);else if(this.model.AreaType=="none"&&ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType=="None")if(n._zOrder=n.zOrder?n.zOrder:0,r=this.model.series[i].type.toLowerCase(),r=="funnel"||r=="pyramid"){this.model._visibleSeries.push(n);break}else this.model._visibleSeries.push(n);else this.model.AreaType=="polaraxes"&&ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType=="PolarAxes"&&(n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n));if((n._yAxisName||n._xAxisName)&&this.model._axes)for(t=0;t<this.model._axes.length;t++)n._yAxisName&&n._yAxisName==this.model._axes[t].name&&(this.model._axes[t].orientation=this.model._axes[t].orientation?this.model._axes[t].orientation:this.model.requireInvertedAxes?"horizontal":"vertical"),n._xAxisName&&n._xAxisName==this.model._axes[t].name&&(this.model._axes[t].orientation=this.model._axes[t].orientation?this.model._axes[t].orientation:this.model.requireInvertedAxes?"vertical":"horizontal")}},setHiloStyle:function(n,t,i,r){var e=n.points[t],f,u;return f=e.fill?e.fill:n.fill?n.fill:r,u=f?f:this.model.seriesColors[i],jQuery.type(u)=="array"?u[0].color:u},setStyle:function(n,t,i,r,u,f){var g=f||t._visiblePoints,e=g[r],s,y,p,w,b,k,c,o=e.border,l=t.border,a,v,h,d;return t._hiloTypes&&(c=t.isFill?t.fill:null),n.chartObj.model.AreaType=="cartesianaxes"?(e.fill?s=e.fill:t.type.toLowerCase()=="waterfall"?((e.showIntermediateSum||e.showTotalSum)&&e.waterfallSum>0||e.y>0&&!e.showIntermediateSum&&!e.showTotalSum)&&(s=t.positiveFill?t.positiveFill:u):s=c?c:u,a=s?s:this.model.seriesColors[i],v=n.chartObj.model.requireInvertedAxes?this.svgRenderer.createGradientElement(n.getSeriesName(t)+"_"+i+r,a,0,0,100,0,n.gSeriesGroupEle):this.svgRenderer.createGradientElement(n.getSeriesName(t)+"_"+i+r,a,0,0,0,100,n.gSeriesGroupEle)):(h=this.model.pointColors,s=e.fill?e.fill:jQuery.type(h[r])=="array"?h[r][0].color:h[r],d=this.svgRenderer.createGradientElement(n.getSeriesName(t)+r,s,0,0,0,$(n.svgObject).height()||parseFloat(this.model.size.height),n.chartObj.gSeriesEle)),y=o&&o.color?o.color:l.color,p=o&&!ej.util.isNullOrUndefined(o.width)?o.width:l.width,k=e.opacity?e.opacity:t.opacity,b=e.width?e.width:t.width,w=o&&o.dashArray?o.dashArray:l.dashArray,{interior:v?v:d,borderColor:y,borderWidth:p,width:b,opacity:k,dashArray:w}},colorNameToHex:function(n){var t=n,i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return Object.prototype.toString.call(t)=="[object Array]"?t:typeof i[t.toLowerCase()]!="undefined"?i[t.toLowerCase()]:t},_getLocalizedLabels:function(){return ej.getLocalizedConstants(this.sfType,this.model.locale)},_setCulture:function(n){this.culture=ej.preferredCulture(n)},draw:function(n){var f,tt,kt,ot,st,u,v,y,it,h,e,d,w,ti,r,l,p,oi,rt,et,ht,ct,lt,g,at,si,ut,yt,a,o,nt,s,c,li,pt,b,wt,ai,bt,t,i;for(this.removeMultiRect(),f={},f.axes={},this._drawBackInterior(),this.model.chartRegions=[],this.model.outsideDataRegionPoints=[],this.model.regionCount=null,this.model.circularRadius=[],this.model.circleCenterX=[],this.model.circleCenterY=[],this.model.innerRadius=[],this.model.bounds=[],this.accDataLabelRegion=[],this.model.rightsidebounds=[],this.model.leftsidebounds=[],this.model.excludeDataUpdate=n,this.model.yAxisLabelRegions=[],this.model.xAxisLabelRegions=[],this.model.axisMultiLevelLabelRegions=[],this.model.multiLevelLabelRegions=[],this.model.minhightwidth=!1,this.model._isPieOfPie=!1,n||(this.model._visibleSeries=[]),this.model.stackedValue={},this.model._locale=this.model.locale||"en-US",this._setCulture(this.model._locale),this._localizedLabels=this._getLocalizedLabels(),tt=this.model.series.length,this.model._sideBySideSeriesPlacement=ej.util.isNullOrUndefined(this.model.sideBySideSeriesPlacement)?this.model.enable3D?!1:!0:this.model.sideBySideSeriesPlacement,t=0;t<tt;t++)r=this.model.series[t],kt=r.type.toLowerCase(),r._isTransposed=kt.indexOf("bar")==-1?r.isTransposed:!r.isTransposed;for(tt>0&&this.addedXYValues(n),this.model.AreaType=this.model.AreaType||"cartesianaxes",this._isEjScroller(),ot=$.extend({},ej.EjSvgRender.commonChartEventArgs),ot.data={},this._trigger("preRender",ot),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartTitle",cursor:"default"}),this.gSubTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartsubTitle",cursor:"default"}),this._createAxisLabelAndRange(),t=0;t<this.model._axes.length;t++)f.axes[this.model._axes[t].name]={};for(this._initializeSeriesColors(),this._calculateLegendBounds(),this.legendRender=new ej.EjLegendRender(this),st=$.extend({},ej.EjSvgRender.commonChartEventArgs),st.data={legendBounds:this.model.LegendBounds},this._trigger("legendBoundsCalculate",st),e=0;e<this.model.indicators.length;e++)if(u=this.model.indicators[e],u._points=[],u.xAxisName=u.xAxisName?u.xAxisName:this.model._axes[0].name,u.yAxisName=u.yAxisName?u.yAxisName:this.model._axes[1].name,u.isIndicator=!0,u.dataSource&&u.dataSource.length>0)u._hiloTypes=!0,this._processJsonData(u.dataSource,u),u._points=u.points;else if(u.points.length>0)for(t=0;t<u.points.length;t++)u._points=u.points,u._points[t].xValue=u.points[t].x,u._points[t].YValues=[],u._points[t].YValues[0]=u.points[t].close;else if(u.seriesName!="")for(v=0;v<this.model._visibleSeries.length;v++)r=this.model._visibleSeries[v],u.seriesName==r.name&&(u._points=$.extend(!0,[],r.points));for(h=0;h<this.model._axes.length;h++)if(this.model._axes[h].valueType&&this.model._axes[h].valueType.toLowerCase()=="category")for(t=0;t<this.model.indicators.length;t++)if(u=this.model.indicators[t],this.model._axes[h].name==u.xAxisName)for(e=0;e<u._points.length;e++)u._points[e].xValue=e;for(this.model.indicatorRange=[],v=0;v<this.model.indicators.length;v++)u=this.model.indicators[v],u._points.length>0&&(p=u.type.toLowerCase(),y=new ej.indicatorTypes[p],y.calculateSegment(u,this));for(l=0;l<this.model._visibleSeries.length;l++)for(y=this.model._visibleSeries[l],t=0;t<y.points.length;t++)if(typeof y.points[t].xValue=="string"&&y.points[t].xValue.indexOf("/Date(")!=-1)y.points[t].xValue=new Date(parseInt(y.points[t].xValue.substr(6)));else break;this.model.hAxes=[];this.model.vAxes=[];var k=this,dt=!1,gt=!1;for(this._arrangeAxis(),this.model.crosshairLabelVisibility=!1,h=0;h<this.model._axes.length;h++){i=this.model._axes[h];this.model.crosshairLabelVisibility=i.crosshairLabel.visible||this.model.crosshairLabelVisibility;var c=[],tt=this.model.series.length,ni=this.model._axes[h].orientation.toLowerCase(),vi=this.model._axes[h].rangePadding.toLowerCase();if(ej.util.isNullOrUndefined(this.model._axes[h]._rangePadding)&&(this.model._axes[h]._rangePadding=this.model._axes[h].rangePadding),vi=="auto")for(ni=="vertical"&&(i.rangePadding=this.model.requireInvertedAxes?"none":"normal"),ni=="horizontal"&&(i.rangePadding=this.model.requireInvertedAxes?"normal":"none"),e=0;e<tt;e++)if(p=this.model.series[e].type.toLowerCase(),p.indexOf("100")!=-1&&i.name==this.model.series[e]._yAxisName){i.rangePadding="round";break}for(d=0;d<i.stripLine.length;d++)i.stripLine[d]=$.extend(!0,{},this.model.stripLineDefault,i.stripLine[d]),i.stripLine[d].zIndex.toLowerCase()=="over"?dt=!0:gt=!0;for(w=i.orientation.toLowerCase(),ti=this.model._visibleSeries.length-1,e=0;e<this.model._visibleSeries.length;++e){ti-=1;r=this.model._visibleSeries[e];this.model._hasSeriesPoints=r.points.length>0||this.model._hasSeriesPoints;r.xAxisName||(r._xAxisName=k.model._axes[0].name);r.yAxisName||(r._yAxisName=k.model._axes[1].name);r._xAxisName=r._xAxisName?r._xAxisName:r.xAxisName?r.xAxisName:k.model._axes[0].name;r._yAxisName=r._yAxisName?r._yAxisName:r.yAxisName?r.yAxisName:k.model._axes[1].name;var ii=r._xAxisName.toLowerCase(),ri=r._yAxisName.toLowerCase(),ui=i.name.toLowerCase();if((ii||ri)&&(ii==ui||ri==ui)){if((w=="horizontal"||r.type.toLowerCase().indexOf("bar")!=-1&&w=="vertical")&&i.valueType&&i.valueType.toLowerCase()=="datetime")for(l=0;l<r.points.length;l++)typeof r.points[l].xValue!="string"||isNaN(Date.parse(r.points[l].xValue))||(r.points[l].xValue=new Date(Date.parse(r.points[l].xValue)));else r._xAxisValueType!="string"||i.valueType||(i._valueType=w=="horizontal"&&!this.model.requireInvertedAxes?"category":w=="vertical"&&this.model.requireInvertedAxes?"category":"double"),r._xAxisValueType!="date"||i.valueType||(i._valueType=w=="horizontal"&&!this.model.requireInvertedAxes?"datetime":w=="vertical"&&this.model.requireInvertedAxes?"datetime":"double");this.model._visibleSeries[e].visibility.toLowerCase()=="visible"&&c.push(r)}}if(w==(this.model.requireInvertedAxes?"horizontal":"vertical")){var fi=!1,ei=!1,tt=c.length;for(i.isStacked100=c.length>0?!0:!1,t=0;t<tt;t++)p=c[t].type.toLowerCase(),p.indexOf("stacking")!=-1||this.model.AreaType=="polaraxes"&&(c[t].drawType.toLowerCase()=="column"||c[t].drawType.toLowerCase()=="area")&&c[t].isStacking?p.indexOf("100")==-1||fi?p.indexOf("100")!=-1||ei||(this._calculateStackingValues(c,i,f),ei=!0,i.isStacked100=!1):(this._calculateStackingCumulativeValues(c,i,f),fi=!0):i.isStacked100=!1}for(it=i.scrollbarSettings,it.visible&&(it.pointsLength!=null||it.range.min!=null||it.range.max!=null)&&(this.model.isLazyZooming=!0),i._valueType=i._valueType?i._valueType:i.valueType?i.valueType:"double",oi=new ej.axisTypes[i._valueType.toLowerCase()],rt=0;rt<c.length;rt++)for(et=0;et<c[rt].trendlines.length;et++)if(c[rt].trendlines[et].visibility=="visible"){this.model._drawTrendline=!0;break}oi._calculateRanges(k,i,c,f,n)}if(k._chartResize=!1,ht=$.extend({},ej.EjSvgRender.commonChartEventArgs),ht.data={axes:this.model._axes},this._trigger("axesLabelsInitialize",ht),this.model.isLazyZooming?0:this._updateScroll(),(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(ct=ej.util.isNullOrUndefined(this.prevHeight)?this.svgHeight:this.prevHeight,lt=ej.util.isNullOrUndefined(this.prevWidth)?this.svgWidth:this.prevWidth,s=$.extend({},ej.EjSvgRender.commonChartEventArgs),s.data={currentHeight:ct,currentWidth:lt,newHeight:this.model.svgHeight,newWidth:this.model.svgWidth},this._trigger("beforeResize",s),s.cancel?(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=s.data.currentWidth,this.svgRenderer.svgObj.height=s.data.currentHeight),this.model.svgWidth=s.data.currentWidth,this.model.svgHeight=s.data.currentHeight,$(this.svgObject).width(s.data.currentWidth),$(this.svgObject).height(s.data.currentHeight)):(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=s.data.newWidth,this.svgRenderer.svgObj.height=s.data.newHeight),this.model.svgWidth=s.data.newWidth,this.model.svgHeight=s.data.newHeight,$(this.svgObject).width(s.data.newWidth),$(this.svgObject).height(s.data.newHeight))),this._calculateAreaBounds(f),this.model.enable3D&&(g=new ej.Ej3DRender,this.vector=new g.vector3D,this.matrixobj=new g.matrix3D,this.bsptreeobj=new g.BSPTreeBuilder,this.polygon=new g.polygon3D,this.graphics=new g.Graphics3D,this.chart3D=this.svgRenderer.createGroup({id:this.svgObject.id+"_Chart3D"}),ej.Ej3DRender.Polygons=[]),this.model.AreaType!="none"){for(this._calculateAxisSize(f),t=0,nt=this.model._axes.length;t<nt;t++)this._validateCrossing(this.model._axes[t])&&this._axisCrossing(this.model._axes[t],!1,f);if(f._crossAxisOverlap){for(t=0,nt=this.model._axes.length;t<nt;t++)f.axes[this.model._axes[t].name]._validCross&&this._axisCrossing(this.model._axes[t],!0,f);f._crossAxisOverlap=!1}if(at=$.extend({},ej.EjSvgRender.commonChartEventArgs),at.data={areaBounds:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",at),this._drawChartAreaRect(),this.model.title.text!=""&&this.model.title.text&&this.model.title.visible&&this._drawTitle(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),this.gPolarAxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_AxisLine"}),this.model.enable3D?($.extend(ej.Ej3DAxisRenderer.prototype,this),this.chartaxis=new ej.Ej3DAxisRenderer(this)):($.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this)),a=this.chartaxis,this.model.xAxisTitleRegion=[],this.model.yAxisTitleRegion=[],this.model.enable3D){for(o=0;o<this.model._axes.length;o++)a._drawAxes(o,this.model._axes[o],f);ej.Ej3DChart.prototype.update3DWall(this,f)}else for(o=0;o<this.model._axes.length;o++)a._drawGridLines(o,this.model._axes[o],f);this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject));var yi=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.X,pi=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.Y,wi=this.model.AreaType=="polaraxes"?$(this.svgObject).width():this.model.m_AreaBounds.Width,bi=this.model.AreaType=="polaraxes"?$(this.svgObject).height():this.model.m_AreaBounds.Height,vt={id:this.svgObject.id+"_ChartAreaClipRect",x:yi,y:pi,width:wi,height:bi,fill:"white","stroke-width":1,stroke:"Gray"};this.svgRenderer.drawClipPath(vt,this.svgObject);this._setZoomProperties()}else this._drawChartAreaRect(),vt={id:this.svgObject.id+"_ChartAreaClipRect",x:0,y:0,width:$(this.svgObject).width(),height:$(this.svgObject).height(),fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(vt,this.svgObject),this.model.title.text!=""&&this.model.title.text&&this.model.title.visible&&this._drawTitle();for(gt&&this.model.AreaType=="cartesianaxes"&&!this.model.enable3D&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&(this.seriesRender(f,n),this.indicatorRender()),si=this.model.annotations.length,$("#annotation_group_"+this._id).empty(),ut=0;ut<si;ut++)yt=this.model.annotations[ut],yt.visible&&this.annotationRender(yt,ut);if(this.model.AreaType=="polaraxes"&&this.model._axes[1].visible&&!this.model.enable3D&&this.chartaxis._drawAxisLine(this.model._axes[1]),this.model.AreaType==="cartesianaxes"&&(this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject)),this.gXaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTick"}),this.gYaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTick"})),$.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this),a=this.chartaxis,dt&&this.model.AreaType=="cartesianaxes"&&!this.model.enable3D&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over")),!this.model.enable3D){var ki=this.model.AreaType.toLowerCase()=="cartesianaxes",hi=this.model._axes,ci=this.model.enableCanvasRendering;for(o=0,nt=hi.length;o<nt;o++){var i=hi[o],ft=f.axes[i.name]._lineOption,di=f.axes[i.name]._validCross;ki&&(a._drawAxes(o,i),ft[0]&&this.svgRenderer.drawLine(ft[0],ft[1]),i.orientation.toLowerCase()==="horizontal"?(a._drawXAxisTickLine(o,i,ci?null:ft[1],f),a._drawXAxisMultiLevelLabels(o,i)):(a._drawYAxisTickLine(o,i,ci?null:ft[1],di),a._drawYAxisMultiLevelLabels(o,i)),i._crossValue=null)}}if(!this.resetZooming&&(this.model._chartAreaZoom||this.panning)&&this._enableZoomingButtons(),this.resetZooming=!1,(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(this.prevHeight=this.model.svgHeight,this.prevWidth=this.model.svgWidth,s=$.extend({},ej.EjSvgRender.commonChartEventArgs),s.data={height:this.prevHeight,width:this.prevWidth,prevHeight:ct,prevWidth:lt,originalHeight:this.svgHeight,originalWidth:this.svgWidth},this._trigger("afterResize",s)),c=this.model._visibleSeries,li=$.grep(c,function(n){return n.selectionSettings.enable.toString()=="true"}),li.length==0?(this.model.selectionEnable=!1,this._removeSelection()):this.model.selectionEnable=!0,pt=this.remove_duplicates(this.model.selectedDataPointIndexes),this.model.selectionEnable)for(this._removeSelection(),this.model._isStateChaged=!0,ai=pt.length,t=0;t<ai;t++)b=pt[t],r=this.model._visibleSeries[b.seriesIndex],r&&(wt=r.selectionSettings.mode,(wt!="series"&&r.points[b.pointIndex]||wt=="series")&&this.segmentSelection(b.event,b.legendData,b.seriesIndex,b.pointIndex,b.data));for(this.chartUpdating=!1,$(document).find("#measureTex").remove(),bt=$.extend({},ej.EjSvgRender.commonChartEventArgs),bt.data={model:this.model},this._trigger("loaded",bt),t=0;t<this.model._axes.length;t++)i=$.extend(!0,{},this.model._axes[t]),i._valueType.toLowerCase()!="logarithmic"&&(this.model._axes[t].range=i._initialRange)},remove_duplicates:function(n){for(var i=[],r=[],e=n.length,u,f,o=this.model._visibleSeries,t=0;t<e;t++)f=o[n[t].seriesIndex],u=f?f.selectionSettings.mode:"",u=="series"?(i.indexOf(n[t].seriesIndex)>-1||r.push(n[t]),i.push(n[t].seriesIndex)):u=="cluster"?(i.indexOf(n[t].pointIndex)>-1||r.push(n[t]),i.push(n[t].pointIndex)):(n[t]in i||r.push(n[t]),i.push(n[t]));return r},_setZoomProperties:function(){for(var n,t,i,r,u=0;u<this.model._axes.length;u++)n=this.model._axes[u],r=n.orientation.toLowerCase(),t=n.zoomFactor.toFixed(3),i=n.zoomPosition.toFixed(3),r=="horizontal"&&(t!=this._xZoomFactor()||i!=this._xZoomPosition())&&(this._xZoomFactor(n.zoomFactor.toFixed(3)),this._xZoomPosition(n.zoomPosition.toFixed(3))),r=="vertical"&&(t!=this._yZoomFactor()||i!=this._yZoomPosition())&&(this._yZoomFactor(n.zoomFactor.toFixed(3)),this._yZoomPosition(n.zoomPosition.toFixed(3)))},annotationRender:function(n,t){var lt=this._id,d=!1,c=this.model.series[0],w=c.type.toLowerCase(),a=this.model.m_AreaBounds.X,y=this.model.m_AreaBounds.Y,ft=this.model.m_AreaBounds.Width,et=this.model.m_AreaBounds.Height,pi=this.model.margin.left,nr=this.model.margin.top,li=$.inArray(c,this.model._visibleSeries),at=this.model.circularRadius[li],vt=this.model.circleCenterX[li],yt=this.model.circleCenterY[li],wi=$(document),gt=!1,ni,ti,pt,ii,ri,ai,bi,o,i,r,st,tt,ht,g,vi,yi,ct,l,nt,di,gi,u,f,dt,rt,b,ut,h,v,p,e,bt;n=$.extend(!0,{},this.model.annotationsDefault,n);pt=$("#annotation_group_"+lt).length!=0?$("#annotation_group_"+lt):$("<div><\/div>").attr("id","annotation_group_"+lt);pt.css({position:"absolute",left:"0px",top:"0px"});ii=n.content;ri=$("#"+ii);ri.get(0).tagName=="SCRIPT"&&(ri=$($("#"+ii)[0].innerHTML));ai=ri.clone();bi="annotation_"+lt+"_"+ii+"_"+t;$(ai).attr("id",bi);o=$(ai);o.css({position:"absolute","z-index":2e3});var ot=n.region.toLowerCase(),kt=n.coordinateUnit.toLowerCase(),s=typeof n.x=="string"||typeof n.x=="object"?Date.parse(n.x):n.x,it=n.y,ui=n.horizontalAlignment.toLowerCase(),fi=n.verticalAlignment.toLowerCase();if(kt=="pixels")ot=="series"?ft+a+pi>s+a&&et+y+nr>it+y&&(i=s+a,r=it+y):ot=="chart"&&$(this.svgObject).width()>s&&$(this.svgObject).height()>it&&(i=s,r=it),o.css({left:i,top:r}),d=!0;else if(kt=="points")if(st={x:s,y:it},this.model.AreaType=="polaraxes")l=this.model._axes[0],nt=this.model._axes[1],s>=l.visibleRange.min&&s<=l.visibleRange.max&&it>=nt.visibleRange.min&&it<=nt.visibleRange.max&&(tt=this.TransformToVisibleAnnotation(l,nt,s,it,this),o.css({left:tt.X,top:tt.Y}),d=!0);else if(w=="pyramid"||w=="funnel")for(g=0;g<c._visiblePoints.length;g++)gt=c._visiblePoints[g].xValue<=s&&s<c._visiblePoints.length?!0:Date.parse(c._visiblePoints[g].xValue)<=s&&s<c._visiblePoints.length?!0:!1,gt&&(ht=c._visiblePoints[s],o.css({left:ht.xLocation+this.pyrX,top:ht.yLocation+this.pyrY-ht.height/2}),d=!0);else if(w=="pie"||w=="doughnut"||w=="pieofpie"){for(g=0;g<c._visiblePoints.length;g++)if(gt=c._visiblePoints[g].xValue<=s&&s<c._visiblePoints.length?!0:Date.parse(c._visiblePoints[g].xValue)<=s&&s<c._visiblePoints.length?!0:!1,gt){ht=c._visiblePoints[s];var tr=s,ei,oi,ki=new ej.seriesTypes[w],si=ht?ht.currentMidAngle:0;(tr==c.explodeIndex||c.explodeAll)&&!this.vmlRendering?(ei=vt+Math.cos(si)*c.explodeOffset,oi=yt+Math.sin(si)*c.explodeOffset):(ei=vt,oi=yt);vi=ki.getXCordinate(ei,at,si);yi=ki.getYCordinate(oi,at,si);ni=(vi+ei)/2;ti=(yi+oi)/2;ni=(vi+ni)/2;ti=(yi+ti)/2;o.css({left:ni,top:ti});d=!0}}else{var ir=n.xAxisName,rr=n.yAxisName,ur=this.model._axes.length;for(ct=0;ct<ur;ct++)this.model._axes[ct].name==ir&&(l=this.model._axes[ct]),this.model._axes[ct].name==rr&&(nt=this.model._axes[ct]);l||(l=this.model._axes[0]);nt||(nt=this.model._axes[1]);di=typeof l.range.min=="string"||typeof l.range.min=="object"?Date.parse(l.range.min):l.range.min;gi=typeof l.range.max=="string"||typeof l.range.max=="object"?Date.parse(l.range.max):l.range.max;di<=s&&gi>=s&&(this.model.requireInvertedAxes?(st.x=st.y+(st.y=st.x,0),tt=this._getAnnotationPoint(st,nt,l),o.css({left:tt.X+a,top:tt.Y+l.y})):(tt=this._getAnnotationPoint(st,l,nt),o.css({left:tt.X+a,top:tt.Y+nt.y})),d=!0)}else{if(o.css("display","block").appendTo($(pt)),$(pt).appendTo("#chartContainer_"+lt),u=o.outerWidth(),f=o.outerHeight(),ot=="chart"){switch(ui){case"middle":i=$(this.svgObject).width()/2-u/2;break;case"left":i=0;break;case"right":i=$(this.svgObject).width()-u}switch(fi){case"middle":r=$(this.svgObject).height()/2-f/2;break;case"top":r=0;break;case"bottom":r=$(this.svgObject).height()-f}}else if(w=="pie"||w=="doughnut"||w=="pieofpie"){i=vt;r=yt;switch(ui){case"middle":i=vt-u/2;break;case"left":i=vt-at;break;case"right":i=vt+at-u}switch(fi){case"middle":r=yt-f/2;break;case"top":r=yt-at;break;case"bottom":r=yt+at}}else{switch(ui){case"middle":i=a+ft/2-u/2;break;case"left":i=a;break;case"right":i=a+ft-u}switch(fi){case"middle":r=y+et/2-f/2;break;case"top":r=y;break;case"bottom":r=y+et-f}}(w=="pyramid"||w=="funnel")&&(i-=pi);o.css({left:i,top:r})}if(i=parseFloat(o.css("left")),r=parseFloat(o.css("top")),kt!="none"&&d){o.css("display","block").appendTo($(pt));$(pt).appendTo("#chartContainer_"+lt);u=o.outerWidth();f=o.outerHeight();switch(ui){case"middle":i-=u/2;break;case"left":i-=u}switch(fi){case"middle":r-=f/2;break;case"top":r-=f}}dt=n.margin;i=i+dt.left-dt.right;r=r+dt.top-dt.bottom;rt=$.extend({},ej.EjSvgRender.commonChartEventArgs);rt.data={content:o.html(),location:{x:i,y:r},opacity:n.opacity,angle:n.angle};this._trigger("annotationRendering",rt);o.html(rt.data.content);o.css({left:rt.data.location.x,top:rt.data.location.y,opacity:rt.data.opacity});b=rt.data.angle;b&&o.css({"-ms-transform":"rotate("+b+"deg)","-webkit-transform":"rotate("+b+"deg)","-moz-transform":"rotate("+b+"deg)","-o-transform":"rotate("+b+"deg)","-transform":"rotate("+b+"deg)"});var wt=o.attr("id"),k=e=v=h=0,hi=$("#"+this._id).width(),ci=$("#"+this._id).height();d&&b==0&&(ot=="series"||kt=="points")?(ft+a<i+u&&(ut=i+u-(ft+a),h=u-ut),i<a&&(v=a-i),et+y<r+f&&(p=r+f-(et+y),e=f-p),r<y&&(k=y-r),h=h==0?u:h,e=e==0?f:e,document.getElementById(wt).style.clip="rect("+k.toString()+"px,"+h.toString()+"px,"+e.toString()+"px,"+v+"px)"):d&&b==0&&ot=="chart"?(hi<i+u&&(ut=i+u-hi,h=u-ut),i<0&&(v=u+i,v=v==0?u:v),ci<r+f&&(p=r+f-ci,e=f-p),r<0&&(k=f+r,k=k==0?f:k),h=h==0?u:h,e=e==0?f:e,document.getElementById(wt).style.clip="rect("+k.toString()+"px,"+h.toString()+"px,"+e.toString()+"px,"+v+"px)"):d&&b==90&&(ot=="series"||kt=="points")?(bt=document.getElementById(wt).getBoundingClientRect(),i=bt.left-$(this.svgObject).offset().left+wi.scrollLeft(),r=bt.top-$(this.svgObject).offset().top+wi.scrollTop(),et+y<r+u&&(ut=r+u-(et+y),h=u-ut),i<a&&(p=a-i,e=f-p),r<y&&(v=y-r),ft+a<i+f&&(p=i+f-(ft+a),k=p),h=h==0?u:h,e=e==0?f:e,document.getElementById(wt).style.clip="rect("+k.toString()+"px,"+h.toString()+"px,"+e.toString()+"px,"+v+"px)"):d&&b==90&&ot=="chart"&&(bt=document.getElementById(wt).getBoundingClientRect(),i=bt.left-$(this.svgObject).offset().left,r=bt.top-$(this.svgObject).offset().top,ci<r+u&&(ut=r+u-ci,h=u-ut),i<0&&(p=0-i,e=f-p,e=e==0?f:e),r<0&&(v=0-r,v=v==0?u:v),hi<i+f&&(p=i+f-hi,k=p),h=h==0?u:h,e=e==0?f:e,document.getElementById(wt).style.clip="rect("+k.toString()+"px,"+h.toString()+"px,"+e.toString()+"px,"+v+"px)")},TransformToVisibleAnnotation:function(n,t,i,r,u){i=n._valueType=="logarithmic"&&i>0?Math.log(i,n.logBase):i;r=n._valueType=="logarithmic"&&r>0?Math.log(r,t.logBase):r;var f=u.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(t,r,this),e=ej.EjSvgRender.utils._valueToVector(n,i);return{X:u.model.centerX+f*e.X,Y:u.model.centerY+f*e.Y}},_getAnnotationPoint:function(n,t,i){var o=this.model.requireInvertedAxes,r=n.x,u=n.y,f=t._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(r==0?1:r,t.logBase):r,e=i._valueType=="logarithmic"?ej.EjSvgRender.utils._logBase(u==0?1:u,t.logBase):u;return f=ej.EjSvgRender.utils._getPointXY(f,t.visibleRange,t.isInversed)*t.width,e=(1-ej.EjSvgRender.utils._getPointXY(e,i.visibleRange,i.isInversed))*i.height,n.location={X:f,Y:e},n.location},indicatorRender:function(){var e,i,n,r,o,u,t,s,f,h;for($(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").remove(),e={id:this.svgObject.id+"_IndicatorCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.gIndicatorEle=this.svgRenderer.createGroup(e),i=0;i<this.model.indicators.length&&this.model.indicators[i].visible&&this.model.indicators[i]._points.length>0;i++){for(n=this.model.indicators[i],o=n.animationDuration,u=0;u<this.model._axes.length;u++)t=this.model._axes[u],t.name&&t.orientation.toLowerCase()=="horizontal"&&t.name.toLowerCase()==n.xAxisName.toLowerCase()?n.xAxis=t:t.name&&t.orientation.toLowerCase()=="vertical"&&t.name.toLowerCase()==n.yAxisName.toLowerCase()&&(n.yAxis=t);s=n.type.toLowerCase();r=new ej.indicatorTypes[s];this.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(this.model.m_AreaBounds.X,n.yAxis.y,n.xAxis.width,n.yAxis.height),this.svgRenderer.ctx.clip(),r.draw(n,this),this.svgRenderer.ctx.restore()):r.draw(n,this);f=r.gIndicatorGroupEle;f&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(f,n,this);this.vmlRendering||this.model.enableCanvasRendering||n.enableAnimation&&(!n._animatedSeries||n.type!=n._previousType)&&(this.svgRenderer.append(this.gIndicatorEle,this.svgObject),h=$(this.gIndicatorEle).find("#"+this.svgObject.id+"_indicatorGroup_"+i+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,h,o),this.model.AnimationComplete=!0,n._animatedSeries=!0,n._previousType=n.type);this.svgRenderer.append(this.gIndicatorEle,this.svgObject)}},doAnimation:function(n){var i=this,yt=i.model,f=yt.requireInvertedAxes,ot=n.type.toLowerCase(),l=$.inArray(n,yt._visibleSeries),a=this.svgObject.id+"_SeriesGroup_"+l,g=$(i.gSymbolGroupEle)[l].childNodes,nt=g.length,st=$(i.gDataLabelEle)[l].childNodes,tt=st.length,ht=$(i.gConnectorEle)[l].childNodes,ct=ht.length,lt=$(i.gErrorBarGroupEle)[l]==undefined?undefined:$(i.gErrorBarGroupEle)[l].childNodes,pt=ej.util.isNullOrUndefined(lt)?0:lt.length,s=n._animationType,it,rt,at,ut,ft,b,c,o,k,w,et,wt=0,bt,v,e,h,y,d,vt,u=ej.EjSeriesRender.prototype,p,r,t;i.gSeriesGroupEle=$("#"+a)[0];vt=i.model.series[l].animationDuration;ej.util.isNullOrUndefined(vt)?(e=2e3,h=200,y=500,d=1e3):(e=y=d=parseFloat(vt),h=e/10);switch(s){case"rect":if(o=$(this.gSeriesEle).find("#"+a).children("rect"),k=o.length,w=$(i.gSeriesEle).find("#"+a+"_ClipRect").children(),ot=="boxandwhisker"){for(at=$(this.gSeriesEle).find("#"+a).children("line"),ut=$(this.gSeriesEle).find("#"+a).children("path"),rt=e/ut.length,p=0;p<at.length;p++)u._doLineSymbol(at[p],rt,p,n,f,i,h),u._doLineSymbol(o[p],rt,p,n,f,i,h);for(r=0;r<ut.length;r++)u._doLineSymbol(ut[r],rt,r,n,f,i,h)}else if(!ot.indexOf("stacking")>-1&&n.animationType.toLowerCase()=="smooth")u.animateRect(w,n,f,i,d);else for(t=0;t<k;t++)ot.indexOf("stacking")>-1?u.animateStackingRect(o[t],n,f,i,d):u.animateRect(o[t],n,f,i,d);ft=b=it=e/4;break;case"path":w=$(i.gSeriesEle).find("#"+a+"_ClipRect").children();u._doLineAnimation(i,w,e);ft=e/nt;b=e/tt;it=e/pt;break;case"scatter":for(t=0;t<nt;t++)bt=Math.floor(Math.random()*(20-wt)+wt),v=parseInt(bt*50),u.animateSymbol(g[t],v,n,f,i,y);break;case"bubble":for(o=$(this.gSeriesGroupEle).children().not("defs"),v=0,t=0;t<o.length;t++)u.animateSymbol(o[t],v,n,f,i,y);for(t=0;t<nt;t++)u.animateSymbol(g[t],v,n,f,i,y);for(t=0;t<tt;t++)u.animateSymbol(st[t],v,n,f,i,y);for(t=0;t<ct;t++)u.animateSymbol(ht[t],v,n,f,i,y);break;case"hilo":for(o=$(this.gSeriesGroupEle).children().not("defs"),k=o.length,et=e/k,t=0;t<k;t++)u._doLineSymbol(o[t],et,t,n,f,i,h);b=e/tt;break;case"cylinder":w=$(i.gSeriesEle).find("#"+a+"_ClipRect").children();u.animateCylinder(i,n,f,w,e);ft=b=it=e/4}if(s!="bubble"){for(r=0;r<nt;r++)c=s=="rect"||s=="stackingRect"?2:r,u._doLineSymbol(g[r],ft,c,n,f,i,h);for(r=0;r<tt;r++)c=s=="rect"||s=="stackingRect"?2:r,u._doLineSymbol(st[r],b,c,n,f,i,h);for(et=e/ct,r=0;r<ct;r++)c=s=="rect"||s=="stackingRect"?2:r,u._doLineSymbol(ht[r],et,c,n,f,i,h)}if(n.errorBar.visibility=="visible")for(r=0;r<pt;r++)c=s=="rect"||s=="stackingRect"?2:r,u._doLineSymbol(lt[r],it,c,n,f,i,h)},_animationElements:function(n,t,i){var r=this,e=r.model.series[i].animationDuration,o=ej.util.isNullOrUndefined(e)?2e3:parseFloat(e),f,u;if(n._previousType=ej.util.isNullOrUndefined(n._previousType)?n.type:n._previousType,!n.enableAnimation||this.vmlRendering||this.model.enableCanvasRendering||n._animatedSeries&&n.type==n._previousType||(ej.EjSeriesRender.prototype.doCircularAnimation(this,n,t,i,o),n._previousType=n.type,n._animatedSeries=r.isSplitted?!1:!0),r.isSplitted=!1,this.drawAccDisplayText(t,n,i),n.enableAnimation&&n._visiblePoints.length>0&&n.AnimationComplete&&!this.vmlRendering&&!this.model.enableCanvasRendering){if(r.svgRenderer._setAttr($(r.gSeriesEle).find("#"+r.gSeriesTextEle[i].id),{visibility:"visible"}),r.gSymbolGroupEle&&r.svgRenderer._setAttr($(r.gSeriesEle).find("#"+r.gSymbolGroupEle[i].id),{visibility:"visible"}),n.marker.dataLabel.template)for(f=$(r.element[0].childNodes[0].childNodes),u=0;u<f.length;u++)$(f[u]).css("display","block");r.gConnectorEle&&r.svgRenderer._setAttr($(r.gSeriesEle).find("#"+r.gConnectorEle[i].id),{visibility:"visible"});r.gDataLabelEle&&r.svgRenderer._setAttr($(r.gSeriesEle).find("#"+r.gDataLabelEle[i].id),{visibility:"visible"})}},_appendConnectorElements:function(n){var i=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),t=i[n],r=t.type.toLowerCase();t.visibility=="visible"&&!this.model.enable3D&&t.connectorLine&&(t.connectorLines||this.model.AreaType=="none")&&(this.svgRenderer.append(this.gConnectorEle[n],this.gSeriesEle),t.connectorLines=!1)},_appendDataLabelElement:function(n){var t,i;t=this.model._visibleSeries[n];i=ej.util.isNullOrUndefined(t.zOrder)?i:t.zOrder;t.visibility!="visible"||this.model.enable3D||(this.svgRenderer.append(this.gSymbolGroupEle[n],this.gSeriesEle),this.model.enable3D||this.model.enableCanvasRendering||(this.gDataLabelEle[n].childNodes.length>0&&this.svgRenderer.append(this.gDataLabelEle[n],this.gSeriesEle),this.gSeriesTextEle[n].childNodes.length>0&&this.svgRenderer.append(this.gSeriesTextEle[n],this.gSeriesEle)));this.vmlRendering||t.visibility!="visible"||this.model.enableCanvasRendering||this.model.enable3D||(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element))},_accSeriesDraw:function(n,t,i){var e=this,r=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),o=$.inArray(r[n],this.model._visibleSeries),u,f,s;this.model._visibleSeries[o]=r[n]=$.extend(!0,t,r[n]);u=$.extend({},ej.EjSvgRender.commonChartEventArgs);u.data={series:t};this._trigger("seriesRendering",u);f=new ej.seriesTypes[i.toLowerCase()];s=f.draw(e,t);s||(this.model.minhightwidth=!0,e._animationElements(t,f,o))},_splitSeries:function(n){var t=[],e,i,h,r,w;t[0]=$.extend(!0,[],n._visiblePoints);t[1]=[];for(var f=n,l=parseInt(f.splitValue),s=f.splitMode.toLowerCase(),a=t[0].length,u=0,o=0,v=[],r=0,y=0,p,c;r!=a;)y+=t[0][r].y,r++;if(s=="position"){for(r=a-1;r>=0&&o!=l;r--)u=u+t[0][r].y,t[1][o]=t[0][r],o++,t[0].splice(r,1);t[1].reverse()}else if(s=="value"||s=="percentage")for(i=0;i<t[0].length;i++)p=s=="value"?t[0][i].y:Math.round(t[0][i].y/y*100),p<l&&(u=u+t[0][i].y,t[1][o]=t[0][i],o++,t[0].splice(i,1),i=-1);else if(s=="indexes"){for(e=JSON.parse("["+f.splitValue+"]"),e=e.filter(function(n,t,i){return i.indexOf(n)==t}),e.sort(),i=0;i<t[0].length;i++)for(h=0;h<e.length;h++)i==e[h]&&(u=u+t[0][i].y,t[1][o]=t[0][i],o++);for(r=0;r<e.length;r++)w=e[r]-r,t[0].splice(w,1)}t[1].length>0&&(v[0]=u,c=f._xAxisValueType,t[0].unshift({_visibility:"visible",visible:!0,text:"Others",x:c=="string"?"Others":u,xValue:c=="string"?f.points.length:u,y:u,YValues:v,fill:this.model.colors[(f.points.length+1)%this.model.colors.length],isFill:!1,actualIndex:f.points.length}));this.isSplitted=!0;f.pieCollections=t},_calculateGapWidth:function(n){var o=0,s=0,r,u,h,c=.1*Math.min($(this.svgObject).width(),$(this.svgObject).width()),t,i,f,e;for(ej.EjSeriesRender.prototype._calculateVisiblePoints(n).visiblePoints,this._splitSeries(n),this.chartObj=this,t=0;t<2;t++)r=t==0?n.pieCoefficient:n.pieOfPieCoefficient,n._visiblePoints=n.pieCollections[t],n.collectionIndex=t,h=n.gapWidth,i=ej.EjSeriesRender.prototype.calculatingSliceAngle(n,this.chartObj),f=i.width<c?.25*r*c:.25*r*Math.min(i.width,i.height),u=this.model.circleCenterX[t],t==0?o=u+f:s=u-f;return e=s-o-h,this.model.pieGapWidth=e>0?e:0,n.pieCollections[0].length>0&&n.pieCollections[1].length>0&&n.connectorLine.width>0&&this.drawPieofPieConnectors(i,n),n},seriesRender:function(n,t){var w,vt,st,u,f;if(this.model.allPoints=[],this.model.markerRegion=[],this.model.startX=[],this.model.startY=[],this.model.centerCount=0,this.gTrendlinesGroupEle=null,this.model._seriesIndex=null,this.model._previousSeries=null,!n)for(n={_crossAxisOverlap:!1,axes:{}},u=0;u<this.model._axes.length;u++)n.axes[this.model._axes[u].name]={};$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove();var k=this,c=this.svgObject,gi={id:c.id+"_SeriesCollection","clip-path":"url(#"+c.id+"_ChartAreaClipRect)"},rt=this.model.enable3D,p=this.model.AreaType,d=this.model.enableCanvasRendering,nr=this.model._axes.length,h=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),g=h.length,u,y,v,ht,ft,l,ut,e,bt,r,i,ct,nt,si=d,o=this.svgRenderer,kt=this.model.m_AreaBounds,dt,gt,hi,et=kt.X,f,a,ci,yt,tt,b,ot,lt,li,ni,ai,vi,yi,it,pi,s,ti,wi,at,ii,pt,ri,bi,ki,ui,wt,vt,di,fi,ei,oi,tr=this.zoomed;for(this.gSeriesEle=o.createGroup(gi),u=0;u<g;u++)if(h[u].visibility=="visible")for(this.model.series[u]._enableSmartLabels=ej.util.isNullOrUndefined(this.model.series[u].enableSmartLabels)?p=="none"?!0:!1:this.model.series[u].enableSmartLabels,ej.util.isNullOrUndefined(h[u].xAxis)||(h[u].xAxis=null,h[u].yAxis=null),y=0;y<nr;y++)v=this.model._axes[y],ft=u,ht=v.orientation.toLowerCase(),v.name&&ht=="horizontal"&&v.name.toLowerCase()==h[u]._xAxisName.toLowerCase()?h[u].xAxis=v:v.name&&ht=="vertical"&&v.name.toLowerCase()==h[u]._yAxisName.toLowerCase()&&(h[u].yAxis=v),this.model.requireInvertedAxes&&(v.name&&ht=="vertical"&&v.name.toLowerCase()==h[u]._xAxisName.toLowerCase()?h[u].xAxis=v:v.name&&ht=="horizontal"&&v.name.toLowerCase()==h[u]._yAxisName.toLowerCase()&&(h[u].yAxis=v));if(g>0)if(r=h[0],ui=r.type.toLowerCase(),di=r.visibility.toLowerCase(),ui!="pieofpie"||di!="visible"||rt)for(vt=g;vt>0&&p=="none";vt--)ft=vt-1,l=h[vt-1],ut=l.visibility.toLowerCase(),e=l.type.toLowerCase(),ut!=="visible"||rt||e!="pie"&&e!="doughnut"?p!="none"||ut!=="visible"||d||ej.Ej3DChart.prototype.renderSeries(this,l,t):this._accSeriesDraw(ft,l,e);else{for(this.model._isPieOfPie=!0,r=this._calculateGapWidth(r),w=0;w<2;w++)r.collectionIndex=w,r._visiblePoints=r.pieCollections[w],this._accSeriesDraw(0,r,ui);r._visiblePoints=$.merge(r.pieCollections[0],r.pieCollections[1]);this.model.pieGapWidth=null;r.collectionIndex=0}for(st=0;st<g;st++)if(ft=st,l=h[st],ut=l.visibility.toLowerCase(),e=l.type.toLowerCase(),p!="none"||ut!=="visible"||rt||ft!==0||e!="pyramid"&&e!="funnel"){if(ut!=="visible"||rt||p=="none"?rt||p=="none"?p!="cartesianaxes"||ut!=="visible"||d||ej.Ej3DChart.prototype.renderSeries(this,l,n,t):o.append(c,this.element):(this.model._seriesIndex=ej.util.isNullOrUndefined(this.model._seriesIndex)?0:this.model._seriesIndex+1,this.renderSeries(l,n,t),p=="cartesianaxes"&&this.model.series[st].type!="boxandwhisker"&&this._renderTrendline(k,l)),!ej.util.isNullOrUndefined(l.xAxis)&&l.xAxis._valueType=="datetime")for(u=0;u<l.points.length;u++)l.points[u].xValue instanceof Date==!1&&(l.points[u].xValue=new Date(l.points[u].xValue))}else this._accSeriesDraw(ft,l,e);if(p!="none"){for(u=0;u<g;u++)if(r=this.model.series[u],ct=r._visiblePoints,r._enableSmartLabels&&this.model.AreaType=="cartesianaxes")for(nt=r.type.toLowerCase(),nt=="column"||nt=="stackingcolumn"||nt=="bar"||nt=="stackingbar"||nt=="waterfall"||nt=="stackingbar100"||nt=="stackingcolumn100"||nt=="rangecolumn"?this.cartesianColumnSmartLabels(r,ct,u):nt!="boxandwhisker"&&this.cartesianSmartLabels(r,ct,u),y=0;y<ct.length;y++)i=ct[y],i.hide=ej.util.isNullOrUndefined(i.hide)?!1:i.hide,dt=si?i.xPos-this.canvasX:i.xPos,gt=si?i.yPos-this.canvasY:i.yPos,fi=r.xAxis.visibleRange,ei=r.yAxis.visibleRange,oi=e.indexOf("100")!=-1?parseFloat(i.percentage):i.y,(dt-i.width/2<0||dt+i.width/2>kt.Width||gt+i.height/2>kt.Height||gt-i.height/2<0||tr&&(i.xValue<=fi.min||i.xValue>=fi.max)||oi<=ei.min||oi>=ei.max)&&(i.hide=r.marker.dataLabel.showEdgeLabels&&!i.hide?!1:!0);for(u=0;u<g;u++)if(r=h[u],wt=r._dataLabels?r.marker.dataLabel.visible||r._dataLabels>0:!0,r.visibility=="visible"&&wt)for(yt=r._visiblePoints.length,a=0;a<yt;a++)i=r._visiblePoints[a],ci=i.marker&&i.marker.dataLabel&&i.marker.dataLabel.visible,(r.marker.dataLabel.visible||ci)&&(!(i.connectorFlag||i.newConnectorFlag)||i.hide||i.drawText==""||r.visibility!="visible"||ej.util.isNullOrUndefined(i.textOptions)||(r.connectorLine=!0,d?(o.ctx.save(),k.model.requireInvertedAxes?o.ctx.rect(et+r.yAxis.plotOffset,r.xAxis.y,r.yAxis.width,r.xAxis.height):o.ctx.rect(et,r.yAxis.y,r.xAxis.width,r.yAxis.height),o.ctx.clip(),this.drawConnectorLines(u,a,i),o.ctx.restore()):r._enableSmartLabels&&this.drawConnectorLines(u,a,i)),i.newConnectorFlag=!1);for(u=0;u<g;u++)if(r=h[u],e=r.type.toLowerCase(),wt=r._dataLabels?r.marker.dataLabel.visible||r._dataLabels>0:!0,r.visibility=="visible"&&wt&&!this.model.enable3D)for(yt=r._visiblePoints.length,a=0;a<yt;a++)if(i=r._visiblePoints[a],hi=i.marker&&i.marker.dataLabel&&i.marker.dataLabel.visible,(r.marker.dataLabel.visible||hi)&&!i.hide&&!i.dataLabeltemplate&&r.visibility=="visible"&&!ej.util.isNullOrUndefined(i.textOptions)&&!i.hide){if(ej.util.isNullOrUndefined(i.textOptions.angle)||(i.textOptions.transform="rotate("+i.textOptions.angle+","+i.xPos+","+i.yPos+")"),d){if(i.textOptions.labelRotation=i.textOptions.angle,o.ctx.save(),k.model.requireInvertedAxes?k.svgRenderer.ctx.rect(et+r.yAxis.plotOffset,r.xAxis.y,r.yAxis.width,r.xAxis.height):o.ctx.rect(et,r.yAxis.y,r.xAxis.width,r.yAxis.height),k.svgRenderer.ctx.save(),k.svgRenderer.ctx.clip(),e.toLowerCase()=="boxandwhisker")for(r.showMedian==!0&&i.textOptionsBoxValues!=""&&(ej.util.isNullOrUndefined(i.textOptionsBoxValues[0].angle)||(i.textOptionsBoxValues[0].labelRotation=i.textOptionsBoxValues[0].angle,i.textOptionsBoxValues[0].transform="rotate("+i.textOptionsBoxValues[0].angle+","+i.textOptionsBoxValues[0].xPos+","+i.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.textOptionsBoxValues[0].xPos,i.textOptionsBoxValues[0].yPos,i.textOptionsBoxValues[0].width,i.textOptionsBoxValues[0].height,i.textOptionsBoxValues[0].symbolName,this),delete i.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(i.textOptionsBoxValues[0],i.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[u])),f=1;f<i.textOptionsBoxValues.length;f++)ej.util.isNullOrUndefined(i.textOptionsBoxValues[f].angle)||(i.textOptionsBoxValues[f].labelRotation=i.textOptionsBoxValues[f].angle,i.textOptionsBoxValues[f].transform="rotate("+i.textOptionsBoxValues[f].angle+","+i.textOptionsBoxValues[f].xPos+","+i.textOptionsBoxValues[f].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.textOptionsBoxValues[f].xPos,i.textOptionsBoxValues[f].yPos,i.textOptionsBoxValues[f].width,i.textOptionsBoxValues[f].height,i.textOptionsBoxValues[f].symbolName,this),delete i.textOptionsBoxValues[f].angle,this.svgRenderer.drawText(i.textOptionsBoxValues[f],i.textOptionsBoxValues[f].drawText,this.gSeriesTextEle[u]);else ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.xPos,i.yPos,i.width,i.height,i.symbolName,this),delete i.textOptions.angle,this.svgRenderer.drawText(i.textOptions,i.drawText,this.gSeriesTextEle);k.svgRenderer.ctx.restore()}else ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.xPos,i.yPos,i.width,i.height,i.symbolName,this,this.gDataLabelEle[u]),delete i.textOptions.angle,o.drawText(i.textOptions,i.drawText,this.gSeriesTextEle[u]);if(e=="rangecolumn"||e=="rangearea"||e=="splinerangearea")i.textOptionsLow.transform="rotate("+i.textOptionsLow.angle+","+i.xPosLow+","+i.yPosLow+")",d?(i.textOptionsLow.labelRotation=i.textOptionsLow.angle,o.ctx.save(),k.model.requireInvertedAxes?o.ctx.rect(et+r.yAxis.plotOffset,r.xAxis.y,r.yAxis.width,r.xAxis.height):o.ctx.rect(et,r.yAxis.y,r.xAxis.width,r.yAxis.height),o.ctx.clip(),ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.xPosLow,i.yPosLow,i.widthLow,i.heightLow,i.symbolName,this),delete i.textOptionsLow.angle,o.drawText(i.textOptionsLow,i.drawTextLow,this.gSeriesTextEle),o.ctx.restore()):(ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.xPosLow,i.yPosLow,i.widthLow,i.heightLow,i.symbolName,this,this.gDataLabelEle[u]),delete i.textOptionsLow.angle,o.drawText(i.textOptionsLow,i.drawTextLow,this.gSeriesTextEle[u]));else if(e.toLowerCase()=="boxandwhisker")for(r.showMedian==!0&&i.textOptionsBoxValues!=""&&(ej.util.isNullOrUndefined(i.textOptionsBoxValues[0].angle)||(i.textOptionsBoxValues[0].transform="rotate("+i.textOptionsBoxValues[0].angle+","+i.textOptionsBoxValues[0].xPos+","+i.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.textOptionsBoxValues[0].xPos,i.textOptionsBoxValues[0].yPos,i.textOptionsBoxValues[0].width,i.textOptionsBoxValues[0].height,i.textOptionsBoxValues[0].symbolName,this),delete i.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(i.textOptionsBoxValues[0],i.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[u])),f=1;f<i.textOptionsBoxValues.length;f++)ej.util.isNullOrUndefined(i.textOptionsBoxValues[f].angle)||(i.textOptionsBoxValues[f].transform="rotate("+i.textOptionsBoxValues[f].angle+","+i.textOptionsBoxValues[f].xPos+","+i.textOptionsBoxValues[f].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(u,r,a,i.textOptionsBoxValues[f].xPos,i.textOptionsBoxValues[f].yPos,i.textOptionsBoxValues[f].width,i.textOptionsBoxValues[f].height,i.textOptionsBoxValues[f].symbolName,this),delete i.textOptionsBoxValues[f].angle,this.svgRenderer.drawText(i.textOptionsBoxValues[f],i.textOptionsBoxValues[f].drawText,this.gSeriesTextEle[u])}if(p!="none"){for(u=0;u<g;u++)this._appendConnectorElements(u);for(b=this.model._visibleSeries.length,u=0;u<b;u++)this._appendDataLabelElement(u)}}else{for(tt=g-1;tt>=0;tt--)r=this.model._visibleSeries[tt],e=r.type.toLowerCase(),(e=="pie"||e=="doughnut")&&this.model.minhightwidth&&this._appendConnectorElements(tt);if(b=this.model._visibleSeries.length,b>0&&e=="pieofpie")this._appendDataLabelElement(0);else for(tt=g-1;tt>=0;tt--)r=this.model._visibleSeries[tt],e=r.type.toLowerCase(),(e=="pie"||e=="doughnut")&&this.model.minhightwidth&&this._appendDataLabelElement(tt)}for(b=this.model._visibleSeries.length,ot=0;ot<b;ot++)s=this.model._visibleSeries[ot],vi=s.drawType,e=s.type.toLowerCase(),s._previousType=ej.util.isNullOrUndefined(s._previousType)?s.type:s._previousType,this.vmlRendering||s.visibility!="visible"||d||rt||p=="none"||(this.renderer.append(this.gSeriesEle,this.svgObject),this.renderer.append(this.svgObject,this.element),lt=new ej.seriesTypes[s.type.toLowerCase()],lt.chartObj=k,lt.gSeriesGroupEle=vi=="scatter"?$("#"+this.svgObject.id+"_symbolGroup_"+ot)[0]:$("#"+this.svgObject.id+"_SeriesGroup_"+ot)[0],s.enableAnimation&&(!s._animatedSeries||s._previousType!=s.type)&&this.model.AreaType!="none"&&(s._animatedSeries=!0,s._previousType=s.type,li=$("#template_group_"+this._id),ni=s.marker.dataLabel,li.children().length!=0&&ni.visible&&ni.template&&lt.animateLabelTemplate(s),e=="polar"||e=="radar"?ej.ejRadarSeries.prototype.doAnimation(s,lt):this.doAnimation(s)));if(h=this.model._visibleSeries,b=h.length,!d&&!rt)for(w=0;w<b;w++)h[w].visibility.toLowerCase()=="visible"&&this.gTrendlinesGroupEle&&this.gTrendlinesGroupEle[w]&&this.gTrendlinesGroupEle[w].childElementCount!=0&&this.renderer.append(this.gTrendlinesGroupEle[w],c);for(u=0;u<b;u++)for(r=this.model._visibleSeries[u],yi=r.trendlines,ti=r.trendlines.length,wi=r.animationDuration,y=0;y<ti;y++)it=yi[y],it.visibility&&(pi=it.type.toLowerCase(),s=new ej.trendlineTypes[pi],it.visibility.toLowerCase()==="visible"&&it.points&&it.points.length>1&&r.enableAnimation&&!this.vmlRendering&&(!r._animatedTrendline||it._previousType!=it.type)&&(it._previousType=it.type,ai=$(this.svgObject).find("#"+this.svgObject.id+"_TrendGroup_"+u+"_"+y+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,ai,wi),r._animatedTrendline=ti-1==u?!0:!1));for(b=this.model._visibleSeries.length,pt=c.id,u=0;u<b;u++)at=$("#"+pt+"_SeriesGroup_"+u),ri=$("#"+pt+"_SeriesGroup_waterfallLine_"+u),ii=$("#"+pt+"_symbolGroup_"+u),at.length>0&&ii.length>0&&ii.insertAfter(at),at.length>0&&ri.length>0&&ri.insertAfter(at);this.model.AnimationComplete=!0;bt=$.extend({},ej.EjSvgRender.commonChartEventArgs);bt.data={series:s};this._trigger("animationComplete",bt);d&&(o.append(c,this.element),this.panning&&$("#"+this._id+"_canvas").css({cursor:"pointer"}));rt&&!d&&(o.append(this.chart3D,c),bi={Width:$(c).width(),Height:$(c).height()},this.graphics.prepareView(this.model.perspectiveAngle,this.model.depth,this.model.rotation,this.model.tilt,bi,this),this.graphics.view(c,this),o.append(c,this.element));o.vmlNamespace&&o.append(this.gSeriesEle,c);p=="polaraxes"&&o.append(this.gPolarAxisEle,c);$(c).find("#"+c.id+"_StriplineOver").length>0&&(ki=$(c).find("#"+c.id+"_StriplineOver").detach(),ki.appendTo(c));this._renderScrollbar();this.legendRender.drawLegend(n);k.model.initSeriesRender=!0},_calculateZoomValue:function(n,t,i,r){var l=this.model,o,s,h,u,f,e=i.scrollbarSettings.range,c=i._valueType.toLowerCase();c=="datetime"?(u=Date.parse(ej.util.isNullOrUndefined(e.min)?n:new Date(e.min)),f=Date.parse(ej.util.isNullOrUndefined(e.max)?t:new Date(e.max))):(u=parseFloat(ej.util.isNullOrUndefined(e.min)?n:e.min),f=parseFloat(ej.util.isNullOrUndefined(e.max)?t:e.max));u=Math.min(u,n);f=Math.max(f,t);o=f-u;r.isRTL?(s=(f-t)/o,h=(t-n)/o):(s=(n-u)/o,h=(t-n)/o);r.scrollRange={min:u,max:f,delta:f-u};r._previousStart=n;r._previousEnd=t;r.zoomPosition=s;r.zoomFactor=h},_renderScrollbar:function(){var r=this.model,k=r.scrollerSize,ut=$("#"+this._id).offset(),nt=$(this.svgObject).offset().left-ut.left,d,e,i,a,o,v,s,h,y,tt=r._axes,ft=tt.length,g,et=r.zooming.enableScrollbar,f,ot=r.AreaType,u,c,p,it,t,l,w,rt,n,b;for(r.scrollObj=r.scrollObj?r.scrollObj:[],n=0;n<ft;n++)i=tt[n],w=i._valueType,u=i.scrollbarSettings,f=u.range,g=i.isInversed,rt=ot=="cartesianaxes"&&!r.enable3D,y=i._opposed,c=u.pointsLength,l=i.orientation.toLowerCase(),s=i.zoomFactor,p=$("#scrollbar_"+this.axisScroll[0].id+n).length,h=i.zoomPosition,rt&&(i._isScroll&&r.isLazyZooming||(s<1||h>0)&&et)?(e=i.x+(l=="vertical"?-k+(y?k:0):0)+(nt<=0?0:nt),d=i.y+(l=="horizontal"?i.height+(y?-k:0):0),a=d-(l=="horizontal"?0:i.plotOffset),o=i.plotOffset+(l=="horizontal"?i.width:i.height),t=r.scrollObj,v=f.min!=null||f.max!=null?t[n]?t[n].actualRange.min!=f.min||t[n].actualRange.max!=f.max:!1:t[n]?t[n].actualRange!=u.pointsLength:!1,this.scrollDraw=t[n]?t[n].x!=e||t[n].y!=d||t[n].width!=o:this.scrollDraw,b={orientation:i.orientation,index:n,width:o,x:e,y:a,opposed:y,isRTL:g,parent:this.axisScroll,enableResize:u.canResize},r.isLazyZooming?(p==0||this.scrollDraw||v)&&($("#scrollbar_"+this.axisScroll[0].id+n).remove(),f.min!=null||f.max!=null?(it=t[n]&&t[n].scrollRange?t[n].scrollRange:i.visibleRange,!this.scrollDraw||v?(t[n]={isVirtual:!0,valueType:w,scrollRange:it},t[n].actualRange=$.extend(t[n].actualRange,u.range),$.extend(t[n],b),w=="datetime"?(t[n].startDateTime=new Date(i.visibleRange.min),t[n].endDateTime=new Date(i.visibleRange.max)):(t[n].startValue=i.visibleRange.min,t[n].endValue=i.visibleRange.max),this._calculateZoomValue(i.visibleRange.min,i.visibleRange.max,i,this.model.scrollObj[n])):(t[n].width=o,t[n].x=e,t[n].y=a)):c>=i.maxPointLength&&(s=i.maxPointLength/c,h=g?1-i.zoomPosition:i.zoomPosition,!this.scrollDraw||v?(t[n]={isVirtual:!0,zoomPosition:h,zoomFactor:s,scrollRange:{min:0,max:c-1,delta:c-1},valueType:"double"},t[n].actualRange=u.pointsLength,$.extend(t[n],b),t[n].startValue=0,t[n].endValue=i.maxPointLength):(t[n].width=o,t[n].x=e,t[n].y=a)),this.model.scrollObj[n]&&(this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[n]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[n]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[n]))):u.visible&&(t=r.scrollObj,(p==0||this.scrollDraw)&&($("#scrollbar_"+this.axisScroll[0].id+n).remove(),t[n]={zoomPosition:h,zoomFactor:s,valueType:w,scrollRange:i.actualRange,isZooming:!0},$.extend(t[n],b),t[n].valueType=="datetime"?(t[n].startDateTime=new Date(t[n].scrollRange.min),t[n].endDateTime=new Date(t[n].scrollRange.max)):(t[n].startValue=t[n].scrollRange.min,t[n].endValue=t[n].scrollRange.max),this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[n]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[n]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[n])))):p>0&&$("#scrollbar_"+this.axisScroll[0].id+n).remove();this.scrollDraw=!1},_renderTrendline:function(n,t){var f=$.inArray(t,n.model.series),g=n.model.requireInvertedAxes?t.yAxis.x:t.xAxis.x,nt=n.model.requireInvertedAxes?t.xAxis.y:t.yAxis.y,tt="translate("+g+","+nt+")",it={id:n.svgObject.id+"_TrendlinesGroup_"+f,"clip-path":"url(#"+n.svgObject.id+"_TrendlinesGroup_"+f+"_ClipRect)"},p=t.trendlines,e,c,l,w,a,i,u,o,s,h,r="",rt=p.length,b,v,y,k,d;for(n.gTrendlinesGroupEle||(n.gTrendlinesGroupEle=[]),n.gTrendlinesGroupEle[f]=n.svgRenderer.createGroup(it),u=0;u<rt;u++)if(i=p[u],i.seriesIndex=f,i.isTrendLine=!0,i.trendlineIndex=u,i.visibility.toLowerCase()==="visible"&&!i.isNull&&i.points){b={id:n.svgObject.id+"_TrendGroup_"+f+"_"+u,transform:tt,"clip-path":"url(#"+n.svgObject.id+"_TrendGroup_"+f+"_"+u+"_ClipRect)"};t.gTrendGroupEle=null;t.gTrendGroupEle=n.svgRenderer.createGroup(b);v=i.type.toLowerCase();a=new ej.trendlineTypes[v];o=i.slope;s=i._intercept;switch(v){case"linear":r="y = "+o.toFixed(4)+"x + "+s.toFixed(4);break;case"exponential":r="y = "+s.toFixed(3)+"e^"+o.toFixed(4)+"x";break;case"logarithmic":r="y = "+o.toFixed(3)+"ln(x) + "+s.toFixed(4);break;case"power":r="y = "+s.toFixed(3)+"x^"+o.toFixed(4);break;case"polynomial":for(l=i.polynomialSlopes,w=l.length,r="y = ",e=w-1;e>=0;e--)h=l[e],r+=h>0?"+"+h:"-"+Math.abs(h),e!=0&&(r+="x^"+e+" ")}i.equation=r;y=$.extend({},ej.EjSvgRender.commonChartEventArgs);k=i.points[0];d=i.points[i.points.length-1];y.data={series:t,trendline:i,forwardForecastPoints:d,backwardForecastPoints:k};this._trigger("trendlineRendering",y);n.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(n.model.m_AreaBounds.X,t.yAxis.y,t.xAxis.width,t.yAxis.height),this.svgRenderer.ctx.clip(),this.svgRenderer.ctx.beginPath(),a.draw(i,t,n),this.svgRenderer.ctx.restore()):(a.draw(i,t,n),c=t.gTrendGroupEle,c&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(c,t,this))}},_renderStripline:function(n){var u,i,r,t;for($.extend(ej.EjStripline.prototype,this),this.chartstripline=new ej.EjStripline(this),u=this.chartstripline,this.model._stripeline=!1,i=0;i<this.model._axes.length;i++)for(r=this.model._axes[i],t=0;t<r.stripLine.length;t++)r.stripLine[t].zIndex.toLowerCase()==n&&u._drawStripline(r,r.stripLine[t],i,t);n=="over"&&this.model._stripeline?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.model._stripeline&&this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(n,t,i){for(var y,d,g,nt,p,o,e,w,tt,u,ut=this,l,b=n.drawType,r=$.inArray(n,this.model._visibleSeries),s=0;s<n.points.length;s++)if(typeof n.points[s].x=="string"&&n.points[s].x.indexOf("/Date(")!=-1)n.points[s].x=new Date(parseInt(n.points[s].x.substr(6)));else break;n.xAxis=n.xAxis===null||n.xAxis===undefined?this.model._axes[0]:n.xAxis;n.yAxis=n.yAxis===null||n.yAxis===undefined?this.model._axes[1]:n.yAxis;var f=n.type.toLowerCase(),it=n.drawType.toLowerCase(),k,e=null,h;if(this.model.AreaType=="cartesianaxes"?(y=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),e="translate("+y.x+","+y.y+")",h="visible"):h=n.enableAnimation&&!n._animatedSeries?"hidden":"visible",d={id:this.svgObject.id+"_TextGroup_"+r,transform:e,visibility:h},g={id:this.svgObject.id+"_DataLabel_"+r,transform:e,visibility:h},k=f!="scatter"?{id:this.svgObject.id+"_symbolGroup_"+r,transform:e,visibility:h}:{id:this.svgObject.id+"_SeriesGroup_"+r,transform:e},nt={id:this.svgObject.id+"_ConnectorGroup_"+r,transform:e,visibility:h},this.gSymbolGroupEle||(this.gSymbolGroupEle=[]),this.gSymbolGroupEle[r]=this.svgRenderer.createGroup(k),this.gSeriesTextEle||(this.gSeriesTextEle=[]),this.gSeriesTextEle[r]=this.svgRenderer.createGroup(d),this.gConnectorEle||(this.gConnectorEle=[]),this.gConnectorEle[r]=this.svgRenderer.createGroup(nt),this.gDataLabelEle||(this.gDataLabelEle=[]),this.gDataLabelEle[r]=this.svgRenderer.createGroup(g),p=$.extend({},ej.EjSvgRender.commonChartEventArgs),p.data={series:n},this._trigger("seriesRendering",p),o=new ej.seriesTypes[f],this.model.enableCanvasRendering&&this.model.AreaType!="none"?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.model.requireInvertedAxes?(e=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),this.canvasX=e.x,this.canvasY=e.y,this.svgRenderer.ctx.rect(n.yAxis.x,n.xAxis.y,n.yAxis.width,n.xAxis.height)):(this.canvasX=n.xAxis.x,this.canvasY=n.yAxis.y,this.svgRenderer.ctx.rect(n.xAxis.x,n.yAxis.y,n.xAxis.width,n.yAxis.height)),this.svgRenderer.ctx.clip(),o.draw(this,n,t,i),this.svgRenderer.ctx.restore()):this.model.enableCanvasRendering&&this.model.AreaType=="polaraxes"?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.arc(this.model.centerX,this.model.centerY,this.model.Radius,0,2*Math.PI,!1),this.svgRenderer.ctx.clip(),this.canvasX=this.canvasY=0,o.draw(this,n,i),this.svgRenderer.ctx.restore()):(this.canvasX=this.canvasY=0,this.model.AreaType=="cartesianaxes"?o.draw(this,n,t):this.model.AreaType=="polaraxes"&&n._xAxisName==this.model._axes[0].name&&n._yAxisName==this.model._axes[1].name&&o.draw(this,n,i)),w=this.model.series[r].errorBar,tt=this.model.AreaType,w.visibility=="visible"&&tt=="cartesianaxes"&&this.model.series[r].type!="boxandwhisker"&&this.renderErrorBar(w,n),f=="splinerangearea"&&(o.gSeriesGroupEle=this.gSeriesGroupEle),u=o.gSeriesGroupEle,u&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(u,n,this),!(f=="candle"||f=="hilo"||f=="hiloopenclose"||f=="boxandwhisker")){var a=this,v,c=a.model.AreaType.toLowerCase(),rt=ej.seriesTypes[f].prototype.isRegion;l=n._pointMarker?n.marker.visible||n._pointMarker:!0;f=="scatter"||!l||$.each(n._visiblePoints,function(t,i){if(i.visible!==!1&&i.x!==""&&(i.marker&&i.marker.visible||n.marker.visible)){if(v=c=="polaraxes"&&it=="column"||rt?i.symbolLocation:c!="polaraxes"?ej.EjSvgRender.utils._getPoint(i,n):ej.EjSvgRender.utils.TransformToVisible(n,i.xValue,i.y,a),c=="polaraxes")var u=n.yAxis.labelFormat?n.yAxis.labelFormat:"",e=i.text?i.text:i.y+u.substring(u.indexOf("}")+1),s=ej.EjSvgRender.utils._measureText(e,null,n.marker.dataLabel.font);(c=="polaraxes"&&n._xAxisName==a.model._axes[0].name&&n._yAxisName==a.model._axes[1].name&&(f.toLowerCase()=="polar"||f.toLowerCase()=="radar")&&b!="scatter"||c=="cartesianaxes")&&o.drawSymbol(r,n,t,v.X,v.Y)}});f!="scatter"?(n.marker.visible&&b!="scatter"&&(u=this.gSymbolGroupEle[r],ej.EjSvgRender.utils._drawAxesBoundsClipPath(u,n,this)),n.marker.dataLabel.visible&&(u=this.gSeriesTextEle[r],ej.EjSvgRender.utils._drawAxesBoundsClipPath(u,n,this),u=this.gDataLabelEle[r],ej.EjSvgRender.utils._drawAxesBoundsClipPath(u,n,this)),!ej.util.isNullOrUndefined(this.gConnectorEle)&&this.gConnectorEle.length>0&&(u=this.gConnectorEle[r],ej.EjSvgRender.utils._drawAxesBoundsClipPath(u,n,this))):(u=this.gSymbolGroupEle[r],ej.EjSvgRender.utils._drawAxesBoundsClipPath(u,n,this),this.svgRenderer.append(u,this.gSeriesEle),(n.tooltip.visible||f=="scatter")&&(this.vmlRendering?(this.cloneSeriesEle=$(this.gSeriesEle).clone(),this.cloneobj=$(this.element).clone(),this.svgclone=$(this.svgObject).clone(),$(document.body).append(this.cloneobj),this.svgRenderer.append(this.cloneSeriesEle,this.svgclone),this.svgRenderer.append(this.svgclone,this.cloneobj)):(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element)),this.vmlRendering&&($(this.cloneobj).remove(),$(this.svgclone).remove())))}l=n._dataLabels?n.marker.dataLabel.visible||n._dataLabels>0:!0;(n.marker.dataLabel.visible||l)&&this.drawDisplayText(o,n,t)},renderErrorBar:function(n,t){var s=this,wi=s.model,o=t,v,u,bi,fr,y,er,or,nu,vt=o._visiblePoints,ki=vt.length,pt=s.canvasX,wt=s.canvasY,dt=$.inArray(o,wi._visibleSeries),tu=null,ft,sr=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,wi.requireInvertedAxes),bt,kt,d=wi.requireInvertedAxes,hr,cr,lr,ar,vr=s.svgObject.id,hi=s.model.m_AreaBounds,tu="translate("+sr.x+","+sr.y+")",ci,yr,p,pr,li,et,h,c,di,wr,a,i,r,f,e,yt,br,kr,ai,vi,ot,st,gt,ni,w,b,gi,nr,dr,gr,ti,ii,ri,ui,fi,ei,oi,si,rt,lt,k,ut,g,nt,tr,ir,l,tt,it,at,yi,pi,ht,ct,rr,ur;for(yr={id:vr+"_ErrorBarGroup_"+dt,transform:tu,"clip-path":"url(#"+vr+"_ChartAreaClipRect)"},ej.util.isNullOrUndefined(s.gErrorBarGroupEle)&&(s.gErrorBarGroupEle=[]),ci=s.gErrorBarGroupEle[dt]=s.svgRenderer.createGroup(yr),yi=$.extend({},ej.EjSvgRender.commonChartEventArgs),yi.data={errorBar:n},this._trigger("errorBarRendering",yi),p=yi.data.errorBar,v=p.type,u=p.mode,bi=p.direction,fr=p.fill,y=p.cap,er=p.cap.fill,or=p.cap.width,nu=p.cap.length,bt=p.verticalErrorValue,kt=p.horizontalErrorValue,hr=p.verticalPositiveErrorValue,cr=p.verticalNegativeErrorValue,lr=p.horizontalPositiveErrorValue,ar=p.horizontalNegativeErrorValue,ft=0;ft<ki;ft++)if(vt[ft].isEmpty!==!0&&vt[ft].visible==!0){pr={id:s.svgObject.id+"_ErrorBarGroup_"+dt+"_Point"+ft};pi=s.svgRenderer.createGroup(pr);li=ft;et=vt[ft];h=et.YValues[0];c=et.xValue;di=vt[ft].YValues[0];wr=vt[ft].xValue;a=v.indexOf("column")||v.indexOf("bar")>-1?et.symbolLocation:et.location;ej.util.isNullOrUndefined(a)&&(a=ej.EjSvgRender.utils._getPoint(et,o));ot=a.X;st=a.Y;switch(v){case"fixedValue":g=et;(u=="vertical"||u=="both")&&(g.YValues[0]=h+bt,i=ej.EjSvgRender.utils._getPoint(g,o),g.YValues[0]=h-bt,r=ej.EjSvgRender.utils._getPoint(g,o),d?i.Y=r.Y=a.Y:i.X=r.X=a.X);(u=="horizontal"||u=="both")&&(g.YValues[0]=h,g.xValue=c,g.xValue=c+kt,f=ej.EjSvgRender.utils._getPoint(g,o),g.xValue=c-kt,e=ej.EjSvgRender.utils._getPoint(g,o));g.YValues[0]=h;g.xValue=c;break;case"percentage":nt=et;tr=bt/100*h;ir=kt/100*c;(u=="vertical"||u=="both")&&(nt.YValues[0]=h+tr,i=ej.EjSvgRender.utils._getPoint(nt,o),nt.YValues[0]=h-tr,r=ej.EjSvgRender.utils._getPoint(nt,o),d?i.Y=r.Y=a.Y:i.X=r.X=a.X);(u=="horizontal"||u=="both")&&(nt.YValues[0]=h,nt.xValue=c,nt.xValue=c+ir,f=ej.EjSvgRender.utils._getPoint(nt,o),nt.xValue=c-ir,e=ej.EjSvgRender.utils._getPoint(nt,o));nt.YValues[0]=h;nt.xValue=c;break;case"standardDeviation":l=et;yt=s.meanCalculation(u,vt);br=yt.verMean;kr=yt.horMean;ai=yt.verStandSquareRoot;vi=yt.horStandSquareRoot;(u=="vertical"||u=="both")&&(gt=bt*ai,l.YValues[0]=br,w=ej.EjSvgRender.utils._getPoint(l,o),h=l.YValues[0],l.YValues[0]=h+gt,i=ej.EjSvgRender.utils._getPoint(l,o),l.YValues[0]=h-gt,r=ej.EjSvgRender.utils._getPoint(l,o),d?w.Y=i.Y=r.Y=a.Y:w.X=i.X=r.X=a.X,w.X=w.X+pt,w.Y=w.Y+wt);(u=="horizontal"||u=="both")&&(ni=kt*vi,l.xValue=kr,b=ej.EjSvgRender.utils._getPoint(l,o),d?b.X=a.X:b.Y=a.Y,l.YValues[0]=di,c=l.xValue,l.xValue=c+ni,f=ej.EjSvgRender.utils._getPoint(l,o),l.xValue=c-ni,e=ej.EjSvgRender.utils._getPoint(l,o),b.X=b.X+pt,b.Y=b.Y+wt);l.YValues[0]=di;l.xValue=wr;break;case"standardError":tt=et;yt=s.meanCalculation(u,vt);ai=yt.verStandSquareRoot;vi=yt.horStandSquareRoot;(u=="vertical"||u=="both")&&(gt=bt*ai,gi=gt/Math.sqrt(ki),tt.YValues[0]=h+gi,i=ej.EjSvgRender.utils._getPoint(tt,o),tt.YValues[0]=h-gi,r=ej.EjSvgRender.utils._getPoint(tt,o),d?i.Y=r.Y=a.Y:i.X=r.X=a.X);(u=="horizontal"||u=="both")&&(ni=kt*vi,nr=ni/Math.sqrt(ki),tt.YValues[0]=h,tt.xValue=c,tt.xValue=c+nr,f=ej.EjSvgRender.utils._getPoint(tt,o),tt.xValue=c-nr,e=ej.EjSvgRender.utils._getPoint(tt,o));tt.YValues[0]=h;tt.xValue=c;ft=li;break;case"custom":it=et;(u=="vertical"||u=="both")&&(it.YValues[0]=h+hr,i=ej.EjSvgRender.utils._getPoint(it,o),it.YValues[0]=h-cr,r=ej.EjSvgRender.utils._getPoint(it,o),d?i.Y=r.Y=a.Y:i.X=r.X=a.X);(u=="horizontal"||u=="both")&&(it.YValues[0]=h,it.xValue=c,it.xValue=c+lr,f=ej.EjSvgRender.utils._getPoint(it,o),it.xValue=c-ar,e=ej.EjSvgRender.utils._getPoint(it,o));it.YValues[0]=h;it.xValue=c}y.visible==!0&&((u=="vertical"||u=="both")&&(dr={verHighvalue:i,verLowvalue:r}),(u=="horizontal"||u=="both")&&(gr={horHighvalue:f,horLowvalue:e}),at=s.renderCap(y,u,dr,gr,d),ti=at.verHighCapX1,ii=at.verHighCapX2,ri=at.verLowCapX1,ui=at.verLowCapX2,fi=at.horHighCapY1,ei=at.horHighCapY2,oi=at.horLowCapY1,si=at.horLowCapY2);ot=ot+pt;st=st+wt;(u=="vertical"||u=="both")&&(i.X=i.X+pt,i.Y=i.Y+wt,r.X=r.X+pt,r.Y=r.Y+wt);(u=="horizontal"||u=="both")&&(f.X=f.X+pt,f.Y=f.Y+wt,e.X=e.X+pt,e.Y=e.Y+wt);bi=="both"?((u=="vertical"||u=="both")&&(v!="standardDeviation"?rt="M "+ot+" "+st+" L "+i.X+" "+i.Y+" M "+ot+" "+st+" L "+r.X+" "+r.Y+" ":v=="standardDeviation"&&(rt="M "+w.X+" "+w.Y+" L "+i.X+" "+i.Y+" M "+w.X+" "+w.Y+" L "+r.X+" "+r.Y+" "),lt=d?y.visible?"M "+i.X+" "+i.Y+" L "+i.X+" "+ti+" M "+i.X+" "+i.Y+" L "+i.X+" "+ii+" M "+r.X+" "+r.Y+" L "+r.X+" "+ri+" M "+r.X+" "+r.Y+" L "+r.X+" "+ui+" ":"":y.visible?"M "+i.X+" "+i.Y+" L "+ti+" "+i.Y+" M "+i.X+" "+i.Y+" L "+ii+" "+i.Y+" M "+r.X+" "+r.Y+" L "+ri+" "+r.Y+" M "+r.X+" "+r.Y+" L "+ui+" "+r.Y+" ":"",ht=rt,ct=lt),(u=="horizontal"||u=="both")&&(v!="standardDeviation"?k="M "+ot+" "+st+" L "+f.X+" "+f.Y+" M "+ot+" "+st+" L "+e.X+" "+e.Y+" ":v=="standardDeviation"&&(k="M "+b.X+" "+b.Y+" L "+f.X+" "+f.Y+" M "+b.X+" "+b.Y+" L "+e.X+" "+e.Y+" "),ut=d?y.visible?"M "+f.X+" "+f.Y+" L "+fi+" "+f.Y+" M "+f.X+" "+f.Y+" L "+ei+" "+f.Y+" M "+e.X+" "+e.Y+" L "+oi+" "+e.Y+" M "+e.X+" "+e.Y+" L "+si+" "+e.Y+" ":"":y.visible?"M "+f.X+" "+f.Y+" L "+f.X+" "+fi+" M "+f.X+" "+f.Y+" L "+f.X+" "+ei+" M "+e.X+" "+e.Y+" L "+e.X+" "+oi+" M "+e.X+" "+e.Y+" L "+e.X+" "+si+" ":"",ht=k,ct=ut),u=="both"&&(k+=rt,ut+=lt,ht=k,ct=ut)):bi=="plus"?((u=="vertical"||u=="both")&&(v!="standardDeviation"?rt="M "+ot+" "+st+" L "+i.X+" "+i.Y+" ":v=="standardDeviation"&&(rt="M "+w.X+" "+w.Y+" L "+i.X+" "+i.Y+" "),lt=d?y.visible?"M "+i.X+" "+i.Y+" L "+i.X+" "+ti+" M "+i.X+" "+i.Y+" L "+i.X+" "+ii+" ":"":y.visible?"M "+i.X+" "+i.Y+" L "+ti+" "+i.Y+" M "+i.X+" "+i.Y+" L "+ii+" "+i.Y+" ":"",ht=rt,ct=lt),(u=="horizontal"||u=="both")&&(v!="standardDeviation"?k="M "+ot+" "+st+" L "+f.X+" "+f.Y+" ":v=="standardDeviation"&&(k="M "+b.X+" "+b.Y+" L "+f.X+" "+f.Y+" "),ut=d?y.visible?"M "+f.X+" "+f.Y+" L "+fi+" "+f.Y+" M "+f.X+" "+f.Y+" L "+ei+" "+f.Y+" ":"":y.visible?"M "+f.X+" "+f.Y+" L "+f.X+" "+fi+" M "+f.X+" "+f.Y+" L "+f.X+" "+ei+" ":"",ht=k,ct=ut),u=="both"&&(k+=rt,ut+=lt,ht=k,ct=ut)):((u=="vertical"||u=="both")&&(v!="standardDeviation"?rt="M "+ot+" "+st+" L "+r.X+" "+r.Y+" ":v=="standardDeviation"&&(rt="M "+w.X+" "+w.Y+" L "+r.X+" "+r.Y+" "),lt=d?y.visible?"M "+r.X+" "+r.Y+" L "+r.X+" "+ri+" M "+r.X+" "+r.Y+" L "+r.X+" "+ui+" ":"":y.visible?"M "+r.X+" "+r.Y+" L "+ri+" "+r.Y+" M "+r.X+" "+r.Y+" L "+ui+" "+r.Y+" ":"",ht=rt,ct=lt),(u=="horizontal"||u=="both")&&(v!="standardDeviation"?k="M "+ot+" "+st+" L "+e.X+" "+e.Y+" ":v=="standardDeviation"&&(k="M "+b.X+" "+b.Y+" L "+e.X+" "+e.Y+" "),ut=d?y.visible?"M "+e.X+" "+e.Y+" L "+oi+" "+e.Y+" M "+e.X+" "+e.Y+" L "+si+" "+e.Y+" ":"":y.visible?"M "+e.X+" "+e.Y+" L "+e.X+" "+oi+" M "+e.X+" "+e.Y+" L "+e.X+" "+si+" ":"",ht=k,ct=ut),u=="both"&&(k+=rt,ut+=lt,ht=k,ct=ut));rr={id:s.svgObject.id+"_ErrorBar_"+dt+"_Point"+li,d:ht,stroke:fr,"stroke-width":n.width,opacity:n.opacity};ur={id:s.svgObject.id+"_ErrorBarCap_"+dt+"_Point"+li,d:ct,stroke:er,"stroke-width":or};s.model.enableCanvasRendering?(this.svgRenderer.ctx.rect(hi.X,hi.Y,hi.Width,hi.Height),this.svgRenderer.ctx.clip(),s.svgRenderer.drawPath(rr,null),s.svgRenderer.drawPath(ur,null)):(s.svgRenderer.drawPath(rr,pi),s.svgRenderer.drawPath(ur,pi),s.svgRenderer.append(pi,ci))}s.svgRenderer.append(ci,s.gSeriesEle);ej.EjSvgRender.utils._drawAxesBoundsClipPath(ci,o,s)},meanCalculation:function(n,t){for(var r=0,u=0,e,v,y,o,s,a,h,c,l,p,w,b,k,d,g,nt,tt,it,rt,f=t.length,i=0;i<f;i++)n=="vertical"?(e=r+t[i].y,r=e):n=="horizontal"?(e=u+t[i].xValue,u=e):(v=r+t[i].y,r=v,y=u+t[i].xValue,u=y);for(o=r/f,s=u/f,a=f-1,i=0;i<f;i++)n=="vertical"?(h=t[i].y-o,c=Math.pow(h,2),l=r+c,r=l):n=="horizontal"?(h=t[i].xValue-s,c=Math.pow(h,2),l=u+c,u=l):(p=t[i].y-o,b=Math.pow(p,2),k=r+b,r=k,w=t[i].xValue-s,it=Math.pow(w,2),d=u+it,u=d);return g=r/a,tt=Math.sqrt(g),nt=u/a,rt=Math.sqrt(nt),{verStandSquareRoot:tt,horStandSquareRoot:rt,verMean:o,horMean:s}},renderCap:function(n,t,i,r,u){var e,o,f,s,h,c,l,a,v,y,p,w,b,k,d;return e=this.canvasX,o=this.canvasY,f=n.length/2,(t=="vertical"||t=="both")&&(s=i.verHighvalue,h=i.verLowvalue),(t=="horizontal"||t=="both")&&(c=r.horHighvalue,l=r.horLowvalue),(t=="vertical"||t=="both")&&(u?(a=s.Y+o+f,v=s.Y+o-f,y=h.Y+o+f,p=h.Y+o-f):(a=s.X+e-f,v=s.X+e+f,y=h.X+e-f,p=h.X+e+f)),(t=="horizontal"||t=="both")&&(u?(w=c.X+e+f,b=c.X+e-f,k=l.X+e+f,d=l.X+e-f):(w=c.Y+o-f,b=c.Y+o+f,k=l.Y+o-f,d=l.Y+o+f)),{verHighCapX1:a,verHighCapX2:v,verLowCapX1:y,verLowCapX2:p,horHighCapY1:w,horHighCapY2:b,horLowCapY1:k,horLowCapY2:d}},drawDisplayText:function(n,t,i){var r=this,u,b=t.type.toLowerCase(),l=r.model.AreaType.toLowerCase(),a=ej.seriesTypes[b].prototype.isRegion,v=t.drawType.toLowerCase(),f,y=!1,h=$.inArray(t,r.model._visibleSeries);ej.util.isNullOrUndefined(r.model.regionCount)&&(r.model.regionCount=-1);for(var e=r.model.enableCanvasRendering,p=r.model.AreaType.toLowerCase()=="polaraxes",o=0,s={},c,w=r.model.series.length;o<w;o++)s[c=r.model.series[o].stackingGroup]={length:s[c]?s[c].length+1:1,seriesIndex:o};i.stackingGroup=s;$.each(t._visiblePoints,function(o,s){var c=r.model.series[h].type.toLowerCase(),b,w;if(t._visiblePoints[o].textOptionsBoxValues=[],f=s.marker,u=l=="polaraxes"&&v=="column"||a||v=="rangecolumn"?c.toLowerCase()=="boxandwhisker"?s.dataLabelLocation:s.symbolLocation:l!="polaraxes"?ej.EjSvgRender.utils._getPoint(s,t):ej.EjSvgRender.utils.TransformToVisible(t,s.xValue,s.y,r),s.visible!==!1&&(f&&f.dataLabel&&f.dataLabel.visible||(!f||!f.dataLabel)&&t.marker.dataLabel.visible)){for(a&&r.model.regionCount++,c=r.model.series[h].type.toLowerCase(),b=0;b<r.model._axes.length;b++)if(r.model._axes[b].zoomFactor<1||r.model._axes[b].zoomPosition>0){y=!0;break}if((r.zoomed||t.xAxis._isScroll||y)&&(c=="column"||c=="stackingcolumn"||c=="stackingcolumn100"))for(b=0;b<r.model.chartRegions.length;b++)h==r.model.chartRegions[b].SeriesIndex&&o==r.model.chartRegions[b].Region.PointIndex&&(e&&r.model.AreaType=="cartesianaxes"?(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.beginPath(),r.model.requireInvertedAxes?r.svgRenderer.ctx.rect(t.yAxis.x,t.xAxis.y,t.yAxis.width,t.xAxis.height):r.svgRenderer.ctx.rect(t.xAxis.x,t.yAxis.y,t.xAxis.width,t.yAxis.height),r.svgRenderer.ctx.clip(),n.drawDataLabel(t,o,s,u.X,u.Y,b,i),r.svgRenderer.ctx.restore()):n.drawDataLabel(t,o,s,u.X,u.Y,b,i));else if(e&&r.model.AreaType=="cartesianaxes"){if(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.beginPath(),r.model.requireInvertedAxes?r.svgRenderer.ctx.rect(t.yAxis.x,t.xAxis.y,t.yAxis.width,t.xAxis.height):r.svgRenderer.ctx.rect(t.xAxis.x,t.yAxis.y,t.xAxis.width,t.yAxis.height),r.svgRenderer.ctx.clip(),r.model.chartRegions[r.model.regionCount]||c.indexOf("column")==-1&&c.indexOf("bar")==-1&&c.indexOf("waterfall")==-1){if(c.toLowerCase()=="boxandwhisker")for(w=0;w<u.length;w++)s.y=s.boxPlotLocation[w].YValues,n.drawDataLabel(t,o,s,u[w].X,u[w].Y,r.model.regionCount,i,u[w].outlier);else n.drawDataLabel(t,o,s,u.X,u.Y,r.model.regionCount,i);(c=="rangecolumn"||c=="rangearea"||c=="splinerangearea")&&(s.y=s.low,n.drawDataLabel(t,o,s,u.X,u.Y,r.model.regionCount,i),s.y=s.high)}r.svgRenderer.ctx.restore()}else{if(e&&p&&(r.svgRenderer.ctx.save(),r.svgRenderer.ctx.beginPath(),r.svgRenderer.ctx.arc(r.model.centerX,r.model.centerY,r.model.Radius,0,2*Math.PI,!1),r.svgRenderer.ctx.clip(),u.X-=r.canvasX,u.Y-=r.canvasY),c=="column"||c=="stackingcolumn"||c=="stackingcolumn100")r.model.chartRegions[r.model.regionCount]&&n.drawDataLabel(t,o,s,u.X,u.Y,r.model.regionCount,i);else if(c.toLowerCase()=="boxandwhisker")for(w=0;w<u.length;w++)s.y=s.boxPlotLocation[w].YValues,n.drawDataLabel(t,o,s,u[w].X,u[w].Y,r.model.regionCount,i,u[w].outlier);else n.drawDataLabel(t,o,s,u.X,u.Y,r.model.regionCount,i);(c=="rangecolumn"||c=="rangearea"||c=="splinerangearea")&&(s.y=s.low,n.drawDataLabel(t,o,s,u.X,u.Y,r.model.regionCount,i),s.y=s.high);e&&p&&r.svgRenderer.ctx.restore()}}})},cartesianSmartLabels:function(n,t){var d=t.length,g,nt,r,e,y,b,v,p,k,l,a,tt,it,i,w,rt,c,u,f,o,s,h;for(this.connectorFlag=!1,this.processCount=1,this.posObj={top:[],rightTop:[],left:[],leftTop:[],right:[],rightTop:[],rightBottom:[],leftBottom:[],bottom:[]},e=0;e<this.model.series.length;e++)if(g=this.model.series[e].marker.size.width,nt=this.model.series[e].marker.size.height,it=this.model.series[e].type.toLowerCase(),tt=ej.seriesTypes[it].prototype.isRegion,this.model.series[e].visibility!="hidden"&&this.model.series[e].marker.visible&&!tt)for(y=0;y<this.model.series[e]._visiblePoints.length;y++)i=this.model.series[e]._visiblePoints[y],b=i.location,this.model.markerRegion[this.model.markerRegion.length]={seriesIndex:e,xPos:b.X+this.canvasX,yPos:b.Y+this.canvasY,width:g,height:nt};for(rt=10,u=this.model.m_AreaBounds,w=0;w<d;w++)i=t[w],i.hide=!1,s=i.xPos,h=i.yPos,f=i.width,o=i.height,s-f/2<0&&s>-f/2&&(c=s-f/2,i.textOptions.x=i.xPos=s+Math.abs(c)+10,i.newConnectorFlag=!0),s+f/2>u.Width&&s+f/2<=u.Width+f/2&&(c=s-f/2,i.textOptions.x=i.xPos=u.Width-f/2-10,i.newConnectorFlag=!0),h+f/2>u.Height&&h+o/2<=u.Height+o/2&&(c=h+o/2-u.Height,i.yPos=h-c-10,i.textOptions.y=i.yPos+5,i.newConnectorFlag=!0),h-o/2<0&&h>-o/2&&(c=h-o/2,i.yPos=i.yPos+Math.abs(c)+10,i.textOptions.y=i.yPos+5,i.newConnectorFlag=!0);for(r=0;r<d;r++){if(ej.util.isNullOrUndefined(t[r].yPos))continue;else this.model.allPoints[this.model.allPoints.length]=t[r];this.connectorFlag=!1;this.compareDataLabels(r,t,0,this.processCount);i=t[r];i.connectorFlag=this.connectorFlag;t[r].dataLabeltemplate&&(k=$("#"+t[r].id),l=t[r].xPos,a=this.model.enableCanvasRendering?t[r].yPos+this.model.m_AreaBounds.Y:t[r].yPos,k.css("left",l).css("top",a),this.model.AreaType=="cartesianaxes"&&(u=this.model.m_AreaBounds,v=u.X+(this.model.requireInvertedAxes?n.yAxis.plotOffset:n.xAxis.plotOffset),p=n.yAxis.y,f=t[r].width,o=t[r].height,(l>v+u.Width||l+f<v||a+o<p||a+o>u.Y+u.Height||this.zoomed&&(l<v||a<p||l>v+u.Width||a>p+u.Height))&&k.remove()));this.storeDataLabelPositions(i)}},storeDataLabelPositions:function(n){var i=n.position,t=this.posObj;switch(i){case"top":t.top[this.processCount-1]=n;this.processCount=1;break;case"rightTop":t.rightTop[this.processCount-1]=n;this.processCount=1;break;case"right":t.right[this.processCount-1]=n;this.processCount=1;break;case"rightBottom":t.rightBottom[this.processCount-1]=n;this.processCount=1;break;case"bottom":t.bottom[this.processCount-1]=n;this.processCount=1;break;case"left":t.left[this.processCount-1]=n;this.processCount=1;break;case"leftBottom":t.leftBottom[this.processCount-1]=n;this.processCount=1;break;case"leftTop":t.leftTop[this.processCount-1]=n}},cartesianColumnSmartLabels:function(n,t){var tt=t.length,r,f,b,o,s,l,y,i,it,e,p,w,h,c,u,g,nt;for(this.connectorFlag=!1,this.processCount=1,this.model.outsideLabels=[],i=0;i<tt;i++){if(ej.util.isNullOrUndefined(t[i].yPos)||isNaN(t[i].yPos))continue;else this.model.allPoints[this.model.allPoints.length]=t[i];if(n._enableSmartLabels&&(this.connectorFlag=!1,this.compareColumnDataLabels(n,i,t,0,this.processCount)),it=n._visiblePoints[i],t[i].dataLabeltemplate){e=$("#"+t[i].id);e.css("left",t[i].xPos).css("top",t[i].yPos);r=t[i].xPos;f=t[i].yPos;t.height=e.outerHeight();var a=this.model.m_AreaBounds.X,v=this.model.m_AreaBounds.Y,k=this.model.m_AreaBounds.Width,d=this.model.m_AreaBounds.Height;t.width=e.outerWidth();o=e.width()/2;s=e.height();p=w=h=0;c=0;u=this.model.m_AreaBounds;l=u.X+(this.model.requireInvertedAxes?n.yAxis.plotOffset:n.xAxis.plotOffset);y=n.yAxis.y;b=r-o;n.marker.dataLabel.showEdgeLabels&&(r>l+u.Width||f+s>u.Y+u.Height||r<l||f<y||r>l+u.Width||f>y+u.Height||b>u.Width+u.X)&&(o=e.outerWidth(),r<a&&(w=a-r),d+v<f+s&&(g=f+s-(d+v),c=s-g),f<v&&(p=v-f),k+a<r+o&&(nt=r+o-(k+a),h=o-nt),h=h==0?o:h,c=c==0?s:c,document.getElementById(e[0].id).style.clip="rect("+p+"px,"+h+"px,"+c+"px,"+w+"px)")}}},compareColumnDataLabels:function(n,t,i,r){var g=this.model.allPoints.length-1,w=this.model.m_AreaBounds,b,e,a,l,k,f,v,o,u,s,d=n.marker.dataLabel.enableContrastColor,h=[],c=n.type.toLowerCase(),nt=new ej.seriesTypes[n.type.toLowerCase()],y,p;for(this.firstPoints=[],y=0;y<g;y++)if(o=this.model.allPoints[y],u=this.model.allPoints[this.model.allPoints.length-1],this.currentCollideLabel=o,s=5,a=n.marker.dataLabel,l=a.textPosition.toLowerCase(),rotation=a.angle,chartObj=this,e=this.isCollide(o,u,null,null,chartObj,rotation),e.state){if(c=="column"||c=="stackingcolumn"||c=="rangecolumn"||c=="waterfall"){if(u.textOptions.y=a.showEdgeLabels?u.yPos=u.yPos+e.height+s:l=="top"||l=="middle"?u.yPos=u.yPos+e.height+s:u.yPos=u.yPos-e.height-s,u.textOptions.y=u.textOptions.y+s+u.margin.top/2-u.margin.bottom/2,u.textOptions.y>w.Height){u.hide=!0;break}}else u.textOptions.x=l=="top"||l=="middle"?u.xPos=o.xPos-o.width/2-u.width/2-s:u.xPos=o.xPos+o.width/2+u.width/2+s;for(this.compareColumnDataLabels(n,t,i,r,this.processCount),b=this.checkOutsideLabels(this.model,u,w),f=0;f<this.model.allPoints.length;f++)f==0?this.firstPoints.push(this.model.allPoints[0]):this.firstPoints[this.firstPoints.length-1].x!=this.model.allPoints[f].x&&this.firstPoints.push(this.model.allPoints[f]);if(b||this.zoomed){for(v=0;v<=this.model.allPoints.length-1;v++)this._positionOutsideLabels(u,this.model.allPoints,v,c);this.model.outsideLabels.push(u)}if(d&&c.indexOf("stacking")>-1){for(p=this.model.chartRegions,f=0;f<this.model.chartRegions.length;f++)p[f].Region.PointIndex==t&&(e=this.isCollide(p[f],u,0,d,this)),e.state&&h.push(p[f]);if(h.length>5)break;else h.length>=1&&(k=jQuery.type(this.model.seriesColors[h[0].SeriesIndex])=="array"?this.model.seriesColors[h[0].SeriesIndex][0].color:this.model.seriesColors[h[0].SeriesIndex],u.textOptions.fill=nt._applySaturation(this,k))}}},_positionOutsideLabels:function(n,t,i,r){var e=t[i],f=5,u;if(i==0)if(u=this.isCollide(e,n),r&&(r=="column"||r=="stackingcolumn"||r=="rangecolumn"||r=="waterfall")){if(this.model.outsideLabels.length>0&&n.x==this.model.outsideLabels[this.model.outsideLabels.length-1].x)n.textOptions.y=n.yPos=this.model.outsideLabels[this.model.outsideLabels.length-1].yPos-u.height;else for(i=0;i<this.firstPoints.length;i++)n.x==this.firstPoints[i].x&&u.state?n.textOptions.y=n.yPos=this.firstPoints[i].yPos-u.height:t.length>1&&i<t.length-1&&(n.textOptions.y=n.yPos=t[i+1].yPos);n.textOptions.y=n.textOptions.y+f+n.margin.top/2-n.margin.bottom/2}else n.textOptions.x=n.xPos=this.model.outsideLabels.length>0?this.model.outsideLabels[this.model.outsideLabels.length-1].xPos:t[0].xPos+e.width/2+n.width/2+f;u=this.isCollide(e,n);u.state&&(r=="column"||r=="stackingcolumn"||r=="rangecolumn"||r=="waterfall"?(n.textOptions.y=n.yPos=n.yPos-u.height-f,n.textOptions.y=n.textOptions.y+f+n.margin.top/2-n.margin.bottom/2):n.textOptions.x=n.xPos=n.xPos+e.width/2+n.width/2+f)},compareDataLabels:function(n,t,i,r){var a=this.model.allPoints.length,h=this.model.m_AreaBounds,o,c,f,e,u,l,v,y,s=this.posObj;for(this.breakLoop=!1,c=0;c<a;c++)if(y=this.model.series[this.model.allPoints[c].seriesIndex].type.toLowerCase(),e=this.model.allPoints[c],u=this.model.allPoints[a-1],this.currentCollideLabel=e,f=10,l=this.isCollide(e,u,c),l.state||l.marker){this.connectorFlag=!0;switch(i){case 0:if(this.processCount>1&&this.resetValues(u),l.marker?(this.prevLabel=l.markerRegion,this.processCount=1):ej.util.isNullOrUndefined(this.prevLabel)?(this.prevLabel=e,this.processCount=1):(v=this.isCollide(this.prevLabel,u),v.state||(this.prevLabel=e,this.processCount=1)),this.resetValues(u),r>1&&s.right[this.processCount-2]?(e=s.right[this.processCount-2],u.textOptions.x=u.xPos=e.xPos+(e.width/2+u.width/2+f)):u.textOptions.x=u.xPos=this.prevLabel.xPos+(this.prevLabel.width/2+u.width/2+f),i+=1,u.position="right",this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 1:if(this.resetValues(u),u.textOptions.x=u.xPos=this.prevLabel.xPos+this.prevLabel.width/2+u.width/2+f,r>1&&s.rightBottom[this.processCount-2]?(e=s.rightBottom[this.processCount-2],u.textOptions.y=u.yPos=e.yPos+this.canvasY+e.height+f):u.textOptions.y=u.yPos=u.location.Y+this.canvasY+u.height+f/2,u.textOptions.y=u.textOptions.y+f/2+u.margin.top/2-u.margin.bottom/2,u.position="rightBottom",i+=1,this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 2:if(this.resetValues(u),u.textOptions.y=u.yPos=u.location.Y+this.canvasY+u.height+f/2,r>1&&s.bottom[this.processCount-2]?(e=s.bottom[this.processCount-2],u.textOptions.y=u.yPos=e.yPos+u.height+f):u.textOptions.y=u.yPos=u.location.Y+this.canvasY+u.height+f/2,u.textOptions.y=u.textOptions.y+f/2+u.margin.top/2-u.margin.bottom/2,u.position="bottom",i+=1,this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 3:if(this.resetValues(u),u.textOptions.x=u.xPos=this.prevLabel.xPos-this.prevLabel.width/2-u.width/2-f,r>1&&s.leftBottom[this.processCount-2]?(e=s.leftBottom[this.processCount-2],u.textOptions.y=u.yPos=e.yPos+this.canvasY+e.height+f):u.textOptions.y=u.yPos=u.location.Y+this.canvasY+u.height+f/2,u.textOptions.y=u.textOptions.y+f/2+u.margin.top/2-u.margin.bottom/2,u.position="leftBottom",i+=1,this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 4:if(this.resetValues(u),r>1&&s.left[this.processCount-2]?(e=s.left[this.processCount-2],u.textOptions.x=u.xPos=e.xPos-e.width/2-u.width/2-f):u.textOptions.x=u.xPos=this.prevLabel.xPos-this.prevLabel.width/2-u.width/2-f,u.position="left",i+=1,this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 5:if(this.resetValues(u),u.textOptions.x=u.xPos=this.prevLabel.xPos-this.prevLabel.width/2-u.width/2-f,r>1&&s.leftTop[this.processCount-2]?(e=s.leftTop[this.processCount-2],u.textOptions.y=u.yPos=e.yPos-(u.height+f)):u.textOptions.y=u.yPos=this.prevLabel.yPos-u.height-f,u.textOptions.y=u.textOptions.y+f/2+u.margin.top/2-u.margin.bottom/2,u.position="leftTop",i+=1,this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 6:if(this.resetValues(u),r>1&&s.top[r-2]?(e=s.top[r-2],u.textOptions.y=u.yPos=e.yPos-(u.height+f)):u.textOptions.y=u.yPos=this.prevLabel.yPos-this.processCount*(u.height+f),u.textOptions.y=u.textOptions.y+f/2+u.margin.top/2-u.margin.bottom/2,i+=1,u.position="top",this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 7:if(this.resetValues(u),u.textOptions.x=u.xPos=this.prevLabel.xPos+this.prevLabel.width/2+u.width/2+f,r>1&&s.rightTop[this.processCount-2]?(e=s.rightTop[this.processCount-2],u.textOptions.y=u.yPos=e.yPos-u.height-f):u.textOptions.y=u.yPos=this.prevLabel.yPos-u.height-f,u.textOptions.y=u.textOptions.y+f/2+u.margin.top/2-u.margin.bottom/2,u.position="rightTop",i+=1,this.breakLoop)break;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 8:if(i=0,this.processCount+=1,n==this.processCount)i=9;else if(o=this.checkOutsideLabels(this.model,u,h),!o){this.compareDataLabels(n,t,i,this.processCount);break}case 9:(n==this.processCount||this.processCount>a)&&(this.processCount-=1,i=i<0||i==8?0:i-1,this.breakLoop=!0)}}},checkOutsideLabels:function(n,t,i){var f=n.enableCanvasRendering,e=t.dataLabeltemplate,o,s,r,u;if(n.series[t.seriesIndex].marker.dataLabel.showEdgeLabels&&(r=f?t.xPos-this.canvasX:t.xPos,u=f?t.yPos-this.canvasY:t.yPos,o=e?i.Height+i.Y:i.Height,s=e?i.Width+i.X:i.width,r-t.width/2<0||r+t.width/2>s||u+t.height/2>o||u-t.height/2<0))return!0},drawPieofPieConnectors:function(n,t){var d=t.enableAnimation&&!t._animatedSeries?"hidden":"visible",i,s,r,k;this.model.enableCanvasRendering||(this.gConnectorLinesGroup?this.gConnectorLinesGroup.childNodes.length>0:this.gConnectorLinesGroup=this.svgRenderer.createGroup({id:this.svgObject.id+"_connectorLineGroup",visibility:d}),$(this.gConnectorLinesGroup.childNodes).remove());var f=[],e=[],h=[],u=[],c=-.5*Math.PI,v,o;for(i=0;i<2;i++){if(o=t.pieCollections[i],v=i==0?t.pieCoefficient:t.pieOfPieCoefficient,f[i]=.25*v*Math.min(n.width,n.height),e[i]=this.model.circleCenterX[i],e[i]=i==0?e[i]+this.model.pieGapWidth/2:e[i]-this.model.pieGapWidth/2,h[i]=this.model.circleCenterY[i],o[0].start>0&&o[0].end<Math.PI&&i==0)var y=o[0].start+c,p=o[0].end+c-1e-6,l=e[i]+f[i]*Math.cos(y),a=h[i]+f[i]*Math.sin(y),w=e[i]+f[i]*Math.cos(p),b=h[i]+f[i]*Math.sin(p);else l=e[i]+f[i]*Math.cos(c),a=h[i]+f[i]*Math.sin(c),w=l,b=a+f[i]*2;u.push({X1:l,Y1:a,X2:w,Y2:b})}for(s=t.connectorLine,r=0;r<2;r++)k={id:this.svgObject.id+"_connectorLine"+r,x1:r==0?u[r].X1:u[r-1].X2,y1:r==0?u[r].Y1:u[r-1].Y2,x2:r==0?u[r+1].X1:u[r].X2,y2:r==0?u[r+1].Y1:u[r].Y2,stroke:s.color,"stroke-width":s.width,opacity:s.opacity,"stroke-dasharray":s.dashArray},this.svgRenderer.drawLine(k,this.gConnectorLinesGroup);this.svgRenderer.append(this.gConnectorLinesGroup,this.gSeriesEle)},drawConnectorLines:function(n,t,i){var c=!1,e=!0,o=i.xPos,s=i.yPos,h=this.model.m_AreaBounds,l=this.model.series[n].marker.dataLabel,u=i.location?i.location:i.symbolLocation,r;if(u.Y>i.textOptions.y?r=i.textOptions.y:(c=!0,r=i.textOptions.y-i.height/2),i.dataLabeltemplate?(r=i.yPos-this.model.m_AreaBounds.Y+i.height,i.textOptions.x=i.textOptions.x-this.model.m_AreaBounds.X+i.width/4+this.canvasX):(o>h.Width||o+i.width<0||s-i.height>h.Height||s+i.height<0)&&!l.showEdgeLabels&&(e=!1),e){var a="M "+(u.X+this.canvasX)+" "+(u.Y+this.canvasY)+" L "+i.textOptions.x+" "+r,f=this.model.series[n].marker.dataLabel.connectorLine,v=ej.util.isNullOrUndefined(f.color)?this.model.series[n].fill:f.color,y={id:this.svgObject.id+"_dataLabelConnectorLine_series"+n+"_"+t,stroke:v,"stroke-width":f.width,d:a};this.model.series[n].connectorLines=!0;this.svgRenderer.drawPath(y,this.gConnectorEle[n])}},resetValues:function(n){n.textOptions.y=n.dataLabel.textY;n.yPos=n.dataLabel.y;n.textOptions.x=n.dataLabel.textX;n.xPos=n.dataLabel.x},isCollide:function(n,t,i,r,u,f){var ut=0,ft=0,o=!1,p=!1,s,w,e,b,k,d,g,et,rt,y;if(r)s=n.Region.Bounds,w=u.model.m_AreaBounds,e={X:s.X-w.X,Y:s.Y-w.Y,Width:s.Width,Height:s.Height},t.symbolName!="None"?(b=t.xPos,k=t.xPos+t.width,d=t.yPos-t.height/2,g=t.yPos+t.height/2):(b=t.textOptions.x-t.width/2,k=t.textOptions.x+t.width/2,d=t.textOptions.y-(t.textOptions.angle==90||t.textOptions.angle==-90?t.height/2:t.height),g=t.textOptions.y+(t.textOptions.angle==90||t.textOptions.angle==-90?t.height/2:0)),o=e.X<k&&e.X+e.Width>b&&e.Y<g&&e.Y+e.Height>d;else{et=(n.seriesIndex?this.model.series[n.seriesIndex].marker.dataLabel.border.width:0)+(t.seriesIndex?this.model.series[t.seriesIndex].marker.dataLabel.border.width:0);var nt=this.model.series,h=nt[n.seriesIndex],ot=nt[t.seriesIndex],tt=n.xPos,it=n.yPos,st=t.xPos,ht=t.yPos;n.xPos+=h.xAxis.x;n.yPos+=h.yAxis.y;t.xPos+=ot.xAxis.x;t.yPos+=ot.yAxis.y;var l=n.height,c=n.width,a=t.height,v=t.width;if(f&&(rt=f>360?f-360:f<-360?f+360:f,(rt==90||rt==-90)&&(l=n.width,c=n.height,a=t.width,v=t.height)),n!=t&&(o=!(n.yPos+l<t.yPos||n.yPos>t.yPos+a||n.xPos+c/2+et<=t.xPos-v/2||n.xPos-c/2>=t.xPos+v/2),o&&(ft=n.yPos+l-t.yPos,ut=n.xPos+c-t.xPos),n.xPos=tt,n.yPos=it),!o)for(y=0;y<this.model.markerRegion.length;y++)if(n=this.model.markerRegion[y],h=nt[n.seriesIndex],tt=n.xPos,it=n.yPos,n.xPos+=h.xAxis.x,t.yPos+=h.yAxis.y,p=!(n.yPos+l<t.yPos-a/2||n.yPos>t.yPos+a||n.xPos+c<t.xPos||n.xPos>t.xPos+v),p)break;n.xPos=tt;n.yPos=it;t.xPos=st;t.yPos=ht}return{state:o,marker:p,markerRegion:n,width:ut,height:ft}},drawAccDisplayText:function(n,t,i){var e=this,c=t._visiblePoints.length,f,o,s,u,r,h;if(e.firstStartAngle=[],f=t.type.toLowerCase(),f!="pyramid"&&f!="funnel"&&f!="pieofpie"&&(t.leftsidePoints.length>0||t.rightsidePoints.length>0)){for(o=t.rightsidePoints.length,s=t.leftsidePoints.length,r=0;r<o;r++)t.rightsidePoints[r].index=r,n.drawDataLabelAcc(e,t,t.rightsidePoints[r].pointIndex,t.rightsidePoints[r],i);for(u=s-1;u>=0;u--)t.leftsidePoints[u].index=u,n.drawDataLabelAcc(e,t,t.leftsidePoints[u].pointIndex,t.leftsidePoints[u],i)}else for(r=0;r<c;r++)(t._visiblePoints[r].index=r,h=f=="pieofpie"?t._visiblePoints[r].actualIndex:r,t._visiblePoints[r].start!=t._visiblePoints[r].startAngle&&(t._visiblePoints[r].startAngle=t._visiblePoints[r].start),isNaN(t._visiblePoints[r].startAngle)&&t.type.toLowerCase()=="pie"&&t.type.toLowerCase=="pieofpie")||n.drawDataLabelAcc(e,t,h,t._visiblePoints[r],i,t.collectionIndex);(t.type.toLowerCase()=="pyramid"||t.type.toLowerCase()=="funnel")&&(this.svgRenderer.append(this.gConnectorEle,this.gSeriesEle),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.svgRenderer.append(this.gDataLabelEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.vmlRendering||this.svgRenderer.append(this.svgObject,this.element))},_processOData:function(n){var t=this,i=n.type.toLowerCase(),r=n.dataSource.executeQuery(n.query);r.done(function(r){var f,e,u,o;for(t._processJsonData(r.result,n),n.visibility="visible",$(t.svgObject).empty(),$(t.legendSvgContainer).empty(),t.model.enableCanvasRendering&&(t.svgRenderer.ctx.clearRect(0,0,t.svgObject.width,t.svgObject.height),$("#canvas_trackSymbol").remove()),f=!0,e=i!="pie"||i!="doughnut"?0:t.model.series.length-1,u=e;o=i!="pie"||i!="doughnut"?u<t.model.series.length:u>=0;i!="pie"||i!="doughnut"?u++:u--)if(t.model.series[u].dataSource&&t.model.series[u].visibility=="hidden"){f=!1;break}f&&t.draw()});r.fail(function(){var r,i;for(n.visibility="visible",$(t.svgObject).empty(),$(t.legendSvgContainer).empty(),r=!0,i=0;i<t.model.series.length;i++)if(t.model.series[i].dataSource&&t.model.series[i].visibility=="hidden"){r=!1;break}r&&t.draw()})},_findDatatype:function(n,t){var u,i,r;if(n.xAxisName==null)u=t.model.primaryXAxis.valueType!=null&&t.model.primaryXAxis.valueType.toLowerCase()=="datetime"?!0:!1;else for(i=0;i<t.model._axes.length;i++)r=t.model._axes[i],u=r.name==n.xAxisName&&r.valueType!=null&&r.valueType.toLowerCase()=="datetime"?!0:!1;return u},_processJsonData:function(n,t){var r=t.xName,i=t.yName,c=t.pointColorMappingName,l=t.marker&&t.marker.dataLabel&&t.marker.dataLabel.textMappingName,e=t.type.toLowerCase(),f=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg")?n.length:n[n.length-1]===undefined?n.length-1:n.length,p=i.length,a=e=="bubble",o=!!n[0][r].indexOf||(t._hiloTypes?n[0][t.high]&&n[0][t.high].indexOf:!!(n[0][i]==0?0:n[0][i]||n[0][t.size]||0).indexOf),v=o&&n[0][r].indexOf&&n[0][r].indexOf("/Date(")!=-1,u=0,s,h,y=this.model._hiddenPointIndex;if(t.points=new Array(f),o)e!="boxandwhisker"&&this._processStringData(n,t,r,i,v,f);else while(u<f)s=n[u][r],t._hiloTypes||(h=typeof n[u][i]=="string"?parseFloat(n[u][i]):n[u][i]),t.points[u++]={x:s,xValue:s,y:h,YValues:[h]};return e=="boxandwhisker"&&this._processBoxandWhiskerData(n,t,r,i,v),(a||c.length>0||l.length>0||y.length>0)&&this._processBubbleSize(n,t,o,c,l,y,a,f),t._hiloTypes&&this._processHiLoValues(n,t,o,e,f),0},_processBoxandWhiskerData:function(n,t,i,r,u){for(var e=0,s=n.length,f,o,h=n[0][i].indexOf&&n[0][i].indexOf("/Date(")!=-1;e<s;)f=n[e][i],u&&(f=new Date(h?parseInt(f.substr(6)):f)),o=n[e][r],t.points[e++]={x:f,xValue:f,y:o,YValues:[o]}},_processStringData:function(n,t,i,r,u,f){for(var o=0,e,s,h=n[0][i].indexOf&&n[0][i].indexOf("/Date(")!=-1;o<f;)e=n[o][i],!u||e instanceof Date||(e=new Date(h?parseInt(e.substr(6)):e)),s=parseFloat(n[o][r]),t.points[o++]={x:e,xValue:e,y:s,YValues:[s]}},_processBubbleSize:function(n,t,i,r,u,f,e,o){for(var h,s=0;s<o;s++)h=t.points[s],h.YValues[0]=i?parseFloat(n[s][t.yName]):n[s][t.yName],e&&(h.size=h.YValues[1]=i?parseFloat(n[s][t.size]):n[s][t.size]),r.length>0&&(h.fill=n[s][r]),u.length>0&&(h.text=n[s][u]),f.length>0&&s==f[s]&&(h.visibility="hidden")},_processHiLoValues:function(n,t,i,r,u){for(var f,e,o=0;o<u;o++)f=t.points[o],e=n[o],f.y=f.high=f.YValues[0]=i?this.tryParseFloat(e[t.high]):e[t.high],f.low=f.YValues[1]=i?this.tryParseFloat(e[t.low]):e[t.low],r!="hilo"&&r!="rangecolumn"&&r!="waterfall"&&(f.open=f.YValues[2]=i?this.tryParseFloat(e[t.open]):e[t.open],f.close=f.YValues[3]=i?this.tryParseFloat(e[t.close]):e[t.close],t.volume&&(f.volume=f.YValues[4]=i?this.tryParseFloat(e[t.volume]):e[t.volume]))},tryParseFloat:function(n){return n&&n.length>0?parseFloat(n):n},bindTo:function(n){var r=this.model,o=r.series,h,s,u,c,f,e,i,t;for($("#"+this.svgObject.id+"_CrosshairVertical").remove(),$("#"+this.svgObject.id+"_CrosshairHorizontal").remove(),$.finish?($(".ejTooltip"+this._id).finish(),$(".tooltipDiv"+this._id).finish()):($(".ejTooltip"+this._id).stop(!0,!0),$(".tooltipDiv"+this._id).stop(!0,!0)),$(document).find('[id*="_TrackToolTip"]').remove(),$("#template_group_"+this._id).remove(),this.isChartElemId&&this.createElementsId(),r.primaryXAxis._valueType=null,r.primaryXAxis.position=null,r.primaryYAxis._valueType=null,r.primaryYAxis.position=null,r.requireInvertedAxes=!1,r._hiddenPointIndex=[],h=o.length,s=r.axes.length,i=0;i<s;i++)u=r.axes[i],u._valueType=null,u.position=null;if(r._axes)for(s=r._axes.length,f=0;f<s;f++)u=r._axes[f],u._valueType=null,u.position=null,u.zoomFactor=u._pointsLength&&u._pointsLength!=u.scrollbarSettings.pointsLength?1:u.zoomFactor;for(i=0;i<h;i++){if(t=o[i],c=["y","high","low","open","close"],!ej.isNullOrUndefined(t.points))for(f=0;f<t.points.length;f++)c.map(function(n){var i=t.points[f][n];ej.isNullOrUndefined(i)||(t.points[f][n]=typeof i=="string"?parseFloat(i):i)});t.position=null;t.fill&&this.model.seriesColors&&t.fill!=this.model.seriesColors[i]&&(o[i].isFill=!0)}if(r.AreaType&&r.AreaType=="none")for(t=o[0],i=0;t.points&&i<t.points.length;i++)e=t.points[i],e._visibility=="hidden"&&r.AreaType=="none"&&o.length==1&&(this.model._hiddenPointIndex[i]=i),e.isFill=e.fill&&r.pointColors&&e.fill!=r.pointColors[i]||e.isFill,e.fill=e.isFill?e.fill:null;if(r.enable3D&&(ej.Ej3DRender.transform=null),o){if(this.setModelProperties(n),!n)for(i=0;i<o.length;i++)t=o[i],(t.visibility==null||t.visibility==undefined)&&(t.visibility="visible"),t.type&&(t._hiloTypes=t.type.toLowerCase()=="polar"||t.type.toLowerCase()=="radar"?ej.seriesTypes[t.drawType.toLowerCase()].prototype.hiloTypes:ej.seriesTypes[t.type.toLowerCase()].prototype.hiloTypes),t.points||(t.points=[]),t.dataSource&&(t.dataSource instanceof ej.DataManager?(t.visibility="hidden",!ej.isNullOrUndefined(t.query)&&t.query instanceof ej.Query||(t.query=ej.Query()),this._processOData(t)):t.dataSource.length>0&&((typeof t.dataSource=="string"||t.dataSource.toLowerCase)&&(t.dataSource=JSON.parse(t.dataSource.replace(/'''/g,'"'))),this._processJsonData(t.dataSource,t)));$(this.svgObject).width()>0&&this.draw(n)}},_createChartId:function(){var i=!1,n=0,t=$(this.element)[0].className.split(" ")[0];do $("#"+t+"_"+n).length||($(this).attr("_id",t+"_"+n),$(this.element).attr("id",t+"_"+n),i=!0),n++;while(!i);this.isChartElemId=!0},createElementsId:function(){this.legendContainer.attr("id","legend_"+this._id);this.scrollerContainer.attr("id","legend_Scroller"+this._id);this.chartContainer.attr("id","chartContainer_"+this._id);this.axisScroll.attr("id","axisScrollbar_"+this._id);$(this.svgObject).attr("id",this._id+(this.model.enableCanvasRendering?"_canvas":"_svg"))},calculateHeight:function(n){var i=$(n.svgObject),r=n.model.size.height,u=$(n.element).height(),t=u/100*parseInt(r);return i.height(t),t},calculateWidth:function(n){var i=$(n.svgObject),r=n.model.size.width,u=$(n.element).width(),t=u/100*parseInt(r);return i.width(t),t},selectedStyle:function(n){for(var r=$("#"+n._id).find('[class*="Selection"]'),i=[],t=0;t<r.length;t++)i[t]=[],i[t].id=r[t].id,i[t].className=$("#"+i[t].id).attr("class");return $("[id $= Def ]").length>0&&(i.pattern=$("[id $= Def ]")),i},chartResize:function(){var n=this,i=$(n.svgObject),t=this.selectedStyle(n),r,u,f;this.removeMultiRect();this._chartResize=!0;this.model.enableCanvasRendering&&($("[id*="+this._id+"_Selection_]").remove(),$("#canvas_trackSymbol").remove(),r=n.svgObject.getContext("2d"),r.clearRect(0,0,this.svgRenderer.svgObj.width,this.svgRenderer.svgObj.height),typeof n.model.size.width=="string"&&n.model.size.width.indexOf("%")!=-1?(u=n.calculateWidth(n),this.svgRenderer.svgObj.width=u):this.svgRenderer.svgObj.width=$("#"+this._id).width(),typeof n.model.size.height=="string"&&n.model.size.height.indexOf("%")!=-1?(f=n.calculateHeight(n),this.svgRenderer.svgObj.height=f):this.svgRenderer.svgObj.height=ej.util.isNullOrUndefined(this.model.size.height)?"450":parseInt($(n.element).height()));this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){var u,r;if(!ej.util.isNullOrUndefined(n.model)&&(typeof n.model.size.width=="string"&&n.model.size.width.indexOf("%")!=-1?n.calculateWidth(n):i.width($(n.element).width()),typeof n.model.size.height=="string"&&n.model.size.height.indexOf("%")!=-1?n.calculateHeight(n):i.height(n.model.size.height),$(n.svgObject).width()>0)){for($(n.svgObject).empty(),$(n.legendSvgContainer).empty(),$("#template_group_"+n._id).remove(),$("#annotation_group_"+n._id).remove(),n.disableAnimation(),u=0;u<n.model.series.length;u++)n.model.series[u].regionAdded=!1;for(n.draw(),r=0;r<t.length;r++)$("#"+t[r].id).attr("class",t[r].className);t.pattern&&n.svgRenderer.append(t.pattern,n.svgObject);n.zoomed&&!n.vmlRendering&&n._enableZoomingButtons();n.enableAnimation()}},500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},isWindows:function(){if(!ej.getBooleanVal($("head"),"data-ej-android")&&!ej.getBooleanVal($("head"),"data-ej-ios")&&!ej.getBooleanVal($("head"),"data-ej-ios7")&&!ej.getBooleanVal($("head"),"data-ej-flat"))return this._windows()},_windows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())||ej.getBooleanVal($("head"),"data-ej-windows",!1)===!0},bindResizeEvents:function(){if(this.model._resizeEventRegistered)return 0;ej.isTouchDevice()&&this._isOrientationSupported()?this._on($(window),"orientationchange",this.chartResize):this._on($(window),"resize",this.chartResize);this.model._resizeEventRegistered=!0},removeResizeEvents:function(){this.model._resizeEventRegistered&&(ej.isTouchDevice()&&this._isOrientationSupported()?this._off($(window),"orientationchange",this.chartResize):this._off($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!1)},_isOrientationSupported:function(){return"orientation"in window&&"onorientationchange"in window},_calculatePinchZoomPosition:function(n){var i=this.model.m_AreaBounds,f,l=this.model._axes,t,a=n.originalEvent.touches&&n.originalEvent.touches.length>0?n.originalEvent.touches[0]:n.originalEvent,r=a.pageX,u=a.pageY,e=this.previousPanTouch,o,s,h,c=0,v=l.length;if(r>i.X&&r<i.X+i.Width&&u>i.Y&&u<i.Y+i.Height){if(e||(e=this.previousPanTouch={pageX:r,pageY:u}),ej.isTouchDevice()||this.model.zooming.enableDeferredZoom)return this.oPreviousCoords={x:this.previousPanTouch.pageX,y:this.previousPanTouch.pageY},this.chartMouseMove(n);for(;c<v;c++)t=l[c],s=t.orientation.toLowerCase()=="horizontal",h=s?(e.pageX-r)/t.width*t.zoomFactor:(e.pageY-u)/t.height*t.zoomFactor,f=t.zoomPosition,t.zoomPosition=this._ensureValueInMinMax(s?f+h:f-h,0,1-t.zoomFactor),o=o||f!=t.zoomPosition;this.previousPanTouch={pageX:r,pageY:u};o&&!this.chartUpdating&&(this.redraw(!0,o,n.target),this._enableZoomingButtons())}},_calculateTouchDistance:function(n,t){for(var r=[],i=0,u=t.length;i<u;i++)n[i]==null&&(n[i]=t[i]),r[i]={},i>0&&(r[i].scaleX=n[0].pageX!=n[1].pageX&&(t[0].pageX-t[1].pageX)/(n[0].pageX-n[1].pageX),r[i].scaleY=n[0].pageY!=n[1].pageY&&(t[0].pageY-t[1].pageY)/(n[0].pageY-n[1].pageY),r[i].center={x:(n[0].pageX+t[0].pageX)/2,y:(n[1].pageY+t[1].pageY)/2});return r},_ensureValueInMinMax:function(n,t,i){return n<t?t:n>i?i:n},_calculatePinchZoomFactor:function(n,t,i){var v=this.model,e=v._axes,u=!0,o,s,y,p,h,r,c,w,b=v.m_AreaBounds,l,a=1e4,f=0,k=e.length;if(t=t=="x"?"horizontal":t=="y"?"vertical":null,this.previousScale!=null){for(;f<k;f++)if(!t||e[f].orientation===t){if(r=e[f],s=r.orientation=="horizontal"?n[1].scaleX:n[1].scaleY,!s)break;l=r.orientation=="horizontal"?this.previousScale[1].scaleX:this.previousScale[1].scaleY;c=r.zoomFactor;w=r.zoomPosition;h=this._ensureValueInMinMax(1/r.zoomFactor,1,a);p=this._ensureValueInMinMax(h+h*(s-l)/l,1,a);y=r.orientation=="horizontal"?n[1].center.x/b.Width:1-n[1].center.y/b.Height;r.zoomFactor=this._ensureValueInMinMax(1/p,1/a,1);r.zoomPosition=this._ensureValueInMinMax(w+(c-r.zoomFactor)*y,0,1-r.zoomFactor);o=o||c!=r.zoomFactor;u=u&&r.zoomFactor==1}!o||u||this.chartUpdating?u&&this.zoomed&&!this.chartUpdating&&(this.redraw(!0,!0,i),this.zoomed=!1,this._removeZoomkit()):(this.zoomed=!0,this.redraw(!0,!0,i),this._enableZoomingButtons())}this.previousScale=n},_addTouchPointer:function(n,t,i,r){for(r=n.length;r--;)if(t.pointerId==n[r].pointerId)return i&&(n[r]=t),0;n.push(t)},_removeTouchPointer:function(n,t,i){for(i=n&&n.length;i--;)if(t.pointerId==n[i].pointerId)return n.splice(i,1),0},_copyTouches:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]={pageX:n[t].pageX,pageY:n[t].pageY};return i},_initEventParams:function(){return{touches:[],movements:[]}},_pointerPinchStart:function(n){var t=n.originalEvent,i,u=this.model,r=u.m_AreaBounds,s=$(this.element).offset(),f=this.eventParams||(this.eventParams=this._initEventParams()),e=(t.pageX||t.changedTouches[0].pageX)-s.left,o=(t.pageY||t.changedTouches[0].pageY)-s.top;this.model.selectionEnable&&(this.cancelEvent(n),t.preventDefault());!u.enable3D&&u.AreaType=="cartesianaxes"&&t.pointerType!="mouse"&&t.pointerType!=4&&u.zooming.enable&&u.zooming.enablePinching&&(t.touches||t.pointerId)?(i=n.target.id,i.indexOf("ResetZoom")!=-1?this.resetZoom(n):i.indexOf("panIcon")!=-1?this.startPan(n):i.indexOf("ZoomIcon")!=-1?this.startZoom(n):i.indexOf("ZoomOut")!=-1||i.indexOf("ZoomIn")!=-1?this.startZoomInOut(n):e>r.X&&e<r.X+r.Width&&o>r.Y&&o<r.Y+r.Height?(t.touches?f.touches=this._copyTouches(t.touches):this._addTouchPointer(f.touches,{pageX:e,pageY:o,pointerId:t.pointerId}),f.touches.length<2&&this.chartMouseDown(n)):this.chartMouseDown(n)):this.chartMouseDown(n)},_removeInteractions:function(){$("[id*=_TrackSymbol]").remove();this._removeTrackBall();this._removeHighlight();$("#"+this.svgObject.id+"_TrackToolTip").hide();$("#"+this._id+"_tooltip").remove()},_pinchGestureMove:function(n){var r=n.originalEvent.changedTouches[0],u=n.originalEvent.touches,t=this.model,f=$(this.element).offset(),i=t.m_AreaBounds,e=r.pageX-f.left,o=r.pageY-f.top;this.eventParams=this.eventParams||this._initEventParams(t,r);!t.enable3D&&t.AreaType=="cartesianaxes"&&r.pointerType!="mouse"&&r.pointerType!=4&&t.zooming.enable&&t.zooming.enablePinching&&u?e>i.X&&e<i.X+i.Width&&o>i.Y&&o<i.Y+i.Height?(this._removeInteractions(),u.length>1?this._calculatePinchZoomFactor(this._calculateTouchDistance(this.eventParams.touches,u),t.zooming.type,n.target):this.doPan||this.panning?this._calculatePinchZoomPosition(n):this.chartMouseMove(n)):this.chartMouseMove(n):this.chartMouseMove(n)},_pointerPinchMove:function(n){var u,h=0,i=n.originalEvent,c=$(this.element).offset(),e=i.pageX-c.left,o=i.pageY-c.top,f=this.model,l=this.eventParams||this._initEventParams(f,i),t=l.touches,s=this.previousPointerMove,a=t.length,r=l.movements;if(s!=null&&s.pageX==i.pagex&&s.pageY==i.pageY&&s.pointerId==n.pointerId)return!1;if(!f.enable3D&&f.AreaType=="cartesianaxes"&&i.pointerType!="mouse"&&i.pointerType!=4&&f.zooming.enable&&f.zooming.enablePinching){if(u=f.m_AreaBounds,e>u.X&&e<u.X+u.Width&&o>u.Y&&o<u.Y+u.Height)if(this._addTouchPointer(t,{pageX:e,pageY:o,pointerId:i.pointerId}),t&&t.length>1){for(;h<a;h++)this._addTouchPointer(r,t[h],!1);this._addTouchPointer(r,{pageX:e,pageY:o,pointerId:i.pointerId},!0);r[0].pageX==t[0].pageX&&r[1].pageX==t[1].pageX&&r[0].pageY==t[0].pageY&&r[1].pageY==r[1].pageY||this._calculatePinchZoomFactor(this._calculateTouchDistance(t,r),this.model.zooming.type,n.target)}else this.doPan||this.panning?this._calculatePinchZoomPosition(n):this.chartMouseMove(n);else t.length>0&&this._removeTouchPointer(t,n),r.length>0&&this._removeTouchPointer(r,n),this.chartMouseMove(n);this.previousPointerMove={pageX:e,pageY:o,pointerId:i.pointerId}}else this.chartMouseMove(n)},_pointerPinchEnd:function(n){var i=this.model,t=n.originalEvent,r=this.eventParams||(this.eventParams=this._initEventParams(i,t)),u=t.type.indexOf("leave")!=-1||t.type.indexOf("out")!=-1||t.type.indexOf("Out")!=-1;!i.enable3D&&i.AreaType=="cartesianaxes"&&t.pointerType!="mouse"&&t.pointerType!=4&&i.zooming.enable&&i.zooming.enablePinching&&(t.touches||t.pointerId)?(this.continuePinching!=null&&this.svgObject.removeChild(this.svgObject.firstChild),this.continuePinching=this.previousPanTouch=this.previousScale=null,t.touches?(this.eventParams=null,this.chartMouseUp(n),u&&this.chartMouseLeave(n)):(this._removeTouchPointer(r.touches,{pointerId:t.pointerId}),r.movements.length>0&&this._removeTouchPointer(r.movements,{pointerId:t.pointerId}),r.touches.length==0&&(this.chartMouseUp(n),u&&this.chartMouseLeave(n),this.eventParams=null))):(this.chartMouseUp(n),u&&this.chartMouseLeave(n))},_appendStyle:function(n){var i="#"+n+".e-canvas * {touch-action:none; -ms-touch-action:none}",r=document.head||document.body,t=document.createElement("style");t.type="text/css";t.appendChild(document.createTextNode(i));r.appendChild(t)},bindEvents:function(){var f=jQuery.uaMatch(navigator.userAgent),i=ej.EjSvgRender.utils.browserInfo(),t=i.isMSPointerEnabled,n=i.pointerEnabled,e=t?n?"pointerdown":"MSPointerDown":"touchstart mousedown",o=t?n?"pointerup":"MSPointerUp":"touchend mouseup",s=t?n?"pointermove":"MSPointerMove":"touchmove mousemove",h=t?n?"pointerleave":"MSPointerOut":"touchleave mouseleave",r,u;this.model.browserInfo=i;window.navigator.maxTouchPoints>1&&window.PointerEvent||window.PointerEventsPolyfill?(this._on(this.element,"pointerup pointerleave",this._pointerPinchEnd),this._on(this.element,"pointerdown",this._pointerPinchStart),this._on(this.element,"pointermove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):window.TouchEvent?(this._on(this.element,"touchstart",this._pointerPinchStart),this._on(this.element,"touchmove",this._pinchGestureMove),this._on(this.element,"touchend",this._pointerPinchEnd),this._on($(this.element),"mousedown",this.chartMouseDown),this._on($(this.element),"mousemove",this.chartMouseMove),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on($(document),"mouseup",this.chartMouseUp),this._appendStyle(this.element[0].id)):window.navigator.msMaxTouchPoints&&window.navigator.msPointerEnabled?(this._on(this.element,"MSPointerUp",this._pointerPinchEnd),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on(this.element,"MSPointerDown",this._pointerPinchStart),this._on(this.element,"MSPointerMove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):(this._on(this.element,s,this.chartMouseMove),this._on(this.element,h,this.chartMouseLeave),this._on($(document),o,this.chartMouseUp),this._on($(this.element),e,this.chartMouseDown));this._isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);(this.isDevice()&&this._isSafari)!=!0&&this._on($(this.element),"click",this.chartMouseClick);this._on($(this.element),"contextmenu",this.chartRightClick);this._on($(this.element),"dblclick",this.chartMouseDoubleClick);(this.model.canResize||this.model.isResponsive)&&this.bindResizeEvents();r=this.model.zooming.enable||this.model.commonSeriesOptions.dragSettings.enable?"none":"pan-y";$(this.element).css({"ms-touch-action":r,"touch-action":r,"content-zooming":"none"});$(this.element).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"});u=f.browser.toLowerCase()=="mozilla"?n?"mousewheel":"DOMMouseScroll":"mousewheel";this._on(this.element,u,this.chartMouseWheel)},calZoomFactors:function(n,t,i,r){var u,f;return n==1?(u=1,f=0):(u=ej.EjSvgRender.utils._minMax(1/n,0,1),f=r+(i-u)*t),{zoomMFactor:u,zoomMPosition:f}},doMouseWheelZoom:function(n,t,i){if(n>=1){var r=this.calZoomFactors(n,t,i.zoomFactor,i.zoomPosition);if(i.zoomPosition!=r.zoomMPosition||i.zoomFactor!=r.zoomMFactor)return this.zoomed=!0,i.zoomPosition=r.zoomMPosition,i.zoomFactor=r.zoomMPosition+r.zoomMFactor>1?1-r.zoomMPosition:r.zoomMFactor,!0}return!1},enableAnimation:function(){for(var t,n=0;n<this.model.series.length;n++)t=this.model.series[n],t.enableAnimation=this.serAnimation[n]},disableAnimation:function(){for(var t,n=this,i=0;i<n.model.series.length;i++)n.model.series[i].enableAnimation=!1;for(t=0;t<n.model.indicators.length;t++)n.model.indicators[t].enableAnimation=!1},_removeTrackBall:function(){var t="#"+this.svgObject.id,n;$("#"+this.svgObject.id+"_trackSymbol").remove();$(document).find("#measureTex").remove();this.chartCross.visible&&(n=$(this.svgObject).find(t+"_AxisCrossToolTip"),this.svgRenderer._setAttr($(n),{visibility:"hidden"}),n=$(this.svgObject).find(t+"_CrosshairVertical"),this.svgRenderer._setAttr($(n),{d:"M 0 0"}),n=$(this.svgObject).find(t+"_CrosshairHorizontal"),this.svgRenderer._setAttr($(n),{d:"M 0 0"}),n=$(this.svgObject).find(t+"_TrackAxisToolTip"),this.svgRenderer._setAttr($(n),{visibility:"hidden"}),n=$(this.svgObject).find(t+"_Tracker"),this.svgRenderer._setAttr($(n),{d:"M 0 0"}),n=$(this.svgObject).find('[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(n),{visibility:"hidden"}),n=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(n),{visibility:"hidden"}),$(n).css("visibility","hidden"),n=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(n),{visibility:"hidden"}),$(document).find('[id*="_TrackToolTipTemplate_"]').attr("visibility","hidden"),$(document).find('[id*="_TrackToolTipTemplate_"]').css("display","none"),$(t+"_CrosshairVertical").css("display","none"),$(t+"_CrosshairHorizontal").css("display","none"),$("#"+this._id).find('[id*="canvas_AxisToolTipRect"]').css("visibility","hidden"),$("#"+this._id).find('[id*="canvas_Tracker"]').remove(),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#secondCanvas").remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$("#"+this._id).find('[id*="_trackball_grouping_tooltip"]').remove())},enableTrackBall:function(){this.model.crosshair.visible=this.chartCross.visible;this.model.crosshair.type=this.chartCross.mArea},disableTrackBall:function(){this.model.crosshair.visible=!1;this._removeTrackBall()},_enableZoomingButtons:function(){var n=this.svgObject.id,e,u,t,f,r,i;if(this.model.AreaType!="cartesianaxes"&&($("#"+n+"_ResetZoom").remove(),$("#"+n+"_PanBtn").remove(),$("#"+n+"_ZoomBtn").remove(),$("#"+n+"_ZoomInBtn").remove(),$("#"+n+"_ZoomOutBtn").remove()),this.model.AreaType=="cartesianaxes")for(this._removeZoomkit(),e=this.model.zooming.isReversed,this.toolbarItems||(this.toolbarItems=$.extend(!0,[],this.model.zooming.toolbarItems),this.toolbarItems.reverse()),u=e?this.toolbarItems:this.model.zooming.toolbarItems,t=u.length,i=t-1;i>=0;i--){f=u[i];r=t-i;switch(f){case"reset":this.resetZoomButton(r);break;case"pan":this.panButton(r);break;case"zoom":case"zoomIn":case"zoomOut":this.zoomButton(r,f);break;default:t=t-1}}},chartMouseWheel:function(n){var i,o,u,t,h,c,e;if($("#"+this.svgObject.id+"_TrackToolTip").hide(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$(this.svgObject).find('[id*="_trackSymbol_"]').remove(),this.model.zooming.enableMouseWheel&&this.model.AreaType=="cartesianaxes"&&!this.model.enable3D&&!this.vmlRendering&&ej.util.isNullOrUndefined(this.model.isLazyZooming)){i=this;this.zoomed=!1;var f=!1,r="#"+i.svgObject.id,e=jQuery.uaMatch(navigator.userAgent),l=!!navigator.userAgent.match(/Trident\/7\./),s=n.originalEvent.wheelDelta,a=e.browser.toLowerCase()=="mozilla"?l?s/120>0?1:-1:-n.originalEvent.detail/3>0?1:-1:s/120>0?1:-1;for(u=0;u<this.model._axes.length;u++)t=this.model._axes[u],(t.orientation.toLowerCase()=="vertical"&&(i.model.zooming.type.toLowerCase()=="y"||i.model.zooming.type.trim().toLowerCase()=="x,y")||t.orientation.toLowerCase()=="horizontal"&&(i.model.zooming.type.toLowerCase()=="x"||i.model.zooming.type.trim().toLowerCase()=="x,y"))&&(h=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1),c=Math.max(h+.25*a,1),f=f|i.doMouseWheelZoom(c,.5,t)),t.zoomFactor!=1&&t.zoomPosition!=0&&(o=!0),this.resetZooming=t.zoomFactor==1&&t.zoomPosition==0;this._updateScroll();this.disableAnimation();this.disableTrackBall();f&&(this.model.legendCollapsed=!1,this.zoomed=!0,i.redraw(!0));this.model._chartAreaZoom=!0;this._enableZoomingButtons();this.mouseWheelCoords={x:n.originalEvent.pageX,y:n.originalEvent.pageY};o||($(r+"_ResetZoom").remove(),$(r+"_PanBtn").remove(),$(r+"_ZoomBtn").remove(),$(r+"_ZoomInBtn").remove(),$(r+"_ZoomOutBtn").remove(),this.enableAnimation(),this.panning=!1);e=jQuery.uaMatch(navigator.userAgent);n.preventDefault&&e.browser=="chrome"&&this.model.zooming.enable&&n.preventDefault();n.returnValue=!1}$(".tooltipDiv"+this._id).remove()},getAxisMultiLevelLabelsData:function(n){var f=this.calMousePosition(n),s=this.model.multiLevelLabelRegions.length,t,r,u,e,o,i;for(this.mousemoveX=f.X,this.mousemoveY=f.Y,i=0;i<s;i++)if(t=this.model.multiLevelLabelRegions[i],r=t.bounds.x,u=t.bounds.y,e=t.bounds.height,o=t.bounds.width,this.mousemoveX>=r&&this.mousemoveX<=r+o&&this.mousemoveY<=u+e&&this.mousemoveY>=u)return{location:{x:this.mousemoveX,y:this.mousemoveY},axis:this.model._axes[t.axisIndex],multiLevelLabel:t.multiLevelLabel}},getAxisLabelData:function(n){var c=this.calMousePosition(n),e=n.target.id,r,u,f,s,h,o,l,a=this.model._axes.length,t,i;if(this.mousemoveX=c.X,this.mousemoveY=c.Y,this.model.AreaType=="cartesianaxes"||this.model.AreaType=="polaraxes")if(this.model.enable3D){if(e.indexOf("horizontal")>=0||e.indexOf("vertical")>=0)for(t=0;t<a;t++)for(o=this.model._axes[t].visibleLabels.length,i=0;i<o;i++)if(e==this.svgObject.id+this.model._axes[t].orientation+i)return{location:{x:this.mousemoveX,y:this.mousemoveY},index:i,axis:this.model._axes[t],text:this.model._axes[t].visibleLabels[i].Text}}else for(t=0;t<a;t++)if(o=this.model._axes[t].visibleLabels.length,l=this.model._axes[t].visible,l)for(i=0;i<o;i++)if(r=this.model._axes[t].visibleLabels[i].region,!ej.util.isNullOrUndefined(r)&&(u=r.bounds.x,f=r.bounds.y,s=r.bounds.width,h=r.bounds.height,u=this.vmlRendering&&e.indexOf("_YLabel_")>=0?this.model._axes[t].opposedPosition?u:u+s:u,this.mousemoveX>=u&&this.mousemoveX<=u+s&&(this.vmlRendering?this.mousemoveY<=f+h&&this.mousemoveY>=f:this.mousemoveY>=f-h&&this.mousemoveY<=f)))return{location:{x:this.mousemoveX,y:this.mousemoveY},index:i,axis:this.model._axes[t],text:r.labelText}},getLegendData:function(n){var t=this.calMousePosition(n),o=this.model.legend.isReversed;t.X=o&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||$("#legend_"+this._id)[0].style.overflowY=="scroll")?t.X-18:t.X;t.X-=parseFloat($(this.element).css("padding-left"));t.Y-=parseFloat($(this.element).css("padding-top"));var f=this.model.legend._ejScroller,r=0,i=0;r=f?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop();i=f?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft();o&&f&&(i=i==0?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft);this.scrolltop=r?r:0;this.scrollleft=i?i:0;this.mousemoveX=t.X+i;this.mousemoveY=t.Y+r;var s=n.target.id,h=this.mousemoveX,c=this.mousemoveY,e=this._id,u;return(!ej.util.isNullOrUndefined(s)&&this.svgRenderer._getAttrVal($(n.target).parents(":eq(1)"),"id")==this.svgObject.id+"_Legend"||this.model.enableCanvasRendering&&s=="legend_"+e+"_canvas"||this.vmlRendering)&&($.each(this.model.legendRegion,function(n,t){h>=t.Bounds.LegendBound.X+t.Bounds.ItemBound.X&&h<=t.Bounds.LegendBound.X+t.Bounds.ItemBound.X+t.Bounds.ItemBound._Width&&(c>=t.Bounds.LegendBound.Y+t.Bounds.ItemBound.Y-t.Bounds.ItemBound.Height/4&&c<=t.Bounds.LegendBound.Y+t.Bounds.ItemBound.Y+t.Bounds.ItemBound.Height?(u=t,$("#legend_"+e+"_canvas").css("cursor","pointer")):$("#legend_"+e+"_canvas").css("cursor","default"))}),!ej.util.isNullOrUndefined(u))?{legendItem:u,series:this.model._visibleSeries[u.LegendItem.SeriesIndex]}:!1},get3DSeriesPoint:function(n){var r=this.mousemoveX,u=this.mousemoveY,s=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.X,h=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.Y,l=this.model.AreaType=="polaraxes"?$(this.svgObject).width():this.model.m_AreaBounds.Width,a=this.model.AreaType=="polaraxes"?$(this.svgObject).height():this.model.m_AreaBounds.Height,t,f,c,e,i,o;if(r>s&&r<s+l&&u>h&&u<h+a&&(e=$(n.target)[0].nodeName,(e=="path"||e=="shape")&&$(n.target)[0].id.indexOf("Region")>1))return t=$(n.target)[0].id.match(/(\d+)/g),f=parseInt(t[t.length-1]),c=parseInt(t[t.length-2]),i={},i.Region={},i.Region.PointIndex=f,i.SeriesIndex=c,o={},o.pointIndex=f,{region:i,pointData:o,location:{x:r,y:u}}},GetSeriesPoint:function(n){for(var a,p,r,y,d,i,ft,et,u=this.mousemoveX,f=this.mousemoveY,o,it,t=this,b=t.model.indicators,k=t.model._visibleSeries,e=0;e<b.length&&b[e].segment;e++)k=k.concat(b[e].segment);if(t.model.enable3D)return this.get3DSeriesPoint(n);var rt=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.X,ut=this.model.AreaType=="polaraxes"?0:this.model.m_AreaBounds.Y,ot=this.model.AreaType=="polaraxes"?$(this.svgObject).width():this.model.m_AreaBounds.Width,st=this.model.AreaType=="polaraxes"?$(this.svgObject).height():this.model.m_AreaBounds.Height;if(this.model.AreaType=="cartesianaxes"||this.model.AreaType=="polaraxes"){if(u>rt&&u<rt+ot&&f>ut&&f<ut+st&&$.each(this.model.chartRegions,function(i,e){var tt,lt,at,w,d,rt,ot,ft,vt,gt,g,nt,s,h,p,y,b,et;if(ej.util.isNullOrUndefined(e.SeriesIndex)){if(r=t.model.chartRegions,gt={},!e.isStripLine){var wt=e.length,ni=t.model.requireInvertedAxes,ti=ni?t.model.series[e[wt-1].SeriesIndex]._xAxisName:t.model.series[e[wt-1].SeriesIndex]._yAxisName;for(nt=0;nt<t.model._axes.length;nt++)if(ti==t.model._axes[nt].name){g=t.model._axes[nt];break}for(s=0;s<r.length;s++)for(h=0;h<r[s].length;h++)p=[],y=r[s][h].region,y[0]&&p.push({x:y[0].X+g.x,y:y[0].Y+g.y}),y[1]&&p.push({x:y[1].X+g.x,y:y[1].Y+g.y}),y[2]&&p.push({x:y[2].X+g.x,y:y[2].Y+g.y}),y[3]&&p.push({x:y[3].X+g.x,y:y[3].Y+g.y}),b={x:u,y:f},et=t.isPointInPolygon(p,b),et&&(o=r[s][h])}}else if(tt=k[e.SeriesIndex],t.model.AreaType=="polaraxes"&&tt.drawType.toLowerCase()=="column"&&n.target||tt.drawType.toLowerCase()=="rangecolumn"){if(t.model.enableCanvasRendering){if(tt.type.toLowerCase()=="polar"){var w=e.Region.Bounds,bt=-.5*Math.PI,kt=w.innerRadius||w.DRadius,st,ht;st=u-w.CenterX;ht=f-w.CenterY;var yt=t.model._visibleSeries[e.SeriesIndex],dt=yt.startAngle,ii=yt.endAngle,ct=dt?2*Math.PI*(t.model.itemCurrentXPos<0?1+t.model.itemCurrentXPos:t.model.itemCurrentXPos):0,ut=(Math.atan2(ht,st)-bt-ct)%(2*Math.PI);ut<0&&w.PointIndex!=0&&(ut=2*Math.PI+ut);lt=parseFloat(w.StartAngle.toFixed(14));at=parseFloat(w.EndAngle.toFixed(14));lt-=ct;at-=ct;ut>=lt&&ut<=at&&(i=w.PointIndex,a=Math.sqrt(Math.pow(Math.abs(st),2)+Math.pow(Math.abs(ht),2)),a<=w.Radius&&a>kt&&(ft={Region:{PointIndex:i},SeriesIndex:e.SeriesIndex,type:e.type},o=ft))}else if(tt.type.toLowerCase()=="radar"&&(w=e.Region.Bounds,w.Line1)){y=w.Line1;c=w.Line2;l=w.Line3;v=w.Line4;var p=[{x:y.x,y:y.y},{x:c.x,y:c.y},{x:l.x,y:l.y},],b={x:u,y:f},et=!1;if(tt.drawType.toLowerCase()=="column")for(var rt=!1,s=-1,pt=p.length,h=pt-1;++s<pt;h=s)(p[s].y<=b.y&&b.y<p[h].y||p[h].y<=b.y&&b.y<p[s].y)&&b.x<(p[h].x-p[s].x)*(b.y-p[s].y)/(p[h].y-p[s].y)+p[s].x&&(rt=!rt);else for(d=[{x:y.x,y:y.y},{x:c.x,y:c.y},{x:l.x,y:l.y},{x:v.x,y:v.y}],s=0,h=2,rt=!1,ot=0;ot<d.length;ot++)(d[s].y<=b.y&&b.y<d[h].y||d[h].y<=b.y&&b.y<d[s].y)&&b.x<(d[h].x-d[s].x)*(b.y-d[s].y)/(d[h].y-d[s].y)+d[s].x&&(rt=!rt),nt=s,s=h,h=++nt,ot==2&&(h=0);et=rt;et&&(i=w.PointIndex,ft={Region:{PointIndex:i},SeriesIndex:e.SeriesIndex,type:e.type},o=ft)}}else if(vt=$(n.target)[0].nodeName,(vt=="path"||vt=="shape")&&$($(n.target).parent())[0].id==t.svgObject.id+"_SeriesGroup_"+e.SeriesIndex)return i=$(n.target)[0].id.match(/(\d+)/g),it=parseInt(i[i.length-1]),e={Region:{PointIndex:it},SeriesIndex:e.SeriesIndex,type:e.type},o=e,!1}else u>=e.Region.Bounds.X&&u<=e.Region.Bounds.X+e.Region.Bounds.Width&&f>e.Region.Bounds.Y&&f<e.Region.Bounds.Y+e.Region.Bounds.Height&&(o=e)}),o)return{region:o,location:{x:u,y:f}}}else if(t=this,y=t.model.chartRegions,y.length>0&&(y[0].Series.type.toLowerCase()=="pyramid"||y[0].Series.type.toLowerCase()=="funnel")){if(d=$(n.target)[0].nodeName,(d=="path"||d=="shape")&&$($(n.target).parent())[0].id==t.svgObject.id+"_SeriesGroup_"+y[0].SeriesIndex)return r=t.model.chartRegions[0],p=$(n.target)[0].id.match(/(\d+)/g),p=parseInt(p[p.length-1]),r.Region.PointIndex=p,i={},i.pointIndex=p,o={region:r,pointData:i,location:{x:u,y:f}};r=y[0];var s=this.pyrX,h=this.pyrY,i={},g,w,c,l,v,nt,tt;for(e=0;e<r.Region.length;e++)if(w=r.Region[e].Line1,c=r.Region[e].Line2,l=r.Region[e].Line3,v=r.Region[e].Line4,y[0].Series.type.toLowerCase()=="pyramid"?g=[{x:w.x+s,y:w.y+h},{x:c.x+s,y:c.y+h},{x:l.x+s,y:l.y+h},{x:v.x+s,y:v.y+h}]:(nt=r.Region[e].Line5,tt=r.Region[e].Line6,g=[{x:w.x+s,y:w.y+h},{x:c.x+s,y:c.y+h},{x:l.x+s,y:l.y+h},{x:v.x+s,y:v.y+h},{x:nt.x+s,y:nt.y+h},{x:tt.x+s,y:tt.y+h}]),ft={x:u,y:f},et=this.isPointInPolygon(g,ft),et)return i.pointIndex=r.Region[e].PointIndex,r.Region.PointIndex=i.pointIndex,o={region:r,pointData:i,location:{x:u,y:f}}}else return $.each(t.model.chartRegions,function(n,r){var g=-.5*Math.PI,w=r.SeriesData,c=r.Region,nt=t.model._visibleSeries[r.SeriesIndex].type.toLowerCase()=="doughnut"?w.DRadius:0,k,d,tt,p,h,v,e,s,it,rt,ut;k=u-w.CenterX;d=f-w.CenterY;var l=t.model._visibleSeries[r.SeriesIndex],b=l.startAngle,y=l.endAngle;if(b=b<0?b+360:b,y=y<0?y+360:y,tt=l.endAngle-l.startAngle,tt<0){for(y=y/360,p=y?2*Math.PI*(y<0?1+y:y):0,h=(Math.atan2(d,k)-g-p)%(2*Math.PI),h<0&&(h=2*Math.PI+h),i=[],v=0;v<c.length;v++)if(e=parseFloat(c[v].StartAngle.toFixed(14)),s=parseFloat(c[v].EndAngle.toFixed(14)),e=e<0?2*Math.PI+e:e,s=s<0?2*Math.PI+s:s,e-=p,s-=p,e=parseFloat(e.toFixed(14)),s=parseFloat(s.toFixed(14)),l.startAngle>=0&&l.endAngle<=0&&(e=e<=0?2*Math.PI+e:e,s=s<0?2*Math.PI+s:s),h<=e&&h>=s){i.push(c[v]);break}}else for(p=b?2*Math.PI*(t.model.itemCurrentXPos<0?1+t.model.itemCurrentXPos:t.model.itemCurrentXPos):0,h=(Math.atan2(d,k)-g-p)%(2*Math.PI),h<0&&(h=t.model._isPieOfPie?h:2*Math.PI+h),i=[],v=0;v<c.length;v++)if(e=parseFloat(c[v].StartAngle.toFixed(14)),s=parseFloat(c[v].EndAngle.toFixed(14)),e=e<0?t.model._isPieOfPie?e:2*Math.PI+e:e,s=s<0?2*Math.PI+s:s,e-=p,s-=p,e=parseFloat(e.toFixed(14)),s=parseFloat(s.toFixed(14)),l.startAngle<0&&(l.endAngle>-1||l.endAngle==null)&&(e=e<0?2*Math.PI+e:e,s=s<=0?2*Math.PI+s:s),h+2*Math.PI<s&&l.type=="pieofpie"&&(h=h+2*Math.PI),h>=e&&h<=s){i.push(c[v]);break}i.length>0&&(it=l.explodeAll||l.explodeIndex==i[0].PointIndex,it?(rt=u-i[0].StartX,ut=f-i[0].StartY,i.length>0&&(a=Math.sqrt(Math.pow(Math.abs(rt),2)+Math.pow(Math.abs(ut),2)),a<=w.Radius&&a>nt&&(c.PointIndex=i[0].PointIndex,c.Index=i[0].Index,c.SeriesIndex=i[0].SeriesIndex,o={region:r,pointData:i,location:{x:u,y:f}}))):(a=Math.sqrt(Math.pow(Math.abs(k),2)+Math.pow(Math.abs(d),2)),a<=w.Radius&&a>nt&&(c.PointIndex=i[0].PointIndex,c.Index=i[0].Index,c.SeriesIndex=i[0].SeriesIndex,o={region:r,pointData:i,location:{x:u,y:f}})))}),o},isPointInPolygon:function(n,t){for(var u=!1,i=-1,f=n.length,r=f-1;++i<f;r=i)(n[i].y<=t.y&&t.y<n[r].y||n[r].y<=t.y&&t.y<n[i].y)&&t.x<(n[r].x-n[i].x)*(t.y-n[i].y)/(n[r].y-n[i].y)+n[i].x&&(u=!u);return u},mousePosition:function(n){if(!ej.util.isNullOrUndefined(n.pageX)&&n.pageX>0)return{x:n.pageX,y:n.pageY};if(n.originalEvent&&!ej.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0)return{x:n.originalEvent.pageX,y:n.originalEvent.pageY};if(n.originalEvent&&n.originalEvent.changedTouches!=undefined){if(!ej.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0)return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}}else return{x:0,y:0}},calMousePosition:function(n){var u=jQuery.uaMatch(navigator.userAgent),t=this.mousePosition(n),i,r,f;return n.pageX=t.x,n.pageY=t.y,f=u.browser.toLowerCase(),i=n.pageX-$(this.svgObject).offset().left,r=n.pageY-$(this.svgObject).offset().top,{X:i,Y:r}},calTouchPosition:function(n){var u=jQuery.uaMatch(navigator.userAgent),i,r,t;return u.browser.toLowerCase()=="mozilla"||u.browser.toLowerCase()=="webkit"?(t=n.originalEvent.touches[0],i=t.pageX-$(this.svgObject).parent().offset().left,r=t.pageY-$(this.svgObject).parent().offset().top,this.leftPadding=$(this.svgObject).offset().left,this.grabPadding=0):u.browser.toLowerCase()=="msie"?(i=n.originalEvent.pageX-$(this.svgObject).offset().left,r=n.originalEvent.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left):(t=n.originalEvent.touches[0],i=t.pageX-$(this.svgObject).offset().left,r=t.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left),{X:i,Y:r}},cancelEvent:function(n){n.stopPropagation();var t=jQuery.uaMatch(navigator.userAgent);return t.browser=="chrome"&&(this.model.zooming.enable||this.model.crosshair.visible)&&n.preventDefault(),this.model.enable3D&&(n.preventDefault(),n.stopPropagation()),n.returnValue=!1,n.cancelBubble=!0,!1},resetZoom:function(){var n=this,t="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove();$(".zoom"+this._id).remove();n.zoomed&&($.each(this.model._axes,function(n,t){t.zoomed=!1;t.zoomFactor=1;t.zoomPosition=0}),n.model.primaryXAxis.zoomFactor=1,n.model.primaryYAxis.zoomFactor=1,n.model.primaryXAxis.zoomPosition=0,n.model.primaryYAxis.zoomPosition=0,$("#"+n._id+"_canvas").css({cursor:"default"}),$(t+"_ResetZoom").remove(),$(t+"_PanBtn").remove(),$(t+"_ZoomBtn").remove(),$(t+"_ZoomInBtn").remove(),$(t+"_ZoomOutBtn").remove(),n.zoomed=!1,n.zooming=!1,n.panning=!1,n.model._chartAreaZoom=!1,n.resetZooming=!0,n.enableTrackBall(),n.redraw(!0),n.enableAnimation(),n.svgRenderer._setAttr($(n.svgObject).find(t+"_XAxis,"+t+"_ChartArea,"+t+"_YAxis,"+t+"_SeriesCollection"),{cursor:"default"}))},startZoomInOut:function(n){var c=n.target.id.indexOf("ZoomIn")>-1?"zoomIn":"zoomOut",e,o;this.drag=!1;this.zoomed=!0;var i=this.model.zooming.type.toLowerCase(),r=c=="zoomIn"?.2:-.2,s=!0,t,u,f,h;for(e=0;e<this.model._axes.length;e++)t=this.model._axes[e],u=t.zoomFactor,f=t.zoomPosition,t.orientation.toLowerCase()=="horizontal"?(t.zoomFactor=i!="y"?u-r:t.zoomFactor,t.zoomPosition=i!="y"?f+r:t.zoomPosition):(t.zoomFactor=i!="x"?u-r:t.zoomFactor,t.zoomPosition=i!="x"?f+r:t.zoomPosition),parseFloat(t.zoomFactor.toFixed(3))<=.001&&(t.zoomFactor=u,t.zoomPosition=f),parseFloat(t.zoomFactor.toFixed(3))>=1&&(t.zoomFactor=1,t.zoomPosition=0),s=s&&t.zoomFactor==1,this.resetZooming=t.zoomFactor==1&&t.zoomPosition==0;h=this._getZoomedData(this);o=$.extend({},ej.EjSvgRender.commonChartEventArgs);o.data={};o.data.series=h;this._trigger("zoomed",o);this._updateScroll();this.redraw(!0);s?(this._removeZoomkit(),this.resetZooming=!0,this.zoomed=this.panning=!1,this.model._chartAreaZoom=!1):this._enableZoomingButtons()},startZoom:function(){var n=this,t="#"+this.svgObject.id,i;$(".tooltipDiv"+this._id).remove();i=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";n.svgRenderer._setAttr($(t+"_ZoomBtn"),{selected:"true"});n.svgRenderer._setAttr($(t+"_ZoomPath"),{fill:"#14B9FF"});n.svgRenderer._setAttr($(t+"_ZoomIcon"),{fill:"#FFFFFF"});n.svgRenderer._setAttr($(t+"_PanPath"),{fill:"#B7B7B7"});n.svgRenderer._setAttr($(t+"_panIcon"),{fill:i});$(t+"_ZoomBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"});$(t+"_PanBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"});$("#"+n._id+"_canvas").css({cursor:"default"});this._cursorToDefault();n.panning=!1;n.enableTrackBall()},startPan:function(){var n=this,t="#"+this.svgObject.id,i;$(".tooltipDiv"+this._id).remove();i=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";n.svgRenderer._setAttr($(t+"_ZoomBtn"),{selected:"false"});n.svgRenderer._setAttr($(t+"_PanBtn"),{selected:"true"});n.svgRenderer._setAttr($(t+"_ZoomPath"),{fill:"#B7B7B7"});n.svgRenderer._setAttr($(t+"_ZoomIcon"),{fill:i});n.svgRenderer._setAttr($(t+"_PanPath"),{fill:"#14B9FF"});n.svgRenderer._setAttr($(t+"_panIcon"),{fill:"#FFFFFF"});$(t+"_ZoomBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"});$(t+"_PanBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"});$("#"+n._id+"_canvas").css({cursor:"pointer"});this._cursorToPointer();n.panning=!0;n.disableTrackBall()},zoomButton:function(n,t){var i=t=="zoom"?"_Zoom":t=="zoomIn"?"_ZoomIn":"_ZoomOut";var u=n*5+5,r={left:0,top:0},f=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-n*32-u),e=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),o=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",s={id:this.svgObject.id+i+"Path",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning||t=="zoomIn"||t=="zoomOut"?"#b7b7b7":"#14B9FF",zoomId:this._id+i+"Btn",width:26,height:26,left:f+r.left,top:e+r.top,iconColor:o};ej.EjCanvasRender.prototype.zoomButton(s,t,this);t=="zoom"?this._on($("#"+this.svgObject.id+i+"Btn"),"touchstart click",this.startZoom):this._on($("#"+this.svgObject.id+i+"Btn"),"touchstart click",this.startZoomInOut)},panButton:function(n){var i=n*5+5,t={left:0,top:0},r=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-n*32-i),u=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),f=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",e={id:this.svgObject.id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7",panId:this._id+"_PanBtn",width:26,height:26,left:r+t.left,top:u+t.top,iconColor:f};ej.EjCanvasRender.prototype.panButton(e,this);this._on($("#"+this.svgObject.id+"_PanBtn"),"touchstart click",this.startPan)},resetZoomButton:function(n){var r=n*5+5,t={left:0,top:0},u=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-(n*32+r)),f=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),e=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",o={id:this.svgObject.id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7",resetZoomId:this._id+"_ResetZoom",width:26,height:26,left:u+t.left,top:f+t.top,iconColor:e},i;ej.EjCanvasRender.prototype.resetZoom(o,this);i=(window.TouchEvent?"touchstart":window.PointerEvent?"pointerdown":window.MSPointerEvent?"MSPointerDown":"click")+" click";this._on($("#"+this.svgObject.id+"_ResetZoom"),i,this.resetZoom)},doZoom:function(n,t,i){var u=this,h,a,v,e,s;if(this.model._chartAreaZoom=!0,this.scrollDraw=!0,$(".tooltipDiv"+this._id).remove(),u.model.enableCanvasRendering)var c=$("#"+this.svgObject.id+"_ZoomArea")[0].getClientRects()[0],l=$("#"+this.svgObject.id)[0].getClientRects()[0],a=c.left-l.left-$(document).scrollLeft(),v=c.top-l.top-$(document).scrollTop();else a=parseFloat(u.svgRenderer._getAttrVal($(n),"x")),v=parseFloat(u.svgRenderer._getAttrVal($(n),"y"));for($("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,e=0;e<this.model._axes.length;e++){var r=this.model._axes[e],f=r.zoomFactor,o=r.zoomPosition;r.orientation.toLowerCase()=="horizontal"?(r.zoomFactor=u.model.zooming.type.toLowerCase()!="y"?f*(t/u.model.m_AreaBounds.Width):r.zoomFactor,r.zoomPosition=u.model.zooming.type.toLowerCase()!="y"?o+Math.abs((a-u.model.m_AreaBounds.X)/u.model.m_AreaBounds.Width)*f:r.zoomPosition,parseFloat(r.zoomFactor.toFixed(3))<=.001&&(r.zoomFactor=f,r.zoomPosition=o)):(r.zoomFactor=u.model.zooming.type.toLowerCase()!="x"?f*i/u.model.m_AreaBounds.Height:r.zoomFactor,r.zoomPosition=u.model.zooming.type.toLowerCase()!="x"?o+(1-Math.abs((i+(v-u.model.m_AreaBounds.Y))/u.model.m_AreaBounds.Height))*f:r.zoomPosition,parseFloat(r.zoomFactor.toFixed(3))<=.001&&(r.zoomFactor=f,r.zoomPosition=o))}h=this._getZoomedData(u);s=$.extend({},ej.EjSvgRender.commonChartEventArgs);s.data={};s.data.series=h;this._trigger("zoomed",s);this.disableAnimation();this.model.legendCollapsed=!1;this.redraw(!0);this._enableZoomingButtons()},_getZoomedData:function(n){for(var t,u=this.model._visibleSeries,a=u.length,f=[],c=[],i=[],e,o,s,h,l,r=0;r<a;r++){if(u[r].visibility=="visible")for(i=u[r].points,l=i.length,e=u[r].type.toLowerCase(),o=new ej.axisTypes[u[r].xAxis._valueType.toLowerCase()],o._calculateVisibleRange(u[r].xAxis,n),o=new ej.axisTypes[u[r].yAxis._valueType.toLowerCase()],o._calculateVisibleRange(u[r].yAxis,n),s=u[r].xAxis.visibleRange,h=u[r].yAxis.visibleRange,t=0;t<l;t++)s.min<=i[t].xValue&&s.max>=i[t].xValue&&h.min<=i[t].y&&h.max>=i[t].y&&(u[r]._hiloTypes?e=="rangearea"||e=="rangecolumn"||e=="waterfall"||e=="hilo"?f.push({XValue:i[t].x,High:i[t].high,Low:i[t].low}):f.push({XValue:i[t].x,High:i[t].high,Low:i[t].low,Open:i[t].open,Close:i[t].close}):f.push({XValue:i[t].x,YValue:i[t].y}));f.length!=0&&c.push({selectedData:f});f=[]}return c},_cursorToDefault:function(){var n="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection,"+n+"_StriplineBehind,"+n+"_StriplineOver"),{cursor:"default"})},_cursorToPointer:function(){var n="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection,"+n+"_StriplineBehind,"+n+"_StriplineOver"),{cursor:"pointer"})},removeMultiRect:function(){$(this.parentgEle).empty();this.model.selectedDataCollection=[]},multiSelectDataCalculation:function(){for(var lt,at,n,ut,tt,gt=this,r=[],it=this.selectedRectIndex,vt=this.oldRectX[it],yt=this.oldRectY[it],pt=this.oldRectWidth[it],ot=this.oldRectHeight[it],d=1,ft=0,st=this.model.series,wt=st.length,rt=this.multiAxis,bt=rt.length,kt=this.multiSelectType,c,w,g,y,p,e,o,t,f,b,a,v,u,ht,ct,ni=this.model.AreaType.toLowerCase(),s,l,dt,h,et,nt,i,k=0;k<wt;k++){if(i=st[k],ht=i.xAxis.visibleRange,ct=i.yAxis.visibleRange,lt=rt.some(function(n){return n.name.toLowerCase()==i._xAxisName.toLowerCase()}),at=rt.some(function(n){return n.name.toLowerCase()==i._yAxisName.toLowerCase()}),nt=i.selectionSettings,lt&&at&&i.visibility.toLowerCase()=="visible"){for(n=0;n<bt;n++)c=rt[n],w=d,g=ft,c.orientation.toLowerCase()=="horizontal"?(this.selectFactor=nt.rangeType.toLowerCase()!="y"?w*(pt/this.multiAxis[n].width):d,this.selectPosition=nt.rangeType.toLowerCase()!="y"?g+Math.abs((vt-this.multiAxis[n].x)/this.multiAxis[n].width)*w:ft,parseFloat(d.toFixed(3))<=.001&&(this.selectFactor=w,this.selectPosition=g)):(this.selectFactor=nt.rangeType.toLowerCase()!="x"?w*ot/this.multiAxis[n].height:d,this.selectPosition=nt.rangeType.toLowerCase()!="x"?g+(1-Math.abs((ot+(yt-this.multiAxis[n].y))/this.multiAxis[n].height))*w:ft,parseFloat(d.toFixed(3))<=.001&&(this.selectFactor=w,this.selectPosition=g)),c.visibleRange=$.extend(!0,{},c.actualRange),(this.selectFactor<1||this.selectPosition>0)&&(b=c.valueType=="logarithmic"?c.visibleRange:c.actualRange,this.selectFactor=this.selectFactor>1?1:this.selectFactor<0?0:this.selectFactor,this.selectPosition=this.selectPosition<0?0:this.selectPosition>1?1:this.selectPosition,c.isInversed?(a=c.actualRange.max-this.selectPosition*c.actualRange.delta,v=a-this.selectFactor*c.actualRange.delta,dt=!0):(a=c.actualRange.min+this.selectPosition*c.actualRange.delta,v=a+this.selectFactor*c.actualRange.delta),a<b.min&&(v=v+(b.min-a),a=b.min),v>b.max&&(a=a-(v-b.max),v=b.max),c.valueType=="logarithmic"&&(a=Math.pow(10,a),v=Math.pow(10,v)),c.visibleRange.min=Math.min(a,v),c.visibleRange.max=Math.max(a,v));if(t=i._visiblePoints,f=i.type.toLowerCase(),et=i.isTransposed,y=i.xAxis.visibleRange.min,p=i.xAxis.visibleRange.max,e=i.yAxis.visibleRange.min,o=i.yAxis.visibleRange.max,ej.util.isNullOrUndefined(r)&&(r=[]),i.selectionSettings.enable)switch(kt){case"x":for(n=0;n<t.length;n++)t[n].seriesIndex=k,u=t[n].isEmpty,s=t[n].xValue,l=t[n].y,i.xAxis.isInversed||i.yAxis.isInversed?f.indexOf("bar")>=0?f.indexOf("stacking")>=0?(h=i.stackedValue.EndValues[n],!u&&o>=h&&e<=h&&r.push(t[n])):f=="waterfall"&&!u&&o>=t[n].YValues[0]&&e<=t[n].YValues[0]?r.push(t[n]):!u&&o>=l&&e<=l&&r.push(t[n]):!u&&p>=s&&y<=s&&r.push(t[n]):et&&f.indexOf("bar")>=0?!u&&y<=s&&p>=s&&r.push(t[n]):f.indexOf("bar")>=0||i.isTransposed&&!(f.indexOf("bar")>=0)?f.indexOf("stacking")>=0?(h=i.stackedValue.EndValues[n],!u&&e<=h&&o>=h&&r.push(t[n])):f=="waterfall"&&!u&&e<=t[n].YValues[0]&&o>=t[n].YValues[0]?r.push(t[n]):!u&&e<=l&&o>=l&&r.push(t[n]):!u&&Math.round(y)<=s&&p>=s&&r.push(t[n]);break;case"y":for(n=0;n<t.length;n++)t[n].seriesIndex=k,u=t[n].isEmpty,s=t[n].xValue,l=t[n].y,i.xAxis.isInversed||i.yAxis.isInversed?f.indexOf("bar")>=0?!u&&p>=s&&y<=s&&r.push(t[n]):f.indexOf("stacking")>=0?(h=i.stackedValue.EndValues[n],!u&&e<=h&&o>=h&&r.push(t[n])):f=="waterfall"&&!u&&o>=t[n].YValues[0]&&e<=t[n].YValues[0]?r.push(t[n]):!u&&o>=l&&e<=l&&r.push(t[n]):et&&f.indexOf("bar")>=0?f.indexOf("stacking")>=0?(h=i.stackedValue.EndValues[n],!u&&e<=h&&o>=h&&r.push(t[n])):f=="waterfall"&&!u&&e<=t[n].YValues[0]&&o>=t[n].YValues[0]?r.push(t[n]):!u&&e<=l&&o>=l&&r.push(t[n]):f.indexOf("bar")>=0||i.isTransposed&&!(f.indexOf("bar")>=0)?!u&&y<=s&&p>=s&&r.push(t[n]):f.indexOf("stacking")>=0?(h=i.stackedValue.EndValues[n],!u&&e<=h&&o>=h&&r.push(t[n])):f=="waterfall"&&!u&&e<=t[n].YValues[0]&&o>=t[n].YValues[0]?r.push(t[n]):!u&&e<=l&&o>=l&&r.push(t[n]);break;case"xy":for(n=0;n<t.length;n++)t[n].seriesIndex=k,u=t[n].isEmpty,s=t[n].xValue,l=t[n].y,f.indexOf("stacking")>=0?(h=i.stackedValue.EndValues[n],!u&&p>=s&&y<=s&&e<=h&&o>=h&&r.push(t[n])):f=="waterfall"&&!u&&p>=s&&y<=s&&e<=t[n].YValues[0]&&o>=t[n].YValues[0]?r.push(t[n]):!u&&p>=s&&Math.round(y)<=s&&e<=l&&o>=l&&r.push(t[n])}}i.xAxis.visibleRange=ht;i.yAxis.visibleRange=ct}ut=this.currentIndex;(ej.util.isNullOrUndefined(this.model.selectedDataCollection)||$("#"+this.svgObject.id+"_rectSelectionGroup").length==0)&&(this.model.selectedDataCollection=[]);this.removeRect?this.model.selectedDataCollection.splice(ut,1):this.rectPan||this.resize?(this.model.selectedDataCollection[ut]=0,this.model.selectedDataCollection[ut]=r):this.model.selectedDataCollection[this.model.selectedDataCollection.length]=r;tt=$.extend({},ej.EjSvgRender.commonChartEventArgs);tt.data={};tt.data.selectedData=r;tt.data.selectedDataCollection=this.model.selectedDataCollection;this._trigger("rangeSelected",tt)},multiSelectMouseUp:function(n){var a,v,y,p,w,b,k,d,s,g;if(this._isMultiSelect&&this.multiSelectMode=="range"){var h,c,l,i=this.svgObject.id,t=this.selectedRectIndex,e="#"+i+"_selectRect",r=parseInt($(e+t).attr("width")),o=parseInt($(e+t).attr("height")),u=parseInt($(e+t).attr("x")),f=parseInt($(e+t).attr("y"));if((this.multiSelectDraw||!this.removeRect||!this.resize||!this.rectPan)&&r>0&&o>0){for(a={id:i+"_resize_rightRect"+t,x:u+r-5,y:f+10,width:10,height:o-20>0?o-20:0,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"e-resize"},this.svgRenderer.drawRect(a,this.gEle),v={id:i+"_resize_bottomRect"+t,x:u,y:f+o-5,width:r-10>0?r-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"s-resize"},this.svgRenderer.drawRect(v,this.gEle),y={id:i+"_resize_leftRect"+t,x:u-5,y:f,width:10,height:o,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"w-resize"},this.svgRenderer.drawRect(y,this.gEle),p={id:i+"_resize_topRect"+t,x:u,y:f-5,width:r-10>0?r-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"n-resize"},this.svgRenderer.drawRect(p,this.gEle),w={id:i+"_resize_bottomRightCornerCircle"+t,cx:u+r,cy:f+o,r:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"se-resize"},this.svgRenderer.drawCircle(w,this.gEle),b={id:i+"_closeTopRightCornerCircle"+t,cx:u+r,cy:f,r:10,fill:"white",stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.svgRenderer.drawCircle(b,this.gEle),k={id:i+"_closePath"+t,x1:u+r-4,y1:f-4,x2:u+r+4,y2:f+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.svgRenderer.drawLine(k,this.gEle),d={id:i+"_closePathOpposite"+t,x1:u+r+4,y1:f-4,x2:u+r-4,y2:f+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.svgRenderer.drawLine(d,this.gEle),h=[16,10,4,10,4,4],c=[4,4,4,10,10,16],l=["a","b","c","d","e","f"],s=0;s<6;s++)g={id:i+"_gripCircle_"+l[s]+t,cx:u+r-h[s],cy:f+o-c[s],r:.4,stroke:"#5B5B5B","stroke-width":2},this.svgRenderer.drawCircle(g,this.gripCollection);this.gripCollection!=null&&$(this.gripCollection).appendTo(this.gEle);$("#"+i+"_gripCollection"+t).css({visibility:"hidden"})}ej.util.isNullOrUndefined(this.oldRectX)&&(this.oldRectX=[],this.oldRectY=[],this.oldRectWidth=[],this.oldRectHeight=[],this.oldReRightRectX=[],this.oldReTopRectY=[],this.oldReBottomRectY=[]);this.oldRectX[t]=parseInt($(e+t).attr("x"));this.oldRectY[t]=parseInt($(e+t).attr("y"));this.oldRectWidth[t]=parseInt($(e+t).attr("width"));this.oldRectHeight[t]=parseInt($(e+t).attr("height"));this.oldReRightRectX[t]=parseInt($("#"+i+"_resize_rightRect"+t).attr("x"));this.oldReTopRectY[t]=parseInt($("#"+i+"_resize_topRect"+t).attr("y"));this.oldReBottomRectY[t]=parseInt($("#"+i+"_resize_bottomRect"+t).attr("y"));this.oldMultiSelectType=this.multiSelectType;(this.resize||this.rectPan)&&(this.resize&&$("#"+this.svgObject.id+"_gripCollection"+t).attr({transform:""}),$("#"+i+"_closeTopRightCornerCircle"+t).css({display:"inline"}),$("#"+i+"_closePath"+t).css({display:"inline"}),$("#"+i+"_closePathOpposite"+t).css({display:"inline"}),$("#"+i+"_resize_rightRect"+t).css({cursor:"e-resize"}),$("#"+i+"_resize_leftRect"+t).css({cursor:"w-resize"}),$("#"+i+"_resize_bottomRect"+t).css({cursor:"s-resize"}),$("#"+i+"_resize_topRect"+t).css({cursor:"n-resize"}));this.drag=!1;this.removeRect&&($("#"+i+"_selectedRectGroup"+t).remove(),this.parentgEle.childNodes.length<=0&&$(this.parentgEle).remove());(this.multiSelectDraw||this.removeRect||this.resize||this.rectPan)&&r>0&&o>0&&(this.multiSelectDraw=!1,this.multiSelectDataCalculation(n));this.resize&&(this.resize=!1);this.rectPan&&(this.rectPan=!1);this.removeRect=!1;this.enableTrackBall()}},chartMouseUp:function(n){var h,t,c,r,u,p,l,b,k,i,e,o,a,v,y,s,f;if(this.isTouch(n)&&(this.model.touchCross=!1,this.chartMouseUpTouch(n)),!this.currentPageX&&this.panning&&(h=this.calMousePosition(n),this.currentPageX=h.X,this.currentPageY=h.Y),i=this,t=this.model,this.mousedownPointX=this.mousedownPointY=null,$("[id*=_PreviewSeries]").remove(),$("[id*=_Marker]").remove(),i.dragPoint){c=this.dragIndex.seriesIndex;r=t._visibleSeries[c];this.model.enableCanvasRendering||this.gPreviewSeriesGroupEle&&($(this.svgObject).find("#"+this.svgObject.id+"_PreviewSeriesGroup_"+c).remove(),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0]));this.dragPoint=r.dragPoint=!1;var w=this._getDraggedPoint(r,this.mousemoveX,this.mousemoveY),it=w.X,rt=w.Y;p=r.data.seriesIndex;l=r.data.pointIndex;b={X:this.commonDragEventArgs.data.oldValue.X,Y:this.commonDragEventArgs.data.oldValue.Y};k={X:it,Y:rt};u=$.extend({},this.commonDragEventArgs);u.data={series:r,seriesIndex:p,pointIndex:l,oldValue:b,newValue:k};this._trigger("dragEnd",u);i.commonDragEventArgs=u;i._changeDraggingPoints(r,l,u.data.newValue.X,u.data.newValue.Y);r.region=null;this.redraw()}if(this.multiSelectAreaType!="cartesianaxes"||t.zooming.enable||t.enableCanvasRendering||this.multiSelectMouseUp(n),i=this,t.zooming.enable&&t.AreaType=="cartesianaxes"){if(e=$("#"+this.svgObject.id+"_ZoomArea"),e[0])if(t.enableCanvasRendering)var d=e[0].getClientRects()[0],g=d.width,nt=d.height;else var tt=$(e),g=parseFloat(this.svgRenderer._getAttrVal(tt,"width")),nt=parseFloat(this.svgRenderer._getAttrVal(tt,"height"));g>0&&nt>0?i.doZoom(e,g,nt):this.drag=!1;i.panning||this.enableTrackBall()}o=this.svgObject.id;a=ej.util.isNullOrUndefined(n.target.parentNode)?"":n.target.parentNode.id;(a==o+"_ResetZoom"||a==o+"_ZoomBtn"||n.target.id==o+"_ResetZoom"||n.target.id==o+"_ZoomBtn")&&(this.panning=!1,this.model._chartAreaZoom=!1);(ej.isTouchDevice()||t.zooming.enableDeferredZoom)&&this.panning&&this.doPan&&t.AreaType=="cartesianaxes"&&(v={x:this.oPreviousCoords.x-this.currentPageX,y:this.oPreviousCoords.y-this.currentPageY},this.oPreviousCoords={x:this.currentPageX,y:this.currentPageY},$.each(t._axes,function(n,t){var r=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);i.translate(t,v.x,v.y,r)}),this.model.legendCollapsed=!1,s=y=$.extend({},ej.EjSvgRender.commonChartEventArgs),f=this,y.data={model:this.model},this._trigger("panStart",y),window.setTimeout(function(){f.redraw(!0,!0,n.target);f._cursorToPointer();f._enableZoomingButtons();s=$.extend({},ej.EjSvgRender.commonChartEventArgs);s.data={model:f.model};f._trigger("panEnd",s)},10));this.doPan&&(this.doPan=!1);this.rotateActivate=!1},multiSelectMouseDown:function(evt){var i,k;this.multiSelectAreaType=this.model.AreaType.toLowerCase();var model=this.model,chartX=model.m_AreaBounds.X,chartWidth=model.m_AreaBounds.Width,chartY=model.m_AreaBounds.Y,chartHeight=model.m_AreaBounds.Height,mouseDownCords=this.calMousePosition(evt);if(this.multiSelectAreaType=="cartesianaxes"&&!model.zooming.enable&&!model.enableCanvasRendering&&mouseDownCords.X>=chartX&&mouseDownCords.X<chartX+chartWidth&&mouseDownCords.Y<chartY+chartHeight&&mouseDownCords.Y>=chartY){var seriesCollection=this.model.series,seriesCollectionLength=seriesCollection.length,id,mouseDownCords,matchStr,containerSvg=this.svgObject.id,selectMode=seriesCollection.some(function(n){return n.selectionSettings.mode.toLowerCase()=="range"});for(this._isMultiSelect=seriesCollection.some(function(n){return n.selectionSettings.enable==!0&&n.selectionSettings.mode.toLowerCase()=="range"}),selectMode&&(this.multiSelectMode="range"),i=0;i<seriesCollectionLength;i++)seriesCollection[i].selectionSettings.enable==!0&&seriesCollection[i].selectionSettings.mode.toLowerCase()=="range"&&(this.multiSelectType=seriesCollection[i].selectionSettings.rangeType.toLowerCase());if(this._isMultiSelect&&this.multiSelectMode=="range"){this.disableTrackBall();mouseDownCords=this.calMousePosition(evt);this.mouseDownX=mouseDownCords.X;this.mouseDownY=mouseDownCords.Y;this.drag=!0;$(this.parentgEle).find("g").length<1?this.selectedRectIndex=0:(id=$(this.parentgEle).find("g").last().attr("id"),matchStr=containerSvg+"_gripCollection",id=parseInt(id.substr(matchStr.length)),this.selectedRectIndex=id+1);$(this.parentgEle).find("g").length==0&&(this.parentgEle=this.svgRenderer.createGroup({id:containerSvg+"_rectSelectionGroup"}));this.gEle=this.svgRenderer.createGroup({id:containerSvg+"_selectedRectGroup"+this.selectedRectIndex});$(this.gripCollection).find("g").length==0&&(this.gripCollection=this.svgRenderer.createGroup({id:containerSvg+"_gripCollection"+this.selectedRectIndex}));evt.target.id.indexOf("resize")>=0&&(id=evt.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id));evt.target.id.indexOf("close")>=0&&(id=evt.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id));evt.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(evt.target.id.substr(matchStr.length)));this.currentIndex=$(evt.target.parentNode).index();var axes=this.model._axes,axesLength=axes.length,axis,mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y;for(this.multiAxis=[],k=0;k<axesLength;k++)axis=axes[k],mouseMoveX>axis.Location.X1&&mouseMoveX<axis.Location.X2&&this.multiAxis.push(axis),mouseMoveY<axis.Location.Y1&&mouseMoveY>axis.Location.Y2&&this.multiAxis.push(axis)}}},_grab:function(n,t,i,r,u){var f=$.extend({},ej.EjSvgRender.commonChartEventArgs);f.data={seriesIndex:i,pointIndex:r,currentPoint:u};t._trigger("dragStart",f);n.data=f.data;this.commonDragEventArgs=f;this.mousedownPointX=this.mousedownPointY=null},_enableDragging:function(n,t,i){var e=this,u,o,r=n.type.toLowerCase(),l=e.model.AreaType,a=n.visibility.toLowerCase(),h,c,s,f;if(this.mousedownPointX&&this.mousedownPointY&&l=="cartesianaxes"&&!this.model.enable3D&&a=="visible"&&(r=="line"||r=="spline"||r=="area"||r=="stepline"||r=="steparea"||r=="splinearea"||r=="column"||r=="bar"||r=="bubble"||r=="scatter")&&(h=[],c=[],u=this.getClosesPointXY(c,h,n,this.mousedownPointX,this.mousedownPointY,i),this.mousemoveX=this.mousedownPointX,this.mousemoveY=this.mousedownPointY,o=this.GetSeriesPoint(i),ej.util.isNullOrUndefined(u.point)||(this.dragPoint=n.dragPoint=!0,u.seriesIndex=t,n.pointData=u,s={xValue:u.point.xValue,yValue:u.point.YValues},e._grab(n,e,t,u.index,s),this.dragIndex={pointIndex:u.index,seriesIndex:t}),!ej.util.isNullOrUndefined(o)&&(f=o.region,t==f.SeriesIndex))){n.region=o.region;this.dragPoint=n.dragPoint=!0;var v=n._visiblePoints[f.Region.PointIndex].xValue,y=n._visiblePoints[f.Region.PointIndex].YValues,s={xValue:v,yValue:y};e._grab(n,e,f.SeriesIndex,f.Region.PointIndex,s);this.dragIndex={pointIndex:f.Region.PointIndex,seriesIndex:f.SeriesIndex}}},chartMouseDown:function(e){var model=this.model,matchStr=this._id+"_scrollbar_",parentNodeId=e.target.parentNode&&e.target.parentNode.id?e.target.parentNode.id:"",selectionIndex=parentNodeId.indexOf(matchStr)>-1?parseInt(parentNodeId.substr(matchStr.length)):NaN,isZoom=this.isZoomButtonHovered(e.target),axes=model._axes,chart=this,id,mouseDownCords=this.calMousePosition(e),browserInfo=this.model.browserInfo,timer,parent,isZoomToolkit,mousePanCords;this.mousedownPointX=mouseDownCords.X;this.mousedownPointY=mouseDownCords.Y;"which"in e?this.chartRightClick=e.which==3:"button"in e&&(this.chartRightClick=e.button==2);isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex)||(axes[selectionIndex].previousRange=$.extend(!0,{},model._axes[selectionIndex].visibleRange));this.mousemoveX=this.mouseDownX=mouseDownCords.X;this.mousemoveY=this.mouseDownY=mouseDownCords.Y;this.isTouch(e)&&(this.model.event=e,this.model.touchCross=!0,$.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.tapNum=this.model.tapNum||0,isZoom||this.doubleTap(e),chart.model.crosshair.visible&&!isZoom&&(timer=setTimeout(function(){var n=$("#"+chart.svgObject.id).find("#"+chart.svgObject.id+"_ZoomArea"),t=chart.model.elementSpacing/2,i=chart.getEvent(chart.model.event),r=i.pageX,u=i.pageY;chart.model.touchCross&&!chart.panning&&Math.abs(r-chart.model.cachedX)<t&&Math.abs(u-chart.model.cachedY)<t&&(n.length==0||parseFloat($(n).attr("width"))==0||parseFloat($(n).attr("height"))==0)&&(chart.chartInteractiveBehavior(e),chart.model.crosshairMoved=!0,chart.drag=!1)},500)));this.model.enable3D&&this.model.enableRotation&&(this.rotateActivate=!0);this.svgRenderer.vmlNamespace||(this.oPreviousCoords={},e.target.id.indexOf("resize")>=0&&(id=e.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.multiSelectMouseDownId=e.target.id,this.resize=!0),e.target.id.indexOf("close")>=0&&(id=e.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.removeRect=!0),e.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(e.target.id.substr(matchStr.length))),e.target.id==this.svgObject.id+"_selectRect"+this.selectedRectIndex&&(this.rectPan=!0,this.PreviousCoords={X:e.pageX,Y:e.pageY}),this.isTouch(e)||this.multiSelectMouseDown(e),parent=this.svgRenderer._getAttrVal($(e.target).parent(),"id"),isZoomToolkit=parent!=this.svgObject.id+"_ZoomBtn"&&parent!=this.svgObject.id+"_ZoomInBtn"&&parent!=this.svgObject.id+"_ZoomOutBtn"&&parent!=this.svgObject.id+"_ResetZoom"&&parent!=this.svgObject.id+"_PanBtn",isZoomToolkit&&this.model.zooming.enable&&!this.model.isLazyZooming&&!this.panning&&this.model.AreaType=="cartesianaxes"?this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mouseDownY<model.m_AreaBounds.Y+model.m_AreaBounds.Height&&this.mouseDownY>=model.m_AreaBounds.Y&&!this.isTouch(e)&&((isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex))&&(this.drag=!0),this.disableTrackBall()):(isZoomToolkit&&this.panning||$(e.target)[0].className=="e-hhandle e-box")&&(mousePanCords=this.calMousePosition(e),this.mousePanX=mousePanCords.X,this.mousePanY=mousePanCords.Y,this.mousePanX>=model.m_AreaBounds.X&&this.mousePanX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mousePanY<model.m_AreaBounds.Y+model.m_AreaBounds.Height+18&&this.mousePanY>=model.m_AreaBounds.Y&&(this.doPan=!0)),(this.rotateActivate||this.doPan)&&(this.oPreviousCoords={x:e.pageX,y:e.pageY}))},chartMouseLeave:function(n){this.cancelEvent(n);this.isTouch(n)||($("[id*=_TrackSymbol]").remove(),this._removeHighlight(),this._removeTrackBall(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove(),$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&$(".tooltipDiv"+this._id).remove());var t=$.extend({},ej.EjSvgRender.commonChartEventArgs);t.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:n.target.id,pageX:n.pageX,pageY:n.pageY};this._trigger("chartMouseLeave",t)},_doClick:function(n){var gt,vt,h,e,o,d,tt,pt,it,c,y,f,t,wt,i,p,w,ft,u,et,nt,ot,st,bt,r;this.drag=!1;this.model.crosshairMoved||this._removeHighlight();this.model.selectedDataPointIndexes||(this.model.selectedDataPointIndexes=[]);this.model.clusterPoints=[];this.model._isStateChaged=!1;var i,u,kt,a,s,ht=this.getEvent(n),ct=ht.pageX,lt=ht.pageY,b=10,ui=n.target.id,fi=this.svgObject.id,k=this.model._visibleSeries,at=this.isZoomButtonHovered(n.target),v=n.target.id,dt;if(kt=k.length,s=this.GetSeriesPoint(n),s?(i=s.region.SeriesIndex,u=s.region.Region.PointIndex):this.model.selectionEnable&&(this.model.enable3D||n.target.id.indexOf("LegendItem")!=-1||this.model.AreaType=="none"||(h=n.target.id,e=h.match(/(\d+)/g),!e||h.indexOf("symbol")==-1&&h.indexOf("Series")==-1||h.indexOf("Text")!=-1?e&&(h.indexOf("Text")!=-1||h.indexOf("dataLabel")!=-1)&&(i=parseInt(e[0].charAt(1)),u=isNaN(parseInt(e[0].charAt(0)))?parseInt(e[0].charAt(1)):parseInt(e[0].charAt(0))):(i=parseInt(e[0]),u=isNaN(parseInt(e[1]))?0:parseInt(e[1])))),!at||this.model.enableCanvasRendering){for(f=0;f<this.model._visibleSeries.length;f++)if(a=this.model._visibleSeries[f],o=a.type.toLowerCase(),this.model.AreaType=="cartesianaxes"&&a.visibility.toLowerCase()=="visible"&&o!=="scatter"&&o!=="bubble"&&o!=="column"&&o.indexOf("bar")==-1&&o!=="stackingcolumn"&&o!=="stackingcolumn100"&&!a._hiloTypes){var yt=this.calMousePosition(n);this.mousemoveX=yt.X;this.mousemoveY=yt.Y;d=this.getClosesPointXY([],[],a,this.mousemoveX,this.mousemoveY,n);ej.util.isNullOrUndefined(d.point)||(i=f,u=d.index,tt=$.extend({},ej.EjSvgRender.commonChartEventArgs),tt.data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:f,Region:{PointIndex:d.index}}},this._trigger("pointRegionClick",tt))}s&&(!at||this.model.enableCanvasRendering)&&(r=$.extend({},ej.EjSvgRender.commonChartEventArgs),r.data=s,this._trigger("pointRegionClick",r))}if(this.model.AreaType=="none"&&this.model.enable3D&&$(n.target)[0].nodeName=="path"&&(!this.isTouch(n)||Math.abs(ct-this.model.cachedX)<b&&Math.abs(lt-this.model.cachedY)<b))if(l=$(n.target)[0].id.match(/(\d+)/g),i=parseInt(l[l.length-2]),u=parseInt(l[l.length-1]),pt=this.model._visibleSeries[i].explodeIndex,it=this.model._visibleSeries[i]._visiblePoints[u].actualIndex,this.model._visibleSeries[i].explodeIndex=pt==it?null:it,this.vmlRendering||this.model.enableCanvasRendering||(c=this.selectedStyle(this)),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),this.draw(),this.model.AreaType=="none"){this.model._isStateChaged=!1;var g,ni=c.length,rt="_Region_Series_"+i+"_Point_"+u,ut=$(this.svgObject).find("[id$="+rt+"],[id*="+rt+"back],[id*="+rt+"front]"),ti=ut.length;for(y=0;y<ni;y++)for(f=0;f<ti;f++)c[y].id==ut[f].id&&(g=c[y].className,g.indexOf("SelectionStyle")<0&&g.indexOf("Selection"+dt+"Style")<0&&$("[id="+ut[f].id+"]").attr("class",g));c.pattern&&this.svgRenderer.append(c.pattern,this.svgObject)}else $("[id*="+this.svgObject.id+"_LegendItemShape],[id*=_Region_Series_]").each(function(){$(this).attr("class","")});if(t=this.getLegendData(n),t&&($("#template_group_"+this._id).remove(),r=$.extend({},ej.EjSvgRender.commonChartEventArgs),r.data=t,this._trigger("legendItemClick",r),i=t.legendItem.LegendItem.SeriesIndex,!this.model.legend.toggleSeriesVisibility&&t.series.selectionSettings.enable&&(this.model._isStateChaged=!1,this.legendSelection(this,t,n,s)),!r.cancel&&this.model.legend.toggleSeriesVisibility)){for($("[id*="+this._id+"_Selection_]").remove(),wt=this.model._visibleSeries.length,this.model.AreaType!="none"||this.model.AreaType=="none"&&o!="pieofpie"&&o!="pyramid"&&o!="funnel"&&wt>1?(i=t.legendItem.LegendItem.SeriesIndex,p=t.legendItem.LegendItem.TrendLineIndex,ej.util.isNullOrUndefined(p)?(t.series.visibility=t.series.visibility.toLowerCase()==="visible"?"hidden":"visible",this.model.series[i].visibility=t.series.visibility,this._notifyArrayChange&&this._notifyArrayChange("series["+i+"]visibility",t.series.visibility)):(w=t.series.trendlines[p].visibility.toLowerCase(),w=w==="visible"?"hidden":"visible",this.model.series[i].trendlines[p].visibility=w,this._notifyArrayChange&&this._notifyArrayChange("series["+i+"].trendlines["+p+"].visibility",w))):(this.model._isPieOfPie?(ft=this._getPieOfPiePoint(t.legendItem.LegendItem.ActualIndex,t.series,t)._visibility,u=t.legendItem.LegendItem.ActualIndex):(ft=t.series.visiblePoints[t.legendItem.LegendItem.PointIndex]._visibility,u=t.series.visiblePoints[t.legendItem.LegendItem.PointIndex].actualIndex),t.series.points[u]._visibility=ft==="visible"?"hidden":"visible"),this.model.enableCanvasRendering&&(et=document.getElementById(this._id).getClientRects()[0],this.svgRenderer.ctx.clearRect(0,0,et.width,et.height),$("#"+this._id).find('[id*="canvas_symbol"]').remove()),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),nt=0;nt<this.model.series.length;nt++)this.model.series[nt].regionAdded=!1;this.model.legendCollapsed=!0;this.disableAnimation();this.draw();this.enableAnimation();this.model.AreaType!="none"&&this.zoomed&&this._enableZoomingButtons()}if(ot=this.getAxisLabelData(n),ot&&(r=$.extend({},ej.EjSvgRender.commonChartEventArgs),r.data=ot,this._trigger("axisLabelClick",r)),st=this.getAxisMultiLevelLabelsData(n),st&&(r=$.extend({},ej.EjSvgRender.commonChartEventArgs),r.data=st,this._trigger("multiLevelLabelClick",r)),v.indexOf("annotation_")>=0){var ii=v.lastIndexOf("_"),ri=v.substr(ii+1,v.length),l=parseInt(ri),r=$.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={location:{x:this.mousemoveX,y:this.mousemoveY},contentData:this.model.annotations[l],pageX:n.pageX,pageY:n.pageY};this._trigger("annotationClick",r)}bt=ej.isNullOrUndefined(i)?!1:this.model._visibleSeries[i].selectionSettings.enable;!ej.isNullOrUndefined(i)&&!t&&bt&&(!this.isTouch(n)||!this.model.crosshairMoved&&Math.abs(ct-this.model.cachedX)<b&&Math.abs(lt-this.model.cachedY)<b)&&(gt=k[i].selectionSettings.type.toLowerCase()=="multiple"?!0:!1,vt=k[i].selectionSettings.mode,vt.toLowerCase()!="range"&&this.segmentSelection(n,t,i,u,s,k));this.model.crosshairMoved=!1;r=$.extend({},ej.EjSvgRender.commonChartEventArgs);r.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:v,pageX:n.pageX,pageY:n.pageY};this._trigger("chartClick",r)},getTargetId:function(n,t,i){var r,u=this.model._visibleSeries[n].type.toLowerCase(),f=(u.indexOf("area")!=-1||u.indexOf("line")!=-1||u.indexOf("scatter")!=-1?!0:!1)?!0:!1;return this.model.enable3D?$("[id*=_Region_Series_"+n+"_Point_"+t+"]").each(function(){r=this.id}):i!="series"||this.model.AreaType=="none"?f?$("[id*="+this.svgObject.id+"_Series"+n+"_Point"+t+"_symbol]").each(function(){r=this.id}):$("[id$="+this.svgObject.id+"_Series"+n+"_Point"+t+"]").each(function(){r=this.id}):$("[id*="+this.svgObject.id+"_Series"+n+"]").each(function(){r=this.id}),r},findCanvasSelection:function(n,t,i){var r;return r=i=="point"?$("#"+this._id+"_Selection_series"+n+"_point_"+t+"_canvas").length:i=="series"?$("#"+this._id+"_Selection_series"+n+"_canvas").length:$("#"+this._id+"_Selection_Cluster_point_"+t+"_canvas").length,r==1?!0:!1},segmentSelection:function(n,t,i,r,u){var y=this.model._visibleSeries,k=y[i],rt,w,st,ht,b,ct,a,lt,f,at;if(ej.isNullOrUndefined(k))return 0;var d=k.selectionSettings,yt=d.enable,p=d.type.toLowerCase()=="multiple"?!0:!1,e=d.mode,ut=!1,vt=this,v,c,l,ft,h,s,u,o,g,et,nt,tt,ot,it;if(this.model.isSelected=!0,!ej.isNullOrUndefined(r)&&e=="cluster"){for(rt=[],ht=y[i]._visiblePoints[r].xValue,b=0,ct=y.length;b<ct;b++)for(w=y[b].points,st=w.length,a=0;a<st;a++)ht==w[a].xValue&&w[a].isEmpty==!1&&w[a].visible==!0&&(rt[rt.length]={seriesIndex:b,pointIndex:a});this.model.clusterPoints=rt}if(this.model.enableCanvasRendering||(v=this.getTargetId(i,r,e),v&&(c=$("#"+v)[0].parentNode.id,lt=$("#"+c)[0],lt!=null&&c&&(ft=c.indexOf(this.svgObject.id+"_TextGroup_")>=0||c.indexOf(this.svgObject.id+"_symbolGroup")>=0?!0:!1,c.indexOf(this.svgObject.id+"_TrackSymbol_")>=0&&(ft=!0,ut=!0)))),this.model.enableCanvasRendering?l=this.findCanvasSelection(i,r,e):(it=$("#"+v).attr("class")?$("#"+v).attr("class"):"",l=it.indexOf("Selection")!=-1?!0:!1,this.model.enable3D&&(it=$("[id*=_Region_Series_"+i+"_Point_"+r+"]").attr("class")?$("[id*=_Region_Series_"+i+"_Point_"+r+"]").attr("class"):"",l=it.indexOf("Selection")!=-1?!0:!1)),(l||!p||p)&&(this.removeSelection(i,r,y,e,p,t,l),u=this.model.selectedDataPointIndexes,o=u.length,o>0&&!this.model._isStateChaged))if(p){if(l)for(f=0;f<o;f++)h=u[f].seriesIndex,s=u[f].pointIndex,g=e=="series"&&h==i,nt=(e=="point"||this.model.AreaType=="none")&&h==i&&s==r,tt=e=="cluster"&&s==r,((g||tt)&&this.model.AreaType!="none"||nt)&&(u.splice(f,1),o=u.length,f=-1)}else for(f=0;f<o;f++)h=u[f].seriesIndex,s=u[f].pointIndex,g=e=="series"&&(h==i&&s==r||h!=i||s!=r),nt=(e=="point"||this.model.AreaType=="none")&&h==i&&s==r,tt=e=="cluster"&&s==r,(g||nt||tt)&&(u.splice(f,1),o=u.length,f=-1);if(!l&&(this.model.enableCanvasRendering?this.canvasSelection(this,n,k,t,i,r,u,d):this.selection(vt,n,k,ut,t,i,r,c,v,u),u=this.model.selectedDataPointIndexes,o=u.length,!this.model._isStateChaged))if(o>0)if(p)u.push({legendData:t,seriesIndex:i,pointIndex:r});else{for(f=0;f<o;f++)h=u[f].seriesIndex,s=u[f].pointIndex,ot=(e=="series"||e=="cluster"||this.model.AreaType=="none")&&(u[f].SeriesIndex!=i||u[f].PointIndex!=r),et=e=="point"&&u[f].SeriesIndex==i,(ot||et)&&(u.splice(f,1),o=this.model.selectedDataPointIndexes.length,f=-1);u.push({legendData:t,seriesIndex:i,pointIndex:r})}else u.push({legendData:t,seriesIndex:i,pointIndex:r});at={selectedData:this.model.selectedDataPointIndexes};this._trigger("seriesRegionClick",at)},legendSelection:function(n,t,i,r){var e=this.model.selectedDataPointIndexes?this.model.selectedDataPointIndexes:[],c=this.model._visibleSeries.length,u=n.model.AreaType=="none"&&c==1?t.legendItem.LegendItem.PointIndex:t.legendItem.LegendItem.SeriesIndex,o=t.legendItem.LegendItem.SeriesIndex,h=u,s=n.svgObject.id+"_LegendItemShape"+u,l=$("#"+s).attr("class")?$("#"+s).attr("class"):"",f;if($("#"+n._id+"_Selection_Legend"+u+"_canvas").length==1||l.indexOf("Selection")!=-1){for($("#"+n._id+"_Selection_Legend"+u+"_canvas").remove(),$("[id*="+n._id+"_Selection_series"+u+"]").remove(),$("#"+this._id+"_Selection_series"+o+"_point_"+h+"_canvas").remove(),$("#"+s).attr("class",""),$("[id*="+n.svgObject.id+"_Series"+o+"]").attr("class",""),$("[id*=_Region_Series_"+o+"]").attr("class",""),f=0;f<e.length;f++)if(e[f].seriesIndex==u||this.model.AreaType=="none"&&e[f].pointIndex==u){e.splice(f,1);break}}else n.segmentSelection(i,t,o,h,r)},chartMouseClick:function(n){this.cancelEvent(n);window.navigator.msPointerEnabled&&(n=n.originalEvent);this._doClick(n)},chartMouseDoubleClick:function(n){window.navigator.msPointerEnabled&&(n=n.originalEvent);var t=$.extend({},ej.EjSvgRender.commonChartEventArgs);t.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:n.target.id,pageX:n.pageX,pageY:n.pageY};this._trigger("chartDoubleClick",t)},drawTrackerSymbol:function(n,t,i,r,u,f,e){var h=n.type.toLowerCase(),a,v,y=new ej.seriesTypes[h],c=n.type.toLowerCase()=="boxandwhisker"?e:i,o=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),p,s,l,w;a=n.isTransposed?n.yAxis.plotOffset:n.xAxis.plotOffset;v=n.isTransposed?n.xAxis.plotOffset:n.yAxis.plotOffset;p={id:this.svgObject.id+"_ClipRectTrack_"+t,x:-a,y:-v,width:o.width+a*2,height:o.height+v*2,fill:"white","stroke-width":1,stroke:"Gray"};this.model.AreaType!="none"&&(this.model.AreaType=="cartesianaxes"&&u.X+o.x<=o.x+o.width&&(u.X+o.x>=o.x||u.X==0)&&(u.Y+o.y>=o.y||u.Y==0)?this.model.crosshair.visible||h=="bubble"||h=="scatter"?(n.trackerRemoved||(s=this.svgObject.id+"_TrackSymbol_"+t,s=h=="boxandwhisker"?s+c:s,$("#"+this._id).find("[id*="+s+"]").remove(),s="canvas_trackSymbol_"+t,s=h=="boxandwhisker"?s+c:s,$("#"+this._id).find("[id*="+s+"]").remove()),l={"clip-path":"url(#"+this.svgObject.id+"_ClipRectTrack_"+t+")","class":"Tracker",id:this.svgObject.id+"_TrackSymbol_"+t+"_"+c,transform:"translate("+o.x+","+o.y+")"},this.gTrackerEle=this.svgRenderer.createGroup(l)):this.gTrackerEle=null:($("#"+this.svgObject.id+"_TrackSymbol_"+t+"_"+c).remove(),l={id:this.svgObject.id+"_TrackSymbol_"+t+"_"+c},this.gTrackerEle=this.svgRenderer.createGroup(l),this.model.enableCanvasRendering||(this.model.AreaType=="polaraxes"?this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_SeriesGroup_"+t+"_ClipRect)"):(this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_ClipRectTrack_"+t+")"),this.gTrackerEle.setAttribute("transform","translate("+o.x+","+o.y+")")))),$("#"+this.svgObject.id+"_CrosshairGroup").length==0&&(w={id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"},this.gTrackball=this.svgRenderer.createGroup(w),this.svgRenderer.append(this.gTrackball,this.svgObject)),this.model.crosshair.marker.visible&&!n.isIndicator&&n._visiblePoints[i].visible&&(y.drawSymbol(t,n,i,u.X,u.Y,this,r,e),u.low&&y.drawSymbol(t,n,i,this.model.requireInvertedAxes?u.low:u.X,this.model.requireInvertedAxes?u.Y:u.low,this,r)),this.gTrackerEle&&$("#"+this.gTrackerEle.id).length<1&&this.svgRenderer.append(this.gTrackerEle,this.gTrackball));$(this.svgObject).find("#"+this.svgObject.id+"_ClipRectTrack_"+t).length!=0||this.vmlRendering||this.svgRenderer.drawClipPath(p,$("#"+this.svgObject.id+"_CrosshairGroup"))},getClosesPointXY:function(n,t,i,r,u,f){var b,s=ej.EjSvgRender.utils._getTransform(i.xAxis,i.yAxis,this.model.requireInvertedAxes),k,d,o,a,nt,p,v,y=10,g=this.isTouch(f),tt=i._visiblePoints?i._visiblePoints.length:0,w,e=i.marker?$.extend(!0,{},i.marker.size):{height:6,width:6},h,c,l;if(e.height=g&&e.height<y*2?e.height+y:e.height,e.width=g&&e.width<y*2?e.width+y:e.width,u<=s.y+s.height&&s.y<=u&&s.x<=r&&r<=s.x+s.width)for(h=0;h<tt;h++){if(o=i._visiblePoints[h],a=o.location,p=!1,nt=h,v=null,w=null,i.type=="boxandwhisker"&&!this.model.enable3D&&!ej.util.isNullOrUndefined(o.boxPlotLocation))for(c=0;c<o.boxPlotLocation.length;c++)l={X:o.boxPlotLocation[c].X,Y:o.boxPlotLocation[c].Y},o.boxPlotLocation[c].outlier==!0&&r>l.X+s.x-e.width&&r<l.X+s.x+e.width&&(v=o.x,ej.util.isNullOrUndefined(v)&&(p=o.visible),u>l.Y+s.y-e.height&&u<l.Y+s.y+e.height+y&&(w=o.boxPlotValues.outliers[c],k={X:l.X,Y:l.Y}),ej.util.isNullOrUndefined(k)||(b=o,d=h));a&&(r>a.X+s.x-e.width/2&&r<a.X+s.x+e.width/2&&(v=o.x,ej.util.isNullOrUndefined(v)&&(p=o.visible)),u>a.Y+s.y-e.height/2&&u<a.Y+s.y+e.height/2&&(w=o.YValues[0]),ej.util.isNullOrUndefined(v)&&!p||ej.util.isNullOrUndefined(w)||(b=o,d=h))}return{point:b,index:d,outlierPosition:k}},getClosestPointX:function(n,t,i,r){var e=[],f=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,this.model.requireInvertedAxes),u;this.model.requireInvertedAxes?(i=Math.abs(r-(f.y+f.height)),r=Math.abs(i-f.x)):(i=Math.abs(i-f.x),r=Math.abs(r-(f.y+f.height)));var s=ej.EjSvgRender.utils._getValuebyPoint(i,r,t,this.model.requireInvertedAxes),h=this.model.requireInvertedAxes?s.PointX:s.PointX,o=[];return $.each(t.points,function(t,i){n.push(i.xValue)}),u=this.getClosest(n,h),ej.util.isNullOrUndefined(u)||(typeof u=="number"?$.each(t._visiblePoints,function(n,t){t.xValue==u&&(e.push(t),o.push(n))}):(u=u.getTime(),$.each(t._visiblePoints,function(n,t){(typeof t.xValue=="number"?t.xValue==u:t.xValue.getTime()==u)&&(e.push(t),o.push(n))}))),{point:e,index:o}},getClosest:function(n,t){var i=null,f,u,r;if(this._beforeMin=!1,this._afterMax=!1,f=Math.min.apply(null,n),u=Math.max.apply(null,n),t>=f-.5&&t<=u+.5){for(r=0;r<n.length;r++)(i==null||Math.abs(n[r]-t)<Math.abs(i-t))&&(i=n[r]);this._closest=null}else t>u?(i=n[n.length-1],this._closest=ej.util.isNullOrUndefined(this._closest)?i:i>this._closest?i:this._closest,this._afterMax=!0):(i=n[0],this._closest=ej.util.isNullOrUndefined(this._closest)?i:i<this._closest?i:this._closest,this._beforeMin=!0);return i},createTooltip:function(n,t,i){var p,k,tt,e,o,it,l,u,d,y,rt,a,nt,b,ft,v,et;i||(i=this.model._visibleSeries[n.SeriesIndex]);var ot=i.type=="pieofpie"?this._getPieOfPiePoint(n.Region.PointIndex,i):(i.type=="pie"||i.type=="doughnut")&&!this.model.enable3D?i._visiblePoints[n.Region.Index]:i._visiblePoints[n.Region.PointIndex],r=this.dragPoint?i.pointCollection[n.Region.PointIndex]:$.extend(!0,{},ot),s=10,st=i.tooltip.isReversed;if(r.visible!==!1){if(p=i.tooltip.format,i.type=="boxandwhisker"){if(k=this.calMousePosition(t),this.mousemoveX=k.X,this.mousemoveY=k.Y,tt=n.Region.Bounds?!0:!1,tt)if(n.Region.Bounds.Width==i.outlierSettings.size.width)for(e=0;e<r.boxPlotLocation.length;e++)r.boxPlotLocation[e].outlier==!0&&r.boxPlotLocation[e].X+i.outlierSettings.size.width/2>this.mousemoveX-i.xAxis.x&&r.boxPlotLocation[e].X-i.outlierSettings.size.width/2<this.mousemoveX-i.xAxis.x&&r.boxPlotLocation[e].Y+i.outlierSettings.size.height/2>this.mousemoveY-i.yAxis.y&&r.boxPlotLocation[e].Y-i.outlierSettings.size.height/2<this.mousemoveY-i.yAxis.y&&(o=this.getTooltipFormat(r,i,n.SeriesIndex,n.Region.PointIndex,p,r.boxPlotLocation[e]),r.x=o.data.x,r.y=o.text);else o=this.getTooltipFormat(r,i,n.SeriesIndex,n.Region.PointIndex,p,r.boxPlotLocation[0]),r.x=o.data.x,r.y=o.text}else o=this.getTooltipFormat(r,i,n.SeriesIndex,n.Region.PointIndex,p),r.x=o.data.x,r.y=o.data.y;it=null;l=$.extend({},ej.EjSvgRender.commonChartEventArgs);l.data={currentText:it,seriesIndex:n.SeriesIndex,pointIndex:n.Region.PointIndex,series:i};this._trigger("toolTipInitialize",l);u=$(".tooltipDiv"+this._id);$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden");$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide();$(".tooltipDiv"+this._id).length==0?(this.tooltipFirst=!0,u=$("<div><\/div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),$(document.body).append(u),$(".tooltipDiv"+this._id).addClass(this.svgObject.id)):($(".tooltipDiv"+this._id).css("display","block"),this.tooltipFirst=!1);i.tooltip.template!=null?(d=$("#"+i.tooltip.template).clone(),$(".tooltipDiv"+this._id)[0].innerHTML="",$(d).css("display","block").appendTo(u),i.count=1,r.count=1,y=this.getSeriesColor(r,n.SeriesIndex,i),y?$(u).css("background-color",jQuery.type(y)=="array"?y[0].color:y):$(u).css("background-color",this.model.pointColors[n.Region.PointIndex]),rt={series:i,point:r},ej.util.isNullOrUndefined(l.data.currentText)?$(u).html($(u).html().parseTemplate(rt)):$(u).html($(d).html(l.data.currentText))):$(u).html(l.data.ToolTip);var h=this.model.m_AreaBounds,f=t.pageX+s,c=t.pageY+s,w=$(u).width(),ut=$(u).height(),g=document.getElementById(this.svgObject.id).getClientRects()[0];(f===undefined||f===null)&&(f=t.pageX+s);(c===undefined||c===null)&&(c=t.pageY+s);a=f;nt=c;f-$(this.svgObject).offset().left+w>h.X+h.Width&&(b=f-(w+2*s),a=b+$(document).scrollLeft());c-$(this.svgObject).offset().top+ut>h.Y+h.Height&&(b=c+ut-(h.Y+h.Height+g.top),nt=c-b+$(document).scrollTop());a<0&&(ft=$("#"+this._id)[0].getBoundingClientRect(),t.pageX<ft.width/2?a=f:($(u).css("width",f-2*s),a=0));$(u).css("left",a);$(u).css("top",nt);v=i.tooltip;v.enableAnimation&&$(u).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":v.duration,"-moz-transition-duration":v.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":v.duration,"-o-transition-duration":v.duration});et=$(u)[0].getBoundingClientRect();et.top<h.Y+g.top&&$(u).css("top",h.Y+g.top+$(document).scrollTop());st&&($(u).css("left",f-(w+s*2)),f-(w+s*2)<i.xAxis.x&&$(u).css("left",f))}},translate:function(n,t,i,r){var u=n.orientation.toLowerCase()=="horizontal"?t/n.width/r:i/n.height/r;n.zoomPosition=n.orientation.toLowerCase()=="horizontal"?ej.EjSvgRender.utils._minMax(n.zoomPosition+u,0,1-n.zoomFactor):ej.EjSvgRender.utils._minMax(n.zoomPosition-u,0,1-n.zoomFactor)},highlightFill:function(n,t,i,r,u){var e=t.model.seriesColors,h=t.model.pointColors,s=n.color,c=this.model._visibleSeries.length,o,f;return u&&t.model.AreaType=="none"&&(c==1?r=u.legendItem.LegendItem.PointIndex:i=u.legendItem.LegendItem.SeriesIndex),o=u?e[i]:r?t.model.series[i].points[r]?t.model.series[i].points[r].fill:null:null,f=s!=""?s:t.model.AreaType=="none"?h[r]:u?e[i]:o?o:e[i],Object.prototype.toString.call(f)==="[object Array]"&&(f=f[1].color),f},canvasHighlight:function(n,t,i,r){var o=i.highlightSettings,ft=i.data,h=o.color,l=o.opacity,a=o.border.color,v=o.border.width,k=o.pattern.toLowerCase(),bt=n.model.legend.visible,w=o.mode,c=i.seriesIndex,s=i.pointIndex,f=i.type.toLowerCase(),it=document.getElementById(n._id+"_canvas").getBoundingClientRect(),e=[],et=[],d=[],lt=this.model._visibleSeries.length,vt,yt,y,g=this.highlightFill(o,n,c,s,r),pt,rt,ut,nt,ot,i,tt,ht,st,b,ct,at,wt,u,p;if(n.model.AreaType!="none"||n.model.AreaType=="none"&&lt>1&&(w=="series"||r))for(u=0,p=n.model.chartRegions.length;u<p;u++)(w=="series"||r)&&c==n.model.chartRegions[u].SeriesIndex&&e.push(n.model.chartRegions[u].Region);else for(u=0,p=n.model.chartRegions.length;u<p;u++)c==n.model.chartRegions[u].SeriesIndex&&s==n.model.chartRegions[u].Region.PointIndex&&e.push(n.model._isPieOfPie?n._getPieOfPiePoint(n.model.chartRegions[u].Region.PointIndex,i):n.model.chartRegions[u].Region[s]);if(w=="cluster"&&n.model.Areatype!="none"&&typeof s!="undefined")for(pt=n.model._visibleSeries[c]._visiblePoints[s].xValue,u=0,p=n.model._visibleSeries.length;u<p;u++)for(rt=0;rt<n.model._visibleSeries[u]._visiblePoints.length;rt++)pt==n.model._visibleSeries[u]._visiblePoints[rt].xValue&&(d[d.length]={seriesIndex:u,pointIndex:rt});for(ut=0;ut<d.length;ut++)for(vt=d[ut].seriesIndex,yt=d[ut].pointIndex,nt=0;nt<n.model.chartRegions.length;nt++)vt==n.model.chartRegions[nt].SeriesIndex&&yt==n.model.chartRegions[nt].Region.PointIndex&&(w!="cluster"?e.push(n.model.chartRegions[nt].Region):e.push(n.model.chartRegions[nt]));if(ot=n.model.AreaType=="none"&&lt==1?s:c,(w=="series"||r)&&$("#"+n._id+"_Selection_series"+ot+"_canvas").length==0&&$("#"+n._id+"_Selection_Cluster_point_"+s+"_canvas").length==0&&$("#"+n._id+"_Selection_"+c+"_point_"+s+"_canvas").length==0)if(et=i._visiblePoints,y=this.createCanvasElement(n._id+"_Highlight_series"+c+"_canvas",n.svgWidth,n.svgHeight,it),h=k=="none"||k==""?g:this.canvasPattern(y,n,t,g,o),this.createRect(n,y),f.indexOf("column")!=-1||f.indexOf("waterfall")!=-1||f.indexOf("bar")!=-1)for(u=0;u<e.length;u++)st=$("#"+n._id+"_Selection_"+c+"_point_"+u+"_canvas").length==0?!0:!1,this.canvasSeriesRect(e[u],l,a,v,h,st,i);else f=="pie"||f=="doughnut"||f=="pieofpie"?(e=lt==1?e:e[0],this.canvasHighlightCircle(n,o,s,l,a,v,h,e,f,y)):f=="pyramid"||f=="funnel"?this.canvasHighlightPyramid(n,e[0],o,y,l,a,v,h,f):f=="bubble"?this.canvasBubbleHighlight(o,e,n,c,h,v,l,a):f=="scatter"&&this.canvasScatterHighlight(e,h,v,l,a);else if(w=="cluster"&&$("#"+n._id+"_Selection_Cluster_point_"+s+"_canvas").length==0&&this.model.AreaType!="none"&&$("#"+n._id+"_Selection_"+c+"_point_"+s+"_canvas").length==0&&$("#"+n._id+"_Selection_series"+c+"_canvas").length==0){for(u=0,p=this.model._visibleSeries.length;u<p;u++)i=this.model._visibleSeries[u],i.seriesIndex=u,et.push(i._visiblePoints[s]);for(tt=[],ht=[],y=this.createCanvasElement(n._id+"_Highlight__Cluster_point_"+s+"_canvas",n.svgWidth,n.svgHeight,it),this.createRect(n,y),u=0,p=this.model._visibleSeries.length;u<p;u++){for(tt=[],o=n.model._visibleSeries[u].highlightSettings,h=o.color,l=o.opacity,a=o.border.color,v=o.border.width,k=o.pattern.toLowerCase(),g=this.highlightFill(o,n,u,s,ot,r),h=k=="none"||k==""?g:this.canvasPattern(y,n,t,g,o),ht.push(h),b=0,ct=e.length;b<ct;b++)e[b].SeriesIndex==u&&tt.push(e[b].Region);if(f.indexOf("column")!=-1||f.indexOf("waterfall")!=-1||f.indexOf("bar")!=-1)for(st=$("#"+n._id+"_Selection_"+u+"_point_"+s+"_canvas").length==0?!0:!1,b=0,ct=tt.length;b<ct;b++)this.canvasSeriesRect(tt[b],l,a,v,h,st,i);else f=="bubble"?this.canvasBubbleHighlight(o,tt,n,u,h,v,l,a):f=="scatter"&&this.canvasScatterHighlight(tt,h,v,l,a)}}else(w=="cluster"&&this.model.AreaType=="none"||w=="point"&&$("#"+n._id+"_Selection_"+c+"_point_"+s+"_canvas").length==0&&$("#"+n._id+"_Selection_series"+c+"_canvas").length==0&&$("#"+n._id+"_Selection_Cluster_point_"+s+"_canvas").length==0)&&(et[0]=this.model._isPieOfPie?this._getPieOfPiePoint(s,i):i._visiblePoints[s],y=this.createCanvasElement(n._id+"_Highlight_"+c+"_point_"+s+"_canvas",n.svgWidth,n.svgHeight,it),this.createRect(n,y),h=k=="none"||k==""?g:this.canvasPattern(y,n,t,g,o),f.indexOf("column")!=-1||f.indexOf("waterfall")!=-1||f.indexOf("bar")!=-1?(e=[],e[0]=ft.region.Region,this.canvasSeriesRect(e[0],l,a,v,h,!0,i)):f=="pie"||f=="doughnut"||f=="pieofpie"?(e=[],e[0]=ft.pointData[0],this.canvasHighlightCircle(n,o,s,l,a,v,h,e,f,y)):f=="pyramid"||f=="funnel"?this.canvasHighlightPyramid(n,e[0],o,y,l,a,v,h,f):f=="bubble"?(e=[],e[0]=ft.region.Region,this.canvasBubbleHighlight(o,e,n,c,h,v,l,a)):f=="scatter"&&(e=[],e[0]=ft.region.Region,this.canvasScatterHighlight(e,h,v,l,a)));if(bt&&$("#"+n._id+"_Selection_Legend"+ot+"_canvas").length==0)if(w!="cluster"||r||this.model.AreaType=="none")this.canvasHighlightLegend(n,i,o,"Highlight",it,h);else for(u=0,p=d.length;u<p;u++)at=d[u].seriesIndex,wt=this.model._visibleSeries[at],this.canvasHighlightLegend(n,wt,o,"Highlight",it,ht[at]);i.visibility==="visible"&&i.marker.visible==!0&&this.model.AreaType!="none"&&this.canvasHighlightMarker(n,i,et,o,y,t,ht)},canvasSeriesRect:function(n,t,i,r,u,f,e){var o={opacity:t,stroke:i,"stroke-width":r,fill:u},s=e.cornerRadius,h,c;n&&(o.x=n.Bounds.X,o.y=n.Bounds.Y,o.width=n.Bounds.Width,o.height=n.Bounds.Height,f&&(typeof s!="object"&&s>0||s.topLeft>0||s.bottomLeft>0||s.topRight>0||s.bottomRight>0?(c=ej.EjSvgRender.utils._calculateroundedCorner(s,o),o.d=c,ej.EjCanvasRender.prototype.drawPath(o,h)):this.drawRect(o,h)))},canvasSelection:function(n,t,i,r,u,f,e,o){var ft,yt,st,dt,gt,et,h,ni,ti,ii,ht,ri,tt,nt,pt,ot,ui,ct,fi;i.seriesIndex=u;i.pointIndex=f;var it=this.model._visibleSeries,c=o.color,a=o.opacity,v=o.border.color,y=o.border.width,k=o.pattern.toLowerCase(),wt=n.model.legend.visible,d=o.mode,s=i.type.toLowerCase(),rt=document.getElementById(n._id+"_canvas").getBoundingClientRect(),l=[],ut=[],lt=this.model._visibleSeries.length,w=n.model.chartRegions,at=this.model.clusterPoints,oi={seriesIndex:u,series:i},ei=n.model.AreaType=="none"&&lt==1?f:u,g=this.highlightFill(o,n,u,f,r,e),vt,bt,kt,b,p;if(vt=w.length,n.model.AreaType!="none"||n.model.AreaType=="none"&&lt>1)for(h=0;h<vt;h++)((d=="series"||r)&&u==w[h].SeriesIndex||(d=="point"||r)&&u==w[h].SeriesIndex&&f==w[h].Region.PointIndex)&&(n.model.AreaType!="none"||d!="point"||r?l.push(w[h].Region):l.push(w[h].Region[f]));else if(vt>0){if(this.model._isPieOfPie){if(r)for(ft=0;ft<i.pieCollections.length;ft++)for(yt=i.pieCollections[ft],st=0;st<yt.length;st++)if(yt[st].actualIndex==r.legendItem.LegendItem.PointIndex){dt=ft;break}gt=i.data?i.data.pointData[0].PieSeriesIndex:dt;et=w[gt]}else et=w[0];for(bt=et.Region.length,h=0;h<bt;h++)f==et.Region[h].PointIndex&&l.push(et.Region[h])}if((d=="series"||r)&&(this.model.AreaType!="none"||this.model.AreaType=="none"&&lt>1))if(ut=i._visiblePoints,p=this.createCanvasElement(n._id+"_Selection_series"+ei+"_canvas",n.svgWidth,n.svgHeight,rt),c=k=="none"||k==""?g:this.canvasPattern(p,n,t,g,o),this.createRect(n,p),s.indexOf("column")!=-1||s.indexOf("waterfall")!=-1||s.indexOf("bar")!=-1)for(h=0;h<l.length;h++)this.canvasSeriesRect(l[h],a,v,y,c,!0,i);else s=="pie"||s=="doughnut"||s=="pieofpie"?this.canvasHighlightCircle(n,o,f,a,v,y,c,l[0],s,p):s=="bubble"?this.canvasBubbleHighlight(o,l,n,u,c,y,a,v):s=="scatter"&&this.canvasScatterHighlight(l,c,y,a,v);else if(d=="cluster"&&this.model.AreaType!="none"&&$("#"+n._id+"_Selection_Cluster_point_"+f+"_canvas").length==0){for(ni=at.length,tt=0;tt<ni;tt++)ti=at[tt].seriesIndex,ii=at[tt].pointIndex,ht=$.grep(w,function(n){return n.SeriesIndex==ti&&n.Region.PointIndex==ii}),ri=ht.length,ri>0?(l.push(ht[0]),ut.push(it[ht[0].SeriesIndex]._visiblePoints[f])):ut.push(it[tt]._visiblePoints[f]);for(this.selectedPoint=f,nt=[],pt=[],p=this.createCanvasElement(n._id+"_Selection_Cluster_point_"+f+"_canvas",n.svgWidth,n.svgHeight,rt),this.createRect(n,p),h=0,kt=it.length;h<kt;h++){for(nt=[],b=it[h].selectionSettings,c=b.color,a=b.opacity,v=b.border.color,y=b.border.width,k=b.pattern.toLowerCase(),g=this.highlightFill(b,n,h,f,r),c=k=="none"||k==""?g:this.canvasPattern(p,n,t,g,b),pt.push(c),ot=0,ui=l.length;ot<ui;ot++)l[ot].SeriesIndex==h&&nt.push(l[ot].Region);if(s.indexOf("column")!=-1||s.indexOf("waterfall")!=-1||s.indexOf("bar")!=-1)for(ct=0,fi=nt.length;ct<fi;ct++)this.canvasSeriesRect(nt[ct],a,v,y,c,!0,i);else s=="bubble"?this.canvasBubbleHighlight(b,nt,n,h,c,y,a,v):s=="scatter"&&this.canvasScatterHighlight(nt,c,y,a,v);!r&&this.model.AreaType!="none"&&wt&&(i=it[h],i.seriesIndex=h,this.canvasHighlightLegend(n,i,o,"Selection_Cluster",rt,c))}}else(d=="point"&&$("#"+n._id+"_Selection_"+u+"_point_"+f+"_canvas").length==0||this.model.AreaType=="none")&&(this.selectedPoint=f,ut[0]=this.model._isPieOfPie?this._getPieOfPiePoint(f,i):i._visiblePoints[f],p=this.createCanvasElement(n._id+"_Selection_series"+u+"_point_"+f+"_canvas",n.svgWidth,n.svgHeight,rt),this.createRect(n,p),c=k=="none"||k==""?g:this.canvasPattern(p,n,t,g,o),s.indexOf("column")!=-1||s.indexOf("waterfall")!=-1||s.indexOf("bar")!=-1?this.canvasSeriesRect(l[0],a,v,y,c,!0,i):s=="pie"||s=="doughnut"||s=="pieofpie"?this.canvasHighlightCircle(n,o,f,a,v,y,c,l,s,p):s=="pyramid"||s=="funnel"?this.canvasHighlightPyramid(n,l[0],o,p,a,v,y,c,s):s=="bubble"?this.canvasBubbleHighlight(o,l,n,u,c,y,a,v):s=="scatter"&&this.canvasScatterHighlight(l,c,y,a,v));wt&&(d!="cluster"||r)&&this.canvasHighlightLegend(n,i,o,"Selection",rt,c);i.marker.visible==!0&&this.model.AreaType!="none"&&this.canvasHighlightMarker(n,i,ut,o,p,t,pt)},createRect:function(n,t){n.model.AreaType!="none"&&(t.lineWidth=0,t.strokeStyle="transparent",t.rect(n.model.m_AreaBounds.X,n.model.m_AreaBounds.Y,n.model.m_AreaBounds.Width,n.model.m_AreaBounds.Height),t.clip(),t.stroke(),t.save())},canvasHighlightPyramid:function(n,t,i,r,u,f,e,o,s){var v=i.color!=""?i.color:n.model.pointColors[t.PointIndex],a=n.model.title.text?ej.EjSvgRender.utils._measureText(n.model.title.text,$(this.svgObject).width()-n.model.margin.left-n.model.margin.right,n.model.title.font):0,h=n.pyrX=(n.model.legend.position.toLowerCase()==="left"?n.model.LegendViewerBounds.Width:0)+n.model.elementSpacing+n.model.margin.left,c=n.pyrY=(n.model.legend.position.toLowerCase()==="top"?n.model.LegendViewerBounds.Height:0)+(n.model.title.text?n.model._titleLocation.Y+a.height:n.model.margin.top+n.model.elementSpacing),l={opacity:u,stroke:f,"stroke-width":e,fill:o,type:s,d:"M "+(h+t.Line1.x)+" "+(c+t.Line1.y)+" L "+(h+t.Line2.x)+" "+(c+t.Line2.y)+" L "+(h+t.Line3.x)+" "+(c+t.Line3.y)+" L "+(h+t.Line4.x)+" "+(c+t.Line4.y)+" z"};s=="funnel"&&(l.d="M "+(h+t.Line1.x)+" "+(c+t.Line1.y)+" L "+(h+t.Line2.x)+" "+(c+t.Line2.y)+" L "+(h+t.Line3.x)+" "+(c+t.Line3.y)+" L "+(h+t.Line4.x)+" "+(c+t.Line4.y)+" L "+(h+t.Line5.x)+" "+(c+t.Line5.y)+" L "+(h+t.Line6.x)+" "+(c+t.Line6.y)+" z");ej.EjCanvasRender.prototype.drawPath(l,r)},canvasScatterHighlight:function(n,t,i,r,u){for(var o,f={},s={},h,e=0;e<n.length;e++)o={startX:n[e].Bounds.X+n[e].Bounds.Height/2,startY:n[e].Bounds.Y+n[e].Bounds.Width/2},s.height=n[e].Bounds.Height,s.width=n[e].Bounds.Width,f={},f.ShapeSize=s,f.cx=o.startX,f.cy=o.startY,f.Style={},f.Style.BorderColor=u,f.Style.Color=t,f.Style.Opacity=r,f.Style.BorderWidth=i,ej.EjSvgRender.chartSymbol._drawCircle(o,f,this,h)},canvasBubbleHighlight:function(n,t,i,r,u,f,e,o){for(var h,l,c={},a,s=0;s<t.length;s++)h=t[s].Bounds.Height/2,l=n.color!=""?n.color:i.model.seriesColors[r],c={cx:t[s].Bounds.X-this.model.series[r].xAxis.x+h+this.canvasX,cy:t[s].Bounds.Y-this.model.series[r].yAxis.y+h+this.canvasY,r:h,fill:u,"stroke-width":f,opacity:e,stroke:o},ej.EjCanvasRender.prototype.drawCircle(c,a)},canvasHighlightCircle:function(n,t,i,r,u,f,e,o,s,h){for(var a,l,c=0;c<o.length;c++)a=t.color!=""?t.color:t.mode=="series"&&n.model._visibleSeries.length>1?n.model.pointColors[c]:n.model.pointColors[i],l={opacity:r,stroke:u,lineWidth:f,color:e,x:o[c].StartX,y:o[c].StartY,radius:n.model._isPieOfPie?n.model.circularRadius[o[c].PieSeriesIndex]:n.model.circularRadius[o[c].SeriesIndex],innerRadius:n.model.innerRadius[o[c].SeriesIndex],startAngle:o[c].StartAngle,endAngle:o[c].EndAngle,type:s},this.highlightSegment(h,l)},canvasHighlightMarker:function(n,t,i,r,u,f,e){var s=r,y=s.pattern.toLowerCase(),p=t.type.toLowerCase(),o={},w=s.color!=""?s.color:n.model.seriesColors[t.seriesIndex],b,h,a,c,v,l;for(b=y=="none"||y==""?w:this.canvasPattern(u,n,f,w,s),o.Style={},o.Style.BorderColor=s.border.color,o.Style.Opacity=s.opacity,o.Style.BorderWidth=s.border.width,l=0;l<i.length;l++)h=i[l].symbolLocation,h=p.indexOf("line")!=-1||p.indexOf("area")!=-1?i[l].location:i[l].symbolLocation,h&&(a=this.model.AreaType=="cartesianaxes"?{startX:h.X+this.canvasX,startY:h.Y+this.canvasY}:{startX:h.X,startY:h.Y},c=t.marker,v,$.each(n.model.symbolShape,function(n){c.shape.toLowerCase()==n.toLowerCase()&&(v=n)}),o.ShapeSize=c.size,o.r=Math.sqrt(c.size.height*c.size.height+c.size.width*c.size.width)/2,o.cx=a.startX,o.cy=a.startY,o.Style.Color=e?e[l]:b,ej.EjSvgRender.chartSymbol["_draw"+v](a,o,n,u))},canvasHighlightLegend:function(n,t,i,r,u,f){var s=this.model._visibleSeries.length,h,e,o=n.model.AreaType=="none"&&s==1?t.pointIndex:t.seriesIndex,a=n._id+"_"+r+"_Legend"+o+"_canvas";if($("#"+a).length==0&&o<t.points.length){h=this.createCanvasElement(n._id+"_"+r+"_Legend"+o+"_canvas",n.svgWidth,n.svgHeight,u);e=n.model.AreaType!="none"||n.model.AreaType=="none"&&s>1?n.model.legendRegion[t.seriesIndex]:n.model.legendRegion[t.pointIndex];var c={startX:e.Bounds.LegendBound.X+e.Location.startX,startY:e.Bounds.LegendBound.Y+e.Location.startY},v={svgRenderer:n.svgRenderer,svgObject:n.svgObject},l={SeriesIndex:o,Style:{Color:f,Opacity:i.opacity,Visibility:!0,BorderWidth:0,BorderColor:f},context:!0,ShapeSize:e.Style.ShapeSize};e.SymbolShape.toLowerCase()=="seriestype"?(n.legendItem=e.LegendItem,ej.EjSvgRender.chartSymbol["_draw"+e.SymbolShape](c,l,n)):ej.EjSvgRender.chartSymbol["_draw"+e.SymbolShape](c,l,v,h)}},createCanvasElement:function(n,t,i,r){var e,o,u=document.createElement("canvas"),s=jQuery(this.element).attr("id"),f;return u.setAttribute("id",n),u.height=i,u.width=t,u.style["touch-action"]&&(u.style["touch-action"]="none"),u.style["-ms-touch-action"]&&(u.style["-ms-touch-action"]="none"),this.svgRenderer.append(u,this.element),f=document.getElementById(n),f.style.left=r.left+$(document).scrollLeft()+"px",f.style.top=r.top+$(document).scrollTop()+"px",f.style.position="absolute",e=$("#"+this._id+"_canvas").offset(),o=$(f).offset(),e.left<o.left&&(f.style.left=r.left-Math.abs(e.left-o.left)+$(document).scrollLeft()+"px"),e.top<o.top&&(f.style.top=r.top-Math.abs(e.top-o.top)+$(document).scrollTop()+"px"),u.getContext("2d")},highlightSegment:function(n,t){n.save();n.beginPath();t.type=="pie"||t.type=="pieofpie"?(n.moveTo(t.x,t.y),n.arc(t.x,t.y,t.radius,t.startAngle-1.57,t.endAngle-1.57,!1)):(n.arc(t.x,t.y,t.radius,t.startAngle-1.57,t.endAngle-1.57,!1),n.arc(t.x,t.y,t.innerRadius,t.endAngle-1.57,t.startAngle-1.57,!0));n.fillStyle=t.color;n.globalAlpha=t.opacity;n.fill();n.lineWidth=t.lineWidth;n.strokeStyle=t.stroke;n.clip();n.stroke();n.closePath();n.restore()},canvasPattern:function(n,t,i,r,u){var c=u,a=c.name,l=c.pattern.toLowerCase(),e=r,s=c.opacity,v=c.border.color,y=c.border.width,o=document.createElement("canvas"),h=o.getContext("2d"),f=[];switch(l){case"chessboard":f[0]={x:0,y:0,width:10,height:10,fill:"white",stroke:"white",opacity:s,name:"rect"};f[1]={x:0,y:0,width:5,height:5,fill:e,opacity:s,name:"rect"};f[2]={x:5,y:5,width:5,height:5,fill:e,opacity:s,name:"rect"};o.width=10;o.height=10;this.loadPattern(t,f,"",h);break;case"pacman":f[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 9.081 9.194 L 14.887 6.114 C 14.075000000000001 4.618 12.484 3.0620000000000007 10.596 3.0620000000000007 L 8.835 3.0620000000000007 C 6.138 3.063 3 6.151 3 8.723 L 3 10.402000000000001 C 3 12.974 6.138 16.063000000000002 8.835 16.063000000000002 L 10.596 16.063000000000002 C 12.681000000000001 16.063000000000002 14.431000000000001 14.303000000000003 15.131 12.549000000000003 L 9.081 9.194 z","stroke-width":1,stroke:e,fill:e};o.width=18;o.height=18;this.loadPattern(t,f,"",h);break;case"crosshatch":f[0]={x:0,y:0,width:8,height:8,fill:"white",stroke:r,opacity:s,name:"rect"};f[1]={d:"M 0 0 L 8 8 Z","stroke-width":1,stroke:e,name:"path"};f[2]={d:"M 8 0 L 0 8 Z","stroke-width":1,stroke:e,name:"path"};o.width=8;o.height=8;this.loadPattern(t,f,"",h);break;case"dots":f[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"white",opacity:s,name:"rect"};f[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:e,name:"circle"};o.width=7;o.height=7;this.loadPattern(t,f,"",h);break;case"diagonalforward":f[0]={x:0,y:0,width:6,height:6,fill:"white",stroke:r,opacity:s,name:"rect"};f[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:e,name:"path"};o.width=6;o.height=6;this.loadPattern(t,f,"",h);break;case"diagonalbackward":f[0]={x:0,y:0,width:6,height:6,"stroke-width":2,fill:"white",stroke:r,opacity:s,name:"rect"};f[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:e,name:"path"};o.width=6;o.height=6;this.loadPattern(t,f,"",h);break;case"grid":f[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 1 3.5 L 11 3.5 M 0 3.5 L 11 3.5 M 0 7.5 L 11 7.5 M 0 11.5 L 11 11.5 M 5.5 0 L 5.5 12 M 11.5 0 L 11.5 12 Z","stroke-width":1,stroke:e};o.width=6;o.height=6;this.loadPattern(t,f,"",h);break;case"turquoise":f[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 2.697 0.5319999999999996 C 3.8695005238907747 0.5319999999999996 4.82 1.4771268931071944 4.82 2.643 C 4.82 3.808873106892805 3.8695005238907747 4.754 2.697 4.754 C 1.5244994761092252 4.754 0.5739999999999998 3.808873106892805 0.5739999999999998 2.643 C 0.5739999999999998 1.4771268931071944 1.5244994761092252 0.5319999999999996 2.697 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};f[2]={name:"path",d:"M 13.928 0.5319999999999996 C 15.100500523890776 0.5319999999999996 16.051000000000002 1.4771268931071944 16.051000000000002 2.643 C 16.051000000000002 3.808873106892805 15.100500523890776 4.754 13.928 4.754 C 12.755499476109225 4.754 11.805 3.808873106892805 11.805 2.643 C 11.805 1.4771268931071944 12.755499476109225 0.5319999999999996 13.928 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};f[3]={name:"path",d:"M 8.313 0.5319999999999996 C 9.485500523890776 0.5319999999999996 10.436 1.4771268931071944 10.436 2.643 C 10.436 3.808873106892805 9.485500523890776 4.754 8.313 4.754 C 7.140499476109226 4.754 6.19 3.808873106892805 6.19 2.643 C 6.19 1.4771268931071944 7.140499476109226 0.5319999999999996 8.313 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};f[4]={name:"path",d:"M 13.928 6.16 C 15.100500523890776 6.16 16.051000000000002 7.105126893107196 16.051000000000002 8.271 C 16.051000000000002 9.436873106892806 15.100500523890776 10.382000000000001 13.928 10.382000000000001 C 12.755499476109225 10.382000000000001 11.805 9.436873106892806 11.805 8.271 C 11.805 7.105126893107196 12.755499476109225 6.16 13.928 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};f[5]={name:"path",d:"M 8.313 6.16 C 9.485500523890776 6.16 10.436 7.105126893107196 10.436 8.271 C 10.436 9.436873106892806 9.485500523890776 10.382000000000001 8.313 10.382000000000001 C 7.140499476109226 10.382000000000001 6.19 9.436873106892806 6.19 8.271 C 6.19 7.105126893107196 7.140499476109226 6.16 8.313 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};f[6]={name:"path",d:"M 13.928 11.787999999999998 C 15.100500523890776 11.787999999999998 16.051000000000002 12.733126893107194 16.051000000000002 13.899 C 16.051000000000002 15.064873106892804 15.100500523890776 16.009999999999998 13.928 16.009999999999998 C 12.755499476109225 16.009999999999998 11.805 15.064873106892804 11.805 13.899 C 11.805 12.733126893107194 12.755499476109225 11.787999999999998 13.928 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};f[7]={name:"path",d:"M 8.313 11.787999999999998 C 9.485500523890776 11.787999999999998 10.436 12.733126893107194 10.436 13.899 C 10.436 15.064873106892804 9.485500523890776 16.009999999999998 8.313 16.009999999999998 C 7.140499476109226 16.009999999999998 6.19 15.064873106892804 6.19 13.899 C 6.19 12.733126893107194 7.140499476109226 11.787999999999998 8.313 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e};o.width=17;o.height=17;this.loadPattern(t,f,"",h);break;case"star":f[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 15.913 18.59 L 10.762 12.842 L 5.613 18.75 L 8.291 11.422 L 0.325 9.91 L 8.154 8.33 L 5.337 0.91 L 10.488 6.658 L 15.637 0.75 L 12.959 8.078 L 20.925 9.59 L 13.096 11.17 z","stroke-width":1,stroke:e,fill:e};o.width=21;o.height=21;this.loadPattern(t,f,"",h);break;case"triangle":f[0]={name:"rect",x:0,y:0,width:10,height:10,fill:"white",opacity:s};f[1]={name:"path",d:"M 4.987 0 L 7.48 4.847 L 9.974 9.694 L 4.987 9.694 L 0 9.694 L 2.493 4.847 z","stroke-width":1,stroke:e,fill:e};o.width=10;o.height=10;this.loadPattern(t,f,"",h);break;case"circle":f[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:e};o.width=9;o.height=9;this.loadPattern(t,f,"",h);break;case"tile":f[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 0 9 L 0 0 L 9 0 z","stroke-width":1,stroke:e,fill:e};f[2]={name:"path",d:"M 9 9 L 9 0 L 18 0 z","stroke-width":1,stroke:e,fill:e};f[3]={name:"path",d:"M 0 18 L 0 9 L 9 9 z","stroke-width":1,stroke:e,fill:e};f[4]={name:"path",d:"M 9 18 L 9 9 L 18 9 z","stroke-width":1,stroke:e,fill:e};o.width=18;o.height=18;this.loadPattern(t,f,"",h);break;case"horizontaldash":f[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 0 1.5 L 10 1.5 M 0 5.5 L 10 5.5 M 0 9.5 L 10 9.5 z","stroke-width":1,stroke:e,fill:e};o.width=12;o.height=12;this.loadPattern(t,f,"",h);break;case"verticaldash":f[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 1.5 0 L 1.5 10 M 5.5 0 L 5.5 10 M 9.5 0 L 9.5 10 z","stroke-width":1,stroke:e,fill:e};o.width=12;o.height=12;this.loadPattern(t,f,"",h);break;case"rectangle":f[0]={x:0,y:0,name:"rect",width:12,height:12,fill:"white",opacity:s};f[1]={name:"rect",x:1,y:2,width:4,height:9,fill:e,opacity:s};f[2]={name:"rect",x:7,y:2,width:4,height:9,fill:e,opacity:s};o.width=12;o.height=12;this.loadPattern(t,f,"",h);break;case"box":f[0]={x:0,y:0,name:"rect",width:13,height:13,fill:"white",opacity:s};f[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:e,opacity:s};o.width=10;o.height=10;this.loadPattern(t,f,"",h);break;case"horizontalstripe":f[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 0 0.5 L 10 0.5 M 0 4.5 L 10 4.5 M 0 8.5 L 10 8.5 z","stroke-width":1,stroke:e,fill:e};o.width=10;o.height=12;this.loadPattern(t,f,"",h);break;case"verticalstripe":f[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"white",opacity:s};f[1]={name:"path",d:"M 0.5 0 L 0.5 10 M 4.5 0 L 4.5 10 M 8.5 0 L 8.5 10 z","stroke-width":1,stroke:e,fill:e};o.width=12;o.height=10;this.loadPattern(t,f,"",h);break;case"bubble":f[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:"#ffffff",opacity:s};f[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"};f[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:e};f[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"};o.width=20;o.height=20;this.loadPattern(t,f,"",h);break;case"custom":o=document.getElementById(c.customPattern)}return n.createPattern(o,"repeat")},foundClasses:function(n){var t=[];return $("[id*="+n+"]").each(function(){var n=$(this).attr("class")?$(this).attr("class"):"";n.indexOf("Selection")>=0&&t.push(n)}),t},selection:function(n,t,i,r,u,f,e,o,s,h){var y=this.model.clusterPoints,vt=y?y.length:0,ht=this.model._visibleSeries,nt=ht.length,l=this.model.AreaType=="none"&&nt==1?e:f,a=i.selectionSettings,yt=this.model._visibleSeries[f].selectionSettings.type.toLowerCase()=="multiple"?!0:!1,c="series"+f,rt=!1,pt=$("#"+s).attr("name"),ut=a.pattern.toLowerCase(),b=a.mode,ct,ot,k,it,v,g,ft,tt,et,lt,at,w,p,st,d;if(o&&(ct=o.indexOf(this.svgObject.id+"_SeriesGroup_")>=0||o.indexOf(this.svgObject.id+"_Chart3D")>=0?!0:!1),(this.model.AreaType!="none"||this.model.AreaType=="none"&&b=="series"&&nt>1)&&$("style").each(function(){$(this).html().indexOf("."+n._id+"SelectionStyle"+c)>-1&&(rt=!0)}),!n.vmlRendering&&this.model.enable3D)(b=="series"||u)&&(this.model.AreaType!="none"||this.model.AreaType=="none"&&nt!=1)?(this.highlightSeries(n,f,e,"Selection",c,a,t,u,h),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class","Selection"+c+"Style"+c+"1")):b=="cluster"&&n.model.AreaType!="none"?this.highlightCluster(n,f,e,"Selection",c,a,t,h):this.model.AreaType=="none"?(this.highlightPoint(n,f,e,"Selection",c+l,a,t,h),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class","Selection"+c+l+"Style"+c+l+"1")):(this.highlightPoint(n,f,e,"Selection",c,a,t,h),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class","Selection"+c+"Style"+c+"1"));else{if(b!="cluster"||u||n.model.AreaType=="none"){v={};v.name="2D";v.index=this.model.AreaType=="none"?l:f;v.api="Selection";v.color=a.color!=""?a.color:u?this.model.AreaType=="none"?this.model.pointColors[l]:this.model.seriesColors[l]:$("#"+s).attr("fill")!="none"?$("#"+s).attr("fill"):$("#"+s).attr("stroke");Object.prototype.toString.call(v.color)==="[object Array]"&&(v.color=v.color[1].color);var tt=ut=="none"||n.vmlRendering||ut==""?a.color:this.pattern(n,t,v,a),g=a.opacity,ft=a.border.color,et=a.border.width;rt||(this.model.AreaType=="none"&&((b=="series"||u)&&nt==1||b!="series"&&!u)?($("style").each(function(){$(this).html().indexOf(".SelectionStyle"+c+"Point"+l)>-1&&(rt=!0)}),rt||(this.createStyle(n,n._id+"Selection",c+"Point"+l,g,tt,ft,et),this.createStyle(n,n._id+"SelectionLegend",c+"Point"+l,g,tt,"transparent",0))):(this.model.AreaType=="none"&&nt>1||this.model.AreaType!="none")&&(this.createStyle(n,n._id+"Selection",c,g,tt,ft,et),this.createStyle(n,n._id+"SelectionLegend",c,g,tt,"transparent",0)))}if((b=="series"||u)&&(n.model.AreaType=="none"&&nt>1||n.model.AreaType!="none")){if(!ct)for(ot=$("#"+o).childNodes?$("#"+o).childNodes:[],k=0;k<ot.length;k++)$("#"+ot[k].id).attr("class",n._id+"SelectionStyle");$("[id*="+this.svgObject.id+"_Series"+l+"]").each(function(){if(this.parentNode.id==n.svgObject.id+"_SeriesGroup_"+l||this.parentNode.id==n.svgObject.id+"_symbolGroup_"+l){var t=$(this).attr("name")?n._id+"SelectionPathStyle"+c:n._id+"SelectionStyle"+c;$(this).attr("class",t)}});$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class",n._id+"SelectionLegendStyle"+c);r&&$("#"+o).remove()}else if(b!="cluster"||n.model.AreaType=="none"||ej.util.isNullOrUndefined(s)){if($("#"+s).attr("name")||s==n.svgObject.id+"_Series"+l||n.model.AreaType=="none")$("#"+s).attr("class",n._id+"SelectionStyle"+c+"Point"+l),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class",n._id+"SelectionLegendStyle"+c+"Point"+l),r&&$("#"+o).remove();else{if($("#"+s).attr("class",n._id+"SelectionStyle"+c),this.model.commonSeriesOptions.columnFacet=="cylinder"||i.columnFacet=="cylinder")for(k=0;k<2;k++)$("#"+s.replace(/2$/,k)).attr("class",n._id+"SelectionStyle"+c);$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class",n._id+"SelectionLegendStyle"+c);$("#"+s+"_symbol").attr("class",n._id+"SelectionStyle"+c);r&&($("#"+s+"_symbol").attr("class",n._id+"SelectionStyle"+c),$("#"+o).remove())}d=$("#"+s).attr("name");d!=undefined&&(d=="candle"||d.indexOf("hilo")>=0)&&($("[id$="+s+"]").attr("class",n._id+"SelectionStyle"+c),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class",n._id+"SelectionLegendStyle"+c))}else{for(it=this.svgObject.id+"_Series",y=n.model.clusterPoints,l=s.match(/(\d+)/g),e=parseInt(l[l.length-1]),s.indexOf("SeriesText")>=0&&(lt=this.GetSeriesPoint(t),e=lt.region.Region.PointIndex),p=0;p<y.length;p++){w=y[p].seriesIndex;c="ClusterSeries"+w;v={};v.index=w;v.name="2D";v.api="Selection"+c;a=ht[w].selectionSettings;v.color=a.color!=""?a.color:this.model.seriesColors[w];Object.prototype.toString.call(v.color)==="[object Array]"&&(v.color=v.color[1].color);g=a.opacity;var ft=a.border.color,et=a.border.width,tt=ut=="none"||n.vmlRendering||ut==""?v.color:this.pattern(n,t,v,a);$("style").each(function(){$(this).html().indexOf("."+n._id+"SelectionStyle"+c)>-1&&(at=!0)});at||(this.createStyle(n,n._id+"Selection",c,g,tt,ft,et),this.createStyle(n,n._id+"SelectionLegend",c,g,tt,"transparent",0));st=$("#"+it+y[p].seriesIndex+"_Point"+y[p].pointIndex).attr("name")?n._id+"SelectionPathStyle"+c:n._id+"SelectionStyle"+c;$("#"+it+y[p].seriesIndex+"_Point"+y[p].pointIndex).attr("class",st);$("#"+it+y[p].seriesIndex+"_Point"+y[p].pointIndex+"_symbol").attr("class",st);n.model._visibleSeries[w].visibility!="hidden"&&$("#"+this.svgObject.id+"_LegendItemShape"+w).not("[class*='Highlight']").attr("class",n._id+"SelectionLegendStyle"+c);d=$("#"+s).attr("name");d!=undefined&&(d=="candle"||d.indexOf("hilo")>=0)&&$("[id$="+it+y[p].seriesIndex+"_Point"+y[p].pointIndex+"]").attr("class","HighlightStyle"+c)}r&&($("#"+this.svgObject.id+"_Series"+w+"_Point"+e).attr("class",n._id+"SelectionStyle"+c),$("#"+this.svgObject.id+"_Series"+w+"_Point"+e+"_symbol").attr("class",n._id+"SelectionStyle"+c),$("#"+o).remove())}}},removeSelection:function(n,t,i,r,u,f,e){var a=i.length,h=this.model.clusterPoints,l,v=h?h.length:0,c,s,o;if((r=="series"||f)&&(this.model.AreaType!="none"||this.model.AreaType=="none"&&a>1))for(s=0;s<a;s++)c=i[s].selectionSettings,c.mode!="point"&&c.type.toLowerCase()=="single"||f&&c.type.toLowerCase()=="single"?($(this.svgObject).find("[id*="+this.svgObject.id+"_SeriesGroup_"+s+"],[id*="+this.svgObject.id+"_symbolGroup_"+s+"],[id*=_Region_Series_"+s+"_]").each(function(){$(this).find("*").attr("class","");$(this).attr("class","")}),$("#"+this._id+"_Selection_Legend"+s+"_canvas").remove(),$("#"+this._id+"_Selection_series"+s+"_canvas").remove(),$("[id*=_Region_Series_"+s+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+s).attr("class","")):e&&c.type.toLowerCase()=="multiple"&&($("#"+this._id+"_Selection_series"+n+"_canvas").remove(),$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove(),$("[id*=_Region_Series_"+n+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class",""));if(r=="cluster"&&this.model.AreaType!="none"&&!f)if(u)if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster_point_"+t+"]").remove(),$("[id*="+this._id+"_Selection_Cluster]").length==0?$("[id*="+this._id+"_SelectionCluster_Legend]").remove():0;else{for(o=0;o<v;o++)$("[id*=_Region_Series_"+h[o].seriesIndex+"_Point_"+h[o].pointIndex+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+h[o].seriesIndex+"_Point"+h[o].pointIndex+"]").attr("class","");l=this.model.enable3D?this.foundClasses("_Region_Series_"+n):this.foundClasses(this.svgObject.id+"_Series"+n);l.length==0?$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class",""):0}else if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),this.selectedPoint=null;else for(o=0;o<v;o++)$("[id*=_Region_Series_"+h[o].seriesIndex+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+h[o].seriesIndex+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+h[o].seriesIndex).attr("class","");r!="point"||this.model.AreaType=="none"||f||(u?($("#"+this._id+"_Selection_series"+n+"_point_"+t+"_canvas").remove(),$("[id*=_Region_Series_"+n+"_Point_"+t+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point"+t+"]").attr("class",""),$("[id*="+this._id+"_Selection_series"+n+"]").length==0?$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove():0,l=this.model.enable3D?this.foundClasses("_Region_Series_"+n):this.foundClasses(this.svgObject.id+"_Series"+n),l.length==0?$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class",""):0):($("[id*="+this._id+"_Selection_series"+n+"_point_]").remove(),$("[id*="+this._id+"_Selection_Legend"+n+"]").remove(),$("[id*=_Region_Series_"+n+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class","")));r!="point"&&r!="cluster"&&(r!="series"||this.model._visibleSeries.length!=1||this.model.AreaType!="none"||f)||(u?($("#"+this._id+"_Selection_series"+n+"_point_"+t+"_canvas").remove(),$("[id*=_Region_Series_"+n+"_Point_"+t+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point"+t+"]").attr("class",""),this.model._visibleSeries.length>1?$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class",""):$("#"+this.svgObject.id+"_LegendItemShape"+t).attr("class",""),this.model._visibleSeries.length>1?$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove():$("#"+this._id+"_Selection_Legend"+t+"_canvas").remove()):($("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Legend]").remove(),$("[id*=_Region_Series_"+n+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point]").attr("class",""),this.model._visibleSeries.length>1?$("[id*="+this.svgObject.id+"_LegendItemShape"+n+"]").attr("class",""):$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")))},createStyle:function(n,t,i,r,u,f,e,o){var s,h,c,l;n.vmlRendering?(s=document.createElement("style"),s.id=t+"Segment",r=r*100,h="."+t+"Style"+i+" {filter: alpha(opacity="+r+");}."+t+"PathStyle"+i+"  {filter: alpha(opacity="+r+");}",s.setAttribute("type","text/css"),s.styleSheet?s.styleSheet.cssText=h:(c=document.createTextNode(h),s.appendChild(c)),l=document.getElementsByTagName("head")[0],l.appendChild(s)):($("<style id="+t+"Segment"+i+" type='text/css'> ."+t+"Style"+i+"{ fill:"+u+";opacity:"+r+";stroke:"+f+";stroke-width:"+e+";stroke-opacity:"+o+"}<\/style>").appendTo("body"),$("<style id="+t+"Path"+i+" type='text/css'> ."+t+"PathStyle"+i+"{ opacity:"+r+";stroke:"+f+";stroke-width:"+e+";stroke-opacity:"+o+"}<\/style>").appendTo("body"))},highlightPoint:function(n,t,i,r,u,f,e){for(var s,a,h,l="_Region_Series_"+t+"_Point_"+i,c=$(this.svgObject).find("[id$="+l+"],[id*="+l+"back],[id*="+l+"front]"),o=0;o<c.length;o++)s=[],s.api=r+u,s.seriesName=u,s.name=$("[id="+c[o].id+"]").attr("name"),s.index=o,a=this.highlightFill(f,n,t,i),h=$("#"+c[o].id).attr("class"),h=h?h:"",h.indexOf("Selection")<0&&$("[id="+c[o].id+"]").attr("class",this.dStyle(s,a,n,e,f))},highlightCluster:function(n,t,i,r,u,f,e){var u,y,v,h,p,c,l,w,a,b,s,o;if(n.model.AreaType!="none"){for(l=[],w=n.model._visibleSeries[t]._visiblePoints[i].x,a=0,b=n.model._visibleSeries.length;a<b;a++)for(o=0;o<n.model._visibleSeries[a]._visiblePoints.length;o++)w==n.model._visibleSeries[a]._visiblePoints[o].x&&(l[l.length]={seriesIndex:a,pointIndex:o});for(s=0;s<l.length;s++){for(u="series"+s,y="_Region_Series_"+l[s].seriesIndex+"_Point_"+l[s].pointIndex,v=$(this.svgObject).find("[id$="+y+"],[id*="+y+"back],[id*="+y+"front]"),o=0;o<v.length;o++)h=[],h.api=r+u,h.seriesName="series"+s,h.name=$("[id="+v[o].id+"]").attr("name"),h.index=o,t=s,f=r=="Highlight"?n.model._visibleSeries[s].highlightSettings:n.model._visibleSeries[s].selectionSettings,p=this.highlightFill(f,n,t,i),c=$("#"+v[o].id).attr("class"),c=c?c:"",c.indexOf("Selection"+u+"Style")<0&&c.indexOf("SelectionStyle")<0&&$("[id="+v[o].id+"]").attr("class",this.dStyle(h,p,n,e,f));r=="Highlight"?$("#"+this.svgObject.id+"_LegendItemShape"+s).not("[class*='Selection']").attr("class","Highlight"+u+"Style"+u+"1"):$("#"+this.svgObject.id+"_LegendItemShape"+s).attr("class","Selection"+u+"Style"+u+"1")}}},highlightSeries:function(n,t,i,r,u,f,e,o){var t=t,v=i,y=n.model._visibleSeries.length,p=n.model.AreaType=="none"&&y==1?"_Region_Series_"+t+"_Point_"+i:"_Region_Series_"+t+"_Point_",l=$(this.svgObject).find("[id*="+p+"]"),c,a,s=o?$("#"+this.svgObject.id+"_LegendItemShape"+i).attr("class"):e?$("#"+e.target.id).attr("class"):"",h;if(s=s?s:"",s.indexOf("SelectionStyle")<0||o)for(h=0;h<l.length;h++)c=[],c.api=r+u,c.seriesName=u,c.name=$("[id="+l[h].id+"]").attr("name"),c.index=h,a=this.highlightFill(f,n,t,v,o),s=$("#"+l[h].id).attr("class"),s=s?s:"",s.indexOf("SelectionStyle")<0&&s.indexOf("Selection"+u+"Style")<0&&$("[id="+l[h].id+"]").attr("class",this.dStyle(c,a,n,e,f))},highlight:function(n,t,i,r,u,f,e,o){var h=i.highlightSettings,ot,p=$.inArray(i,n.model._visibleSeries),w,s="series"+p,st=!1,c=p,l=e||t.target.id,bt=jQuery.uaMatch(navigator.userAgent),at,vt,v,d,g,y,tt,pt,et,b,wt,ut,a,k;!o&&this.isTouch(t)&&bt.browser=="chrome"&&(ot=t.originalEvent.changedTouches[0],l=document.elementFromPoint(ot.clientX,ot.clientY).id);f=f||t.target.parentNode.id;var kt=f.indexOf(this.svgObject.id+"_SeriesGroup_")>=0||f.indexOf(this.svgObject.id+"_Chart3D")>=0?!0:!1,dt=$("#"+l).attr("name"),ft=h.pattern.toLowerCase(),ht=n.model._visibleSeries.length;if(n.model.AreaType=="none"&&ht==1&&(n.model.enable3D?c=r?r.legendItem.LegendItem.PointIndex:u.region.Region.PointIndex:(at=r?this.svgObject.id+"_LegendItemShape":this.svgObject.id+"_Series"+p+"_Point",vt=r?this.svgObject.id+"_LegendItemShape"+r.legendItem.LegendItem.PointIndex:l,w=vt.substr(at.length),c=w)),$("style").each(function(){$(this).html().indexOf(".HighlightStyle"+s)>-1&&(st=!0)}),n.model.enable3D&&!n.vmlRendering)(h.mode=="series"||r)&&(n.model.AreaType=="none"&&ht!=1||n.model.AreaType!="none")?(this.highlightSeries(n,p,c,"Highlight",s,h,t,r),$("#"+this.svgObject.id+"_LegendItemShape"+c).not("[class*='Selection']").attr("class","Highlight"+s+"Style"+s+"1")):h.mode=="cluster"&&n.model.AreaType!="none"?this.highlightCluster(n,p,u.pointData.pointIndex,"Highlight",s,h,t):(w=u?u.pointData.pointIndex:c,this.highlightPoint(n,p,w,"Highlight",s+w,h,t),$("#"+this.svgObject.id+"_LegendItemShape"+c).not("[class*='Selection']").attr("class","Highlight"+s+w+"Style"+s+w+"1"));else{if(h.mode||this.model.AreaType=="none"){v={};v.name="2D";v.index=p;v.api="Highlight";v.color=h.color!=""?h.color:r?this.model.AreaType=="none"?this.model.pointColors[c]:this.model.seriesColors[c]:$("#"+l).attr("fill");Object.prototype.toString.call(v.color)==="[object Array]"&&(v.color=v.color[1].color);var nt=ft=="none"||n.vmlRendering||ft==""?h.color:this.pattern(n,t,v,h),rt=o?1:h.opacity,ct=o?i.type.toLowerCase().indexOf("hilo")==-1?n.model.highlightColor:nt:h.border.color,lt=o?3.5:h.border.width,yt=o&&i.type.toLowerCase().indexOf("hilo")==-1?.5:1;st||(this.createStyle(n,"Highlight",s,rt,nt,ct,lt,yt),this.createStyle(n,"HighlightLegend",s,rt,nt,"transparent",0,yt))}if(d=r?$("#"+this.svgObject.id+"_LegendItemShape"+c).attr("class"):$("#"+l).attr("class"),d=d?d:"",d.indexOf("Selection")==-1)if((h.mode=="series"&&!o||r)&&(n.model.AreaType=="none"&&ht!=1||n.model.AreaType!="none"))$("[id*="+this.svgObject.id+"_Series"+c+"]").each(function(){if(this.parentNode.id==n.svgObject.id+"_SeriesGroup_"+c||this.parentNode.id==n.svgObject.id+"_symbolGroup_"+c){var t=$(this).attr("class"),i=$(this).attr("name")?"HighlightPathStyle"+s:"HighlightStyle"+s;(t==undefined||t.indexOf("SelectionStyle")==-1)&&t!="SelectionStyle"+s&&t!="SelectionStyleClusterSeries"+p&&t!="SelectionPathStyle"+s&&f.indexOf(n.svgObject.id+"_symbolGroup_"+c)<=0&&$(this).attr("class",i)}}),$("#"+this.svgObject.id+"_LegendItemShape"+c).not("[class*='Selection']").attr("class","HighlightLegendStyle"+s);else if(h.mode!="cluster"||n.model.AreaType=="none"||o){if(!$("#"+l).attr("name")&&l!=n.svgObject.id+"_Series"+c){if(it=$("#"+l).attr("class")?$("#"+l).attr("class"):"",it.indexOf("Selection")!=0&&f.indexOf(n.svgObject.id+"_symbolGroup_"+c)<=0&&(u||r)){if(kt&&($("#"+l).attr("class","HighlightStyle"+s),this.model.commonSeriesOptions.columnFacet=="cylinder"||i.columnFacet=="cylinder"))for(b=0;b<2;b++)$("#"+l.replace(/2$/,b)).attr("class","HighlightStyle"+s);$("#"+l+"_symbol").attr("class","HighlightStyle"+s);$("#"+this.svgObject.id+"_Series"+p+"_Point"+w).not("[class*='Selection']").attr("class","HighlightStyle"+s);$("#"+this.svgObject.id+"_LegendItemShape"+c).not("[class*='Selection']").attr("class","HighlightLegendStyle"+s)}l.indexOf("symbol")>-1&&$("#"+l).attr("class","HighlightStyle"+s)}k=$("#"+l).attr("name");k!=undefined&&(k=="candle"||k.indexOf("hilo")>=0)&&($("[id$="+l+"]").attr("class","HighlightStyle"+s),$("#"+this.svgObject.id+"_LegendItemShape"+c).not("[class*='Selection']").attr("class","HighlightLegendStyle"+s))}else{if(g=this.svgObject.id+"_Series",y=[],c=l.match(/(\d+)/g),c&&l.toLowerCase().indexOf("point")>0)for(w=parseInt(c[c.length-1]),pt=n.model._visibleSeries[p]._visiblePoints[w].xValue,b=0,wt=n.model._visibleSeries.length;b<wt;b++)for(ut=0;ut<n.model._visibleSeries[b]._visiblePoints.length;ut++)et=n.model._visibleSeries[b]._visiblePoints[ut],pt==et.xValue&&et.isEmpty==!1&&et.visible==!0&&(y[y.length]={seriesIndex:b,pointIndex:ut});for(a=0;a<y.length;a++){tt=y[a].seriesIndex;s="series"+tt;v={};v.name="2D";v.api="Highlight"+s;h=n.model._visibleSeries[tt].highlightSettings;v.color=h.color!=""?h.color:this.model.seriesColors[tt];Object.prototype.toString.call(v.color)==="[object Array]"&&(v.color=v.color[1].color);rt=h.opacity;ct=h.border.color;lt=h.border.width;nt=ft=="none"||n.vmlRendering||ft==""?v.color:this.pattern(n,t,v,h);st||(this.createStyle(n,"Highlight",s,rt,nt,ct,lt),this.createStyle(n,"HighlightLegend",s,rt,nt,"transparent",0));var it=$("#"+g+y[a].seriesIndex+"_Point"+y[a].pointIndex).attr("class"),gt=$("#"+g+y[a].seriesIndex+"_Point"+y[a].pointIndex+"_symbol").attr("class"),d=$("#"+g+y[a].seriesIndex+"_Point"+y[a].pointIndex).attr("name")?"HighlightPathStyle"+s:"HighlightStyle"+s;(it==undefined||it.indexOf("SelectionStyleseries"+a)==-1)&&it!="SelectionStyleseries"+a&&it!="SelectionPathStyle"+s&&f.indexOf(n.svgObject.id+"_symbolGroup_"+a)<=0&&($("#"+g+y[a].seriesIndex+"_Point"+y[a].pointIndex).attr("class",d),$("#"+g+y[a].seriesIndex+"_Point"+y[a].pointIndex+"_symbol").attr("class",d));n.model._visibleSeries[tt].visibility!="hidden"&&$("#"+this.svgObject.id+"_LegendItemShape"+tt).not("[class*='Selection']").attr("class","HighlightLegendStyle"+s);k=$("#"+l).attr("name");k!=undefined&&(k=="candle"||k.indexOf("hilo")>=0)&&$("[id$="+g+y[a].seriesIndex+"_Point"+y[a].pointIndex+"]").attr("class","HighlightStyle"+s)}}}},dStyle:function(n,t,i,r,u){var c=ej.Ej3DRender.prototype.polygon3D.prototype,h=u,e=n.api,o=n.seriesName,l=h.opacity,s,f;return t=i.colorNameToHex(t),t=n.name=="XLight"?c.applyXLight(t,i):n.name=="ZLight"?c.applyZLight(t,i):t,s={},s.name=n.name,s.color=t,s.api=e,t=h.pattern=="none"?t:this.pattern(i,r,s,h),document.getElementById(e+"Segment"+o)?(f=document.getElementById(e+"Segment"+o),f.innerHTML=f.innerHTML+"."+e+"Style"+o+n.index+" { fill:"+t+";opacity:"+l+" }"):(f=document.createElement("style"),f.id=e+"Segment"+o,f.type="text/css",f.innerHTML="."+e+"Style"+o+n.index+" { fill:"+t+";opacity:"+l+" }",document.getElementsByTagName("head")[0].appendChild(f)),e+"Style"+o+n.index},pattern:function(n,t,i,r){var v=r,o=i.api,s=v.pattern.toLowerCase(),e=i.color,c=v.opacity!=""?v.opacity:$("#"+t.target.id).attr("opacity"),a="#ffffff",y,l,u,h,f;document.getElementById(o+"Def")?l=$("#"+o+"Def")[0]:(y={id:o+"Def"},l=n.svgRenderer.createPattern(y,"svg"),n.svgRenderer.append(l,n.svgObject));n.model.enable3D&&(a=i.name=="XLight"?"#595959":i.name=="ZLight"?"#737373":"#808080");"#"+s+"_"+o+"_"+i.name+"_"+i.index&&$("#"+s+"_"+o+"_"+i.name+"_"+i.index).remove();u=[];switch(s){case"chessboard":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={x:0,y:0,width:10,height:10,fill:a,opacity:c,name:"rect"},u[1]={x:0,y:0,width:5,height:5,fill:e,opacity:c,name:"rect"},u[2]={x:5,y:5,width:5,height:5,fill:e,opacity:c,name:"rect"},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"pacman":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"17.917",height:"18.384"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"crosshatch":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"8",height:"8"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:a,opacity:c,name:"rect"},u[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:e,name:"path"},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"dots":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:a,opacity:c,name:"rect"},u[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:e,name:"circle"},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"diagonalforward":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:a,opacity:c,name:"rect"},u[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:e,name:"path"},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"diagonalbackward":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:a,opacity:c,name:"rect"},u[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:e,name:"path"},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"grid":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"turquoise":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"17",height:"17"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},u[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},u[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},u[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},u[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},u[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},u[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"star":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"21",height:"21"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"triangle":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"10",height:"10"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"circle":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"9",height:"9"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"tile":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"18",height:"18"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:e,fill:e},u[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:e,fill:e},u[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:e,fill:e},u[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"horizontaldash":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"verticaldash":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"rectangle":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:12,height:12},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",width:12,height:12,fill:a,opacity:c},u[1]={name:"rect",x:1,y:2,width:4,height:9,fill:e,opacity:c},u[2]={name:"rect",x:7,y:2,width:4,height:9,fill:e,opacity:c},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"box":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",width:13,height:13,fill:a,opacity:c},u[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:e,opacity:c},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"horizontalstripe":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"10",height:"12"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"verticalstripe":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"12",height:"10"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:e,fill:e},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"bubble":return h={id:s+"_"+o+"_"+i.name+"_"+i.index,patternUnits:"userSpaceOnUse",width:"20",height:"20"},f=n.svgRenderer.createPattern(h,"pattern"),u[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:a,opacity:c},u[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},u[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:e},u[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},this.loadPattern(n,u,f),l.appendChild(f),"url(#"+s+"_"+o+"_"+i.name+"_"+i.index+")";case"custom":return"url(#"+v.customPattern+")"}},loadPattern:function(n,t,i,r){for(var f,u=0;u<t.length;u++)r?t[u].name=="rect"?(t[u].stroke="transparent",this.drawRect(t[u],r)):t[u].name=="path"?ej.EjCanvasRender.prototype.drawPath(t[u],r):t[u].name=="circle"&&(t[u].stroke="transparent",ej.EjCanvasRender.prototype.drawCircle(t[u],r)):(f=n.svgRenderer.createPattern(t[u],t[u].name),i.appendChild(f))},drawRect:function(n,t){t.save();t.beginPath();t.globalAlpha=n.opacity;t.lineWidth=n["stroke-width"];t.strokeStyle=n.stroke;t.rect(n.x,n.y,n.width,n.height);n.fill=="none"&&(n.fill="transparent");t.fillStyle=n.fill;n.transform&&t.translate(n.transform[0],n.transform[1]);t.rotate(n.rotate*Math.PI/180);t.fillRect(n.x,n.y,n.width,n.height);t.clip();t.stroke();t.restore()},chartRightClick:function(n){return this.chartRightClick=!0,this.isTouch(n)&&this.model.crosshair.visible?(event.preventDefault(),event.stopPropagation(),!1):void 0},chartMouseUpTouch:function(n){var t=this,r=jQuery.uaMatch(navigator.userAgent),i=this.calMousePosition(n),u=this.model.browserInfo;return this.mousemoveX=i.X,this.mousemoveY=i.Y,this.enableTrackBall(),clearTimeout(this.model.doubleTapTimer),this.drag||(this.model.doubleTapTimer=setTimeout(function(){(t.model.tapNum<2||t.model.crosshair.visible)&&t.singleTap(n);t.model.tapNum=0;t.model.cachedX=0;t.model.cachedY=0},200)),t.model.tapNum==2&&(t.model.doubleTapped=!1),!0},getEvent:function(n){return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0]:n},doubleTap:function(n){var r=this.getEvent(n),u=r.pageX,f=r.pageY,o=this.model,e=200,i,t=o.m_AreaBounds,s;this.model.cachedX=this.model.cachedX||u;this.model.cachedY=this.model.cachedY||f;s=(new Date).getTime();this.mouseDownX>=t.X&&this.mouseDownX<t.X+t.Width&&this.mouseDownY<t.Y+t.Height&&this.mouseDownY>=t.Y&&Math.abs(u-this.model.cachedX)<e&&Math.abs(f-this.model.cachedY)<e&&this.model.tapNum++;this.model.tapNum==2&&(this.model.doubleTapped=!0,this.multiSelectMouseDown(n),this.drag=this.model.zooming.enable||this._isMultiSelect,i=this.model.trackerElement,i&&($(i).finish(),i=null))},singleTap:function(n){var t=this,o=n.target.id,p=this.model._visibleSeries,f,s=this.getEvent(n),v=s.pageX,y=s.pageY,h=10,r,i,c,e,u,l,a;if(!this.panning&&!this.isZoomButtonHovered(n.target)){for(this.cancelEvent(n),t.model.trackerElement&&($.finish?$(t.model.trackerElement).finish():$(t.model.trackerElement).stop(!0,!0),t.model.trackerElement=null),$(".ejTooltip"+this._id).remove(),(!t.model.crosshair.visible||t.model.AreaType!="cartesianaxes")&&Math.abs(v-t.model.cachedX)<h&&Math.abs(y-t.model.cachedY)<h?this.chartInteractiveBehavior(n):(t.model.element=$(document).find("#"+this.svgObject.id+"_CrosshairGroup"),t.model.trackerElement=$(t.model.element).children().not(".Tracker").not("defs"),$(t.model.trackerElement).length>0&&$(t.model.trackerElement).fadeOut(1e3,function(){$(t.model.element).find('[id*="trackSymbol"]').attr("visibility","hidden");t.model.trackerElement=null;t._removeHighlight()}),r=$(document).find('[id*="_trackball_grouping_tooltip"]'),$(r).length>0&&$(r).fadeOut(1e3,function(){$(r).remove()})),this.axisTooltip(n,o),this.showTitleTooltip(n,o),this.model.enableCanvasRendering&&(this._textTooltip(n,this.model.xAxisLabelRegions),this._textTooltip(n,this.model.yAxisLabelRegions)),i=0,c=this.model.series.length;i<c;i++)e=this.model.series[i],u=e.marker.dataLabel,!e._enableSmartLabels||this.model.enable3D||u.enableWrap||(l=u.template,a=u.font,this.model.AreaType=="none"&&ej.util.isNullOrUndefined(l)&&this.datalabelTooltip(n,i,a));$(".ejTooltip"+this._id).length>0&&(f=$(".ejTooltip"+this._id));$(".tooltipDiv"+this._id).length>0&&(f=$(".tooltipDiv"+this._id));window.clearTimeout(t.model.timer);t.model.trackerElement=f;t.model.timer=setTimeout(function(){var n=t.model.prevPoint,i;t.model.trackerElement?t.model.trackerElement.fadeOut(500,function(){if(n){if(t.model.AreaType!="polaraxes"){var i=ej.EjSvgRender.utils._getPoint(n.point,n.series);t.drawTrackerSymbol(n.series,n.seriesIndex,n.pointIndex,null,i)}$("#canvas_trackSymbol").remove()}$("[id*=_TrackSymbol]").remove()}):(n&&t.model.AreaType!="polaraxes"&&(i=ej.EjSvgRender.utils._getPoint(n.point,n.series),t.drawTrackerSymbol(n.series,n.seriesIndex,n.pointIndex,null,i)),t.model.crosshair.visible||($("#canvas_trackSymbol").remove(),$("[id*=_TrackSymbol]").remove()))},1200)}n.originalEvent.pointerType||this.panning||!(this.model.selectionEnable||this.isDevice()&&this._isSafari)||this._doClick(n)},_getPieOfPiePoint:function(n,t,i){for(var f,u=i?t.points:t._visiblePoints,e=u.length,r=0;r<e;r++)n==u[r].actualIndex&&(f=u[r]);return f},tooltip:function(n,t){var ft=!1,f,a,i=this.GetSeriesPoint(t),d,vt,p,yt,pt,u,g,o,st,ht,wt,bt,k,b,l,kt,rt,h,e,gt,ni,ct,c,nt,lt,s,at,ri;if($("#canvas_trackSymbol").remove(),ej.util.isNullOrUndefined(i)&&!this.dragPoint&&$("#"+n.svgObject.id+"_TrackToolTip").remove(),this.model.crosshair.visible||this.model.AreaType!="cartesianaxes")$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").hide(),ej.util.isNullOrUndefined(i)&&(clearTimeout(this.removeTooltip),n.removeTooltip=setTimeout(function(){$(".tooltipDiv"+n._id).remove()},1e3));else{for(var et=this.model.indicators,v=this.model._visibleSeries,ot,y,w,ui=v.length,it=0,tt=0;tt<ui;tt++)for(w=v[tt].trendlines,y=0;y<w.length;y++)w[y].visibility.toLowerCase()!="visible"||w[y].isNull||this.model.series[0].type=="boxandwhisker"||(w[y]._visiblePoints=w[y].points,v=v.concat(w[y]));for(d=0;d<et.length&&et[d].segment;d++)ot=et[d],ot.visible&&(v=v.concat(ot.segment));for(vt=v.length,s=0;s<vt;s++)f=v[s],a=s,p=f.type.toLowerCase(),f.visibility.toLowerCase()!="visible"||p==="scatter"||p==="bubble"||p==="column"||p.indexOf("bar")!=-1||p==="stackingcolumn"||p==="stackingcolumn100"||f._hiloTypes?ej.util.isNullOrUndefined(i)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),n.removeTooltip=setTimeout(function(){$(".tooltipDiv"+n._id).remove()},1e3)):($("#"+n.svgObject.id+"_TrackToolTipTemplate_"+a).remove(),$(".tooltipDiv"+this._id).hasClass(n.svgObject.id)||$(".tooltipDiv"+this._id).remove(),$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackSymbol_"+a).remove(),$("#"+n.svgObject.id+"_TrackSymbol_"+a).remove(),yt=[],pt=[],h=null,u=n.getClosesPointXY(pt,yt,f,n.mousemoveX,n.mousemoveY,t),ej.util.isNullOrUndefined(u.point)&&(!this.model.prevPoint||this.model.prevPoint.seriesIndex&&!this.model.series[this.model.prevPoint.seriesIndex].tooltip.visible)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),n.removeTooltip=setTimeout(function(){$(".tooltipDiv"+n._id).remove()},1e3)),u.point&&(f.type.toLowerCase()=="boxandwhisker"?(it++,h=u.outlierPosition):h=ej.EjSvgRender.utils._getPoint(u.point,f),g=$.extend({},ej.EjSvgRender.commonChartEventArgs),g.data={location:{x:this.mousemoveX,y:this.mousemoveX},region:{SeriesIndex:s,Region:{PointIndex:u.index}}},n._trigger("pointRegionMouseMove",g)),o=this.model.prevPoint,o&&o.seriesIndex==s&&!u.point&&(f.type.toLowerCase()=="boxandwhisker"?(it++,st=o.outlierPosition):st=ej.EjSvgRender.utils._getPoint(o.point,o.series),n.model.enableCanvasRendering||n.drawTrackerSymbol(o.series,o.seriesIndex,o.pointIndex,null,st),this.model.prevPoint=null),f.isIndicator||f.isTrendLine||f.selectionSettings.enable||f.highlightSettings.enable||!f.marker.visible&&f.type.toLowerCase()!="boxandwhisker"||!u.point||g.cancel||(ej.util.isNullOrUndefined(u.point.marker)||ej.util.isNullOrUndefined(u.point.marker.visible)||u.point.marker&&u.point.marker.visible?n.drawTrackerSymbol(f,a,u.index,!1,h):f.type!="boxandwhisker"||u.point.marker||n.drawTrackerSymbol(f,a,u.index,!1,h),o&&u.point!=o.point&&(f.type.toLowerCase()=="boxandwhisker"?(it++,ht=o.outlierPosition):ht=ej.EjSvgRender.utils._getPoint(o.point,o.series),n.drawTrackerSymbol(o.series,o.seriesIndex,o.pointIndex,null,ht,ut,it)),(ej.util.isNullOrUndefined(u.point.marker)||ej.util.isNullOrUndefined(u.point.marker.visible)||u.point.marker&&u.point.marker.visible)&&(this.model.prevPoint={point:u.point,pointIndex:u.index,series:f,seriesIndex:a,outlierPosition:u.outlierPosition})),f.tooltip.visible&&u.point&&(!i||s>i.region.SeriesIndex&&!(f._zOrder<this.model._visibleSeries[i.region.SeriesIndex]._zOrder))&&(e=ej.EjSvgRender.utils._getTransform(f.xAxis,f.yAxis,n.model.requireInvertedAxes),h.X+e.x<=e.x+e.width&&(h.X+e.x>=e.x||h.X==0)&&Math.abs(h.Y-(e.y+e.height))<=e.y+e.height&&(Math.abs(h.Y-(e.y+e.height))>=e.y||h.Y==0)&&(g.cancel||($(n.svgObject).find("#"+n.svgObject.id+"_TrackToolTip").length==0&&(wt={id:n.svgObject.id+"_TrackToolTip",transform:"translate("+e.x+","+e.y+")"},n.gTransToolEle=n.svgRenderer.createGroup(wt)),n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_TrackToolTip"),{transform:"translate("+e.x+","+e.y+")",visibility:"visible"}),ej.util.isNullOrUndefined(f.tooltip.template)?(ft=!0,$(".tooltipDiv"+this._id).remove(),n.displayShowTooltip(h,u.point,f,u.index)):(ft=!0,$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),bt={SeriesIndex:a,Region:{PointIndex:u.index}},n.createTooltip(bt,t,f))))))}if($(".tooltipDiv"+this._id).hasClass(this.svgObject.id)||$(".tooltipDiv"+this._id).remove(),i&&ej.util.isNullOrUndefined(i.region.isStripLine)){if(k=this.model._visibleSeries[i.region.SeriesIndex].type.toLowerCase(),(k=="pie"||k=="pieofpie"||k=="doughnut")&&this.model._visibleSeries[i.region.SeriesIndex].explode&&(this.model._visibleSeries[i.region.SeriesIndex].enableAnimation?(this.model.AnimationComplete||this.model.enableCanvasRendering)&&this.pieExplosion(i,t):this.model.enable3D||this.pieExplosion(i,t)),i.region.isIndicator)r=this.model.indicators[i.region.SeriesIndex],l=r.segment[0]._visiblePoints[i.region.Region.PointIndex],r.fill=r.segment[0].fill;else if(r=this.model._visibleSeries[i.region.SeriesIndex],r.type!="pieofpie"||this.model.enable3D){if(r.type!="pie"&&r.type!="doughnut"||this.model.enable3D)l=this.model._visibleSeries[i.region.SeriesIndex]._visiblePoints[i.region.Region.PointIndex];else for(b=0;b<r._visiblePoints.length;b++)if(i.region.Region.length==r._visiblePoints.length){if(i.region.Region.PointIndex==r._visiblePoints[b].actualIndex){l=this.model._visibleSeries[i.region.SeriesIndex]._visiblePoints[b];break}}else if(i.region.Region.Index==b){l=this.model._visibleSeries[i.region.SeriesIndex]._visiblePoints[b];break}}else l=this._getPieOfPiePoint(i.region.Region.PointIndex,r);if(l&&this.model.AreaType=="polaraxes"){for(s=0;s<this.model._visibleSeries.length;s++)$("[id*=_TrackSymbol]").remove(),kt="canvas_trackSymbol_"+s,$("#"+this._id).find("[id*="+kt+"]").remove();if(rt=this.model.AreaType!="polaraxes"?ej.EjSvgRender.utils._getPoint(l,r):ej.EjSvgRender.utils.TransformToVisible(r,l.xValue,l.y,this),c=this.model.prevPoint,!ej.util.isNullOrUndefined(c)&&c!=i&&r.marker.visible){var r=this.model._visibleSeries[c.region.SeriesIndex],dt=this.model._visibleSeries[c.region.SeriesIndex]._visiblePoints[c.region.Region.PointIndex],fi=ej.EjSvgRender.utils.TransformToVisible(r,dt.xValue,dt.y,this);this.drawTrackerSymbol(r,c.region.SeriesIndex,c.region.Region.PointIndex,null,fi);this.model.prevPoint=null}r.marker.visible&&r.drawType!="column"&&r.drawType.toLowerCase()!="rangecolumn"&&(this.drawTrackerSymbol(r,i.region.SeriesIndex,i.region.Region.PointIndex,!0,rt),this.model.prevPoint=i)}r.tooltip.visible&&!ft&&r.visibility.toLowerCase()=="visible"&&(ej.util.isNullOrUndefined(r.tooltip.template)?(this.model.AreaType=="cartesianaxes"?(e=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,this.model.requireInvertedAxes),$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(gt={id:this.svgObject.id+"_TrackToolTip",transform:"translate("+e.x+","+e.y+")"},this.gTransToolEle=this.svgRenderer.createGroup(gt)),this.svgRenderer._setAttr($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip"),{transform:"translate("+e.x+","+e.y+")"}),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","visible"),h={X:i.location.x-this.model.m_AreaBounds.X,Y:Math.abs(i.location.y-this.model.m_AreaBounds.Y)}):($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length==0&&(ni={id:this.svgObject.id+"_TrackToolTip"},this.gTransToolEle=this.svgRenderer.createGroup(ni)),h={X:i.location.x,Y:Math.abs(i.location.y)}),$(".tooltipDiv"+this._id).remove(),this.displayShowTooltip(h,l,r,i.region.Region.PointIndex)):($("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),this.createTooltip(i.region,t)));ct=$.extend({},ej.EjSvgRender.commonChartEventArgs);ct.data=i;this._trigger("pointRegionMouseMove",ct)}else if(ej.util.isNullOrUndefined(this.model.prevPoint)||this.model.AreaType!="polaraxes"){if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var p=this.model.series[this.model.explodeValue.SeriesIndex].type.toLowerCase(),r=this.model._visibleSeries[this.model.explodeValue.SeriesIndex],k=new ej.seriesTypes[p],ti,ut,oi=r.labelPosition.toLowerCase(),a=this.model.explodeValue.SeriesIndex,ii=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,r):r._visiblePoints[this.model.explodeValue.Index],ei=k._calculateArcData(this,this.model.explodeValue.PointIndex,ii,r,a,this.model.explodeValue.PieSeriesIndex);for(this.model.enableCanvasRendering&&(this.model.series[a].explodeIndex=null,nt=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(nt.left,nt.top,nt.width,nt.height),$("#"+this._id).ejChart("redraw")),ut=this.svgObject.id+"_SeriesGroup_"+a,ti=this.model.explodeValue.PieSeriesIndex==1?$(this.gSeriesEle).children("#"+ut)[1]:$(this.gSeriesEle).children("#"+ut)[0],lt=$(ti).children(),s=0;s<lt.length;s++)if(at=lt[s],ri=this.svgRenderer._getAttrVal($(at)[0],"data-pointIndex"),parseInt(ri)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(at),{d:ei.Direction});break}k.drawDataLabelAcc(this,r,this.model.explodeValue.Index,ii,a,this.model.explodeValue.PieSeriesIndex);this.model.explodeValue=null;this.model.explode=!1}}else c=this.model.prevPoint,r=this.model._visibleSeries[c.region.SeriesIndex],l=this.model._visibleSeries[c.region.SeriesIndex]._visiblePoints[c.region.Region.PointIndex],rt=ej.EjSvgRender.utils.TransformToVisible(r,l.xValue,l.y,this),this.drawTrackerSymbol(r,c.region.SeriesIndex,c.region.Region.PointIndex,null,rt),this.model.prevPoint=null},chartTrackball:function(n,t,i){var ri,yr,wt,a,pr,ui,kt,e,tr,ft,fi,ei,wr,g,k,ir,oi,d,nr,si,st,w,c,ci,s,iu,dr,gr,li,fr,f;this.crosshairLinePath=[];var y=n.model.requireInvertedAxes,er=[],or=[],o,vt,kt,r,it,ai=this.model.indicators,h=this.model._visibleSeries,vi=!1,s,yt,dt,u,sr=[],ht,nu,gt,yi,rt,pi,hr,wi,cr,lr,p,bi=0,d,ki,di,ni,b,v=[],ct=[],l=[],et=this.model.enableCanvasRendering,lt=0,at=0,ar=0,vr=$("#"+this._id).offset(),ot=[],ti=[],ii=[],ut=this.model.crosshair.trackballTooltipSettings.mode.toLowerCase(),tu=n._id+"_trackball_grouping_tooltip",pt=this.model.locale,gi=0,nr=0;if(!this.model.enable3D&&this.model.crosshair.visible&&this.model.crosshair.type.toLowerCase()=="trackball"){for($("#"+this.svgObject.id+"_CrosshairGroup").length==0?(ri={id:n.svgObject.id+"_CrosshairGroup",visibility:"visible"},et?(ri.position="absolute",n.svgRenderer.drawCrosshairLine(ri,"#chartContainer_"+this._id)):(n.gTrackball=n.svgRenderer.createGroup(ri),n.svgRenderer.append(n.gTrackball,n.svgObject))):n.model.trackerElement&&($.finish?$(n.model.trackerElement).finish():$(n.model.trackerElement).stop(!0,!0),n.model.trackerElement=null),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),$("#secondCanvas").remove(),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#"+tu).children().remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="TrackToolTipTemplate"]').remove(),et&&$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),yr=h.length,wt=0;wt<ai.length&&ai[wt].segment;wt++)h=h.concat(ai[wt].segment);for(yi=h.length,f=0;f<yi;f++)if(h[f].visibility=="visible"&&h[f].enableTrackTooltip&&(s=f,yt=[],dt=y?n.mousemoveY+h[f].xAxis.plotOffset>h[f].xAxis.y&&n.mousemoveY<h[f].xAxis.y+h[f].xAxis.height+h[f].xAxis.plotOffset:n.mousemoveX+h[f].xAxis.plotOffset>h[f].xAxis.x&&n.mousemoveX<h[f].xAxis.x+h[f].xAxis.width+h[f].xAxis.plotOffset,et&&(this.canvasX=h[f].xAxis.x),u=n.getClosestPointX(yt,h[f],n.mousemoveX,n.mousemoveY),ht=h[f].xAxis.visibleRange,u.point!=""&&(ui=h[f].type.toLowerCase()=="boxandwhisker"?u.point[0].boxPlotLocation[0].YValues:u.point[0].YValues[0],u.point!=""&&(ui>=h[f].yAxis.visibleRange.min||ut=="grouping")&&u.point[0].xValue>=ht.min&&u.point[0].xValue<=ht.max&&dt)))for(e=0;e<u.point.length;e++)u.point[e].visible&&(h[f].isIndicator||lt++);for(f=0;f<yi;f++){if(s=f,r=h[f],a=[],r.visibility.toLowerCase()=="visible"&&r.enableTrackTooltip)if(yt=[],dt=y?n.mousemoveY+h[f].xAxis.plotOffset>r.xAxis.y&&n.mousemoveY<r.xAxis.y+r.xAxis.height+h[f].xAxis.plotOffset:n.mousemoveX+h[f].xAxis.plotOffset>r.xAxis.x&&n.mousemoveX<r.xAxis.x+r.xAxis.width+h[f].xAxis.plotOffset,et&&(this.canvasX=r.xAxis.x),u=n.getClosestPointX(yt,r,n.mousemoveX,n.mousemoveY),ht=r.xAxis.visibleRange,u.point!=""){if(ui=h[f].type.toLowerCase()=="boxandwhisker"?u.point[0].boxPlotValues.midvalue:u.point[0].YValues[0],(ui>=h[f].yAxis.visibleRange.min||ut=="grouping")&&u.point[0].xValue>=ht.min&&u.point[0].xValue<=ht.max)if(dt)for(kt=u.point.length,e=0;e<kt;e++)if(u.point[e].visible){if(!r.isIndicator){if(r.type=="boxandwhisker")for(gi++,tr={xValue:u.point[e].xValue,YValues:u.point[e].boxPlotLocation[0].YValues},o=ej.EjSvgRender.utils._getPoint(tr,r),o.YValues=tr.YValues,a.push(o),ft=0;ft<u.point[e].boxPlotLocation.length;ft++)u.point[e].boxPlotLocation[ft].outlier==!0&&(pr={X:u.point[e].boxPlotLocation[ft].X,Y:u.point[e].boxPlotLocation[ft].Y,YValues:u.point[e].boxPlotLocation[ft].YValues,outlier:u.point[e].boxPlotLocation[ft].outlier},a.push(pr));else o=ej.EjSvgRender.utils._getPoint(u.point[e],r);if(this.model.financial=yr==1&&kt==1&&r._hiloTypes||!1,y)if(this.model.financial?(fi=o.X>o.low?o.X:o.low,ei=o.X<o.low?o.X:o.low,it="M "+r.yAxis.x+" "+(o.Y+r.xAxis.y)+" L "+(ei+r.yAxis.x)+" "+(o.Y+r.xAxis.y)+" M "+(r.yAxis.x+fi)+" "+(o.Y+r.xAxis.y)+" L "+(r.yAxis.x+r.yAxis.width)+" "+(o.Y+r.xAxis.y)):it="M "+r.yAxis.x+" "+(o.Y+r.xAxis.y)+" L "+(r.yAxis.x+r.yAxis.width)+" "+(o.Y+r.xAxis.y),r.type=="boxandwhisker")for(c=0;c<a.length;c++)v.push({X:a[c].X,Y:a[c].Y,YValues:a[c].YValues,outlier:a[c].outlier});else v.push({X:u.point[e].location.X+r.yAxis.x,Y:u.point[e].location.Y+r.xAxis.y});else if(this.model.financial?(fi=o.Y<o.low?o.Y:o.low,ei=o.Y>o.low?o.Y:o.low,it="M "+(o.X+r.xAxis.x)+" "+n.model.m_AreaBounds.Y+" L "+(o.X+r.xAxis.x)+" "+(fi+r.yAxis.y)+" M "+(o.X+r.xAxis.x)+" "+(ei+r.yAxis.y)+" L "+(o.X+r.xAxis.x)+" "+(n.model.m_AreaBounds.Y+n.model.m_AreaBounds.Height)):it="M "+(o.X+r.xAxis.x)+" "+n.model.m_AreaBounds.Y+" L "+(o.X+r.xAxis.x)+" "+(n.model.m_AreaBounds.Y+n.model.m_AreaBounds.Height),r.type=="boxandwhisker")for(c=0;c<a.length;c++)v.push({X:a[c].X,Y:a[c].Y,YValues:a[c].YValues,outlier:a[c].outlier});else v.push({X:u.point[e].location.X+r.xAxis.x,Y:u.point[e].location.Y+r.yAxis.y});if(nu={left:vr.left,top:vr.top},gt={id:n.svgObject.id+"_Tracker",fill:"none","stroke-width":n.model.crosshair.line.width,"clip-path":"url(#"+n.svgObject.id+"_ChartAreaClipRect)",stroke:n.model.crosshair.line.color,d:it},this.crosshairLinePath.push(gt),$("#"+n.svgObject.id+"_Tracker").length==0?(et?(g=this.svgRenderer.createCrosshairCanvas(),g.ctx=g.getContext("2d")):(g=this.svgRenderer,wr=n.gTrackball),n.svgRenderer.drawPath.call(g,gt,wr),vi=!0):(vi=!0,ej.util.isNullOrUndefined(this._closest)?n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:it,visibility:"visible"}):this._beforeMin?this._closest>=u.point[e].xValue&&n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:it,visibility:"visible"}):this._afterMax&&this._closest<=u.point[e].xValue&&n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:it,visibility:"visible"}),$("#"+n.svgObject.id+"_Tracker").css({display:"block"}),et&&(g=this.svgRenderer.createCrosshairCanvas(),g.ctx=g.getContext("2d"),n.svgRenderer.drawPath.call(g,gt,n.gTrackball)),$("#"+this._id).find('[id*="canvas_Tracker"]').css("visibility","visible")),pi=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,y),hr={transform:"translate("+pi.x+","+pi.y+")",id:n.svgObject.id+"_TrackToolTip_"+s},n.gTransToolEle=n.svgRenderer.createGroup(hr),wi=this.model.prePoint,ej.util.isNullOrUndefined(wi)||wi.pointIndex[0]!=u.index[0]||!$("#"+n.svgObject.id+"_trackSymbol_"+s+"_"+u.index)){if(ej.util.isNullOrUndefined(cr)&&(n.gTransToolEle&&n.gTrackerEle&&($(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').attr("visibility","hidden"),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden")),cr=u),k=r.type.toLowerCase(),ir=0,(!r._hiloTypes||k.indexOf("rangearea")>-1)&&(ut!="grouping"||ut=="grouping"&&k.indexOf("column")<0&&k.indexOf("bar")<0))if(r.type=="boxandwhisker")for(oi=0;oi<a.length;oi++)n.drawTrackerSymbol(r,s,u.index[e],!0,a[oi],null,ir),ir++;else n.drawTrackerSymbol(r,s,u.index[e],!0,o);if(r.trackerRemoved=!0,n.model.crosshair.trackballTooltipSettings.tooltipTemplate)ut==="grouping"?(u=n.getClosestPointX(yt,r,n.mousemoveX,n.mousemoveY),vt=this.getSeriesColor(u.point[e],s,r),or.push({seriesColor:vt}),kt=u.point.length,nt=this.getTooltipFormat(u.point[e],r,s,u.index[e],ur),nt.text="&nbsp"+nt.text+"&nbsp",ot.push({text:nt.text,seriesIndex:s,pointIndex:u.index[e]}),er.push({point:u.point[e]}),sr.push({series:r}),(r._hiloTypes&&k!="rangearea"||k.indexOf("column")>-1||k.indexOf("bar")>-1)&&(rt={region:{Region:{PointIndex:u.index[e]},SeriesIndex:s}},this.highlightStart(i,rt,this._id+"_svg_SeriesGroup_"+s,this._id+"_svg_Series"+s+"_Point"+u.index[e],!0)),lt===ot.length&&(ni=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],n.displayGroupingTemplate(ki,di,o,er,sr,s,u.index[e],ni,or))):(ki,di,ni=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],n.displayTemplateTooltip(ki,di,o,u.point[e],r,s,u.index[e],ni));else if(d=v.length-1,nr=a.length,ut=="grouping"){var vt=this.getSeriesColor(u.point[e],s,r),rr,ur=r.tooltip.format,nt,br,bt=[];if(r.type=="boxandwhisker")for(c=0;c<nr;c++)br=this.getTooltipFormat(u.point[e],r,s,u.index[e],ur,a[c]),bt.push(br),nt=null;else nt=this.getTooltipFormat(u.point[e],r,s,u.index[e],ur);if(si=r.tooltip.font?r.tooltip.font.color?r.tooltip.font.color:vt:vt,st=r.tooltip.font?$.extend(!1,r.font,{},r.tooltip.font):r.font,typeof si=="object"&&(si=vt[1].color),r.type=="boxandwhisker")for(w=0;w<bt.length;w++)ot.push({text:bt[w].text,seriesIndex:s,pointIndex:u.index[e]});else nt.text="&nbsp"+nt.text+"&nbsp",ot.push({text:nt.text,seriesIndex:s,pointIndex:u.index[e]});if((r._hiloTypes&&k!="rangearea"||k.indexOf("column")>-1||k.indexOf("bar")>-1)&&(rt={region:{Region:{PointIndex:u.index[e]},SeriesIndex:s}},this.highlightStart(i,rt,this._id+"_svg_SeriesGroup_"+s,this._id+"_svg_Series"+s+"_Point"+u.index[e],!0)),r.type=="boxandwhisker")for(w=0;w<bt.length;w++)ii.push(n._id+"_grouping_text_"+s+"_"+u.index[e]+w);else ii.push(n._id+"_grouping_text_"+s+"_"+u.index[e]);if(rr={color:si,"font-size":st.size,"font-family":st.fontFamily,"font-style":st.fontStyle,"font-weight":st.fontWeight},r.type=="boxandwhisker")for(w=0;w<bt.length;w++)ti.push(rr);else ti.push(rr);gi==lt&&r.type=="boxandwhisker"?n.displayTooltip(!0,{point:u.point[e],series:r,textCollection:ot,textOptionsCollection:ti,groupingTextId:ii}):lt==ot.length&&r.type!="boxandwhisker"&&n.displayTooltip(!0,{point:u.point[e],series:r,textCollection:ot,textOptionsCollection:ti,groupingTextId:ii})}else{var lr=this.getTooltipFormat(u.point[e],r,s,f,r.tooltip.format,f),kr=r.tooltip,st=kr.font?$.extend(!1,r.font,{},kr.font):r.font,p=ej.EjSvgRender.utils._measureText(lr.text,null,st),tt,ar=y?p.height:p.width,at=at>ar?at:ar,hi=Math.ceil(lr.text.toString().split("<br/>").length/2);if(this.model.tooltipPadding=Number(st.size.toString().replace(/px/i,""))/3,tt=this.model.tooltipPadding+r.tooltip.border.width*2,y)ct.push({Start:v[d].X-tt-p.width/2,End:v[d].X+tt+p.width/2}),l.push({Point:v[d],ClosestPoint:u.point[e],Series:r,ClosestPointIndex:u.index[e],Tgap:bi,StEnd:ct[d],TextArea:p,ReqInvertAxis:y});else if(r.type=="boxandwhisker")for(c=0;c<nr;c++)ct.push({Start:a[c].Y-tt*hi-p.height/2,End:a[c].Y+tt*hi+p.height/2}),l.push({Point:a[c],ClosestPoint:u.point[e],Series:r,ClosestPointIndex:u.index[e],Tgap:bi,StEnd:ct[c],TextArea:p,ReqInvertAxis:y});else ct.push({Start:v[d].Y-tt*hi-p.height/2,End:v[d].Y+tt*hi+p.height/2}),l.push({Point:v[d],ClosestPoint:u.point[e],Series:r,ClosestPointIndex:u.index[e],Tgap:bi,StEnd:ct[d],TextArea:p,ReqInvertAxis:y});if(r.type=="boxandwhisker"&&gi==lt)for(at+=2*tt,l=y?l.sort(function(n,t){return n.Point.X-t.Point.X}):l.sort(function(n,t){return n.Point.Y-t.Point.Y}),this.SmartTooltipPosition(l),ci=l.length,n.displayTooltip(!1,l,at),f=0;f<ci;f++)s=$.inArray(l[f].Series,this.model._visibleSeries),l[f].Series._hiloTypes&&(rt={region:{Region:{PointIndex:l[f].ClosestPointIndex},SeriesIndex:s}},this.highlightStart(i,rt,this._id+"_svg_SeriesGroup_"+s,this._id+"_svg_Series"+s+"_Point"+l[f].ClosestPointIndex,!0));else if(l.length==lt&&r.type!="boxandwhisker")for(at+=2*tt,l=y?l.sort(function(n,t){return n.Point.X-t.Point.X}):l.sort(function(n,t){return n.Point.Y-t.Point.Y}),this.SmartTooltipPosition(l),ci=l.length,n.displayTooltip(!1,l,at),f=0;f<ci;f++)s=$.inArray(l[f].Series,this.model._visibleSeries),l[f].Series._hiloTypes&&(rt={region:{Region:{PointIndex:l[f].ClosestPointIndex},SeriesIndex:s}},this.highlightStart(i,rt,this._id+"_svg_SeriesGroup_"+s,this._id+"_svg_Series"+s+"_Point"+l[f].ClosestPointIndex,!0))}}else b=$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(b),{visibility:"visible"}),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","visible"),b=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(b),{visibility:"visible"}),b=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(b),{visibility:"visible"}),$(n.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible"),this.model.crosshair.trackballTooltipSettings.tooltipTemplate!=null&&(ut==="grouping"?(b=$(document).find('[id*="TrackGroupToolTipTemplate"]'),this.svgRenderer._setAttr($(b),{visibility:"visible"})):(b=$(document).find('[id*="_TrackToolTipTemplate_"]'),this.svgRenderer._setAttr($(b),{visibility:"visible"})))}}else $("#"+this.svgObject.id+"_TrackSymbol_"+s).remove();else this._removeTrackBall()}else vi||$(n.svgObject).find('[id*="_Tracker"]').remove(),iu=$("#"+n.svgObject.id+"_TrackSymbol_"+f),dr=this.svgObject.id+"_TrackSymbol_"+s,$("#"+this._id).find("[id*="+dr+"]").remove(),$("#"+n._id).find("[id*=_canvas_trackSymbol_"+f+"]").css("visibility","hidden"),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove());r.trackerRemoved=!1}if(this.model.closestPoint!=null&&(this.model.prePoint={point:u.point,pointIndex:u.index,series:r,seriesIndex:s}),$("#"+this.svgObject.id+"_TrackAxisToolTip").length==0&&this.model.crosshairLabelVisibility?(gr={id:n.svgObject.id+"_TrackAxisToolTip",visibility:"visible"},n.gTrackAxisEle=n.svgRenderer.createGroup(gr),n.svgRenderer.append(n.gTrackAxisEle,n.gTrackball)):$("#"+this.svgObject.id+"_TrackAxisToolTip").css("display","block"),o&&(li=u.point[0],et?$(n.svgObject.parentElement).find('[id*="AxisToolTipRect"]').css({visibility:"hidden",display:"none"}):$(n.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible").children().attr({display:"none"}),$.each(n.model._axes,function(i,r){var c=r.x,l=r._opposed,f,u,s;if(y){if(r.orientation.toLowerCase()=="vertical"&&r.crosshairLabel.visible&&n.mousemoveY<=r.y+r.height&&r.y<=n.mousemoveY){var f=r._valueType.toLowerCase(),e=li.xValue,h=[];f=="logarithmic"&&(e=Math.pow(r.logBase,e).toFixed(2).replace(new RegExp("\\.0{2}"),""));f=="datetime"&&(e=ej.format(new Date(Math.floor(e)),ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(r._intervalType,r):r.labelFormat,pt));f=="category"&&(e=ej.EjSvgRender.utils._getLabelContent(e,r,pt));h={X:r.x,Y:o.Y+r.y};n.displayAxisTooltip(h,e,r,i,t)}}else r.orientation.toLowerCase()=="horizontal"&&r.crosshairLabel.visible&&o.X+c<=r.x+r.width&&r.x<=v[v.length-1].X&&(f=r._valueType.toLowerCase(),u=(o.X/r.width*r.visibleRange.delta+r.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),f=="logarithmic"&&(u=Math.pow(r.logBase,u)),f=="datetime"&&(u=ej.format(new Date(Math.floor(u)),ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(r._intervalType,r):r.labelFormat,pt)),(f=="category"||f=="datetimecategory")&&(typeof li.x!="object"&&(u=li.xValue),u=f!="category"&&ej.util.isNullOrUndefined(r.labelFormat)?ej.format(new Date(r.labels[Math.floor(u)]),ej.EjSvgRender.utils._dateTimeLabelFormat(r.intervalType,r),pt):ej.EjSvgRender.utils._getLabelContent(Math.floor(u),r,pt),u=u?u:"undefined"),s={X:v[v.length-1].X,Y:l?r.y+r.height-r.majorTickLines.size:r.y+r.height+r.majorTickLines.size+10},n.displayAxisTooltip(s,u,r,i,t,!0))})),ut!=="grouping"&&n.model.crosshair.trackballTooltipSettings.tooltipTemplate)for(fr=$(document).find('[id*="_TrackToolTipTemplate_"]'),f=0;f<fr.length;f++)$(fr[f]).appendTo(this.templateContainer),$(this.templateContainer).appendTo(this.chartContainer)}},chartCrossHair:function(n,t){var nt=ej.util.isNullOrUndefined(this.model.primaryYAxis.roundingPlaces)?2:this.model.primaryYAxis.roundingPlaces,s=n.model.enableCanvasRendering,o=this.model.locale,c,h,w,b,l,k,a,v,i,ut;if(!this.model.enable3D&&this.model.crosshair.visible&&this.model.crosshair.type.toLowerCase()=="crosshair"){for($("#"+this.svgObject.id+"_CrosshairGroup").length==0?(c={id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"},s?(c.position="absolute",n.svgRenderer.drawCrosshairLine(c,"#chartContainer_"+this._id)):(this.gCrosshair=this.svgRenderer.createGroup(c),this.svgRenderer.append(this.gCrosshair,this.svgObject))):$("#"+this.svgObject.id+"_CrosshairGroup").css("display","block"),n.model.trackerElement&&($.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.trackerElement=null),h=this.getScaleValues(this),w=$.extend(!0,{},t),mouseX=w.x/h.x,mouseY=w.y/h.y,v=0;v<this.model._axes.length;v++)i=this.model._axes[v],i.orientation.toLowerCase()=="vertical"?mouseY>=i.y&&mouseY<=i.y+i.height&&(i.x<mouseX?b=Math.min(b||i.x,i.x):l=Math.max(l||i.x,i.x)):mouseX>=i.x&&mouseX<=i.x+i.width&&(i.y<mouseY?k=Math.min(k||i.y,i.y):a=Math.max(a||i.y,i.y));var f=b||this.model.m_AreaBounds.X,d=l?l-f:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-f,e=k||this.model.m_AreaBounds.Y,g=a?a-e:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height-e;this.mousemoveX=this.mousemoveX/h.x;this.mousemoveY=this.mousemoveY/h.y;var tt="M "+this.mousemoveX+" "+e+" L "+this.mousemoveX+" "+(e+g),it="M "+f+" "+this.mousemoveY+" L "+(f+d)+" "+this.mousemoveY,y=$("#"+this._id).offset(),p=n.svgObject,r,u,rt={left:p.offsetLeft>y.left?p.offsetLeft:y.left,top:p.offsetTop>y.top?p.offsetTop:y.top};$("#"+n.svgObject.id+"_CrosshairVertical").length==0?(r={id:n.svgObject.id+"_CrosshairVertical",fill:"none","stroke-width":n.model.crosshair.line.width,stroke:n.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:tt},s?(r.width=0,r.height=g,r.top=e,r.left=f,r.position="absolute",r.style="solid",r.opacity=.5,n.svgRenderer.drawCrosshairLine(r,"#"+this.svgObject.id+"_CrosshairGroup")):n.svgRenderer.drawPath(r,n.gCrosshair)):(n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_CrosshairVertical"),{d:tt}),s&&($("#secondCanvas").remove(),$("#"+n.svgObject.id+"_CrosshairVertical").css("left",this.mousemoveX).css({top:e,height:g,display:"block"})),$("#"+n.svgObject.id+"_CrosshairVertical").attr("visibility","visible").css("display","block"));$("#"+n.svgObject.id+"_CrosshairHorizontal").length==0?(u={id:n.svgObject.id+"_CrosshairHorizontal",fill:"none","stroke-width":n.model.crosshair.line.width,stroke:n.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:it},s?(u.top=e+rt.top,u.left=f+rt.left,u.width=d,u.height=0,u.position="absolute",u.style="solid",u.opacity=.5,n.svgRenderer.drawCrosshairLine(u,"#"+this.svgObject.id+"_CrosshairGroup")):n.svgRenderer.drawPath(u,n.gCrosshair)):(n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_CrosshairHorizontal"),{d:it}),$("#"+n.svgObject.id+"_CrosshairHorizontal").attr("visibility","visible").css("display","block"),s&&$("#"+n.svgObject.id+"_CrosshairHorizontal").css("top",this.mousemoveY).css({left:f,width:d,display:"block"}));$("#"+n.svgObject.id+"_AxisCrossToolTip").length==0?(ut={id:n.svgObject.id+"_AxisCrossToolTip",visibility:"visible"},n.gTrackAxisEle=n.svgRenderer.createGroup(ut),n.svgRenderer.append(n.gTrackAxisEle,n.gCrosshair)):(this.svgRenderer._setAttr($(n.gTrackAxisEle),{visibility:"visible"}),$(n.gTrackAxisEle).css("display","block"));$.each(n.model._axes,function(i,r){var f=r._valueType.toLowerCase(),s,u,h,e,c;r.orientation.toLowerCase()=="horizontal"&&r.crosshairLabel.visible?n.mousemoveX<=r.x+r.width&&r.x<=n.mousemoveX?(s=r._valueType=="category"&&r.labelPlacement.toLowerCase()=="betweenticks"?.5:0,u=(Math.abs(n.mousemoveX-(r.isInversed?r.x+r.width:r.x))/r.width*r.visibleRange.delta+r.visibleRange.min+s).toFixed(2).replace(new RegExp("\\.0{2}"),""),f=="logarithmic"&&(u=Math.pow(r.logBase,u).toFixed(2).replace(new RegExp("\\.0{2}"),"")),f=="datetime"&&(u=ej.format(new Date(Math.floor(u)),ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(r._intervalType,r):r.labelFormat,o)),(f=="category"||f=="datetimecategory")&&(f!="category"&&ej.util.isNullOrUndefined(r.labelFormat)?(u=u<0?0:u,u=ej.format(new Date(r.labels[Math.floor(u)]),ej.EjSvgRender.utils._dateTimeLabelFormat(r.intervalType,r),o)):u=ej.EjSvgRender.utils._getLabelContent(u,r,o)),h={X:n.mousemoveX,Y:r.y},n.displayAxisTooltip(h,u,r,i,t),$("#"+n.svgObject.id+"_AxisToolTipText_"+i).show(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+i).show()):($("#"+n.svgObject.id+"_AxisToolTipText_"+i).hide(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+i).hide()):r.orientation.toLowerCase()=="vertical"&&r.crosshairLabel.visible&&(n.mousemoveY<=r.y+r.height&&r.y<=n.mousemoveY?(e=(Math.abs(1-Math.abs(n.mousemoveY-(r.isInversed?r.y+r.height:r.y))/r.width/r.height)*r.visibleRange.delta+r.visibleRange.min).toFixed(nt).replace(new RegExp("\\.0{"+nt+"}"),""),f=="logarithmic"&&(e=Math.pow(r.logBase,e).toFixed(2).replace(new RegExp("\\.0{2}"),"")),f=="datetime"&&(e=ej.format(new Date(Math.floor(e)),ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(r._intervalType,r):r.labelFormat,o)),(f=="category"||f=="datetimecategory")&&(e=f=="category"||ej.util.isNullOrUndefined(r.labelFormat)?ej.EjSvgRender.utils._getLabelContent(e,r,o):ej.format(new Date(r.labels[Math.floor(e)]),ej.EjSvgRender.utils._dateTimeLabelFormat(r.intervalType,r),o)),c={X:r.x,Y:n.mousemoveY},n.displayAxisTooltip(c,e,r,i,t),$("#"+n.svgObject.id+"_AxisToolTipText_"+i).show(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+i).show()):($("#"+n.svgObject.id+"_AxisToolTipText_"+i).hide(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+i).hide()))})}},chartTouchMove:function(n){this.cancelEvent(n);n=n.originalEvent.touches[0];this.chartInteractiveBehavior(n)},isZoomButtonHovered:function(n){if(n.parentNode!=null){var t=n.parentNode.id,i=n.id;if(i.indexOf("_ZoomInBtn ")==-1&&i.indexOf("ZoomOutBtn")==-1&&i.indexOf("_ZoomBtn")==-1&&i.indexOf("_ResetZoom")==-1&&i.indexOf("_PanBtn")==-1&&t&&t.indexOf("_ZoomInBtn")==-1&&t.indexOf("_ZoomOutBtn")==-1&&t.indexOf("_ZoomBtn")==-1&&t.indexOf("_ResetZoom")==-1&&t.indexOf("_PanBtn")==-1)return!1}return!0},showTooltipOnDrag:function(n){$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").attr("visibility","visible");$("#"+n.svgObject.id+"_TrackToolTip").show();$(".tooltipDiv").css("display","block")},getScaleValues:function(n){for(var t=document.getElementById(n.element[0].id),u=1,f=1,i,e,r;;){if(t.tagName=="HTML")break;e=window.getComputedStyle(t,"");r=e.getPropertyValue("transform");r!="none"&&(i=r.replace("matrix(","").replace(")","").split(","),u=parseFloat(i[0]),f=parseFloat(i[3]));t=t.parentNode}return{x:u,y:f}},chartInteractiveBehavior:function(n){var s=this.calMousePosition(n),l,a,t,o,r,i,v;this.mousemoveX=s.X;this.mousemoveY=s.Y;var u=this.getScaleValues(this),f=$.extend(!0,{},this.model.m_AreaBounds),h=f.X*u.x,c=f.Y*u.y,y=f.Width*u.x,p=f.Height*u.y,e="#"+this.svgObject.id;this.mouseWheelCoords&&(l=Math.abs(this.mouseWheelCoords.x-n.pageX),a=Math.abs(this.mouseWheelCoords.y-n.pageY),(l>0||a>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall());t=this;r=n.target.id;t.model.AreaType=="cartesianaxes"&&this.mousemoveX>=h&&this.mousemoveX<h+y&&this.mousemoveY<c+p&&this.mousemoveY>=c&&this.model.initSeriesRender?(o={x:t.mousemoveX,y:t.mousemoveY},r=t.svgRenderer._getAttrVal($(n.target).parent(),"id"),r!=undefined&&(r==t.svgRenderer._getAttrVal($(this.svgObject).find(e+"_ZoomBtn"),"id")||r==t.svgRenderer._getAttrVal($(this.svgObject).find(e+"_ResetZoom"),"id")||r==t.svgRenderer._getAttrVal($(this.svgObject).find(e+"_PanBtn"),"id"))?this.disableTrackBall():this.enableTrackBall(),this.model.crosshair.visible||this.isZoomButtonHovered(n.target)?this.dragPoint?this.showTooltipOnDrag(t,n):this.closestXyPoint||($("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+t.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none")):this.tooltip(t,n),this.model.enable3D||(this.chartTrackball(t,o,n),this.chartCrossHair(t,o))):(t.model.AreaType!="none"&&t.model.AreaType!="polaraxes"||this.isZoomButtonHovered(n.target)?this.dragPoint?this.showTooltipOnDrag(t,n):this.closestXyPoint||($("#"+t.svgObject.id).find("#"+t.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+t.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none"),this._removeTrackBall(),this._removeHighlight()):this.tooltip(t,n),i=this.model.prevPoint,i&&i.point&&(this.model.enableCanvasRendering?$("#canvas_trackSymbol").remove():(v=i.series.type=="boxandwhisker"?i.outlierPosition:ej.EjSvgRender.utils._getPoint(i.point,i.series),t.drawTrackerSymbol(i.series,i.seriesIndex,i.pointIndex,null,v)),this.model.prevPoint=null))},highlightSvg:function(n,t,i,r,u,f,e){var s,o,h;t!=undefined&&(s=this.svgObject.id+"_SeriesGroup_",o=t.substr(s.length),t.indexOf(this.svgObject.id+"_symbolGroup_")>=0&&(s=this.svgObject.id+"_symbolGroup_",o=t.substr(s.length)));o=u!=undefined?u.region.SeriesIndex:o;h=this.model.series[o];i&&h&&(h.highlightSettings.enable||e)&&this.highlight(n,r,h,null,u,t,f,e)},highlightCanvas:function(n,t,i){for(var c,e,u,s,o,i,r,f=0;f<this.model._visibleSeries.length;f++)if(c=f,e=this.model._visibleSeries[f],u=e.type.toLowerCase(),this.model.AreaType=="cartesianaxes"&&e.visibility.toLowerCase()=="visible"&&u!=="scatter"&&u!=="bubble"&&u!=="column"&&u.indexOf("bar")==-1&&u!=="stackingcolumn"&&u!=="stackingcolumn100"&&!e._hiloTypes){var h=this.calMousePosition(t);this.mousemoveX=h.X;this.mousemoveY=h.Y;s=this.getClosesPointXY([],[],e,this.mousemoveX,this.mousemoveY,t);ej.util.isNullOrUndefined(s.point)||(o=$.extend({},ej.EjSvgRender.commonChartEventArgs),o.data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:f,Region:{PointIndex:s.index}}})}i=o?o.data:i;i&&this.model.series[i.region.SeriesIndex].highlightSettings.enable&&(r=$.extend({},this.model.series[i.region.SeriesIndex]),r.pointIndex=i.region.Region.PointIndex,r.seriesIndex=i.region.SeriesIndex,r.data=i,$("#"+this._id+"_Selection_series"+r.seriesIndex+"_canvas").length==0&&($("[id*="+this._id+"_Highlight_]").remove(),this.findCanvasSelection(r.seriesIndex,r.pointIndex,r.selectionSettings.mode.toLowerCase())||this.canvasHighlight(this,t,r)))},resizeCursor:function(n,t,i,r,u,f,e){var o=this.selectedRectIndex;t<=r||i<=u||t>=f+r||i>=e+u?($("#"+n+"_resize_rightRect"+o).css({cursor:"default"}),$("#"+n+"_resize_leftRect"+o).css({cursor:"default"}),$("#"+n+"_resize_bottomRect"+o).css({cursor:"default"}),$("#"+n+"_resize_topRect"+o).css({cursor:"default"}),$("#"+n+"_resize_bottomRightCornerCircle"+o).css({cursor:"default"})):(t>=r||i>=u||t<=f+r||i<=e+u)&&($("#"+n+"_resize_rightRect"+o).css({cursor:"e-resize"}),$("#"+n+"_resize_leftRect"+o).css({cursor:"w-resize"}),$("#"+n+"_resize_bottomRect"+o).css({cursor:"s-resize"}),$("#"+n+"_resize_topRect"+o).css({cursor:"n-resize"}),$("#"+n+"_resize_bottomRightCornerCircle"+o).css({cursor:"se-resize"}))},multiSelectMouseMove:function(evt){var q,rectOptions,translate;if(this._isMultiSelect&&this.multiSelectMode=="range"&&!this.dragPoint){var mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y,gripMouseMoveX,gripMouseMoveY,translate,selectionSettingsType=this.multiSelectType,width,height,x,y,rectX,rectY,rectWidth,rectHeight,id,x1,x2,y1,y2,xPlotOffset,yPlotOffset,modifiedX,modifiedY,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,selectedRectIndex=this.selectedRectIndex,containerSvg=this.svgObject.id,chartArea="#"+containerSvg+"_ChartArea",chartAreaX=parseInt($(chartArea).attr("x")),chartAreaY=parseInt($(chartArea).attr("y")),chartAreaWidth=parseInt($(chartArea).attr("width")),chartAreaHeight=parseInt($(chartArea).attr("height")),multiSelectMouseDownId=this.multiSelectMouseDownId,selctRectId="#"+containerSvg+"_selectRect",multiAxis=this.multiAxis;for(q=0;q<multiAxis.length;q++)multiAxis[q].orientation.toLowerCase()=="horizontal"?(x1=multiAxis[q].Location.X1,x2=multiAxis[q].Location.X2,xPlotOffset=multiAxis[q].plotOffset):(y1=multiAxis[q].Location.Y1,y2=multiAxis[q].Location.Y2,yPlotOffset=multiAxis[q].plotOffset);if(this.drag&&!this.resize&&!this.rectPan&&!this.removeRect){var currentX=mouseMoveX,currentY=mouseMoveY,areaBounds=this.model.m_AreaBounds;this.multiSelectDraw=!0;mouseMoveX<areaBounds.X?currentX=areaBounds.X:mouseMoveX>areaBounds.X+areaBounds.Width&&(currentX=areaBounds.X+areaBounds.Width);currentY=mouseMoveY<areaBounds.Y?areaBounds.Y:mouseMoveY>areaBounds.Y+areaBounds.Height?areaBounds.Y+areaBounds.Height:mouseMoveY;switch(selectionSettingsType){case"x":width=Math.abs(currentX-mouseDownX);height=y1-y2+yPlotOffset+yPlotOffset;x=currentX>mouseDownX?mouseDownX:currentX;y=y2-yPlotOffset;break;case"y":width=x2-x1+xPlotOffset+xPlotOffset;height=Math.abs(currentY-mouseDownY);x=x1-xPlotOffset;y=currentY>mouseDownY?mouseDownY:currentY;break;case"xy":width=Math.abs(currentX-mouseDownX);height=Math.abs(currentY-mouseDownY);x=currentX>mouseDownX?mouseDownX:currentX;y=currentY>mouseDownY?mouseDownY:currentY}width>0&&height>0&&(rectOptions={id:this.svgObject.id+"_selectRect"+this.selectedRectIndex,x:x,y:y,width:width,height:height,fill:"rgba(41,136,214,0.2)","stroke-width":2,stroke:"rgba(41,136,214,0.5)",cursor:"pointer","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},x>=x1+xPlotOffset&&mouseMoveX<=x2-xPlotOffset&&mouseMoveY<=y1+yPlotOffset&&y>=y2-yPlotOffset&&this.svgRenderer.drawRect(rectOptions,this.gEle),this.gEle!=null&&($(this.gEle).appendTo(this.parentgEle),this.selectedRectIndex==0&&(this.model.gCurrentEle=this.gEle),$(this.parentgEle).appendTo(this.svgObject)))}if(rectX=parseInt($(selctRectId+selectedRectIndex).attr("x")),rectY=parseInt($(selctRectId+selectedRectIndex).attr("y")),rectWidth=parseInt($(selctRectId+selectedRectIndex).attr("width")),rectHeight=parseInt($(selctRectId+selectedRectIndex).attr("height")),!this.drag&&(evt.target.id.indexOf("selectRect")>=0||evt.target.id.indexOf("resize")>=0)){evt.target.parentNode.id.indexOf("selectedRect")>=0&&(id=evt.target.parentNode.id.split("selectedRect")[1].match(/\d+/)[0],this.gripIndex=eval(id));var selectRectId="#"+containerSvg+"_selectRect",selectRectWidth=parseInt($(selectRectId+this.gripIndex).attr("width")),selectRectHeight=parseInt($(selectRectId+this.gripIndex).attr("height")),selectRectX=parseInt($(selectRectId+this.gripIndex).attr("x")),selectRectY=parseInt($(selectRectId+this.gripIndex).attr("y"));$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"});(selectRectX+selectRectWidth-16>=selectRectX||selectRectY+selectRectHeight-16>=selectRectY)&&$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:""});(selectRectX+selectRectWidth-16<selectRectX||selectRectY+selectRectHeight-16<selectRectY)&&(translate="translate(15,15)",$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:translate}));this.oldId!=evt.target.id&&$("#"+containerSvg+"_gripCollection"+this.oldGripIndex).css({visibility:"hidden"});$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"visible"});this.oldId=evt.target.id;this.oldGripIndex=this.gripIndex}if(evt.target.id.indexOf("selectRect")<0&&evt.target.id.indexOf("resize")<0&&$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"hidden"}),this.resize){$("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide();$("#"+containerSvg+"_closePath"+selectedRectIndex).hide();$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide();$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"});var oldRectX=this.oldRectX[selectedRectIndex],oldRectY=this.oldRectY[selectedRectIndex],oldRectHeight=this.oldRectHeight[selectedRectIndex],oldRectWidth=this.oldRectWidth[selectedRectIndex],oldReBottomRectY=this.oldReBottomRectY[selectedRectIndex],oldReRightRectX=this.oldReRightRectX[selectedRectIndex];switch(selectionSettingsType){case"x":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex&&(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth));this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"y":multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex&&(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY));this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"xy":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex?(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)):multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex?(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)):multiSelectMouseDownId==containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex&&(rectWidth=mouseMoveX-oldRectX,rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex).attr({cx:mouseMoveX,cy:mouseMoveY}),mouseMoveX<oldRectX&&mouseMoveY<oldRectY?(rectX=mouseMoveX,rectY=mouseMoveY,rectWidth=oldRectX-mouseMoveX,rectHeight=oldRectY-mouseMoveY):mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveX>=oldRectX&&mouseMoveY>=oldRectY&&(rectX=oldRectX,rectY=oldRectY));this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight)}switch(selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,width:rectWidth});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY,height:rectHeight});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY,width:rectWidth,height:rectHeight})}}if(this.rectPan){$("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide();$("#"+containerSvg+"_closePath"+selectedRectIndex).hide();$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide();$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"});(mouseMoveX<=chartAreaX||mouseMoveY<=chartAreaY||mouseMoveX>=chartAreaX+chartAreaWidth||mouseMoveY>=chartAreaY+chartAreaHeight)&&this.multiSelectMouseUp(evt);modifiedX=this.PreviousCoords.X-evt.pageX;modifiedY=this.PreviousCoords.Y-evt.pageY;rectX=rectX-modifiedX;rectY=rectY-modifiedY;this.PreviousCoords.X=evt.pageX;this.PreviousCoords.Y=evt.pageY;switch(selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY})}}}},isTouch:function(n){var i=this.model.browserInfo,t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},highlightStart:function(n,t,i,r,u){if(n.target.parentNode!=null)var i=i||n.target.parentNode.id,f=i.indexOf(this.svgObject.id+"_SeriesGroup_")>=0||i.indexOf(this.svgObject.id+"_symbolGroup_")>=0||i.indexOf(this.svgObject.id+"_TrackSymbol_")>=0||i.indexOf(this.svgObject.id+"_Chart3D")>=0?!0:!1;this.model.enableCanvasRendering?this.highlightCanvas(this,n,t):this.highlightSvg(this,i,f,n,t,r,u)},_changeDraggingPoints:function(n,t,i,r){i=n.xAxis._valueType=="datetime"?new Date(i):i;r=n.yAxis._valueType=="datetime"?new Date(r):r;var u=n.dragSettings.type.toLowerCase();(u=="x"||u=="xy")&&n.xAxis._valueType!="category"&&(this.dragPoint?(n.pointCollection[t].x=i,n.pointCollection[t].xValue=n.xAxis._valueType=="datetime"&&typeof i!="object"?new Date(i):i):(n._visiblePoints[t].x=n.points[t].x=i,n._visiblePoints[t].xValue=n.points[t].xValue=n.xAxis._valueType=="datetime"&&typeof i=="object"?Date.parse(i):i),ej.util.isNullOrUndefined(n.dataSource)||(n.dataSource[t][n.xName]=i));(u=="y"||u=="xy")&&(this.dragPoint?(n.pointCollection[t].y=r,n.pointCollection[t].YValues[0]=n.yAxis._valueType=="datetime"&&typeof r!="object"?new Date(r):r):(n._visiblePoints[t].y=n.points[t].y=r,n._visiblePoints[t].YValues[0]=n.points[t].YValues[0]=n.yAxis._valueType=="datetime"&&typeof r=="object"?Date.parse(r):r),ej.util.isNullOrUndefined(n.dataSource)||(n.dataSource[t][n.yName]=r))},_dragDelta:function(n,t,i,r,u,f){var h=this,o={X:i,Y:r},s={X:n,Y:t},e=$.extend({},this.commonDragEventArgs);e.data={seriesIndex:u,pointIndex:f,oldValue:o,newValue:s};this._trigger("dragging",e);this.commonDragEventArgs=e},_getDraggedPoint:function(n,t,i){var u,o,s,f,e,r=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes);return this.model.requireInvertedAxes?(f=r.y+r.height-i,e=t-r.x):(f=t-r.x,e=r.y+r.height-i),u=ej.EjSvgRender.utils._getValuebyPoint(f,e,n,this.model.requireInvertedAxes),o=parseFloat(u.PointX.toFixed(2)),s=parseFloat(u.PointY.toFixed(2)),{X:o,Y:s}},_pointDragandDrop:function(n,t,i){var b=n.data.seriesIndex,e,p=[],k=null,f=n.type.toLowerCase(),c={},l,w,rt,ft,r,o,u,s;for(c.axes={},l=0;l<this.model._axes.length;l++)c.axes[this.model._axes[l].name]={};$("[id*=_Marker]").remove();var d=this._getDraggedPoint(n,this.mousemoveX,this.mousemoveY),g=d.X,nt=d.Y,tt=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.xValue:this.commonDragEventArgs.data.oldValue.X,it=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.yValue[0]:this.commonDragEventArgs.data.oldValue.Y;if(n.region?(s=n.region,i._dragDelta(g,nt,tt,it,s.SeriesIndex,s.Region.PointIndex)):(w=n.pointData,i._dragDelta(g,nt,tt,it,w.seriesIndex,w.index)),this.model.enableCanvasRendering)this.canvasElement&&this.canvasElement.clearRect(0,0,i.svgWidth,i.svgHeight),$("#"+i._id+"_PreviewSeries"+b+"_canvas").length==0&&(rt=document.getElementById(i._id+"_canvas").getBoundingClientRect(),e=this.createCanvasElement(i._id+"_PreviewSeries"+b+"_canvas",i.svgWidth,i.svgHeight,rt),this.createRect(i,e),this.canvasElement=e);else{n.xAxis=n.xAxis===null||n.xAxis===undefined?this.model._axes[0]:n.xAxis;n.yAxis=n.yAxis===null||n.yAxis===undefined?this.model._axes[1]:n.yAxis;var ut=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),k="translate("+ut.x+","+ut.y+")",ct={id:this.svgObject.id+"_PreviewSeriesGroup",transform:k,cursor:"default",visibility:"visible"};$("#"+this.svgObject.id+"_PreviewSeriesGroup").attr("transform",k);this.gPreviewSeriesGroupEle||(this.chartObj=i,this.chartObj.gPreviewSeriesGroupEle=this.gPreviewSeriesGroupEle=this.svgRenderer.createGroup(ct));this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])}p=$.extend(!0,{},n._visiblePoints);n.pointCollection=p;p.length=n._visiblePoints.length;var a=i.commonDragEventArgs.data,h=a.pointIndex,v=a.seriesIndex;if(i._changeDraggingPoints(n,h,a.newValue.X,a.newValue.Y),ft=new ej.seriesTypes[f],r=n.pointCollection[h],f=="bubble")u=ej.EjSvgRender.utils._getPoint(r,n),o={id:this.svgObject.id+"_PreviewSeries"+v+"_Point"+h,cx:u.X+this.canvasX,cy:u.Y+this.canvasY,r:r.radius,fill:n.fill,"stroke-width":2,visibility:"visible","stroke-dasharray":"",opacity:.6,stroke:"transparent"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(o,e):this.svgRenderer.drawCircle(o,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle);else if(f=="scatter"){var u=ej.EjSvgRender.utils._getPoint(r,n),et=n.marker.shape.capitalizeFirstString(),u={startX:u.X+this.canvasX,startY:u.Y+this.canvasY},ot={ShapeSize:{width:n.marker.size.width,height:n.marker.size.height},ID:this.svgObject.id+"_PreviewSeries"+v+"_Point"+h,Style:{Color:n.fill,BorderWidth:n.marker.border.width,BorderColor:"transparent",Opacity:.6,Visibility:"visible"}};this.model.enableCanvasRendering?ej.EjSvgRender.chartSymbol["_draw"+et](u,ot,this,e):ej.EjSvgRender.chartSymbol["_draw"+et](u,ot,this,this.gPreviewSeriesGroupEle);this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle)}else if(f=="column"||f=="bar"){r.xValue=typeof r.xValue=="object"?Date.parse(r.xValue):r.xValue;var lt=ej.EjSeriesRender.prototype.getOrigin(i,n,c),at=n.sidebysideInfo,st=r.YValues[0],vt=lt,ht=ej.EjSeriesRender.prototype.calculateSides(r,at),yt=ht.x1,pt=ht.x2,y=ej.EjSeriesRender.prototype.getRectangle(yt,st,pt,vt,n,i);o={id:this.svgObject.id+"_PreviewSeries"+v+"_Point"+h,x:y.X+this.canvasX,y:y.Y+this.canvasY,width:y.Width,height:y.Height,cornerRadius:n.cornerRadius,fill:n.fill,"stroke-width":2,plot:st<0?"negative":"positive",opacity:.6,stroke:"transparent","stroke-dasharray":""};this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawRect(o,e):(this.svgRenderer.drawRect(o,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle))}else(f=="spline"||f=="splinearea")&&(r.xValue=typeof r.xValue=="object"?Date.parse(r.xValue):r.xValue),ft.draw(this,n,c);u=ej.EjSvgRender.utils._getPoint(r,n);n.tooltip.visible&&(ej.util.isNullOrUndefined(n.tooltip.template)?($(".tooltipDiv"+this._id).remove(),i.displayShowTooltip(u,r,n,r.actualIndex)):($("#"+i.svgObject.id).find("#"+i.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),s={SeriesIndex:v,Region:{PointIndex:r.actualIndex}},i.createTooltip(s,t,n)))},_dragPointMarker:function(n,t,i,r,u){var f=null,o,s=n.seriesIndex,h,c,e;f=ej.EjSvgRender.utils._getPoint(u.point,n);this.model.enableCanvasRendering?$("#"+this.svgObject.id+"_Marker").length==0&&(h=document.getElementById(this.svgObject.id).getBoundingClientRect(),o=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,h)):(c={id:this.svgObject.id+"_markerGroup_"+s},this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup(c)));e={id:this.svgObject.id+"_Series"+s+"_Point"+u.index+"_Marker",cx:f.X+this.model.m_AreaBounds.X,cy:f.Y+this.model.m_AreaBounds.Y,r:7,fill:n.fill,"stroke-width":3,opacity:1,stroke:"white",visibility:"visible"};this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(e,o):(this.svgRenderer.drawCircle(e,this.gMarkerGroupEle),this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle))},_dragPointGripper:function(n){var i=n.region.type.toLowerCase(),h=this.model._visibleSeries[n.region.SeriesIndex],k=h._visiblePoints[n.region.Region.PointIndex],u=h.isTransposed,c,v=h.yAxis.isInversed,y,p,w,e,l,a,b,r,s,t,o,f;if(i=="column"||i=="bar"){for(this.model.enableCanvasRendering?(y=document.getElementById(this.svgObject.id).getBoundingClientRect(),c=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,y),document.getElementById(c.canvas.id).style.zIndex=1):(p={id:this.svgObject.id+"_markerGroup_"+n.region.SeriesIndex},this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup(p))),w=3,t=n.region.Region.Bounds,(u&&i=="bar"||i=="column"&&!u)&&(e=t.Width,l=t.X),(!u&&i=="bar"||i=="column"&&u)&&(e=t.Height,l=t.Y),a=e<75?e-e/3:50,b=e>75?e-75:0,r=(a-6)/6,s=b/2+l+a/6+r/2,o=1;o<=w;o++)f={id:this.svgObject.id+"_Series"+n.region.SeriesIndex+"_Point"+n.region.Region.PointIndex+"_Marker"+o,fill:"white",opacity:1,stroke:"white",visibility:"visible"},s+=o==1?r:2*r+3,f.r=Math.abs(r),(u&&i=="bar"||i=="column"&&!u)&&(f.cx=s,f.cy=v?t.Y+t.Height-r-5:t.Y+r+5),(!u&&i=="bar"||i=="column"&&u)&&(f.cx=v?t.X+r+5:t.X+t.Width-r-5,f.cy=s),this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(f,c):this.svgRenderer.drawCircle(f,this.gMarkerGroupEle);this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle)}},chartMouseMove:function(n){function v(t){var i=s._id,r;$("#"+i+"_tooltip").length<=0?(r=$("<div><\/div>").attr({id:i+"_tooltip","class":"zoom"+i}),$(r).html("&nbsp"+t+"&nbsp"),$(document.body).append(r),$(r).css({left:n.pageX+10,top:n.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})):$("#"+i+"_tooltip").css({left:n.pageX+10,top:n.pageY+10})}var oi=this.GetSeriesPoint(n),l=this.svgObject,t=this.model,pt=t.zooming.enable,b=t.enableCanvasRendering,ki,wt,bt,kt,ut,si,w,ft,et,s,hi,ci,nt,gt,ni,ti,ii,k,fi,h,e,c,ei,i,dt,lt,li,at,y,o,a,yt,u,f,d;if(t.event=n,clearTimeout(this.removeTooltip),this.doPan&&n.target.id.indexOf(this._id+"_scrollbar")>-1&&(this.doPan=!1),ki=n.target.classList,wt={left:0,top:0},this.multiSelectAreaType!="cartesianaxes"||pt||b||this.multiSelectMouseMove(n),this.rotateActivate&&this.oPreviousCoords){if(bt=this.oPreviousCoords.Y-this.mousemoveY,kt=this.oPreviousCoords.X-this.mousemoveX,(kt||bt)&&(t.tilt-=bt,t.rotation+=kt,this.model.isSelected&&(ut=this.selectedStyle(this)),this.isTouch(n)||$(this.chart3D).empty(),$("#template_group_"+this._id).empty(),si={Width:$(l).width(),Height:$(l).height()},this.graphics.view(l,this,t.rotation,t.tilt,si,t.perspectiveAngle,t.depth),this.svgRenderer.append(this.chart3D,l),this.model.isSelected))for(i=0;i<ut.length;i++)$("#"+ut[i].id).attr("class",ut[i].className);this.oPreviousCoords.Y=this.mousemoveY;this.oPreviousCoords.X=this.mousemoveX}var gi=n.target.id,p=l.id,di=this.isZoomButtonHovered(n.target),g=t._visibleSeries,dt=g.length;for($("[id*=_Marker]").remove(),i=dt-1;i>=0;i--)if(w=g[i],nt=w.type.toLowerCase(),w.dragSettings.enable&&!t.enable3D){if(this._enableDragging(w,i,n),this.dragPoint)break;if(rt=this.calMousePosition(n),this.mousemoveX=rt.X,this.mousemoveY=rt.Y,ft=this.GetSeriesPoint(n),!w.marker.visible&&nt!="bubble"&&nt!="scatter"&&nt!="column"&&nt!="bar"&&(et=this.getClosesPointXY(hi,ci,w,this.mousemoveX,this.mousemoveY,n),et.point)){w.seriesIndex=i;this._dragPointMarker(w,this.mousemoveX,this.mousemoveY,n,et);this.closestXyPoint=et;break}if(ft&&ft.region.SeriesIndex==i){this._dragPointGripper(ft);break}}if(s=this,this.dragPoint&&(hi=[],ci=[],$(document).keyup(function(n){n.keyCode==27&&($(".tooltipDiv"+this._id).remove(),$("#"+p+"_TrackToolTip").remove(),s.dragPoint=!1,g[s.commonDragEventArgs.data.seriesIndex].pointCollection=null,s.chartMouseUp(n))}),a=this.dragIndex.seriesIndex,s._pointDragandDrop(g[a],n,s)),this.calMousePosition(n),$("#"+this._id+"_tooltip").remove(),!this.dragPoint&&(this.drag||di||(this.isTouch(n)||t.doubleTapped)&&!t.crosshairMoved)||this.chartInteractiveBehavior(n),t.crosshair.visible&&t.AreaType=="cartesianaxes"||(b&&oi||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),this.highlightStart(n,oi)),!this.panning&&(e="#"+p,pt&&t.AreaType=="cartesianaxes"&&!t.enable3D&&this.drag&&!this.dragPoint&&!this.chartRightClick)){this.disableTrackBall();$("#"+p+"_ZoomArea").remove();var ot,st,ht,ct,u=this.mousemoveX,f=this.mousemoveY,r=t.m_AreaBounds;this.mousemoveX<r.X?u=r.X:this.mousemoveX>r.X+r.Width&&(u=r.X+r.Width);f=this.mousemoveY<r.Y?r.Y:this.mousemoveY>r.Y+r.Height?r.Y+r.Height:this.mousemoveY;gt=t.zooming.type.toLowerCase();gt=="x"?(ot=Math.abs(u-this.mouseDownX),st=r.Height,ht=u>this.mouseDownX?this.mouseDownX:u,ct=r.Y):gt=="y"?(ot=r.Width,st=Math.abs(f-this.mouseDownY),ht=r.X,ct=f>this.mouseDownY?this.mouseDownY:f):(ot=Math.abs(u-this.mouseDownX),st=Math.abs(f-this.mouseDownY),ht=u>this.mouseDownX?this.mouseDownX:u,ct=f>this.mouseDownY?this.mouseDownY:f);$(l).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"});this.zooming=!0;ni={id:p+"_ZoomArea",x:ht+wt.left,y:ct+wt.top,width:ot,height:st,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+p+"_ChartAreaClipRect)"};b?this.svgRenderer.drawZoomRect(ni,this):this.svgRenderer.drawRect(ni,l)}if(ti=t.zooming.enableDeferredZoom,this.panning&&this.doPan&&t.AreaType=="cartesianaxes"&&!this.dragPoint)if(this.currentPageX=n.pageX,this.currentPageY=n.pageY,$("#secondCanvas").remove(),$("#"+this._id+"_canvas").css({cursor:"pointer"}),ej.isTouchDevice()||ti){if(ej.isTouchDevice()||ti){for(k=0;k<g.length;k++){var o=t.series[k],tt=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,t.requireInvertedAxes),ri=n.pageX-this.oPreviousCoords.x+tt.x,ui=n.pageY-this.oPreviousCoords.y+tt.y,it="translate("+ri+","+ui+")";$("#"+p+"_SeriesGroup_"+k).attr("transform",it);$("#"+p+"_symbolGroup_"+k).attr("transform",it);$("#"+p+"_TextGroup_"+k).attr("transform",it)}for(a=0;a<t.indicators.length&&t.indicators[a]._points.length>0;a++)fi=t.indicators[a],tt=ej.EjSvgRender.utils._getTransform(fi.xAxis,fi.yAxis,t.requireInvertedAxes),ri=n.pageX-this.oPreviousCoords.x+tt.x,ui=n.pageY-this.oPreviousCoords.y+tt.y,it="translate("+ri+","+ui+")",$("#"+p+"_indicatorGroup_"+a).attr("transform",it)}}else ii={x:this.oPreviousCoords.x-n.pageX,y:this.oPreviousCoords.y-n.pageY},this.oPreviousCoords={x:n.pageX,y:n.pageY},$.each(t._axes,function(n,t){var i=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1);s.translate(t,ii.x,ii.y,i)}),this._updateScroll(),this.redraw(!0,null,n.target,this.isTouch(n)),this._cursorToPointer(),this._enableZoomingButtons();if(h=n.target.id,h!=""||ej.util.isNullOrUndefined(n.target.parentNode)||(h=n.target.parentNode.id.indexOf("_XLabel_")>=0||n.target.parentNode.id.indexOf("_YLabel_")>=0?n.target.parentNode.id:h),e=this._id,c=ej.util.isNullOrUndefined(n.target.parentNode)?"":n.target.parentNode.id,pt&&(c==e+"_svg_ResetZoom"?v(this._localizedLabels.reset):c==e+"_svg_PanBtn"?v(this._localizedLabels.pan):c==e+"_svg_ZoomBtn"?v(this._localizedLabels.zoom):c==e+"_svg_ZoomInBtn"?v(this._localizedLabels.zoomIn):c==e+"_svg_ZoomOutBtn"&&v(this._localizedLabels.zoomOut)),ei=this.getAxisLabelData(n),ei&&(d=$.extend({},ej.EjSvgRender.commonChartEventArgs),d.data=ei,this._trigger("axisLabelMouseMove",d)),!this.isTouch(n))for(this.axisTooltip(n,h),t.title.enableTrim&&this.showTitleTooltip(n,h),i=0,dt=t.series.length;i<dt;i++)o=t.series[i],lt=o.marker&&o.marker.dataLabel,!o._enableSmartLabels||this.model.enable3D||lt.enableWrap||(li=lt.template,at=lt.font,t.AreaType=="none"&&ej.util.isNullOrUndefined(li)&&this.datalabelTooltip(n,i,at));if($(l).find(e+"_ResetZoom,"+e+"_PanBtn,"+e+"_ZoomBtn").length>0&&$(l).find(e+"_ResetZoom,"+e+"_PanBtn,"+e+"_ZoomBtn").appendTo(l),y=this.getLegendData(n),y){var ai=this.model.legend.isReversed,at=this.model.legend.font,vi=$.extend({},ej.EjSvgRender.commonChartEventArgs);if(vi.data=y,y.series.highlightSettings.enable&&(b?(o=$.extend({},y.series),o.seriesIndex=y.legendItem.LegendItem.SeriesIndex,o.pointIndex=y.legendItem.LegendItem.PointIndex,a=this.model.AreaType=="none"?o.pointIndex:o.seriesIndex,$("#"+s._id+"_Selection_Legend"+a+"_canvas").length==0&&($("[id*="+this._id+"_Highlight_]").remove(),this.canvasHighlight(s,n,o,y))):this.highlight(s,n,y.series,y)),this._trigger("legendItemMouseMove",vi),b){var rt=this.calMousePosition(n),yi=rt.X,pi=rt.Y,vt=t.LegendBounds;$(this.legendContainer).children().css({cursor:"pointer"});yi>=vt.X&&yi<=vt.X+t.LegendViewerBounds.Width&&pi<=vt.Y+t.LegendViewerBounds.Height&&pi>=vt.Y&&this._textTooltip(n,t.legendTextRegion,ai,at)}else this._textTooltip(n,t.legendTextRegion,ai,at)}else b&&$(this.legendContainer).children().css("cursor","default");if(b&&(h.indexOf("_ResetZoom")!=-1||c.indexOf("_ResetZoom")!=-1?v(this._localizedLabels.reset):h.indexOf("_PanBtn")!=-1||c.indexOf("_PanBtn")!=-1?v(this._localizedLabels.pan):h.indexOf("_ZoomBtn")!=-1||c.indexOf("_ZoomBtn")!=-1?v(this._localizedLabels.zoom):h.indexOf("_ZoomInBtn")!=-1||c.indexOf("_ZoomInBtn")!=-1?v(this._localizedLabels.zoomIn):(h.indexOf("_ZoomOutBtn")!=-1||c.indexOf("_ZoomOutBtn")!=-1)&&v(this._localizedLabels.zoomOut),this.isTouch(n)||(this._textTooltip(n,t.xAxisLabelRegions),this._textTooltip(n,t.yAxisLabelRegions))),yt=this,t.xAxisTitleRegion){var u=this.mousemoveX,f=this.mousemoveY,wi=this.model.primaryXAxis.title.isReversed,bi=this.model.primaryXAxis.font;$.each(t.xAxisTitleRegion,function(t,i){u>=i.Bounds.X&&u<=i.Bounds.X+i.Bounds.Width&&f>=i.Bounds.Y-i.Bounds.Height&&f<=i.Bounds.Y&&i.trimText!=i.labelText&&yt.showAxisTooltip(n.pageX,n.pageY,i.labelText,i.trimText,wi,bi)})}if(t.yAxisTitleRegion){var u=this.mousemoveX,f=this.mousemoveY,wi=this.model.primaryXAxis.title.isReversed,bi=this.model.primaryXAxis.font;$.each(t.yAxisTitleRegion,function(t,i){u>=i.Bounds.X&&u<=i.Bounds.X+i.Bounds.Width&&f>=i.Bounds.Y-i.Bounds.Height&&f<=i.Bounds.Y&&i.trimText!=i.labelText&&yt.showAxisTooltip(n.pageX,n.pageY,i.labelText,i.trimText,wi,bi)})}t.axisMultiLevelLabelRegions&&(u=this.mousemoveX,f=this.mousemoveY,$.each(t.axisMultiLevelLabelRegions,function(t,i){u>=i.Bounds.X&&u<=i.Bounds.X+i.Bounds.Width&&f>=i.Bounds.Y-i.Bounds.Height&&f<=i.Bounds.Y&&i.trimText!=i.labelText&&yt.showAxisTooltip(n.pageX,n.pageY,i.labelText)}));d=$.extend({},ej.EjSvgRender.commonChartEventArgs);d.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:t.svgHeight,width:t.svgWidth},id:n.target.id,pageX:n.pageX,pageY:n.pageY};this._trigger("chartMouseMove",d)},axisTooltip:function(n,t){var s=this.svgObject.id,o=this.model.hAxes,h=this.model.vAxes,i,c,u,l,a,f,r,e;if(t.indexOf("svghorizontal")>-1){var i=o[0],v=t.replace(this._id,"").replace("_svghorizontal",""),r=i.visibleLabels[parseInt(v)];r.Text=r.Text.toString();r.Text.indexOf("...")>-1&&(e=r.Text==r.originalText?"":r.originalText,this.showAxisTooltip(n.pageX,n.pageY,e))}if(t.indexOf("_YLabel_")>=0){for(u=0;u<h.length;u++)if(t.indexOf(s+"_"+h[u].name+"_YLabel_")>=0){i=h[u];break}if(i&&i.enableTrim)for(c=i.visibleLabels.length,f=0;f<c&&this.model.AreaType=="cartesianaxes";f++)if(t==s+"_"+h[u].name+"_YLabel_"+f){if(r=i.visibleLabels[f],e=r.Text==r.displayText?"":i.labelFormat?i.labelFormat.replace("{value}",r.Text):r.Text,e=="")break;i.labelPosition.toLowerCase()=="inside"&&(this._hideTooltip(),this._removeTrackBall());this.showAxisTooltip(n.pageX,n.pageY,e,r.displayText)}}if(t.indexOf("_XLabel_")>=0){for(u=0;u<o.length;u++)if(t.indexOf(s+"_"+o[u].name+"_XLabel_")>=0){i=o[u];break}if(i&&(i.enableTrim||i.labelIntersectAction.toLowerCase()=="trim"||i.labelIntersectAction.toLowerCase()=="wrapbyword"))for(c=i.visibleLabels.length,l=i.isInversed,a=i.font,f=0;f<c&&this.model.AreaType=="cartesianaxes";f++)if(t==s+"_"+o[u].name+"_XLabel_"+f){if(r=i.visibleLabels[f],e=r.Text==r.displayText?"":r.Text,e=="")break;i.labelPosition.toLowerCase()=="inside"&&(this._hideTooltip(),this._removeTrackBall());this.showAxisTooltip(n.pageX,n.pageY,e,r.displayText,l,a)}}},showTitleTooltip:function(n,t){var y=ej.EjSvgRender.utils._measureText(this.model.title.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font),i=this.model,r=i._titleLocation,u=i._subTitleLocation,a=i.title.enableTrim,l=i.elementSpacing,e=this.mousemoveX,o=this.mousemoveY,p=i.title.textOverflow.toLowerCase(),v=i.title.subTitle.enableTrim,w=i.title.subTitle.textOverflow.toLowerCase(),h=i.title.text,c=i.title.subTitle.text,s=i.title.isReversed,f;a&&this.model.trimTooltip&&(f=ej.EjSvgRender.utils._trimText(h,i.title.maximumWidth,i.title.font),t.indexOf("ChartTitleText")>=0?this.showAxisTooltip(n.pageX,n.pageY,h,f,s,i.title.font):this.model.enableCanvasRendering&&e>=r.X-l&&e<=r.X-l+r.size.width&&o>=r.Y-r._height&&o<=r.Y+r.size.height&&this.showAxisTooltip(n.pageX,n.pageY,h,f,s,i.title.font));v&&i.subTitleTooltip&&(f=ej.EjSvgRender.utils._trimText(c,i.title.subTitle.maximumWidth,i.title.subTitle.font),t.indexOf("ChartSubTitleText")>=0?this.showAxisTooltip(n.pageX,n.pageY,c,f,s,i.title.subTitle.font):i.enableCanvasRendering&&e>=u.X&&e<=u.X+u.size.width&&o>=u.Y&&o<=u.Y+u.size.height&&this.showAxisTooltip(n.pageX,n.pageY,c,f,s,i.title.subTitle.font))},_updateScroll:function(){for(var i=this.model.scrollObj,f=i?i.length:0,r=this.model._axes,u=this.scrollbarContainer,n,t=0;t<f;t++)i[t]&&(n=i[t],(n.zoomPosition!=r[t].zoomPosition||n.zoomFactor!=r[t].zoomFactor)&&(n.zoomPosition=r[t].zoomPosition,n.zoomFactor=r[t].zoomFactor,u._initializeScrollbarVariables(n),u._scrollbarUpdate.call(this,n),u._setScrollPosition.call(this,n.startX,n.startX+n.rectWidth,n)))},_hideTooltip:function(){$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden");$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide();$(".tooltipDiv"+this._id).css("display","none")},_removeHighlight:function(){var n,t;if($("[id*=HighlightSegment]").remove(),$("[id*=HighlightPath]").remove(),$("[id*=HighlightLegendSegment]").remove(),$("[id*=HighlightLegendPath]").remove(),$("[id*=HighlightDef]").remove(),$("[id*=Highlightseries]").remove(),$("[id*="+this._id+"_Highlight_]").remove(),!this.model.enableCanvasRendering&&!this.vmlRendering)if(n=this.svgObject.querySelector("[class^='Highlight']"),n!==null&&n.length==null)n.removeAttribute("class");else for(t=n&&n.length;t--;)n.removeAttribute("class")},_removeSelection:function(){$("[id*="+this._id+"_SelectionCluster_Legend]").remove();$("[id*="+this._id+"_Selection_series]").remove();$("[id*="+this._id+"_Selection_Cluster]").remove();$("[id*="+this._id+"SelectionSegment]").remove();$("[id*="+this._id+"SelectionPath]").remove();$("[id*="+this._id+"SelectionLegend]").remove();$("[id*="+this._id+"SelectionDef]").remove();$("[id*="+this._id+"Selectionseries]").remove();$("[id*="+this._id+"_Selection_]").remove()},datalabelTooltip:function(n,t,i){var p=this.calMousePosition(n);this.mousemoveX=p.X;this.mousemoveY=p.Y;var l=this._id,h=this.mousemoveX,w=this.mousemoveY,b=this.vmlRendering,u=this.model.elementSpacing,e=this,c,a,v,y,r,f,o,s;ej.util.isNullOrUndefined(this.accDataLabelRegion[t])||$.each(this.accDataLabelRegion[t],function(t,p){c=p.bounds.minX;a=p.bounds.minY;v=p.bounds.maxX;y=p.bounds.maxY;b&&(c=p.bounds.minX+p.bounds.width/2,v=p.bounds.maxX+p.bounds.width/2,a=p.bounds.minY,y=p.bounds.maxY);h>=c&&h<=v&&w>=a&&w<=y&&($("#"+l+"_tooltip").remove(),r=$("<div><\/div>").attr({id:l+"_tooltip","class":"ejTooltip"+l}),p.trimmedText!=p.text&&($("#"+e.svgObject.id+"_TrackToolTip").hide(),$(r).html(p.text),$(document.body).append(r),f=ej.EjSvgRender.utils._measureText(p.text,p.text.length,p.font).width,$(r).css({top:n.pageY+u,display:"block",position:"absolute","z-index":"13000",cursor:"default",color:"#000000","font-size":i.size,"background-color":"#FFFFFF",border:"1px solid #707070","white-space":"nowrap",padding:"5px"}),(p.type=="pyramid"||p.type=="funnel")&&(o=e.model.m_AreaBounds.Width+e.model.m_AreaBounds.X-n.pageX,o>f?$(r).css({left:n.pageX+u}):(s=n.pageX-f+2*u,$(r).css({left:s}))),(p.type=="pie"||p.type=="doughnut"||p.type=="pieofpie")&&(c>p.bounds.centerX?(o=e.svgWidth-e.model.margin.left-e.model.margin.right-h,o<f?(s=n.pageX-f,$(r).css({left:s+u})):$(r).css({left:n.pageX+u})):(o=h,o<f?$(r).css({left:n.pageX+u}):(s=n.pageX-f,$(r).css({left:s-2*u}))))))})},showAxisTooltip:function(n,t,i,r,u,f){var o=this._id,e=$("<div><\/div>").attr({id:o+"_tooltip","class":"ejTooltip"+o});if($(e).html(i),u&&!ej.util.isNullOrUndefined(f))var s=ej.EjSvgRender.utils._measureText(i,null,f).width,h=ej.EjSvgRender.utils._measureText(r,null,f).width,c=h<=s?s:h;$(document.body).append(e);$(e).css({left:u?n-c:n+10,top:t+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})},_textTooltip:function(n,t,i,r){var w=this,s=this.calMousePosition(n),e=this.model.legend._ejScroller,u=0,h=0,a=i&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||$("#legend_"+this._id)[0].style.overflowY=="scroll")?s.X-18:s.X,v=s.Y,c=a,f=v,l=this._id,b=w.model,y=b.legend,k=y.enableScrollbar,d=y.textOverflow.toLowerCase(),p,o;h=e?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop();u=e?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft();i&&e&&(u=u==0?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft);(k||e)&&(c=a+(u?u:0),f=v+(h?h:0));$.each(t,function(t,u){if(c>=u.bounds.x&&c<=u.bounds.x+u.bounds.width&&(f>=u.bounds.y&&f<=u.bounds.y+u.bounds.height||f>=u.bounds.y-u.bounds.height/3&&f<=u.bounds.y)&&($("#"+l+"_tooltip").remove(),o=$("<div><\/div>").attr({id:l+"_tooltip","class":"ejTooltip"+l}),p=jQuery.type(u.trimText)=="array"?u.trimText.join(" "):u.trimText,p!=u.labelText)){if($(o).html(u.labelText),i&&!ej.util.isNullOrUndefined(r))var e=ej.EjSvgRender.utils._measureText(u.labelText,null,r).width;$(document.body).append(o);$(o).css({left:i?n.pageX-e-15:n.pageX+10,top:n.pageY+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})}})},pieExplosion:function(n){var v,l,y,f,r,e,a,o;this.model.explode=!0;var t=n,u,s,h,i=t.region.Series,p=t.region.SeriesIndex,c=new ej.seriesTypes[i.type.toLowerCase()],w=i.explodeIndex,d=i.labelPosition.toLowerCase(),k={SeriesIndex:t.pointData[0].SeriesIndex,PointIndex:t.pointData[0].Index},b=this.model._isPieOfPie?t.pointData[0].PointIndex:t.region.Series._visiblePoints[t.pointData[0].Index].actualIndex;if(w!=b&&!t.region.Series.explodeAll){if(i.explodeIndex=b,h=t.pointData[0].PieSeriesIndex,!ej.util.isNullOrUndefined(this.model.explodeValue)&&this.model.explodeValue!=k){for(this.model.explodeValue.SeriesIndex!=t.region.SeriesIndex&&(i=this.model._visibleSeries[this.model.explodeValue.SeriesIndex]),v=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,i):i._visiblePoints[this.model.explodeValue.Index],l=c._calculateArcData(this,this.model.explodeValue.PointIndex,v,i,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex),u=this.svgObject.id+"_SeriesGroup_"+this.model.explodeValue.SeriesIndex,s=this.model.explodeValue.PieSeriesIndex==1?$(this.gSeriesEle).children("#"+u)[1]:$(this.gSeriesEle).children("#"+u)[0],f=$(s).children(),r=0;r<f.length;r++)if(e=f[r],a=this.svgRenderer._getAttrVal($(e)[0],"data-pointIndex"),parseInt(a)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(e),{d:l.Direction});break}c.drawDataLabelAcc(this,i,this.model.explodeValue.Index,v,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex)}for(y=this.model._isPieOfPie?this._getPieOfPiePoint(n.region.Region.PointIndex,i):i._visiblePoints[t.pointData[0].Index],l=c._calculateArcData(this,t.pointData[0].PointIndex,y,t.region.Series,p,h),u=this.svgObject.id+"_SeriesGroup_"+t.region.SeriesIndex,s=h==1?$(this.gSeriesEle).children("#"+u)[1]:$(this.gSeriesEle).children("#"+u)[0],f=$(s).children(),r=0;r<f.length;r++)if(e=f[r],a=this.svgRenderer._getAttrVal($(e)[0],"data-pointIndex"),parseInt(a)==t.pointData[0].PointIndex){this.svgRenderer._setAttr($(e),{d:l.Direction});break}this.model.enableCanvasRendering&&(o=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(o.left,o.top,o.width,o.height),$("#"+this._id).ejChart("redraw"));c.drawDataLabelAcc(this,i,t.pointData[0].Index,y,p,h);this.model.explodeValue={SeriesIndex:t.pointData[0].SeriesIndex,PointIndex:t.pointData[0].PointIndex,Index:t.pointData[0].Index,PieSeriesIndex:t.pointData[0].PieSeriesIndex}}t.region.Series.explodeIndex=w},displayGroupingTemplate:function(n,t,i,r,u,f,e,o,s){var a=[],rt=[],ut=[],l=[],g,w,y,b,nt,k,c,d,et,v,h,ft,it,p,tt;for(rt=$.extend(!0,{},s),l=$.extend(!0,{},u),g=Object.keys(l).length,a=$.extend(!0,{},r),w=5,h=0;h<g;h++)y=l[h].series.isTransposed,a[h].point.x=a[h].point.x,l[h].series.xAxis._valueType.toLowerCase()=="datetime"&&(a[h].point.x=ej.format(new Date(a[h].point.x),ej.EjSvgRender.utils._dateTimeLabelFormat(l[h].series.xAxis.intervalType,l[h].series.xAxis))),l[h].series.xAxis._valueType.toLowerCase()=="category"&&(a[h].point.x=ej.EjSvgRender.utils._getLabelContent(e,l[h].series.xAxis)),n=ej.util.isNullOrUndefined(n)?0:n,t=ej.util.isNullOrUndefined(t)?0:t,b=this.model.m_AreaBounds.X,nt=this.model.m_AreaBounds.Y,k=y||this.model.requireInvertedAxes?l[h].series.yAxis.y:i.X+n+b+this.model.crosshair.marker.size.width+w,c=y||this.model.requireInvertedAxes?l[h].series.xAxis.x+i.Y:this.model.m_AreaBounds.Height/2+nt,d=$("#"+this.model.crosshair.trackballTooltipSettings.tooltipTemplate).clone(),$(d).css("background-color",rt[h].seriesColor),$(d).css("display","block"),a[h].point.count=1,u.count=et,ft={series:u,point:a[h].point},ut.push($(d).html($(d).html().parseTemplate(ft)));$("#"+this.svgObject.id+"_TrackGroupToolTipTemplate").length==0&&(v=$("<div id ="+this.svgObject.id+"TrackGroupToolTipTemplate style='pointer-events:none; position: absolute; z-index: 13000; display: block;'><\/div>"),$(v).appendTo(this.chartContainer));$(v).append(ut);it=this.model.crosshair.trackballTooltipSettings.border;$(v).css("border",it.width+"px solid "+it.color);p=parseFloat($(v).css("height"));tt=parseFloat($(v).css("width"));c=y||this.model.requireInvertedAxes?c:c-p/2;g!=1||y||(c=i.Y+nt+p/2);g==1&&(y||this.model.requireInvertedAxes)&&(k=i.X+n+b+this.model.crosshair.marker.size.width+w-tt/2,c=i.Y+nt-p-this.model.crosshair.marker.size.height-w);c+p<this.model.m_AreaBounds.Y?c=this.model.m_AreaBounds.Y:c+p/2>this.model.m_AreaBounds.Height&&(c-=p);k+tt>b+this.model.m_AreaBounds.Width&&!y&&(k=i.X+n+b-this.model.crosshair.marker.size.width-w-tt);$(v).css("left",k);$(v).css("top",c)},displayTemplateTooltip:function(n,t,i,r,u,f,e,o){var c=$.extend(!0,{},r),b=5,h,nt,v,a,s,tt,y,it,p,w;c.x=c.x;u.xAxis._valueType.toLowerCase()=="datetime"&&(c.x=ej.format(new Date(c.x),ej.EjSvgRender.utils._dateTimeLabelFormat(u.xAxis.intervalType,u.xAxis)));u.xAxis._valueType.toLowerCase()=="category"&&(c.x=ej.EjSvgRender.utils._getLabelContent(e,u.xAxis));n=ej.util.isNullOrUndefined(n)?0:n;t=ej.util.isNullOrUndefined(t)?0:t;var g=this.model.m_AreaBounds.X,l=this.model._axes,rt=u._xAxisName,ut=u._yAxisName,k,d;for(h=0,nt=l.length;h<nt;h++)rt==l[h].name?u._isTransposed?k=l[h].Location.Y2:d=l[h].Location.X1:ut==l[h].name&&(u._isTransposed?d=l[h].Location.X1:k=l[h].Location.Y2);v=i.X+this.model.crosshair.marker.size.width+d;a=i.Y+t+k;$("#"+this.svgObject.id+"_TrackToolTipTemplate_"+f).length==0&&(s=$("<div id="+this.svgObject.id+"_TrackToolTipTemplate_"+f+" style='pointer-events:none;position: absolute; z-index: 13000; display: block;'><\/div>"),$(document.body).append(s));this.model.crosshair.trackballTooltipSettings.tooltipTemplate!=null&&(tt=document.getElementById(this.model.crosshair.trackballTooltipSettings.tooltipTemplate).cloneNode(!0),$(tt).css("display","block").appendTo(s),u.count=1,c.count=1,y=this.getSeriesColor(c,f,u),$(s).css("background-color",jQuery.type(y)=="array"?y[0].color:y),it={series:u,point:c},$(s).html($(s).html().parseTemplate(it)));a-=parseFloat($(s).css("height"))/2;p=parseFloat($(s).css("height"));w=parseFloat($(s).css("width"));(u.isTransposed||this.model.requireInvertedAxes)&&(a=i.Y+this.model.m_AreaBounds.Y-p-b-this.model.crosshair.marker.size.height,v=i.X+g-w/2);a+p<this.model.m_AreaBounds.Y&&(u.isTransposed||this.model.requireInvertedAxes)&&(a+=p+this.model.crosshair.marker.size.height+b+o.top);v+w>g+this.model.m_AreaBounds.Width&&(v-=w+b*2+this.model.crosshair.marker.size.width);$(s).css("left",v);$(s).css("top",a)},displayAxisTooltip:function(n,t,i,r,u,f){var it,p,ut,o,v,y;i._valueType.toLowerCase()=="double"&&(it=i.labelFormat?i.labelFormat.match("{value}"):null,t=i.labelFormat?it!=null?i.labelFormat=="${value}"?i.labelFormat.replace("{value}","$"+Number(t)):i.labelFormat.replace("{value}",Number(t)):ej.format(Number(t),i.labelFormat,this.model.locale):t);var l=0,rt=i.orientation.toLowerCase(),a,g=0,nt=0,h=i._opposed,d=this.model.enableCanvasRendering,ft=h?l+10+(i.x+i.width):i.x+i.width;for(p=0;p<this.model._axes.length;p++)this.model._axes[p].majorTickLines.size>l&&(l=this.model._axes[p].majorTickLines.size);if(n.X>=0&&n.X<=ft){var s=n.X,c=n.Y,e=5,w=$.extend({},ej.EjSvgRender.commonChartEventArgs);w.data={axisIndex:r,chartAxis:i,currentTrackText:t,location:u};this._trigger("trackAxisToolTip",w);ut=w.data.currentTrackText;o=ej.EjSvgRender.utils._measureText(ut,null,i.crosshairLabel.font);rt=="horizontal"&&(s=s-o.width/2,i.labelPosition=="inside"||(h?u.y<i.y:u.y>i.y)?(h==!1&&(c=i.y-o.height+l-(i._isScroll?this.model.scrollerSize:0),a="top"),h==!0&&(c=i.y+o.height-l,a="bottom")):(h==!0&&(c=i.y-o.height/2-e-l,a="bottom"),h==!1&&(c=i.y+o.height-e+l,a="top")),g=e,c=c+(i._isScroll?i.opposedPosition?-this.model.scrollerSize:this.model.scrollerSize:0));!h&&s+o.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(s=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-o.width+e+this.model.elementSpacing);rt=="vertical"&&(c=n.Y+o.height/4,i.labelPosition=="inside"||!h&&u.x<i.x?(h==!0&&(s=i.x-o.width+e-l,a="left"),h==!1&&(s=i.x+2*e+(i._isScroll?this.model.scrollerSize:0),a="right")):(h==!0&&(s=o.width+i.x>$(this.svgObject).width()-e?$(this.svgObject).width()-o.width-e:i.x+3*e,a="left"),h==!1&&(s=o.width>i.x?2*e:i.x-o.width-l,a="right")),s=s+(i._isScroll?i.opposedPosition?this.model.scrollerSize:-this.model.scrollerSize:0),nt=e);var et={id:this.svgObject.id+"_AxisToolTipText_"+r,x:s-nt,y:c+g,fill:i.crosshairLabel.font.color,"font-size":i.crosshairLabel.font.size,"font-family":i.crosshairLabel.font.fontFamily,"font-style":i.crosshairLabel.font.fontStyle,"font-weight":i.crosshairLabel.font.fontWeight,"text-anchor":"start",opacity:i.crosshairLabel.font.opacity},ct=d?e/4:0,tt=ej.EjSvgRender.utils._measureText(w.data.currentTrackText,this.model.m_AreaBounds.Width,i.crosshairLabel.font),b=i.crosshairLabel,s=s-e,c=c-tt.height,ot=tt.width+2*e,st=2*tt.height-2*e,k={x:s-nt,y:c+g,width:ot,height:st,rx:b.rx*(d?2:1),ry:b.ry*(d?2:1)},ht=ej.EjSvgRender.utils._calculateroundedCorner(null,k,!0,a,0,f);k={id:this.svgObject.id+"_AxisToolTipRect_"+r,d:ht,fill:b.fill,"stroke-width":b.border.width,stroke:b.border.color};v=this.model._axes[r];u.y<v.y+v.height&&u.y>v.y||u.x<v.x+v.width&&u.x>v.x?(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+r),{display:"block"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+r),{display:"block"}),k.display="block"):(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+r),{display:"none"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+r),{display:"none"}),k.display="none");d?(y=this.svgRenderer.createCrosshairCanvas(),y.ctx=y.getContext("2d")):y=this.svgRenderer;this.svgRenderer.drawPath.call(y,k,this.gTrackAxisEle);this.svgRenderer.drawText.call(y,et,w.data.currentTrackText,this.gTrackAxisEle)}},maxWdithArrayCollection:function(n,t){for(var i=0,u,r=0,e=0,o=ej.EjSvgRender.utils._measureText,f=0,s=n.length;f<s;f++)u=o(n[f],0,t),r=u.width,e+=u.height,i=i==0?r:i<r?r:i;return{maxTextWidth:i,totalHeight:e}},displayTooltip:function(n,t,i){var ri=this.model.crosshair,b=ri.trackballTooltipSettings,kt=b.rx,dt=b.ry,yt=b.border,s=this.model.m_AreaBounds,vi=this.model.crosshair.isReversed,e,bi,ki,nt,di,k,ut,nr,lr,it,et,tr,ei,vt,oi,ur,fr,bt,si;if(n){var u=t.series,hi,gt,er=document.getElementById(this._id),kr=$(er).offset(),at=u.tooltip,ct=at.font?$.extend(!1,u.font,{},at.font):u.font,ni=u.type=="boxandwhisker"?t.point.boxPlotLocation[3]:t.point.location,ui=u.marker.size.width/2+u.marker.border.width+yt.width+5,yi=u._isTransposed?u.xAxis.y+ui:u.yAxis.y,or=u._isTransposed?u.yAxis.x:u.xAxis.x+ui,r={X:or+ni.X,Y:yi+ni.Y},lt=t.textCollection,pi=t.textOptionsCollection,wi=t.groupingTextId,h,ti,rt={X:r.X,Y:r.Y},pt=document.getElementById(this._id+"_trackball_grouping_tooltip");if(this._trigger("trackToolTip",{data:{currentText:lt,location:rt}}),!ej.util.isNullOrUndefined(this.model.trackToolTip)&&this.model.trackToolTip!="")for(e=0,ut=lt.length;e<ut-1;e++)lt[e].text==""&&(lt.splice(e,1),pi.splice(e,1),wi.splice(e,1));for(ej.util.isNullOrUndefined(pt)?(pt=document.createElement("div"),h={left:rt.X,top:rt.Y,border:parseInt(yt.width?yt.width:1)+"px solid "+(yt.color?yt.color:"#000000"),background:b.fill?b.fill:"#ffffff",opacity:b.opacity,position:"absolute",height:"auto",width:"auto","border-radius":kt+"px "+dt+"px","pointer-events":"none"},pt.setAttribute("id",this._id+"_trackball_grouping_tooltip")):h={left:rt.X,top:rt.Y},e=0,ut=lt.length;e<ut;e++)ti=document.createElement("span"),ti.setAttribute("id",wi[e]),bi=lt[e].text,$(ti).html(bi+"<\/br>"),$(ti).css(pi[e]),pt.appendChild(ti);ki=lt.map(function(n){return n.text});hi=this.maxWdithArrayCollection(ki,ct);i=hi.maxTextWidth;gt=hi.totalHeight;h.top=u._isTransposed?h.top:h.top-gt*.5;h.left=u._isTransposed?h.left-i*.5:h.left;lt.length>1&&(h.top=u._isTransposed?h.top:yi+(s.Height*.5-.5*gt),h.left=u._isTransposed?s.Width/2+s.X-i*.5:h.left);u._isTransposed?gt+h.top>s.Y+s.Height&&(h.top-=gt+ui*2):h.left+i>=s.X+s.Width&&(h.left-=i+(ui+yt.width)*2);h.left=rt.X==r.X?h.left:rt.X;h.top=rt.Y==r.Y?h.top:rt.Y;$(pt).css(h);$(pt).appendTo(this.chartContainer)}else for(nt=0,di=t.length;nt<di;nt++){var r=t[nt].Point,ni=t[nt].ClosestPoint,u=t[nt].Series,fi=t[nt].ClosestPointIndex,ii=t[nt].Tgap,ft=$.inArray(u,this.model._visibleSeries),w={X1:s.X,Y1:s.Y+s.Height,X2:s.X+s.Width,Y2:s.Y},d=this.model._axes,sr=u._xAxisName,hr=u._yAxisName;for(k=0,ut=d.length;k<ut;k++)sr==d[k].name?u._isTransposed?(w.Y1=d[k].Location.Y1,w.Y2=d[k].Location.Y2):(w.X1=d[k].Location.X1,w.X2=d[k].Location.X2):hr==d[k].name&&(u._isTransposed?(w.X1=d[k].Location.X1,w.X2=d[k].Location.X2):(w.Y1=d[k].Location.Y1,w.Y2=d[k].Location.Y2));if(r.X=u.type=="boxandwhisker"?r.X+w.X1:r.X,r.Y=u.type=="boxandwhisker"?r.Y+w.Y2:r.Y,r.X>=w.X1&&r.X<=w.X2&&r.Y>=w.Y2&&r.Y<=w.Y1||n){var tt=this.model.requireInvertedAxes,e,a,v=r.X+(u.isIndicator?0:ej.util.isNullOrUndefined(u._trackMarker)?u.marker.size.width:u._trackMarker.size.width)+f+1,y=r.Y,gi=u.tooltip.format,cr=ej.util.isNullOrUndefined(u.yAxis.roundingPlaces)?2:u.yAxis.roundingPlaces;if(nr=t[nt].Series.type=="boxandwhisker"&&r.outlier?this.getTooltipFormat(ni,u,ft,fi,gi,r):this.getTooltipFormat(ni,u,ft,fi,gi,cr),lr=u.name?u.name.replace(" ",""):"series"+ft,it=$.extend({},ej.EjSvgRender.commonChartEventArgs),it.data={Location:{X:v,Y:y},Series:u,serIndex:ft,pointIndex:fi,currentText:nr.text},this._trigger("trackToolTip",it),!it.cancel){v=it.data.Location.X;y=it.data.Location.Y;var f=this.model.tooltipPadding,c=ii,at=u.tooltip,ct=at.font?$.extend(!1,u.font,{},at.font):u.font,ir=ej.EjSvgRender.utils._measureText(it.data.currentText,u.xAxis.width,ct),ci=this.getSeriesColor(ni,ft,u),li=this.getTooltipOptions(ci,u),dr=li.rectBColor,gr=li.rectFColor,nu=li.rectTextColor,l=ir.width+2*f,o=ir.height+2*f,tu=tt?l/10:o*30/100,rr=tt?u.yAxis.width:u.xAxis.width,ar=tt?ii+r.X-l/2:ii+r.Y-o/2,vr=tt?ii+r.X+l/2:ii+r.Y+o/2,yr=tt?s.X:s.Y,pr=tt?s.X+s.Width:s.Y+s.Height,g=[],wr=3+ri.marker.border.width+(tt?ri.marker.size.height:ri.marker.size.width)/2,p=this.model.financial?0:wr+5,ai=u.type.toLowerCase(),ot,wt=ai.indexOf("rangearea")==0?this.model.crosshair.marker.size.height/2:0;if(ar>=yr&&vr<=pr||this.model.financial){tt?r.Y-p-i<s.Y?(et={x:r.X-l/2+c,y:r.Y+p,width:l,height:o,rx:kt,ry:dt},g.push({X:r.X-l/2+f+c,Y:r.Y+p+o/2-f}),ot="top"):(this.model.financial?(v=r.X-l/2+c,y=r.Y+f+wt,e=v+f,a=y+2*f,ot="top"):(v=r.X-l/2+c,y=r.Y-p-o,e=r.X-l/2+f+c,a=r.Y-p-o/2-f,ot="bottom"),et={x:v,y:y,width:l,height:o,rx:kt,ry:dt},g.push({X:e,Y:a})):r.X+p+i-s.X>=rr||vi?(this.model.financial?(v=r.X-l/2,y=r.Y-o-f-wt,e=v+f,a=y+c+o,ot="bottom"):r.X-i<=this.model.m_AreaBounds.X&&vi?(v=r.X+p,y=r.Y-o/2+c,e=v+f,a=r.Y+c+o/2,ot="left"):(v=r.X-p-l,y=r.Y-o/2+c,e=v+f,a=r.Y+c+o/2,ot="right"),et={x:v,y:y,width:l,height:o,rx:kt,ry:dt},g.push({X:e,Y:a})):(this.model.financial?(v=r.X-l/2,y=r.Y-wt-o-2*f,e=v+f,a=y+c+o,ot="bottom"):(v=r.X+p,y=r.Y-o/2+c,e=v+f,a=r.Y+c+o/2,ot="left"),et={x:v,y:y,width:l,height:o,rx:kt,ry:dt},g.push({X:e,Y:a}));ei=ci;typeof ei=="object"&&(ei=ci[1].color);var st=it.data.currentText,br=st,ht=ej.EjSvgRender.utils._measureText(st,u.xAxis.width,ct).height,ut;it.data.currentText.indexOf("<br/>")>=0&&(st=it.data.currentText.split("<br/>"),br=st[0],tt?r.Y-p-i<s.Y?g.push({X:r.X-l/2+f+c,Y:r.Y+p+ht/st.length}):(this.model.financial?(e=r.X-l/2+f+c,a=r.Y+4*f+wt):(e=r.X-l/2+f+c,a=r.Y-p-o+ht/st.length),g.push({X:e,Y:a})):(vt=ai.indexOf("candle")>=0||ai.indexOf("hiloopenclose")>=0||!1,r.X+p+i-s.X>=rr?(this.model.financial?(e=r.X-l/2+f,a=r.Y+c-o-wt+(vt?0:2*f),et.y-=vt?f*3:f,et.height+=vt?f*2:f):(e=r.X-l-p+f,a=r.Y+c-o/2+ht/st.length),g.push({X:e,Y:a})):(this.model.financial?(e=r.X-l/2+f,a=r.Y+c-o-wt+(vt?0:f),et.y-=vt?f*2:f,et.height+=vt?f*2:f):(e=r.X+p+f,a=r.Y+c-o/2+ht/st.length),g.push({X:e,Y:a}))),ht=0);ut=g.length-1;ht=tt?ht:-ht;oi=u.type=="boxandwhisker"?nt:fi;ur={id:this.svgObject.id+"_ToolTipText_"+ft+"_"+oi,x:g[ut].X,y:g[ut].Y+ht/2,fill:at.font?at.font.color?at.font.color:"#ffffff":"#ffffff","font-size":ct.size,"font-family":ct.fontFamily,"font-style":ct.fontStyle,"font-weight":ct.fontWeight,"text-anchor":"start",isTrackball:!0,padding:this.model.tooltipPadding};tr=ej.EjSvgRender.utils._calculateroundedCorner(null,et,!0,ot,c);fr={id:this.svgObject.id+"_gTooltip_"+ft+"_"+oi,d:tr,fill:b.fill?b.fill:ei,"stroke-width":parseInt(b.border.width?b.border.width:0)+"px",stroke:b.border.color?b.border.color:"transparent","fill-opacity":b.opacity};this.model.enableCanvasRendering?(bt=this.svgRenderer.createCrosshairCanvas(),bt.ctx=bt.getContext("2d")):bt=this.svgRenderer;si=this.svgRenderer.createGroup({id:this.svgObject.id+"_gTooltip_"+ft+"_"+oi});this.svgRenderer.drawPath.call(bt,fr,si);this.svgRenderer.drawText.call(bt,ur,st,si,ct)}}$("#"+this.svgObject.id+"_TrackToolTip_"+ft).length==0&&this.svgRenderer.append($(si),this.gTrackball)}}},SmartTooltipPosition:function(n){for(var i=[[],[]],r=n.length,u=[],o=n[0].Series._isTransposed?this.model.m_AreaBounds.Width:this.model.m_AreaBounds.Height,f=this.model.tooltipPadding,e=-f,t=0;t<r;t++)i[0][t]=$.extend({},n[t].StEnd),i[1][t]={yAxis:n[t].Series._yAxisName,xAxis:n[t].Series._xAxisName,isTransposed:n[t].Series._isTransposed},u[t]=n[t].ReqInvertAxis?n[t].Point.X:n[t].Point.Y,e+=n[t].StEnd.End-n[t].StEnd.Start+f;for(this.ContinousOverlappingPoints(i[0],u),e<o&&this.verticalArrangeMents(i),t=0;t<r;t++)n[t].Tgap=this.model.financial?0:i[0][t].Start-n[t].StEnd.Start},verticalArrangeMents:function(n){for(var f=n[0],c=n[1],k=this.model.m_AreaBounds,w=this.model.tooltipPadding,l,s,h,a,o=this.model._axes,r,u,v,y,p=f.length,e=p-1,t=0,i=0,b=o.length;e>=0;e--){for(l=c[e].isTransposed,a=c[e].yAxis,i=0;i<b;i++)a==o[i].name&&(l?(s=o[i].Location.X2,h=o[i].Location.X1):(s=o[i].Location.Y1,h=o[i].Location.Y2));if(r=f[e],y=r.End-r.Start,s<r.End)for(r.End=s-2,r.Start=r.End-y,t=e-1;t>=0;t--)u=f[t],v=u.End-u.Start,u.End>f[t+1].Start&&f[t+1].Start>h&&f[t+1].End<s&&(u.End=f[t+1].Start-w,u.Start=u.End-v)}for(e=0;e<p;e++){for(l=c[e].isTransposed,a=c[e].yAxis,i=0;i<b;i++)a==o[i].name&&(l?(s=o[i].Location.X2,h=o[i].Location.X1):(s=o[i].Location.Y1,h=o[i].Location.Y2));if(r=f[e],y=r.End-r.Start,r.Start<h)for(r.Start=h+1,r.End=r.Start+y,t=e+1;t<=p-1;t++)u=f[t],v=u.End-u.Start,u.Start<f[t-1].End&&f[t-1].Start>h&&f[t-1].End<s&&(u.Start=f[t-1].End+w,u.End=u.Start+v)}},ContinousOverlappingPoints:function(n,t){var e=this.model.tooltipPadding,h=0,o=0,a=0,r=0,p=n.length-1,l=n[0].End-n[0].Start+e,v,y,s,c,f,i,u;for(h=n[0].Start+l,a=n[0].Start,f=0;f<p;f++)if(h>=n[f+1].Start){if(l=n[f+1].End-n[f+1].Start+e,h+=l,o++,o-1==p-1||f==p-1){for(v=(h-a)/2,y=(t[r]+t[f+1])/2,s=n[r].End-n[r].Start,n[r].Start=y-v,n[r].End=n[r].Start+s,i=r;i>0;i--)if(n[i].Start<=n[i-1].End+e)c=n[i-1].End-n[i-1].Start,n[i-1].Start=n[i].Start-c-e,n[i-1].End=n[i-1].Start+c;else break;for(u=r+1;u<=r+o;u++)s=n[u].End-n[u].Start,n[u].Start=n[u-1].End+e,n[u].End=n[u].Start+s}}else{if(o=f>0?o:0,o>0){for(v=(h-a)/2,y=(t[r]+t[f])/2,s=n[r].End-n[r].Start,n[r].Start=y-v,n[r].End=n[r].Start+s,i=r;i>0;i--)if(n[i].Start<=n[i-1].End+e)c=n[i-1].End-n[i-1].Start,n[i-1].Start=n[i].Start-c-e,n[i-1].End=n[i-1].Start+c;else break;for(u=r+1;u<=r+o;u++)s=n[u].End-n[u].Start,n[u].Start=n[u-1].End+e,n[u].End=n[u].Start+s;o=0}l=n[f+1].End-n[f+1].Start+e;h=n[f+1].Start+l;a=n[f+1].Start;r=f+1}},getTooltipOptions:function(n,t){var r,u,e,o,f,i;return this.model.theme.indexOf("gradient")>=0?(r=jQuery.type(n)=="array"?n[0].color:n,u="white",f="#333333",e=5,o=5):(i=t.type.toLowerCase(),i.indexOf("column")==-1&&i.indexOf("waterfall")==-1&&i.indexOf("bar")==-1&&i.indexOf("box")==-1&&i!="rangearea"&&this.model.AreaType!="none"?(u=jQuery.type(n)=="array"?n[0].color:n,r="transparent",f="white"):(r="#333333",u="white",f="#333333"),e=0,o=0),{rectBColor:r,rectFColor:u,rectTextColor:f,rectX:e,rectY:o}},getSeriesColor:function(n,t,i){return!i||i.isIndicator||i.isTrendLine?i.fill:n._hiloFill?n._hiloFill._gradientStop?n._hiloFill._gradientStop[0].color:n._hiloFill:n.fill?n.fill._gradientStop?n.fill._gradientStop[0].color:n.fill:i.type.toLowerCase()=="waterfall"&&i.positiveFill&&(n.y>0&&!n.showIntermediateSum&&!n.showTotalSum||n.waterfallSum>0)?i.positiveFill:this.model.seriesColors[t]},getFormat:function(n,t){if(!n.tooltip.format){var i=n.type.toLowerCase(),r=n.type!="boxandwhisker"?"null":t.outlier;return i.indexOf("range")>-1||i.indexOf("hilo")>-1&&i.indexOf("open")==-1?"#point.x# <br/> High : #point.high# <br/> Low : #point.low#":i.indexOf("candle")>-1||i.indexOf("open")>-1?"#point.x# <br/> High : #point.high# <br/> Low : #point.low# <br/> Open : #point.open# <br/> Close : #point.close#":i.indexOf("bubble")>-1?"#point.x# : #point.y# : #point.size#":i.indexOf("box")>-1&&r?"X : #boxPlotPoints.xValue#  Y : #boxPlotPoints.YValues#":i.indexOf("box")>-1?"Minimum : #boxPlotPoints.Minimum# <br/> Upper Quartile : #boxPlotPoints.UpperQuartile# <br/> Median : #boxPlotPoints.midvalue# <br/> Lower Quartile : #boxPlotPoints.LowerQuartile# <br/> Maximum : #boxPlotPoints.Maximum#  ":"#point.x# : #point.y#"}return n.tooltip.format},getTooltipFormat:function(n,t,i,r,u,f){var e=$.extend(!0,{},n),it=this.model.AreaType,h=this.model.locale,w=t.xAxis,ct=t.yAxis,g=w._valueType.toLowerCase(),ot=ej.util.isNullOrUndefined,l=w.labelFormat,o=ct.labelFormat,rt=ej.EjSvgRender.utils._dateTimeLabelFormat,at=ej.EjSvgRender.utils._decimalPlaces,p=!1,v=!1,a,k,y,ut,c,st,nt,d,ht,lt,ft=6,et=20,b,s,tt;for(t.count=1,e.count=1,u=this.getFormat(t,f);u.indexOf("ej.format(")>=0;)c=u.substring(u.indexOf("ej.format("),u.indexOf(")")+1),b=c.substring(c.indexOf("(")+1,c.indexOf(",")),b=="#point.x#"?(p=!0,a=c.substring(c.indexOf(",")+1,c.indexOf(")"))):b=="#point.y#"?(v=!0,k=c.substring(c.indexOf(",")+1,c.indexOf(")"))):(st=c.substring(c.indexOf(",")+1,c.indexOf(")")),nt=b.substring(b.indexOf("#")+1),d=nt.substring(nt.indexOf(".")+1,nt.indexOf("#")),e.hasOwnProperty(d)&&e[d]&&(e[d]=ej.format(e[d],st,h))),u=u.replace(c,b);if(it=="cartesianaxes"?g.toLowerCase()=="datetime"?(e.x=ej.format(new Date(e.xValue),ot(l)?rt(w._intervalType,w):t.xAxis.labelFormat,h),e.x=p?ej.format(new Date(e.xValue),a,h):e.x):g.toLowerCase()=="datetimecategory"?(e.x=ej.format(new Date(e.x),ot(l)?rt(w.intervalType,w):w.labelFormat,h),e.x=p?ej.format(new Date(e.x),a,h):e.x):g.toLowerCase()=="category"?e.x=this.model.primaryXAxis.isIndexed?e.x?e.x:"undefined":ej.EjSvgRender.utils._getLabelContent(e.xValue,t.xAxis,h):(e.x=p&&(a.indexOf("e")==0||a.indexOf("E")==0)?this.convertExponential(ht,ft,et,e.x,a):p?ej.format(e.x,a,h):e.x,y=l?l.match("{value}"):null,e.x=l?y!=null?l=="${value}"?l.replace("{value}","$"+e.x):l.replace("{value}",e.x):p||l.indexOf("e")==0||l.indexOf("E")==0?e.x:ej.format(Number(e.x),l,h):e.x):g=="date"&&(e.x=ej.format(new Date(e.xValue),rt("days"),h),e.x=p?ej.format(new Date(e.xValue),a,h):e.x),v&&(k.indexOf("e")==0||k.indexOf("E")==0)?e.y=this.convertExponential(lt,ft,et,e.y,k):(e.y=e.waterfallSum?e.waterfallSum:e.y,e.y=v?ej.format(e.y,k,h):e.y),y=o?o.match("{value}"):null,e.y=o?y!=null?o=="${value}"?o.replace("{value}","$"+e.y):o.replace("{value}",e.y):v||o.indexOf("e")==0||o.indexOf("E")==0?e.y:ej.format(Number(e.y),o,h):e.y,(it=="none"||it=="polaraxes")&&p&&(a.indexOf("e")==0||a.indexOf("E")==0)&&(e.x=this.convertExponential(ht,ft,et,e.x,a)),t.isStacking&&t.drawType=="area"&&(t.type=="polar"||t.type=="radar")&&(e.y=t.stackedValue.EndValues[r]-t.stackedValue.StartValues[r]),t.type.toLowerCase()=="boxandwhisker"){if(s=t._visiblePoints[r].boxPlotValues,f.outlier==!0)for(tt=0;tt<s.outliers.length;tt++)f.YValues==s.outliers[tt]&&(f.YValues=o?y!=null?o=="${value}"?o.replace("{value}","$"+f.YValues):o.replace("{value}",f.YValues):v||o.indexOf("e")==0||o.indexOf("E")==0?f.YValues:ej.format(Number(f.YValues),o,h):f.YValues);else f.YValues==s.Minimum?s.Minimum=o?y!=null?o=="${value}"?o.replace("{value}","$"+s.Minimum):o.replace("{value}",s.Minimum):v||o.indexOf("e")==0||o.indexOf("E")==0?s.Minimum:ej.format(Number(s.Minimum),o,h):s.Minimum:f.YValues==s.Maximum?s.Maximum=o?y!=null?o=="${value}"?o.replace("{value}","$"+s.Maximum):o.replace("{value}",s.Maximum):v||o.indexOf("e")==0||o.indexOf("E")==0?s.Maximum:ej.format(Number(s.Maximum),o,h):s.Maximum:f.YValues==s.UpperQuartile?s.UpperQuartile=o?y!=null?o=="${value}"?o.replace("{value}","$"+s.UpperQuartile):o.replace("{value}",s.UpperQuartile):v||o.indexOf("e")==0||o.indexOf("E")==0?s.UpperQuartile:ej.format(Number(s.UpperQuartile),o,h):s.UpperQuartile:f.YValues==s.LowerQuartile?s.LowerQuartile=o?y!=null?o=="${value}"?o.replace("{value}","$"+s.LowerQuartile):o.replace("{value}",s.LowerQuartile):v||o.indexOf("e")==0||o.indexOf("E")==0?s.LowerQuartile:ej.format(Number(s.LowerQuartile),o,h):s.LowerQuartile:f.YValues==s.midvalue&&(s.midvalue=o?y!=null?o=="${value}"?o.replace("{value}","$"+s.midvalue):o.replace("{value}",s.midvalue):v||o.indexOf("e")==0||o.indexOf("E")==0?s.midvalue:ej.format(Number(s.midvalue),o,h):s.midvalue);s.count=t.count;s.xValue=e.x;s.YValues=f.YValues;ut={boxPlotPoints:s}}else ut={series:t,point:e};return u=u.parseTemplate(ut),{data:e,text:u}},convertExponential:function(n,t,i,r,u){return n=u.match(/(\d+)/g),n=n==null?t:n>i?i:n,r.toExponential(n)},displayShowTooltip:function(n,t,i,r){var it=this.model.requireInvertedAxes,d=i.tooltip.isReversed,et,v,kt,dt,e,nt,a,vt,k,st,tt,ht,w,yt,ni,pt,ti,ii,ct;if(t.visible!==!1){$(".ejTooltip"+this._id).not("#"+this.svgObject.id+"_TrackToolTip").remove();$.finish?$(".ejTooltip"+this._id).finish():$(".ejTooltip"+this._id).stop(!0,!0);var wt,bt,b=!i.isIndicator&&!i.isTrendLine?$.inArray(i,this.model._visibleSeries):0,rt,lt,o=7,ut=15,s,h,y,at=i.tooltip.format,c=document.getElementById(this.svgObject.id).getClientRects()[0],ft=this.model.m_AreaBounds,u=i.type.toLowerCase();switch(this.model.AreaType){case"cartesianaxes":s=d?n.X-(!i.isIndicator&&!i.isTrendLine?ej.util.isNullOrUndefined(i._trackMarker)?u=="bubble"?t.radius+ut:i.marker.size.width:i._trackMarker.size.width:0)+(u=="column"||u=="bar"||u=="stackingbar"||u=="stackingcolumn"||u=="waterfall"||u=="rangecolumn"?ft.X:it?i.yAxis.x:i.xAxis.x):n.X+(!i.isIndicator&&!i.isTrendLine?ej.util.isNullOrUndefined(i._trackMarker)?u=="bubble"?t.radius+ut:i.marker.size.width:i._trackMarker.size.width:0)+(u=="column"||u=="bar"||u=="stackingbar"||u=="stackingcolumn"||u=="waterfall"||u=="rangecolumn"?ft.X:it?i.yAxis.x:i.xAxis.x);h=n.Y+(u.indexOf("column")!=-1||u.indexOf("waterfall")!=-1||u.indexOf("bar")!=-1||u.indexOf("rangearea")!=-1||u=="scatter"||u=="bubble"?this.dragPoint?it?i.xAxis.y:i.yAxis.y:ft.Y:it?i.xAxis.y:i.yAxis.y);this.dragPoint&&(s=s>i.xAxis.x?s:i.xAxis.x,h=h<i.yAxis.height+i.yAxis.y?h:i.yAxis.height+i.yAxis.y);rt=this.getSeriesColor(t,b,i);break;case"polaraxes":s=d?n.X-o+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width):n.X+o+(ej.util.isNullOrUndefined(i._trackMarker)?i.marker.size.width:i._trackMarker.size.width);h=n.Y;rt=this.getSeriesColor(t,b,i);break;case"none":s=d?n.X-i.marker.size.width+o:n.X+i.marker.size.width+o;h=n.Y;rt=this.model.pointColors[r]}if(i.type.toLowerCase()=="boxandwhisker")for(et=0;et<i._visiblePoints[r].boxPlotLocation.length;et++)v=i._visiblePoints[r].boxPlotLocation[et],kt=v.outlier,kt?v.X+i.outlierSettings.size.width/2>n.X&&v.X-i.outlierSettings.size.width/2<n.X&&v.Y+i.outlierSettings.size.height/2>n.Y&&v.Y-i.outlierSettings.size.height/2<n.Y&&(y=this.getTooltipFormat(t,i,b,r,at,v),lt=ej.EjSvgRender.utils._measureText(y.text)):(y=this.getTooltipFormat(t,i,b,r,at,v),lt=ej.EjSvgRender.utils._measureText(y.text));else y=this.getTooltipFormat(t,i,b,r,at),lt=ej.EjSvgRender.utils._measureText(y.text);var g=this.getTooltipOptions(rt,i),ri=g.rectBColor,ui=g.rectFColor,fi=g.rectTextColor,ei=g.rectX,oi=g.rectY,e=i.tooltip,p,o=5;if(p=document.getElementById(this.svgObject.id+"_TrackToolTip")==null?$("<div><\/div>").attr({id:this.svgObject.id+"_TrackToolTip","class":"ejTooltip"+this._id}):$("#"+this.svgObject.id+"_TrackToolTip"),dt=!!navigator.userAgent.match(/Trident\/7\./),!ej.isTouchDevice()||dt||this.vmlRendering?this._on(p,"mousemove",this.chartTooltipHover):window.navigator.msPointerEnabled?this._on(p,"MSPointerMove",this.chartTooltipHover):this._on(p,"touchmove",this.chartTooltipHover),$("#"+this.svgObject.id+"_TrackToolTip").show(),bt=$("#"+this._id).parent()[0].style.zIndex,e={top:h+$(document).scrollTop(),left:s+$(document).scrollLeft(),"background-color":e.fill?e.fill:ui,"border-style":"solid",position:"absolute","border-color":e.border.color?e.border.color:ri,"border-width":e.border.width||e.border.width==0?e.border.width:1,opacity:e.opacity,"z-index":bt+1e6,"border-radius":(e.rx?e.rx:ei).toString()+"px "+(e.ry?e.ry:oi).toString()+"px","padding-left":"5px","padding-right":"5px","padding-top":"2px","padding-bottom":"2px"},$(p).css(e),nt=$.extend({},ej.EjSvgRender.commonChartEventArgs),nt.data={seriesIndex:b,pointIndex:r,currentText:y.text,isTrendLine:i.isTrendLine,trendlineIndex:i.trendlineIndex},this._trigger("toolTipInitialize",nt),!nt.cancel){var si=0,ot=i.tooltip,l=ot.font?$.extend(!1,i.font,{},ot.font):i.font,hi={top:h+$(document).scrollTop(),left:s+$(document).scrollLeft(),color:ot.font&&ot.font.color?l.color:fi,"font-size":l.size,"font-family":l.fontFamily,"font-style":l.fontStyle,"font-weight":l.fontWeight,"align-self":"baseline"};for($(p).css(hi),document.getElementById(this.svgObject.id+"_TrackToolTip")==null&&$(document.body).append(p[0]),a=wt=nt.data.currentText,$("#"+this.svgObject.id+"_TrackToolTip").html(a),vt=0,k=0,a=a.replace(/<br >/g,"<br/>").replace(/<br \/>/g,"<br/>").replace(/<br>/g,"<br/>"),a=a.split("<br/>"),st=0;st<a.length;st++)for(tt=a[st],tt=tt.split("<\/tr>"),ht=0;ht<tt.length;ht++)w=tt[ht],w=this.RemoveTableAttr(w),w=w.replace(/&nbsp;/g," "),vt+=ej.EjSvgRender.utils._measureText(w,null,l).height,yt=ej.EjSvgRender.utils._measureText(w,null,l).width,k<yt&&(k=yt);si=this.model.AreaType=="cartesianaxes"?ej.EjSvgRender.utils._measureText(wt,i.xAxis.width,l).height:ej.EjSvgRender.utils._measureText(a,null,l).height;var ci=this.model.AreaType=="cartesianaxes"?this.model.requireInvertedAxes?i.yAxis.width:i.xAxis.width:$(this.svgObject).width()-(this.model.legend.position.toLowerCase()=="right"?this.model.LegendViewerBounds.Width+2*this.model.elementSpacing:0),gt=this.model.AreaType=="cartesianaxes"?this.model.requireInvertedAxes?i.xAxis.height:i.yAxis.height:$(this.svgObject).height()-(this.model.legend.position.toLowerCase()=="bottom"?this.model.LegendViewerBounds.Height+this.model.elementSpacing:0),f=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect();$("#"+this.svgObject.id+"_TrackToolTip").css("top",$(document).scrollTop()+f.top+c.top-(vt+4)/2);$("#"+this.svgObject.id+"_TrackToolTip").css("left",$(document).scrollLeft()+f.left+c.left+(f.left-s));s+(k+o)>=ci+i.xAxis.x&&!d&&(pt=document.getElementById(this.svgObject.id).getClientRects()[0],ct=s-(k+o*2+(!i.isIndicator&&!i.isTrendLine?ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:u=="bubble"?t.radius+ut:0:i._trackMarker.size.width:0)+2*o),$("#"+this.svgObject.id+"_TrackToolTip").css("left",ct+pt.left-o+$(document).scrollLeft()));f=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect();(f.bottom>=i.yAxis.y+gt+c.top||f.bottom>=i.xAxis.y+gt+c.top)&&(ni=h-(f.bottom-f.top+(!i.isIndicator&&!i.isTrendLine?ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.height:0:i._trackMarker.size.height:0))+o+c.top,$("#"+this.svgObject.id+"_TrackToolTip").css("top",ni+$(document).scrollTop()));f=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect();f.left<0&&(pt=document.getElementById(this.svgObject.id).getClientRects()[0],ti=ft.Width/2,n.X<ti?$("#"+this.svgObject.id+"_TrackToolTip").css("left",s+c.left):($("#"+this.svgObject.id+"_TrackToolTip").css("width",f.right-2*o),$("#"+this.svgObject.id+"_TrackToolTip").css("left",0)));(f.top<c.top||f.top<0)&&$("#"+this.svgObject.id+"_TrackToolTip").css("top",(c.top<0?$(document).scrollTop():c.top)+"px");d&&(ii=f.right-f.left,$("#"+this.svgObject.id+"_TrackToolTip").css("left",f.x-ii),f.x<i.xAxis.x&&(ct=k+o*2+(!i.isIndicator&&!i.isTrendLine?ej.util.isNullOrUndefined(i._trackMarker)?i.marker.visible?i.marker.size.width:u=="bubble"?t.radius+ut:0:i._trackMarker.size.width:0)+2*o,$("#"+this.svgObject.id+"_TrackToolTip").css("left",f.x+ct)));$("#"+this.svgObject.id+"_TrackToolTip").show()}}},RemoveTableAttr:function(n){var t,i,r;for((n.indexOf("<table>")!=-1||n.indexOf("<\/table>")!=-1||n.indexOf("<td>")!=-1||n.indexOf("<\/td>")!=-1||n.indexOf("<tr>")!=-1)&&(n=n.replace(/\//g,"").replace(/<table>/g,"").replace(/<th>/g,"").replace(/<tr>/g,"").replace(/<td>/g,""));n.search(/<td/i)>-1;)if(n.search(/<tr/)>-1)n=n.slice(n.search(/<td/i));else if(n.search(/<td/)>-1&&n.indexOf(">")>n.search(/<td/)){for(n=n.slice(n.indexOf(">")+1),t=n.split("<td"),i=0;i<t.length;i++)r=t[i],t[i]=r.indexOf(">")>-1?r.slice(r.indexOf(">")+1):r;n=t.join("")}return n},chartTooltipHover:function(n){var t=$("#"+n.target.id)[0].getBoundingClientRect(),u=n.clientX-t.left,i=5,r;$("#"+n.target.id).css("left",t.left+u+i);t=$("#"+n.target.id)[0].getBoundingClientRect();r=document.getElementById(this.svgObject.id).getClientRects()[0];t.right>r.right+i&&$("#"+n.target.id).css("left",n.clientX-(t.right-t.left)-i)},_initializeSeriesColors:function(){var n=this,l=n.model.palette?n.model.palette:n.model.colors,y=l.length,e=n.model.AreaType,o,r,u,i,a,s,p,v,c,h,f,t;if(n.model.seriesColors=[],n.model.seriesBorderColors=[],n.model.pointColors=[],n.model.pointBorderColors=[],s=n.model._visibleSeries.length,p=n.model._visibleSeries,e!="none")o=n.model._visibleSeries,r=n.model.seriesColors,u=n.model.seriesBorderColors;else{for(h=0,t=0;t<s;t++)c=n.model._visibleSeries[t].type.toLowerCase(),n.model._visibleSeries[t].points.length>h?(h=n.model._visibleSeries[t].points.length,v=n.model._visibleSeries[t].points):n.model._visibleSeries[t].points.length==h&&c!="funnel"&&c!="pieofpie"&&c!="pyramid"&&(v=n.model._visibleSeries[t].points);o=v||[];r=n.model.pointColors;u=n.model.pointBorderColors}if(e=="none"&&s>1)for(f=0;f<s;f++)n.model.seriesColors[f]=l[f%y];for(t=0;t<o.length;t++)i=o[t],a=i.trendlines,i.isFill=i.isFill==undefined?i.fill&&i.fill!=""?!0:!1:i.isFill,i.isFill?r[t]=i.fill:(r[t]=l[t%y],i._hiloTypes||(i.fill=r[t])),e!="none"&&a.length>0&&this._initializeTrendlinesColors(a,r[t]),ej.util.isNullOrUndefined(i.border)||ej.util.isNullOrUndefined(i.border.color)||i.border.color==""?(u[t]=n.model.seriesBorderDefaultColors[t%10],e!="none"&&(i.border.color=u[t])):u[t]=i.border.color,i.dataPoint=i.points,i.trendLine=i.trendlines},_initializeTrendlinesColors:function(n,t){for(var i in n)(ej.util.isNullOrUndefined(n[i].fill)||n[i].fill=="")&&(n[i].fill=t)},_createAxisLabelAndRange:function(){for(var u,v,f,y=0,t=this.model,i=t.series,c=i.length,l,a,r,n,s=t.primaryXAxis,e=t.primaryYAxis,p,o=0;o<c;o++)a=i[o],a._isTransposed&&this.model.AreaType!="polaraxes"&&y++;for(c&&(y==c?t.requireInvertedAxes=!0:(a=i[0],a._isTransposed&&this.model.AreaType!="polaraxes"&&(t.requireInvertedAxes=!0))),t.requireInvertedAxes?(e.orientation="horizontal",s.orientation="vertical",e.labelPlacement=e.labelPlacement?e.labelPlacement:ej.datavisualization.Chart.LabelPlacement.OnTicks):(e.orientation="vertical",s.orientation="horizontal"),e.name=ej.util.isNullOrUndefined(e.name)?"SecondaryAxis":e.name,s.name=ej.util.isNullOrUndefined(s.name)?"PrimaryAxis":s.name,t._axes=[],t._axes[0]=s,t._axes[1]=e,p=t.axes.length,l=t.indicators,o=0;o<p;o++)if(n=t.axes[o],n.name){for(u=0;u<c;u++)if(v=i[u].type.toLowerCase(),i[u].xAxisName==n.name){n.orientation=v.indexOf("bar")!=-1?i[u].isTransposed?"horizontal":"vertical":i[u].isTransposed?"vertical":"horizontal";break}else if(i[u].yAxisName==n.name){n.orientation=v.indexOf("bar")!=-1?i[u].isTransposed?"vertical":"horizontal":i[u].isTransposed?"horizontal":"vertical";break}for(f=0;f<l.length;f++)if(l[f].xAxisName==n.name){n.orientation="horizontal";break}else if(l[f].yAxisName==n.name){n.orientation="vertical";break}if(!n.orientation)continue;t.axes[o]=n.orientation.toLowerCase()=="horizontal"?$.extend(!0,{},t.secondaryX,n):$.extend(!0,{},t.secondaryY,n);t._axes.push(t.axes[o])}for(f=0;f<t._axes.length;f++){var n=this.model._axes[f],h=n.scrollbarSettings,r=h.range,w=n.orientation.toLowerCase();n.visibleLabels=[];n.range=n.range.min==null&&n.range.max==null&&n.range.interval==null?null:n.range;n.setRange=n.range?ej.util.isNullOrUndefined(n.setRange)?!0:n.setRange:!1;n.setRange=n.actual_Range||n.setRange!=!1?!0:!1;n.actualRange=n.actualRange?n.actualRange:n.range==null?{}:$.extend(!0,{},n.range);n.visibleRange=n.visibleRange?n.visibleRange:n.range==null?{}:n.range;n.name=n.name?n.name:f.toString();n._isScroll=h.visible&&(h.pointsLength!=null||r.min!=null||r.max!=null)||t.zooming.enableScrollbar&&h.visible&&(n.zoomFactor<1||n.zoomPosition>0);n._pointsLength=h.pointsLength;typeof r.min=="string"&&r.min.indexOf("/Date(")!=-1&&(r.min=new Date(parseInt(r.min.substr(6))));typeof r.max=="string"&&r.max.indexOf("/Date(")!=-1&&(r.max=new Date(parseInt(r.max.substr(6))))}},_drawTitle:function(){var n=this.model.title,t=this.model.margin,o=$(this.svgObject).width(),i=ej.EjSvgRender.utils._measureText(n.text,o-t.left-t.right,n.font),u=this.model.elementSpacing,it=n.text==""||!n.visible?0:i.height+u,t=t,rt=this.model.m_AreaBounds,ut=this.model.AreaType,ft=this.model.legend.position.toLowerCase()=="left"?this.model.LegendViewerBounds.Width/2:this.model.legend.position.toLowerCase()=="right"?-this.model.LegendViewerBounds.Width/2:0,b=t.left+u+this.model.border.width,k=t.right+u+this.model.border.width,e=this.model.titleWrapTextCollection,d,et=parseInt(n.font.size),l=parseInt(n.font.size)*1.2,g=n.enableTrim,f=n.maximumWidth,ot=n.textAlignment.toLowerCase(),a=n.textOverflow.toLowerCase(),v=n.text,nt=n.isReversed,y=g&&(a=="wrap"||a=="wrapandtrim")&&e.length>1?!0:!1,c,p,w,r,s,tt,h;if(f.toString()=="auto"||f.toString()==""?(f=rt.Width*.75,this.model.titleMaxWidth=f):f=parseInt(f),c=i.width>f?!0:!1,g&&c&&a=="trim"&&(v=ej.EjSvgRender.utils._trimText(v,f,n.font),this.model.titleTrim=i=ej.EjSvgRender.utils._measureText(v,o-t.left-t.right,n.font),this.model.trimTooltip=!0),this.model.trimTooltip&&a=="wrap"&&(this.model.trimTooltip=!1),p={width:this.model.trimTooltip&&y||e.length>1?this.model.titleMaxWidth:i.width,height:i.height*(e.length>0?e.length-1:1)},n.text!=""&&n.text!=null){if(d=n.border.color=="transparent"&&n.background=="transparent"?t.top+it/2+u:t.top+l/2+u+et/4,w=(ut!="cartesianaxes"?(o-t.left-t.right)/2+(t.left+ft):b+(o-k)/2)-p.width/2,this.model.title.textAlignment.toLowerCase()=="near"?w=nt?o-k-i.width:b:this.model.title.textAlignment.toLowerCase()=="far"&&(w=nt?b:o-k-p.width),r=$.extend({},ej.EjSvgRender.commonChartEventArgs),r.data={title:v,location:{x:w,y:d},size:i},this._trigger("titleRendering",r),s={id:this.svgObject.id+"_ChartTitleText",x:r.data.location.x,y:r.data.location.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,"text-anchor":"start"},tt={id:this.svgObject.id+"_ChartTitleBorder",x:r.data.location.x-u,y:r.data.location.y-l+l/4,rx:n.border.cornerRadius,ry:n.border.cornerRadius,width:y&&c?this.model.titleMaxWidth+2*u:i.width+2*u,height:y&&c?i.height*e.length:l,fill:n.background,"stroke-width":n.border.width,stroke:n.border.color,opacity:n.border.opacity,"class":"e-titleborder"},this.svgRenderer.drawRect(tt,this.gTitleEle),y&&c)for(h=0;h<e.length;h++)s.id=this.svgObject.id+"_ChartTitleText_"+h,h!=0&&(s.y=s.y+i.height),this.svgRenderer.drawText(s,e[h],this.gTitleEle);else this.svgRenderer.drawText(s,r.data.title,this.gTitleEle);this.model._titleLocation={X:r.data.location.x,Y:r.data.location.y,size:p,_height:i.height};this.svgRenderer.append(this.gTitleEle,this.svgObject);n.subTitle.text!=""&&n.subTitle.text&&n.subTitle.visible&&this._drawSubTitle()}},_getLegendSize:function(n){var r=this.model.legend,t=r.itemStyle,i=ej.EjSvgRender.utils._measureText(n.Text,null,n.Font),u=t.width+10+i.width,f=Math.max(t.height,i.height);return{Width:u,Height:f}},_getYValues:function(n){for(var i=[],r=n.length,t=0;t<r;t++)i.push(n[t].y);return i},_getXValues:function(n){for(var i=[],r=n.length,t=0;t<r;t++)i.push(n[t].xValue);return i},_drawSubTitle:function(){var t=this.model.title,w=t.isReversed,n=t.subTitle,g=$(this.svgObject).width(),a=ej.EjSvgRender.utils._measureText(t.text,g-this.model.margin.left-this.model.margin.right,t.font),i=ej.EjSvgRender.utils._measureText(n.text,g-this.model.margin.left-this.model.margin.right,n.font),e="middle",it,rt=1.2,r=this.model.elementSpacing,at=parseInt(n.font.size),ut=this.model.m_AreaBounds.Width,vt=parseInt(t.font.size)*rt,s=parseInt(n.font.size)*rt,yt=n.text==""||!n.visible?0:i.height+r,ft=n.enableTrim,f=n.maximumWidth,o=t.maximumWidth,nt=n.textOverflow.toLowerCase(),kt=t.textAlignment.toLowerCase(),et=n.textAlignment.toLowerCase(),b=t.text,ot=t.enableTrim,tt=t.textOverflow.toLowerCase(),h=n.text,k,pt=ot&&(tt=="wrap"||tt=="wrapandtrim")?!0:!1,st,v=ft&&(nt=="wrap"||nt=="wrapandtrim")?!0:!1,wt,c,u,lt,l,d;if(o=o.toString()=="auto"||o.toString()==""?ut*.75:parseInt(o),f=f.toString()=="auto"||f.toString()==""?ut*.75:parseInt(f),a=ej.EjSvgRender.utils._measureText(t.text,g-this.model.margin.left-this.model.margin.right,t.font),wt=a.width>o?!0:!1,ft&&i.width>f&&nt=="trim"&&(b=ot&&tt=="trim"?ej.EjSvgRender.utils._trimText(b,o,t.font):b,h=ej.EjSvgRender.utils._trimText(h,f,n.font),a=ej.EjSvgRender.utils._measureText(b,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,t.font),i=ej.EjSvgRender.utils._measureText(h,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,n.font),this.model.subTitleTooltip=!0),st=a.width>o,h!=""&&h!=null){it=this.model.title.border.color=="transparent"&&this.model.title.background=="transparent"||this.model.title.subTitle.border.color=="transparent"&&this.model.title.subTitle.background=="transparent"?yt/2+r+this.model._titleLocation.Y+this.model._titleLocation._height*(this.model.titleWrapTextCollection?this.model.titleWrapTextCollection.length-1:0):s/2+10+r+(pt&&st?a.height*this.model.titleWrapTextCollection.length:vt)+10+at/3;c=this.model._titleLocation.X+this.model._titleLocation.size.width/2;et=="near"?(c=k=w?this.model._titleLocation.X+this.model._titleLocation.size.width:this.model._titleLocation.X,e=w?"end":"start"):et=="far"&&(c=w?this.model._titleLocation.X:this.model._titleLocation.X+this.model._titleLocation.size.width,e=w?"start":"end");u=$.extend({},ej.EjSvgRender.commonChartEventArgs);u.data={subTitle:h,location:{x:c,y:it},size:i};this._trigger("subTitleRendering",u);var bt=t.border.color=="transparent"&&t.background=="transparent"||t.subTitle.border.color=="transparent"&&t.subTitle.background=="transparent"?u.data.location.y:u.data.location.y-r/2,y={id:this.svgObject.id+"_ChartSubTitleText",x:u.data.location.x,y:bt,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,"text-anchor":e},ht,ct,p=u.data.location.x;if(ht=e=="start"?p-r:e=="end"?v?p-r-this.model.subTitleMaxWidth:p-r-i.width:v?p-r-this.model.subTitleMaxWidth/2:p-r-i.width/2,ct=t.border.color=="transparent"&&t.background=="transparent"||n.border.color=="transparent"&&n.background=="transparent"?u.data.location.y-s+s/4:u.data.location.y-s+s/4-r/2,lt={id:this.svgObject.id+"_ChartSubTitleBorder",x:ht,y:ct,rx:n.border.cornerRadius,ry:n.border.cornerRadius,width:v?this.model.subTitleMaxWidth+2*r:i.width+2*r,height:v?i.height*this.model.subTitleWrapTextCollection.length:s,fill:n.background,"stroke-width":n.border.width,stroke:n.border.color,opacity:n.border.opacity,"class":"e-subtitleborder"},this.svgRenderer.drawRect(lt,this.gSubTitleEle),v&&i.width>f)for(l=0;l<this.model.subTitleWrapTextCollection.length;l++)y.id=this.svgObject.id+"_ChartSubTitleText_"+l,l!=0&&(y.y=y.y+i.height),this.svgRenderer.drawText(y,this.model.subTitleWrapTextCollection[l],this.gSubTitleEle);else this.svgRenderer.drawText(y,u.data.subTitle,this.gSubTitleEle);d={width:this.model.subTitleTooltip?f:i.width,height:i.height*this.model.subTitleWrapTextCollection.length};e=="middle"?k=c-d.width/2:e=="end"&&(k=c-d.width);this.model._subTitleLocation={X:k,Y:u.data.location.y-i.height/2,size:d};this.svgRenderer.append(this.gSubTitleEle,this.gTitleEle)}},_calculateStackingValues:function(n,t,i){var p=this.model,c,w,h,r;p.stackedValue[t.name]=[];c=p.stackedValue[t.name];c.min=0;c.max=0;var d=p.requireInvertedAxes?p.vAxes:p.hAxes,ut=d.length,nt,tt,u,ft=n.length,g,s,v,f,l,a,k=ej.util.isNullOrUndefined;for(w=0;w<ut;w++){r=0;var s=[],v=[],y=[],b=[],o=0,e,it;for(h=0;h<n.length;h++)if(n[h]._xAxisName==d[w].name&&(n[h].type.toLowerCase().indexOf("stacking")!=-1||n[h].isStacking)){for(f={},f.StartValues=[],f.EndValues=[],u=n[h].stackingGroup,u&&n[h].type.toLowerCase()!="stackingarea"?k(s[u])&&(s[u]=[],v[u]=[],y[u]=[],b[u]=[]):(u="",k(s[u])&&(s[u]=[],v[u]=[],y[u]=[],b[u]=[])),e=n[h],o=this._getXCrossValue(e,d[w],i),typeof o!="number"&&(o=0),g=ej.EjSeriesRender.prototype._isVisiblePoints(e),tt=this._getYValues(e._visiblePoints),nt=g.length,r=0;r<nt;r++){var l=0,rt=0,a=tt[r];k(s[u][e._visiblePoints[r].xValue])&&(s[u][e._visiblePoints[r].xValue]=o);k(v[u][e._visiblePoints[r].xValue])&&(v[u][e._visiblePoints[r].xValue]=o);f.StartValues.length<=r&&(f.StartValues.push(0),f.EndValues.push(0));a>=0?(y[u][r]=y[u][r]==null,a-=y[u][r]&&o,l=e.type.toLowerCase().indexOf("stacking")!=-1||a>0?s[u][e._visiblePoints[r].xValue]:0,s[u][e._visiblePoints[r].xValue]+=a,rt=l<o?o-l:0,f.StartValues[r]=l+rt,f.EndValues[r]=a+l):(b[u][r]=b[u][r]==null,a-=b[u][r]&&o,l=v[u][e._visiblePoints[r].xValue],v[u][e._visiblePoints[r].xValue]+=a,f.StartValues[r]=l,f.EndValues[r]=a+l,o<f.EndValues[r]&&(v[u][e._visiblePoints[r].xValue]=f.StartValues[r],s[u][e._visiblePoints[r].xValue]=f.EndValues[r],y[u][r]=y[u][r]==null));it=g[r].actualIndex;e.points[it].YValues=[f.EndValues[r]]}f.stackedSeries=!0;c.push(f);c.min>Math.min.apply(0,f.StartValues)&&(c.min=Math.min.apply(0,f.StartValues));c.max<Math.max.apply(0,f.EndValues)&&(c.max=Math.max.apply(0,f.EndValues));e.stackedValue=f}}},_calculateStackingCumulativeValues:function(n,t,i){var l,st,et,f,d,e,o,y,k,u,g,nt,h,tt,it;this.model.stackedValue[t.name]=[];this.model.stackedValue[t.name].min=0;this.model.stackedValue[t.name].max=0;var b=this.model.requireInvertedAxes?this.model.vAxes:this.model.hAxes,ut=n.length,ot=b.length,rt;for(l=0;l<ot;l++){var c=[],a=[],v=[],r=" ",p=[],w=[],s=0,ft=[];for(f=0;f<ut;f++)if(st=ej.EjSeriesRender.prototype._isVisiblePoints(n[f]),r=n[f].stackingGroup,n[f].type.toLowerCase().indexOf("100")!=-1&&n[f]._xAxisName==b[l].name)for(n[f].stackingGroup&&n[f].type.toLowerCase()!=" stackingarea100 "?c[r]||(v[r]=[],c[r]=[],a[r]=[],p[r]=[],w[r]=[]):(n[f].stackingGroup="",r=n[f].stackingGroup,c[r]||(v[r]=[],c[r]=[],a[r]=[],p[r]=[],w[r]=[])),ft[r]=f,y=this._getYValues(n[f]._visiblePoints),k=y.length,u=0;u<k;u++)et=y[u],v[r][n[f].points[u].xValue]||(v[r][n[f].points[u].xValue]=0),v[r][n[f].points[u].xValue]+=Math.abs(et);for(f=0;f<ut;f++)if(r=n[f].stackingGroup,n[f].type.toLowerCase().indexOf("100")!=-1&&(d=!1,n[f]._xAxisName==b[l].name)){for(e={},e.StartValues=[],e.EndValues=[],o=n[f],s=this._getXCrossValue(o,b[l],i),typeof s!="number"&&(s=0),y=this._getYValues(o._visiblePoints),k=y.length,u=0;u<k;u++)nt=0,h=y[u],rt=h/v[r][o.points[u].xValue]*100,h=isNaN(rt)?0:rt,o.points[u].percentage=h.toFixed(2),c[r][o.points[u].xValue]||(c[r][o.points[u].xValue]=s),a[r][o.points[u].xValue]||(a[r][o.points[u].xValue]=s),e.StartValues.length<=u&&(e.StartValues.push(0),e.EndValues.push(0)),h>=0?(tt=c[r][o.points[u].xValue],p[r][u]=p[r][u]==null,h-=p[r][u]&&s,nt=tt<s?s-tt:0,g=tt,c[r][o.points[u].xValue]+=h):(it=a[r][o.points[u].xValue],w[r][u]=w[r][u]==null,h-=w[r][u]&&s,nt=it>s?s-it:0,g=it,a[r][o.points[u].xValue]+=h),e.StartValues[u]=g+nt,e.EndValues[u]=g+h,e.EndValues[u]>100&&(e.EndValues[u]=100),o.points[u].YValues=[e.EndValues[u]],d=ft[r]==f?!1||d:!0;e.stackedSeries=d;this.model.stackedValue[t.name].push(e);this.model.stackedValue[t.name].min>Math.min.apply(0,e.StartValues)&&(this.model.stackedValue[t.name].min=Math.min.apply(0,e.StartValues));this.model.stackedValue[t.name].max<Math.max.apply(0,e.EndValues)&&(this.model.stackedValue[t.name].max=Math.max.apply(0,e.EndValues));this.model.stackedValue[t.name].min>Math.min.apply(0,e.EndValues)&&(this.model.stackedValue[t.name].min=-100);o.stackedValue=e}}},_legendItemBounds:function(n,t,i){var r=this.model.legend,s,h=r.position.toLowerCase(),c=r.itemPadding,u,e,o=0,f=0;return ej.util.isNullOrUndefined(r.columnCount)&&r.rowCount?(u=r.rowCount,e=Math.ceil(n/u),o=t*e,f=i*u):ej.util.isNullOrUndefined(r.rowCount)&&r.columnCount?(u=Math.ceil(n/r.columnCount),s=r.columnCount,o=t*s,f=i*u):r.rowCount&&r.columnCount&&(r.columnCount<r.rowCount?(u=r.rowCount,e=Math.ceil(n/u),o=t*e,f=i*u):r.columnCount>r.rowCount?h==="top"||h==="bottom"||h==="custom"?(u=Math.ceil(n/r.columnCount),s=r.columnCount,o=t*s,f=i*u):(u=Math.ceil(n/r.columnCount),e=Math.ceil(n/u),o=t*e,f=i*u):h==="top"||h==="bottom"||h==="custom"?(u=Math.ceil(n/r.columnCount),s=Math.ceil(n/r.rowCount),o=t*r.columnCount,f=i*s):(u=r.rowCount,e=Math.ceil(n/u),o=t*e,f=i*u)),f+=this.model.elementSpacing,{LegendWidth:o,LegendHeight:f}},_isEjScroller:function(){var n=this,i=n.model,r=$(n.legendContainer),t=i.legend;t._ejScroller=ej.util.isNullOrUndefined($("#"+r[0].id).ejScroller)?!1:t.enableScrollbar},_rowsCalculation:function(n,t,i){for(var v=this,y=v.model,w=y.legend,r,o=[],f,l,p=n.legendItem?n.legendItem.Text.toString():n.text,s=p.split(" "),h=t,c=n.legendItem?n.legendItem.LegendStyle.Font:n.font,a=s.length,e=0,u=0;u<a;u++)if(r=s[u],f=ej.EjSvgRender.utils._measureText(r,null,c).width,f<=h){while(u<a)if(f=ej.EjSvgRender.utils._measureText(r,null,c).width,l=s[u+1]?ej.EjSvgRender.utils._measureText(s[u+1],null,c).width:0,f+l<=h&&l>0)r=r.concat(" "+s[u+1]),u++;else{e=Math.max(e,f);break}o.push(r)}else i=="wrapandtrim"?(r=ej.EjSvgRender.utils._trimText(r,h,c),o.push(r),this.model._legendMaxWidth=h,e=Math.max(e,h),n.legendItem||(this.model.trimTooltip=!0)):(o.push(r),n.legendItem?this.model._legendMaxWidth=Math.max(this.model._legendMaxWidth,f):e=Math.max(e,f));return this.model._legendMaxHeight=Math.max(this.model._legendMaxHeight,o.length),{textCollection:o,wordMax:e}},_triggerLegendEvent:function(n,t,i){var r=this,e=r.model,f=e.legend,l=e.AreaType,a=f.itemStyle,v=a.border,b=e.elementSpacing,s=f.textWidth,k=ej.EjSvgRender,d=r.svgRenderer,y=e._visibleSeries.length,g=r.svgObject,nt=e.enableCanvasRendering,b=e.elementSpacing,h=f.textOverflow.toLowerCase(),o,c,p,u,w={BorderColor:v.color,BorderWidth:v.width,Opacity:f.opacity,Color:t,Font:$.extend(!0,{},f.font)};return u=$.extend({},k.commonChartEventArgs),u.data={svgRenderer:d,svgObject:g,symbolShape:f.shape,legendItem:{Text:n,Shape:f.shape,LegendStyle:w,SeriesIndex:l=="none"&&y==1?0:i},style:{ShapeSize:a,ElementSpace:b,Style:w,ID:r.svgObject.id+"_LegendItemShape"+i,SeriesIndex:l=="none"&&y==1?0:i},gLegendItemEle:r.gLegendItemEle},nt&&(u.data.style.context=!0),r._trigger("legendItemRendering",u),o=u.data.legendItem.Text,c=u.data.legendItem.LegendStyle.Font,p=ej.EjSvgRender.utils._measureText(o,null,c).width,h=="trim"?p>s&&(o=ej.EjSvgRender.utils._trimText(o,s,c),r.model._legendMaxWidth=s):(h=="wrap"||h=="wrapandtrim")&&(o=r._rowsCalculation(u.data,s,this.model.legend.textOverflow.toLowerCase()).textCollection),{commonEventArgs:u,legendItem:o}},_calculateLegendBounds:function(){var pt,i,ft;this.model.legendCollection=[];this.model.legendTextRegion=[];this.model.legendRegion=[];this.model.svgHeight=$(this.svgObject).height();this.model.svgWidth=$(this.svgObject).width();this.model._legendMaxWidth=0;this.model._legendMaxHeight=0;var k=this,n=k.model,ii=Math,c=ii.max,li=ii.min,ht=ii.abs,t=n.legend,w=10,d=t.size.height,g=t.size.width,et=t.isReversed,e=t.itemPadding>0?t.itemPadding:0,r=t.position.toLowerCase(),l=0,a=0,wt=n.svgHeight,bt=n.svgWidth,nt=0,tt=0,o=0,p=0,ri=1,s,ai,ui,fi,vi,yi,ct={},b=[],pi,ei,ot,i,oi,tr=n.AreaType,st=n._visibleSeries,si=t.rowCount,it,hi=t.columnCount,kt=n.elementSpacing,dt,v,lt,at,vt,ci,u,wi,gt=ej.EjSvgRender.utils._measureText(t.title.text,null,t.title.font),h,bi,ki,rt=0,ut=0,di=n.border.width,yt=t.border.width,ni,f,y,gi,ti=t.textOverflow.toLowerCase(),nr=wt-(kt*4+di*2+t.border.width*2),ir=bt-(kt*4+di*2+yt*2);if(st&&t.visible&&st.length!=0){if(ni=st[0].type.toLowerCase(),tr=="none"&&st.length==1||ni=="pieofpie"||ni=="pyramid"||ni=="funnel")for(v=st[0],dt=ej.EjSeriesRender.prototype._calculateVisiblePoints(v).legendPoints,lt=dt.length,i=et&&(r=="top"||r=="bottom")?lt-1:0;et&&(r=="top"||r=="bottom")?i>=0:i<lt;et&&(r=="top"||r=="bottom")?i--:i++)at=t.fill?t.fill._gradientStop?t.fill._gradientStop:t.fill:n.pointColors[dt[i].actualIndex],it=dt[i],vt=ej.util.isNullOrUndefined(it.x)?"series"+i:it.x,ki=it.visibleOnLegend?it.visibleOnLegend:"visible",it.isEmpty||ki.toLowerCase()!="visible"||v.visibleOnLegend.toLowerCase()!="visible"||(f=this._triggerLegendEvent(vt,at,i),y=f.commonEventArgs.data.legendItem.LegendStyle,ct={Text:f.legendItem,displayText:f.commonEventArgs.data.legendItem.Text,Font:y.Font,SeriesIndex:0,PointIndex:i,ActualIndex:it.actualIndex,fill:y.Color,visibility:it.visible!==!1?"visible":"hidden",Shape:f.commonEventArgs.data.legendItem.Shape,LegendStyle:y,CommonEventArgs:{cancel:f.commonEventArgs.cancel,data:f.commonEventArgs.data}},b.push(ct));else for(lt=st.length,i=et&&(r=="top"||r=="bottom")?lt-1:0;et&&(r=="top"||r=="bottom")?i>=0:i<lt;et&&(r=="top"||r=="bottom")?i--:i++)for(at=t.fill?t.fill._gradientStop?t.fill._gradientStop:t.fill:ej.util.isNullOrUndefined(n.seriesColors[i])?n.pointColors[i]:n.seriesColors[i],v=st[i],vt=v.name?v.name:"series"+i,v.visibleOnLegend.toLowerCase()=="visible"&&(f=this._triggerLegendEvent(vt,at,i),y=f.commonEventArgs.data.legendItem.LegendStyle,ct={Text:f.legendItem,displayText:f.commonEventArgs.data.legendItem.Text,Font:y.Font,SeriesIndex:i,fill:y.Color,visibility:v.visibility,Shape:f.commonEventArgs.data.legendItem.Shape,LegendStyle:y,CommonEventArgs:{cancel:f.commonEventArgs.cancel,data:f.commonEventArgs.data}},b.push(ct)),ei=v.trendlines,pi=ei.length,pt=0;pt<pi;pt++)ot=ei[pt],at=t.fill?t.fill._gradientStop?t.fill._gradientStop:t.fill:ot.fill,vt=ot.name?ot.name:"series"+i,ot.visibility!=""&&ot.visibleOnLegend.toLowerCase()=="visible"&&(f=this._triggerLegendEvent(vt,at,i),y=f.commonEventArgs.data.legendItem.LegendStyle,ct={Text:f.legendItem,displayText:f.commonEventArgs.data.legendItem.Text,Font:y.Font,SeriesIndex:i,trendLineIndex:pt,fill:y.Color,isTrendLine:!0,visibility:v.visibility.toLowerCase()=="visible"?ot.visibility:"hidden",Shape:f.commonEventArgs.data.legendItem.Shape,LegendStyle:y,CommonEventArgs:{cancel:f.commonEventArgs.cancel,data:f.commonEventArgs.data}},b.push(ct));for(ci=b.length,i=0;i<ci;i++)s=b[i],gi=s.CommonEventArgs.data.style.ShapeSize.width,h=k._getLegendSize(s),nt=c(this.model._legendMaxWidth>0?this.model._legendMaxWidth+e+gi:h.Width,nt),tt=c(ti=="wrap"||ti=="wrapandtrim"?h.Height*this.model._legendMaxHeight:h.Height,tt);for(p=tt+kt*2,o=nt,(hi||si)&&(fi=k._legendItemBounds(b.length,nt+e,tt+e),o=fi.LegendWidth,p=fi.LegendHeight,r==="top"||r==="bottom"||r==="custom"?p=p-e+kt:o=o-e),ft=0;ft<ci;ft++)s=b[ft],ai=s.SeriesIndex,v=n.series[ai],h=k._getLegendSize(s),(ti=="wrap"||ti=="wrapandtrim")&&(h.Width=nt,h.Height=tt),si||hi||(r=="top"||r=="bottom"||r=="custom"?(l+=h.Width+e,l>ir&&ft!=0?(l-=h.Width+e,o=c(o,l),l=h.Width+e,ri++,p+=tt+e):o=c(o,l),a=c(a,tt)):(a+=h.Height+e,a>nr?(a-=h.Height+e,p=c(p,a),a=h.Height+e,o+=nt+e):p=c(p,a),l=c(l,nt))),bi=s.visibility.toLowerCase()=="visible"?k.svgRenderer.createGradientElement("legend"+ft,b[ft].fill,0,0,0,nr,k.gLegendEle):"gray",s.CommonEventArgs.data.legendItem.LegendStyle.Color=bi,ui=si||hi?{Width:nt,Height:tt}:h,ui._Width=h.Width,s.isTrendLine&&(s.TrendLineIndex=s.trendLineIndex,oi=v.trendlines[s.trendLineIndex].type.toLowerCase(),s.CommonEventArgs.data.legendItem.drawType=s.drawType=oi=="linear"||oi=="movingaverage"?"line":"spline"),b[ft].Bounds=ui,n.legendCollection.push(s);r==="top"||r==="bottom"||r==="custom"?(o=gt.width>o-e?gt.width+w*2+e:o+w*2,l+=w,a+=w*2,n.LegendBounds={Width:c(o,l)-e,Height:c(p,a),Rows:ri}):(o=gt.width>o?gt.width+w*2:o+w*2,l+=w,a+=w,n.LegendBounds={Width:c(o,l),Height:c(p,a)+w-e,Columns:ri});n.LegendViewerBounds={Width:"0",Height:"0"};d==""||d==null?(vi=r=="left"||r=="right"||r=="custom"?ht(wt):ht(wt/100*parseInt("20%")),n.LegendViewerBounds.Height=li(vi,n.LegendBounds.Height)):n.LegendViewerBounds.Height=d.indexOf("%")!=-1?ht(wt/100*parseInt(d)):parseInt(d);g==""||g==null?(yi=r=="top"||r=="bottom"||r=="custom"?ht(bt):ht(bt/100*parseInt("20%")),n.LegendViewerBounds.Width=li(yi,n.LegendBounds.Width)):n.LegendViewerBounds.Width=g.indexOf("%")!=-1?ht(bt/100*parseInt(g)):parseInt(g)}else n.LegendBounds={Width:0,Height:0},n.LegendViewerBounds={Width:0,Height:0};u=$(k.legendContainer);wi=$(k.legendSvgContainer);t.enableScrollbar?(n.LegendActualBounds=n.LegendViewerBounds,u.removeAttr("style"),u.css({visibility:"hidden",width:n.LegendViewerBounds.Width,height:n.LegendViewerBounds.Height}),wi.css({height:n.LegendBounds.Height,width:n.LegendBounds.Width}),t._ejScroller?(t._ejScroller&&et&&u.addClass("e-rtl"),$("#"+u[0].id).ejScroller({width:n.LegendViewerBounds.Width,height:n.LegendViewerBounds.Height})):(u.css({overflow:"scroll"}),u.hasClass("e-rtl")&&u.removeClass("e-rtl")),n.LegendBounds.Width>n.LegendViewerBounds.Width&&n.LegendBounds.Height>n.LegendViewerBounds.Height?t._ejScroller?(ut=$(".e-hscrollbar").height()||0,rt=$(".e-vscrollbar").width()||0):(u.css({overflow:"scroll"}),ut=u[0].offsetHeight-yt*2-u[0].clientHeight,rt=u[0].offsetWidth-yt*2-u[0].clientWidth):n.LegendBounds.Width>n.LegendViewerBounds.Width?t._ejScroller?(ut=$(".e-hscrollbar").height()||0,rt=0):(u[0].style.overflowX="scroll",u[0].style.overflowY="hidden",ut=u[0].offsetHeight-yt*2-u[0].clientHeight,rt=0):n.LegendBounds.Height>n.LegendViewerBounds.Height&&(t._ejScroller?(ut=0,rt=$(".e-vscrollbar").width()):(u[0].style.overflowY="scroll",u[0].style.overflowX="hidden",ut=0,rt=u[0].offsetWidth-yt*2-u[0].clientWidth))):(n.LegendActualBounds=n.LegendBounds,g!=""&&g!=null&&(n.LegendActualBounds.Width=parseInt(g)),d!=""&&d!=null&&(n.LegendActualBounds.Height=parseInt(d)));n.LegendActualBounds.Height+=Math.abs(ut);n.LegendActualBounds.Width+=Math.abs(rt);n.LegendActualBounds.hScrollSize=ut;n.LegendActualBounds.vScrollSize=rt},GetPointXYOrgin:function(n,t,i,r){var u=(n-i)/(this.model.axes.PrimaryXaxis.visibleRange.max-i)*this.model.m_AreaBounds.Width,f=(t-r)/(this.model.axes.PrimaryYaxis.visibleRange.max-r)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y);return{X:u,Y:f}},_wrap:function(n,t,i,r,u,f){var s=i,a=f.width,c=[],b=[],nt=s.length,k=0,e=0,l=i.split(" "),d=l.length,g,h,p,v,o,y,w;if(r=="wrap"){if(a>t)for(h=1;h<=s.length;h++)i=s.substring(0,h),a=ej.EjSvgRender.utils._measureText(i,null,u).width,a>t&&(k=k+1,i=s.substring(0,h-1),c[e]=i,s=s.slice(h-1,nt),g=s.split(" "),s=l.indexOf(g[0])>-1?s:"-"+s,p=ej.EjSvgRender.utils._measureText(i,null,u).width,e++,h=0);c[e]=i}else if(r=="wrapandtrim")for(v=0,e=0;e<d;e++)if(o=l[e],y=ej.EjSvgRender.utils._measureText(o,null,u).width,y<t&&a>t){while(e<d)if(y=ej.EjSvgRender.utils._measureText(o,null,u).width,w=l[e+1]?ej.EjSvgRender.utils._measureText(l[e+1],null,u).width:0,y+w<=t&&w>0)o=o.concat(" "+l[e+1]),e++;else{v=Math.max(v,y);break}c.push(o)}else if(a>t)b.push(o),o=ej.EjSvgRender.utils._trimText(o,t,u),p=ej.EjSvgRender.utils._measureText(o,null,u).width,v=Math.max(v,p),c.push(o);else{c.push(i);break}return{text:c,unTrimmedText:b}},getMultiLevelLabelSize:function(n){var e=0,r,i;n._multiLevelLabelHeight=0;for(var u=[],f=[],k=[],it=n.multiLevelLabels.length,d=n.visibleRange,t,c,g,nt,l,a,o,h=10,v,w,s,y,b=n.orientation.toLowerCase(),tt=[],p=b=="vertical"?n.length:n.width?n.width:this.model.primaryYAxis.AxisMaxWidth?n.length-this.model.primaryYAxis.AxisMaxWidth:n.length,i=0;i<it;i++)t=n.multiLevelLabels[i]=u[i]=$.extend(!0,{},this.model.multiLevelLabelsDefault,n.multiLevelLabels[i]),w=t.border.type.toLowerCase(),c=t.level,!t.visible||t.text==""||ej.util.isNullOrUndefined(t.start)||ej.util.isNullOrUndefined(t.end)||(g=Math.ceil(ej.EjSvgRender.utils._getPointXY(t.start,d,n.isInversed)*p),nt=Math.ceil(ej.EjSvgRender.utils._getPointXY(t.end,d,n.isInversed)*p),l=ej.EjSvgRender.utils._measureText(t.text,null,t.font),y=t.textOverflow.toLowerCase(),a=ej.util.isNullOrUndefined(t.maximumTextWidth)?nt-g:t.maximumTextWidth,o=b=="vertical"?t.maximumTextWidth?t.maximumTextWidth:l.width:l.height,o+=2*t.border.width,l.width>a-h&&(y=="wrap"||y=="wrapandtrim")&&(v=this._wrap(n,a-h,t.text,y,t.font,l),v=v.text,o=b=="vertical"?a-h:o*v.length),f[c]=ej.util.isNullOrUndefined(f[c])?o:f[c]<o?o:f[c]);for(u.sort(function(n,t){return parseFloat(n.level)-parseFloat(t.level)}),n.multiLevelLabels.sort(function(n,t){return parseFloat(n.level)-parseFloat(t.level)}),r=0;r<u.length;r++)r==0?(n.multiLevelLabels[r]._level=u[r]._level=0,s=0):u[r].level>s+1?(n.multiLevelLabels[r]._level=u[r]._level=s+1,s=u[r]._level):(n.multiLevelLabels[r]._level=u[r]._level=u[r].level,s=u[r].level>s?u[r].level:s),w=="curlybrace"&&(tt[n.multiLevelLabels[r]._level]=!0);for(i=0;i<f.length;i++)k[i]=e,ej.util.isNullOrUndefined(f[i])?(f.splice(i,1),i--):(e=w=="brace"?e+f[i]:e+f[i]+h/2,tt[i]&&(e+=h,f[i]+=h));return n._multiLevelLabelHeight=e,n.multiLevelLabelHeight=f,n.prevHeight=k,e},_saturationColor:function(n,t){n=this.colorNameToHex(n);n=String(n).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);t=t||0;for(var u="#",i,r=0;r<3;r++)i=parseInt(n.substr(r*2,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),u+=("00"+i).substr(i.length);return u},_drawChartAreaRect:function(){var t=(this.model.background&&this.model.background._gradientStop)?"url(#"+this.svgObject.id+"_backGradient)":this.model.background,n,i,r;this.model.backGroundImageUrl&&(t="transparent");n=this.model.border;i={id:this.svgObject.id+"_SvgRect",x:n.width/2,y:n.width/2,width:$(this.svgObject).width()-2*n.width,height:$(this.svgObject).height()-2*n.width,fill:t,opacity:n.opacity,"stroke-width":n.width,stroke:n.color,"class":"e-chartborder"};this.svgRenderer.drawRect(i,this.svgObject);this.model.backGroundImageUrl&&this._drawBackImage();this.model.AreaType!="cartesianaxes"||this.model.enable3D||(r={id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:this.model.chartArea.background,"stroke-width":this.model.chartArea.border.width,opacity:this.model.chartArea.border.opacity,stroke:this.model.chartArea.border.color,"class":"e-chartareaborder"},this.svgRenderer.drawRect(r,this.svgObject))},axesIndexCount:function(n,t){for(var i,r=[],u=0;u<n.length;u++)i=n[u],i.orientation.toLowerCase()=="vertical"?i.rowIndex==t&&r.push(i):i.columnIndex==t&&r.push(i);return r},axesCount:function(n){var t=[],o=[],i=0,u=this.model,r,f,e;if($.each(n,function(n,r){r.orientation.toLowerCase()=="vertical"?(i=u.rowDefinitions?u.rowDefinitions.length:0,n==0?t.push({axis:r,index:r.rowIndex}):r.rowIndex!=t[t.length-1].axis.rowIndex&&t.push({axis:r,index:r.rowIndex})):(i=u.columnDefinitions?u.columnDefinitions.length:0,n==0?t.push({axis:r,index:r.columnIndex}):r.columnIndex!=t[t.length-1].axis.columnIndex&&t.push({axis:r,index:r.columnIndex}))}),r=t.length,i>r)for(r=i,f=0;f<i;f++)o.push(f);else for(e=0;e<r;e++)o.push(t[e].index);return{length:r,indexValue:o}},_calRowSize:function(){var t=0,u=[],e=0,f=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,i,o,n,r,s,h;if(this.model._rowDefinitions[0].rowDefinitions!=null)for(i=0,o=this.model._rowDefinitions.length;i<o;i++)n=this.model._rowDefinitions[i].rowDefinitions,n.rowHeight=Math.abs(n.rowHeight),r=0,n.unit.toLowerCase()=="percentage"?(s=this._axisRowDefinitionSize(this.model.rowDefinitions),r=Math.floor(this.model.m_AreaBounds.Height*(n.rowHeight/s))):r=n.rowHeight,i==0&&u.push(f),u.push(f-r-e),e+=r;else for(h=Math.floor(this.model.m_AreaBounds.Height/this.model._rowDefinitions.length),t=f;t>=this.model.m_AreaBounds.Y;t=t-h)u.push(t);return u},_calColumnSize:function(){var r=[],u=this.model.m_AreaBounds.X,o=this.model.m_AreaBounds.Width,s=0,f=this.model._columnDefinitions,t,h,n,e,c,l,i,a;if(f[0].columnDefinitions!=null)for(t=0,h=f.length;t<h;t++)n=f[t].columnDefinitions,n.columnWidth=Math.abs(n.columnWidth),n.unit.toLowerCase()=="percentage"?(c=this._axisColumnDefinitionSize(this.model.columnDefinitions),e=Math.floor(o*(n.columnWidth/c))):e=n.columnWidth,t==0&&r.push(u),r.push(u+e+s),s+=e;else for(l=Math.floor(o/f.length),i=u,a=u+o;i<=a;i=i+l)r.push(i);return r},_calculateAxisSize:function(n){for(var lt,at,a,o,rt,f,yt,pt,e=!0,u=!0,v=this._calColumnSize(),s=this.model._columnDefinitions,t=0,ct=s.length;t<ct;t++){var wt=v[t],g=v[t+1],y=0,p=0,nt=!0,tt=!0,w=this.model.m_AreaBounds.Y,it=w+this.model.m_AreaBounds.Height;for(f=0,lt=s[t].axis.length;f<lt;f++){var i=s[t].axis[f],h=0,b=0,c=i._opposed;if(n.axes[i.name]._validCross||(c?tt&&(u||p==0)?(h=w,tt=!1):(b=s.farSizes[p],h=w=w-b,p++):nt&&(e||y==0)?(h=it,nt=!1):(b=s.nearSizes[y],h=it=it+b,y++)),i.columnSpan){if(!(s[t].index==i.columnIndex))continue;at=ct>=t+i.columnSpan?t+i.columnSpan:t+1;g=v[at];c||y!=0||(e=nt);c&&p==0&&(u=tt)}else g=v[t+1],e=!0,u=!0;i.Location={};i.Location.X1=wt+i.plotOffset;i.Location.Y1=h;i.Location.X2=g-i.plotOffset;i.Location.Y2=h;i.x=i.Location.X1;i.y=i.Location.Y1;i.width=i.Location.X2-i.Location.X1;i.height=i.Location.Y2-i.Location.Y1}}for(e=!0,u=!0,a=this._calRowSize(),o=this.model._rowDefinitions,t=0,rt=o.length;t<rt;t++){var bt=a[t],ut=a[t+1],k=0,ft=0,et=!0,ot=!0,st=this.model.m_AreaBounds.X,vt=st,ht=st+this.model.m_AreaBounds.Width;for(f=0,yt=o[t].axis.length;f<yt;f++){var d=0,l=0,r=o[t].axis[f],c=r._opposed;if(n.axes[r.name]._validCross||(c?ot&&(u||u==0)?(l=ht,ot=!1):(d=o.farSizes[ft],l=ht=ht+d,ft++):et&&(e||k==0)?(l=st,et=!1):(d=o.nearSizes[k],l=vt=vt-d,k++)),r.rowSpan){if(!(o[t].index==r.rowIndex))continue;pt=rt>=t+r.rowSpan?t+r.rowSpan:t+1;ut=a[pt];c||k!=0||(e=et);c&&ft==0&&(u=ot)}else ut=a[t+1],e=!0,u=!0;r.Location={};r.Location.X1=l;r.Location.Y1=bt-r.plotOffset;r.Location.X2=l;r.Location.Y2=ut+r.plotOffset;r.x=r.Location.X1;r.y=r.Location.Y2;r.height=r.Location.Y1-r.Location.Y2;r.width=r.axisLine.width}}},_validateCrossing:function(n){if(n._opposedPosition=!1,n.crossesAt!=null){var t=this._getCrossAxis(this.model._axes,n.orientation.toLowerCase()=="horizontal",n.crossesInAxis);return n._crossValue=this._getCrossValue(n,t,t._valueType),((t.isInversed?!n.opposedPosition:n.opposedPosition)?n._crossValue<=t.visibleRange.min:n._crossValue>=t.visibleRange.max)&&(n._opposedPosition=!0),t.visibleRange.min<n._crossValue&&t.visibleRange.max>n._crossValue}return!1},_axisCrossing:function(n,t,i){var u=n.orientation.toLowerCase()=="horizontal",r=this._getCrossAxis(this.model._axes,u,n.crossesInAxis),f=n._crossValue,e=Math.abs((r.isInversed?r.visibleRange.max:r.visibleRange.min)-f);this._locateAxis(n,r,u,e);t||(i._crossAxisOverlap=this._avoidOverlapping(n,this.model.m_AreaBounds,u,n.opposedPosition,i)||i._crossAxisOverlap)},_locateAxis:function(n,t,i,r){var u=(i?t.height:t.width)*r/t.visibleRange.delta;i?n.y=t.y+t.height-u:n.x=t.x+u},_avoidOverlapping:function(n,t,i,r,u){var f=0,e=n.showNextToAxisLine?u.axes[n.name]._bounds:0;if(i){if(!r&&n.y+e>t.Y+t.Height)return t.Height-=f=n.y+e-t.Y-t.Height,this._recalculateSpace(n,i,r,f),!0;if(r&&n.y-e<t.Y)return t.Y+=f=e-(n.y-t.Y),t.Height-=f,this._recalculateSpace(n,i,r,f),!0}else{if(!r&&n.x-e<t.X)return t.X+=f=e-(n.x-t.X),t.Width-=f,this._recalculateSpace(n,i,r,f),!0;if(r&&n.x+e>t.X+t.Width)return t.Width-=f=n.x+e-t.X-t.Width,this._recalculateSpace(n,i,r,f),!0;if(n.labelPosition=="inside"&&n.x+e>t.X+t.Width)return t.Width-=f=n.x+e-t.X-t.Width,this._recalculateSpace(n,i,r,f,n.showNextToAxisLine),!0}},_recalculateSpace:function(n,t,i,r,u){var l,e,s,a,f,h,o,c;if(t){for(e=this.model._rowDefinitions,s=i?e.length-1:0,f=0,h=e[s].axis.length;f<h;f++)e[s].axis[f].height-=r,e[s].axis[f].Location.Y2-=r,i&&(e[s].axis[f].Location.Y1=e[s].axis[f].y+=r);for(l=n.columnIndex,e=this.model._columnDefinitions,f=0,h=e.length;f<h;f++)if(f!==l)for(o=0,c=e[f].axis.length;o<c;o++)e[f].axis[o]._opposed===i&&(e[f].axis[o].Location.Y1=e[f].axis[o].Location.Y2=e[f].axis[o].y+=(i?1:-1)*r)}else{for(e=this.model._columnDefinitions,s=i?e.length-1:0,f=0,h=e[s].axis.length;f<h;f++)e[s].axis[f].width-=r,u||(i?e[s].axis[f].Location.X2-=r:e[s].axis[f].Location.X1=e[s].axis[f].x+=r);for(a=n.rowIndex,e=this.model._rowDefinitions,f=0,h=e.length;f<h;f++)if(f!==a)for(o=0,c=e[f].axis.length;o<c;o++)e[f].axis[o]._opposed===i&&(e[f].axis[o].Location.X1=e[f].axis[o].Location.X2=e[f].axis[o].x+=(i?-1:1)*r)}},_getCrossValue:function(n,t,i){switch(i.toLowerCase()){case"category":return t.labels.indexOf(n.crossesAt)!=-1?t.labels.indexOf(n.crossesAt):n.crossesAt;case"datetime":return isNaN(Date.parse(n.crossesAt))?null:Date.parse(n.crossesAt);case"logarithmic":return Math.log(n.crossesAt)/Math.log(t.logBase)}return n.crossesAt},_getXCrossValue:function(n,t,i){var r=t.crossesInAxis,u=n._yAxisName,f=i.axes[t.name]._validCross||i.axes[t.name]._validCross==null;return f&&t.crossesAt&&(!r&&u===this.model.primaryYAxis.name||r&&this._getCrossAxis(this.model._axes,!0,r).name===u)?t.crossesAt:0},_getAxisByName:function(n,t,i){if(i)for(var r=0,u=n.length;r<u;r++)if(n[r].name===i&&(t?n[r].orientation=="vertical":n[r].orientation=="horizontal"))return n[r]},_getCrossAxis:function(n,t,i){return this._getAxisByName(n,t,i)||(this.model.requireInvertedAxes?t?this.model.primaryXAxis:this.model.primaryYAxis:t?this.model.primaryYAxis:this.model.primaryXAxis)},_arrangeAxis:function(){for(var o,i,u,a,c,v,s,r,f,y,l,p,n=this,t,e,h=0;h<this.model._axes.length;h++)t=this.model._axes[h],t.orientation.toLowerCase()=="horizontal"?(n.model.hAxes.push(t),t.columnIndex=ej.util.isNullOrUndefined(t.columnIndex)?0:t.columnIndex,n.model.hAxes[n.model.hAxes.length-1].columnIndex=t.columnIndex):t.orientation.toLowerCase()=="vertical"&&(n.model.vAxes.push(t),t.rowIndex=ej.util.isNullOrUndefined(t.rowIndex)?0:t.rowIndex,n.model.vAxes[n.model.vAxes.length-1].rowIndex=t.rowIndex,e=ej.util.isNullOrUndefined(n.model.rowDefinitions)?null:n.model.rowDefinitions[t.rowIndex],e&&(t.axisBottomLine={},t.axisBottomLine.visible=!0,t.axisBottomLine.lineWidth=e.lineWidth,t.axisBottomLine.color=e.lineColor));if(this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal(),o=this.axesCount(n.model.vAxes),n.model._rowDefinitions=[],n.model.vAxes.length>0)for(i=0;i<o.length;i++)u=n.model.rowDefinitions,a=u?u[i]?u[i]:u[0]:null,n.model._rowDefinitions.push({axis:this.axesIndexCount(n.model.vAxes,o.indexValue[i]),index:o.indexValue[i],rowDefinitions:a});if(c=n.model._rowDefinitions,v=this._axisFilter(c,"rowSpan"),this._SpanningAxes(c,v,!0),s=this.axesCount(n.model.hAxes),n.model._columnDefinitions=[],n.model.hAxes.length>0)for(r=0;r<s.length;r++)f=n.model.columnDefinitions,y=f?f[r]?f[r]:f[0]:null,n.model._columnDefinitions.push({axis:this.axesIndexCount(n.model.hAxes,s.indexValue[r]),index:s.indexValue[r],columnDefinitions:y});l=n.model._columnDefinitions;p=this._axisFilter(l,"columnSpan");this._SpanningAxes(l,p,!1);this._axisSize()},_SpanningAxes:function(n,t,i){for(var r,c,e,o,s,u,f=0,h=t.length;f<h;f++){if(r=t[f],r==null)break;if(c=i?r.rowSpan:r.columnSpan,e=i?r.rowIndex:r.columnIndex,n[e]!=undefined)for(o=n[e].axis.indexOf(r),s=1,u=e+1;s<c&&u<n.length;s++,u++)n[u].axis.length>=o&&n[u].axis.splice(o,0,r)}},_axisFilter:function(n,t){var i=[];return n.filter(function(n){for(var u=ej.DataManager(n.axis,ej.Query().where(t,">",1)).executeLocal(),r=0,f=u.length;r<f;r++)i.push(u[r])}),i},_axisSize:function(){for(var n,t,u,i,f,s,r=this._getLegendSpace(),e=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right-this.model.elementSpacing*2-r.leftLegendWidth-r.rightLegendWidth,c=Math.floor(e/this.axesCount(this.model.hAxes).length),o=$(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-this.model.elementSpacing*2-r.topLegendHeight-r.bottomLegendHeight-r.modelTitleHeight-r.modelsubTitleHeight,l=Math.floor(o/this.axesCount(this.model.vAxes).length),h=0;h<this.model._axes.length;h++)n=this.model._axes[h],n.orientation.toLowerCase()=="horizontal"?this.model.AreaType!="polaraxes"?(t=ej.util.isNullOrUndefined(this.model.columnDefinitions)?[]:this.model.columnDefinitions[n.columnIndex],u=c,t&&(t.unit=t.unit==undefined?"percentage":t.unit,t.columnWidth=t.columnWidth==undefined?100:t.columnWidth,t.unit.toLowerCase()=="percentage"?(s=this._axisColumnDefinitionSize(this.model.columnDefinitions),u=Math.floor(c*(t.columnWidth/s))):u=t.columnWidth),n.length=n.columnSpan?n.columnSpan*u:u):n.length=e>o*2?e-o:e:n.orientation.toLowerCase()=="vertical"&&(this.model.AreaType!="polaraxes"?(i=ej.util.isNullOrUndefined(this.model.rowDefinitions)?[]:this.model.rowDefinitions[n.rowIndex],f=l,i&&(i.unit=i.unit==undefined?"percentage":i.unit,i.rowHeight=i.rowHeight==undefined?100:i.rowHeight,i.unit.toLowerCase()=="percentage"?(s=this._axisRowDefinitionSize(this.model.rowDefinitions),f=Math.floor(l*(i.rowHeight/s))):f=i.rowHeight),n.length=n.rowSpan?n.rowSpan*f:f):n.length=o/2)},_axisRowDefinitionSize:function(n){var t=0,i;if(n)for(i=0;i<n.length;i++)t=t+n[i].rowHeight;return t>100?t:100},_axisColumnDefinitionSize:function(n){var t=0,i;if(n)for(i=0;i<n.length;i++)t=t+n[i].columnWidth;return t>100?t:100},_axisMeasure:function(n,t,i,r){var u=0,o=0,e=0;n.axisLine.width=n.axisLine.width<0?0:n.axisLine.width;n.majorTickLines.size=n.visible?n.majorTickLines.size<0?0:n.majorTickLines.size:0;var s=!this.model.enable3D&&n.visible&&n.axisLine.visible&&n.axisLine.width,h=ej.EjSvgRender.utils._measureText(n.title.text,t,n.title.font),f=n.visible?this.model.elementSpacing:0;return i=="vertical"?(o=n._LableMaxWidth.width,u=n.title.text==""||!n.title.visible||!n.visible?0:document.documentMode===8?h.width:h.height+2*f):(o=n._LableMaxWidth.height,u=n.title.text==""||!n.title.visible||!n.visible?0:h.height+f),u=n.title.position.toLowerCase()=="inside"?0:u,e=this.getMultiLevelLabelSize(n),n.AxisMaxWidth=r==0&&n.tickLinesPosition=="inside"&&n.labelPosition=="inside"?u+e+s+f:r==0&&n.tickLinesPosition=="inside"&&n.labelPosition!="inside"?u+e+s+f+o:r==0&&n.tickLinesPosition!="inside"&&n.labelPosition=="inside"?u+e+s+f+n.majorTickLines.size:u+e+s+f+n.majorTickLines.size+o,n.AxisMaxWidth+=n._isScroll?18:0,n.AxisMaxWidth},_arraySum:function(n){for(var i=0,t=0;t<n.length;t++)i+=parseFloat(n[t])||0;return i},_calSpace:function(n,t,i,r){for(var c,l,e,u,o=[],s=[],a,v,f,h=0;h<t.length;h++)for(c=0,l=0,e=0;e<t[h].axis.length;e++)(u=t[h].axis[e],a=r.axes[u.name]._bounds=this._axisMeasure(u,n,i,e),v=r.axes[u.name]._validCross=this._validateCrossing(u),f=v?0:a,u._opposed=u.opposedPosition?!u._opposedPosition:u._opposedPosition||u.opposedPosiiton||!1,v&&t[h].axis[e].showNextToAxisLine)||(u.showNextToAxisLine||(f=u.labelPosition=="inside"?a-u._multiLevelLabelHeight:a),u._opposed?(s.length<=l?s.push(f):s[l]<f&&(s[l]=f),l++):(o.length<=c?o.push(f):o[c]<f&&(o[c]=f),c++));return{nearSizes:o,farSizes:s}},_getLegendSpace:function(){var h=this.model,c=h.legend,a=c.position.toLowerCase(),w=h.LegendActualBounds,b=ej.EjSvgRender.utils._measureText,n=h.title,t=n.subTitle,l=h.elementSpacing,v=h.margin,y=h.svgWidth,k=c.border.width,d=0,g=0,tt=0,it=0,rt=0,ut=0,dt=n.text.split(" "),ft=n.enableTrim,e=n.maximumWidth,e=e.toString()=="auto"||e.toString()==""?y*.75:parseInt(e),r=n.textOverflow.toLowerCase(),p=n.text,vt=n.visible,o,s,i,et=ej.EjSvgRender.utils._measureText(n.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,n.font),gt=t.text.split(" "),ot=t.enableTrim,u=t.maximumWidth,u=u.toString()=="auto"||u.toString()==""?y*.75:parseInt(u),f=t.textOverflow.toLowerCase(),nt=t.text,yt=t.visible,st=ej.EjSvgRender.utils._measureText(t.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,t.font),ht=vt&&ft&&et.width>e?!0:!1,ct=yt&&ot&&st.width>u?!0:!1,pt=r=="wrap"||r=="wrapandtrim"?!0:!1,wt=f=="wrap"||f=="wrapandtrim"?!0:!1;this.model.titleWrapTextCollection=[];this.model.subTitleWrapTextCollection=[];this.model.trimTooltip=!1;this.model.subTitleTooltip=!1;c.visible&&(g=w.Width+5+l+2*k,tt=a=="left"?g:0,it=a=="right"?g:0,c.title.text&&(d=b(c.title,null,c.title.font).height),rt=a=="top"?w.Height+d+2*k:0,ut=a=="bottom"?w.Height+d+2*k:0);ht&&r=="wrap"?(i={text:p,font:n.font},o=this._rowsCalculation(i,e,r)):ht&&r=="wrapandtrim"?(i={text:p,font:n.font},o=this._rowsCalculation(i,e,r)):(r=="wrapandtrim"||r=="wrap")&&(i={text:p,font:n.font},o=this._rowsCalculation(i,ej.EjSvgRender.utils._measureText(p,null,n.font).width,r));this.model.titleWrapTextCollection=o?o.textCollection:"";this.model.titleMaxWidth=o?o.wordMax:e;ct&&f=="wrap"?(i={text:nt,font:t.font},s=this._rowsCalculation(i,u,f)):ct&&f=="wrapandtrim"?(i={text:nt,font:t.font},s=this._rowsCalculation(i,u,f),this.model.subTitleTooltip=this.model.trimTooltip):(f=="wrapandtrim"||f=="wrap")&&(i={text:nt,font:t.font},s=this._rowsCalculation(i,u,f));this.model.subTitleWrapTextCollection=s?s.textCollection:"";this.model.subTitleMaxWidth=s?s.wordMax:u;var lt=b(n.text,y-v.left-v.right,n.font).height,at=b(t.text,y-v.left-v.right,t.font).height,bt=n.text==""||!n.visible?0:ft&&pt&&et.width>e?lt*this.model.titleWrapTextCollection.length+l:lt+l,kt=t.text==""||!t.visible||!n.visible?0:ot&&wt&&st.width>u?at*this.model.subTitleWrapTextCollection.length+l:at+l;return{leftLegendWidth:tt,rightLegendWidth:it,topLegendHeight:rt,bottomLegendHeight:ut,modelTitleHeight:bt,modelsubTitleHeight:kt}},_arraySome:function(n,t){for(var r=!1,e=this.model.zooming.enableScrollbar,o=n.length,u,f,i=0;i<o;i++)u=n[i].scrollbarSettings.enableScrollbar,f=n[i].scrollbarSettings.pointsLength,r=r||(n[i]._isScroll&&n[i].maxPointLength<f||n[i].zoomFactor<1&&u&&e)&&n[i].orientation.toLowerCase()==t;return r},_calculateAreaBounds:function(n){var t=this,c=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,o=t.model.border.width,d=this.model._axes[0],g=this.model.zooming.enableScrollbar,nt=this.model.zooming.type.toLowerCase(),u,f;t.model.scrollerSize=18;this.model._yScroll=this._arraySome(this.model._axes,"vertical");this.model._xScroll=this._arraySome(this.model._axes,"horizontal");u=this._calSpace(c,t.model._rowDefinitions,"vertical",n);t.model._rowDefinitions.nearSizes=u.nearSizes;t.model._rowDefinitions.farSizes=u.farSizes;var w=this._arraySum(u.nearSizes),b=this._arraySum(u.farSizes),r=this._getLegendSpace(),s=w+r.leftLegendWidth+t.model.margin.left+o,l=b+r.rightLegendWidth+t.model.margin.right+t.model.margin.left+2*o,a=$(this.svgObject).width(),i=a-(s+l);if(i=Math.round(i)<=0?0:i,i<=0&&this.model.AreaType=="cartesianaxes")$(this.svgObject).width(a-i+1),this._calculateAreaBounds(n);else{f=this._calSpace(c,t.model._columnDefinitions,"horizontal",n);t.model._columnDefinitions.nearSizes=f.nearSizes;t.model._columnDefinitions.farSizes=f.farSizes;var v=this._arraySum(f.nearSizes),y=this._arraySum(f.farSizes),k=v||y?this.model.elementSpacing:0,h=y+this.model.margin.top+k+r.modelTitleHeight+r.modelsubTitleHeight+r.topLegendHeight+o,p=v+this.model.margin.bottom+r.bottomLegendHeight+2*o,e=Math.abs($(this.svgObject).height()-(h+p));e=e==0?1:e;this.model.m_AreaBounds={X:s,Y:h,Width:i,Height:e};this.model.m_Spacing={Left:s,Top:h,Right:l,Bottom:p};this.model.enableCanvasRendering?(this.canvasX=s,this.canvasY=h,this.canvasWidth=i,this.canvasHeight=e):this.canvasX=this.canvasY=this.canvasHeight=this.canvasWidth=0}}};jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}}}(jQuery),function(n,t){t.widget("ejChart","ej.datavisualization.Chart",{element:null,model:null,validTags:["div"],defaults:{border:{color:"transparent",width:0,opacity:.3},chartArea:{border:{color:"Gray",width:.5,opacity:.3},background:"transparent"},highlightColor:null,primaryXAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,isIndexed:!1,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alignment:"center",labelPlacement:"",scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},range:{min:null,max:null,interval:null},labelPosition:"outside",tickLinesPosition:"outside",alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",width:0,textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular",color:null}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,showNextToAxisLine:!0,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",color:null,fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},primaryYAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},labelPlacement:"",labelPosition:"outside",tickLinesPosition:"outside",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular"}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular",color:null},axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},zoomFactor:1,zoomPosition:0},axes:[],secondaryX:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,labelPlacement:"",desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular"}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",edgeLabelPlacement:"none",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},secondaryY:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular",color:null}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",labelPlacement:"",edgeLabelPlacement:"none",crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular"},axisLine:{color:null,visible:!0,width:1,dashArray:"",offset:0},zoomFactor:1,zoomPosition:0},trendlineDefaults:{type:"linear",visibility:"",visibleOnLegend:"visible",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",opacity:1}}},indicatorDefaults:{visible:!0,points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",width:2,xAxisName:"",yAxisName:"",visibility:"visible",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,enableAnimation:!1,animationDuration:null},annotationsDefault:{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}},multiLevelLabelsDefault:{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}},stripLineDefault:{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over",borderWidth:1},rowDefinitions:null,columnDefinitions:null,title:{text:"",enableTrim:!1,visible:!0,isReversed:!1,maximumWidth:"auto",textOverflow:"trim",textAlignment:"center",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"16px",opacity:1,fontWeight:"regular"},subTitle:{text:"",enableTrim:!1,visible:!0,maximumWidth:"auto",textOverflow:"trim",textAlignment:"far",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"}}},lineCap:{butt:"butt",round:"round",square:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left",custom:"custom"},enableAnimation:!0,legend:{title:{text:"",textAlignment:"center",font:{color:null,size:"12px",fontFamily:"Segoe UI",fontStyle:"normal",fontWeight:"regular"}},border:{color:"transparent",width:1},visible:!0,isReversed:!1,textOverflow:"none",textWidth:34,toggleSeriesVisibility:!0,enableScrollbar:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",location:{x:0,y:0},itemStyle:{height:9,width:9,border:{color:"transparent",width:1}},rowCount:null,columnCount:null,opacity:1,fill:null,background:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"},size:{height:null,width:null}},indicators:[{points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",animationDuration:null,type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",visible:!0,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},width:2,xAxisName:"",yAxisName:"",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,visibility:"visible",enableAnimation:!1}],background:null,backGroundImageUrl:null,annotations:[{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}}],series:[{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!0,columnSpacing:0,columnWidth:.7,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,points:null,pieCoefficient:.8,doughnutSize:.8,dataSource:null,high:"",low:"",open:"",close:"",bullFillColor:null,bearFillColor:null,query:null,xName:"",yName:"",pointColorMappingName:"",visibility:"visible",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{width:1,color:null},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{width:1,color:"transparent",dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,showEdgeLabels:!1,enableContrastColor:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",opacity:1,fill:null,border:{color:"white",width:.1},maximumLabelWidth:null,enableWrap:!1,connectorLine:{width:.5,type:"line",color:null},offset:{x:0,y:0},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"11px",opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},_isdesigntime:!0}],commonSeriesOptions:{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!1,columnWidth:.7,columnSpacing:0,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,pieCoefficient:.8,doughnutSize:.8,dataSource:null,xName:"",yName:"",pointColorMappingName:"",high:"",low:"",open:"",close:"",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:!1,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{color:null,width:1},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{color:"transparent",width:1,dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,enableContrastColor:!1,showEdgeLabels:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",maximumLabelWidth:null,enableWrap:!1,opacity:1,fill:null,border:{color:"white",width:.1},offset:{x:0,y:0},connectorLine:{width:.5,type:"line",height:null},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"11px",color:null,opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crosshair:{line:{width:1},marker:{visible:!0,size:{width:10,height:10},opacity:1,border:{width:3}},visible:!1,isReversed:!1,type:"crosshair",trackballTooltipSettings:{fill:null,mode:"float",border:{width:null,color:null},rx:3,ry:3,opacity:1,tooltipTemplate:null}},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:null,borderWidth:1},textStyle:{marker:{textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19,SeriesType:20},initSeriesRender:!0,theme:"flatlight",canResize:!1,isResponsive:!1,enable3D:!1,enableRotation:!1,sideBySideSeriesPlacement:null,perspectiveAngle:90,rotation:0,tilt:0,wallSize:2,depth:100,enableCanvasRendering:!1,selectedDataPointIndexes:[],exportSettings:{type:"png",fileName:"Chart",orientation:"portrait",angle:0,mode:"client",action:"",multipleExport:!1},zooming:{enable:!1,isReversed:!1,enableScrollbar:!1,type:"x,y",enablePinching:!0,enableMouseWheel:!1,enableDeferredZoom:!1,toolbarItems:["zoomIn","zoomOut","zoom","pan","reset"]},type:"x,y",locale:null,xZoomFactor:1,yZoomFactor:1,xZoomPosition:0,yZoomPosition:0,load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",dragStart:"",dragging:"",dragEnd:"",chartAreaBoundsCalculate:"",legendItemRendering:"",legendBoundsCalculate:"",preRender:"",seriesRendering:"",trendlineRendering:"",symbolRendering:"",titleRendering:"",subtitleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",seriesRegionClick:"",annotationClick:"",axisLabelClick:"",chartClick:"",scrollStart:"",scrollEnd:"",scrollChanged:"",chartDoubleClick:"",pointRegionMouseMove:"",legendItemClick:"",axisLabelMouseMove:"",chartMouseMove:"",legendItemMouseMove:"",chartMouseLeave:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",animationComplete:"",zoomed:"",destroy:"",create:"",beforeResize:"",afterResize:"",rangeSelected:"",multiLevelLabelClick:"",multiLevelLabelRendering:"",margin:{left:10,right:10,top:10,bottom:10},size:{width:null,height:null},elementSpacing:10,dateStart:25568.791666666668},dataTypes:{commonSeriesOptions:{dataSource:"data"},axes:"array",series:"array",annotations:"array",indicators:"array",seriesColors:"array",palette:"array",rowDefinitions:"array",columnDefinitions:"array",seriesBorderColors:"array",pointColors:"array",pointBorderColors:"array",initSeriesRender:"boolean",theme:"enum",canResize:"boolean",isResponsive:"boolean",elementSpacing:"number",primaryXAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",tickLinesPosition:"enum",labelPosition:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number",showNextToAxisLine:"boolean"},primaryYAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},legend:{textOverflow:"enum",shape:"enum",alignment:"enum",position:"enum",itemPadding:"number"},exportSettings:{type:"string",fileName:"string",orientation:"enum",angle:"number",mode:"enum",action:"string",multipleExport:"boolean"},zooming:{enable:"boolean",type:"string",enableMouseWheel:"boolean",toolbarItems:"array",enableScrollbar:"boolean"},size:{width:"string",height:"string"}},observables:["xZoomFactor","yZoomFactor","xZoomPosition","yZoomPosition"],_tags:[{tag:"series",attr:["xAxisName","yAxisName","zOrder","endAngle","startAngle","explodeIndex","labelPosition","xName","yName","pointColorMappingName","pyramidMode","boxPlotMode","showMedian","pieCoefficient","explodeAll","explodeOffset","funnelWidth","columnFacet","funnelHeight","gapRatio","isClosed","isTransposed","enableTrackTooltip","isStacking","bearFillColor","bullFillColor","dataSource","enableAnimation","animationDuration","doughnutCoefficient","doughnutSize","enableSmartLabels","drawType","dashArray","visibleOnLegend","columnSpacing","columnWidth","drawType","positiveFill","explodeIndex","cornerRadius","lineCap","lineJoin","highlightSettings.enable","highlightSettings.mode","highlightSettings.pattern","highlightSettings.color","highlightSettings.opacity","highlightSettings.customPattern","highlightSettings.border.color","highlightSettings.border.width","selectionSettings.enable","selectionSettings.mode","selectionSettings.pattern","selectionSettings.color","selectionSettings.opacity","selectionSettings.customPattern","selectionSettings.type","selectionSettings.rangeType","selectionSettings.border.width","selectionSettings.border.color","dragSettings.enable","dragSettings.type","connectorLine.width","connectorLine.opacity","connectorLine.dashArray","cornerRadius.topLeft","cornerRadius.topRight","cornerRadius.bottomLeft","cornerRadius.bottomRight","errorBar.visibility","errorBar.mode","errorBar.type","errorBar.horizontalErrorValue","errorBar.verticalErrorValue","errorBar.horizontalPositiveErrorValue","errorBar.horizontalNegativeErrorValue","errorBar.verticalPositiveErrorValue","errorBar.verticalNegativeErrorValue","errorBar.direction","errorBar.cap.visible","errorBar.cap.width","errorBar.cap.length","errorBar.width","errorBar.opacity","emptyPointSettings.visible","emptyPointSettings.style.color","emptyPointSettings.style.border.color","emptyPointSettings.style.border.width","emptyPointSettings.displayMode","bubbleOptions.minRadius","bubbleOptions.maxRadius","bubbleOptions.radiusMode","tooltip.visible","tooltip.format","tooltip.template","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color","border.width","border.color","border.dashArray","marker.shape","marker.imageUrl","marker.size.width","marker.size.height","marker.visible","marker.opacity","marker.fill","marker.border.color","marker.border.width","marker.dataLabel.visible","marker.dataLabel.angle","marker.dataLabel.template","marker.dataLabel.textMappingName","marker.dataLabel.verticalTextAlignment","marker.dataLabel.horizontalTextAlignment","marker.dataLabel.textPosition","marker.dataLabel.textAnchor","marker.dataLabel.shape","marker.dataLabel.opacity","marker.dataLabel.fill","marker.dataLabel.border.color","marker.dataLabel.border.width","marker.dataLabel.maximumLabelWidth","marker.dataLabel.enableWrap","marker.dataLabel.connectorLine.width","marker.dataLabel.connectorLine.type","marker.dataLabel.connectorLine.color","marker.dataLabel.offset","marker.dataLabel.offset.x","marker.dataLabel.offset.y","marker.dataLabel.font.size","marker.dataLabel.font.color","marker.dataLabel.enableContrastColor","marker.dataLabel.showEdgeLabels","marker.dataLabel.font.opacity","marker.dataLabel.font.fontFamily","marker.dataLabel.font.fontStyle","marker.dataLabel.font.fontWeight","marker.dataLabel.margin","marker.dataLabel.margin.left","marker.dataLabel.margin.top","marker.dataLabel.margin.bottom","marker.dataLabel.margin.right","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","splineType","cardinalSplineTension",[{tag:"trendlines",attr:["visibility","visibilityOnLegend","dashArray","forewardForecast","backwardForecast","polynomialOrder","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color",],singular:"trendline"}],[{tag:"points",attr:["x","y","text","textMappingName","isEmpty","fill","visible"],singular:"points"}]],singular:"series"},{tag:"axes",attr:["columnIndex","rowIndex","desiredIntervals","multiLevelLabelsColor","multiLevelLabelsFontColor","isIndexed","labelPlacement","edgeLabelPlacement","intervalType","labelFormat","labelPosition","labelRotation","logBase","labelIntersectAction","opposedPosition","plotOffset","rangePadding","roundingPlaces","valueType","zoomFactor","zoomPosition","orientation","crossesAt","crossesInAxis","scrollbarSettings.visible","scrollbarSettings.canResize","scrollbarSettings.range.min","scrollbarSettings.range.max","scrollbarSettings.pointsLength","range.min","range.max","range.interval","tickLinesPosition","alternateGridBand.odd.fill","alternateGridBand.odd.opacity","alternateGridBand.even.fill","alternateGridBand.even.opacity","enableAutoIntervalOnZooming","majorGridLines.width","majorGridLines.color","majorGridLines.dashArray","majorGridLines.visible","majorGridLines.opacity","majorTickLines.color","majorTickLines.width","majorTickLines.size","majorTickLines.visible","minorGridLines.width","minorGridLines.dashArray","minorGridLines.color","minorGridLines.visible","minorTickLines.color","minorTickLines.width","minorTickLines.size","minorTickLines.visible","labelBorder.color","labelBorder.width","minorTicksPerInterval","columnSpan","crosshairLabel.visible","crosshairLabel.rx","crosshairLabel.ry","crosshairLabel.border.color","crosshairLabel.border.width","crosshairLabel.fill","crosshairLabel.font.fontFamily","crosshairLabel.font.fontStyle","crosshairLabel.font.size","crosshairLabel.font.fontWeight","crosshairLabel.font.opacity","crosshairLabel.font.color","font.size","font.color","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","isInversed","enableTrim","maximumLabelWidth","axisLine.visible","axisLine.width","axisLine.color","axisLine.dashArray","axisLine.offset","maximumLabels","title.text","title.visible","title.enableTrim","title.offset","title.alignment","title.position","title.maximumTitleWidth","title.font.size","title.font.color","title.font.opacity","title.font.fontFamily","title.font.fontStyle","title.font.fontWeight","additionalPadding","showNextToAxisLine",[{tag:"stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"stripLine"}],[{tag:"multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"multiLevelLabel"}],],singular:"axis"},{tag:"primaryXAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryXAxis.stripLine"},{tag:"primaryYAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryYAxis.stripLine"},{tag:"primaryXAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryXAxis.multiLevelLabel"},{tag:"primaryYAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryYAxis.multiLevelLabel"},{tag:"indicators",attr:["seriesName","xName","xAxisName","macdType","shortPeriod","longPeriod","enableAnimation","animationDuration","yAxisName","standardDeviations","kPeriod","dPeriod","periodLine.fill","periodLine.width","lowerLine.fill","lowerLine.width","upperLine.fill","upperLine.width","macdLine.fill","macdLine.width","histogram.fill","histogram.opacity","histogram.border.color","histogram.border.width","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity",[{tag:"points",attr:[]}]],singular:"indicator"},{tag:"annotations",attr:["coordinateUnit","verticalAlignment","horizontalAlignment","xAxisName","yAxisName","margin.left","margin.right","margin.top","margin.bottom"],singular:"annotation"},{tag:"rowDefinitions",attr:["rowHeight","lineColor","lineWidth","unit"],singular:"rowDefinition"},{tag:"columnDefinitions",attr:["columnWidth","lineColor","lineWidth","unit"],singular:"columnDefinition"},],_xZoomFactor:t.util.valueFunction("xZoomFactor"),_yZoomFactor:t.util.valueFunction("yZoomFactor"),_xZoomPosition:t.util.valueFunction("xZoomPosition"),_yZoomPosition:t.util.valueFunction("yZoomPosition"),_init:function(){this._renderSfChart()},_destroy:function(){n("#template_group_"+this._id).remove();n("#annotation_group_"+this._id).remove();n(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove();n(this.element).removeClass("e-chart e-js").find("#legend_"+this.svgObject.id).remove()},_series:function(){this.redraw();this._trigger("refresh")},_series_points:function(){this.redraw();this._trigger("refresh")},_primaryXAxis_stripLine:function(){this.redraw();this._trigger("refresh")},_primaryYAxis_stripLine:function(){this.redraw();this._trigger("refresh")},_axes:function(){this.redraw();this._trigger("refresh")},_axes_stripLine:function(){this.redraw();this._trigger("refresh")},_ignoreOnExport:["dataSource"],_removeZoomkit:function(){this.model.zooming.enable&&(n("[id^="+this._id+"_][id$=_ResetZoom]").remove(),n("[id^="+this._id+"_][id$=_PanBtn]").remove(),n("[id^="+this._id+"_][id$=_ZoomBtn]").remove(),n("[id^="+this._id+"_][id$=_ZoomInBtn]").remove(),n("[id^="+this._id+"_][id$=_ZoomOutBtn]").remove())},getCanvasElement:function(t){var f,o=n("#"+t),i=document.createElement("canvas"),e=i.getContext("2d"),r=n("#"+t+"_canvas").width(),u=n("#"+t+"_canvas").height();return i.setAttribute("width",r),i.setAttribute("height",u),f=n("#"+t+"_canvas")[0],e.drawImage(f,0,0,r,u),{canvasContainer:i,canvasArea:e,width:r,height:u}},getSVGElement:function(t){var r=n("#"+t+"_svg").width(),u=n("#"+t+"_svg").height(),f=document.getElementById(t+"_svg"),e=n("<div>").append(n(f).clone()).html(),o=document.getElementById("legend_"+t+"_svg"),i=n("#legend_"+t).position(),h=n("#"+t+"_svg_Legend").attr("transform","translate("+i.left+","+i.top+")"),s=n("<div>").append(n(o).clone()).html();return{chartSVG:e,legendChartSVG:s,width:r,height:u}},print:function(){for(var ut,u,f,v,k,et,i,s,tt,y,d,r,t,it,e,o,c,l,a,p=[],w=[],ot,st=this.model.series.length,g,h="",ft=0,b=0;b<arguments.length;b++)if(c=n("#"+arguments[b]),t=arguments[b],c.hasClass("e-datavisualization-chart")){o=c.ejChart("instance");r="<html> <div style='position:relative; left:0px; top:"+ft+"px'>";g="";it=o.svgObject.id;ft=n("#"+it).height()+50;n("#axisScrollbar_"+t)[0]&&(g=n("#axisScrollbar_"+t)[0].innerHTML);var ht=["ResetZoom","PanBtn","ZoomBtn","ZoomOutBtn","ZoomInBtn"],rt=[],nt;for(i=0;i<5;i++)nt="#"+it+"_"+ht[i],n(nt)[0]&&(rt.push(n(nt)),n(nt).remove());if(o.model.enableCanvasRendering==!0){for(e=this.getCanvasElement(t),ot=o.model.LegendBounds,h=document.createElement("img"),h.setAttribute("src",n("#legend_"+t+"_canvas")[0].toDataURL()),n("#legend_Scroller"+t).prepend(h),r+=document.getElementById("chartContainer_"+t).outerHTML,n(h).remove(),h="",u=0;u<st;u++)if(ut=o.model.series[u].selectionSettings.mode.toLowerCase(),o.model.AreaType!="none")if(ut=="series")n(c).find("#"+t+"_Selection_series"+u+"_canvas").length>0&&(l=n("#"+t+"_Selection_series"+u+"_canvas")[0],e.canvasArea.drawImage(l,0,0,e.width,e.height)),n(c).find("#"+t+"_Selection_Legend"+u+"_canvas").length>0&&(a=n("#"+t+"_Selection_Legend"+u+"_canvas")[0],h="<img style='position:absolute;left:0px;' src='"+a.toDataURL()+"'/>");else if(ut=="point"){for(f=o.model.selectedDataPointIndexes,i=0;i<f.length;i++)f[i].seriesIndex==u&&n(c).find("#"+t+"_Selection_series"+u+"_point_"+f[i].pointIndex+"_canvas").length>0&&(l=n("#"+t+"_Selection_series"+u+"_point_"+f[i].pointIndex+"_canvas")[0],e.canvasArea.drawImage(l,0,0,e.width,e.height));n(c).find("#"+t+"_Selection_Legend"+u+"_canvas").length>0&&(a=n("#"+t+"_Selection_Legend"+u+"_canvas")[0],h="<img style='position:absolute;left:0px;' src='"+a.toDataURL()+"'/>")}else{for(f=o.model.selectedDataPointIndexes,i=0;i<f.length;i++)f[i].seriesIndex==u&&n(c).find("#"+t+"_Selection_Cluster_point_"+f[i].pointIndex+"_canvas").length>0&&(l=n("#"+t+"_Selection_Cluster_point_"+f[i].pointIndex+"_canvas")[0],e.canvasArea.drawImage(l,0,0,e.width,e.height));n(c).find("#"+t+"_SelectionCluster_Legend"+u+"_canvas").length>0&&(a=n("#"+t+"_SelectionCluster_Legend"+u+"_canvas")[0],h="<img style='position:absolute;left:0px;' src='"+a.toDataURL()+"'/>")}else for(f=o.model.selectedDataPointIndexes,i=0;i<f.length;i++)f[i].seriesIndex==u&&n("#"+t+"_Selection_series"+u+"_point_"+f[i].pointIndex+"_canvas").length>0&&(l=document.getElementById(t+"_Selection_series"+u+"_point_"+f[i].pointIndex+"_canvas"),e.canvasArea.drawImage(l,0,0,e.width,e.height),n("#"+t+"_Selection_Legend"+f[i].pointIndex+"_canvas").length>0&&(a=document.getElementById(t+"_Selection_Legend"+f[i].pointIndex+"_canvas"),h="<img style='position:absolute;left:0px;' src='"+a.toDataURL()+"'/>"));e.canvasArea.save();p.push(e.canvasContainer)}else v=this.getSVGElement(t),n("#"+t+"_svg_Legend").removeAttr("transform"),r+=n("#chartContainer_"+t)[0].outerHTML,r=this._getSelectionContentInSVG(o,t,r,"print"),o.model.backGroundImageUrl!=null&&(y=new Image,y.src=o.model.backGroundImageUrl,k=document.createElement("canvas"),et=k.getContext("2d"),k.setAttribute("width",v.width),k.setAttribute("height",v.height),et.drawImage(y,0,0,v.width,v.height),r+="<img src='"+k.toDataURL()+"'/>"),r+='<svg xmlns="http://www.w3.org/2000/svg" style="left:0px; top:0px; position:absolute;" width="'+v.width+'" height="'+v.height+'" >',r+=v.chartSVG.toString()+" <\/svg>",r+=g+"<\/div><\/html>",w.push(r);for(i=0;i<rt.length;i++)n("#chartContainer_"+t).append(rt[i])}else r="<html>",r+=document.getElementById(arguments[b]).innerHTML,r+="<\/html>",w.push(r);for(s=window.open(),tt=0;tt<w.length;tt++)s.document.write(w[tt]);if(p.length>0){for(y=new Image,d=0;d<p.length;d++)r+="<img src='"+p[d].toDataURL()+"'/>",y.src=p[d].toDataURL();r+=h;r+=g+"<\/div><\/html>";y.onload=function(){s.document.write(r);r="";s.document.close();s.focus();s.print();s.close()}}else w.length>0&&(r="",s.document.close(),s.focus(),s.print(),s.close())},redraw:function(i,r,u,f){var o,s,e;if(this.model.enableCanvasRendering)this.model.zooming.enable&&this.svgRenderer.ctx?(this.svgRenderer.ctx.clearRect(0,0,n("#"+this._id).width(),n("#"+this._id).height()),n(this.axisScroll).empty()):(n(this.svgObject).remove(),o=this.svgWidth,n("#canvas_trackSymbol").remove(),n("#"+this._id+"_canvas_Tracker").remove(),n("#secondCanvas").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?o:this.model.size.width,this.svgObject=this.svgRenderer.svgObj,s=this.svgRenderer.svgObj.getContext("2d"),n(this.scrollerContainer).remove(),n(this.legendSvgContainer).remove(),n(this.legendContainer).remove(),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=n("<div><\/div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),n(this.scrollerContainer).appendTo(this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer));else if(this.svgObject.id.indexOf("_canvas")!=-1)this._removeZoomkit(),n(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,n(this.scrollerContainer).remove(),n(this.legendSvgContainer).remove(),n(this.legendContainer).remove(),this.legendContainer=n("<div><\/div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=n("<div><\/div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),n(this.scrollerContainer).appendTo(this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer);else if(!this.dragPoint||!r&&(!this.panning||!u||this.scrollbarUpdate||f||this.panning&&this.model.browserInfo.name!="chrome")||this.model.enable3D)n(this.svgObject).empty(),n(this.legendSvgContainer).empty(),n(this.axisScroll).empty();else{for(e=this.svgObject,this.chartUpdating=!0,!this.continuePinching&&u&&(u.id="",u.setAttribute("opacity",0),e.appendChild(u),this.continuePinching=!1);e.childNodes.length>1;)e.removeChild(e.firstChild);n(this.legendSvgContainer).empty()}this.model._chartAreaZoom&&(this.zoomed=this.model._chartAreaZoom=this.model._axes.some(function(n){return n.zoomFactor<1||n.zoomPosition>0}));this._removeZoomkit();n("#annotation_group_"+this._id).remove();i||(this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents());this.bindTo(i)},"export":function(n,i,r){var u,f=this.model.exportSettings,n=t.util.isNullOrUndefined(n)?f.type:n.toLowerCase(),i=t.util.isNullOrUndefined(i)?f.action:i.toLowerCase();return n=="xlsx"?this._getExportModel(n,i,r):u=n!="svg"&&this.model.enableCanvasRendering?this.imageExport():this.svgExport(),u},_getExportModel:function(i,r,u){var o=n.extend(!0,{},this.model),v=this.model.exportSettings,u=t.util.isNullOrUndefined(i)?v.multipleExport:u,k=this.svgHeight,d=this.svgWidth,y=o.size.height,p=o.size.width,w={action:r,method:"post"},h=t.buildTag("form","",null,w),f,b=this,s,c,e,l,a;if(o.event=null,o.primaryXAxis.range=o.primaryXAxis.actualRange,o.primaryYAxis.range=o.primaryYAxis.actualRange,delete o.chartRegions,this._ignoreOnExport)for(f=o.series,e=0;e<f.length;e++)delete f[e].dataSource,delete f[e].query,f[e].fill=jQuery.type(f[e].fill)=="array"?f[e].fill[0].color:f[e].fill;for(e=0;e<f.length;e++){if(!f[e].dataPoint)for(f[e].dataPoint=f[e].points,s=0;s<f[e].dataPoint.length;s++)!f[e].dataPoint[s].fill&&o.pointColors.length>s&&(f[e].dataPoint[s].fill=o.pointColors[s]);f[e].trendLine||(f[e].trendLine=f[e].trendlines)}if(t.raiseWebFormsServerEvents)this.raiseWebServerEvents(JSON.stringify(o),"excelExporting"),this.raiseWebServerEvents(JSON.stringify(o));else{if(o.size.height&&o.size.height.indexOf("%")!=-1&&(o.size.height=n(this.svgObject).height().toString()),o.size.width&&o.size.width.indexOf("%")!=-1&&(o.size.width=n(this.svgObject).width().toString()),u)c={},n("body").find(".e-datavisualization-chart").each(function(i,r){var o=n(r).data("ejChart"),e,u,s,l;if(!t.isNullOrUndefined(o)&&(o.model.event=null,e=JSON.parse(JSON.stringify(o.model)),b._ignoreOnExport)){for(f=e.series,u=0;u<f.length;u++)delete f[u].dataSource,delete f[u].query,f[u].fill=jQuery.type(f[u].fill)=="array"?f[u].fill[0].color:f[u].fill;c[i]=JSON.stringify(e);s={name:"ChartModel",type:"hidden",value:JSON.stringify(e)};l=t.buildTag("input","",null,s);h.append(l)}});else{for(f=o.series,e=0;e<f.length;e++)delete f[e]._visiblePoints,delete f[e].points;l={name:"ChartModel",type:"hidden",value:JSON.stringify(o)};a=t.buildTag("input","",null,l);h.append(a);h.append(this)}n("body").append(h);h.submit();o.size={width:p,height:y}}return o},imageExport:function(){var l=n.extend(!0,{},this.model),k,y,d,g,nt,tt;l.primaryXAxis.range=l.primaryXAxis.actualRange;l.primaryYAxis.range=l.primaryYAxis.actualRange;l.event=null;var c=this._id,o=n("[id*="+c+"_Selection_]"),p=n("#legend_"+c+"_canvas")[0],a=this.model.exportSettings,u=a.angle,h,i,s,f,w,r=this.model.LegendBounds,it,e,b,v=this.getCanvasElement(c);for(h=v.canvasContainer,i=v.canvasArea,s=v.width,f=v.height,w=n("#"+c+"_canvas")[0],h.setAttribute("id","Export_"+c),u==0?(r=this.model.LegendBounds,r.X&&r.Width!=0&&r.Height!=0&&i.drawImage(p,r.X,r.Y)):u==90||u==-90?(h.setAttribute("width",f),h.setAttribute("height",s),i.save(),i.translate(f/2,s/2),i.rotate(u*Math.PI/180),i.drawImage(w,-s/2,-f/2),i.restore(),r.X&&(i.save(),u==90?i.translate(f-r.Y-r.Height/2,s-r.X-r.Width/2):i.translate(r.Y+r.Height/2,r.X+r.Width/2),i.rotate(u*Math.PI/180),i.drawImage(p,-r.Width/2,-r.Height/2),i.restore())):(h.setAttribute("width",s),h.setAttribute("height",f),i.save(),i.translate(s,f),i.rotate(Math.PI/1),i.drawImage(w,0,0),i.restore(),r.X&&(i.save(),i.translate(r.X+r.Width/2,f-r.Y-r.Height/2),i.rotate(u*Math.PI/180),i.drawImage(p,-r.Width/2,-r.Height/2),i.restore())),e=0;e<o.length;e++)it=document.getElementById(o[e].id).getBoundingClientRect(),u==0?i.drawImage(o[e],0,0):u==90||u==-90?(i.save(),i.translate(f/2,s/2),i.rotate(u*Math.PI/180),i.drawImage(o[e],-s/2,-f/2),i.restore(),u==90&&o[e].id.indexOf(c+"_Selection_Legend")>=0?(i.save(),i.translate(f-r.Y-r.Height/2,s-r.X-r.Width/2),i.rotate(u*Math.PI/180),i.drawImage(o[e],-r.Width/2,-r.Height/2),i.restore()):u==-90&&o[e].id.indexOf(c+"_Selection_Legend")>=0&&(i.save(),i.translate(r.X+r.Width/2,f-r.Y-r.Height/2),i.rotate(u*Math.PI/180),i.drawImage(o[e],-r.Width/2,-r.Height/2),i.restore())):u==180&&(i.save(),i.translate(s,f),i.rotate(Math.PI/1),i.drawImage(o[e],0,0),i.restore(),u==180&&o[e].id.indexOf(c+"_Selection_Legend")>=0&&(i.save(),i.translate(r.X+r.Width/2,f-r.Y-r.Height/2),i.rotate(u*Math.PI/180),i.drawImage(o[e],-r.Width/2,-r.Height/2),i.restore()));if(b=a.type=="jpg"?h.toDataURL("image/jpeg"):h.toDataURL(),a.mode=="client")return h;t.raiseWebFormsServerEvents?this.raiseWebServerEvents(b):a.mode=="server"&&(k={action:a.action,method:"post"},y=t.buildTag("form","",null,k),d={name:"ChartModel",type:"hidden",value:JSON.stringify(l)},g=t.buildTag("input","",null,d),nt={name:"Data",type:"hidden",value:b},tt=t.buildTag("input","",null,nt),y.append(g).append(tt).append(this),n("body").append(y),y.submit())},svgExport:function(){for(var p,w,h,b,k,d,g,nt=this.svgObject.id,r=n.extend(!0,{},this.model),u=0;u<this.model._axes.length;u++)r._axes[u].range=r._axes[u].actual_Range;r.event=null;var c=this._id,f=this.getSVGElement(c),e=this.model.exportSettings,l=e.angle,a=f.height,o=f.chartSVG,s=f.legendChartSVG,v=f.width,i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',y;if(i=l==0?i+o.toString()+s.toString()+"<\/svg>":l==90?i+'<g transform="translate('+a+',0) rotate(90 0 0)">'+o.toString()+s.toString()+"<\/g><\/svg>":l==-90?i+'<g transform="translate(0,'+v+') rotate(-90 0 0)">'+o.toString()+s.toString()+"<\/g><\/svg>":i+'<g transform="translate('+v+","+a+') rotate(180 0 0)">'+o.toString()+s.toString()+"<\/g><\/svg>",y=this._getSelectionContentInSVG(this,c,i,"export"),p=n("#"+c).find('[class*="Selection"]'),i=p.length>0?y:i,i=encodeURIComponent(i),n("#"+nt+"_Legend").removeAttr("transform"),e.mode=="client")return i;t.raiseWebFormsServerEvents?this.raiseWebServerEvents(i):e.mode=="server"&&(w={action:e.action,method:"post"},h=t.buildTag("form","",null,w),g={name:"ChartModel",type:"hidden",value:JSON.stringify(r)},d=t.buildTag("input","",null,g),b={name:"Data",type:"hidden",value:i},k=t.buildTag("input","",null,b),h.append(k).append(d).append(this),n("body").append(h),h.submit())},_getSelectionContentInSVG:function(i,r,u,f){var w=this.model.series.length,h,l,o,a,s,y,p,v,c,e;if(i.model.enable3D){for(y="",e=0;e<w;e++)n("#Selectionseries"+e+"Segmentseries"+e).length>0&&(y+=n("#Selectionseries"+e+"Segmentseries"+e)[0].outerHTML);u+=y}else{for(e=0;e<w;e++)if(p=i.model.series[e].selectionSettings.mode.toLowerCase(),i.model.AreaType!="none")p!="cluster"?n("#"+r+"SelectionSegmentseries"+e).length>0&&(l=document.getElementById(r+"SelectionSegmentseries"+e),o=n("<div>").append(n(l).clone()).html(),a=document.getElementById(r+"SelectionLegendSegmentseries"+e),s=n("<div>").append(n(a).clone()).html(),f==="export"?h=u.slice(0,u.length-6)+("<svg>"+o.toString()+s.toString()+"<\/svg><\/svg>"):u+=o.toString()+s.toString()):n("#"+r+"SelectionSegmentClusterSeries"+e).length>0&&(l=document.getElementById(r+"SelectionSegmentClusterSeries"+e),o=n("<div>").append(n(l).clone()).html(),a=document.getElementById(r+"SelectionLegendSegmentClusterSeries"+e),s=n("<div>").append(n(a).clone()).html(),f==="export"?h=(t.util.isNullOrUndefined(h)?u.slice(0,u.length-6):h)+("<svg >"+o.toString()+s.toString()+"<\/svg>"):u+=o.toString()+s.toString());else for(v=i.model.selectedDataPointIndexes,c=0;c<v.length;c++)v[c].seriesIndex==e&&n("#"+r+"SelectionSegmentseries"+e+"Point"+v[c].pointIndex).length>0&&(l=document.getElementById(r+"SelectionSegmentseries"+e+"Point"+v[c].pointIndex),o=n("<div>").append(n(l).clone()).html(),a=document.getElementById(r+"SelectionLegendSegmentseries"+e+"Point"+v[c].pointIndex),s=n("<div>").append(n(a).clone()).html(),f==="export"?h=u.slice(0,u.length-6)+("<svg>"+o.toString()+s.toString()+"<\/svg><\/svg>"):u+=o.toString()+s.toString());p=="cluster"&&f==="export"&&(h+="<\/svg>")}return f==="export"?h:u},raiseWebServerEvents:function(i,r){var o=n.extend(!0,{},this.model),u=this.model.exportSettings,f,e,r=t.util.isNullOrUndefined(r)?"exporting":r;this.model.size._width=n(this.svgObject).width();this.model.size._height=n(this.svgObject).height();f={model:o,originalEventType:r};e={Data:i,Format:u.type,Orientation:u.orientation,FileName:u.fileName};t.raiseWebFormsServerEvents(r,f,e)},animate:function(n){var i,u,r,t;if(n)if(n.constructor===Array)for(t=0;t<n.length;t++)n[t]._animatedSeries=!1,n[t]._animatedTrendline=!1,n[t].AnimationComplete=!1;else n._animatedSeries=!1,n._animatedTrendline=!1,n.AnimationComplete=!1;else{for(i=this.model.series,t=0;t<i.length;t++)i[t]._animatedSeries=!1,i[t]._animatedTrendline=!1,i[t].AnimationComplete=!1;for(u=this.model.indicators,r=0;r<u.length;r++)u[r]._animatedSeries=!1,u[r]._animatedTrendline=!1}this.redraw()},_setModel:function(i){var e,f,u,o,s,r,h;for(u in i){this.disableAnimation();switch(u){case"theme":for(this.model._themeChanged=!0,this.model.theme=i[u],this.setTheme(t.EjSvgRender.themes,this.model.theme),n.extend(!0,this.model.primaryXAxis,t.EjSvgRender.themes[this.model.theme].primaryXAxis),n.extend(!0,this.model.primaryYAxis,t.EjSvgRender.themes[this.model.theme].primaryYAxis),o=0;o<this.model.axes.length;o++)this.model.axes[o].orientation&&this.model.axes[o].orientation.toLowerCase()=="horizontal"?n.extend(!0,this.model.axes[o],t.EjSvgRender.themes[this.model.theme].secondaryX):n.extend(!0,this.model.axes[o],t.EjSvgRender.themes[this.model.theme].secondaryY);for(s=0;s<this.model.series.length;s++)n.extend(!0,this.model.series[s],t.EjSvgRender.themes[this.model.theme].commonSeriesOptions);break;case"commonSeriesOptions":for(r=0;r<this.model.series.length;r++)i[u].dataSource&&(this.model.series[r].dataSource=null),n.extend(!0,this.model.series[r],{},i[u]);break;case"series":for(i[u].length<this.model.series.length&&(this.model.series=this.model.series.slice(0,i[u].length)),e=this.model.series,r=0;r<e.length;r++)i[u][r].dataSource&&(e[r].dataSource=null);for(n.extend(!0,e,{},i[u]),r=0,h=e.length;r<h;r++)e[r].enableAnimation&&(e[r]._animatedSeries=!1),i[u][r]&&i[u][r].dataSource instanceof t.DataManager&&(e[r].dataSource=i[u][r].dataSource),i[u][r]&&i[u][r].query instanceof t.Query&&(e[r].query=i[u][r].query);break;case"legend":n.extend(!0,this.model.legend,{},i[u]);break;case"axes":n.extend(!0,this.model.axes,{},i[u]);break;case"primaryXAxis":this.model.primaryXAxis.setRange=i[u].range?!0:!1;this.model.primaryXAxis.setAxisInterval=i[u].range&&i[u].range.interval?!0:this.model.primaryXAxis.setAxisInterval;this.model.primaryXAxis.actual_Range=this.model._axes[0].setRange?null:this.model._axes[0].actual_Range;n.extend(!0,this.model.primaryXAxis,{},i[u]);break;case"primaryYAxis":this.model.primaryYAxis.setRange=i[u].range?!0:!1;this.model.primaryYAxis.log_Range=i[u].range?i[u].range:this.model.primaryYAxis.log_Range;this.model.primaryYAxis.actual_Range=!this.model._axes||this.model._axes[1].setRange?null:this.model._axes[1].actual_Range;n.extend(!0,this.model.primaryYAxis,{},i[u]);break;case"xZoomFactor":for(this.model.primaryXAxis.zoomFactor=this._xZoomFactor(),f=this.model.axes,r=0;r<f.length;r++)f[r].orientation.toLowerCase()=="horizontal"&&(f[r].zoomFactor=this._xZoomFactor());break;case"yZoomFactor":for(this.model.primaryYAxis.zoomFactor=this._yZoomFactor(),f=this.model.axes,r=0;r<f.length;r++)f[r].orientation.toLowerCase()=="vertical"&&(f[r].zoomFactor=this._yZoomFactor());break;case"xZoomPosition":for(this.model.primaryXAxis.zoomPosition=this._xZoomPosition(),f=this.model.axes,r=0;r<f.length;r++)f[r].orientation.toLowerCase()=="horizontal"&&(f[r].zoomPosition=this._xZoomPosition());break;case"yZoomPosition":for(this.model.primaryYAxis.zoomPosition=this._yZoomPosition(),f=this.model.axes,r=0;r<f.length;r++)f[r].orientation.toLowerCase()=="vertical"&&(f[r].zoomPosition=this._yZoomPosition());break;case"drilldown":this.model.series=[];this.model.explodeValue=null;n.extend(!0,this.model,{},i[u]);break;case"datasource":for(r=0;r<this.model.series.length;r++)this.model.series[r].dataSource=null,this.model.series[r].points=null;n.extend(!0,this.model,{},i[u]);break;case"chartArea":n.extend(!0,this.model.chartArea,{},i[u]);break;default:for(n.extend(!0,this.model,{},i[u]),e=this.model.series,r=0,h=e.length;r<h;r++)e[r].enableAnimation&&(e[r]._animatedSeries=!1)}}this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents();n("#annotation_group_"+this._id).remove();this.model.enableCanvasRendering?(n(this.svgObject).remove(),n("#canvas_trackSymbol").remove(),n("#"+this._id+"_canvas_Tracker").remove(),n("#secondCanvas").remove(),this.svgRenderer=new t.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=t.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=t.util.isNullOrUndefined(this.model.size.width)?n("#"+this._id).width():this.model.size.width,this.svgObject=this.svgRenderer.svgObj,n(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):this.svgObject.id.indexOf("_canvas")!=-1?(this._removeZoomkit(),n(this.svgObject).remove(),this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,n(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):this.chartUpdating||(n(this.svgObject).empty(),n(this.legendSvgContainer).empty());this.bindTo()}});t.datavisualization.Chart.Locale=t.datavisualization.Chart.Locale||{};t.datavisualization.Chart.Locale["default"]=t.datavisualization.Chart.Locale["en-US"]={zoomIn:"Zoom In",zoomOut:"Zoom Out",zoom:"Zoom",pan:"Pan",reset:"Reset"};t.datavisualization.Chart.CrosshairType={Crosshair:"crosshair",TrackBall:"trackBall"};t.datavisualization.Chart.TrackballDisplayMode={Float:"float",Grouping:"grouping"};t.datavisualization.Chart.VisibleOnLegend={Visible:"visible",Hidden:"hidden"};t.datavisualization.Chart.ExportingType={PNG:"png",JPG:"jpg",PDF:"pdf",SVG:"svg",DOCX:"docx",XLSX:"xlsx"};t.datavisualization.Chart.ExportingMode={Client:"client",Server:"server"};t.datavisualization.Chart.ExportingOrientation={Portrait:"portrait",Landscape:"landscape"};t.datavisualization.Chart.ValueType={Double:"double",DateTime:"datetime",Category:"category",Logarithmic:"logarithmic",DateTimeCategory:"datetimecategory"};t.datavisualization.Chart.TextOverflow={None:"none",Wrap:"wrap",Trim:"trim",WrapAndTrim:"wrapandtrim"};t.datavisualization.Chart.Type={Line:"line",Spline:"spline",Column:"column",Doughnut:"doughnut",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",PieOfPie:"pieofpie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble",Scatter:"scatter",Bar:"bar",StackingArea:"stackingarea",StackingArea100:"stackingarea100",RangeColumn:"rangecolumn",StackingColumn:"stackingcolumn",StackingColumn100:"stackingcolumn100",StackingBar:"stackingbar",StackingBar100:"stackingbar100",Pyramid:"pyramid",Funnel:"funnel",Polar:"polar",Radar:"radar",RangeArea:"rangearea",SplineRangeArea:"splinerangearea",Waterfall:"waterfall",BoxAndWhishker:"boxandwhisker",StackingSplineArea:"stackingsplinearea",StackingSplineArea100:"stackingsplinearea100"};t.datavisualization.Chart.SplitMode={Position:"position",Value:"value",Percentage:"percentage",Indexes:"indexes"};t.datavisualization.Chart.SplineType={Natural:"natural",Monotonic:"monotonic",Cardinal:"cardinal",Clamped:"clamped"};t.datavisualization.Chart.DragType={XY:"xy",X:"x",Y:"y"};t.datavisualization.Chart.LabelPlacement={BetweenTicks:"betweenTicks",OnTicks:"onTicks"};t.datavisualization.Chart.TrendlinesType={Linear:"linear",Exponential:"exponential",Logarithmic:"logarithmic",Power:"power",Polynomial:"polynomial"};t.datavisualization.Chart.ErrorBarType={FixedValue:"fixedValue",Percentage:"percentage",StandardDeviation:"standardDeviation",StandardError:"standardError",Custom:"custom"};t.datavisualization.Chart.ErrorBarMode={Both:"both",Vertical:"vertical",Horizontal:"horizontal"};t.datavisualization.Chart.ErrorBarDirection={Both:"both",Plus:"plus",Minus:"minus"};t.datavisualization.Chart.LabelIntersectAction={None:"none",Rotate90:"rotate90",Rotate45:"rotate45",Wrap:"wrap",WrapByword:"wrapByWord",Trim:"trim",Hide:"hide",MultipleRows:"multipleRows"};t.datavisualization.Chart.EdgeLabelPlacement={None:"none",Shift:"shift",Hide:"hide"};t.datavisualization.Chart.roundedCorner={Both:"both",Start:"start",End:"end"};t.datavisualization.Chart.Theme={Azure:"azure",FlatLight:"flatlight",Azuredark:"azuredark",Lime:"lime",LimeDark:"limedark",Saffron:"saffron",SaffronDark:"saffrondark",GradientLight:"gradientlight",GradientDark:"gradientdark",HighContrast01:"highcontrast01",HighContrast02:"highcontrast02",Material:"material",Office365:"office365",Bootstrap:"bootstrap"};t.datavisualization.Chart.FontStyle={Normal:"normal",Italic:"italic"};t.datavisualization.Chart.FontWeight={Regular:"regular",Bold:"bold",Lighter:"lighter"};t.datavisualization.Chart.IntervalType={Auto:"auto",Days:"days",Hours:"hours",Seconds:"seconds",Milliseconds:"milliseconds",Minutes:"minutes",Months:"months",Years:"years"};t.datavisualization.Chart.RangePadding={Additional:"additional",Normal:"normal",None:"none",Round:"round",Auto:"auto"};t.datavisualization.Chart.TextAlignment={MiddleTop:"middletop",MiddleCenter:"middlecenter",MiddleBottom:"middlebottom"};t.datavisualization.Chart.LabelPosition={Inside:"inside",Outside:"outside"};t.datavisualization.Chart.ZIndex={Over:"over",Behind:"behind"};t.datavisualization.Chart.Unit={percentage:"percentage",pixel:"pixel"};t.datavisualization.Chart.PyramidMode={Linear:"linear",Surface:"Surface"};t.datavisualization.Chart.DrawType={Line:"line",Column:"column",Area:"area",RangeColumn:"rangecolumn",Scatter:"scatter",Spline:"spline"};t.datavisualization.Chart.AnimationType={Linear:"linear",Smooth:"smooth"};t.datavisualization.Chart.columnFacet={Rectangle:"rectangle",Cylinder:"cylinder"};t.datavisualization.Chart.EmptyPointMode={Gap:"gap",Zero:"zero",Average:"average"};t.datavisualization.Chart.Pattern={None:"none",Chessboard:"chessboard",Crosshatch:"crosshatch",Dots:"dots",Pacman:"pacman",DiagonalBackward:"diagonalBackward",DiagonalForward:"diagonalForward",Grid:"grid",Turquoise:"turquoise",Star:"star",Triangle:"triangle",Circle:"circle",Tile:"tile",HorizontalDash:"horizontalDash",VerticalDash:"verticalDash",Rectangle:"rectangle",Box:"box",VerticalStripe:"verticalStripe",HorizontalStripe:"horizontalStripe",Bubble:"bubble",Custom:"custom"};t.datavisualization.Chart.Mode={Series:"series",Point:"point",Cluster:"cluster",Range:"range"};t.datavisualization.Chart.SelectionType={Single:"single",Multiple:"multiple"};t.datavisualization.Chart.Shape={None:"none",LeftArrow:"leftarrow",RightArrow:"rightarrow",Circle:"circle",Cross:"cross",HorizLine:"horizline",VertLine:"vertLine",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedtriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"uparrow",DownArrow:"downarrow",Image:"image"};t.datavisualization.Chart.DrawMode={Both:"both",Open:"open",Close:"close"};t.datavisualization.Chart.LineCap={Butt:"butt",Round:"round",Square:"square"};t.datavisualization.Chart.LineJoin={Round:"round",Bevel:"bevel",Miter:"miter"};t.datavisualization.Chart.Position={Top:"top",Middle:"middle",Bottom:"bottom"};t.datavisualization.Chart.Alignment={Center:"center",Near:"near",Far:"far"};t.datavisualization.Chart.RotateOn={Start:"start",Middle:"middle",End:"end"};t.datavisualization.Chart.TextAnchor={Start:"start",Middle:"middle",End:"end"};t.datavisualization.Chart.TickLinesPosition={Inside:"inside",Outside:"outside"};t.datavisualization.Chart.CoordinateUnit={None:"none",Pixels:"pixels",Points:"points"};t.datavisualization.Chart.HorizontalAlignment={Left:"left",Right:"right",Middle:"middle"};t.datavisualization.Chart.VerticalAlignment={Top:"top",Bottom:"bottom",Middle:"middle"};t.datavisualization.Chart.Region={Chart:"chart",Series:"series"};t.datavisualization.Chart.ConnectorLineType={Line:"line",Bezier:"bezier"};t.datavisualization.Chart.HorizontalTextAlignment={Near:"near",Far:"far",Center:"center"};t.datavisualization.Chart.VerticalTextAlignment={Near:"near",Far:"far",Center:"center"};t.datavisualization.Chart.multiLevelLabelsBorderType={None:"none",Rectangle:"rectangle",WithoutTopAndBottom:"withouttopandbottom",Brace:"brace",CurlyBrace:"curlybrace"};t.datavisualization.Chart.MACDType={Line:"line",Histogram:"histogram",Both:"both"};t.datavisualization.Chart.IndicatorsType={RSI:"rsi",Momentum:"momentum",Bollingerband:"bollingerband",Accumulationdistribution:"accumulationdistribution",EMA:"ema",SMA:"sma",Stochastic:"stochastic",ATR:"atr",MACD:"macd",TMA:"tma"};t.datavisualization.Chart.BoxPlotMode={Normal:"normal",Exclusive:"exclusive",Inclusive:"inclusive"};t.datavisualization.Chart.BubbleRadiusMode={MinMax:"minmax",Auto:"auto"};t.datavisualization.Chart.SizeType={Auto:"auto",Pixel:"pixel",Years:"years",Months:"months",Days:"days",Hours:"hours",Minutes:"minutes",Seconds:"seconds"};n.extend(t.datavisualization.Chart.prototype,t.ejChart)}(jQuery,Syncfusion);ej.EjSvgScrollbarRender=function(n,t){var i,r;this.svgSupport=window.SVGSVGElement?!0:!1;i=jQuery(n).attr("id");this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[];this.svgSupport?(this.svgLink="http://www.w3.org/2000/svg",this.scrollsvgObj[t.index]=document.createElementNS(this.svgLink,"svg"),this.scrollsvgObj[t.index].setAttribute("id","scrollbar_"+i+t.index)):(r=document,this.scrollsvgObj[t.index]=r.createElement("div"),this.scrollsvgObj[t.index].style.position="relative",this.scrollsvgObj[t.index].setAttribute("id","scrollbar_"+i+t.index))},function(n){ej.EjSvgScrollbarRender.prototype={_initializeScrollbarVariables:function(n){n.offsetLeftX=0;n.rectWidth=n.offsetRightX=n.oldWidth=n.width;n.startX=0;n.endX=0;n.scrollbarLoaded=!1;(n.zoomPosition||n.zoomFactor)&&(n.offsetLeftX=n.zoomPosition*n.width,n.rectWidth=n.zoomFactor*n.width)},_scrollbarUpdate:function(n){var o=parseFloat(n.width),t=15,u=44,e=o-30,f;n.offsetLeftX=n.scrollbarLoaded?n.offsetLeftX-t:n.offsetLeftX;n.offsetLeftX=n.offsetLeftX<t?0:n.offsetLeftX;var r=n.offsetLeftX/n.oldWidth*e+t,i=n.rectWidth/n.oldWidth*e,s=i<u;n._diff=s?u-i:0;i=i>u?i:u;n.oldWidth=e;f=r+i;n.rectWidth=i;n.offsetLeftX=n.startX=r;n.offsetRightX=f-t<=r?f+t:f;n.endX=n.width-n.offsetRightX;n.startX=r<t?t:r;r+i>n.width-t&&(n.offsetLeftX=n.startX=n.width-t-i,n.offsetRightX=n.width-t,n.endX=n.width-n.offsetRightX);n.scrollbarLoaded=!0},_renderScrollbar:function(t){var o,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,v;this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[];n(this.scrollsvgObj[t.index]).empty();this.scrollsvgObj[t.index]&&n(document).find("[id*= "+this.scrollsvgObj[t.index].id+"]").attr("height","0px");var i=this._id,e=15,s=18,c=44;this.scrollsvgObj[t.index]=this.scrollbarContainer.scrollsvgObj[t.index];var l=17,f=parseFloat(t.width),y=8,p=l/2,h=f-e*2;t.offsetLeftX=t.scrollbarLoaded?t.offsetLeftX-e:t.offsetLeftX;t.offsetLeftX=t.offsetLeftX<e?0:t.offsetLeftX;var u=t.offsetLeftX/t.oldWidth*h+e,r=t.rectWidth/t.oldWidth*h,ot=r<c;t._diff=ot?c-r:0;r=r>c?r:c;t.oldWidth=h;u=u+r>h?h-(r-e):u;o=u+r;t.rectWidth=r;t.offsetLeftX=t.startX=u;t.offsetRightX=u+r;t.endX=t.width-t.offsetRightX;t.scrollbarLoaded=!0;o=o-e<=u?o+e:o;w=this.padding||0;b=this.vmlRendering?-5:0;this.scrollbar=t.orientation=="horizontal"?this.renderer.createGroup({id:i+"_scrollbar_"+t.index,transform:"translate("+w+","+b+")"}):this.renderer.createGroup({id:i+"_scrollbar_"+t.index,transform:"translate(0,"+t.width+") rotate(270)"});var st=function(n,t,i,r,u,f){var e=" ",c="M",h="h",o="v",s="a",l="z",a=f.orientation,v=f.opposed;return a=="vertical"&&!v||v&&a!="vertical"?c+e+n+e+u+e+o+e+(r-u)+e+h+e+i+e+o+e+(u-r)+e+s+e+u+e+u+e+0+e+0+e+0+e+-u+e+-u+e+h+e+-(i-2*u)+e+s+e+u+e+u+e+0+e+0+e+0+e+-4+e+u+e+l:c+e+n+e+t+e+o+e+(r-u)+e+s+e+u+e+u+e+0+e+0+e+0+e+u+e+u+e+h+e+(i-2*u)+e+s+e+u+e+u+e+0+e+0+e+0+e+u+e+-u+e+o+e+(u-r)+e+l},ht=st(0,0,f,s,4,t),a={id:i+"_scrollbarBackRect_"+t.index,"stroke-width":1,height:s,width:f,"stroke-linejoin":"round",stroke:"#B4B4B4",fill:"#F7F7F7","class":"e-rangeScroll-backRect"};this.vmlRendering?this.renderer.drawRect(a,this.scrollbar):(a.d=ht,this.renderer.drawPath(a,this.scrollbar));k={id:i+"_scrollbarRightRect_"+t.index,"stroke-width":1,x:f-5,height:s,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"};this.renderer.drawRect(k,this.scrollbar);d={id:i+"_scrollbarLeftRect_"+t.index,"stroke-width":1,x:0,height:s,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"};this.renderer.drawRect(d,this.scrollbar);g={id:i+"_scrollbarLeftArrow_"+t.index,"stroke-width":1,stroke:"#999999",d:"M 5 9 L 10 14 L 10 "+3.5+" Z",fill:"#999999","class":"e-rangeScroll-arrow"};this.renderer.drawPath(g,this.scrollbar);nt={id:i+"_scrollbarRightArrow_"+t.index,"stroke-width":1,stroke:"#999999",d:"M "+(f-5)+" 9 L "+(f-10)+" 14 L "+(f-10)+" "+3.5+" Z",fill:"#999999","class":"e-rangeScroll-arrow"};this.renderer.drawPath(nt,this.scrollbar);tt={id:i+"_scrollbarSelect_"+t.index,x:u,y:0,width:r,rx:4,ry:4,height:l,stroke:"#999999","stroke-width":1,fill:"#CECECE","class":"e-rangeScroll-select"};this.renderer.drawRect(tt,this.scrollbar);this.centerLine=this.renderer.createGroup({id:i+"_scrollbarCenterLine_"+t.index,transform:"translate("+(u+r/2-7.5)+")"});it={id:i+"_scrollbarCenterShape_"+t.index,"stroke-width":1,stroke:"#999999",d:"M 0 "+3.5+" L 0 "+13.5+" ZM 5 "+3.5+" L 5 "+13.5+" ZM 10 "+3.5+" L 10 "+13.5+" ZM 15 "+3.5+" L 15 "+13.5+" Z",fill:"#999999","class":"e-rangeScroll-centerShape"};this.renderer.drawPath(it,this.centerLine);this.renderer.append(this.centerLine,this.scrollbar);rt={id:i+"_leftHeaderHideRect_"+t.index,x:u,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,"class":"e-rangeScroll-leftRect"};this.renderer.drawRect(rt,this.scrollbar);ut={id:i+"_scrollbarLeftHeader_"+t.index,cx:u+y,cy:p,r:3,fill:"#999999",stroke:"#999999","stroke-width":1,"class":"e-rangeScroll-leftCircle"};this.renderer.drawCircle(ut,this.scrollbar);ft={id:i+"_rightHeaderHideRect_"+t.index,x:o-11,y:0,width:11,height:l,fill:"transparent",opacity:0,"stroke-width":1,"class":"e-rangeScroll-rightRect"};this.renderer.drawRect(ft,this.scrollbar);et={id:i+"_scrollbarRightHeader_"+t.index,fill:"#999999",cx:o-y,cy:p,r:3,stroke:"#999999","stroke-width":1,"class":"e-rangeScroll-rightCircle"};this.renderer.drawCircle(et,this.scrollbar);this.renderer.append(this.scrollbar,this.scrollsvgObj[t.index]);t.orientation=="horizontal"?(this.scrollsvgObj[t.index].setAttribute("height",s),this.scrollsvgObj[t.index].setAttribute("width",f)):(this.scrollsvgObj[t.index].setAttribute("height",f),this.scrollsvgObj[t.index].setAttribute("width",s));this.renderer.append(this.scrollsvgObj[t.index],t.parent);v=this.vmlRendering?t.y+5:t.y;this.pluginName=="ejRangeNavigator"?this.scrollsvgObj[t.index].setAttribute("style","overflow:visible;position:relative;display:block; top:"+(v-t.y)+"px;left:"+t.x+"px"):this.scrollsvgObj[t.index].setAttribute("style","overflow:visible;position:absolute;display:block; top:"+v+"px;left:"+t.x+"px");n("#"+i+"_scrollbarSelect_"+t.index).css({cursor:"pointer"});t.enableResize?(n("#"+i+"_leftHeaderHideRect_"+t.index).css({cursor:t.orientation=="horizontal"?"w-resize":"n-resize"}),n("#"+i+"_rightHeaderHideRect_"+t.index).css({cursor:t.orientation=="horizontal"?"w-resize":"n-resize"}),n("#"+i+"_scrollbarRightHeader_"+t.index).css({cursor:t.orientation=="horizontal"?"w-resize":"n-resize"}),n("#"+i+"_scrollbarLeftHeader_"+t.index).css({cursor:t.orientation=="horizontal"?"w-resize":"n-resize"})):(n("#"+i+"_leftHeaderHideRect_"+t.index).hide(),n("#"+i+"_rightHeaderHideRect_"+t.index).hide(),n("#"+i+"_scrollbarLeftHeader_"+t.index).hide(),n("#"+i+"_scrollbarRightHeader_"+t.index).hide());this.vmlRendering&&(n("#"+i+"_leftHeaderHideRect_"+t.index).css("visibility","hidden"),n("#"+i+"_rightHeaderHideRect_"+t.index).css("visibility","hidden"));this.scrollbarContainer._bindScrollEvents.call(this,t)},_bindScrollEvents:function(t){function e(t){this._on(n("#"+i+"_scrollbarLeftHeader_"+t.index),"mousedown",this.scrollbarContainer._leftScrollbarDown);this._on(n("#"+i+"_scrollbarRightHeader_"+t.index),"mousedown",this.scrollbarContainer._rightScrollbarDown);this._on(n("#"+i+"_leftHeaderHideRect_"+t.index),"mousedown",this.scrollbarContainer._leftScrollbarDown);this._on(n("#"+i+"_rightHeaderHideRect_"+t.index),"mousedown",this.scrollbarContainer._rightScrollbarDown);this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"mousedown",this.scrollbarContainer._leftArrowDown);this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"mouseup",this.scrollbarContainer._leftArrowUp);this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"mousedown",this.scrollbarContainer._rightArrowDown);this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"mouseup",this.scrollbarContainer._rightArrowUp);this._on(n("#"+i+"_scrollbarSelect_"+t.index),"mousedown",this.scrollbarContainer._scrollSelectRectDown);this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"mousedown",this.scrollbarContainer._scrollBackRectDown);this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"mouseup",this.scrollbarContainer._scrollBackRectUp);this._on(n(window),"mousemove",this.scrollbarContainer._scrollbarMove);this._on(n(window),"mouseup",this.scrollbarContainer._scrollbarUp);this._on(n(this.svgObject),"mousemove",this.scrollbarContainer._scrollbarMove);this._on(n(this.scrollsvgObj[t.index]),"mousemove",this.scrollbarContainer._scrollbarMove);this._on(n(this.scrollsvgObj[t.index]),"mouseup",this.scrollbarContainer._scrollbarUp)}function o(t){this._on(n("#"+i+"_scrollbarLeftHeader_"+t.index),"touchstart",this.scrollbarContainer._leftScrollbarDown);this._on(n("#"+i+"_scrollbarRightHeader_"+t.index),"touchstart",this.scrollbarContainer._rightScrollbarDown);this._on(n("#"+i+"_leftHeaderHideRect_"+t.index),"touchstart",this.scrollbarContainer._leftScrollbarDown);this._on(n("#"+i+"_rightHeaderHideRect_"+t.index),"touchstart",this.scrollbarContainer._rightScrollbarDown);this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"touchstart",this.scrollbarContainer._leftArrowDown);this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"touchend",this.scrollbarContainer._leftArrowUp);this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"touchstart",this.scrollbarContainer._rightArrowDown);this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"touchend",this.scrollbarContainer._rightArrowUp);this._on(n("#"+i+"_scrollbarSelect_"+t.index),"touchstart",this.scrollbarContainer._scrollSelectRectDown);this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"touchstart",this.scrollbarContainer._scrollBackRectDown);this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"touchend",this.scrollbarContainer._scrollBackRectUp);this._on(n(window),"touchmove",this.scrollbarContainer._scrollbarMove);this._on(n(window),"touchend",this.scrollbarContainer._scrollbarUp);this._on(n(this.scrollsvgObj[t.index]),"touchmove",this.scrollbarContainer._scrollbarMove);this._on(n(this.scrollsvgObj[t.index]),"touchend",this.scrollbarContainer._scrollbarUp)}var i=this._id,u=jQuery.uaMatch(navigator.userAgent),r=!!navigator.userAgent.match(/Trident\/7\./),f;if(e.call(this,t),window.PointerEvent)this._on(n("#"+i+"_scrollbarLeftHeader_"+t.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+i+"_scrollbarRightHeader_"+t.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+i+"_leftHeaderHideRect_"+t.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+i+"_rightHeaderHideRect_"+t.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"pointerdown",this.scrollbarContainer._leftArrowDown),this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"pointerup",this.scrollbarContainer._leftArrowUp),this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"pointerdown",this.scrollbarContainer._rightArrowDown),this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"pointerup",this.scrollbarContainer._rightArrowUp),this._on(n("#"+i+"_scrollbarSelect_"+t.index),"pointerdown",this.scrollbarContainer._scrollSelectRectDown),this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"pointerdown",this.scrollbarContainer._scrollBackRectDown),this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"pointerup",this.scrollbarContainer._scrollBackRectUp),this._on(n(window),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(n(window),"pointerup",this.scrollbarContainer._scrollbarUp),this._on(n(this.scrollsvgObj[t.index]),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[t.index]),"pointerup",this.scrollbarContainer._scrollbarUp),n(this.scrollsvgObj[t.index]).css("touch-action","none");else if(window.navigator.msPointerEnabled&&!r)this._on(n("#"+i+"_scrollbarLeftHeader_"+t.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+i+"_scrollbarRightHeader_"+t.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+i+"_leftHeaderHideRect_"+t.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+i+"_rightHeaderHideRect_"+t.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"MSPointerDown",this.scrollbarContainer._leftArrowDown),this._on(n("#"+i+"_scrollbarLeftArrow_"+t.index),"MSPointerUp",this.scrollbarContainer._leftArrowUp),this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"MSPointerDown",this.scrollbarContainer._rightArrowDown),this._on(n("#"+i+"_scrollbarRightArrow_"+t.index),"MSPointerUp",this.scrollbarContainer._rightArrowUp),this._on(n("#"+i+"_scrollbarSelect_"+t.index),"MSPointerDown",this.scrollbarContainer._scrollSelectRectDown),this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"MSPointerDown",this.scrollbarContainer._scrollBackRectDown),this._on(n("#"+i+"_scrollbarBackRect_"+t.index),"MSPointerUp",this.scrollbarContainer._scrollBackRectUp),this._on(n(window),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(n(window),"MSPointerUp",this.scrollbarContainer._scrollbarUp),this._on(n(this.scrollsvgObj[t.index]),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[t.index]),"MSPointerUp",this.scrollbarContainer._scrollbarUp),n(this.scrollsvgObj[t.index]).css("-ms-touch-action","none");else if(u.browser.toLowerCase()=="chrome")o.call(this,t);else if(this.isDevice()){var s=navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,h=window.location!=window.parent.location?!0:!1,c=h?window.parent.navigator.userAgent.toLowerCase():window.navigator.userAgent.toLowerCase(),l=/mobile|tablet|android|kindle/i.test(c);ej.isMobile()&&this.isWindows()||!l&&ej.isMobile()&&s?(e.call(this),n(this.scrollsvgObj[t.index]).css("-ms-touch-action","none")):o.call(this,t)}f=u.browser.toLowerCase()=="mozilla"?r?"mousewheel":"DOMMouseScroll":"mousewheel";this._on(n(this.scrollsvgObj[t.index]),f,this.scrollbarContainer._scrollMouseWheel);r&&n(this.scrollsvgObj[t.index]).css("touch-action","none")},_setScrollPosition:function(t,i,r){var f=8,u=this._id,e=t+r.rectWidth/2-7.5;n("#"+u+"_scrollbarLeftHeader_"+r.index).attr("cx",t+f);n("#"+u+"_leftHeaderHideRect_"+r.index).attr("x",t);n("#"+u+"_scrollbarRightHeader_"+r.index).attr("cx",i-f);n("#"+u+"_rightHeaderHideRect_"+r.index).attr("x",i-5);n("#"+u+"_scrollbarSelect_"+r.index).attr("x",t);n("#"+u+"_scrollbarSelect_"+r.index).attr("width",r.rectWidth);n("#"+u+"_scrollbarCenterLine_"+r.index).attr("transform","translate("+e+")");this.pluginName=="ejRangeNavigator"&&(n("#"+u+"_scrollbarLeftHeader_"+r.index).css("left",t),n("#"+u+"_leftHeaderHideRect_"+r.index).css("left",t),n("#"+u+"_scrollbarRightHeader_"+r.index).css("left",i-f),n("#"+u+"_rightHeaderHideRect_"+r.index).css("left",i-5),n("#"+u+"_scrollbarSelect_"+r.index).css("left",t),n("#"+u+"_scrollbarCenterLine_"+r.index).css("left",e))},_calculateScrollLeftMove:function(n,t){t._startX-n>15?(t.startX=t._startX-n,t.offsetLeftX=t.startX,t._offsetRightX=t.startX+t.rectWidth,t.offsetRightX=t._offsetRightX,t.endX=t.width-t.offsetRightX):(t.startX=15,t._offsetLeftX=t.offsetLeftX,t.offsetLeftX=t.startX,t._offsetRightX=t.startX+t.rectWidth,t.offsetRightX=t._offsetRightX,t.endX=t.width-t.offsetRightX)},_calculateScrollRightMove:function(n,t){t&&t._offsetRightX+Math.abs(n)<t.width-15?(t._startX=t.startX+Math.abs(n),t.offsetLeftX=t._startX,t.offsetRightX=t._offsetRightX+Math.abs(n),t.endX=t.width-t.offsetRightX):(t._ofsetRightX=t.offsetRightX,t.offsetRightX=t.width-15,t._startX=t.offsetRightX-t.rectWidth,t.offsetLeftX=t._startX,t.endX=t.width-t.offsetRightX)},_calculateRange:function(t,i,r){var o,s,e,u,f,a=30,h,c,l;return o=(t-15)/(r.width-a-r._diff),e=r.scrollRange,s=(r.rectWidth-r._diff)/(r.width-a-r._diff),r.isRTL?(f=e.max-o*e.delta,u=f-s*e.delta):(u=e.min+o*e.delta,f=u+s*e.delta),r.valueType=="datetime"?(h=r.startDateTime,c=r.endDateTime,r.startDateTime=this.startDateTime=u=new Date(u),r.endDateTime=this.endDateTime=f=new Date(f)):(h=parseInt(r.startValue),c=parseInt(r.endValue),r.startValue=this.startValue=u=Math.ceil(u),r.endValue=this.endValue=f=Math.ceil(f)),r._scrollChanged=!0,l=n.extend({},ej.EjSvgRender.commonChartEventArgs),l.data={zoomPosition:o,zoomFactor:s,oldRange:{start:h,end:c},newRange:{start:u,end:f}},r.zoomPosition=o,r.zoomFactor=s,l},_calculateScrollPosition:function(t,i){var s,h,f,r,u,e,o,y=30,a=15,c,p,w=36,l,v;if(this.leftScrollbarClicked&&i.enableResize)return t=t>=a?t:a,t=t>=a&&t<i.offsetRightX-a?t:i.offsetRightX-a,s=(t-w)/(i.width-y),h=i.rectWidth/(i.width-y),c=i.valueType.toLowerCase(),f=i.scrollRange,i.isRTL?(u=f.max-s*f.delta,u=u<f.max?u:f.max,c=="datetime"?(e=i.startDateTime,o=i.endDateTime,i.endDateTime=this.endDateTime=u=new Date(u),r=i.startDateTime):(e=parseInt(i.startValue),o=parseInt(i.endValue),i.endValue=this.endValue=u=Math.ceil(u),r=Math.ceil(i.startValue))):(r=f.min+s*f.delta,r=r>f.min?r:f.min,c=="datetime"?(e=i.startDateTime,o=i.endDateTime,i.startDateTime=this.startDateTime=r=new Date(r),u=i.endDateTime):(e=parseInt(i.startValue),o=parseInt(i.endValue),i.startValue=this.startValue=r=Math.ceil(r),u=Math.ceil(i.endValue))),l=n.extend({},ej.EjSvgRender.commonChartEventArgs),l.data={zoomPosition:s,zoomFactor:h,oldRange:{start:e,end:o},newRange:{start:r,end:u}},i._scrollChanged=!0,i.zoomPosition=s,i.zoomFactor=h,l;if(this.rightScrollbarClicked&&i.enableResize)return f=i.scrollRange,h=i.rectWidth/(i.width-y),s=i.zoomPosition,c=i.valueType.toLowerCase(),i.isRTL?(s=(t-w)/(i.width-y),r=f.max-s*f.delta,c=="datetime"?(e=i.startDateTime,o=i.endDateTime,i.startDateTime=this.startDateTime=r=new Date(r),u=i.endDateTime):(e=parseInt(i.startValue),o=parseInt(i.endValue),i.startValue=this.startValue=r=Math.floor(r),u=Math.ceil(i.endValue))):(p=f.min+s*f.delta,u=p+h*f.delta,c=="datetime"?(e=i.startDateTime,o=i.endDateTime,i.endDateTime=this.endDateTime=u=new Date(u),r=i.startDateTime):(e=parseInt(i.startValue),o=parseInt(i.endValue),i.endValue=this.endValue=u=Math.floor(u),r=Math.ceil(i.startValue))),l=n.extend({},ej.EjSvgRender.commonChartEventArgs),l.data={zoomPosition:i.zoomPosition?i.zoomPosition:0,zoomFactor:h,oldRange:{start:e,end:o},newRange:{start:r,end:u}},i._scrollChanged=!0,i.zoomFactor=h,l;if(i&&this.scrollRectClicked){if(v=this.mouseDownPos-t,v>0&&i.offsetLeftX>=0)return this.scrollbarContainer._calculateScrollLeftMove.call(this,v,i),this.scrollbarContainer._calculateRange.call(this,i.startX,i.offsetRightX,i);if(v<0)return this.scrollbarContainer._calculateScrollRightMove.call(this,v,i),this.scrollbarContainer._calculateRange.call(this,i._startX,i.offsetRightX,i)}},_scrollbarMove:function(t){var u,s;if(this.moveClientX=ej.isNullOrUndefined(t.clientX)?t.originalEvent.clientX==null?t.originalEvent.touches[0].clientX:t.originalEvent.clientX:t.clientX,this.moveClientX!=this.downClientX){var f=8,o=34,r,e,w=this.model.padding||0,b=jQuery.uaMatch(navigator.userAgent),i=this.scrollbarContainer._doScrollIndex.call(this,t);if(!i)return 0;if(this.lastIndex=i.index,r=!this.vmlRendering&&t.originalEvent.toString()!=="[object TouchEvent]"&&b.browser.toLowerCase()!="msie"||this.vmlRendering?(i.orientation=="horizontal"?this.calMousePosition(t).X-i.x:i.width-(this.calMousePosition(t).Y-i.y))-w:(i.orientation=="horizontal"?this.calTouchPosition(t).X-i.x:i.width-(this.calTouchPosition(t).Y-i.y))-w,this.mouseX=r,u=this._id,this.leftScrollbarClicked&&i.enableResize&&(i&&(r>o||r>23)&&r<i.offsetRightX-o?(i.rectWidth=i.width-(i.endX+r-f),e=r-f+i.rectWidth/2-7.5,n("#"+u+"_scrollbarLeftHeader_"+i.index).attr("cx",r),n("#"+u+"_leftHeaderHideRect_"+i.index).attr("x",r-7.5),n("#"+u+"_scrollbarSelect_"+i.index).attr("x",r-f),n("#"+u+"_scrollbarSelect_"+i.index).attr("width",i.rectWidth),n("#"+u+"_scrollbarCenterLine_"+i.index).attr("transform","translate("+e+")"),this.pluginName=="ejRangeNavigator"&&(n("#"+u+"_scrollbarLeftHeader_"+i.index).css("left",r),n("#"+u+"_leftHeaderHideRect_"+i.index).css("left",r-7.5),n("#"+u+"_scrollbarSelect_"+i.index).css("left",r),n("#"+u+"_scrollbarSelect_"+i.index).css("width",i.rectWidth),n("#"+u+"_scrollbarCenterLine_"+i.index).css("left",e)),i.offsetLeftX=i.startX=r-8,this.scrollbarContainer._scrollStartArgs.call(this,i),this.scrollbarContainer._scrollChangeArgs.call(this,i),i._diff=0):r>i.offsetRightX-o&&(this.rectWidth=42.899841017488143)),this.rightScrollbarClicked&&i.enableResize&&i&&(r<=i.width-o||r<=i.width-23)&&r>i.offsetLeftX+o&&(i.rectWidth=r-i.offsetLeftX+f,e=i.offsetLeftX+i.rectWidth/2-7.5,n("#"+u+"_scrollbarRightHeader_"+i.index).attr("cx",r),n("#"+u+"_rightHeaderHideRect_"+i.index).attr("x",r-2.5),n("#"+u+"_scrollbarSelect_"+i.index).attr("width",i.rectWidth),n("#"+u+"_scrollbarCenterLine_"+i.index).attr("transform","translate("+e+")"),this.pluginName=="ejRangeNavigator"&&(n("#"+u+"_scrollbarRightHeader_"+i.index).css("left",r),n("#"+u+"_rightHeaderHideRect_"+i.index).css("left",r-2.5),n("#"+u+"_scrollbarSelect_"+i.index).css("width",i.rectWidth),n("#"+u+"_scrollbarCenterLine_"+i.index).css("left",e)),i.offsetRightX=r+f,i.endX=i.width-r-f,this.scrollbarContainer._scrollStartArgs.call(this,i),this.scrollbarContainer._scrollChangeArgs.call(this,i),i._diff=0),this.scrollRectClicked&&(s=this.mouseDownPos-r,i._startX=ej.isNullOrUndefined(i._startX)?i.startX:i._startX,i&&s>0&&i.offsetLeftX>=0&&(this.scrollbarContainer._calculateScrollLeftMove.call(this,s,i),this.scrollbarContainer._setScrollPosition.call(this,i.startX,i.offsetRightX,i),(i.offsetLeftX>15||i.offsetLeftX!=i._offsetLeftX)&&(this.scrollbarContainer._scrollStartArgs.call(this,i),this.scrollbarContainer._scrollChangeArgs.call(this,i))),i&&s<0&&(ej.isNullOrUndefined(i._offsetRightX)&&(this.scrollbarContainer._scrollSelectRectDown.call(this,t),this.scrollbarContainer._scrollbarMove.call(this,t)),this.scrollbarContainer._calculateScrollRightMove.call(this,s,i),this.scrollbarContainer._setScrollPosition.call(this,i._startX,i._startX+i.rectWidth,i),(i.offsetRightX<i.width-15||i.offsetRightX!=i._ofsetRightX)&&(this.scrollbarContainer._scrollStartArgs.call(this,i),this.model.enableDeferredUpdate===!1||i.isZooming||this.model.scrollChanged!="")))){var h=this.scrollbarContainer._calculateRange.call(this,i._startX,i._startX+i.rectWidth,i),c=h.data.oldRange,l=h.data.newRange,a,v,y,p;i.valueType.toLowerCase()=="datetime"?(a=Date.parse(c.start),y=Date.parse(l.start),v=Date.parse(c.end),p=Date.parse(l.end)):(a=c.start,y=l.start,v=c.end,p=l.end);this.model.scrollChanged!=""&&(a!=y||v!=p)&&(h=this.scrollbarContainer._args.call(this,i,h),this._trigger("scrollChanged",h));this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,i))}}this.offsetX=r},_scrollbarUp:function(t){var i=this.scrollbarContainer._doScrollIndex.call(this,t),r,s,u,f,h,c,e,o,l;n("[id^="+this._id+"_scrollbarSelect_]").attr("class","e-rangeScroll-select");this.lastIndex=null;r=this.scrollbarContainer._calculateScrollPosition.call(this,this.mouseX,i);s=this.model.enableDeferredUpdate;r&&(u=r.data.oldRange,f=r.data.newRange,i.valueType.toLowerCase()=="datetime"?(h=Date.parse(u.start),e=Date.parse(f.start),c=Date.parse(u.end),o=Date.parse(f.end)):(h=u.start,e=f.start,c=u.end,o=f.end),(h!=e||c!=o||this.scrollRectClicked&&!s||s||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(l=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1,(!l||l&&(this.leftScrollbarClicked||this.rightScrollbarClicked)&&this.downClientX!=this.moveClientX||this.scrollRectClicked||this.leftArrowClicked||this.rightArrowClicked)&&(!this.leftScrollbarClicked&&!this.rightScrollbarClicked||(this.leftScrollbarClicked||this.rightScrollbarClicked)&&Math.ceil(i.rectWidth)!=Math.ceil(this.rectOldWidth)&&(Math.abs(i.rectWidth-i.rectOldWidth)>4||!i.rectOldWidth))&&(ej.isNullOrUndefined(i._previousStart)||i._previousStart!=e||i._previousEnd!=o)&&(r=this.scrollbarContainer._args.call(this,i,r),this._trigger("scrollEnd",r),i._scrollStarted=!1,i._previousStart=e,i._previousEnd=o,i.rectOldWidth=i.rectWidth,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,i))),i.release=!0,i.clicked=!1);this._scrollEnd=!1;this.leftScrollbarClicked=!1;this.rightScrollbarClicked=!1;this.scrollRectClicked=!1;this.leftArrowClicked=!1;this.rightArrowClicked=!1;this.scrollbarBackRectClicked=!1},_leftScrollbarDown:function(n){n.preventDefault();this.leftScrollbarClicked=!0;this.downClientX=ej.isNullOrUndefined(n.clientX)?n.originalEvent.touches[0].clientX:n.clientX},_rightScrollbarDown:function(n){n.preventDefault();this.rightScrollbarClicked=!0;this.downClientX=ej.isNullOrUndefined(n.clientX)?n.originalEvent.touches[0].clientX:n.clientX},_scrollSelectRectDown:function(t){var i=this.scrollbarContainer._doScrollIndex.call(this,t),u;n("#"+this._id+"_scrollbarSelect_"+i.index).attr("class","e-rangeScroll-select e-rangeScroll-select-hover");t.preventDefault();var f=jQuery.uaMatch(navigator.userAgent),r=this.model.padding||0,i=this.scrollbarContainer._doScrollIndex.call(this,t);u=!this.vmlRendering&&t.originalEvent.toString()!=="[object TouchEvent]"&&f.browser.toLowerCase()!="msie"||this.vmlRendering?(i.orientation=="horizontal"?this.calMousePosition(t).X-i.x:i.width-(this.calMousePosition(t).Y-i.y))-r:(i.orientation=="horizontal"?this.calTouchPosition(t).X-i.x:i.width-(this.calTouchPosition(t).Y-i.y))-r;this.mouseDownPos=u;i._startX=i.startX=i.offsetLeftX;i._offsetRightX=i.offsetRightX;i.clicked=!0;i.release=!1;this.scrollRectClicked=!0},_scrollMouseWheel:function(n){n.preventDefault();var t=this.scrollbarContainer._doScrollIndex.call(this,n),r=!!navigator.userAgent.match(/Trident\/7\./),i=n.originalEvent.wheelDelta,u=jQuery.uaMatch(navigator.userAgent),f=u.browser.toLowerCase()=="mozilla"?r?i/120>0?1:-1:-n.originalEvent.detail/3>0?1:-1:i/120>0?1:-1,e=Math.max(1/ej.EjSvgRender.utils._minMax(t.zoomFactor,0,1),1),o=Math.max(e+.25*f,1);this.scrollbarContainer.doMouseWheelZoom.call(this,o,.5,t)},_scrollStartArgs:function(t){if(t._scrollStarted=!0,this.model.scrollStart!=""&&!this._scrollEnd){var i=n.extend({},ej.EjSvgRender.commonChartEventArgs);i.data=t.isZooming?{axis:this.model._axes[t.index],currentRange:this.model._axes[t.index].visibleRange}:{startRange:t.valueType=="datetime"?t.startDateTime:t.startValue,endRange:t.valueType=="datetime"?t.endDateTime:t.endValue};this._trigger("scrollStart",i);this._scrollEnd=!0}},_scrollChangeArgs:function(n){if(this.model.enableDeferredUpdate===!1||n.isZooming||this.model.scrollChanged!=""){var t=this.scrollbarContainer._calculateRange.call(this,n.offsetLeftX,n.offsetRightX,n),i=t.data.oldRange,r=t.data.newRange,u,f,e,o;n.valueType.toLowerCase()=="datetime"?(u=Date.parse(i.start),e=Date.parse(r.start),f=Date.parse(i.end),o=Date.parse(r.end)):(u=i.start,e=r.start,f=i.end,o=r.end);this.model.scrollChanged!=""&&(u!=e||f!=o)&&(t=this.scrollbarContainer._args.call(this,n,t),this._trigger("scrollChanged",t));this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,n))}},_scrollEndArgs:function(n,t){var i=this.scrollbarContainer._calculateRange.call(this,n,t.offsetRightX,t),r,u,f,e,o,s;i&&t._scrollStarted&&(r=i.data.oldRange,u=i.data.newRange,t.valueType.toLowerCase()=="datetime"?(f=Date.parse(r.start),o=Date.parse(u.start),e=Date.parse(r.end),s=Date.parse(u.end)):(f=r.start,o=u.start,e=r.end,s=u.end),(f!=o||e!=s||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(i=this.scrollbarContainer._args.call(this,t,i),this._trigger("scrollEnd",i)),t._scrollStarted=!1,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,t))},_args:function(n,t){if(n.isZooming){var i=this.model._axes[n.index],r=t.data;r.axis=i;r.newRange=i.visibleRange;r.oldRange=i.previousRange}return n.isVirtual&&(t.data.axis=this.model._axes[n.index],delete t.data.zoomFactor,delete t.data.zoomPosition),t},doMouseWheelZoom:function(n,t,i){if(n>=1){var r=this.scrollbarContainer.calZoomFactors(n,t,i.zoomFactor,i.zoomPosition);i.zoomPosition!=r.zoomMPosition&&r.zoomMPosition+i.zoomFactor<=1&&i.zoomPosition>=0&&(r.zoomMPosition+i.zoomFactor>=1&&(r.zoomMPosition=1-i.zoomFactor),r.zoomMPosition<0&&(r.zoomMPosition=0),i.zoomPosition=r.zoomMPosition,i.startX=i.zoomPosition*(i.width-30-i._diff)+15,i.startX=i.startX+i.rectWidth+5>i.width?i.width-i.rectWidth-15:i.startX,i.offsetLeftX=i.startX,i._offsetRightX=i.startX+i.rectWidth,i._offsetRightX>i.width-15?(i.offsetRightX=i.width-15,i.startX=i.offsetRightX-i.rectWidth,i.offsetLeftX=i.startX):i.offsetRightX=i._offsetRightX,i.endX=i.width-i.offsetRightX,this.scrollbarContainer._setScrollPosition.call(this,i.startX,i.offsetRightX,i),this.scrollbarContainer._calculateMouseWheelRange.call(this,i.startX,i.offsetRightX,i))}return!1},_calculateMouseWheelRange:function(t,i,r){var e,u,f,w=30,c,l,o,s,h,a,v,y,p;r.zoomFactor=r.rectWidth/(r.width-w);r.zoomPosition=(t-15)/(r.width-w-r._diff);e=r.scrollRange;r.isRTL?(f=e.max-r.zoomPosition*e.delta,u=f-r.zoomFactor*e.delta):(u=e.min+r.zoomPosition*e.delta,f=u+r.zoomFactor*e.delta);r.valueType=="datetime"?(c=r.startDateTime,l=r.endDateTime,r.startDateTime=this.startDateTime=u=new Date(u),r.endDateTime=this.endDateTime=f=new Date(f)):(c=parseInt(r.startValue),l=parseInt(r.endValue),r.startValue=this.startValue=u=Math.ceil(u),r.endValue=this.endValue=f=Math.ceil(f));o=n.extend({},ej.EjSvgRender.commonChartEventArgs);o.data={zoomPosition:r.zoomPosition,zoomFactor:r.zoomFactor,oldRange:{start:c,end:l},newRange:{start:u,end:f}};r._scrollChanged=!0;r._scrollStarted=!1;s=o.data.oldRange;h=o.data.newRange;r.valueType.toLowerCase()=="datetime"?(a=Date.parse(s.start),y=Date.parse(h.start),v=Date.parse(s.end),p=Date.parse(h.end)):(a=s.start,y=h.start,v=s.end,p=h.end);(a!=y||v!=p||r.isZooming)&&(this.scrollbarContainer._scrollStartArgs.call(this,r),o=this.scrollbarContainer._args.call(this,r,o),this._trigger("scrollEnd",o),this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,r),this._scrollEnd=!1)},calZoomFactors:function(n,t,i,r){var u,f;return n==1?(u=1,f=0):(u=ej.EjSvgRender.utils._minMax(1/n,0,1),f=r+(i-u)*t),{zoomMFactor:u,zoomMPosition:f}},_leftArrowDown:function(n){var t,i;this.leftArrowClicked=!0;t=this.scrollbarContainer._doScrollIndex.call(this,n);t._startX=t.startX=t.offsetLeftX;t._offsetRightX=t.offsetRightX;t.leftIncrement=5;i=this;t.interval=setInterval(function(){i.scrollbarContainer.leftArrowRecursive.call(i,t)},50)},_leftArrowUp:function(n){this.leftArrowClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,n);this.scrollbarContainer.leftArrowRecursive.call(this,t)},leftArrowRecursive:function(n){if(this.leftArrowClicked){var t=this._id;this.scrollbarContainer._calculateScrollLeftMove.call(this,n.leftIncrement,n);n._scrollStarted=!0;n.startX>15&&this.scrollbarContainer._scrollEndArgs.call(this,n.startX,n);this.scrollbarContainer._setScrollPosition.call(this,n.startX,n.offsetRightX,n);n.leftIncrement+=5}else clearInterval(n.interval),n.leftIncrement=0},_rightArrowDown:function(n){var t,i;this.rightArrowClicked=!0;t=this.scrollbarContainer._doScrollIndex.call(this,n);t._startX=t.startX=t.offsetLeftX;t._offsetRightX=t.offsetRightX;t.rightIncrement=-5;i=this;t.interval=setInterval(function(){i.scrollbarContainer.rightArrowRecursive.call(i,t)},50)},_rightArrowUp:function(n){this.rightArrowClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,n);this.scrollbarContainer.rightArrowRecursive.call(this,t)},rightArrowRecursive:function(n){if(this.rightArrowClicked){var t=this._id;this.scrollbarContainer._calculateScrollRightMove.call(this,n.rightIncrement,n);n._scrollStarted=!0;n.offsetRightX<n.width-15&&this.scrollbarContainer._scrollEndArgs.call(this,n._startX,n);this.scrollbarContainer._setScrollPosition.call(this,n._startX,n.offsetRightX,n);n.rightIncrement-=5}else clearInterval(n.interval),n.rightIncrement=0},_scrollBackRectDown:function(n){var e=jQuery.uaMatch(navigator.userAgent),r=this.model.padding||0,t=this.scrollbarContainer._doScrollIndex.call(this,n),u,i,f;u=!this.vmlRendering&&n.originalEvent.toString()!=="[object TouchEvent]"&&e.browser.toLowerCase()!="msie"||this.vmlRendering?(t.orientation=="horizontal"?this.calMousePosition(n).X-t.x:t.width-(this.calMousePosition(n).Y-t.y))-r:(t.orientation=="horizontal"?this.calTouchPosition(n).X-t.x:t.width-(this.calTouchPosition(n).Y-t.y))-r;this.mouseDownPos=u;this.scrollbarBackRectClicked=!0;i=this;this.scrollbarContainer._scrollStartArgs.call(this,t);f=setInterval(function(){i.scrollbarContainer.scrollBackRectRecursive.call(i,t);this.scrollbarBackRectClicked||clearInterval(f)},50)},_scrollBackRectUp:function(n){this.scrollbarBackRectClicked=!1;var t=this.scrollbarContainer._doScrollIndex.call(this,n);this.scrollbarContainer.scrollBackRectRecursive.call(this,t)},_doScrollIndex:function(n){var i=this._id+"_scrollbar_",r=n.target.parentNode&&n.target.parentNode.id?n.target.parentNode.id:"",t=r.indexOf(i)>-1?parseInt(r.substr(i.length)):NaN;return ej.isNullOrUndefined(this.lastIndex)||isNaN(this.lastIndex)||!this.model.scrollObj[this.lastIndex].release&&this.model.scrollObj[this.lastIndex].clicked&&(t=this.lastIndex),this.lastIndex=ej.isNullOrUndefined(this.lastIndex)?t:this.lastIndex,ej.isNullOrUndefined(this.model.scrollObj[t])?this.model.scrollObj[this.lastIndex]:this.model.scrollObj[t]},scrollBackRectRecursive:function(n){if(this.scrollbarBackRectClicked){var t=10/100*(n.width-30);n._startX=n.startX=n.offsetLeftX;n._offsetRightX=n.offsetRightX;this.mouseDownPos<n.startX?(t=t<n.startX?t:n.startX-16,this.scrollbarContainer._calculateScrollLeftMove.call(this,t,n),n._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,n.startX,n),this.scrollbarContainer._setScrollPosition.call(this,n.startX,n.offsetRightX,n)):this.mouseDownPos>n.offsetRightX?(t=(t<n.endX?t:n.endX-16)*-1,this.scrollbarContainer._calculateScrollRightMove.call(this,t,n),n._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,n._startX,n),this.scrollbarContainer._setScrollPosition.call(this,n._startX,n.offsetRightX,n)):n._scrollStarted=!1}else n._scrollStarted=!1},_appendScrollRange:function(n){if(this.scrollbarUpdate=!0,this.pluginName=="ejRangeNavigator")this.renderNavigator();else{var i=n.index,t=this.model._axes[i];n.isZooming&&(t.zoomFactor!=n.zoomFactor||t.zoomPosition!=n.zoomPosition)&&(t.zoomFactor=n.zoomFactor,t.zoomPosition=n.zoomPosition,this.redraw(!0))}this.scrollbarUpdate=!1}}}(jQuery),function(n,t,i){var r,f,u;t.widget({ejCircularGauge:"ej.datavisualization.CircularGauge"},{_rootCSS:"e-circulargauge",validTags:["div","span"],_savedPoints:[],_labelRadius:0,_customLblMaxSize:0,defaults:{exportSettings:{mode:"client",type:"png",fileName:"CircularGauge",action:""},locale:null,enableGroupSeparator:!1,value:0,minimum:0,maximum:100,radius:180,width:360,height:360,frame:{frameType:"fullcircle",backgroundImageUrl:null,halfCircleFrameStartAngle:180,halfCircleFrameEndAngle:360},backgroundColor:null,interiorGradient:null,readOnly:!0,enableAnimation:!0,animationSpeed:500,theme:"flatlight",isRadialGradient:!1,enableResize:!1,isResponsive:!1,tooltip:{showLabelTooltip:!1,showCustomLabelTooltip:!1,templateID:null},outerCustomLabelPosition:"bottom",gaugePosition:"center",distanceFromCorner:20,rangeZOrder:"rear",drawTicks:null,drawLabels:null,drawPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,drawPointerCap:null,load:null,doubleClick:"",rightClick:"",renderComplete:null,mouseClick:null,mouseClickMove:null,mouseClickUp:null,legendItemRender:null,legendItemClick:null,rangeMouseMove:null,scales:null,legend:{visible:!1,toggleVisibility:!0,border:{color:"transparent",width:1},itemPadding:20,shape:"circle",alignment:"center",position:"bottom",itemStyle:{height:9,width:9,border:{color:"transparent",width:1}},opacity:1,fill:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"},size:{height:null,width:null}},themeProperties:{flatlight:{backgroundColor:"#FFFFFF",scales:{pointerCap:{borderColor:"#424242",backgroundColor:"#424242"},backgroundColor:"#777777",border:{color:"#777777"},pointers:{backgroundColor:"#424242",border:{color:"#424242"}},ticks:{color:"#777777"},labels:{color:"#282828"}}},flatdark:{backgroundColor:"#1F1F1F",scales:{pointerCap:{borderColor:"#686868",backgroundColor:"#686868"},backgroundColor:"#7a7a7a",border:{color:"#7a7a7a"},pointers:{backgroundColor:"#686868",border:{color:"#686868"}},ticks:{color:"#7a7a7a"},labels:{color:"#d3d3d3"}}}}},_defaultScaleValues:function(){return{size:6,pointerCap:{radius:7,borderWidth:3,interiorGradient:null,borderColor:null,backgroundColor:null},showScaleBar:!1,sweepAngle:310,radius:170,startAngle:115,majorIntervalValue:10,minorIntervalValue:2,maximum:null,minimum:null,border:{color:null,width:1.5},backgroundColor:null,direction:"clockwise",showPointers:!0,showRanges:!1,showTicks:!0,showLabels:!0,showIndicators:!1,opacity:1,shadowOffset:0,customLabels:[{value:null,color:null,textAngle:0,positionType:"inner",position:{x:0,y:0},font:{size:"11px",fontFamily:"arial",fontStyle:"bold"}}],pointers:[{distanceFromScale:0,showBackNeedle:!1,backNeedleLength:10,length:150,placement:"near",width:7,opacity:1,value:null,border:{color:null,width:1.5},backgroundColor:null,gradients:null,type:"needle",needleType:"triangle",markerType:"rectangle",imageUrl:"",pointerValueText:{showValue:!1,distance:20,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},color:"#8c8c8c",opacity:1,autoAngle:!1,angle:0}}],ranges:[{legendText:null,distanceFromScale:25,size:5,placement:"near",startValue:null,endValue:null,startWidth:null,endWidth:null,gradients:null,opacity:null,backgroundColor:"#32b3c6",border:{color:"#32b3c6",width:1.5}}],ticks:[{angle:0,distanceFromScale:0,color:null,type:"major",placement:"near",height:16,width:3},{angle:0,distanceFromScale:0,color:null,type:"minor",placement:"near",height:7,width:1}],labels:[{angle:0,autoAngle:!1,opacity:null,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},color:null,distanceFromScale:0,includeFirstValue:!0,placement:"near",type:"major",unitText:"",unitTextPosition:"back"}],indicators:[{height:15,width:15,type:"circle",imageUrl:null,position:{x:0,y:0},stateRanges:[{endValue:0,startValue:0,backgroundColor:null,borderColor:null,text:"",textColor:null,font:null}]}],subGauges:[{height:150,width:150,position:{x:0,y:0}}]}},dataTypes:{scales:"data",isResponsive:"boolean"},observables:["value","minimum","maximum"],_tags:[{tag:"scales",attr:["showScaleBar","pointerCap.radius","pointerCap.borderWidth","pointerCap.interiorGradient","pointerCap.borderColor","pointerCap.backgroundColor","sweepAngle","startAngle","showPointers","showTicks","backgroundColor","scaleRadius","majorIntervalValue","minorIntervalValue","shadowOffset","showRanges","showLabels","showCustomLabels","showIndicators","border.width","border.color",[{tag:"pointers",attr:["distanceFromScale","showBackNeedle","backNeedleLength","backgroundColor","needleType","markerType","border.width","border.color","imageUrl","pointerValueText.showValue","pointerValueText.distance","pointerValueText.font.size","pointerValueText.font.fontFamily","pointerValueText.font.fontStyle","pointerValueText.angle","pointerValueText.autoAngle","pointerValueText.color","pointerValueText.opacity"]},{tag:"labels",attr:["autoAngle","distanceFromScale","includeFirstValue","unitText","unitTextPosition","font.size","font.fontFamily","font.fontStyle"]},{tag:"ticks",attr:["distanceFromScale"]},{tag:"ranges",attr:["legendText","distanceFromScale","startValue","endValue","startWidth","endWidth","backgroundColor","border.color","border.width"]},{tag:"indicators",attr:["imageUrl","position.x","position.y",[{tag:"stateRanges",attr:["endValue","startValue","backgroundColor","borderColor","textColor"]}]]},{tag:"subGauges",attr:["controlID","position.x","position.y"]},{tag:"customLabels",attr:["positionType","textAngle","position.x","position.y","font.size","font.fontFamily","font.fontStyle"]}]]}],value:t.util.valueFunction("value"),minimum:t.util.valueFunction("minimum"),maximum:t.util.valueFunction("maximum"),_setModel:function(t){var i,r,u,f,e;for(i in t)switch(i){case"height":this.model.height=t[i];break;case"width":this.model.width=t[i];break;case"radius":this.model.radius=t[i];break;case"frame":n.extend(this.model.frame,t[i]);break;case"tooltip":n.extend(this.model.tooltip,t[i]);break;case"backgroundColor":this.model.backgroundColor=t[i];break;case"interiorGradient":this.model.interiorGradient=t[i];break;case"readOnly":this.model.readOnly=t[i];break;case"theme":this.model.theme=t[i];break;case"isRadialGradient":this.model.isRadialGradient=t[i];break;case"outerCustomLabelPosition":this.model.outerCustomLabelPosition=t[i];break;case"gaugePosition":this.model.gaugePosition=t[i];break;case"distanceFromCorner":this.model.distanceFromCorner=t[i];break;case"rangeZOrder ":this.model.rangeZOrder=t[i];break;case"value":for(this.value()==""&&this.value(0),r=0;this.model.scales[r]!=null;r++)for(u=0;this.model.scales[r].pointers[u]!=null;u++)this.model.scales[r].pointers[u].value=parseFloat(this.value());break;case"minimum":for(this.minimum()==""&&this.minimum(0),f=0;this.model.scales[f]!=null;f++)this.model.scales[f].minimum=parseInt(this.minimum());break;case"maximum":for(this.maximum()==""&&this.maximum(100),e=0;this.model.scales[e]!=null;e++)this.model.scales[e].maximum=parseInt(this.maximum());break;case"scales":n.extend(!0,this.model.scales,t[i])}this._init()},_destroy:function(){this._unWireEvents();this.element.empty().removeClass("e-circulargauge e-js e-widget")},_init:function(){r=n(".e-circulargauge").length;f=r;this._scaleRedrawn=!1;this._scalesInitialize();this._trigger("load");this._setTheme();this._initialize();this.model.frame.backgroundImageUrl&&this.initialize();this._wireEvents();this._onWindowResize()},_onWindowResize:function(){(this.model.enableResize||this.model.isResponsive)&&(t.isTouchDevice()?this._on(n(window),"orientationchange",this.resizeCanvas):this._on(n(window),"resize",this.resizeCanvas))},_initialize:function(){this._androidAnimation=this.isAndroid()&&t.datavisualization.CircularGauge.animationPolyfill;this._initObject(this);this._drawOuterLayer();this.model.legend.visible&&this.model.legend._legendItemHeight>0&&this.model.legend._legendItemWidth>0&&(this._drawLegend(),this._legendDrawn=!0);this._drawScales();this.model.renderComplete&&this._onRenderComplete()},_drawLegend:function(){var r=this.model.legend,n,p=this.GaugeEl,u=20,c=this.model.legend.position.toLowerCase(),l=this.model.legend.alignment.toLowerCase(),y,f=this.model.legend.border.width,e=this.model.width,o=this.model.height,s,a,h;for(n=this.model.legendActualBounds,c=="top"||c=="bottom"?(n.y=c=="top"?f+u:o-n.Height,n.x=l=="center"?e/2-n.Width/2:l=="near"?f+u:e-n.Width-u,n.x=n.x+n.Width>e?n.x-Math.abs(n.x+n.Width-e):n.x):(n.x=c=="left"?f:e-n.Width,n.y=l=="center"?o/2-n.Height/2:l=="near"?f+u:o-n.Height-u,n.y=n.y+n.Height>o?n.y-Math.abs(n.y+n.Height-o):n.y),this._legendBounds=n,this.contextEl.lineWidth=f,this.contextEl.save(),this.contextEl.strokeStyle=this.model.legend.border.color,this.contextEl.strokeRect(n.x,n.y,n.Width,n.Height),this.contextEl.restore(),this.model._legendCollection=[],s=0;s<this.model.scales.length;s++)for(a=this.model.scales[s],h=0;h<a.ranges.length;h++){var i=a.ranges[h],v;i._visible=t.util.isNullOrUndefined(i._visible)?!0:i._visible;t.util.isNullOrUndefined(i.legendText)||(v=this._getLegendSize(i,10),y={Bounds:{Height:v.Height,Width:v.Width},legendStyle:{font:r.font,opacity:r.opacity,BorderColor:r.itemStyle.border.color,BorderWidth:r.itemStyle.border.width},displayText:i.legendText,fill:t.util.isNullOrUndefined(r.fill)?i.backgroundColor:r.fill,ScaleIndex:s,RangeIndex:h,visible:i._visible},this.model._legendCollection.push(y))}this._drawLegendItem(n)},legendMouseClick:function(n){var i,t,u,f,e,o,s,h,r=this.calMousePosition(n);if(this.model.legend.toggleVisibility)for(i=0;i<this.legendRegion.length;i++)t=this.legendRegion[i],u=t.X,f=t.X+t.Width,e=t.Y,o=t.Y+t.Height,r.X>=u&&r.X<=f&&r.Y>=e&&r.Y<=o&&(s={type:"legendItemClick",cancel:!1,data:t,model:this.model},this._trigger("legendItemClick",s),h=this.model.scales[t.item.ScaleIndex].ranges[t.item.RangeIndex]._visible?!1:!0,this.setRangeVisible(t.item.ScaleIndex,t.item.RangeIndex,h))},calMousePosition:function(t){var e=jQuery.uaMatch(navigator.userAgent),r,u,f,o,i;return r=this.GaugeEl[0],i=r.querySelector("canvas"),o=e.browser.toLowerCase(),u=t.pageX-n(i).offset().left,f=t.pageY-n(i).offset().top,{X:u,Y:f}},rangesMouseMove:function(t){var ot=this,a,v,p,w,b,k,d,g,ft,f,r,nt,y,s,tt,h=this.calMousePosition(t),i,e,o,et,it,rt,ut,u,c,l;if(this.model.legend.toggleVisibility&&this._legendDrawn)for(v=0;v<this.legendRegion.length;v++)if(i=this.legendRegion[v],p=i.X,w=i.X+i.Width,b=i.Y,k=i.Y+i.Height,h.X>=p&&h.X<=w&&h.Y>=b&&h.Y<=k){n(this.GaugeEl[0]).css("cursor","pointer");break}else n(this.GaugeEl[0]).css("cursor","default");for(d=h.X,g=h.Y,ft=[],f=this.model.scales[0].startAngle,r=this.model.scales[0].sweepAngle,nt=f*(Math.PI/180),y=0;y<this._rangeCollectionRegions.length;y++)if(i=this._rangeCollectionRegions[y],e=d-i.centerRadius.centerX,o=g-i.centerRadius.centerY,et=i.Radius.endRadius?i.Radius.endRadius:0,f=f<0?f+360:f,r=r<0?r+360:r,it=r-f,rt=-.5*Math.PI+nt,it<0){if(r=r/360,ut=r?2*Math.PI*(r<0?1+r:r):0,u=(Math.atan2(o,e)-rt-ut)%(2*Math.PI),u<0&&(u=2*Math.PI+u),c=Math.PI*(i.Region.startAngle/180),l=Math.PI*(i.Region.endAngle/180),u<=c&&u>=l&&(s=Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(o),2)),s<=i.Radius.startRadius&&s>i.Radius.endRadius)){a={type:"rangeMouseMove",cancel:!1,data:i,model:this.model};this._trigger("rangeMouseMove",a);break}}else if(u=Math.atan2(o,e)%(2*Math.PI),u<0&&(u=2*Math.PI+u),i.Region.endAngle<i.Region.startAngle?(c=e>0&&o>0?0:Math.PI*(i.Region.startAngle/180),l=e>0&&o>0?Math.PI*(i.Region.endAngle/180):Math.PI*((360+i.Region.endAngle)/180)):(c=Math.PI*(i.Region.startAngle/180),l=Math.PI*(i.Region.endAngle/180)),u>=c&&u<=l&&(s=Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(o),2)),s<=i.Radius.startRadius&&s>i.Radius.endRadius)){tt=i;a={type:"rangeMouseMove",cancel:!1,data:i,model:this.model};this._trigger("rangeMouseMove",a);break}return tt},_cgDoubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_cgRightClick:function(n){this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}})},_drawLegendItem:function(i){var s=[],e=[],st,tt,r,nt,pt;for(this.legendRegion=[],this.model.legend._legendTextMaxHeight=0,this.model.legend._legendTextMaxWidth=0,tt=this.model.legend.position.toLowerCase(),r=0;r<this.model._legendCollection.length;r++){var c=this.model.legend.shape.toLowerCase(),y=10,p=10,w=3,a,v,it,rt,ut,u,b,ht,k,ft,ct,et,lt,at,o,vt,ot,f,d,h,l,g,yt=10;u=this.model._legendCollection[r];t.util.isNullOrUndefined(u.displayText)||(st={type:"legendItemRender",cancel:!1,data:u,model:this.model},this._trigger("legendItemRender",st),this.model.scales[u.ScaleIndex].ranges[u.RangeIndex]._visible=t.util.isNullOrUndefined(this.model.scales[u.ScaleIndex].ranges[u.RangeIndex]._visible)?!0:this.model.scales[u.ScaleIndex].ranges[u.RangeIndex]._visible,ht=this.model.scales[u.ScaleIndex].ranges[u.RangeIndex]._visible?u.fill:"#808080",lt=this.model.scales[u.ScaleIndex].ranges[u.RangeIndex]._visible?u.legendStyle.font.color:"#808080",at=this._getFontString(this,u.legendStyle.font),o=this.calcText(u.displayText,i.Width,u.legendStyle.font),this.model.legend._legendTextMaxHeight=Math.max(o.height,this.model.legend._legendTextMaxHeight),this.model.legend._legendTextMaxWidth=Math.max(o.width,this.model.legend._legendTextMaxWidth),vt=this.model.legend.itemStyle.height,ot=this.model.legend.itemStyle.width,f=(vt+ot)/2,d={angle:0,width:f,isFill:!0,isStroke:!0,height:f,lineWidth:this.model.legend.itemStyle.border.width,opacity:u.legendStyle.opacity,strokeStyle:u.legendStyle.BorderColor,fillStyle:ht},y=f>o.height/2?y+f/2:y+o.height/4,p=c=="circle"?p+f/2:p,r==0?(a=p+i.x,v=i.y+y):tt=="top"||tt=="bottom"?(nt=e[r-1].x+e[r-1].width+this.model.legend.itemPadding,nt+f+w+o.width>=i.x+i.Width?(a=p+i.x,v=this.model.legend._legendTextMaxHeight/2>f?e[r-1].y+s[r-1].actualBounds.height/2+f/2+yt:yt+s[r-1].actualBounds.y+s[r-1].actualBounds.height/2+f/2):(a=c.toLowerCase()=="circle"?nt+f/2:nt,v=s[r-1].actualBounds.y)):(ut=e[r-1].height>f?e[r-1].y+this.model.legend.itemPadding:s[r-1].actualBounds.y+f+this.model.legend.itemPadding,pt=e[r-1].height>f?o.height:f,ut+pt-2>i.y+i.Height+2?(v=i.y+y,a=s[r-1].actualBounds.x+s[r-1].actualBounds.width+(this.model.legend._legendTextMaxWidth+w)+10):(a=s[r-1].actualBounds.x,v=ut)),h={startX:a,startY:v},c=c.charAt(0).toUpperCase()+c.slice(1),l=n.extend({},h,!0),l.startX=c.toLowerCase()=="circle"?l.startX-f/2:l.startX,l.startY=l.startY-f/2,s.push({actualBounds:{x:h.startX,y:h.startY,height:f,width:f},item:u}),b={angle:0,width:o.width,isFill:!0,isStroke:!0,height:o.height,textValue:u.displayText,font:at,fillStyle:lt,opacity:u.legendStyle.opacity,strokeStyle:u.legendStyle.BorderColor},it=c.toLowerCase()=="circle"?h.startX+ot/2+w:h.startX+d.width+w,rt=h.startY+o.height/4,e.push({x:it,y:rt,height:o.height/2,width:o.width}),k=l.startX,ct=Math.abs(k+s[r].actualBounds.width-k)+w+Math.abs(e[r].x+e[r].width-e[r].x),f>e[r].height?(ft=l.startY,et=f):(ft=e[r].y-e[r].height,et=e[r].height),c.toLowerCase()=="circle"?(g=this._setPointerDimension(d,this),this._contextOpenPath(g,this),this._setContextRotation(g,this),this.contextEl.arc(h.startX,h.startY,f/2,0,2*Math.PI),this._contextClosePath(g,this)):this["_draw"+c](h,d,this),this._contextOpenPath(b,this),this.contextEl.font=b.font,this.contextEl.translate(it,rt),this.contextEl.fillText(b.textValue,0,0),this._contextClosePath(b,this),this.legendRegion.push({X:k,Y:ft,Width:ct,Height:et,item:u}))}},calcText:function(t,r,u){var h=n(document).find("#measureTex"),f,c=null,l=null,a=null,v=null,o,s,e,y;if(n("#measureTex").css("display","block"),h.length==0?(f=document.createElement("text"),n(f).attr({id:"measureTex"}),document.body.appendChild(f)):f=h[0],typeof t=="string"&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(o=t.split(" "),s=0;s<o.length;s++)o[s].indexOf("<br/>")==-1&&(o[s]=o[s].replace(/[<>]/g,"&"));t=o.join(" ")}return f.innerHTML=t,u!=i&&u.size==i&&(e=u,e=e.split(" "),c=e[0],l=e[1],a=e[2],v=e[3]),u!=null&&(f.style.fontSize=u.size>0?u.size+"px":u.size?u.size:l,f.style.fontStyle&&(f.style.fontStyle=u.fontStyle?u.fontStyle:c),f.style.fontFamily=u.fontFamily?u.fontFamily:a,window.navigator.userAgent.indexOf("MSIE 8.0")==-1&&(f.style.fontWeight=u.fontWeight?u.fontWeight:v)),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",f.style.whiteSpace="nowrap",r&&(f.style.maxwidth=r+"px"),y={width:f.offsetWidth,height:f.offsetHeight},n("#measureTex").css("display","none"),y},_calculateLegendBounds:function(){var i=this,r=i.model.legend,f=0,a,e=i.model.legend.position.toLowerCase(),o,v,c,u=10,y=i.model.legend.border.width,p=i.model.legend.itemPadding,s,l,h;return s=i.findMaxHeightWidth(),this._gaugeResizeState||t.util.isNullOrUndefined(i.model.legend.size.height)&&t.util.isNullOrUndefined(i.model.legend.size.width)?(h=i.findLegendMax(),l={Height:h.Height,Width:h.Width},i.model.legend.size._height=i.model.legend.size._width=null):parseInt(i.model.legend.size.width)<s.width&&!t.util.isNullOrUndefined(i.model.legend.size.width)||parseInt(i.model.legend.size.height)<s.height&&!t.util.isNullOrUndefined(i.model.legend.size.height)?(h=i.findLegendMax(),l={Height:h.Height,Width:h.Width},i.model.legend.size._height=i.model.legend.size._width=null):(i.model.legend._legendItemHeight=0,i.model.legend._columnWidth=0,i.model.legend._legendItemWidth=0,i.model.legend._rowCount=1,i.model.legend._columnCount=1,i.model.legend._maxWidth=0,i.model.legend._maxHeight=0,i._columnIncreasing=0,i._columnDecreasing=0,n.each(i.model.scales,function(w,b){if(b.showRanges&&(i.scaleIndex=w,b.ranges!=null)){for(i.rangeEl=b.ranges,i.index=0,a=0;a<i.model.scales[i.scaleIndex].ranges.length;a++)t.util.isNullOrUndefined(i.model.scales[i.scaleIndex].ranges[a].legendText)||f++;n.each(b.ranges,function(n,a){i.rangeIndex=n;!t.util.isNullOrUndefined(a.legendText)&&a.legendText.replace(/\s/g,"").length>0&&i.index<f&&(o=i._getLegendSize(a),parseInt(i.model.legend.size.width)?(c=i.index==0?u+y:e=="top"||e=="bottom"?p:u,v=i.index==0?u+y:0,r._legendItemWidth=e=="top"||e=="bottom"?c+o.Width+r._legendItemWidth:c+s.width+r._legendItemWidth,r._legendItemHeight=v+Math.max(o.Height,r._legendItemHeight),i._columnIncreasing++,i._columnDecreasing=Math.max(i._columnDecreasing,i._columnIncreasing),parseInt(i.model.legend.size.width)<=r._legendItemWidth?(i.model.legend._rowCount++,i._columnIncreasing=0,r._legendItemHeight+=e=="top"||e=="bottom"?i.index==f-1?o.Height+u*2:o.Height+u:i.index==f-1?o.Height+u+p:o.Height+p,r._legendItemWidth=e=="top"||e=="bottom"?i.index==f-1?parseInt(i.model.legend.size.width):o.Width+u:s.width+u):i.index==f-1&&i.model.legend._rowCount>1&&(r._legendItemHeight+=u,i.model.legend.size._width=i.model.legend.size.width,parseInt(i.model.legend.size.width)>s.width*(i._columnDecreasing-1)+(i._columnDecreasing-1)*u+u&&(r._legendItemWidth=s.width*(i._columnDecreasing-1)+(i._columnDecreasing-1)*u+u,i.model.legend.size._width=null))):e=="left"||e=="right"?(c=i.index==0?u+y:i.index==f-1?u:0,v=i.index==0?u+y:p,r._legendItemWidth=c+Math.max(s.width,r._legendItemWidth),r._legendItemHeight=v+o.Height+r._legendItemHeight,i.model.legend.size._height=parseInt(i.model.legend.size.height),parseInt(i.model.legend.size.height)<r._legendItemHeight?(i.model.legend._rowCount++,r._legendItemWidth+=i.index==f-1?s.width+u*2:s.width+u,r._legendItemHeight=o.Height+u):f==1&&parseInt(i.model.legend.size.height)>r._legendItemHeight&&(i.model.legend.size._height=null,r._legendItemWidth+=u,r._legendItemHeight+=u)):(h=i.findLegendMax(),l={Height:h.Height,Width:h.Width},i.index=f-1));i.index++})}}),l={Height:r._legendItemHeight,Width:r._legendItemWidth}),l},findLegendMax:function(){var i=this,r;i.model.legend._legendItemHeight=0;i.model.legend._rowWidth=0;i.model.legend._legendItemWidth=0;i.model.legend._rowCount=1;i.model.legend._columnCount=1;i.model.legend._maxWidth=0;i.model.legend._maxHeight=0;var r=i.model.legend,f=0,a,v,y=i.model.legend.position.toLowerCase(),o,h,c,e=20,u=10,p,s=i.model.legend.border.width,l=i.model.legend.itemPadding;return i.model.legend.size._height=i.model.legend.size._width=null,n.each(i.model.scales,function(w,b){if(b.showRanges&&(i.scaleIndex=w,b.ranges!=null)){for(i.rangeEl=b.ranges,i.index=0,a=0;a<i.model.scales[i.scaleIndex].ranges.length;a++)t.util.isNullOrUndefined(i.model.scales[i.scaleIndex].ranges[a].legendText)||f++;n.each(b.ranges,function(n,a){i.rangeIndex=n;t.util.isNullOrUndefined(a.legendText)||(o=i._getLegendSize(a),y=="top"||y=="bottom"?(f!=1?(c=i.index==0?u*2+s:i.index==f-1?u+l:l,h=i.index==0?u:i.index==f-1?u:0):h=c=u*2,r._legendItemHeight=h+Math.max(o.Height,r._legendItemHeight),r._maxHeight=Math.max(o.Height,r._maxHeight),r._legendItemWidth=c+o.Width+r._legendItemWidth,p=i.model.legend._rowCount>1&&i.index==f-1?u:0,i.model.width-(e-s)<=r._legendItemWidth-p?(i.model.legend._rowCount++,r._rowWidth=Math.max(r._rowWidth,r._legendItemWidth-l-o.Width),r._legendItemWidth=i.index==f-1?r._rowWidth<i.model.width-e*2?r._rowWidth:i.model.width-e*2:i.index==0?e+u+s:o.Width+e+u+s,r._legendItemHeight+=r._maxHeight+(u+s)):i.index==f-1&&i.model.legend._rowCount>1&&(r._legendItemWidth=r._rowWidth<i.model.width-e*2?r._rowWidth:i.model.width-e*2)):(f!=1?(h=i.index==0?u+s:i.index==f-1?u+l:l,c=i.index==0?u:i.index==f-1?u*2:0):h=c=u*2,r._legendItemHeight=o.Height+h+r._legendItemHeight,r._legendItemWidth=c+Math.max(o.Width,r._legendItemWidth),r._maxWidth=Math.max(o.Width,r._maxWidth),i.model.height-e<r._legendItemHeight?(i.model.legend._columnCount++,v=i.model.legend._columnCount==2?e:0,r._legendItemHeight=i.index==f-1?i.model.height-e*2:o.Height+e+u+s+v,r._legendItemWidth+=r._maxWidth+u):i.index==f-1&&i.model.legend._columnCount>1&&(r._legendItemHeight=i.model.height-e*2)),i.index++)})}}),{Height:r._legendItemHeight,Width:r._legendItemWidth}},findMaxHeightWidth:function(){var u=this,t=0,i=0,r;return n.each(u.model.scales,function(f,e){n.each(e.ranges,function(n,f){r=u._getLegendSize(f);t=Math.max(r.Height,t);i=Math.max(r.Width,i)})}),{height:t,width:i}},_getLegendSize:function(n){var t,i,r,u,f=this.model.legend.font;return t=(this.model.legend.itemStyle.width+this.model.legend.itemStyle.height)/2,i=this.calcText(n.legendText,null,f),r=Math.max(t,i.height/2),u=t+3+i.width,{Height:r,Width:u}},_scalesInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r);n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this,u;return n.each(t,function(n,t){if(u=typeof n,(u!="string"||u=="string"&&n.indexOf("_")==-1&&n.indexOf("__")==-1)&&typeof t!="function")if(t instanceof Array)r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"&&!t.setter&&!t.factory&&!t.key){var f=r._defaultScaleValues();r._LoadIndividualDefaultValues(t,f,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,e=this,f;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),f=typeof r,n.each(t,function(n,t){t instanceof Array?e._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(f!="string"||f=="string"&&r.indexOf("_")==-1&&r.indexOf("__")==-1)&&e._LoadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this._initObject(this);this.model.frame.backgroundImageUrl?this._drawCustomImage(this,this.model.frame.backgroundImageUrl):this.model.scales!=null&&this._drawScales()},_initObject:function(i){var w,v,c,p,s,h,o,it,g,nt,a,e,l,tt,rt,y;for(this._savedPoints=[],this.element.addClass("e-widget"),i.GaugeEl=this.element,i.canvasEl?(i.canvasEl.remove(),i.GaugeEl.empty()):i.canvasEl=n("<canvas><\/canvas>"),w=0,e=0;this.model.scales[e]!=null;e++){for(this.model.scales[e].minimum==null&&(this.model.scales[e].minimum=this.minimum()),this.model.scales[e].maximum==null&&(this.model.scales[e].maximum=this.maximum()),v=0;this.model.scales[e].pointers[v]!=null;v++)this.model.scales[e].pointers[v].value==null&&(this.model.scales[e].pointers[v].value=this.value());for(c=0;this.model.scales[e].customLabels[c]!=null;c++)if(this.model.scales[e].customLabels[c].value!=null&&(w++,i.GaugeEl.find("div").length==0))if(this.model.scales[e].customLabels[c]!=null&&this.model.scales[e].customLabels[c].positionType!=null&&this.model.scales[e].customLabels[c].positionType=="outer")if(i.outerDiv=t.buildTag("div"),i.model.outerCustomLabelPosition=="bottom")i.GaugeEl.append(i.canvasEl),i.GaugeEl.append(i.outerDiv),i.outerDiv.css("text-align","center");else if(i.model.outerCustomLabelPosition!="top"){p=t.buildTag("TABLE");p.css("width","100%");var b=t.buildTag("TR"),k=t.buildTag("TD"),d=t.buildTag("td");i.model.outerCustomLabelPosition=="left"?(k.append(i.outerDiv),d.append(i.canvasEl)):(k.append(i.canvasEl),d.append(i.outerDiv));b.append(k);b.append(d);p.append(b);i.GaugeEl.append(p);i.outerDiv.css({width:this.element.width()-i.model.width})}else i.GaugeEl.append(i.outerDiv),i.GaugeEl.append(i.canvasEl),i.outerDiv.css("text-align","center");else i.GaugeEl.append(i.canvasEl);w==0&&i.GaugeEl.append(i.canvasEl)}if(i.canvasEl.attr("role","presentation"),r==f&&(u=window.innerWidth),i.canvasEl[0].setAttribute("width",i.model.width),i.canvasEl[0].setAttribute("height",i.model.height),i.centerX=i.canvasEl[0].width/2,i.centerY=i.canvasEl[0].height/2,s=20,a=this.model.gaugePosition.toLowerCase(),this.model.legend.visible){if(this.model.legend.font.color=this.model.theme=="flatdark"?t.util.isNullOrUndefined(this.model.legend.font.color)?"#8c8c8c":this.model.legend.font.color:t.util.isNullOrUndefined(this.model.legend.font.color)?"#282828":this.model.legend.font.color,it=this.model.legend.position.toLowerCase(),o=this._calculateLegendBounds(),o.Height=t.util.isNullOrUndefined(this.model.legend.size._height)?o.Height:parseInt(this.model.legend.size.height),o.Width=t.util.isNullOrUndefined(this.model.legend.size._width)?o.Width:parseInt(this.model.legend.size.width),this.model.legendActualBounds=o,o.Height>0&&o.Width>0){switch(it){case"top":g=i.model.height-(o.Height+s);i.centerY=o.Height+s+g/2;h=g/2-s;break;case"bottom":i.centerY=(i.model.height-(o.Height+s))/2;h=i.centerY-s;break;case"left":nt=i.model.width-(o.Width+s);i.centerX=o.Width+s+nt/2;h=nt/2-s*2;break;case"right":i.centerX=(i.model.width-(o.Width+s))/2;h=i.centerX-s*2}for(e=0;e<this.model.scales.length;e++)l=this.model.scales[e],tt=0,this._scaleRedrawn||(l._radius=l.radius),n.each(l.ranges,function(n,t){tt+=t.size}),rt=tt/l.ranges.length,h=Math.abs((h-rt)/(e+1)),h=l._radius<h?l._radius:h}}else n.each(this.model.scales,function(n,i){i.radius=t.util.isNullOrUndefined(i._radius)?i.radius:i._radius});if(this._isHalfCircle&&this._isHalfCircle())if(i.model.frame.halfCircleFrameEndAngle-i.model.frame.halfCircleFrameStartAngle>=180){if(i.model.frame.halfCircleFrameStartAngle==0)switch(a){case"center":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.width/2;break;case"topleft":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"topright":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.width-(i.model.radius+i.model.distanceFromCorner);break;case"topcenter":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.width/2;break;case"middleleft":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"middleright":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.width-(i.model.radius+i.model.distanceFromCorner);break;case"bottomleft":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"bottomright":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.width-(i.model.radius+i.model.distanceFromCorner);break;case"bottomcenter":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.width/2}else if(i.model.frame.halfCircleFrameStartAngle==90)switch(a){case"center":i.centerY=i.model.height/2;i.centerX=i.model.width/2+i.model.radius/2;break;case"topleft":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.distanceFromCorner+i.model.radius;break;case"topright":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"topcenter":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width/2+i.model.radius/2;break;case"middleleft":i.centerY=i.model.height/2;i.centerX=i.model.distanceFromCorner+i.model.radius;break;case"middleright":i.centerY=i.model.height/2;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"bottomleft":i.centerY=i.model.height-(i.model.distanceFromCorner+i.model.radius);i.centerX=i.model.distanceFromCorner+i.model.radius;break;case"bottomright":i.centerY=i.model.height-(i.model.distanceFromCorner+i.model.radius);i.centerX=i.model.width-i.model.distanceFromCorner;break;case"bottomcenter":i.centerY=i.model.height-(i.model.distanceFromCorner+i.model.radius);i.centerX=i.model.width/2+i.model.radius/2}else if(i.model.frame.halfCircleFrameStartAngle==180)switch(a){case"center":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.width/2;break;case"topleft":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.distanceFromCorner+i.model.radius;break;case"topright":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"topcenter":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width/2;break;case"middleleft":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.distanceFromCorner+i.model.radius;break;case"middleright":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"bottomleft":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.distanceFromCorner+i.model.radius;break;case"bottomright":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"bottomcenter":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.width/2}}else if(i.model.frame.halfCircleFrameStartAngle==270&&i.model.frame.halfCircleFrameEndAngle==90)switch(a){case"center":i.centerY=i.model.height/2;i.centerX=i.model.width/2-i.model.radius/2;break;case"topleft":i.centerY=i.model.radius+i.model.distanceFromCorner;i.centerX=i.model.distanceFromCorner;break;case"topright":i.centerY=i.model.radius+i.model.distanceFromCorner;i.centerX=i.model.width-(i.model.radius+i.model.distanceFromCorner);break;case"topcenter":i.centerY=i.model.radius+i.model.distanceFromCorner;i.centerX=i.model.width/2-i.model.radius/2;break;case"middleleft":i.centerY=i.model.height/2;i.centerX=i.model.distanceFromCorner;break;case"middleright":i.centerY=i.model.height/2;i.centerX=i.model.width-(i.model.radius+i.model.distanceFromCorner);break;case"bottomleft":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.distanceFromCorner;break;case"bottomright":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.width-(i.model.radius+i.model.distanceFromCorner);break;case"bottomcenter":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.width/2-i.model.radius/2}else if(i.model.frame.halfCircleFrameEndAngle-i.model.frame.halfCircleFrameStartAngle<=90)if(i.model.frame.halfCircleFrameStartAngle==0)switch(i.model.gaugePosition){case"center":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.width/2-i.model.radius/2;break;case"topleft":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.distanceFromCorner;break;case"topright":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"topcenter":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.width/2-i.model.radius/2;break;case"middleleft":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.distanceFromCorner;break;case"middleright":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"bottomleft":i.centerY=i.model.height-(i.model.distanceFromCorner+i.model.radius);i.centerX=i.model.distanceFromCorner;break;case"bottomright":i.centerY=i.model.height-(i.model.distanceFromCorner+i.model.radius);i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"bottomcenter":i.centerY=i.model.height-(i.model.distanceFromCorner+i.model.radius);i.centerX=i.model.width/2-i.model.radius/2}else if(i.model.frame.halfCircleFrameStartAngle==90)switch(a){case"center":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.width/2+i.model.radius/2;break;case"topleft":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"topright":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"topcenter":i.centerY=i.model.distanceFromCorner;i.centerX=i.model.width/2+i.model.radius/2;break;case"middleleft":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"middleright":i.centerY=i.model.height/2-i.model.radius/2;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"bottomleft":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"bottomright":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.width-i.model.distanceFromCorner;break;case"bottomcenter":i.centerY=i.model.height-(i.model.radius+i.model.distanceFromCorner);i.centerX=i.model.width/2+i.model.radius/2}else if(i.model.frame.halfCircleFrameStartAngle==180)switch(i.model.gaugePosition){case"center":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.width/2+i.model.radius/2;break;case"topleft":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"topright":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"topcenter":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width/2+i.model.radius/2;break;case"middleleft":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"middleright":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"bottomleft":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.radius+i.model.distanceFromCorner;break;case"bottomright":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.width-i.model.distanceFromCorner;break;case"bottomcenter":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.width/2+i.model.radius/2}else if(i.model.frame.halfCircleFrameStartAngle==270)switch(i.model.gaugePosition){case"center":i.centerY=i.model.radius/2+i.model.height/2;i.centerX=i.model.width/2-i.model.radius/2;break;case"topleft":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.distanceFromCorner;break;case"topright":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"topcenter":i.centerY=i.model.distanceFromCorner+i.model.radius;i.centerX=i.model.width/2-i.model.radius/2;break;case"middleleft":i.centerY=i.model.height/2+i.model.radius/2;i.centerX=i.model.distanceFromCorner;break;case"middleright":i.centerY=i.model.radius/2+i.model.height/2;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"bottomleft":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.distanceFromCorner;break;case"bottomright":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.width-(i.model.distanceFromCorner+i.model.radius);break;case"bottomcenter":i.centerY=i.model.height-i.model.distanceFromCorner;i.centerX=i.model.width/2-i.model.radius/2}(y=i.canvasEl[0],typeof G_vmlCanvasManager!="undefined"&&(y=window.G_vmlCanvasManager.initElement(y)),y&&y.getContext)&&(i.contextEl=i.canvasEl[0].getContext("2d"))},_browserInfo:function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n},_wireEvents:function(){var f=jQuery.uaMatch(navigator.userAgent),r=this._browserInfo(),i=r.isMSPointerEnabled,t=r.pointerEnabled,u;this.startEv=i?t?"pointerdown":"MSPointerDown":"touchstart mousedown";this.endEv=i?t?"pointerup":"MSPointerUp":"touchend mouseup";this.moveEv=i?t?"pointermove":"MSPointerMove":"touchmove mousemove";this.leaveEv=i?t?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.scrollEv=f.browser.toLowerCase()=="mozilla"?t?"mousewheel":"DOMMouseScroll":"mousewheel";this.model.browserInfo=r;u=this.model.readOnly?"pan-y pan-x":"none";n(this.element).css("touch-action",u);this.onMouseMoveHandler=n.proxy(this._onMouseMove,this);this.onMouseUpHandler=n.proxy(this._onMouseUp,this);this.onMouseDownHandler=n.proxy(this._onMouseDown,this);this.onHoverOCustomLabel=n.proxy(this._onHoverOCustomLabel,this);this.onLeaveOCustomLabel=n.proxy(this._onLeaveOCustomLabel,this);this.model.legend.visible&&this._on(n(this.canvasEl),"click",this.legendMouseClick);this._on(n(this.canvasEl),"mousemove",this.rangesMouseMove);this._on(n(this.canvasEl),this.startEv,this.rangeMouseDown);this._on(n(this.canvasEl),this.endEv,this.rangeMouseUp);this._on(n(this.canvasEl),"contextmenu",this._cgRightClick);(this.model.tooltip.showCustomLabelTooltip||this.model.tooltip.showLabelTooltip)&&(n(this.canvasEl).bind(this.moveEv,this.onMouseMoveHandler),n(this.canvasEl).bind(this.scrollEv,this.onMouseMoveHandler),n(this.canvasEl).bind(this.startEv,this.onMouseDownHandler),n(this.canvasEl).bind(this.endEv,this.onLeaveOCustomLabel),n(this.canvasEl).bind(this.leaveEv,this.onLeaveOCustomLabel));this.model.readOnly||n(this.canvasEl).bind(this.startEv,this.onMouseDownHandler);this.model.tooltip.showCustomLabelTooltip&&(n("."+this._id+"outercustomlbl").bind("mouseenter",this.onHoverOCustomLabel),n("."+this._id+"outercustomlbl").bind("this.leaveEv",this.onLeaveOCustomLabel))},_unWireEvents:function(){this._off(n(this.canvasEl),this.startEv,this.rangeMouseDown);this._off(n(this.canvasEl),this.endEv,this.rangeMouseUp);this._off(n(this.canvasEl),"contextmenu",this._cgRightClick);n(this.canvasEl).unbind(this.startEv,this.onMouseDownHandler)},rangeMouseDown:function(){t.isTouchDevice()&&this.model.rightClick!=""&&(this._longPressTimer=new Date)},rangeMouseUp:function(n){var i=new Date;this._doubleTapTimer!=null&&i-this._doubleTapTimer<300&&this._cgDoubleClick(n);this._doubleTapTimer=i;t.isTouchDevice()&&this.model.rightClick!=""&&i-this._longPressTimer>1500&&this._cgRightClick()},_onHoverOCustomLabel:function(n){(n.currentTarget.innerHTML!=null||n.currentTarget.innerHTML!="")&&this._showTooltip(n,n.currentTarget.innerHTML)},_onLeaveOCustomLabel:function(t){this.isTouch(t)?(this._performTooltip(t),window.clearTimeout(this.model.timer),this.model.timer=setTimeout(function(){n(".tooltipDiv").fadeOut(500)},1200)):this._hideTooltip()},isTouch:function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},_showTooltip:function(t,i){var e=this.model.locale,o=e&&this.model.enableGroupSeparator?i.toLocaleString(e):i.toString(),r=n(".tooltipDiv"),s;r.length==0&&(r=n("<div class='tooltipDiv' style='pointer-events:none; position: absolute; z-index: 105; display: block;'><\/div>"),n(document.body).append(r));this.model.tooltip.templateID!=""&&this.model.tooltip.templateID!=null?(s=n("#"+this.model.tooltip.templateID).clone(),n(".tooltipDiv")[0].innerHTML="",n(s).css("display","block").appendTo(r),n(r).css({"pointer-events":"none","background-color":this.model.backgroundColor,border:"1px solid #bbbcbb","border-radius":"3px",color:"#565656"}),r.html(r.html().replace("#label#",o))):(n(r).html(o),n(r).css({"pointer-events":"none","background-color":"white",border:"2px solid #bbbcbb",position:"absolute",padding:"10px 20px","margin-top":"5px","text-align":"left",font:"12px Segoe UI","font-stretch":"condensed",display:"inline-block","border-radius":"3px",color:"#565656",width:"auto"}));var h=10,u=t.pageX+h,f=t.pageY+h;u=u+n(r).width()<this.model.width?u:u-n(r).width();f=f+n(r).height()<this.model.height?f:f-n(r).height();n(r).css("left",u);n(r).css("top",f);n(".tooltipDiv").show()},_hideTooltip:function(){n(".tooltipDiv").remove()},_onMouseDown:function(t){this._blockDefaultActions(t);this._mouseDown=!0;var s=this.isTouch(t)?10:0,o=t.originalEvent.touches?t.originalEvent.touches[0]:t,u={x:this.centerX,y:this.centerY},f={x:o.pageX-n(this.canvasEl).offset().left,y:o.pageY-n(this.canvasEl).offset().top},h=180*this._getCirucumferenceAngle(u,f)/Math.PI,r,e,i=this;this.model.readOnly||n.each(this.model.scales,function(t,o){i.scaleIndex=t;o.pointers!=null&&(i.pointerEl=o.pointers,r=o.radius,e=o.ticks[0].height,n.each(o.pointers,function(t,c){var l;i._isHalfCircle()&&(o.showBackNeedle=!1);l=i._getAngle(c.value);l>360&&(l=l-360);var v=l+c.width,y=l-c.width,a=Math.sqrt((f.x-u.x)*(f.x-u.x)+(f.y-u.y)*(f.y-u.y)),p=a<(c.placement=="far"?r+c.width+c.distanceFromScale:c.placement=="center"?r-c.distanceFromScale:r-15-e-c.distanceFromScale)&&a>(c.placement=="far"?r+c.distanceFromScale:c.placement=="center"?r-c.width-c.distanceFromScale:r-c.width-15-e-c.distanceFromScale),w=c.type=="needle"?a<=c.length:p;i._isBetween(y,v,h,s)&&w&&(i._onMouseClick(l,o.value),i.activeElement=c,n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler))}))})},_onMouseUp:function(){this._mouseDown=!1;n(document).unbind(self.moveEv,self.onMouseMoveHandler);n(document).unbind(self.endEv,self.onMouseUpHandler);this.activeElement&&this._onMouseClickUp(this._getAngle(this.activeElement.value),this.activeElement.value);this.activeElement=null},_mousePosition:function(n){if(!t.util.isNullOrUndefined(n.pageX)&&n.pageX>0)return{x:n.pageX,y:n.pageY};if(n.originalEvent&&!t.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0)return{x:n.originalEvent.pageX,y:n.originalEvent.pageY};if(n.originalEvent&&n.originalEvent.changedTouches!=i){if(!t.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0)return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}}else return{x:0,y:0}},_calTouchPosition:function(n){var i=jQuery.uaMatch(navigator.userAgent),t=this._mousePosition(n);n.pageX=t.x;n.pageY=t.y},getEvent:function(n){return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0]:n},_onMouseMove:function(i){if(this._mouseDown&&!t.isNullOrUndefined(this.activeElement)){this._blockDefaultActions(i);var f={x:this.centerX,y:this.centerY},u=i.originalEvent.touches?i.originalEvent.touches[0]:i,e={x:u.pageX-n(this.canvasEl).offset().left,y:u.pageY-n(this.canvasEl).offset().top},r=180*this._getCirucumferenceAngle(f,e)/Math.PI;r<this.scaleEl[this.scaleIndex].startAngle&&!this._isHalfCircle()&&(r=r+360);this._onMouseClickMove(this._getAngle(this.activeElement.value),this.activeElement.value);this._getValue(r)<=this.scaleEl[this.scaleIndex].maximum&&(this.activeElement.value=this.scaleEl[this.scaleIndex].direction=="clockwise"?this._getValue(r):this.scaleEl[this.scaleIndex].maximum-this._getValue(r));this.contextEl.putImageData?this._reDrawPointer():this._init()}else(this.model.tooltip.showCustomLabelTooltip||this.model.tooltip.showLabelTooltip)&&!this.isTouch(i)&&this._performTooltip(i)},_performTooltip:function(t){for(var r,u=!1,f=10,o=this.isTouch(t),i=0;this._savedPoints[i]!=null;i++)if(o){var c=this._calTouchPosition(t),e=this.getEvent(t),s=e.pageX,h=e.pageY,r={X:s-n(this.canvasEl).offset().left,Y:h-n(this.canvasEl).offset().top};r.X>this._savedPoints[i].startX-f&&r.X<this._savedPoints[i].startX+this._savedPoints[i].width+f&&r.Y>this._savedPoints[i].startY-f&&r.Y<this._savedPoints[i].startY+this._savedPoints[i].height+f?(this._showTooltip(t,this._savedPoints[i].value),u=!0):u==!1&&this._hideTooltip()}else r={X:t.pageX-n(this.canvasEl).offset().left,Y:t.pageY-n(this.canvasEl).offset().top},r.X>this._savedPoints[i].startX&&r.X<this._savedPoints[i].startX+this._savedPoints[i].width&&r.Y>this._savedPoints[i].startY&&r.Y<this._savedPoints[i].startY+this._savedPoints[i].height?(this._showTooltip(t,this._savedPoints[i].value),u=!0):u==!1&&this._hideTooltip()},_isHalfCircle:function(){return this.model.frame.frameType.toLowerCase()=="halfcircle"?!0:!1},_calFontLength:function(t){var i=this.model.scales[0].minimum+this.model.scales[0].labels[0].unitText,r=this.model.scales[0].maximum+this.model.scales[0].labels[0].unitText,u=r.length>i.length?r:i,f=n('<span id="test"><\/span>').css({font:t,display:"none",whiteSpace:"nowrap"}).appendTo(n("body")).text(u).width();return n("#test").remove(),f/2},_getHalfCircleYPosition:function(){return this._getYCordinate(this.centerY,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2)},_getHalfCircleXPosition:function(){return this._getXCordinate(this.centerX,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2)},_getXCordinate:function(n,t,i){return n+t*Math.cos(Math.PI*(i/180))},_getYCordinate:function(n,t,i){return n+t*Math.sin(Math.PI*(i/180))},_getAngle:function(n){var t;return t=n>=this.scaleEl[this.scaleIndex].minimum&&n<=this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].direction=="clockwise"?n-this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum-n:this.scaleEl[this.scaleIndex].direction=="clockwise"?n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:this.scaleEl[this.scaleIndex].maximum:n<=this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].maximum:this.scaleEl[this.scaleIndex].minimum,t*(this.scaleEl[this.scaleIndex].sweepAngle/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum))+this.scaleEl[this.scaleIndex].startAngle},_subtractDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)-t*Math.pow(10,i))/Math.pow(10,i),o},_getCirucumferenceAngle:function(n,t){return t.x>n.x?t.y>n.y?this._tangent(n,t):t.y==n.y?0:2*Math.PI+this._tangent(n,t):t.x==n.x?t.y==n.y?0:t.y>n.y?Math.PI/2:1.5*Math.PI:t.y==n.y?Math.PI:t.y>n.y?Math.PI+this._tangent(n,t):Math.PI+this._tangent(n,t)},_calcDistanceFactor:function(n,t,i){var r;return r=n>240&&n<=300||n>60&&n<=120?0:n>330&&n<=360||n>=0&&n<=30?-i*.5:n>30&&n<=60||n>300&&n<=330?-i/2:n>150&&n<=210?i*.5:i/2,t=="far"?-r:r},_tangent:function(n,t){var i=(t.y-n.y)/(t.x-n.x);return Math.atan(i)},_getValue:function(n){return this.scaleEl[this.scaleIndex].direction=="counterclockwise"?(n-this.scaleEl[this.scaleIndex].startAngle)/this.scaleEl[this.scaleIndex].sweepAngle*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum):(n-this.scaleEl[this.scaleIndex].startAngle)/this.scaleEl[this.scaleIndex].sweepAngle*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)+this.scaleEl[this.scaleIndex].minimum},_drawScales:function(){var r=this,u,i,f,t;if(this.scaleEl=this.model.scales,n.each(this.model.scales,function(n,t){r.scaleIndex=n;t.showScaleBar&&r._setScaleCordinates(t)}),this.model.rangeZOrder=="rear"?(this._setRanges(),this._setTicks()):(this._setTicks(),this._setRanges()),this._setLabels(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this.contextEl.putImageData||(this.model.enableAnimation=!1),this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(u=this.model.animationSpeed/25,u>=0&&(i=navigator.userAgent.toLowerCase(),f=i.indexOf("msie")!=-1?parseInt(i.split("msie")[1]):0,this.model.enableAnimation&&f!=9))){for(t=0;t<this.model.scales[0].pointers.length;t++)this.pointerValue=[],this.currentValue=[],this.pointerValue[t]=null,this.currentValue[t]=null,this.updatePointerOnAnimation=!1;this.dt=(new Date).getTime();this._onAnimate(this)}this._setIndicators()},_setTicks:function(){var t=this;n.each(this.model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n;t._setTicksCordinates(n,i)})))})},_setLabels:function(){var t=this;n.each(this.model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n;t._setLabelCoridnates(n,i)})))})},_setIndicators:function(){var t=this;n.each(this.model.scales,function(i,r){r.showIndicators&&(t.scaleIndex=i,r.indicators!=null&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n;t._drawIndicator(n,i)})))})},_setPointers:function(){var t=this;n.each(this.model.scales,function(i,r){r.showPointers&&(t.scaleIndex=i,r.pointers!=null&&(t.pointerEl=r.pointers,n.each(r.pointers,function(n,i){t._isHalfCircle()&&(r.showBackNeedle=!1);t.pointerIndex=n;t._drawPointers(n,i)})))})},_onAnimate:function(n){if(!this._androidAnimation&&!t.util.isNullOrUndefined(n.model)){for(var o=n,i=o,l=i.model.animationSpeed/25,u,f,s,h,c,a=n.model.scales[0].pointers.length,e=[],r=0;r<a;r++)e[r]=!0,i.model.scales[0].pointers[r].value!=i.model.scales[0].pointers[r]._value&&(i.model.scales[0].pointers[r]._value=i.model.scales[0].pointers[r].value),i.pointerValue[r]=t.util.isNullOrUndefined(i.pointerValue[r])?i.model.scales[0].pointers[r]._value:i.pointerValue[r],i.currentValue[r]=t.util.isNullOrUndefined(i.currentValue[r])?i.model.scales[0].minimum:i.currentValue[r],u=i.pointerValue[r],s=(new Date).getTime(),h=s-i.dt,h>l&&u>i.currentValue[r]?(i.currentValue[r]=i.currentValue[r]+(i.model.scales[0].maximum-i.model.scales[0].minimum)/100,i.updatePointerOnAnimation=!0,u>i.currentValue[r]?i.setPointerValue(0,r,i.currentValue[r]):i.setPointerValue(0,r,u),i.dt=s-h%l):i.currentValue>=u&&(e[r]=!1);for(f=0;f<e.length;f++)if(c=e[f],c)break;c&&requestAnimationFrame(function(){o._onAnimate(o)})}},_pointInterval:function(n,t,i,r){this.timer=setTimeout(function(){t>n?(n=n+(r.model.scales[0].maximum-r.model.scales[0].minimum)/100,t>n?r.setPointerValue(0,0,n):r.setPointerValue(0,0,t)):n>=t&&window.clearInterval(r.timer);r._pointInterval(n,t,i,r)},i)},_setRanges:function(){var t=this;this._rangeCollectionRegions=[];n.each(this.model.scales,function(i,r){r.showRanges&&(t.scaleIndex=i,r.ranges!=null&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n;(i._visible||!t.model.legend.visible)&&t._setRangeCordinates(n,i)})))})},_setCustomLabel:function(){var t=this,i;n.each(this.model.scales,function(r,u){t.scaleIndex=r;u.customLabels!=null&&(t.customLabelEl=u.customLabels,n.each(u.customLabels,function(n,r){t.customLabelIndex=n;i=t.model.scales[t.scaleIndex].customLabels[t.customLabelIndex];i.value!=null&&(i.positionType=="outer"?t._setOuterCustomLabels(n,r):t._setCustomLabelCordinates(n,r))}))})},_subGauge:function(){var t=this;n.each(this.model.scales,function(i,r){t.scaleIndex=i;r.subGauges!=null&&(t.subGaugeEl=r.subGauges,n.each(r.subGauges,function(n,r){t.subGaugeIndex=i;t._setSubGauge(n,r)}))})},_setOuterCustomLabels:function(n,i){var r,u;this._customLblMaxSize=this._customLblMaxSize<parseFloat(i.font.size.match(/\d+/)[0])?parseFloat(i.font.size.match(/\d+/)[0]):this._customLblMaxSize;r=t.buildTag("div."+this._id+"outercustomlbl");r.text(this.model.scales[this.scaleIndex].customLabels[n].value);u=this.model.outerCustomLabelPosition=="right"||this.model.outerCustomLabelPosition=="left"?"left":"center";this.outerDiv.append(r);this.outerDiv.append("<\/br>");u=="center"?r.css({display:"inline-block",margin:"0 auto","max-width":this.model.width}):r.css({display:"inline-block","max-width":this.element.width()-this.model.width>10?this.element.width()-this.model.width:10});r.css({color:i.color,overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":i.font!=null&&i.font.size!=null?i.font.size:"12px","font-family":i.font!=null&&i.font.fontFamily!=null?i.font.fontFamily:"Arial","font-weight":i.font!=null&&i.font.fontStyle!=null?i.font.fontStyle:"Normal","text-align":u})},_setScaleCordinates:function(n){if(this.region={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:n.startAngle,endAngle:n.startAngle+n.sweepAngle,startRadius:this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2,endRadius:this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2},this.style={radius:n.radius-n.size/2,strokeStyle:n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color),lineWidth:n.border.width,size:n.size,isFill:!0,opacity:isNaN(n.opacity)?1:n.opacity,isStroke:!0,shadowOffset:n.shadowOffset,fillStyle:n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor),counterClockwise:n.direction=="clockwise"?!1:!0},n.maximum<n.minimum){var i=n.maximum;n.maximum=n.minimum;n.minimum=i}n.maximum==n.minimum&&(n.maximum=n.maximum+1);this.maximum(n.maximum);this.minimum(n.minimum);this._notifyArrayChange&&(this._notifyArrayChange("scales["+this.scaleIndex+"]maximum",n.maximum),this._notifyArrayChange("scales["+this.scaleIndex+"]minimum",n.minimum));this._drawScaleBar(this.region,this.style);this.contextEl.getImageData&&(this.scaleImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))},_drawOuterLayer:function(){var n,i,r;this._isHalfCircle()&&(i={x:this.centerX,y:this.centerY},r={x:this.centerX+this.model.radius,y:this.centerY/2});n=this.model.isRadialGradient?this.contextEl.createRadialGradient(this.canvasEl[0].width/2,this.canvasEl[0].height/2,0,this.canvasEl[0].width/2,this.canvasEl[0].height/2,this.model.radius):this.contextEl.createLinearGradient(0,0,0,this.canvasEl[0].height);t.isNullOrUndefined(this.model.interiorGradient)||this._setGradientColor(this,n,this.model.interiorGradient.colorInfo);this.frameOuterLocation={centerX:this.centerX,hcCenterX:this.centerX,hcCenterY:this.centerY,centerY:this.centerY,startAngle:this._isHalfCircle()?Math.PI*(this.model.frame.halfCircleFrameStartAngle/180):0,endAngle:this._isHalfCircle()?Math.PI*(this.model.frame.halfCircleFrameEndAngle/180):2*Math.PI};this._isHalfCircle()&&(this.frameInnerLocation={centerX:this.centerX,hcCenterX:this._getXCordinate(this.centerX,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2),hcCenterY:this._getYCordinate(this.centerX,0,(this.model.frame.halfCircleFrameStartAngle+this.model.frame.halfCircleFrameEndAngle)/2),centerY:this.centerY,startAngle:Math.PI*(this.model.frame.halfCircleFrameStartAngle/180),endAngle:Math.PI*(this.model.frame.halfCircleFrameEndAngle/180)});this.frameInnerStyle={radius:this.model.radius,isStroke:!1,isFill:!0,fillStyle:this.model.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(null,this.model.backgroundColor),counterClockwise:!1};this.model.frame.frameType.toLowerCase()=="fullcircle"?this._drawCircleFrame(this.frameOuterLocation,this.frameInnerStyle):this.model.frame.frameType.toLowerCase()=="halfcircle"&&this._drawHalfCircle(this.frameInnerLocation,this.frameInnerStyle);this.contextEl.getImageData&&(this.outerImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))},_setTicksCordinates:function(n,i){var o,s,h,c,e,u,r,f;for(i.type=="major"?(e=this.scaleEl[this.scaleIndex].majorIntervalValue,this.majorTickHeight=i.height):e=this.scaleEl[this.scaleIndex].minorIntervalValue,i.placement=="far"&&(u=this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+this.scaleEl[this.scaleIndex].border.width/2+i.distanceFromScale),i.placement=="center"&&(u=this.scaleEl[this.scaleIndex].radius-i.height/2-this.scaleEl[this.scaleIndex].border.width/2-i.distanceFromScale),i.placement=="near"&&(u=this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-this.scaleEl[this.scaleIndex].border.width/2-i.distanceFromScale),h=i.placement=="near"?-i.height:i.height,f=this.scaleEl[this.scaleIndex].maximum;f>=this.scaleEl[this.scaleIndex].minimum;f-=e)(e==this.scaleEl[this.scaleIndex].minorIntervalValue&&f%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||e==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(f==this.scaleEl[this.scaleIndex].minimum&&(c=!0),r=this._getAngle(f),r=r>360?r-360:r,o=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,r),s=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,r),this.region={startX:o,startY:s},this.style={angle:i.angle+r,isStroke:!0,isFill:!1,lineHeight:h,lineWidth:i.width,strokeStyle:i.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.color)},this.model.drawTicks&&this._onDrawTicks(r,f),this._drawTickMark(this.region,this.style));c||(r=this._getAngle(this.scaleEl[this.scaleIndex].minimum),r=r>360?r-360:r,o=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,r),s=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,r),this.region={startX:o,startY:s},this.style={angle:i.angle+r,isStroke:!0,isFill:!1,lineHeight:h,lineWidth:i.width,strokeStyle:i.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.color)});this.contextEl.getImageData&&(this.tickImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))},_setLabelCoridnates:function(n,i){var h,e,o,c,l,s,f,u,r;for(s=i.type=="major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,l=i.type=="major"?this.majorIntervalAngle=this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/s):this.scaleEl[this.scaleIndex].sweepAngle/((this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)/s),i.placement=="far"&&(f=this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+this.majorTickHeight+i.distanceFromScale),i.placement=="center"&&(f=this.scaleEl[this.scaleIndex].radius-10-i.distanceFromScale),i.placement=="near"&&(f=this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-10-this.majorTickHeight-i.distanceFromScale),this._labelRadius=f,u=this.scaleEl[this.scaleIndex].maximum;u>=this.scaleEl[this.scaleIndex].minimum;u=this._subtractDecimal(u,s))if(u==this.scaleEl[this.scaleIndex].minimum&&(h=!0),s==this.scaleEl[this.scaleIndex].minorIntervalValue&&u%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||s==this.scaleEl[this.scaleIndex].majorIntervalValue){if(u==this.scaleEl[this.scaleIndex].minimum&&!i.includeFirstValue)continue;r=this._getAngle(u);r=r>360?r-360:r;e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,f,r);o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,f,r);this.region={startX:e,startY:o};this.style={placement:i.placement,textPositionAngle:r,angle:this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?r+i.angle:i.angle,isStroke:!1,isFill:!0,textValue:u,opacity:i.opacity?i.opacity:1,font:this._getFontString(i,i.font),fillStyle:i.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.color)};this.model.drawLabels&&this._onDrawLabels(this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?r+i.angle:i.angle,u);this._drawLabel(this.region,this.style,!1);this.model.tooltip.showLabelTooltip&&this._savedPoints.push({startX:e-10,startY:o-5,width:20,height:parseInt(i.font.size.replace(/\D/g,"")),value:u})}h||(r=this._getAngle(this.scaleEl[this.scaleIndex].minimum),r=r>360?r-360:r,e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,f,r),o=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,f,r),this.region={startX:e,startY:o},this.style={angle:this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?r+i.angle:i.angle,isStroke:!1,isFill:!0,textValue:this.scaleEl[this.scaleIndex].minimum,opacity:i.opacity?i.opacity:1,font:this._getFontString(i,i.font),lineHeight:c,lineWidth:i.width,fillStyle:i.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.color)},this.model.drawLabels&&this._onDrawLabels(r,u),this._drawLabel(this.region,this.style,!1),this.model.tooltip.showLabelTooltip&&this._savedPoints.push({startX:e-10,startY:o-5,width:20,height:parseInt(i.font.size.replace(/\D/g,"")),value:u}),r=this._getAngle(u),r=r>360?r-360:r);this.contextEl.getImageData&&(this.labelImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))},_setRangeCordinates:function(n,i){if(i.startValue<this.scaleEl[this.scaleIndex].maximum&&i.endValue<=this.scaleEl[this.scaleIndex].maximum){var o=i.startValue>=this.scaleEl[this.scaleIndex].minimum?i.startValue:this.scaleEl[this.scaleIndex].minimum,s=i.endValue>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:i.endValue,h,c,l,a,r,u,f,v,y,e,p;p=this._getAngle((o+s)/2);r=this._getAngle(o);f=this._getAngle(s);u=this.scaleEl[this.scaleIndex].radius-i.distanceFromScale-this.scaleEl[this.scaleIndex].size/2-i.size-(t.isNullOrUndefined(this.scaleEl[this.scaleIndex].ticks[0])?16:this.scaleEl[this.scaleIndex].ticks[0].height);v=this.scaleEl[this.scaleIndex].radius-i.distanceFromScale-this.scaleEl[this.scaleIndex].size/2-(t.isNullOrUndefined(this.scaleEl[this.scaleIndex].ticks[0])?16:this.scaleEl[this.scaleIndex].ticks[0].height);y=this.scaleEl[this.scaleIndex].radius-i.distanceFromScale-i.size-this.scaleEl[this.scaleIndex].size/2-(t.isNullOrUndefined(this.scaleEl[this.scaleIndex].ticks[0])?16:this.scaleEl[this.scaleIndex].ticks[0].height);h=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,r);c=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,r);l=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,u,f);a=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,u,f);r=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:h,y:c})/Math.PI;(i.startValue!=0||i.endValue!=this.scaleEl[this.scaleIndex].maximum)&&(f=180*this._getCirucumferenceAngle({x:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,y:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY},{x:l,y:a})/Math.PI);!t.isNullOrUndefined(i.gradients)&&i.gradients.colorInfo.length>0?(e=this.contextEl.createRadialGradient(this.centerX,this.centerY,y,this.centerX,this.centerY,v),this._setGradientColor(this,e,i.gradients.colorInfo)):e=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor);this.region={startX:h,startY:c,endX:l,endY:a,startAngle:r,endAngle:f};this.style={placement:i.placement,radius:i.placement=="near"?this.scaleEl[this.scaleIndex].radius-i.distanceFromScale:this.scaleEl[this.scaleIndex].radius+i.distanceFromScale,rangeStart:o,rangeEnd:s,startWidth:i.startWidth,isFill:!0,fillStyle:e,strokeStyle:i.border.color=="transparent"?"rgba(0,0,0,0)":i.border.color,opacity:isNaN(i.opacity)?1:i.opacity,counterClockwise:this.scaleEl[this.scaleIndex].direction=="clockwise"?!1:!0,startRadius:v,endRadius:y,endWidth:i.endWidth,lineWidth:i.border.width,isStroke:!0};this.model.drawRange&&this._onDrawRange(this.region,this.style);this._rangeCollectionRegions.push({Range:i,Region:this.region,scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,Radius:{startRadius:this.style.startRadius,endRadius:this.style.endRadius},centerRadius:{centerX:this.centerX,centerY:this.centerY,radius:this.style.radius}});this._drawRange(this.region,this.style);this.contextEl.getImageData&&(this.rangeImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))}},_setSubGauge:function(i,r){var u=n("div[id="+r.controlID+"]"),f;u.length>0&&u.find("canvas").length&&(f=u.find("canvas")[0].getContext("2d"),this.contextEl.drawImage(f.canvas,r.position.x,r.position.y,r.width,r.height),u.css("display","none"),this.contextEl.getImageData&&(this.subGaugeImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height)))},_setCustomLabelCordinates:function(n,i){this._customLblMaxSize=this._customLblMaxSize<parseFloat(i.font.size.match(/\d+/)[0])?parseFloat(i.font.size.match(/\d+/)[0]):this._customLblMaxSize;i.color=i.color?i.color:"#282828";this.region=i.position?{startX:i.position.x,startY:i.position.y}:{startX:0,startY:0};this.style={angle:i.textAngle,textValue:i.value,fillStyle:i.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.color),font:this._getFontString(i,i.font)};this.model.drawCustomLabel&&this._onDrawCustomLabel(this.region,this.style);this._drawLabel(this.region,this.style,!0);this.model.tooltip.showCustomLabelTooltip&&this._savedPoints.push({startX:this.region.startX-30,startY:this.region.startY-5,width:60,height:t.isNullOrUndefined(i.font)?10:parseInt(i.font.size.replace(/\D/g,"")),value:this.style.textValue});this.contextEl.getImageData&&(this.customLabelImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))},_drawIndicator:function(i,r){var u=this,o=!1,f=r.type.toLowerCase(),e;this.region={centerX:r.position.x-r.width/2,startX:r.position.x,startY:r.position.y,textLocation:r.position,centerY:r.position.y-r.height/2,startAngle:0,endAngle:2*Math.PI};this.style={radius:r.width/2,strokeStyle:"#2BA104",cornerRadius:r.type=="roundedrectangle"?2:0,height:r.height,width:r.width,lineWidth:r.indicatorBorderWidth,fillStyle:"#2BA104",isStroke:!0,isFill:!0,indicatorText:r.indicatorText,textColor:null,font:null,counterClockwise:!1};this.model.drawIndicators&&this._onDrawIndicators(this.style,this.region);f==t.datavisualization.CircularGauge.IndicatorType.Image?(e=new Image,e.onload=function(){u.contextEl.drawImage(this,r.position.x,r.position.y)},e.src=r.imageUrl):r.stateRanges!=null&&n.each(r.stateRanges,function(n,i){u.pointerEl[u.pointerIndex].value>=i.startValue&&u.pointerEl[u.pointerIndex].value<=i.endValue?(o=!0,!t.isNullOrUndefined(i.text)&&i.text.length>0&&(u.style.indicatorText=i.text,u.style.textColor=i.textColor=="transparent"?"rgba(0,0,0,0)":i.textColor,u.style.font=r.font),u.style.strokeStyle=i.borderColor=="transparent"?"rgba(0,0,0,0)":i.borderColor,u.style.fillStyle=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":i.backgroundColor,u._drawIndicatorFrame(f,u.region,u.style)):(u.style.strokeStyle=i.borderColor=="transparent"?"rgba(0,0,0,0)":i.borderColor,u.style.fillStyle=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":i.backgroundColor)});o||f==t.datavisualization.CircularGauge.IndicatorType.Image||u._drawIndicatorFrame(f,u.region,u.style);this.contextEl.getImageData&&f!=t.datavisualization.CircularGauge.IndicatorType.Image&&(this.indicatorImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height))},_drawIndicatorFrame:function(n,t,i){switch(n){case"circle":this._drawIndicatorCircle(t,i);break;case"roundedrectangle":case"rectangle":this._drawRectangleFrame(t,i);break;case"text":this._drawText(t,i);break;case"triangle":this._drawIndicatorTriangle(t,i,this);break;case"diamond":this._drawDiamond(t,i,this);break;case"trapezoid":this._drawTrapezoid(t,i,this);break;case"pentagon":this._drawPentagon(t,i,this);break;case"wedge":this._drawWedge(t,i,this);break;case"star":this._drawIndicatorStar(t,i,this);break;case"ellipse":this._drawIndicatorEllipse(t,i,this);break;case"horizontalline":this._drawHorizontalLine(t,i,this);break;case"verticalline":this._drawVerticalLine(t,i,this);break;case"cross":this._drawCross(t,i,this);break;case"uparrow":this._drawUpArrow(t,i,this);break;case"downarrow":this._drawDownArrow(t,i,this);break;case"invertedtriangle":this._drawIndicatorInvertedTriangle(t,i,this);break;case"leftarrow":this._drawLeftArrow(t,i,this);break;case"rightarrow":this._drawRightArrow(t,i,this)}},_drawScaleBar:function(n,t){this.contextEl.shadowColor=t.strokeStyle=="transparent"?"rgba(0,0,0,0)":t.strokeStyle;t.shadowOffset&&(this.contextEl.shadowBlur=t.shadowOffset);this._contextOpenPath(t,this);n.endAngle-n.startAngle==0?this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*0,!1):(n.endAngle-n.startAngle)%360==0?(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*0,Math.PI*2,!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*2,Math.PI*0,!0)):(this.contextEl.arc(n.centerX,n.centerY,n.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),!1),this.contextEl.arc(n.centerX,n.centerY,n.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!0));this._contextClosePath(t,this)},_drawTickMark:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.startX,n.startY);this.contextEl.lineTo(0,0);this.contextEl.rotate(Math.PI*(t.angle/180));this.contextEl.lineTo(t.lineHeight,0);this._contextClosePath(t,this)},_drawLabel:function(n,i,r){var f=0,e=this.model.locale,u;t.isNullOrUndefined(r)||r||(u=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitTextPosition,i.textValue=i.textValue%1!=0&&typeof i.textValue!="string"?+parseFloat(i.textValue.toFixed(3)):i.textValue,i.textValue=e&&this.model.enableGroupSeparator?i.textValue.toLocaleString(e):i.textValue,t.isNullOrUndefined(u)||u.toString()!="back"?t.isNullOrUndefined(u)||u.toString()!="front"||(i.textValue=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText+i.textValue):i.textValue+=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText,f=this._calcDistanceFactor(i.textPositionAngle,i.placement,this._calFontLength(i.font)));this._contextOpenPath(i,this);this.contextEl.textAlign="center";this.contextEl.textBaseline="middle";this.contextEl.font=i.font;this.contextEl.translate(n.startX+f,n.startY);this.contextEl.lineTo(0,0);r?r&&i.angle!=0&&this.contextEl.rotate(Math.PI*(i.angle/180)):this.scaleEl[this.scaleIndex].labels[this.labelIndex].autoAngle?this.contextEl.rotate(Math.PI*((i.angle-270)/180)):this.contextEl.rotate(Math.PI*(i.angle/180));this.contextEl.fillText(i.textValue,0,0);this._contextClosePath(i,this)},_drawCircleFrame:function(n,t){this._contextOpenPath(t,this);this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,t.counterClockwise);this._contextClosePath(t,this);t.indicatorText&&this._drawText(n,t)},_drawIndicatorCircle:function(n,t){this._contextOpenPath(t,this);this.contextEl.arc(n.startX+t.width/2,n.startY,t.radius,n.startAngle,n.endAngle,t.counterClockwise);this._contextClosePath(t,this);t.indicatorText&&this._drawText(n,t)},_drawHalfCircle:function(n,t){this._contextOpenPath(t,this);this.contextEl.lineJoin="round";this.contextEl.arc(n.centerX,n.centerY,t.radius,n.startAngle,n.endAngle,!1);this.contextEl.lineTo(n.centerX,n.centerY);this._contextClosePath(t,this)},_drawRectangleFrame:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.startX,n.startY-t.height/2);this.contextEl.lineTo(t.cornerRadius,0);this.contextEl.lineTo(t.width-t.cornerRadius,0);this.contextEl.quadraticCurveTo(t.width,0,t.width,t.cornerRadius);this.contextEl.lineTo(t.width,t.height-t.cornerRadius);this.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.cornerRadius,t.height);this.contextEl.lineTo(t.cornerRadius,t.height);this.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.cornerRadius);this.contextEl.lineTo(0,t.cornerRadius);this.contextEl.quadraticCurveTo(0,0,t.cornerRadius,0);this._contextClosePath(t,this);t.indicatorText&&this._drawText(n,t)},_drawText:function(n,t){this.contextEl.beginPath();this.contextEl.textAlign="center";this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor;this.contextEl.font=t.font;this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y);this.contextEl.closePath()},_drawRange:function(n,t){var i;if(t.startWidth==null&&t.endWidth==null)this._contextOpenPath(t,this),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.startRadius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.endRadius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise),this._contextClosePath(t,this);else{var u=t.startWidth>t.endWidth?t.startWidth-t.endWidth:t.endWidth-t.startWidth,f=this.scaleEl[this.scaleIndex].direction=="clockwise"?n.startAngle<n.endAngle?n.endAngle-n.startAngle:360-(n.startAngle-n.endAngle):n.endAngle<n.startAngle?n.startAngle-n.endAngle:n.startAngle+(360-n.endAngle),r=f/(u*2);if(t.startWidth<t.endWidth)for(t.startWidth!=0&&(this._contextOpenPath(t,this),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.radius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.placement=="near"?t.radius-t.startWidth:t.radius+t.startWidth,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise),this._contextClosePath(t,this)),t.radius=t.placement=="near"?t.radius-t.startWidth:t.radius+t.startWidth,t.endWidth-=t.startWidth,t.startWidth=0,i=t.startWidth;i<t.endWidth;i+=.5)this.contextEl.beginPath(),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.radius,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise),this.contextEl.lineWidth=2,this.contextEl.strokeStyle=t.fillStyle,this.contextEl.stroke(),this.contextEl.restore(),n.startAngle=this.scaleEl[this.scaleIndex].direction=="clockwise"?n.startAngle+r:n.startAngle-r,t.radius=t.placement=="near"?t.radius-.5:t.radius+.5;else for(t.endWidth!=0&&(this._contextOpenPath(t,this),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.radius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.placement=="near"?t.radius-t.endWidth:t.radius+t.endWidth,Math.PI*(n.endAngle/180),Math.PI*(n.startAngle/180),!t.counterClockwise),this._contextClosePath(t,this)),t.radius=t.placement=="near"?t.radius-t.endWidth:t.radius+t.endWidth,t.startWidth-=t.endWidth,t.endWidth=0,i=t.endWidth;i<t.startWidth;i+=.5)this.contextEl.beginPath(),this.contextEl.arc(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,t.radius,Math.PI*(n.startAngle/180),Math.PI*(n.endAngle/180),t.counterClockwise),this.contextEl.lineWidth=2,this.contextEl.strokeStyle=t.fillStyle,this.contextEl.stroke(),this.contextEl.restore(),n.endAngle=this.scaleEl[this.scaleIndex].direction=="clockwise"?n.endAngle-r:n.endAngle+r,t.radius=t.placement=="near"?t.radius-.5:t.radius+.5}},_drawPointers:function(n,i){i.value=i.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:i.value;i.value=i.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:i.value;var e,u,r,f,o,s=this.model.locale;r=this._getAngle(i.value);r=r>360?r-360:r;i.type=="needle"?(i.placement=="far"&&(f=i.length+this.scaleEl[this.scaleIndex].size/2),i.placement=="center"&&(f=i.length),i.placement=="near"&&(f=i.length-this.scaleEl[this.scaleIndex].size/2)):(f=i.length,i.placement=="far"&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+i.distanceFromScale,r),u=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].radius+this.scaleEl[this.scaleIndex].size/2+i.distanceFromScale,r)),i.placement=="center"&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale,r),u=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale,r)),i.placement=="near"&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale-this.majorTickHeight-15,r),u=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerX,this.scaleEl[this.scaleIndex].radius-this.scaleEl[this.scaleIndex].size/2-i.distanceFromScale-this.majorTickHeight-15,r)),this._isHalfCircle&&this._isHalfCircle()||(this.model.height>this.model.width?u+=(this.model.height-this.model.width)/2:this.model.height<this.model.width&&(u-=(this.model.width-this.model.height)/2)));f>this.model.radius&&(f=this.model.radius);this.region={startX:i.type=="needle"?this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX:e,startY:i.type=="needle"?this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY:u};!t.isNullOrUndefined(i.gradients)&&i.gradients.colorInfo.length>0?(o=this.contextEl.createLinearGradient(0,0,0,i.width),this._setGradientColor(this,o,i.gradients.colorInfo)):o=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.backgroundColor);this.style={width:i.width,isFill:!0,isStroke:!0,radius:0,showBackNeedle:i.showBackNeedle,backNeedleLength:i.backNeedleLength,angle:i.type=="needle"?r:i.placement=="far"?r:r+180,height:f,lineWidth:i.border.width,opacity:isNaN(i.opacity)?1:i.opacity,strokeStyle:i.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.border.color),fillStyle:o,imageUrl:i.imageUrl,type:i.type};this.model.drawPointers&&this._onDrawPointers(r,i.value);i.type=="needle"?(this._drawNeedlePointer(this.region,this.style,i),this._setPointerCap(i)):(i.markerType=="roundedrectangle"&&(this.style.radius=5),this._drawMarkerType(i.markerType,this.region,this.style));i.pointerValueText.showValue&&(e=this._getXCordinate(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._labelRadius+i.pointerValueText.distance,r),u=this._getYCordinate(this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,this._labelRadius+i.pointerValueText.distance,r),this.region={startX:e,startY:u},this.style={angle:i.pointerValueText.autoAngle?i.pointerValueText.angle+r:i.pointerValueText.angle,textValue:s&&this.model.enableGroupSeparator?i.value.toLocaleString(s):i.value,fillStyle:i.pointerValueText.color=="transparent"?"rgba(0,0,0,0)":this._getColor(i,i.pointerValueText.color),font:this._getFontString(i,i.pointerValueText.font),opacity:i.pointerValueText.opacity},this._drawPointerValueText(this.region,this.style));this.contextEl.getImageData&&(this.pointerImage=t.isNullOrUndefined(this.model.frame.backgroundImageUrl)?this.contextEl.getImageData(0,0,this.model.width,this.model.height):this.contextEl.drawImage(this.contextEl.canvas,this.model.width,this.model.height));this._notifyArrayChange&&this._notifyArrayChange("scales["+this.scaleIndex+"]pointers["+n+"]value",i.value);this.value(i.value)},_drawPointerValueText:function(n,t){this._contextOpenPath(t,this);this.contextEl.textAlign="center";this.contextEl.textBaseline="middle";this.contextEl.font=t.font;this.contextEl.translate(n.startX,n.startY);this.contextEl.lineTo(0,0);this.scaleEl[this.scaleIndex].pointers[this.pointerIndex].pointerValueText.autoAngle?this.contextEl.rotate(Math.PI*((t.angle-270)/180)):this.contextEl.rotate(Math.PI*(t.angle/180));this.contextEl.fillText(t.textValue,0,0);this._contextClosePath(t,this)},_drawMarkerType:function(n,i,r){switch(n){case"rectangle":this._drawRectangle(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"triangle":this._drawTriangle(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"ellipse":this._drawEllipse(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"diamond":this._drawDiamond(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"pentagon":this._drawPentagon(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"circle":this._drawCircle(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"slider":this._drawSlider(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"pointer":this._drawPointer(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"wedge":this._drawWedge(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"trapezoid":this._drawTrapezoid(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"roundedrectangle":this._drawRoundedRectangle(i,r,this);t.isNullOrUndefined(r.imageUrl)&&r.imageUrl==""||this._drawImagePointer(i,r,this);break;case"image":this._drawImagePointer(i,r,this)}},_drawNeedlePointer:function(n,t,i){this.pointerEl[this.pointerIndex].needleType=="image"?this._drawImagePointer(n,t,i):(this._contextOpenPath(t,this),this.contextEl.translate(n.startX,n.startY),this.contextEl.rotate(Math.PI*(t.angle/180)),this.contextEl.lineTo(0,-t.width/2),this.pointerEl[this.pointerIndex].needleType=="triangle"?this.contextEl.lineTo(t.height,0):this.pointerEl[this.pointerIndex].needleType=="rectangle"?(this.contextEl.lineTo(t.height,-t.width/2),this.contextEl.lineTo(t.height,t.width/2)):this.pointerEl[this.pointerIndex].needleType=="trapezoid"?(this.contextEl.lineTo(t.height,-t.width/4),this.contextEl.lineTo(t.height,t.width/4)):this.pointerEl[this.pointerIndex].needleType=="arrow"&&(this.contextEl.lineTo(t.height-t.height/4,-t.width/6),this.contextEl.lineTo(t.height-t.height/4,-t.width/2),this.contextEl.lineTo(t.height,0),this.contextEl.lineTo(t.height-t.height/4,t.width/2),this.contextEl.lineTo(t.height-t.height/4,t.width/6)),this.contextEl.lineTo(0,t.width/2),t.showBackNeedle&&(this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCap.radius/2),t.width/2),this.contextEl.lineTo(-(t.backNeedleLength+this.scaleEl[this.scaleIndex].pointerCap.radius/2),-t.width/2)),this._contextClosePath(t,this));this.canvasEl.attr("aria-label",this.model.scales[this.scaleIndex].pointers[this.pointerIndex].value)},_drawImagePointer:function(n,t){var i=this,r=new Image,f=t.angle,e=n.startX,o=n.startY,s=t.width,u=t.height,h=t.type;r.onload=function(){i.contextEl.save();i.contextEl.translate(e,o);i.contextEl.rotate(Math.PI*(f/180));i.contextEl.drawImage(this,0,-u/2,s,u);i.contextEl.restore()};r.src=t.imageUrl},_setPointerCap:function(n){var i;i=this.contextEl.createRadialGradient(this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,0,this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,this._isHalfCircle()?this._getHalfCircleYPosition():this.canvasEl[0].height/2,this.scaleEl[this.scaleIndex].pointerCap.radius);t.isNullOrUndefined(this.scaleEl[this.scaleIndex].pointerCap.interiorGradient)?i=this.scaleEl[this.scaleIndex].pointerCap.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].pointerCap.backgroundColor)):this._setGradientColor(this,i,this.scaleEl[this.scaleIndex].pointerCap.interiorGradient.colorInfo);this.region={centerX:this._isHalfCircle()?this._getHalfCircleXPosition():this.centerX,centerY:this._isHalfCircle()?this._getHalfCircleYPosition():this.centerY,startAngle:0,endAngle:2*Math.PI};this.style={isStroke:!0,isFill:!0,strokeStyle:this.scaleEl[this.scaleIndex].pointerCap.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,this._getColor(n,this.scaleEl[this.scaleIndex].pointerCap.borderColor)),radius:this.scaleEl[this.scaleIndex].pointerCap.radius,lineWidth:this.scaleEl[this.scaleIndex].pointerCap.borderWidth,fillStyle:i};this.model.drawPointerCap&&this._onDrawPointerCap();this._drawCircleFrame(this.region,this.style)},isAndroid:function(){return/android/i.test(navigator.userAgent.toLowerCase())},redraw:function(n){switch(n){case"scale":this._reDrawScale();break;case"pointer":this._reDrawPointer();break;case"range":this._reDrawRange();break;case"label":this._reDrawLabel();break;case"tickMark":this._reDrawTickMark();break;case"subGauges":this._reDrawSubGauge();break;case"CustomLabel":this._reDrawCustomLabel();break;default:this._init()}},_getIndicatorImage:function(){return this.pointerImage?this.pointerImage:this._getPointerImage()},_getPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getSubGaugeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getCustomLabelImage:function(){return this.subGaugeImage?this.subGaugeImage:this._getSubGaugeImage()},_getRangeImage:function(){return this.model.rangeZOrder=="rear"?this.scaleImage?this.scaleImage:this.outerImage:this.tickImage?this.tickImage:this._getTickImage()},_getLabelImage:function(){return this.model.rangeZOrder=="rear"?this.tickImage?this.tickImage:this._getTickImage():this.tickImage?this.rangeImage:this._getRangeImage()},_getTickImage:function(){return this.model.rangeZOrder=="rear"?this.rangeImage?this.rangeImage:this._getRangeImage():this.scaleImage?this.scaleImage:this.outerImage},getPointerValue:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].value:null},setMarkerDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getMarkerDistanceFromScale:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].distanceFromScale:null},setPointerLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].length=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerLength:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].length:null},setPointerWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].width=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerWidth:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].width:null},setBackNeedleLength:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].backNeedleLength=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getBackNeedleLength:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].backNeedleLength:null},setNeedleStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].needleType=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getNeedleStyle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].needleType:null},setPointerPlacement:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].placement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawPointer():this._initialize())},getPointerPlacement:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].placement:null},setPointerNeedleType:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(this.scaleEl[n].pointers[t].type=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getPointerNeedleType:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].type:null},setMarkerStyle:function(n,i,r){n<this.model.scales.length&&i<this.model.scales[n].pointers.length&&r!=null&&(r!="roundedrectangle"&&t.isNullOrUndefined(t.datavisualization.CircularGauge.MarkerType[r.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})])||(this.scaleEl[n].pointers[i].markerType=r,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize()))},getMarkerStyle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].pointers.length?this.scaleEl[n].pointers[t].markerType:null},setCustomLabelValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].value=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getCustomLabelValue:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].customLabels.length?this.scaleEl[n].customLabels[t].value:null},setSubGaugeLocation:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].subGauges.length&&i!=null&&(this.scaleEl[n].subGauges[t].position.x=i.x,this.scaleEl[n].subGauges[t].position.y=i.y,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawSubGauge():this._initialize())},getSubGaugeLocation:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].subGauges.length?this.scaleEl[n].subGauges[t].position:null},setCustomLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].textAngle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawCustomLabel():this._initialize())},getCustomLabelAngle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].customLabels.length?this.scaleEl[n].customLabels[t].textAngle:null},setRangeStartValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeStartValue:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ranges.length?this.scaleEl[n].ranges[t].startValue:null},setRangeEndValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeEndValue:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ranges.length?this.scaleEl[n].ranges[t].endValue:null},setRangeSize:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].size=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},setRangeVisible:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t]._visible=i,this.contextEl.putImageData&&!this.isAndroid()?(this._initialize(),this._wireEvents()):this._initialize())},getRangeSize:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ranges.length?this.scaleEl[n].ranges[t].size:null},setRangeDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeDistanceFromScale:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ranges.length?this.scaleEl[n].ranges[t].distanceFromScale:null},setRangePosition:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].placement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangePosition:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ranges.length?this.scaleEl[n].ranges[t].placement:null},setRangeBorderWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].border.width=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawRange():this._initialize())},getRangeBorderWidth:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ranges.length?this.scaleEl[n].ranges[t].border.width:null},setPointerValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].pointers.length&&i!=null&&(i>=this.scaleEl[n].minimum&&i<=this.scaleEl[n].maximum&&(this.scaleEl[n].pointers[t].value=i),!this.updatePointerOnAnimation&&this.model.enableAnimation&&(this.pointerValue[t]=i),this.contextEl.putImageData&&!this._androidAnimation?(this._reDrawPointer(),this.updatePointerOnAnimation=!1):this._initialize())},setLabelAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelAngle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].labels.length?this.scaleEl[n].labels[t].angle:null},setLabelDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelDistanceFromScale:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].labels.length?this.scaleEl[n].labels[t].distanceFromScale:null},setLabelStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].type=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelStyle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].labels.length?this.scaleEl[n].labels[t].type:null},setLabelPlacement:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].placement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawLabel():this._initialize())},getLabelPlacement:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].labels.length?this.scaleEl[n].labels[t].placement:null},setTickAngle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickAngle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ticks.length?this.scaleEl[n].ticks[t].angle:null},setTickStyle:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].type=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickStyle:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ticks.length?this.scaleEl[n].ticks[t].type:null},setTickPlacement:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].placement=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickPlacement:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ticks.length?this.scaleEl[n].ticks[t].placement:null},setTickWidth:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].width=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickWidth:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ticks.length?this.scaleEl[n].ticks[t].width:null},setTickHeight:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].height=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickHeight:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ticks.length?this.scaleEl[n].ticks[t].height:null},setTickDistanceFromScale:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale=i,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawTickMark():this._initialize())},getTickDistanceFromScale:function(n,t){return n<this.model.scales.length&&t<this.model.scales[n].ticks.length?this.scaleEl[n].ticks[t].distanceFromScale:null},setStartAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].startAngle=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getStartAngle:function(n){return n<this.model.scales.length?this.scaleEl[n].startAngle:null},setSweepAngle:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].sweepAngle=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getSweepAngle:function(n){return n<this.model.scales.length?this.scaleEl[n].sweepAngle:null},setMinimumValue:function(n,t){n<this.model.scales.length&&t!=null&&(t<this.scaleEl[n].maximum&&(this.scaleEl[n].minimum=t),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMinimumValue:function(n){return n<this.model.scales.length?this.scaleEl[n].minimum:null},setMaximumValue:function(n,t){n<this.model.scales.length&&t!=null&&(t>this.scaleEl[n].minimum&&(this.scaleEl[n].maximum=t),this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMaximumValue:function(n){return n<this.model.scales.length?this.scaleEl[n].maximum:null},setScaleBarSize:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].size=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleBarSize:function(n){return n<this.model.scales.length?this.scaleEl[n].size:null},setScaleRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].radius=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleRadius:function(n){return n<this.model.scales.length?this.scaleEl[n].radius:null},setMajorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMajorIntervalValue:function(n){return n<this.model.scales.length?this.scaleEl[n].majorIntervalValue:null},setMinorIntervalValue:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getMinorIntervalValue:function(n){return n<this.model.scales.length?this.scaleEl[n].minorIntervalValue:null},setPointerCapRadius:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].pointerCap.radius=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getPointerCapRadius:function(n){return n<this.model.scales.length?this.scaleEl[n].pointerCap.radius:null},setScaleBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].border.width=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleBorderWidth:function(n){return n<this.model.scales.length?this.scaleEl[n].border.width:null},setPointerCapBorderWidth:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].pointerCap.borderWidth=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getPointerCapBorderWidth:function(n){return n<this.model.scales.length?this.scaleEl[n].pointerCap.borderWidth:null},setScaleDirection:function(n,t){n<this.model.scales.length&&t!=null&&(this.scaleEl[n].direction=t,this.contextEl.putImageData&&!this.isAndroid()?this._reDrawScale():this._initialize())},getScaleDirection:function(n){return n<this.model.scales.length?this.scaleEl[n].direction:null},includeFirstValue:function(n,t,i){n<this.model.scales.length&&t<this.model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].includeFirstValue=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},_reDrawScale:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this.outerImage,0,0),this._drawScales())},_reDrawPointer:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this._getPointerImage(),0,0),this._setPointers(),this._setIndicators())},_reDrawCustomLabel:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawRange:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this._getRangeImage(),0,0),this.model.rangeZOrder=="rear"?(this._setRanges(),this._setTicks()):this._setRanges(),this._setLabels(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawLabel:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawTickMark:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this._getTickImage(),0,0),this.model.rangeZOrder=="rear"?this._setTicks():(this._setTicks(),this._setRanges()),this._setLabels(),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},_reDrawSubGauge:function(){t.isNullOrUndefined(this.model.frame.backgroundImageUrl)&&(this.contextEl.putImageData(this._getSubGaugeImage(),0,0),this._subGauge(),this._setCustomLabel(),this._setPointers(),this._setIndicators())},refreshSubGauge:function(){this.contextEl.putImageData?this._reDrawSubGauge():this._initialize()},refresh:function(){this._scaleRedrawn=!0;this._initialize();this._wireEvents()},"export":function(){var i=this.model.exportSettings,u,f,e,r,o,s;i.mode.toLowerCase()==="client"?this.exportImage(i.fileName,i.fileType):(f=i.type.toLowerCase()==="jpg"?"image/jpeg":"image/png",u=this.canvasEl[0].toDataURL(f),e={action:i.action,method:"post"},r=t.buildTag("form","",null,e),o={name:"Data",type:"hidden",value:u},s=t.buildTag("input","",null,o),r.append(s).append(this),n("body").append(r),r.submit())},exportImage:function(n,i){var f,u,o,r,c,s;if(t.browserInfo().name==="msie"&&parseFloat(t.browserInfo().version)<10)return!1;f=this.canvasEl[0].toDataURL();f=f.replace(/^data:[a-z]*;,/,"");var l=f.split(","),e=atob(l[1]),h=new ArrayBuffer(e.length),a=new Uint8Array(h);for(u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return o=new Blob([h],{type:"image/png"}),t.browserInfo().name==="msie"?window.navigator.msSaveOrOpenBlob(o,n+"."+i):(r=document.createElement("a"),c=URL.createObjectURL(o),r.href=c,r.setAttribute("download",n+"."+i),document.createEvent?(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(s)):r.fireEvent&&r.fireEvent("onclick")),!0},resizeCanvas:function(){var s,h,i,o,f;if(r=r!=0?r-1:n(".e-circulargauge").length-1,h=!0,t.isNullOrUndefined(this.GaugeEl.parent().attr("style"))||(s=this.GaugeEl.parent().attr("style").split(";")),t.isNullOrUndefined(s)||n.each(s,function(n,t){while(t.indexOf("width")!=-1){h=t.indexOf("px")==-1?!0:!1;break}}),h){var e=window.innerWidth/u,c=this.model.width,l=this.model.height;for((c*e>window.innerWidth||l*e>window.innerHeight)&&(e=1),this.model.width*=e,this.model.height*=e,this.model.radius*=e,this._gaugeResizeState=!0,i=0;this.model.scales[i]!=null;i++){for(this.model.scales[i].radius*=e,this.model.scales[i].pointerCap.radius*=e,o=0;o<this.model.scales[i].customLabels.length;o++)t.isNullOrUndefined(this.model.scales[i].customLabels[o])||(this.model.scales[i].customLabels[o].positionType!="outer"&&(this.model.scales[i].customLabels[o].position.x*=e),this.model.scales[i].customLabels[o].position.y*=e,this.model.scales[i].customLabels[o].font.size=parseFloat(this.model.scales[i].customLabels[o].font.size.match(/\d+/)[0])*e<10?"10px":parseFloat(this.model.scales[i].customLabels[o].font.size.match(/\d+/)[0])*e>this._customLblMaxSize?this._customLblMaxSize.toString()+"px":(parseFloat(this.model.scales[i].customLabels[o].font.size.match(/\d+/)[0])*e).toString()+"px");for(f=0;this.model.scales[i].labels[f]!=null||this.model.scales[i].pointers[f]!=null||this.model.scales[i].ranges[f]!=null||this.model.scales[i].indicators[f]!=null||this.model.scales[i].subGauges[f]!=null||this.model.scales[i].ticks[f]!=null;f++)t.isNullOrUndefined(this.model.scales[i].ticks[f])||(this.model.scales[i].ticks[f].height*=e),t.isNullOrUndefined(this.model.scales[i].pointers[f])||(this.model.scales[i].pointers[f].length*=e,this.model.scales[i].pointers[f].width*=e,this.model.scales[i].pointers[f].backNeedleLength*=e),t.isNullOrUndefined(this.model.scales[i].ranges[f])||(this.model.scales[i].ranges[f].distanceFromScale*=e,this.model.scales[i].ranges[f].size*=e),!t.isNullOrUndefined(this.model.scales[i].indicators[f])&&this.model.scales[i].showIndicators&&(this.model.scales[i].indicators[f].height*=e,this.model.scales[i].indicators[f].width*=e,this.model.scales[i].indicators[f].position.x*=e,this.model.scales[i].indicators[f].position.y*=e),!t.isNullOrUndefined(this.model.scales[i].subGauges[f])&&t.isNullOrUndefined(this.model.scales[i].subGauges[f].controlID)&&(this.model.scales[i].subGauges[f].height*=e,this.model.scales[i].subGauges[f].width*=e,this.model.scales[i].subGauges[f].position.x*=e)}this.refresh();r==0&&(u=window.innerWidth)}},_onDrawTicks:function(n,t){var i={index:this.tickIndex,element:this.tickEl[this.tickIndex],angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,pointerValue:t,style:this.style,position:this.region,tick:i};this._trigger("drawTicks",r)},_onDrawLabels:function(n,t){var i={index:this.labelIndex,element:this.labelEl[this.labelIndex],angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,pointerValue:t,style:this.style,position:this.region,label:i};this._trigger("drawLabels",r)},_onDrawPointers:function(n,t){var i={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],angle:parseInt(n),pointerValue:t},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,pointer:i};this._trigger("drawPointers",r)},_onDrawRange:function(){var n={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeEl],context:this.contextEl,style:this.style,position:this.region};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,position:this.region};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,position:this.region};this._trigger("drawIndicators",n)},_onDrawPointerCap:function(){var n={object:this,scaleElement:this.model.scales,position:this.region,style:this.style,context:this.contextEl};this._trigger("drawPointerCap",n)},_onRenderComplete:function(){var n={object:this,scaleElement:this.model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_onMouseClick:function(n,t){var i={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],value:t,angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.position,pointers:i};this._trigger("mouseClick",r)},_onMouseClickMove:function(n,t){var i={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],value:t,angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,pointers:i};this._trigger("mouseClickMove",r)},_onMouseClickUp:function(n,t){var i={index:this.pointerIndex,element:this.pointerEl[this.pointerIndex],value:t,angle:parseInt(n)},r={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,pointers:i};this._trigger("mouseClickUp",r)},_setTheme:function(){var n=this.model.theme.toLowerCase(),t=this.model.themeProperties[n];this._setThemeColors(t)},_setThemeColors:function(n){var r=[],f=this.model.themeProperties,s,i,t,u,e,o;for(s in f)r.push(s);for(i=0;i<r.length;i++)for(this.model.backgroundColor=!this.model.backgroundColor||this.model.backgroundColor==f[r[i]].backgroundColor?n.backgroundColor:this.model.backgroundColor,t=0;t<this.model.scales.length;t++){for(this.model.scales[t].backgroundColor=!this.model.scales[t].backgroundColor||this.model.scales[t].backgroundColor==f[r[i]].scales.backgroundColor?n.scales.backgroundColor:this.model.scales[t].backgroundColor,this.model.scales[t].border.color=!this.model.scales[t].border.color||this.model.scales[t].border.color==f[r[i]].scales.border.color?n.scales.border.color:this.model.scales[t].border.color,u=0;u<this.model.scales[t].pointers.length;u++)this.model.scales[t].pointers[u].backgroundColor=!this.model.scales[t].pointers[u].backgroundColor||this.model.scales[t].pointers[u].backgroundColor==f[r[i]].scales.pointers.backgroundColor?n.scales.pointers.backgroundColor:this.model.scales[t].pointers[u].backgroundColor,this.model.scales[t].pointers[u].border.color=!this.model.scales[t].pointers[u].border.color||this.model.scales[t].pointers[u].border.color==f[r[i]].scales.pointers.border.color?n.scales.pointers.border.color:this.model.scales[t].pointers[u].border.color,this.model.scales[t].pointerCap.backgroundColor=!this.model.scales[t].pointerCap.backgroundColor||this.model.scales[t].pointerCap.backgroundColor==f[r[i]].scales.pointerCap.backgroundColor?n.scales.pointerCap.backgroundColor:this.model.scales[t].pointerCap.backgroundColor,this.model.scales[t].pointerCap.borderColor=!this.model.scales[t].pointerCap.borderColor||this.model.scales[t].pointerCap.borderColor==f[r[i]].scales.pointerCap.borderColor?n.scales.pointerCap.borderColor:this.model.scales[t].pointerCap.borderColor;for(e=0;e<this.model.scales[t].ticks.length;e++)this.model.scales[t].ticks[e].color=!this.model.scales[t].ticks[e].color||this.model.scales[t].ticks[e].color==f[r[i]].scales.ticks.color?n.scales.ticks.color:this.model.scales[t].ticks[e].color;for(o=0;o<this.model.scales[t].labels.length;o++)this.model.scales[t].labels[o].color=!this.model.scales[t].labels[o].color||this.model.scales[t].labels[o].color==f[r[i]].scales.labels.color?n.scales.labels.color:this.model.scales[t].labels[o].color}},_getFontString:function(n,t){return t?(t.fontStyle?t.fontStyle:"")+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily:""},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(t.width,t.height/4);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(t.width/2,t.height/4);this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(3*t.width/4,0);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/4,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(t.width/4,t.height/2);this._contextClosePath(t,i)},_drawIndicatorStar:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);i.contextEl.lineTo(0,t.height/2);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,-t.height/4);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(0,t.height/2);this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i);i.model.Orientation=="Horizontal"&&i.markerPlacement=="near"?(i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.lineTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY));this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/3,-t.height/2);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width,t.height/4);i.contextEl.lineTo(t.width/3,t.height/2);this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(0,0);this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_drawLine:function(n,t,i){i.contextEl.beginPath();i.contextEl.strokeStyle=t.fillStyle;i.contextEl.globalAlpha=t.opacity;i.contextEl.lineWidth=t.lineWidth;i.contextEl.moveTo(n.startX,n.startY);i.contextEl.lineTo(n.startX+t.width,n.startY);i.contextEl.closePath();i.contextEl.stroke()},_drawHorizontalLine:function(n,t,i){i.contextEl.beginPath();i.contextEl.strokeStyle=t.fillStyle;i.contextEl.globalAlpha=t.opacity;i.contextEl.lineWidth=t.lineWidth;i.contextEl.moveTo(n.startX,n.startY);i.contextEl.lineTo(n.startX+t.width,n.startY);i.contextEl.closePath();i.contextEl.stroke()},_drawVerticalLine:function(n,t,i){i.contextEl.beginPath();i.contextEl.strokeStyle=t.fillStyle;i.contextEl.globalAlpha=t.opacity;i.contextEl.lineWidth=t.lineWidth;i.contextEl.moveTo(n.startX,n.startY+t.height/2);i.contextEl.lineTo(n.startX,n.startY+-t.height/2);i.contextEl.closePath();i.contextEl.stroke()},_drawCross:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width,0);i.contextEl.moveTo(t.width/2,0);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.moveTo(t.width/2,0);i.contextEl.lineTo(t.width/2,t.height/2);this._contextClosePath(t,i)},_drawIndicatorTriangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,t.height/2);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawIndicatorInvertedTriangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);i.contextEl.lineTo(0,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width/2,t.height/2);this._contextClosePath(t,i)},_drawUpArrow:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,0);i.contextEl.lineTo(t.width*(3/4),0);i.contextEl.lineTo(t.width*(3/4),t.height/2);i.contextEl.lineTo(t.width/4,t.height/2);i.contextEl.lineTo(t.width/4,0);this._contextClosePath(t,i)},_drawDownArrow:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/4,0);i.contextEl.lineTo(t.width/4,-t.height/2);i.contextEl.lineTo(t.width*(3/4),-t.height/2);i.contextEl.lineTo(t.width*(3/4),0);i.contextEl.lineTo(t.width,0);i.contextEl.lineTo(t.width/2,t.height/2);this._contextClosePath(t,i)},_drawLeftArrow:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.moveTo(n.startX,n.startY);i.contextEl.lineTo(n.startX+t.width/2,n.startY+-t.height/2);i.contextEl.lineTo(n.startX+t.width/2,n.startY+-t.height/4);i.contextEl.lineTo(n.startX+t.width,n.startY+-t.height/4);i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/4);i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height/4);i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height/2);i.contextEl.lineTo(n.startX,n.startY);this._contextClosePath(t,i)},_drawRightArrow:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.lineTo(n.startX,n.startY);i.contextEl.lineTo(n.startX,n.startY+-t.height/4);i.contextEl.lineTo(n.startX+t.width/2,n.startY+-t.height/4);i.contextEl.lineTo(n.startX+t.width/2,n.startY+-t.height/2);i.contextEl.lineTo(n.startX+t.width,n.startY);i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height/2);i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height/4);i.contextEl.lineTo(n.startX,n.startY+t.height/4);i.contextEl.lineTo(n.startX,n.startY);this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(0,-t.height/4);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/4);this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(0,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/2);this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(t.radius,-t.height/2);i.contextEl.lineTo(t.width-t.radius,-t.height/2);i.contextEl.quadraticCurveTo(t.width,-t.height/2,t.width,-t.height/2+t.radius);i.contextEl.lineTo(t.width,t.height/2-t.radius);i.contextEl.quadraticCurveTo(t.width,t.height/2,t.width-t.radius,t.height/2);i.contextEl.lineTo(t.radius,t.height/2);i.contextEl.quadraticCurveTo(0,t.height/2,0,t.height/2-t.radius);i.contextEl.lineTo(0,-t.height/2+t.radius);i.contextEl.quadraticCurveTo(0,-t.height/2,t.radius,-t.height/2);this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image;n(r).on("load",function(){t.contextEl.drawImage(this,0,0,t.model.width,t.model.height);t.model.scales!=null&&t._drawScales();t.model.items!=null&&t._renderItems()}).attr("src",i)},_drawIndicatorEllipse:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.moveTo(n.startX,n.startY);i.contextEl.bezierCurveTo(n.startX,n.startY-t.height/2,n.startX+t.width,n.startY-t.height/2,n.startX+t.width,n.startY);i.contextEl.bezierCurveTo(n.startX+t.width,n.startY+t.height/2,n.startX,n.startY+t.height/2,n.startX,n.startY);this._contextClosePath(t,i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.scale(2,1);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_setPointerDimension:function(n,i){if(!t.isNullOrUndefined(i.model.Orientation)&&i.model.Orientation=="Horizontal"){var r=n.width,u=n.height;n.height=r;n.width=u}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},_contextOpenPath:function(n,t){t.contextEl.save();t.contextEl.beginPath();n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle);n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity);n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth);n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath();n.isFill&&t.contextEl.fill();n.isStroke&&t.contextEl.stroke();t.contextEl.restore()},_blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},_isBetween:function(n,t,i,r){return n<t?i>=n-r&&i<=t+r:i>=t-r&&i<=n+r},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.colorStop!=NaN?r.colorStop:0,typeof r.color=="string"?r.color:u._getColor(t,r.color))})}}),function(){for(var u=0,f=["ms","moz","webkit","o"],i,r,n=0;n<f.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[f[n]+"RequestAnimationFrame"];window.requestAnimationFrame||(t.datavisualization.CircularGauge.animationPolyfill=!0,window.requestAnimationFrame=function(n,t){return i=(new Date).getTime(),r=Math.max(0,16-(i-u)),t=window.setTimeout(function(){n(i+r)},r),u=i+r,t})}();t.datavisualization.CircularGauge.Frame={FullCircle:"fullcircle",HalfCircle:"halfcircle"};t.datavisualization.CircularGauge.Directions={Clockwise:"clockwise",CounterClockwise:"counterclockwise"};t.datavisualization.CircularGauge.PointerPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.PointerType={Needle:"needle",Marker:"marker"};t.datavisualization.CircularGauge.NeedleType={Triangle:"triangle",Rectangle:"rectangle",Trapezoid:"trapezoid",Arrow:"arrow",Image:"image"};t.datavisualization.CircularGauge.MarkerType={Rectangle:"rectangle",Triangle:"triangle",Ellipse:"ellipse",Diamond:"diamond",Pentagon:"pentagon",Circle:"circle",Slider:"slider",Pointer:"pointer",Wedge:"wedge",Trapezoid:"trapezoid",RoundedRectangle:"roundedrectangle",Image:"image"};t.datavisualization.CircularGauge.RangePlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.TickType={Major:"major",Minor:"minor"};t.datavisualization.CircularGauge.gaugePosition={TopLeft:"topleft",TopRight:"topright",TopCenter:"topcenter",MiddleLeft:"middleleft",MiddleRight:"middleright",Center:"center",BottomLeft:"bottomleft",BottomRight:"bottomright",BottomCenter:"bottomcenter"};t.datavisualization.CircularGauge.TickPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.CustomLabelPositionType={Inner:"inner",Outer:"outer"};t.datavisualization.CircularGauge.OuterCustomLabelPosition={Left:"left",Right:"right",Top:"top",Bottom:"bottom"};t.datavisualization.CircularGauge.LabelPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.CircularGauge.LabelType={Major:"major",Minor:"minor"};t.datavisualization.CircularGauge.UnitTextPlacement={Back:"back",Front:"front"};t.datavisualization.CircularGauge.RangeZOrderPosition={Rear:"rear",Front:"front"};t.datavisualization.CircularGauge.IndicatorType={Rectangle:"rectangle",Circle:"circle",RoundedRectangle:"roundedrectangle",Text:"text",Image:"image",Cross:"cross",Diamond:"diamond",DownArrow:"downarrow",Ellipse:"ellipse",HorizontalLine:"horizontalLine",InvertedTriangle:"invertedtriangle",LeftArrow:"leftarrow",Pentagon:"pentagon",RightArrow:"rightarrow",Star:"star",Trapezoid:"trapezoid",Triangle:"triangle",UpArrow:"uparrow",VerticalLine:"verticalline",Wedge:"wedge"};t.datavisualization.CircularGauge.Themes={FlatLight:"flatlight",FlatDark:"flatdark"};t.datavisualization.CircularGauge.LegendPosition={Top:"top",Bottom:"bottom",Left:"left",Right:"right"};t.datavisualization.CircularGauge.LegendAlignment={Near:"near",Center:"center",Far:"far"};t.datavisualization.CircularGauge.LegendShape={Rectangle:"rectangle",Triangle:"triangle",Diamond:"diamond",Pentagon:"pentagon",Circle:"circle",Slider:"slider",Wedge:"wedge",Trapezoid:"trapezoid",Line:"line"}}(jQuery,Syncfusion),function(n,t,i){var u,r,f;t.widget({ejLinearGauge:"ej.datavisualization.LinearGauge"},{element:null,_rootCSS:"e-lineargauge",_animationFlag:!0,model:null,_customLblMaxSize:0,_savedPoints:[],validTags:["div","span"],defaults:{exportSettings:{mode:"client",type:"png",fileName:"CircularGauge",action:""},locale:null,enableGroupSeparator:!1,value:0,minimum:0,maximum:100,width:150,height:400,theme:"flatlight",orientation:"Vertical",pointerGradient1:null,pointerGradient2:null,backgroundColor:null,borderColor:null,labelColor:null,tickColor:null,readOnly:!0,enableResize:!1,isResponsive:!1,tooltip:{showLabelTooltip:!1,showCustomLabelTooltip:!1,templateID:null},outerCustomLabelPosition:"bottom",frame:{backgroundImageUrl:null,outerWidth:12,innerWidth:8},scales:null,enableAnimation:!0,enableMarkerPointerAnimation:!0,animationSpeed:500,drawTicks:null,drawLabels:null,drawBarPointers:null,drawMarkerPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,load:null,doubleClick:"",rightClick:"",init:null,renderComplete:null,mouseClick:null,mouseClickMove:null,mouseClickUp:null,themeProperties:{flatlight:{scales:{backgroundColor:"#FFFFFF",border:{color:"#1d1e1e"},barPointers:{backgroundColor:"#8abc3b",border:{color:"#8abc3b"}},markerPointers:{backgroundColor:"#212121",border:{color:"#212121"}},ticks:{color:"#1d1e1e"},labels:{labelColor:"#222222"}}},flatdark:{scales:{backgroundColor:"#808080",border:{color:"#808080"},barPointers:{backgroundColor:"#8abc3b",border:{color:"#8abc3b"}},markerPointers:{backgroundColor:"#CCCCCC",border:{color:"#CCCCCC"}},ticks:{color:"#808080"},labels:{labelColor:"#CCCCCC"}}}}},_defaultScaleValues:function(){return{minimum:null,maximum:null,majorIntervalValue:10,minorIntervalValue:2,direction:"counterclockwise",backgroundColor:null,border:{color:null,width:1.5},opacity:NaN,width:30,shadowOffset:0,length:290,type:"rectangle",position:{x:50,y:50},showRanges:!1,showIndicators:!1,showCustomLabels:!1,showLabels:!0,showTicks:!0,showBarPointers:!0,showMarkerPointers:!0,ticks:[{distanceFromScale:{x:0,y:0},angle:0,color:null,type:"majorinterval",placement:"near",opacity:0,height:10,width:3},{distanceFromScale:{x:0,y:0},angle:0,color:null,type:"minorinterval",placement:"near",opacity:0,height:5,width:2}],ranges:[{endWidth:10,placement:"center",startWidth:10,distanceFromScale:0,endValue:60,startValue:20,gradients:null,backgroundColor:null,border:{color:null,width:1.5},opacity:null}],labels:[{distanceFromScale:{x:-10,y:0},angle:0,font:{size:"11px",fontFamily:"Arial",fontStyle:"bold"},textColor:null,opacity:0,type:"major",placement:"near",includeFirstValue:!0,unitText:"",unitTextPlacement:"back"}],markerPointers:[{type:"triangle",length:30,placement:"far",gradients:null,distanceFromScale:0,width:30,value:null,backgroundColor:null,border:{color:null,width:1.5},opacity:1}],barPointers:[{gradients:null,distanceFromScale:0,width:30,value:null,backgroundColor:null,border:{color:null,width:1.5},opacity:1}],indicators:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"bold"},height:30,type:"rectangle",width:30,position:{x:0,y:0},textLocation:{x:0,y:0},stateRanges:[{endValue:60,startValue:50,backgroundColor:null,borderColor:null,text:"",textColor:null}],backgroundColor:null,border:{color:null,width:1.5},opacity:NaN}],customLabels:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"bold"},color:null,opacity:0,value:"",textAngle:0,position:{x:0,y:0},positionType:"inner"}]}},dataTypes:{scales:"data",isResponsive:"boolean"},observables:["value","minimum","maximum"],_tags:[{tag:"scales",attr:["majorIntervalValue","minorIntervalValue","backgroundColor","shadowOffset","showRanges","showIndicators","showCustomLabels","showLabels","showTicks","showBarPointers","showMarkerPointers","border.color","border.width","position.x","position.y",[{tag:"markerPointers",attr:["distanceFromScale","backgroundColor","border.width","border.color"]},{tag:"barPointers",attr:["distanceFromScale","backgroundColor","border.width","border.color"]},{tag:"ranges",attr:["distanceFromScale","startValue","endValue","startWidth","endWidth","backgroundColor","border.color","border.width"]},{tag:"ticks",attr:["distanceFromScale.x","distanceFromScale.y"]},{tag:"indicators",attr:["backgroundColor","textLocation","font.size","font.fontFamily","font.fontStyle","position.x","position.y","textLocation.x","textLocation.y","borderColor","textColor",[{tag:"stateRanges",attr:["endValue","startValue","backgroundColor","borderColor","textColor"]}]]},{tag:"labels",attr:["distanceFromScale.x","distanceFromScale.y","textColor","includeFirstValue","unitText","unitTextPlacement","font.size","font.fontFamily","font.fontStyle"]},{tag:"customLabels",attr:["textAngle","font.size","font.fontFamily","font.fontStyle","position.x","position.y"]}]]}],value:t.util.valueFunction("value"),minimum:t.util.valueFunction("minimum"),maximum:t.util.valueFunction("maximum"),_init:function(){r=n(".e-lineargauge").length;f=r;this._initialize();this._trigger("load");this._setTheme();this._render();this.wireEvents();this._onWindowResize()},_onWindowResize:function(){(this.model.enableResize||this.model.isResponsive)&&(t.isTouchDevice()?this._on(n(window),"orientationchange",this.resizeCanvas):this._on(n(window),"resize",this.resizeCanvas))},_setModel:function(t){var i,r,f,u,e,o,s;for(i in t)switch(i){case"theme":this.model.theme=t[i];this._init();break;case"height":this.model.height=t[i];break;case"width":this.model.width=t[i];break;case"orientation":this.model.orientation=t[i];break;case"pointerGradient1":this.model.pointerGradient1=t[i];break;case"pointerGradient2":this.model.pointerGradient2=t[i];break;case"labelColor":this.model.labelColor=t[i];break;case"tick":n.extend(this.model.tick,t[i]);break;case"backgroundColor":this.model.backgroundColor=t[i];break;case"borderColor":this.model.borderColor=t[i];break;case"frame":n.extend(this.model.frame,t[i]);case"outerCustomLabelPosition":this.model.outerCustomLabelPosition=t[i];break;case"tooltip":n.extend(this.model.tooltip,t[i]);break;case"readOnly":this.model.readOnly=t[i];break;case"value":for(this.value()==""&&this.value(0),r=0;this.model.scales[r]!=null;r++)for(f=0;this.model.scales[r].markerPointers[f]!=null;f++)this.model.scales[r].markerPointers[f].value=parseFloat(this.value());for(u=0;this.model.scales[u]!=null;u++)for(e=0;this.model.scales[u].barPointers[e]!=null;e++)this.model.scales[u].barPointers[e].value=parseFloat(this.value());break;case"minimum":for(this.minimum()==""&&this.minimum(0),o=0;this.model.scales[o]!=null;o++)this.model.scales[o].minimum=parseInt(this.minimum());break;case"maximum":for(this.maximum()==""&&this.maximum(0),s=0;this.model.scales[s]!=null;s++)this.model.scales[s].maximum=parseInt(this.maximum());break;case"scales":this.model.scales=t[i];this._itemInitialize()}this._render();this.wireEvents()},_destroy:function(){this.activeElement=null;this.canvasEl=null;this.contextEl=null;this.unWireEvents();this.element.empty().removeClass("e-lineargauge e-js e-widget")},_scales:function(){this._itemInitialize();this._render()},_scales_markerPointers:function(){this.refresh();this._trigger("refresh")},_scales_barPointers:function(){this.refresh();this._trigger("refresh")},_scales_ranges:function(){this.refresh();this._trigger("refresh")},_scales_ticks:function(){this.refresh();this._trigger("refresh")},_scales_indicators:function(){this.refresh();this._trigger("refresh")},_scales_indicators_stateRanges:function(){this.refresh();this._trigger("refresh")},_scales_labels:function(){this.refresh();this._trigger("refresh")},_scales_customLabels:function(){this.refresh();this._trigger("refresh")},_initialize:function(){this.GaugeEl=this.element;this.scaleStartX=[];this.scaleStartY=[];this.isScaleModified=!1;this.target=this.element[0];this._itemInitialize();this.Model=this.model},_render:function(){this.initialize();this.wireEvents()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r);n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this,u;return n.each(t,function(n,t){if(u=typeof n,(u!="string"||u=="string"&&n.indexOf("_")==-1&&n.indexOf("__")==-1)&&typeof t!="function")if(t instanceof Array)r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"&&!t.setter&&!t.factory&&!t.key){var f=r._defaultScaleValues();r._LoadIndividualDefaultValues(t,f,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,e=this,f;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),f=typeof r,n.each(t,function(n,t){t instanceof Array?e._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(f!="string"||f=="string"&&r.indexOf("_")==-1&&r.indexOf("__")==-1)&&e._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this._initObject(this);this.Model.frame.backgroundImageUrl?this._drawCustomImage(this,this.Model.frame.backgroundImageUrl):this.Model.scales!=null&&this._drawScales()},_initObject:function(i){var a,e,s,h,o,l,c;for(this._savedPoints=[],this.element.addClass("e-widget"),i.GaugeEl=i.element,i.canvasEl&&(i.canvasEl.parent().empty(),i.GaugeEl.empty()),i.canvasEl=n("<canvas><\/canvas>"),a=0,e=0;this.model.scales[e]!=null;e++){for(this.model.scales[e].minimum==null&&(this.model.scales[e].minimum=this.minimum()),this.model.scales[e].maximum==null&&(this.model.scales[e].maximum=this.maximum()),s=0;this.model.scales[e].markerPointers[s]!=null;s++)this.model.scales[e].markerPointers[s].value==null&&(this.model.scales[e].markerPointers[s].value=this.value());for(h=0;this.model.scales[e].barPointers[h]!=null;h++)this.model.scales[e].barPointers[h].value==null&&(this.model.scales[e].barPointers[h].value=this.value());for(o=0;this.model.scales[e].customLabels[o]!=null&&this.model.scales[e].showCustomLabels==!0;o++)if(a++,this.model.scales[e].customLabels[o].value!=null&&i.GaugeEl.find("div").length==0)if(this.model.scales[e].customLabels[o]!=null&&this.model.scales[e].customLabels[o].positionType!=null&&this.model.scales[e].customLabels[o].positionType=="outer")if(i.outerDiv=t.buildTag("div"),i.model.outerCustomLabelPosition=="bottom")i.GaugeEl.append(i.canvasEl),i.GaugeEl.append(i.outerDiv),i.outerDiv.css("text-align","center"),i.GaugeEl.css({width:i.model.width});else if(i.model.outerCustomLabelPosition!="top"){l=t.buildTag("TABLE");l.css("width","100%");var v=t.buildTag("TR"),y=t.buildTag("TD"),p=t.buildTag("td");i.model.outerCustomLabelPosition=="left"?(y.append(i.outerDiv),p.append(i.canvasEl)):(y.append(i.canvasEl),p.append(i.outerDiv));v.append(y);v.append(p);l.append(v);i.GaugeEl.append(l);i.outerDiv.css({width:this.element.width()-i.model.width})}else i.GaugeEl.append(i.outerDiv),i.GaugeEl.append(i.canvasEl),i.GaugeEl.css({width:i.model.width}),i.outerDiv.css("text-align","center");else i.GaugeEl.append(i.canvasEl);a==0&&i.GaugeEl.append(i.canvasEl)}(i.canvasEl.attr("role","presentation"),r==f&&(u=window.innerWidth),i.canvasEl[0].setAttribute("width",i.model.width),i.canvasEl[0].setAttribute("height",i.model.height),i.centerX=i.canvasEl[0].width/2,i.centerY=i.canvasEl[0].height/2,c=i.canvasEl[0],typeof G_vmlCanvasManager!="undefined"&&(c=window.G_vmlCanvasManager.initElement(c)),c&&c.getContext)&&(i.contextEl=i.canvasEl[0].getContext("2d"))},_drawFrameCircle:function(n,t,i){this._contextOpenPath(t,i);i.contextEl.arc(n.startX,n.startY,t.circleRadius,0,2*Math.PI,!0);this._contextClosePath(t,i);t.indicatorText&&i._drawText(n,t)},_drawFrameRectangle:function(n,t,i){this._contextOpenPath(t,i);i.contextEl.lineTo(n.startX+t.radius,n.startY);i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY);i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius);i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height);this._contextClosePath(t,i);t.indicatorText&&i._drawText(n,t)},_drawFrameThermometer:function(n,t,i){var r=i.Model.orientation=="Vertical"?Math.sqrt(t.width*t.width+t.width*t.width)/2:Math.sqrt(t.height*t.height+t.height*t.height)/2;this._contextOpenPath(t,i);i.Model.orientation=="Vertical"?i.scaleEl[i.scaleIndex].direction=="counterclockwise"?(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+t.height-Math.sin(Math.PI*(45/180))*r,r,Math.PI*(-45/180),Math.PI*(225/180),!1),i.contextEl.lineTo(n.startX,n.startY+t.calDistance+t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.width/2,t.width/2,-Math.PI,0,!1):i.contextEl.lineTo(n.startX+t.width,n.startY+t.calDistance+t.width/2)):(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(-225/180),!0),i.contextEl.lineTo(n.startX,n.startY+t.height-t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.height-t.width/2,t.width/2,-Math.PI,0,!0):i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.width/2)):i.scaleEl[i.scaleIndex].direction=="counterclockwise"?(i.contextEl.arc(n.startX+t.width-r/4-Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(135/180),Math.PI*(225/180),!0),i.contextEl.lineTo(n.startX+t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!0):i.contextEl.lineTo(n.startX+t.height/2,n.startY+t.height)):(i.contextEl.arc(n.startX+r/4+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(315/180),!1),i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.width-t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!1):i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY+t.height));this._contextClosePath(t,i)},_drawFrameRoundedRectangle:function(n,t,i){this._contextOpenPath(t,i);i.contextEl.lineTo(n.startX+t.radius,n.startY);i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY);i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY,n.startX+t.width,n.startY+t.radius);i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius);i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY+t.height,n.startX+t.width-t.radius,n.startY+t.height);i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height);i.contextEl.quadraticCurveTo(n.startX,n.startY+t.height,n.startX,n.startY+t.height-t.radius);i.contextEl.lineTo(n.startX,n.startY+t.radius);i.contextEl.quadraticCurveTo(n.startX,n.startY,n.startX+t.radius,n.startY);this._contextClosePath(t,i);t.indicatorText&&this._drawText(n,t)},_contextOpenPath:function(n,t){t.contextEl.save();t.contextEl.beginPath();n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle);n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity);n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth);n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath();n.isFill&&t.contextEl.fill();n.isStroke&&t.contextEl.stroke();t.contextEl.restore()},_drawScales:function(){var t=this,i;this.scaleEl=this.Model.scales;this.contextEl.save();this.contextEl.translate(this.Model.frame.outerWidth+this.Model.frame.innerWidth,this.Model.frame.outerWidth+this.Model.frame.innerWidth);n.each(this.Model.scales,function(n,i){t.scaleIndex=n;t._setScaleCordinates(i,i.type)});this._setTicks();this._setLabels();this._setRange();this._setCustomLabel();this._flagPointer=!1;this._tempOpacity=this.model.scales[0].barPointers[0].opacity;this._setBarPointers();this._setMarkerPointers();this._setIndicators();n.each(this.Model.scales,function(n,i){i.showBarPointers&&i.barPointers.length>1&&(t.model.enableAnimation=!1);i.showMarkerPointers&&i.markerPointers.length>1&&(t.model.enableAnimation=!1)});this.contextEl.putImageData||(this.model.enableAnimation=!1);this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.enableAnimation&&this._animationFlag&&this._onAnimate(i))},_setTicks:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n;t._setTicksCordinates(i,n)})))})},_setLabels:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n;t._setLabelCordinates(i,n)})))})},_setIndicators:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i;r.indicators!=null&&r.showIndicators&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n;t._drawIndicator(n,i)}))})},_setBarPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showBarPointers&&(t.scaleIndex=i,r.barPointers!=null&&(t.barPointerEl=r.barPointers,n.each(r.barPointers,function(n,i){t.barPointerIndex=n;r.opacity=t.scaleIndex==0&&t.barPointerIndex==0&&t.model.enableAnimation==!0&&t._flagPointer==!1&&t._animationFlag==!0&&t.model.scales[0].type=="thermometer"?0:t._tempOpacity;t._drawScaleBarPointer(i,n);t._flagPointer=!0})))})},_setMarkerPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showMarkerPointers&&(t.scaleIndex=i,r.markerPointers!=null&&(t.markerPointerEl=r.markerPointers,n.each(r.markerPointers,function(n,i){t.markerPointerIndex=n;t._drawMarkerPointer(i,n);t.canvasEl.attr("aria-label",t.model.scales[t.scaleIndex].markerPointers[t.markerPointerIndex].value)})))})},_onAnimate:function(n){var t=this,f,e,i=t.model.scales[0].minimum,r=t.model.scales[0].barPointers[0].value,u=t.model.scales[0].markerPointers[0].value;f=setInterval(function(){t.model?r>i||i==t.model.scales[0].minimum?(i=i+(t.model.scales[0].maximum-t.model.scales[0].minimum)/100,t.scaleEl[0].type=="thermometer"?(t.model.scales[0].barPointers[0].value=r>i?i:r,t.contextEl.putImageData!="undefined"?t._setBarPointers():r>i?t.setBarPointerValue(0,0,i):t.setBarPointerValue(0,0,r)):r>i?t.setBarPointerValue(0,0,i):t.setBarPointerValue(0,0,r)):(t._animationFlag=!1,t.setBarPointerValue(0,0,r),window.clearInterval(f)):window.clearInterval(f)},n);e=setInterval(function(){t.model&&t.model.enableMarkerPointerAnimation&&t.model.enableAnimation?u>i||i==t.model.scales[0].minimum?(i=i+(t.model.scales[0].maximum-t.model.scales[0].minimum)/100,t.scaleEl[0].type=="thermometer"?(t.model.scales[0].markerPointers[0].value=u>i?i:u,t.contextEl.putImageData!="undefined"?t._setMarkerPointers():u>i?t.setPointerValue(0,0,i):t.setPointerValue(0,0,u)):u>i?t.setPointerValue(0,0,i):t.setPointerValue(0,0,u)):(t._animationFlag=!1,t.setPointerValue(0,0,u),window.clearInterval(e)):window.clearInterval(e)},n)},_setRange:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i;r.ranges!=null&&r.showRanges&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n;t._drawRange(i)}))})},_setCustomLabel:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i;r.customLabels!=null&&r.showCustomLabels&&(t.customLabelEl=r.customLabels,n.each(r.customLabels,function(n,i){t.customLabelIndex=n;t.model.scales[t.scaleIndex].customLabels[t.customLabelIndex]!=null&&t.model.scales[t.scaleIndex].customLabels[t.customLabelIndex].positionType!=null&&t.model.scales[t.scaleIndex].customLabels[t.customLabelIndex].positionType=="outer"?t._setOuterCustomLabelCordinates(n,i):t._setCustomLabelCordinates(n,i)}))})},_setOuterCustomLabelCordinates:function(n,i){var r,u;this._customLblMaxSize=this._customLblMaxSize<parseFloat(i.font.size.match(/\d+/)[0])?parseFloat(i.font.size.match(/\d+/)[0]):this._customLblMaxSize;r=t.buildTag("div."+this._id+"outercustomlbl");r.text(this.model.scales[this.scaleIndex].customLabels[n].value);u=this.model.outerCustomLabelPosition=="right"||this.model.outerCustomLabelPosition=="left"?"left":"center";this.outerDiv.append(r);this.outerDiv.append("<\/br>");u=="center"?r.css({display:"inline-block",margin:"0 auto","max-width":this.model.width}):r.css({display:"inline-block","max-width":this.element.width()-this.model.width>10?this.element.width()-this.model.width:10});r.css({color:i.color,overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":i.font!=null&&i.font.size!=null?i.font.size:"12px","font-family":i.font!=null&&i.font.fontFamily!=null?i.font.fontFamily:"Arial","font-weight":i.font!=null&&i.font.fontStyle!=null?i.font.fontStyle:"Normal","text-align":u})},_setScaleCordinates:function(n,t){var r,i,u,f;this.opacity=1;this.bottomRadius=Math.sqrt(n.width*n.width+n.width*n.width)/2;this.bounds={height:this.canvasEl[0].height-2*(this.Model.frame.outerWidth+this.Model.frame.innerWidth),width:this.canvasEl[0].width-2*(this.Model.frame.outerWidth+this.Model.frame.innerWidth)};this.Model.orientation=="Vertical"?(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.width)*(n.position.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.length)*(n.position.y/100)):(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.length)*(n.position.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.width)*(n.position.y/100));u=t=="roundedrectangle"?5:0;r={startX:this.scaleStartX[this.scaleIndex],startY:this.scaleStartY[this.scaleIndex]};i={width:this.Model.orientation=="Vertical"?n.width:n.length,isStroke:!0,topRounded:!0,fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):this.Model.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.backgroundColor),lineWidth:n.border.width,radius:u,height:this.Model.orientation=="Vertical"?n.length:n.width,isFill:!0,strokeStyle:n.border.color?n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color):this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor)};n.maximum<n.minimum&&(f=n.maximum,n.maximum=n.minimum,n.minimum=f);n.maximum==n.minimum&&(n.maximum=n.maximum+1);this.minimum(n.minimum);this.maximum(n.maximum);this._notifyArrayChange&&(this._notifyArrayChange("scales["+this.scaleIndex+"]maximum",n.maximum),this._notifyArrayChange("scales["+this.scaleIndex+"]minimum",n.minimum));n.shadowOffset&&(this.contextEl.shadowBlur=n.shadowOffset,this.contextEl.shadowColor=i.fillStyle=="transparent"?"rgba(0,0,0,0)":i.fillStyle);this._drawFrame(t,r,i);this.scaleEl[this.scaleIndex].type!="thermometer"||this.isScaleModified||(this._modifyWidth(),this.isScaleModified=!0);this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_setTicksCordinates:function(n){var r,u,f,i,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue){for(i=n.type.toLowerCase()=="majorinterval"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.placement=="near"?r=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]:this.scaleStartY[this.scaleIndex]:n.placement=="far"?r=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width:n.placement=="center"&&(r=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2),u=n.placement=="near"?-n.height:n.height,t=this.scaleEl[this.scaleIndex].maximum;t>=this.scaleEl[this.scaleIndex].minimum&&i!="";t-=i)(i==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||i==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(f=this._getClockwiseLinePosition(t),this.region={lineChangePosition:f+(this.Model.orientation=="horizontal"?n.distanceFromScale.x:n.distanceFromScale.y),lineStaticPosition:r+(this.Model.orientation=="horizontal"?n.distanceFromScale.y:n.distanceFromScale.x)},this.style={lineHeight:u,angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,tickShape:n.TickShape,strokeStyle:n.color?n.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.color):this.Model.tickColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.tickColor),lineWidth:n.width},this.Model.drawTicks&&this._onDrawTicks(this.Model.orientation=="Vertical"?n.angle:n.angle+270,t),this._drawTickMark(this.region,this.style));this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}},_drawTickMark:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.lineWidth=t.lineWidth;this.contextEl.strokeStyle=t.strokeStyle;this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition);this.contextEl.lineTo(0,0);this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180)));this.contextEl.lineTo(t.lineHeight,0);this.contextEl.stroke();this.contextEl.restore();this.contextEl.closePath()},_addDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)+t*Math.pow(10,i))/Math.pow(10,i),o},_setLabelCordinates:function(n){var u,f,i,e,r,o=this.model.locale,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue)for(this.Model.orientation=="Vertical"?(u=n.distanceFromScale.x,f=n.distanceFromScale.y):(u=n.distanceFromScale.y,f=n.distanceFromScale.x),r=n.type=="major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.placement=="near"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width-5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"right":"center"):n.placement=="far"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width+5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"left":"center"):(this.contextEl.textAlign="center",i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+this.scaleEl[this.scaleIndex].border.width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+this.scaleEl[this.scaleIndex].border.width/2),t=this.scaleEl[this.scaleIndex].minimum;t<=this.scaleEl[this.scaleIndex].maximum;t=this._addDecimal(t,r))(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(e=this.scaleEl[this.scaleIndex].direction=="counterclockwise"?this._getCounterClockwiseLinePosition(t):this._getClockwiseLinePosition(t),this.labelValue=t,this.region={lineChangePosition:e+f,lineStaticPosition:i+u},this.style={angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,fillStyle:n.textColor?n.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.textColor):this.Model.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.labelColor),opacity:isNaN(n.opacity)?1:n.opacity,font:this._getFontString(this,n.font),textValue:this.labelValue},this.style.textValue=this.labelValue=o&&this.model.enableGroupSeparator?this.labelValue.toLocaleString(o):this.labelValue,this.Model.drawLabels&&this._onDrawLabels(this.Model.orientation=="Vertical"?n.angle:n.angle+270),this._drawLabel(this.region,this.style,!1));this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawLabel:function(n,i,r){if(this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.textBaseline="middle",this.contextEl.fillStyle=i.fillStyle,this.contextEl.font=i.font,i.opacity&&(this.contextEl.globalAlpha=i.opacity),this.Model.orientation=="Vertical"?(this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition),this.model.tooltip.showLabelTooltip&&!r&&this._savedPoints.push({startX:n.lineStaticPosition+5,startY:n.lineChangePosition+10,width:15,height:15,value:i.textValue}),this.model.tooltip.showCustomLabelTooltip&&r&&this._savedPoints.push({startX:n.lineStaticPosition-35,startY:n.lineChangePosition+10,width:110,height:15,value:i.textValue})):(this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.model.tooltip.showLabelTooltip&&!r&&this._savedPoints.push({startX:n.lineChangePosition+10,startY:n.lineStaticPosition+10,width:15,height:15,value:i.textValue}),this.model.tooltip.showCustomLabelTooltip&&r&&this._savedPoints.push({startX:n.lineChangePosition-35,startY:n.lineStaticPosition+10,width:110,height:15,value:i.textValue})),this.contextEl.lineTo(0,0),this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.contextEl.rotate(Math.PI*(i.angle/180)):this.contextEl.rotate(-(Math.PI*(i.angle/180))),!t.isNullOrUndefined(r)&&!r){var u=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitTextPlacement;t.isNullOrUndefined(u)||u.toString()!="back"?t.isNullOrUndefined(u)||u.toString()!="front"||(i.textValue=this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText+i.textValue):i.textValue=i.textValue+this.model.scales[this.scaleIndex].labels[this.labelIndex].unitText}this.contextEl.fillText(i.textValue,0,0);this.contextEl.fill();this.contextEl.restore()},_drawScaleBarPointer:function(n,t){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value;n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var u,r,s,f,e,o,c,i,h;h=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];s=this.scaleEl[this.scaleIndex].type.toLowerCase()=="roundedrectangle"?5:0;this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?(r=this._getClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(i=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,u=this.contextEl.createLinearGradient(i,this.scaleStartY[this.scaleIndex],i+n.width,this.scaleStartY[this.scaleIndex])):(i=this.scaleStartX[this.scaleIndex],u=this.contextEl.createLinearGradient(i,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2,i,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+n.width/2))):(r=this._getCounterClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(i=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,u=this.contextEl.createLinearGradient(i,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-r,i+n.width,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-r)):(i=this.scaleEl[this.scaleIndex].type=="thermometer"?r-this.scaleEl[this.scaleIndex].width/2-this.scaleEl[this.scaleIndex].border.width/2:r-this.scaleEl[this.scaleIndex].border.width/2,u=this.contextEl.createLinearGradient(i,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2,i,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2+n.width/2)));n.backgroundColor?c=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.gradients?this._setGradientColor(this,u,n.gradients.colorInfo):this.Model.ScaleInterior?this._setGradientColor(this,u,this.Model.ScaleInterior.colorInfo):this._setGradientColor(this,u,h);this.Model.orientation=="Vertical"?(o=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].border.width/2:r,this.scaleEl[this.scaleIndex].direction=="counterclockwise"&&this.scaleEl[this.scaleIndex].type=="thermometer"&&(o=o-this.scaleEl[this.scaleIndex].width/2),f=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?r-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-r-this.scaleEl[this.scaleIndex].border.width/2,e=n.width):(o=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,f=n.width,e=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?r-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].length-r);this.region={startX:i+this.scaleEl[this.scaleIndex].border.width/2,startY:o};this.style={width:this.scaleEl[this.scaleIndex].type=="thermometer"&&this.Model.orientation=="horizontal"?e+f/2-this.scaleEl[this.scaleIndex].border.width/2:e,lineWidth:n.border.width,radius:s,topRounded:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].type=="thermometer"&&this.Model.orientation=="Vertical"?f+e/2:f,strokeStyle:n.border.color==null?this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor):n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color),fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):u=="transparent"?"rgba(0,0,0,0)":this._getColor(n,u),opacity:isNaN(n.opacity)?.4:n.opacity,calDistance:this.scaleEl[this.scaleIndex].type=="thermometer"&&this.Model.orientation=="Vertical"?(this.scaleEl[this.scaleIndex].width-this.barPointerEl[this.barPointerIndex].width)/2:0};this.value(n.value);this._notifyArrayChange&&this._notifyArrayChange("scales["+this.scaleIndex+"]barpointers["+t+"]value",n.value);this.Model.drawBarPointers&&this._onDrawBarPointers(n.value);this._drawFrame(this.scaleEl[this.scaleIndex].type,this.region,this.style);this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerPointer:function(n,t){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value;n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var i,f,o,e,r,u,s,h=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}];this.markerPlacement=n.placement;o=Math.sqrt(n.width*n.width+n.length*n.length)/2;this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isModify&&this._modifyWidth();this.Model.orientation=="Vertical"?(this.markerPlacement=="far"&&(i=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,r=0),this.markerPlacement=="near"&&(i=n.type=="star"?this.scaleStartX[this.scaleIndex]+n.distanceFromScale-n.width:this.scaleStartX[this.scaleIndex]+n.distanceFromScale,r=180),this.markerPlacement=="center"&&(i=n.type=="circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale+n.border.width:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,r=0)):(this.markerPlacement=="far"&&(i=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,r=90),this.markerPlacement=="near"&&(i=n.type=="star"?this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale-n.length:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,r=270),this.markerPlacement=="center"&&(i=n.type=="circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.length/2+n.distanceFromScale+n.border.width:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.length/2+n.distanceFromScale,r=90));e=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this._getClockwiseLinePosition(n.value):this._getCounterClockwiseLinePosition(n.value);n.type=="star"?this.Model.orientation=="Vertical"?(u=this.contextEl.createLinearGradient(i,this.scaleStartY[this.scaleIndex],i+n.width,this.scaleStartY[this.scaleIndex]),f=e-n.length/3):(u=this.contextEl.createLinearGradient(e,i,e,i+n.length),f=e-n.width/2):(u=this.contextEl.createLinearGradient(0,0,n.width,0),f=e);n.type.toLowerCase()=="roundedrectangle"&&(this.Model.orientation=="Vertical"&&this.markerPlacement=="near"?f+=n.length:this.Model.orientation=="horizontal"&&(this.markerPlacement=="near"&&(f-=n.width),i+=n.width/2));n.backgroundColor?s=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.gradients?this._setGradientColor(this,u,n.gradients.colorInfo):this.Model.PointerInterior?this._setGradientColor(this,u,this.Model.PointerInterior.colorInfo):this._setGradientColor(this,u,h);this.region={startX:this.Model.orientation=="Vertical"?i:f,startY:this.Model.orientation=="Vertical"?f:i};this.style={width:n.width,radius:n.type=="rectangle"?0:o,height:n.length,lineWidth:n.border.width,isFill:!0,isStroke:!0,angle:r,strokeStyle:n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color),markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):u=="transparent"?"rgba(0,0,0,0)":this._getColor(n,u)};this.value(n.value);this._notifyArrayChange&&this._notifyArrayChange("scales["+this.scaleIndex+"]markerpointers["+t+"]value",n.value);this.Model.drawMarkerPointers&&this._onDrawMarkerPointers(r,n.value);n.type.toLowerCase()=="roundedrectangle"&&(this.style.radius=5);this._drawMarkerType(n.type,this.region,this.style);this.scaleEl[this.scaleIndex].type=="thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1);this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerType:function(n,t,i){switch(n){case"rectangle":this._drawRectangle(t,i,this);break;case"triangle":this._drawTriangle(t,i,this);break;case"ellipse":this._drawEllipse(t,i,this);break;case"diamond":this._drawDiamond(t,i,this);break;case"pentagon":this._drawPentagon(t,i,this);break;case"circle":this._drawCircle(t,i,this);break;case"slider":this._drawSlider(t,i,this);break;case"star":this._drawStar(t,i,this);break;case"pointer":this._drawPointer(t,i,this);break;case"wedge":this._drawWedge(t,i,this);break;case"trapezoid":this._drawTrapezoid(t,i,this);break;case"roundedrectangle":this._drawRoundedRectangle(t,i,this)}},_drawRange:function(n){var e,o,u,t,f,r,i,s,h;n.startValue<this.scaleEl[this.scaleIndex].maximum&&n.endValue>this.scaleEl[this.scaleIndex].minimum&&this.scaleEl[this.scaleIndex].minimum<this.scaleEl[this.scaleIndex].maximum&&n.endValue<=this.scaleEl[this.scaleIndex].maximum&&(e=n.startValue<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.startValue,o=n.endValue>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.endValue,this.rangePosition=n.placement,h=[{ColorStop:0,Color:this.Model.pointerGradient1=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2=="transparent"?"rgba(0,0,0,0)":this.Model.pointerGradient2}],u=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this._getClockwiseLinePosition(e):this._getCounterClockwiseLinePosition(e),t=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this._getClockwiseLinePosition(o):this._getCounterClockwiseLinePosition(o),this.Model.orientation=="Vertical"?(n.placement=="far"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width),n.placement=="near"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale),n.placement=="center"&&(f=n.startWidth>n.endWidth?this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.startWidth/2:this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.endWidth/2),i=this.contextEl.createLinearGradient(t,t,t,u),this.region={startX:f,startY:u,endY:t}):(n.placement=="far"&&(r=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+n.distanceFromScale+this.scaleEl[this.scaleIndex].border.width),n.placement=="near"&&(r=this.scaleStartY[this.scaleIndex]+n.distanceFromScale),n.placement=="center"&&(r=n.startWidth>n.endWidth?this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.startWidth/2:this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].width/2-n.endWidth/2),i=this.contextEl.createLinearGradient(t,r,u,r),this.region={startX:u,startY:r,endX:t}),n.backgroundColor?s=n.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.backgroundColor):n.gradients?this._setGradientColor(this,i,n.gradients.colorInfo):this.Model.RangeInterior?this._setGradientColor(this,i,this.Model.RangeInterior.colorInfo):this._setGradientColor(this,i,h),this.style={startWidth:n.startWidth,lineWidth:n.border.width,isStroke:!0,isFill:!0,opacity:isNaN(n.opacity)?.4:n.opacity,endWidth:n.endWidth,fillStyle:n.backgroundColor?s=="transparent"?"rgba(0,0,0,0)":this._getColor(n,s):i=="transparent"?"rgba(0,0,0,0)":this._getColor(n,i),strokeStyle:n.border.color?n.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(n,n.border.color):this.Model.borderColor=="transparent"?"rgba(0,0,0,0)":this._getColor(n,this.Model.borderColor)},this.Model.drawRange&&this._onDrawRange(),this._drawRangeBar(this.region,this.style),this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height)))},_drawRangeBar:function(n,t){this._contextOpenPath(t,this);this.Model.orientation=="Vertical"?(this.contextEl.lineTo(n.startX,n.startY),this.contextEl.lineTo(n.startX,n.endY),this.rangePosition=="near"?(this.contextEl.lineTo(n.startX-t.endWidth,n.endY),this.contextEl.lineTo(n.startX-t.startWidth,n.startY)):(this.contextEl.lineTo(n.startX+t.endWidth,n.endY),this.contextEl.lineTo(n.startX+t.startWidth,n.startY))):(this.contextEl.lineTo(n.startX,n.startY),this.contextEl.lineTo(n.endX,n.startY),this.rangePosition=="near"?(this.contextEl.lineTo(n.endX,n.startY-t.endWidth),this.contextEl.lineTo(n.startX,n.startY-t.startWidth)):(this.contextEl.lineTo(n.endX,n.startY+t.endWidth),this.contextEl.lineTo(n.startX,n.startY+t.startWidth)));this._contextClosePath(t,this)},_setCustomLabelCordinates:function(n,t){this._customLblMaxSize=this._customLblMaxSize<parseFloat(t.font.size.match(/\d+/)[0])?parseFloat(t.font.size.match(/\d+/)[0]):this._customLblMaxSize;var i,r;this.contextEl.textAlign="center";this.Model.orientation=="Vertical"?(i=this.bounds.width*(t.position.x/100),r=this.bounds.height*(t.position.y/100)):(i=this.bounds.width*(t.position.x/100),r=this.bounds.height*(t.position.y/100));this.region={lineStaticPosition:this.Model.orientation=="Vertical"?i:r,lineChangePosition:this.Model.orientation=="Vertical"?r:i};this.style={angle:t.textAngle,textValue:t.value,fillStyle:t.color?t.color=="transparent"?"rgba(0,0,0,0)":this._getColor(t,t.color):this.Model.labelColor=="transparent"?"rgba(0,0,0,0)":this._getColor(t,this.Model.labelColor),font:this._getFontString(this,t.font)};this.Model.drawCustomLabel&&this._onDrawCustomLabel();this._drawLabel(this.region,this.style,!0);this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawIndicator:function(i,r){var u=this,f,e,o,s=!1;f=(this.bounds.width-2*r.width)*(r.position.x/100);e=(this.bounds.height-2*r.height)*(r.position.y/100);o={x:this.bounds.width*(r.textLocation.x/100),y:this.bounds.height*(r.textLocation.y/100)};u.region={startX:r.type=="circle"?f+r.width:f,textLocation:o,startY:r.type=="circle"?e+r.height:e,startAngle:0,endAngle:2*Math.PI};u.style={radius:r.type=="roundedrectangle"?2:0,strokeStyle:r.border.color?r.border.color=="transparent"?"rgba(0,0,0,0)":this._getColor(r,r.border.color):this._getColor(r,"#FFFFFF"),angle:0,circleRadius:(r.height+r.width)/2,height:r.height,width:r.width,lineWidth:r.border.width,fillStyle:r.backgroundColor?r.backgroundColor=="transparent"?"rgba(0,0,0,0)":this._getColor(r,r.backgroundColor):this._getColor(r,"#FFFFFF"),isStroke:!0,isFill:!0,indicatorText:null,textColor:null,font:null,counterClockwise:!1};this.Model.drawIndicators&&this._onDrawIndicators(u.style,u.region);r.stateRanges!=null&&n.each(r.stateRanges,function(n,i){u.markerPointerEl[u.markerPointerIndex].value>=i.startValue&&u.markerPointerEl[u.markerPointerIndex].value<=i.endValue&&(s=!0,!t.isNullOrUndefined(i.text)&&i.text.length>0&&(u.style.indicatorText=i.text,u.style.textColor=i.textColor=="transparent"?"rgba(0,0,0,0)":u._getColor(r,i.textColor),u.style.font=u._getFontString(u,r.font)),r.type!="text"?(u.style.strokeStyle=i.borderColor=="transparent"?"rgba(0,0,0,0)":u._getColor(r,i.borderColor),u.style.fillStyle=i.backgroundColor=="transparent"?"rgba(0,0,0,0)":u._getColor(r,i.backgroundColor),u._drawFrame(r.type,u.region,u.style,u)):r.type=="text"&&u._drawText(u.region,u.style))});s||r.type=="text"||this._drawFrame(r.type,u.region,u.style,u);this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawFrame:function(n,t,i){switch(n.toLowerCase()){case"circle":this._drawFrameCircle(t,i,this);break;case"rectangle":this._drawFrameRectangle(t,i,this);break;case"roundedrectangle":this._drawFrameRoundedRectangle(t,i,this);break;case"thermometer":this._drawFrameThermometer(t,i,this)}},_drawText:function(n,t){this.contextEl.beginPath();this.contextEl.textAlign="center";this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor;this.contextEl.font=t.font;this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y);this.contextEl.closePath()},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(t.width,t.height/4);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/4);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(t.width/2,t.height/4);this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(3*t.width/4,0);i.contextEl.lineTo(t.width,t.height/2);this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/4,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(t.width/4,t.height/2);this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i);i.Model.orientation=="horizontal"&&i.markerPlacement=="near"?(i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.lineTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY));this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/3,-t.height/2);i.contextEl.lineTo(t.width,-t.height/4);i.contextEl.lineTo(t.width,t.height/4);i.contextEl.lineTo(t.width/3,t.height/2);this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(t.width/2,-t.height/2);i.contextEl.lineTo(t.width,0);i.contextEl.lineTo(t.width/2,t.height/2);i.contextEl.lineTo(0,0);this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(0,-t.height/4);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/4);this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.lineTo(0,0);i.contextEl.lineTo(0,-t.height/2);i.contextEl.lineTo(t.width,-t.height/2);i.contextEl.lineTo(t.width,t.height/2);i.contextEl.lineTo(0,t.height/2);this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY-t.height/2);this._setContextRotation(t,i);i.contextEl.lineTo(t.radius,0);i.contextEl.lineTo(t.width-t.radius,0);i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius);i.contextEl.lineTo(t.width,t.height-t.radius);i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height);i.contextEl.lineTo(t.radius,t.height);i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius);i.contextEl.lineTo(0,t.radius);i.contextEl.quadraticCurveTo(0,0,t.radius,0);this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image;n(r).on("load",function(){t.contextEl.drawImage(this,0,0,t.Model.width,t.Model.height);t.Model.scales!=null&&t._drawScales();t.Model.Items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i);this._contextOpenPath(t,i);i.contextEl.translate(n.startX,n.startY);this._setContextRotation(t,i);i.contextEl.scale(2,1);i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0);this._contextClosePath(t,i)},_getIndicatorImage:function(){return this.pointerImage?this.pointerImage:this._getMarkerPointerImage()},_getBarPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getMarkerPointerImage:function(){return this.barPointerImage?this.barPointerImage:this._getCustomLabelImage()},_getCustomLabelImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},setPointerValue:function(n,i,r){n<this.Model.scales.length&&i<this.Model.scales[n].markerPointers.length&&r!=null&&(r<=this.scaleEl[n].maximum&&r>=this.scaleEl[n].minimum&&(this.scaleEl[n].markerPointers[i].value=r),this.contextEl.putImageData?(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),!t.isNullOrUndefined(this.outerDiv)&&this.model.scale[n].showCustomLabels&&this.outerDiv.empty(),this._setCustomLabel(),this._setMarkerPointers(),this._setIndicators()):this.initialize())},getPointerValue:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length?this.scaleEl[n].markerPointers[t].value:null},setPointerWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].width=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerWidth:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length?this.scaleEl[n].markerPointers[t].width:null},setPointerHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].length=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerHeight:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length?this.scaleEl[n].markerPointers[t].length:null},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},setPointerDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length?this.scaleEl[n].markerPointers[t].distanceFromScale:null},setPointerPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].placement=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerPlacement:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length?this.scaleEl[n].markerPointers[t].placement:null},setMarkerStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].type=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getMarkerStyle:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length?this.scaleEl[n].markerPointers[t].type:null},setBarPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(i<=this.scaleEl[n].maximum&&i>=this.scaleEl[n].minimum&&(this.scaleEl[n].barPointers[t].value=i),this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarPointerValue:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length?this.scaleEl[n].barPointers[t].value:null},setBarWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].width=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarWidth:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length?this.scaleEl[n].barPointers[t].width:null},setBarDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].type=="thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length?this.scaleEl[n].barPointers[t].distanceFromScale:null},setCustomLabelValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].value=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelValue:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length?this.scaleEl[n].customLabels[t].value:null},setCustomLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length&&i!=null&&(this.scaleEl[n].customLabels[t].textAngle=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelAngle:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].customLabels.length?this.scaleEl[n].customLabels[t].textAngle:null},setRangeStartValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartValue:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].startValue:null},setRangeEndValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndValue:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].endValue:null},setRangeStartWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartWidth:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].startWidth:null},setRangeEndWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndWidth:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].endWidth:null},setRangeDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].distanceFromScale:null},setRangePosition:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].placement=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangePosition:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].placement:null},setRangeBorderWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].border.width=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeBorderWidth:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length?this.scaleEl[n].ranges[t].border.width:null},setLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelAngle:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].labels.length?this.scaleEl[n].labels[t].angle:null},setLabelStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].type=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelStyle:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].labels.length?this.scaleEl[n].labels[t].type:null},setLabelPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].placement=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelPlacement:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].labels.length?this.scaleEl[n].labels[t].placement:null},setLabelXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale.x=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelXDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].labels.length?this.scaleEl[n].labels[t].distanceFromScale.x:null},setLabelYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].distanceFromScale.y=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelYDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].labels.length?this.scaleEl[n].labels[t].distanceFromScale.y:null},setTickAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickAngle:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].angle:null},setTickWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].width=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickWidth:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].width:null},setTickHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].height=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickHeight:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].height:null},setTickStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].type=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].type:null},setTickPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].placement=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickPlacement:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].placement:null},setTickXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale.x=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickXDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].distanceFromScale.x:null},setTickYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].distanceFromScale.y=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickYDistanceFromScale:function(n,t){return n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length?this.scaleEl[n].ticks[t].distanceFromScale.y:null},setScaleLocation:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].position.x=t.x,this.scaleEl[n].position.y=t.y,this.initialize())},getScaleLocation:function(n){return n<this.Model.scales.length?{x:this.scaleEl[n].position.x,y:this.scaleEl[n].position.y}:null},setMaximumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(t>this.scaleEl[n].minimum&&(this.scaleEl[n].maximum=t),this.initialize())},getMaximumValue:function(n){return n<this.Model.scales.length?this.scaleEl[this.scaleIndex].maximum:null},setMinimumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(t<this.scaleEl[n].maximum&&(this.scaleEl[n].minimum=t),this.initialize())},getMinimumValue:function(n){return n<this.Model.scales.length?this.scaleEl[this.scaleIndex].minimum:null},setScaleBarSize:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].width=t,this.initialize())},getScaleBarSize:function(n){return n<this.Model.scales.length?this.scaleEl[n].width:null},setScaleBarLength:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].length=t,this.initialize())},setScaleStyle:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].type=t,this.initialize())},getScaleStyle:function(n){return n<this.Model.scales.length?this.scaleEl[n].type:null},getScaleBarLength:function(n){return n<this.Model.scales.length?this.scaleEl[n].length:null},setScaleBorderWidth:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].border.width=t,this.initialize())},setScaleDirection:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].direction=t,this.initialize())},getScaleDirection:function(n){return n<this.Model.scales.length?this.scaleEl[n].direction:null},getScaleBorderWidth:function(n){return n<this.Model.scales.length?this.scaleEl[n].border.width:null},setMajorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.initialize())},getMajorIntervalValue:function(n){return n<this.Model.scales.length?this.scaleEl[n].majorIntervalValue:null},setMinorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.initialize())},getMinorIntervalValue:function(n){return n<this.Model.scales.length?this.scaleEl[n].minorIntervalValue:null},_reDrawBarPointer:function(){if(this.Model.frame.backgroundImageUrl){var n=t.isNullOrUndefined(this.customLabelImage)?t.isNullOrUndefined(this.rangeImage)?t.isNullOrUndefined(this.labelImage)?t.isNullOrUndefined(this.tickImage)?t.isNullOrUndefined(this.scaleImage)?null:this.scaleImage:this.tickImage:this.labelImage:this.rangeImage:this.customLabelImage();this.contextEl.putImageData(n,0,0);this._setBarPointers();this._setMarkerPointers();this._setIndicators()}else this.contextEl.putImageData!="undefined"&&(this.contextEl.putImageData(this._getBarPointerImage(),0,0),this._setBarPointers(),this._setMarkerPointers(),this._setIndicators())},_reDrawMarkerPointer:function(){if(this.Model.frame.backgroundImageUrl){var n=t.isNullOrUndefined(this.customLabelImage)?t.isNullOrUndefined(this.rangeImage)?t.isNullOrUndefined(this.labelImage)?t.isNullOrUndefined(this.tickImage)?t.isNullOrUndefined(this.scaleImage)?null:this.scaleImage:this.tickImage:this.labelImage:this.rangeImage:this.customLabelImage();this.contextEl.putImageData(n,0,0);this._setMarkerPointers()}else this.contextEl.putImageData!="undefined"&&(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers())},_reDrawCustomLabel:function(){if(this.Model.frame.backgroundImageUrl){var n=t.isNullOrUndefined(this.rangeImage)?t.isNullOrUndefined(this.labelImage)?t.isNullOrUndefined(this.tickImage)?t.isNullOrUndefined(this.scaleImage)?null:this.scaleImage:this.tickImage:this.labelImage:this.rangeImage;this.contextEl.putImageData(n,0,0);this._setCustomLabel();this._setIndicators();this._setBarPointers();this._setMarkerPointers()}else this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers()},_reDrawRange:function(){if(this.Model.frame.backgroundImageUrl){var n=t.isNullOrUndefined(this.labelImage)?t.isNullOrUndefined(this.tickImage)?t.isNullOrUndefined(this.scaleImage)?null:this.scaleImage:this.tickImage:this.labelImage;this.contextEl.putImageData(n,0,0);this._setRange();this._setCustomLabel();this._setIndicators();this._setBarPointers();this._setMarkerPointers()}else this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers()},_reDrawLabel:function(){if(this.Model.frame.backgroundImageUrl){var n=t.isNullOrUndefined(this.tickImage)?t.isNullOrUndefined(this.scaleImage)?null:this.scaleImage:this.tickImage;this.contextEl.putImageData(n,0,0);this._setLabels();this._setRange();this._setCustomLabel();this._setIndicators();this._setBarPointers();this._setMarkerPointers()}else this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers()},_reDrawTickMark:function(){if(this.Model.frame.backgroundImageUrl){var n=t.isNullOrUndefined(this.scaleImage)?null:this.scaleImage;this.contextEl.putImageData(n,0,0);this._setTicks();this._setLabels();this._setRange();this._setCustomLabel();this._setIndicators();this._setBarPointers();this._setMarkerPointers()}else this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers()},refresh:function(){this._init()},"export":function(){var i=this.model.exportSettings,u,f,e,r,o,s;i.mode.toLowerCase()==="client"?this.exportImage(i.fileName,i.fileType):(f=i.type.toLowerCase()==="jpg"?"image/jpeg":"image/png",u=this.canvasEl[0].toDataURL(f),e={action:i.action,method:"post"},r=t.buildTag("form","",null,e),o={name:"Data",type:"hidden",value:u},s=t.buildTag("input","",null,o),r.append(s).append(this),n("body").append(r),r.submit())},exportImage:function(n,i){var f,u,o,r,c,s;if(t.browserInfo().name==="msie"&&parseFloat(t.browserInfo().version)<10)return!1;f=this.canvasEl[0].toDataURL();f=f.replace(/^data:[a-z]*;,/,"");var l=f.split(","),e=atob(l[1]),h=new ArrayBuffer(e.length),a=new Uint8Array(h);for(u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return o=new Blob([h],{type:"image/png"}),t.browserInfo().name==="msie"?window.navigator.msSaveOrOpenBlob(o,n+"."+i):(r=document.createElement("a"),c=URL.createObjectURL(o),r.href=c,r.setAttribute("download",n+"."+i),document.createEvent?(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(s)):r.fireEvent&&r.fireEvent("onclick")),!0},resizeCanvas:function(){var o,s,e,i,f;if(r=r!=0?r-1:n(".e-lineargauge").length-1,s=!0,t.isNullOrUndefined(this.GaugeEl.parent().attr("style"))||(o=this.GaugeEl.parent().attr("style").split(";")),t.isNullOrUndefined(o)||n.each(o,function(n,t){while(t.indexOf("width")!=-1){s=t.indexOf("px")==-1?!0:!1;break}}),s){for(e=window.innerWidth/u,this.model.width*=e,i=0;this.model.scales[i]!=null;i++)for(this.model.scales[i].length*=e,f=0;this.model.scales[i].markerPointers[f]!=null||this.model.scales[i].barPointers[f]!=null||this.model.scales[i].indicators[f]!=null||this.model.scales[i].customLabels[f]!=null||this.model.scales[i].ranges[f]!=null||this.model.scales[i].labels[f]!=null||this.model.scales[i].ticks[f]!=null;f++)t.isNullOrUndefined(this.model.scales[i].markerPointers[f])||(this.model.scales[i].markerPointers[f].length*=e,this.model.scales[i].markerPointers[f].width*=e),t.isNullOrUndefined(this.model.scales[i].barPointers[f])||(this.model.scales[i].barPointers[f].distanceFromScale*=e,this.model.scales[i].barPointers[f].width*=e),!t.isNullOrUndefined(this.model.scales[i].indicators[f])&&this.model.scales[i].showIndicators&&(this.model.scales[i].indicators[f].height*=e,this.model.scales[i].indicators[f].width*=e,this.model.scales[i].indicators[f].position.x*=e,this.model.scales[i].indicators[f].textLocation.x*=e),t.isNullOrUndefined(this.model.scales[i].ticks[f])||(this.model.scales[i].ticks[f].length*=e,this.model.scales[i].ticks[f].width*=e),t.isNullOrUndefined(this.model.scales[i].ranges[f])||(this.model.scales[i].ranges[f].startWidth*=e,this.model.scales[i].ranges[f].endWidth*=e),t.isNullOrUndefined(this.model.scales[i].customLabels[f])||(this.model.scales[i].customLabels[f].positionType!="outer"&&(this.model.scales[i].customLabels[f].position.x*=e),this.model.scales[i].customLabels[f].font.size=parseFloat(this.model.scales[i].customLabels[f].font.size.match(/\d+/)[0])*e<10?"10px":parseFloat(this.model.scales[i].customLabels[f].font.size.match(/\d+/)[0])*e>this._customLblMaxSize?this._customLblMaxSize.toString()+"px":(parseFloat(this.model.scales[i].customLabels[f].font.size.match(/\d+/)[0])*e).toString()+"px");this._render();r==0&&(u=window.innerWidth)}},_onDrawTicks:function(n,t){var r={index:this.tickIndex,element:this.tickEl[this.tickIndex],angle:parseInt(n),value:t},i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region};this._trigger("drawTicks",i)},_onDrawLabels:function(n){var t={index:this.labelIndex,element:this.labelEl[this.labelIndex],angle:parseInt(n),value:this.labelValue},i={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,label:t};this._trigger("drawLabels",i)},_onDrawBarPointers:function(n){var t={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,barPointerIndex:this.barPointerIndex,barElement:this.barPointerEl[this.barPointerIndex],context:this.contextEl,style:this.style,position:this.region,pointerValue:n};this._trigger("drawBarPointers",t)},_onDrawMarkerPointers:function(n,t){var i={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,markerPointerIndex:this.markerPointerIndex,markerElement:this.markerPointerEl[this.markerPointerIndex],context:this.contextEl,style:this.style,position:this.region,pointerValue:t,pointerAngle:parseInt(n)};this._trigger("drawMarkerPointers",i)},_onDrawRange:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeIndex],context:this.contextEl,style:this.style,position:this.region};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,position:this.region};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,position:this.region};this._trigger("drawIndicators",n)},onLoad:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("load",n)},_onInit:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("init",n)},_onRenderComplete:function(){var n={object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_onMouseClick:function(n){var t={index:this.markerPointerIndex,element:this.markerPointerEl[this.markerPointerIndex],value:n},i={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,markerPointer:t};this._trigger("mouseClick",i)},_onMouseClickMove:function(n){var t={index:this.markerPointerIndex,element:this.markerPointerEl[this.markerPointerIndex],value:n},i={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,markerPointer:t};this._trigger("mouseClickMove",i)},_onMouseClickUp:function(n){var t={index:this.markerPointerIndex,element:this.markerPointerEl[this.markerPointerIndex],value:n},i={object:this,scaleElement:this.model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,context:this.contextEl,style:this.style,position:this.region,markerPointer:t};this._trigger("mouseClickUp",i)},_restoreWidth:function(){this.scaleEl[this.scaleIndex].length=this.scaleEl[this.scaleIndex].length+this.bottomRadius+this.scaleEl[this.scaleIndex].width;this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.scaleStartY[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].width/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.scaleStartX[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].width/2},_modifyWidth:function(){this.scaleEl[this.scaleIndex].length=this.scaleEl[this.scaleIndex].length-this.bottomRadius-this.scaleEl[this.scaleIndex].width;this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.scaleStartY[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].width/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].direction.toLowerCase()=="clockwise"?this.scaleStartX[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].width/2:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2},_getClockwiseLinePosition:function(n){var t;return t=(n-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100)},_getCounterClockwiseLinePosition:function(n){var t;return t=this.scaleEl[this.scaleIndex].maximum-n+this.scaleEl[this.scaleIndex].minimum,t=(t-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].length/100)},_getValue:function(n){var i,t;return i=this.Model.orientation=="Vertical"?(n.y-this.scaleStartY[this.scaleIndex])/this.scaleEl[this.scaleIndex].length*100:(n.x-this.scaleStartX[this.scaleIndex])/this.scaleEl[this.scaleIndex].length*100,t=(i*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)+this.scaleEl[this.scaleIndex].minimum)/100,this.scaleEl[this.scaleIndex].direction=="counterclockwise"?this.scaleEl[this.scaleIndex].maximum-t:this.scaleEl[this.scaleIndex].minimum+t},_getPointerXPosition:function(n){var t,i;return this.Model.orientation=="Vertical"?(this.markerPlacement=="far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,i=0),this.markerPlacement=="near"&&(t=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="center"&&(t=n.type=="circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-Math.sqrt(n.length*n.length+n.width*n.width)/2+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.width/2+n.distanceFromScale,i=0)):(this.markerPlacement=="far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width+this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,i=90),this.markerPlacement=="near"&&(t=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].border.width/2+n.distanceFromScale,i=270),this.markerPlacement=="center"&&(t=n.type=="circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-Math.sqrt(n.length*n.length+n.width*n.width)/2+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].width/2-n.length/2+n.distanceFromScale,i=90)),{startx:t,angle:i}},_hexFromRGB:function(t,i,r){var u=[t.toString(16),i.toString(16),r.toString(16)];return n.each(u,function(n,t){t.length===1&&(u[n]="0"+t)}),u.join("").toUpperCase()},_setGradientColor:function(t,i,r){r.Name||typeof r=="string"?(i.addColorStop(0,r),i.addColorStop(1,r)):n.each(r,function(n,t){i.addColorStop(t.colorStop!=NaN?t.colorStop:0,typeof t.color=="string"?t.color:t.color)})},_getFontString:function(n,t){return t.fontStyle+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily},_setPointerDimension:function(n,t){if(t.Model.orientation&&t.Model.orientation=="horizontal"){var i=n.width,r=n.height;n.height=i;n.width=r}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},_browserInfo:function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n},wireEvents:function(){var u;n(this.canvasEl).off();var f=jQuery.uaMatch(navigator.userAgent),r=this._browserInfo(),i=r.isMSPointerEnabled,t=r.pointerEnabled;this.startEv=i?t?"pointerdown":"MSPointerDown":"touchstart mousedown";this.endEv=i?t?"pointerup":"MSPointerUp":"touchend mouseup";this.moveEv=i?t?"pointermove":"MSPointerMove":"touchmove mousemove";this.leaveEv=i?t?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.scrollEv=f.browser.toLowerCase()=="mozilla"?t?"mousewheel":"DOMMouseScroll":"mousewheel";this.model.browserInfo=r;u=this.model.readOnly?"pan-y pan-x":"none";n(this.element).css("touch-action",u);this.onMouseMoveHandler=n.proxy(this._onMouseMove,this);this.onMouseUpHandler=n.proxy(this._onMouseUp,this);this.onHoverOCustomLabel=n.proxy(this._onHoverOCustomLabel,this);this.onLeaveOCustomLabel=n.proxy(this._onLeaveOCustomLabel,this);this.model.readOnly||(this.onMouseDownHandler=n.proxy(this._onMouseDown,this),this._on(n(this.element),this.startEv,this._onMouseDown));this._on(n(this.canvasEl),this.startEv,this.lgMouseDown);this._on(n(this.canvasEl),this.endEv,this.lgMouseUp);(this.model.tooltip.showCustomLabelTooltip||this.model.tooltip.showLabelTooltip)&&(n(this.canvasEl).bind(this.moveEv,this.onMouseMoveHandler),n(this.canvasEl).bind(this.scrollEv,this.onMouseMoveHandler),n(this.canvasEl).bind(this.startEv,this.onMouseDownHandler),n(this.canvasEl).bind(this.endEv,this.onLeaveOCustomLabel),n(this.canvasEl).bind(this.leaveEv,this.onLeaveOCustomLabel));this.element.bind(this.startEv,this.onMouseDownHandler);this.model.tooltip.showCustomLabelTooltip&&(n("."+this._id+"outercustomlbl").bind("mouseenter",this.onHoverOCustomLabel),n("."+this._id+"outercustomlbl").bind(this.leaveEv,this.onLeaveOCustomLabel));this._on(n(this.canvasEl),"contextmenu",this._lgRightClick)},unWireEvents:function(){this.element.unbind(this.startEv,this.onMouseDownHandler);this._off(n(this.canvasEl),"contextmenu",this._lgRightClick);this._off(n(this.canvasEl),this.startEv,this.lgMouseDown);this._off(n(this.canvasEl),this.endEv,this.lgMouseUp)},lgMouseDown:function(){t.isTouchDevice()&&this.model.rightClick!=""&&(this._longPressTimer=new Date)},lgMouseUp:function(n){var i=new Date;this._doubleTapTimer!=null&&i-this._doubleTapTimer<300&&this._lgDoubleClick(n);this._doubleTapTimer=i;t.isTouchDevice()&&this.model.rightClick!=""&&new Date-this._longPressTimer>1500&&this._lgRightClick(n)},_onHoverOCustomLabel:function(n){(n.currentTarget.innerHTML!=null||n.currentTarget.innerHTML!="")&&this._showTooltip(n,n.currentTarget.innerHTML)},_onLeaveOCustomLabel:function(t){this.isTouch(t)?(this._performTooltip(t),window.clearTimeout(this.model.timer),this.model.timer=setTimeout(function(){n(".tooltipDiv").fadeOut(500)},1200)):this._hideTooltip()},isTouch:function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},_blockDefaultActions:function(n){n.cancelBubble=!0;n.returnValue=!1;n.preventDefault&&n.preventDefault();n.stopPropagation&&n.stopPropagation()},_onMouseDown:function(t){var r,u,e,o,h,f,s,i;this._blockDefaultActions(t);this._mouseDown=!0;f=this.isTouch(t)?10:0;s=t.originalEvent.touches?t.originalEvent.touches[0]:t;r={x:s.pageX-n(this.canvasEl).offset().left-(this.Model.frame.outerWidth+this.Model.frame.innerWidth),y:s.pageY-n(this.canvasEl).offset().top-(this.Model.frame.outerWidth+this.Model.frame.innerWidth)};i=this;this.model.readOnly||n.each(this.Model.scales,function(t,s){i.scaleIndex=t;s.markerPointers!=null&&(i.markerPointerEl=s.markerPointers,n.each(s.markerPointers,function(t,s){u=i.scaleEl[i.scaleIndex].direction.toLowerCase()=="clockwise"?i._getClockwiseLinePosition(s.value):i._getCounterClockwiseLinePosition(s.value);e=u+s.width;o=u-s.width;h=i._getPointerXPosition(s).startx;var c=i._isBetween((i.Model.orientation=="horizontal"?r.y:r.x)-s.width,(i.Model.orientation=="horizontal"?r.y:r.x)+s.width,h,f);(i.Model.orientation=="horizontal"?i._isBetween(o,e,r.x,f):i._isBetween(o,e,r.y,f))&&c&&(i.activeElement=s);i.Model.scales[i.scaleIndex].barPointers[t]!=null&&(i.activeBarElement=i.Model.scales[i.scaleIndex].barPointers[t]);i.model.mouseClick&&i._onMouseClick(s.value);i.onMouseMoveHandler=n.proxy(i._onMouseMove,i);i.onMouseUpHandler=n.proxy(i._onMouseUp,i);n(document).bind(i.moveEv,i.onMouseMoveHandler);n(document).bind(i.endEv,i.onMouseUpHandler)}))})},_isBetween:function(n,t,i,r){return n<t?i>=n-r&&i<=t+r:i>=t-r&&i<=n+r},_lgDoubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_lgRightClick:function(n){this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}})},_onMouseUp:function(){this._mouseDown=!1;this.mouseMove=!1;n(document).unbind(self.moveEv,self.onMouseMoveHandler);n(document).unbind(self.endEv,self.onMouseUpHandler);this.model.mouseClickUp&&this.activeElement&&this._onMouseClickUp(this.activeElement.value);this.activeElement=null},_mousePosition:function(n){if(!t.util.isNullOrUndefined(n.pageX)&&n.pageX>0)return{x:n.pageX,y:n.pageY};if(n.originalEvent&&!t.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0)return{x:n.originalEvent.pageX,y:n.originalEvent.pageY};if(n.originalEvent&&n.originalEvent.changedTouches!=i){if(!t.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0)return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}}else return{x:0,y:0}},_calTouchPosition:function(n){var i=jQuery.uaMatch(navigator.userAgent),t=this._mousePosition(n);n.pageX=t.x;n.pageY=t.y},getEvent:function(n){return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0]:n},_onMouseMove:function(i){if(this._mouseDown&&!t.isNullOrUndefined(this.activeElement)){this._blockDefaultActions(i);var r=i.originalEvent.touches?i.originalEvent.touches[0]:i,u={x:r.pageX-n(this.canvasEl).offset().left-(this.Model.frame.outerWidth+this.Model.frame.innerWidth),y:r.pageY-n(this.canvasEl).offset().top-(this.Model.frame.outerWidth+this.Model.frame.innerWidth)};this.activeElement.value=this._getValue(u);this.value(this.activeElement.value);this.model.mouseClickMove&&this._onMouseClickMove(this.activeElement.value);this.activeBarElement&&(this.activeBarElement.value=this._getValue(u));this.contextEl.putImageData?this._reDrawBarPointer():this._init()}else(this.model.tooltip.showCustomLabelTooltip||this.model.tooltip.showLabelTooltip)&&!this.isTouch(i)&&this._performTooltip(i)},_performTooltip:function(t){for(var r,u=!1,f=10,o=this.isTouch(t),i=0;this._savedPoints[i]!=null;i++)if(o){var c=this._calTouchPosition(t),e=this.getEvent(t),s=e.pageX,h=e.pageY,r={X:s-n(this.canvasEl).offset().left,Y:h-n(this.canvasEl).offset().top};r.X>this._savedPoints[i].startX-f&&r.X<this._savedPoints[i].startX+this._savedPoints[i].width+f&&r.Y>this._savedPoints[i].startY-f&&r.Y<this._savedPoints[i].startY+this._savedPoints[i].height+f?(this._showTooltip(t,this._savedPoints[i].value),u=!0):u==!1&&this._hideTooltip()}else r={X:t.pageX-n(this.canvasEl).offset().left,Y:t.pageY-n(this.canvasEl).offset().top},r.X>this._savedPoints[i].startX&&r.X<this._savedPoints[i].startX+this._savedPoints[i].width&&r.Y>this._savedPoints[i].startY&&r.Y<this._savedPoints[i].startY+this._savedPoints[i].height?(this._showTooltip(t,this._savedPoints[i].value),u=!0):u==!1&&this._hideTooltip()},_showTooltip:function(t,i){var e=i+"",r=n(".tooltipDiv"),o;r.length==0&&(r=n("<div class='tooltipDiv' style='position: absolute; z-index: 105; display: block;'><\/div>"),n(document.body).append(r));this.model.tooltip.templateID!=""&&this.model.tooltip.templateID!=null?(o=n("#"+this.model.tooltip.templateID).clone(),n(".tooltipDiv")[0].innerHTML="",n(o).css("display","block").appendTo(r),n(r).css({"background-color":this.model.backgroundColor,border:"1px solid #bbbcbb","border-radius":"3px",color:"#565656"}),r.html(r.html().replace("#label#",e))):(n(r).html(e),n(r).css({"background-color":"white",border:"2px solid #bbbcbb",position:"absolute",padding:"10px 20px","margin-top":"5px","text-align":"left",font:"12px Segoe UI","font-stretch":"condensed",display:"inline-block","border-radius":"3px",color:"#565656",width:"auto"}));var s=10,u=t.pageX+s,f=t.pageY+s;u=u+n(r).width()<n(window).width()?u:u-n(r).width();f=f+n(r).height()<n(window).height()?f:f-n(r).height();n(r).css("left",u);n(r).css("top",f);n(".tooltipDiv").show()},_hideTooltip:function(){n(".tooltipDiv").remove()},_setTheme:function(){var n=this.model.theme.toLowerCase(),t=this.model.themeProperties[n];this._setThemeColors(t)},_setThemeColors:function(n){var f=[],e=this.model.themeProperties,o,i,t,r,u;for(o in e)f.push(o);for(i=0;i<f.length;i++)for(this.model.backgroundColor=!this.model.backgroundColor||this.model.backgroundColor==e[f[i]].scales.backgroundColor?n.scales.backgroundColor:this.model.backgroundColor,this.model.borderColor=!this.model.borderColor||this.model.borderColor==e[f[i]].scales.border.color?n.scales.border.color:this.model.borderColor,this.model.labelColor=!this.model.labelColor||this.model.labelColor==e[f[i]].scales.labels.labelColor?n.scales.labels.labelColor:this.model.labelColor,this.model.tickColor=!this.model.tickColor||this.model.tickColor==e[f[i]].scales.ticks.color?n.scales.ticks.color:this.model.tickColor,t=0;t<this.model.scales.length;t++){for(r=0;r<this.model.scales[t].markerPointers.length;r++)this.model.scales[t].markerPointers[r].backgroundColor=!this.model.scales[t].markerPointers[r].backgroundColor||this.model.scales[t].markerPointers[r].backgroundColor==e[f[i]].scales.markerPointers.backgroundColor?n.scales.markerPointers.backgroundColor:this.model.scales[t].markerPointers[r].backgroundColor,this.model.scales[t].markerPointers[r].border.color=!this.model.scales[t].markerPointers[r].border.color||this.model.scales[t].markerPointers[r].border.color==e[f[i]].scales.markerPointers.border.color?n.scales.markerPointers.border.color:this.model.scales[t].markerPointers[r].border.color;for(u=0;u<this.model.scales[t].barPointers.length;u++)this.model.scales[t].barPointers[u].backgroundColor=!this.model.scales[t].barPointers[u].backgroundColor||this.model.scales[t].barPointers[u].backgroundColor==e[f[i]].scales.barPointers.backgroundColor?n.scales.barPointers.backgroundColor:this.model.scales[t].barPointers[u].backgroundColor,this.model.scales[t].barPointers[u].border.color=!this.model.scales[t].barPointers[u].border.color||this.model.scales[t].barPointers[u].border.color==e[f[i]].scales.barPointers.border.color?n.scales.barPointers.border.color:this.model.scales[t].barPointers[u].border.color}}});t.datavisualization.LinearGauge.TickType={MajorInterval:"majorinterval",MinorInterval:"minorinterval"};t.datavisualization.LinearGauge.LabelType={Major:"major",Minor:"minor"};t.datavisualization.LinearGauge.FontStyle={Bold:"bold",Italic:"italic",Regular:"regular",Strikeout:"strikeout",Underline:"underline"};t.datavisualization.LinearGauge.PointerPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.TickPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.LabelPlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.RangePlacement={Near:"near",Far:"far",Center:"center"};t.datavisualization.LinearGauge.UnitTextPlacement={Front:"front",Back:"back"};t.datavisualization.LinearGauge.Directions={Clockwise:"clockwise",CounterClockwise:"counterclockwise"};t.datavisualization.LinearGauge.ScaleType={Rectangle:"rectangle",RoundedRectangle:"roundedrectangle",Thermometer:"thermometer"};t.datavisualization.LinearGauge.IndicatorType={Rectangle:"rectangle",Circle:"circle",RoundedRectangle:"roundedrectangle",Text:"text"};t.datavisualization.LinearGauge.MarkerType={Rectangle:"rectangle",Triangle:"triangle",Ellipse:"ellipse",Diamond:"diamond",Pentagon:"pentagon",Circle:"circle",Star:"star",Slider:"slider",Pointer:"pointer",Wedge:"wedge",Trapezoid:"trapezoid",RoundedRectangle:"roundedrectangle"};t.datavisualization.LinearGauge.CustomLabelPositionType={Inner:"inner",Outer:"outer"};t.datavisualization.LinearGauge.OuterCustomLabelPosition={Left:"left",Right:"right",Top:"top",Bottom:"bottom"};t.datavisualization.LinearGauge.Themes={FlatLight:"flatlight",FlatDark:"flatdark"}}(jQuery,Syncfusion),function(n,t,i){var u,r,f;t.widget({ejDigitalGauge:"ej.datavisualization.DigitalGauge"},{element:null,model:null,validTags:["div","span"],_rootCSS:"e-digitalgauge",defaults:{exportSettings:{mode:"client",type:"png",fileName:"DigitalGauge",action:""},segmentData:{"0":[0,1,2,3,4,5,14,15],"1":[1,2],"2":[0,14,1,6,8,4,3,15],"3":[0,1,2,3,6,8,14,15],"4":[1,2,5,6,8],"5":[0,2,3,5,6,8,14,15],"6":[0,2,3,4,5,6,8,14,15],"7":[0,1,2,14],"8":[0,1,2,3,4,5,6,8,14,15],"9":[0,1,2,3,5,6,8,14,15],A:[0,1,2,4,5,6,8,14],B:[0,1,2,3,7,9,8,14,15],C:[0,3,4,5,14,15],D:[0,1,2,3,7,9,14,15],E:[0,3,4,5,6,8,14,15],F:[0,4,5,6,8,14],G:[0,2,3,4,5,8,14,15],H:[1,2,4,5,6,8],I:[0,3,7,9,14,15],J:[1,2,3,4,15],K:[4,5,6,10,11],L:[3,4,5,15],M:[1,2,4,5,10,13],N:[1,2,4,5,11,13],O:[0,1,2,3,4,5,14,15],P:[0,1,4,5,6,8,14],Q:[0,1,2,3,4,5,11,14,15],R:[0,1,4,5,6,8,11,14],S:[0,2,3,5,6,8,14,15],T:[0,7,9,14],U:[1,2,3,4,5,15],V:[4,5,10,12],W:[1,2,4,5,11,12],X:[10,11,12,13],Y:[1,5,6,7,8],Z:[0,3,10,12,14,15]},matrixSegmentData:{"1":[0,3,0,4,1,1,1,2,1,3,1,4,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,1,6,2,6,3,6,4,6,5,6,6],"2":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,4,3,5,4,3,4,2,5,2,5,1,6,1,6,2,6,3,6,4,6,5,6,6],"3":[0,1,0,2,0,3,0,4,0,5,1,5,1,6,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5],"4":[0,3,0,4,0,5,1,2,1,3,1,4,1,5,2,1,2,2,2,4,2,5,3,0,3,1,3,4,3,5,4,0,4,1,4,2,4,3,4,4,4,5,4,6,5,4,5,5,6,4,6,5],"5":[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],"6":[0,3,0,4,0,5,0,6,1,2,1,3,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,2,5,3,5,6,5,7,6,3,6,4,6,5,6,6],"7":[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],"8":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],"9":[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,2,6,3,2,3,3,3,4,3,5,3,6,4,5,4,6,5,5,5,6,6,2,6,3,6,4,6,4,6,5],"0":[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],a:[0,2,0,3,0,4,0,5,0,6,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],b:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],c:[1,3,1,4,1,5,1,6,2,2,2,3,3,1,3,2,4,1,4,2,5,2,5,3,6,3,6,4,6,5,6,6],d:[0,6,0,7,1,6,1,7,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,5,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],e:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,2,6,3,6,4,6,5,6,6,6,7],f:[0,4,0,5,0,6,0,7,1,3,1,4,2,3,2,4,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,3,4,4,5,3,5,4,6,3,6,4],g:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,4,3,5,3,6,3,7,4,6,4,7,5,6,5,7,6,2,6,3,6,4,6,5,6,6],h:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],i:[0,3,0,4,2,1,2,2,2,3,2,4,3,3,3,4,4,3,4,4,5,3,5,4,6,3,6,4],j:[1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],k:[0,1,0,2,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,1,6,2,6,6,6,7],l:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,5,4,6,5,5,5,6,6,5,6,6],m:[0,1,0,2,0,3,0,4,0,5,0,6,1,0,1,1,1,2,1,3,1,4,1,5,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,3,5,4,5,6,5,7,6,0,6,1,6,3,6,4,6,6,6,7],n:[1,1,1,2,1,3,1,4,1,5,1,6,2,0,2,1,2,2,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,0,5,1,5,6,5,7,6,0,6,1,6,6,6,7],o:[1,2,1,3,1,4,1,5,2,1,2,2,2,5,2,6,3,1,3,2,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],p:[1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,3,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,6,1,6,2],q:[0,2,0,3,0,4,0,5,0,6,0,7,1,1,1,2,1,5,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,2,4,3,4,4,4,5,4,6,4,7,5,6,5,7,6,6,6,7],r:[0,1,0,3,0,4,0,5,1,1,1,2,1,3,1,4,1,5,1,6,2,1,2,2,2,6,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2],s:[1,2,1,3,1,4,1,5,2,1,2,2,3,1,3,2,4,3,4,4,5,4,5,5,6,1,6,2,6,3,6,4],t:[0,3,0,4,1,3,1,4,2,1,2,2,2,3,2,4,2,5,2,6,3,3,3,4,4,3,4,4,5,3,5,4,6,4,6,5,6,6,6,7],u:[1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,5,5,6,5,7,6,2,6,3,6,4,6,5,6,6,6,7],v:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,2,3,3,3,5,3,6,4,3,4,4,4,5,5,4,5,5,6,4],w:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,0,2,1,2,3,2,4,2,6,2,7,3,0,3,1,3,3,3,4,3,6,3,7,4,0,4,1,4,3,4,4,4,6,4,7,5,0,5,1,5,2,5,3,5,4,5,5,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],x:[1,1,1,2,1,6,1,7,2,2,2,3,2,5,2,6,3,3,3,4,3,5,4,3,4,4,4,5,5,2,5,3,5,5,5,6,6,1,6,2,6,6,6,7],y:[1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,2,5,3,6,1,6,2],z:[1,2,1,3,1,4,1,5,1,6,1,7,2,6,2,7,3,5,3,6,4,4,4,5,5,3,5,4,6,2,6,3,6,4,6,5,6,6,6,7],A:[0,3,0,4,1,2,1,3,1,4,1,5,2,2,2,3,2,4,2,5,3,1,3,2,3,5,3,6,4,1,4,2,4,3,4,4,4,5,4,6,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],B:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,3,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],C:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,4,0,4,1,5,1,5,2,6,2,6,3,6,4,6,5,6,6],D:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,3,6,4,6,5,6,6],E:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],F:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],G:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,0,2,1,3,0,3,1,3,4,3,5,3,6,4,0,4,1,4,6,5,1,5,2,5,6,6,2,6,3,6,4,6,5,6,6],H:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],I:[0,2,0,3,0,4,0,5,0,6,1,4,2,4,3,4,4,4,5,4,6,1,6,2,6,3,6,4,6,5,6,6,6,7],J:[0,2,0,3,0,4,0,5,0,6,1,5,1,6,2,5,2,6,3,5,3,6,4,1,4,2,4,5,4,6,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],K:[0,1,0,2,0,5,0,6,1,1,1,2,1,4,1,5,2,1,2,2,2,3,2,4,3,1,3,2,3,3,4,1,4,2,4,3,4,4,5,1,5,2,5,4,5,5,6,1,6,2,6,5,6,6],L:[0,1,0,2,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6],M:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,5,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],N:[0,1,0,2,0,6,0,7,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,4,2,6,2,7,3,1,3,2,3,5,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,1,6,2,6,6,6,7],O:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5],P:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,5,1,5,2,6,1,6,2],Q:[0,2,0,3,0,4,0,5,1,1,1,2,1,5,1,6,2,0,2,1,2,6,2,7,3,0,3,1,3,6,3,7,4,0,4,1,4,4,4,6,4,7,5,1,5,2,5,5,5,6,6,2,6,3,6,4,6,5,6,6,6,7],R:[0,1,0,2,0,3,0,4,0,5,0,6,1,1,1,2,1,3,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,3,3,4,3,5,3,6,4,1,4,2,4,5,5,1,5,5,6,2,6,1,6,2,6,6],S:[0,2,0,3,0,4,0,5,0,6,1,1,1,2,2,1,2,2,3,2,3,3,3,4,3,5,4,5,4,6,5,5,5,6,6,1,6,2,6,3,6,4,6,5,6,6],T:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,4,2,4,3,4,4,4,5,4],U:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,6,4,7,5,1,5,2,5,6,5,7,6,2,6,3,6,4,6,5,6,6],V:[0,0,0,1,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,2,3,3,3,5,3,6,4,3,4,4,4,5,4,6,5,4,5,5,6,4],W:[0,1,0,2,0,6,0,7,1,1,1,2,1,6,1,7,2,1,2,2,2,6,2,7,3,1,3,2,3,6,3,7,4,1,4,2,4,4,4,6,4,7,5,1,5,2,5,3,5,5,5,6,5,7,6,1,6,2,6,6,6,7],X:[0,0,0,1,0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,2,4,3,4,4,4,5,5,1,5,2,5,5,5,6,6,0,6,1,6,6,6,7],Y:[0,0,0,1,0,6,0,7,1,0,1,1,1,6,1,7,2,1,2,2,2,5,2,6,3,2,3,3,3,4,3,5,4,3,4,4,5,3,5,4,6,3,6,4],Z:[0,1,0,2,0,3,0,4,0,5,0,6,0,7,1,6,1,7,2,5,2,6,3,4,3,5,4,2,4,3,5,1,5,2,6,1,6,2,6,3,6,4,6,5,6,6,6,7],",":[5,3,5,4,5,5,6,4,6,5,7,3,7,4],":":[1,3,1,4,1,5,2,3,2,4,2,5,4,3,4,4,4,5,5,3,5,4,5,5],"%":[0,6,0,7,1,1,1,2,1,5,1,6,2,1,2,2,2,4,2,5,3,3,3,4,4,2,4,3,5,1,5,2,5,4,5,5,6,0,6,1,6,4,6,5],"!":[0,3,0,4,0,5,1,3,1,4,1,5,2,3,2,4,2,5,3,3,3,4,3,5,4,3,4,4,4,5,5,3,5,4,5,5,7,4],"(":[0,2,0,3,1,1,1,2,2,1,2,2,3,1,3,2,4,1,4,2,5,1,5,2,6,1,6,2,7,2,7,3],")":[0,5,0,6,1,6,1,7,2,6,2,7,3,6,3,7,4,6,4,7,5,6,5,7,6,6,6,7,7,5,7,6],".":[5,3,5,4,5,5,6,3,6,4,6,5,7,3,7,4,7,5]},frame:{backgroundImageUrl:null,innerWidth:6,outerWidth:10},height:150,width:400,enableResize:!1,isResponsive:!1,themes:"flatlight",items:null,init:null,load:null,doubleClick:"",rightClick:"",click:"",renderComplete:null,itemRendering:null,value:"text",themeProperties:{flatlight:{items:{segmentSettings:{color:"#232323"},shadowColor:"#232323",textColor:"#232323"}},flatdark:{items:{segmentSettings:{color:"#b1b0b0"},shadowColor:"#b1b0b0",textColor:"#b1b0b0"}}}},dataTypes:{segmentData:"data",matrixSegmentData:"data",items:"array",isResponsive:"boolean"},_setValues:function(){this.gaugeEl=this.element;this.segmentCount=null;this.contextEl=null;this.style=null;this._value=null;this.region=null;this.canvasEl=null;this.segement16X=null;this.segment16Y=null;this.segmentHeight=null;this.segmentAngle=null;this.startX=5;this.startY=5;this.gradient=null;this.itemIndex=null;this.characterSpace=null;this.outerImage=null;this.radius=null;this.frameOuterLocation=null;this.frameInnerLocation=null;this.glassFrameLocation=null;this.glassFrameStyle=null;this.frameOuterStyle=null;this.character=null;this.frameInnerStyle=null;this._itemInitialize()},observables:["value"],_tags:[{tag:"items",attr:["textAlign","textColor","characterSettings.count","characterSettings.opacity","characterSettings.spacing","characterSettings.type","enableCustomFont","segmentSettings.color","segmentSettings.gradient","segmentSettings.length","segmentSettings.opacity","segmentSettings.spacing","segmentSettings.width","shadowBlur","shadowOffsetX","shadowOffsetY","textAlign","shadowColor","textColor","font.size","font.fontFamily","font.fontStyle","position.x","position.y"]}],value:t.util.valueFunction("value"),_destroy:function(){this._unwireEvents();this.element.empty().removeClass("e-digitalgauge e-js e-widget")},_setModel:function(t){var i,r;for(i in t)switch(i){case"height":this.model.height=t[i];break;case"width":this.model.width=t[i];break;case"items":this.model.items=t[i];this._itemInitialize();break;case"frame":n.extend(this.model.frame,t[i]);break;case"themes":this.model.themes=t[i];break;case"value":for(r=0;this.model.items[r]!=null;r++)this.model.items[r].value=this.value()}this.refresh()},_init:function(){r=n(".e-digitalgauge").length;f=r;this._setValues();this._trigger("load");this._setTheme();this._initialize();this._onWindowResize()},_onWindowResize:function(){(this.model.enableResize||this.model.isResponsive)&&(t.isTouchDevice()?this._on(n(window),"orientationchange",this.resizeCanvas):this._on(n(window),"resize",this.resizeCanvas))},_setTheme:function(){var n=this.model.themeProperties[this.model.themes];this._setThemeColors(n)},_setThemeColors:function(n){var u=[],f=this.model.themeProperties,e,r,i;for(e in f)u.push(e);for(r=0;r<u.length;r++)for(i=0;i<this.model.items.length;i++)this.model.items[i].segmentSettings.color=t.isNullOrUndefined(this.model.items[i].segmentSettings.color)||this.model.items[i].segmentSettings.color==f[u[r]].items.segmentSettings.color?n.items.segmentSettings.color:this.model.items[i].segmentSettings.color,this.model.items[i].shadowColor=!this.model.items[i].shadowColor||this.model.items[i].shadowColor==f[u[r]].items.shadowColor?n.items.shadowColor:this.model.items[i].shadowColor,this.model.items[i].textColor=!this.model.items[i].textColor||this.model.items[i].textColor==f[u[r]].items.textColor?n.items.textColor:this.model.items[i].textColor},_wireEvents:function(){this._on(n(this.canvasEl),"touchstart",this._dgStart);this._on(n(this.canvasEl),t.isTouchDevice()?"touchend":"mouseup",this._dgClick);this._on(n(this.canvasEl),"contextmenu",this._dgRightClick)},_unwireEvents:function(){this._off(n(this.canvasEl),"touchstart",this._dgStart);this._off(n(this.canvasEl),t.isTouchDevice()?"touchend":"mouseup",this._dgClick);this._off(n(this.canvasEl),"contextmenu",this._dgRightClick)},_initialize:function(){this.model.init&&this._clientSideOnInit();this._initObject(this);this.model.load&&this._clientSideOnLoad();this.model.frame.backgroundImageUrl!=null?this._drawCustomImage(this,this.model.frame.backgroundImageUrl):this._renderItems();this.model.renderComplete&&this._clientSideOnRenderComplete();this._wireEvents()},_dgStart:function(){t.isTouchDevice()&&this.model.rightClick!=""&&(this._longPressTimer=new Date)},_dgClick:function(n){var i=new Date;this.model.click!=""&&this._trigger("click",{data:{event:n}});this._doubleTapTimer!=null&&i-this._doubleTapTimer<300&&this._dgDoubleClick(n);this._doubleTapTimer=i;t.isTouchDevice()&&this.model.rightClick!=""&&new Date-this._longPressTimer>1500&&this._dgRightClick(n)},_dgDoubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_dgRightClick:function(n){this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}})},_itemInitialize:function(){var t=this;this.model.items!=null?n.each(this.model.items,function(i,r){var u=t._sendDefaultItem();n.extend(!0,u,r);n.extend(!0,r,u)}):this.model.items=[this._sendDefaultItem()]},_sendDefaultItem:function(){return{characterSettings:{count:4,opacity:1,spacing:2,type:t.datavisualization.DigitalGauge.CharacterType.EightCrossEightDotMatrix},enableCustomFont:!1,segmentSettings:{color:null,gradient:null,length:2,opacity:0,spacing:1,width:1},shadowBlur:0,shadowOffsetX:1,shadowOffsetY:1,textAlign:"left",font:{size:"11px",fontFamily:"Arial",fontStyle:"italic"},position:{x:0,y:0},shadowColor:null,textColor:null,value:null}},_initObject:function(t){var i,e;for(this.element.addClass("e-widget"),t.gaugeEl=this.element,i=0;this.model.items[i]!=null;i++)this.model.items[i].value==null&&(this.model.items[i].value=this.value());(t.canvasEl&&t.canvasEl.parent().empty(),t.canvasEl=n("<canvas><\/canvas>"),t.gaugeEl.append(t.canvasEl),t.canvasEl.attr("role","presentation"),r==f&&(u=window.innerWidth),t.canvasEl[0].setAttribute("width",t.model.width),t.canvasEl[0].setAttribute("height",t.model.height),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,e=t.canvasEl[0],typeof G_vmlCanvasManager!="undefined"&&(e=window.G_vmlCanvasManager.initElement(e)),e&&e.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawCustomImage:function(t,i){var r=new Image;n(r).on("load",function(){t.contextEl.drawImage(this,0,0,t.model.width,t.model.height);t.model.Scales!=null&&t._drawScales();t.model.items!=null&&t._renderItems()}).attr("src",i)},_setSegmentCount:function(n){switch(n){case"sevensegment":this._SegmentCount=7;break;case"fourteensegment":this._SegmentCount=14;break;case"sixteensegment":this._SegmentCount=16;break;case"eightcrosseightdotmatrix":this._SegmentCount=[8,8];break;case"eightcrosseightsquarematrix":this._SegmentCount=[8,8];break;default:this._SegmentCount=7}},_setInnerPosition:function(){this.contextEl.save();this.contextEl.translate(this.model.frame.outerWidth+this.model.frame.innerWidth,this.model.frame.outerWidth+this.model.frame.innerWidth);this.bounds={height:this.canvasEl[0].height-2*(this.model.frame.outerWidth+this.model.frame.innerWidth),width:this.canvasEl[0].width-2*(this.model.frame.outerWidth+this.model.frame.innerWidth)}},_setWidth:function(){var t=[];this.model.items!=null&&n.each(this.model.items,function(n,i){t.push(i.characterSettings.count)})},_renderItems:function(){if(this.model.items!=null){this._setInnerPosition();var t=this;n.each(this.model.items,function(n,i){var r=i.characterSettings.type.toLowerCase();t._setSegmentCount(r);t.itemIndex=n;t.canvasEl.attr("aria-label",i.value);t._setShadow(n,i);i.enableCustomFont?t._setCustomFont(n,i):r.indexOf("matrix")!=-1?t._drawMatrixSegments(n,i):t._drawSegments(n,i)})}},_setGradientColor:function(t,i,r){r.Name||typeof r=="string"?(i.addColorStop(0,this._getColor(t,r)),i.addColorStop(1,this._getColor(t,r))):n.each(r,function(n,r){i.addColorStop(r.colorStop!=NaN?r.colorStop:0,typeof r.color=="string"?r.color:this._getColor(t,r.color))})},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.R+", "+t.G+","+t.B+", "+t.A/255+")"},_drawMatrixSegments:function(t,i){var s=[],u=[],o=i.characterSettings.type.toLowerCase(),h,c,f,r,e;for(i.value?(this._value=i.value.toString().split(""),i.characterSettings.count=this._value.length>4?this._value.length:4):this._value="",this.radius=o.indexOf("dot")!=-1?(i.segmentSettings.length+i.segmentSettings.width)/2:i.segmentSettings.width/2,h=this.startX=(this.bounds.width-i.characterSettings.count*(this._SegmentCount[0]*2*this.radius+i.characterSettings.spacing+this._SegmentCount[0]*i.segmentSettings.spacing))*(i.position.x/100),c=this.startY=(this.bounds.height-(this._SegmentCount[1]*(o.indexOf("dot")!=-1?2*this.radius:i.segmentSettings.length)+this._SegmentCount[1]*i.segmentSettings.spacing))*(i.position.y/100),f=0;f<i.characterSettings.count;f++)for(this._value&&(this.character=i.textAlign=="right"?this._value[this._value.length-i.characterSettings.count+f]:this._value[f],u=this.model.matrixSegmentData[this.character]),f!=0&&(h=this.startX=this.startX+i.characterSettings.spacing+i.segmentSettings.spacing+2*this.radius,this.startY=c),r=0;r<this._SegmentCount[1];r++){for(r!=0&&(this.startY=(o.indexOf("dot")!=-1?2*this.radius:i.segmentSettings.length)+this.startY+i.segmentSettings.spacing,this.startX=h),u&&n.each(u,function(n){if(n%2==0){if(u[n]>r)return!1;u[n]==r&&s.push(parseInt(u[n+1]))}}),e=0;e<this._SegmentCount[0];e++)e!=0&&(this.startX=this.startX+2*this.radius+i.segmentSettings.spacing),this.gradient=o.indexOf("dot")!=-1?this.contextEl.createRadialGradient(0,0,0,0,0,this.radius):this.contextEl.createLinearGradient(0,0,i.segmentSettings.width,0),i.segmentSettings.gradient&&this._setGradientColor(this,this.gradient,i.segmentSettings.gradient.colorInfo),this.region={startX:this.startX,startY:this.startY},this.style={opacity:s&&n.inArray(e,s)!=-1?i.characterSettings.opacity:i.segmentSettings.opacity,height:i.segmentSettings.length,width:i.segmentSettings.width,fillStyle:i.segmentSettings.color=="transparent"?"rgba(0,0,0,0)":this._getColor(this,i.segmentSettings.color),skewX:i.SkewAngleX,skewY:i.SkewAngleX},this.model.itemRendering&&this._clientSideOnItemRendering(!0,e,r),o.indexOf("dot")!=-1?this._drawDot(this.region,this.style):this._drawSquare(this.region,this.style);s=[]}},_drawSegments:function(t,i){var f=[],e=i.characterSettings.type.toLowerCase(),u,r;for(i.value&&(this._value=i.value.toUpperCase().toString().split(""),i.characterSettings.count=this._value.length>4?this._value.length:4),this.characterSpace=e=="sevensegment"?2*i.segmentSettings.width:4*i.segmentSettings.width,this._renderSegmentCalculation(i),this.gradient=this.contextEl.createLinearGradient(0,0,0,i.segmentSettings.width),i.segmentSettings.color?this._setGradientColor(this,this.gradient,i.segmentSettings.color):i.segmentSettings.gradient&&this._setGradientColor(this,this.gradient,i.segmentSettings.gradient.colorInfo),u=0;u<i.characterSettings.count;u++){for(i.value&&(f=this.model.segmentData[i.textAlign=="right"?this._value[this._value.length-i.characterSettings.count+u]:this._value[u]]),r=0;r<this._SegmentCount;r++)u!=0&&(this.segment16X[r]=this.segment16X[r]+i.segmentSettings.length+this.characterSpace+i.characterSettings.spacing),this._value&&(this.character=i.textAlign=="right"?this._value[this._value.length-i.characterSettings.count+u]:this._value[u]),this.region={startX:this.segment16X[r],startY:this.segment16Y[r]},this.style={angle:this.angle[r],fillStyle:this.gradient,isStroke:!1,isFill:!0,characterHeight:e=="sevensegment"?i.segmentSettings.length:this.segmentHeight[r],segmentWidth:i.segmentSettings.width,opacity:f&&n.inArray(r,f)!=-1?i.characterSettings.opacity:i.segmentSettings.opacity},this.model.itemRendering&&this._clientSideOnItemRendering(!1,r),this._drawSegmentLayers(this.region,this.style);this._notifyArrayChange&&this._notifyArrayChange("items["+t+"]value",i.value);this.value(i.value);f=[]}},_setCustomFont:function(n,t){this.startX=(this.bounds.width-this._measureText(t.value,0,this._getFontString(this,t.font)).width)*(t.position.x/100);this.startY=(this.bounds.height-this._measureText(t.value,0,this._getFontString(this,t.font)).height)*(t.position.y/100);this.region={startX:this.startX,startY:this.startY};this.style={font:this._getFontString(this,t.font),text:t.value,textColor:t.textColor?t.textColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.textColor):t.segmentSettings.color=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.segmentSettings.color)};this.model.itemRendering&&this._clientSideOnItemRendering(!1);this._drawText(this.region,this.style)},_getFontString:function(n,t){return(t.size==null?"11px":t.size)+" "+t.fontFamily+" "+(t.fontStyle?t.fontStyle:"")},_renderSegmentCalculation:function(n){var t=n.segmentSettings.length,i=n.segmentSettings.width,u=n.characterSettings.type.toLowerCase(),r;this.startX=(this.bounds.width-n.characterSettings.count*(t+this.characterSpace+n.characterSettings.spacing))*(n.position.x/100);this.startY=(this.bounds.height-2*t-i)*(n.position.y/100);r=u=="sevensegment"?t:t/2;this.segment16X=[this.startX+i/2,this.startX+t+4*i,this.startX+t+4*i,this.startX+i/2,this.startX,this.startX,this.startX+i/2,this.startX+r+2*i,this.startX+2.5*i+r,this.startX+r+2*i,this.startX+t+2.5*i,this.startX+r+2.5*i,this.startX+r+1.5*i,this.startX+1.5*i,this.startX+5*i/2+r,this.startX+2.5*i+r];this.segment16Y=[this.startY,this.startY,this.startY+t+i,this.startY+2*t+2*i,this.startY+t+i,this.startY,this.startY+t+i,this.startY+t+i,this.startY+t+i,this.startY,this.startY+i,this.startY+t+i,this.startY+t+i,this.startY+i,this.startY,this.startY+2*t+2*i];this.segmentHeight=[t/2,t,t,t/2,t,t,t/2,t,t/2,t,t,t,t,t,t/2,t/2];this.angle=[-90,0,0,-90,0,0,-90,0,-90,0,27,-27,27,-27,-90,-90];u=="sevensegment"&&(this.segment16X[2]=this.segment16X[1]=this.startX+t+2*i);u=="fourteensegment"&&(this.segmentHeight[3]=this.segmentHeight[0]=t+2*i)},_drawSegmentLayers:function(n,t){this._contextOpenPath(t,this);this.contextEl.translate(n.startX,n.startY);this.contextEl.rotate(Math.PI*(t.angle/180));this.contextEl.lineTo(0,0);this.contextEl.lineTo(-t.segmentWidth,t.segmentWidth);this.contextEl.lineTo(-t.segmentWidth,t.characterHeight);this.contextEl.lineTo(0,t.characterHeight+t.segmentWidth);this.contextEl.lineTo(t.segmentWidth,t.characterHeight);this.contextEl.lineTo(t.segmentWidth,t.segmentWidth);this._contextClosePath(t,this)},_drawDot:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.translate(n.startX,n.startY);this.contextEl.fillStyle=t.fillStyle;this.contextEl.globalAlpha=t.opacity;this.contextEl.arc(0,0,this.radius,0,2*Math.PI,!0);this.contextEl.fill();this.contextEl.closePath();this.contextEl.restore()},_setShadow:function(n,t){this.contextEl.save();this.contextEl.shadowColor=t.shadowColor=="transparent"?"rgba(0,0,0,0)":this._getColor(this,t.shadowColor);this.contextEl.shadowOffsetY=t.shadowOffsetY;this.contextEl.shadowOffsetX=t.shadowOffsetX;this.contextEl.shadowBlur=t.shadowBlur},_drawSquare:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.translate(n.startX,n.startY);this.contextEl.fillStyle=t.fillStyle;this.contextEl.globalAlpha=t.opacity;this.contextEl.rect(0,0,t.width,t.height);this.contextEl.fill();this.contextEl.closePath();this.contextEl.restore()},_drawText:function(n,t){this.contextEl.beginPath();this.contextEl.save();this.contextEl.font=t.font;this.contextEl.textBaseline="hanging";this.contextEl.fillStyle=t.textColor=="transparent"?"rgba(0,0,0,0)":t.textColor;this.contextEl.fillText(t.text,n.startX,n.startY);this.contextEl.closePath();this.contextEl.restore()},setValue:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].value=t,this._initialize())},getValue:function(n){return this.model.items[n].value},setPosition:function(n,t){n<this.model.items.length&&t!=null&&(this.model.items[n].position.x=t.x,this.model.items[n].position.y=t.y,this._initialize())},getPosition:function(n){return n<this.model.items.length?{x:this.model.items[n].position.x,y:this.model.items[n].position.y}:null},refresh:function(){this._setTheme();this._initialize()},"export":function(){var i=this.model.exportSettings,u,f,e,r,o,s;i.mode.toLowerCase()==="client"?this.exportImage(i.fileName,i.fileType):(f=i.type.toLowerCase()==="jpg"?"image/jpeg":"image/png",u=this.canvasEl[0].toDataURL(f),e={action:i.action,method:"post"},r=t.buildTag("form","",null,e),o={name:"Data",type:"hidden",value:u},s=t.buildTag("input","",null,o),r.append(s).append(this),n("body").append(r),r.submit())},exportImage:function(n,i){var f,u,o,r,c,s;if(t.browserInfo().name==="msie"&&parseFloat(t.browserInfo().version)<10)return!1;f=this.canvasEl[0].toDataURL();f=f.replace(/^data:[a-z]*;,/,"");var l=f.split(","),e=atob(l[1]),h=new ArrayBuffer(e.length),a=new Uint8Array(h);for(u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return o=new Blob([h],{type:"image/png"}),t.browserInfo().name==="msie"?window.navigator.msSaveOrOpenBlob(o,n+"."+i):(r=document.createElement("a"),c=URL.createObjectURL(o),r.href=c,r.setAttribute("download",n+"."+i),document.createEvent?(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(s)):r.fireEvent&&r.fireEvent("onclick")),!0},resizeCanvas:function(){var e,o,f,i;if(r=r!=0?r-1:n(".e-digitalgauge").length-1,o=!0,t.isNullOrUndefined(this.canvasEl.parent().attr("style"))||(e=this.GaugeEl.parent().attr("style").split(";")),t.isNullOrUndefined(e)||n.each(e,function(n,t){while(t.indexOf("width")!=-1){o=t.indexOf("px")==-1?!0:!1;break}}),o){for(f=window.innerWidth/u,this.model.width*=f,i=0;this.model.items[i]!=null;i++)this.model.items[i].segmentSettings.width*=f,this.model.items[i].segmentSettings.length*=f,this.model.items[i].segmentSettings.spacing*=f,this.model.items[i].characterSettings.spacing*=f;this.refresh();r==0&&(u=window.innerWidth)}},_clientSideOnLoad:function(){var n={object:this,items:this.model.items,context:this.contextEl};this._trigger("load",n)},_clientSideOnItemRendering:function(n,t,i){var r;r=n?{object:this,items:this.model.items,character:this.character,context:this.contextEl,position:this.region,style:this.style,row:t,column:i}:{object:this,model:this.model,id:this.model.ClientId,items:this.model.items,character:this.character,context:this.contextEl,position:this.region,style:this.style,segment:t};this._trigger("itemRendering",r)},_clientSideOnInit:function(){var n={object:this,items:this.model.items,context:this.contextEl};this._trigger("init",n)},_clientSideOnRenderComplete:function(){var n={object:this,items:this.model.items,context:this.contextEl};this._trigger("renderComplete",n)},_contextOpenPath:function(n,t){t.contextEl.save();t.contextEl.beginPath();n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle);n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity);n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth);n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath();n.isFill&&t.contextEl.fill();n.isStroke&&t.contextEl.stroke();t.contextEl.restore()},_measureText:function(t,i,r){var u=document.createElement("DIV"),f;return u.innerHTML=t,r!=null&&(u.style.font=r),u.style.backgroundColor="white",u.style.position="absolute",u.style.top=-100,u.style.left=0,i&&(u.style.maxwidth=i+"px"),document.body.appendChild(u),f={width:u.offsetWidth,height:u.offsetHeight},n(u).remove(),f}});t.datavisualization.DigitalGauge.CharacterType={SevenSegment:"sevensegment",FourteenSegment:"fourteensegment",SixteenSegment:"sixteensegment",EightCrossEightDotMatrix:"eightcrosseightdotmatrix",EightCrossEightSquareMatrix:"eightcrosseightsquarematrix"};t.datavisualization.DigitalGauge.TextAlign={Left:"left",Right:"right"};t.datavisualization.DigitalGauge.FontStyle={Normal:"normal",Bold:"bold",Italic:"italic",Underline:"underline",Strikeout:"strikeout"};t.datavisualization.DigitalGauge.Themes={FlatLight:"flatlight",FlatDark:"flatdark"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejBulletGraph","ej.datavisualization.BulletGraph",{element:null,model:null,validTags:["div"],_tags:[{tag:"qualitativeRanges",attr:["rangeEnd","rangeStroke","rangeOpacity"]},{tag:"quantitativeScaleSettings.featureMeasures",attr:["value","comparativeMeasureValue"]}],defaults:{locale:null,enableGroupSeparator:!1,value:0,comparativeMeasureValue:0,width:null,height:null,theme:"flatlight",orientation:"horizontal",flowDirection:"forward",qualitativeRangeSize:32,quantitativeScaleLength:475,tooltipSettings:{enableCaptionTooltip:!1,captionTemplate:null,visible:!0,template:null},quantitativeScaleSettings:{location:{x:10,y:10},minimum:0,maximum:10,interval:1,minorTicksPerInterval:4,majorTickSettings:{size:13,stroke:null,width:2},minorTickSettings:{size:7,stroke:null,width:2},tickPosition:"far",tickPlacement:"outside",labelSettings:{labelPlacement:"outside",labelPrefix:"",labelSuffix:"",stroke:null,size:12,offset:15,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"regular",opacity:1},position:"below"},featuredMeasureSettings:{stroke:null,width:6},comparativeMeasureSettings:{stroke:null,width:5},featureMeasures:[{value:null,comparativeMeasureValue:null,category:null}]},fields:{dataSource:null,query:null,tableName:null,category:null,featureMeasures:null,comparativeMeasure:null},enableAnimation:!0,enableResizing:!0,isResponsive:!0,applyRangeStrokeToTicks:!1,applyRangeStrokeToLabels:!1,qualitativeRanges:[{rangeEnd:4.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:7.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:10,rangeStroke:null,rangeOpacity:1}],captionSettings:{enableTrim:!0,textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,location:{x:17,y:30},text:"",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"regular",opacity:1},subTitle:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,text:"",location:{x:10,y:45},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}},indicator:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,visible:!1,textAngle:0,textSpacing:3,text:"",symbol:{border:{color:null,width:1},color:null,shape:"",imageURL:"",size:{width:10,height:10},opacity:1},location:{x:10,y:60},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}}},load:"",click:"",doubleClick:"",rightClick:"",drawTicks:null,drawLabels:null,drawCaption:null,drawIndicator:null,drawQualitativeRanges:null,drawFeatureMeasureBar:null,drawCategory:null,drawComparativeMeasureSymbol:null},observables:["value","comparativeMeasureValue"],value:t.util.valueFunction("value"),comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),dataTypes:{quantitativeScaleSettings:{labelSettings:"data",featureMeasures:"array"},fields:{dataSource:"data",query:"data"},qualitativeRanges:"array",captionSettings:"data",isResponsive:"boolean"},_init:function(){this._renderBulletGraph()},_destroy:function(){n(this.element).removeClass("e-datavisualization-bulletgraph e-js").find("#"+this.svgObject.id).remove()},_isSVG:function(){return window.SVGSVGElement?!0:!1},_value:t.util.valueFunction("value"),_comparativeMeasureValue:t.util.valueFunction("comparativeMeasureValue"),_qualitativeRanges:function(){this.redraw();this._trigger("refresh")},_quantitativeScaleSettings_featureMeasures:function(){this.redraw();this._trigger("refresh")},_renderBulletGraph:function(){var n=this.model.theme.toLowerCase();this._isSVG()&&(this.svgRenderer=new t.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this._trigger("load"),this._setSvgSize(this),this._setTheme(t.datavisualization.BulletGraph.Themes,n),this.bindEvents(),this._renderBulletElements(),this.model.enableAnimation&&this._animateMeasures())},_animateMeasures:function(){this._doAnimation();this._doLineAnimation()},_setSvgSize:function(i){var r=i,o=n(r.element).height(),f=90,u=t.isTouchDevice()?250:595,e=n(r.element).width();r.model.width?u=parseInt(r.model.width):e>0&&e<595?u=e:e>595&&(u=595);n(r.svgObject).width(u);r.model.height?f=parseInt(r.model.height):o>0?f=o:n(r.svgObject).css("display","block");n(r.svgObject).height(f);r.svgObject.setAttribute("width",u);r.svgObject.setAttribute("height",f)},_renderBulletElements:function(){var f=this.model.width?this.model.width:595,e=this.model.height?this.model.height:90,i;this.svgObject.setAttribute("viewBox","0 0 "+f+" "+e);this.svgObject.setAttribute("preserveAspectRatio","xMinYMin");this.svgWidth=n(this.svgObject).width();this.svgHeight=n(this.svgObject).height();var r=this.svgRenderer.createGroup({id:this.svgObject.id+"_captionGroup"}),t=this.svgRenderer.createGroup({id:this.svgObject.id+"_scaleGroup"}),u=this.svgRenderer.createGroup({id:this.svgObject.id+"_outerWrap"});this._initializeValues();i=this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/this._scale.interval);this._drawCaption();this._drawIndicator();this._drawCaptionGroup(r);this._scaleGroup=t;this._drawScale(r,t);this._drawQualitativeRanges(t);this._drawMajorTicks(i,t);this._drawMinorTicks(i,t);this._drawLabels(i,t);this._bindData();n(t).appendTo(u);n(r).appendTo(u);this._changeOrientation(t);n(u).appendTo(this.svgObject);n(this.svgObject).appendTo(this.element);this._bindHighlightRemoving()},_bindHighlightRemoving:function(){var i=this.model.browserInfo.isMSPointerEnabled,t,r=this.model.browserInfo.pointerEnabled;t=i?r?"pointerout":"MSPointerOut":"touchout mouseout";this._on(n("[id*="+this.svgObject.id+"_FeatureMeasure_]"),t,function(t){this.isTouch(t)||n(t.target).attr("opacity",1)})},_drawCaptionGroup:function(n){var u=this.model.captionSettings,f=u.subTitle,r=this._indicator?this._indicator.settings:u.indicator,c,b,k,l,a,v;u._location=f._location=r._location=c;var y=u.textPosition.toLowerCase()!="float"&&u.text!="",p=f.textPosition.toLowerCase()!="float"&&f.text!="",w=r.visible&&r.textPosition.toLowerCase()!="float";if(y||p||w){b=t.EjSvgRender.utils._measureText(u.text,null,u.font);k=t.EjSvgRender.utils._measureText(f.text,null,f.font);r.visible&&(l=this._indicator.bounds,v={width:r.symbol.size.width+l.width+r.textSpacing,height:Math.max(r.symbol.size.height,l.height)},a={x:0,y:0,width:v.width,height:v.height,padding:r.padding,anchor:r.textAnchor.toLowerCase(),alignment:r.textAlignment.toLowerCase()});var d={x:0,y:0,width:b.width,height:parseFloat(u.font.size),padding:u.padding,anchor:u.textAnchor.toLowerCase(),alignment:u.textAlignment.toLowerCase()},g={x:0,y:0,width:k.width,height:parseFloat(f.font.size),padding:f.padding,anchor:f.textAnchor.toLowerCase(),alignment:f.textAlignment.toLowerCase()},tt={x:this._scale.location.x,y:this._scale.location.y,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize},nt=[y?u:null,p?f:null,w?r:null];this._positionTextGroup(nt,[d,g,a],tt);this._locateTextGroup(nt,[d,g,a])}var e=u._location==i?u.location:u._location,o=f._location==i?f.location:f._location,s=r._location==i?r.location:r._location;if(u.displayText=u.text,u.enableTrim==!0&&(e.x=e.x<0?0:e.x,e.y=e.y<0?0:e.y,u.displayText=this._displayText(u,e)),f.text!=""&&(f.displayText=f.text,u.enableTrim==!0&&(o.x=o.x<0?0:o.x,o.y=o.y<0?0:o.y,f.displayText=this._displayText(f,o))),r.visible){r.displayText=r.text;this.model.captionSettings.enableTrim==!0&&(s.x=s.x<0?0:s.x,s.y=s.y<0?0:s.y);var c=r._location?r._location:r.location,h={x:c.x+r.symbol.size.width/2,y:c.y-r.symbol.size.height/2,width:r.symbol.size.width,height:r.symbol.size.height},it=this._indicatorTextOptions(r,h,this._indicator.bounds,this.svgObject.id+"_Indicator"),rt=this._indicatorSymbolOptions(n,r);this._drawBulletSymbol(this._indicator.settings.symbol.shape,h,rt,n);this.model.captionSettings.enableTrim==!0&&(r.displayText=this._displayText(r,h))}u.displayText=u.textPosition.toLowerCase()!="float"?this._captionOverlap(this.model.captionSettings):u.displayText;this.svgRenderer.drawText(this._textOptions(u,this.svgObject.id+"_Caption"),u.displayText,n);f.text!=""&&(f.displayText=f.textPosition.toLowerCase()!="float"?this._subOverlap(this.model.captionSettings.subTitle):f.displayText,this.svgRenderer.drawText(this._textOptions(f,this.svgObject.id+"_SubTitle"),f.displayText,n));r.visible&&(r.displayText=r.textPosition.toLowerCase()!="float"?this._indOverlap(r,h):r.displayText,this.svgRenderer.drawText(it,r.displayText,n))},_captionOverlap:function(n){var t,i;return i=!0,n.textPosition==n.subTitle.textPosition&&n.textAlignment==n.subTitle.textAlignment&&n.textAngle>0&&n.textAngle<120?t=n.subTitle._location.y-n._location.y:n.textPosition==n.indicator.textPosition&&n.textAlignment==n.indicator.textAlignment&&n.textAngle>0&&n.textAngle<120?t=n.indicator._location.y-n._location.y:n.textPosition==n.subTitle.textPosition&&n._location.y<n.subTitle._location.y&&n.textAngle>0&&n.textAngle<180?t=n.subTitle._location.y-n._location.y:n.textPosition==n.subTitle.textPosition&&n._location.y>n.subTitle._location.y&&n.textAngle>190&&n.textAngle<360?t=n._location.y-n.subTitle._location.y:n.textPosition==n.indicator.textPosition&&n._location.y<n.indicator._location.y&&n.textAngle>0&&n.textAngle<180?t=n.indicator._location.y-n._location.y:n.textPosition==n.indicator.textPosition&&n._location.y>n.indicator._location.y&&n.textAngle>190&&n.textAngle<360&&(t=n._location.y-n.indicator._location.y),this._trim(n.displayText,n,t,i)},_indOverlap:function(n,t){var u,f,i,r;return f=!0,i=this.model.captionSettings.subTitle,r=this.model.captionSettings,n.textPosition==i.textPosition&&n.textAlignment==i.textAlignment&&n.textAngle>190&&n.textAngle<360?u=t.y-i._location.y:n.textPosition==r.textPosition&&n.textAlignment==r.textAlignment&&n.textAngle>190&&n.textAngle<360?u=t.y-r._location.y:n.textPosition==i.textPosition&&n._location.y<i._location.y&&n.textAngle>0&&n.textAngle<180?u=i._location.y-n._location.y:n.textPosition==i.textPosition&&n._location.y>i._location.y&&n.textAngle>190&&n.textAngle<360?u=n._location.y-i._location.y:n.textPosition==r.textPosition&&n._location.y<r._location.y&&n.textAngle>0&&n.textAngle<180?u=r._location.y-n._location.y:n.textPosition==r.textPosition&&n._location.y>r._location.y&&n.textAngle>190&&n.textAngle<360&&(u=n._location.y-r._location.y),this._trim(n.displayText,n,u,f)},_subOverlap:function(n){var r,u,t,i;return u=!0,t=this.model.captionSettings.indicator,i=this.model.captionSettings,n.textPosition==t.textPosition&&n.textAlignment==t.textAlignment&&n.textAngle>0&&n.textAngle<180?r=t._location.y-n._location.y:n.textPosition==i.textPosition&&n.textAlignment==i.textAlignment&&n.textAngle>190&&n.textAngle<360?r=n._location.y-i._location.y:n.textPosition==t.textPosition&&n._location.y<t._location.y&&n.textAngle>0&&n.textAngle<180?r=t._location.y-n._location.y:n.textPosition==t.textPosition&&n._location.y>t._location.y&&n.textAngle>190&&n.textAngle<360?r=n._location.y-t._location.y:n.textPosition==i.textPosition&&n._location.y<i._location.y&&n.textAngle>0&&n.textAngle<180?r=i._location.y-n._location.y:n.textPosition==i.textPosition&&n._location.y>i._location.y&&n.textAngle>190&&n.textAngle<360&&(r=n._location.y-i._location.y),this._trim(n.displayText,n,r,u)},rotatedLabel:function(n,i,r,u){var f={"font-size":n.size,transform:"rotate("+r+",0,0)","font-family":n.fontFamily,"font-style":n.fontStyle,rotateAngle:"rotate("+r+"deg)","text-anchor":"middle"},e=i.svgRenderer.createText(f,u);return Math.ceil(t.EjSvgRender.utils._measureBounds(e,i).width)},calcGap:function(n,t,i,r,u,f,e){var o;return n>=0&&n<=90?r+t.y>=e&&n>0?(o=e-t.y,u=!0):r+t.y<=e&&i+t.x>=f&&n>0?o=f-t.x:r+t.y<=e&&n>0?(o=e-t.y,u=!0):o=f-t.x:n>90&&n<180?r+t.y>=e?(o=e-t.y,u=!0):r+t.y<=e&&i+t.x>=f?o=t.x:i+t.x<=f?o=t.x:(o=e-t.y,u=!0):n>=180&&n<270?t.x-i>=0?(o=t.y,u=!0):t.y-r<=0&&t.x-i<=0?o=t.x:t.y-r<=0?(o=e-t.y,u=!0):o=t.x:i+t.x<=f?(o=t.y,u=!0):t.y-r>=0&&i+t.x>=f?o=f-t.x:i+t.x>=f?o=f-t.x:(o=t.y,u=!0),{trimSize:o,rotate:u}},_scaleLoc:function(){var o=this._scale,u=o.labelSettings.offset,i=o.majorTickSettings.size,n,e,s=this._scale.labelSettings,h=t.EjSvgRender.utils._measureText(s.labelPrefix+o.maximum+s.labelSuffix,null,s),f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?h.height:h.width,r,c;n=o.location.y;r=this.model.qualitativeRangeSize;c=this._tickPosition+this._tickPlacement+this._labelPosition+this._labelPlacement;this._tickPosition=="center"&&(i=i>r&&(i-r)/2);switch(c){case"faroutsidebelowoutside":e=n+f+r+u+(i>u&&i-u);break;case"faroutsidebelowinside":e=n+i+r;n=n-(u+f>r&&u+f-r);break;case"faroutsideaboveoutside":e=n+i+r;n=n-(u+f);break;case"faroutsideaboveinside":e=n+i+r+(u+f>r+i?u+f-(r+i):0);break;case"farinsidebelowoutside":e=n+f+r+u;n=n-(i>r&&i-r);break;case"farinsidebelowinside":e=n+r;n=n-(i>r&&i-r)-(u+f>r+i&&u+f-i);break;case"farinsideaboveoutside":e=n+r;n=n-(u+f)-(i>u+f+r&&i-(u+f+r));break;case"farinsideaboveinside":e=n+r+(u+f>r&&f+u-r);n=n-(i>r&&i-r);break;case"nearoutsidebelowoutside":e=n+r+u+f;n=n-i;break;case"nearoutsidebelowinside":e=n+r;n=n-i-(u+f>r+i&&u+f-(r+i));break;case"nearoutsideaboveoutside":e=n+r;n=n-i-(i<u+f&&u+f-i);break;case"nearoutsideaboveinside":e=n+r+(u+f>r&&u+f-r);n=n-i;break;case"nearinsidebelowoutside":e=n+r+(i>u+f+r?i-r:u+f);break;case"nearinsidebelowinside":e=n+r+(i>r&&i-r);n=n-(u+f>r&&u+f-r);break;case"nearinsideaboveoutside":e=n+(i>r?i:r);n=n-u-f;break;case"nearinsideaboveinside":e=n+r+(i>f+u?i-r:f+u-r);break;case"centeroutsidebelowoutside":e=n+r+(i>u+f?i:u+f);n=n-i;break;case"centeroutsidebelowinside":e=n+r+i;n=n-i-(u+f>r+i&&u+f-(r+i));break;case"centeroutsideaboveoutside":e=n+r+i;n=n-i-(i<u+f&&u+f-i);break;case"centeroutsideaboveinside":e=n+r+(u+f>r+i?u+f-r-i:i);n=n-i;break;case"centerinsidebelowoutside":e=n+r+(i>u+f?i:u+f);n=n-i;break;case"centerinsidebelowinside":e=n+r+i;n=n-(u+f-r>i?u+f-r:i);break;case"centerinsideaboveoutside":e=n+r+i;n=n-i-(i<u+f&&u+f-i);break;case"centerinsideaboveinside":e=n+r+(i>f+u?i:f+u-r);n=n-i}return{x:o.location.x,y:n,height:e}},_displayText:function(i,r){var f=n.extend(!0,r),e=i.textAngle%360,y=i.text,w=i.font,a=this._scale,p=this._scale.labelSettings,b=t.EjSvgRender.utils._measureText(p.labelPrefix+a.minimum+p.labelSuffix,null,p).width,k=t.EjSvgRender.utils._measureText(y,null,w).width,d=t.EjSvgRender.utils.rotatedLabel(i,this,e,i.text),v=this.rotatedLabel(w,this,e,i.text),o,s=this.svgHeight,h=this.svgWidth,l=!1,u=this._scaleLoc(),c,g;return i.textSpacing&&(k=k+i.textSpacing,v=v+i.textSpacing),this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?(f.x<=u.x&&u.y<=f.y&&f.y<=u.height?h=a.location.x-b/2:f.x<=u.x&&f.y<=u.y&&e<90?s=u.y:f.x>=u.x&&f.x<=u.x+this.model.quantitativeScaleLength&&f.y<=u.y?s=u.y:f.y<=u.y&&f.x>=u.x+this.model.quantitativeScaleLength&&e>=90?s=u.y:f.x>=u.x+this.model.quantitativeScaleLength&&u.y<=f.y&&f.y<=u.height&&e<270?(h=h-(u.x+this.model.quantitativeScaleLength),f.x=f.x-(u.x+this.model.quantitativeScaleLength)):f.x<=u.x&&f.y>=u.height&&e>270?f.y=f.y-u.height:f.x>=u.x&&f.x<=u.x+this.model.quantitativeScaleLength&&f.y>=u.height?f.y=f.y-u.height:f.x>=u.x+this.model.quantitativeScaleLength&&f.y>=u.height&&e>=180&&e<270&&(f.y=f.y-u.height),o=this.calcGap(e,f,v,d,l,h,s),l=o.rotate,o=o.trimSize):(c=u.height-u.y,u.y=this.svgHeight-a.location.y-this.model.quantitativeScaleLength,u.height=u.y+this.model.quantitativeScaleLength,f.x<=u.x&&u.y<=f.y&&f.y<=u.height?h=a.location.x-b/2:f.x<=u.x&&f.y<=u.y&&e<90?s=u.y:f.x>=u.x&&f.x<=u.x+c&&f.y<=u.y?s=u.y:f.y<=u.y&&f.x>=u.x+c&&e>=90?s=u.y:f.x>=u.x+c&&u.y<=f.y&&f.y<=u.height&&e<=260?(h=h-(u.x+c),f.x=f.x-(u.x+c)):f.x<=u.x&&f.y>=u.height&&e>=280?f.y=f.y-u.height:f.x>=u.x&&f.x<=u.x+c&&f.y>=u.height?f.y=f.y-u.height:f.x>=u.x+c&&f.y>=u.height&&e>=180&&e<=260&&(f.y=f.y-u.height),o=this.calcGap(e,f,v,d,l,h,s),l=o.rotate,o=o.trimSize),g=y,this._trim(y,i,o,l)},_trim:function(n,i,r,u){var f=n,h=this.rotatedLabel(i.font,this,i.textAngle,n),s=t.EjSvgRender.utils._measureText(n,null,i.font).width,o,e,c;if(i.textSpacing&&(s=s+i.textSpacing,h=h+i.textSpacing),s>r&&n!=""){for(e=1;e<=n.toString().length;e++)if(n=f.toString().substring(0,e)+"... ",o=u==!0?t.EjSvgRender.utils.rotatedLabel(i,this,i.textAngle,n):t.EjSvgRender.utils._measureText(n,null,i.font).width,i.textSpacing&&(o=o+i.textSpacing),o>=r){n=n.toString().substring(0,e-1)+"... ";f=n;break}c=f.toString(0,n.toString.lenght-4);c!=f&&(f=n)}return f},_getVerticalScaleLocation:function(n){return{x:this._scale.location.y,y:this.svgHeight-this._scale.location.x-n}},_horizontalTextPositioning:function(n,i,r,u,f){var h=n.textPosition.toLowerCase(),e=i.alignment,r=this._scaleLoc(),o=this._scale.labelSettings,s=t.EjSvgRender.utils._measureText(o.labelPrefix+this._scale.maximum+o.labelSuffix,null,o).width;switch(h){case"left":i.x=r.x-i.width-i.padding-s/2;i.y=r.y+(e=="center"?u.height/2+i.height/3:e=="far"?u.height:i.height);f[0].push(i);break;case"right":i.x=r.x+u.width+i.padding+s/2;i.y=r.y+(e=="center"?u.height/2+i.height/3:e=="far"?u.height:i.height);f[1].push(i);break;case"top":i.x=e=="center"?u.x+u.width/2-i.width/2:e=="near"?u.x:u.x+u.width-i.width;i.y=r.y-i.padding;f[2].push(i);break;case"bottom":i.x=e=="center"?u.x+u.width/2-i.width/2:e=="near"?u.x:u.x+u.width-i.width;i.y=r.height+i.height/2+i.padding;f[3].push(i)}},_VerticalTextPositioning:function(n,t,i,r,u){var o=n.textPosition.toLowerCase(),f=t.alignment,e=this._scaleLoc();switch(o){case"left":t.x=e.y-t.width-t.padding;t.y=i.y+(f=="center"?r.height/2+t.height/3:f=="far"?r.height:t.height);this._tickPosition=="near"&&this._tickPlacement=="inside"&&this._labelPosition=="above"&&this._labelPlacement=="inside"&&(t.x+=this._scale.majorTickSettings.size);u[0].push(t);break;case"right":t.x=e.height+t.padding;t.y=i.y+(f=="center"?r.height/2+t.height/3:f=="far"?r.height:t.height);u[1].push(t);break;case"top":t.x=r.x-t.width/2+(f=="center"?r.width/2:f=="far"&&r.width);t.y=r.y-t.padding;u[2].push(t);break;case"bottom":t.x=r.x-t.width/2+(f=="center"?r.width/2:f=="far"&&r.width);t.y=r.y+r.height+t.height+t.padding-t.height/3+this._scale.labelSettings.size/2;u[3].push(t)}},_positionTextGroup:function(n,t,i){for(var f=[[],[],[],[]],e=this._orientation=="horizontal",u=e?this._scaleLocation:this._getVerticalScaleLocation(i.width),o=e?i:{x:u.x,y:u.y,width:i.height,height:i.width},r=0;r<n.length;r++)n[r]&&(e?this._horizontalTextPositioning(n[r],t[r],u,o,f):this._VerticalTextPositioning(n[r],t[r],u,o,f));this._avoidElementsOverlapping(f)},_avoidElementsOverlapping:function(n){for(var t,f,r,i,u=0;u<n.length;u++){t=n[u];f=!1;do for(r=0;r<t.length;r++)for(i=r-1;i>=0;i--)if(this._isOverlapping(t[r],t[i])){switch(u){case 0:case 1:t[i].y>t[r].y?t[i].y=t[r].y+t[i].height+(t[i].padding>1?t[i].padding:1):t[r].y=t[i].y+t[r].height+(t[r].padding>1?t[r].padding:1);break;case 2:t[i].y=t[r].y-t[r].height-(t[i].padding>1?t[i].padding:1);break;default:t[r].y=t[i].y+t[i].height+(t[i].padding>1?t[i].padding:1)}f=!0;break}else f=!1;while(f)}this._applyLeftRightAnchor([n[0],n[1]]);this._applyTopBottomAnchor([n[2],n[3]])},_locateTextGroup:function(n,t){for(var i=0;i<n.length;i++)n[i]&&(n[i]._location={x:0,y:0},n[i]._location.x=t[i].x,n[i]._location.y=t[i].y)},_applyLeftRightAnchor:function(n){for(var i,r,t,f,u=0;u<n.length;u++){for(i=n[u],r=0,t=0;t<i.length;t++)r=Math.max(r,i[t].width);for(t=0;t<i.length;t++)f=i[t].anchor,i[t].x+=f=="start"?u==0&&i[t].width-r:f=="middle"?u==0?(i[t].width-r)/2:(r-i[t].width)/2:u!=0&&r-i[t].width}},_applyTopBottomAnchor:function(n){for(var t,r=0;r<n.length;r++){var u=[],f=[],e=[],i=n[r];for(t=0;t<i.length;t++)i[t].alignment=="near"?u.push(i[t]):i[t].alignment=="far"?f.push(i[t]):e.push(i[t]);this._applyNearAnchor(u);this._applyCenterAnchor(e);this._applyFarAnchor(f)}},_applyNearAnchor:function(n){var i,t;if(n.length>1){for(i=0,t=0;t<n.length;t++)i=Math.max(i,n[t].width);for(t=0;t<n.length;t++)n[t].x+=n[t].anchor=="start"?this._orientation=="vertical"&&(n[t].width-i)/2:n[t].anchor=="middle"?this._orientation=="horizontal"&&(i-n[t].width)/2:this._orientation=="horizontal"?i-n[t].width:(i-n[t].width)/2}},_applyCenterAnchor:function(n){var i,t;if(n.length>1){for(i=0,t=0;t<n.length;t++)i=Math.max(i,n[t].width);for(t=0;t<n.length;t++)n[t].anchor=="start"?n[t].x+=(n[t].width-i)/2:n[t].anchor=="end"&&(n[t].x+=(i-n[t].width)/2)}},_applyFarAnchor:function(n){var i,t;if(n.length>1){for(i=0,t=0;t<n.length;t++)i=Math.max(i,n[t].width);for(t=0;t<n.length;t++)n[t].anchor=="start"?n[t].x+=this._orientation=="horizontal"?n[t].width-i:(n[t].width-i)/2:n[t].anchor=="middle"?n[t].x+=this._orientation=="horizontal"&&(n[t].width-i)/2:n[t].anchor=="end"&&(n[t].x+=this._orientation=="vertical"&&(i-n[t].width)/2)}},_isOverlapping:function(n,t){return!(n.x+n.width<t.x||n.x>t.x+t.width||n.y-n.height>t.y||n.y<t.y-t.height)},_initializeValues:function(){this._scale=this.model.quantitativeScaleSettings;this._labelPosition=this._scale.labelSettings.position.toLowerCase();this._tickPosition=this._scale.tickPosition.toLowerCase();this._flowDirection=this.model.flowDirection.toLowerCase();this._orientation=this.model.orientation.toLowerCase();this._tickPlacement=this._scale.tickPlacement.toLowerCase();this._labelPlacement=this._scale.labelSettings.labelPlacement.toLowerCase()},_changeOrientation:function(n){this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&n.setAttribute("transform","translate(0,"+this.svgHeight+")rotate(-90)")},_setModel:function(i){var f=!0,r,u;for(r in i){this.model.enableAnimation=!1;switch(r){case"height":this.model.height=i[r];break;case"width":this.model.width=i[r];break;case"theme":this.model.theme=i[r];this._setTheme(t.datavisualization.BulletGraph.Themes,this.model.theme);break;case"orientation":this.model.orientation=i[r];break;case"flowDirection":this.model.flowDirection=i[r];break;case"qualitativeRangeSize":this.model.qualitativeRangeSize=i[r];break;case"quantitativeScaleLength":this.model.quantitativeScaleLength=i[r];break;case"quantitativeScaleSettings":n.extend(!0,this.model.quantitativeScaleSettings,{},i[r]);break;case"applyRangeStrokeToTicks":this.model.applyRangeStrokeToTicks=i[r];break;case"applyRangeStrokeToLabels":this.model.applyRangeStrokeToLabels=i[r];break;case"qualitativeRanges":n.extend(!0,this.model.qualitativeRanges,{},i[r]);break;case"captionSettings":n.extend(!0,this.model.captionSettings,{},i[r]);break;case"dataSource":n.extend(!0,this.model.fields,{},i[r]);break;case"value":for(u=0;this.model.quantitativeScaleSettings.featureMeasures[u]!=null;u++)this.model.quantitativeScaleSettings.featureMeasures[u].value=parseFloat(this.value());break;case"comparativeMeasureValue":for(u=0;this.model.quantitativeScaleSettings.featureMeasures[u]!=null;u++)this.model.quantitativeScaleSettings.featureMeasures[u].comparativeMeasureValue=parseFloat(this.comparativeMeasureValue());break;case"enableAnimation":this.model.enableAnimation=i[r];this.model.enableAnimation&&(n(this.svgObject).empty(),this._renderBulletElements(),this._animateMeasures());f=!1}}f&&(n(this.svgObject).empty(),this._renderBulletElements())},_bindData:function(){t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?(this._dataCount=this._scale.featureMeasures.length,this._drawMeasures()):this.model.fields.dataSource instanceof t.DataManager?this._initDataSource():(this._dataCount=this.model.fields.dataSource.length,this._drawMeasures())},_drawMeasures:function(){this._drawFeatureMeasureBar();this._drawComparativeMeasureSymbol()},_initDataSource:function(){var t=this._columnToSelect(this.model.fields),n=this,i=this.model.fields.dataSource.executeQuery(t);i.done(function(t){n.model.fields.dataSource=t.result;n._dataCount=t.result.length;n._drawFeatureMeasureBar();n._drawComparativeMeasureSymbol();n._bindHighlightRemoving()})},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="query"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u);this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_drawCaption:function(){if(this.model.drawCaption){var t={font:this.model.captionSettings.font,location:this.model.captionSettings.location,subTitle:this.model.captionSettings.subTitle,text:this.model.captionSettings.text,textAngle:this.model.captionSettings.textAngle};this._trigger("drawCaption",t);this.model.captionSettings=n.extend(this.model.captionSettings,t)}},_drawBulletSymbol:function(n,i,r,u){var e="M "+(i.x-i.width/2+i.width)+" "+(i.y+i.height/4)+" L "+(i.x-i.width/2+i.width)+" "+(i.y+-i.height/4)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+-i.height/4)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x-i.width/2)+" "+i.y+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x-i.width/2+i.width/2)+" "+(i.y+i.height/4)+" L "+(i.x-i.width/2+i.width)+" "+(i.y+i.height/4),o,l,a,v,s,y,p,f,d,g,h;switch(n.toLowerCase()){case"circle":o=Math.min(i.height,i.width)/2;r.cx=i.x;r.cy=i.y;r.r=o;this.svgRenderer.drawCircle(r,u);break;case"leftarrow":r.d=e;this.svgRenderer.drawPath(r,u);break;case"rightarrow":r.d=e;r.transform="rotate(180,"+i.x+","+i.y+")";this.svgRenderer.drawPath(r,u);break;case"uparrow":r.d=e;r.transform="rotate(90,"+i.x+","+i.y+")";this.svgRenderer.drawPath(r,u);break;case"downarrow":r.d=e;r.transform="rotate(-90,"+i.x+","+i.y+")";this.svgRenderer.drawPath(r,u);break;case"cross":l="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+i.y+" M "+i.x+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2);r.d=l;r.stroke=r.stroke?r.stroke:r.fill;this.svgRenderer.drawPath(r,u);break;case"horizontalline":a="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+i.y;r.d=a;r.stroke=r.stroke?r.stroke:r.fill;this.svgRenderer.drawPath(r,u);break;case"verticalline":v="M "+i.x+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2);r.d=v;r.stroke=r.stroke?r.stroke:r.fill;this.svgRenderer.drawPath(r,u);break;case"triangle":s="M "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" Z";r.d=s;this.svgRenderer.drawPath(r,u);break;case"invertedtriangle":s="M "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" Z";r.d=s;r.transform="rotate(180,"+i.x+","+i.y+")";this.svgRenderer.drawPath(r,u);break;case"hexagon":y="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+-i.width/4)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/4)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+i.y+" L "+(i.x+i.width/4)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/4)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y;r.d=y;this.svgRenderer.drawPath(r,u);break;case"wedge":p="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/4)+" "+i.y+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y;r.d=p;this.svgRenderer.drawPath(r,u);break;case"pentagon":var o=Math.sqrt(i.height*i.height+i.width*i.width)/2,c=t.EjSvgRender.utils._getStringBuilder();for(f=0;f<=5;f++){var nt=f*72,w=Math.PI/180*nt,b=o*Math.cos(w),k=o*Math.sin(w);f==0?c.append("M "+(i.x+b)+" "+(i.y+k)+" "):c.append("L "+(i.x+b)+" "+(i.y+k)+" ")}r.d=c.toString();this.svgRenderer.drawPath(r,u);break;case"star":d="M "+(i.x+i.width/3)+" "+(i.y+-i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/6)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/6)+" L "+(i.x+-i.width/3)+" "+(i.y+-i.height/2)+" L "+i.x+" "+(i.y+i.height/2)+" L "+(i.x+i.width/3)+" "+(i.y+-i.height/2);r.d=d;this.svgRenderer.drawPath(r,u);break;case"rectangle":g="M "+(i.x+-i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+-i.height/2);r.d=g;this.svgRenderer.drawPath(r,u);break;case"trapezoid":h="M "+(i.x+-i.width/2)+" "+i.y+" L "+(i.x+-i.width/2)+" "+(i.y+-i.height/4)+" L "+(i.x+-i.width/2+i.width)+" "+(i.y+-i.height/2)+" L "+(i.x+-i.width/2+i.width)+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+(i.y+i.height/4)+" L "+(i.x+-i.width/2)+" "+i.y;r.d=h;this.svgRenderer.drawPath(r,u);break;case"diamond":h="M "+(i.x+-i.width/2)+" "+i.y+" L "+i.x+" "+(i.y+-i.height/2)+" L "+(i.x+i.width/2)+" "+i.y+" L "+i.x+" "+(i.y+i.height/2)+" L "+(i.x+-i.width/2)+" "+i.y;r.d=h;this.svgRenderer.drawPath(r,u);break;case"ellipse":r.cx=i.x;r.cy=i.y;r.rx=i.width/2;r.ry=i.height/2;this.svgRenderer.drawEllipse(r,u);break;case"image":r.x=i.x-i.width/2;r.y=i.y-i.height/2;r.width=i.width;r.height=i.height;r.href=this.model.captionSettings.indicator.symbol.imageURL;r.visibility="visible";this.svgRenderer.drawImage(r,u)}},_drawIndicator:function(){var i,r,u;this.model.captionSettings.indicator.visible&&(i=this.model.captionSettings.indicator,r=n.extend({},{indicatorSettings:this.model.captionSettings.indicator}),this.model.drawIndicator&&(this._trigger("drawIndicator",r),r.cancel==!1&&(i=r.indicatorSettings,this.model.captionSettings.indicator=i)),u=t.EjSvgRender.utils._measureText(i.text,null,i.font),this._indicator={bounds:u,settings:i})},_indicatorTextOptions:function(n,t,i,r){var u=n._location?n._location:n.location;return{"class":r,x:u.x+t.width+n.textSpacing,y:u.y-t.height/2+parseFloat(n.font.size)/3,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,"text-anchor":"start",opacity:n.font.opacity,transform:"rotate("+n.textAngle+","+t.x+","+t.y+")"}},_indicatorSymbolOptions:function(n,t){return{id:n.id+"_indicatorSymbol",stroke:t.symbol.border.color,fill:t.symbol.color,"stroke-width":t.symbol.border.width,opacity:t.symbol.opacity}},_textOptions:function(n,t){var i=n._location?n._location:n.location;return{"class":t,x:i.x,y:i.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,"text-anchor":"start",opacity:n.font.opacity,cursor:"default",transform:"rotate("+n.textAngle+","+i.x+","+i.y+")"}},_drawScale:function(n,i){var r=this._scale._location?this._scale._location:this._scale.location,u,f,e;u=this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Far||this._tickPosition==t.datavisualization.BulletGraph.TickPosition.Center?this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?r.y:r.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below?r.y+this._scale.majorTickSettings.size:r.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size;f=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?r.x:this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?r.x-this._scale.labelSettings.offset:r.x;e={id:this.svgObject.id+"_SvgScale",x:f,y:u,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize,fill:"transparent","stroke-width":0};this.svgRenderer.drawRect(e,i)},_drawMajorTicks:function(n,i){var r,l,tt=0,a=this._scale.location,b=this._tickPlacement=="inside",s=this._scale.location.x,k=this.model.quantitativeScaleLength,it=this._scale.labelSettings.offset,d=this.model.qualitativeRangeSize,u=this._scale.majorTickSettings.width,v=this._scale.majorTickSettings.size,f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,o=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,rt=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below,e,y,p,w,nt;r=o?f?s+u/2:s+k+u/2:f?s+k-u/2:s+u/2;l=this._tickPosition=="far"?a.y+d+(b?-v:0):this._tickPosition=="near"?a.y+(b?0:-v):a.y+d/2-v/2;var h=this._scale.minimum,c=this._scale.maximum,g=this._scale.interval;for(e=h;e<=c;e+=g)tt++,e>=c&&(f&&!o?r+=u:r-=u),!f&&o&&(r=e>=c?r+u:e==h?r-u:r),this.model.applyRangeStrokeToTicks&&(y=this._bindingRangeStrokes(r-u/2)),p=this._majorTickLines(this._scale,r,l,y),!f&&o&&e==h&&(r=r+u),this.model.drawTicks&&(w={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:c,minimum:h,interval:g},this._trigger("drawTicks",w),p=this._majorTickLines(w,r,l,y)),nt=this.svgRenderer.createLine(p),r=!o&&f||o&&!f?r-n:r+n,i.appendChild(nt)},_majorTickLines:function(n,t,i,r){return{x1:t,y1:i,x2:t,y2:i+n.majorTickSettings.size,"stroke-width":n.majorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&r?r:n.majorTickSettings.stroke}},_forwardStrokeBinding:function(n){if(n>=this._scale.location.x&&n<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke;for(var t=0;t<=this._rangeCollection.length-1;t++)if(n>=this._rangeCollection[t]+this._scale.location.x&&n<=this._rangeCollection[t+1]+this._scale.location.x)return this.model.qualitativeRanges[t+1].rangeStroke},_backwardStrokeBinding:function(t){var i,r;if(t>=this._rangeCollection[this._rangeCollection.length-1])return this.model.qualitativeRanges[0].rangeStroke;for(i=0;i<=this._rangeCollection.length-1;i++)if(t>=this._rangeCollection[i]&&t<this._rangeCollection[i+1])return r=n.inArray(this._rangeCollection[i],this._rangeCollection),this.model.qualitativeRanges[this._rangeCollection.length-1-r].rangeStroke},_bindingRangeStrokes:function(n){if(this._rangeCollection.length==1){if(n>=this._scale.location.x&&n<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke}else return this.model.orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward||this.model.orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward?this._forwardStrokeBinding(n):this._backwardStrokeBinding(n)},_drawMinorTicks:function(i,r){var h,c,s,p,u,tt=0,e=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,f=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,it=this._tickPlacement=="inside",o=this._scale.location.x,rt=this.model.qualitativeRangeSize,st=this._scale.labelSettings.offset,ht=this._scale.majorTickSettings.size,l=this._scale.minorTickSettings.size,ut=this._scale.minorTickSettings.width,b=this.model.quantitativeScaleLength,g,k,nt,w,d,v,y;h=e?f?o:o+b:f?o+b-ut/2:o;switch(this._tickPosition){case"far":s=this._scale.location.y+rt;p=s+(it?-l:l);break;case"near":s=this._scale.location.y+(it?l:-l);p=this._scale.location.y;break;default:s=this._scale.location.y+rt/2-l/2;p=s+l}var ft=this._scale.maximum,et=this._scale.minimum,ot=this._scale.interval,a=this._scale.minorTicksPerInterval;for(g=et;g<=ft;g+=ot){for(c=i/a,k=1;k<=a;k++)tt++,u=!f&&e||f&&!e?h-c+c/(a+1):h+c-c/(a+1),!e&&f&&tt>=(ft-et)*a&&(u+=ut/2),this.model.applyRangeStrokeToTicks&&(nt=this._bindingRangeStrokes(u)),w=this._minorTickLines(this._scale,u,s,p,nt),this.model.drawTicks&&(d={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:this._scale.maximum,minimum:this._scale.minimum,interval:this._scale.interval},this._trigger("drawTicks",d),this._scale=n.extend(this._scale,d),w=this._minorTickLines(d,u,s,p,nt)),!e&&f?(v=b+o+1,u<=v&&u>=o+1&&(y=this.svgRenderer.createLine(w),r.appendChild(y))):e&&!f?(v=o+1,u>=v&&(y=this.svgRenderer.createLine(w),r.appendChild(y))):(v=b+o+1,u<=v&&(y=this.svgRenderer.createLine(w),r.appendChild(y))),c=i/a*(k+1);h=!e&&f||e&&!f?h-i:h+i}},_minorTickLines:function(n,t,i,r,u){return{x1:t,y1:i,x2:t,y2:r,"stroke-width":n.minorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&u?u:n.minorTickSettings.stroke}},_drawLabels:function(n,i){var o,a,it=this.model.locale,et=it&&this.model.enableGroupSeparator,g,b,rt=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,c=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,k=this._scale.location.x,f=this._scale.labelSettings.offset,ut=this.model.quantitativeScaleLength,ct=this._scale.majorTickSettings.width,v,l,e,w,nt,h,tt;o=rt?c?k:k+ut:c?k+ut:k;var ft=this._tickPosition+this._labelPlacement,s=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below,lt=this._scale.location.y,d=this.model.qualitativeRangeSize,u=this._scale.labelSettings.size,at=this._scale.majorTickSettings.size;switch(ft){case"faroutside":case"centeroutside":a=s?this._scale.location.y+d+f+u:this._scale.location.y-f;break;case"farinside":case"centerinside":a=s?this._scale.location.y+d-f:this._scale.location.y+f+(c?u:0);break;case"nearoutside":a=s?this._scale.location.y+d+f+u:this._scale.location.y-f;break;case"nearinside":a=s?this._scale.location.y+d-f:this._scale.location.y+f+u}var ot=this._scale.minimum,st=this._scale.maximum,ht=this._scale.interval,vt=this._labelPlacement=="inside";for(l=ot;l<=st;l+=ht){var r=a,y=o,p=this._scale.labelSettings.font;if(p.size=u,e={width:0,height:0},c)b="rotate(0,"+y+","+r+")";else{w=this._scale.labelSettings.labelPrefix+l+this._scale.labelSettings.labelSuffix;switch(ft){case"faroutside":case"centeroutside":s?r-=u:(e=t.EjSvgRender.utils._measureText(w,null,p),r-=e.width);break;case"farinside":case"centerinside":s&&(e=t.EjSvgRender.utils._measureText(w,null,p),r-=e.width);break;case"nearoutside":s?r-=u:(e=t.EjSvgRender.utils._measureText(w,null,p),r-=e.width);break;case"nearinside":s?(e=t.EjSvgRender.utils._measureText(w,null,p),r-=e.width):r-=u}y-=u/3;b="rotate(90,"+y+","+r+")"}this.model.applyRangeStrokeToLabels&&(nt=this._bindingRangeStrokes(o));h=this._labelOptions(this.model.quantitativeScaleSettings.labelSettings,y,r,b,nt);this.model.drawLabels&&(tt={font:this._scale.labelSettings.font,labelPrefix:this._scale.labelSettings.labelPrefix,labelSuffix:this._scale.labelSettings.labelSuffix,offset:f,size:u,stroke:this._scale.labelSettings.stroke},this._trigger("drawLabels",tt),h=this._labelOptions(tt,y,r,b,nt));o=rt?c?o+n:o-n:c?o-n:o+n;g=et?l.toLocaleString(it):l;v=g;t.util.isNullOrUndefined(h.labelPrefix)||(v=h.labelPrefix+g);t.util.isNullOrUndefined(h.labelSuffix)||(v=v+h.labelSuffix);this.svgRenderer.drawText(h,v,i)}},_labelOptions:function(n,i,r,u,f){var e={x:i,y:r,"text-anchor":this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal?"middle":"start",fill:this.model.applyRangeStrokeToLabels&&f?f:n.stroke,"font-size":n.size+"px","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,transform:u};return n.labelPrefix!=""&&(e.labelPrefix=n.labelPrefix),n.labelSuffix!=""&&(e.labelSuffix=n.labelSuffix),e},_drawQualitativeRanges:function(n){var c=this._scale.location.x,y=this._scale.location.y,e,a=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,o=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,p=this._scale.labelSettings.offset,s,h,f,v;this._rangeCollection=[];var w=this._tickPosition+this._labelPlacement,b=this._labelPosition==t.datavisualization.BulletGraph.LabelPosition.Below,k=this.model.qualitativeRangeSize,l=this._scale.location.x,r=this._scale.minimum,i=this._scale.maximum,u=this.model.quantitativeScaleLength;for(s=this.model.qualitativeRanges.length-1;s>=0;s--)h={object:this,rangeIndex:s,rangeOptions:this.model.qualitativeRanges[s],rangeEndValue:this.model.qualitativeRanges[s].rangeEnd},this.model.drawQualitativeRanges&&this._trigger("drawQualitativeRanges",h),f=h.rangeEndValue,f=f>i?i:f,a?(c=o?l:l+(u-u/((i-r)/(i-r-(i-f)))),e=o?u/((i-r)/(i-r-(i-f))):u/((i-r)/(i-r-(i-f)))):(c=o?l+(u-u/((i-r)/(i-r-(i-f)))):l,e=o?u/((i-r)/(i-r-(i-f))):u/((i-r)/(i-r-(i-f)))),v={x:c,y:y,height:this.model.qualitativeRangeSize,width:e>0?e<u?e:u:0,fill:h.rangeOptions.rangeStroke,opacity:h.rangeOptions.rangeOpacity},o&&a||!o&&!a?this._rangeCollection.push(e):this._rangeCollection.push(c),this.svgRenderer.drawRect(v,n);this._rangeCollection.sort(this._sortRangeCollection)},_sortRangeCollection:function(n,t){return n-t},_calculateFeatureMeasureBounds:function(n,i){var o=this._scale.minimum,a,v;if(n=n<o&&o<0?o:n,n>=o){var u,h,r,f=this._scale.location.x,e=this.model.quantitativeScaleLength,s=this._scale.maximum-this._scale.minimum,c=this._scale.maximum-n,l=this._flowDirection.toLowerCase()+this._orientation.toLowerCase();i=i==null?"":i;a=this._scale.labelSettings.font;a.size=this._scale.labelSettings.size;v=t.EjSvgRender.utils._measureText(i.toString(),null,a).width;switch(l){case"forwardhorizontal":case"backwardvertical":u=f+(o>0?0:e/s*Math.abs(o));r=e/(s/(o>0?s-c:n));n<0&&(r=Math.abs(r),u-=r);r=u+r<f+e?r:f+e-u;h=f-(l=="forwardhorizontal"?v/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset);break;default:u=f+(e-e/(s/(s-c)));r=o>0?e/(s/(s-c)):e/(s/n);n<0&&(r=Math.abs(r),u-=r);u<f&&(r=u+r-f,u=f);h=f+e+(l=="backwardhorizontal"?v/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset)}return{pointX:u,Width:r,lPointX:h}}return!1},_drawFeatureMeasureBar:function(){var e=1,o,r,s,h,f,a=this.model.locale,y=a&&this.model.enableGroupSeparator,v=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null,p=this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical,w=typeof this.model.value=="function"?this._value():this.model.value,n,i,c,l,u;if(this._dataCount>0)for(n=this._dataCount-1;n>=0;n--)o=v?this.model.fields.dataSource[n][this.model.fields.featureMeasures]:t.isNullOrUndefined(this._scale.featureMeasures[n].value)?w:this._scale.featureMeasures[n].value,r=v?this.model.fields.dataSource[n][this.model.fields.category]:this._scale.featureMeasures[n].category,h=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*e/2-this._scale.featuredMeasureSettings.width/2,f=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*e/2+this._scale.featuredMeasureSettings.width/2-1,i=this._calculateFeatureMeasureBounds(o,r),i&&(c=this._featureBar(this._scale,i.pointX,h,i.Width,n),this.model.drawFeatureMeasureBar&&(u={featuredMeasureSettings:this._scale.featuredMeasureSettings},this._trigger("drawFeatureMeasureBar",u),c=this._featureBar(u,i.pointX,h,i.Width,n)),this.svgRenderer.drawRect(c,this._scaleGroup),s=p?"rotate(90,"+i.lPointX+","+(f-4)+")":"rotate(0,"+i.lPointX+","+f+")",l=this._drawcategory(this.model.quantitativeScaleSettings.labelSettings,i.lPointX,f,s),this.model.drawCategory&&(u={size:this.model.quantitativeScaleSettings.labelSettings.size,stroke:this.model.quantitativeScaleSettings.labelSettings.stroke,font:this.model.quantitativeScaleSettings.labelSettings.font,categoryValue:r},this._trigger("drawCategory",u),l=this._drawcategory(u,i.lPointX,f,s),r=u.categoryValue),t.isNullOrUndefined(r)||this.svgRenderer.drawText(l,y?r.toLocaleString(a):r,this._scaleGroup),e+=2,this.value(o))},_drawcategory:function(n,t,i,r){return{x:t,y:i+this._scale.featuredMeasureSettings.width/2,"text-anchor":"middle",fill:n.stroke,"font-size":n.size+"px","font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,transform:r}},_featureBar:function(n,t,i,r,u){return{"class":this.svgObject.id+"_FeatureMeasure",id:this.svgObject.id+"_FeatureMeasure_"+u,x:t,y:i,height:n.featuredMeasureSettings.width,width:r,fill:n.featuredMeasureSettings.stroke}},_drawComparativeMeasureSymbol:function(){var r=1,n,u,f,e,c=this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward,h=this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal,l=typeof this.model.comparativeMeasureValue=="function"?this._comparativeMeasureValue():this.model.comparativeMeasureValue,i,o,s;if(this._dataCount>0)for(i=this._dataCount-1;i>=0;i--)n=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[i][this.model.fields.comparativeMeasure]:t.isNullOrUndefined(this._scale.featureMeasures[i].comparativeMeasureValue)?l:this._scale.featureMeasures[i].comparativeMeasureValue,n>=this._scale.minimum&&n<=this._scale.maximum&&(u=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*r/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width,f=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*r/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width,e=c?h?this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n))):this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n)))):h?this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n)))):this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-n))),o=this._compareMeasure(this._scale,e,u,f,i,n),this.model.drawComparativeMeasureSymbol&&(s={comparativeMeasureSettings:this._scale.comparativeMeasureSettings},this._trigger("drawComparativeMeasureSymbol",s),o=this._compareMeasure(s,e,u,f,i,n)),this.svgRenderer.drawLine(o,this._scaleGroup),r+=2,this.comparativeMeasureValue(n))},_compareMeasure:function(n,t,i,r,u,f){return{"class":this.svgObject.id+"_ComparativeMeasure",id:this.svgObject.id+"_ComparativeMeasure_"+u,x1:f==this._scale.maximum?t-n.comparativeMeasureSettings.width/2:f==this._scale.minimum?t+n.comparativeMeasureSettings.width/2:t,y1:i,x2:f==this._scale.maximum?t-n.comparativeMeasureSettings.width/2:f==this._scale.minimum?t+n.comparativeMeasureSettings.width/2:t,y2:r,"stroke-width":n.comparativeMeasureSettings.width,stroke:n.comparativeMeasureSettings.stroke}},_setTheme:function(n,i){var u=[],e,r,f;this._scale=this.model.quantitativeScaleSettings;for(e in n)u.push(e);for(r=0;r<u.length;r++)for(this._scale.majorTickSettings.stroke=!this._scale.majorTickSettings.stroke||this._scale.majorTickSettings.stroke==n[u[r]].quantitativeScaleSettings.majorTickSettings.stroke?n[i].quantitativeScaleSettings.majorTickSettings.stroke:this._scale.majorTickSettings.stroke,this._scale.minorTickSettings.stroke=!this._scale.minorTickSettings.stroke||this._scale.minorTickSettings.stroke==n[u[r]].quantitativeScaleSettings.minorTickSettings.stroke?n[i].quantitativeScaleSettings.minorTickSettings.stroke:this._scale.minorTickSettings.stroke,this._scale.labelSettings.stroke=!this._scale.labelSettings.stroke||this._scale.labelSettings.stroke==n[u[r]].quantitativeScaleSettings.labelSettings.stroke?n[i].quantitativeScaleSettings.labelSettings.stroke:this._scale.labelSettings.stroke,this._scale.featuredMeasureSettings.stroke=!this._scale.featuredMeasureSettings.stroke||this._scale.featuredMeasureSettings.stroke==n[u[r]].quantitativeScaleSettings.featuredMeasureSettings.stroke?n[i].quantitativeScaleSettings.featuredMeasureSettings.stroke:this._scale.featuredMeasureSettings.stroke,this._scale.comparativeMeasureSettings.stroke=!this._scale.comparativeMeasureSettings.stroke||this._scale.comparativeMeasureSettings.stroke==n[u[r]].quantitativeScaleSettings.comparativeMeasureSettings.stroke?n[i].quantitativeScaleSettings.comparativeMeasureSettings.stroke:this._scale.comparativeMeasureSettings.stroke,this.model.captionSettings.font.color=!this.model.captionSettings.font.color||this.model.captionSettings.font.color==n[u[r]].captionSettings.font.color?n[i].captionSettings.font.color:this.model.captionSettings.font.color,this.model.captionSettings.subTitle.font.color=!this.model.captionSettings.subTitle.font.color||this.model.captionSettings.subTitle.font.color==n[u[r]].captionSettings.subTitle.font.color?n[i].captionSettings.subTitle.font.color:this.model.captionSettings.subTitle.font.color,this.model.captionSettings.indicator.font.color=!this.model.captionSettings.indicator.font.color||this.model.captionSettings.indicator.font.color==n[u[r]].captionSettings.indicator.font.color?n[i].captionSettings.indicator.font.color:this.model.captionSettings.indicator.font.color,this.model.captionSettings.indicator.symbol.color=!this.model.captionSettings.indicator.symbol.color||this.model.captionSettings.indicator.symbol.color==n[u[r]].captionSettings.indicator.symbol.color?n[i].captionSettings.indicator.symbol.color:this.model.captionSettings.indicator.symbol.color,f=0;f<this.model.qualitativeRanges.length;f++)this.model.qualitativeRanges[f].rangeStroke=this.model.qualitativeRanges[f].rangeStroke?this.model.qualitativeRanges[f].rangeStroke:t.isNullOrUndefined(n[i].qualitativeRanges[f])?n[i].qualitativeRanges[0].rangeStroke:n[i].qualitativeRanges[f].rangeStroke},_onDrawQualitativeRanges:function(n,t,i){var r={object:this,scaleElement:this.model.quantitativeScaleSettings,rangeIndex:i,rangeElement:n,rangeEndValue:t};this._trigger("drawQualitativeRanges",r)},_doAnimation:function(){for(var r,i=n("."+this.svgObject.id+"_FeatureMeasure"),t=i.length-1;t>=0;t--)r=i[t],this._animateFeatureBar(r)},_doLineAnimation:function(){for(var r,i=n("."+this.svgObject.id+"_ComparativeMeasure"),u=2e3/i.length,t=i.length-1;t>=0;t--)r=i[t],n(r).attr("transform","scale(0)"),this._doLineSymbol(r,u,t)},_animateFeatureBar:function(i){var r=i.getBBox(),u,f,e;this._orientation==t.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Backward||this._orientation==t.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==t.datavisualization.BulletGraph.FlowDirection.Forward?(u=r.x+r.width,f=r.y+r.height):(u=r.x,f=r.y);n(i).animate({scale:1},{duration:1e3,step:function(t){e=t;n(i).attr("transform","translate("+u+" "+f+") scale("+t+",1) translate("+-u+" "+-f+")")}})},_doLineSymbol:function(t,i,r){var o=parseInt(r*i),u=t.getBBox(),f=u.x+u.width/2,e=u.y+u.height/2;n(t).delay(o).animate({scale:1},{duration:200,step:function(i){n(t).attr("transform","translate("+f+" "+e+") scale("+i+") translate("+-f+" "+-e+")")}})},bindEvents:function(){var u=t.EjSvgRender.utils.browserInfo(),i=u.isMSPointerEnabled,r=u.pointerEnabled,f=i?r?"pointerdown":"MSPointerDown":"touchstart mousedown",e=i?r?"pointerup":"MSPointerUp":"touchend mouseup",o=i?r?"pointermove":"MSPointerMove":"touchmove mousemove",s=i?r?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=u;this._on(n(this.svgObject),o,this._bulletMouseMove);this._on(n(this.svgObject),s,this._bulletMouseLeave);this._on(n(this.svgObject),f,this._bulletMouseDown);this._on(n(this.svgObject),e,this._bulletMouseUp);this._on(n(this.svgObject),"contextmenu",this._bulletRightClick);this._on(n(this.svgObject),"click",this._bulletClick);(this.model.enableResizing||this.model.isResponsive)&&(t.isTouchDevice()?this._on(n(window),"orientationchange",this._bulletResize):this._on(n(window),"resize",this._bulletResize))},_unwireEvents:function(){this._off(n(this.svgObject),"contextmenu",this._bulletRightClick);this._off(n(this.svgObject),"click",this._bulletClick)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bulletResize:function(){var i=this,f=this.model.height,r=this.model.width,e=n(i.svgObject),f=90,r=t.isTouchDevice()?250:595,u=n(i.element).width(),o;i.model.width?r=parseInt(i.model.width):u>0&&u<595?r=u:u>595&&(r=595);i.model.height&&(f=parseInt(i.model.height));o=n(i.element).height()>f?f:n(i.element).height();this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){r<n(i.element).width()?e.width(r):e.width(n(i.element).width());e.height(o);i.redraw()},500)},_bulletMouseLeave:function(t){this.isTouch(t)||(n("#tooltip").remove(),n(".tooltipDiv"+this._id).remove())},isTouch:function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},_bulletMouseMove:function(t){var i,r;i=n(t.target).attr("id");r=n(t.target).attr("class");this.isTouch(t)||(n("#tooltip").remove(),n(".tooltipDiv"+this._id).remove(),this._elementTooltip(t,r,i),this._displayTooltip(t,r,i))},_bulletMouseDown:function(i){if(this.isTouch(i)){n("#tooltip").remove();n(".tooltipDiv"+this._id).remove();var r=n(i.target).attr("id"),u=n(i.target).attr("class");this._elementTooltip(i,u,r);this._displayTooltip(i,u,r)}t.isTouchDevice()&&this.model.rightClick!=""&&(this._longPressTimer=new Date)},_bulletMouseUp:function(i){if(this.isTouch(i)){var r=this,u;window.clearTimeout(r.model.timer);n(".tooltipDiv"+this._id).length==1&&(u=n(".tooltipDiv"+this._id));u&&(r.model.trackerElement=u,r.model.timer=setTimeout(function(){r.model.trackerElement&&n(".tooltipDiv"+r._id).fadeOut(500,function(){n(".tooltipDiv"+r._id).remove();n("[id*="+r.svgObject.id+"_FeatureMeasure_]").attr("opacity","1")})},1200))}t.isTouchDevice()&&this.model.rightClick!=""&&new Date-this.model._longPressTimer>1500&&this._bulletRightClick(i)},_bulletClick:function(n){var t=new Date;this.model.click!=""&&this._trigger("click",{data:{event:n}});this._doubleTapTimer!=null&&t-this._doubleTapTimer<300&&this._bulletDoubleClick(n);this._doubleTapTimer=t},_bulletDoubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_bulletRightClick:function(n){this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}})},_elementTooltip:function(t,r){var o=this.model.captionSettings,u=n("<div><\/div>").attr({id:"tooltip","class":"tooltipDiv"+this._id}),s=this.mousePosition(t),c="",h,f,e;if(n(u).css({left:s.pageX+10,top:s.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"}),r==this.svgObject.id+"_Caption"?c=t.target.textContent==o.text?"":o.text:r==this.svgObject.id+"_SubTitle"?c=t.target.textContent==o.subTitle.text?"":o.subTitle.text:r==this.svgObject.id+"_Indicator"&&(c=t.target.textContent==o.indicator.text?"":o.indicator.text),c!="")n(u).html("&nbsp"+c+"&nbsp"),n(document.body).append(u);else if(this.model.tooltipSettings.enableCaptionTooltip&&(r==this.svgObject.id+"_Caption"||r==this.svgObject.id+"_SubTitle"||r==this.svgObject.id+"_Indicator")){var a=n("."+r).text(),v={Text:a},l=this.model.tooltipSettings.captionTemplate;n(".tooltipDiv"+this._id).length==0&&(u=n("<div><\/div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),n(document.body).append(u));l!=""&&l!=null?(h=document.getElementById(l),h=h?n(h).clone():n(l),n(h).css("display","block").appendTo(u),n(u).html(n(h).render(v))):n(u).html(a);n(u).css("font-size","12px");f=s.clientX+n(document).scrollLeft()+10;e=s.clientY+n(document).scrollTop()+10;f=f+n(u).width()<n(window).width()?f:f-n(u).width();e=e+n(u).height()<n(window).height()?e:e-n(u).height();(f===i||f===null)&&(f=s.clientX+n(document).scrollLeft()+10);(e===i||e===null)&&(e=s.clientY+n(document).scrollTop()+10);n(u).css({left:f,top:e,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"})}},mousePosition:function(n){return!t.util.isNullOrUndefined(n.pageX)&&n.pageX>0?n:n.originalEvent&&!t.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0?n.originalEvent:n.originalEvent&&n.originalEvent.changedTouches!=i&&!t.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0?n.originalEvent.changedTouches[0]:n},_displayTooltip:function(r,u,f){var w,b,s,h;if(u!="undefined"&&(u==this.svgObject.id+"_FeatureMeasure"||u==this.svgObject.id+"_ComparativeMeasure")){var a=this.model.locale,k=a&&this.model.enableGroupSeparator,c,e,y,p,l,o,d=typeof this.model.value=="function"?this._value():this.model.value,g=typeof this.model.comparativeMeasureValue=="function"?this._comparativeMeasureValue():this.model.comparativeMeasureValue,v=this.mousePosition(r);e=f.substring(f.lastIndexOf("_")+1);y=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[e][this.model.fields.featureMeasures]:t.isNullOrUndefined(this._scale.featureMeasures[e].value)?d:this._scale.featureMeasures[e].value;p=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource[e][this.model.fields.comparativeMeasure]:t.isNullOrUndefined(this._scale.featureMeasures[e].comparativeMeasureValue)?g:this._scale.featureMeasures[e].comparativeMeasureValue;l=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?t.isNullOrUndefined(this.model.fields.dataSource[e][this.model.fields.category])?null:this.model.fields.dataSource[e][this.model.fields.category]:t.isNullOrUndefined(this._scale.featureMeasures[e].category)?null:this._scale.featureMeasures[e].category;c=k?{currentValue:y.toLocaleString(a),targetValue:p.toLocaleString(a),category:t.util.isNullOrUndefined(l)?l:l.toLocaleString(a)}:{currentValue:y,targetValue:p,category:l};n(".tooltipDiv"+this._id).length==0&&(o=n("<div><\/div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),n(document.body).append(o));this.model.tooltipSettings.template!=""&&this.model.tooltipSettings.template!=null?(w=n("#"+this.model.tooltipSettings.template).clone(),n(w).css("display","block").appendTo(o),n(o).html(n(w).render(c))):(b=t.isNullOrUndefined(c.category)?"":"<br/> Category : "+c.category,n(o).html("Current : "+c.currentValue+"<br/> Target : "+c.targetValue+b));n(o).css("font-size","12px");s=v.clientX+n(document).scrollLeft()+10;h=v.clientY+n(document).scrollTop()+10;s=s+n(o).width()<n(window).width()?s:s-n(o).width();h=h+n(o).height()<n(window).height()?h:h-n(o).height();(s===i||s===null)&&(s=v.clientX+n(document).scrollLeft()+10);(h===i||h===null)&&(h=v.clientY+n(document).scrollTop()+10);n(o).css({left:s,top:h,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",color:"black",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"});u==this.svgObject.id+"_FeatureMeasure"&&n("#"+f).attr("opacity","0.7")}},redraw:function(){n(this.svgObject).empty();this._renderBulletElements()},destroy:function(){this._unwireEvents();n(this.element).removeClass("e-bulletgraph e-js").find("#"+this.svgObject.id).remove()},setFeatureMeasureBarValue:function(n,i){this._scale=this.model.quantitativeScaleSettings;var r=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource.length:this._scale.featureMeasures.length;n<r&&i!=null&&(t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this._scale.featureMeasures[n].value=i:this.model.fields.dataSource[n][this.model.fields.featureMeasures]=i,this.redraw(),this.model.enableAnimation&&this._doAnimation())},setComparativeMeasureSymbol:function(n,i){this._scale=this.model.quantitativeScaleSettings;var r=!t.isNullOrUndefined(this.model.fields)&&this.model.fields.dataSource!=null?this.model.fields.dataSource.length:this._scale.featureMeasures.length;n<r&&i!=null&&(t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?this._scale.featureMeasures[n].comparativeMeasureValue=i:this.model.fields.dataSource[n][this.model.fields.comparativeMeasure]=i,this.redraw(),this.model.enableAnimation&&this._doLineAnimation())}});t.datavisualization.BulletGraph.Orientation={Horizontal:"horizontal",Vertical:"vertical"};t.datavisualization.BulletGraph.TickPlacement={Inside:"inside",Outside:"outside"};t.datavisualization.BulletGraph.LabelPlacement={Inside:"inside",Outside:"outside"};t.datavisualization.BulletGraph.Shape={Circle:"circle",Cross:"cross",Diamond:"diamond",DownArrow:"downarrow",Ellipse:"ellipse",HorizontalLine:"horizontalLine",Image:"image",InvertedTriangle:"invertedtriangle",LeftArrow:"leftarrow",Pentagon:"pentagon",Rectangle:"Rectangle",RightArrow:"rightarrow",Star:"star",Trapezoid:"trapezoid",Triangle:"triangle",UpArrow:"uparrow",VerticalLine:"verticalline",Wedge:"wedge"};t.datavisualization.BulletGraph.TickPosition={Far:"far",Near:"near",Center:"center"};t.datavisualization.BulletGraph.LabelPosition={Below:"below",Above:"above"};t.datavisualization.BulletGraph.FlowDirection={Forward:"forward",Backward:"backward"};t.datavisualization.BulletGraph.FontStyle={Normal:"Normal",Italic:"Italic",Oblique:"Oblique"};t.datavisualization.BulletGraph.FontWeight={Normal:"Normal",Bold:"Bold",Bolder:"Bolder",Lighter:"Lighter"};t.datavisualization.BulletGraph.Themes={flatlight:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#191919"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#191919"},featuredMeasureSettings:{stroke:"#191919"},comparativeMeasureSettings:{stroke:"#191919"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#191919"},subTitle:{font:{color:"#191919"}},indicator:{font:{color:"#191919"},symbol:{color:"#191919"}}}},material:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#333333"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#333333"},featuredMeasureSettings:{stroke:"#333333"},comparativeMeasureSettings:{stroke:"#333333"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}},indicator:{font:{color:"#333333"},symbol:{color:"#333333"}}}},flatdark:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#ffffff"},minorTickSettings:{stroke:"#ffffff"},labelSettings:{stroke:"#ffffff"},featuredMeasureSettings:{stroke:"#ffffff"},comparativeMeasureSettings:{stroke:"#ffffff"}},qualitativeRanges:[{rangeStroke:"#b3b3b3"},{rangeStroke:"#999999"},{rangeStroke:"#4d4d4d"}],captionSettings:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}},indicator:{font:{color:"#ffffff"},symbol:{color:"#ffffff"}}}}}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejRangeNavigator","ej.datavisualization.RangeNavigator",{ejChart:"",validTags:["div"],defaults:{theme:"",padding:"0",enableAutoResizing:!1,isResponsive:!1,allowSnapping:!1,allowNextValue:!0,sizeSettings:{width:"",height:""},_size:{},locale:"en-US",valueType:"datetime",valueAxisSettings:{rangePadding:"none",range:{min:null,max:null,interval:null},axisLine:{visible:!1},font:{size:"0px"},majorTickLines:{width:0,size:0,visible:!0},majorGridLines:{visible:!1},visible:!1},rangePadding:"none",enableRTL:!1,enableScrollbar:!1,dataSource:"",xName:"x",yName:"y",tooltipSettings:{visible:!0,labelFormat:"MM/dd/yyyy",tooltipDisplayMode:"always",backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",fontStyle:"Normal",size:"10px",opacity:1,weight:"regular"}},zoomPosition:"0",zoomFactor:"1",selectedRangeSettings:{start:"",end:""},selectedData:"",rangeSettings:{start:"",end:""},border:{width:1,color:null,opacity:1},scrollRangeSettings:{start:"",end:""},enableDeferredUpdate:!0,series:"",seriesSettings:"",labelSettings:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"},horizontalAlignment:"middle"},higherLevel:{intervalType:null,style:{font:{color:"black",fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"},horizontalAlignment:"middle"},gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"20 5 0"},border:{color:"transparent",width:.5},fill:"transparent",position:"top",visible:!0,labelPlacement:"outside",labelIntersectAction:"none"},lowerLevel:{intervalType:null,style:{font:{color:"black",fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"},horizontalAlignment:"middle"},gridLineStyle:{color:"#B5B5B5",width:1,dashArray:""},border:{color:"transparent",width:.5},fill:"transparent",position:"bottom",visible:!0,labelPlacement:"outside",labelIntersectAction:"none"}},navigatorStyleSettings:{selectedRegionColor:"#EFEFEF",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,leftThumbTemplate:null,rightThumbTemplate:null,thumbStroke:"#303030",background:"#dddddd",border:{color:"transparent",width:.5,dashArray:""},opacity:1,selectedRegionOpacity:0,unselectedRegionOpacity:.3,highlightSettings:{enable:!1,opacity:.5,color:"#006fa0",border:{color:"",width:1}},selectionSettings:{enable:!1,opacity:.5,color:"#0e4a7c",border:{color:"",width:1}},majorGridLineStyle:{color:"#B5B5B5",visible:!0},minorGridLineStyle:{color:"#B5B5B5",visible:!0}},loaded:"",load:"",click:"",doubleClick:"",rightClick:"",rangeChanged:"",scrollEnd:"",scrollStart:"",scrollChanged:"",selectedRangeStart:"",selectedRangeEnd:""},dataTypes:{enableAutoResizing:"boolean",isResponsive:"boolean",allowSnapping:"boolean",allowNextValue:"boolean",dataSource:"data",tooltipSettings:{visible:"boolean",labelFormat:"string",tooltipDisplayMode:"string"},zoomPosition:"string",zoomFactor:"string",selectedData:"string",enableDeferredUpdate:"boolean",series:"array",labelSettings:{higherLevel:{intervalType:"string",position:"string",visible:"boolean",labelPlacement:"string",labelIntersectAction:"string"},lowerLevel:{intervalType:"string",position:"string",visible:"boolean",labelPlacement:"string",labelIntersectAction:"string"}},navigatorStyleSettings:{thumbRadius:"number"}},observables:["selectedRangeStart","selectedRangeEnd"],_tags:[{tag:"series",attr:["xName","yName","dataSource","enableAnimation",[{tag:"points",attr:["x","y","text","isEmpty","fill","visible"]}]],singular:"series"}],_selectedRangeStart:t.util.valueFunction("selectedRangeStart"),_selectedRangeEnd:t.util.valueFunction("selectedRangeEnd"),_series:function(){this.renderNavigator();this._trigger("refresh")},_series_points:function(){this.renderNavigator();this._trigger("refresh")},_themes:{flatlight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},azurelight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},limelight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#A9CA44 ",thumbColor:"#AECF49",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},saffronlight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#e5e5e5",unselectedRegionColor:"#FAA113",thumbColor:"#F9920B",thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientlight:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientazure:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientlime:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},gradientsaffron:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#bbbbbb",colorStop:"0%"},{color:"#efefef",colorStop:"15%"},{color:"#bbbbbb",colorStop:"85%"},{color:"#efefef",colorStop:"100%"}],unselectedRegionColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#303030",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},flatdark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},material:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1}},lowerLevel:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#f5f5f5",unselectedRegionColor:"#8d8afd",thumbColor:"#8d8afd",thumbRadius:10,thumbStroke:"#000000",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.3,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},office:{tooltipSettings:{backgroundColor:"#303030",font:{color:"#FFFFFF",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#B5B5B5",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#333333",family:"Segoe UI",style:"Normal",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#eaeaea",unselectedRegionColor:"#0078d7",thumbColor:"#0078d7",thumbRadius:10,thumbStroke:"#000000",background:"#EFEFEF",border:{color:"#606262",width:0},opacity:1,unselectedRegionOpacity:.6,selectedRegionOpacity:0,majorGridLineStyle:{color:"#8c8c8c",visible:!0},minorGridLineStyle:{color:"#8c8c8c",visible:!0}}},highcontrast01:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#008000",thumbColor:"#008000",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.6,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},highcontrast02:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#0000ff",thumbColor:"#0000ff",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.6,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},azuredark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#5EABDE",thumbColor:"#2382C3",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},limedark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#A9CA44",thumbColor:"#AECF49",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},saffrondark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:"#353635",unselectedRegionColor:"#FAA113",thumbColor:"#F9920B",thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientdark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientazuredark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbColor:[{color:"#67C1DC",colorStop:"50%"},{color:"#3D93AA",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientlimedark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",fontStyle:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbColor:[{color:"#A5C14A",colorStop:"50%"},{color:"#738B1F",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}},gradientsaffrondark:{tooltipSettings:{backgroundColor:"#FFFFFF",font:{color:"#1E1E1E",family:"Segoe UI",style:"Normal",size:"10px",opacity:1,weight:"regular"}},labelSettings:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},higherLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"},horizontalAlignment:"left"},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"#FFFFFF",width:1,dashArray:"15 5 0"}},lowerLevel:{style:{font:{color:"#FFFFFF",family:"Segoe UI",style:"Regular",size:"13px",opacity:1,weight:"regular"}},border:{color:"transparent",width:0},fill:"transparent",gridLineStyle:{color:"transparent",width:0}}},navigatorStyleSettings:{selectedRegionColor:[{color:"#0a0a0a",colorStop:"0%"},{color:"#282828",colorStop:"15%"},{color:"#282828",colorStop:"85%"},{color:"#0a0a0a",colorStop:"100%"}],unselectedRegionColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbColor:[{color:"#FEB75B",colorStop:"50%"},{color:"#ED7E16",colorStop:"100%"}],thumbRadius:10,thumbStroke:"#FFFFFF",background:"#FFFFFF",opacity:.08,unselectedRegionOpacity:.3,selectedRegionOpacity:0,border:{color:"#FFFFFF",width:0},majorGridLineStyle:{color:"#FFFFFF",visible:!0},minorGridLineStyle:{color:"#FFFFFF",visible:!0}}}},_setModel:function(t){for(var i in t)switch(i){case"theme":this.model._themeChanged=!0;this.model.theme=t[i];this._setTheme(this._themes,this.model.theme);break;case"selectedRangeStart":this.model.selectedRangeSettings.start=this._selectedRangeStart();break;case"selectedRangeEnd":this.model.selectedRangeSettings.end=this._selectedRangeEnd();break;default:n.extend(!0,this.model,{},t[i])}this.bindTo();this.renderNavigator(this);this._bindevents()},_destroy:function(){this._unbindEvents();this.element.empty().removeClass(this.model.cssClass)},_createSvg:function(){this.svgSupport=window.SVGSVGElement?!0:!1;this.vmlRendering=!this.svgSupport;var n=jQuery.uaMatch(navigator.userAgent);this.brow=n.browser.toLowerCase();this.svgSupport?(this.renderer=new t.EjSvgRender(this.element),this.svgns=this.renderer.svgLink,this.svgDocument=this.renderer.svgObj):(this.renderer=new t.EjVmlRender(this.element),this.svgDocument=this.renderer.svgObj)},_setSVGSize:function(){var o=this.model.valueType,t,f=this.model,u=f.sizeSettings,r=parseFloat(f.labelSettings.higherLevel.style.font.size),e;o=="datetime"?(this.minHighHeight=r<20?20:r+2,r=parseFloat(this.model.labelSettings.lowerLevel.style.font.size)):this.minHighHeight=0;this.minLowHeight=r<20?20:r+2;this.scrollbarLoaded=this.model.scrollObj&&this.model.scrollObj[0].scrollbarLoaded?!0:!1;e=this.model.enableScrollbar&&this.scrollbarLoaded&&this.svgSupport?18:0;t=n(this.element).height()?n(this.element).height()>this.newHeight?n(this.element).height()-e:n(this.element).height():this.newHeight==i?o=="datetime"?120:100:this.newHeight;this.minCenterHeight=parseFloat(t)-parseFloat(this.minLowHeight)-parseFloat(this.minHighHeight);t=t<=0?120:t;this.minHeight=t;this.padding=parseFloat(f.padding);this.newWidth=u.width?u.width:n(this.element).width();this.newHeight=u.height?u.height:(n(this.element).height()&&this.newHeight==i)>this.minHeight?n(this.element).height()-e:this.minHeight;this.scrollWidth=this.newWidth-this.padding*2},_setTheme:function(i,r){var u=r.toLowerCase();u.indexOf("high")>=0&&u.indexOf("01")>=0?i[u]=n.extend(!0,{},i.highcontrast01,i[u]):u.indexOf("high")>=0&&u.indexOf("02")>=0?i[u]=n.extend(!0,{},i.highcontrast02,i[u]):u.indexOf("material")>=0?i[u]=n.extend(!0,{},i.material,i[u]):u.indexOf("office")>=0&&(i[u]=n.extend(!0,{},i.office,i[u]));this.model=t.copyObject({},this.model,i[u])},_setPositions:function(){var i=this.model.labelSettings.higherLevel,r=this.model.labelSettings.lowerLevel,n=i.position,t=r.position,u=i.visible,f=r.visible,e=i.labelPlacement,o=r.labelPlacement,s;n==="top"&&t==="bottom"?(this.centerPosition=this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minHighHeight+this.centerHeight+1):n==="bottom"&&t==="bottom"?(this.centerPosition=0,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minLowHeight+this.centerHeight+1):n==="bottom"&&t==="top"?(this.centerPosition=this.minLowHeight+1,s=0,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.minLowHeight+this.centerHeight+1):n==="top"&&t==="top"&&(this.centerPosition=this.minLowHeight+this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight-this.minLowHeight,this.bottomPosition=this.newHeight);u===!1&&f===!1?(this.centerPosition=0,this.centerHeight=this.newHeight,this.bottomPostion=this.newHeight):u===!1?(this.centerPosition=0,this.centerHeight=this.newHeight-this.minLowHeight,this.bottomPosition=this.newHeight):f===!1&&(this.centerPosition=this.minHighHeight+1,this.centerHeight=this.newHeight-this.minHighHeight,this.bottomPosition=this.minHighHeight+this.centerHeight+1);e==="outside"&&o==="outside"?(this.sliderPosition=this.centerPosition,this.sliderHeight=this.centerHeight):e==="outside"?(this.sliderPosition=this.centerPosition,this.sliderHeight=this.newHeight):o==="outside"?(this.sliderPosition=0,this.sliderHeight=this.centerHeight+this.minHighHeight):(this.sliderPosition=0,this.sliderHeight=this.newHeight)},redraw:function(){var r=this.model.scrollRangeSettings,u=this.model.rangeSettings,i,f=r.start,e=r.end,o,s;this.loadScrollbar=!1;this.model.enableScrollbar&&(this.scrollUpdate=!0,i=this._scrollRange,this.model.valueType.toLowerCase()=="datetime"&&(f=Date.parse(r.start),e=Date.parse(r.end),o=Date.parse(u.start),s=Date.parse(u.end)),(!i||o<i.min||i.max<s||i.min!=f||i.max!=e||t.isNullOrUndefined(this.scrollsvgObj))&&(this.loadScrollbar=!0,this.scrollbarLoaded=!1,n(this.scrollsvgObj).remove()));this.renderNavigator(this)},renderNavigator:function(r){var l,k,b,u,g,nt,tt,it,pt,rt,ut,s,v,ft,et,ot,st,ht,c,ct,lt,at,y,f,e,o,p,h,w;n(this.svgDocument).empty();l=this.model.locale;this.culture=t.preferredCulture(l);this._localizedLabels=this._getLocalizedLabels();this._initializeVariables.call(this,this.model,this.model.series,this.model.seriesSettings);this._rootId=n(this.element).attr("id");this.leftPadding=parseFloat(n("#"+this._rootId).css("padding-left"));this._setSVGSize.call(this);k=this.model.valueType;this._higherTextNode=[];this._higherTotalValues=[];this._higherLineLeft=[];this._higherTextLeft=[];this._lowerTextNode=[];this._lowerTotalValues=[];this._lowerLineLeft=[];this._lowerTextLeft=[];this.labelRegions=[];var d=this.model.labelSettings,wt=d.higherLevel,bt=d.lowerLevel,kt=this.model.valueType;this.centerPosition=0;this.bottomPosition=0;this.centerHeight=0;this.sliderPosition=0;this.sliderHeight=0;this._setPositions();this.svgDocument.setAttribute("style","overflow:visible;position:relative;display:block");this.svgSupport?(this.svgDocument.setAttribute("height",this.newHeight),this.svgDocument.setAttribute("width",this.newWidth)):(n(this.svgDocument).width(this.newWidth),n(this.svgDocument).height(this.newHeight));this.model._size.width=this.newWidth;this.model._size.height=this.newHeight;b=n.extend({},t.EjSvgRender.commonChartEventArgs);b.data={model:this.model};this._trigger("loaded",b);this.model.theme!=""&&this._setTheme(this._themes,this.model.theme);u=this.model.navigatorStyleSettings;g=u.unselectedRegionColor;this.unselectgrad=this.renderer.createGradientElement("unselected",g,150,0,150,100,this.svgDocument);nt=u.background;this.naviback=this.renderer.createGradientElement("naviback",nt,150,0,150,100,this.svgDocument);tt=u.selectedRegionColor;this.selectedgrad=this.renderer.createGradientElement("selected",tt,150,0,150,100,this.svgDocument);it=u.thumbColor;this.tbClr=this.renderer.createGradientElement("thumbClr",it,150,0,150,100,this.svgDocument);var a=this.model.border,vt=a.color?a.color:this.model.enableScrollbar?"#B4B4B4":"transparent",yt={id:this._rootId+"_Layout",x:this.padding,width:this.newWidth>0?this.newWidth-this.padding*2:0,height:this.newHeight,fill:"transparent","stroke-width":a.width,stroke:vt,opacity:a.opacity};this.renderer.drawRect(yt,this.svgDocument);pt=k=="numeric"?this.newHeight-u.border.width-this.minLowHeight:this.newHeight-u.border.width-this.minLowHeight-this.minHighHeight;rt={id:this._rootId+"_Border",x:this.padding,y:this.sliderPosition,width:this.newWidth>0?this.newWidth-this.padding*2:0,height:this.sliderHeight,fill:this.naviback,"stroke-width":u.border.width,stroke:u.border.color,opacity:u.opacity,"stroke-dasharray":u.border.dashArray};this.renderer.drawRect(rt,this.svgDocument);n("#"+this._rootId+"higherLevel").length==0&&(this.higherLevel=this.renderer.createGroup({id:this._rootId+"higherLevel"}));n("#"+this._rootId+"lowerLevel").length==0&&(this.lowerLevel=this.renderer.createGroup({id:this._rootId+"lowerLevel"}));this.centerLevel=this.renderer.createGroup({id:this._rootId+"centerLelvel"});this.higherLevel.height=this.minHighHeight;this.lowerLevel.height=this.minLowHeight;this.model.tooltipSettings.visible&&this.svgSupport&&(this.leftTooltip=this.renderer.createGroup({id:this._rootId+"leftTooltip"}),this.rightTooltip=this.renderer.createGroup({id:this._rootId+"rightTooltip"}),ut={fill:this.model.tooltipSettings.backgroundColor,d:"M 0 0 L 0 21 L 64 21 L 64 6 L 70 0 Z"},this.renderer.drawPath(ut,this.leftTooltip),s=this.model.tooltipSettings.font,v={id:this._rootId+"_LeftToolText",x:5,fill:s.color,"font-size":s.size,"font-family":s.family,"font-style":s.style,"font-weight":s.weight,"text-anchor":"start",opacity:s.opacity,"dominant-baseline":"middle"},this.renderer.drawText(v,t.format(new Date(1/2e3),"MMMM, yyyy",l),this.leftTooltip),this.leftTxt=this.leftTooltip.childNodes[1],ft={fill:this.model.tooltipSettings.backgroundColor,d:"M 0 0 L 70 0 L 70 21 L 6 21 L 6 6 Z","horizontal-alignment":"stretch"},this.renderer.drawPath(ft,this.rightTooltip),v.id=this._rootId+"_RightToolText",this.renderer.drawText(v,t.format(new Date(1/2e3),"MMMM, yyyy",l),this.rightTooltip),this.rightTxt=this.rightTooltip.childNodes[1]);this.chartGView=this.renderer.createGroup({id:this._rootId+"charView"});this.renderer.append(this.chartGView,this.svgDocument);(this.model.navigatorStyleSettings.highlightSettings.enable||this.model.navigatorStyleSettings.selectionSettings.enable)&&(this.styleRect=this.renderer.createGroup({id:this._rootId+"highlightRect"}),this.renderer.append(this.styleRect,this.svgDocument));this.model.valueType=="datetime"&&this.renderer.append(this.higherLevel,this.svgDocument);this.renderer.append(this.lowerLevel,this.svgDocument);this.renderer.append(this.centerLevel,this.svgDocument);this.leftUnSelected=this.renderer.createGroup({id:"unselectleft"});this.gLeftSlider=this.renderer.createGroup({id:"leftslider"});this.gRightSlider=this.renderer.createGroup({id:"rightslider"});this.gCenterSlider=this.renderer.createGroup({id:"centerslider"});this.rightUnSelected=this.renderer.createGroup({id:"unselectright"});et={width:this.newWidth>0?this.newWidth-this.padding*2:0,height:this.sliderHeight,fill:this.unselectgrad,opacity:u.unselectedRegionOpacity,transform:"translate("+this.padding+","+this.sliderPosition+")"};this.renderer.drawRect(et,this.leftUnSelected);this.leftUnArea=this.leftUnSelected.firstChild;this.renderer.append(this.leftUnSelected,this.svgDocument);ot={width:this.newWidth>0?this.newWidth-4-this.padding*2:0,height:this.sliderHeight,fill:this.selectedgrad,opacity:u.selectedRegionOpacity,transform:"translate("+this.padding+","+this.sliderPosition+")"};this.renderer.drawRect(ot,this.gCenterSlider);this.centerSlider=this.gCenterSlider.firstChild;n(this.centerSlider).css("cursor","pointer");this.renderer.append(this.gCenterSlider,this.svgDocument);st={width:"2",height:this.sliderHeight,fill:u.thumbStroke,opacity:"1",y:this.sliderPosition,transform:"translate("+this.padding+")"};ht={id:"leftCircle"+this._id,cx:this.padding,cy:this.sliderPosition+this.sliderHeight/2,r:u.thumbRadius,"stroke-width":2,stroke:u.thumbStroke,fill:this.tbClr};this.renderer.drawRect(st,this.gLeftSlider);this.model.navigatorStyleSettings.leftThumbTemplate==null?(this.renderer.drawCircle(ht,this.gLeftSlider),this.leftCircle=this.gLeftSlider.lastChild,n(this.leftCircle).css("cursor","pointer")):(y=document.getElementById(this.model.navigatorStyleSettings.leftThumbTemplate)?!0:!1,n("#"+this._id+"thumbleft").length>0&&n("#"+this._id+"thumbleft").remove(),f=this._id,n("#"+f).css("transform")=="none"&&n("#"+f).css("transform","translate(0, 0)"),n("#"+f+"template_group_").length!=0?e=n("#"+f+"template_group_"):(e=n("<div><\/div>").attr("id",f+"template_group_"),n(e).css("position","relative")),o=n("<div><\/div>").attr("id",this._id+"thumbleft"),p=y==!0?n("#"+this.model.navigatorStyleSettings.leftThumbTemplate)[0].innerHTML:this.model.navigatorStyleSettings.leftThumbTemplate,h=n(p),n(o).css("position","absolute"),h.appendTo(n(o)),n(o).appendTo(e),this.svgSupport?n(e).appendTo("#"+f):n(e).appendTo(this.svgDocument),w=this.sliderPosition+this.sliderHeight/2-h.height()/2,n(o).css("top",w).css("cursor","pointer").css("z-index","1"));this.leftSlider=this.gLeftSlider.firstChild;n(this.leftSlider).css("cursor","w-resize");this.renderer.append(this.gLeftSlider,this.svgDocument);c=parseFloat(this.newWidth-this.padding*2);c=c<0?0:c;ct={width:c,height:this.sliderHeight,fill:this.unselectgrad,opacity:u.unselectedRegionOpacity,transform:"translate("+this.padding+","+this.sliderPosition+")"};this.renderer.drawRect(ct,this.rightUnSelected);this.rightUnArea=this.rightUnSelected.firstChild;this.renderer.append(this.rightUnSelected,this.svgDocument);lt={width:"2",height:this.sliderHeight,fill:this.model.navigatorStyleSettings.thumbStroke,opacity:"1",transform:"translate("+parseFloat(this.newWidth-4-this.padding)+", "+this.sliderPosition+" )"};at={id:"rightCircle"+this._id,cx:this.newWidth-4-this.padding,cy:this.sliderPosition+this.sliderHeight/2,r:this.model.navigatorStyleSettings.thumbRadius,"stroke-width":2,stroke:this.model.navigatorStyleSettings.thumbStroke,fill:this.tbClr};this.renderer.drawRect(lt,this.gRightSlider);this.model.navigatorStyleSettings.rightThumbTemplate==null?(this.renderer.drawCircle(at,this.gRightSlider),this.rightCircle=this.gRightSlider.lastChild,n(this.rightCircle).css("cursor","pointer")):(y=document.getElementById(this.model.navigatorStyleSettings.rightThumbTemplate)?!0:!1,n("#"+this._id+"thumbright").length>0&&n("#"+this._id+"thumbright").remove(),f=this._id,n("#"+f+"template_group_").length!=0?e=n("#"+f+"template_group_"):(e=n("<div><\/div>").attr("id",f+"template_group_"),n(e).css("position","absolute")),o=n("<div><\/div>").attr("id",this._id+"thumbright"),p=y==!0?n("#"+this.model.navigatorStyleSettings.rightThumbTemplate)[0].innerHTML:this.model.navigatorStyleSettings.rightThumbTemplate,h=n(p),n(o).css("position","absolute"),h.appendTo(n(o)),n(o).appendTo(e),this.svgSupport?n(e).appendTo("#"+f):n(e).appendTo(this.svgDocument),w=this.sliderPosition+this.sliderHeight/2-h.height()/2,n(o).css("top",w).css("cursor","pointer").css("z-index","1"));this.rightSlider=this.gRightSlider.firstChild;n(this.rightSlider).css("cursor","w-resize");this.renderer.append(this.gRightSlider,this.svgDocument);this.model.tooltipSettings.visible&&this.svgSupport&&(this.renderer.append(this.leftTooltip,this.svgDocument),this.renderer.append(this.rightTooltip,this.svgDocument));this.element.append(this.svgDocument);this.svgSupport&&(this.trueCoords=this.svgDocument.createSVGPoint(),this.grabPoint=this.svgDocument.createSVGPoint());this.backDrop=this.element;this.dragTarget=null;this.sliderHeight>0&&this._renderChart.call(this,this.model);r!=i&&r.target!=i&&(this.resize=!0);this.startDateTime!=i&&this.endDateTime!=i||this.startValue!=i&&this.endValue!=i?(this.calculateInterval.call(this,this.model.labelSettings.higherLevel,this.model.labelSettings.lowerLevel),this.setSliders()):(this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+this.padding+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.leftTooltip.setAttribute("opacity",0),this.rightTooltip.setAttribute("opacity",0));this.model.tooltipSettings.visible&&this.svgSupport&&this.model.tooltipSettings.tooltipDisplayMode.toLowerCase()=="ondemand"&&(this.rightTooltip.setAttribute("opacity",0),this.leftTooltip.setAttribute("opacity",0));this._scrollChanged=this._scrollChanged?!1:this._scrollChanged;this.model.enableScrollbar?(this.loadScrollbar&&!this.scrollbarUpdate||this.model.scrollObj&&this.model.scrollObj[0].width!=this.scrollWidth?(this.model.scrollObj[0].width=this.scrollWidth,this.scrollbarContainer=new t.EjSvgScrollbarRender(this.element,this.model.scrollObj[0]),this.scrollbarContainer._initializeScrollbarVariables.call(this,this.model.scrollObj[0]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[0])):this.renderer.append(this.scrollsvgObj,this.element),this._bindevents()):(n(this.scrollsvgObj).remove(),this.scrollsvgObj=null,this.scrollZoomPos=null,this.scrollZoomFact=null)},eachInterval:"",_renderChart:function(t){var e=t.valueType.toLowerCase(),u,f=t.rangeSettings,r,o;(t.enableScrollbar||f.start!=""&&f.end!="")&&(u=e=="datetime"?{min:this.startDateTime,max:this.endDateTime}:{min:this.startValue,max:this.endValue});t.dataSource!=""&&t.series==""&&t.seriesSettings==""?n(this.chartGView).ejChart({locale:this.model.locale,border:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},elementSpacing:0,chartArea:{background:"transparent",border:{width:0}},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},range:u,majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:this.model.rangePadding,visible:!1,isInversed:this.model.enableRTL},primaryYAxis:this.model.valueAxisSettings,series:[{dataSource:t.dataSource,xName:t.xName,yName:t.yName,type:"line",width:1.5,enableAnimation:!1},],size:{height:parseFloat(this.sliderHeight).toString(),width:parseFloat(this.newWidth-2*this.padding).toString(),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}}):t.dataSource!=""&&t.series!=""&&t.series[0].dataSource==i||t.seriesSettings!=""&&t.seriesSettings.dataSource==i&&t.dataSource!=""?(t.seriesSettings.dataSource=t.dataSource,t.seriesSettings.xName=t.seriesSettings.xName?t.seriesSettings.xName:t.xName,t.seriesSettings.yName=t.seriesSettings.yName?t.seriesSettings.yName:t.yName,r=t.series,r==""&&(r=[{dataSource:t.dataSource,xName:t.seriesSettings.xName,yName:t.seriesSettings.yName,type:"line",width:1.5,enableAnimation:!1}]),n(this.chartGView).ejChart({locale:this.model.locale,border:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},elementSpacing:0,chartArea:{background:"transparent",border:{width:0}},primaryXAxis:{axisLine:{visible:!1},font:{size:"0px"},range:u,majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:this.model.rangePadding,visible:!1,isInversed:this.model.enableRTL},primaryYAxis:this.model.valueAxisSettings,series:r,commonSeriesOptions:t.seriesSettings,size:{height:parseFloat(this.sliderHeight).toString(),width:parseFloat(this.newWidth-2*this.padding).toString(),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}})):(t.series!=""&&t.series[0].dataSource!=i||t.seriesSettings!=""&&t.seriesSettings.dataSource!=i)&&(t.seriesSettings==""&&(t.seriesSettings={type:"line"}),r=t.series,o=r.length,r==""&&(r=[{dataSource:t.seriesSettings.dataSource,xName:t.seriesSettings.xName,yName:t.seriesSettings.yName,type:"line",width:1.5,enableAnimation:!1}]),n(this.chartGView).ejChart({locale:this.model.locale,border:{width:0,color:"transparent"},margin:{left:0,right:0,top:0,bottom:0},elementSpacing:0,chartArea:{background:"transparent",border:{width:0}},primaryXAxis:{axisLine:{visible:!1},range:u,font:{size:"0px"},majorTickLines:{lineWidth:0,size:0,visible:!0},majorGridLines:{visible:!1},rangePadding:this.model.rangePadding,visible:!1,isInversed:this.model.enableRTL},primaryYAxis:this.model.valueAxisSettings,series:r,commonSeriesOptions:t.seriesSettings,size:{height:parseFloat(this.sliderHeight).toString(),width:parseFloat(this.newWidth-2*this.padding).toString(),padding:-10},legend:{visible:!1,itemSize:{height:0,width:0,borderColor:"transparent",borderWidth:0}}}));this.ejChart=n(this.chartGView).data("ejChart");this.renderer._setAttr(n(this.chartGView),{transform:"translate("+this.padding+","+this.sliderPosition+")"});n("#chartContainer_"+this.chartGView.id).remove()},_init:function(){var r,u,i;this._createSvg(this);r=n.extend({},t.EjSvgRender.commonChartEventArgs);r.data={model:this.model};this._trigger("load",r);u=this.model.scrollRangeSettings;this.renderNavigator(this);this.model.enableScrollbar&&(this.model.scrollObj=[],i=this.model.scrollObj,i[0]={orientation:"horizontal",index:0,width:this.scrollWidth,x:0,y:this.newHeight,isRTL:this.model.enableRTL,zoomPosition:this.scrollZoomPos,zoomFactor:this.scrollZoomFact,scrollRange:this._scrollRange,valueType:this.model.valueType,parent:this.element,enableResize:!0},i[0].valueType=="datetime"?(i[0].startDateTime=this.startDateTime,i[0].endDateTime=this.endDateTime):(i[0].startValue=this.startValue,i[0].endValue=this.endValue),this.scrollbarContainer=new t.EjSvgScrollbarRender(this.element,this.model.scrollObj[0]),this.scrollbarContainer._initializeScrollbarVariables.call(this,this.model.scrollObj[0]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[0]));this.model.enableAutoResizing||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents();this._bindevents()},bindResizeEvents:function(){if(this.model._rangeResizeEventRegistered)return 0;(!this.model.enableScrollbar||this.model.enableScrollbar&&this.svgSupport)&&this._on(n(window),"resize",this.rangeChange);this.model._rangeResizeEventRegistered=!0},removeResizeEvents:function(){this.model._rangeResizeEventRegistered&&(this._off(n(window),"resize",this.rangeChange),this.model._rangeResizeEventRegistered=!1)},rangeChange:function(){var n,i=this;this.rangeResize=!0;clearTimeout(n);t.isNullOrUndefined(window.orientation)?this.renderNavigator():n=setTimeout(function(){i.renderNavigator()},500);this.model.enableScrollbar&&(this.model.scrollObj[0].width=this.scrollWidth,this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[0]))},isDevice:function(){return/mobile|android|kindle/i.test(navigator.userAgent.toLowerCase())},isWindows:function(){if(!t.getBooleanVal(n("head"),"data-ej-android")&&!t.getBooleanVal(n("head"),"data-ej-ios")&&!t.getBooleanVal(n("head"),"data-ej-ios7")&&!t.getBooleanVal(n("head"),"data-ej-flat"))return this._windows()},_windows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())||t.getBooleanVal(n("head"),"data-ej-windows",!1)===!0},_unbindEvents:function(){this._off(n(this.element),"contextmenu",this._rightClick);this._off(n(this.element),"click",this._rangeClick)},_bindevents:function(){var h=jQuery.uaMatch(navigator.userAgent),u=t.EjSvgRender.utils.browserInfo(),i=u.isMSPointerEnabled,r=u.pointerEnabled,e=i?r?"pointerdown":"MSPointerDown":"touchstart mousedown",f=i?r?"pointerup":"MSPointerUp":"touchend mouseup",o=i?r?"pointermove":"MSPointerMove":"touchmove mousemove",s=i?r?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=u;this._on(this.element,o,this._drag);this._on(this.element,s,this._leave);this._on(n(document),f,this._drop);this._on(n(this.element),e,this._grab);this._on(n(this.element),"contextmenu",this._rightClick);this._on(n(this.element),"click",this._rangeClick);this._on(n("#"+this._id+"template_group_"),e,this._grab);this._on(n("#"+this._id+"template_group_"),o,this._drag);this._on(n("#"+this._id+"template_group_"),f,this._drop);this._on(n(window),f,this.mouseup);n(this.element).css("touch-action","none")},_initializeVariables:function(n,t,r){var a,v,f,u,o,s,p,h,c;this.ismouseup=!1;var e=this.model.rangeSettings,y=this.model.labelSettings.style,l=this.model.labelSettings.lowerLevel.style,w=this.model.labelSettings.higherLevel.style,b=this.model.scrollRangeSettings;if(w==""&&(this.model.labelSettings.higherLevel.style=y),l==""?this.model.labelSettings.lowerLevel.style=y:l!=i&&l.horizontalAlignment==i&&(this.model.labelSettings.lowerLevel.style.horizontalAlignment="middle"),this.model.valueType=="numeric"&&this.model.tooltipSettings.labelFormat=="MM/dd/yyyy"&&(this.model.tooltipSettings.labelFormat="d"),n.dataSource!=""&&n.xName!=""&&n.yName!="")if(f=t.length,f>0)for(u=0;u<f;u++)t[u].dataSource=n.dataSource,t[u].type=t[u].type?t[u].type:r.type?n.type:"line",t[u].xName=t[u].xName?t[u].xName:n.xName,t[u].yName=t[u].yName?t[u].yName:n.yName,this._processJsonData(t[u].dataSource,t[u]);else this._processJsonData(n.dataSource,this.model);else if(t!=""&&t!=i&&t[0].dataSource!=i&&t[0].xName!=i&&t[0].yName!=i)this._processJsonData(t[0].dataSource,t[0]);else if(r.dataSource!=i)if(f=t.length,f>0)for(u=0;u<f;u++)t[u].dataSource=r.dataSource,t[u].type=t[u].type?t[u].type:r.type?r.type:"line",t[u].xName=t[u].xName?t[u].xName:r.xName,t[u].yName=t[u].yName?t[u].yName:r.yName,this._processJsonData(t[u].dataSource,t[u]);else this._processJsonData(r.dataSource,r);else e.start!=""&&e.end!=""&&(o=a=e.start,s=v=e.end,this.model.enableScrollbar?(p=[o,s,new Date(o),new Date(s)],this.calculateZoomingRange.apply(this,p)):this.setRange.call(this,o,s,a,v));this.startDateTime!=i&&this.endDateTime!=i&&(this.model.valueType=="datetime"&&this.model.rangePadding=="round"&&(h=new Date(this.startValue),c=new Date(this.endValue),this.startDateTime=new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0),this.endDateTime=new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59)),this.startYear=this.startDateTime.getFullYear(),this.startMonth=this.startDateTime.getMonth(),this.endYear=this.endDateTime.getFullYear(),this.endMonth=this.endDateTime.getMonth())},setSliders:function(){var c=this.newWidth-this.padding*2,u=this.model.valueType,i=this.model.selectedRangeSettings.start,t=this.model.selectedRangeSettings.end,r=this.padding,e=this.startDateTime.getTime(),h=this.endDateTime.getTime(),f,o=this.startValue,s=this.endValue;this.eachInterval=u=="datetime"?c/parseFloat(h-e):c/parseFloat(s-o);f=this.eachInterval;this.model.enableScrollbar||(u=="datetime"?((i==""||new Date(i).getTime()<e)&&(i=this.startDateTime),(t==""||new Date(t).getTime()>h||new Date(t).getTime()<e)&&(t=this.endDateTime)):((i==""||i<o)&&(i=o),(t==""||t>s)&&(t=s)));this.model.enableRTL?u=="datetime"?(this.leftSliderPosition=(h-new Date(t).getTime())*f+r,this.rightSliderPosition=(h-new Date(i).getTime())*f+r,i=new Date(i),t=new Date(t)):(this.leftSliderPosition=(s-t)*f+r,this.rightSliderPosition=(s-i)*f+r):u=="datetime"?(this.leftSliderPosition=(new Date(i).getTime()-e)*f+r,this.rightSliderPosition=(new Date(t).getTime()-e)*f+r,i=new Date(i),t=new Date(t)):(this.leftSliderPosition=(i-o)*f+r,this.rightSliderPosition=(t-o)*f+r);this.setopacity=this.model.tooltipSettings.tooltipDisplayMode=="always"?1:0;this.model.enableScrollbar?this.leftSliderPosition>=r&&this.leftSliderPosition<this.newWidth-r?this.setSliderPositions(this.leftSliderPosition,null,null):this.leftSliderPosition>this.newWidth?(n(this.leftTooltip).hide(),n(this.gLeftSlider).hide()):(n(this.leftTooltip).hide(),n(this.gLeftSlider).hide(),n(this.leftUnSelected).hide()):this.setSliderPositions(this.leftSliderPosition,null,null);this.model.enableScrollbar?this.rightSliderPosition<=this.newWidth-r&&this.rightSliderPosition>r?this.setSliderPositions(null,null,this.rightSliderPosition):this.rightSliderPosition<0?(n(this.rightTooltip).hide(),n(this.gRightSlider).hide()):(n(this.rightTooltip).hide(),n(this.gRightSlider).hide(),n(this.rightUnSelected).hide()):this.setSliderPositions(null,null,this.rightSliderPosition);this.setopacity=1;this.model.enableDeferredUpdate&&(this._calculateSelectedData(),this._calculateSliderZoomFactPosition(),this.previousSelectedRangeStart=this.previousSelectedRangeStart?this.previousSelectedRangeStart:u=="datetime"?this.startDateTime.getTime():this.startValue,this.previousSelectedRangeEnd=this.previousSelectedRangeEnd?this.previousSelectedRangeEnd:u=="datetime"?this.endDateTime.getTime():this.endValue,this._scrollChanged||(u=="datetime"?this.previousSelectedRangeStart===i.getTime()&&(this.previousSelectedRangeEnd===t.getTime()||this.rangeResize)||this._trigger("rangeChanged",this.model):this.previousSelectedRangeStart===i&&(this.previousSelectedRangeEnd===t||this.rangeResize)||this._trigger("rangeChanged",this.model),this.previousSelectedRangeStart=u=="datetime"?i.getTime():i,this.previousSelectedRangeEnd=u=="datetime"?t.getTime():t),this.rangeResize=!1)},centerSliderWidth:"",zoomp:0,zoomf:1,setSliderPositions:function(r,u,f){var b=this.model.locale,v=this.model.valueType,c,ut=this.model.labelSettings.higherLevel.labelPlacement,k,d,a,rt,o,h,e,s;c=ut=="inside"?0:this.centerPosition;var y,w,it=20,p=this.model.tooltipSettings.labelFormat;if(v=="numeric"&&(p.indexOf("e")==0||p.indexOf("E")==0)&&(w=p.match(/(\d+)/g),w=w==null?6:w>it?it:w),r!=null&&r>=this.padding&&r<this.newWidth-this.padding){if(this.leftSliderPosition=r,y=this.model.enableRTL?this.newWidth-r:r,v=="datetime"?(o=y/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval,o-=this.endDateTime.getTime()==o?0:this.model.enableRTL&&!this.model.allowNextValue?1:0):o=y/this.eachInterval+this.startValue-this.padding/this.eachInterval,this.model.tooltipSettings.visible&&this.svgSupport&&this.leftTxt){this.leftTooltip.setAttribute("opacity",this.setopacity);this.leftTxt.textContent=v=="datetime"?t.format(new Date(o),this.model.tooltipSettings.labelFormat,b):p.indexOf("e")==0||p.indexOf("E")==0?o.toExponential(w):t.format(o,this.model.tooltipSettings.labelFormat,b);var g=t.EjSvgRender.utils._measureText(this.leftTxt.textContent,null,this.model.tooltipSettings.font),e=g.width+15,s=g.height,nt=this.brow!="msie"?(s+6)/2:s/2+6;this.leftTxt.setAttribute("y",nt);this.leftd="M 0 0 L 0 "+(s+6)+" L "+(e-6)+" "+(s+6)+" L "+(e-6)+" 6 L "+e+" 0 Z";this.rightd="M 0 0 L "+e+" 0 L "+e+" "+(s+6)+" L 6 "+(s+6)+" L 6 6 Z";r-e>=0?(this.leftTooltip.firstChild.setAttribute("d",this.leftd),this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(r-e)+","+c+")"}),this.leftTxt.setAttribute("x",5)):r+e<this.rightTooltip.getCTM().e?(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+r+","+c+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd),this.leftTxt.setAttribute("x",10)):this.rightTooltip.getCTM().f<30?(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+r+","+(c+30)+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd)):(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+r+","+c+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd));r>this.newWidth-this.rightTooltip.lastChild.getBBox().width-15&&this.rightTooltip.getCTM().f<30&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(r-e)+","+(c+30)+")"});this.rightTooltip.getCTM().f>=30&&r<this.rightTooltip.getCTM().e&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+this.rightTooltip.getCTM().e+","+c+")"})}this.ismouseup==!1?(this.renderer._setAttr(n(this.leftUnArea),{width:r-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+r+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+r+","+this.sliderPosition+")"}),this.leftCircle!=i?(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:r}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(r-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}),this._leftValue={left:r-this.model.navigatorStyleSettings.thumbRadius,right:r+this.model.navigatorStyleSettings.thumbRadius}):(h=r-n("#"+this._id+"thumbleft").width()/2,n("#"+this._id+"thumbleft").css("left",h),this._leftValue={left:h,right:h+n("#"+this._id+"thumbleft").width()}),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+parseFloat(r)+","+this.sliderPosition+")"}),k=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),k>0&&this.renderer._setAttr(n(this.centerSlider),{width:k})):(this.ismouseup=!1,this.renderer._setAttr(n(this.leftUnArea),{width:r-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"}),this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+r+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+r+","+this.sliderPosition+")"}),this.leftCircle!=i?(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:r}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(r-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}),this._leftValue={left:r-this.model.navigatorStyleSettings.thumbRadius,right:r+this.model.navigatorStyleSettings.thumbRadius}):(h=r-n("#"+this._id+"thumbleft").width()/2,n("#"+this._id+"thumbleft").css("left",h),this._leftValue={left:h,right:h+n("#"+this._id+"thumbleft").width()}),this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+parseFloat(r)+","+this.sliderPosition+")"}),k=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left),k>0&&this.renderer._setAttr(n(this.centerSlider),{width:k}));this.model.zoomPosition=(r-this.padding)/(this.newWidth-this.padding*2);this.model.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2);this.model.enableRTL?this.model.selectedRangeSettings.end=v=="datetime"?new Date(o):o:this.model.selectedRangeSettings.start=v=="datetime"?new Date(o):o;n(this.leftTooltip).show();n(this.gLeftSlider).show();n(this.leftUnSelected).show()}else if(f!=null&&f>this.padding){if(f>this.newWidth-this.padding+1&&(f=this.newWidth-this.padding),this.rightSliderPosition=f,rt=new Date(this.model.rangeSettings.start),y=this.model.enableRTL?this.newWidth-f:f,o=y/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval,o-=this.endDateTime.getTime()==o?0:!this.model.enableRTL&&!this.model.allowNextValue?1:0,o=v=="datetime"?new Date(o):y/this.eachInterval+this.startValue-this.padding/this.eachInterval,this.model.enableRTL?this.model.selectedRangeSettings.start=o:this.model.selectedRangeSettings.end=o,this.model.tooltipSettings.visible&&this.svgSupport&&this.rightTxt){this.rightTooltip.setAttribute("opacity",this.setopacity);this.rightTxt.textContent=v=="datetime"?t.format(new Date(o),this.model.tooltipSettings.labelFormat,b):p.indexOf("e")==0||p.indexOf("E")==0?o.toExponential(w):t.format(o,this.model.tooltipSettings.labelFormat,b);var g=t.EjSvgRender.utils._measureText(this.rightTxt.textContent,null,this.model.tooltipSettings.font),e=g.width+15,s=g.height,nt=this.brow!="msie"?(s+6)/2:s/2+6;this.rightTxt.setAttribute("y",nt);this.rightTxt.setAttribute("x",10);this.leftd="M 0 0 L 0 "+(s+6)+" L "+(e-6)+" "+(s+6)+" L "+(e-6)+" 6 L "+e+" 0 Z";this.rightd="M 0 0 L "+e+" 0 L "+e+" "+(s+6)+" L 6 "+(s+6)+" L 6 6 Z";f+e<=this.newWidth?(this.rightTooltip.firstChild.setAttribute("d",this.rightd),this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+f+","+c+")"})):f+e>=this.newWidth&&f-e>this.centerSlider.getCTM().e?(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(f-e)+","+c+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd),this.rightTxt.setAttribute("x",5)):this.leftTooltip.getCTM().f<30?(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(f-e)+","+(c+30)+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd)):(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(f-e)+","+c+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd));f<this.leftTooltip.getCTM().e+e&&this.leftTooltip.getCTM().f<30&&this.leftSliderPosition>=this.padding&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+f+","+(c+30)+")"});this.leftTooltip.getCTM().f>=30&&f>this.leftTooltip.getCTM().e+e&&this.rightTooltip.getCTM().e>this.leftTooltip.getCTM().e+e&&(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+this.leftTooltip.getCTM().e+","+c+")"}),this.rightTxt.setAttribute("x",5))}d=this.newWidth-f-this.padding-2;d=d<0?0:d;this.renderer._setAttr(n(this.rightUnArea),{width:d,transform:"translate("+parseFloat(f+2)+","+this.sliderPosition+")"});this.renderer._setAttr(n(this.rightSlider),{transform:"translate("+f+","+this.sliderPosition+")"});this.rightCircle!=i?(this.svgSupport?this.renderer._setAttr(n(this.rightCircle),{cx:f}):this.renderer._setAttr(n(this.rightCircle),{transform:"translate("+parseFloat(f-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}),this._rightValue={left:f-this.model.navigatorStyleSettings.thumbRadius,right:f+this.model.navigatorStyleSettings.thumbRadius}):(h=f-n("#"+this._id+"thumbright").width()/2,n("#"+this._id+"thumbright").css("left",h),this._rightValue={left:h,right:h+n("#"+this._id+"thumbright").width()});this.centerSliderWidth=parseFloat(this.rightSlider.getBoundingClientRect().left)-parseFloat(this.leftSlider.getBoundingClientRect().left);this.renderer._setAttr(n(this.centerSlider),{width:Math.abs(this.centerSliderWidth)});this.model.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2);n(this.rightTooltip).show();n(this.gRightSlider).show();n(this.rightUnSelected).show()}else if(u!=null){var ft=this.renderer._getAttrVal(n(this.leftSlider),"width"),tt=this.newWidth-this.padding-2,l=u+parseFloat(this.renderer._getAttrVal(n(this.centerSlider),"width"));if(l>tt?(a=u=tt-parseFloat(this.renderer._getAttrVal(n(this.centerSlider),"width")),l=tt):a=u,rt=new Date(this.model.rangeSettings.start),y=this.model.enableRTL?this.newWidth-a:a,a>=this.padding&&l<=this.newWidth-this.padding-2){if(o=y/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval,v=="datetime"&&(o=new Date(o)),this.model.enableRTL?this.model.selectedRangeSettings.end=o:this.model.selectedRangeSettings.start=o,this.svgSupport?this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+a+",0)"}):this.renderer._setAttr(n(this.leftSlider),{transform:"translate("+a+","+parseFloat(this.sliderPosition)+")"}),this.leftSliderPosition=a,this.leftCircle!=i?(this.svgSupport?this.renderer._setAttr(n(this.leftCircle),{cx:a}):this.renderer._setAttr(n(this.leftCircle),{transform:"translate("+parseFloat(a-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}),this._leftValue={left:a-this.model.navigatorStyleSettings.thumbRadius,right:a+this.model.navigatorStyleSettings.thumbRadius}):(h=a-n("#"+this._id+"thumbleft").width()/2,n("#"+this._id+"thumbleft").css("left",h),this._leftValue={left:h,right:h+n("#"+this._id+"thumbleft").width()}),this.model.tooltipSettings.visible&&this.svgSupport&&this.leftTxt){this.leftTooltip.setAttribute("opacity",this.setopacity);this.leftTxt.textContent=v=="datetime"?t.format(new Date(o),this.model.tooltipSettings.labelFormat,b):p.indexOf("e")==0||p.indexOf("E")==0?o.toExponential(w):t.format(o,this.model.tooltipSettings.labelFormat,b);var e=this.leftTooltip.lastChild.getBBox().width+15,s=this.leftTooltip.lastChild.getBBox().height,nt=this.brow!="msie"?(s+6)/2:s/2+6;this.leftTxt.setAttribute("y",nt);this.rightTxt.setAttribute("y",nt);this.leftd="M 0 0 L 0 "+(s+6)+" L "+(e-6)+" "+(s+6)+" L "+(e-6)+" 6 L "+e+" 0 Z";this.rightd="M 0 0 L "+e+" 0 L "+e+" "+(s+6)+" L 6 "+(s+6)+" L 6 6 Z";a-e>=0?(this.leftTooltip.firstChild.setAttribute("d",this.leftd),this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+(a-e)+","+c+")"}),this.leftTxt.setAttribute("x",5)):(this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+a+","+c+")"}),this.leftTooltip.firstChild.setAttribute("d",this.rightd),this.leftTxt.setAttribute("x",10),this.leftSliderPosition+e>this.rightSlider.getCTM().e&&this.renderer._setAttr(n(this.leftTooltip),{transform:"translate("+a+","+(c+30)+")"}))}y=this.model.enableRTL?this.newWidth-l:l;o=y/this.eachInterval+this.startDateTime.getTime()-this.padding/this.eachInterval;o=v=="datetime"?new Date(o):y/this.eachInterval+this.startValue-this.padding/this.eachInterval;this.model.enableRTL?this.model.selectedRangeSettings.start=o:this.model.selectedRangeSettings.end=o;this.renderer._setAttr(n(this.rightSlider),{transform:"translate("+l+","+this.sliderPosition+")"});this.rightSliderPosition=l;this.rightCircle!=i?(this.svgSupport?this.renderer._setAttr(n(this.rightCircle),{cx:l}):this.renderer._setAttr(n(this.rightCircle),{transform:"translate("+parseFloat(l-10)+","+parseFloat(this.sliderPosition+this.sliderHeight/2)+")"}),this._rightValue={left:l-this.model.navigatorStyleSettings.thumbRadius,right:l+this.model.navigatorStyleSettings.thumbRadius}):(h=l-n("#"+this._id+"thumbright").width()/2,n("#"+this._id+"thumbright").css("left",h),this._rightValue={left:h,right:h+n("#"+this._id+"thumbright").width()});this.model.tooltipSettings.visible&&this.svgSupport&&(this.rightTooltip.setAttribute("opacity",this.setopacity),this.rightTxt.textContent=v=="datetime"?t.format(new Date(o),this.model.tooltipSettings.labelFormat,b):p.indexOf("e")==0||p.indexOf("E")==0?o.toExponential(w):t.format(o,this.model.tooltipSettings.labelFormat,b),e=this.rightTooltip.lastChild.getBBox().width+15,s=this.rightTooltip.lastChild.getBBox().height,this.leftd="M 0 0 L 0 "+(s+6)+" L "+(e-6)+" "+(s+6)+" L "+(e-6)+" 6 L "+e+" 0 Z",this.rightd="M 0 0 L "+e+" 0 L "+e+" "+(s+6)+" L 6 "+(s+6)+" L 6 6 Z",l+e<=this.newWidth?(this.rightTooltip.firstChild.setAttribute("d",this.rightd),this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+l+","+c+")"}),this.rightTxt.setAttribute("x",10)):(this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(l-e)+","+c+")"}),this.rightTooltip.firstChild.setAttribute("d",this.leftd),this.rightTxt.setAttribute("x",5),this.rightTooltip.getBoundingClientRect().left<this.leftSlider.getBoundingClientRect().left&&this.renderer._setAttr(n(this.rightTooltip),{transform:"translate("+(l-e)+","+(c+30)+")"})));this.renderer._setAttr(n(this.leftUnArea),{width:a-this.padding,transform:"translate("+this.padding+","+this.sliderPosition+")"});this.renderer._setAttr(n(this.rightUnArea),{transform:"translate("+parseFloat(l+2)+","+this.sliderPosition+")",width:this.newWidth-l-this.padding-2});this.model.zoomPosition=(this.leftSlider.getBoundingClientRect().left-this.padding)/(this.newWidth-this.padding*2);this.renderer._setAttr(n(this.centerSlider),{transform:"translate("+u+","+this.sliderPosition+")"});this.model.zoomFactor=(this.rightSlider.getBoundingClientRect().left+parseFloat(this.renderer._getAttrVal(n(this.rightSlider),"width"))-this.leftSlider.getBoundingClientRect().left)/(this.newWidth-this.padding*2);n(this.leftTooltip).show();n(this.rightTooltip).show();n(this.gRightSlider).show();n(this.rightUnSelected).show();n(this.gLeftSlider).show();n(this.leftUnSelected).show()}}this._scrollChanged||this.isSelection||!this.model.enableDeferredUpdate&&this.leftSlider.getBoundingClientRect().left<this.rightSlider.getBoundingClientRect().left&&(this._calculateSelectedData(),(this.zoomp!=this.model.zoomPosition||this.zoomf!=this.model.zoomFactor)&&(this._calculateSliderZoomFactPosition(),this._trigger("rangeChanged",this.model),this.zoomp=this.model.zoomPosition,this.zoomf=this.model.zoomFactor))},_calculateSliderZoomFactPosition:function(){var f=this.model,r,e,o,n,t,u=f.selectedRangeSettings,i=f.scrollRangeSettings;f.valueType.toLowerCase()=="datetime"?(n=i.start?new Date(i.start):this.startDateTime,n=n<this.startDateTime?n:this.startDateTime,t=i.end?new Date(i.end):this.endDateTime,t=t>this.endDateTime?t:this.endDateTime,r=t-n,e=(new Date(u.start)-n)/r,o=(new Date(u.end)-new Date(u.start))/r):(n=i.start!=""?parseFloat(i.start):this.startValue,n=n<this.startValue?n:this.startValue,t=i.end!=""?parseFloat(i.end):this.endValue,t=t>this.endValue?t:this.endValue,r=t-n,e=(parseFloat(u.start)-n)/r,o=(parseFloat(u.end)-parseFloat(u.start))/r);f.zoomPosition=e;f.zoomFactor=o},_calculateSelectedData:function(){var f=[],e=0,i,o=this.model.valueType=="datetime",r=this.model.selectedRangeSettings.start,u=this.model.selectedRangeSettings.end,n,t;if(o&&(r=Date.parse(r),u=Date.parse(u)),n=this.model.dataSource!=""?this.model.dataSource:this.model.series!=""&&this.model.series[0].dataSource!=""?this.model.series[0].dataSource:null,n!=null)for(t=0;t<n.length-1;t++)i=o?Date.parse(n[t][Object.keys(n[t])[0]]):n[t][Object.keys(n[t])[0]],r<=i&&i<=u&&(f[e]=n[t],e++);this.model.selectedData=f},calculateInterval:function(n,t){if(t._intervalType=t.intervalType?t.intervalType:"auto",t.visible===!0&&this.model.valueType=="datetime"&&this.calculateVisibleLabels(t,"lower",0),n.visible===!0&&this.model.valueType=="datetime"){if(n.intervalType&&n.intervalType.toLowerCase()!="auto")n._intervalType=n.intervalType;else switch(t._intervalType){case"years":n._intervalType="years";break;case"quarters":n._intervalType="years";break;case"months":n._intervalType="quarters";break;case"weeks":n._intervalType="months";break;case"days":n._intervalType="weeks";break;case"hours":n._intervalType="days";break;case"minutes":n._intervalType="hours"}n.autoInterval==!1?this.calculateVisibleLabels(n,"higher",0):this.calculateVisibleLabels(n,"higher",0)}t.visible===!0&&this.model.valueType=="numeric"&&this.setInterval(this)},calculateVisibleLabels:function(n,t,i){var f=n._intervalType,r,u;switch(f){case"auto":r=this.calculateDateTimeNiceInterval(this,this.startDateTime,this.endDateTime);u=r.intervalType.toLowerCase();n._intervalType=u;n._interval=r.interval;this.calculateVisibleLabels(n,t,i);break;case"years":this.setYearInterval(this,t);break;case"quarters":this.setQuarterInterval(this,t,i);break;case"months":this.setMonthInterval(this,t,i);break;case"weeks":this.setWeekInterval(this,t,i);break;case"days":this.setDayInterval(this,t,i);break;case"hours":this.setHourInterval(this,t,i);break;case"minutes":this.setMinuteInterval(this,t,i)}},setInterval:function(n){var f,o,h=this.endValue-this.startValue,s=n.model.rangePadding,u=this.startValue,t=this.calculateNumericInterval(n,h),i,e,r;for(s=="additional"?(this.endValue=this.endValue+t,this.startValue=this.startValue-t,h=this.endValue-this.startValue):s=="normal"?(i=0,u<0?(u=0,i=this.startValue+this.startValue/20,e=t+i%t,.365*t>=e&&(i-=t),i%t<0&&(i=i-t-i%t)):(i=u<5/6*this.endValue?0:u-(this.endValue-u)/2,i%t>0&&(i-=i%t)),r=this.endValue+(this.endValue-u)/20,e=t-r%t,.365*t>=e&&(r+=t),r%t>0&&(r=r+t-r%t),t=this.calculateNumericInterval(n,r-i),this.startValue=i,this.endValue=r):s=="round"&&(this.startValue=Math.floor(this.startValue/t*t),this.endValue=Math.ceil(this.endValue/t*t)),f=n.startValue,o=0;f<=n.endValue;)this._insertNumericText(n,f,o),o++,f=f+t;this.insertLabels(n,"lower")},calculateDateTimeNiceInterval:function(n,t,i){var u=Math.abs((t.getTime()-i.getTime())/864e5),r=this.calculateNumericInterval(n,u/365),f,e;return r>=1?{interval:r,intervalType:"Years"}:(r=this.calculateNumericInterval(n,u/90),r>=1)?{interval:r,intervalType:"Quarters"}:(r=this.calculateNumericInterval(n,u/30),r>=1)?{interval:r,interval1:r,intervalType:"Months"}:(r=this.calculateNumericInterval(n,u/7),r>=1)?{interval:r,intervalType:"Weeks",intervalType1:"Weeks"}:(r=this.calculateNumericInterval(n,u),r>=1)?{interval:r,intervalType:"Days"}:(f=u*24,r=this.calculateNumericInterval(n,f),r>=1)?{interval:r,intervalType:"Hours"}:(e=u*1440,r=this.calculateNumericInterval(n,e),{interval:r,intervalType:"Minutes"})},calculateNumericInterval:function(n,i){for(var f,e=this.GetDesiredIntervalsCount(n.newWidth),r=i/e,s=Math.pow(10,Math.floor(t.EjSvgRender.utils._logBase(r,10))),o=[10,5,2,1],u=0;u<o.length;u++){if(f=s*o[u],e<i/f)return r;r=f}return r},GetDesiredIntervalsCount:function(n){return Math.max(n*(.8/50),1)},setHourInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();Date.prototype.addHours=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0&&t.setMilliseconds(t.getMilliseconds()+(1e3-t.getMilliseconds())),t.getSeconds()!==0&&t.setSeconds(t.getSeconds()+(60-t.getSeconds())),t.getMinutes()!==0?t.setMinutes(t.getMinutes()+(60-t.getMinutes())):t.setHours(t.getHours()+n),t};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"hhtt",u,e,f,!1),o+=f,e++,u=u.addHours(1);o>=t.newWidth?t.setHourInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"hht",u,e,f,!1),o+=f,e++,u=u.addHours(1);o>=t.newWidth?t.setHourInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"hh",u,e,f,!1),o+=f,e++,u=u.addHours(1);o>=t.newWidth?(n(t.lowerLevel).empty(),t.model.labelSettings.lowerLevel._intervalType="days",t.setDayInterval(t,i,0)):this.insertLabels(t,i)}},setMinuteInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();Date.prototype.addMinutes=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0&&t.setMilliseconds(t.getMilliseconds()+(1e3-t.getMilliseconds())),t.getSeconds()!==0?t.setSeconds(t.getSeconds()+(60-t.getSeconds())):t.setMinutes(t.getMinutes()+n),t};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"mm",u,e,f,!1),o+=f,e++,u=u.addMinutes(1);o>=t.newWidth?(n(t.lowerLevel).empty(),t.model.labelSettings.lowerLevel._intervalType="hours",t.setHourInterval(t,i,0)):this.insertLabels(t,i)}},_emptyLabelBars:function(t,i){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty()},_insertWeekText:function(n,i,r,u,f,e){var s=n.model.labelSettings.higherLevel.style.font,h=n.model.labelSettings.lowerLevel.style.font,c,o,l;return i==="higher"?(n._higherTotalValues[f]=f==0?0:u.getTime()-n.startDateTime.getTime(),c={id:this._rootId+"_higLabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":s.size,"font-family":s.family,"font-style":s.style,"font-weight":s.weight,fill:s.color},n.renderer.drawText(c,r,n.higherLevel),n._higherTextNode[f]=n.higherLevel.childNodes[f],o={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.style.font.fontFamily},l=this.svgSupport?t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].textContent,null,o):t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].innerHTML,null,o),e=Math.max(e,l.width)):(n._lowerTotalValues[f]=f==0?0:u.getTime()-n.startDateTime.getTime(),c={id:this._rootId+"_LabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":h.size,"font-family":h.family,"font-style":h.style,"font-weight":h.weight,fill:h.color},n.renderer.drawText(c,r,n.lowerLevel),n._lowerTextNode[f]=n.lowerLevel.childNodes[f],o={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.style.font.fontFamily},l=this.svgSupport?t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].textContent,null,o):t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].innerHTML,null,o),e=Math.max(e,l.width)),e},setWeekInterval:function(n,i,r){this._emptyLabelBars(n,i);Date.prototype.getWeek=function(){var n=new Date(this.getTime()),t;return n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7),t=new Date(n.getFullYear(),0,4),1+Math.round(((n.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)};Date.prototype.dayOfWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.getDay()]};Date.prototype.addDays=function(n){var t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()+n)};Date.prototype.subDays=function(n){var t=new Date(this.valueOf());return new Date(t.getFullYear(),t.getMonth(),t.getDate()-n)};for(var u=n.startDateTime,e=0,o=0,f=0,s=this.model.locale,h=t.datavisualization.RangeNavigator.Locale[s]?t.datavisualization.RangeNavigator.Locale[s]:t.datavisualization.RangeNavigator.Locale["en-US"];u.dayOfWeek()!="Monday";)u=u.subDays(1);switch(r){case 0:while(u<=n.endDateTime)f=this._insertWeekText(n,i,this._localizedLabels.intervals.week.longWeeks+u.getWeek()+t.format(u," MMMM, yyyy",s),u,e,f),o+=f,e++,u=u.addDays(7);o>=n.newWidth?n.setWeekInterval(n,i,1):this.insertLabels(n,i);break;case 1:while(u<=n.endDateTime)f=this._insertWeekText(n,i,this._localizedLabels.intervals.week.longWeeks+u.getWeek()+t.format(u," MMM, yy",s),u,e,f),o+=f,e++,u=u.addDays(7);o>=n.newWidth?n.setWeekInterval(n,i,2):this.insertLabels(n,i);break;case 2:while(u<=n.endDateTime)f=this._insertWeekText(n,i,this._localizedLabels.intervals.week.longWeeks+u.getWeek(),u,e,f),o+=f,e++,u=u.addDays(7);o>=n.newWidth?n.setWeekInterval(n,i,3):this.insertLabels(n,i);break;case 3:while(u<=n.endDateTime)f=this._insertWeekText(n,i,this._localizedLabels.intervals.week.shortWeeks+u.getWeek(),u,e,f),o+=f,e++,u=u.addDays(7);this.insertLabels(n,i)}},setDayInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();Date.prototype.addDays=function(){var n=new Date(this.valueOf());return new Date(n.getFullYear(),n.getMonth(),n.getDate()+1)};var u=t.startDateTime,e=0,o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"dddd, MMMM d, yyyy",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"ddd, MMM d, yy",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"dddd, d",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,3):this.insertLabels(t,i);break;case 3:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM, d",u,e,f,!1),o+=f,e++,u=u.addDays();o>=t.newWidth?t.setDayInterval(t,i,4):this.insertLabels(t,i);break;case 4:while(u<=t.endDateTime)f=this._insertText(t,i,"dd",u,e,f,!1),o+=f,e++,u=u.addDays();this.insertLabels(t,i)}},setMonthInterval:function(t,i,r){t._higherTextNode=[];t._higherTotalValues=[];t._lowerTextNode=[];t._lowerTotalValues=[];i==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();var u=t.startDateTime,s=5,e=0,h=new Date(t.startDateTime),o=0,f=0;switch(r){case 0:while(u<=t.endDateTime)f=this._insertText(t,i,"MMMM, yyyy",u,e,f,!1),o+=f,e++,u=u.addMonths();o+s>=t.newWidth?t.setMonthInterval(t,i,1):this.insertLabels(t,i);break;case 1:while(u<=t.endDateTime)f=this._insertText(t,i,"MMMM",u,e,f,!1),o+=f,e++,u=u.addMonths();o+s>=t.newWidth?t.setMonthInterval(t,i,2):this.insertLabels(t,i);break;case 2:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM",u,e,f,!1),o+=f,e++,u=u.addMonths();o+s>=t.newWidth?t.setMonthInterval(t,i,3):this.insertLabels(t,i);break;case 3:while(u<=t.endDateTime)f=this._insertText(t,i,"MMM",u,e,f,!0),o+=f,e++,u=u.addMonths();this.insertLabels(t,i)}},_quarter:function(n,i,r,u,f,e,o){for(var c,s,h,a,v,l,y=n.startYear;y<=n.endYear;y++)if(c=u!=null?t.format(f,u,n.model.locale):"",y===n.startYear)for(s=n.startMonth;s<=11&&f<=this.endDateTime;s++)h=i=="higher"?{id:this._rootId+"_higLabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.style.font.fontWeight,fill:n.model.labelSettings.higherLevel.style.font.color,opacity:n.model.labelSettings.higherLevel.style.font.opacity}:{id:this._rootId+"_LabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.style.font.fontWeight,fill:n.model.labelSettings.lowerLevel.style.font.color,opacity:n.model.labelSettings.lowerLevel.style.font.opacity},s>=0&&s<=2?(i=="higher"?n.renderer.drawText(h,r+"1 "+c,n.higherLevel):n.renderer.drawText(h,r+"1 "+c,n.lowerLevel),f=new Date(f.setMonth(3)),l=2):s>=3&&s<=5?(i=="higher"?n.renderer.drawText(h,r+"2 "+c,n.higherLevel):n.renderer.drawText(h,r+"2 "+c,n.lowerLevel),f=new Date(f.setMonth(6)),l=5):s>=6&&s<=8?(i=="higher"?n.renderer.drawText(h,r+"3 "+c,n.higherLevel):n.renderer.drawText(h,r+"3 "+c,n.lowerLevel),f=new Date(f.setMonth(9)),l=8):s>=9&&s<=11&&(i=="higher"?n.renderer.drawText(h,r+"4 "+c,n.higherLevel):n.renderer.drawText(h,r+"4 "+c,n.lowerLevel),f=new Date(f.setMonth(12)),l=11),i==="lower"?(n._lowerTotalValues[o]=s===n.startMonth?n.startDateTime.getTime()-n.startDateTime.getTime():new Date(n.startYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=l,n._lowerTextNode[o]=n.lowerLevel.childNodes[o],a={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.style.font.fontFamily},v=t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[o].textContent,null,a),e+=v.width):(n._higherTotalValues[o]=s===n.startMonth?n.startDateTime.getTime()-n.startDateTime.getTime():new Date(n.startYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=l,n._higherTextNode[o]=n.higherLevel.childNodes[o],a={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.style.font.fontFamily},v=t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[o].textContent,null,a),e+=v.width),o++;else if(y===n.endYear)for(s=0;s<=n.endMonth;s++)h=i=="higher"?{id:this._rootId+"_higLabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.style.font.fontWeight,fill:n.model.labelSettings.higherLevel.style.font.color,opacity:n.model.labelSettings.higherLevel.style.font.opacity}:{id:this._rootId+"_LabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.style.font.fontWeight,fill:n.model.labelSettings.lowerLevel.style.font.color,opacity:n.model.labelSettings.lowerLevel.style.font.opacity},s>=0&&s<=2?(i=="higher"?n.renderer.drawText(h,r+"1 "+c,n.higherLevel):n.renderer.drawText(h,r+"1 "+c,n.lowerLevel),f=new Date(f.setMonth(3)),l=2):s>=3&&s<=5?(i=="higher"?n.renderer.drawText(h,r+"2 "+c,n.higherLevel):n.renderer.drawText(h,r+"2 "+c,n.lowerLevel),f=new Date(f.setMonth(6)),l=5):s>=6&&s<=8?(i=="higher"?n.renderer.drawText(h,r+"3 "+c,n.higherLevel):n.renderer.drawText(h,r+"3 "+c,n.lowerLevel),f=new Date(f.setMonth(9)),l=8):s>=9&&s<=11&&(i=="higher"?n.renderer.drawText(h,r+"4 "+c,n.higherLevel):n.renderer.drawText(h,r+"4 "+c,n.lowerLevel),f=new Date(f.setMonth(12)),l=11),i==="lower"?(n._lowerTotalValues[o]=new Date(n.endYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=l,n._lowerTextNode[o]=n.lowerLevel.childNodes[o],a={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.style.font.fontFamily},v=t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[o].textContent,null,a),e+=v.width):(n._higherTotalValues[o]=new Date(n.endYear+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=l,n._higherTextNode[o]=n.higherLevel.childNodes[o],a={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.style.font.fontFamily},v=t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[o].textContent,null,a),e+=v.width),o++;else for(s=0;s<=11;s++)h=i=="higher"?{id:this._rootId+"_higLabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.style.font.fontWeight}:{id:this._rootId+"_LabelBarText_"+o,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.style.font.fontWeight},s>=0&&s<=2?(i=="higher"?n.renderer.drawText(h,r+"1 "+c,n.higherLevel):n.renderer.drawText(h,r+"1 "+c,n.lowerLevel),f=new Date(f.setMonth(3)),l=2):s>=3&&s<=5?(i=="higher"?n.renderer.drawText(h,r+"2 "+c,n.higherLevel):n.renderer.drawText(h,r+"2 "+c,n.lowerLevel),f=new Date(f.setMonth(6)),l=5):s>=6&&s<=8?(i=="higher"?n.renderer.drawText(h,r+"3 "+c,n.higherLevel):n.renderer.drawText(h,r+"3 "+c,n.lowerLevel),f=new Date(f.setMonth(9)),l=8):s>=9&&s<=11&&(i=="higher"?n.renderer.drawText(h,r+"4 "+c,n.higherLevel):n.renderer.drawText(h,r+"4 "+c,n.lowerLevel),f=new Date(f.setMonth(12)),l=11),i==="lower"?(n._lowerTotalValues[o]=new Date(y+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=l,n._lowerTextNode[o]=n.lowerLevel.childNodes[o],a={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.style.font.fontFamily},v=t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[o].textContent,null,a),e+=v.width):(n._higherTotalValues[o]=new Date(y+"/"+parseInt(s+1)+"/1").getTime()-n.startDateTime.getTime(),s=l,n._higherTextNode[o]=n.higherLevel.childNodes[o],a={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.style.font.fontFamily},v=t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[o].textContent,null,a),e+=v.width),o++;return e},setQuarterInterval:function(i,r,u){i._higherTextNode=[];i._higherTotalValues=[];i._lowerTextNode=[];i._lowerTotalValues=[];r==="higher"?n("#higherLevel").children().empty():n("#lowerLevel").children().empty();var e=new Date(i.startDateTime),o=0,f=0,s=this.model.locale,h=t.datavisualization.RangeNavigator.Locale[s]?t.datavisualization.RangeNavigator.Locale[s]:t.datavisualization.RangeNavigator.Locale["en-US"];switch(u){case 0:f=this._quarter(i,r,this._localizedLabels.intervals.quarter.longQuarters,"yyyy",e,f,o);f>=i.newWidth-this.padding?i.setQuarterInterval(i,r,1):this.insertLabels(i,r);break;case 1:f=this._quarter(i,r,this._localizedLabels.intervals.quarter.longQuarters,"yy",e,f,o);f>=i.newWidth-this.padding?i.setQuarterInterval(i,r,2):this.insertLabels(i,r);break;case 2:f=this._quarter(i,r,this._localizedLabels.intervals.quarter.shortQuarters,"yyyy",e,f,o);f>=i.newWidth-this.padding?i.setQuarterInterval(i,r,3):this.insertLabels(i,r);break;case 3:f=this._quarter(i,r,this._localizedLabels.intervals.quarter.shortQuarters,null,e,f,o);this.insertLabels(i,r)}},_insertText:function(n,i,r,u,f,e,o){var c=n.model.locale,s,h,l;return Date.prototype.addYears=function(n){var t=new Date(this.valueOf());return t.getMilliseconds()!==0||t.getSeconds()!==0||t.getMinutes()!==0||t.getHours()!==0||t.getDate()!==0||t.getMonth()!==0?t=new Date(t.getFullYear()+1,0,1):t.setYear(t.getFullYear()+n),t},Date.prototype.addMonths=function(){var n=new Date(this.valueOf());return new Date(n.getFullYear(),n.getMonth()+1,1)},i==="higher"?(n._higherTotalValues[f]=u.getTime()-n.startDateTime.getTime(),s={id:this._rootId+"_higLabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.higherLevel.style.font.size,"font-family":n.model.labelSettings.higherLevel.style.font.fontFamily,"font-style":n.model.labelSettings.higherLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.higherLevel.style.font.fontWeight,fill:n.model.labelSettings.higherLevel.style.font.color},o==!1?n.renderer.drawText(s,t.format(u,r,c),n.higherLevel):n.renderer.drawText(s,t.format(u,r,c).toString().substring(0,1),n.higherLevel),n._higherTextNode[f]=n.higherLevel.childNodes[f],h={size:n.model.labelSettings.higherLevel.style.font.size,fontStyle:n.model.labelSettings.higherLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.higherLevel.style.font.fontFamily},l=this.svgSupport?t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].textContent,null,h):t.EjSvgRender.utils._measureText(n.higherLevel.childNodes[f].innerHTML,null,h),e=Math.max(e,l.width)):(n._lowerTotalValues[f]=u.getTime()-n.startDateTime.getTime(),s={id:this._rootId+"_LabelBarText_"+f,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":n.model.labelSettings.lowerLevel.style.font.size,"font-family":n.model.labelSettings.lowerLevel.style.font.fontFamily,"font-style":n.model.labelSettings.lowerLevel.style.font.fontStyle,"font-weight":n.model.labelSettings.lowerLevel.style.font.fontWeight,fill:n.model.labelSettings.lowerLevel.style.font.color},o==!1?n.renderer.drawText(s,t.format(u,r,c),n.lowerLevel):n.renderer.drawText(s,t.format(u,r,c).substring(0,1),n.lowerLevel),n._lowerTextNode[f]=n.lowerLevel.childNodes[f],h={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.style.font.fontFamily},l=this.svgSupport?t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].textContent,null,h):t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[f].innerHTML,null,h),e=Math.max(e,l.width)),e},_insertNumericText:function(n,i,r){var u,e,f,o;n._lowerTotalValues[r]=i-n.startValue;u=n.model.labelSettings.style.font;e={id:this._rootId+"_LabelBarText_"+r,x:0,y:0,"text-anchor":"start","dominant-baseline":"middle","font-size":u.size,"font-family":u.family,"font-style":u.style,"font-weight":u.weight,fill:u.color};n.renderer.drawText(e,i,n.lowerLevel);n._lowerTextNode[r]=n.lowerLevel.childNodes[r];f={size:n.model.labelSettings.lowerLevel.style.font.size,fontStyle:n.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:n.model.labelSettings.lowerLevel.style.font.fontFamily};o=this.svgSupport?t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[r].textContent,null,f):t.EjSvgRender.utils._measureText(n.lowerLevel.childNodes[r].innerHTML,null,f)},setYearInterval:function(n,t){for(var i=n.startDateTime,r=0;i<=n.endDateTime;)this._insertText(n,t,"yyyy",i,r,0,!1),r++,i=i.addYears(1);this.insertLabels(n,t)},_applyPadding:function(){for(var n=0;n<this._higherTotalValues.length;n++)this._higherTotalValues[n]+=this.padding;for(n=0;n<this._lowerTotalValues.length;n++)this._lowerTotalValues[n]+=this.padding},isIntersect:function(n,i,r,u,f,e){var s,f,o;if(e&&r==0)s=parseFloat(n.renderer._getAttrVal(i[r],"x")),f=t.EjSvgRender.utils._measureText(i[r].innerHTML,null,u),s+f.width>n.newWidth&&(i[r].innerHTML="");else for(o=i.length-1,e?o>1:o=1;e?o>r:o<r;e?o--:o++){var c=parseFloat(n.renderer._getAttrVal(i[o],"x")),h=t.EjSvgRender.utils._measureText(i[o].innerHTML,null,u),s=parseFloat(n.renderer._getAttrVal(i[r],"x")),a=h.width==0?h.width:f,l=c+h.width;l>s&&(i[r].innerHTML="")}},insertLabels:function(r,u){var tt=jQuery.uaMatch(navigator.userAgent),ft=this.model.labelSettings.lowerLevel.gridLineStyle.color,y,d,h,et,rt,l,ut,v,k;this.lgClr=this.renderer.createGradientElement("lgColor",ft,150,0,150,100,this.svgDocument);y=this.model.valueType;d=parseFloat(this.renderer._getAttrVal(n(r.svgDocument),"width"));this.eachInterval=y=="datetime"?(d-this.padding*2)/parseFloat(this.endDateTime.getTime()-this.startDateTime.getTime()):(d-this.padding*2)/parseFloat(this.endValue-this.startValue);var p=0,o=0,s,e,c,a,w,f,it=r._higherTextNode.length,g=[],nt=[],b=0;if(u==="higher"&&r.model.labelSettings.higherLevel.visible===!0){for(r.model.labelSettings.higherLevel.position=="top"&&r.model.labelSettings.lowerLevel.position=="top"?(s={x:this.padding,y:1,width:r.newWidth>0?r.newWidth-r.padding*2:0,height:r.minHighHeight,stroke:r.model.labelSettings.higherLevel.border.color,"stroke-width":r.model.labelSettings.higherLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.higherLevel)):r.model.labelSettings.higherLevel.position=="top"?(s={x:this.padding,y:1,width:r.newWidth-r.padding*2,height:r.minHighHeight,stroke:r.model.labelSettings.higherLevel.border.color,"stroke-width":r.model.labelSettings.higherLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.higherLevel)):(s={x:this.padding,y:r.bottomPosition,width:r.newWidth>0?r.newWidth-r.padding*2:0,height:r.minHighHeight,stroke:r.model.labelSettings.higherLevel.border.color,"stroke-width":r.model.labelSettings.higherLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.higherLevel)),r._higherLineLeft=[],e=r.model.enableRTL?r.newWidth-(r._higherTotalValues[r._higherTextNode.length-1]*this.eachInterval+this.padding):r._higherTotalValues[p]*this.eachInterval+this.padding,r.model.enableRTL?(f=r._higherTextNode.length-1,h=!0):(f=0,h=!1),et=0;h?f>=0:f<r._higherTextNode.length;h?f--:f++){if(r._higherLineLeft[f]=e,w={size:r.model.labelSettings.higherLevel.style.font.size,fontStyle:r.model.labelSettings.higherLevel.style.font.fontStyle,fontFamily:r.model.labelSettings.higherLevel.style.font.fontFamily},a=t.EjSvgRender.utils._measureText(r.higherLevel.childNodes[p].textContent,null,w),o=a.width,c=r._higherTotalValues[f+1]===i?h?0:r.newWidth:h?r.newWidth-(r._higherTotalValues[f+1]*this.eachInterval+this.padding):r._higherTotalValues[f+1]*this.eachInterval+this.padding,l=r.model.labelSettings.higherLevel.style.horizontalAlignment==="middle"?h?c-(c-e)/2-o/2:(c-e)/2+e-o/2:r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?h?c+10:e+10:h?e-o-2:c-o-2,this.model.enableScrollbar&&((!h&&f==0||h&&it==f)&&(this.firstLabelPosition=l+o),(!h&&f==1||h&&it-1==f)&&this.firstLabelPosition>e&&(r._higherTextNode[h?f+1:f-1].textContent="")),r.renderer._setAttr(n(r._higherTextNode[f]),{x:l}),r.renderer._setAttr(n(r._higherTextNode[f]),{fill:r.model.labelSettings.higherLevel.style.font.color}),r._higherTextLeft[f]=l,this.model.labelSettings.higherLevel.labelIntersectAction!="none"&&this.isIntersect(r,r._higherTextNode,f,w,o,h),r.model.labelSettings.higherLevel.position=="top"&&r.model.labelSettings.lowerLevel.position=="top"?(r._higherTextNode[f].setAttribute("y",r.minHighHeight-5),s={x1:e,y1:"0",x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.higherLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.higherLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.higherLevel)):r.model.labelSettings.higherLevel.position=="top"?(this.svgSupport?tt.browser.toLowerCase()=="msie"?r._higherTextNode[f].setAttribute("y",r.centerPosition-5):r._higherTextNode[f].setAttribute("y",r.centerPosition-9):r.renderer._setAttr(n(r._higherTextNode[f]),{y:r.centerPosition/2-5}),s={x1:e,y1:"0",x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.higherLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.higherLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.higherLevel)):(r._higherTextNode[f].setAttribute("y",r.newHeight-5),s={x1:e,y1:this.bottomPosition,x2:e,y2:r.newHeight,stroke:r.model.labelSettings.higherLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.higherLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.higherLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.higherLevel)),(l<this.padding||r.newWidth-e-this.padding<o)&&y=="datetime")if(h)l<this.padding&&e-this.padding>o?r.model.labelSettings.higherLevel.style.horizontalAlignment==="middle"?r._higherTextNode[f].setAttribute("x",this.padding+(e-this.padding)/2-o/2):r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?r._higherTextNode[f].setAttribute("x",this.padding+10):r._higherTextNode[f].setAttribute("x",e-o-2):r.newWidth-e<o&&r.newWidth-c-this.padding>o?r.model.labelSettings.higherLevel.style.horizontalAlignment==="middle"?r._higherTextNode[f].setAttribute("x",c+(r.newWidth-c-this.padding)/2-o/2):r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?r._higherTextNode[f].setAttribute("x",c+10):r._higherTextNode[f].setAttribute("x",r.newWidth-o-2-this.padding):r.higherLevel.removeChild(r._higherTextNode[f]);else{r.higherLevel.removeChild(r._higherTextNode[f]);continue}else if(l+o>r.newWidth-this.padding&&y=="datetime"){l=r.model.labelSettings.higherLevel.style.horizontalAlignment==="middle"?e+(r.newWidth-e-this.padding)/2-o/2:r.model.labelSettings.higherLevel.style.horizontalAlignment==="left"?e:r.newWidth-o*3/2;r._higherTextNode[f].setAttribute("x",l);continue}e=this.model.enableRTL?r.newWidth-(r._higherTotalValues[f-1]*this.eachInterval+this.padding):r._higherTotalValues[f+1]*this.eachInterval+this.padding;p++}for(v=0,k=r._higherLineLeft.length;v<k;v++)a=t.EjSvgRender.utils._measureText(r.higherLevel.childNodes[v].textContent,null,w),(a.width!=0||a.height!=0)&&(this.svgSupport?nt.push({size:a,x:r._higherLineLeft[v],y:r._higherTextNode[v].getAttribute("y")-a.height/2+b,lableType:"higherLevel"}):nt.push({size:a,x:r._higherLineLeft[v],y:r._higherTextNode[v].offsetTop-a.height/2+b,lableType:"higherLevel"}));this._addLabelsRegion(r,nt)}else if(r.model.labelSettings.lowerLevel.visible===!0){for(r._lowerLineLeft=[],e=r.model.enableRTL?r.newWidth-(r._lowerTotalValues[r._lowerTextNode.length-1]*this.eachInterval+this.padding):r._lowerTotalValues[p]*this.eachInterval+this.padding,rt=r.model.labelSettings.higherLevel.visible?r.bottomPosition:r.centerHeight,r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="top"?(s={x:this.padding,y:rt,width:this.newWidth-r.padding*2,height:r.minLowHeight-1,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},y!="numeric"&&r.renderer.drawRect(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="bottom"?(s={x:this.padding,y:r.centerHeight,width:this.newWidth>0?this.newWidth-r.padding*2:0,height:r.minLowHeight-1,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="top"&&r.model.labelSettings.higherLevel.position==="bottom"?(s={x:this.padding,y:0,width:this.newWidth>0?this.newWidth-r.padding*2:0,height:r.minLowHeight-1,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.lowerLevel)):r.model.labelSettings.higherLevel.position==="top"&&r.model.labelSettings.lowerLevel.position==="top"&&(s={x:this.padding,y:r.minHighHeight-1,width:this.newWidth>0?this.newWidth-r.padding*2:0,height:r.minLowHeight,stroke:r.model.labelSettings.lowerLevel.border.color,"stroke-width":r.model.labelSettings.lowerLevel.border.width,fill:"transparent"},r.renderer.drawRect(s,r.lowerLevel)),r.model.enableRTL?(f=r._lowerTextNode.length-1,h=!0):(f=0,h=!1);h?f>=0:f<r._lowerTextNode.length;h?f--:f++)r._lowerLineLeft[f]=e,w={size:r.model.labelSettings.lowerLevel.style.font.size,fontStyle:r.model.labelSettings.lowerLevel.style.font.fontStyle,fontFamily:r.model.labelSettings.lowerLevel.style.font.fontFamily},a=t.EjSvgRender.utils._measureText(r.lowerLevel.childNodes[p].textContent,null,w),o=a.width,l=0,c=r._lowerTotalValues[f+1]===i?h?0:r.newWidth:h?r.newWidth-(r._lowerTotalValues[f+1]*this.eachInterval+this.padding):r._lowerTotalValues[f+1]*this.eachInterval+this.padding,l=r.model.labelSettings.lowerLevel.style.horizontalAlignment==="middle"?h?(e-c)/2+c-o/2:(c-e)/2+e-o/2:r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?h?c+2:e+2:h?e-o-2:c-o-2,y=="numeric"&&(l=e-o/2),r.renderer._setAttr(n(r._lowerTextNode[f]),{x:l}),r.renderer._setAttr(n(r._lowerTextNode[f]),{fill:r.model.labelSettings.lowerLevel.style.font.color}),this.model.labelSettings.lowerLevel.labelIntersectAction!="none"&&this.isIntersect(r,r._lowerTextNode,f,w,o,h),r._lowerTextLeft[f]=l,r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="top"?(this.svgSupport?tt.browser.toLowerCase()=="msie"?r._lowerTextNode[f].setAttribute("y",r.newHeight-5):r._lowerTextNode[f].setAttribute("y",r.newHeight-9):r.renderer._setAttr(n(r._lowerTextNode[f]),{y:r.newHeight-a.height}),ut=r.model.labelSettings.higherLevel.visible?parseFloat(r.minHighHeight+r.centerHeight):r.minHighHeight,s={x1:e,y1:ut,x2:e,y2:r.newHeight,stroke:this.lgClr,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&y!="numeric"&&r.renderer.drawLine(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="bottom"&&r.model.labelSettings.higherLevel.position==="bottom"?(r._lowerTextNode[f].setAttribute("y",r.bottomPosition-5),s={x1:e,y1:r.centerHeight,x2:e,y2:r.bottomPosition,stroke:r.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.lowerLevel)):r.model.labelSettings.lowerLevel.position==="top"&&r.model.labelSettings.higherLevel.position==="bottom"?(r._lowerTextNode[f].setAttribute("y",r.centerPosition-5),s={x1:e,y1:0,x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.lowerLevel)):r.model.labelSettings.higherLevel.position==="top"&&r.model.labelSettings.lowerLevel.position==="top"&&(r._lowerTextNode[f].setAttribute("y",r.centerPosition-5),s={x1:e,y1:r.minHighHeight,x2:e,y2:r.centerPosition,stroke:r.model.labelSettings.lowerLevel.gridLineStyle.color,"stroke-width":r.model.labelSettings.lowerLevel.gridLineStyle.width,"stroke-dasharray":r.model.labelSettings.lowerLevel.gridLineStyle.dashArray},f!=0&&r.renderer.drawLine(s,r.lowerLevel)),(l<this.padding||r.newWidth-e-this.padding<o)&&y=="datetime"?h?(l<this.padding&&e-this.padding>o?r.model.labelSettings.lowerLevel.style.horizontalAlignment==="middle"?r._lowerTextNode[f].setAttribute("x",this.padding+(e-this.padding)/2-o/2):r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?r._lowerTextNode[f].setAttribute("x",this.padding+10):r._lowerTextNode[f].setAttribute("x",e-o-2):r.newWidth-e<o&&r.newWidth-this.padding-c>o?r.model.labelSettings.lowerLevel.style.horizontalAlignment==="middle"?r._lowerTextNode[f].setAttribute("x",c+(r.newWidth-c-this.padding)/2-o/2):r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?r._lowerTextNode[f].setAttribute("x",c+10):r._lowerTextNode[f].setAttribute("x",r.newWidth-o-2-this.padding):r.lowerLevel.removeChild(r._lowerTextNode[f]),p--):(r.lowerLevel.removeChild(r._lowerTextNode[f]),p--):l+o>r.newWidth-this.padding&&y=="datetime"&&(l=r.model.labelSettings.lowerLevel.style.horizontalAlignment==="middle"?e+(r.newWidth-e-this.padding)/2-o/2:r.model.labelSettings.lowerLevel.style.horizontalAlignment==="left"?e:r.newWidth-o*3/2,r._lowerTextNode[f].setAttribute("x",l)),e=this.model.enableRTL?r.newWidth-(r._lowerTotalValues[f-1]*this.eachInterval+this.padding):r._lowerTotalValues[f+1]*this.eachInterval+this.padding,p++;for(v=0,k=r._lowerLineLeft.length;v<k;v++)a=t.EjSvgRender.utils._measureText(r.lowerLevel.childNodes[v].textContent,null,w),(a.width!=0||a.height!=0)&&(this.svgSupport?g.push({size:a,x:r._lowerLineLeft[v],y:r._lowerTextNode[v].getAttribute("y")-a.height/2+b,lableType:"lowerLevel"}):g.push({size:a,x:r._lowerLineLeft[v],y:r._lowerTextNode[v].offsetTop+b,lableType:"lowerLevel"}));this._addLabelsRegion(r,g)}r.model.enableRTL?r._lowerLineLeft.push(this.padding):r._lowerLineLeft.push(this.newWidth-this.padding);r._setGridlines(r);n(this.higherLevel).css("cursor","pointer");n(this.lowerLevel).css("cursor","pointer")},_addLabelsRegion:function(n,t){var r,f,u,e=t.length,i;if(e==1)n.labelRegions.push({X:t[0].x,Y:t[0].y,Height:t[0].size.height,Width:n.newWidth-t[0].x,LabelType:t[0].lableType});else for(i=0;i<e;i++)n.model.enableRTL?(r=t[i+1]?t[i].x-t[i+1].x:t[i].x-parseInt(n.model.padding),u=t[i+1]?t[i+1].x:parseInt(n.model.padding)):(r=t[i+1]?t[i+1].x-t[i].x:n.newWidth-t[i].x-parseInt(n.model.padding),u=t[i].x),f=t[i+1]?t[i].size.height:t[i-1].size.height,n.labelRegions.push({X:u,Y:t[i].y,Height:f,Width:r,LabelType:t[i].lableType})},_setGridlines:function(n){var t,i;if(n.model.navigatorStyleSettings.minorGridLineStyle.visible===!0)for(t=1;t<n._lowerTextNode.length;t++)n.model.labelSettings.higherLevel.position=="top"&&n.model.labelSettings.lowerLevel.position=="top"?(i={x1:n._lowerLineLeft[t],y1:n.centerHeight+n.minLowHeight+n.minHighHeight,x2:n._lowerLineLeft[t],y2:n.centerPosition,stroke:n.model.navigatorStyleSettings.minorGridLineStyle.color,"stroke-width":"1"},n.renderer.drawLine(i,n.centerLevel)):(i={x1:n._lowerLineLeft[t],y1:n.centerPosition,x2:n._lowerLineLeft[t],y2:n.centerPosition+n.centerHeight,stroke:n.model.navigatorStyleSettings.minorGridLineStyle.color,"stroke-width":"1"},n.renderer.drawLine(i,n.centerLevel));else for(t=0;t<n._higherTextNode.length;t++)i={x1:n._higherLineLeft[t],y1:n.centerHeight+n.minLowHeight,x2:n._higherLineLeft[t],y2:n.centerPosition,stroke:n.model.navigatorStyleSettings.majorGridLineStyle.color,"stroke-width":"1"},n.renderer.drawLine(i,n.centerLevel)},bindTo:function(){t.util.isNullOrUndefined(this.model.dataSource)||this.model.dataSource!=null&&this.model.dataSource.length>0&&this._processJsonData(this.model.dataSource,this.model)},_processJsonData:function(n,r){for(var f,a,e,o,s,v,h=[],y=[],p=0,u=0;u<n.length;u++)typeof n[u][r.xName]=="string"&&n[u][r.xName].indexOf("/Date(")!=-1&&(n[u][r.xName]=new Date(parseInt(n[u][r.xName].substr(6)))),jQuery.type(n[u][r.xName])!="string"&&jQuery.type(n[u][r.xName])!="date"?h.push(parseFloat(t.util.isNullOrUndefined(n[u][r.xName])?u:n[u][r.xName])):h.push(t.util.isNullOrUndefined(n[u][r.xName])?u:n[u][r.xName]);if(!t.util.isNullOrUndefined(r.yName))for(f=0;f<r.yName.length;f++){for(a=[],e=0;e<n.length;e++)a.push(n[e][r.yName[f]]===null||n[e][r.yName[f]]===i?n[e][r.yName[f]]:parseFloat(n[e][r.yName[f]]));y[f]=a;p=f+1}o=new Date(Math.max.apply(null,h));s=new Date(Math.min.apply(null,h));o.getTime()==s.getTime()&&(s.setHours(0),o.setHours(23));var c=s.getTime(),l=o.getTime(),w=this.model.scrollRangeSettings;this.model.enableScrollbar?(this._scrollRange||this.scrollbarUpdate)&&this.scrollbarUpdate?this._scrollRange={min:Math.min(this._scrollRange.min,c),max:Math.max(this._scrollRange.max,l),delta:l-c}:(v=[c,l,s,o],this.calculateZoomingRange.apply(this,v)):this.setRange.call(this,c,l,s,o)},calculateZoomingRange:function(n,t,i,r){return this.calculateZoomFactorPosition.call(this,n,t,i,r),this.setRange.call(this,n,t,i,r),0},setRange:function(n,t,i,r){var u=this.model.rangeSettings;return u.start!=""&&u.end!=""?(this.startDateTime=new Date(u.start),this.endDateTime=new Date(u.end),this.startValue=u.start,this.endValue=u.end):(this.startDateTime=new Date(i),this.startValue=n,this.endDateTime=new Date(r),this.endValue=t),0},calculateZoomFactorPosition:function(n,t,i,r){var l=this.model,h=l.rangeSettings,u,a,v,f=i,e=r,o=n,s=t,c=l.scrollRangeSettings;return l.valueType.toLowerCase()=="datetime"?(f=Date.parse(c.start?new Date(c.start):i),f=Math.min(f,Date.parse(i)),f=h.start!=""?Math.min(f,Date.parse(new Date(h.start))):f,e=Date.parse(c.end?new Date(c.end):r),e=Math.max(e,Date.parse(r)),e=h.end!=""?Math.max(e,Date.parse(new Date(h.end))):e,u=e-f,l.enableRTL?(a=(e-r)/u,v=(r-i)/u):(a=(i-f)/u,v=(r-i)/u),this._scrollRange={min:f,max:e,delta:e-f}):(o=c.start!=""?parseFloat(c.start):n,o=Math.min(o,n),o=h.start!=""?Math.min(o,parseFloat(h.start)):o,s=c.end!=""?parseFloat(c.end):t,s=Math.max(s,t),s=h.end!=""?Math.max(s,parseFloat(h.end)):s,u=s-o,l.enableRTL?(a=(s-t)/u,v=(t-n)/u):(a=(n-o)/u,v=(t-n)/u),this._scrollRange={min:o,max:s,delta:s-o}),this.scrollZoomPos=a,this.scrollZoomFact=v,0},mousePosition:function(n){if(!t.util.isNullOrUndefined(n.pageX)&&n.pageX>0)return{x:n.pageX,y:n.pageY};if(n.originalEvent&&!t.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0)return{x:n.originalEvent.pageX,y:n.originalEvent.pageY};if(n.originalEvent&&n.originalEvent.changedTouches!=i){if(!t.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0)return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}}else return{x:0,y:0}},calTouchPosition:function(t){var f=jQuery.uaMatch(navigator.userAgent),i=this.mousePosition(t),r,u,e;return t.pageX=i.x,t.pageY=i.y,e=f.browser.toLowerCase(),r=t.pageX-n(this.svgDocument).offset().left,u=t.pageY-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left,{X:r,Y:u}},calMousePosition:function(t){var u=jQuery.uaMatch(navigator.userAgent),i,r;return u.browser.toLowerCase()=="mozilla"||u.browser.toLowerCase()=="webkit"?(i=t.pageX-n(this.svgDocument).parent().offset().left,r=t.pageY-n(this.svgDocument).parent().offset().top,this.leftPadding=0,this.grabPadding=0):(i=(t.originalEvent?t.originalEvent.pageX:t.pageX)-n(this.svgDocument).offset().left,r=(t.originalEvent?t.originalEvent.pageY:t.pageY)-n(this.svgDocument).offset().top,this.leftPadding=n(this.svgDocument).offset().left),{X:i,Y:r}},_performSelection:function(t){var i=this,s=i.model,r=s.navigatorStyleSettings.selectionSettings,h=r.color,u=t.target.parentNode.id,f=u=="leftslider"||u=="rightslider"||u==i._id+"thumbleft"||u==i._id+"thumbright",e=i.model.valueType,o;i._sliderHover=f||i.switched;i.selectionGrad=i.renderer.createGradientElement("selectionGrad",h,150,0,150,100,i.svgDocument);i.isNumericType=u!=i._id;(!i.isNumericType||e!="numeric")&&e=="numeric"||f||i.switched||(n("#highlightRect"+i._id).hide(),n("#selectionRect"+i._id).length==0&&(i.gselection=i.renderer.createGroup({id:"selectionRect"+i._id}),o={height:i.sliderHeight,opacity:r.opacity,stroke:r.border.color,"stroke-width":r.border.width},i.renderer.drawRect(o,i.gselection),i.selectionRect=i.gselection.firstChild,i.renderer.append(i.gselection,i.styleRect)),i.rect=i.selectionRect,i.startX=i.mouseDownX,i.renderer._setAttr(n(i.selectionRect),{fill:i.selectionGrad}),i.renderer._setAttr(n(i.selectionRect),{stroke:r.border.color}),i._highlight.call(i,i,t))},_performHighlight:function(t){var i=this,e=i.model,r=t.target.parentNode.id,u=e.navigatorStyleSettings.highlightSettings,o=u.color,s=r=="leftslider"||r=="rightslider"||r==this._id+"thumbleft"||r==this._id+"thumbright",f;this.highlightGrad=this.renderer.createGradientElement("highlightGrad",o,150,0,150,100,this.svgDocument);n("#highlightRect"+this._id).hide();s||this.isSelection||this._sliderHover||i.switched||(n("#highlightRect"+this._id).length==0&&(this.gHighlight=this.renderer.createGroup({id:"highlightRect"+this._id}),f={height:this.sliderHeight,fill:this.highlightGrad,opacity:u.opacity,stroke:u.border.color,"stroke-width":u.border.width},this.renderer.drawRect(f,this.gHighlight),this.highlightRect=this.gHighlight.firstChild,this.renderer.append(this.gHighlight,this.styleRect)),this.rect=this.highlightRect,i.startX=i.mouseDownX,this._highlight.call(this,i,t))},isTouch:function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},_rangeClick:function(n){var t=new Date;this.model.click!=""&&this._trigger("click",{data:{event:n}});this._doubleTapTimer!=null&&t-this._doubleTapTimer<300&&this._doubleClick(n);this._doubleTapTimer=t},_doubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_rightClick:function(n){var t=this.model.browserInfo;return this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}}),this.isTouch(n)&&this.model.navigatorStyleSettings.selectionSettings.enable?(event.preventDefault(),event.stopPropagation(),!1):void 0},_grab:function(i){var f,h,e,v,nt,tt,it,a,rt,s,u,o,p;this.isTouch(i)||i.preventDefault();var r=this,ut=r.model,yt=ut.browserInfo,ft=this.isTouch(i),et=ut.navigatorStyleSettings.selectionSettings,ot=ft?r.calTouchPosition(i):r.calMousePosition(i);for(r.mouseDownX=ot.X,r.mouseDownY=ot.Y,et.enable&&this._performSelection(i),f=r.edge==!0?r.target:i.target,h=f;h.parentNode;)h=h.parentNode,h.id==this._id+"thumbleft"?e=this._id+"thumbleft":h.id==this._id+"thumbright"&&(e=this._id+"thumbright");var w,b,c,k,d,g,lt=r.labelRegions.length,l=r.mouseDownX,st=r.mouseDownY;for(v=0;v<lt;v++)if(c=r.labelRegions[v],k=c.X,d=c.Y,g=c.LabelType,k<=l&&k+c.Width>=l&&d<=st&&d+c.Height>=st){w=g=="lowerLevel"?!0:!1;b=g=="higherLevel"?!0:!1;break}if(nt=!1,r.isSelection=!1,r.highlightRect&&(tt=r.highlightRect.getBoundingClientRect(),it=r.centerSlider.getBoundingClientRect(),tt.left>=it.left&&tt.right<=it.right&&(nt=!0)),!et.enable||!r.selectionRect||f.parentNode.id==="leftslider"||f.parentNode.id==="rightslider"||e==this._id+"thumbleft"||e==this._id+"thumbright"||(r.isSelection=!0,r.startX=r.mouseDownX),ft&&!r.switched){var ht=this._leftValue,ct=this._rightValue,y=10,at=n("#"+this._id+"thumbleft"),vt=n("#"+this._id+"thumbright");l>=ht.left-y&&l<=ht.right+y&&(f=this.leftCircle?this.leftCircle:at[0].firstChild,e=this.leftCircle?e:this._id+"thumbleft",this._sliderMove=!0);l>=ct.left-y&&l<=ct.right+y&&(f=this.rightCircle?this.rightCircle:vt[0].firstChild,e=this.rightCircle?e:this._id+"thumbright",this._sliderMove=!0)}if(f.parentNode.id==="leftslider"||f.parentNode.id==="rightslider"||e==this._id+"thumbleft"||e==this._id+"thumbright"||f.parentNode.id==="highlightRect"+this._id&&nt||f.parentNode.id==="centerslider"||w||b||r.isSelection)if(r.dragTarget=f.parentNode.id==="highlightRect"+this._id?n("#centerslider").children()[0]:f,r.grabbed=!0,r.edge=!1,a=r.dragTarget.parentNode.id,this.svgSupport&&(rt=e==this._id+"thumbleft"||e==this._id+"thumbright"?{e:i.clientX,f:i.clientY}:r.dragTarget.getCTM(),r.grabPoint.x=r.mouseDownX+this.leftPadding-Number(rt.e),r.grabPoint.y=r.trueCoords.y-Number(rt.f)),o=!1,p=r.model.enableRTL,p&&(r._higherLineLeft.sort(function(n,t){return n-t}),r._lowerLineLeft.sort(function(n,t){return n-t})),a!="leftslider"&&a!="rightslider"&&r.model.valueType=="datetime"&&b){for(r.grabbed=r.dragTarget.parentNode.id=="centerslider"?!0:!1,s=r.mouseDownX,u=0;u<r._higherLineLeft.length;u++)u+1<r._higherLineLeft.length&&s>r._higherLineLeft[u]&&s<r._higherLineLeft[u+1]?(r.setSliderPositions(r._higherLineLeft[u],null,null),r.setSliderPositions(null,null,r._higherLineLeft[u+1]),o=!0):u+1===r._higherLineLeft.length&&s>r._higherLineLeft[u]&&(r.setSliderPositions(r._higherLineLeft[u],null,null),r.setSliderPositions(null,null,r.newWidth-r.padding),o=!0);p&&!o&&(r.setSliderPositions(0+r.padding,null,null),r.setSliderPositions(null,null,r._higherLineLeft[0]),o=!1)}else if(a!="leftslider"&&a!="rightslider"&&r.model.valueType=="datetime"&&w){for(r.center=r.mouseDownX,r.grabbed=r.dragTarget.parentNode.id=="centerslider"?!0:!1,s=r.mouseDownX,u=0;u<r._lowerLineLeft.length;u++)u+1<r._lowerLineLeft.length&&s>r._lowerLineLeft[u]&&s<r._lowerLineLeft[u+1]?(r.setSliderPositions(r._lowerLineLeft[u],null,null),r.setSliderPositions(null,null,r._lowerLineLeft[u+1]),o=!0):u+1===r._lowerLineLeft.length&&s>r._lowerLineLeft[u]&&(r.setSliderPositions(r._lowerLineLeft[u],null,null),r.setSliderPositions(null,null,r.newWidth-r.padding),o=!0);p&&!o&&(r.setSliderPositions(0+r.padding,null,null),r.setSliderPositions(null,null,r._lowerLineLeft[0]),o=!1)}else r.isSelection&&(r.grabbed=!0);t.isTouchDevice()&&this.model.rightClick!=""&&(this._longPressTimer=new Date)},_leave:function(){n("#highlightRect"+this._id).hide()},_drag:function(t){var e,c,l,i,a,u,v,w,y,p,o,r,s,f,h;if(t.preventDefault(),e=jQuery.uaMatch(navigator.userAgent),i=this,a=this.svgSupport&&t.originalEvent.toString()!=="[object TouchEvent]"&&e.browser.toLowerCase()!="msie"?i.calMousePosition(t):this.svgSupport?i.calTouchPosition(t):i.calMousePosition(t),c=i.mouseDownX=a.X,l=i.mouseDownY=a.Y,y=i.model.navigatorStyleSettings.highlightSettings,!y.enable||this._sliderMove||this.isTouch(t)||this._performHighlight(t),this.svgSupport&&i.GetTrueCoords(t),i.model.labelSettings.higherLevel.visible||i.model.labelSettings.lowerLevel.visible)for(p=i.labelRegions.length,o=0;o<p;o++)if(u=i.labelRegions[o],v=u.X,w=u.Y,v<=c&&v+u.Width>=c&&u.Y<=l&&u.Y+u.Height>=l){n(i.rightUnSelected).css("cursor","pointer");n(i.leftUnSelected).css("cursor","pointer");break}else n(i.rightUnSelected).css("cursor","default"),n(i.leftUnSelected).css("cursor","default");if(i.dragTarget){for((i.edge||i.dragTarget!==i.leftSlider)&&i.dragTarget!==i.rightSlider&&i.dragTarget!==i.highlightRect&&i.dragTarget!==i.centerSlider?(r=i.mouseDownX,s=i.mouseDownY):this.svgSupport?e.browser.toLowerCase()=="webkit"||e.browser.toLowerCase()=="mozilla"?(r=i.mouseDownX-i.grabPoint.x,r<this.padding&&(r=this.padding),s=i.mouseDownY-i.grabPoint.y):(r=i.trueCoords.x-i.grabPoint.x,r<this.padding&&(r=this.padding),s=i.trueCoords.y-i.grabPoint.y):(r=i.mouseDownX,s=i.mouseDownY),f=i.dragTarget;f.parentNode;)f=f.parentNode,f.id==this._id+"thumbleft"?h=this._id+"thumbleft":f.id==this._id+"thumbright"&&(h=this._id+"thumbright");i.diff=i.leftSlider.getBoundingClientRect().left-i.rightSlider.getBoundingClientRect().left;i.leftdiff=i.rightSlider.getBoundingClientRect().left-this.padding-n(this.svgDocument).offset().left;i.rightdiff=i.leftSlider.getBoundingClientRect().left-this.padding-n(this.svgDocument).offset().left;i.dragTarget.parentNode.id==="leftslider"||h==this._id+"thumbleft"?(i.grabbed=!1,i.diff>=-1&&i.diff<=1&&i.switched==!1&&i.rightdiff<i.newWidth-2*this.padding?(i.target=i.rightSlider,i.switched=!0,i.edge=!0,i._grab(t),i._drag(t)):(r<=this.rightSliderPosition?(i.setSliderPositions(r,null,null),this.leftSliderPosition=r,this.leftset=!1):(i.setSliderPositions(this.rightSliderPosition,null,null),this.leftset=!0,this.leftSliderPosition=this.rightSliderPosition),(i.diff>=1||i.diff<=-1)&&(i.switched=!1)),i.left=r,i.isSelection&&(i.isSelection=!1,this.renderer._setAttr(n(this.selectionRect),{fill:"transparent"}),this.renderer._setAttr(n(this.selectionRect),{stroke:"transparent"}))):i.dragTarget.parentNode.id==="rightslider"||h==this._id+"thumbright"?(i.grabbed=!1,i.diff>=0&&i.diff<=1&&i.switched==!1&&i.leftdiff>0?(i.target=i.leftSlider,i.switched=!0,i.edge=!0,i._grab(t),i._drag(t)):(r>=this.leftSliderPosition?(i.setSliderPositions(null,null,r),this.rightSliderPosition=r):(i.setSliderPositions(null,null,this.leftSliderPosition),this.rightSliderPosition=this.leftSliderPosition),i.switched=!1),i.right=r,i.isSelection&&(i.isSelection=!1,this.renderer._setAttr(n(this.selectionRect),{fill:"transparent"}),this.renderer._setAttr(n(this.selectionRect),{stroke:"transparent"}))):i.dragTarget.parentNode.id!=="centerslider"&&i.dragTarget.parentNode.id!=="highlightRect"+this._id||i.isSelection?i.isSelection&&(this.rect=this.selectionRect,this._highlight.call(this,i,t),i.grabbed=!1):(n("#highlightRect"+this._id).hide(),r<this.padding&&(r=parseFloat(this.padding)),i.grabbed?i.grabbed=!1:(i.setSliderPositions(null,r,null),i.center=r),r>r+this.renderer._getAttrVal(n(i.dragTarget),"width")&&i.setSliderPositions(null,r,null))}},_highlight:function(i,r){var o=[],f=[],b=this.sliderHeight,y=i.startX>i.mouseDownX?i.mouseDownX:i.startX,k=i.startX==y?i.mouseDownX:i.startX,d=i.mouseDownY,s,p,w,h,c,tt=this.model.labelSettings.higherLevel.labelPlacement,g=this.model.labelSettings.lowerLevel.visible,nt=r.target.parentNode.id,u,e,l,a,v;n.each(i.labelRegions,function(n,t){s=t.X;p=t.Y;w=t.Width;h=t.LabelType=="higherLevel";c=h?nt.indexOf("higherLevel")<0&&g?t.Height:b:t.Height;y<=s+w&&s<=k&&p+c>=d&&(h?f.indexOf(t)>-1||f.push(t):o.indexOf(t)>-1||o.push(t))});v=function(n){if(n.length>0){l=n[0].X;a=n[0].X;u=n[0];e=n[0];for(var t=0;t<n.length;t++)n[t].X<l?(l=n[t].X,u=n[t]):n[t].X>a&&(a=n[t].X,e=n[t])}};f.length>0?v(f):v(o);t.isNullOrUndefined(u)||(n("#"+this.rect.parentNode.id).show(),this.renderer._setAttr(n(this.rect),{transform:"translate("+u.X+","+this.sliderPosition+")",width:e.Width+e.X-u.X}))},_drop:function(r){var w,u,a,h,e,s,f,o,p;if(n("#highlightRect"+this._id).hide(),this._sliderMove=!1,this.dragTarget){if(w=r.target,this._sliderHover=!1,this.grabbed=!1,u=this,u.model.allowSnapping&&parseInt(u.leftSlider.getBoundingClientRect().left+2)<parseInt(u.rightSlider.getBoundingClientRect().left)||u.isSelection){a=parseInt(u.model.padding);h=u.isSelection?u.rect.getBoundingClientRect():0;u.ismouseup=!0;u.dragTarget.parentNode.id==="leftslider"?e=u.left:u.dragTarget.parentNode.id==="rightslider"?e=u.right:u.isSelection?e=Math.abs(parseFloat(h.left-n("#"+this._id)[0].getBoundingClientRect().left+a)):u.dragTarget.parentNode.id==="centerslider"&&(e=u.leftSliderPosition,s=u.rightSliderPosition);var v=0,y=0,b=u._lowerLineLeft.length,c,l;for(f=0;f<u._lowerLineLeft.length;f++)if(f+1<u._lowerLineLeft.length&&e>=u._lowerLineLeft[f]&&e<u._lowerLineLeft[f+1]){if(u.snapValue=u._lowerLineLeft[f],v=u._lowerLineLeft[f+1]-u.snapValue,u.dragTarget.parentNode.id==="centerslider"){for(o=f+1;o<u._lowerLineLeft.length;o++)o+1<u._lowerLineLeft.length&&s>=u._lowerLineLeft[o]&&s<u._lowerLineLeft[o+1]&&(c=u._lowerLineLeft[o],l=u._lowerLineLeft[o+1],y=l-c);s=s>=c+y/2?l:c}e>=u.snapValue+v/2?(u.snapValue=u._lowerLineLeft[f+1],u.dragTarget.parentNode.id==="leftslider"?u.setSliderPositions(u._lowerLineLeft[f+1],null,null):u.dragTarget.parentNode.id==="rightslider"?u.setSliderPositions(null,null,u._lowerLineLeft[f+1]):u.isSelection?(u.setSliderPositions(null,null,u._lowerLineLeft[f+1]+parseFloat(h.right-h.left)),u.setSliderPositions(u._lowerLineLeft[f+1],null,null)):u.dragTarget.parentNode.id!=="centerslider"||u.grabbed||(u.setSliderPositions(null,null,s),u.setSliderPositions(u._lowerLineLeft[f+1],null,null))):(u.snapValue=u._lowerLineLeft[f],u.dragTarget.parentNode.id==="leftslider"?u.setSliderPositions(u._lowerLineLeft[f],null,null):u.dragTarget.parentNode.id==="rightslider"?u.setSliderPositions(null,null,u._lowerLineLeft[f]):u.isSelection?(u.setSliderPositions(null,null,u._lowerLineLeft[f]+parseFloat(h.right-h.left)),u.setSliderPositions(u._lowerLineLeft[f],null,null)):u.dragTarget.parentNode.id!=="centerslider"||u.grabbed||(u.setSliderPositions(null,null,s),u.setSliderPositions(u._lowerLineLeft[f],null,null)))}else f+1===u._lowerLineLeft.length&&e>=u._lowerLineLeft[f]&&(u.isSelection?(u.setSliderPositions(null,null,u._lowerLineLeft[f]+parseFloat(u.rect.getBoundingClientRect().width)),u.setSliderPositions(u._lowerLineLeft[f],null,null)):u.setSliderPositions(null,null,u.newWidth-u.padding))}this.dragTarget=null;this.leftTooltip!=i&&this.model.tooltipSettings.tooltipDisplayMode=="always"?(this.leftTooltip.setAttribute("opacity",1),this.rightTooltip.setAttribute("opacity",1)):this.leftTooltip!=i&&this.model.tooltipSettings.tooltipDisplayMode.toLowerCase()=="ondemand"&&(this.isTouch(r)?(p=[this.leftTooltip,this.rightTooltip],window.clearTimeout(this.model.timer),this.model.timer=setTimeout(function(){n(p).fadeOut(500)},1200)):(this.leftTooltip.setAttribute("opacity",0),this.rightTooltip.setAttribute("opacity",0)));this.model.enableDeferredUpdate&&(this._calculateSelectedData(),(!u.grabbed||u.isSelection)&&(this._calculateSliderZoomFactPosition(),this.model.valueType=="datetime"?(this.previousSelectedRangeStart!==new Date(this.model.selectedRangeSettings.start).getTime()||this.previousSelectedRangeEnd!==new Date(this.model.selectedRangeSettings.end).getTime())&&this._trigger("rangeChanged",this.model):(this.previousSelectedRangeStart!==this.model.selectedRangeSettings.start||this.previousSelectedRangeEnd!==this.model.selectedRangeSettings.end)&&this._trigger("rangeChanged",this.model)));u.isSelection&&(u.isSelection=!1,this.renderer._setAttr(n(this.selectionRect),{fill:"transparent"}),this.renderer._setAttr(n(this.selectionRect),{stroke:"transparent"}))}this._setSelectedRange();t.isTouchDevice()&&this.model.rightClick!=""&&new Date-this._longPressTimer>1500&&this._trigger("rightClcik",{data:{event:r}})},mouseup:function(n){this.dragTarget!=null&&(this._drop(n),this.dragTarget!=null&&(this.dragTarget.setAttributeNS(null,"pointer-events","all"),this.dragTarget=null),this.model.enableDeferredUpdate&&(this._calculateSelectedData(),this._calculateSliderZoomFactPosition(),this._trigger("rangeChanged",this.model)))},_setSelectedRange:function(){this._selectedRangeStart(this.model.selectedRangeSettings.start);this._selectedRangeEnd(this.model.selectedRangeSettings.end)},GetTrueCoords:function(n){var t=this.svgDocument.currentScale,i=this.svgDocument.currentTranslate,r=jQuery.uaMatch(navigator.userAgent);n.originalEvent.toString()!=="[object TouchEvent]"&&r.browser.toLowerCase()!="msie"?(this.trueCoords.x=(n.clientX-i.x)/t,this.trueCoords.y=(n.clientY-i.y)/t):r.browser.toLowerCase()=="msie"?(this.trueCoords.x=(n.originalEvent.clientX-i.x)/t,this.trueCoords.y=(n.originalEvent.clientY-i.y)/t):(this.trueCoords.x=(n.originalEvent.touches[0].clientX-i.x)/t,this.trueCoords.y=(n.originalEvent.touches[0].clientY-i.y)/t)},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)}});t.datavisualization.RangeNavigator.Locale=t.datavisualization.RangeNavigator.Locale||{};t.datavisualization.RangeNavigator.Locale["default"]=t.datavisualization.RangeNavigator.Locale["en-US"]={intervals:{quarter:{longQuarters:"Quarter",shortQuarters:"Q"},week:{longWeeks:"Week",shortWeeks:"W"}}};t.datavisualization.RangeNavigator.Locale["fr-FR"]={intervals:{quarter:{longQuarters:"Trimestre",shortQuarters:"T"},week:{longWeeks:"Semaine",shortWeeks:"S"}}};t.datavisualization.RangeNavigator.IntervalType={Auto:"auto",Years:"years",Quarters:"quarters",Months:"months",Weeks:"weeks",Days:"days",Hours:"hours",Minutes:"minutes"};t.datavisualization.RangeNavigator.Position={Top:"top",Bottom:"bottom"};t.datavisualization.RangeNavigator.FontStyle={Normal:"normal",Italic:"italic",Bold:"bold"};t.datavisualization.RangeNavigator.FontWeight={Regular:"regular",Bold:"bold",Lighter:"lighter"};t.datavisualization.RangeNavigator.HorizontalAlignment={Left:"left",Right:"right",Middle:"middle"};t.datavisualization.RangeNavigator.LabelPlacement={Inside:"inside",Outside:"outside"};t.datavisualization.RangeNavigator.LabelIntersectAction={None:"none",Hide:"hide"};t.datavisualization.RangeNavigator.ValueType={Numeric:"numeric",Datetime:"datetime"};t.datavisualization.RangeNavigator.RangePadding={Additional:"additional",Normal:"normal",None:"none",Round:"round"};t.datavisualization.RangeNavigator.Theme={Azure:"azure",FlatLight:"flatlight",Azuredark:"azuredark",Lime:"lime",LimeDark:"limedark",Saffron:"saffron",SaffronDark:"saffrondark",GradientLight:"gradientlight",GradientDark:"gradientdark"}}(jQuery,Syncfusion);jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},function(n,t,i){t.widget({ejMap:"ej.datavisualization.Map"},{validTags:["div"],_initPrivateProperties:function(){this._prevEnterElement="";this._rootgroup=null;this._bubblegroup=null;this._scale=1;this._prevDistance=0;this._tileTranslatePoint={x:0,y:0};this._translatePoint={x:0,y:0};this._prevPoint=null;this._Tiles=[];this._prevScale=0;this._tileDiv=null;this._containerWidth=500;this._containerHeight=400;this._baseTranslatePoint={x:0,y:0};this._isDragging=!1;this._prevLevel=1;this._startPoint={x:0,y:0};this._stopPoint={x:0,y:0};this.mouseClickable=!1;this._browser=null;this._baseScale=0;this._mapBounds=null;this._svgns="http://www.w3.org/2000/svg";this._ispanning=!1;this._dragStartX=0;this._isNavigationPressed=!1;this._iskeyboardKeysPressed=!1;this._isPolygonSelected=!1;this._dragStartY=0;this._width=350;this._height=350;this._isMapCoordinates=!0;this._margintop=0;this._marginleft=0;this._legendDivWidth=0;this._legendDivHeight=0;this._svgDocument=null;this._tooltipElement=null;this._templateDiv=null;this._scrollLegendDiv=null;this._legendContainer=null;this._legendDiv=null;this._legendDivHeight=0;this._legendDivWidth=0;this._mapContainer=null;this._isSVG=!0;this._VMLPathFractionCount=0;this._sliderControl=null;this._isTileMap=!1;this._isRendered=!1;this._urlTemplate=null;this._polylineCount=0;this._pointscount=0;this._isPinching=!1;this._groupSize=null;this._groupBorder={x:0,y:0}},defaults:{locale:null,enableRTL:!1,enableGroupSeparator:!1,background:"transparent",zoomSettings:{minValue:1,maxValue:100,factor:1,level:1,enableZoomOnSelection:!1,enableMouseWheelZoom:!0,enableZoom:!0,animationDuration:600},centerPosition:null,enableResize:!0,isResponsive:!0,enableAnimation:!1,draggingOnSelection:!1,navigationControl:{enableNavigation:!1,content:null,orientation:"vertical",absolutePosition:{x:0,y:0},dockPosition:"centerleft"},enableLayerChangeAnimation:!1,enablePan:!0,zoomLevel:1,minZoom:1,maxZoom:100,zoomFactor:1,baseMapIndex:0,shapeSelected:"",markerSelected:"",markerEnter:"",markerLeave:"",legendItemRendering:"",displayTextRendering:"",legendItemClick:"",bubbleRendering:"",shapeRendering:"",zoomedIn:"",onRenderComplete:"",refreshed:"",panned:"",zoomedOut:"",mouseover:"",mouseleave:"",click:"",doubleClick:"",rightClick:"",onLoad:"",layers:[]},observables:["baseMapIndex","enablePan","enableResize","enableAnimation","zoomLevel","minZoom","maxZoom","zoomFactor",],_zoomLevel:t.util.valueFunction("zoomLevel"),_minZoom:t.util.valueFunction("minZoom"),_maxZoom:t.util.valueFunction("maxZoom"),_zoomFactor:t.util.valueFunction("zoomFactor"),baseMapIndex:t.util.valueFunction("baseMapIndex"),enablePan:t.util.valueFunction("enablePan"),enableResize:t.util.valueFunction("enableResize"),enableAnimation:t.util.valueFunction("enableAnimation"),_tags:[{tag:"layers",attr:["legendSettings.showLegend","legendSettings.toggleVisibility","legendSettings.positionX","legendSettings.positionY","legendSettings.type","legendSettings.labelOrientation","legendSettings.title","legendSettings.mode","legendSettings.position","legendSettings.dockOnMap","legendSettings.dockPosition","legendSettings.leftLabel","legendSettings.rightLabel","legendSettings.icon","legendSettings.iconHeight","legendSettings.iconWidth","legendSettings.height","legendSettings.width","legendSettings.showLabels","labelSettings.showLabels","labelSettings.labelPath","labelSettings.enableSmartLabel","labelSettings.labelLength","labelSettings.smartLabelSize","selectedMapShapes","selectionMode","bubbleSettings.showBubble","bubbleSettings.valuePath","bubbleSettings.minValue","bubbleSettings.bubbleOpacity","bubbleSettings.showTooltip","bubbleSettings.tooltipTemplate","bubbleSettings.colorValuePath","bubbleSettings.maxValue","bubbleSettings.color","enableAnimation","enableSelection","enableMouseHover","showTooltip","showMapItems","mapItemsTemplate","shapeData","dataSource","shapePropertyPath","shapeDataPath","layerType","bingMapType","urltemplate","shapeSettings.highlightColor","shapeSettings.highlightBorderWidth","shapeSettings.selectionColor","shapeSettings.fill","shapeSettings.strokeThickness","shapeSettings.selectionStrokeWidth","shapeSettings.stroke","shapeSettings.selectionStroke","shapeSettings.highlightStroke","shapeSettings.colorValuePath","shapeSettings.valuePath","shapeSettings.autoFill","shapeSettings.enableGradient","shapeSettings.colorPalette","shapeSettings.customPalette","key",[{tag:"markers",attr:["label","latitude","longitude"],singular:"marker"},{tag:"bubbleSettings.colorMappings.rangeColorMapping",attr:["from","to","color"],singular:"bubblerangeColorMap"},{tag:"bubbleSettings.colorMappings.equalColorMapping",attr:["value","color"],singular:"bubbleequalColorMap"},{tag:"shapeSettings.colorMappings.rangeColorMapping",attr:["from","to","color","gradientColors"],singular:"shaperangeColorMap"},{tag:"shapeSettings.colorMappings.equalColorMapping",attr:["value","color"],singular:"shapeequalColorMap"},{tag:"subLayers",attr:["legendSettings.showLegend","legendSettings.toggleVisibility","legendSettings.positionX","legendSettings.positionY","legendSettings.type","legendSettings.labelOrientation","legendSettings.title","legendSettings.mode","legendSettings.position","legendSettings.dockOnMap","legendSettings.dockPosition","legendSettings.leftLabel","legendSettings.rightLabel","legendSettings.icon","legendSettings.iconHeight","legendSettings.iconWidth","legendSettings.height","legendSettings.width","legendSettings.showLabels","labelSettings.showLabels","labelSettings.labelPath","labelSettings.enableSmartLabel","labelSettings.labelLength","labelSettings.smartLabelSize","selectedMapShapes","selectionMode","bubbleSettings.showBubble","bubbleSettings.valuePath","bubbleSettings.minValue","bubbleSettings.bubbleOpacity","bubbleSettings.showTooltip","bubbleSettings.tooltipTemplate","bubbleSettings.colorValuePath","bubbleSettings.maxValue","bubbleSettings.color","enableAnimation","enableSelection","enableMouseHover","showTooltip","showMapItems","mapItemsTemplate","shapeData","dataSource","shapePropertyPath","shapeDataPath","layerType","bingMapType","urltemplate","shapeSettings.highlightColor","shapeSettings.highlightBorderWidth","shapeSettings.selectionColor","shapeSettings.fill","shapeSettings.strokeThickness","shapeSettings.selectionStrokeWidth","shapeSettings.stroke","shapeSettings.selectionStroke","shapeSettings.highlightStroke","shapeSettings.colorValuePath","shapeSettings.valuePath","shapeSettings.autoFill","shapeSettings.enableGradient","shapeSettings.colorPalette","shapeSettings.customPalette","key",[{tag:"markers",attr:["label","latitude","longitude"],singular:"marker"},{tag:"bubbleSettings.colorMappings.rangeColorMapping",attr:["from","to","color"],singular:"bubblerangeColorMap"},{tag:"bubbleSettings.colorMappings.equalColorMapping",attr:["value","color"],singular:"bubbleequalColorMap"},{tag:"shapeSettings.colorMappings.rangeColorMapping",attr:["from","to","color","highlightcolor"],singular:"shaperangeColorMap"},{tag:"shapeSettings.colorMappings.equalColorMapping",attr:["value","color"],singular:"shapeequalColorMap"}],],singular:"subLayer"}]],singular:"layer"}],dataTypes:{layers:"array"},_destroy:function(){this._unWireEvents();this._isSVG?n(this.element).removeClass("e-datavisualization-map e-js").find("#svgDocument").remove():n(this.element).removeClass("e-datavisualization-map e-js").find("#rootGroup").remove();n(this.element).removeClass("e-map-navigation").find("#ejNavigation").remove();n(this.element).find(".e-TemplateDiv").remove()},_setModel:function(t){var i,r;for(i in t)switch(i){case"zoomSettings":this.model.zoomSettings.enableZoom&&(this._zoomLevel(this.model.zoomSettings.level),this._zoomFactor(this.model.zoomSettings.factor),this._maxZoom(this.model.zoomSettings.maxValue),this._minZoom(this.model.zoomSettings.minValue),this.zoom(this._zoomLevel()));break;case"zoomLevel":this.model.zoomSettings.level=this._zoomLevel();this.zoom(this._zoomLevel());break;case"zoomFactor":this.model.zoomSettings.factor=this._zoomFactor();this.zoom(this._zoomLevel());break;case"minZoom":this.model.zoomSettings.minValue=this._minZoom();this.zoom(this._zoomLevel());break;case"maxZoom":this.model.zoomSettings.maxValue=this._maxZoom();this.zoom(this._zoomLevel());break;case"baseMapIndex":this.baseMapIndex(t[i]);r=this;this._groupSize=null;this.enableAnimation()?(this.model.enableLayerChangeAnimation=!0,n(this._mapContainer).animate({opacity:0},500,function(){r.refresh(!0)})):this.refresh(!0);break;case"background":baseLayer.layerType=="geometry"&&n(this._svgDocument).css("background",this.model.background)}},_layers:function(n,t){t=="shapeSettings.fill"||t=="shapeSettings.strokeThickness"||t=="shapeSettings.selectionColor"||t=="shapeSettings.highlightColor"?this.clearShapeSelection():t=="showMapItems"||t=="dataSource"?this.refreshLayers():this.refresh(!0)},_layers_markers:function(){this.refreshMarkers()},_layers_subLayers:function(n,t){t=="showMapItems"||t=="dataSource"?this.refreshLayers():this.refresh(!0)},_init:function(){var t=this;this._navigationStyle=null;this.navigationControlData=null;this._initPrivateProperties();this._setZoomProperties();this._localizedLabels=this._getLocalizedLabels();n.each(this.model.layers,function(n){t._layerInitialize(n)});this._mapContainer=this.element;n(this._mapContainer).css({overflow:"hidden"});document.documentMode==8&&n(this._mapContainer).css({overflow:"hidden",position:"relative"});this._wireEvents();this.refresh();this._trigger("onRenderComplete");this._isRendered=!0;this._isSVG&&this.model.enablePan&&n(this._svgDocument).pinchZoom(this._rootgroup,this)},_setZoomProperties:function(){typeof this.model.zoomSettings.factor!="function"&&(this._zoomFactor(this.model.zoomSettings.factor),this._zoomLevel(this.model.zoomSettings.level),this._minZoom(this.model.zoomSettings.minValue),this._maxZoom(this.model.zoomSettings.maxValue))},_getLocalizedLabels:function(){return t.getLocalizedConstants(this.sfType,this.model.locale)},_layerInitialize:function(t){var i=this;this.model.layers[t]!=null?n.each(this.model.layers,function(t,u){u=i._checkArrayObject(u,t);var f=new r;n.extend(f,u);n.extend(u,f);n.each(u.subLayers,function(t,u){u=i._checkArrayObject(u,t);var f=new r;n.extend(f,u);n.extend(u,f)})}):this.layers[0]=new r},_checkArrayObject:function(t,i){var f=["background","zoomSettings","bubbleSettings","minValue","maxValue","factor","level","enableZoomOnSelection","enableZoom","centerPosition","enableResize","isResponsive","enableAnimation","draggingOnSelection","navigationControl","enableNavigation","orientation","absolutePosition","dockPosition","enablePan","baseMapIndex","enableSelection","selectionMode","enableMouseHover","shapeData","dataSource","showTooltip","legendSettings","showLegend","showLabels","position","height","width","type","mode","dockOnMap","dockPosition","labelSettings","labelPath","enableSmartLabel","smartLabelSize","layerType","showMapItems","shapeSettings","highlightColor","highlightBorderWidth","selectionColor","fill","strokeThickness","stroke","highlightStroke","selectionStroke","selectionStrokeWidth","colorValuePath","valuePath","enableGradient","autoFill",""],u=this;return n.each(t,function(n,t){if(f.indexOf(n)>-1)if(t instanceof Array)u._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var e=new r;u._loadIndividualDefaultValues(t,e,typeof n=="number"?i:n)}}),t},_loadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._loadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},_refreshWithAnimation:function(){this.model.layers[this.baseMapIndex()]._setMapItemsPositionWithAnimation(this);for(var n=0;n<this.model.layers[this.baseMapIndex()].subLayers.length;n++)this.model.layers[this.baseMapIndex()].subLayers[n]._setMapItemsPositionWithAnimation(this)},_resizeShape:function(){this.model.layers[this.baseMapIndex()]._resizeShapes(this);for(var n=0;n<this.model.layers[this.baseMapIndex()].subLayers.length;n++)this.model.layers[this.baseMapIndex()].subLayers[n]._resizeShapes(this)},_refrshLayers:function(){var n=this.model.layers[this.baseMapIndex()],t,i;for((n._bubbles.length>0||n._mapItems.length>0||n._mapMarkers.length>0||n._labelCollection.length>0)&&n._setMapItemsPosition(this),i=0;i<n.subLayers.length;i++)t=n.subLayers[i],(t._bubbles.length>0||t._mapItems.length>0||t._mapMarkers.length>0||t._labelCollection.length>0)&&t._setMapItemsPosition(this)},_panTileMap:function(n,t,i){var u=Math.pow(2,this._zoomLevel())*256,r;this._tileTranslatePoint.x=n/2-u/2;this._tileTranslatePoint.y=t/2-u/2;r=this._convertTileLatLongtoPoint(i[0],i[1]);this._tileTranslatePoint.x-=r.x-n/2;this._tileTranslatePoint.y-=r.y-t/2},_generateTiles:function(i,r,f,e){var d=navigator.language||navigator.userLanguage,g,nt,c,l,a,v,s,k,y,h,p,w,b;this.Tiles=[];g=nt=Math.pow(2,i);var o=this.model.layers[this.baseMapIndex()],tt=Math.min(nt,(-this._tileTranslatePoint.y+this._height)/256+1),it=Math.min(g,(-this._tileTranslatePoint.x+this._width)/256+1),rt=-(this._tileTranslatePoint.x+256)/256,ut=-(this._tileTranslatePoint.y+256)/256;for(c=Math.round(rt);c<Math.round(it);c++)for(l=Math.round(ut);l<Math.round(tt);l++)a=256*c+this._tileTranslatePoint.x,v=256*l+this._tileTranslatePoint.y,a>-256&&a<=this._width&&v>-256&&v<this._height&&c>=0&&l>=0&&(s=new u(c,l),s.left=a,s.top=v,o.layerType==t.datavisualization.Map.LayerType.Bing?(r&&o.imageUrl!=r&&(o.imageUrl=r),f&&o.subDomains!=f&&(o.subDomains=f),e&&o.maxZoom!=e&&(o.maxZoom=e),s.src=this._getBingMap(s,o.key,o.bingMapType,d,o.imageUrl,o.subDomains,o.maxZoom)):s.src=this._urlTemplate.replace("level",this._zoomLevel()).replace("tileX",s.X).replace("tileY",s.Y),this.Tiles.push(s));for(k=n.extend(!0,[],this.Tiles),y=0;y<this.model.layers[this.baseMapIndex()].subLayers.length;y++)if(h=this.model.layers[this.baseMapIndex()].subLayers[y],h.layerType==t.datavisualization.Map.LayerType.OSM||h.layerType==t.datavisualization.Map.LayerType.Bing)for(p=0;p<k.length;p++)w=k[p],b=n.extend(!0,{},w),b.src=h.layerType==t.datavisualization.Map.LayerType.Bing?this._getBingMap(b,h.key,h.bingMapType,d):h.urlTemplate.replace("level",this._zoomLevel()).replace("tileX",w.X).replace("tileY",w.Y),this.Tiles.push(b);this._arrangeTiles()},_getBingMap:function(n,t,i,r,u,f,e){for(var s,c,o="",h=Math.min(this._zoomLevel(),e);h>0;h--)s=0,c=1<<h-1,(n.X&c)!=0&&s++,(n.Y&c)!=0&&(s+=2),o=o+""+s;return u=u.replace("{quadkey}",o).replace("{subdomain}",f[Math.min(o.substr(o.length-1,1),f.length)]),u+("&mkt="+r+"&ur=IN&Key="+t)},_arrangeTiles:function(){var t=n.templates("<div><div style='position:absolute;left:{{:left}}px;top:{{:top}}px;height:{{:height}}px;width:{{:width}}px;'><img src={{:src}}><\/img><\/div><\/div>"),i=t.render(this.Tiles),r=this._mapContainer[0].children[0];this._tileDiv.html(i)},refreshLayer:function(i,r){var f,e,l,o,a,s,v,h,u,c;for(s=t.util.isNullOrUndefined(r),f=s?this.model.layers[i]:this.model.layers[i].subLayers[r],e=s?"_layerIndex"+i:"_sublayerIndex"+r,l=document.getElementById("rootGroup").childNodes.length,o=n("#"+this._id).find("path[id*='"+e+"']"),o.remove(),a=this._calculatePath(i,r,this.model.layers[i]),h=jQuery(a),f.bubbleSettings.showBubble&&(v=n("#"+this._id).find("circle[id*='"+e+"']"),v.remove()),u=0;u<h.length;u++)c=document.createElementNS("http://www.w3.org/2000/svg","path"),this._cloneAttributes(c,h[u]),n("#rootGroup").append(c);this._renderLayers(f,l-o.length,this);this._refrshLayers()},_cloneAttributes:function(n,t){for(var i,r=Array.prototype.slice.call(t.attributes);i=r.pop();)n.setAttribute(i.nodeName,i.nodeValue)},_calculatePath:function(n,r,u){var f=t.util.isNullOrUndefined(r)?u.subLayers:u.subLayers[r],n=t.util.isNullOrUndefined(n)?this.baseMapIndex():n,o="",e;if(this._isSVG=window.SVGSVGElement?!0:!1,t.util.isNullOrUndefined(r)&&(u.layerType.toLowerCase()==t.datavisualization.Map.LayerType.Geometry?u!=i&&u.shapeData!=null&&(u._isBaseLayer=!0,this._isTileMap=!1,this._scale=this._zoomLevel(),o=this._readShapeData(u,n,null)):(this._isTileMap=!0,this._scale=Math.pow(2,this._zoomLevel()-this._zoomFactor()))),t.util.isNullOrUndefined(f.length))f.layerType==t.datavisualization.Map.LayerType.Geometry&&f.shapeData!=null&&(f._isBaseLayer=!1,o+=this._readShapeData(f,n,r));else for(e=0;e<f.length;e++)f[e].layerType==t.datavisualization.Map.LayerType.Geometry&&f[e].shapeData!=null&&(f[e]._isBaseLayer=!1,o+=this._readShapeData(f[e],n,e));return o},_generatePath:function(i,r){var f=t.util.isNullOrUndefined(i)?this.model.layers[this.baseMapIndex()]:this.model.layers[i],e=this._calculatePath(i,r,f),o,s,u;this._isSVG?(o='<div style="position:relative;" id="tileDiv"/><svg xmlns="http://www.w3.org/2000/svg" style= "overflow:hidden;z-index:0;float:left;left:0,top:0"id="svgDocument"> <g id="rootGroup">'+e+"<\/g><\/svg>",this._mapContainer.html(o),this._svgDocument=this.element.find("#svgDocument")[0],this._tileDiv=this.element.find("#tileDiv")):(document.createStyleSheet().addRule(".vml","behavior:url(#default#VML);display:inline-block"),document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),s='<div id="tileDiv"/><v:group   id = "rootGroup" style="position:absolute; width:'+this._width+"px;height:"+this._height+'px;" coordorigin = "0 0" coordsize="'+this._width+" "+this._height+'">'+e+"<\/v:group>",this._mapContainer.html(s),this._tileDiv=this.element.find("#tileDiv"),this._bubblegroup=this._createGroup(!1,"bubbleGroup"),this._bubblegroup.style.position="absolute",this.element.append(this._bubblegroup));f.layerType==t.datavisualization.Map.LayerType.OSM?(this._urlTemplate=f.urlTemplate,this.model.centerPosition!=null?this._panTileMap(this._width,this._height,this.model.centerPosition):this._panTileMap(this._width,this._height,[0,0]),this._generateTiles(this._zoomLevel()),this._isSVG&&n(this._svgDocument).css("position","relative")):f.layerType==t.datavisualization.Map.LayerType.Bing&&(u=this,n.ajax({url:"http://dev.virtualearth.net/REST/V1/Imagery/Metadata/"+f.bingMapType+"?output=json&include=ImageryProviders&key="+f.key,success:function(t){if(t&&t.statusCode==200){var i=t.resourceSets[0].resources[0],r=i.imageUrl,e=i.imageUrlSubdomains,o=i.zoomMax;u._urlTemplate=f.urlTemplate;u.model.centerPosition!=null?u._panTileMap(u._width,u._height,u.model.centerPosition):u._panTileMap(u._width,u._height,[0,0]);u._generateTiles(u._zoomLevel(),r,e,o);u._isSVG&&n(u._svgDocument).css("position","relative")}}}),u.model.centerPosition!=null?u._panTileMap(u._width,u._height,u.model.centerPosition):u._panTileMap(u._width,u._height,[0,0]));this._isSVG&&n(this._mapContainer).css("position","relative");this._rootgroup=this.element.find("#rootGroup")[0];this._on(n(this.element),t.eventType.mouseDown,{map:this},this.dragDown);this._on(n(this.element),t.eventType.mouseMove,{map:this},this.dragMove);this._on(n(this.element),t.eventType.mouseUp,{map:this},this.dragUp)},isMultipolygon:function(n){return n.length>0&&n[0].length>0&&n[0][0].length>0&&n[0][0][0].length>0},calculateMultiPolygonBBox:function(n,t,i){for(var r=0;r<n.length;r++)t=this.calculatePolygonBBox(n[r],t,i||r>0);return!0},calculatePolygonBBox:function(n,t,i){for(var r,u,e=n.length,f=0;f<e;f++)if(r="",e>1?(r=n[f][0],r.length<=2&&(r=n[f])):r=n[f],r.length>2)for(u=0;u<r.length;u++)r[u][1]!=null&&r[u][0]!=null&&(i?(t.minLatitude=Math.min(t.minLatitude,r[u][1]),t.maxLatitude=Math.max(t.maxLatitude,r[u][1]),t.minLongitude=Math.min(t.minLongitude,r[u][0]),t.maxLongitude=Math.max(t.maxLongitude,r[u][0])):(t.minLatitude=t.maxLatitude=r[u][1],t.minLongitude=t.maxLongitude=r[u][0],i=!0));else r[u][1]!=null&&r[u][0]!=null&&(i?(t.minLatitude=Math.min(t.minLatitude,r[1]),t.maxLatitude=Math.max(t.maxLatitude,r[1]),t.minLongitude=Math.min(t.minLongitude,r[0]),t.maxLongitude=Math.max(t.maxLongitude,r[0])):(t.minLatitude=t.maxLatitude=r[1],t.minLongitude=t.maxLongitude=r[0],i=!0));return t},_calculateBBox:function(n,t,i){var u,f,e,o,v,l={minLatitude:0,maxLatitude:0,minLongitude:0,maxLongitude:0},y=!1,a,c,r,h,s;if(u=f=e=o=0,n!=null&&n.length>0)for(r=0;r<n.length;r++)a=n[r],v=a.geometry!=null?a.geometry.coordinates:a.coordinates,this.isMultipolygon(v)?this.calculateMultiPolygonBBox(v,l,r>0):this.calculatePolygonBBox(v,l,r>0);if(u=l.minLatitude,f=l.maxLatitude,e=l.minLongitude,o=l.maxLongitude,i!=null&&i.length>0)for(r=0;r<i.length;r++)a=i[r],c=a.geometry.coordinates,y?(u=Math.min(u,c[1]),f=Math.max(f,c[1]),e=Math.min(e,c[0]),o=Math.max(o,c[0])):(u=f=c[1],e=o=c[0],y=!0);if(t!=null&&t.length>0)for(r=0;r<t.length;r++)for(h=t[r].geometry==null?t[r].coordinates:t[r].geometry.coordinates,s=0;s<h.length;s++)y?(u=Math.min(u,h[s][1]),f=Math.max(f,h[s][1]),e=Math.min(e,h[s][0]),o=Math.max(o,h[s][0])):(u=f=h[s][1],e=o=h[s][0],y=!0);return this._groupSize!=null||this._isMapCoordinates||(this._groupSize={minX:e,maxX:o,minY:u,maxY:f}),[[e,u],[o,f]]},_readShapeData:function(n,i,r){var e=this,u,f;if(n.shapeData!=null)if(typeof n.shapeData=="string")u=new t.DataManager(n.shapeData),f=t.Query().from(n),u.executeQuery(f).done(function(t){if(t.result!=null)return e._getPathCollection(t.result,n,i,r)});else return this._getPathCollection(n.shapeData,n,i,r)},_getFactor:function(){var n,t,i,r;if(this._mapBounds!=null){var u=this._convertTileLatLongtoPointForShapes(this._mapBounds[0][1],this._mapBounds[0][0],this._mapBounds),f=this._convertTileLatLongtoPointForShapes(this._mapBounds[1][1],this._mapBounds[1][0],this._mapBounds);r=i=1;n=f.y-u.y;t=f.x-u.x}else n=t=500;return i=n<this._height?parseFloat(Math.abs(this._height/n+"e+1").toString().split(".")[0]/10):this._height/n,r=t<this._width?parseFloat(Math.abs(this._width/t+"e+1").toString().split(".")[0]/10):this._width/t,Math.min(r,i)},_getPathCollection:function(i,r,u,f){var dt="",st="",ht="",nt,tt,pt,v,y,p,w,et,ni,bt,kt,lt,k,ot,h,i,e,ct,a,b,s,c,o,vt,yt,l,at,g,d,ii;if(i.features!=null?(ht=new t.DataManager(i.features),st="geometry.type",r._isBaseLayer&&(this._mapBounds=i.bbox)):i.geometries!=null&&(ht=new t.DataManager(i.geometries),st="type",r._isBaseLayer&&i.bbox!=null&&(this._mapBounds=[[i.bbox[0],i.bbox[1]],[i.bbox[2],i.bbox[3]]])),i.geometries!=null||i.features!=null){var ri=t.Query().from(r).where(st,t.FilterOperators.equal,"LineString"),ui=t.Query().from(r).where(st,t.FilterOperators.equal,"Polygon"),fi=t.Query().from(r).where(st,t.FilterOperators.equal,"MultiPolygon"),it=ht.executeLocal(ri),ut=ht.executeLocal(ui),ei=t.Query().from(r).where(st,t.FilterOperators.equal,"Point"),ft=ht.executeLocal(ei),oi=ht.executeLocal(fi);if(this._polylineCount=this._polylineCount+it.length,this._pointscount=this._pointscount+ft.length,n.merge(ut,oi),r._isBaseLayer&&r.geometryType==t.datavisualization.Map.GeometryType.Normal&&(this._isMapCoordinates=!1),this._mapBounds==null&&r._isBaseLayer?this._mapBounds=this._calculateBBox(ut,it,ft):this._mapBounds==null&&(this._mapBounds=[[-180,-85],[180,85]]),at=this._getFactor(),r._newBounds=[],pt="",this._groupSize!=null&&(v=this._groupSize.minX,y=this._groupSize.maxX,p=this._groupSize.minY,w=this._groupSize.maxY),et=!0,ft.length>0)for(o=0;o<ft.length;o++){var wt=ft[o],h=wt.geometry.coordinates,i=[],e=[];i.push({lat:parseFloat(h[1]),lng:parseFloat(h[0])});ct=0;a=i[0];nt=a.lat;tt=a.lng;s=this._convertTileLatLongtoPointForShapes(nt,tt,this._mapBounds,at);b=this._mapBounds;tt>=b[0][0]&&tt<=b[1][0]&&nt>=b[0][1]&&nt<=b[1][1]?(et&&this._groupSize==null?(v=y=s.x,p=w=s.y,et=!1):(v=Math.min(v,s.x),y=Math.max(y,s.x),p=Math.min(p,s.y),w=Math.max(w,s.y)),this._isSVG?e.push({x:s.x,y:s.y,lat:a.lat,lng:a.lng}):e.push({x:s.x-5/this._scale,y:s.y-5/this._scale,lat:a.lat,lng:a.lng}),d=this._id+"_layerIndex"+u+(t.util.isNullOrUndefined(f)?"":"_sublayerIndex"+f)+"_shapeIndex"+o,this._isSVG?pt+='<circle cx="'+e[0].x+'" cy="'+e[0].y+'" r="'+r.shapeSettings.radius/this._scale+'" stroke="'+r.shapeSettings.stroke+'" stroke-width="'+r.shapeSettings.strokeThickness+'" id="'+d+'" fill="'+r.shapeSettings.fill+'" />':(ni='<v:oval display="block" fill="'+r.shapeSettings.fill+'" style="position:absolute;top: '+e[0].y+"px;left:"+e[0].x+"px;width:"+10/this._scale+"px;height:"+10/this._scale+"px;stroke-width:"+r.shapeSettings.strokeThickness+'px;"" id="'+d+"><\/v:oval>",pt+=ni)):(ft.splice(o,1),o--)}if(ut.length>0)for(o=0;o<ut.length;o++){var wt=ut[o],si=o,ti=0,gt,rt;if(rt=wt.geometry!=null?wt.geometry.coordinates:wt.coordinates,gt=rt[0][0].length,bt=rt.length,bt>1)for(kt=rt,lt=0;lt<kt.length;lt++)gt<kt[lt][0].length&&(gt=kt[lt][0].length,ti=lt);for(k="",ot=0;ot<bt;ot++){if(h="",bt>1?(h=rt[ot][0],h.length<=2&&(h=rt[ot])):h=rt[ot],i=[],e=[],h.length>2)for(l=0;l<h.length;l++)i.push({lat:parseFloat(h[l][1]),lng:parseFloat(h[l][0])});else if(this.isMultipolygon(rt)){for(c=0;c<h.length;c++)if(h[c].length>2)for(l=0;l<h[c].length;l++)i.push({lat:parseFloat(h[c][l][1]),lng:parseFloat(h[c][l][0])})}else i.push({lat:parseFloat(h[1]),lng:parseFloat(h[0])});for(ct=0;ct<i.length-1||i.length==1&&ct==0;ct++)a=i[ct],nt=a.lat,tt=a.lng,b=this._mapBounds,(this._isTileMap||tt>=b[0][0]&&tt<=b[1][0]&&nt>=b[0][1]&&nt<=b[1][1])&&(s=this._convertTileLatLongtoPointForShapes(nt,tt,b,at),et&&this._groupSize==null?(v=y=s.x,p=w=s.y,et=!1):(v=Math.min(v,s.x),y=Math.max(y,s.x),p=Math.min(p,s.y),w=Math.max(w,s.y)),this._isSVG?e.push({x:s.x,y:s.y,lat:a.lat,lng:a.lng}):e.push({x:s.x,y:s.y,lat:a.lat,lng:a.lng}));if(ot==ti&&r._newBounds.push(this._findMidPointofPoylgon(e)),e.length>0)if(this._isSVG){for(k+="M"+e[0].x+","+e[0].y,c=1;c<e.length;c++)k+=","+e[c].x+","+e[c].y;k+="Z"}else{for(k+="m"+parseInt(e[0].x)+","+parseInt(e[0].y),k+=" l"+parseInt(e[0].x)+","+parseInt(e[0].y),c=1;c<e.length;c++)k+=","+parseInt(e[c].x)+","+parseInt(e[c].y);k+=" e"}}k!=""?(d=this._id+"_layerIndex"+u+(t.util.isNullOrUndefined(f)?"":"_sublayerIndex"+f)+"_shapeIndex"+o,dt+=this._isSVG?'<path class="e-mapShape" stroke='+r.shapeSettings.stroke+" stroke-width="+r.shapeSettings.strokeThickness/this._scale+" fill= "+r.shapeSettings.fill+' d="'+k+'"  stroke-linejoin= round stroke-linecap= square id="'+d+'"><\/path>':'<v:shape  style="width:'+this._width+"px;height:"+this._height+'px;"  coordsize="'+this._width+" "+this._height+'" coordorigin="0 0" strokecolor='+r.shapeSettings.stroke+" stroke-width="+r.shapeSettings.strokeThickness/this._scale+'px" fillcolor= '+r.shapeSettings.fill+" id="+d+' path="'+k+'"><\/v:shape>'):(ut.splice(o,1),o--)}if(it.length>0)for(o=0;o<it.length;o++){for(vt=it[o].geometry==null?it[o].coordinates:it[o].geometry.coordinates,yt="",l=0;l<vt.length;l++)at=this._getFactor(),g=this._convertTileLatLongtoPointForShapes(vt[l][1],vt[l][0],this._mapBounds,at),et&&this._groupSize==null?(v=y=g.x,p=w=g.y,et=!1):(v=Math.min(v,g.x),y=Math.max(y,g.x),p=Math.min(p,g.y),w=Math.max(w,g.y)),yt+=g.x+","+g.y,l!=vt.length-1&&(yt+=",");d=this._id+"_layerIndex"+u+(t.util.isNullOrUndefined(f)?"":"_sublayerIndex"+f)+"_shapeIndex"+o;dt+=this._isSVG?"<polyline stroke="+r.shapeSettings.stroke+" id="+d+" stroke-width="+r.shapeSettings.strokeThickness/this._scale+' fill="transparent" stroke-width="1" points="'+yt+'" ><\/polyline>':'<v:polyline coordsize="'+this._width+", id="+d+this._height+'" coordorigin="0 0" strokecolor='+r.shapeSettings.stroke+" strokeweight="+r.shapeSettings.strokeThickness/this._scale+'px" fillcolor='+r.shapeSettings.fill+'  points="'+yt+'"/>'}return this._isMapCoordinates&&(this._groupSize={minX:v,maxX:y,minY:p,maxY:w}),ii=[].concat(ut,it),r._polygonData=n.merge(ii,ft),dt+pt}return r._polygonData=[],null},_createGroup:function(n,t){var i;return i=document.createElement("<v:group class="+t+">"),i.style.width=this._width+"px",i.style.height=this._height+"px",i.coordorigin="0 0",i.coordsize=this._width+" "+this._height,n&&(this._rootgroup=i,i.style.left="20px",i.style.top="20px"),i},_generatePaletteColorsForShape:function(n,t,i,r){r!=null&&(t.shapeSettings.highlightColor=r.highlightColor,t.shapeSettings.highlightStroke=r.highlightStroke,t.shapeSettings.selectionColor=r.SelectionColor,t.shapeSettings.selectionStroke=r.SelectionStroke);this._isSVG?n.setAttribute("fill",i[t._prevPaletteIndex]):n.fillcolor=i[t._prevPaletteIndex];t._prevPaletteIndex=t._prevPaletteIndex+1;t._prevPaletteIndex>i.length-1&&(t._prevPaletteIndex=0)},_renderLayers:function(r,u,f){var nt,d,ot,dt,tt,v,s,w,h,yt,gt,pt,g,ni,wt,c,b,ct,lt,ti,ii,l,bt,ri,it,at,rt,kt,a,k,ut,y;r._prevPaletteIndex=0;r._initializeLocalValues();r.selectedItems==null&&(r.selectedItems=[]);var fi=this._rootgroup,ui=this._svgDocument,o=this,e=r,ft=0,et=0;if(e.dataSource!=null&&e.bubbleSettings!=null)for(e.bubbleSettings.colorValuePath==null&&(e.bubbleSettings.colorValuePath=e.bubbleSettings.valuePath),nt=0;nt<e.dataSource.length;nt++)d=parseFloat(this._reflection(e.dataSource[nt],e.bubbleSettings.valuePath)),nt!=0?d>et?et=d:d<ft&&(ft=d):ft=et=d;if(r._renderedShapes=e.dataSource,e.showTooltip&&this._generateTooltipForLayers(e),e.shapeData!=null){if(ot=[],e.dataSource!=null)for(b=0;b<e.dataSource.length;b++)dt=e.dataSource[b],tt=o._reflection(dt,e.shapeDataPath),tt!=null&&(tt=tt.toLowerCase()),ot.push(tt);for(v=0;v<e._polygonData.length;v++){var st=e._polygonData[v].properties,ht=o._reflection(st,e.shapePropertyPath),vt,p=e.bubbleSettings.colorPath;if(ht!=null&&typeof ht=="string"&&(vt=ht.toLowerCase()),s=this._rootgroup.childNodes[v+u],f._isSVG?s.setAttribute("fill",e.shapeSettings.fill):(s.fillcolor=e.shapeSettings.fill,s.strokecolor=e.shapeSettings.stroke),c={},w=e._newBounds[v],e.shapeSettings.autoFill)switch(e.shapeSettings.colorPalette){case t.datavisualization.Map.ColorPalette.Palette1:this._generatePaletteColorsForShape(s,e,e.colorPalettes.Palette1,e._colorPaletteSettings.Palette1);break;case t.datavisualization.Map.ColorPalette.Palette2:this._generatePaletteColorsForShape(s,e,e.colorPalettes.Palette2,e._colorPaletteSettings.Palette2);break;case t.datavisualization.Map.ColorPalette.Palette3:this._generatePaletteColorsForShape(s,e,e.colorPalettes.Palette3,e._colorPaletteSettings.Palette3);break;case t.datavisualization.Map.ColorPalette.CustomPalette:this._generatePaletteColorsForShape(s,e,e.shapeSettings.customPalette,null)}if(ot.indexOf(vt)!=-1&&(h=e.dataSource[ot.indexOf(vt)],yt=ht,h.shape=s,h.shapeIndex=v,h._showBubble=!0,h!=null)){if(s!=null&&(pt=yt),r._bounds.push(w),e.showMapItems){if(g=n("<div class='e-mapItems' style='display:block;position:absolute;pointer-events: none;'><\/div>"),g[0].className=yt,o._templateDiv.append(g),n(g).css({left:w.x,top:w.y}),wt=this.model.locale,c=n.extend({},h),wt&&this.model.enableGroupSeparator)for(b in c)c[b]=isNaN(parseFloat(c[b]))?c[b]:parseFloat(c[b]).toLocaleString(wt);ni=e.mapItemsTemplate==null?n(" <div><label>{{:"+e.shapeSettings.valuePath+"}}<\/label><\/div>").render(c):n("#"+e.mapItemsTemplate).render(c);n(g).html(ni);r._mapItems.push(g)}e.shapeSettings.colorMappings!=null||e.shapeSettings.colorPath?(e.shapeSettings.colorValuePath==null&&(e.shapeSettings.colorValuePath=e.shapeSettings.valuePath),ct=o._reflection(h,e.shapeSettings.colorValuePath),ct==null||e.shapeSettings.autoFill||((e.legendSettings!=null&&e.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive||e.shapeSettings.enableGradient)&&e.shapeSettings.colorMappings.rangeColorMapping!=null?(c.legendrect=e._updateLegendRange(ct,e,s),lt=e.shapeSettings.fill,c.legendrect!=i&&(lt=c.legendrect.color),f._isSVG?s.setAttribute("fill",lt):s.fillcolor=lt):e._fillColors(ct,e.shapeSettings.colorMappings,s,f,h,st))):e.shapeSettings.autoFill||(f._isSVG?s.setAttribute("fill",e.shapeSettings.fill):(s.fillcolor=e.shapeSettings.fill,s.strokecolor=e.shapeSettings.stroke));e.bubbleSettings.showBubble&&e.bubbleSettings!=null&&e.bubbleSettings.valuePath!=null&&(f._isSVG?l=document.createElementNS(o._svgns,"circle"):(ti=this._id+"bubble_"+pt,ii='<v:oval class="e-mapBubble" id='+ti+' display="block" style="position:absolute;top: 0px;left:0px;width:100px;height:100px;stroke-width:0px;"><v:fill opacity="0.9"/><\/v:oval>',this._bubblegroup.innerHTML=this._bubblegroup.innerHTML+ii,l=document.getElementById("bubble_"+pt)),bt=o._reflection(h,e.bubbleSettings.valuePath),ri=o._reflection(h,e.bubbleSettings.colorValuePath),gt=e.bubbleSettings.color,e.bubbleSettings.colorMappings!=null&&(e.bubbleSettings.colorMappings.rangeColorMapping||e.bubbleSettings.colorMappings.equalColorMapping)?(e._fillColors(ri,e.bubbleSettings.colorMappings,l,f,h,this,!0),y=l.getAttribute("fill"),y==null&&(y=gt,l.setAttribute("fill",y))):(it={fill:p?h[p]:e.bubbleSettings.color,bubbleOpacity:e.bubbleSettings.bubbleOpacity,shapeData:h,shapePropertyData:st},this._trigger("bubbleRendering",{model:this.model,data:it}),it.fill!=h[p]&&(h._bubblecolor=it[p]),f._isSVG?(l.setAttribute("fill",h._bubblecolor?h._bubblecolor:p?h[p]:e.bubbleSettings.color),l.setAttribute("opacity",it.bubbleOpacity)):(l.strokecolor=h._color?h._color:p?h[p]:e.bubbleSettings.color,l.fillcolor=h._color?h._color:p?h[p]:e.bubbleSettings.color)),at=o._getRatioOfBubble(e.bubbleSettings.minValue,e.bubbleSettings.maxValue,bt,ft,et),f._isSVG?(n(l).attr({cx:w.x,cy:w.y,id:s.id+"_bubble_"+v,"fill-opacity":e.bubbleSettings.bubbleOpacity,r:at,"class":"e-mapBubble"}),o.enableAnimation()&&!this._isTileMap&&n(l).css("display","none")):n(l).css({height:2*at+"px",width:2*at+"px"}),e.bubbleSettings.showTooltip==!0?(rt=n("<div class='e-bubbleToolTip'  style='position:absolute;display:none;z-index:9999'/>"),kt=null,e.bubbleSettings.tooltipTemplate!=null?kt=e.bubbleSettings.tooltipTemplate:n(rt).append('<div class="e-bubbleToolTip"  style="margin-left:10px;margin-top:-25px;"><div class="e-defaultToolTip"><p style="margin-top:-4px"><label  style="color:rgb(27, 20, 20);font-size:14px;font-weight:normal;font-family:Segoe UI">'+bt+"<\/label><\/p><\/div><\/div>"),n(l).mouseenter({htmlobj:rt,templateID:kt,itemsrc:h},o._bubbleEnterFunction),n(l).mousemove({htmlobj:rt},o._bubbleOverFunction),n(l).mouseleave({htmlobj:rt},o._bubbleleaveFunction)):n(l).css("pointer-events","none"),f._isSVG?(ui.appendChild(l),r._bubbles.push(l)):r._bubbles.push(l));c.data=h}r.labelSettings!=null&&r.labelSettings.showLabels&&r.labelSettings.labelPath!=null&&e.geometryType!=t.datavisualization.Map.GeometryType.Normal&&(k=o._reflection(st,r.labelSettings.labelPath),k!=null&&(w==null,a=n("<div class='e-labelStyle' id='"+this._id+"labelStyle_"+v+"'><\/div>"),n(a).css({"pointer-events":"none",position:"absolute"}),a[0].innerHTML=k,ut={data:{text:k,labelSettings:r.labelSettings,id:this._id+"labelStyle_"+v,index:v},model:this.model},this._trigger("displayTextRendering",ut),k==ut.data.text||ut.cancel||(k=ut.data.text),this._templateDiv.append(a),r.legendSettings.showLegend&&r.legendSettings.dockOnMap&&r.legendSettings.dockPosition=="top"?n(this._templateDiv).css({"margin-top":r.legendSettings.height}):r.legendSettings.showLegend&&r.legendSettings.dockOnMap&&r.legendSettings.dockPosition=="left"&&n(this._templateDiv).css({"margin-left":r.legendSettings.width}),n(a).css({left:w.x,top:w.y}),o._off(n(a),t.eventType.mouseDown,o._polyMouseDown),o._on(n(a),t.eventType.mouseDown,{Param1:null,Param2:r,Param3:s},o._polyMouseDown),o._off(n(a),t.eventType.mouseUp,o._polyClickFunction),o._on(n(a),t.eventType.mouseUp,{Param1:null,Param2:r,Param3:s},o._polyClickFunction),o._off(n(a),t.eventType.mouseLeave,o._polyLeaveFunction),o._on(n(a),t.eventType.mouseLeave,{Param1:r,Param2:c,map:this},o._polyLeaveFunction),a[0].setAttribute("data-nodeValue",s.getAttribute("fill")),r._labelCollection.push(a),r._labelBounds.push(w),r._labelData.push(k)));c.shapeIndex=v;c.shape=s;c.shapeData=r._polygonData[v];o._off(n(a),t.eventType.mouseMove,o._polyMoveFunction);o._on(n(a),t.eventType.mouseMove,{Param1:e,Param2:c},o._polyMoveFunction);s!=null&&(y=null,f._isSVG?(y=s.getAttribute("fill"),y=="undefined"&&(y=r.shapeSettings.fill),s.setAttribute("data-nodeValue",y)):(y=s.fillcolor.value,y=="undefined"&&(y=r.shapeSettings.fill),s.style.behavior=y));o.model.zoomSettings.enableZoomOnSelection&&n(s).hover(function(){n(this).css("cursor","pointer")},function(){n(this).css("cursor","auto")});r._mapShapes.push(c);v==0&&(this._legendDiv==null&&(this._legendDiv=n("<div class='e-LegendDiv'/>")),e.legendSettings!=null&&(e.shapeSettings.colorMappings!=null||e.shapeSettings.colorPath!=null)&&(e.legendSettings.type==i||e.legendSettings.type.toLowerCase()=="layers")&&e._generateLegends(this),this.model.enableRTL&&e.shapeSettings.colorMappings.rangeColorMapping.reverse(),e.legendSettings!=null&&(e.bubbleSettings.colorMappings!=null||e.bubbleSettings.colorPath!=null)&&e.legendSettings.type.toLowerCase()=="bubbles"&&e._generateBubbleLegends(this),e.shapeSettings.colorMappings!=null&&e.shapeSettings.colorMappings.rangeColorMapping!=null&&e.shapeSettings.colorMappings.rangeColorMapping.sort(this._orderByNameAscending),e.bubbleSettings.colorMappings!=null&&e.bubbleSettings.colorMappings.rangeColorMapping!=null&&e.bubbleSettings.colorMappings.rangeColorMapping.sort(this._orderByNameAscending))}}e._isBaseLayer&&e.geometryType==t.datavisualization.Map.GeometryType.Normal&&e.labelSettings.showLabels&&(e._generateLabels(this),e._labelSizeCalculation(this),this._applyTransform(this._scale,this._translatePoint))},isTouch:function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},validateBubblePosition:function(n,t,i){var e=[],o=[],f,u,r;if(n==null&&(n=[],n.push(t)),!this.isPointInPolygon(n,t,!0)){for(f=0,r=0;r<n.length;r++)u={x:(n[r].x+this._translatePoint.x)*this._scale,y:(n[r].y+this._translatePoint.y)*this._scale},(u.y<t.y&&f.y>=t.y||f.y<t.y&&u.y>=t.y)&&(u.x<t.x?e.push(u.x):o.push(u.x)),f=u;if(!e.length>0||!o.length>0){if(e.length>0){for(r=t.x+i;!this.isPointInPolygon(n,{x:r-2,y:t.y},!0);)r=r-2;t.x=parseFloat(r-2-i)}if(o.length>0){for(r=t.x-i;!this.isPointInPolygon(n,{x:r+2,y:t.y},!0);)r=r+2;t.x=parseFloat(r+2+i)}}}return t},isPointInPolygon:function(n,t,i){for(var r,f,o=!1,e=0,u=0;u<n.length;u++){r={x:n[u].x,y:n[u].y};f={x:n[e].x,y:n[e].y};i&&(r={x:(n[u].x+this._translatePoint.x)*this._scale,y:(n[u].y+this._translatePoint.y)*this._scale},f={x:(n[e].x+this._translatePoint.x)*this._scale,y:(n[e].y+this._translatePoint.y)*this._scale});var s=t.y-r.y,h=f.y-r.y,c=f.x-r.x;(r.y<t.y&&f.y>=t.y||f.y<t.y&&r.y>=t.y)&&r.x+s/h*c<t.x&&(o=!0);e=u}return o},dragDown:function(n){var r=n.data.map,t=r.model.layers[0],i=this._mapContainer,u;if(n.type=="mousedown"?(r._startPoint={x:n.pageX-i[0].offsetLeft,y:n.pageY-i[0].offsetTop},r._stopPoint={x:n.pageX-i[0].offsetLeft,y:n.pageY-i[0].offsetTop}):n.type=="touchstart"?(r._startPoint={x:n.originalEvent.changedTouches[0].pageX-i[0].offsetLeft,y:n.originalEvent.changedTouches[0].pageY-i[0].offsetTop},r._stopPoint={x:n.originalEvent.changedTouches[0].pageX-i[0].offsetLeft,y:n.originalEvent.changedTouches[0].pageY-i[0].offsetTop}):n.type=="MSPointerDown"&&(r._startPoint={x:n.originalEvent.pageX-i[0].offsetLeft,y:n.originalEvent.pageY-i[0].offsetTop},r._stopPoint={x:n.originalEvent.pageX-i[0].offsetLeft,y:n.originalEvent.pageY-i[0].offsetTop}),r.mouseClickable=!0,r.model.draggingOnSelection&&t._prevSelectedShapes.length>0){for(u=0;u<t._prevSelectedShapes.length;u++)t._prevSelectedShapes[u].setAttribute("class","e-mapShape"),this._isSVG?(t._prevSelectedShapes[u].setAttribute("fill",t._prevSelectedShapes[u].getAttribute("data-nodeValue")),t._prevSelectedShapes[u].setAttribute("stroke",t.shapeSettings.stroke),t._prevSelectedShapes[u].setAttribute("stroke-width",t.shapeSettings.strokeThickness/this._scale)):(t.fillcolor=t._prevSelectedShapes[u].getAttribute("data-nodeValue"),t.strokecolor=t.shapeSettings.stroke,t.strokeweight=t.shapeSettings.strokeThickness/this._scale);t._prevSelectedShapes=[]}},dragMove:function(t){var i=t.data.map,o=i.model.layers[0],f,e,r=this._mapContainer,u;i.model.draggingOnSelection&&i.mouseClickable&&(i.ispanning=!1,t.type=="mousemove"?i._stopPoint={x:t.pageX-r[0].offsetLeft,y:t.pageY-r[0].offsetTop}:t.type=="touchmove"?i._stopPoint={x:t.originalEvent.changedTouches[0].pageX-r[0].offsetLeft,y:t.originalEvent.changedTouches[0].pageY-r[0].offsetTop}:t.type=="MSPointerMove"&&(i._stopPoint={x:t.originalEvent.pageX-r[0].offsetLeft,y:t.originalEvent.pageY-r[0].offsetTop}),n(".e-mapDragSelection").remove(),u=n('<div class = "e-mapDragSelection"><\/div>'),f=Math.abs(i._stopPoint.x-i._startPoint.x),e=Math.abs(i._stopPoint.y-i._startPoint.y),n(u).css({top:Math.min(i._startPoint.y,i._stopPoint.y),left:Math.min(i._startPoint.x,i._stopPoint.x),width:f,height:e,position:"absolute","z-index":100}),n(u).appendTo("#maps"))},dragUp:function(t){var i=t.data.map,s=Math.abs(i._stopPoint.x-i._startPoint.x),h=Math.abs(i._stopPoint.y-i._startPoint.y),e=i.model.layers[0],o=this._mapContainer,u,r,f;if(i.model.draggingOnSelection){for(n(".e-mapDragSelection").remove(),n(".e-mapDragSelection").css({display:"none"}),i.mouseClickable=!1,u=0;u<i.model.layers[0]._mapShapes.length;u++)r=i.model.layers[0]._mapShapes[u].shape,f=r.getBoundingClientRect(),f.left-o[0].offsetLeft+f.width<Math.min(i._startPoint.x,i._stopPoint.x)||Math.min(i._startPoint.x,i._stopPoint.x)+s<f.left-o[0].offsetLeft||f.top-o[0].offsetTop+f.height<Math.min(i._startPoint.y,i._stopPoint.y)||Math.min(i._startPoint.y,i._stopPoint.y)+h<f.top-o[0].offsetTop||i.model.layers[0]._contains(e._prevSelectedShapes,r)||e._prevSelectedShapes.push(r);for(u=0;u<e._prevSelectedShapes.length;u++)r=e._prevSelectedShapes[u],f=r.getBoundingClientRect(),r.setAttribute("class","e-mapSelectedShape mapShape"),this._isSVG&&(r.setAttribute("fill",e.shapeSettings.selectionColor),r.setAttribute("stroke",e.shapeSettings.selectionStroke),r.setAttribute("stroke-width",e.shapeSettings.selectionStrokeWidth/i._scale))}},isIntersectBubbles:function(){for(var r,n,i,t=[],u=0;u<this.model.layers.length;u++)for(r=this.model.layers[u],Array.prototype.push.apply(t,r._bubbleCollection),n=0;n<r.subLayers.length;n++)Array.prototype.push.apply(t,r.subLayers[n]._bubbleCollection);for(n=0;n<t.length;n++){var f=t[n].getAttribute("cx"),e=t[n].getAttribute("cy"),h=t[n].getAttribute("r");for(i=n+1;i<t.length;i++){var o=t[i].getAttribute("cx"),s=t[i].getAttribute("cy"),c=t[i].getAttribute("r"),l=Math.sqrt((f-o)*(f-o)+(e-s)*(e-s)),a=parseFloat(h)+parseFloat(c);if(l<=a)return!0}}return!1},_zooming:function(n,t){var i=this._getCurrentPoint(t);n>=120?this._zoomingIn(i.x,i.y,t):this._zoomingOut(i.x,i.y,t)},_zoomingIn:function(n,t,i){var r=this,f,e,u;(r.model.zoomSettings.enableZoom||r.model.zoomSettings.enableMouseWheelZoom)&&r._zoomLevel()>=r._minZoom()&&r._zoomLevel()<=r._maxZoom()&&(f=r._scale,e={x:n,y:t},r._prevScale=f,this._isTileMap?(this._tileZoom(r._zoomLevel()-r._zoomFactor(),r._zoomLevel(),e),u=r._zoomLevel(),r.model.zoomSettings.level=r._zoomLevel()+r._zoomFactor(),r._zoomLevel(r._zoomLevel()+r._zoomFactor()),this._generateTiles(this._zoomLevel()),r._translatePoint.x=(r._tileTranslatePoint.x-.5*Math.pow(2,u))/Math.pow(2,u),r._translatePoint.y=(r._tileTranslatePoint.y-.5*Math.pow(2,u))/Math.pow(2,u),r._scale=Math.pow(2,u)):(r._prevPoint={x:r._translatePoint.x,y:r._translatePoint.y},r._translatePoint.x-=(r._width/r._scale-r._width/(r._scale+r._zoomFactor()))/(r._width/n),r._translatePoint.y-=(r._height/r._scale-r._height/(r._scale+r._zoomFactor()))/(r._height/t),r._scale=f+r._zoomFactor(),r.model.zoomSettings.level=r._zoomLevel()+r._zoomFactor(),r._zoomLevel(r._zoomLevel()+r._zoomFactor())),r._trigger("zoomedIn",{originalEvent:i,zoomLevel:r._zoomLevel()}),r.enableAnimation()&&!this._isTileMap&&r._animate(r.model.zoomSettings.animationDuration),r._applyTransform(r._scale,r._translatePoint),r._refrshLayers(),r._resizeShape(),r._updateSliderValue())},_zoomingOut:function(n,t,i){var r=this,u,f,e;(r.model.zoomSettings.enableZoom||r.model.zoomSettings.enableMouseWheelZoom)&&(r._zoomLevel()>this._minZoom()?(u=r._scale,f={x:n,y:t},r._prevScale=u,r._isTileMap?(r._tileZoom(r._zoomLevel()+r._zoomFactor(),r._zoomLevel(),f),e=r._zoomLevel(),r.model.zoomSettings.level=r._zoomLevel()-r._zoomFactor(),r._zoomLevel(r._zoomLevel()-r._zoomFactor()),r._generateTiles(r._zoomLevel()),r._translatePoint.x=(r._tileTranslatePoint.x-.5*Math.pow(2,r._zoomLevel()-r._zoomFactor()))/Math.pow(2,r._zoomLevel()-r._zoomFactor()),r._translatePoint.y=(r._tileTranslatePoint.y-.5*Math.pow(2,r._zoomLevel()-r._zoomFactor()))/Math.pow(2,r._zoomLevel()-r._zoomFactor()),r._scale=Math.pow(2,r._zoomLevel()-r._zoomFactor())):r._scale>1&&(r._prevPoint={x:r._translatePoint.x,y:r._translatePoint.y},r._translatePoint.x-=(r._width/r._scale-r._width/(r._scale-r._zoomFactor()))/(r._width/n),r._translatePoint.y-=(r._height/r._scale-r._height/(r._scale-r._zoomFactor()))/(r._height/t),r._scale=r._scale-r._zoomFactor(),r.model.zoomSettings.level=r._zoomLevel()-r._zoomFactor(),r._zoomLevel(r._zoomLevel()-r._zoomFactor()),r._scale=r._zoomLevel()),r._zoomLevel()<r._minZoom()&&(r.model.zoomSettings.level=r._minZoom(),r._zoomLevel(r._minZoom()),r.zoom(r._zoomLevel())),r._applyTransform(r._scale,r._translatePoint),r._refrshLayers(),r._resizeShape(),r._updateSliderValue()):r.zoom(r._minZoom(),!1),r._trigger("zoomedOut",{originalEvent:i,zoomLevel:r._zoomLevel()}))},_getRatioOfBubble:function(n,t,i,r,u){var e=100/(u-r)*(i-r),f=(parseFloat(t)-parseFloat(n))/100*e+parseFloat(n);return u==r&&(f=(parseFloat(t)-parseFloat(n))/100+parseFloat(n)),f},_reflection:function(t,r){var u=t,f,e,o;if(r!=null&&t!=null){for(f=r.split("."),e=0,f.push(r);e<f.length;e++)t!=i&&u!=null&&(o=u.hasOwnProperty(f[e]),o&&n.each(u,function(n,t){if(n==f[e])return u=t,!1}));return u}return null},clearShapeSelection:function(){var t=this.baseMapIndex(),n;for(this.model.layers[t]._clearShapeWidth(this._scale,this),n=0;n<this.model.layers[t].subLayers.length;n++)this.model.layers[t].subLayers[n]._clearShapeWidth(this._scale,this)},shapeSelectionOnResize:function(){var t=this.baseMapIndex(),n;for(this.model.layers[t]._shapeSelection(),n=0;n<this.model.layers[t].subLayers.length;n++)this.model.layers[t].subLayers[n]._shapeSelection()},addMarkers:function(i,r,u){var e,h,c,f,l,a,s,v,o;for(u=u.length?u:[u],e=t.util.isNullOrUndefined(r)?this.model.layers[i]:this.model.layers[i].subLayers[r],h=e._mapMarkers.length,e.markers=e.markers.concat(u),this._generateMarkers(u,e,this),v=this._getFactor(),o=e._mapMarkers.length-1;o>h-1;o--)c=e._mapMarkers[o],f=e.markers[o],s=this._isTileMap?this._convertTileLatLongtoPoint(f.latitude!=null?f.latitude:f.Latitude,f.longitude!=null?f.longitude:f.Longitude):this._convertLatLongtoPointforMarker(f.latitude!=null?f.latitude:f.Latitude,f.longitude!=null?f.longitude:f.Longitude,v),l=s.x,a=s.y,n(c).css({left:l,top:a})},_generateMarkers:function(i,r,u){for(var h,f,e,s,o=0;o<i.length;o++)e=i[o],r.markerTemplate!=null?(f=n("<div class='e-mapMarker' style='display:block;position:absolute;pointer-events: stroke;'><\/div>"),u._templateDiv.append(f),n(f).css({height:r._height,width:r._width,"margin-top":r._margintop,"margin-left":r._marginleft}),s=n("#"+r.markerTemplate).render(e),u.model.markerSelected==null&&n(f).css({"pointer-events":"none"}),n(f).html(s)):(f=n(' <div class="e-mapMarker" style="display:block;position:absolute;pointer-events: stroke;"><label>'+e.label+"<\/label><\/div>"),r._isSVG?u._templateDiv.append(f):f.appendTo(u._templateDiv),u.model.markerSelected==null&&n(f).css({"pointer-events":"none"})),u._on(n(f),t.eventType.mouseDown,{marker:n(f),data:e},u._markerPressed),u._on(n(f),"dblclick",{marker:n(f),data:e},u._markerPressed),u._on(n(f),"contextmenu",{marker:n(f),data:e},u._markerPressed),u._on(n(f),t.eventType.mouseMove,{markerElement:n(f),markerData:e},u._markerEntered),u._on(n(f),t.eventType.mouseLeave,{markerElement:n(f),markerData:e},u._markerLeaved),r._mapMarkers.push(f),h=r,h.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Left&&(r._height=r._height,r._width=r._width-parseFloat(this._legendDivWidth),r._marginleft=parseFloat(this._legendDivWidth))},refreshMarkers:function(){for(var n,i,u=document.getElementsByClassName("e-mapMarker"),t=!1,f,r=u.length-1;r>=0;r--)f||(f=u[r].parentNode),f.removeChild(u[r]);for(n=this.model.layers[this.baseMapIndex()],n.markers.length>0&&(n._generateMarkerForLayers(this),t=!0),i=0;i<n.subLayers.length;i++)n.subLayers[i].markers&&(n.subLayers[i]._generateMarkerForLayers(this),t=!0);t=n._labelCollection.length>0?!0:t;t&&this._refrshLayers()},_generateTooltipForLayers:function(t){var i,r,u;i=document.documentMode==8?document.querySelectorAll("e-shapeToolTip"):document.getElementsByClassName("e-shapeToolTip");i!=null&&i.length==0?(r=n("<div class='e-shapeToolTip' style='display:none;position:absolute;z-index:1000;pointer-events:none;'><\/div>"),n(document.body).append(r),t._tooltipElement=r):t._tooltipElement=i[0];t.tooltipTemplate==null&&(u=t.shapeSettings.valuePath,u!=null&&(t.tooltipTemplate="defaultTooltip",this._mapContainer.append(n('<div  id="defaultTooltip" style="display:none;"><div style="margin-left:10px;margin-top:-25px;"><div class="e-defaultToolTip" style="display:table"><p style="margin-top:-4px"><label  style="color:rgb(27, 20, 20);font-size:14px;font-weight:normal;font-family:Segoe UI">{{:#data["'+u+'"]}}<\/label><\/p><\/div><\/div><\/div>'))))},_orderByNameAscending:function(n,t){return n.Range==t.Range?0:n.Range>t.Range?1:-1},_resizingContainer:function(){this._scale||(this._scale=this._isTileMap?Math.pow(2,this._zoomLevel()-1):1);this._isTileMap?(this._translatePoint.x=(this._tileTranslatePoint.x-.5*Math.pow(2,this._zoomLevel()-this._zoomFactor()))/Math.pow(2,this._zoomLevel()-this._zoomFactor()),this._translatePoint.y=(this._tileTranslatePoint.y-.5*Math.pow(2,this._zoomLevel()-this._zoomFactor()))/Math.pow(2,this._zoomLevel()-this._zoomFactor())):(!this._translatePoint||this._scale&&this._scale<=1)&&(this._translatePoint.x=this._tileTranslatePoint.x/this._scale,this._translatePoint.y=this._tileTranslatePoint.y/this._scale);this._applyTransform(this._scale,this._translatePoint);this._zoomLevel()>1&&(this._scale=this._isTileMap?Math.pow(2,this._zoomLevel()-this._zoomFactor()):this._zoomLevel(),this._applyTransform(this._scale,this._translatePoint));this._baseScale=1;this._baseTranslatePoint={x:this._translatePoint.x*2,y:this._translatePoint.y*2}},_calculateMarginConditions:function(){var n=this._calculateMinMax();this._translatePoint.y>n.maxY?this._translatePoint.y=n.maxY:this._translatePoint.y<n.minY&&(this._translatePoint.y=n.minY);this._translatePoint.x>n.maxX?this._translatePoint.x=n.maxX:this._translatePoint.x<n.minX&&(this._translatePoint.x=n.minX)},_calculateMinMax:function(){var n=this._groupBorder,t,i,r,u;return this._containerHeight*this._scale<=this._height?(i=(this._height-this._containerHeight*this._scale)/(2*this._scale)-n.y,u=(this._height-this._containerHeight*this._scale)/(2*this._scale)-n.y):(i=-n.y+1,u=(this._height-this._containerHeight*this._scale)/this._scale-n.y-1),this._containerWidth*this._scale<=this._width?(t=(this._width-this._containerWidth*this._scale)/(2*this._scale)-n.x,r=(this._width-this._containerWidth*this._scale)/(2*this._scale)-n.x):(t=-n.x+1,r=(this._width-this._containerWidth*this._scale)/this._scale-n.x-1),{minX:r,maxX:t,minY:u,maxY:i}},_findMidPointofPoylgon:function(n){var y,p,r,t;if(n.length>0){var k=0,v=n.length,u=n[0],d=u.x,g=u.x,nt=u.y,tt=u.y,h,c,f,e,o=0,s=0,i=0;for(r=k;r<=v-1;r++)y=n[r],h=y.x,c=y.y,r==v-1?(f=u.x,e=u.y):(p=n[r+1],f=p.x,e=p.y),o=o+Math.abs(h*e-f*c),s=s+Math.abs((h+f)*(h*e-f*c)),i=i+Math.abs((c+e)*(h*e-f*c));o=.5*o;s=1/(4*o)*s;i=1/(4*o)*i;var w={x:0,y:0},l={x:0,y:0},b={x:0,y:0},a={x:0,y:0};for(r=k;r<=v-1;r++)t=n[r],t.x>s?t.y<i&&i-t.y<i-w.y?w={x:t.x,y:t.y}:t.y>i&&(l.y==0||t.y-i<l.y-i)&&(l={x:t.x,y:t.y}):t.y<i&&i-t.y<i-b.y?b={x:t.x,y:t.y}:t.y>i&&(a.y==0||t.y-i<a.y-i)&&(a={x:t.x,y:t.y});return{x:s,y:i,rightMin:w,rightMax:l,leftMin:b,leftMax:a,points:n}}},_convertPointToLatLong:function(n,t,i,r){var u,f,e,o,s;return i==null&&(i=[[-180,-85],[180,85]]),u=this._isTileMap?Math.pow(2,1)*256:r==null?Math.min(this._height,this._width):Math.min(this._height,this._width)*r,o=Math.min(n,0,u-1)/u-.5,s=.5-Math.min(t,0,u-1)/u,f=90-360*Math.atan(Math.exp(-s*2*Math.PI))/Math.PI,e=360*o,{x:f,y:e}},_convertTileLatLongtoPointForShapes:function(n,t,i,r){var u,s,f,h,e,o;return i==null&&(i=[[-180,-85],[180,85]]),u=this._isTileMap?Math.pow(2,1)*256:r==null?Math.min(this._height,this._width):Math.min(this._height,this._width)*r,s=(t+180)/360,f=Math.sin(n*Math.PI/180),f==-1&&(f=-.5),h=.5-Math.log((1+f)/(1-f))/(4*Math.PI),this._isMapCoordinates?(e=Math.min(Math.max(s*u+.5,0),u-1),o=Math.min(Math.max(h*u+.5,0),u-1)):r!=null?(e=Math.abs((t-this._mapBounds[0][0])*r),o=Math.abs((this._mapBounds[1][1]-n)*r)):(e=t,o=n),{x:e,y:o}},_convertTileLatLongtoPoint:function(n,t){var u=Math.pow(2,this._zoomLevel())*256,e=(t+180)/360,f=Math.sin(n*Math.PI/180),o=.5-Math.log((1+f)/(1-f))/(4*Math.PI),i,r;return this._isMapCoordinates?(i=e*u+.5+this._tileTranslatePoint.x,r=o*u+.5+this._tileTranslatePoint.y):factor!=null?(i=Math.abs((t-this._mapBounds[0][0])*factor),r=Math.abs((this._mapBounds[1][1]-n)*factor)):(i=t,r=n),{x:i,y:r}},_convertLatLongtoPointforMarker:function(n,t,i){var r=this._convertTileLatLongtoPointForShapes(n,t,this._mapBounds,i);return{x:(r.x+this._translatePoint.x)*this._scale,y:(r.y+this._translatePoint.y)*this._scale}},_animate:function(t){function s(n,t){return n[0]==t[0]?null:(t[1]-n[1])/(t[0]-n[0])}function h(n,t){return t===null?n[0]:n[1]-t*n[0]}this._calculateMarginConditions();n(this._rootgroup).stop(!0,!1);this._sliderControl!=null&&n(this._sliderControl).stop(!0,!1);var i=this,e={x:this._translatePoint.x,y:this._translatePoint.y},r=[this._prevPoint.x,this._prevPoint.y],u=[this._translatePoint.x,this._translatePoint.y];var f=s(r,u),c=h(r,f),l=u[0]-r[0],a=u[1]-r[1],v=this._scale-this._prevScale,o=this._scale;this._updateSliderValue();n(this._rootgroup).animate({count:10},{duration:t,step:function(n,t){var u=i._prevScale+n*(v/t.end),e=r[0]+n*(l/t.end)/(u/o),s;s=f==null?r[1]+n*(a/t.end):f*e+c;i._isSVG?i._rootgroup.setAttribute("transform","scale("+u+") translate("+e+", "+s+")"):(i._rootgroup.coordorigin=-e+","+-s,i._rootgroup.coordsize=i._width/u+","+i._height/u);i._translatePoint.x=e;i._translatePoint.y=s;i._scale=u;i._refrshLayers();i._resizeShape()},complete:function(){i._translatePoint.x=e.x;i._translatePoint.y=e.y;i._scale=o;this.count=0}})},_applyTransform:function(n,t){this._scale=n;this._translatePoint=t;this._isTileMap||this._calculateMarginConditions();this._translatePoint.x!=Number.POSITIVE_INFINITY&&this._translatePoint.y!=Number.POSITIVE_INFINITY&&(this._isSVG?this._rootgroup.setAttribute("transform","scale("+this._scale+") translate("+this._translatePoint.x+", "+this._translatePoint.y+")"):(this._rootgroup.coordorigin=-this._translatePoint.x+","+-this._translatePoint.y,this._rootgroup.coordsize=this._width/n+","+this._height/n))},_mouseMove:function(n){var t,i,f,e,r,u;n.type=="touchmove"&&n.originalEvent.touches.length>1?this._isPinching=!0:(t=this,t.ispanning&&t.enablePan()&&(n.preventDefault(),n.type=="mousemove"||n.type=="pointermove"?i={x:n.pageX,y:n.pageY}:n.type=="touchmove"?i={x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}:n.type=="MSPointerMove"&&(i={x:n.originalEvent.pageX,y:n.originalEvent.pageY}),this._isTileMap&&(f=this._tileTranslatePoint.x-(this._dragStartX-i.x),e=this._tileTranslatePoint.y-(this._dragStartY-i.y),this._tileTranslatePoint.x=f,this._tileTranslatePoint.y=e,this._generateTiles(this._zoomLevel())),r=t._translatePoint.x-(t._dragStartX-i.x)/t._scale,u=t._translatePoint.y-(t._dragStartY-i.y)/t._scale,(r!=t._translatePoint.x||u!=t._translatePoint.y)&&(t._isDragging=!0),this._translatePoint.x=r,this._translatePoint.y=u,t._applyTransform(t._scale,t._translatePoint),t._dragStartX=i.x,t._dragStartY=i.y,t._refrshLayers()))},_svgMouseLeave:function(){var n=this;n.ispanning=!1},_mouseWheel:function(t){if(this.model.zoomSettings.enableMouseWheelZoom){this.enableAnimation()&&n(this._rootgroup).stop(!0,!1);var i=t.originalEvent,r=t;this._isSVG||(i=t);t.target.className!="e-LegendDiv"&&t.target.className!="e-defaultLegendLabel"&&(i.preventDefault?i.preventDefault():r.preventDefault(),this._isSVG?this._zooming(t.originalEvent.wheelDelta,t.originalEvent):this._zooming(t.originalEvent.wheelDelta,i))}},_mouseButtonUp:function(n){var t=this;t.ispanning&&t._trigger("panned",{originalEvent:n});t.ispanning=!1},_mouseUp:function(){this.ispanning=!1;this._isDragging=!1},_mouseButtonDown:function(t){var r,i;this._isPinching=!1;t.target.className!="e-vhandle"&&(this._isNavigationPressed=!1,this.enableAnimation()&&(n(this._rootgroup).stop(!0,!1),this._sliderControl!=null&&n(this._sliderControl).stop(!0,!1)),t.type=="touchstart"&&t.originalEvent.touches.length>1||(t.type=="mousedown"||t.type=="pointerdown"?r={x:t.pageX,y:t.pageY}:t.type=="touchstart"?r={x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}:t.type=="MSPointerDown"&&(r={x:t.originalEvent.pageX,y:t.originalEvent.pageY}),i=this,i._scale>1&&i.model.enablePan&&(t.preventDefault(),i.ispanning=!0),i._dragStartX=r.x,i._dragStartY=r.y))},_getCurrentPoint:function(n){var t=this._mapContainer,i=n.pageX-t.offset().left,r=n.pageY-t.offset().top;return{x:i,y:r}},_legendDoubleClick:function(n){for(var t=n.target;t.parentNode!=null&&t.parentNode.className!="ScrollLegendDiv e-scroller e-js e-widget";)t=t.parentNode;t.parentNode!=null&&t.parentNode.className=="ScrollLegendDiv e-scroller e-js e-widget"&&(this._isNavigationPressed=!0)},_mapRightClick:function(n){this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}})},_mapDown:function(){this.model.rightClick!=""&&(this._longPressTimer=new Date)},_mapClick:function(n){var i=new Date,t;if(this.model.click!=""&&this._trigger("click",{data:{event:n}}),this.model.layers[this.baseMapIndex()].legendSettings.toggleVisibility)for(this.model.layers[this.baseMapIndex()]._legendToggleVisibility(this.model.layers[this.baseMapIndex()],n,this),t=0;t<this.model.layers[this.baseMapIndex()].subLayers.length;t++)this.model.layers[this.baseMapIndex()].subLayers[t]._legendToggleVisibility(this.model.layers[this.baseMapIndex()].subLayers[t],n,this);this._doubleTapTimer!=null&&i-this._doubleTapTimer<500&&this._mapDoubleClick(n);this._doubleTapTimer=i;i-this._longPressTimer>1500&&this._mapRightClick(n)},_doubleClick:function(n){var t=this,f=t._zoomLevel(),r,u,i;t._legendDoubleClick(n);this._isNavigationPressed||n.target.className.toString().indexOf("e-icon1")!=-1||(r=this._getCurrentPoint(n),t.model.zoomSettings.enableZoom&&t._zoomLevel()+t._zoomFactor()>=t._minZoom()&&t._zoomLevel()+t._zoomFactor()<=t._maxZoom()&&(u=t._scale,t._prevScale=u,this._isTileMap?(this._tileZoom(t._zoomLevel()-t._zoomFactor(),t._zoomLevel(),r),i=t._zoomLevel(),t.model.zoomSettings.level=t._zoomLevel()+t._zoomFactor(),t._zoomLevel(t._zoomLevel()+t._zoomFactor()),this._generateTiles(this._zoomLevel()),t._translatePoint.x=(t._tileTranslatePoint.x-.5*Math.pow(2,i))/Math.pow(2,i),t._translatePoint.y=(t._tileTranslatePoint.y-.5*Math.pow(2,i))/Math.pow(2,i),t._scale=Math.pow(2,i)):(t._prevPoint={x:t._translatePoint.x,y:t._translatePoint.y},t._translatePoint.x-=(t._width/t._scale-t._width/(t._scale+t._zoomFactor()))/(t._width/r.x),t._translatePoint.y-=(t._height/t._scale-t._height/(t._scale+t._zoomFactor()))/(t._height/r.y),t._scale=u+t._zoomFactor(),t.model.zoomSettings.level=t._zoomLevel()+t._zoomFactor(),t._zoomLevel(t._zoomLevel()+t._zoomFactor())),f<t._zoomLevel()&&t._trigger("zoomedIn",{originalEvent:null,zoomLevel:t._zoomLevel()}),t.enableAnimation()&&!this._isTileMap?t._animate(t.model.zoomSettings.animationDuration):(t._applyTransform(t._scale,t._translatePoint),t._refrshLayers(),t._resizeShape()),t._updateSliderValue()))},_mapDoubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_tileZoom:function(n,t,r){var c=this,u;if(t>0&&t<20){this._tileDiv.html("");u=Math.pow(2,n)*256;r==i&&(r={x:this._width/2,y:this._height/2});var f=Math.pow(2,t)*256,e=(r.x-this._tileTranslatePoint.x)/u*100,o=(r.y-this._tileTranslatePoint.y)/u*100,s=e*f/100,h=o*f/100;this._tileTranslatePoint.x=r.x-s;this._tileTranslatePoint.y=r.y-h}},_bubbleEnterFunction:function(t){if(t.data.templateID!=null){var i=n("#"+t.data.templateID).render(t.data.itemsrc);n(t.data.htmlobj).html(i)}return n(document.body).append(t.data.htmlobj),n(t.data.htmlobj).css("display","block").css({left:t.pageX+8+"px",top:t.pageY+6+"px"})},_bubbleleaveFunction:function(t){return n(t.data.htmlobj).remove(),n(t.data.htmlobj).css("display","none")},_bubbleOverFunction:function(t){return n(t.data.htmlobj).css("display","block").css({left:t.pageX+8+"px",top:t.pageY+6+"px"})},_polyEnterFunction:function(r){var p=jQuery.uaMatch(navigator.userAgent),u=r.data.Param1,f,w=this.isTouch?this.isTouch(r):!1,h,e,o,s,a,c,l,v,y;if(w&&p.browser=="chrome"?(h=r.originalEvent.changedTouches[0],f=document.elementFromPoint(h.clientX,h.clientY)):f=r.data.Param2.shape,e=r.data.map,o=jQuery.grep(u._smartLabels,function(n){return n.shape==f}),u.enableMouseHover){if(u._clearShapeWidth(e._scale,this),u._prevHoverdLegend==null||u._contains(u._prevSelectedLegends,u._prevHoverdLegend)||u._prevHoverdLegend.css("background-color",e._isSVG?u._prevHoveredShape.getAttribute("fill"):u._prevHoveredShape.fillcolor.value),e._isSVG?(f.setAttribute("stroke-width",u.shapeSettings.highlightBorderWidth/e._scale),f.setAttribute("stroke",u.shapeSettings.highlightStroke)):(f.strokeweight=u.shapeSettings.highlightBorderWidth,f.strokecolor=u.shapeSettings.highlightStroke/e._scale),u.shapeSettings.highlightColor!=null&&(u.shapeSettings.highlightColor=="transparent"||u._contains(u._prevSelectedShapes,f)||(f.setAttribute("class","e-mapHighlightedShape mapShape"),e._isSVG?(u.shapeSettings.highlightColor!="none"&&f.highlightcolor==null?f.setAttribute("fill",u.shapeSettings.highlightColor):f.setAttribute("fill",f.highlightcolor),f.setAttribute("stroke-width",u.shapeSettings.highlightBorderWidth/e._scale),f.setAttribute("stroke",u.shapeSettings.highlightStroke)):f.fillcolor=u.shapeSettings.highlightColor),o.length>0&&!u._contains(u._prevSelectedLegends,o[0].legend)&&(o[0].legend[0].setAttribute("class","e-mapHighlightedShape mapShape"),o[0].legend.css("background-color",u.shapeSettings.highlightColor),u._prevHoverdLegend=o[0].legend),u._prevHoveredShape=f),u.legendSettings!=null&&u.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive&&u.shapeSettings.colorMappings!=null&&u.shapeSettings.colorMappings.rangeColorMapping!=null&&!u.shapeSettings.autoFill&&(u.legendSettings.showLegend==i||u.legendSettings.showLegend))for(s=0;s<u._mapShapes.length;s++)if(a=u._mapShapes[s].shape,a==f&&(c=null,u.shapeSettings.colorMappings.rangeColorMapping!=i&&(c=u.shapeSettings.colorMappings.rangeColorMapping),l=u.legendSettings.width,u.legendSettings.width==i&&(l=150),v=l/c.length/10,u._mapShapes[s].legendrect!=null)){y=u._mapShapes[s].legendrect.marginLeft;n(u._interactiveArrow).css({"margin-left":y+Math.ceil(v)-u._interactiveArrow.width()/2,display:"block",visibility:"visible"});break}e._trigger("mouseover",{originalEvent:r.data.Param2})}},_updateShapeRect:function(n){for(var i,t=0;t<n._mapShapes.length;t++)i=n._mapShapes[t],i.left==null&&(i.left=n._mapShapes[t].shape.getBoundingClientRect().left,i.right=n._mapShapes[t].shape.getBoundingClientRect().right,i.top=n._mapShapes[t].shape.getBoundingClientRect().top,i.bottom=n._mapShapes[t].shape.getBoundingClientRect().bottom,n._mapShapes[t]=i)},_polyUpFunction:function(t){var i=t.data.Param2,o=t.data.Param3,s=this.isTouch(t),h,r,f,e,b;if(s&&t.stopImmediatePropagation(),this.model.zoomSettings.enableZoomOnSelection&&!this._isDragging&&!this._isTileMap&&!this._isPinching){if(this._isSVG)h=o.getBBox(),this._zoomOnSelection(h);else for(this._updateShapeRect(i),r=0;r<i._mapShapes.length;r++)if(o==i._mapShapes[r].shape){var c=i._mapShapes[r].left,l=i._mapShapes[r].top,k=i._mapShapes[r].right,d=i._mapShapes[r].bottom,g={x:c,y:l,width:k-c,height:d-l};this._zoomOnSelection(g);break}this.ispanning=!1}if(f=i._tooltipElement,f!=null&&n(f).delay(200).queue(function(t){n(this).css("display","none");t()}),s&&i.showTooltip){var a=this.getEventXY(t),u=this,v=u.model.cachedXY,y=10,p,w;p=Math.abs(v.x-a.X);w=Math.abs(v.y-a.Y);p<y&&w<y&&(this.touchEnd=!0,e=t.data.Param1,t.data.Param1=i,t.data.Param2=e,u._polyMoveFunction(t),t.data.Param1=e,t.data.Param2=i,u.tooltipElement=i._tooltipElement[0],n(u.tooltipElement).stop(!0,!0),b=u,u._timeOut=function(){b._timeOut()},u.touchTimeOut=window.setTimeout(u._timeOut,1e3))}},_timeOut:function(){n(this.tooltipElement).fadeOut()},_markerPressed:function(n){this._trigger("markerSelected",{originalEvent:n.data})},_markerEntered:function(n){this._trigger("markerEnter",{data:n.data,originalEvent:n})},_markerLeaved:function(n){this._trigger("markerLeave",{data:n.data,originalEvent:n})},_polyMouseDown:function(i){var o=i.data.Param2,f,p,w,b;if(i.type=="mousedown"||i.type=="pointerdown"?f={x:i.pageX||i.originalEvent.pageX,y:i.pageY||i.originalEvent.pageY}:i.type=="touchstart"?f={x:i.originalEvent.changedTouches[0].pageX,y:i.originalEvent.changedTouches[0].pageY}:i.type=="MSPointerDown"&&(f={x:i.originalEvent.pageX,y:i.originalEvent.pageY}),this.model.cachedXY=f,!this.isTouch(i)&&!t.util.isNullOrUndefined(i.data.Param1)&&i.data.Param1.hasOwnProperty("data")&&o.showTooltip){var r=o._tooltipElement,y=o.tooltipTemplate,e=n(this._mapContainer).offset();e==null&&(e={left:0,width:0,height:0});var u=o._tooltipSize,s=this._height,h=this._width;if(r!=null&&y!=null){n(r).css({display:"block"});p=n("#"+y).render(i.data.Param1.data);n(r).html(p);w=r[0]!=null?r[0].clientHeight:r.clientHeight;b=r[0]!=null?r[0].clientWidth:r.clientWidth;u={height:w,width:b};var l=f.x-n(this._mapContainer).offset().left,a=f.y-n(this._mapContainer).offset().top,c=f.x,v=f.y;u.width+l>=h&&(c-u.width>e.left?c=e.left+h-(h-l)-u.width:c-=u.width+l-h);u.height>s?s+u.height>this._height+a&&(v-=e.top+10):u.height+a>=s&&(v-=u.height+a-s);n(r).css({left:c+10,top:v+10})}}},getEventXY:function(n){var t,i;return t=n.pageX||n.originalEvent.pageX||n.originalEvent.changedTouches[0].pageX,i=n.pageY||n.originalEvent.pageY||n.originalEvent.changedTouches[0].pageY,{X:t,Y:i}},findData:function(n,t,i){for(var r=0;r<n.length;r++)if(n[r][i]===t)return n[r]},_getEventArgs:function(n,i){var u,f,e,r,o,s,h,i;return i=i?i:n.target.id,u=parseInt(i.split("_layerIndex")[1].split("_")[0],10),f=parseInt(i.split("_shapeIndex")[1].split("_")[0],10),i.indexOf("_sublayerIndex")>-1&&(e=parseInt(i.split("_sublayerIndex")[1].split("_")[0],10)),r=t.util.isNullOrUndefined(e)?this.model.layers[u]:this.model.layers[u].subLayers[e],r.dataSource&&(h=this.findData(r.dataSource,r._polygonData[f].properties[r.shapePropertyPath],r.shapeDataPath)),o=document.getElementById(i),s=r._polygonData[f],{shapeData:s,shape:o,shapeIndex:f,layerIndex:u,subLayerIndex:e,layer:r,data:h}},_mapMouseClick:function(n){if(n.target.id.indexOf("layerIndex")>-1){var t=this._getEventArgs(n);this._polyClickFunction(this._mouseClickEventArgs(t,n))}},_mapMouseDown:function(n){if(n.target.id.indexOf("layerIndex")>-1){var t=this._getEventArgs(n);n.data={Param1:{shape:t.shape,shapeData:t.shapeData,shapeIndex:t.shapeIndex},Param2:t.layer};t.data&&(n.data.Param1.data=t.data);this._polyMouseDown(n)}},_mapMouseMove:function(n){if(n.target.id.indexOf("layerIndex")>-1){var t=this._getEventArgs(n);n.data={Param1:t.layer,Param2:{shapeIndex:t.shapeIndex,shape:t.shape,shapeData:t.shapeData},Param3:t.shape};t.data&&(n.data.Param2.data=t.data);this._polyMoveFunction(n)}},_mapMouseUp:function(n){if(n.target.id.indexOf("layerIndex")>-1){var t=this._getEventArgs(n);this._polyUpFunction(this._mouseClickEventArgs(t,n))}},_mouseClickEventArgs:function(n,t){return t.data={Param1:{shapeIndex:n.shapeIndex,shape:n.shape,shapeData:n.shapeData},Param2:n.layer,Param3:n.shape},n.data&&(t.data.Param1.data=n.data),t},_mouseMoveEventArgs:function(n,t){return t.data={Param1:n.layer,Param2:{shape:n.shape,shapeData:n.shapeData,shapeIndex:n.shapeIndex},map:this},n.data&&(t.data.Param2.data=n.data),t},_mapMouseEnter:function(n){var t,i;n.target.id.indexOf("layerIndex")>-1?this._prevEnterElement!=n.target.id&&(this._prevEnterElement!=""&&(t=this._getEventArgs(n,this._prevEnterElement),this._polyLeaveFunction(this._mouseMoveEventArgs(t,n))),t=this._getEventArgs(n),this._polyEnterFunction(this._mouseMoveEventArgs(t,n)),this._prevEnterElement=n.target.id):this._prevEnterElement!=""&&(t=this._getEventArgs(n,this._prevEnterElement),this._polyLeaveFunction(this._mouseMoveEventArgs(t,n)),this._prevEnterElement="",n.target.id=i)},_polyClickFunction:function(r){var k=r.ctrlKey,u=r.data.Param2,h=this,a=10,v=h.model.cachedXY,y,p,w=h.getEventXY(r),f,s,o,b,c,l,e;if(y=Math.abs(v.x-w.X),p=Math.abs(v.y-w.Y),y<a&&p<a){if(f=r.data.Param3,r.data.param4!=i&&(s=r.data.param4),o=jQuery.grep(u._smartLabels,function(n){return n.shape==f}),h._isPolygonSelected=!0,u.enableSelection)if(k&&u.selectionMode==t.datavisualization.Map.SelectionMode.Multiple)o!=null&&o.length>0&&(n.inArray(o[0].legend,u._prevSelectedLegends)==-1?(o[0].legend[0].setAttribute("class","e-mapSelectedShape mapShape"),o[0].legend.css("background-color",u.shapeSettings.selectionColor),u._prevSelectedLegends.push(o[0].legend)):(c=u._prevSelectedLegends.indexOf(o[0].legend),o[0].legend[0].setAttribute("class","e-mapShape"),o[0].legend.css("background-color",o[0].legend[0].getAttribute("data-nodeValue")),u._prevSelectedLegends.splice(c,1))),s!=null&&(l=document.getElementsByClassName("e-map-labelContainer"),n.inArray(s,u._prevSelectedTemp)==-1?(n(s).css("background-color",u.shapeSettings.selectionColor),n(s).css("width",l[0].clientWidth),u._prevSelectedTemp.push(s)):(n(s).css("background-color",""),b=u._prevSelectedTemp.indexOf(s),u._prevSelectedTemp.splice(b,1))),n.inArray(f,u._prevSelectedShapes)==-1?(f.setAttribute("class","e-mapSelectedShape mapShape"),this._isSVG?(f.setAttribute("fill",u.shapeSettings.selectionColor),f.setAttribute("stroke",u.shapeSettings.selectionStroke),f.setAttribute("stroke-width",u.shapeSettings.selectionStrokeWidth/h._scale)):(f.fillcolor=u.shapeSettings.selectionColor,f.strokecolor=u.shapeSettings.selectionStroke,f.strokeweight=u.shapeSettings.selectionStrokeWidth/h._scale),u._prevSelectedShapes.push(f),u.selectedItems.push(r.data.Param1)):(f.setAttribute("class","e-mapShape"),f.setAttribute("fill",f.getAttribute("data-nodeValue")),f.setAttribute("stroke",u.shapeSettings.stroke),f.setAttribute("stroke-width",u.shapeSettings.strokeThickness/this._scale),c=u._prevSelectedShapes.indexOf(f),u._prevSelectedShapes.splice(c,1),u.selectedItems.splice(c,1));else{for(e=0;e<u._prevSelectedLegends.length;e++)u._prevSelectedLegends[e][0].setAttribute("class","e-mapShape"),u._prevSelectedLegends[e].css("background-color",u._prevSelectedLegends[e][0].getAttribute("data-nodeValue"));for(o!=null&&o.length>0&&(o[0].legend[0].setAttribute("class","e-mapSelectedShape mapShape"),o[0].legend.css("background-color",u.shapeSettings.selectionColor),u._prevSelectedLegends.push(o[0].legend)),e=0;e<u._prevSelectedShapes.length;e++)u._prevSelectedShapes[e].setAttribute("class","e-mapShape"),this._isSVG?(u._prevSelectedShapes[e].setAttribute("fill",u._prevSelectedShapes[e].getAttribute("data-nodeValue")),u._prevSelectedShapes[e].setAttribute("stroke",u.shapeSettings.stroke),u._prevSelectedShapes[e].setAttribute("stroke-width",u.shapeSettings.strokeThickness/this._scale)):(u.fillcolor=u._prevSelectedShapes[e].getAttribute("data-nodeValue"),u.strokecolor=u.shapeSettings.stroke,u.strokeweight=u.shapeSettings.strokeThickness/this._scale);if(s!=null)if(l=document.getElementsByClassName("e-map-labelContainer"),n.inArray(s,u._prevSelectedTemp)==-1){for(e=0;e<u._prevSelectedTemp.length;e++)n(u._prevSelectedTemp[e]).css("background-color","");u._prevSelectedTemp=[];n(s).css("background-color",u.shapeSettings.selectionColor);n(s).css("width",l[0].clientWidth);u._prevSelectedTemp.push(s)}else{for(e=0;e<u._prevSelectedTemp.length;e++)n(u._prevSelectedTemp[e]).css("background-color","");u._prevSelectedTemp=[]}this._isPinching||n.inArray(f,u._prevSelectedShapes)!=-1?(u._prevSelectedShapes=[],u.selectedItems=[]):(f.setAttribute("class","e-mapSelectedShape mapShape"),u._prevSelectedShapes=[],u.selectedItems=[],this._isSVG?(f.setAttribute("fill",u.shapeSettings.selectionColor),f.setAttribute("stroke",u.shapeSettings.selectionStroke),f.setAttribute("stroke-width",u.shapeSettings.selectionStrokeWidth/h._scale)):(f.fillcolor=u.shapeSettings.selectionColor,f.strokecolor=u.shapeSettings.selectionStroke,f.strokeweight=u.shapeSettings.selectionStrokeWidth/h._scale),u._prevSelectedShapes.push(f),u.selectedItems.push(r.data.Param1))}h._trigger("shapeSelected",{originalEvent:u.selectedItems})}},_updateSelection:function(n,i,r){n.enableSelection&&(n.selectionMode!=t.datavisualization.Map.SelectionMode.Multiple&&(n._prevSelectedShapes.pop(),n.selectedItems.pop()),n._prevSelectedShapes.push(i),n.selectedItems.push(r))},_zoomOnSelection:function(n){var u,t,i,r;this._isSVG||(n.x=n.x-this._baseTranslatePoint.x/2-n.width/2,n.y=n.y-this._baseTranslatePoint.y/2-n.height/2);t=n.width;i=n.height;u=(this._width-100)/(this._height-100)>t/i?(this._height-100)/i:(this._width-100)/t;this._prevScale=this._scale;this._scale=u;this._prevPoint={x:this._translatePoint.x,y:this._translatePoint.y};this.model.zoomSettings.level=this._scale-this._baseScale+1;this._zoomLevel(this._scale-this._baseScale+1);r=this._zoomLevel();r>this._minZoom()&&r<this._maxZoom()||(this.model.zoomSettings.level=r>(this._maxZoom()-this._minZoom())/2+this._minZoom()?this._maxZoom():this._minZoom(),this._zoomLevel(this.model.zoomSettings.level),this._scale=this._zoomLevel()+this._baseScale-1);var f=this._width/2-t*this._scale/2,e=f/this._scale,o=this._height/2-i*this._scale/2,s=o/this._scale;this._translatePoint.x=-n.x+e;this._translatePoint.y=-n.y+s;this.enableAnimation()&&!this._isTileMap?this._animate(2*this.model.zoomSettings.animationDuration):(this._applyTransform(this._scale,this._translatePoint),this._updateSliderValue())},_polyMoveFunction:function(i){var p=i.data.Param1,it=this.isTouch?this.isTouch(i):!1,k,e,h,nt,tt,c;if((!it&&i.type.toString().indexOf("move")>-1||this.touchEnd)&&(this.touchEnd=!1,this.model!=null)){var s=this.model.layers[this.baseMapIndex()],r=p._tooltipElement,d=p.tooltipTemplate,g=i.data.Param2,u=p._tooltipSize,f=n(this._mapContainer).offset();f==null&&(f={left:0,top:0,width:0,height:0});c=s.legendSettings.dockOnMap&&s.legendSettings.dockPosition=="right"?this._width+s.legendSettings.width+20+s.legendSettings.leftLabel.length*10+s.legendSettings.rightLabel.length*10:this._width;var l=this._height,a=c,v=this.getEventXY(i),y=v.X-f.left,w=v.Y-f.top,o=v.X,b=v.Y;if(r!=null&&d!=null&&g.hasOwnProperty("data")&&i.data.Param1.showTooltip){if(n(r).css({display:"block"}),k=this.model.locale,e=n.extend({},g.data),k&&this.model.enableGroupSeparator)for(h in e)e[h]=isNaN(parseFloat(e[h]))?e[h]:parseFloat(e[h]).toLocaleString(k);nt=n("#"+d).render(e);n(r).html(nt);tt=r[0]!=null?r[0].clientHeight:r.clientHeight;c=r[0]!=null?r[0].clientWidth:r.clientWidth;u={height:tt,width:c};t.util.isNullOrUndefined(this.touchTimeOut)||window.clearTimeout(this.touchTimeOut);u.width+y>=a&&!this.model.enableRTL&&(o-u.width>f.left?o=f.left+a-(a-y)-u.width:o-=u.width+y-a);u.height>l?l+u.height>this._height+w&&(b-=f.top+10):u.height+w>=l&&(b-=u.height+w-l);n(r).css({left:this.model.enableRTL?(y-u.width<0)?o+10:o-c:o+10,top:b})}}},_polyLeaveFunction:function(i){var r=i.data.Param1,h=this.isTouch(i),e=i.data.map,o=i.data.Param2.shape,s=r._tooltipElement,f=r._prevSelectedShapes,u;if(f.length>0)for(o.setAttribute("class","e-mapShape"),u=0;u<f.length;u++)f[u].setAttribute("class","e-mapSelectedShape mapShape");else o.setAttribute("class","e-mapShape");s==null||h||n(s).css("display","none");r.legendSettings!=null&&r.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive&&r._interactiveArrow!=null&&n(r._interactiveArrow).css("display","none");r._clearShapeWidth(e._scale,this);e._trigger("mouseleave",{originalEvent:i.data.Param2})},_wireEvents:function(){function y(t){i.enableAnimation()&&n(i._rootgroup).stop(!0,!1);t.preventDefault(t);i._zooming(-40*t.detail,t)}var o=t.browserInfo(),r=o.isMSPointerEnabled,u=o.pointerEnabled,s=r?u?"pointerup":"MSPointerUp":"touchend mouseup",l=r?u?"pointerdown":"MSPointerDown":"touchstart mousedown",a=r?u?"pointermove":"MSPointerMove":"touchmove mousemove",v=jQuery.uaMatch(navigator.userAgent),f=v.browser.toLowerCase(),h,i,e,c;n(this._mapContainer).off();this._on(n(this._mapContainer),t.eventType.mouseDown,this._mouseButtonDown);n(document).keydown({className:"home",map:this},this._keyboardKeysPressed);this._on(n(this._mapContainer),t.eventType.mouseMove,this._mouseMove);this._on(n(document),t.eventType.mouseUp,this._mouseUp);h=!!navigator.userAgent.match(/Trident\/7\./);h&&(f="msie");window.navigator.msPointerEnabled?(this._on(n(this._mapContainer),"MSPointerUp",this._mouseButtonUp),this.model.zoomSettings.enableZoom&&n(this._mapContainer).css("-ms-touch-action","none")):this._on(n(this._mapContainer),"mouseup",this._mouseButtonUp);i=this;this._browser=f;f!="mozilla"?this._on(n(this._mapContainer),"mousewheel",this._mouseWheel):(e=this._svgDocument||this._mapContainer[0],e.addEventListener&&e.addEventListener("DOMMouseScroll",y,!1));this._on(n(this._mapContainer),"touchstart",this._mapDown);this._on(n(this._mapContainer),s,this._mapMouseClick);this._on(n(this._mapContainer),l,this._mapMouseDown);this._on(n(this._mapContainer),a,this._mapMouseMove);this._on(n(this._mapContainer),s,this._mapMouseUp);this._on(n(this._mapContainer),t.eventType.mouseMove,this._mapMouseEnter);c=this;n(this._mapContainer).get(0).addEventListener(t.isTouchDevice()?"touchend":"mouseup",function(){c._mapClick()},!0);this._on(n(this._mapContainer),"dblclick",this._doubleClick);(this.model.enableResize||this.model.isResponsive)&&(t.isTouchDevice()?this._on(n(window),"orientationchange",this._mapResize):this._on(n(window),"resize",this._mapResize))},clip:function(n,t,i){return Math.min(Math.max(n,t),i)},pointToLatLong:function(n,t){var i=this,u,f,e=i._getFactor(),o=n/i._scale-i._translatePoint.x,s=t/i._scale-i._translatePoint.y,r=Math.min(i._height,i._width)*e,h=i.clip(o,0,r-1)/r-.5,c=.5-i.clip(s,0,r-1)/r;return u=90-360*Math.atan(Math.exp(-c*2*Math.PI))/Math.PI,f=360*h,{latitude:u,longitude:f}},_mapResize:function(n){n.preventDefault();n.stopPropagation();var i={width:this._width,height:this._height},r=this._translatePoint,t=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){if(t.model!=null){var n=t.pointToLatLong(t._width/2,t._height/2);t.refresh(!0);t._isTileMap||t.navigateTo(n.latitude,n.longitude,t._zoomLevel(),!1)}},500)},_isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_unWireEvents:function(){var f=t.browserInfo(),r=f.isMSPointerEnabled,u=f.pointerEnabled,e=r?u?"pointerup":"MSPointerUp":"touchend mouseup",s=r?u?"pointerdown":"MSPointerDown":"touchstart mousedown",h=r?u?"pointermove":"MSPointerMove":"touchmove mousemove",c=jQuery.uaMatch(navigator.userAgent),i=c.browser.toLowerCase(),o;this._off(n(this._mapContainer),"touchstart",this._mapDown);this._off(n(document),"keydown",this._keyboardKeysPressed);this._off(n(document),t.eventType.mouseUp,this._mouseUp);o=!!navigator.userAgent.match(/Trident\/7\./);o&&(i="msie");i!="mozilla"&&this._off(n(this._mapContainer),"mousewheel",this._mouseWheel);window.navigator.msPointerEnabled?(this._off(n(this._mapContainer),"MSPointerDown",this._mouseButtonDown),this._off(n(this._mapContainer),"MSPointerMove",this._mouseMove),this._off(n(this._mapContainer),"MSPointerUp",this._mouseButtonUp)):i=="webkit"||i=="chrome"||i=="mozilla"?(this._off(n(this._mapContainer),"mousedown",this._mouseButtonDown),this._off(n(this._mapContainer),"mousemove",this._mouseMove),this._off(n(this._mapContainer),"mouseup",this._mouseButtonUp)):(this._off(n(this._mapContainer),"mousedown",this._mouseButtonDown),this._off(n(this._mapContainer),"mousemove",this._mouseMove),this._off(n(this._mapContainer),"mouseup",this._mouseButtonUp));n(this._mapContainer).get(0).removeEventListener(t.isTouchDevice()?"touchend":"mouseup",this._mapClick,!0);this._off(n(this._mapContainer),"dblclick",this._doubleClick);this._off(n(this._mapContainer),e,this._mapMouseClick);this._off(n(this._mapContainer),s,this._mapMouseDown);this._off(n(this._mapContainer),h,this._mapMouseMove);this._off(n(this._mapContainer),e,this._mapMouseUp);this._off(n(this._mapContainer),t.eventType.mouseMove,this._mapMouseEnter)},navigateTo:function(n,t,r,u){var e,f,o,s;u==i&&(u=this.enableAnimation());r=parseFloat(r);r==i&&(r=this._zoomLevel());r>this._minZoom()&&r<this._maxZoom()?(this.model.zoomSettings.level=r,this._zoomLevel(r)):(this.model.zoomSettings.level=r>(this._maxZoom()-this._minZoom())/2+this._minZoom()?this._maxZoom():this._minZoom(),this._zoomLevel(this.model.zoomSettings.level));e=this._getFactor();f=this._convertTileLatLongtoPointForShapes(n,t,this._mapBounds,e);this._prevPoint={x:this._translatePoint.x,y:this._translatePoint.y};this._prevScale=this._scale;this._scale=this._baseScale+(r-1)*this._zoomFactor();o=(this._containerWidth+this._baseTranslatePoint.x)/2/this._scale;s=(this._containerHeight+this._baseTranslatePoint.y)/2/this._scale;this._translatePoint.x=-f.x+o;this._translatePoint.y=-f.y+s;u&&!this._isTileMap?this._animate(2*this.model.zoomSettings.animationDuration):this._applyTransform(this._scale,this._translatePoint);this._updateSliderValue();this._refrshLayers()},selectShape:function(n,i,r){var e,f,u;if(n!=null)for(i==null&&(i=this.model.layers[this.baseMapIndex()]),u=0;u<i._mapShapes.length;u++)if(e=i._mapShapes[u].data,f=i._mapShapes[u].shape,e!=null&&n==this._reflection(e,i.shapeSettings.valuePath)){if(i._prevSelectedShapes.length!=0&&i.selectionMode!=t.datavisualization.Map.SelectionMode.Multiple)for(u=0;u<i._prevSelectedShapes.length;u++)this._isSVG?(i._prevSelectedShapes[u].setAttribute("fill",i._prevSelectedShapes[u].getAttribute("data-nodeValue")),i._prevSelectedShapes[u].setAttribute("stroke",i.shapeSettings.stroke),i._prevSelectedShapes[u].setAttribute("stroke-width",i.shapeSettings.strokeThickness/this._scale)):(i._prevSelectedShapes[u].fillcolor=i._prevSelectedShapes[u].style.behavior,i._prevSelectedShapes[u].strokecolor=i.shapeSettings.stroke,i._prevSelectedShapes[u].strokeweight=i.shapeSettings.strokeThickness/this._scale);i.enableSelection&&(this._isSVG?(i.shapeSettings.selectionColor!="none"&&f.setAttribute("fill",i.shapeSettings.selectionColor),f.setAttribute("stroke",i.shapeSettings.selectionStroke),f.setAttribute("stroke-width",i.shapeSettings.selectionStrokeWidth/this._scale)):(i.shapeSettings.selectionColor!="none"&&(f.fillcolor=i.shapeSettings.selectionColor),f.strokecolor=i.shapeSettings.selectionStroke,f.strokeweight=i.shapeSettings.selectionStrokeWidth/this._scale),this._updateSelection(i,f,n),i._contains(i.selectedItems,i._mapShapes[u])||i.selectedItems.push(i._mapShapes[u]),this._trigger("shapeSelected",{originalEvent:i.selectedItems}));r&&this.model.zoomSettings.enableZoomOnSelection&&this._zoomOnSelection(f.getBBox());u=i._mapShapes.length}},_getIntersectedElements:function(t,i){var r,u;if(t.width+=5,t.height+=5,this._isSVG&&this._browser!="mozilla"&&this._browser!="webkit")return r=this._svgDocument.createSVGRect(),r.x=t.left,r.y=t.top,r.width=t.width,r.height=t.height,this._svgDocument.getIntersectionList(r,null);var o=[],s=n(this._mapContainer).offset(),h=s.left,c=s.top;for(u=0;u<i.length;u++){var f=i[u].shape,e=f.getBoundingClientRect(),l=n(f).offset().left-h,a=n(f).offset().top-c;if(this._isIntersect(t,{left:l,top:a,height:e.bottom-e.top,width:e.right-e.left}))return o.push(f),o}return o},_isIntersect:function(n,t){return n.left>=t.left+t.width||n.left+n.width<=t.left||n.top>=t.top+t.height||n.top+n.height<=t.top?!1:!0},pan:function(n){var t=this,i=0,r=0,u,f,e,o;if(this._zoomLevel()!=1){switch(n){case"right":i=this._width/7;r=0;break;case"top":i=0;r=-(this._height/7);break;case"left":i=-(this._width/7);r=0;break;case"bottom":i=0;r=this._height/7}t.enablePan()&&(this._isTileMap&&(u=this._tileTranslatePoint.x-i/t._scale,f=this._tileTranslatePoint.y-r/t._scale,this._tileTranslatePoint.x=u,this._tileTranslatePoint.y=f,this._generateTiles(this._zoomLevel())),e=t._translatePoint.x-i/t._scale,t._prevScale=t._scale,o=t._translatePoint.y-r/t._scale,t._prevPoint={x:this._translatePoint.x,y:this._translatePoint.y},this._translatePoint.x=e,this._translatePoint.y=o,t.enableAnimation()&&!this._isTileMap?t._animate(t.model.zoomSettings.animationDuration):t._applyTransform(t._scale,t._translatePoint),t._refrshLayers())}},zoom:function(n,t){var r=this,u=r._zoomLevel(),f;n<=this._maxZoom()&&n>=this._minZoom()?(this._isTileMap?(this._tileZoom(r._zoomLevel(),n,{x:this._width/2,y:this._height/2}),u=r._zoomLevel(),r.model.zoomSettings.level=n,r._zoomLevel(n),this._generateTiles(this._zoomLevel()),u=u<n?u:n-1,r._translatePoint.x=(r._tileTranslatePoint.x-.5*Math.pow(2,u))/Math.pow(2,u),r._translatePoint.y=(r._tileTranslatePoint.y-.5*Math.pow(2,u))/Math.pow(2,u),r._scale=Math.pow(2,u)):(f=r._baseScale+(n-1)*r._zoomFactor(),r._prevPoint={x:r._translatePoint.x,y:r._translatePoint.y},r._prevScale=r._scale,r._translatePoint.x-=(r._width/r._scale-r._width/f)/2,r._translatePoint.y-=(r._height/r._scale-r._height/f)/2,r._scale=f,r.model.zoomSettings.level=n,r._zoomLevel(n),(r.enableAnimation()&&t||t==i)&&r._animate(r.model.zoomSettings.animationDuration)),r.enableAnimation()&&t&&!r._isTileMap||(r._applyTransform(r._scale,r._translatePoint),r._refrshLayers(),r._resizeShape()),r._updateSliderValue()):n<=this._minZoom()?(this.model.zoomSettings.level=this._minZoom(),this._zoomLevel(this._minZoom()),this.zoom(this._zoomLevel())):n>=this._maxZoom()&&(this.model.zoomSettings.level=this._maxZoom(),this._zoomLevel(this._maxZoom()),this.zoom(this._zoomLevel()));u<n?r._trigger("zoomedIn",{originalEvent:null,zoomLevel:r._zoomLevel()}):u>n&&r._trigger("zoomedOut",{originalEvent:null,zoomLevel:r._zoomLevel()})},refresh:function(t){var u,i,r;this._prevEnterElement="";this._trigger("onLoad");this._id!=""&&n("#"+this._id).find(".e-legendDiv").parent().children().empty();n(this._svgDocument).children().remove();n(this._svgDocument).empty();n(this._mapContainer).empty();this.baseMapIndex()>=this.model.layers.length&&this.baseMapIndex(0);this.model.layers[this.baseMapIndex()]._mapItems&&(this.model.layers[this.baseMapIndex()]._mapItems=null);this._svgDocument!=null&&(this._svgDocument=null);this._scale||(this._scale=1);this._margintop=0;this._marginleft=0;(!this._translatePoint||this._scale&&this._scale<=1)&&(this._translatePoint={x:0,y:0});this._height=this._mapContainer.height();this._width=this._mapContainer.width();this._height==0&&(this._height=this._mapContainer[0].parentElement.clientHeight!=0?this._mapContainer[0].parentElement.clientHeight:n(document).height());this._width==0&&(this._width=this._mapContainer[0].parentElement.clientWidth!=0?this._mapContainer[0].parentElement.clientWidth:n(document).width());i=this.model.layers[this.baseMapIndex()];i.legendSettings!=null&&i.legendSettings.showLegend&&(i.shapeSettings.colorMappings!=null||i.shapeSettings.colorPath!=null||i.bubbleSettings.colorPath!=null)&&i._sizeCalculation(this);u=this._scale;this._groupSize=null;this._generatePath();this._groupSize!=null&&(this._isMapCoordinates?(this._containerHeight=this._groupSize.maxY-this._groupSize.minY,this._containerWidth=this._groupSize.maxX-this._groupSize.minX,this._groupBorder={x:this._groupSize.minX,y:this._groupSize.minY}):(r=this._getFactor(),this._containerHeight=Math.abs((this._groupSize.maxY-this._groupSize.minY)*r),this._containerWidth=Math.abs((this._groupSize.maxX-this._groupSize.minX)*r)));i.layerType=="geometry"&&n(this._svgDocument).css("background",this.model.background);this._resizingContainer();this._renderMapElements();u!=this._scale&&this._resetThickness();i.legendSettings!=null&&i.legendSettings.showLegend&&(i.shapeSettings.colorMappings!=null||i.shapeSettings.colorPath!=null||i.bubbleSettings.colorPath!=null)&&this._renderLegend();this._isSVG&&n(this._svgDocument).css({height:this._height,width:this._width,"margin-top":this._margintop,"margin-left":this._marginleft});this.model.enableLayerChangeAnimation&&n(this._mapContainer).animate({opacity:1},500);this.model.centerPosition==null||this._isTileMap||this.navigateTo(this.model.centerPosition[0],this.model.centerPosition[1],this._zoomLevel(),!1);this._legendContainer!=null&&this._legendContainer.css({width:this._legendSize.width,height:this._legendSize.height});this._trigger("refreshed");t||(this._events=null,n(this._mapContainer).removeData(),n(this._mapContainer).data("ejMap",this))},_resetThickness:function(){for(var f=this._scale,t=0,i=0,r=0,u=this.model.layers,n;t<u.length;t++)for(n=u[t],i=0;n._mapShapes&&i<n._mapShapes.length;i++)for(this._resetLayerThickness(n);r<n.subLayers.length;r++)this._resetLayerThickness(n.subLayers[r])},_resetLayerThickness:function(t){for(var i=0,r=t._mapShapes?t._mapShapes.length:0,u=this._scale;i<r;i++)n(t._mapShapes[i]).attr("stroke-width",t.shapeSettings.strokeThickness/u)},_updateSliderValue:function(n){var t=this._sliderControl,r;n==i&&(n=this.enableAnimation());t!=null&&(r=t.data("ejSlider"),r.option("value",this._zoomLevel()))},_createDivElement:function(n,i,r,u){var f=n,e=i;e.appendTo(f);f.appendTo(r);this._on(e,t.eventType.mouseDown,{className:u,map:this},this._navigationControlPressed)},_navigationControlPressed:function(n){n.stopPropagation();this._isNavigationPressed=!0;var t=n.data.map,i=t.enableAnimation();n.data.className=="zoomIn"?(t.zoom(t._zoomLevel()+1,!0),i||t._updateSliderValue(),t._refrshLayers()):n.data.className=="zoomOut"?(t.zoom(t._zoomLevel()-1,!0),i||t._updateSliderValue()):n.data.className=="panLeft"?t.pan("left"):n.data.className=="panRight"?t.pan("right"):n.data.className=="panTop"?t.pan("top"):n.data.className=="panBottom"?t.pan("bottom"):n.data.className=="home"&&(t.zoom(t._isTileMap&&t._minZoom()>1?t._minZoom():1,!0),i||t._updateSliderValue())},_keyboardKeysPressed:function(n){this._iskeyboardKeysPressed=!0;var t=n.data.map,i=t.enableAnimation();n.ctrlKey&&n.keyCode==38?t._zoomingIn(t._width/2,t._height/2,n,i):n.ctrlKey&&n.keyCode==40?t._zoomingOut(t._width/2,t._height/2,n,i):n.keyCode==37?t.pan("left"):n.keyCode==39?t.pan("right"):n.keyCode==38?t.pan("top"):n.keyCode==40&&t.pan("bottom")},refreshNavigationControl:function(r){function it(n){o!=null&&o._isRendered&&o._zoomLevel()!=n.value&&o.zoom(n.value,!1)}function rt(n){o!=null&&o._isRendered&&o._zoomLevel()!=n.value&&o.zoom(n.value,!1)}var f=this.model.layers[this.baseMapIndex()],g=this._mapContainer.find("#ejNavigation"),c,e,a,s,v,h,y,o,w,b,k,d,u;if(g.length>0&&this._mapContainer[0].removeChild(g[0]),this.model.navigationControl!=null&&this.model.navigationControl.enableNavigation){r==i&&(r=this.model.navigationControl);var p=t.datavisualization.Map.LabelOrientation.Vertical,l,nt=120,tt=12;l={width:90,height:320};e=n("<div id='ejNavigation' class='e-map-navigation e-orientation-vert'/>");(this.model.navigationControl.content==null||this.model.navigationControl.content=="")&&(a=n("<div style='height:120px;width:10px;margin-top:-197px;margin-left: 34px;' />"));r.orientation=="horizontal"&&(p=t.datavisualization.Map.LabelOrientation.Horizontal,nt=12,tt=120,l={width:320,height:90},e=n("<div id='ejNavigation' class='e-map-navigation e-orientation-horz' />"),(this.model.navigationControl.content==null||this.model.navigationControl.content=="")&&(a=n("<div style='height:10px;width:120px;margin-top:-18px' />")));(this.model.navigationControl.content==null||this.model.navigationControl.content=="")&&(s=n("<div class='e-panContainer'/>"),v=p=="horizontal"?"Horz":"Vert",r.orientation=="horizontal"?(h=n("<div style='margin-left: 94px;' />"),y=n("<div style='margin-left: 137px;'/>")):(h=n("<div />"),y=n("<div style='margin-top: 34px;'/>")),s.appendTo(e),h.appendTo(e),a.appendTo(y),y.appendTo(e),this._sliderControl=a,u={x:0,y:0},r.dockPosition==null||r.dockPosition==t.datavisualization.Map.Position.None?(u.x=this._width*r.absolutePosition.x/100,u.y=this._height*r.absolutePosition.y/100):u=this._getPosition(r.dockPosition,l),e.css({"margin-left":u.x+"px","margin-top":u.y+"px"}));o=this;w=this._height*.0025;this.model.navigationControl.content==null||this.model.navigationControl.content==""?c=this._browser!="chrome"&&this._browser!="msie"?n("<style> .e-map-navigation {width: 90px;height: 320px;position:absolute;z-index:2;zoom:"+w+";}<\/style>"):n("<style> .e-map-navigation {width: 90px;height: 320px;position:absolute;z-index:2;-moz-transform: scale("+w+");}<\/style>"):(b=n("#"+this.model.navigationControl.content).height()||n(this.navigationControlData[0]).height(),k=n("#"+this.model.navigationControl.content).width()||n(this.navigationControlData[0]).width(),c=this._browser!="mozilla"&&this._browser!="chrome"?n("<style> .e-map-navigation {width: "+k+"px;height: "+b+"px;position:absolute;z-index:2;}<\/style>"):n("<style> .e-map-navigation {width: "+k+"px;height: "+b+"px;position:absolute;z-index:2;}<\/style>"));this._browser!="mozilla"&&this._browser!="chrome"?(c.remove(),n("html > head").append(c)):n("html > head").append(c);this.model.navigationControl.content==null||this.model.navigationControl.content==""?(n(a).ejSlider({orientation:p,sliderType:t.SliderType.MinRange,value:1,animationSpeed:1200,minValue:this._minZoom(),showTooltip:!0,enableAnimation:!1,maxValue:this._maxZoom(),incrementStep:this._zoomFactor(),slide:rt,change:it,height:nt,width:tt}),e.appendTo(this._mapContainer),r.orientation=="horizontal"?(this._createDivElement(n("<div title='"+this._localizedLabels.zoomIn+"' class='e-icon1 e-incrementButton  icon_margin1' />"),n("<div class='e-icon1 nav-inc-"+v+"  e-innerIncrement'/>"),h,"zoomIn"),this._createDivElement(n("<div title='"+this._localizedLabels.zoomOut+"' class='e-icon1 e-incrementButton icon_margin2'/>"),n("<div class='e-icon1 nav-dec-"+v+" e-innerDecrement'/>"),h,"zoomOut")):(this._createDivElement(n("<div title='"+this._localizedLabels.zoomIn+"' class='e-icon1 e-incrementButton  icon_margin1' />"),n("<div class='e-icon1 nav-inc-"+v+"  e-innerIncrement'/>"),h,"zoomIn"),this._createDivElement(n("<div title='"+this._localizedLabels.zoomOut+"' class='e-icon1 e-incrementButton icon_margin2'/>"),n("<div class='e-icon1 nav-dec-"+v+" e-innerDecrement'/>"),h,"zoomOut")),this._createDivElement(n("<div title='"+this._localizedLabels.panTop+"' class='e-icon1 e-radialTop'/>"),n("<div class='e-icon1 e-arrowUp'/>"),s,"panTop"),this._createDivElement(n("<div title='"+this._localizedLabels.panLeft+"' class='e-icon1 e-radialLeft'/>"),n("<div class='e-icon1 e-arrowLeft'/>"),s,"panLeft"),this._createDivElement(n("<div title='"+this._localizedLabels.panRight+"' class='e-icon1 e-radialRight'/>"),n("<div class='e-icon1 e-arrowRight'/>"),s,"panRight"),this._createDivElement(n("<div title='"+this._localizedLabels.panBottom+"' class='e-icon1 e-radialBottom'/>"),n("<div class='e-icon1 e-arrowDown'/>"),s,"panBottom"),d=n("<div title='"+this._localizedLabels.home+"' class='e-icon1 e-home-bg'><div class='e-icon1 e-map-home'><\/div>"),d.appendTo(s),d.mousedown({className:"home",map:this},this._navigationControlPressed)):(this.navigationControlData==null?(this.navigationControlData=n("#"+this.model.navigationControl.content),this.navigationControlData.css({display:"block"}),this.navigationControlData.appendTo(e)):this.navigationControlData.appendTo(e),e.appendTo(this._mapContainer),l={width:this.navigationControlData[0].getBoundingClientRect().right-this.navigationControlData[0].getBoundingClientRect().left,height:this.navigationControlData[0].getBoundingClientRect().bottom-this.navigationControlData[0].getBoundingClientRect().top},u={x:0,y:0},r.dockPosition==null||r.dockPosition==t.datavisualization.Map.Position.None?(u.x=this._width*r.absolutePosition.x/100,u.y=this._height*r.absolutePosition.y/100):u=this._getPosition(r.dockPosition,l),f.legendSettings.dockOnMap&&f.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Top&&f.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive?e.css({"margin-left":u.x+"px","margin-top":u.y+f.legendSettings.height+"px"}):f.legendSettings.dockOnMap&&f.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Left&&f.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive?e.css({"margin-left":u.x+f.legendSettings.width+20+f.legendSettings.leftLabel.length*10+f.legendSettings.rightLabel.length*10+"px","margin-top":u.y+"px"}):f.legendSettings.dockOnMap&&f.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Top&&f.legendSettings.mode==t.datavisualization.Map.LegendMode.Default?e.css({"margin-left":u.x+"px","margin-top":u.y+f.legendSettings.height+"px"}):f.legendSettings.dockOnMap&&f.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Left&&f.legendSettings.mode==t.datavisualization.Map.LegendMode.Default?e.css({"margin-left":u.x+f.legendSettings.width+"px","margin-top":u.y+"px"}):e.css({"margin-left":u.x+"px","margin-top":u.y+"px"}))}},_getPosition:function(n,i){var r={x:0,y:0};switch(n){case t.datavisualization.Map.Position.TopCenter:r.x=this._width/2-i.width/2;break;case t.datavisualization.Map.Position.TopRight:r.x=this._width-i.width;break;case t.datavisualization.Map.Position.CenterLeft:r.y=this._height/2-i.height/2;break;case t.datavisualization.Map.Position.Center:r.x=this._width/2-i.width/2;r.y=this._height/2-i.height/2;break;case t.datavisualization.Map.Position.CenterRight:r.x=this._width-i.width;r.y=this._height/2-i.height/2;break;case t.datavisualization.Map.Position.BottomLeft:r.y=this._height-i.height;break;case t.datavisualization.Map.Position.BottomCenter:r.x=this._width/2-i.width/2;r.y=this._height-i.height;break;case t.datavisualization.Map.Position.BottomRight:r.x=this._width-i.width;r.y=this._height-i.height}return r},_renderMapElements:function(t){this._templateDiv=n("<div class='e-TemplateDiv'/>");this._templateDiv.appendTo(this._mapContainer);this._templateDiv.css({"pointer-events":"none",overflow:"hidden",position:"absolute","z-index":"1",height:this._height,width:this._width});this.refreshLayers(t);this.refreshNavigationControl(this.model.navigationControl)},_renderLegend:function(){var r=this.model.layers[this.baseMapIndex()],f,e,o,s,u;this._scrollLegendDiv=n("<div class='e-ScrollLegendDiv'/>");this._scrollLegendDiv.appendTo(this._mapContainer);this._legendContainer=n("<div id='e-LegendcontainerDiv'/>");this._legendContainer.appendTo(this._scrollLegendDiv);this._legendDiv.css({height:this._legendDivHeight+"px",width:this._legendDivWidth+"px"});this._isNavigationPressed=!0;this._legendDiv.appendTo(this._legendContainer);this._legendDiv[0].getBoundingClientRect();this._legendContainer.css({position:"relative"});this._scrollLegendDiv.ejScroller({height:Math.round(this._legendSize.height),width:Math.round(this._legendSize.width)});r.legendSettings.labelOrientation==i&&r.legendSettings.labelOrientation==t.datavisualization.Map.LabelOrientation.Vertical;r.legendSettings.dockOnMap?(r.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive?(f="none",o=r.legendSettings.height+50,e=r.legendSettings.width+20+r.legendSettings.leftLabel.length*10+r.legendSettings.rightLabel.length*10):(f="auto",o=r.legendSettings.height,e=r.legendSettings.width),this._scrollLegendDiv.css({position:"absolute","z-index":"2",height:this._legendSize.height,width:this._legendSize.width}),(r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Top||r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Bottom)&&r.legendSettings.alignment==t.datavisualization.Map.Alignment.Center?this._scrollLegendDiv.css({"margin-left":this._width/2-this._legendSize.width/2}):(r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Top||r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Bottom)&&r.legendSettings.alignment==t.datavisualization.Map.Alignment.Far?this._scrollLegendDiv.css({"margin-left":this._width-this._legendSize.width}):(r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Left||r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Right)&&r.legendSettings.alignment==t.datavisualization.Map.Alignment.Center?this._scrollLegendDiv.css({"margin-top":this._height/2-this._legendSize.height/2}):(r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Left||r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Right)&&r.legendSettings.alignment==t.datavisualization.Map.Alignment.Far&&this._scrollLegendDiv.css({"margin-top":this._height-this._legendSize.height}),r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Bottom?this._scrollLegendDiv.css({"margin-top":this._height}):r.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Right&&this._scrollLegendDiv.css({"margin-left":this._width})):(r.legendSettings.labelOrientation==t.datavisualization.Map.LabelOrientation.Horizontal||r.legendSettings.labelOrientation==t.datavisualization.Map.LabelOrientation.Vertical)&&(s=r.legendSettings.position==i?"topleft":r.legendSettings.position,u=this._getPosition(s,this._legendSize),this._scrollLegendDiv.css({position:"absolute","z-index":"2","margin-left":u.x+"px","margin-top":u.y}));this.refreshNavigationControl(this.model.navigationControl)},_renderMapLayers:function(){var f,i,o,e,u,s;for(n(this._templateDiv).empty(),f=0,i=this.model.layers[this.baseMapIndex()],i.layerType==t.datavisualization.Map.LayerType.Geometry?(this._renderLayers(i,f,this),i.shapeData!=null&&(f=i._polygonData.length)):(i._initializeLocalValues(),o=n("<div class='e-map-contribution'>"),o[0].innerHTML=i.contribution,this._mapContainer.append(o)),e=0;e<this.model.layers[this.baseMapIndex()].subLayers.length;e++)u=this.model.layers[this.baseMapIndex()].subLayers[e],u._isBaseLayer=!1,u.layerType==t.datavisualization.Map.LayerType.Geometry&&u.shapeData!=null?(t.util.isNullOrUndefined(u._initializeLocalValues)&&(s=new r,n.extend(s,u),n.extend(u,s)),this._renderLayers(u,f,this),f+=u._polygonData.length):u._initializeLocalValues();(i.markers.length>0||i.subLayers.length>0||i._labelCollection.length>0)&&this.refreshMarkers();this._isSVG&&this.enableAnimation()&&!this._isTileMap?this._refreshWithAnimation():this._refrshLayers()},refreshLayers:function(n){var t=this.model.layers[this.baseMapIndex()];this._processOData(t,this);n&&this.shapeSelectionOnResize()},_processOData:function(n,i){if(n.dataSource!=null)if(n.dataSource instanceof t.DataManager){var r=n.dataSource.executeQuery(n.query);r.done(function(t){t.result!=null&&(n.dataSource=t.result,i._renderMapLayers())})}else i._renderMapLayers();else i._renderMapLayers()}});var u=function(n,t){this.X=n;this.Y=t;this.left=0;this.top=0;this.height=256;this.width=256;this.src=null},r=function(){this.enableSelection=!0;this.selectionMode="default";this.bingMapType="aerial";this.key="";this.selectedItems=[];this.enableMouseHover=!1;this.shapeData=null;this.markers=[];this.dataSource=null;this.urlTemplate="http://a.tile.openstreetmap.org/level/tileX/tileY.png";this.showTooltip=!1;this.tooltipTemplate=null;this.mapItemsTemplate=null;this.enableAnimation=!1;this.legendSettings={showLegend:!1,showLabels:!1,rowSpacing:10,textPath:null,columnSpacing:10,position:"topleft",positionX:0,positionY:0,height:0,width:0,iconHeight:20,iconWidth:20,type:"layers",mode:"default",title:null,leftLabel:null,rightLabel:null,icon:"rectangle",dockOnMap:!1,dockPosition:"top",labelOrientation:"vertical",alignment:"bottom",columnCount:0,toggleVisibility:!1};this.labelSettings={showLabels:!1,labelPath:"",enableSmartLabel:!1,smartLabelSize:"fixed",labelLength:2,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"14px",opacity:1}};this.markerTemplate=null;this.showMapItems=!1;this.layerType="geometry";this.geometryType="geographic";this._colorPaletteSettings={Palette1:{highlightColor:"#F7CD1C",highlightStroke:"white",SelectionColor:"#F96C0D",SelectionStroke:"white"},Palette2:{highlightColor:"#68A3EA",highlightStroke:"White",SelectionColor:"#116EF4",SelectionStroke:"White"},Palette3:{highlightColor:"#CCCCCC",highlightStroke:"white",SelectionColor:"#4D4D4D",SelectionStroke:"white"}};this.colorPalettes={Palette1:["#4A3825","#736F3D","#F2DABD","#BF9D7E","#7F6039","#7F715F","#70845D","#CC995C","#736F3D","#89541B"],Palette2:["#E51400","#730202","#EF6535","#C63477","#BF004D","#F0A30B","#CE1B1B","#97993D","#D6BF38","#835A2C"],Palette3:["#A4C400","#008B00","#1BA0E2","#0050EF","#AA00FF","#D90073","#E51400","#F96800","#E3C800","#A20026"]};this._prevPaletteIndex=0;this._newBounds=[];this.subLayers=[];this.shapeSettings={highlightColor:"gray",highlightBorderWidth:1,selectionColor:"gray",fill:"#E5E5E5",radius:5,strokeThickness:"0.2",stroke:"#C1C1C1",colorPalette:"palette1",highlightStroke:"#C1C1C1",selectionStroke:"#C1C1C1",selectionStrokeWidth:1,colorPath:null,colorValuePath:null,valuePath:null,enableGradient:!1,colorMappings:null,autoFill:!1};this.bubbleSettings={showBubble:!0,bubbleOpacity:"0.9",minValue:10,maxValue:20,color:"gray",colorValuePath:null,valuePath:null,colorMappings:null,showTooltip:!1,tooltipTemplate:null,colorPath:null}};r.prototype={dataTypes:{dataSource:"data",markers:"array",subLayers:"array",shapeSettings:{colorMappings:"array"},bubbleSettings:{colorMappings:"array"}},_initializeLocalValues:function(){this._svgns="http://www.w3.org/2000/svg";this._bounds=[];this._bubbleCollection=[];this._prevSelectedShapes=[];this._prevSelectedTemp=[];this._prevSelectedLegends=[];this._isBaseLayer=!0;this._prevHoverdLegend=null;this._prevHoveredShape=null;this._labelCollection=[];this._scrollBar=null;this._mapShapes=[];this._bubbles=[];this._labelBounds=[];this._bubbleCount=0;this._mapItems=[];this._mapMarkers=[];this.selectedItems;this._tooltipSize={height:0,width:0};this._smartLabels=[];this._labelData=[];this._interactiveArrow=null;this._legendRects=[]},_generateMarkerForLayers:function(n){this._mapMarkers=[];var t=n._rootgroup.getBoundingClientRect().top,i=n._rootgroup.getBoundingClientRect().left;n._generateMarkers(this.markers,this,n)},_contains:function(n,t){var i=n.length;if(i>0)while(i--)if(n[i]===t)return!0;return!1},_shapeContains:function(n,t){var i=n.length;if(i>0)while(i--)if(n[i].shapeIndex===t)return{isContains:!0,index:n.length-i};return{isContains:!1}},_labelSizeCalculation:function(n){var t=document.getElementsByClassName("e-map-labelContainer"),r=t[0].offsetHeight,i=t[0].offsetWidth;n._width=n._width-i;n._marginleft=i},_sizeCalculation:function(n){var r=this.shapeSettings.colorMappings,v=!1,y=!1,u;if(r!=null||this.shapeSettings.colorPath!=null||this.bubbleSettings.colorPath!=null){r!=null?r.rangeColorMapping!=null?(r=r.rangeColorMapping,v=!0):r.equalColorMapping!=null&&(r=r.equalColorMapping):(this.shapeSettings.colorPath!=null||this.bubbleSettings.colorPath!=null)&&(r=this.dataSource,y=!0);var o=0,c=0,h=this.legendSettings.rowSpacing,p=this.legendSettings.columnSpacing,w=this.legendSettings.iconWidth+5,a=this.legendSettings.iconHeight+5,d=a+h,f=this.legendSettings.iconHeight+h,e=0,i=this.legendSettings,l=this.legendSettings.columnCount;if(i.height==0&&i.width==0&&l==0){for(u=0;u<r.length;u++){var b=r[u].legendLabel!=null?r[u].legendLabel:v?r[u].from:y?r[u][i.textPath]:r[u].value,k=this._calcWidth(b),s=w+k+p;i.dockOnMap&&(i.dockPosition==t.datavisualization.Map.DockPosition.Top||i.dockPosition==t.datavisualization.Map.DockPosition.Bottom)||!i.dockOnMap?n._width<o+s?(f=a+h+f,e=Math.max(e,o),o=s):o+=s+5:n._height<c+a+h?(e+=o,f=Math.max(f,c),o=s,c=0):(c+=a+h,o=Math.max(s,o))}i.dockOnMap&&(i.dockPosition==t.datavisualization.Map.DockPosition.Top||i.dockPosition==t.datavisualization.Map.DockPosition.Bottom)||!i.dockOnMap?(e=Math.max(e,o),f+=5):(e+=o+p,f=Math.max(f,c))}else l==0&&(f=i.height.toString().indexOf("%")!=-1?n._height/100*parseInt(i.height.toString().replace("%","")):i.height,e=i.width.toString().indexOf("%")!=-1?n._width/100*parseInt(i.width.replace("%","")):i.width);if(i.height==0&&i.width==0&&l!=0)for(u=0;u<r.length;u++){var b=r[u].legendLabel!=null?r[u].legendLabel:v?r[u].from:y?r[u][i.textPath]:r[u].value,k=this._calcWidth(b),s=w+k+p;u%l!=0?(o+=s,u==l-1&&(e=Math.max(e,o))):(u!=0&&(f=w+h+f),e=Math.max(e,o),o=s)}}i.height!=0&&i.width!=0&&(f=i.height,e=i.width);n._legendSize={height:f,width:e};i.dockOnMap&&(i.mode==t.datavisualization.Map.LegendMode.Interactive&&(f=55),this.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Bottom?(n._height=n._height-parseFloat(f),this.legendSettings.tempWidth=o):this.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Top?(n._height=n._height-parseFloat(f),n._margintop=parseFloat(f)):this.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Left?(n._width=n._width-e,n._marginleft=e):this.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Right&&(n._height=n._height,n._width=n._width-e))},_clearShapeWidth:function(n,t){var r,i;for(n==null&&(n=1),r=0;r<this._mapShapes.length;r++)i=this._mapShapes[r],this._contains(this._prevSelectedShapes,i.shape)||(t._isSVG?(this.shapeSettings.colorMappings!=null||this.shapeSettings.colorPath||this.shapeSettings.autoFill?i.shape.setAttribute("fill",i.shape.getAttribute("data-nodeValue")):(i.shape.setAttribute("data-nodeValue",this.shapeSettings.fill),i.shape.setAttribute("fill",this.shapeSettings.fill)),i.shape.setAttribute("stroke-width",this.shapeSettings.strokeThickness/n),i.shape.setAttribute("stroke",this.shapeSettings.stroke)):(i.shape.fillcolor=i.shape.style.behavior,i.shape.strokeweight=this.shapeSettings.strokeThickness,i.shape.strokecolor=this.shapeSettings.stroke))},_shapeSelection:function(){for(var n,i,t=0;t<this._mapShapes.length;t++)n=this._mapShapes[t],i=this._shapeContains(this.selectedItems,n.shapeIndex),i.isContains&&(this._contains(this._prevSelectedShapes,n.shape)||this._prevSelectedShapes.push(n.shape),this._isSVG?(n.shape.setAttribute("fill",this.shapeSettings.selectionColor),n.shape.setAttribute("stroke-width",this.shapeSettings.selectionStrokeWidth),n.shape.setAttribute("stroke",this.shapeSettings.selectionStroke)):(n.shape.fillcolor=this.shapeSettings.selectionColor,n.shape.strokeweight=this.shapeSettings.selectionStrokeWidth,n.shape.strokecolor=this.shapeSettings.selectionStroke))},_createDefs:function(){return document.createElementNS(this._svgns,"defs")},_createGradientElement:function(n,t,i,r,u,f,e,o){if(Object.prototype.toString.call(t)=="[object Array]"){var h={id:n.id+"Gradient_"+o,x1:i+"%",y1:r+"%",x2:u+"%",y2:f+"%"},s="#"+n.id+"Gradient_"+o;return this._drawGradient(h,t,e,s),"url("+s+")"}},_drawGradient:function(t,i,r,u){var c=u.substring(1,u.length/2)=="rootGroup"?r.shapeSettings.colorMappings.rangeColorMapping.length:r.bubbleSettings.colorMappings.rangeColorMapping.length,o,e,f,h,s;for(n(svgDocument).find("defs").length>c&&n(svgDocument).find("defs").remove(),o=this._createDefs(),e=document.createElementNS(this._svgns,"linearGradient"),n(e).attr(t),f=0;f<i.length;f++)h=100/(i.length-1),s=document.createElementNS(this._svgns,"stop"),n(s).attr({offset:f*h+"%","stop-color":i[f],"stop-opacity":1}),n(s).appendTo(e);n(u).length==0&&(n(e).appendTo(o),n(o).appendTo(svgDocument))},_calculateTextWidth:function(t){var i=n("<span>"+t+"<\/span>"),r;return n("body").append(i),r=i.width(),i.remove(),r},_trimFunction:function(t,i){for(var u=n("#spantag").text(t),r=t;u.width()>i;)r=r.slice(0,-2),u.text(r+"...");return r},_createLabel:function(i,r,u,f,e,o,s){var h;return h=this.legendSettings.mode=="interactive"?n("<div class="+f+"><\/div>"):n("<div class=' "+f+" ' id='"+o._id+"LegendText_"+e+"'><\/div>"),h[0].innerHTML=i,h.css({"margin-left":r+"px","margin-top":u+"px",position:"absolute",cursor:!t.util.isNullOrUndefined(s)&&s.legendSettings.toggleVisibility?"pointer":"default"}),h},_createInteractiveArrow:function(t,i){var r=n("<div class='e-icon1 e-interactiveArrow'><\/div>");return r[0].innerHTML="&#9650",r.css({"margin-left":t+"px","margin-top":i+"px",position:"absolute",visibility:"hidden"}),r},_getEllipseLegend:function(t,i,r,u,f){var e=n("<div class='e-mapLegend' id='"+f._id+"Legend_"+u+"'/>");return e.css({height:r.legendSettings.iconHeight+"px",width:r.legendSettings.iconWidth+"px","border-radius":r.legendSettings.iconHeight/2+"px",left:t+"px",top:i+"px",position:"absolute",cursor:r.legendSettings.toggleVisibility?"pointer":"default"}),e},_getRectLegend:function(t,i,r,u,f){var e=n("<div id='"+f._id+"Legend_"+u+"'/>");return e.css({height:r.legendSettings.iconHeight+"px",width:r.legendSettings.iconWidth+"px",left:t+"px",top:i+"px",position:"absolute",cursor:r.legendSettings.toggleVisibility?"pointer":"default"}),e},_generateLegend:function(r){var h=!0,y=!1,o=null,u,d,g;this.shapeSettings.colorMappings!=null?this.shapeSettings.colorMappings.rangeColorMapping!=i?o=this.shapeSettings.colorMappings.rangeColorMapping:this.shapeSettings.colorMappings.equalColorMapping!=i&&(o=this.shapeSettings.colorMappings.equalColorMapping,h=!1):this.shapeSettings.colorPath!=null&&(y=!0,h=!1,o=this.dataSource);var e=0,s=0,l=this.legendSettings,v=0,p,w,f,a=l.rowSpacing,b=l.columnSpacing,it=l.iconWidth+5,rt=l.iconHeight+a,k=l.columnCount;for(u=0;u<o.length;u++){d=n.extend(!0,null,this.legendSettings);g=o[u].legendLabel=o[u].legendLabel!=null?o[u].legendLabel:h?o[u].from:y?o[u][l.textPath]:o[u].value;f={legendSettings:d,legendLabel:o[u].legendLabel,fill:h?o[u].color:o[u][this.shapeSettings.colorPath],mapping:h?o[u]:i,dataSource:h?i:o[u]};r._trigger("legendItemRendering",{model:r.model,data:f});var nt=this._calcWidth(f.legendLabel),c=f.legendSettings.iconWidth+b+nt,tt=f.legendSettings.iconHeight;k!=0?u%k!=0?(this._drawLegend(f,e,s,r,h,u),e+=c+5):(e=0,this._drawLegend(f,e,s,r,h,u),e+=c+5,s+=f.legendSettings.iconHeight+a):f.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Top||f.legendSettings.dockPosition==t.datavisualization.Map.DockPosition.Bottom?r._legendSize.width<e+c?(e=0,this._drawLegend(f,e,s,r,h,u),e+=c,s+=f.legendSettings.iconHeight+a):(this._drawLegend(f,e,s,r,h,u),e+=c):r._legendSize.height<s+f.legendSettings.iconHeight?(s=0,e+=v+b,this._drawLegend(f,e,s,r,h,u),v=0,s+=f.legendSettings.iconHeight+a):(this._drawLegend(f,e,s,r,h,u),v=Math.max(v,c),s+=f.legendSettings.iconHeight+a);p=r._legendDivHeight>s?r._legendDivHeight:s+tt;w=r._legendDivWidth>e+c?r._legendDivWidth:e+c;r._legendDivWidth=w;r._legendDivHeight=p}},_drawLegendShape:function(r,u,f,e,o,s){var h;return h=r.legendSettings.icon==t.datavisualization.Map.LegendIcons.Circle?this._getEllipseLegend(u,f,r,s,e):this._getRectLegend(u,f,r,s,e),u+=r.legendSettings.iconWidth+5,n(h).css("background-color",o?r.mapping._color?r.mapping._color:r.fill:r.dataSource._color!=i?r.dataSource._color:r.fill!=i?r.fill:r.dataSource.color),h.appendTo(e._legendDiv),u},_drawLegendText:function(t,i,r,u,f,e){var o=n("<div class='e-defaultLegendLabel' id='"+u._id+"LegendText_"+e+"'/>");return o.css({left:i+"px",top:r+"px",position:"absolute","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden",cursor:t.legendSettings.toggleVisibility?"pointer":"default"}),o[0].title=t.legendLabel,o[0].innerHTML=t.legendLabel,o.appendTo(u._legendDiv),i+this._calcWidth(t.legendLabel)},_drawLegend:function(n,t,i,r,u,f){r.model.enableRTL?(t=this._drawLegendText(n,t,i,r,u,f),this._drawLegendShape(n,t,i,r,u,f)):(t=this._drawLegendShape(n,t,i,r,u,f),this._drawLegendText(n,t,i,r,u,f))},_generateLegends:function(r){var w=this.shapeSettings.colorMappings,b,ot,pt,tt,a,c,p,e,k,it,bt,ct,kt,lt,rt,s,ft,o,gt,ni;if(this.shapeSettings.colorPath!=null||w.rangeColorMapping!=null||w.equalColorMapping!=null){var fi=this.legendSettings,ei=this.legendSettings.iconWidth+5,ii=this.legendSettings.iconHeight+5,oi=this.legendSettings.rowSpacing,si=this.legendSettings.columnSpacing,hi=this.legendSettings.iconHeight+this.legendSettings.rowSpacing,ci=ii+this.legendSettings.rowSpacing,et,d,g,nt,vt=r.model.enableRTL?this.legendSettings.rightLabel:this.legendSettings.leftLabel,yt=r.model.enableRTL?this.legendSettings.leftLabel:this.legendSettings.rightLabel;if((this.legendSettings.showLegend==i||this.legendSettings.showLegend)&&!this.shapeSettings.autoFill){n(r._mapContainer).append(n('<div  id="labelTooltip" style="display:none;background-color:grey;padding-left:5px; padding-right:5px;position:absolute;z-index:1000;pointer-events:none;"/>'));var v=this,f=10,h=0,ci=this.iconHeight+this.legendSettings.rowSpacing,y=this.legendSettings.height,l=this.legendSettings.width,u=n("<div/>");if(v.legendSettings.dockOnMap?u=n(r._legendDiv):v.legendSettings.dockOnMap||v.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive?r._isSVG?u.appendTo(r._templateDiv):r._templateDiv.append(u):u=n(r._legendDiv),(this.legendSettings.type==i||this.legendSettings.type==t.datavisualization.Map.LegendType.Layers)&&(this.shapeSettings.colorMappings!=null||this.shapeSettings.colorPath!=null)&&(this.legendSettings.mode==i||this.legendSettings.mode==t.datavisualization.Map.LegendMode.Default||this.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive&&this.shapeSettings.colorMappings.equalColorMapping!=null))this._generateLegend(r);else if((this.legendSettings.type==i||this.legendSettings.type==t.datavisualization.Map.LegendType.Layers)&&this.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive&&this.shapeSettings.colorMappings!=null){if(o="",this.legendSettings.height==0&&(y=18),this.legendSettings.width==0&&(l=150),this.legendSettings.leftLabel==null&&(this.legendSettings.leftLabel=""),this.legendSettings.rightLabel==null&&(this.legendSettings.rightLabel=""),this.legendSettings.title!=null){if(b=document.createElement("Label"),b.innerHTML=this.legendSettings.title,document.body.appendChild(b),ot=f,this.legendSettings.showLabels||(ot=r.model.enableRTL?f+(l-b.offsetWidth/2):f+this.legendSettings.leftLabel.length*10),document.body.removeChild(b),pt=this.legendSettings.title.length*10,et=d=this.legendSettings.title,pt>l)for(s=1;s<d.toString().length;s++)et=d.toString().substring(0,s-1)+"...";o=this._createLabel(et,ot,h,"e-interactivelegend-title");o[0].title=d;o.css({width:l+"px"});r._isSVG?o.appendTo(u):u.append(o);h+=25}for(this.legendSettings.showLabels&&(h+=25),vt==null||this.legendSettings.showLabels||(o=this._createLabel(vt,f,h-3,"e-interactivelegend-leftlabel"),r._isSVG?o.appendTo(u):u.append(o),f=f+this.legendSettings.leftLabel.length*10),tt=this._createInteractiveArrow(f,h+y),tt.appendTo(u),this._interactiveArrow=tt,a=null,!r._isSVG&&this.shapeSettings.enableGradient&&(a=r._createGroup(!1,"legendGroup"),a.style.left="0px",a.style.top="0px",a.style.position="relative",u.append(a)),c=r.model.enableRTL?w.rangeColorMapping.reverse():w.rangeColorMapping,c=w.rangeColorMapping,p=0;p<c.length;p++)if(e=c[p],!e.hideLegend){if(k=[],this.shapeSettings.enableGradient&&(k=e.gradientColors),it={},this.shapeSettings.enableGradient)if(r._isSVG){var st=n("<canvas/>"),ht=st[0].getContext("2d"),wt=ht.createLinearGradient(0,0,300,0);for(s=0;s<k.length;s++)bt=s/(k.length-1),wt.addColorStop(bt,k[s]);ht.fillStyle=wt;ht.fillRect(0,0,300,300);st.css({height:y+"px",width:l/c.length+"px","margin-left":f+"px","margin-top":h+"px",opacity:"0.9",filter:"alpha(opacity=90)",position:"absolute"});st.appendTo(u)}else ct="legend"+p,kt="<v:rect id="+ct+' display="block" style="position:absolute;top: '+(h-2)+"px;left:"+f+"px;width:"+l/c.length+"px;height:"+y+'px;"><v:fill opacity="0.9px" type="gradient" method="linear sigma" angle="270"/><v:stroke opacity="0px"/><\/v:rect>',a.innerHTML=a.innerHTML+kt,lt=document.getElementById(ct),lt.fillcolor=e.gradientColors[0],lt.fill.color2=e.gradientColors[1];else rt=n("<div/>"),rt.css({height:y+"px",width:l/this.shapeSettings.colorMappings.rangeColorMapping.length+"px","background-color":e.color,"margin-left":f+"px","margin-top":h+"px",opacity:"0.9",filter:"alpha(opacity=90)",position:"absolute"}),r._isSVG?rt.appendTo(u):u.append(rt);for(s=0;s<10;s++)it={},it.marginLeft=f,this._legendRects.push(it),f=f+l/c.length/10;if(r.model.enableRTL&&p==c.length-2&&tt.css({"margin-left":f+"px"}),this.legendSettings.showLabels){var ut=f-l/c.length,at=h-25,dt=this._createLabel(e.from,ut,at,"e-legend-rangestartlabel");ut=f;ft=this._createLabel(e.to,ut,at);e.legendLabel!=i&&(ft=this._createLabel(e.legendLabel,ut-e.legendLabel.length*5,at,"e-legend-rangeendlabel",e));r._isSVG?(e==c[0]&&dt.appendTo(u),ft.appendTo(u)):(e==c[0]&&u.append(dt),u.append(ft))}}yt==null||this.legendSettings.showLabels||(o=this._createLabel(yt,f+10,h-3,"e-interactivelegend-rightlabel"),r._isSVG?o.appendTo(u):u.append(o),f=f+this.legendSettings.rightLabel.length*10);g=f+10;nt=h+y+10;r._legendSize={width:g,height:nt};v.legendSettings.dockOnMap&&(this.legendSettings.dockPosition=="left"?r._marginleft=g:this.legendSettings.dockPosition=="top"&&(r._margintop=nt))}if(v.legendSettings.dockOnMap||this.legendSettings.position!="none"){if(!v.legendSettings.dockOnMap&&this.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive){var ri=this.legendSettings.position==i?"topleft":this.legendSettings.position,ui={width:g,height:nt},ti=r._getPosition(ri,ui);u.css({"margin-left":ti.x+"px","margin-top":ti.y})}}else gt=r._width*this.legendSettings.positionX/100,ni=r._height*this.legendSettings.positionY/100,u.css({"margin-left":gt+"px","margin-top":ni+"px"})}}},_generateLabels:function(i){var f=n("<div class='e-map-labelContainer'><\/div>"),r;for(n(f).css({position:"absolute",overflow:"scroll"}),r=0;r<this._polygonData.length;r++){var e=this._polygonData[r].properties,o=i._reflection(e,this.labelSettings.labelPath),u=n("<div class='e-map-label'><\/div>");n(u).css({"margin-top":r*20,position:"absolute"});u[0].innerHTML=o;f.append(u);i._mapContainer.append(f);u.mouseenter({Param1:this,Param2:this._mapShapes[r],map:i},i._polyEnterFunction);i._off(n(u),t.eventType.mouseUp,i._polyClickFunction);i._on(n(u),t.eventType.mouseUp,{Param1:this._mapShapes[r],Param2:this,Param3:this._mapShapes[r].shape,param4:u},i._polyClickFunction)}},_calcWidth:function(t){var i=n('<span  class="e-defaultLegendLabel">'+t+"<\/span>"),r;return n("body").append(i),r=i.width()+5,i.remove(),r},_generateBubbleLegends:function(r){var f,k,u,c,o,p,w,d,g;if(this.legendSettings.showLegend==i||this.legendSettings.showLegend){var s=10,h=10,it=this.legendSettings.iconHeight,rt=this.legendSettings.iconWidth,l=n("<div/>");r._isSVG?l.appendTo(r._templateDiv):r._templateDiv.append(l);var a=0,y=0,v=!0,e=null,b=!1;if(this.bubbleSettings.colorMappings!=null?this.bubbleSettings.colorMappings.rangeColorMapping!=i?e=this.bubbleSettings.colorMappings.rangeColorMapping:this.bubbleSettings.colorMappings.equalColorMapping!=i&&(e=this.bubbleSettings.colorMappings.equalColorMapping,v=!1):this.bubbleSettings.colorPath&&(e=this.dataSource,v=!1,b=!0),this.legendSettings.type==t.datavisualization.Map.LegendType.Bubbles&&(this.bubbleSettings.colorMappings!=null||this.bubbleSettings.colorPath)&&(this.legendSettings.mode==i||this.legendSettings.mode==t.datavisualization.Map.LegendMode.Default||this.legendSettings.mode==t.datavisualization.Map.LegendMode.Interactive&&this.bubbleSettings.colorMappings.equalColorMapping!=null)){for(this.legendSettings.iconHeight==i&&(this.legendSettings.iconHeight=20),this.legendSettings.iconWidth==i&&(this.legendSettings.iconWidth=20),f=0;f<e.length;f++)k=n.extend(!0,null,this.legendSettings),u={fill:e[f]._bubblecolor?e[f]._bubblecolor:e[f].color?e[f].color:e[f][this.bubbleSettings.colorPath],legendLabel:e[f].legendLabel!=null?e[f].legendLabel:v?e[f].from:e[f].value!=null?e[f].value:e[f][this.legendSettings.textPath],dataSource:e[f],legendSettings:k},r._trigger("legendItemRendering",{model:r.model,data:u}),u.hideLegend||(c=n("<div class='e-mapBubbleLegend' id='"+r._id+"Legend_"+f+"'/>"),r.model.enableRTL?(s=10,o=this._createLabel(u.legendLabel,s,h,"e-legendlabeltext",f,r,u),s+=this._calcWidth(u.legendLabel),this._drawBubbleLegendIcon(u,s,h,c)):(this._drawBubbleLegendIcon(u,s,h,c),o=this._createLabel(u.legendLabel,s+u.legendSettings.iconWidth+5,h,"e-legendlabeltext",f,r,u)),u.legendLabel!=null?o[0].innerText=u.legendLabel:u.legendLabel=o[0].innerText=v?u.from:b?u[u.legendSettings.textPath]:u.value,r._isSVG?(c.appendTo(r._legendDiv),o.appendTo(r._legendDiv)):(l.append(c),l.append(o)),a<o[0].innerText.length*10+u.legendSettings.iconWidth&&(a=o[0].innerText.length*10+u.legendSettings.iconWidth),p=o.height(),w=c.height(),h+=p>w?p+5:w+5);y=h}if(r._legendDivHeight=y,r._legendDivWidth=a,u.legendSettings.position=="none")d=r._width*u.legendSettings.positionX/100,g=r._height*u.legendSettings.positionY/100,r._legendDiv&&r._legendDiv.css({left:d+"px",top:g+"px"});else{var tt=this.legendSettings.position==i?"topleft":this.legendSettings.position,ut={width:a,height:y},nt=r._getPosition(tt,r._legendSize);r._legendDiv&&r._legendDiv.css({left:nt.x+"px",top:nt.y+"px"})}}},_drawBubbleLegendIcon:function(n,i,r,u){n.legendSettings.icon==t.datavisualization.Map.LegendIcons.Circle?u.css({height:n.legendSettings.iconHeight+"px",width:n.legendSettings.iconWidth+"px","border-radius":n.legendSettings.iconHeight/2+"px","background-color":n.fill,left:i+"px",top:r+"px",position:"absolute",cursor:n.legendSettings.toggleVisibility?"pointer":"default"}):u.css({height:n.legendSettings.iconHeight+"px",width:n.legendSettings.iconWidth+"px","background-color":n.fill,left:i+"px",top:r+"px",position:"absolute",cursor:n.legendSettings.toggleVisibility?"pointer":"default"})},_animateBubble:function(t,i,r){var f={fx:t.getAttribute("r")/2},o=f.fx*2,e=n(t),u=this;n(f).delay(i).each(function(){}).animate({fx:o},{duration:700,step:function(n){r._isSVG&&(e.attr("style","display:block;pointer-events:stroke;"),e.attr("r",n))},complete:function(){u._bubbleCount++;u._bubbleCount==u._bubbles.length&&u._setMapElements()}})},_setMapElements:function(){for(var i,t=0;t<this._mapItems.length;t++)i=this._mapItems[t],n(i).css({display:"block"})},_setMapItemsPositionWithAnimation:function(t){var a,u,s,o,i,r,f;for(this._bubbleCollection=[],i=0;i<this._bubbles.length;i++){var h=this._bubbles[i],v=this._bubbles[i].getAttribute("r"),f=this._bounds[i],s=(f.x+t._translatePoint.x)*t._scale,o=(f.y+t._translatePoint.y)*t._scale,c=t.validateBubblePosition(f.points,{x:s,y:o},v),l=0,y=Math.floor(Math.random()*(20-l)+l),p=parseInt(y*50);t._isSVG&&n(h).attr({cx:c.x,cy:c.y});this._animateBubble(h,p,t);this._bubbleCollection.push(h)}for(a=t._getFactor(),i=0;i<this._mapMarkers.length;i++)r=this._mapMarkers[i],this.markers.length>0&&(u=this.markers[i]),f=t._isTileMap?t._convertTileLatLongtoPoint(u.latitude!=null?u.latitude:u.Latitude,u.longitude!=null?u.longitude:u.Longitude):t._convertLatLongtoPointforMarker(u.latitude!=null?u.latitude:u.Latitude,u.longitude!=null?u.longitude:u.Longitude,a),s=this._isSVG?f.x:(f.x+t._transformX)*t._scale,o=f.y,n(r).css({display:"block",left:s,top:o-100}),n(r).delay(500).each(function(){}).animate({top:o},500);for(i=0;i<this._mapItems.length;i++){var r=this._mapItems[i],f=this._bounds[i],e=r[0].getBoundingClientRect(),w=this._bubbleCollection[i]?parseFloat(this._bubbleCollection[i].getAttribute("cx")):0,b=this._bubbleCollection[i]?parseFloat(this._bubbleCollection[i].getAttribute("cy")):0,s=this._bubbleCollection[i]?w-e.width/2:(f.x+t._translatePoint.x)*t._scale-e.width/2,o=this._bubbleCollection[i]?b-e.height/4:(f.y+t._translatePoint.y)*t._scale-e.height/4;this._bubbles.length>0?n(r).css({left:s,top:o,display:"none"}):n(r).css({left:s,top:o,display:"block"})}for(i=0;i<this._labelCollection.length;i++){r=this._labelCollection[i];f=this._labelBounds[i];n(r).css("display","block");var e=r[0].getBoundingClientRect(),k=t._isSVG?e.width:e.right-e.left,d=t._isSVG?e.height:e.bottom-e.top,s=(f.x+t._translatePoint.x)*t._scale-k/2,o=(f.y+t._translatePoint.y)*t._scale-d/2;(r[0].className="e-smartLabelStyle")&&(r[0].className="e-labelStyle",n(r[0]).css({"pointer-events":"none",position:"absolute"}));r[0].innerHTML=this._labelData[i];var g=this.labelSettings.font.fontStyle,nt=this.labelSettings.font.fontFamily,tt=this.labelSettings.font.size,it=this.labelSettings.font.fontWeight,rt=this.labelSettings.font.color,ut=this.labelSettings.font.opacity;n(r).css({left:s,top:o,"font-family":nt,"font-style":g,"font-size":tt,"font-weight":it,color:rt,opacity:ut})}this.labelSettings!=null&&this.labelSettings.showLabels&&this._validateSmartLabel(t)},_legendToggleVisibility:function(t,i,r){var nt=t.legendSettings,p={data:nt,model:r},w,c,l,e,u,k,a,y,d,g;if(t.dataSource!=null)for(w=t._renderedShapes.length,u=0;u<w;u++){var o=i.target.id,h=t._renderedShapes[u].shapeIndex,tt=o.length,it=o.indexOf("_"),v=parseFloat(o.substring(it+1,tt)),f,s,b;b=t.legendSettings.type=="bubbles"?t.bubbleSettings.colorPath:t.shapeSettings.colorPath;k=t._renderedShapes[u];a=r._reflection(k,b);a!=null&&typeof a=="string"&&(y=a.toLowerCase());t.shapeSettings.colorMappings!=null&&t.legendSettings.type=="layers"?t._renderedShapes[u].mapRangeShapeIndex!=null&&(c=t._renderedShapes[u].mapRangeShapeIndex.index,f=c,s="#"+t._renderedShapes[u].shape.id,e=t.shapeSettings.colorMappings.rangeColorMapping!=null?t.shapeSettings.colorMappings.rangeColorMapping[c].color:t.shapeSettings.colorMappings.equalColorMapping[c].color):t.bubbleSettings.colorMappings!=null&&t.legendSettings.type=="bubbles"?t._renderedShapes[u].mapRangeBubbleIndex!=null&&(l=t._renderedShapes[u].mapRangeBubbleIndex.index,f=l,s="#"+t._renderedShapes[u].shape.id+"_bubble_"+h,e=t.bubbleSettings.colorMappings.rangeColorMapping!=null?t.bubbleSettings.colorMappings.rangeColorMapping[l].color:t.bubbleSettings.colorMappings.equalColorMapping[l].color):t.legendSettings.type=="layers"?(f=u,s="#"+t._renderedShapes[u].shape.id,e=t.shapeSettings.colorPath!=null?y:t.shapeSettings.fill):t.legendSettings.type=="bubbles"&&(f=u,s="#"+t._renderedShapes[u].shape.id+"_bubble_"+h,e=t.bubbleSettings.colorPath!=null?y:t.bubbleSettings.fill);(t.shapeSettings.colorMappings!=null||t.bubbleSettings.colorMappings!=null)&&f==null&&(f=v,h=null,d=n("#"+o).css("background-color"),t._renderedShapes[u]._showBubble?this._legendFillColor=d:e=this._legendFillColor);g=o==r._id+"Legend_"+f||o==r._id+"LegendText_"+f;g&&(r._trigger("legendItemClick",p),!p.cancel&&t.legendSettings.toggleVisibility&&(v==f&&t._renderedShapes[u]._showBubble?(n(s).css({visibility:"hidden"}),n("#"+r._id+"Legend_"+f).css({"background-color":"grey"}),n("#"+r._id+"LegendText_"+f).css({color:"grey"}),n("#"+r._id+"labelStyle_"+h).css({visibility:"hidden"}),t._renderedShapes[u]._showBubble=!1):v!=f||t._renderedShapes[u]._showBubble||(n(s).css({visibility:"visible"}),n("#"+r._id+"Legend_"+f).css({"background-color":e}),n("#"+r._id+"LegendText_"+f).css({color:"black"}),n("#"+r._id+"labelStyle_"+h).css({visibility:"visible"}),t._renderedShapes[u]._showBubble=!0)))}},_resizeShapes:function(n){var u=this.shapeSettings.strokeThickness/n._scale,r,t;if(this._mapShapes!=i)for(r=0;r<this._mapShapes.length;r++)t=this._mapShapes[r].shape,n._isSVG?t.localName=="circle"?t.setAttribute("r",this.shapeSettings.radius/n._scale):this._contains(this._prevSelectedShapes,t)?t.setAttribute("stroke-width",this.shapeSettings.selectionStrokeWidth/n._scale):t.setAttribute("stroke-width",u):t.nodeName=="oval"||(t.strokeweight=this._contains(this._prevSelectedShapes,t)?this.shapeSettings.selectionStrokeWidth/n._scale:u)},_setMapItemsPosition:function(t){var v,o,h,c,r,e,f;if(this._bubbleCollection=[],this._bubbles!=i)for(r=0;r<this._bubbles.length;r++){var s=this._bubbles[r],a=this._bubbles[r].getAttribute("r"),f=this._bounds[r];if(t._isSVG){var h=(f.x+t._translatePoint.x)*t._scale,c=(f.y+t._translatePoint.y)*t._scale,l=t.validateBubblePosition(f.points,{x:h,y:c},a);n(s).attr({cx:l.x,cy:l.y})}else{s=document.getElementById(s.id);var h=(f.x+t._translatePoint.x)*t._scale,c=(f.y+t._translatePoint.y)*t._scale,l=t.validateBubblePosition(f.points,{x:h,y:c},a),y=l.y-(s.getBoundingClientRect().bottom-s.getBoundingClientRect().top)/2,p=l.x-(s.getBoundingClientRect().right-s.getBoundingClientRect().left)/2;n(s).css({left:p,top:y})}this._bubbleCollection.push(s)}if(this._mapItems!=i)for(r=0;r<this._mapItems.length;r++){e=this._mapItems[r];f=this._bounds[r];n(e).css({display:"block"});var u=e[0].getBoundingClientRect(),w=t._isSVG?u.width:u.right-u.left,b=t._isSVG?u.height:u.bottom-u.top,k=this._bubbleCollection[r]?parseFloat(this._bubbleCollection[r].getAttribute("cx")):0,d=this._bubbleCollection[r]?parseFloat(this._bubbleCollection[r].getAttribute("cy")):0,h=this._bubbleCollection[r]?k-u.width/2:(f.x+t._translatePoint.x)*t._scale-u.width/2,c=this._bubbleCollection[r]?d-u.height/4:(f.y+t._translatePoint.y)*t._scale-u.height/4;n(e).css({left:h,top:c})}if(this._mapMarkers!=i)for(v=t._getFactor(),r=0;r<this._mapMarkers.length;r++)e=this._mapMarkers[r],this.markers.length>0&&(o=this.markers[r]),f=t._isTileMap?t._convertTileLatLongtoPoint(o.latitude!=null?o.latitude:o.Latitude,o.longitude!=null?o.longitude:o.Longitude):t._convertLatLongtoPointforMarker(o.latitude!=null?o.latitude:o.Latitude,o.longitude!=null?o.longitude:o.Longitude,v),h=f.x,c=f.y,n(e).css({left:h,top:c});if(this._labelCollection!=i)for(r=0;r<this._labelCollection.length;r++){e=this._labelCollection[r];f=this._labelBounds[r];n(e).css("display","block");var u=e[0].getBoundingClientRect(),w=t._isSVG?u.width:u.right-u.left,b=t._isSVG?u.height:u.bottom-u.top,h=(f.x+t._translatePoint.x)*t._scale-w/2,c=(f.y+t._translatePoint.y)*t._scale-b/2;(e[0].className="e-smartLabelStyle")&&(e[0].className="e-labelStyle",n(e[0]).css("background-color","transparent"),n(e[0]).css({"pointer-events":"none",position:"absolute"}));e[0].innerHTML=this._labelData[r];var g=this.labelSettings.font.fontStyle,nt=this.labelSettings.font.fontFamily,tt=this.labelSettings.font.size,it=this.labelSettings.font.fontWeight,rt=this.labelSettings.font.color,ut=this.labelSettings.font.opacity;n(e).css({left:h,top:c,"font-family":nt,"font-style":g,"font-size":tt,"font-weight":it,color:rt,opacity:ut})}this.labelSettings!=null&&this.labelSettings.showLabels&&this._validateSmartLabel(t)},_validateSmartLabel:function(r){function fi(n){var i=[],t;for(i.push(0),t=10;t<=n;t+=20)i.push(-t),i.push(t);return i}function ei(n){for(var t=0;t<ht.length;t++)if(oi(n,ht[t]))return!1;return!0}function oi(n,t){return n.left-2>=t.left+t.width||n.left-2+n.width<=t.left-2||n.top-2>=t.top+t.height||n.top+n.height<=t.top-2?!1:!0}var ht,p,yt,pt,it,rt,lt,bt,at,ui,tt,v,et,c,e,st,f;if(this._smartLabels=[],ht=[],this._labelCollection.length>0)for(p=0;p<this._mapShapes.length;p++){var o=this._labelBounds[p],u={x:(o.x+r._translatePoint.x)*r._scale,y:(o.y+r._translatePoint.y)*r._scale},dt={x:(o.rightMin.x+r._translatePoint.x)*r._scale,y:(o.rightMin.y+r._translatePoint.y)*r._scale},gt={x:(o.rightMax.x+r._translatePoint.x)*r._scale,y:(o.rightMax.y+r._translatePoint.y)*r._scale},ni={x:(o.leftMin.x+r._translatePoint.x)*r._scale,y:(o.leftMin.y+r._translatePoint.y)*r._scale},ti={x:(o.leftMax.x+r._translatePoint.x)*r._scale,y:(o.leftMax.y+r._translatePoint.y)*r._scale},l=this._labelCollection[p];if(u.x>0&&u.x<r._width&&u.y>0&&u.y<r._height){var ct=this._mapShapes[p].shape,a=ct.getBoundingClientRect(),w=!1,nt=l[0].getBoundingClientRect(),s=nt.height,h=nt.width;r._isSVG||(a={width:a.right*r._scale-a.left*r._scale,height:a.bottom*r._scale-a.top*r._scale},s=nt.bottom-nt.top,h=nt.right-nt.left);yt=!1;pt=!1;(h/2>dt.x-u.x||h/2>gt.x-u.x)&&(s/2>u.y-dt.y||s/2>gt.y-u.y)?yt=!0:(h/2>u.x-ni.x||h/2>u.x-ti.x)&&(s/2>u.y-ni.y||s/2>ti.y-u.y)&&(pt=!0);var b=0,k=0,wt=20,d=[],ii=[];if(s>a.height||h>a.width||yt||pt)if(this.labelSettings.enableSmartLabel)for(this.labelSettings.smartLabelSize==t.datavisualization.Map.LabelSize.Fixed?(s=25,h=15*this.labelSettings.labelLength):(h*=1.3,s=25);!w;){for(wt>400&&(w=!0),d=fi(wt),ii=d,it=0;it<d.length;it++)for(rt=0;rt<d.length;rt++)b=ii[rt],k=d[it],u.x+b+h>r._width&&u.x<r._width&&(b-=u.x+b+h-r._width),u.x+b<0&&(b=0),u.y+k<0&&(k=0),u.y+k+s>r._height&&u.y<r._height&&(k-=u.y+k+s-r._height),lt={left:u.x+b,top:u.y+k,height:s,width:h},ei(lt)&&(bt=r._getIntersectedElements(lt,this._mapShapes),bt!=null&&bt.length==0&&(w=!0,it=d.length,rt=d.length,l[0].className="e-smartLabelStyle",n(l).css({"pointer-events":"stroke",position:"absolute"}),this.labelSettings.smartLabelSize==t.datavisualization.Map.LabelSize.Fixed&&(l[0].innerHTML=l[0].innerHTML.substring(0,this.labelSettings.labelLength)),l.mouseenter({Param1:this,Param2:this._mapShapes[p],map:r},r._polyEnterFunction),l.mousemove({Param1:this,Param2:this._mapShapes[p]},r._polyMoveFunction),n(l).css({left:u.x+b,top:u.y+k,"background-color":r._isSVG?ct.getAttribute("fill"):ct.fillcolor.value}),ht.push(lt),at={},at.shape=ct,at.legend=l,this._smartLabels.push(at)));wt+=10}else{var ri=!0,ut=0,ft=0,w=!0;for(c=0;c<o.points.length;c++)v={x:(o.points[c].x+r._translatePoint.x)*r._scale,y:(o.points[c].y+r._translatePoint.y)*r._scale},w?(ut=v.y,ft=v.y,w=!1):(ut=Math.min(ut,v.y),ft=Math.max(ft,v.y));for(ui=Math.floor((ft-ut)/s),tt=[],f=0;f<ui;f++)e=[],tt.push(e);for(c=0;c<o.points.length;c++)v={x:(o.points[c].x+r._translatePoint.x)*r._scale,y:(o.points[c].y+r._translatePoint.y)*r._scale},et=Math.floor((v.y-ut)/s),et>0&&(et-=1),e=tt[et],e==i&&(e=[]),e.push({x:v.x,y:v.y}),tt[et]=e;for(c=0;c<tt.length;c++){e=tt[c];w=!0;var y=0,g=0,ot=0,vt=[],kt=[];for(f=0;f<e.length;f++)w?(y=e[f].x,g=e[f].x,ot=e[f].y,w=!1):(y=Math.min(y,e[f].x),g=Math.max(g,e[f].x),e[f].x==g&&(ot=e[f].y)),e[f].x<u.x&&vt.push(e[f].x),e[f].x>u.x&&kt.push(e[f].x);for(a.left<r._mapContainer[0].getBoundingClientRect().left+1&&(y=r._mapContainer[0].getBoundingClientRect().left+1-a.left,vt.push(y)),st=!1,f=0;f<vt.length;f++)if(g-vt[f]<h+1){st=!0;break}if(!st)for(f=0;f<kt.length;f++)if(kt[f]-y<h+1){st=!0;break}if(g-y>h+1&&!st){l.css("left",a.left*r._scale+(y-a.left*r._scale)+(g-y)/2-h/2+"px");l.css("top",ot+"px");ft-ot<s&&l.css("top",ot-s+"px");ri=!1;break}}ri&&l.css("display","none")}}}},_fillColors:function(n,t,i,r,u,f,e){t!=null&&t.rangeColorMapping!=null?this._fillRangeColors(n,t.rangeColorMapping,i,r,e,u,f):t!=null&&t.equalColorMapping!=null?this._fillEqualColors(n,t,i,r,f,e,u):this.shapeSettings.colorPath!=null&&this._fillIndividualColors(u,i,this.shapeSettings,r,e,f)},_fillIndividualColors:function(n,t,i,r,u,f){var e={fill:n[i.colorPath],stroke:i.stroke,strokeThickness:i.strokeThickness,shapeData:n,shapeProperties:f};r._trigger("shapeRendering",{model:r.model,data:e});(e.fill!=n[i.colorPath]||e.fill==null)&&(e.fill=e.fill==null?f[i.colorPath]?f[i.colorPath]:i.fill:e.fill,n._color=e.fill);r._isSVG?(t.setAttribute("fill",e.fill),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-width",e.strokeThickness)):(t.fillcolor=e.fill,t.strokecolor=e.stroke,t.strokeweight=e.strokeThickness);t.highlightcolor=t.highlightcolor},_fillEqualColors:function(t,i,r,u,f,e,o){var h=this,s,c,l;n.each(i.equalColorMapping,function(n,i){i.value==t&&(s={fill:i.color,stroke:h.shapeSettings.stroke,strokeThickness:h.shapeSettings.strokeThickness,shapeData:o,shapeProperties:f},e?(u._trigger("bubbleRendering",{model:u.model,data:s}),l={index:n},o.mapRangeBubbleIndex=l):(u._trigger("shapeRendering",{model:u.model,data:s}),c={index:n},o.mapRangeShapeIndex=c),s.fill!=i.color&&(i._color=s.fill),u._isSVG?(r.setAttribute("fill",s.fill),r.setAttribute("stroke",s.stroke),r.setAttribute("stroke-width",s.strokeThickness)):(r.fillcolor=s.color,r.strokecolor=s.stroke,r.strokeweight=s.strokeThickness),r.highlightcolor=i.highlightcolor)})},_updateLegendRange:function(t,r,u){for(var w,f,h,l,o,s,c,p,a=r.shapeSettings.colorMappings.rangeColorMapping,v,y,e=0;e<a.length;e++)if(w=null,f=a[e],r.shapeSettings.enableGradient&&(v=document.getElementById("rootGroup"),y=r._createGradientElement(v,f.gradientColors,0,0,100,0,r,e)),t>=f.from&&t<=f.to)for(h=e,e!=0&&(h=e*10),l=f.from,o=f.from+(f.to-f.from)/10,s=h;s<h+10;s++){if(t>=l&&t<=o)return c={},p=this._getColorRatio(.7,1,t,f.from,f.to),r._legendRects[s]!=i&&(c=r._legendRects[s]),c.color=r.shapeSettings.enableGradient?y:f.color,n(u).css({opacity:p}),c;l=o;o=o+(f.to-f.from)/10}},_fillRangeColors:function(t,i,r,u,f,e,o){for(var s,p,l,a,v,y,c,h=0;h<i.length;h++)s=i[h],this.bubbleSettings.enableGradient&&(v=document.getElementById("svgDocument"),y=this._createGradientElement(v,i[h].gradientColors,0,0,100,0,this,h),s.color=y),t>=s.from&&t<=s.to&&(p=this._getColorRatio(.7,1,t,s.from,s.to),c={from:s.from,to:s.to,fill:s.color,value:t,bubbleOpacity:this.bubbleSettings.bubbleOpacity,shapeData:e,shapeProperty:o},f?(u._trigger("bubbleRendering",{model:u.model,data:c}),a={index:h,color:s.color,isBubble:f},e.mapRangeBubbleIndex=a):(u._trigger("shapeRendering",{model:u.model,data:c}),l={index:h,color:s.color},e.mapRangeShapeIndex=l),u._isSVG?(r.setAttribute("fill",c.fill),r.setAttribute("opacity",c.bubbleOpacity)):r.fillcolor=c.fill,r.highlightcolor=s.highlightcolor,n(r).css({opacity:p}))},_getColorRatio:function(n,t,i,r,u){var f=100/(u-r)*(i-r);return(parseFloat(t)-parseFloat(n))/100*f+parseFloat(n)}};n.fn.pinchZoom=function(t,i){var f,u,e=this[0],r=[],o=function(n){var t=e.createSVGPoint(),r=n.targetTouches,u,f,i;return r.length&&(i=r[0],u=i.pageX,f=i.pageY),t.x=u,t.y=f,t},l=function(i){var y=t,e,s,c,l,h,a,v;if(u=y.getCTM().inverse(),f=o(i).matrixTransform(u),e=i.touches,e.length>=2)for(i.preventDefault(),s=0;s<e.length;s++){for(c=e[s],l=!1,h=0;h<r.length;h++)if(a=r[h],c.identifier===a.identifier){l=!0;break}l||(v=n.extend({},c),r.push(v))}},s=function(n,t){var i=t.pageX-n.pageX,r=t.pageY-n.pageY;return Math.sqrt(i*i+r*r)},h=function(n,t){var r=null,u="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";t.a>i._baseScale&&i.model.zoomSettings.enableZoom&&i.enablePan()&&(t.a>i._scale?r=!0:t.a<i._scale&&(r=!1),i._scale=t.a,i._translatePoint.x=t.e/t.a,i._translatePoint.y=t.f/t.a,i._applyTransform(i._scale,i._translatePoint),i.model.zoomSettings.level=i._scale-i._baseScale+1,i._zoomLevel(i._scale-i._baseScale+1),r!=null&&r?(i._trigger("zoomedIn",{originalEvent:null,zoomLevel:i._zoomLevel()}),i._updateSliderValue(!1),i._resizeShape()):r!=null&&(i._trigger("zoomedOut",{originalEvent:null,zoomLevel:i._zoomLevel()}),i._updateSliderValue(!1),i._resizeShape()),i._isDragging=!0,i._refrshLayers())},a=function(n){for(var e,t,u,o,f=n.changedTouches,i=0;i<f.length;i++)for(e=f[i],t=0;t<r.length;t++)u=r[t],u.identifier===e.identifier&&(o=r.indexOf(u),r.splice(o,1))},c=function(n,t){n.pageX=t.pageX;n.pageY=t.pageY},v=function(n){var l=t,y=n.touches,w,i,p;if(y.length>=2){n.preventDefault();var a=y[0],v=y[1],b=r[0],k=r[1];w=s(a,v)/s(b,k);i=e.createSVGPoint();i.x=(a.pageX+v.pageX)/2;i.y=(a.pageY+v.pageY)/2;i=i.matrixTransform(l.getCTM().inverse());p=e.createSVGMatrix().translate(i.x,i.y).scale(w).translate(-i.x,-i.y);h(l,l.getCTM().multiply(p));typeof u=="undefined"&&(u=l.getCTM().inverse());u=u.multiply(p.inverse());c(b,a);c(k,v)}else r.length||(i=o(n).matrixTransform(u),h(l,u.inverse().translate(i.x-f.x,i.y-f.y)))};this[0].addEventListener("touchstart",l,!1);this[0].addEventListener("touchend",a,!1);this[0].addEventListener("touchmove",v,!1)};jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};t.datavisualization.Map.Locale=t.datavisualization.Map.Locale||{};t.datavisualization.Map.Locale["default"]=t.datavisualization.Map.Locale["en-US"]={zoomIn:"Zoom In",zoomOut:"Zoom Out",panTop:"Pan Top",panBottom:"Pan Bottom",panLeft:"Pan Left",panRight:"Pan Right",home:"Home"};t.datavisualization.Map.LayerType={Geometry:"geometry",OSM:"osm",Bing:"bing"};t.datavisualization.Map.LegendIcons={Rectangle:"rectangle",Circle:"circle"};t.datavisualization.Map.LabelSize={Fixed:"fixed",Default:"default"};t.datavisualization.Map.LegendMode={Default:"default",Interactive:"interactive"};t.datavisualization.Map.BingMapType={Aerial:"aerial",AerialWithLabel:"aerialwithlabel",Road:"road"};t.datavisualization.Map.GeometryType={Normal:"normal",Geographic:"geographic"};t.datavisualization.Map.SelectionMode={Default:"default",Multiple:"multiple"};t.datavisualization.Map.ColorPalette={Palette1:"palette1",Palette2:"palette2",Palette3:"palette3",CustomPalette:"custompalette"};t.datavisualization.Map.LegendType={Layers:"layers",Bubbles:"bubbles"};t.datavisualization.Map.Position={None:"none",TopLeft:"topleft",TopCenter:"topcenter",TopRight:"topright",CenterLeft:"centerleft",Center:"center",CenterRight:"centerright",BottomLeft:"bottomleft",BottomCenter:"bottomcenter",BottomRight:"bottomright"};t.datavisualization.Map.DockPosition={Top:"top",Bottom:"bottom",Right:"right",Left:"left"};t.datavisualization.Map.Alignment={Near:"near",Center:"center",Far:"far"};t.datavisualization.Map.LabelOrientation={Horizontal:"horizontal",Vertical:"vertical"};t.datavisualization.Map.FontStyle={Normal:"normal",Italic:"italic"};t.datavisualization.Map.FontWeight={Regular:"regular",Bold:"bold",Lighter:"lighter"}}(jQuery,Syncfusion);__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t,i;(function(n){n[n.Line="line"]="Line";n[n.Column="column"]="Column";n[n.Area="area"]="Area";n[n.WinLoss="winloss"]="WinLoss";n[n.Pie="pie"]="Pie"})(n.Type||(n.Type={}));t=n.Type,function(n){n[n.flatlight="flatlight"]="flatlight";n[n.azurelight="azurelight"]="azurelight";n[n.limelight="limelight"]="limelight";n[n.saffronlight="saffronlight"]="saffronlight";n[n.gradientlight="gradientlight"]="gradientlight";n[n.flatdark="flatdark"]="flatdark";n[n.azuredark="azuredark"]="azuredark";n[n.limedark="limedark"]="limedark";n[n.saffrondark="saffrondark"]="saffrondark";n[n.gradientdark="gradientdark"]="gradientdark"}(n.Themes||(n.Themes={}));i=n.Themes,function(){var r=function(r){function u(u,f){r.call(this);this.defaults={locale:null,enableGroupSeparator:!1,enableCanvasRendering:!1,padding:8,palette:["#8A2BE2","#ff1a75","#99cc00","#4d4dff","#660066","#FFA500","#FFD700","#FF00FF","#808000","#990000"],isResponsive:!0,dataSource:null,xName:"",yName:"",type:t.Line,width:1,stroke:null,opacity:1,fill:"#33ccff",border:{color:"transparent",width:1},rangeBandSettings:{startRange:null,endRange:null,opacity:.4,color:"transparent"},highPointColor:null,lowPointColor:null,negativePointColor:null,startPointColor:null,endPointColor:null,tooltip:{visible:!1,template:null,fill:"white",border:{width:1,color:null},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:"#111111",opacity:1,size:"8px"}},markerSettings:{visible:!1,fill:null,width:2,opacity:1,border:{color:"white",width:1}},background:"transparent",size:{height:"",width:""},axisLineSettings:{visible:!1,color:"#111111",width:1,dashArray:""},theme:i.flatlight,load:null,loaded:null,doubleClick:null,rightClick:null,click:null,sparklineMouseMove:null,sparklineMouseLeave:null,seriesRendering:null,pointRegionMouseMove:null,pointRegionMouseClick:null,tooltipInitialize:null};this.dataTypes={dataSource:"data",palette:"array",type:"enum",theme:"enum"};this.model=null;this.svgLink="http://www.w3.org/2000/svg";this._id=null;this.negativePointIndexes=[];this.validTags=["div"];this._id=u;!f||(this.model=n.compareExtend({},f,this.defaults))}return __extends(u,r),u.prototype.isTouch=function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},u.prototype.browserInfo=function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n},u.prototype.fadeOut=function(n){var t=1,i=setInterval(function(){t<=.1&&(clearInterval(i),n.parentNode?n.parentNode.removeChild(n):n);n.style.opacity=t;n.style.filter="alpha(opacity="+t*100+")";t-=t*.1},50)},u.prototype._setModel=function(t){var i;for(i in t)switch(i){default:n.deepExtend(!0,this.model,{},t[i])}this.redraw()},u.prototype.unBindEvents=function(){var i=document.getElementById(this.rootId),n="",r=this.browserInfo(),u=r.isMSPointerEnabled,f=r.pointerEnabled,e=u?f?"pointerup":"MSPointerUp":"touchend mouseup",o=u?f?"pointermove":"MSPointerMove":"touchmove mousemove",t;for(n=e+" "+o,n=n.split(" "),t=0;t<n.length;t++)i.removeEventListener(n[t],this.sparkMouseMove);i.removeEventListener("mouseout",this.sparkMouseLeave)},u.prototype.bindClickEvents=function(n){this.sparkClick=this.sparkClick.bind(this);ej.isTouchDevice()?(this.sparkTouchStart=this.sparkTouchStart.bind(this),n.addEventListener("touchend",this.sparkClick),n.addEventListener("touchstart",this.sparkTouchStart)):(this.sparkDoubleClick=this.sparkDoubleClick.bind(this),this.sparkRightClick=this.sparkRightClick.bind(this),n.addEventListener("click",this.sparkClick),n.addEventListener("dblclick",this.sparkDoubleClick),n.addEventListener("contextmenu",this.sparkRightClick))},u.prototype.unBindClickEvents=function(n){ej.isTouchDevice()?(n.removeEventListener("touchend",this.sparkClick),n.removeEventListener("touchstart",this.sparkTouchStart)):(n.removeEventListener("click",this.sparkClick),n.removeEventListener("dblclick",this.sparkDoubleClick),n.removeEventListener("contextmenu",this.sparkRightClick))},u.prototype.bindEvents=function(n){var i;this.sparkMouseMove=this.sparkMouseMove.bind(this);this.sparkMouseLeave=this.sparkMouseLeave.bind(this);var t="",r=this.browserInfo(),u=r.isMSPointerEnabled,f=r.pointerEnabled,e=u?f?"pointerup":"MSPointerUp":"touchend mouseup",o=u?f?"pointermove":"MSPointerMove":"touchmove mousemove";for(t=e+" "+o,t=t.split(" "),i=0;i<t.length;i++)n.addEventListener(t[i],this.sparkMouseMove);n.addEventListener("mouseout",this.sparkMouseLeave)},u.prototype.sparkTouchStart=function(){this._longPressTimer=new Date},u.prototype.sparkClick=function(n){var t=new Date;this.model.click!=null&&this._trigger("click",{data:{event:n}});ej.isTouchDevice()&&n.type!="click"&&(this._doubleTapTimer!=null&&t-this._doubleTapTimer<300&&this.sparkDoubleClick(n),this._doubleTapTimer=t,this._longPressTimer!=null&&t-this._longPressTimer>1e3&&this.sparkRightClick(n))},u.prototype.sparkDoubleClick=function(n){this.model.doubleClick!=null&&this._trigger("doubleClick",{data:{event:n}})},u.prototype.sparkRightClick=function(n){this.model.rightClick!=null&&this._trigger("rightClick",{data:{event:n}})},u.prototype.sparkMouseMove=function(n){var hi=this.isTouch(n),et,oi,ki,wt,si,ni,ti,a,bt,v,ot;if(!(hi&&n.type.toString().toLowerCase().indexOf("move")>-1)){var t=this.model,st=this,ii=t.locale,ci=ii&&t.enableGroupSeparator,li,ai,ri=this.visiblePoints,vi=this.container.id+"_markerExplode",y,it,h,rt,l,b,lt=t.enableCanvasRendering?0:3,at="",s,u,k,d,g,vt=parseInt(t.size.height),ut=parseInt(t.size.width),e=t.tooltip.font,p=this.container.id+"_tooltip",gi=document.getElementById(p),yi,nt=t.tooltip.border.color,yt=document.getElementById(this.container.id),fr=yt.clientHeight,nr=yt.parentNode,ft=yt.getClientRects()[0],ht=ft.top,ct=ft.left,ui=n.clientX||(n.changedTouches?n.changedTouches[0].clientX:n.touches?n.touches[0].clientX:0),pi=n.clientY||(n.changedTouches?n.changedTouches[0].clientY:n.touches?n.touches[0].clientY:0),fi=ri.map(function(n){return n.location.X+ft.left}),er=ri.map(function(n){return n.location.markerPos+ft.top}),i=Infinity,ei=this.measureText,wi,o=this.model.markerSettings,pt,tt,w,bi,r,f,tr=document.getElementById(this.container.id+"_canvasTracker");for(et=0,ki=fi.length;et<ki;et++)oi=Math.abs(ui-fi[et]),i>oi&&(i=oi,pt=fi[et],this.pointIndex=et);if(ui>ct&&ui<ct+ft.width&&pi>ht&&pi<ht+ft.height)if(i=ri[this.pointIndex].location,wt=function(n){wi=n.length/2;var o=ei(n,e);s=o.height+4;u=o.width+wi;r=i.X;f=i.markerPos;f-s/2<0?f+=s/2:f+s/2>vt&&(f-=s/2);r+u+u/10>ut-t.padding?(r=i.X-Number(t.markerSettings.width)-Number(t.markerSettings.border.width)-4,at="M "+r+" "+i.markerPos+" L "+(r-u/10)+" "+(f-4)+" L "+(r-u/10)+" "+(f-s/2)+" L "+(r-u-u/10)+" "+(f-s/2)+" L "+(r-u-u/10)+" "+(f+s/2)+" L "+(r-u/10)+" "+(f+s/2)+" L "+(r-u/10)+" "+(f+4)+" Z"):(r=i.X+Number(t.markerSettings.width)+Number(t.markerSettings.border.width)+4,at="M "+r+" "+i.markerPos+" L "+(r+u/10)+" "+(f-4)+" L "+(r+u/10)+" "+(f-s/2)+" L "+(r+u+u/10)+" "+(f-s/2)+" L "+(r+u+u/10)+" "+(f+s/2)+" L "+(r+u/10)+" "+(f+s/2)+" L "+(r+u/10)+" "+(f+4)+" Z")},(t.tooltip.template==null||t.tooltip.template=="")&&(li=ci&&i.Xval?i.Xval.toLocaleString(ii):i.Xval,ai=ci&&i.Yval?i.Yval.toLocaleString(ii):i.Yval,h=" X : "+li+" Y : "+ai+" ",wt(h)),y=this.pointIndex,this.prevMousePos==undefined&&(this.prevMousePos=pt),si=function(n){var i=st.highPointIndex,r=st.lowPointIndex,u=st.negativePointIndexes,f=st.startPointIndex,e=st.endPointIndex;return n==i?t.highPointColor:n==r?t.lowPointColor:n==f&&t.startPointColor!=null?t.startPointColor:n==e&&t.endPointColor!=null?t.endPointColor:u.indexOf(n)>=0&&t.negativePointColor!=null?t.negativePointColor:o.fill?o.fill:t.fill},gi||tr){if(this.prevMousePos!=pt){if(k={data:{pointIndex:y,currentText:h,location:i}},this.model.tooltipInitialize!=null&&this._trigger("tooltipInitialize",k),yi=i.X-t.width/2,h!=k.data.currentText&&(h=k.data.currentText,wt(h)),this.prevMousePos=pt,g=si(y),rt={id:vi,cx:i.X,cy:i.markerPos,r:Number(o.width),fill:o.border.color,stroke:g,"stroke-width":Number(o.border.width)},t.tooltip.template==null||t.tooltip.template=="")l={id:p,fill:t.tooltip.fill,stroke:nt!=null?nt:g,"stroke-width":t.tooltip.border.width,d:at},b={x:i.X+u+u/10>ut-t.padding?r+lt-u-u/10:r+lt+u/10,y:f+s/4,fill:e.color,"font-size":e.size,"font-family":e.fontFamily,"font-weight":e.fontWeight,"font-style":e.fontStyle};else{a=document.getElementById(t.tooltip.template);bt=a.innerHTML;typeof t.dataSource[y]=="object"?(v=t.dataSource[y],v.x=i.Xval,v.y=i.Yval):v={x:i.Xval,y:i.Yval};var kt={point:v},bt=this.parseTemplate(a,kt),di=a.innerText,dt=Number(t.markerSettings.width),di=this.parseTemplate(a,kt),c=ei(di,e),gt=i.X+Number(o.width)+Number(o.border.width)+dt;f=ht+i.markerPos-c.height/2;r=ct+gt;i.markerPos-c.height/2<t.padding?f+=c.height/2:i.markerPos+c.height/2>vt-t.padding&&(f-=c.height/2);gt+c.width>ut-t.padding&&(r=r-c.width-(Number(o.width)+Number(o.border.width)+dt)*2);l={background:t.tooltip.fill,border:t.tooltip.border.width+"px solid "+(nt!=null?nt:g),left:r+"px",top:f+"px"};d=document.getElementById(p);d.innerHTML=bt;this.setStyles(l,d)}t.enableCanvasRendering?(tt=document.getElementById(this.container.id+"_canvasTracker"),w=tt.getContext("2d"),w.clearRect(0,0,ut,vt),this.canvasDrawCircle(rt,w),(t.tooltip.template==null||t.tooltip.template=="")&&(this.canvasDrawPath(l,w),b.font=e.size+" "+e.fontFamily,this.canvasDrawText(b,h,w))):(ni=document.getElementById(p+"_g"),this.drawCircle(rt,ni),t.tooltip.template==null&&(this.drawPath(l,ni),it=yt.getElementsByTagName("text")[0],it.textContent=h,this.setAttributes(b,it),ni.appendChild(it)))}}else{if(k={data:{pointIndex:y,currentText:h,location:i}},this.model.tooltipInitialize!=null&&this._trigger("tooltipInitialize",k),yi=i.X-t.width/2,h!=k.data.currentText&&(h=k.data.currentText,wt(h)),ti=document.getElementsByClassName("ej-sparkline-tooltip"),ti[0]&&ti[0].parentNode.removeChild(ti[0]),g=si(y),rt={id:vi,cx:i.X,cy:i.markerPos,r:Number(o.width),fill:o.border.color,stroke:g,"stroke-width":Number(o.border.width)},t.tooltip.template==null||t.tooltip.template=="")l={id:p,fill:t.tooltip.fill,stroke:nt!=null?nt:g,"stroke-width":t.tooltip.border.width,d:at},b={x:i.X+u+u/10>ut-t.padding?r+lt-u-u/10:r+lt+u/10,y:f+s/4,fill:e.color,opacity:e.opacity,"font-size":e.size,"font-family":e.fontFamily,"font-weight":e.fontWeight,"font-style":e.fontStyle};else{a=document.getElementById(t.tooltip.template);bt=a.innerHTML;typeof t.dataSource[y]=="object"?(v=t.dataSource[y],v.x=i.Xval,v.y=i.Yval):v={x:i.Xval,y:i.Yval};var kt={point:v},bt=this.parseTemplate(a,kt),di=a.innerText,dt=Number(t.markerSettings.width),di=this.parseTemplate(a,kt),c=ei(di,e),gt=i.X+Number(o.width)+Number(o.border.width)+dt;f=ht+i.markerPos-c.height/2;r=ct+gt;i.markerPos-c.height/2<t.padding?f+=c.height/2:i.markerPos+c.height/2>vt-t.padding&&(f-=c.height/2);gt+c.width>ut-t.padding&&(r=r-c.width-(Number(o.width)+Number(o.border.width)+dt)*2);l={background:t.tooltip.fill,border:t.tooltip.border.width+"px solid "+(nt!=null?nt:g),left:r+"px",top:f+"px",position:"fixed",height:"auto",width:"auto",display:"block",opacity:e.opacity,font:e.size+" "+e.fontFamily};d=document.createElement("div");this.setAttributes({id:p,"class":"ej-sparkline-tooltip"},d);this.setStyles(l,d);d.innerHTML=bt;nr.appendChild(d)}t.enableCanvasRendering?(tt=document.createElement("canvas"),bi={id:this.container.id+"_canvasTracker",fill:"transparent","class":"ej-sparkline-tooltip",height:t.size.height,width:t.size.width},this.setAttributes(bi,tt),this.setStyles({left:ct+"px",top:ht+"px",position:"fixed"},tt),w=tt.getContext("2d"),this.canvasDrawCircle(rt,w),(t.tooltip.template==null||t.tooltip.template=="")&&(this.canvasDrawPath(l,w),b.font=e.size+" "+e.fontFamily,this.canvasDrawText(b,h,w)),this.container.parentNode.appendChild(tt)):(ot=document.createElementNS(this.svgLink,"g"),this.setAttributes({id:p+"_g","class":"ej-sparkline-tooltip"},ot),this.container.appendChild(ot),this.drawCircle(rt,ot),t.tooltip.template==null&&(this.drawPath(l,ot),it=this.createText(b,h),ot.appendChild(it)))}if(hi){var ir=t.tooltip.template==null||t.tooltip.template==""?t.enableCanvasRendering?this.container.id+"_canvasTracker":p+"_g":p,rr=document.getElementById(ir),ur=this;setTimeout(function(){ur.fadeOut(rr)},1e3)}}},u.prototype.sparkMouseLeave=function(n){var f=n.clientX||(n.touches[0]?n.touches[0].clientX:n.changedTouches[0].clientX),e=n.clientY||(n.touches[0]?n.touches[0].clientY:n.changedTouches[0].clientY),o=this.container,v=o.clientHeight,r=o.getClientRects()[0],s=r.top,h=r.left,c=this.model,l=this.container.id+"_tooltip",t,a,u,i;(f<h||f>h+r.width||e<s||e>s+r.height||this.touchEnd)&&(c.tooltip.template!=null&&c.tooltip.template!=""&&(t=document.getElementById(l),t?t.parentNode.removeChild(t):t),this.model.enableCanvasRendering?(i=document.getElementById(this.container.id+"_canvasTracker"),i?i.parentNode.removeChild(i):i):(a=l+"_g",u=document.getElementById(a),u?this.container.removeChild(u):u))},u.prototype.bindPieEvents=function(n){var i;this.pieTooltip=this.pieTooltip.bind(this);this.pieTooltipHide=this.pieTooltipHide.bind(this);var t="",r=this.browserInfo(),u=r.isMSPointerEnabled,f=r.pointerEnabled,e=u?f?"pointerup":"MSPointerUp":"touchend mouseup",o=u?f?"pointermove":"MSPointerMove":"touchmove mousemove";for(t=e+" "+o,t=t.split(" "),i=0;i<t.length;i++)n.addEventListener(t[i],this.pieTooltip);n.addEventListener("mouseout",this.pieTooltipHide);this.model.pointRegionMouseClick!=null&&(n.addEventListener("click",this.pieTooltip),n.addEventListener("touchstart",this.pieTooltip))},u.prototype.unbindPieEvents=function(){var n="",i=this.browserInfo(),r=i.isMSPointerEnabled,u=i.pointerEnabled,e=r?u?"pointerup":"MSPointerUp":"touchend mouseup",o=r?u?"pointermove":"MSPointerMove":"touchmove mousemove",f=document.getElementById(this.rootId),t;for(n=e+" "+o,n=n.split(" "),t=0;t<n.length;t++)f.removeEventListener(n[t],this.pieTooltip);f.removeEventListener("mouseout",this.pieTooltipHide)},u.prototype.pieTooltip=function(n){var y=this.isTouch(n),e,ot,i,s,st,ht;if(y&&n.stopImmediatePropagation(),!(y&&n.type.toString().toLowerCase().indexOf("move")>-1)){this.model.sparklineMouseMove!=null&&this._trigger("sparklineMouseMove");var t=this.model,h=n.clientX||(n.changedTouches?n.changedTouches[0].clientX:n.touches?n.touches[0].clientX:0),yt=parseInt(t.size.height),pt=parseInt(t.size.width),u=t.tooltip.font,c=n.clientY||(n.changedTouches?n.changedTouches[0].clientY:n.touches?n.touches[0].clientY:0),d=document.getElementById(this.container.id),wt=d.parentNode,g=d.getClientRects()[0],ct=g.top,lt=g.left,bt=this.visiblePoints.map(function(n){return n.coordinates}),nt=this.visiblePoints.map(function(n){return n.location}),at=this.visiblePoints.radius,tt=this.visiblePoints.centerPos,p=this.visiblePoints,it,rt,f,w=h-(tt.X+lt),b=c-(tt.Y+ct),o=Math.atan2(b,w),ut=this.container.id+"_pieTooltip",r=document.getElementById(ut),l,a=t.tooltip.border.color,vt=Math.sqrt(w*w+b*b),k=t.pointRegionMouseClick!=null?"pointRegionMouseClick":t.pointRegionMouseMove!=null?"pointRegionMouseMove":null,v=t.palette,ft=t.locale,et=t.enableGroupSeparator;if(Math.abs(vt)<=at)for(e=0,ot=p.length;e<ot;e++)it=p[e].stAng,rt=p[e].endAng,o=o<0?6.283+o:o,o<=rt&&o>=it&&(f=e,(k=="pointRegionMouseClick"&&(n.type=="click"||n.type=="touchstart")||k=="pointRegionMouseMove")&&this._trigger(k,{data:{pointIndex:e,seriesType:"Pie",locationX:h,locationY:c}}));else r&&r.parentNode.removeChild(r);r&&f!=null?(i=nt[f].Percent.toFixed(2),i=et?"&nbsp"+parseFloat(i).toLocaleString(ft):i+"&nbsp%&nbsp",s=this.measureText(i,u),l={left:h+12+"px",top:c+"px",border:t.tooltip.border.width+"px solid "+(a!=null?a:v[f%v.length]),"background-color":t.tooltip.fill,height:s.height+"px",width:s.width+"px"},this.setStyles(l,r),r.innerHTML=i):f!=null&&(r=document.createElement("div"),i=nt[f].Percent.toFixed(2),i=et?"&nbsp"+parseFloat(i).toLocaleString(ft):i+"&nbsp%&nbsp",s=this.measureText(i,u),l={left:h+12+"px",top:c+"px","background-color":t.tooltip.fill,color:u.color,border:t.tooltip.border.width+"px solid "+(a!=null?a:v[f%v.length]),height:s.height+"px",width:s.width+"px","font-size":u.size,opacity:u.opacity,"font-weight":u.fontWeight,"font-family":u.fontFamily,"font-style":u.fontStyle,"z-index":"100000",position:"fixed"},r.setAttribute("id",ut),this.setStyles(l,r),r.innerHTML=i,document.body.appendChild(r));y&&(this.touchEnd=!0,st=document.getElementById(this.container.id+"_pieTooltip"),ht=this,setTimeout(function(){ht.fadeOut(st)},500))}},u.prototype.pieTooltipHide=function(){if(!this.touchEnd){this.model.sparklineMouseLeave!=null&&this._trigger("sparklineMouseLeave");var t=this.container.id+"_pieTooltip",n=document.getElementById(t);n?document.body.removeChild(n):n}},u.prototype.bindRegionEvents=function(n){this.sparklineEvent=this.sparklineEvent.bind(this);var t=this.findBrowser();(t=="IE"||t=="firefox")&&(n.style["touch-action"]="none");this.model.pointRegionMouseMove!=null&&(n.addEventListener("mousemove",this.sparklineEvent,!0),n.addEventListener("touchmove",this.sparklineEvent,!0));this.model.pointRegionMouseClick!=null&&(n.addEventListener("click",this.sparklineEvent,!0),n.addEventListener("touchstart",this.sparklineEvent,!0));this.model.sparklineMouseMove!=null&&(n.addEventListener("mousemove",this.sparklineEvent,!0),n.addEventListener("touchmove",this.sparklineEvent,!0));this.model.sparklineMouseLeave!=null&&(this.sparklineLeave=this.sparklineLeave.bind(this),n.addEventListener("mouseout",this.sparklineLeave,!0),t=="firefox"&&n.addEventListener("mouseup",this.sparklineLeave,!0),n.addEventListener("touchend",this.sparklineLeave,!0))},u.prototype.sparklineLeave=function(){this.model.sparklineMouseLeave!=null&&this._trigger("sparklineMouseLeave")},u.prototype.sparklineEvent=function(n){var i,p;this.model.sparklineMouseMove!=null&&this._trigger("sparklineMouseMove");var s=this.model,l=n.clientX||n.touches[0].clientX,a=n.clientY||n.touches[0].clientY,f=s.type,r=this.visiblePoints,e,o,v,y,u,h,w=document.getElementById(this.container.id),g=w.parentNode,b=w.getClientRects()[0],k=b.top,d=b.left,c;if(c=s.pointRegionMouseClick!=null?"pointRegionMouseClick":s.pointRegionMouseMove!=null?"pointRegionMouseMove":null,f==t.Line||f==t.Area)for(u=2*(s.markerSettings.width+s.markerSettings.border.width),h=u,i=0,p=r.length;i<p;i++)e=d+r[i].location.X-u/2,o=k+r[i].location.Y-h/2,v=e+u,y=o+h,l>=e&&l<=v&&a>=o&&a<=y&&c!=null&&this._trigger(c,{data:{pointIndex:i,seriesType:f,locationX:r[i].location.X,locationY:r[i].location.Y}});else if(f==t.Column||f==t.WinLoss)for(u=r[0].location.width,i=0,p=r.length;i<p;i++)h=r[i].location.height,e=d+r[i].location.X-u/2,o=k+r[i].location.Y,v=e+u,y=o+h,l>=e&&l<=v&&a>=o&&a<=y&&c!=null&&this._trigger(c,{data:{pointIndex:i,seriesType:f,locationX:r[i].location.X,locationY:r[i].location.Y}})},u.prototype.findBrowser=function(){return navigator.userAgent.indexOf("Firefox")!=-1?"firefox":navigator.userAgent.indexOf("MSIE")!=-1||!!document.documentMode==!0?"IE":null},u.prototype.resize=function(){var t=this,n=document.getElementById(this.rootId);n!=null||n!=undefined?(window.removeEventListener("resize",this.resize),this.isResized=!0,this._destroy(),this.createSvg(),this.renderSparkline(),this.isResized=!1):window.removeEventListener("resize",this.resize)},u.prototype.supportsSvg=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg")},u.prototype._init=function(){this.supportsSvg()&&(this.rootId=this.rootId!=null?this.rootId:this._id,this.parentElement=this.parentElement!=null?this.parentElement:document.getElementById(this.rootId),this.model.load!=null&&this._trigger("load"),this.setTheme(this.model),this.height=parseInt(this.model.size.height),this.width=parseInt(this.model.size.width),this.createSvg(),this.renderSparkline(),this.model.loaded!=null&&this._trigger("loaded"))},u.prototype.redraw=function(){this.emptyContainer();this.renderSparkline()},u.prototype.touchCheck=function(n){this.touchEnd=!0;this.model.type.toString().toLocaleLowerCase()!="pie"?this.sparkMouseLeave(n):this.pieTooltipHide(n)},u.prototype.emptyContainer=function(){var t=this.model,n;if(t.enableCanvasRendering)this.ctx.clearRect(0,0,this.height,this.width);else for(n=this.container;n.firstChild;)n.removeChild(n.firstChild)},u.prototype._destroy=function(){var n=document.getElementById(this.container.id);n!=null?(this.unBindEvents(),this.unbindPieEvents(),window.removeEventListener("resize",this.resize),n.parentNode.removeChild(n)):window.removeEventListener("resize",this.resize)},u.prototype.renderSparkline=function(){this.setStyles({background:this.model.background},this.container);this.calculatePoints();this.seriesRender();this.resize=this.resize.bind(this);this.model.isResponsive?window.addEventListener("resize",this.resize):window.removeEventListener("resize",this.resize);this.model.type!=t.WinLoss&&this.model.type!=t.Pie&&this.model.tooltip.visible?this.bindEvents(this.parentElement):this.unBindEvents();this.model.type==t.Pie&&this.model.tooltip.visible?this.bindPieEvents(this.parentElement):this.unbindPieEvents();this.bindRegionEvents(this.parentElement);this.unBindClickEvents(this.parentElement);this.bindClickEvents(this.parentElement)},u.prototype.animateSparkline=function(){function ht(){n<=a?r.setAttribute("width",n.toString()):(clearInterval(it),h._trigger("animationComplete"));n=n+i}function ct(){f=u-n;n>=0?(r.setAttribute("y",n.toString()),r.setAttribute("height",f)):(clearInterval(ut),h._trigger("animationComplete"));n=n-i}function lt(){n<=u?r.setAttribute("height",n.toString()):(clearInterval(rt),h._trigger("animationComplete"));n=n+i}function at(){f=(l-n)*2;n>=-i?(r.setAttribute("y",n<0?0:n.toString()),r.setAttribute("height",f)):(clearInterval(ft),h._trigger("animationComplete"));n=n-i}function vt(){n<=v.length-1?(d=90,et=v[n].location.Degree,ot+=et+(n==0?d:0),b=(d-90)*Math.PI/180,p=(ot-90)*Math.PI/180,n==v.length-1&&(p-=.0001),f={sX:o.X+s*Math.cos(b),sY:o.Y+s*Math.sin(b),eX:o.X+s*Math.cos(p),eY:o.Y+s*Math.sin(p)},k="M "+o.X+" "+o.Y+" L "+f.eX+" "+f.eY+" A "+s+" "+s+" 0 1,0 "+f.sX+" "+f.sY+" Z",r.setAttribute("d",k)):(clearInterval(st),h._trigger("animationComplete"));n+=1}var y=this.model,h=this,c=y.type,g=y.padding,l=this.axisHeight,a=parseInt(y.size.width),u=parseInt(y.size.height),n,f,i,nt=document.createElementNS(this.svgLink,"defs"),w=document.createElementNS(this.svgLink,"clipPath"),e,tt,r,it,rt,ut,ft,st;if(r=c==t.Pie?document.createElementNS(this.svgLink,"path"):document.createElementNS(this.svgLink,"rect"),c==t.Line||c==t.Area)e={id:"clipRectSparkline",x:0,y:0,width:0,height:u},i=a/10,it=setInterval(ht,120),n=i;else if(c==t.Column||c==t.WinLoss)l==g?(e={id:"clipRectSparkline",x:0,y:0,width:a,height:0},i=u/10,n=i,rt=setInterval(lt,120)):l==u-g?(e={id:"clipRectSparkline",x:0,y:u,width:a,height:0},i=u/10,n=u,ut=setInterval(ct,120)):(e={id:"clipRectSparkline",x:0,y:l,width:a,height:0},i=u/10,n=l,ft=setInterval(at,120));else{var v=this.visiblePoints,o=v.centerPos,s=v.radius,et,b,p,k="",d=90,ot=0;n=0;e={id:"clipRectSparkline",d:k};st=setInterval(vt,120)}tt={id:this.container.id+"_sparklineRect"};this.setAttributes(e,r);this.setAttributes(tt,w);w.appendChild(r);nt.appendChild(w);this.container.appendChild(nt)},u.prototype.setTheme=function(n){var r=n.theme,t=this.defaults;r==i.flatdark?(n.background=n.background==t.background?"#111111":n.background,n.fill=n.fill==t.fill?"#B5B5B5":n.fill,n.stroke=n.stroke==t.stroke?"#F6D321":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#AAAAAA":n.axisLineSettings.color):r==i.gradientlight?(n.background=n.background==t.background?"transparent":n.background,n.fill=n.fill==t.fill?"#F34649":n.fill,n.stroke=n.stroke==t.stroke?"#597B15":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#8E8E8E":n.axisLineSettings.color):r==i.gradientdark?(n.background=n.background==t.background?"#111111":n.background,n.fill=n.fill==t.fill?"#005378":n.fill,n.stroke=n.stroke==t.stroke?"#6A9319":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#AAAAAA":n.axisLineSettings.color):r==i.azuredark?(n.background=n.background==t.background?"#111111":n.background,n.fill=n.fill==t.fill?"#007fff":n.fill,n.stroke=n.stroke==t.stroke?"#f0ffff":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#336699":n.axisLineSettings.color):r==i.azurelight?(n.background=n.background==t.background?"transparent":n.background,n.fill=n.fill==t.fill?"#336699":n.fill,n.stroke=n.stroke==t.stroke?"#007fff":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#336699":n.axisLineSettings.color):r==i.limedark?(n.background=n.background==t.background?"#111111":n.background,n.fill=n.fill==t.fill?"#238f23":n.fill,n.stroke=n.stroke==t.stroke?"#32CD32":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#43da21":n.axisLineSettings.color):r==i.limelight?(n.background=n.background==t.background?"transparent":n.background,n.fill=n.fill==t.fill?"#238f23":n.fill,n.stroke=n.stroke==t.stroke?"#32CD32":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#43da21":n.axisLineSettings.color):r==i.saffrondark?(n.background=n.background==t.background?"#111111":n.background,n.fill=n.fill==t.fill?"#ffaa33":n.fill,n.stroke=n.stroke==t.stroke?"#ffdba9":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#ffc26e":n.axisLineSettings.color):r==i.saffronlight?(n.background=n.background==t.background?"transparent":n.background,n.fill=n.fill==t.fill?"#ffaa33":n.fill,n.stroke=n.stroke==t.stroke?"#ffdba9":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#ffc26e":n.axisLineSettings.color):(r==null||r==i.flatlight)&&(n.background=n.background==t.background?"transparent":n.background,n.fill=n.fill==t.fill?"#33ccff":n.fill,n.stroke=n.stroke==t.stroke?"#33ccff":n.stroke,n.axisLineSettings.color=n.axisLineSettings.color==t.axisLineSettings.color?"#FF0000":n.axisLineSettings.color)},u.prototype.createSvg=function(){var i=this.model,t=this.parentElement.clientWidth>0?this.parentElement:this.parentElement.parentElement,e,u=parseInt(t.style.height)>t.clientHeight?parseInt(t.style.height):t.clientHeight,f=parseInt(t.style.width)>t.clientWidth?parseInt(t.style.width):t.clientWidth,n=i.size.width==""?f:parseInt(i.size.width),r=i.size.height==""?u:parseInt(i.size.height);r=r>0?r:u>0?u:30;n=this.model.isResponsive&&this.isResized?f>0?f:n:n;n=n<=0?50:n;i.size.height=r.toString();i.size.width=n.toString();this.height=r;this.width=n;e={id:this.rootId+"_sparkline_svg",width:n,height:r};i.enableCanvasRendering?(this.container=document.createElement("canvas"),this.ctx=this.container.getContext("2d")):this.container=document.createElementNS(this.svgLink,"svg");this.setAttributes(e,this.container);this.parentElement.appendChild(this.container)},u.prototype.setStyles=function(n,t){for(var r=Object.keys(n),u,f=r.map(function(t){return n[t]}),i=0,e=r.length;i<e;i++)u=r[i],t.style[u]=f[i]},u.prototype.setAttributes=function(n,t){for(var r=Object.keys(n),u=r.map(function(t){return n[t]}),i=0,f=r.length;i<f;i++)t.setAttribute(r[i],u[i])},u.prototype.getDefaultPoints=function(n){for(var t=[],i=1;i<=n;i++)Math.random()*10>5&&t.push(-Math.round(Math.random()*100)),t.push(Math.round(Math.random()*100));return t},u.prototype.calculatePoints=function(){var n=this.model,a=n.type,r=n.dataSource!=null?n.dataSource:this.getDefaultPoints(12),f,v,e,w,k,ft=[],h=r.length,c,d=0,y,et,l,i,ut,ot,st,ht;if(Array.isArray(r)&&typeof r[0]!="object")if(n.type==t.Pie)for(i=0;i<h;i++)d+=Math.abs(r[i]);else v=Math.max.apply(null,r),e=Math.min.apply(null,r),w=0,k=h-1;else if(n.type==t.Pie)for(i=0;i<h;i++)d+=Math.abs(r[i][n.yName]);else r[0][n.xName]?(c=r,c=c.sort(function(t,i){return t[n.yName]-i[n.yName]}),v=c[c.length-1][n.yName],e=c[0][n.yName]):(y=r.map(function(t){return t[n.yName]}),v=Math.max.apply(null,y),e=Math.min.apply(null,y)),r[0][n.xName]?(c=c.sort(function(t,i){return t[n.xName]-i[n.xName]}),k=c[c.length-1][n.xName],w=c[0][n.xName]):(w=0,k=h-1);if(n.type!=t.Pie){this.maxLength=h;var l,b=Number(n.padding),u=parseInt(n.size.height)-b*2,tt=parseInt(n.size.width)-b*2,g=k-w,o=v-e,g=g==0?1:g;o=o==0?1:o;this.min=e;this.unitX=g;this.minX=w;this.unitY=o;this.max=v;this.maxX=k;var it=0,p=u-u/o*-e,s,p=e<0&&v<=0?0:e<0&&v>0?p:u;this.axisHeight=p+b;a!=t.WinLoss&&n.axisLineSettings.visible&&this.drawAxis()}for(i=0;i<h;i++){if(r[i][n.xName]||r[i][n.yName]||r[i][n.yName]==0?r[i][n.xName]?(y=r[i][n.xName],f=r[i][n.yName]):(y=i,f=r[i][n.yName]):(y=i,f=r[i]),a==t.Line||a==t.Area)s=h!=1?u-Math.round(u*((f-e)/o)):0,l={X:h!=1?Math.round(tt*((y-w)/g)):tt/2,Y:s,markerPos:s};else if(a==t.Column||a==t.WinLoss){var nt=tt/h,rt=.5*2;nt-=rt;it=i*(nt+rt)+rt/2;a==t.WinLoss?(ut=.5,ot=40,s=f>0?u/4:f<0?u*ut:u*ut-u/ot,l={X:it,Y:s,height:f!=0?u/4:u/20,width:nt}):(st=u/o*(f-e),ht=f==e&&f>0?h!=1&&o!=1?u/o*(e/2):u/o:f==v&&f<0&&h!=1&&o!=1?u/o*(-v/2):st,s=Math.abs(u-ht),l={X:it,Y:s>p?p:s,height:Math.abs(s-p),width:nt,markerPos:s>p?p+Math.abs(s-p):s})}else a==t.Pie&&(et=Math.abs(f)/d*100,l={Percent:et,Degree:Math.abs(f)/d*360});a!=t.Pie&&(l.X+=b,l.Y+=b);a!=t.WinLoss&&(l.markerPos+=b);l.Xval=y;l.Yval=f;ft.push({location:l})}this.visiblePoints=ft},u.prototype.seriesRender=function(){var i=this.model,r=this.visiblePoints,f=r.length,u,n=i.type;u={data:{minX:this.minX,minY:this.min,maxX:this.maxX,maxY:this.max,xName:i.xName,yName:i.yName,pointsCount:f,seriesType:n,visiblePoints:this.visiblePoints}};this.model.seriesRendering!=null&&this._trigger("seriesRendering",u);n==t.Line?this.drawLineSeries(r):n==t.Area?this.drawAreaSeries(r):n==t.Column?this.drawColumnSeries(r):n==t.WinLoss?this.drawWinlossSeries(r):n==t.Pie&&this.drawPieSeries();i.markerSettings.visible&&n!=t.WinLoss&&n!=t.Pie&&this.drawMarker(r);i.rangeBandSettings.startRange!=null&&i.rangeBandSettings.endRange!=null&&n!=t.WinLoss&&n!=t.Pie&&this.drawRangeBand()},u.prototype.drawPieSeries=function(){var n=this.model,r=this.visiblePoints,i,c,b,y;n.padding=n.padding==this.defaults.padding?2:n.padding;var nt=r.length,l=parseInt(n.size.height)-n.padding*2,a=parseInt(n.size.width)-n.padding*2,u=l<=a?l/2:a/2,f,e,t={X:a/2,Y:l/2},o,p,v,w=n.palette,s=0,k=n.border.color,d=n.opacity,g=n.border.width,h;for(r.centerPos=t,r.radius=u,i=0,c=90;i<r.length;i++)c+=s,s=r[i].location.Degree,b=c+s,f=(c-90)*Math.PI/180,e=(b-90)*Math.PI/180,r[i].stAng=f,r[i].endAng=e,y=s<180?"0":"1",o=r[i].coordinates={sX:t.X+u*Math.cos(f),sY:t.Y+u*Math.sin(f),eX:t.X+u*Math.cos(e),eY:t.Y+u*Math.sin(e)},p="M "+t.X+" "+t.Y+" L "+o.eX+" "+o.eY+" A "+u+" "+u+" 0 "+y+",0 "+o.sX+" "+o.sY+" Z",v={id:this.container.id+"_pieBase"+i,fill:w[i%w.length],stroke:k,opacity:d,"stroke-width":g,d:p,start:e,end:f,x:t.X,y:t.Y,counterClockWise:y,radius:u},n.enableCanvasRendering?this.canvasDrawPath(v):(h=this.createGroup({id:"sparkpieSeries"}),this.setStyles({"clip-path":"url(#"+this.container.id+"_sparklineRect)"},h),this.container.appendChild(h),this.drawPath(v,h))},u.prototype.drawRangeBand=function(){var n=this.model,t=parseInt(n.size.height)-n.padding*2,f=parseInt(n.size.width)-n.padding*2,o=n.rangeBandSettings.startRange,s=n.rangeBandSettings.endRange,i=Number(t-t/this.unitY*(o-this.min))+n.padding,r=Number(t-t/this.unitY*(s-this.min))+n.padding,u,e;r=r>Number(t+n.padding)?Number(t+n.padding):r<0+n.padding?0+n.padding:r;i=i>Number(t+n.padding)?Number(t+n.padding):i<0+n.padding?0+n.padding:i;e="M "+n.padding+" "+i+" L "+(f+Number(n.padding))+" "+i+" L "+(f+Number(n.padding))+" "+r+" L "+n.padding+" "+r+" Z";u={id:this.container.id+"_rangeBand",fill:n.rangeBandSettings.color,opacity:n.rangeBandSettings.opacity,stroke:"transparent","stroke-width":n.border.width,d:e};n.enableCanvasRendering?this.canvasDrawPath(u):this.drawPath(u)},u.prototype.drawAxis=function(){var n=this.model,r=this.axisHeight,u=n.axisLineSettings.color,f=n.type,i;f!=t.WinLoss&&f!=t.Pie&&(n.axisLineSettings.visible||(u="transparent"),i={id:this.container.id+"_Sparkline_XAxis",x1:0+n.padding,y1:r,x2:parseInt(n.size.width)-n.padding,y2:r,stroke:u,"stroke-dasharray":n.axisLineSettings.dashArray,"stroke-width":n.axisLineSettings.width},n.enableCanvasRendering?this.canvasDrawLine(i):this.drawLine(i))},u.prototype.drawColumnSeries=function(t){var f,u,r=this.model,c=t.length,w=n.compareExtend({},[],t),b=r.border.width,l,k=r.opacity,a,d=r.fill,g=r.border.color,o=r.highPointColor,s=r.lowPointColor,v=r.startPointColor,y=r.endPointColor,p=r.negativePointColor,e,h,i;for((o||s)&&(h=w.map(function(n){return n.location.markerPos}),a=Math.min.apply(null,h),l=Math.max.apply(null,h)),r.enableCanvasRendering==!1&&(e=this.createGroup({id:this.container.id+"sparkcolumnSeries"}),this.setStyles({"clip-path":"url(#"+this.container.id+"_sparklineRect)"},e),this.container.appendChild(e)),i=0;i<c;i++)u=t[i].location,f={id:this.container.id+"_column_series_"+i,x:u.X,y:u.Y,height:u.height,width:u.width,fill:d,stroke:g,opacity:k,"stroke-width":b},u.markerPos==a&&o?(f.fill=o,this.highPointIndex=i):u.markerPos==l&&s?(f.fill=s,this.lowPointIndex=i):i==0&&v?(f.fill=v,this.startPointIndex=i):i==c-1&&y?(f.fill=y,this.endPointIndex=i):u.markerPos>=this.axisHeight&&p&&(f.fill=p,this.negativePointIndexes.push(i)),r.enableCanvasRendering?this.canvasDrawRectangle(f):this.drawRect(f,e),u.X+=u.width/2},u.prototype.drawWinlossSeries=function(n){var f,i,t=this.model,s=t.border.width,e=t.padding,h=t.border.color,c=t.opacity,l=n.length,o=parseInt(t.size.height)-e*2,u,r;for(t.enableCanvasRendering==!1&&(u=this.createGroup({id:this.container.id+"sparkwinlossSeries"}),this.setStyles({"clip-path":"url(#"+this.container.id+"_sparklineRect)"},u),this.container.appendChild(u)),r=0;r<l;r++)i=n[r].location,f={id:this.container.id+"_winloss_series_"+r,x:i.X,y:i.Y,height:i.height,width:i.width,fill:i.Y<o/2+e?i.Y>o/4+e?"#EE82EE":t.fill:t.negativePointColor?t.negativePointColor:"#FF0000",stroke:h,opacity:c,"stroke-width":s},t.enableCanvasRendering?this.canvasDrawRectangle(f):this.drawRect(f,u)},u.prototype.drawAreaSeries=function(n){for(var r="",e=this.axisHeight,t=this.model,f,u,i=0,o=n.length;i<o;i++)i==0&&(r="M "+n[0].location.X+" "+e+" "),r+="L "+n[i].location.X+" "+n[i].location.Y+" ",i==o-1&&(r+="L "+n[i].location.X+" "+e+" Z");f={id:this.container.id+"_area_series_fill",fill:t.fill,stroke:t.stroke?t.stroke:t.fill,"fill-opacity":t.opacity,"stroke-width":t.width,d:r};t.enableCanvasRendering?this.canvasDrawPath(f):(u=this.createGroup({id:"sparkAreaSeries"}),this.container.appendChild(u),this.drawPath(f,u),this.setStyles({"clip-path":"url(#"+this.container.id+"_sparklineRect)"},u))},u.prototype.drawLineSeries=function(n){for(var f,u="",t=this.model,r,i=0,e=n.length;i<e;i++)i==0&&(u="M "+n[0].location.X+" "+n[i].location.Y+" "),u+="L "+n[i].location.X+" "+n[i].location.Y+" ";f={id:this.container.id+"_Line_series",fill:"transparent",stroke:t.stroke?t.stroke:t.fill,opacity:t.opacity,"stroke-width":t.width,d:u};t.enableCanvasRendering?this.canvasDrawPath(f):(r=this.createGroup({id:"sparklineSeries"}),this.container.appendChild(r),this.drawPath(f,r),this.setStyles({"clip-path":"url(#"+this.container.id+"_sparklineRect)"},r))},u.prototype.drawMarker=function(i){var a=i.length,f,o=this.model.markerSettings,u=this.model,g=n.compareExtend({},[],i),nt=o.fill?o.fill:u.fill,tt=o.border.color,v=o.width,it=o.opacity,y=o.border.width,e,p,w,h=u.highPointColor,c=u.lowPointColor,b=u.startPointColor,k=u.endPointColor,d=u.negativePointColor,s,l,r,rt;for(u.enableCanvasRendering==!1&&(s=this.createGroup({id:this.container.id+"sparkmarkers"}),this.setStyles({"clip-path":"url(#"+this.container.id+"_sparklineRect)"},s),this.container.appendChild(s)),(o.visible==!1||u.type==t.Pie||u.type==t.WinLoss)&&(v=0,y=0),(h||c)&&(l=g.map(function(n){return n.location.markerPos}),w=Math.min.apply(null,l),p=Math.max.apply(null,l)),r=0;r<a;r++)e=i[r].location,rt=e.width!=undefined?e.width/2:0,f={id:this.container.id+"_marker_"+r,cx:e.X,cy:e.markerPos,r:v,fill:nt,stroke:tt,opacity:it,"stroke-width":y},e.markerPos==w&&h?(f.fill=h,this.highPointIndex=r):e.markerPos==p&&c?(f.fill=c,this.lowPointIndex=r):r==0&&b?(f.fill=b,this.startPointIndex=r):r==a-1&&k?(f.fill=k,this.endPointIndex=r):e.markerPos>this.axisHeight&&d&&(f.fill=d,this.negativePointIndexes.push(r)),this.model.enableCanvasRendering?this.canvasDrawCircle(f):this.drawCircle(f,s)},u.prototype.drawLine=function(n){var t=document.getElementById(n.id);t||(t=document.createElementNS(this.svgLink,"line"));this.setAttributes(n,t);this.container.appendChild(t)},u.prototype.drawCircle=function(n,t){t=!t?this.container:t;var i=document.getElementById(n.id);i||(i=document.createElementNS(this.svgLink,"circle"));this.setAttributes(n,i);t.appendChild(i)},u.prototype.drawPolyLine=function(n){var t=document.getElementById(n.id);t||(t=document.createElementNS(this.svgLink,"polyline"));this.setAttributes(n,t);this.container.appendChild(t)},u.prototype.drawPath=function(n,t){t=!t?this.container:t;var i=document.getElementById(n.id);i||(i=document.createElementNS(this.svgLink,"path"));this.setAttributes(n,i);t.appendChild(i)},u.prototype.drawRect=function(n,t){t=!t?this.container:t;var i=document.getElementById(n.id);i||(i=document.createElementNS(this.svgLink,"rect"));this.setAttributes(n,i);t.appendChild(i)},u.prototype.createGroup=function(n){var t=document.createElementNS(this.svgLink,"g");return this.setAttributes(n,t),t},u.prototype.createText=function(n,t){var i=document.createElementNS(this.svgLink,"text");return this.setAttributes(n,i),t&&(i.textContent=t),i},u.prototype.canvasDrawLine=function(n,t){var i=t?t:this.ctx;i.save();i.beginPath();i.lineWidth=n["stroke-width"];i.strokeStyle=n.stroke;i.moveTo(n.x1,n.y1);i.lineTo(n.x2,n.y2);i.stroke();i.restore();this.dataURL=this.container.toDataURL()},u.prototype.canvasDrawRectangle=function(n,t){var i=t?t:this.ctx,u=t?t:this.ctx,r;i.save();i.beginPath();i.globalAlpha=n.opacity;i.lineWidth=n["stroke-width"];r=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1;r&&this.ctx.setLineDash(r);i.strokeStyle=n.stroke;i.rect(n.x,n.y,n.width,n.height);n.fill=="none"&&(n.fill="transparent");i.fillStyle=n.fill;i.fillRect(n.x,n.y,n.width,n.height);i.stroke();i.restore();i=u;this.dataURL=this.container.toDataURL()},u.prototype.canvasDrawPath=function(n,t){var c=n.d,u=c.split(" "),h=n["stroke-width"],i=t?t:this.ctx,l=t?t:this.ctx,o,s,r,f,e;for(i.save(),i.beginPath(),i.globalAlpha=n.opacity?n.opacity:n["fill-opacity"],o=!0,i.lineWidth=h,s=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1,s&&i.setLineDash(s),i.strokeStyle=n.stroke,r=0;r<u.length;r=r+3){f=parseFloat(u[r+1]);e=parseFloat(u[r+2]);switch(u[r]){case"M":n.innerR||n.cx||i.moveTo(f,e);break;case"L":n.innerR||i.lineTo(f,e);break;case"C":i.bezierCurveTo(f,e,parseFloat(u[r+3]),parseFloat(u[r+4]),parseFloat(u[r+5]),parseFloat(u[r+6]));r=r+4;break;case"A":n.innerR?o&&(i.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),i.arc(n.x,n.y,n.innerR,n.end,n.start,!n.counterClockWise),o=!1):n.cx?i.arc(n.cx,n.cy,n.radius,0,2*Math.PI,n.counterClockWise):(i.moveTo(n.x,n.y),i.arc(n.x,n.y,n.radius,n.start,n.end,n.counterClockWise),i.lineTo(n.x,n.y));r=r+5;break;case"Z":i.closePath()}}n.fill!="none"&&n.fill!=undefined&&(i.fillStyle=n.fill,i.fill());h>0&&i.stroke();i.restore();i=l;this.dataURL=this.container.toDataURL()},u.prototype.canvasDrawCircle=function(n,t){var i=t?t:this.ctx,u=t?t:this.ctx,r;i.save();i.beginPath();i.arc(n.cx,n.cy,n.r,0,2*Math.PI);i.fillStyle=n.fill;i.globalAlpha=n.opacity;i.fill();i.lineWidth=n["stroke-width"];r=n["stroke-dasharray"]?n["stroke-dasharray"].split(","):!1;r&&i.setLineDash(r);i.strokeStyle=n.stroke;i.stroke();i.restore();i=u;this.dataURL=this.container.toDataURL()},u.prototype.canvasDrawPolyline=function(n,t){var i=t?t:this.ctx,u,r;for(i.save(),i.beginPath(),u=n.points.split(" "),r=0;r<u.length-1;r++){var f=u[r].split(","),e=f[0],o=f[1];r==0?i.moveTo(e,o):i.lineTo(e,o)}i.lineWidth=n["stroke-width"];i.strokeStyle=n.stroke;i.stroke();i.restore();this.dataURL=this.container.toDataURL()},u.prototype.canvasDrawText=function(n,t,i){var e=n.font,u=n["text-anchor"],o=n.opacity!==undefined?n.opacity:1,r,f;u=="middle"&&(u="center");r=i?i:this.ctx;r.save();r.fillStyle=n.fill;r.font=e;r.textAlign=u;r.globalAlpha=o;n.baseline&&(r.textBaseline=n.baseline);f=0;n.labelRotation==90&&n.id.indexOf("XLabel")!=-1&&(f=r.measureText(t).width);r.translate(n.x+f/2,n.y);r.rotate(n.labelRotation*Math.PI/180);r.fillText(t,0,0);r.restore();this.dataURL=this.container.toDataURL()},u.prototype.parseTemplate=function(n,t){var i,e,o,u,r,f;for(i=n.innerHTML,e=Object.values(t),o=e[0],r=0,f=Object.entries(o);r<f.length;r++){var s=f[r],h=s[0],c=s[1];u="#point."+h+"#";i.search(u)!=-1&&(i=i.replace(u,c))}return i},u.prototype.measureText=function(n,t){var e=document.getElementById("measureTex"),i,u,f,r;e&&e.clientHeight!=0?i=e:(i=document.createElement("text"),i.setAttribute("id","measureTex"),document.body.appendChild(i));var o=null,s=null,h=null,c=null;if(typeof n=="string"&&(n.indexOf("<")>-1||n.indexOf(">")>-1)){for(u=n.split(" "),f=0;f<u.length;f++)u[f].indexOf("<br/>")==-1&&(u[f]=u[f].replace(/[<>]/g,"&"));n=u.join(" ")}return i.innerHTML=n,t!=undefined&&t.size==undefined&&(r=t,r=r.split(" "),o=r[0],s=r[1],h=r[2],c=r[3]),t!=null&&(i.style.fontSize=t.size>0?t.size+"px":t.size?t.size:s,i.style.fontStyle&&(i.style.fontStyle=t.fontStyle?t.fontStyle:o),i.style.fontFamily=t.fontFamily?t.fontFamily:h,window.navigator.userAgent.indexOf("MSIE 8.0")==-1&&(i.style.fontWeight=t.fontWeight?t.fontWeight:c)),i.style.backgroundColor="white",i.style.position="absolute",i.style.top="-100px",i.style.left="0px",i.style.visibility="hidden",i.style.whiteSpace="nowrap",{width:i.offsetWidth,height:i.offsetHeight}},u}(ej.WidgetBase);n.Sparkline=r;ej.widget("ejSparkline","ej.Sparkline",new r)}(jQuery);n.deepExtend=function(t){var u,i,r;for(t=t||{},u=1;u<arguments.length;u++)if(i=arguments[u],i)for(r in i)i.hasOwnProperty(r)&&(t[r]=typeof i[r]=="object"?n.deepExtend(t[r],i[r]):i[r]);return t};n.compareExtend=function(t,i,r){var e,o,u,f;if(typeof r=="object"&&r!==null)for(e=Object.keys(r),o=e.length,f=0;f<o;f++)u=e[f],i.hasOwnProperty(u)&&i[u]!=null?(Array.isArray(i[u])||typeof i[u]=="object"&&i[u]!==null)&&n.compareExtend({},i[u],r[u]):i[u]=r[u];return i}}(ejSparkline||(ejSparkline={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var s,a,h,v,r,e,i,t,l,u,f,y,o,c,p;(function(n){n[n.left="left"]="left";n[n.right="right"]="right";n[n.center="center"]="center"})(n.sunburstHorizontalAlignment||(n.sunburstHorizontalAlignment={}));s=n.sunburstHorizontalAlignment,function(n){n[n.circle="circle"]="circle";n[n.diamond="diamond"]="diamond";n[n.cross="cross"]="cross";n[n.pentagon="pentagon"]="pentagon";n[n.rectangle="rectangle"]="rectangle";n[n.triangle="triangle"]="triangle"}(n.sunburstLegendShape||(n.sunburstLegendShape={}));a=n.sunburstLegendShape,function(n){n[n.top="top"]="top";n[n.bottom="bottom"]="bottom";n[n.middle="middle"]="middle"}(n.sunburstVerticalAlignment||(n.sunburstVerticalAlignment={}));h=n.sunburstVerticalAlignment,function(n){n[n.flatlight="flatlight"]="flatlight";n[n.flatdark="flatdark"]="flatdark"}(n.sunburstTheme||(n.sunburstTheme={}));v=n.sunburstTheme,function(n){n[n.opacity="opacity"]="opacity";n[n.color="color"]="color"}(n.sunburstHighlightType||(n.sunburstHighlightType={}));r=n.sunburstHighlightType,function(n){n[n.rotation="rotation"]="rotation";n[n.fadeIn="fadeIn"]="fadeIn"}(n.sunburstAnimationType||(n.sunburstAnimationType={}));e=n.sunburstAnimationType,function(n){n[n.opacity="opacity"]="opacity";n[n.color="color"]="color"}(n.sunburstSelectionType||(n.sunburstSelectionType={}));i=n.sunburstSelectionType,function(n){n[n.top="top"]="top";n[n.bottom="bottom"]="bottom";n[n.left="left"]="left";n[n.right="right"]="right";n[n.float="float"]="float"}(n.sunburstLegendPosition||(n.sunburstLegendPosition={}));t=n.sunburstLegendPosition,function(n){n[n.none="none"]="none";n[n.toggleSegmentVisibility="toggleSegmentVisibility"]="toggleSegmentVisibility";n[n.toggleSegmentSelection="toggleSegmentSelection"]="toggleSegmentSelection"}(n.sunburstLegendClickAction||(n.sunburstLegendClickAction={}));l=n.sunburstLegendClickAction,function(n){n[n.near="near"]="near";n[n.far="far"]="far";n[n.center="center"]="center"}(n.sunburstAlignment||(n.sunburstAlignment={}));u=n.sunburstAlignment,function(n){n[n.point="point"]="point";n[n.all="all"]="all";n[n.child="child"]="child";n[n.parent="parent"]="parent"}(n.sunburstHighlightMode||(n.sunburstHighlightMode={}));f=n.sunburstHighlightMode,function(n){n[n.point="point"]="point";n[n.all="all"]="all";n[n.child="child"]="child";n[n.parent="parent"]="parent"}(n.sunburstSelectionMode||(n.sunburstSelectionMode={}));y=n.sunburstSelectionMode,function(n){n[n.trim="trim"]="trim";n[n.hide="hide"]="hide";n[n.none="none"]="none"}(n.sunburstLabelOverflowMode||(n.sunburstLabelOverflowMode={}));o=n.sunburstLabelOverflowMode,function(n){n[n.angle="angle"]="angle";n[n.normal="normal"]="normal"}(n.sunburstLabelRotationMode||(n.sunburstLabelRotationMode={}));c=n.sunburstLabelRotationMode,function(n){n[n.center="center"]="center";n[n.near="near"]="near";n[n.far="far"]="far"}(n.titleAlignment||(n.titleAlignment={}));p=n.titleAlignment,function(p){var w=function(w){function b(p,b){w.call(this);this.defaults={enableAnimation:!1,load:null,preRender:null,loaded:null,dataLabelRendering:null,titleRendering:null,tooltipInitialize:null,pointRegionClick:null,drillDownClick:null,drillDownBack:null,drillDownReset:null,pointRegionMouseMove:null,legendItemRendering:null,legendItemClick:null,segmentRendering:null,animationType:e.rotation,palette:null,opacity:1,valueMemberPath:null,margin:{top:10,bottom:10,left:10,right:10},points:{x:null,y:null,text:null,fill:null},border:{color:null,width:2},segmentBorder:{color:null,width:2},startAngle:null,endAngle:null,dataSource:null,isResponsive:!0,size:{height:"",width:""},innerRadius:.4,radius:1,tooltip:{visible:!1,border:{color:"#707070",width:1},fill:"#FFFFFF",opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:"#707070",opacity:1,size:"12px"},template:null,format:"#point.x# : #point.y#"},dataLabelSettings:{visible:!1,labelRotationMode:c.angle,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,opacity:1,size:"12px"},template:null,fill:null,labelOverflowMode:o.trim},title:{text:"",textAlignment:u.center,font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",color:null,opacity:1,size:"20px"},subtitle:{visible:!0,textAlignment:u.far,text:"",font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",color:null,opacity:1,size:"12px"}},visible:!0},zoomSettings:{enable:!1,toolbarHorizontalAlignment:s.right,toolbarVerticalAlignment:h.top},highlightSettings:{enable:!1,mode:f.point,opacity:.5,color:"red",type:r.opacity},selectionSettings:{enable:!1,mode:y.point,opacity:.5,color:"green",type:i.opacity},levels:null,legend:{clickAction:l.toggleSegmentVisibility,visible:!1,position:t.bottom,rowCount:null,columnCount:null,shape:a.circle,alignment:u.center,title:{font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",color:null,opacity:1,size:"12px"},text:"",textAlignment:u.center,visible:!0},itemStyle:{height:7.5,width:7.5},itemPadding:10,size:{height:null,width:null},border:{color:null,width:1},font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",color:null,opacity:1,size:"12px"},location:{x:null,y:null}},theme:v.flatlight,background:null};this.model=null;this.svgLink="http://www.w3.org/2000/svg";this.elementSpacing=10;this._id=null;this._legendHighlight=!1;this.legendClicked=!1;this._legendMaxWidth=0;this._legendMaxHeight=0;this._drillInnerRadius=[];this._drillOuterRadius=[];this.common={data:null,cancel:!1};this.legendPages=[];this.groupID=[];this.highlightgroupID=[];this.selectedgroupID=[];this.baseID=null;this._previousState=[];this._drillDownStartAngle=[];this._drillDownEndAngle=[];this._sunburstRedraw=!1;this._isDoubleClickEvent=!1;this.tapCount=0;this.drilldownCount=0;this.tapped=0;this._points=[];this.visiblePoints=[];this.parentNames=[];this.levelNames=[];this.isResize=!1;this.revAnimation=!1;this.validTags=["div"];this._id=p;!b||(this.model=n.compareExtend({},b,this.defaults))}return __extends(b,w),b.prototype._destroy=function(){var n;n=document.getElementById(this.container.id);this.isNullOrUndefined(n)||(this.unBindEvents(this.parentElement),this.unbindResizeEvents(),n.parentNode.removeChild(n))},b.prototype.unBindEvents=function(n){var t="",r=this.browserInfo(),u=r.isMSPointerEnabled,f=r.pointerEnabled,e=u?f?"pointerup":"MSPointerUp":"touchend mouseup",o=u?f?"pointermove":"MSPointerMove":"touchmove mousemove",i;for(t=o,t=t.split(" "),i=0;i<t.length;i++)n.removeEventListener(t[i],this.sunburstMousemove),n.removeEventListener(e,this.sunburstLeave);n.removeEventListener("mouseout",this.sunburstLeave);n.removeEventListener("dblclick",this.sunburstChartDoubleClick);n.removeEventListener("contextmenu",this.sunburstChartRightClick)},b.prototype.unbindResizeEvents=function(){ej.isTouchDevice()&&this._isOrientationSupported()?window.removeEventListener("orientationchange",this.sunBurstResize):window.removeEventListener("resize",this.sunBurstResize)},b.prototype._setModel=function(t){for(var i in t)switch(i){default:n.deepExtend(!0,this.model,{},t[i])}this.redraw()},b.prototype.supportSVG=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg")},b.prototype._init=function(){if(this.supportSVG()){var n=void 0,r=void 0,t=void 0,i=void 0;this._startAngle=this.model.startAngle;this._endAngle=this.model.endAngle;this.isResize||(this._enableAnimation=this.model.enableAnimation,this._drillDownStartAngle=[],this._drillDownEndAngle=[],this._drillInnerRadius=[],this._drillOuterRadius=[]);r=p.extend({},this.common);this._trigger("load",r);this.parentElement=this.isNullOrUndefined(this.parentElement)?document.getElementById(this._id):this.parentElement;n=this.createSvg({id:this._id+"_svg"});this.container=n;this.parentElement.appendChild(n);this.setSvgsize(this.model.size,this._id);this._sunburstRedraw==!1&&this.bindEvents(this.parentElement);this.isResize?this.isResize=this.isResize?!1:!0:(!this.isNullOrUndefined(this.model.dataSource)&&this.model.dataSource.length>0&&this.processDataSource(this.model.dataSource),this.setColors(this.model.points),this._previousState.push(this.model.points),this.processData(this.model.points));t=p.extend({},this.common);t.data={};this._trigger("preRender",t);this.drawSunburst(this.layerData);this._isDrillDown&&this.drawToolbar(n);i=p.extend({},this.common);i.data={model:this.model};this._trigger("loaded",i)}else alert("Sunburst will not be support in IE version < 8")},b.prototype.drawSunburst=function(n){var s,h,f,t,o,i=this.model.title,c=this.model.legend,l=this.model.dataLabelSettings,v=this.model.enableAnimation,r,u,a;s=this.drawContainerRect();document.getElementById(this._id+"_svg").appendChild(s);c.visible&&!this.legendClicked&&this.calculateLegendBounds();o={width:this.width,height:this.height};i.text!=""&&i.visible&&(h=this.drawTitle(i,o),document.getElementById(this._id+"_svg").appendChild(h));this.areaBounds=this.calculateSize(o,i);f=this.sunburstRender(n);document.getElementById(this._id+"_svg").appendChild(f);this._enableAnimation&&(r=void 0,this.groupingRegions(this.model.points),this.animationRegions.length>0&&(this.model.animationType==e.rotation?this._isDrillDown?this.rotateDrillDownAnimation(this,this.animationRegions):this.rotateAnimation(this,this.animationRegions):(this.totallayerCount>1?(u=this.animationRegions[0].length,r=this.animationRegions[0][u-1].endAngle):(u=this.animationRegions.length,r=this.animationRegions[u-1][0].endAngle),this.animateLayer(this,f,this.animationRegions[0],0,0,r))));l.visible&&(t=this.drawDatalabel(n),l.template==null?(this._enableAnimation&&t.setAttribute("visibility","hidden"),document.getElementById(this._id+"_svg").appendChild(t)):this._enableAnimation&&(document.getElementById(t.id).style.visibility="hidden"),this.sunburstDoubleClick=this.sunburstDoubleClick.bind(this),document.getElementById(t.id).addEventListener("dblclick",this.sunburstDoubleClick,!0));c.visible&&(this.gLegendElement=this.createGroup({id:this._id+"SunburstLegend"}),this.model.legendInitialize&&(a=p.extend({},this.common),this._trigger("legendInitialize",a)),this.drawSunburstLegend())},b.prototype.animateLayer=function(n,t,i,r,u,f){var h=i[r].startAngle,o=i[r].endAngle,w,e,a,g,nt,c,b,k,s,v=h,l,y,p=0,d=50;w=(o-h)/Math.ceil(d*(o-h)/f);y=n.model.opacity/2/Math.ceil(d*(o-h)/f);e=i[r];this.layerAnimate=setInterval(function(){a=e.layerNumber;g=e.layerIndex;nt=e.pointIndex;k=n.circularRadius[a-1];l=e.id;v=v+w;c=v;e.endAngle=c>o?o:c;n.isNullOrUndefined(n.model)?clearInterval(n.layerAnimate):(b=n.calculateArcData(e,a,k),s=t.querySelector("#"+l),p+=y,s&&(s.setAttribute("d",b.Direction),s.setAttribute("opacity",p.toString())),document.getElementById(l).getAttribute("visibility")=="hidden"&&document.getElementById(l).setAttribute("visibility","visible"),c>=o&&(clearInterval(n.layerAnimate),n.fadeIn(s,p,n,y),r=r+1,r<i.length?n.animateLayer(n,t,i,r,u,f):(r=0,u=u+1,u<n.animationRegions.length?n.animateLayer(n,t,n.animationRegions[u],r,u,f):n.model.dataLabelSettings.visible&&(document.getElementById(n._id+"_svg_DataLabelGroup").style.visibility="visible"))))},10)},b.prototype.fadeIn=function(n,t,i){var r=setInterval(function(){t=t+.1;n.setAttribute("opacity",t.toString());(i.model==null||t>=i.model.opacity)&&clearInterval(r)},50)},b.prototype.rotateAnimation=function(n,t){var y=t.length,r=0,e,h,u,f,l,i=0,a,v,o,c,s=0;l=document.getElementById(n._id+"_svg");f=n.model.startAngle||0;u=n.model.endAngle||360;o=Math.abs(u-f);c=10/o;r=20/360*o+f;y>0&&(this.rotateAnimate=setInterval(function(){if(n.model){if(e=document.getElementById(n._id+"_svg_SunBurstElementGroup"),e!=null&&e.parentNode.removeChild(e),n.model.startAngle=f,n.model.endAngle=r>u?u:r,n._enableAnimation=!1,h=n.sunburstRender(n.layerData),l.appendChild(h),i=i+c,i=i>1?1:i,a=n.width/2*(1-i),v=n.height/2*(1-i),h.setAttribute("transform","translate("+a+","+v+") scale("+i+")"),r>=u&&(clearInterval(n.rotateAnimate),n.rotateAnimate=undefined,n._enableAnimation=!0,n.model.startAngle=f,n.model.endAngle=u,n.model.dataLabelSettings.visible)){var t=document.getElementById(n._id+"_svg_DataLabelGroup"),y=.1;n.model.dataLabelSettings.template==null?document.getElementById(n._id+"_svg").appendChild(t):document.getElementById(n._id).appendChild(t);t.style.visibility="visible";t.style.opacity=y.toString();n.dLAnimate=setInterval(function(){t.style.opacity=y.toString();y=y+.05;y>1&&clearInterval(n.dLAnimate)},10)}r=r+(10-s);s=s+.1;c=1/(o/10-s)}else clearInterval(n.rotateAnimate)},25))},b.prototype.rotateDrillDownAnimation=function(n,t){var w=t.length,s=0,h=0,c,l,i,r,a,f=0,v,y,o=1,u=.05,e=0,p;a=document.getElementById(n._id+"_svg");r=n.model.startAngle||0;i=n.model.endAngle||360;s=f=n._drillDownStartAngle[n.drilldownCount-1];h=e=n._drillDownEndAngle[n.drilldownCount-1];v=(s-r)/20;y=(i-h)/20;w>0&&(p=setInterval(function(){var t,w,b;c=document.getElementById(n._id+"_svg_SunBurstElementGroup");c.parentNode.removeChild(c);n.model.startAngle=f<r?r:f;n.model.endAngle=e>i?i:e;n._enableAnimation=!1;l=n.sunburstRender(n.layerData);a.appendChild(l);f<=r&&e>=i&&(clearInterval(p),n._enableAnimation=!0,n.model.startAngle=r,n.model.endAngle=i,n.model.dataLabelSettings.visible&&(t=document.getElementById(n._id+"_svg_DataLabelGroup"),w=.1,n.model.dataLabelSettings.template==null?document.getElementById(n._id+"_svg").appendChild(t):document.getElementById(n._id).appendChild(t),t.style.visibility="visible",t.style.opacity=w.toString(),b=setInterval(function(){t.style.opacity=w.toString();w=w+.05;w>1&&clearInterval(b)},10)));o=o+(1-u);u=u+.015;u=u>.7?.7:u;f=s-v*o;e=h+y*o},25))},b.prototype.groupingRegions=function(){var o=this.sunburstRegions,n,t,r=this.sunburstRegions[this.sunburstRegions.length-1].region,u=[],f,i;for(this.animationRegions=[],u.push(r),i=0;i<r.length;i++)o.length>1?(n=[],t=this.layerData[r[i].layerIndex].point[r[i].pointIndex],f=t.groupNumber,this.isNullOrUndefined(t.point)||this.findChildRegions(t.point,n,t.layerNumber,u,f),this.model.animationType==e.rotation?(n.splice(0,0,t),t.count=0,t.groupLength=n.length,this.animationRegions.push(n)):this.animationRegions=u):(n=[],n.push(r[i]),this.animationRegions.push(n))},b.prototype.findChildRegions=function(n,t,i,r,u){for(var f=0;f<n.length;f++)n[f].pointIndex=f,n[f].layerNumber=this.layerData[n.layerData].layerNumber,n[f].groupNumber=u,n[f].count=0,this.model.animationType==e.rotation?t.push(n[f]):(this.isNullOrUndefined(r[n[f].layerNumber-1])&&(r[n[f].layerNumber-1]=[]),r[n[f].layerNumber-1].push(n[f])),this.isNullOrUndefined(n[f].point)||this.findChildRegions(n[f].point,t,i,r,u)},b.prototype.bindEvents=function(n){var t="",r="",u=this.browserInfo(),f=ej.isDevice(),e=u.isMSPointerEnabled,o=u.pointerEnabled,s=e?o?"pointerup":"MSPointerUp":"touchend mouseup",h=e?o?"pointermove":"MSPointerMove":"touchmove mousemove",i;for(t=h,t=t.split(" "),this.sunburstMousemove=this.sunburstMousemove.bind(this),this.sunburstClick=this.sunburstClick.bind(this),this.sunburstChartDoubleClick=this.sunburstChartDoubleClick.bind(this),this.sunburstChartRightClick=this.sunburstChartRightClick.bind(this),n.addEventListener("click",this.sunburstClick,!0),this.sunburstLeave=this.sunburstLeave.bind(this),i=0;i<t.length;i++)(n.addEventListener(s,this.sunburstLeave),r=t[i],f&&r=="mousemove")||n.addEventListener(r,this.sunburstMousemove);f&&n.addEventListener("mousedown",this.sunburstMousemove);n.addEventListener("mouseout",this.sunburstLeave,!0);this.getIEversion()!=-1&&(this.sunburstDoubletap=this.sunburstDoubletap.bind(this),n.addEventListener("pointerdown",this.sunburstDoubletap,!0));this.model.isResponsive&&this.bindResizeEvents();n.addEventListener("dblclick",this.sunburstChartDoubleClick,!0);n.addEventListener("contextmenu",this.sunburstChartRightClick,!0)},b.prototype.browserInfo=function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n},b.prototype.sunburstChartDoubleClick=function(n){if(this.model.doubleClick!=""){var t=p.extend({},this.common);t.model=this.model;t.event=n;this._trigger("doubleClick",t)}},b.prototype.sunburstChartRightClick=function(n){if(this.model.rightClick!=""){var t=p.extend({},this.common);t.model=this.model;t.event=n;this._trigger("rightClick",t)}},b.prototype.sunburstDoubletap=function(n){var t=n.target.id,i;t.indexOf("reset")==-1&&t.indexOf("back")==-1&&(n.preventDefault(),this.tapped=this.tapped+1,i=this.tapped)},b.prototype.bindResizeEvents=function(){this.sunBurstResize=this.sunBurstResize.bind(this);ej.isTouchDevice()&&this._isOrientationSupported()?window.addEventListener("orientationchange",this.sunBurstResize,!0):window.addEventListener("resize",this.sunBurstResize.bind(this),!0)},b.prototype._isOrientationSupported=function(){return"orientation"in window&&"onorientationchange"in window},b.prototype.sunBurstResize=function(){var n=this,t=p(n.container);this._resizeTO&&clearTimeout(this._resizeTO);this._resizeTO=setTimeout(function(){n.model&&(n.isResize=!0,n.isNullOrUndefined(document.getElementById(n._id+"reset"))||(n._isDrillDown=!0),n.legendClicked=!0,n._enableAnimation=!1,n.redraw(),n._enableAnimation=n.model.enableAnimation,n._isDrillDown=!1,n.legendClicked=!1)},500)},b.prototype.getIEversion=function(){var i=-1,n,t;return navigator.appName=="Microsoft Internet Explorer"?(n=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),t.exec(n)!=null&&(i=parseFloat(RegExp.$1))):navigator.appName=="Netscape"&&(n=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),t.exec(n)!=null&&(i=parseFloat(RegExp.$1))),i},b.prototype.sunburstDoubleClick=function(n){var t;this.model.zoomSettings.enable&&(t=this.getSunburstPoint(n),this.isNullOrUndefined(t)||(t.pointData[0].layerNumber==1?this.drilldownCount==0&&this.drillDown(t):this.drillDown(t)))},b.prototype.drillDown=function(n){var t,u=[],f,i,o,s,r,h,c;i=document.getElementById(this._id+"_svg");i.parentNode.replaceChild(i.cloneNode(!1),i);t=this.layerData[n.pointData[0].layerIndex].point[n.pointData[0].pointIndex];this.drilldownCount=this.drilldownCount+1;this._drillDownStartAngle.push(t.startAngle*180/Math.PI);this._drillDownEndAngle.push(t.endAngle*180/Math.PI);this._isDrillDown=!0;this._isDoubleClickEvent=!0;this.model.enableAnimation&&this.model.animationType==e.rotation&&(r=n.pointData[0].layerNumber,r==1?(this._drillInnerRadius.push(this.innerRadius),this._drillOuterRadius.push(this.circularRadius)):(h=this.innerRadius.slice(r-1,this.innerRadius.length),c=this.circularRadius.slice(r-1,this.circularRadius.length),this._drillInnerRadius.push(h),this._drillOuterRadius.push(c)));f=this.isNullOrUndefined(this.model.dataSource)?{fill:n.pointData[0].fill,x:n.pointData[0].x,y:n.pointData[0].y,point:t.point,text:n.pointData[0].text}:{fill:n.pointData[0].fill,x:n.pointData[0].x,parentChildName:n.pointData[0].parentChildName,y:n.pointData[0].y,point:t.point,text:n.pointData[0].text};this.model.drillDownClick&&(o=p.extend({},this.common),o.data=f,this._trigger("drillDownClick",o));u.push(f);this._previousState.push(u);this.processData(u);this.drawSunburst(this.layerData);this._isDrillDown=!1;this.isNullOrUndefined(document.getElementById(this._id+"reset"))&&(s=document.getElementById(this._id+"_svg"),this.drawToolbar(s))},b.prototype.drawToolbar=function(n){var t,i,r;r=n.getBoundingClientRect();i=this.drawResetButton(r);n.appendChild(i);this.reset=this.reset.bind(this);document.getElementById(this._id+"reset").addEventListener("click",this.reset,!0);t=this.drawBackButton(r);n.appendChild(t);this.back=this.back.bind(this);document.getElementById(this._id+"back").addEventListener("click",this.back,!0);ej.isDevice()||(document.getElementById(this._id+"back").addEventListener("mousemove",this.sunburstMousemove,!0),document.getElementById(this._id+"reset").addEventListener("mousemove",this.sunburstMousemove,!0));this.toolbarPositioning(t,i)},b.prototype.toolbarPositioning=function(n,t){var e,o,u,f,c,r,i=this.elementSpacing,l=this.model.zoomSettings.toolbarHorizontalAlignment,a=this.model.zoomSettings.toolbarVerticalAlignment;r=n.getBoundingClientRect();c=t.getBoundingClientRect();l==s.right?(o=this.width-i-c.width,u=this.width-2*i-2*c.width):l==s.left?(u=i,o=r.width+2*i):l==s.center&&(u=this.width/2-(r.width+i+c.width)/2,o=u+i+r.width);a==h.top?f=i:a==h.bottom?f=this.height-i-r.height:a==h.middle&&(f=this.height/2-r.height/2);e="translate("+o.toString()+","+f.toString()+")";t.setAttribute("transform",e);e="translate("+u.toString()+","+f.toString()+")";n.setAttribute("transform",e)},b.prototype.drawBackButton=function(){var n,t,i;return i=this.createGroup({id:this._id+"back"}),n={id:this._id+"backPath",d:"M24,27H3c-1.7,0-3-1.3-3-3V3c0-1.7,1.3-3,3-3h21c1.7,0,3,1.3,3,3v21C27,25.7,25.7,27,24,27z",fill:"#D6D6D6"},t=this.drawPath(n),i.appendChild(t),n={id:this._id+"backPath1",x:7.7,y:12.5,width:13.8,height:2,fill:"#5E5C5C"},t=this.drawRect(n),i.appendChild(t),n={id:this._id+"backPath2",points:"11.4,19.8 5.5,13.5 11.4,7.2 12.9,8.6 8.2,13.5 12.9,18.4",fill:"#5E5C5C"},t=this.drawPolygon(n),i.appendChild(t),i},b.prototype.back=function(){var f=this.layerData,n=document.getElementById(this._id+"_svg"),o=document.getElementById(this._id+"back"),s=document.getElementById(this._id+"reset"),u=this.model,t,i,r;this.revAnimation||(u.drillDownBack&&(i=p.extend({},this.common),i.data=f,this._trigger("drillDownBack",i)),this._enableAnimation&&u.animationType==e.rotation?(this._enableAnimation=!1,this.reverseAnimation(this,this.animationRegions)):(n.parentNode.replaceChild(n.cloneNode(!1),n),r=this._previousState.length-1,this.layerData=this._previousState[r-1],this._previousState.splice(r,1),this.drilldownCount=this.drilldownCount-1,this.processData(this.layerData),this.drawSunburst(this.layerData),this.drilldownCount!=0&&(t=document.getElementById(this._id+"_svg"),t.appendChild(s),t.appendChild(o))))},b.prototype.reverseAnimation=function(n,t){var nt=t.length,e=0,o=0,h,b,c,l,r,a,v,k,d,y=0,i,tt=document.getElementById(n._id+"back"),it=document.getElementById(n._id+"reset"),s,f,p,w,u=.1,g;r=document.getElementById(n._id+"_svg");l=n.model.startAngle||0;c=n.model.endAngle||360;e=n._drillDownStartAngle[n.drilldownCount-1];o=n._drillDownEndAngle[n.drilldownCount-1];k=(e-l)/20;d=(c-o)/20;i=document.getElementById(n._id+"_svg_DataLabelGroup");nt>0&&(g=setInterval(function(){if(n.revAnimation=!0,h=document.getElementById(n._id+"_svg_SunBurstElementGroup"),h&&h.parentNode.removeChild(h),i&&(i.style.visibility="hidden"),a=k*y+l,n.model.startAngle=a>=e?e:a,v=c-d*y,n.model.endAngle=v<o?o:v,b=n.sunburstRender(n.layerData),r.appendChild(b),v<=o&&a>=e){clearInterval(g);s=document.getElementById(n._id+"_svg_SunBurstElementGroup");s.id=n._id+"_svg_tempSeg";f=document.getElementById(n._id+"_svg_DataLabelGroup");r.parentNode.replaceChild(r.cloneNode(!1),r);document.getElementById(n._id+"_svg").appendChild(s);f&&(f.id=n._id+"_svg_tempLabel",document.getElementById(n._id+"_svg").appendChild(f));p=n._previousState.length-1;n.layerData=n._previousState[p-1];n._previousState.splice(p,1);n.model.startAngle=l;n.model.endAngle=c;n.drilldownCount=n.drilldownCount-1;n._drillDownStartAngle.length=n.drilldownCount;n._drillDownEndAngle.length=n.drilldownCount;n._drillInnerRadius.length=n.drilldownCount;n._drillOuterRadius.length=n.drilldownCount;n.processData(n.layerData);n.drawSunburst(n.layerData);n.drilldownCount!=0&&(r=document.getElementById(n._id+"_svg"),r.appendChild(it),r.appendChild(tt));n._enableAnimation=!0;w=document.getElementById(n._id+"_svg_SunBurstElementGroup");w.style.opacity=u.toString();i&&(i.style.opacity=u.toString());n.model.dataLabelSettings.visible&&(i=document.getElementById(n._id+"_svg_DataLabelGroup"),n.model.dataLabelSettings.template==null?document.getElementById(n._id+"_svg").appendChild(i):document.getElementById(n._id).appendChild(i),i.style.visibility="visible",i.style.opacity=u.toString());var t=setInterval(function(){w.style.opacity=u.toString();i&&(i.style.opacity=u.toString());u>=1&&(clearInterval(t),n.revAnimation=!1,s.parentNode.removeChild(s),f&&f.parentNode.removeChild(f));u=u+.1},50)}y=y+1},40))},b.prototype.drawResetButton=function(){var n,i,t,r;return t=this.createGroup({id:this._id+"reset"}),n={id:this._id+"resetPath",d:"M24,27H3c-1.7,0-3-1.3-3-3V3c0-1.7,1.3-3,3-3h21c1.7,0,3,1.3,3,3v21C27,25.7,25.7,27,24,27z",fill:"#D6D6D6"},i=this.drawPath(n),t.appendChild(i),n={id:this._id+"resetPath1",d:"M13.6,21.9c-3.6,0-6.8-2.3-8-5.7l1.8-0.6c0.9,2.6,3.4,4.4,6.2,4.4c3.4,0,6.2-2.6,6.5-6l1.9,0.2   C21.6,18.6,18,21.9,13.6,21.9z",fill:"#5E5C5C"},i=this.drawPath(n),t.appendChild(i),n={id:this._id+"resetPath2",d:"M7.1,12.5l-1.9-0.3c0.6-4.1,4.2-7.1,8.3-7.1c3,0,5.8,1.6,7.3,4.2c0.1,0.2,0.2,0.4,0.3,0.6l-1.7,0.8   c-0.1-0.2-0.2-0.3-0.2-0.4c-1.2-2-3.3-3.3-5.7-3.3C10.4,7,7.6,9.3,7.1,12.5z",fill:"#5E5C5C"},i=this.drawPath(n),t.appendChild(i),n={id:this._id+"resetPath3",points:"21.4,11.9 16.2,10.7 16.6,8.9 19.9,9.6 20.7,6.3 22.5,6.7",fill:"#5E5C5C"},r=this.drawPolygon(n),t.appendChild(r),n={id:this._id+"resetPath4",points:"6.3,20.3 4.5,19.9 5.6,14.8 10.8,16 10.4,17.8 7.1,17.1",fill:"#5E5C5C"},r=this.drawPolygon(n),t.appendChild(r),t},b.prototype.reset=function(){if(this.model.drillDownReset){var n=p.extend({},this.common);this._trigger("drillDownReset",n)}this.redraw()},b.prototype.redraw=function(){this.legendPages=[];this.isResize||(this.drilldownCount=0,this._previousState=[],this._drillDownStartAngle=[],this._drillDownEndAngle=[],this._drillInnerRadius=[],this._drillOuterRadius=[]);this._sunburstRedraw=!0;var n=document.getElementById(this._id+"_svg");this.isNullOrUndefined(n)||(n.parentNode.removeChild(n),(this.rotateAnimate||this.model.enableAnimation)&&this.stopAnimation(),this.parentElement=undefined,this._init(),this._sunburstRedraw=!1)},b.prototype.stopAnimation=function(){this.rotateAnimate&&(clearInterval(this.rotateAnimate),this.isResize||(this._enableAnimation=this.model.enableAnimation),this.model.startAngle=this._startAngle,this.model.endAngle=this._endAngle,this.dLAnimate&&clearInterval(this.dLAnimate));this.layerAnimate&&clearInterval(this.layerAnimate)},b.prototype.sunburstMousemove=function(n){var e=n.target.id,y,i,c,v,a,o,s,t,u,h,f;if(e.indexOf("reset")!=-1||e.indexOf("back")!=-1)if(this.toolbarTooltip(n,e),e.indexOf("reset")!=-1)for(y=document.getElementById(this._id+"reset"),t=0;t<5;t++)t==0?document.getElementById(this._id+"resetPath").setAttribute("fill","rgb(20, 185, 255)"):document.getElementById(this._id+"resetPath"+t.toString()).setAttribute("fill","#FFFFFF");else for(t=0;t<3;t++)t==0?document.getElementById(this._id+"backPath").setAttribute("fill","rgb(20, 185, 255)"):document.getElementById(this._id+"backPath"+t.toString()).setAttribute("fill","#FFFFFF");else if(document.getElementById(this._id+"toolbarTooltip")!=null&&document.getElementById(this._id+"toolbarTooltip").style.visibility!="hidden"&&(document.getElementById(this._id+"toolbarTooltip").style.visibility="hidden",document.getElementById(this._id+"reset")!=null&&document.getElementById(this._id+"back")!=null)){for(t=0;t<5;t++)t==0?document.getElementById(this._id+"resetPath").setAttribute("fill","#D6D6D6"):document.getElementById(this._id+"resetPath"+t.toString()).setAttribute("fill","#5E5C5C");for(t=0;t<3;t++)t==0?document.getElementById(this._id+"backPath").setAttribute("fill","#D6D6D6"):document.getElementById(this._id+"backPath"+t.toString()).setAttribute("fill","#5E5C5C")}if(i=this.getSunburstPoint(n),i!=undefined&&this.model.pointRegionMouseMove&&(c=p.extend({},this.common),c.data=i,this._trigger("pointRegionMouseMove",c)),!this.isNullOrUndefined(i)&&this.model.tooltip.visible){for(v={id:this._id+"_ToolTip"},this.gTransToolElement=this.createGroup(v),a={X:i.location.x,Y:Math.abs(i.location.y)},t=0;t<this.layerData.length;t++)this.layerData[t].layerNumber==i.pointData[0].layerNumber&&(this.isNullOrUndefined(i.pointData[0].parentName)?(s=this.layerData[0],o=this.layerData[0].point[i.pointData[0].pointIndex]):this.layerData[t].parentName==i.pointData[0].parentName&&(s=this.layerData[t],o=this.layerData[t].point[i.pointData[0].pointIndex]));this.model.tooltip.template?this.createTooltiptemplate(a,o,s,i):this.showTooltip(a,o,s,i)}else this.isNullOrUndefined(document.getElementById(this._id+"_ToolTip"))||(document.getElementById(this._id+"_ToolTip").style.visibility="hidden");if(this.model.highlightSettings.enable&&(u=void 0,h=this.model.highlightSettings,this.highlightSunburst(i),!this.isNullOrUndefined(i)&&this.model.legend.visible))for(f=0;f<this.model.points.length;f++)u=document.getElementById(this._id+"_svg_LegendItemShape"+f),h.type==r.opacity?this.selectedGroupNumber-1!=f&&i.pointData[0].legendIndex!=f&&(this.isNullOrUndefined(u)||(u.style.opacity=h.opacity.toString())):i.pointData[0].legendIndex==f?u.getAttribute("class")!="SelectionStyleSunburst"&&(u.setAttribute("class","HighlightStyleSunburst"),u.style.opacity=h.opacity.toString()):this.isNullOrUndefined(u)||u.getAttribute("class")=="HighlightStyleSunburst"||u.removeAttribute("class");e.indexOf(this._id+"_svg_LegendItem")!=-1&&this.model.legend.clickAction==l.toggleSegmentSelection&&this.legendSegments(e)},b.prototype.legendSegments=function(n){var o,u,s,t,f,h,e,r,i;for(o=n.replace(this._id+"_svg",""),u=parseInt(o.replace(/[^0-9\.]/g,"")),s=document.getElementById(this._id+"legendItem_Group"),t=s.childNodes,f=this.model.highlightSettings.opacity.toString(),r=0;r<t.length;r++)document.getElementById(t[r].id).style.opacity=u!=r?f:"1";for(h=document.getElementById(this._id+"_svg_SunBurstElementGroup"),t=h.childNodes,i=0;i<t.length;i++)t[i].id.indexOf("_legendIndex"+u)==-1&&(document.getElementById(t[i].id).style.opacity=f);if(this.model.dataLabelSettings.visible&&(e=document.getElementById(this._id+"_svg_DataLabelGroup"),e))for(t=e.childNodes,i=0;i<t.length;i++)t[i].id.indexOf("_legendIndex"+u)==-1&&(document.getElementById(t[i].id).style.opacity=f);this._legendHighlight=!0},b.prototype.toolbarTooltip=function(n,t){var i,r,u;t=t.indexOf("reset")!=-1?"Reset":"Back";r={top:n.clientY,left:n.clientX,"background-color":"white","border-style":"solid",position:"absolute","border-color":"#2F4F4F","border-width":"1px",opacity:.95,"z-index":1e6,"border-radius":"0px 0px","padding-left":"5px","padding-right":"5px","padding-top":"2px","padding-bottom":"2px"};this.isNullOrUndefined(document.getElementById(this._id+"toolbarTooltip"))?(i=document.createElement("div"),i.setAttribute("id",this._id+"toolbarTooltip")):i=document.getElementById(this._id+"toolbarTooltip");i.style.pointerEvents="none";this.setStyles(r,i);u={top:n.clientY,left:n.clientX,color:this.model.tooltip.font.color,"font-size":this.model.tooltip.font.size,"font-family":this.model.tooltip.font.fontFamily,"font-style":this.model.tooltip.font.fontStyle,"font-weight":this.model.tooltip.font.fontWeight,"align-self":"baseline"};this.setStyles(u,i);this.isNullOrUndefined(document.getElementById(this._id+"toolbarTooltip"))&&document.body.appendChild(i);i.innerHTML=t;i.style.visibility=="hidden"&&(i.style.visibility="visible");i.style.left=(n.clientX+window.pageXOffset+10).toString()+"px";i.style.top=(n.clientY+window.pageYOffset+10).toString()+"px"},b.prototype.removeHighlight=function(n){for(var t=0;t<n.length&&document.getElementById(n[t])!=null;t++)document.getElementById(n[t]).getAttribute("class")=="HighlightStyleSunburst"&&document.getElementById(n[t]).removeAttribute("class")},b.prototype.isSelectedElement=function(n,t){for(var r=!1,i=0;i<t.length;i++)n==t[i]&&(r=!0);return r},b.prototype.highlightSunburst=function(n){var u=document.getElementsByTagName("path"),o=n,e,h,y,b,p,d=this.model.legend,i=this.model.highlightSettings,g=this.model.points,k,c,l,a,v,s,w,t;if(this.isNullOrUndefined(o))if(i.type!=r.opacity){if(i.mode==f.point)e=document.getElementsByClassName("HighlightStyleSunburst"),e.length>0&&(e[0].removeAttribute("class"),this.baseID=undefined);else if(i.mode==f.all){if(!this.isNullOrUndefined(this.highlightgroupID)){for(s=0;s<this.highlightgroupID.length;s++)document.getElementById(this.highlightgroupID[s])!=null&&(document.getElementById(this.highlightgroupID[s]).getAttribute("class")==null||document.getElementById(this.highlightgroupID[s]).getAttribute("class")=="HighlightStyleSunburst")&&document.getElementById(this.highlightgroupID[s]).removeAttribute("class");this.groupID=undefined;this.selelectedElementId=undefined}}else if(e=document.getElementsByClassName("HighlightStyleSunburst"),e.length>0){for(w=0;w<e.length;w++)this.highlightgroupID.push(e[w].id);this.removeHighlight(this.highlightgroupID);this.highlightgroupID=[];this.highlightedElementId=null}}else for(t=0;t<u.length;t++)this.selectedgroupID.length==0?this.selectedgroupID.indexOf(u[t].id)==-1&&(u[t].style.opacity="1"):this.selectedgroupID.indexOf(u[t].id)==-1&&(u[t].style.opacity=this.model.selectionSettings.opacity.toString());else if(i.mode==f.point)if(i.type!=r.opacity)e=document.getElementsByClassName("HighlightStyleSunburst"),i.mode==f.point&&e.length>0&&e[0].removeAttribute("class"),h=document.getElementById(o.pointData[0].id),k=this.isSelectedElement(h.id,this.selectedgroupID),document.getElementById(h.id).getAttribute("class")!=null||k||this.createHighlightStyle(h,i),this.baseID=h.id;else{for(t=0;t<u.length;t++)this.selectedgroupID.indexOf(u[t].id)==-1&&(u[t].style.opacity=i.opacity.toString());document.getElementById(o.pointData[0].id).style.opacity="1"}else if(i.mode==f.all){if(y=this.findGroupElements(o),b=this._id+"_legendIndex"+y[0].legendIndex+"_layerNumber1_layerIndex0_pointIndex"+y[0].pointIndex.toString(),i.type!=r.opacity){if(p=document.getElementsByClassName("HighlightStyleSunburst"),p.length>0)for(c=0;c<p.length;c++)this.highlightgroupID.push(p[c].id),this.highlightgroupID[c].indexOf(this._id+"_svg_LegendItemShape")<0&&this.removeHighlight(this.highlightgroupID);this.groupID=undefined;this.highlightgroupID=[];this.selelectedElementId=undefined}if(this.highlightGroup(y,o),i.type==r.opacity){for(l=0;l<u.length;l++)this.selectedgroupID.indexOf(u[l].id)==-1&&(u[l].style.opacity=i.opacity.toString());for(t=0;t<this.highlightgroupID.length;t++)document.getElementById(this.highlightgroupID[t]).style.opacity="1"}}else if(i.mode==f.child){if(b=o.pointData[0].id,i.type!=r.opacity&&(!this.isNullOrUndefined(this.highlightgroupID)&&this.highlightgroupID.length>0&&this.removeHighlight(this.highlightgroupID),this.highlightgroupID=[],this.highlightedElementId=undefined),this.highlightChild(o),i.type==r.opacity){for(a=0;a<u.length;a++)this.selectedgroupID.indexOf(u[a].id)==-1&&(u[a].style.opacity=i.opacity.toString());for(t=0;t<this.highlightgroupID.length;t++)document.getElementById(this.highlightgroupID[t]).style.opacity="1";this.highlightedElementId=undefined}}else if(b=o.pointData[0].id,i.type!=r.opacity&&(!this.isNullOrUndefined(this.groupID)&&this.groupID.length>0&&this.removeHighlight(this.groupID),this.groupID=undefined,this.selelectedElementId=undefined),this.highlightParent(o),i.type==r.opacity){for(v=0;v<u.length;v++)this.selectedgroupID.indexOf(u[v].id)==-1&&(u[v].style.opacity=this.model.selectionSettings.opacity.toString());for(t=0;t<this.groupID.length;t++)document.getElementById(this.groupID[t]).style.opacity="1"}},b.prototype.highlightGroup=function(n,t){var i,f=this.model.highlightSettings,e=!1,u,o;for(this.highlightgroupID=[],u=0;u<n.length;u++)if(n[u].layerNumber==1)i=document.getElementById(this._id+"_legendIndex"+t.pointData[0].legendIndex+"_layerNumber1_layerIndex0_pointIndex"+n[u].pointIndex.toString()),e=this.isSelectedElement(i.id,this.selectedgroupID),f.type==r.opacity||document.getElementById(i.id).getAttribute("class")!=null||e||(this.createHighlightStyle(i,f),this.selelectedElementId=i.id),this.highlightgroupID.push(i.id);else for(o=0;o<n[u].point.length;o++)n[u].layerNumber!=1&&(i=document.getElementById(this._id+"_legendIndex"+t.pointData[0].legendIndex+"_layerNumber"+n[u].layerNumber.toString()+"_layerIndex"+n[u].layerIndex.toString()+"_pointIndex"+o.toString()),e=this.isSelectedElement(i.id,this.selectedgroupID),f.type==r.opacity||document.getElementById(i.id).getAttribute("class")!=null||e||this.createHighlightStyle(i,f),this.highlightgroupID.push(i.id))},b.prototype.highlightParent=function(n){var t,o,f=this.model.highlightSettings,e=!1,u=n.pointData[0],i;for(this.groupID=[],this.baseElement=[],this.baseElement.push(u),o=u.id,this.isNullOrUndefined(u.parentName)||this.findSelectionParent(u,u.legendIndex),i=0;i<this.baseElement.length;i++)document.getElementById("selectionSunburst")?(t=document.getElementById(this._id+"_legendIndex"+u.legendIndex+"_layerNumber"+this.baseElement[i].layerNumber.toString()+"_layerIndex"+this.baseElement[i].layerIndex.toString()+"_pointIndex"+this.baseElement[i].pointIndex),e=this.isSelectedElement(t.id,this.selectedgroupID),f.type==r.opacity||e||this.createHighlightStyle(t,f),this.groupID.push(t.id),this.highlightgroupID.push(t.id)):(t=document.getElementById(this._id+"_legendIndex"+u.legendIndex+"_layerNumber"+this.baseElement[i].layerNumber.toString()+"_layerIndex"+this.baseElement[i].layerIndex.toString()+"_pointIndex"+this.baseElement[i].pointIndex),e=this.isSelectedElement(t.id,this.selectedgroupID),f.type==r.opacity||e||this.createHighlightStyle(t,f),this.groupID.push(t.id),this.highlightgroupID.push(t.id))},b.prototype.highlightChild=function(n){var f,o,i=this.model.highlightSettings,l,h,c,e=!1,u,t,s;if(this.childrenElement=[],this.highlightgroupID=[],f=this.layerData[n.pointData[0].layerIndex].point[n.pointData[0].pointIndex],o=n.pointData[0].id,u=document.getElementById(o),e=this.isSelectedElement(u.id,this.selectedgroupID),f.point||f.layerIndex==0||e){for(l=n.pointData[0].layerNumber,this.isNullOrUndefined(f.point)||this.findChild(f,l),i.type==r.opacity||e||this.createHighlightStyle(u,i),this.highlightgroupID.push(u.id),this.highlightedElementId=o,t=0;t<this.childrenElement.length;t++)if(this.childrenElement[t].layerNumber>n.pointData[0].layerNumber)for(s=0;s<this.childrenElement[t].length;s++)h=this._id+"_legendIndex"+n.pointData[0].legendIndex+"_layerNumber"+this.childrenElement[t].layerNumber.toString()+"_layerIndex"+this.childrenElement[t].layerIndex+"_pointIndex"+s.toString(),c=document.getElementById(h),e=this.isSelectedElement(h,this.selectedgroupID),i.type==r.opacity||e||this.createHighlightStyle(c,i),this.highlightgroupID.push(c.id)}else i.type!=r.opacity&&(this.createHighlightStyle(u,i),this.highlightedElementId=o),this.highlightgroupID.push(u.id)},b.prototype.createHighlightStyle=function(n,t){var i,r,u;n.getAttribute("class")!="SelectionStyleSunburst"&&(document.getElementById("highlightSunburst")||(i=document.createElement("style"),i.type="text/css",r=t.color,u="1",i.innerHTML=" .HighlightStyleSunburst{ fill:"+r+";opacity:"+u+";stroke:;stroke-width:1}",i.setAttribute("id","highlightSunburst"),document.body.appendChild(i)),n.setAttribute("class","HighlightStyleSunburst"))},b.prototype.showTooltip=function(n,t,i,r){var h=7,c,u,l,o,s,e,f=this.model.tooltip,y=document.getElementById(this._id+"_svg"),w=window.pageYOffset,b=window.pageXOffset,a=y.getBoundingClientRect(),v;o=n.X+h/2+b+a.left;s=n.Y-3*h+w+a.top;document.getElementById(this._id+"_ToolTip")==null?(u=document.createElement("div"),u.id=this._id+"_ToolTip",u.style.pointerEvents="none"):(u=document.getElementById(this._id+"_ToolTip"),u.style.pointerEvents="none");c=this.formatTooltip(r.pointData[0],f.format);e=p.extend({},this.common);e.data={pointIndex:r.pointData[0].pointIndex,currentText:c,Location:{x:o,Y:s}};this._trigger("tooltipInitialize",e);u.innerHTML=e.data.currentText;l={top:e.data.Location.X,left:e.data.Location.Y,"background-color":f.fill,"border-style":"solid",position:"absolute","border-color":f.border.color,"border-width":f.border.width+"px",opacity:f.opacity,"z-index":1e6,"border-radius":"0px 0px","padding-left":"5px","padding-right":"5px","padding-top":"2px","padding-bottom":"2px"};this.setStyles(l,u);v={top:s,left:o,color:f.font.color,"font-size":f.font.size,"font-family":f.font.fontFamily,"font-style":f.font.fontStyle,"font-weight":f.font.fontWeight,"align-self":"baseline"};this.setStyles(v,u);this.isNullOrUndefined(document.getElementById(this._id+"Tooltip"))&&document.body.appendChild(u);u.style.visibility=="hidden"&&(u.style.visibility="visible");u.style.left=o.toString()+"px";u.style.top=s.toString()+"px"},b.prototype.formatTooltip=function(n,t){var i=t;return i.search("#point.x#")!=-1&&(i=i.replace("#point.x#",n.x)),i.search("#point.y#")!=-1&&(i=i.replace("#point.y#",n.y)),i},b.prototype.setStyles=function(n,t){for(var r=Object.keys(n),u,f=r.map(function(t){return n[t]}),i=0,e=r.length;i<e;i++)u=r[i],t.style[u]=f[i]},b.prototype.createTooltiptemplate=function(n,t,i,r){var u=document.getElementById("tooltipDiv"),f,e,s=document.getElementById(this._id+"_svg"),h=window.pageYOffset,c=window.pageXOffset,o=s.getBoundingClientRect();f=n.X+c+o.left+10;e=n.Y+h+o.top;this.isNullOrUndefined(u)?(this.tooltipFirst=!0,u=document.createElement("div"),u.className="tooltipDiv",u.style.position="absolute",u.style.zIndex="13000",u.style.display="block",u.id="tooltipDiv",u.style.backgroundColor="white",document.body.appendChild(u),this.clonenode=document.getElementById(this.model.tooltip.template).cloneNode(!0),this.clonenode.style.display="block",document.getElementById("tooltipDiv").innerHTML="",this.clonenode.innerHTML=this.parseTooltipTemplate(r.pointData[0],this.clonenode.innerHTML),document.getElementById("tooltipDiv").appendChild(this.clonenode)):(u.style.display="block",this.tooltipFirst=!1,this.clonenode.innerHTML=this.parseTooltipTemplate(r.pointData[0],this.clonenode.innerHTML));document.getElementById("tooltipDiv").style.left=f.toString()+"px";document.getElementById("tooltipDiv").style.top=e.toString()+"px"},b.prototype.parseTooltipTemplate=function(n){var i=document.getElementById(this.model.tooltip.template).cloneNode(!0),t=i.innerHTML;return t.search("#point.x#")!=-1&&(t=t.replace("#point.x#",n.x.toString())),t.search("#point.y#")!=-1&&(t=t.replace("#point.y#",n.y.toString())),t.search("#point.text#")!=-1&&(t=this.isNullOrUndefined(n.text)?t.replace("#point.text#",n.y.toString()):t.replace("#point.text#",n.text.toString())),t},b.prototype.bindClickEvent=function(n){var t,i;return t=this.getSunburstPoint(n),!this.isNullOrUndefined(t)&&this.model.pointRegionClick&&(i=p.extend({},this.common),i.data=t,this._trigger("pointRegionClick",i)),t},b.prototype.sunburstClick=function(n){var o=this.bindClickEvent(n),t,c,f,e=this.model.selectionSettings,l,r,s=new Date,h,u;if(this.model.click!=null&&(h={model:this.model,event:n},this._trigger("click",h)),ej.isTouchDevice()&&this._doubleTapTimer!=null&&s-this._doubleTapTimer<300&&this.sunburstChartDoubleClick(n),this._doubleTapTimer=s,e.enable&&(this.selectSunburst(o,n),!this.isNullOrUndefined(o)&&this.model.legend.visible))for(u=0;u<this.model.points.length;u++)r=document.getElementById(this._id+"_svg_LegendItemShape"+u),this.isNullOrUndefined(r)||(l=this.model.points[u],e.type==i.opacity?o.pointData[0].legendIndex!=u&&(r.style.opacity=e.opacity.toString()):this.selectedGroupNumber-1==u?(r.setAttribute("class","SelectionStyleSunburst"),r.style.opacity=e.opacity.toString()):r.getAttribute("class")=="SelectionStyleSunburst"||r.removeAttribute("class"));t=this;t.tapCount++;c=setTimeout(function(){t.tapCount>=2&&t._isDoubleClickEvent==!1&&(t.sunburstDoubleClick(n),t._isDoubleClickEvent=!1);t.tapCount=0},200);f=document.getElementById(t._id+"toolbarTooltip");t.isNullOrUndefined(f)||f.parentNode.removeChild(f)},b.prototype.isTouch=function(n){var i,t;return(i=this.browserInfo(),t=n.originalEvent?n.originalEvent:n,t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1)?!0:!1},b.prototype.sunburstLeave=function(n){var i=this,u=n.target.id,l,h,c,f,e,o,s,r,a,v,t;if(this._legendHighlight){for(l=document.getElementById(this._id+"legendItem_Group"),h=l.childNodes,r=0;r<h.length;r++)document.getElementById(h[r].id).style.opacity="1";for(c=document.querySelectorAll("[id^="+this._id+"_legendIndex]"),s=0;s<c.length;s++)document.getElementById(c[s].id).style.opacity="1";this._legendHighlight=!1}if(this.model.legend.visible&&this.model.highlightSettings.enable)for(r=0;r<this.model.points.length;r++)f=document.getElementById(this._id+"_svg_LegendItemShape"+r),f!=null&&(f.style.opacity="1",f.removeAttribute("class"));if(this.isNullOrUndefined(document.getElementById(i._id+"_ToolTip"))||(ej.isTouchDevice()||this.isTouch(n)?a=setTimeout(function(){document.getElementById(i._id+"_ToolTip").style.visibility="hidden"},3e3):u==i._id+"_svg_svgRect"&&(this._hideTooltip||clearTimeout(this._hideTooltip),this._hideTooltip=setTimeout(function(){document.getElementById(i._id+"_ToolTip").style.visibility="hidden"},1e3))),o=document.getElementById(i._id+"toolbarTooltip"),i.isNullOrUndefined(o)||o.parentNode.removeChild(o),e=document.getElementById("tooltipDiv"),i.isNullOrUndefined(e)||(ej.isTouchDevice()||this.isTouch(n)?v=setTimeout(function(){e.style.display="none"},3e3):u==i._id+"_svg_svgRect"&&(this._hideTooltipTemplate||clearTimeout(this._hideTooltipTemplate),this._hideTooltipTemplate=setTimeout(function(){e.style.display="none"},1e3))),u.indexOf(this._id+"reset")!=-1)for(t=0;t<5;t++)t==0?document.getElementById(this._id+"resetPath").setAttribute("fill","#D6D6D6"):document.getElementById(this._id+"resetPath"+t.toString()).setAttribute("fill","#5E5C5C");if(u.indexOf(this._id+"back")!=-1)for(t=0;t<3;t++)t==0?document.getElementById(this._id+"backPath").setAttribute("fill","#D6D6D6"):document.getElementById(this._id+"backPath"+t.toString()).setAttribute("fill","#5E5C5C")},b.prototype.selectSunburst=function(n,t){var l,d,a,v=this.model.selectionSettings.mode.toString(),e=document.getElementsByTagName("path"),g,s=this.model.selectionSettings.opacity.toString(),o=this.model.selectionSettings.type,p=this.model.legend,w=this.model.points,r,y,h,b,c,u,k,f;if(this.isNullOrUndefined(n)){if(i.opacity!=o)v=="point"?(h=document.getElementsByClassName("SelectionStyleSunburst"),h.length>0&&h[0].removeAttribute("class")):this.selectedgroupID.length>0&&(this.removeSelection(this.selectedgroupID),this.selectedgroupID=[],this.selectedGroupNumber=null,v=="child"&&(this.selelectedElementId=null),v=="parent"&&(this.groupNumber=null));else{for(this.selectedgroupID=[],f=0;f<e.length;f++)e[f].style.opacity="1";this.mouseClickedElementId="";this.selectedGroupNumber=null}this.removeLegendSelection()}else if(this.selectedgroupID.length>0&&this.removeSelection(this.selectedgroupID),v=="point"){if(this.selectedgroupID=[],g=t.target.id.replace("_layerIndex"+n.pointData[0].layerIndex.toString(),""),i.opacity!=o)!this.isNullOrUndefined(this.highlightgroupID)&&this.highlightgroupID.length>0&&this.removeHighlight(this.highlightgroupID),l=document.getElementById(n.pointData[0].id),l.getAttribute("class")=="SelectionStyleSunburst"?(l.removeAttribute("class"),this.highlightgroupID.indexOf(l.id)!=-1&&l.setAttribute("class","HighlightStyleSunburst")):(h=document.getElementsByClassName("SelectionStyleSunburst"),this.highlightgroupID.length>0&&h.length>0&&this.highlightgroupID.indexOf(h[0].id)!=-1&&h[0].setAttribute("class","HighlightStyleSunburst"),h.length>0&&h[0].getAttribute("class")=="SelectionStyleSunburst"&&h[0].removeAttribute("class"),!this.isNullOrUndefined(this.highlightgroupID)&&this.highlightgroupID.length>0&&this.removeHighlight(this.highlightgroupID),this.selectPointData(l),this.selectedgroupID.push(l.id));else{if(this.mouseClickedElementId!=g){for(u=0;u<e.length;u++)e[u].style.opacity=s;document.getElementById(n.pointData[0].id).style.opacity="1";this.mouseClickedElementId=g;this.selectedgroupID.push(n.pointData[0].id)}else{for(f=0;f<e.length;f++)e[f].style.opacity="1";this.mouseClickedElementId=""}this.selectedGroupNumber=n.pointData[0].groupNumber}if(p.visible&&this.selectedgroupID.length>0)for(c=0;c<w.length;c++)r=document.getElementById(this._id+"_svg_LegendItemShape"+c),n.pointData[0].legendIndex!=c?r!=null&&(r.style.opacity=s,r.removeAttribute("class")):i.opacity==o?r.style.opacity="1":(r.setAttribute("class","SelectionStyleSunburst"),r.style.opacity=s);this.selectedgroupID.length==0&&this.removeLegendSelection()}else if(v=="all")if(y=this.findGroupElements(n),a=n.pointData[0].id,this.selectedgroupID.indexOf(a)==-1){if(this.selectedGroupNumber!=y[0].groupNumber?(this.selectedgroupID.length>0&&this.removeSelection(this.selectedgroupID),this.selectGroup(y,n),this.selectedGroupNumber=y[0].groupNumber):(this.selectedgroupID.length>0&&this.removeSelection(this.selectedgroupID),this.selectedgroupID=[],this.selectedGroupNumber=null),i.opacity==o){for(u=0;u<e.length;u++)e[u].style.opacity=s;for(f=0;f<this.selectedgroupID.length;f++)document.getElementById(this.selectedgroupID[f]).style.opacity="1";this.isSelected=!0}if(p.visible){for(b=0;b<w.length;b++)r=document.getElementById(this._id+"_svg_LegendItemShape"+b),r!=null&&(r.style.opacity=s,r.removeAttribute("class"));i.opacity!=o?document.getElementById(this._id+"_svg_LegendItemShape"+y[0].pointIndex.toString()).setAttribute("class","SelectionStyleSunburst"):document.getElementById(this._id+"_svg_LegendItemShape"+y[0].pointIndex.toString()).style.opacity="1"}}else{if(this.selectedgroupID.length>0)if(i.opacity!=o)this.removeSelection(this.selectedgroupID);else for(u=0;u<e.length;u++)e[u].style.opacity="1";this.isSelected=!1;this.selectedGroupNumber=null;this.selectedgroupID=[];this.baseID="";this.removeLegendSelection()}else if(v=="child")if(a=n.pointData[0].id,this.selectedgroupID.indexOf(a)==-1){if(!this.isNullOrUndefined(this.selectedgroupID)&&this.selectedgroupID.length>0&&this.removeSelection(this.selectedgroupID),!this.isNullOrUndefined(this.highlightgroupID)&&this.highlightgroupID.length>0&&this.removeHighlight(this.highlightgroupID),this.selectedgroupID=[],this.selelectedElementId=undefined,this.selectchild(n),i.opacity==o){for(u=0;u<e.length;u++)e[u].style.opacity=s;for(f=0;f<this.selectedgroupID.length;f++)document.getElementById(this.selectedgroupID[f]).style.opacity="1";this.isSelected=!0}if(this.selectedGroupNumber=n.pointData[0].groupNumber,p.visible)for(c=0;c<w.length;c++)r=document.getElementById(this._id+"_svg_LegendItemShape"+c),n.pointData[0].legendIndex!=c?r!=null&&(r.style.opacity=s,r.removeAttribute("class")):i.opacity==o?r.style.opacity="1":(r.setAttribute("class","SelectionStyleSunburst"),r.style.opacity=s)}else this.selectedgroupID=[],this.selelectedElementId=this.baseID="",this.removeSegmentSelection(e,o),this.removeLegendSelection(),this.isSelected=!1,this.childrenElement=[];else if(a=n.pointData[0].id,this.selectedgroupID.indexOf(a)==-1){if(this.isNullOrUndefined(this.groupNumber)||this.groupNumber==n.pointData[0].groupNumber?this.selectedgroupID.length>0&&(this.removeSelection(this.selectedgroupID),this.selectedgroupID=[]):this.removeSegmentSelection(e,this.model.selectionSettings.type),!this.isNullOrUndefined(this.highlightgroupID)&&this.highlightgroupID.length>0&&this.removeHighlight(this.highlightgroupID),this.selectParent(n),this.groupNumber=n.pointData[0].groupNumber,i.opacity==o){for(u=0;u<e.length;u++)e[u].style.opacity=s;for(f=0;f<this.selectedgroupID.length;f++)document.getElementById(this.selectedgroupID[f]).style.opacity="1"}if(this.selectedGroupNumber=n.pointData[0].groupNumber,d=n.pointData[0].legendIndex,p.visible){for(k=0;k<w.length;k++)r=document.getElementById(this._id+"_svg_LegendItemShape"+k),r!=null&&(r.style.opacity=s,r.removeAttribute("class"));i.opacity!=o?document.getElementById(this._id+"_svg_LegendItemShape"+d.toString()).setAttribute("class","SelectionStyleSunburst"):document.getElementById(this._id+"_svg_LegendItemShape"+d.toString()).style.opacity="1"}}else this.selectedgroupID=[],this.selelectedElementId=this.baseID="",this.removeSegmentSelection(e,this.model.selectionSettings.type),this.removeLegendSelection(),this.baseElement=[]},b.prototype.removeSegmentSelection=function(n,t){for(var r=0;r<n.length;r++)t==i.opacity?n[r].style.opacity="1":n[r].removeAttribute("class")},b.prototype.removeLegendSelection=function(){var n,t;if(this.model.legend.visible)for(t=0;t<this.model.points.length;t++)n=document.getElementById(this._id+"_svg_LegendItemShape"+t),n!=null&&(n.style.opacity="1",n.removeAttribute("class"))},b.prototype.selectParent=function(n){var r,f,u,e=this.model.selectionSettings,o,t;for(this.baseElement=[],u=n.pointData[0].legendIndex,i.opacity==e.type&&(this.selectedgroupID=[]),this.baseElement.push(n.pointData[0]),o=n.pointData[0].id,i.opacity!=e.type&&(this.selectedgroupID=[],this.removeSelection(this.selectedgroupID),this.selelectedElementId=o),this.isNullOrUndefined(n.pointData[0].parentName)||this.findSelectionParent(n.pointData[0],u),t=0;t<this.baseElement.length;t++)document.getElementById("selectionSunburst")?(r=document.getElementById(this._id+"_legendIndex"+u+"_layerNumber"+this.baseElement[t].layerNumber.toString()+"_layerIndex"+this.baseElement[t].layerIndex.toString()+"_pointIndex"+this.baseElement[t].pointIndex),i.opacity!=this.model.selectionSettings.type&&r.setAttribute("class","SelectionStyleSunburst"),this.selectedgroupID.push(r.id)):(r=document.getElementById(this._id+"_legendIndex"+u+"_layerNumber"+this.baseElement[t].layerNumber.toString()+"_layerIndex"+this.baseElement[t].layerIndex.toString()+"_pointIndex"+this.baseElement[t].pointIndex),i.opacity!=this.model.selectionSettings.type&&(f=this.createselectionStyle(r,this.model.selectionSettings),document.body.appendChild(f),r.setAttribute("class","SelectionStyleSunburst")),this.selectedgroupID.push(r.id))},b.prototype.findSelectionParent=function(n,t){var f=this.sunburstRegions,e=f.length,r,u,i;n:for(u=0;u<e;u++)for(r=f[u],i=0;i<r.region.length;i++)if(this.isNullOrUndefined(this.model.dataSource)){if(n.parentName==r.region[i].x&&t==r.region[i].legendIndex)if(this.baseElement.push(r.region[i]),this.isNullOrUndefined(r.region[i].parentName))break n;else{this.findSelectionParent(r.region[i],r.region[i].legendIndex);break n}}else if(n.parentName==r.region[i].x&&r.region[i].parentChildName+"_"+n.x==n.parentChildName&&t==r.region[i].legendIndex)if(this.baseElement.push(r.region[i]),this.isNullOrUndefined(r.region[i].parentName))break n;else{this.findSelectionParent(r.region[i],r.region[i].legendIndex);break n}},b.prototype.selectchild=function(n){var u,e,t,f=this.model.selectionSettings,o,c,l,h,a,r,s;if(this.childrenElement=[],u=this.layerData[n.pointData[0].layerIndex].point[n.pointData[0].pointIndex],e=n.pointData[0].id,t=document.getElementById(e),u.point||u.layerIndex==0){for(a=n.pointData[0].layerNumber,this.isNullOrUndefined(u.point)||this.findChild(u,a),f.type!=i.opacity&&(document.getElementById("SelectionStyleSunburst")||(o=this.createselectionStyle(t,f),document.body.appendChild(o)),t.setAttribute("class","SelectionStyleSunburst")),this.selectedgroupID.push(t.id),this.selelectedElementId=e,c=n.pointData[0].legendIndex,r=0;r<this.childrenElement.length;r++)if(this.childrenElement[r].layerNumber>n.pointData[0].layerNumber)for(s=0;s<this.childrenElement[r].length;s++)l=this._id+"_legendIndex"+c+"_layerNumber"+this.childrenElement[r].layerNumber.toString()+"_layerIndex"+this.childrenElement[r].layerIndex+"_pointIndex"+s.toString(),h=document.getElementById(l),f.type!=i.opacity&&h.setAttribute("class","SelectionStyleSunburst"),this.selectedgroupID.push(h.id)}else f.type!=i.opacity&&(document.getElementById("selectionSunburst")||(o=this.createselectionStyle(t,f),document.body.appendChild(o)),t.setAttribute("class","SelectionStyleSunburst"),this.selelectedElementId=e),this.selectedgroupID.push(t.id)},b.prototype.findChild=function(n,t){for(var r=[],i=0;i<n.point.length;i++)n.point[i].point?(r.push(n.point[i]),this.findChild(n.point[i],t+1)):r.push(n.point[i]);r.layerNumber=t+1;r.layerIndex=n.point.layerData;this.childrenElement.push(r)},b.prototype.selectGroup=function(n,t){var s,f=this.model.selectionSettings,r,e,u,o,h;for(this.selectedgroupID=[],s=t.pointData[0].legendIndex,u=0;u<n.length;u++)if(n[u].layerNumber==1)r=document.getElementById(this._id+"_legendIndex"+s+"_layerNumber1_layerIndex0_pointIndex"+n[u].pointIndex.toString()),f.type!=i.opacity&&(e=this.createselectionStyle(r,f),document.body.appendChild(e),r.setAttribute("class","SelectionStyleSunburst")),this.selectedgroupID.push(r.id);else for(o=0;o<n[u].point.length;o++)r=document.getElementById(this._id+"_legendIndex"+s+"_layerNumber"+n[u].layerNumber.toString()+"_layerIndex"+n[u].layerIndex.toString()+"_pointIndex"+o.toString()),f.type!=i.opacity&&(h=document.getElementById("selectionSunburst"),h?r.setAttribute("class","SelectionStyleSunburst"):(e=this.createselectionStyle(r,f),document.body.appendChild(e),r.setAttribute("class","SelectionStyleSunburst"))),this.selectedgroupID.push(r.id)},b.prototype.removeSelection=function(n){for(var t=0;t<n.length&&document.getElementById(n[t])!=null;t++)document.getElementById(n[t]).getAttribute("class")=="SelectionStyleSunburst"&&document.getElementById(n[t]).removeAttribute("class")},b.prototype.findGroupElements=function(n){for(var i,u=n.pointData[0].groupNumber?n.pointData[0].groupNumber:n.pointData[0].pointIndex+1,r=[],t=0;t<this.layerData.length;t++)if(t==0)for(i=0;i<this.layerData[t].point.length;i++)this.layerData[t].point[i].groupNumber==u&&r.push(this.layerData[t].point[i]);else this.layerData[t].groupNumber==u&&(this.layerData[t].layerIndex=t,r.push(this.layerData[t]));return r},b.prototype.selectPointData=function(n){var t;document.getElementById("selectionSunburst")?(n.setAttribute("class","SelectionStyleSunburst"),this.selelectedElementId=n.id):(t=this.createselectionStyle(n,this.model.selectionSettings),document.body.appendChild(t),n.setAttribute("class","SelectionStyleSunburst"),this.selelectedElementId=n.id)},b.prototype.createselectionStyle=function(n,t){var i,r,u;return i=document.createElement("style"),i.type="text/css",r=t.color,u="1",i.innerHTML=" .SelectionStyleSunburst{ fill:"+r+";opacity:"+u+";stroke:;stroke-width:1}",i.setAttribute("id","selectionSunburst"),i},b.prototype.getSunburstPoint=function(n){var r,u,e,s,h,c,f,i,t,o;return f=this.calMousePosition(n),c=this.circularRadius,r=f.X,u=f.Y,i=this.model.startAngle,t=this.model.endAngle,s=this.areaBounds.actualWidth,h=this.areaBounds.actualHeight,o=this.model.startAngle*(Math.PI/180),this.sunburstRegions.forEach(function(n){var a=n.sunburstData,l=n.region,v,y,d,nt,p=0,h,f,s,w=[],g,b,c,k;if(d=a.innerRadius?a.innerRadius:0,v=r-a.centerX,y=u-a.centerY,nt=n.region,i=i<0?i+360:i,t=t<0?t+360:t,g=t-i,b=-.5*Math.PI+o,g<0){for(t=t/360,p=t?2*Math.PI*(t<0?1+t:t):0,h=(Math.atan2(y,v)-b-p)%(2*Math.PI),h<0&&(h=2*Math.PI+h),c=0;c<l.length;c++)if(f=parseFloat(l[c].startAngle.toFixed(14)),s=parseFloat(l[c].endAngle.toFixed(14)),f=f<0?2*Math.PI+f:f,s=s<0?2*Math.PI+s:s,f-=p,s-=p,f=parseFloat(f.toFixed(14)),s=parseFloat(s.toFixed(14)),h<=f&&h>=s){w.push(l[c]);break}}else for(h=(Math.atan2(y,v)-b)%(2*Math.PI),h<0&&(h=2*Math.PI+h),c=0;c<l.length;c++)if(f=parseFloat(l[c].startAngle.toFixed(14)),s=parseFloat(l[c].endAngle.toFixed(14)),f=f<0?2*Math.PI+f:f,s=s<0?2*Math.PI+s:s,f=parseFloat(f.toFixed(14)),s=parseFloat(s.toFixed(14)),h>=f&&h<=s){w.push(l[c]);break}w.length>0&&(k=Math.sqrt(Math.pow(Math.abs(v),2)+Math.pow(Math.abs(y),2)),k<=a.Radius&&k>d&&(e={pointData:w,location:{x:r,y:u}}))}),e},b.prototype.calMousePosition=function(n){var r,u,f,e,t,o,i,s,h;return t=this.mousePosition(n),f=t.x,e=t.y,o=document.getElementById(this._id+"_svg"),s=window.pageYOffset,h=window.pageXOffset,i=o.getBoundingClientRect(),r=f-h-i.left,u=e-s-i.top,{X:r,Y:u}},b.prototype.mousePosition=function(n){return!this.isNullOrUndefined(n.pageX)&&n.pageX>0?{x:n.pageX,y:n.pageY}:{x:0,y:0}},b.prototype.drawSunburstLegend=function(){var n=this.model.legend,i=this.model.legend.title,f,r=!1,u,e=this.elementSpacing;this.gLegendElement=this.createGroup({id:this._id+"_legend_group"});(n.position==t.top||n.postion==t.bottom)&&(f=this.height*(20/100));document.getElementById(this._id+"_svg").appendChild(this.gLegendElement);i.text!=""&&i.visible&&this.gLegendElement.appendChild(this.drawLegendTitle(i,n));u=this.drawlegendItem(n,this.legendCollection,r);this.drilldownCount==0&&(this.legendClick=this.legendClick.bind(this),this.legendItemGroup.addEventListener("click",this.legendClick,!0));this.gLegendElement.appendChild(u);this.legendPages.length>0&&this.drawScrollbuttons(n);this.legendPositioning(n,r)},b.prototype.legendPositioning=function(n,i){var f,c,l,o,p,e,a=this.elementSpacing,s,r,w,b,k,h,v,y;f=document.getElementById(this._id+"_legend_group");c=document.getElementById(this._id+"legendItem_Group");n.position==t.bottom||n.position==t.top?(l=document.getElementById(this._id+"legendItem_Group"),o=l.getBoundingClientRect(),p=o.width,e=this.width/2-p/2,s=n.position==t.bottom?this.isNullOrUndefined(n.size.height)?this.LegendBounds.Height-a:o.height+a:this.isNullOrUndefined(n.size.height)?0:this.LegendBounds.Height-o.top+a,r="translate("+e.toString()+",0)",l.setAttribute("transform",r),n.title.text!=""&&n.title.visible&&document.getElementById(this._id+"_LegendTitleText").setAttribute("transform",r),this.legendPages.length>0&&(w=document.getElementById(this._id).getBoundingClientRect(),e=this.width/2-document.getElementById("scrollButtons").getBoundingClientRect().width/2,n.position==t.bottom?s=o.bottom-w.top:n.position==t.top&&(s=o.top+o.height),r="translate("+e.toString()+","+s.toString()+")",document.getElementById("scrollButtons").setAttribute("transform",r))):n.position==t.left||n.position==t.right?(i||(h=void 0,v=document.getElementById(this._id+"_svg").getBoundingClientRect().height/2-f.getBoundingClientRect().height/2,n.position==t.left?r="translate(0,"+v.toString()+")":(this.isNullOrUndefined(n.size.width)?h=this.width-f.getBoundingClientRect().width-2*this.elementSpacing:(h=this.width-f.getBoundingClientRect().width-f.getBoundingClientRect().left-2*this.elementSpacing,h=h-n.size.width),r="translate("+h.toString()+","+v.toString()+")"),f.setAttribute("transform",r)),this.legendPages.length>0&&(o=f.getBoundingClientRect(),b=document.getElementById("scrollButtons").getBoundingClientRect(),e=o.width/2-b.width/2,s=o.height,r="translate("+e.toString()+","+s.toString()+")",document.getElementById("scrollButtons").setAttribute("transform",r))):n.title.visible&&n.title.text!=""&&(k=(c.getBoundingClientRect().width-document.getElementById(this._id+"_LegendTitleText").getBoundingClientRect().width)/2,r="translate("+k.toString()+",0)",document.getElementById(this._id+"_LegendTitleText").setAttribute("transform",r));(n.position==t.bottom||n.position==t.top)&&n.alignment!=u.center?n.alignment==u.near?(e=-Math.abs(c.getBoundingClientRect().left)+this.elementSpacing,r="translate("+e.toString()+"0)",f.setAttribute("transform",r)):n.alignment==u.far&&(e=Math.abs(c.getBoundingClientRect().right-c.getBoundingClientRect().width),e=e-(this.elementSpacing+this.model.margin.right),r="translate("+e.toString()+",0)",f.setAttribute("transform",r)):(n.position==t.left||n.position==t.right)&&n.alignment!=u.center&&(y=f.getAttribute("transform").split(" "),n.alignment==u.near?(e=f.getBoundingClientRect().left+this.elementSpacing,s=this.elementSpacing+this.model.margin.top,r=y[0]+","+s.toString()+")",f.setAttribute("transform",r)):(e=f.getBoundingClientRect().left+this.elementSpacing,s=this.areaBounds.actualHeight-f.getBoundingClientRect().height+this.elementSpacing+this.model.margin.bottom,r=y[0]+","+s.toString()+")",f.setAttribute("transform",r)))},b.prototype.drawScrollbuttons=function(n){var o=n.position,i,r,u,f,e;n.position!=t.float&&(r=this.createGroup({id:"scrollButtons"}),i={id:"scrollUp",d:"M 6 0 L 12 12 0 12 Z",fill:"#3E576F"},u=this.drawPath(i),r.appendChild(u),i={id:"scrollDown",d:"M 40.359375 0 L 52.359375 0 46.359375 12 Z",fill:"#3E576F"},u=this.drawPath(i),r.appendChild(u),i={id:"pageNumber",x:15,y:10,fill:n.font.color,"font-size":n.font.size,"font-style":n.font.fontStyle,"font-family":n.font.fontFamily,"font-weight":n.font.fontWeight,"text-anchor":"start"},e=this.currentpageNumber.toString()+"/"+this.totalpageNumbers,f=this.createText(i,e),r.appendChild(f),this.scrollClick=this.scrollClick.bind(this),r.addEventListener("click",this.scrollClick,!0));this.gLegendElement.appendChild(r)},b.prototype.scrollClick=function(n){var r=this.model.legend,o=n.target.id,u,f=this.currentpageNumber,s=this.totalpageNumbers,e,i;u=document.getElementById(this._id+"legendItem_Group");e=document.getElementById("pageNumber");o=="scrollDown"&&f!=s?(this.currentpageNumber=f+1,u.parentNode.removeChild(u),i=this.drawlegendItem(r,this.legendPages[this.currentpageNumber-1],!0),this.gLegendElement.appendChild(i),document.getElementById(this._id+"_svg").appendChild(this.gLegendElement),e.textContent=this.currentpageNumber.toString()+"/"+this.totalpageNumbers.toString(),this.legendClick=this.legendClick.bind(this),i.addEventListener("click",this.legendClick,!0)):o=="scrollUp"&&f!=1&&(this.currentpageNumber=f-1,u.parentNode.removeChild(u),i=this.drawlegendItem(r,this.legendPages[this.currentpageNumber-1],!0),this.gLegendElement.appendChild(i),document.getElementById(this._id+"_svg").appendChild(this.gLegendElement),e.textContent=this.currentpageNumber.toString()+"/"+this.totalpageNumbers.toString(),this.legendClick=this.legendClick.bind(this),i.addEventListener("click",this.legendClick,!0));(r.position==t.top||r.position==t.bottom)&&this.legendPositioning(r,!1)},b.prototype.drawLegendTitle=function(n,i){var h=n.text,f=this.measureText(n.text,n.font),s,e=this.elementSpacing,c=this.circularRadius[this.totallayerCount-1],r=0,u=0,o=n.font.color;o=this.isNullOrUndefined(o)?this.model.theme.toString().indexOf("dark")!=-1?"white":"black":o;i.position==t.bottom?u=this.areaBounds.actualHeight+f.height/2+e+this.yOffset:i.position==t.top?(u=e+this.yOffset+f.height/2,this.isNullOrUndefined(i.size.height)||(u=i.size.height+this.yOffset)):i.position==t.left||i.position==t.right?(u=e+this.model.margin.top,r-=e):(u=i.location.y,r=i.location.x);switch(n.textAlignment){case"far":r+=this.LegendBounds.Width-f.width/2;break;case"near":r+=f.width/2;break;case"center":r+=this.LegendBounds.Width/2}return this.legendTitleLocation={x:r,y:u,width:f.width,height:f.height},s={id:this._id+"_LegendTitleText",x:r,y:u,fill:o,"font-size":n.font.size,"font-style":n.font.fontStyle,"font-family":n.font.fontFamily,"font-weight":n.font.fontWeight,"text-anchor":"middle"},this.createText(s,n.text)},b.prototype.drawlegendItem=function(n,i,r){var f=0,e=0,a,s,h=this.model.legend.itemStyle,d,v,y=0,o,w,b,c,u,l,k;if(this.legendItemGroup=this.createGroup({id:this._id+"legendItem_Group"}),this.model.legend.position==t.bottom||this.model.legend.position==t.top)return this.drawBottomTopLegend(n,i);if(this.model.legend.position==t.left||this.model.legend.position==t.right)return this.drawLeftRightLegend(n,i,r);for(c=0,n.title.visible&&n.title.text!=" "?(a=this.measureText(n.title.text,n.title.font),e=n.location.y+a.height/2+this.elementSpacing):e=n.location.y,f=n.location.x,u=0;u<i.length;u++)f+=y+c,s=Math.sqrt(h.width*h.width+h.height*h.height)/2,d=i[u].visibility?i[u].fill:"grey",v=this.drawLegendShape(i[u],f,e,u),this.model.legendItemRendering&&(l=p.extend({},this.common),k={location:{x:f,y:e},text:i[u].Text,shape:i[u].sunburstLegendShape},l.data=k,this._trigger("legendItemRendering",l)),y=this.measureText(i[u].Text,i[u].font).width+s+this.model.legend.itemPadding,c=n.itemPadding,o=this.createGroup({id:this._id+"_svg_Legend"+u.toString()}),o.style.cursor="pointer",w={id:this._id+"_svg_LegendItemText"+u.toString(),x:f+s,y:e+s*3/4,fill:i[u].font.color,"font-size":i[u].font.size,"font-style":i[u].font.fontStyle,"font-family":i[u].font.fontFamily,"font-weight":i[u].font.fontWeight,"text-anchor":"start"},b=this.createText(w,i[u].Text),o.appendChild(v),o.appendChild(b),this.legendItemGroup.appendChild(o);return this.legendItemGroup},b.prototype.legendClick=function(n){var s,h,u,f=[],i={},a,e,r,t,o,c;if((this.rotateAnimate||this.model.enableAnimation)&&this.stopAnimation(),this.model.legend.clickAction==l.toggleSegmentVisibility){for(s=n.target.id,e=document.getElementById(s).parentNode,h=e.childNodes[1],a=e.childNodes[0],u=h.textContent,r=document.getElementById(this._id+"_svg"),r.parentNode.replaceChild(r.cloneNode(!1),r),t=0;t<this.legendCollection.length;t++)u==this.legendCollection[t].Text?this.legendCollection[t].visibility?(this.legendCollection[t].visibility=!1,i={x:this.legendCollection[t].x,parentChildName:this.legendCollection[t].x,y:this.legendCollection[t].y,fill:this.legendCollection[t].fill,text:this.legendCollection[t].Text,point:this.legendCollection[t].points}):(this.legendCollection[t].visibility=!0,f.push({x:this.legendCollection[t].x,parentChildName:this.legendCollection[t].x,y:this.legendCollection[t].y,fill:this.legendCollection[t].fill,text:this.legendCollection[t].Text,point:this.legendCollection[t].points})):this.legendCollection[t].visibility&&f.push({x:this.legendCollection[t].x,parentChildName:this.legendCollection[t].x,y:this.legendCollection[t].y,fill:this.legendCollection[t].fill,text:this.legendCollection[t].Text,point:this.legendCollection[t].points});this.model.legendItemClick&&(o=p.extend({},this.common),c={location:{x:i.x,y:i.y},text:u,point:i.point},o.data=c,this._trigger("legendItemClick",o));this.processData(f);this.legendClicked=!0;this.drawSunburst(this.layerData);this.legendClicked=!1}},b.prototype.drawLegendShape=function(n,t,i,r){var y=this.model.legend.itemStyle,e=y.width,u=y.height,p=n.visibility?n.fill:"grey",b=n.sunburstLegendShape,w="Path",k=n.visibility?this.model.legend.border.color:"grey",f,s=t+-e/2,d=i+-u/2,c,o,l,a,v,h;o={id:this._id+"_svg_LegendItemShape"+r.toString(),fill:p,stroke:k,"stroke-width":this.model.legend.border.width};switch(b){case"circle":w="Circle";c=Math.sqrt(u*u+e*e)/2;o.r=c;o.cx=t;o.cy=i;break;case"diamond":f="M "+s+" "+i+" L "+t+" "+(i+-u/2)+" L "+(t+e/2)+" "+i+" L "+t+" "+(i+u/2)+" L "+s+" "+i+" z";o.d=f;break;case"rectangle":f="M "+s+" "+(i+-u/2)+" L "+(t+e/2)+" "+(i+-u/2)+" L "+(t+e/2)+" "+(i+u/2)+" L "+s+" "+(i+u/2)+" L "+s+" "+(i+-u/2)+" z";o.d=f;break;case"triangle":f="M "+s+" "+(i+u/2)+" L "+t+" "+(i+-u/2)+" L "+(t+e/2)+" "+(i+u/2)+" L "+s+" "+(i+u/2)+" z";o.d=f;break;case"pentagon":for(l=72,c=Math.sqrt(u*u+e*e)/2,h=0;h<=5;h++)a=c*Math.cos(Math.PI/180*h*l),v=c*Math.sin(Math.PI/180*h*l),f=h===0?"M "+(t+a)+" "+(i+v)+" ":f.concat("L "+(t+a)+" "+(i+v)+" ");f=f.concat("Z");o.d=f;break;case"cross":f="M "+(t-e)+" "+i+" L "+(t+e)+" "+i+" M "+t+" "+(i+u)+" L "+t+" "+(i-u);o.d=f;o.stroke=p}return this["draw"+w](o)},b.prototype.drawBottomTopLegend=function(n,i){var ut=this.legendTitleLocation,v=this.model.margin,c=this.yOffset,o=0,tt=0,u=this.elementSpacing,it,f,y,s,l=this.model.legend.itemStyle,b=this.model.legend.font.color,k,h=0,e,d,g,r,w,nt;if(it=this.isNullOrUndefined(b)?this.model.theme.toString().indexOf("dark")!=-1?"white":"black":b,this.isNullOrUndefined(n.rowCount||n.columnCount))for(this.legendItemGroup=this.createGroup({id:this._id+"legendItem_Group"}),n.title.visible&&n.title.text!=" "?(y=this.measureText(n.title.text,n.title.font),f=n.position==t.bottom?this.areaBounds.actualHeight+y.height+2*u+c:c+y.height+2*u):f=(n.position=t.bottom)?u+v.top+2*this.circularRadius[this.totallayerCount-1]+c+u:u+v.top+c+u,r=0;r<i.length;r++)if(o+=u+h+tt,h=this.measureText(i[r].Text,i[r].font).width,o+u+h+tt>this.width&&(o=u,f+=this.measureText(i[r].Text,i[r].font).height),s=Math.sqrt(l.width*l.width+l.height*l.height)/2,b=i[r].visibility?i[r].fill:"grey",o+h>900&&(f=f+this.measureText(i[r].Text,i[r].font).height+u,o=u),this.findLegendPosition(s,o,f,n,i[r]),this.legendInRegion)this.model.legendItemRendering&&(w=p.extend({},this.common),nt={location:{x:o,y:f},text:i[r].Text,shape:i[r].sunburstLegendShape},w.data=nt,this._trigger("legendItemRendering",w)),e=this.createGroup({id:this._id+"_svg_Legend"+r.toString()}),e.style.cursor="pointer",k=this.drawLegendShape(i[r],o,f,r),e.appendChild(k),h=this.measureText(i[r].Text,i[r].font).width+s*2,d={id:this._id+"_svg_LegendItemText"+r.toString(),x:o+u,y:f+s*3/4,fill:it,"font-size":i[r].font.size,"font-style":i[r].font.fontStyle,"font-family":i[r].font.fontFamily,"font-weight":i[r].font.fontWeight,"text-anchor":"start"},tt=n.itemPadding,g=this.createText(d,i[r].Text),e.appendChild(g),this.legendItemGroup.appendChild(e);else{this.legendPaging(n,r,i);break}else{var ft=n.rowCount,et=n.columnCount,rt=i.length,a=10;for(n.title.visible&&n.title.text!=" "?(y=this.measureText(n.title.text,n.title.font),f=n.position==t.bottom?2*u+v.top+2*this.circularRadius[this.totallayerCount-1]+c+y.height:2*u+v.top+c+y.height):f=n.position==t.bottom?2*u+v.top+2*this.circularRadius[this.totallayerCount-1]+c:2*u+v.top+c,r=0;r<rt;r++)if(b=i[r].visibility?i[r].fill:"grey",e=this.createGroup({id:this._id+"_svg_Legend"+r.toString()}),s=Math.sqrt(l.width*l.width+l.height*l.height)/2,a+i[r].Bounds.Width>this.LegendBounds.Width+10&&(a=h=10,f+=u+i[r].Bounds.Height),this.findLegendPosition(s,a,f,n,i[r]),this.legendInRegion)this.model.legendItemRendering&&(w=p.extend({},this.common),nt={location:{x:a,y:f},text:i[r].Text,shape:i[r].sunburstLegendShape},w.data=nt,this._trigger("legendItemRendering",w)),h=this.measureText(i[r].Text,i[r].font).width+s*2,e=this.createGroup({id:this._id+"_svg_Legend"+r.toString()}),e.style.cursor="pointer",k=this.drawLegendShape(i[r],a,f,r),e.appendChild(k),h=this.measureText(i[r].Text,i[r].font).width+s*2,d={id:this._id+"_svg_LegendItemText"+r.toString(),x:a+u,y:f+s*3/4,fill:it,"font-size":i[r].font.size,"font-style":i[r].font.fontStyle,"font-family":i[r].font.fontFamily,"font-weight":i[r].font.fontWeight,"text-anchor":"start"},a+=h+u,g=this.createText(d,i[r].Text),e.appendChild(g),this.legendItemGroup.appendChild(e);else{this.legendPaging(n,r,i);break}}return this.legendItemGroup},b.prototype.drawLeftRightLegend=function(n,t,i){var c=0,rt=0,g,o=0,s,u,e=this.model.legend.itemStyle,y=this.model.legend.font.color,w,nt=0,f,b,k,a=0,tt=this.elementSpacing,ut=this.model.margin,r,l,d;if(g=this.isNullOrUndefined(y)?this.model.theme.toString().indexOf("dark")!=-1?"white":"black":y,this.isNullOrUndefined(n.rowCount||n.columnCount)){for(n.title.visible&&n.title.text!=" "&&(s=this.measureText(n.title.text,n.title.font),a=s.height+tt),o=a+tt+rt,c=tt+ut.left,r=0;r<t.length;r++)if(s=this.measureText(t[r].Text,t[r].font),u=Math.sqrt(e.width*e.width+e.height*e.height)/2,y=t[r].visibility?t[r].fill:"grey",this.findLegendPosition(u,c,o,n,t[r]),this.legendInRegion)this.model.legendItemRendering&&(l=p.extend({},this.common),d={location:{x:c,y:o},text:t[r].Text,shape:t[r].sunburstLegendShape},l.data=d,this._trigger("legendItemRendering",l)),w=this.drawLegendShape(t[r],c,o,r),nt+=s.width+u,f=this.createGroup({id:this._id+"_svg_Legend"+r.toString()}),b={id:this._id+"_svg_LegendItemText"+r.toString(),x:c+this.elementSpacing,y:o+u*3/4,fill:g,"font-size":t[r].font.size,"font-style":t[r].font.fontStyle,"font-family":t[r].font.fontFamily,"font-weight":t[r].font.fontWeight,"text-anchor":"start"},rt=n.itemPadding,o+=s.height/2+this.elementSpacing,k=this.createText(b,t[r].Text),f.appendChild(w),f.appendChild(k),this.legendItemGroup.appendChild(f);else{this.legendPaging(n,r,t);break}return this.legendItemGroup}var et=n.rowCount,ot=n.columnCount,ft=t.length,v=10,h=26,it=0;for(i||(this.LegendBounds.Height+=this.measureText(n.title.text,n.title.font).height),this.model.legend.title.visible&&this.model.legend.title.text!=" "&&(s=this.measureText(n.title.text,n.title.font),a=s.height),o=a+this.elementSpacing,c=this.elementSpacing+this.model.margin.left,r=0;r<ft;r++)if(y=t[r].visibility?t[r].fill:"grey",f=this.createGroup({id:this._id+"_svg_Legend"+r.toString()}),u=Math.sqrt(e.width*e.width+e.height*e.height)/2,h+t[r].Bounds.Height+n.itemPadding+a+2>this.LegendBounds.Height+26&&(h=26,v+=it+n.itemPadding),h+=t[r].Bounds.Height/2+n.itemPadding,it=Math.max(it,t[r].Bounds.Width),this.findLegendPosition(u,v,h,n,t[r]),this.legendInRegion)this.model.legendItemRendering&&(l=p.extend({},this.common),d={location:{x:v,y:h},text:t[r].Text,shape:t[r].sunburstLegendShape},l.data=d,this._trigger("legendItemRendering",l)),nt=this.measureText(t[r].Text,t[r].font).width+u*2,f=this.createGroup({id:this._id+"_svg_Legend"+r.toString()}),f.style.cursor="pointer",w=this.drawLegendShape(t[r],v,h,r),f.appendChild(w),nt=this.measureText(t[r].Text,t[r].font).width+u*2,b={id:this._id+"_svg_LegendItemText"+r.toString(),x:v+u,y:h+u*3/4,fill:g,"font-size":t[r].font.size,"font-style":t[r].font.fontStyle,"font-family":t[r].font.fontFamily,"font-weight":t[r].font.fontWeight,"text-anchor":"start"},k=this.createText(b,t[r].Text),f.appendChild(k),this.legendItemGroup.appendChild(f);else{this.legendPaging(n,r,t);break}return this.legendItemGroup},b.prototype.legendPaging=function(n,t,i){var u=this.legendCollection.length,o=t,f,r,e;for(this.legendPages=[],this.currentpageNumber=1,this.totalpageNumbers=t==0?u:u%t==0?Math.floor(u/t):Math.floor(u/t)+1,r=0;r<u;r=r+o){for(f=[],e=0;e<o;e++)r+e<u&&f.push(i[r+e]);if(o==0){f.push(i[r]);this.legendPages.push(f);break}this.legendPages.push(f)}},b.prototype.findLegendPosition=function(n,i,r,u,f){var e=this.elementSpacing,o,s=20/100;u.position==t.bottom?this.legendInRegion=n+r+e>this.height-e?!1:!0:u.position==t.top?this.legendInRegion=this.yOffset+s*this.height-this.elementSpacing-n>r?!0:!1:(u.position==t.left||u.position==t.right)&&(this.isNullOrUndefined(u.rowCount)&&this.isNullOrUndefined(u.columnCount)?this.legendInRegion=n+r+e>this.height-e?!1:!0:(o=this.measureText(f.Text,f.font),this.legendInRegion=s*this.width+e>i+n+o.width?!0:!1))},b.prototype.drawDatalabel=function(n){var y,a,v;for(this.dataLabelGroupEle=this.createGroup({id:this._id+"_svg_DataLabelGroup"}),y=0;y<n.length;y++){var r=n[y],t=void 0,u=void 0,e=void 0,nt=void 0,f=void 0,tt=void 0,it=void 0,rt=void 0,d=void 0,yt=void 0,g=void 0,w=void 0,b=void 0,ut=void 0,l=void 0,ft=void 0,et=void 0,pt=void 0,s=void 0,h=void 0,ot=void 0,st=void 0,ht=void 0,ct=void 0,k=void 0,lt=void 0,at=void 0,i=this.model,wt=this.circularRadius[0]-this.innerRadius[0],vt=void 0;for(a=0;a<r.point.length;a++)t=r.point[a],t.y!=null&&(k=r.layerNumber,u=t.text?t.text:i.dataSource?t.x:t.y.toString(),e=this.measureText(u,i.dataLabelSettings.font),nt=-.5*Math.PI,d=this.circularRadius[r.layerNumber-1],pt=e.height/2,s=this.circleCenterX,h=this.circleCenterY,f=t.midAngle+nt,ot=this.getXcordinate(s,d,f),st=this.getYcordinate(h,d,f),lt=this.getXcordinate(s,this.innerRadius[k-1],f),at=this.getYcordinate(h,this.innerRadius[k-1],f),vt={dMidX:lt,dMidY:at},r.layerNumber>1&&(ht=this.getXcordinate(s,this.circularRadius[r.layerNumber-2],f),ct=this.getYcordinate(h,this.circularRadius[r.layerNumber-2],f)),tt={midX:ot,midY:st},it={childMidX:ht,childMidY:ct},rt={midPoint:tt,childMidPoint:it,sunburstMidPoint:vt},et={startX:s,startY:h},yt={width:this.width,height:this.height},g=this.calculateLabelPosition(et,rt),w=g.positionX,b=g.positionY,ut="middle",l=this.textOptions(t,w,b,e,ut,r.layerNumber,a),this.isNullOrUndefined(i.dataLabelSettings.template)?(v=p.extend({},this.common),v.data={Text:u,location:{x:w,y:b},pointIndex:t.pointIndex},this._trigger("dataLabelRendering",v),i.dataLabelSettings.labelRotationMode==c.normal&&i.dataLabelSettings.labelOverflowMode!=o.none&&this.isNullOrUndefined(i.dataLabelSettings.template)?u=this.horizontalTrim(l,e.width,v.data.Text,s,h,t,this.model.dataLabelSettings.font,k-1):i.dataLabelSettings.labelRotationMode==c.angle&&i.dataLabelSettings.labelOverflowMode!=o.none&&this.isNullOrUndefined(i.dataLabelSettings.template)&&(u=this.rotatedTrim(l,e.width,v.data.Text,wt,t)),u!=""&&(ft=this.createText(l,u),this.dataLabelGroupEle.appendChild(ft))):this.labelTemplate(w,b,l,e,t))}return this.dataLabelGroupEle},b.prototype.labelTemplate=function(n,t,i,r,u){var l=this._id,o={interior:this.model.dataLabelSettings.fill,opacity:1,borderColor:"white",borderWidth:.1},s,f,e,h,c;s=!this.isNullOrUndefined(o)&&o.interior?o.interior:"transparent";e=document.getElementById(this._id+"_svg_DataLabelGroup");this.isNullOrUndefined(e)&&(e=document.createElement("div"),e.id=this._id+"_svg_DataLabelGroup",e.style.zIndex="5000",document.getElementById(this._id).appendChild(e));f=document.createElement("div");f.id="template_ele_"+this._id;this.clonenode=document.getElementById(this.model.dataLabelSettings.template).cloneNode(!0);this.clonenode.style.display="block";this.clonenode.innerHTML=this.parseTemplate(this.clonenode,u);f.style.backgroundColor=s;f.style.display="block";f.style.cursor="default";f.style.position="absolute";f.appendChild(this.clonenode);document.getElementById(this._id+"_svg_DataLabelGroup").appendChild(f);h=f.clientWidth;c=f.clientHeight;f.style.left=(i.x-h/2).toString()+"px";f.style.top=(i.y-c/2).toString()+"px"},b.prototype.parseTemplate=function(n,t){var i;return i=n.innerHTML,i.search("#point.x#")!=-1&&(i=i.replace("#point.x#",t.x.toString())),i.search("#point.y#")!=-1&&(i=i.replace("#point.y#",t.y.toString())),i.search("#point.text#")!=-1&&(i=this.isNullOrUndefined(t.text)?i.replace("#point.text#",t.y.toString()):i.replace("#point.text#",t.text.toString())),i},b.prototype.rotatedTrim=function(n,t,i,r){for(var u=this.model;r-u.segmentBorder.width<t;)if(u.dataLabelSettings.labelOverflowMode==o.trim)if(i=this.trimText(i,i.length,"..."),i=="..."){i="";break}else t=this.measureText(i,u.dataLabelSettings.font).width;else{i="";break}return i},b.prototype.trimText=function(n,t,i){var r,u;return t--,r=t-i.length,u=n.substr(0,r),u+i},b.prototype.horizontalTrim=function(n,t,i,r,u,f,e,s){var w=-.5*Math.PI,v,a,c,l,d="...",k,y,b,p=this.model,h;if(h=this.calculatePosition(n,t,r,u),v=p.startAngle,a=p.endAngle,k=a-v,v=(Math.atan2(h.rightEndY,h.rightEndX)-w)%(2*Math.PI),v<0&&(v=2*Math.PI+v),a=(Math.atan2(h.leftEndY,h.leftEndX)-w)%(2*Math.PI),a<0&&(a=2*Math.PI+a),c=parseFloat(f.start.toFixed(14)),l=parseFloat(f.end.toFixed(14)),k>0?(c=c,l=l):(c=c<0?2*Math.PI+c:c,l=l<0?2*Math.PI+l:l),v<0&&(a>0||a==null)&&(c=c<0?2*Math.PI+c:c,l=l<=0?2*Math.PI+l:l),y=this.circleCenterX<n.x?Math.sqrt(Math.pow(Math.abs(h.rightEndX),2)+Math.pow(Math.abs(h.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(h.leftEndX),2)+Math.pow(Math.abs(h.leftEndY),2)),k<0&&(l=[c,c=l][0]),a>=c&&a<=l&&v>=c&&v<=l&&y<=this.circularRadius[s]-p.segmentBorder.width&&y>0)b=!0;else{if(p.dataLabelSettings.labelOverflowMode==o.hide)return"";for(b=!1;!b;){if(i=this.trimText(i,i.length,d),i==d){i="";break}t=this.measureText(i,p.dataLabelSettings.font).width;h=this.calculatePosition(n,t,r,u);v=(Math.atan2(h.rightEndY,h.rightEndX)-w)%(2*Math.PI);v<0&&(v=2*Math.PI+v);a=(Math.atan2(h.leftEndY,h.leftEndX)-w)%(2*Math.PI);a<0&&(a=2*Math.PI+a);y=this.circleCenterX<n.x?Math.sqrt(Math.pow(Math.abs(h.rightEndX),2)+Math.pow(Math.abs(h.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(h.leftEndX),2)+Math.pow(Math.abs(h.leftEndY),2));a>=c&&a<=l&&v>=c&&v<=l&&y<=this.circularRadius[s]&&y>0&&(b=!0)}}return i},b.prototype.calculatePosition=function(n,t,i,r){var u,f,e,o;return u=n.x+t/2-i,f=n.y-r,e=n.x-t/2-i,o=n.y-r,{rightEndX:u,rightEndY:f,leftEndX:e,leftEndY:o}},b.prototype.textOptions=function(n,t,i,r,u,f,e){var s,a=0,v,o=this.model.dataLabelSettings.font,h=o.color,l,y;return this.model.dataLabelSettings.labelRotationMode==c.angle&&((n.midAngle>2*Math.PI||n.midAngle<0)&&(s=this.findAngle(n.midAngle)),a=n.midAngle<=Math.PI||!this.isNullOrUndefined(s)?this.isNullOrUndefined(s)?(n.startAngle-Math.PI/2+(n.endAngle-Math.PI/2))/2*(180/Math.PI):s<=Math.PI?(n.startAngle-Math.PI/2+(n.endAngle-Math.PI/2))/2*(180/Math.PI):(n.startAngle+n.endAngle)*90/Math.PI-270:(n.startAngle+n.endAngle)*90/Math.PI-270),v=this._colorNameToHex(n.fill),(this.isNullOrUndefined(h)||h=="")&&(l=this._hexToRgb(v),y=Math.round((parseInt(l.r)*299+parseInt(l.g)*587+parseInt(l.b)*114)/1e3),h=y>=128?"black":"white"),{id:this._id+"_legendIndex"+n.legendIndex+"_layerNumber"+f.toString()+"_pointIndex"+e.toString(),x:t,y:i+r.height/4,fill:h,"font-size":o.size,"font-family":o.fontFamily,"font-style":o.fontStyle,"font-weight":o.fontWeight,opacity:o.opacity,"text-anchor":u,cursor:"default",transform:"rotate("+a+","+t+","+i+")"}},b.prototype._colorNameToHex=function(n){var t=n,i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return Object.prototype.toString.call(t)=="[object Array]"?t:typeof i[t.toLowerCase()]!="undefined"?i[t.toLowerCase()]:t},b.prototype._hexToRgb=function(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},b.prototype.findAngle=function(n){var t;if(n>0)if(t=n%(2*Math.PI),t>2*Math.PI)this.findAngle(t);else return t;else return 2*Math.PI+n},b.prototype.calculateLabelPosition=function(n,t){var i,r,u,f,e,o,c,l,s,h;return u=t.midPoint.midX,f=t.midPoint.midY,e=t.childMidPoint.childMidX,o=t.childMidPoint.childMidY,c=n.startX,l=n.startY,s=t.sunburstMidPoint.dMidX,h=t.sunburstMidPoint.dMidY,this.isNullOrUndefined(e)?(i=(u+s)/2,r=(f+h)/2):(i=(u+e)/2,r=(f+o)/2),{positionX:i,positionY:r}},b.prototype.drawPath=function(n){var t=document.getElementById(n._id);return t===null&&(t=this.createElement("path")),this.setAttributes(n,t),t},b.prototype.sunburstRender=function(n){var i,r,t;for(this.circleCenterX=[],this.circleCenterY=[],this.circularRadius=[],this.sunburstRegions=[],this.startX=[],this.startY=[],this._visiblePoints=n,this.calculateSliceAngle(n[0].point),i=2;i<=this.totallayerCount;i++)for(t=1;t<n.length;t++)i==n[t].layerNumber&&n[t].point.length>0&&this.calculateChildAngle(n[t]);for(this.circularRadius=this.calculateRadius(this.areaBounds.actualWidth,this.areaBounds.actualHeight,this.totallayerCount),this._drillInnerRadius.length==0?this.circularRadius=this.calculateRadius(this.areaBounds.actualWidth,this.areaBounds.actualHeight,this.totallayerCount):(this.circularRadius=this._drillOuterRadius[this.drilldownCount-1],this.innerRadius=this._drillInnerRadius[this.drilldownCount-1]),this.gSeriesGroupEle=this.createGroup({id:this._id+"_svg_SunBurstElementGroup"}),r=this.totallayerCount;r>0;r--)for(t=0;t<n.length;t++)r==n[t].layerNumber&&this.drawRegion(n[t],t);return this.sunburstDoubleClick=this.sunburstDoubleClick.bind(this),this.gSeriesGroupEle.addEventListener("dblclick",this.sunburstDoubleClick,!0),this.gSeriesGroupEle},b.prototype.calculateArcData=function(n,t,i){var b,c,r,u,a,o,k,v,f,e,s,y,h,p,w,d,g;b=this.model.points;c=-.5*Math.PI;r=n.startAngle+c;u=n.endAngle+c-1e-6;a=this.model.endAngle-this.model.startAngle;o=u-r<Math.PI?0:1;k=(r+u)/2;n.currentMidAngle==undefined&&(n.currentMidAngle=(r+u)/2);s=a>0?1:0;o=s?u-r<Math.PI?0:1:u-r>-1*Math.PI?0:1;f=this.circleCenterX;e=this.circleCenterY;y=f+i*Math.cos(r);p=e+i*Math.sin(r);h=f+i*Math.cos(u);w=e+i*Math.sin(u);var nt=f+this.innerRadius[t-1]*Math.cos(r),tt=e+this.innerRadius[t-1]*Math.sin(r),l=f+this.innerRadius[t-1]*Math.cos(u),it=e+this.innerRadius[t-1]*Math.sin(u),rt=s?0:1;return r<0&&Math.round(n.endAngle-n.startAngle)==6&&(l=l-.01,h=h-.01),v="M "+y+" "+p+" A "+i+" "+i+" 0 "+o+" "+s+" "+h+" "+w+" L "+l+" "+it+" A "+this.innerRadius[t-1]+" "+this.innerRadius[t-1]+" 1 "+o+" "+rt+" "+nt+" "+tt+" z",{Direction:v,centerX:d,centerY:g}},b.prototype.findParent=function(n){for(var i,r,f,e=n.layerNumber-1,u,t=0;t<this._visiblePoints.length;t++)if(e==this._visiblePoints[t].layerNumber)for(i=0;i<this._visiblePoints[t].point.length;i++)if(this._visiblePoints[t].point[i].x==n.parentName&&this._visiblePoints[t].point[i].legendIndex==n.legendIndex){if(this.isNullOrUndefined(this.model.dataSource))return this._visiblePoints[t].point[i];for(r=0;r<n.point.length;r++)if(u=this._visiblePoints[t].point[i].parentChildName,f=n.point[r].parentChildName.length-n.point[r].x.length-1,n.point[r].parentChildName.substr(0,f)==u)return this._visiblePoints[t].point[i]}},b.prototype.drawRegion=function(n,t){var l,a,tt,r,f,k,d=[],g,it,e=this.model,v,y,o=e.segmentBorder.color,w,s,h,rt,b,u,c,nt;for(v=this.model.startAngle*(Math.PI/180),h=e.selectionSettings,o=this.isNullOrUndefined(o)?this.model.theme.toString().search("dark")!=-1?"black":"white":o,u=0;u<n.point.length;u++)if(s=!1,y=e.opacity,!isNaN(n.point[u].startAngle)){for(r=n.point[u],rt=r.fill,l=this.calculateArcData(r,n.layerNumber,this.circularRadius[n.layerNumber-1]),tt=l.Direction.split(" "),it=this.circularRadius[n.layerNumber-1],r.layerIndex=t,f=this._id+"_legendIndex"+r.legendIndex+"_layerNumber"+n.layerNumber.toString()+"_layerIndex"+t.toString()+"_pointIndex"+u.toString(),c=0;c<this.selectedgroupID.length;c++)f==this.selectedgroupID[c]&&(s=!0);h.type==i.opacity&&!s&&this.selectedgroupID.length>0&&(y=h.opacity);r.id=f;a={id:f,fill:r.fill,"stroke-width":e.segmentBorder.width,"stroke-dasharray":"",d:l.Direction,stroke:o,"stroke-linecap":"butt","stroke-linejoin":"round",opacity:y,visibility:this._enableAnimation?"hidden":"visible"};w=p.extend({},this.common);w.data={point:r,pathOptions:a};this._trigger("segmentRendering",w);b=this.drawPath(a);s&&h.type==i.color&&this.selectPointData(b);this.gSeriesGroupEle.appendChild(b);k={x:r.x,y:r.y,fill:r.fill,text:r.text,layerNumber:n.layerNumber,layerIndex:t,parentName:n.parentName,pointIndex:u,startAngle:r.startAngle-v,endAngle:r.endAngle-v,startX:this.startX,startY:this.startY,groupNumber:n.groupNumber,id:f,legendIndex:r.legendIndex,parentChildName:r.parentChildName};d.push(k)}g={Radius:this.circularRadius[n.layerNumber-1],centerX:this.circleCenterX,centerY:this.circleCenterY,innerRadius:this.innerRadius[n.layerNumber-1]};nt={sunburstData:g,region:d};this.sunburstRegions.push(nt)},b.prototype.calculateRadius=function(n,t,i){var r=0,f=[],s,e=this.model.radius,c=Math.min(n,t),o,h=this.model.innerRadius,u;for(this.innerRadius=[],s=e>1?1:e<0?0:e,o=c/2*s,h!=0?this.innerRadius.push(h*o):this.innerRadius.push(0),u=0;u<i;u++)u==0?(r=(o-this.innerRadius[0])/i+this.innerRadius[0],f[u]=r):(this.innerRadius.push(r),r=r-this.innerRadius[u-1]+r,f[u]=r);return f},b.prototype.calculateSliceAngle=function(n){for(var v=n.length,o=0,u=360,i,s=this.model.margin,y,p,h,c=0,w,b,f,d,l=0,a=0,k=this.model.border.width,r=this.model.legend,e=0;e<v;e++)n[e].y=this.isNullOrUndefined(n[e].y)?this.isNullOrUndefined(n[e].point)?0:this.calculateSumofY(n[e],o):n[e].y,o+=n[e].y;for(this.model.startAngle>this.model.endAngle&&(this.model.endAngle==0?this.model.endAngle=360:this.model.endAngle<0&&(this.model.endAngle=360+this.model.endAngle)),u=this.model.endAngle!=null&&this.model.startAngle<this.model.endAngle?this.model.endAngle-this.model.startAngle:this.model.startAngle>this.model.endAngle&&!this.isNullOrUndefined(this.model.endAngle)?360-this.model.startAngle+this.model.endAngle:360,u=u!=360&&u!=-360?u%360:u,this.model.startAngle?(this.model.startAngle=this.model.startAngle%360,this.model.endAngle=this.model.startAngle+u,c=this.model.startAngle?o/360*this.model.startAngle:0,c=c/o):this.model.endAngle=u,r.visible&&(r.position==t.right||r.position==t.left?(l+=this.elementSpacing+this.LegendBounds.Width,this.isNullOrUndefined(r.size.width)||(l=parseFloat(r.size.width))):(r.position==t.bottom||r.position==t.top)&&(a+=this.elementSpacing+this.LegendBounds.Height,this.isNullOrUndefined(r.size.height)||(a=parseFloat(r.size.height)))),y=this.height-(a+s.top+s.bottom+k*2+this.yOffset),p=this.width-(l+s.left+s.right+k*2),this.circleCenterX=p*.5+s.left+(r.visible&&r.position==t.left?l:0),this.circleCenterY=y*.5+s.top+this.yOffset+(r.visible&&r.position==t.top?a:0),u=this.model.endAngle-this.model.startAngle,b=u/180,f=0;f<v;f++)i=n[f],i.startAngle=f==0?2*Math.PI*c:h,h=i.endAngle=b*Math.PI*(i.y/o)+i.startAngle,h=i.endAngle=isNaN(h)?i.startAngle:h,i.start=i.startAngle,i.end=i.endAngle,i.midAngle=(i.endAngle+i.startAngle)/2,i.pointIndex=f,w=-.5*Math.PI,i.radian=i.midAngle/2%(2*Math.PI),c+=i.y/o,d=i.midAngle+w,this.startX[f]=this.circleCenterX,this.startY[f]=this.circleCenterY},b.prototype.calculateTotaldegree=function(n,t){var i=0;return n<t?i=t-n:n>t&&(i=360-n+t),i},b.prototype.calculateSumofY=function(n,t){for(var r=n.point,i=0;i<r.length;i++)this.isNullOrUndefined(r[i].y)?this.isNullOrUndefined(r[i].point)||(r[i].y=this.calculateSumofY(r[i],t),t+=r[i].y):t+=r[i].y;return t},b.prototype.calculateChildAngle=function(n){for(var i,u,o,f=0,s,t,r=this.findParent(n),e=0;e<n.point.length;e++)f=f+n.point[e].y;for(s=r.y,u=i=r.startAngle,o=r.endAngle-r.startAngle,t=0;t<n.point.length;t++)t==0?(n.point[t].startAngle=u,n.point[t].start=u,i=n.point[t].y/f*o+u,n.point[t].end=n.point[t].endAngle=i,n.point[t].midAngle=(n.point[t].startAngle+n.point[t].endAngle)/2):(n.point[t].startAngle=i,n.point[t].start=i,i=n.point[t].y/f*o+i,n.point[t].end=n.point[t].endAngle=i,n.point[t].midAngle=(n.point[t].startAngle+n.point[t].endAngle)/2)},b.prototype.calculateSize=function(n,t){var o,s,u=this.model.border.width,i,f,h,c,l,r=this.model.margin,e=this.elementSpacing;return i=this._getLegendSpace(this.model.legend),f=i.leftLegendWidth+u+r.left,h=i.rightLegendWidth+r.right+r.left+2*u,c=n.width,o=c-(f+h),l=r.top+e+i.modelTitleHeight+i.modelsubTitleHeight+i.topLegendHeight+u,this.yOffset=t.text&&t.visible?this.titleLocation.size.height+e+(t.subtitle.text==""?0:t.subtitle.text&&t.subtitle.visible?this.subTitleLocatation.size.height:0):0,s=n.height-(i.modelTitleHeight+e+r.top+i.modelsubTitleHeight+i.topLegendHeight+i.bottomLegendHeight),{x:f,y:l,actualWidth:o,actualHeight:s}},b.prototype._getLegendSpace=function(n){var l=this.LegendActualBounds,f=this.elementSpacing,k=this.model.legend.border.width,e=0,r=0,u=0,o=0,a,c=this.model.legend.position,v=0,y=0,p=0,w,b,s,h,i=this.model.title;return f=this.legendClicked?0:f,n.visible&&(a=parseFloat(l.Width)+5+f+2*k,h=this.width*(20/100),e=c==t.left?a:0,e>h&&this.isNullOrUndefined(n.size.width)&&(e=h),r=c==t.right?a:0,r>h&&this.isNullOrUndefined(n.size.width)&&(r=h),s=this.height*(20/100),v=n.title.visible?this.measureText(n.title.text,n.title.font).height:0,u=c==t.top?f+parseFloat(l.Height)+v:0,o=c==t.bottom?f+parseFloat(l.Height)+v:0,u>s&&this.isNullOrUndefined(n.size.height)?u=s:o>s&&this.isNullOrUndefined(n.size.height)&&(o=s),this.LegendActualBounds.Height=u==0&&o!=0?o:u!=0?u:this.LegendActualBounds.Height,this.LegendActualBounds.Width=r==0&&e!=0?e:r!=0?r:this.LegendActualBounds.Width),y=this.measureText(i.text,i.font).height,p=this.measureText(i.subtitle.text,i.subtitle.font).height,w=i.text==""||!i.visible?0:y+f,b=i.subtitle.text==""||!i.subtitle.visible?0:p,{leftLegendWidth:e,rightLegendWidth:r,topLegendHeight:u,bottomLegendHeight:o,modelTitleHeight:w,modelsubTitleHeight:b}},b.prototype.calculateLegendBounds=function(){var e,rt,k,w;this.legendCollection=[];this.legendRegion=[];this.legendTextRegion=[];this._legendMaxHeight=0;this._legendMaxWidth=0;var r=this.model.legend,h=10,et=r.size.height,ot=r.size.width,n=r.itemPadding>0?r.itemPadding:0,c=r.position.toLowerCase(),u=0,f=0,vt=this.height,yt=this.width,l=0,a=0,t=0,s=0,d=1,st={},v=[],g=this.model.legend.rowCount,nt=this.model.legend.columnCount,tt=this.elementSpacing,it=this.measureText(r.title.text,r.title.font),ht=r.border.width,ct=this.model.border.width,pt=vt-(tt*4+ct*2+ht*2),wt=yt-(tt*4+ct*2+ht*2),o=[],lt,bt,ut,b,y,at,i,kt,p,ft;if(r.visible){for(o=this.layerData[0].point,lt=o.length,e=0;e<lt;e++)kt=o[e],bt=o[e].fill,ut=o[e].x,st={sunburstLegendShape:r.shape,Text:ut,displayText:ut,font:r.font,groupNumber:o[e].groupNumber,layerIndex:o[e].layerIndex,layerNumber:o[e].layerNumber,Shape:"None",visibility:!0,fill:o[e].fill,points:o[e].point,x:o[e].x,y:o[e].y},v.push(st);for(b=v.length,rt=0;rt<b;rt++)y=v[rt],at=r.itemStyle.width,i=this._getLegendSize(y),l=Math.max(this._legendMaxWidth>0?this._legendMaxWidth+n+at:i.Width,l),a=Math.max(i.Height,a);for(s=a+tt*2,t=l,(g||nt)&&(ft=this.legendItemBounds(b,l+n,a+n),t=ft.LegendWidth,s=ft.LegendHeight,c==="top"||c==="bottom"||c==="custom"?s=s-n+tt:t=t-n),k=0;k<b;k++)y=v[k],i=this._getLegendSize(y),p=g||nt?{Width:l,Height:a}:i,p._Width=i.Width,v[k].Bounds=p,this.legendCollection.push(y);for(w=0;w<b;w++)y=v[w],i=this._getLegendSize(y),g||nt||(c=="top"||c=="bottom"||c=="custom"?(u+=i.Width+n,u>wt&&w!=0?(u-=i.Width+n,t=Math.max(t,u),u=i.Width+n,d++,s+=a+n):t=Math.max(t,u),f=Math.max(f,a)):(f+=i.Height+n,f>pt?(f-=i.Height+n,s=Math.max(s,f),f=i.Height+n,t+=l+n):s=Math.max(s,f),u=Math.max(u,l))),p=g||nt?{Width:l,Height:a}:i,p._Width=i.Width,v[w].Bounds=p;c==="top"||c==="bottom"||c==="custom"?(t=it.width>t-n?it.width+h*2+n:t+h*2,u+=h,f+=h*2,this.LegendBounds={Width:Math.max(t,u)-n,Height:Math.max(s,f),Rows:d}):(t=it.width>t-n?it.width+h*2+n:t+h*2,u+=h,f+=h*2,this.LegendBounds=r.rowCount==null&&r.columnCount==null?{Width:u,Height:f,Columns:d}:{Width:Math.max(t,u),Height:Math.max(s,f)+h-n,Columns:d})}else this.LegendBounds={Width:0,Height:0};this.LegendActualBounds=this.LegendBounds;ot!=null&&(this.LegendActualBounds.Width=ot);et!=null&&(this.LegendActualBounds.Height=et)},b.prototype._getLegendSize=function(n){var r=this.model.legend,t=r.itemStyle,i=this.measureText(n.Text,n.font),u=t.width+10+i.width,f=Math.max(t.height,i.height);return{Width:u,Height:f}},b.prototype.legendItemBounds=function(n,t,i){var r=this.model.legend,s,h=r.position,c=r.itemPadding,u,e,o=0,f=0;return this.isNullOrUndefined(r.columnCount)&&r.rowCount?(u=r.rowCount,e=Math.ceil(n/u),o=t*e,f=i*u):this.isNullOrUndefined(r.rowCount)&&r.columnCount?(u=Math.ceil(n/r.columnCount),s=r.columnCount,o=t*s,f=i*u):r.rowCount&&r.columnCount&&(r.columnCount<r.rowCount?(u=r.rowCount,e=Math.ceil(n/u),o=t*e,f=i*u):r.columnCount>r.rowCount?h==="top"||h==="bottom"||h==="custom"?(u=Math.ceil(n/r.columnCount),s=r.columnCount,o=t*s,f=i*u):(u=Math.ceil(n/r.columnCount),e=Math.ceil(n/u),o=t*e,f=i*u):h==="top"||h==="bottom"?(u=Math.ceil(n/r.columnCount),s=Math.ceil(n/r.rowCount),o=t*r.columnCount,f=i*s):(u=r.rowCount,e=Math.ceil(n/u),o=t*e,f=i*u)),f+=this.elementSpacing,{LegendWidth:o,LegendHeight:f}},b.prototype.drawTitle=function(n,t){var r,o,s,h,c,i,e=this.elementSpacing,f=n.font.color;return f=this.isNullOrUndefined(f)?this.model.theme.toString().indexOf("dark")!=-1?"white":"black":f,r=this.measureText(n.text,n.font),o=n.textAlignment==u.center?t.width/2-r.width/2:n.textAlignment==u.near?2*e:t.width-r.width-2*e,s=r.height/2+e,i=p.extend({},this.common),i.data={TitleText:n.text,location:{X:o,Y:s},size:r},this._trigger("titleRendering",i),h={id:this._id+"SunburstTitle",x:i.data.location.X,y:i.data.location.Y,fill:f,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,"text-anchor":"start"},this.gTitleGroupElement=this.createGroup({id:this._id+"_Sunburst_Title"}),c=this.createText(h,i.data.TitleText),this.gTitleGroupElement.appendChild(c),this.titleLocation={size:r,x:i.data.location.X,y:i.data.location.Y},n.subtitle.text!=""&&n.subtitle.visible&&this.drawSubtitle(n,t,r,this.titleLocation),this.gTitleGroupElement},b.prototype.drawSubtitle=function(n,t,i,r){var s,e,o,h,c,l,f=n.subtitle.font.color;f=this.isNullOrUndefined(f)?this.model.theme.toString().indexOf("dark")!=-1?"white":"black":f;s=this.measureText(n.subtitle.text,n.subtitle.font);e=n.subtitle.textAlignment==u.far?r.x+r.size.width:n.subtitle.textAlignment==u.near?r.x:r.x+i.width/2;o=r.size.height+2*this.elementSpacing;l=n.subtitle.textAlignment==u.far?"end":n.subtitle.textAlignment==u.near?"start":"middle";h={id:this._id+"SunburstSunbtitle",x:e,y:o,fill:f,"font-size":n.subtitle.font.size,"font-family":n.subtitle.font.fontFamily,"font-style":n.subtitle.font.fontStyle,"font-weight":n.subtitle.font.fontWeight,opacity:n.subtitle.font.opacity,"text-anchor":l};this.subTitleLocatation={size:s,x:e,y:o};c=this.createText(h,n.subtitle.text);this.gTitleGroupElement.appendChild(c)},b.prototype.measureText=function(n,t){var r=document.querySelectorAll("#measureTex"),i;return r.length==0?(i=document.createElement("text"),i.setAttribute("id","measureTex"),document.body.appendChild(i)):(i=r[0],i.style.display="block"),i.innerHTML=n,i.style.fontSize=t.size,i.style.fontFamily=t.fontFamily,i.style.fontWeight=t.fontWeight,i.style.backgroundColor="white",i.style.position="absolute",i.style.visibility="hidden",i.style.whiteSpace="nowrap",{width:i.offsetWidth,height:i.offsetHeight}},b.prototype.drawContainerRect=function(){var n;return n={id:this._id+"_svg_svgRect",x:0,y:0,width:this.width,height:this.height,fill:this.model.background||"transparent",stroke:this.model.border.color,"stroke-width":this.model.border.width,opacity:"0.5"},this.drawRect(n)},b.prototype.processData=function(n){var r=n.length,i,t;for(this.findBaseData(n),t=0;t<n.length;t++)i=n[t],i.legendIndex=t,n[t].point&&this.findLayerData(n[t].point,n[t].x,1,n[t].groupNumber,t)},b.prototype.findBaseData=function(n){var i=[],t;for(this.layerData=[],t=0;t<n.length;t++)i.push(n[t]),i[t].groupNumber=t+1,i[t].layerIndex=0,i[t].layerNumber=1,i[t].legendIndex=t,n[t].groupNumber=t+1;this.layerData.push({point:i,layerNumber:1,legendIndex:0});this.totallayerCount=1},b.prototype.findLayerData=function(n,t,i,r,u){for(var e=[],f=0;f<n.length;f++)n[f].point&&n[f].point.length>0?(n[f].legendIndex=u,this.findLayerData(n[f].point,n[f].x,i+1,r,u),n[f].layerIndex=this.layerData.length,e.push(n[f])):(n[f].legendIndex=u,n[f].layerIndex=this.layerData.length,e.push(n[f]));n.layerData=this.layerData.length;this.layerData.push({point:e,parentName:t,layerNumber:i+1,groupNumber:r,layerIndex:this.layerData.length,legendIndex:u});i+1>this.totallayerCount&&(this.totallayerCount=i+1)},b.prototype.setColors=function(n){for(var r=["#3082bd","#e55725","#9cbb59","#F6851F","#8165a3","#4fa045","#d456a0","#0dbdef","#e2a325","#03a09c"],i=this.model.palette,t=0;t<n.length;t++)this.isNullOrUndefined(n[t].fill)||this._sunburstRedraw?(this.isNullOrUndefined(i)||i.length!=0?(n[t].fill=this.isNullOrUndefined(i)?r[t%r.length]:i[t%i.length],n[t].fill.trim().length==0&&(n[t].fill="black")):n[t].fill="black",this.isNullOrUndefined(n[t].point)||this.setchildColors(n[t].point,n[t].fill)):this.isNullOrUndefined(n[t].point)||(n[t].fill.trim().length==0&&(n[t].fill="black"),this.setchildColors(n[t].point,n[t].fill))},b.prototype.setchildColors=function(n,t){t=t.trim().length==0?"black":t;for(var i=0;i<n.length;i++)this.isNullOrUndefined(n[i].fill)||this._sunburstRedraw?(n[i].fill=t,n[i].fill.trim().length==0&&(n[i].fill="black"),this.isNullOrUndefined(n[i].point)||this.setchildColors(n[i].point,t)):this.isNullOrUndefined(n[i].point)||this.setchildColors(n[i].point,t)},b.prototype.processDataSource=function(n){var h=this.model.levels.length,u=[],f=0,e,o,t,s,i,r;for(this.model.points=[],this.parentNames=[],this.levelNames=[],this.childProcess=undefined,i=0;i<n.length;i++)if(e=n[i],o=this.model.levels[f].groupMemberPath,t=e[o],s=p.inArray(t,u),s<0)this.model.points.push({x:t,y:n[i][this.model.valueMemberPath],layer:f+1,parentName:t,parentChildName:t}),u.push(t);else for(r=0;r<this.model.points.length;r++)this.model.points[r].x==t&&(this.model.points[r].y+=n[i][this.model.valueMemberPath]);this.model.levels.length>1&&this.createOtherLayerPoints(n,1)},b.prototype.createOtherLayerPoints=function(n,t){for(var o,e,i=n,s=this.model.levels[t].groupMemberPath,h,c=this.model.levels,f=this.model.points,r=0;r<i.length;r++){var u="",l="",v=0,a=void 0,y=void 0,w=void 0,b=void 0;for(o=0;o<=t;o++){if(y=c[o].groupMemberPath,l=i[r][y],this.isNullOrUndefined(l)||(u+=l+"_"),v==t){u=u.substring(0,u.length-1);break}v++}if(w=p.inArray(u,this.levelNames),b=c[t-1].groupMemberPath,a=i[r][b],w<0&&!this.isNullOrUndefined(i[r][s]))this.levelNames.push(u),h=i[r][this.model.valueMemberPath],f.push({x:i[r][s],y:h,layer:t+1,parentChildName:u,parentName:a});else if(!this.isNullOrUndefined(i[r][s]))for(e=0;e<f.length;e++)f[e].parentName==a&&u==f[e].parentChildName&&(f[e].y+=h)}t<c.length-1?this.createOtherLayerPoints(i,t+1):(this._points=f,this.model.points=[],this.alignDataSourcePoints(i,1))},b.prototype.alignDataSourcePoints=function(n,t){for(var i,u=this.model.levels,r=t;r<u.length;r++)for(i=0;i<this._points.length;i++)if(r==this._points[i].layer)this.parentNames.push(this._points[i].parentName+"_layer_"+this._points[i].layer);else{r=u.length;break}this.findParentElements(this.model.points)},b.prototype.findParentElements=function(n){for(var r,t,i=0;i<this.parentNames.length;i++)for(r=this.parentNames[i],t=0;t<this._points.length;t++)r==this._points[t].x+"_layer_"+this._points[t].layer&&n.push(this._points[t]);(this.isNullOrUndefined(this.childProcess)||this.childProcess)&&this.findChildElements(n,0)},b.prototype.findChildElements=function(n,t){var i,r;this.visiblePoints=[];t<=n.length-1?(this.childProcess=!0,this.visiblePoints.push(n[t]),this.findOtherChildElements(this.visiblePoints,this.parentNames[t],2,0,i,r,t)):this.childProcess=!1},b.prototype.findOtherChildElements=function(n,t,i,r,u,f,e){for(var h,c,l,v,s=n,a,y=t.substring(0,t.indexOf("_layer_")),o=0;o<s.length;o++){for(s[o].point=[],h=0;h<this._points.length;h++)i==this._points[h].layer&&s[o].parentChildName+"_"+this._points[h].x==this._points[h].parentChildName&&s[o].x==this._points[h].parentName&&this._points[h].parentChildName.indexOf(y)>=0&&s[o].point.push(this._points[h]);if(this.isNullOrUndefined(u))u=s,f=[],f.push({layer:i}),f[0].point=[];else if(r>=u[o].point.length){for(r>=u[o].point.length&&i>=this.model.levels.length&&this.findChildElements(this.model.points,e+1),r=0,c=0;c<s[o].point.length;c++)f[0].point.push(s[o].point[c]);u=f}else for(c=0;c<s[o].point.length;c++)f[0].point.push(s[o].point[c]);for(l=r;l<u[o].point.length;l++)r<u[o].point.length&&(i=r==0?i+1:i,r++,v=u[o].point[l],a=[],a.push(v)),this.childProcess&&this.isNullOrUndefined(u[o].point[l].point)&&this.findOtherChildElements(a,t,a[0].layer+1,r,u,f,e)}},b.prototype.setSvgsize=function(n,t){var u,f,i,r,e,o;u=document.getElementById(t).clientWidth;f=document.getElementById(t).clientHeight;i=450;r=ej.isTouchDevice()?250:600;n.width==""||this.isResize&&this.model.isResponsive?u>0&&(r=u):(e=n.width,r=typeof e=="string"&&e.indexOf("%")!=-1?u/100*parseInt(e):parseFloat(n.width));this.width=r;this.container.setAttribute("width",r.toString());n.height!=""?(o=n.height,i=typeof o=="string"&&o.indexOf("%")!=-1?f/100*parseInt(o):parseFloat(n.height)):f>0&&(i=f);this.height=i;this.container.setAttribute("height",i.toString())},b.prototype.isNullOrUndefined=function(n){return n===undefined||n===null},b.prototype.createSvg=function(n){var t=this.createElement("svg");return this.setAttributes(n,t),t},b.prototype.drawPolygon=function(n){var t=document.getElementById(n.id);return this.isNullOrUndefined(t)&&(t=this.createElement("polygon")),this.setAttributes(n,t),t},b.prototype.createText=function(n,t){var i=this.createElement("text");return this.setAttributes(n,i),t&&(i.textContent=t),i},b.prototype.createGroup=function(n){var t=this.createElement("g");return this.setAttributes(n,t),t},b.prototype.drawRect=function(n){var t=document.getElementById(n._id);return t===null&&(t=this.createElement("rect")),this.setAttributes(n,t),t},b.prototype.drawCircle=function(n){var t=document.getElementById(n.id);return this.isNullOrUndefined(t)&&(t=this.createElement("circle")),this.setAttributes(n,t),t},b.prototype.createElement=function(n){return document.createElementNS("http://www.w3.org/2000/svg",n)},b.prototype.getXcordinate=function(n,t,i){return n+t*Math.cos(i)},b.prototype.getYcordinate=function(n,t,i){return n+t*Math.sin(i)},b.prototype.setAttributes=function(n,t){var r,u,i,f;for(r=Object.keys(n),u=r.map(function(t){return n[t]}),i=0,f=r.length;i<f;i++)t.setAttribute(r[i],u[i])},b}(ej.WidgetBase);n.SunburstChart=w;ej.widget("ejSunburstChart","ej.SunburstChart",new w)}(jQuery);n.compareExtend=function(t,i,r){var e,o,u,f;if(typeof r=="object"&&r!==null)for(e=Object.keys(r),o=e.length,f=0;f<o;f++)u=e[f],i.hasOwnProperty(u)&&i[u]!=null?(Array.isArray(i[u])||typeof i[u]=="object"&&i[u]!==null)&&n.compareExtend({},i[u],r[u]):i[u]=r[u];return i};n.deepExtend=function(t){var u,i,r;for(t=t||{},u=1;u<arguments.length;u++)if(i=arguments[u],i)for(r in i)i.hasOwnProperty(r)&&(t[r]=typeof i[r]=="object"?n.deepExtend(t[r],i[r]):i[r]);return t}}(ejSunburstChart||(ejSunburstChart={})),function(n,t,i){var r;t.widget({ejTreeMap:"ej.datavisualization.TreeMap"},{validTags:["div"],defaults:{locale:null,enableGroupSeparator:!1,colorPath:null,legendItemRendering:null,itemRendering:null,leafItemSettings:{borderThickness:1,borderBrush:"white",showLabels:!1,labelPath:null,gap:0,itemTemplate:null,textOverflow:"none",labelPosition:"topleft",labelVisibilityMode:"visible"},header:null,isHierarchicalDatasource:!1,dataSource:null,groupColorMapping:[],enableDrillDown:!1,drillDownHeaderColor:null,drillDownValue:null,drillDownLevel:0,drillDownSelectionColor:"#000000",colorValuePath:null,weightValuePath:null,treeMapItems:[],showLegend:!1,borderBrush:"white",borderThickness:1,enableResize:!0,enableGradient:!1,isResponsive:!0,itemsLayoutMode:"squarified",levels:[],headerTemplateRendering:null,doubleClick:"",click:"",rightClick:"",drillStarted:null,drillDownItemSelected:null,treeMapGroupSelected:null,treeMapItemSelected:null,legendSettings:{template:"",iconHeight:15,iconWidth:15,title:"",height:0,width:0,mode:"default",leftLabel:"",rightLabel:"",dockPosition:"top",alignment:"near",columnCount:0},rangeColorMapping:[],uniColorMapping:{color:null},desaturationColorMapping:{from:0,to:0,color:"",rangeMinimum:0,rangeMaximum:0},paletteColorMapping:{colors:[]},highlightOnSelection:!1,selectionMode:"default",highlightGroupOnSelection:!1,groupSelectionMode:"default",draggingOnSelection:!1,draggingGroupOnSelection:!1,showTooltip:!1,tooltipTemplate:null,highlightBorderThickness:5,highlightGroupBorderThickness:4,highlightBorderBrush:"gray",highlightGroupBorderBrush:"gray"},dataTypes:{dataSource:"data",treeMapItems:"array",levels:"array",rangeColorMapping:"array",paletteColorMapping:"object",groupColorMapping:"array"},observables:["dataSource","colorValuePath","weightValuePath","showLegend","enableResize","highlightOnSelection","selectionMode","groupSelectionMode","highlightGroupOnSelection","enableDrillDown","drillDownHeaderColor","drillDownSelectionColor","showTooltip","highlightBorderThickness","highlightBorderBrush","itemsLayoutMode","leafItemSettings.borderThickness","leafItemSettings.borderBrush","leafItemSettings.showLabels","leafItemSettings.labelPath","leafItemSettings.textOverflow","legendSettings.iconWidth","legendSettings.iconHeight","legendSettings.dockPosition","legendSettings.height","legendSettings.width","uniColorMapping.color","desaturationColorMapping.from","desaturationColorMapping.to","desaturationColorMapping.color","desaturationColorMapping.rangeMinimum","desaturationColorMapping.rangeMaximum"],_tags:[{tag:"levels",attr:["groupPath","groupGap","headerHeight","showHeader","groupPadding","showLabels","headerHeight","headerTemplate","headerVisibilityMode","labelPosition","labelTemplate","labelVisibilityMode","groupBackground","groupBorderColor","groupBorderThickness"],singular:"level"},{tag:"rangeColorMapping",attr:["color","legendLabel","from","to"],singular:"rangeColor"},{tag:"groupColorMapping",attr:["groupID",{tag:"groupColorMapping.rangeColorMapping",attr:["color","legendLabel","from","to"],singular:"groupRangeColor"},"uniColorMapping.color","desaturationColorMapping.from","desaturationColorMapping.to","desaturationColorMapping.color","desaturationColorMapping.rangeMinimum","desaturationColorMapping.rangeMaximum"],singular:"groupColor"}],dataSource:t.util.valueFunction("dataSource"),colorValuePath:t.util.valueFunction("colorValuePath"),weightValuePath:t.util.valueFunction("weightValuePath"),showLegend:t.util.valueFunction("showLegend"),enableResize:t.util.valueFunction("enableResize"),highlightOnSelection:t.util.valueFunction("highlightOnSelection"),selectionMode:t.util.valueFunction("selectionMode"),highlightGroupOnSelection:t.util.valueFunction("highlightGroupOnSelection"),groupSelectionMode:t.util.valueFunction("groupSelectionMode"),enableDrillDown:t.util.valueFunction("enableDrillDown"),drillDownValue:t.util.valueFunction("drillDownValue"),drillDownLevel:t.util.valueFunction("drillDownLevel"),drillDownHeaderColor:t.util.valueFunction("drillDownHeaderColor"),drillDownSelectionColor:t.util.valueFunction("drillDownSelectionColor"),showTooltip:t.util.valueFunction("showTooltip"),highlightBorderThickness:t.util.valueFunction("highlightBorderThickness"),itemsLayoutMode:t.util.valueFunction("itemsLayoutMode"),highlightBorderBrush:t.util.valueFunction("highlightBorderBrush"),borderThickness:t.util.valueFunction("leafItemSettings.borderThickness"),borderBrush:t.util.valueFunction("leafItemSettings.borderBrush"),showLabels:t.util.valueFunction("leafItemSettings.showLabels"),labelPath:t.util.valueFunction("leafItemSettings.labelPath"),textOverflow:t.util.valueFunction("leafItemSettings.textOverflow"),iconWidth:t.util.valueFunction("legendSettings.iconWidth"),iconHeight:t.util.valueFunction("legendSettings.iconHeight"),dockPosition:t.util.valueFunction("legendSettings.dockPosition"),legendheight:t.util.valueFunction("legendSettings.height"),legendwidth:t.util.valueFunction("legendSettings.width"),itemTemplate:t.util.valueFunction("leafItemSettings.itemTemplate"),uniColor:t.util.valueFunction("uniColorMapping.color"),_color:t.util.valueFunction("desaturationColorMapping.color"),_from:t.util.valueFunction("desaturationColorMapping.from"),_to:t.util.valueFunction("desaturationColorMapping.to"),_rangeMinimum:t.util.valueFunction("desaturationColorMapping.rangeMinimum"),_rangeMaximum:t.util.valueFunction("desaturationColorMapping.rangeMaximum"),_initPrivateProperties:function(){this._svgDocument=null;this._templateDiv=null;this._legenddiv=null;this._drillHeaderDiv=null;this._drillHoverDiv=null;this._legendHeight=0;this._backgroundTile=null;this._tooltipSize={height:0,width:0};this._height=500;this._margintop=null;this._marginleft=null;this._startPoint={x:0,y:0};this._stopPoint={x:0,y:0};this.mouseClickable=!1;this.dragDiv=null;this._initDiv=null;this._width=500;this._svgns="http://www.w3.org/2000/svg";this._prevSelectedItems=[];this._prevSelectedHeaders=[];this._isLevelColors;this.selectedItems==null&&(this.selectedItems=[]);this._browser=null;this._toolTipElement=null;this._rootTreeMapItems=[];this.treemapgroups=[];this._drillHeader=null;this._drilldownItem=null;this._drilldownItems=[];this._treeMapHeaders=[];this._drilldownHeaders=[];this._treeMapLabels=[];this._labelTemplateElements=[];this._itemGroups=[];this._prevSelectedGroupDatas=[];this._interactiveArrow=null;this._legendRects=[]},_setModel:function(n){for(var t in n)switch(t){case"itemsLayoutMode":this.itemsLayoutMode(n[t]);this.refresh()}},_levels:function(){this.refresh()},_rangeColorMapping:function(){this._setColorMappings(this._rootTreeMapItems,this.model)},_groupColorMapping:function(){this._setColorMappings(this._rootTreeMapItems,this.model)},_groupColorMapping_rangeColorMapping:function(){this._setColorMappings(this._rootTreeMapItems,this.model)},_init:function(){this._initPrivateProperties();var t=n("<style>.e-drillGroupRect:hover{ background-color:"+this.drillDownSelectionColor()+";}<\/style>");n("html > head").append(t);this._levelInitialize();this._isSVG()||(document.createStyleSheet().addRule(".vml","behavior:url(#default#VML);display:inline-block"),document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));this.refresh()},_destroy:function(){this._unWireEvents();n(this.element).removeClass("e-treemap e-js").find().remove(".e-tooltipelement");n(this.element).empty()},_levelInitialize:function(){var t=this;this.model.levels!=null?n.each(this.model.levels,function(i,u){u=t._checkArrayObject(u,i);var f=new r;n.extend(f,u);n.extend(u,f)}):this.levels.treeMapLevel=new r},_checkArrayObject:function(t,i){var f=["borderBrush","dataSource","groupColorMapping","enableDrillDown","drillDownHeaderColor","drillDownSelectionColor","colorValuePath","weightValuePath","treeMapItems","showLegend","borderBrush","borderThickness","enableResize","enableGradient","isResponsive","itemsLayoutMode","levels","groupBackground","groupBorderColor","groupBorderThickness","groupPadding","groupPath","groupGap","headerHeight","showHeader","showLabels","headerTemplate","labelTemplate","labelPosition","textOverflow","headerVisibilityMode","labelVisibilityMode","color","leafItemSettings","showLabels","labelPath","gap","itemTemplate","legendSettings","template","iconHeight","iconWidth","height","width","mode","leftLabel","rightLabel","dockPosition","alignment","highlightOnSelection","selectionMode","highlightGroupOnSelection","groupSelectionMode","draggingOnSelection","draggingGroupOnSelection","showTooltip","tooltipTemplate","highlightBorderThickness","highlightGroupBorderThickness","highlightBorderBrush","highlightGroupBorderBrush"],u=this;return n.each(t,function(n,t){if(f.indexOf(n)>-1)if(t instanceof Array)u._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var e=new r;u._loadIndividualDefaultValues(t,e,typeof n=="number"?i:n)}}),t},_loadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&f._loadIndividualDefaultValues(t,t,typeof n=="number"?r:n)}),n.extend(u,t),n.extend(t,u),t},refresh:function(r){var f,u;if(document.getElementById(this._id)!=null||document.getElementById(this._id)!=i){this._unWireEvents();r||(this._drilldownItems=[]);this.model.enableResize||this.model.isResponsive?this._drilldownItems.length==0&&this._initPrivateProperties():this._initPrivateProperties();n(this.element).empty();this._svgDocument!=null&&n(this._svgDocument).empty();this._height=this.element.height();this._width=this.element.width();this._height==0&&(this._height=this.element[0].parentElement.clientHeight!=0?this.element[0].parentElement.clientHeight:n(document).height());this._width==0&&(this._width=this.element[0].parentElement.clientWidth!=0?this.element[0].parentElement.clientWidth:n(document).width());this.showLegend()&&(this.enableDrillDown()&&this.model.colorPath!=null&&(f=this._getGroupitem(this.model.levels[0].groupPath,this.model.dataSource,this.model.levels[0].headerHeight),f.sort(function(n,t){return parseFloat(t.weight)-parseFloat(n.weight)})),this._sizeCalculation(f));var e=jQuery.uaMatch(navigator.userAgent),o=e.browser.toLowerCase(),s,h=!!navigator.userAgent.match(/Trident\/7\./);if(this._browser=o,n(this.element).css({position:"relative"}),this._height!=0&&this._width!=0){if(this._templateDiv=n("<div class='e-_templateDiv'><\/div>"),this._templateDiv.css({"pointer-events":"none",overflow:"hidden",float:"left","z-index":"2",height:this._height,width:this._width,"margin-top":this._margintop,"margin-left":this._marginleft,position:"absolute",left:"0",top:"0"}),this.enableDrillDown()&&this._drilldownItems.length==0&&(this._drillHeaderDiv=n("<div class='e-_drillHeaderDiv'><\/div>"),this._drillHeaderDiv.css({overflow:"hidden",float:"left","z-index":"3",position:"absolute",left:this.model.legendSettings.dockPosition!="left"?"0":this._legendSize.width,top:"0"}),this._drillHoverDiv=n("<div class='e-_drillHoverDiv'><\/div>"),this._drillHoverDiv.css({overflow:"hidden",float:"left","z-index":"3",height:this._height-30,width:this._width,position:"absolute",left:this.model.legendSettings.dockPosition!="left"?"0":this._legendSize.width,top:"30px"})),this._backgroundTile=n('<div id="backgroundTile" style="overflow:hidden;z-index:0;"><\/div>'),this.showLegend()&&this.model.legendSettings!=null&&this._renderLegend(),this.dataSource()!=null)if(this._drilldownItems.length>0){if(this.enableDrillDown()&&this.model.levels.length>=1&&(this._drilldownItem!=null||this._drilldownItem==null)){for(u=0;u<this._drillHeaderDiv[0].children[0].children.length;u++)this._drillHeaderDiv[0].children[0].children[u].className=="e-drilldownlabel"&&(s=this._drillHeaderDiv[0].children[0].children[u].innerHTML);this._backgroundTile[0].innerHTML="";this._drillHeaderDiv[0].innerHTML="";this._templateDiv[0].innerHTML="";this._drillHoverDiv[0].innerHTML="";this._drillDownHeader(!0,this.model.levels[0],this.dataSource());this._groupdrillDownLevels(this._drilldownItems[this._drilldownItems.length-1],this._drilldownItems.length)}this.showLegend()&&this._generateLegend();this._generateToolTip()}else this.model.dataSource instanceof t.DataManager?this._processOData(this):this._renderTreeMap(this.dataSource());(this.enableResize()||this.model.isResponsive)&&this._on(n(window),"resize",this._treeMapResize)}this._selectItemResize();this._wireEvents();this._trigger("refreshed","")}},_renderDrilledState:function(n,t,i){var r,u,e,o,f,s,h;if(i==0||this.model.drillDownLevel==null||this._initialLevel)this._groupLevels(n),this._renderWithDrilledLevel=!1;else if(r=this._getPreRenderEventData(n,i-1),this._drillCurrentItem=r,this.enableDrillDown())for(u=0;u<r.length;u++)if(this._originalHeaders=[],this.renderHeader=!0,r[u].header==t){if(this.model.levels.length>0){if(this.model.levels[i].groupingLevel=0,this._drilldownHeaders.push(this.model.header||this.model.levels[0].groupPath),this._originalHeaders.push(this.model.header||this.model.levels[0].groupPath),i>1)for(e=this._getPreRenderEventData(this.dataSource(),i-2),this._drillPreviousItem=e,o=r[u].Data[0],f=2;f<=i;f++)s=this.model.levels[f-2].groupPath,h=this._reflection(o,s),r[u]._previousHeader=h,this._drilldownHeaders.push(r[u]._previousHeader),this._originalHeaders.push(r[u]._previousHeader);this._drilldownHeaders.push(t);this._originalHeaders.push(t);this._drillDownHeader(!0,this.model.levels[i-1],r[u])}else this._drilldownHeaders.push(""),this._drillDownHeader(!1);this._groupdrillDownLevels(r[u],i);this._renderWithDrilledLevel=!0;this._initialLevel=!0}},_renderTreeMap:function(n){this.model.browserInfo=this.browserInfo();this.showLegend()&&this.model.legendSettings.mode=="interactive"&&this._generateLegend();this._renderDrilledState(n,this.model.drillDownValue,this.model.drillDownLevel);this.renderHeader=!1;this._generateToolTip();this._renderLabels();this.showLegend()&&this.model.legendSettings.mode!="interactive"&&this._generateLegend()},_renderLegend:function(){this._legenddiv=n("<div class='e-LegendDiv'/>");this._legenddiv.appendTo(this.element);this._legenddiv.css({"pointer-events":"none",overflow:"hidden",position:"absolute","z-index":"2",height:this._legendSize.height,width:this._legendSize.width})},_processOData:function(n){var t=this,i=n.model.dataSource.executeQuery(n.model.query);i.done(function(n){n.result!=null&&t._renderTreeMap(n.result)})},_treeMapResize:function(n){n.preventDefault();n.stopPropagation();var t=this;this.resizeTO&&clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){t.refresh(!0)},500)},_unWireEvents:function(){var t=jQuery.uaMatch(navigator.userAgent),i=t.browser.toLowerCase();this._off(n(this.element),"contextmenu",this._tmRightClick);this._off(n(this.element),"click",this._tmClick)},_wireEvents:function(){this._on(n(this.element),"contextmenu",this._tmRightClick);this._on(n(this.element),"click",this._tmClick)},_tmClick:function(n){var t=new Date;this.model.click!=""&&this._trigger("click",{data:{event:n}});this._doubleTaptimer!=null&&t-this._doubleTaptimer<300&&this._tmDoubleClick(n);this._doubleTaptimer=t},_tmDoubleClick:function(n){this.model.doubleClick!=""&&this._trigger("doubleClick",{data:{event:n}})},_tmRightClick:function(n){this.model.rightClick!=""&&this._trigger("rightClick",{data:{event:n}})},_groupLevels:function(t){var r=null,h=this.model.isHierarchicalDatasource,f,u,i,e,o,s;if(this.enableDrillDown()&&(this._originalHeaders=[],this.renderHeader=!0,this.model.levels.length>0?(this.model.levels[0].groupingLevel=0,this._drilldownHeaders.push(this.model.header||this.model.levels[0].groupPath),this._originalHeaders.push(this.model.levels[0].groupPath),this._drillDownHeader(!1,this.model.levels[0],t)):(this._drilldownHeaders.push(""),this._drillDownHeader(!1))),f=this._getTopGroupitem(this.labelPath(),t,0),r=f,this.model.levels.length==0&&(i=this.model.leafItemSettings,this._rootTreeMapItems=f,this._getTopLevels(f[0].innerItems,i),this._generateTreeMapItems(f[0].innerItems,"gray",this.colorValuePath()),this.showLabels()&&this._generateLabels(f[0].innerItems,i)),this.model.levels.length>0)for(u=0;u<=this.model.levels.length;u++)if(i=this.model.levels[u],i!=null&&(n.isNumeric(i.groupGap)||(i.groupGap=0),n.isNumeric(i.groupPadding)||(i.groupPadding=0),n.isNumeric(i.groupBorderThickness)||(i.groupBorderThickness=0)),u!=0){if(e=r,o=this.model.levels[u-1],r=[],i==null&&(i=this.model.leafItemSettings),this._generateSubItems(e,i,r,o,null,null,u-1),this._rootTreeMapItems=r,this.enableDrillDown()){if(u==1)return this._generateTreeMapItems(r,"gray",o.DisplayPath,e),this.showLabels()&&this._generateLabels(r,i),!1}else u==this.model.levels.length&&this._generateTreeMapItems(r,"gray",o.DisplayPath,e);this.showLabels()&&u==this.model.levels.length&&this._generateLabels(r,i)}else s=this._getGroupitem(h?this.labelPath():i.groupPath,f[0].Data,i.headerHeight),this._rootTreeMapItems=s,this._getTopLevels(s,i),r=s},_groupdrillDownLevels:function(t,i){var f=null,c=this.model.isHierarchicalDatasource,h,u,r,e,o,s;if(i==this.model.levels.length-1?this._drillHoverDiv.css("pointer-events","none"):this._drillHoverDiv.css("pointer-events","auto"),this.model.levels.length>0)for(h=!1,u=c?i-1:0;u<this.model.levels.length;u++)r=this.model.levels[u],r!=null&&(n.isNumeric(r.groupGap)||(r.groupGap=0),n.isNumeric(r.groupPadding)||(r.groupPadding=0),n.isNumeric(r.groupBorderThickness)||(r.groupBorderThickness=0)),u!=(c?i-1:0)?(e=f,o=this.model.levels[u-1],f=[],r==null&&(r=this.model.leafItemSettings),u==i+1?(this._generateSubItems(e,r,f,o,null,i+1!=u,t.GroupingLevel),this.showLabels()&&this._generateLabels(f,r)):(this._generateSubItems(e,r,f,o,!0,i+1!=u,t.GroupingLevel),!r.showLabels&&this.showLabels()&&u==this.model.levels.length-1&&this._generateLabels(f,r)),this._rootTreeMapItems=f,u!=i+1&&u!=this.model.levels.length-1||h||(this.showLegend()&&this.model.colorPath&&(this._height=this.element.height(),this._width=this.element.width(),this._sizeCalculation(u==i+1?e:f),this._legenddiv.empty(),this._legenddiv.css({width:this._legendSize.width+"px",height:this._legendSize.height+"px"}),this.model.legendSettings.dockPosition.toLowerCase()=="top"?(this._templateDiv.css({"margin-top":this._margintop}),this._drillHeaderDiv.css({top:this._legendSize.height}),this._drillHoverDiv.css({top:30+this._legendSize.height})):this.model.legendSettings.dockPosition.toLowerCase()=="left"&&(this._drillHeaderDiv.css({left:this._legendSize.width}),this._drillHoverDiv.css({left:this._legendSize.width}),this._templateDiv.css({"margin-left":this._marginleft}))),this._generateTreeMapItems(f,"gray",o.DisplayPath,u==i+1?e:f),h=!0),i==this.model.levels.length-1&&u==i&&r.showLabels&&this._generateLabels(f,r),this.renderHeader=u==t.GroupingLevel?!0:!1):(s=this._getGroupitem(this.model.isHierarchicalDatasource?null:r.groupPath,t.Data,r.headerHeight),this._rootTreeMapItems=s,this._getTopLevels(s,r),f=s);this.showLegend()&&this._generateLegend();this._renderLabels();this.renderHeader=!1;this._trigger("drillDownItemSelected",{level:i,header:this.getDrillDownHeader(this._drilldownHeaders),prevLevel:i-1})},drillDown:function(t,i){n("#"+this._id).find(".e-_templateDiv").parent().children().empty();this._drilldownHeaders=[];var r=this.model.dataSource;this._initialLevel=this.model.drillDownLevel!=0?!1:this._initialLevel;this._renderDrilledState(r,t,i)},_getTopLevels:function(n,i){var f=i.groupGap!=null?i.groupGap:i.gap!=null?i.gap:0,e=this.itemsLayoutMode(),r=0,u=0;this.enableDrillDown()&&(u=30);this.showLegend()&&this.model.legendSettings!=null&&(r=r);this._legendHeight=r;this.enableDrillDown()&&(this._drillHeaderDiv.css({top:this.showLegend()&&this.model.legendSettings.dockPosition.toLowerCase()=="top"?this._legendSize.height:r}),this._drillHoverDiv.css({top:30+(this.showLegend()&&this.model.legendSettings.dockPosition.toLowerCase()=="top"?this._legendSize.height:r)}));e==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceHorizontal?this._calculateSliceAndDiceItemSize(n,0,r,this._width,this._height,f,u,!0,r):e==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceVertical?this._calculateSliceAndDiceItemSize(n,0,r,this._width,this._height,f,u,!1,r):e==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceAuto?this._calculateSliceAndDiceItemSize(n,0,r,this._width,this._height,f,u,null,r):this._calculateSquarifiedItemSize(n,0,r,this._width,this._height,f,u,r)},_generateSubItems:function(n,r,u,f,e,o,s,h){var l=f.groupPadding,c,v,a,p,b,w;l==""&&(l=0);var nt=this.itemsLayoutMode(),tt=n.length,k=this.model.isHierarchicalDatasource?null:r.groupPath;k==null&&(k=this.labelPath());k==null&&(k=this.weightValuePath());var d=r.groupGap!=null?r.groupGap:r.gap!=null?r.gap:0,g=(f.showHeader||f.showHeader==null)&&!this.enableDrillDown()?f.headerHeight:this.renderHeader&&f.showHeader?f.headerHeight:0,y=0;for(c=0;c<tt;c++){if(v=this._getGroupitem(k,n[c].Data,r.headerHeight,this.model.isHierarchicalDatasource?f.groupPath:null),h||(nt==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceHorizontal?this._calculateSliceAndDiceItemSize(v,n[c].LeftPosition+parseFloat(l),n[c].TopPosition+parseFloat(l),n[c].ItemWidth-(f.groupBorderThickness+2*parseFloat(l)),n[c].ItemHeight-(f.groupBorderThickness+2*parseFloat(l)),parseFloat(d),g,!0,0):nt==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceVertical?this._calculateSliceAndDiceItemSize(v,n[c].LeftPosition+parseFloat(l),n[c].TopPosition+parseFloat(l),n[c].ItemWidth-(f.groupBorderThickness+2*parseFloat(l)),n[c].ItemHeight-(f.groupBorderThickness+2*parseFloat(l)),parseFloat(d),g,!1,0):nt==t.datavisualization.TreeMap.ItemsLayoutMode.SliceAndDiceAuto?this._calculateSliceAndDiceItemSize(v,n[c].LeftPosition+parseFloat(l),n[c].TopPosition+parseFloat(l),n[c].ItemWidth-(f.groupBorderThickness+2*parseFloat(l)),n[c].ItemHeight-(f.groupBorderThickness+2*parseFloat(l)),parseFloat(d),g,null,0):this._calculateSquarifiedItemSize(v,n[c].LeftPosition+parseFloat(l),n[c].TopPosition+parseFloat(l),n[c].ItemWidth-(f.groupBorderThickness+2*parseFloat(l)),n[c].ItemHeight-(f.groupBorderThickness+2*parseFloat(l)),parseFloat(d),g,0),a=this._rootTreeMapItems[c],a.headerHeight=f.headerHeight,a.showHeader=f.showHeader,a.headerWidth=n[c].ItemWidth,a.headerTemplate=f.headerTemplate,a.headerLeftPosition=n[c].LeftPosition,a.headerTopPosition=n[c].TopPosition,this.enableDrillDown()&&this._createBackGround(a,f,n[c],o),(f.showHeader||f.showHeader==null)&&(this.enableDrillDown()?(this.renderHeader||(this.previousItem=a),(s==0||s==i||s==null)&&(this.previousItem=null),this.renderHeader&&(this._trigger("headerTemplateRendering",{levelItems:this._rootTreeMapItems,childItems:a.Data,headerItem:a,groupPath:f.groupPath,groupingLevel:t.util.isNullOrUndefined(s)?0:s,prevItem:this.previousItem}),this._generateHeaders(a,f))):(this._createBackGround(a,f,n[c]),this._trigger("headerTemplateRendering",{levelItems:this._rootTreeMapItems,childItems:a.Data,headerItem:a,groupPath:f.groupPath,groupingLevel:s,prevItem:f}),this._generateHeaders(a,f)))),n[c].ChildtreeMapItems=v,n[c].GroupingLevel=this.model.levels.indexOf(f)+1,this.model.levels.indexOf(f)!=0||h){if(this.model.levels.indexOf(f)>0&&!h&&this.model.groupColorMapping!=null&&this.model.groupColorMapping.length>0)for(p=0;p<this.model.groupColorMapping.length;p++)b=this.model.groupColorMapping[p],b.groupID==n[c].ParentHeader&&this._setColorMappings(v,b,!0)}else if(this.model.groupColorMapping!=null&&this.model.groupColorMapping.length>0)for(this._isLevelColors=!0,p=0;p<this.model.groupColorMapping.length;p++)b=this.model.groupColorMapping[p],b.groupID==a.header&&this._setColorMappings(v,b,!0);for(w=0;w<v.length;w++)u[y]=v[w],v[w].backgroundColor==null&&(v[w].backgroundColor=n[c].backgroundColor),v[w].backgroundOpacity==null&&(v[w].backgroundOpacity=n[c].backgroundOpacity),(this.enableDrillDown()||u[y].ItemHeight<a.ItemHeight-a.headerHeight)&&!h&&(u[y].ParentHeader=a.header,u[y].ItemHeight-=l,u[y].ItemWidth-=l,u[y].LeftPosition+=f.groupBorderThickness,u[y].TopPosition+=f.groupBorderThickness),y++}e==i&&f.showLabels&&!h&&this._generateLabels(n,f)},_createBackGround:function(t,i,r,u){var f=n("<div />"),o=t.showHeader||t.showHeader==null||this.enableDrillDown()?t.ItemHeight-2*i.groupBorderThickness:0,h=t.showHeader||t.showHeader==null||this.enableDrillDown()?t.TopPosition:0,e,s;f.css({height:o+"px",width:t.ItemWidth-2*i.groupBorderThickness+"px",left:t.LeftPosition+"px",top:h+"px","border-style":"solid","border-width":i.groupBorderThickness+"px",position:"absolute"});i.groupBorderColor!=null&&f.css("border-color",i.groupBorderColor);i.groupBackground!=null&&f.css("background-color",i.groupBackground);this.treemapgroups.push({header:t.header,element:f});f.appendTo(this._backgroundTile);o=parseFloat(f[0].style.top)-30-this._legendHeight+"px";this.enableDrillDown()&&!u&&(e=n("<div class='e-drillGroupRect'/>"),e.css({height:f[0].style.height,width:f[0].style.width,left:f[0].style.left,top:o,position:"absolute",opacity:.2,display:"block"}),this._drillHoverDiv.append(e),n(e).mousedown({treemap:this,level:i,param1:r},this._headerClickFunction),n(e).mouseleave({treemap:this,param1:t.header},this._mouseLeaveFunction),s={data:t.Data,label:t.header,header:t.header},n(e).mousemove({treemap:this,hoverItem:s},this._mouseRectHoverFunction));n(f).mousedown({treemap:this,level:i,param1:r},this._headerClickFunction);n(f).mousemove({treemap:this,hoverItem:t.Data},this._mouseRectHoverFunction)},_mouseRectHoverFunction:function(t){var r=t.data.treemap,l=t.data.hoverItem,i,f,s,h,c,u,e,o;r.showTooltip()&&(i=r._toolTipElement,f=r.model.tooltipTemplate,i!=null&&f!=null&&(n(i).css({left:t.pageX+10,top:t.pageY+10,display:"block"}),s=n("#"+f).render(l),n(i).html(s),h=i[0]!=null?i[0].clientHeight:i.clientHeight,c=i[0]!=null?i[0].clientWidth:i.clientWidth,r._tooltipSize={height:h,width:c}),u=r._tooltipSize,u.width+t.pageX>=r._width&&(e=t.pageX-u.width,e<0&&(e=10)),u.height+t.pageY>=r._height&&(o=t.pageY-u.height,o<0&&(o=10)),i!=null&&(r.enableDrillDown()?n(i).css({left:t.pageX+10,top:t.pageY+10,display:"block"}):n(i).css({left:t.pageX+10,top:t.pageY+10,display:"none"})))},_mouseLeaveFunction:function(t){var i=t.data.treemap;i.showTooltip()&&i._toolTipElement!=null&&n(i._toolTipElement).css("display","none")},_headerClickFunction:function(t){var e=t.data.level,r=t.data.param1,v=t.ctrlKey,i=t.data.treemap,l,h,o,a,u,c,s,f;if(i.highlightGroupOnSelection())if(i._browser!="msie"&&(l=i._backgroundTile[0].children[i._backgroundTile[0].children.length-0],i._backgroundTile[0].insertBefore(this,l)),i.groupSelectionMode()=="multiple"&&v)n.inArray(this,i._prevSelectedHeaders)==-1?(n(this).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.highlightBorderBrush()}),i._prevSelectedHeaders.push(this),i._prevSelectedGroupDatas.push(t.data.Param1)):(n(this).css({"border-width":e.groupBorderThickness,"border-color":e.groupBorderColor}),h=i._prevSelectedHeaders.indexOf(this),i._prevSelectedHeaders.splice(h,1),i._prevSelectedGroupDatas.splice(h,1));else{for(o=0;o<i._prevSelectedHeaders.length;o++)n(i._prevSelectedHeaders[o]).css({"border-width":e.groupBorderThickness,"border-color":e.groupBorderColor});n.inArray(this,i._prevSelectedHeaders)==-1?(n(this).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.highlightBorderBrush()}),i._prevSelectedHeaders=[],i._prevSelectedHeaders.push(this)):i._prevSelectedHeaders=[];i._prevSelectedGroupDatas.push(t.data.Param1)}if(i.enableDrillDown()&&i._trigger("drillStarted",t),i.enableDrillDown()&&i.model.levels.length>1&&(i._drilldownItem!=null&&i._drilldownItem.header!=r.header||i._drilldownItem==null)){for(a="",u=0;u<i._drillHeaderDiv[0].children[0].children.length;u++)i._drillHeaderDiv[0].children[0].children[u].className=="e-drilldownlabel"&&(a=i._drillHeaderDiv[0].children[0].children[u].innerHTML);if(i._backgroundTile[0].innerHTML="",i._labelTemplateElements=[],i._drillHeaderDiv[0].innerHTML="",i._templateDiv[0].innerHTML="",i._drillHoverDiv[0].innerHTML="",i._originalHeaders.push(r.header),i._drilldownHeaders.push(r.header),c=i.model.levels[i._drilldownHeaders.length-1],c.groupingLevel=r.GroupingLevel,i._drillDownHeader(!0,c,r.Data),i._drilldownItem=r,i._renderWithDrilledLevel)for(s=i._drillCurrentItem,f=0;f<s.length;f++)s[f].header==i.model.drillDownValue&&i._drilldownItems.length==0&&i._drilldownItems.push(s[f]);return i._drilldownItems.push(r),i._groupdrillDownLevels(r,i._drilldownItems.length),!1}},_rectMouseDown:function(n){var t=n.data.treeMap;t.isTouch(n)&&t.model.doubleClick!=""&&t.model.rightClick!=""&&n.preventDefault()},_docClickFunction:function(i){var f=i.data.treemap,u=this._toolTipElement,r=this;clearTimeout(r.model.timer);u&&(r.model.trackerElement=u,r.model.timer=setTimeout(function(){r.model.trackerElement&&n(r.model.trackerElement).fadeOut(500,function(){r.model.trackerElement=null})},1200));t.isTouchDevice()&&this.model.rightClick!=""&&new Date-this._longPressTimer>1500&&this._tmRightClick(i)},mousePosition:function(n){return!t.util.isNullOrUndefined(n.pageX)&&n.pageX>0?n:n.originalEvent&&!t.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0?n.originalEvent:n.originalEvent&&n.originalEvent.changedTouches!=i&&!t.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0?n.originalEvent.changedTouches[0]:n},_highlightTreemap:function(t){var i=t.data.treemap,v=t.data.Param1,h=i.model.levels[0],c,a=t.ctrlKey,l,e=i.mousePosition(t),f,r,u,s,o;if(i.highlightGroupOnSelection()){for(f=0;f<i.treemapgroups.length;f++)if(l=i.treemapgroups[f],r=i.treemapgroups[f].element,u=r[0].getBoundingClientRect(),u.left<e.clientX&&u.left+u.width>e.clientX&&u.top<e.clientY&&u.top+u.height>e.clientY){n(r).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.highlightBorderBrush(),"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"});c=!0;break}if(c)if(i.groupSelectionMode()=="multiple"&&a)n.inArray(r,i._prevSelectedHeaders)==-1?(n(r).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.highlightBorderBrush()}),i._prevSelectedHeaders.push(l),i._prevSelectedGroupDatas.push(t.data.Param1)):(n(r).css({"border-width":h.groupBorderThickness,"border-color":h.groupBorderColor}),s=i._prevSelectedHeaders.indexOf(l),i._prevSelectedHeaders.splice(s,1),i._prevSelectedGroupDatas.splice(s,1));else{for(o=0;o<i._prevSelectedHeaders.length;o++)n(i._prevSelectedHeaders[o].element).css({"border-width":h.groupBorderThickness,"border-color":h.groupBorderColor});n.inArray(r,i._prevSelectedHeaders)==-1?(n(r).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.highlightBorderBrush()}),i._prevSelectedHeaders=[],i._prevSelectedHeaders.push(l)):i._prevSelectedHeaders=[];i._prevSelectedGroupDatas.push(t.data.Param1)}i._trigger("treeMapGroupSelected",{selectedGroups:i._prevSelectedHeaders,orginalEvent:t})}if(i.highlightOnSelection()){for(f=0;f<i._rootTreeMapItems.length;f++)if(r=i._rootTreeMapItems[f],u=r.Rectangle.getBoundingClientRect(),u.left<e.clientX&&u.left+u.width>e.clientX&&u.top<e.clientY&&u.top+u.height>e.clientY){n(r.Rectangle).css({"border-width":i.highlightBorderThickness(),"border-color":i.highlightBorderBrush(),"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"});c=!0;break}if(c){if(i.selectionMode()=="multiple"&&a)n.inArray(r.Rectangle,i._prevSelectedItems)==-1?(n(r.Rectangle).css({"border-width":i.highlightBorderThickness(),"border-color":i.highlightBorderBrush(),"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"}),i._prevSelectedItems.push(r.Rectangle),i.selectedItems.push(r.Data)):(n(r.Rectangle).css({"border-width":i.borderThickness(),"border-color":i.borderBrush()}),s=i._prevSelectedItems.indexOf(r.Rectangle),i._prevSelectedItems.splice(s,1),i.selectedItems.splice(s,1));else{for(o=0;o<i._prevSelectedItems.length;o++)n(i._prevSelectedItems[o]).css({"border-width":i.borderThickness(),"border-color":i.borderBrush()});n.inArray(r.Rectangle,i._prevSelectedItems)==-1?(n(r.Rectangle).css({"border-width":i.highlightBorderThickness(),"border-color":i.highlightBorderBrush()}),i._prevSelectedItems=[],i.selectedItems=[],i._prevSelectedItems.push(r.Rectangle),i.selectedItems.push(r.Data)):(i._prevSelectedItems=[],i.selectedItems=[])}i._trigger("treeMapItemSelected",{selectedItems:i.selectedItems,originalEvent:t})}}},doubleTap:function(n){var i=n.targetTouches?n.targetTouches[0]:n,r=i.pageX,u=i.pageY,o=this.model,f=200,t=n.data.treemap,e;t.model.cachedX=t.model.cachedX||r;t.model.cachedY=t.model.cachedY||u;e=(new Date).getTime();Math.abs(r-t.model.cachedX)<f&&Math.abs(u-t.model.cachedY)<f&&t.model.tapNum++},rectClick:function(n){var i=n.data.treemap;i.doubleTap(n);i.isTouch(n)||i._highlightTreemap(n);t.isTouchDevice()&&this.model.rightClick!=""&&(this._longPressTimer=new Date)},dragDown:function(t){var i=t.data.treemap,e=i.model.levels[0],r=i._svgDocument,u,f,o;if(t.type=="mousedown"?(i._startPoint={x:t.pageX-r[0].offsetLeft,y:t.pageY-r[0].offsetTop},i._stopPoint={x:t.pageX-r[0].offsetLeft,y:t.pageY-r[0].offsetTop}):t.type=="touchstart"?(i._startPoint={x:t.originalEvent.changedTouches[0].pageX-r[0].offsetLeft,y:t.originalEvent.changedTouches[0].pageY-r[0].offsetTop},i._stopPoint={x:t.originalEvent.changedTouches[0].pageX-r[0].offsetLeft,y:t.originalEvent.changedTouches[0].pageY-r[0].offsetTop}):t.type=="MSPointerDown"&&(i._startPoint={x:t.originalEvent.pageX-r[0].offsetLeft,y:t.originalEvent.pageY-r[0].offsetTop},i._stopPoint={x:t.originalEvent.pageX-r[0].offsetLeft,y:t.originalEvent.pageY-r[0].offsetTop}),i.mouseClickable=!0,i.model.draggingGroupOnSelection&&i._prevSelectedGroupDatas.length>0){for(u=0;u<i._prevSelectedGroupDatas.length;u++)f=i._prevSelectedGroupDatas[u][0],o=f.getBoundingClientRect(),n.inArray(f,i._prevSelectedGroupDatas[u][0])==-1&&n(i._prevSelectedGroupDatas[u]).css({"border-width":e.groupBorderThickness,"border-color":i.model.highlightGroupBorderBrush});i._prevSelectedGroupDatas=[]}if(i.model.draggingOnSelection&&i._prevSelectedItems.length>0){for(u=0;u<i._prevSelectedItems.length;u++)f=i._prevSelectedItems[u].rectangle,o=f.getBoundingClientRect(),n.inArray(f,i._prevSelectedItems[u].rectangle)==-1&&n(i._prevSelectedItems[u].rectangle).css({"border-width":e.groupBorderThickness,"border-color":i.model.highlightGroupBorderBrush});i._prevSelectedItems=[]}},dragMove:function(t){var f,e,i=t.data.treemap,r=i._svgDocument,u;(i.model.draggingGroupOnSelection||i.model.draggingOnSelection)&&i.mouseClickable&&(t.type=="mousemove"?i._stopPoint={x:t.pageX-r[0].offsetLeft,y:t.pageY-r[0].offsetTop}:t.type=="touchmove"?i._stopPoint={x:t.originalEvent.changedTouches[0].pageX-r[0].offsetLeft,y:t.originalEvent.changedTouches[0].pageY-r[0].offsetTop}:t.type=="MSPointerMove"&&(i._stopPoint={x:t.originalEvent.pageX-r[0].offsetLeft,y:t.originalEvent.pageY-r[0].offsetTop}),n("#dragDiv").remove(),u=n('<div id = "dragDiv"><\/div>'),f=Math.abs(i._stopPoint.x-i._startPoint.x),e=Math.abs(i._stopPoint.y-i._startPoint.y),n(u).css({top:Math.min(i._startPoint.y,i._stopPoint.y),left:Math.min(i._startPoint.x,i._stopPoint.x),width:f,height:e,border:"1px solid green",position:"absolute","z-index":100}),n(u).appendTo("#svgDocument"))},dragUp:function(t){var i=t.data.treemap,o=Math.abs(i._stopPoint.x-i._startPoint.x),s=Math.abs(i._stopPoint.y-i._startPoint.y),e=i._svgDocument,r,f,u;if((i.model.draggingGroupOnSelection||i.model.draggingOnSelection)&&(n("#dragDiv").remove(),n("#dragDiv").css({display:"none"}),i.mouseClickable=!1),i.model.draggingGroupOnSelection){for(r=0;r<i.treemapgroups.length;r++)f=i.treemapgroups[r].element,u=f[0].getBoundingClientRect(),u.left-e[0].offsetLeft+u.width<Math.min(i._startPoint.x,i._stopPoint.x)||Math.min(i._startPoint.x,i._stopPoint.x)+o<u.left-e[0].offsetLeft||u.top-e[0].offsetTop+u.height<Math.min(i._startPoint.y,i._stopPoint.y)||Math.min(i._startPoint.y,i._stopPoint.y)+s<u.top-e[0].offsetTop||i._contains(i._prevSelectedGroupDatas,f)||i._prevSelectedGroupDatas.push(f);for(r=0;r<i._prevSelectedGroupDatas.length;r++)f=i._prevSelectedGroupDatas[r][0],u=f.getBoundingClientRect(),n(f).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.model.highlightGroupBorderBrush,"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"});i.selectedItems.push(i._prevSelectedGroupDatas)}if(i.model.draggingOnSelection){for(r=0;r<i._rootTreeMapItems.length;r++)f=i._rootTreeMapItems[r],u=f.rectangle.getBoundingClientRect(),u.left-e[0].offsetLeft+u.width<Math.min(i._startPoint.x,i._stopPoint.x)||Math.min(i._startPoint.x,i._stopPoint.x)+o<u.left-e[0].offsetLeft||u.top-e[0].offsetTop+u.height<Math.min(i._startPoint.y,i._stopPoint.y)||Math.min(i._startPoint.y,i._stopPoint.y)+s<u.top-e[0].offsetTop||i._contains(i._prevSelectedItems,f)||i._prevSelectedItems.push(f);for(r=0;r<i._prevSelectedItems.length;r++)f=i._prevSelectedItems[r].rectangle,u=f.getBoundingClientRect(),n(f).css({"border-width":i.model.highlightGroupBorderThickness,"border-color":i.model.highlightGroupBorderBrush,"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box"});i.selectedItems.push(i._prevSelectedItems)}},_measureText:function(t,r,u){var h=n(document).find("#measureTex"),f,o,s,e,v;n("#measureTex").css("display","block");h.length==0?(f=document.createElement("text"),n(f).attr({id:"measureTex"}),document.body.appendChild(f)):f=h[0];var c=null,l=null,a=null,y=null;if(typeof t=="string"&&(t.indexOf("<")>-1||t.indexOf(">")>-1)){for(o=t.split(" "),s=0;s<o.length;s++)o[s].indexOf("<br/>")==-1&&(o[s]=o[s].replace(/[<>]/g,"&"));t=o.join(" ")}return f.innerHTML=t,u!=i&&u.size==i&&(e=u,e=e.split(" "),c=e[0],l=e[1],a=e[2],y=e[3]),u!=null&&(f.style.fontSize=u.size>0?u.size+"px":u.size?u.size:l,f.style.fontStyle&&(f.style.fontStyle=u.fontStyle?u.fontStyle:c),f.style.fontFamily=u.fontFamily?u.fontFamily:a),f.style.backgroundColor="white",f.style.position="absolute",f.style.top=-100,f.style.left=0,f.style.visibility="hidden",f.style.whiteSpace="nowrap",r&&(f.style.maxwidth=r+"px"),v={width:f.offsetWidth,height:f.offsetHeight},n("#measureTex").css("display","none"),v},_rowsCalculation:function(n,t,i,r,u,f){var d=this,nt=d.model,l,o=[],y,a,s=n?n.toString():"",g=s.length,w=this._measureText(s,t,u).width,b=this._measureText(s,t,u).height,v=s.split(" "),e=0,h=0,p=Math.round(t),k=v.length,f=f.toLowerCase(),i=f=="centerleft"||f=="center"||f=="centerright"?i/2:i,c;if(r=="wrap"||r=="hide"){if(w>p)for(c=1;c<=s.length;c++)if(n=s.substring(0,c),w=this._measureText(n,t,u).width,w>p){if(h=h+1,n=s.substring(0,c-1),n=="")break;h*b<i&&(o[e]=n);s=s.slice(c-1,g);e++;c=0}return h=h+1,h*b<i&&(o[e]=n),(r=="hide"||r=="wrap"&&(f=="bottomleft"||f=="bottomright"||f=="bottomcenter"))&&(o=o.slice(0,1)),o}if(r=="wrapbyword"){for(e=0;e<k;e++)if(l=v[e],y=this._measureText(l,t,u).width,h=h+1,y<p){while(e<k)if(y=this._measureText(l,t,u).width,a=v[e+1]?this._measureText(v[e+1],t,u).width:0,a=Math.round(a),y+a<p&&a>0)l=l.concat(" "+v[e+1]),e++;else break;h*b<i&&o.push(l)}return(f=="bottomleft"||f=="bottomright"||f=="bottomcenter")&&(o=o.slice(0,1)),o}},getStyleRuleValue:function(n,t){for(var i,r,o,u,e=typeof i!="undefined"?[i]:document.styleSheets,f=0,h=e.length;f<h;f++){i=e[f];try{if(!i.cssRules)continue;for(r=0,o=i.cssRules.length;r<o;r++)if(u=i.cssRules[r],u.selectorText&&u.selectorText.split(",").indexOf(t)!==-1)return u.style[n]}catch(s){if(s.name.toLowerCase()!=="securityerror")throw s;}}return null},_generateLabels:function(r,u){for(var f,tt,l,b,k,g,h,o,e,nt,p,a,s,lt,c=this.model.leafItemSettings.textOverflow.toLowerCase(),w=0;w<r.length;w++){if(f=r[w],u.labelTemplate!=null&&c!="none")var it=document.getElementById(u.labelTemplate),rt=it.innerHTML,ut=n(rt),ft=ut.find("label").eq(0).text(),et=ft.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,""),ot=f.Data[et];if(u.labelTemplate!=null&&c=="none")tt=n("#"+u.labelTemplate),l=n("<div style='overflow:hidden;display:block;position:absolute;pointer-events: none;'><\/div>"),l[0].data=f,f.labelPosition=u.labelPosition,f.labelVisibilityMode=u.labelVisibilityMode,b=n.templates(tt.html()),k="",k=f.Data instanceof Array?b.render(f.Data[0]):b.render(f.Data),n(l).html(k),this._templateDiv.append(l),this._labelTemplateElements.push(l);else{var d=8,v=5,y=this.getStyleRuleValue("font-size",".e-treemap-label");if(y=t.util.isNullOrUndefined(y)?"14px":y,g=u.labelTemplate!=null?ot:f.label,c=this.model.leafItemSettings.textOverflow.toLowerCase(),u.labelTemplate==null)var st=Math.round(f.ItemWidth-2*d),ht=Math.round(f.ItemHeight-2*v-(f.showHeader?f.headerHeight:0)),ct={fontWeight:"Normal",size:y,color:"black"};else var ct={fontWeight:"Normal",size:"16px",color:"black"},st=Math.round(f.ItemWidth),ht=Math.round(f.ItemHeight);for(c!="none"?h=this._rowsCalculation(g,st,ht,c,ct,u.labelPosition):(h=[],h.push(g)),o=[],e=0;e<h.length;e++)o[e]=u.labelTemplate==null?n('<label class="e-treemap-label" >'+h[e]+"<\/label>"):n("<label>"+h[e]+"<\/label>"),this.enableDrillDown()?n(o[e]).css({position:"absolute",color:"black",overflow:"hidden",left:f.LeftPosition+d+"px",top:f.TopPosition+v+"px","font-weight":"normal","pointer-events":"none"}):n(o[e]).css({position:"absolute",color:u.labelTemplate==null?"white":"black",overflow:"hidden",left:f.LeftPosition+d+"px",top:f.TopPosition+v+"px","font-weight":"normal","pointer-events":"none"}),this._treeMapLabels.push(o[e]),this._templateDiv.append(o[e]),nt=0,p=0,u.groupPadding!=i&&(nt=u.groupPadding),u.groupBorderThickness!=i&&(p=u.groupBorderThickness),a=o[e][0].getBoundingClientRect().width>0?o[e][0].getBoundingClientRect().width+nt+p+2:f.label.length*8,s=o[e][0].getBoundingClientRect().height,s==0&&f.ItemHeight>18?s=18:s>0&&s>f.ItemHeight&&(s=f.ItemHeight-v),n(o[e]).css({width:a+"px",height:s+"px"}),f.labelPosition=u.labelPosition,f.labelVisibilityMode=p,f.groupPadding=u.groupPadding,f.groupBorderThickness=u.groupBorderThickness,o[e][0].data=f,u.labelVisibilityMode==t.datavisualization.TreeMap.VisibilityMode.HideOnExceededLength?(a>f.ItemWidth&&(n(o[e]).css({display:"none"}),f.Rectangle!=null&&(f.Rectangle.title=f.label)),lt=u.labelVisibilityMode):a<f.ItemWidth?n(o[e]).css({width:a}):n(o[e]).css({width:f.ItemWidth});this._labelTemplateElements.push(o)}}},_generateToolTip:function(){var t,i,r;this.showTooltip()&&(t=document.documentMode==8?document.querySelectorAll("e-tooltipelement"):document.getElementsByClassName("e-tooltipelement"+this._id),t!=null&&t.length==0?(i=n("<div><\/div>").attr("class","e-tooltipelement"+this._id).css({position:"absolute","z-index":"1000",display:"none","pointer-events":"none"}),n(document.body).append(i),this._toolTipElement=i):this._toolTipElement=t[0],this.model.tooltipTemplate==null&&(r=this.labelPath()!=null?this.labelPath():this.weightValuePath(),r!=null&&(this.model.tooltipTemplate="defaultTooltip",this.element.append(n('<div id="defaultTooltip" style="display:none;"><div style="margin-left:10px;margin-top:-25px;"><div class="e-defaultToolTip"><p style="margin-top:-4px"><label  style="color:rgb(27, 20, 20);font-size:14px;font-weight:normal;font-family:Segoe UI">{{:#data["'+r+'"]}}<\/label><\/p><\/div><\/div><\/div>')))))},_generateLegend:function(){var u,a,o;if(this.model.rangeColorMapping!=null||this.model.colorPath!=null){var e=this.model.rangeColorMapping!=null&&this.model.rangeColorMapping.length>0?this.model.rangeColorMapping:this._legendItem,c=this.model.rangeColorMapping!=null&&this.model.rangeColorMapping.length>0?!0:!1,s=this.model.legendSettings;if(s.mode!=t.datavisualization.TreeMap.LegendMode.Interactive){var n=0,r=0,h=0,v=this.iconWidth()+5,y=this.iconHeight()+15,f,l=this.model.legendSettings.columnCount;for(u=0;u<e.length;u++)f={color:c?e[u].color:e[u]._color?e[u]._color:e[u].color,legendLabel:e[u].legendLabel,dataSource:c?i:e[u].Data,mapping:c?e[u]:i},this._trigger("legendItemRendering",{model:this.model,data:f}),a=this._calcWidth(f.legendLabel),o=this.iconWidth()+10+a,l!=0?u%l!=0?(this._drawLegend(f,n,r),n+=o+5):(u!=0&&(r+=this.iconHeight()+18),n=0,this._drawLegend(f,n,r),n+=o+5):this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Top||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom?this._legendSize.width<n+o?(r+=this.iconHeight()+18,n=0,this._drawLegend(f,n,r),n+=o):(this._drawLegend(f,n,r),n+=o):this._legendSize.height<r+this.iconHeight()?(r=0,n+=h+10,this._drawLegend(f,n,r),h=0,r+=this.iconHeight()+18):(this._drawLegend(f,n,r),h=Math.max(h,o),r+=this.iconHeight()+18)}else this._drawInteractiveLegend();(this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Top||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom)&&s.alignment==t.datavisualization.TreeMap.Alignment.Center?this._legenddiv.css({"margin-left":this._width/2-this._legendSize.width/2}):(this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Top||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom)&&s.alignment==t.datavisualization.TreeMap.Alignment.Far?this._legenddiv.css({"margin-left":this._width-this._legendSize.width}):(this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Left||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Right)&&s.alignment==t.datavisualization.TreeMap.Alignment.Center?this._legenddiv.css({"margin-top":this._height/2-this._legendSize.height/2}):(this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Left||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Right)&&s.alignment==t.datavisualization.TreeMap.Alignment.Far&&this._legenddiv.css({"margin-top":this._height-this._legendSize.height});this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom?this._legenddiv.css({"margin-top":this._height+5}):this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Right&&this._legenddiv.css({"margin-left":this._width+5})}},_drawLegend:function(t,i,r){var f,u;f=this.model.legendSettings.template=="Ellipse"?this._getEllipseLegend(this.model.legendSettings,i,r):this._getRectLegend(this.model.legendSettings,i,r);i+=this.iconWidth()+5;n(f).css("background-color",t.color);f.appendTo(this._legenddiv);u=n("<div class='e-treemap-legendLabel'/>");u.css({left:i+"px",top:r+"px",position:"absolute"});u[0].innerHTML=t.legendLabel;u.appendTo(this._legenddiv)},_calcWidth:function(t){var i=n('<span class ="e-treemap-legendLabel" >'+t+"<\/span>"),r;return n("body").append(i),r=i.width(),i.remove(),r},_getEllipseLegend:function(t,i,r){var u=n("<div class='e-mapLegend'/>");return u.css({height:this.iconHeight()+"px",width:this.iconWidth()+"px","border-radius":this.iconHeight()/2+"px",left:i+"px",top:r+"px",position:"absolute"}),u},_getRectLegend:function(t,i,r){var u=n("<div />");return u.css({height:this.iconHeight()+"px",width:this.iconWidth()+"px",left:i+"px",top:r+"px",position:"absolute"}),u},_getPositionFromParent:function(n,t){var i=n.getBoundingClientRect(),r=t.getBoundingClientRect(),u=window.SVGSVGElement?i.width:i.right-i.left,f=window.SVGSVGElement?i.height:i.bottom-i.top;return{left:i.left-r.left,top:i.top-r.top,height:f,width:u}},_renderLabels:function(){for(var u,r=0;r<this._labelTemplateElements.length;r++)for(u=0;u<this._labelTemplateElements[r].length;u++){var f=this._labelTemplateElements[r][u],h=f[0]?f[0]:f,o=this._getPositionFromParent(h,this._templateDiv[0]),i=h.data,e=this._getDockPositionPoint({left:i.LeftPosition,top:i.TopPosition,width:i.ItemWidth,height:i.ItemHeight},o,i),s=i.labelPosition.toLowerCase();(s=="bottomleft"||s=="bottomright"||s=="bottomcenter")&&i.showHeader&&this.enableDrillDown()&&(e.y=e.y+i.headerHeight);n(f).css({left:e.x,top:e.y+18*u,"pointer-events":"none",overflow:"hidden"});i.labelVisibilityMode==t.datavisualization.TreeMap.VisibilityMode.HideOnExceededLength&&(o.height>i.ItemHeight||o.width>i.ItemWidth)&&n(f).css("display","none")}},_generateHeaders:function(i,r){var v=r.headerVisibilityMode,e=!1,s=2,h=2,u,c,o,f,l,a;v==t.datavisualization.TreeMap.VisibilityMode.HideOnExceededLength?(u=n("<span>"+i.header+"<\/span>"),n(document.body).append(u),c=u.outerWidth(),u.remove(),i.headerHeight<i.ItemHeight-2*s&&c<i.ItemWidth-2*h&&(e=!0)):i.headerHeight<i.ItemHeight&&(e=!0);e&&(i.headerTemplate==null?(o=n('<div style="display:block;position:absolute;pointer-events: stroke;overflow: hidden;"><label class="e-treemap-header">'+i.header+"<\/label><\/div>"),n(o).css({left:i.headerLeftPosition+s,top:i.headerTopPosition+h,width:i.headerWidth-r.groupPadding,height:i.headerHeight,"margin-left":r.groupPadding}),this._templateDiv.append(o)):(f=n("<div style='display:block;position:absolute;pointer-events: none;overflow: hidden;'><\/div>"),this._templateDiv.append(f),n(f).css({left:i.headerLeftPosition,width:i.headerWidth,top:i.headerTopPosition,height:i.headerHeight}),l={header:i.header,data:i.Data},a=n("#"+i.headerTemplate).render(l),n(f).html(a)))},getDrillDownHeader:function(n){var i="",t;if(n.length==1)return n[0];for(t=0;t<n.length;t++)i+=n[t],t!=n.length-1&&(i+=this.model._connectorText||".");return i},_getPreRenderEventData:function(n,t){var r,f,t=t>=this.model.levels.length-1?this.model.levels.length-1:t,o,u,e;for(f=t===i?this.model.levels[this._drilldownItems.length]:this.model.levels[t],r=this._getGroupitem(f.groupPath,n,f.headerHeight),o=this._getTotalWeight(r),u=r.length-1;u>=0;u--)e=r[u],e.AreaByWeight=e.weight/o;return r.sort(this._orderByAreaWight)},_drillDownHeader:function(t,i,r){var o={groupingLevel:i.groupingLevel,groupPath:i.groupPath,childItems:r,levelItems:i,headerItem:{drilldownHeaders:this._drilldownHeaders,originalHeaders:this._originalHeaders},connectorText:"."},f,s,e,u;for(this._trigger("headerTemplateRendering",o),this.model._connectorText=o.connectorText,f=[],s=[],e=0;e<this._drilldownHeaders.length;e++)f+="<label class='e-drilldownlabel' style='margin-left:-8px'>"+this._drilldownHeaders[e]+"<\/label>",this._drilldownHeaders.length>1&&e<this._drilldownHeaders.length-1&&(f=f+this.model._connectorText);u=n("<div class='e-drilldownHeader' style='display:block;overflow: hidden;'><div class='e-drilldownlabel'  style='position:absolute;height:30px;position:absolute;margin-top: 5px;top: 0px;'>"+f+"<\/div><\/div>");t&&(u=n("<div class='e-drilldownHeader' style='display:block;overflow: hidden;'><svg class='e-drilldownarrow' style='width:15px;height:15px;margin-top: 10px;'><polyline points='8,0 8,10 0,5 8,0'/><\/svg><label class='e-drilldownlabel'  style='left:17px;position:absolute;height:30px;position:absolute;margin-top: 5px;top: 0px;'>"+f+"<\/label><\/div>"));n(u).css({left:"0px",width:this._width+"px",top:0,height:"30px",cursor:"pointer"});this.drillDownHeaderColor()!=null&&n(u).css("background-color",this.drillDownHeaderColor());this._drillHeaderDiv.append(u);n(u).mousedown({treemap:this},this._drilldownfunction);n(u).find(".e-drilldownlabel").mousedown({treemap:this},this._drilldownLabel)},_drilldownLabel:function(n){var c=this.innerHTML,i=n.data.treemap,e,v,y,r,l,u,o,f,s;if(i._drilldownHeaders[0]==c)i._drilldownItems=[],i.refresh();else{for(v="",i._drillHeaderDiv[0].innerHTML="",i._backgroundTile[0].innerHTML="",y="",r=0;r<i._drilldownHeaders.length;r++)c==i._drilldownHeaders[r]&&(e=r+1,i._originalHeaders.splice(r+1),i._drilldownHeaders.splice(r+1));if(i._drilldownItems.length==0&&i._initialLevel)for(l=i._drilldownHeaders.length,u=0;u<l;u++)for(o=i._getPreRenderEventData(this.dataSource(),u),f=0;f<o.length;f++)o[f].header==i._drilldownHeaders[u+1]&&(s=o[f],i._drilldownItems.push(s),i._drilldownItem=s,a=i._drilldownItems[0]);i._labelTemplateElements=[];var p=i.model.levels[i._drilldownHeaders.length-1],h=i._drilldownHeaders.length-i._drilldownItems.length,w=i._drilldownItems.length,a=i._drilldownItems.length==1?i._drilldownItems[0].Data:i._drilldownItems[h<0?w+h:h].Data;return i._drillDownHeader(!0,p,a),e&&(i._drilldownItem=i._drilldownItems[e-2],i._drilldownItems.splice(e-1)),i._templateDiv[0].innerHTML="",t.util.isNullOrUndefined(i._drilldownItem)||i._groupdrillDownLevels(i._drilldownItem,i._drilldownItems.length),!1}},_drilledStateDrillDownFunction:function(n){var f,i,r,t,u;if(n._drilldownItems.length==0&&n._initialLevel)for(n._originalHeaders=n._drilldownHeaders,f=n._drilldownHeaders.length-1,i=0;i<f;i++)for(r=n._getPreRenderEventData(this.dataSource(),i),t=0;t<r.length;t++){var e=n._drilldownHeaders[i+1],o=e.indexOf(n.model.drillDownValue)!=-1,s=r[t].header.indexOf(n.model.drillDownValue)!=-1;(r[t].header==e||s&&o)&&(u=r[t],n._drilldownItems.push(u),n._drilldownItem=u)}},_drilldownfunction:function(n){var t=n.data.treemap,r,i,f,e,u;if(t._trigger("drillStarted",n),t._drilledStateDrillDownFunction(t),t._drilldownItems.length>0){if(t._drilldownItems.length==1)t._drilldownItems=[],t.refresh();else{for(r="",i=0;i<t._drillHeaderDiv[0].children[0].children.length;i++)t._drillHeaderDiv[0].children[0].children[i].className=="e-drilldownlabel"&&(r=t._drillHeaderDiv[0].children[0].children[i].innerHTML);f=r.split(t.model._connectorText||".");t._drillHeaderDiv[0].innerHTML="";t._backgroundTile[0].innerHTML="";e="";t._drilldownHeaders.length>1&&t._drilldownHeaders.pop(t._drilldownHeaders.length-1);t._labelTemplateElements=[];u=t.model.levels[t._drilldownHeaders.length-1];u.groupingLevel=n.data.treemap._drilldownItem.GroupingLevel?n.data.treemap._drilldownItem.GroupingLevel:t.model.drillDownLevel;t._drillDownHeader(!0,u,t._drilldownItem.Data);t._drilldownItem=t._drilldownItems[t._drilldownItems.length-2];t._drilldownItems.pop(t._drilldownItems[t._drilldownItems.length-1]);t._templateDiv[0].innerHTML="";t._groupdrillDownLevels(t._drilldownItem,t._drilldownItems.length)}t._trigger("drillDownItemSelected",{level:t._drilldownItems.length,header:t.getDrillDownHeader(t._drilldownHeaders),prevLevel:t._drilldownItems.length-1})}},_sizeCalculation:function(r){var h,u,v;if(this.model.rangeColorMapping!=null||this.model.colorPath!=null){var f=this.model.rangeColorMapping!=null&&this.model.rangeColorMapping.length>0?this.model.rangeColorMapping:r?r:n.extend(!0,[],this.model.dataSource),w=this.model.rangeColorMapping!=null&&this.model.rangeColorMapping.length>0?!0:!1,s=0,y,b,l=0,p=this.iconWidth()+5,e=this.iconHeight()+15,o=0,a=this.model.legendSettings.columnCount,c=this.model.legendSettings;if(this.model.legendSettings.mode!=t.datavisualization.TreeMap.LegendMode.Interactive){if(this.legendheight()==0&&this.legendwidth()==0&&a==0){for(w||(this._legendItem=f,this._generateLegendLabels(this.model,this._legendItem)),u=0;u<f.length;u++)f[u].legendLabel==i&&(f[u].legendLabel=f[u].from+"-"+f[u].to),v=this._calcWidth(f[u].legendLabel),h=p+v+10,this.legendheight()==0&&this.legendwidth()==0?this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Top||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom?this._width<s+h?(e=this.iconHeight()+15+e,o=Math.max(o,s),s=h):s+=h:this._height<l+this.iconHeight()+15?(o+=s,e=Math.max(e,l),s=h,l=0):(l+=this.iconHeight()+18,s=Math.max(h,s)):(y+=h+18,y+150>=this.legendwidth()&&(y=10,b+=40));this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Top||this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom?(o=Math.max(o,s),e+=5):(o+=s+15,e=Math.max(e,l))}else if(a==0){for(u=0;u<f.length;u++)f[u].legendLabel==i&&(f[u].legendLabel=f[u].from+"-"+f[u].to);e=this.legendheight().toString().indexOf("%")!=-1?this._height/100*parseInt(this.legendheight().replace("%","")):this.legendheight();o=this.legendwidth().toString().indexOf("%")!=-1?this._width/100*parseInt(this.legendwidth().replace("%","")):this.legendwidth()}if(a!=0)for(u=0;u<f.length;u++)f[u].legendLabel==i&&(f[u].legendLabel=f[u].from+"-"+f[u].to),v=this._calcWidth(f[u].legendLabel),h=p+v+10,u%a!=0?(s+=h,u==a-1&&(o=Math.max(o,s))):(u!=0&&(e=this.iconHeight()+15+e),o=Math.max(o,s),s=h)}else e=(c.height!=0?c.height:30)+18,c.title!=null&&c.title!=""&&(e+=25),o=(c.width!=0?c.width:100)+20+c.leftLabel.length*10+c.rightLabel.length*10;this._legendSize={height:e,width:o};this.model.legendSettings!=null&&(this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Bottom?(this._height=this._height-parseFloat(e),this.model.legendSettings.tempWidth=s):this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Top?(this._height=this._height-parseFloat(e),this._margintop=parseFloat(e)):this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Left?(this._width=this._width-o,this._marginleft=o):this.dockPosition()==t.datavisualization.TreeMap.DockPosition.Right&&(this._height=this._height,this._width=this._width-o))}},_generateLegendLabels:function(n,t){for(var r=n.colorPath,i=0;i<t.length;i++)this.enableDrillDown()?t[i].legendLabel=t[i].header:(t[i].legendLabel=this.labelPath()?t[i][this.labelPath()]:t[i][n.weightValuePath],t[i].color=t[i][r])},_getDockPositionPoint:function(n,r,u){var o=u.labelPosition,e=2,f=2;return u.groupPadding!=i&&u.groupBorderThickness!=i&&(e=u.groupPadding+u.groupBorderThickness+e,f=u.groupPadding+u.groupBorderThickness+f),u.showHeader&&(f=f+u.headerHeight),o==t.datavisualization.TreeMap.Position.TopCenter?e=n.width/2-r.width/2:o==t.datavisualization.TreeMap.Position.TopRight?e=n.width-r.width-e:o==t.datavisualization.TreeMap.Position.CenterLeft?f=n.height/2-r.height/2:o==t.datavisualization.TreeMap.Position.Center||o==null?(e=n.width/2-r.width/2,f=n.height/2-r.height/2):o==t.datavisualization.TreeMap.Position.CenterRight?(e=n.width-r.width-e,f=n.height/2-r.height/2):o==t.datavisualization.TreeMap.Position.BottomLeft?f=n.height-r.height-f:o==t.datavisualization.TreeMap.Position.BottomCenter?(e=n.width/2-r.width/2,f=n.height-r.height-f):o==t.datavisualization.TreeMap.Position.BottomRight&&(e=n.width-r.width-e,f=n.height-r.height-f),{x:n.left+e,y:n.top+f}},_generateTreeMapItems:function(t,r,u,f){var c,e,s,o,h,l;if(this._rootTreeMapItems=t,this._getTreeMapItemTemplate(t),t!=null){for(this._isLevelColors||this._setColorMappings(t,this.model,i,f),c=0;c<t.length;c++){if(e=t[c],s=e.rectangle,e.Data!=null&&e.Data.length>0&&(e.Data=e.Data[0]),e.Rectangle=s,o={borderThickness:this.model.leafItemSettings.borderThickness,borderBrush:this.model.leafItemSettings.borderBrush,fill:e.backgroundColor,dataSource:e.Data},this._trigger("itemRendering",{model:this.model,data:o}),o.fill!=e.backgroundColor&&(e._color=o.fill,this.enableDrillDown()))for(h=0;h<f.length;h++)if(f[h].ChildtreeMapItems)for(l=0;l<f[h].ChildtreeMapItems.length;l++)e.header==f[h].ChildtreeMapItems[l].header&&(f[h]._color=o.fill);n(s).css({"box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","border-color":o.borderBrush,"border-width":o.borderThickness+"px"});o.fill?n(s).css("background-color",o.fill):n(s).css("background-color","#E5E5E5");e.backgroundOpacity!=null&&n(s).css("opacity",e.backgroundOpacity);this._wireEventForTreeMapItem(e,s)}this.model.rangeColorMapping.length==0&&this.uniColor()==null&&this._color()!=""?this._setDesaturationColor(t,this.model.desaturationColorMapping):this.model.PaletteColorMapping!=null&&this._setPaletteColor(t,this.model.PaletteColorMapping)}},browserInfo:function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n.pointerEnabled=window.navigator.pointerEnabled,n},isTouch:function(n){var t=n.originalEvent?n.originalEvent:n;return t.pointerType=="touch"||t.pointerType==2||t.type.indexOf("touch")>-1?!0:!1},_wireEventForTreeMapItem:function(t,i){var f=this.model.browserInfo,r=f.isMSPointerEnabled,u=f.pointerEnabled,e=r?u?"pointerdown":"MSPointerDown":"touchstart mousedown",o=r?u?"pointerup":"MSPointerUp":"touchend mouseup",s=r?u?"pointermove":"MSPointerMove":"touchmove mousemove",h=r?u?"pointerenter":"MSPointerEnter":"touchenter mouseenter",c=r?u?"pointerleave":"MSPointerOut":"touchleave mouseleave";this._on(n(i),s,{Param1:t,Param2:this},this._rectMouseMove);this._on(n(i),c,{treeMap:this},this._rectMouseLeave);this._on(n(i),o,{Param1:t,Param2:this},this._rectMouseUp);this._on(n(i),e,{treeMap:this},this._rectMouseDown);this._on(n(i),h,{Param1:t,Param2:this},this._rectMouseEnter)},_getTreeMapItemTemplate:function(i){for(var r,e,o,s,f="",u=0;u<i.length;u++)r=i[u],this.model.leafItemSettings.itemTemplate==null?f+='<div style="border-style:solid;position:absolute;left:'+r.LeftPosition+"px;top:"+r.TopPosition+"px;height:"+r.ItemHeight+"px;width:"+r.ItemWidth+"px;border-width:"+this.borderThickness()+"px;border-color:"+this.borderBrush()+'"><\/div>':(e=n("#"+this.model.leafItemSettings.itemTemplate),r.Data!=null&&r.Data.length==1&&(r.Data=r.Data[0]),o=n.templates(e.html()),s="<div style='overflow:hidden;position:absolute;left:"+r.LeftPosition+"px;top:"+r.TopPosition+"px;height:"+r.ItemHeight+"px;width:"+r.ItemWidth+"px'>"+o.render(r)+"<\/div>",f+=s);this._svgDocument!=null&&this.enableDrillDown()&&(this._svgDocument[0].innerHTML="");this._svgDocument=n('<div style= "overflow:hidden;z-index:1;"id="svgDocument">'+f+"<\/div>");this._backgroundTile.appendTo(this.element);this._svgDocument.appendTo(this.element);this._svgDocument.css({height:this._height+"px",width:this._width+"px","margin-top":this._margintop+"px","margin-left":this._marginleft,overflow:"hidden","z-index":1,position:"absolute",left:"0",top:"0"});n(this._backgroundTile).css({height:this._height+"px",width:this._width+"px","margin-top":this._margintop+"px","margin-left":this._marginleft,overflow:"hidden","z-index":0,position:"absolute",left:"0",top:"0"});this._templateDiv.appendTo(this.element);n(this._templateDiv).mousemove({Param2:this},this._rectMouseMove);var h=this.model.browserInfo,c=h.isMSPointerEnabled,l=h.pointerEnabled,a=c?l?"pointerdown":"MSPointerDown":"touchstart mousedown",v=c?l?"pointerup":"MSPointerUp":"touchend mouseup";for(this._off(n(this.element),a,this.rectClick),this._off(n(this.element),v,this._docClickFunction),this._off(n(this.element),t.eventType.mouseDown,this.dragDown),this._off(n(this.element),t.eventType.mouseMove,this.dragMove),this._off(n(this.element),t.eventType.mouseUp,this.dragUp),this._on(n(this.element),a,{treemap:this,Param1:i},this.rectClick),this._on(n(this.element),v,{treemap:this,Param1:i},this._docClickFunction),this._on(n(this.element),t.eventType.mouseDown,{treemap:this},this.dragDown),this._on(n(this.element),t.eventType.mouseMove,{treemap:this},this.dragMove),this._on(n(this.element),t.eventType.mouseUp,{treemap:this},this.dragUp),this.enableDrillDown()&&(this._drillHeaderDiv.appendTo(this.element),this._drillHoverDiv.appendTo(this.element)),u=0;u<i.length;u++)i[u].rectangle=this._svgDocument[0].childNodes[u]},selectItem:function(t){var r,i,u,f;if(this._rootTreeMapItems!=null)for(r=0;r<this._rootTreeMapItems.length;r++)i=this._rootTreeMapItems[r],u=i.rectangle,i.Data!=null&&i.Data.length>0&&(i.Data=i.Data[0]),t==i.Data&&this.highlightOnSelection()&&(n(u).css({"border-width":this.highlightBorderThickness(),"border-color":this.highlightBorderBrush()}),this._browser!="msie"&&(f=this._svgDocument[0].children[this._svgDocument[0].children.length-1],this._svgDocument[0].insertBefore(u,f)),this._prevSelectedItems.push(u),this._trigger("treeMapItemSelected",{selectedItems:t,originalEvent:event}))},_selectTreemapItem:function(t){var r,i,u,f;if(this._rootTreeMapItems!=null)for(r=0;r<this._rootTreeMapItems.length;r++)i=this._rootTreeMapItems[r],u=i.rectangle,i.Data!=null&&i.Data.length>0&&(i.Data=i.Data[0]),t!=i.Data||this._contains(this.selectedItems,t)||this.highlightOnSelection()&&(n(u).css({"border-width":this.highlightBorderThickness(),"border-color":this.highlightBorderBrush()}),this._browser!="msie"&&(f=this._svgDocument[0].children[this._svgDocument[0].children.length-1],this._svgDocument[0].insertBefore(u,f)),this._prevSelectedItems=[],this.selectedItems=[],this._prevSelectedItems.push(u),this.selectedItems.push(t))},_selectItemResize:function(){for(var n,i,t=0;t<this._rootTreeMapItems.length;t++)n=this._rootTreeMapItems[t],i=n.rectangle,n.Data!=null&&n.Data.length>0&&(n.Data=n.Data[0]),this._contains(this.selectedItems,n.Data)&&this.selectItem(n.Data)},_updateLegendRange:function(n,t){for(var o,r,s,c,e,f,h,a,l=this.model.rangeColorMapping,u=0;u<l.length;u++)if(o=null,r=l[u],this.model.enableGradient&&(o=this._generateGradientCollection(r.gradientColors)),n>=r.from&&n<=r.to)for(s=u,u!=0&&(s=u*10),c=r.from,e=r.from+(r.to-r.from)/10,f=s;f<s+10;f++){if(n>=c&&n<=e)return h={},a=this._getColorRatio(.7,1,n,r.from,r.to),this._legendRects[f]!=i&&(h=this._legendRects[f]),t.backgroundColor=this.model.enableGradient?u!=0?o[f-u*10]:o[f]:r.color,t.backgroundOpacity=a,h.color=t.backgroundColor,h;c=e;e=e+(r.to-r.from)/10}},selectItemByPath:function(n,t,i){for(var e,c,l,s,f,o=n.split(i),a=t.split(i),n,t,u=this._rootTreeMapItems,r=0;r<o.length;r++){var n=o[r],t=a[r],h=[];for(e=0;e<u.length;e++){for(f=u[e],c=f.Data,s=0;s<o.length;s++)l=this._reflection(c,n);t==l&&h.push(f)}u=h}for(r=0;r<u.length;r++)f=u[r],this.selectItem(f.Data)},_getColorRatio:function(n,t,i,r,u){var f=100/(u-r)*(i-r);return(parseFloat(t)-parseFloat(n))/100*f+parseFloat(n)},_contains:function(n,t){var i=n.length;if(i>0)while(i--)if(n[i]===t)return!0;return!1},_rectMouseEnter:function(r){var u=r.data.Param2,h=u.model.legendSettings,y=r.data.Param1.Data,f,c,l,e,s,p,w,b,o,k,a,v,d,g,nt;if(y!=null&&(f=r.data.Param2._toolTipElement,c=r.data.Param2.model.tooltipTemplate,f!=null&&c!=null)){if(u.isTouch(r)||n(f).css({left:r.pageX+10,top:r.pageY+10,display:"block"}),l=this.model.locale,e=n.extend({},y),l&&this.model.enableGroupSeparator)for(s in e)e[s]=isNaN(parseFloat(e[s]))?e[s]:parseFloat(e[s]).toLocaleString(l);p=n("#"+c).render(e);n(f).html(p);w=f[0]!=null?f[0].clientHeight:f.clientHeight;b=f[0]!=null?f[0].clientWidth:f.clientWidth;r.data.Param2._tooltipSize={height:w,width:b}}if(h!=null&&h.mode==t.datavisualization.TreeMap.LegendMode.Interactive&&u.model.rangeColorMapping!=null&&(u.showLegend()==i||u.showLegend()))for(o=0;o<u._rootTreeMapItems.length;o++)if(k=u._rootTreeMapItems[o].Rectangle,k==r.target&&(a=null,u.model.rangeColorMapping!=i&&(a=u.model.rangeColorMapping),v=h.width,h.width==i&&(v=150),d=v/a.length/10,u._rootTreeMapItems[o].legendrect!=null)){g=u._rootTreeMapItems[o].legendrect.marginLeft;nt=g+Math.ceil(d)-u._interactiveArrow.width()/2;n(u._interactiveArrow).css({"margin-left":nt,display:"block"});break}},displayTooltip:function(t){var u=t.data.Param2,f=u._toolTipElement,r=u.mousePosition(t),a=!0,h,o,c,v,y,p,s,e,l;if(u.model.trackerElement&&(clearTimeout(u.model.timer),n(".e-tooltipelement"+this._id).finish()),t.data.Param1==i&&f!=null){for(e=0;e<u._rootTreeMapItems.length;e++)if(o=u._rootTreeMapItems[e],o.rectangle.offsetLeft<r.offsetX&&o.rectangle.offsetLeft+o.rectangle.offsetWidth>r.offsetX&&o.rectangle.offsetTop<r.offsetY&&o.rectangle.offsetTop+o.rectangle.offsetHeight>r.offsetY){h=o.Data;break}h!=null?(c=t.data.Param2.model.tooltipTemplate,f!=null&&c!=null&&(n(f).css({left:r.pageX+10,top:r.pageY+10,display:"block"}),v=n("#"+c).render(h),n(f).html(v),y=f[0]!=null?f[0].clientHeight:f.clientHeight,p=f[0]!=null?f[0].clientWidth:f.clientWidth,u._tooltipSize={height:y,width:p})):f!=null&&(a=!1,n(f).css("display","none"))}if(a){if(s=u._tooltipSize,s.width+r.pageX>=u._width&&(r.pageX-=s.width,r.pageX<0&&(r.pageX=10)),s.height+r.pageY>=u._height&&(r.pageY-=s.height,r.pageY<0&&(r.pageY=10)),u.enableDrillDown()&&u._browser!="msie")for(e=0;e<u._drillHoverDiv[0].children.length;e++)l=u._drillHoverDiv[0].children[e],l.className==t.data.Param1.ParentHeader&&n(l).css({display:"block"});f!=null&&n(f).css({left:r.pageX+10,top:r.pageY+10,display:"block"})}},_rectMouseUp:function(n){this.isTouch(n)&&this.displayTooltip(n)},_rectMouseMove:function(n){n.data.Param2.isTouch(n)||n.data.Param2.displayTooltip(n)},_rectMouseLeave:function(t){var i=t.data.treeMap._toolTipElement;i==null||t.data.treeMap.isTouch(t)||n(i).css("display","none")},_setColorMappings:function(n,i,r,u){var e=this,h=this.model.legendSettings,f,o,s;if(i.rangeColorMapping!=null&&i.rangeColorMapping.length>0||i.uniColorMapping!=null&&(i.uniColorMapping.color!=null||this.uniColor()!=null))for(f=0;f<n.length;f++)r||(o=n[f].Data instanceof Array?e._reflection(n[f].Data[0],this.colorValuePath()):e._reflection(n[f].Data,this.colorValuePath())),h.mode==t.datavisualization.TreeMap.LegendMode.Interactive||this.model.enableGradient?n[f].legendrect=this._updateLegendRange(o,n[f]):(s=n[f]._generateColorMappings(i,this),n[f].backgroundColor=s);else i.desaturationColorMapping!=null&&(i.desaturationColorMapping.color!=""||this._color()!="")?this._setDesaturationColor(n,i.desaturationColorMapping):i.paletteColorMapping!=null&&i.paletteColorMapping.colors.length>0?this._setPaletteColor(n,i.paletteColorMapping):this.model.colorPath!=null&&this._setFillColor(n,this.model.colorPath,u)},_setFillColor:function(n,t,i){for(var u,r=0;r<n.length;r++)n[r].color=n[r].backgroundColor=n[r].Data[0]?n[r].Data[0][t]:n[r].Data[t],n[r].legendLabel=n[r].header;if(this.enableDrillDown()&&this.showLegend()){for(u=0;u<i.length;u++)i[u].ChildtreeMapItems&&(i[u].ChildtreeMapItems.sort(function(n,t){return parseFloat(t.weight)-parseFloat(n.weight)}),i[u].color=i[u].ChildtreeMapItems[0].Data[0][t],i[u].legendLabel=i[u].header);this._legendItem=i}else this.enableDrillDown()||!this.showLegend()||this.model.isHierarchicalDatasource||(this._legendItem=n)},_setDesaturationColor:function(n,t){var e,c,u,l,r;n=n.sort(this._orderBycolorWeight);var i=typeof t.from=="number"?t.from:this._from(),f=typeof t.to=="number"?t.to:this._to(),s=typeof t.rangeMinimum=="number"?t.rangeMinimum:this._rangeMinimum(),h=typeof t.rangeMaximum=="number"?t.rangeMaximum:this._rangeMaximum(),o=[];for(e=0;e<n.length;e++)c=n[e].Data[0],u=this._reflection(c,this.colorValuePath()),u!=null&&typeof u!="number"&&(u=Number(u.replace(/[^0-9\.]+/g,""))),o.push(u);for(this._rangeMinimum()==0&&(s=Math.min.apply(Math,o)),this._rangeMaximum()==0&&(h=Math.max.apply(Math,o)),(i<0||i>1)&&(i=1),(f>1||f<0)&&(f=0),l=(i-f)/n.length,r=0;r<n.length;r++)n[r].backgroundColor=typeof t.color=="string"?t.color:this._color(),n[r].colorWeight>=s&&n[r].colorWeight<=h&&(n[r].backgroundOpacity=i,i=i-l)},_generateGradientCollection:function(n){for(var f=[],r=n[0],u=n[n.length-1],e=this._hexToR(r),o=this._hexToG(r),s=this._hexToB(r),h=this._hexToR(u),c=this._hexToG(u),l=this._hexToB(u),i=10,a=this._getRangeColorValues(i,e,h),v=this._getRangeColorValues(i,o,c),y=this._getRangeColorValues(i,s,l),t=0;t<i;t++)f.push(this._rgbToHex(a[t],v[t],y[t]));return f},_hexToR:function(n){return parseInt(this._cropHex(n).substring(0,2),16)},_hexToG:function(n){return parseInt(this._cropHex(n).substring(2,4),16)},_hexToB:function(n){return parseInt(this._cropHex(n).substring(4,6),16)},_cropHex:function(n){return n.charAt(0)=="#"?n.substring(1,7):n},_rgbToHex:function(n,t,i){return"#"+this._toHex(n)+this._toHex(t)+this._toHex(i)},_toHex:function(n){var t="0123456789ABCDEF";return(n=parseInt(n,10),isNaN(n))?"00":(n=Math.max(0,Math.min(n,255)),t.charAt((n-n%16)/16)+t.charAt(n%16))},_getRangeColorValues:function(n,t,i){var u=[],f,r;if(u.push(t),t>i)for(f=(t-i)/(n-1),r=n;r>2;r--)t=t-f,u.push(t);else for(f=(i-t)/(n-1),r=2;r<n;r++)t=t+f,u.push(t+f);return u.push(i),u},_isSVG:function(){return window.SVGSVGElement?!0:!1},_drawInteractiveLegend:function(){var r=this.model.legendSettings,u=0,h=0,lt,it,rt,f=this._legenddiv,w=this.model.legendSettings.height!=0?this.model.legendSettings.height:30,c=this.model.legendSettings.width!=0?this.model.legendSettings.width:100,ut,at,k,ft,a,l,b,e,v,d,st,vt,ht,g,s,tt,o;if(r.mode==t.datavisualization.TreeMap.LegendMode.Interactive||this.model.rangeColorMapping!=null){for(o="",r.height==0&&(w=30),r.width==0&&(c=100),r.leftLabel==null&&(r.leftLabel=""),r.title!=null&&(ut=u,r.showLabels||(ut=u+r.leftLabel.length*10),at=r.title.length*10,k=lt=r.title,at>c&&(k=this._trimFunction(k,c)),o=this._createLabel(k,ut,h,"e-interactivelegend-title"),o[0].title=lt,o.css({width:c+"px"}),this._isSVG()?o.appendTo(f):f.append(o),h+=25),r.showLabels&&(h+=25),r.leftLabel==null||r.showLabels||(o=this._createLabel(r.leftLabel,u,h-3,"e-interactivelegend-leftlabel"),this._isSVG()?o.appendTo(f):f.append(o),u=u+r.leftLabel.length*10),ft=this._createInteractiveArrow(u,h+w),ft.appendTo(f),this._interactiveArrow=ft,a=null,!this._isSVG()&&this.model.enableGradient&&(a=this._createGroup(!1,"legendGroup"),a.style.left="0px",a.style.top="0px",a.style.position="relative",f.append(a)),l=this.model.rangeColorMapping,b=0;b<l.length;b++)if(e=l[b],!e.hideLegend){if(v=[],this.model.enableGradient&&(v=this._generateGradientCollection(e.gradientColors)),d={},this.model.enableGradient)if(this._isSVG()){var et=n("<canvas/>"),ot=et[0].getContext("2d"),y=ot.createLinearGradient(0,0,300,0),p=0;for(s=0;s<10;s++)p=p+1/10,s==0?(y.addColorStop(0,e.gradientColors[0]),y.addColorStop(p,v[s])):s==v.length-1?(y.addColorStop(p-1/10,v[s]),y.addColorStop(p,e.gradientColors[1])):(y.addColorStop(p-1/10,v[s]),y.addColorStop(p,v[s+1]));ot.fillStyle=y;ot.fillRect(0,0,300,300);et.css({height:w+"px",width:c/l.length+"px","margin-left":u+"px","margin-top":h+"px",opacity:"0.9",filter:"alpha(opacity=90)",position:"absolute"});et.appendTo(f)}else st="legend"+b,vt="<v:rect id="+st+' display="block" style="position:absolute;top: '+(h-2)+"px;left:"+u+"px;width:"+c/l.length+"px;height:"+w+'px;"><v:fill opacity="0.9px" type="gradient" method="linear sigma" angle="270"/><v:stroke opacity="0px"/><\/v:rect>',a.innerHTML=a.innerHTML+vt,ht=document.getElementById(st),ht.fillcolor=e.gradientColors[0],ht.fill.color2=e.gradientColors[1];else g=n("<div/>"),g.css({height:w+"px",width:c/this.model.rangeColorMapping.length+"px","background-color":e.color,"margin-left":u+"px","margin-top":h+"px",opacity:"0.9",filter:"alpha(opacity=90)",position:"absolute"}),this._isSVG()?g.appendTo(f):f.append(g);for(s=0;s<10;s++)d={},d.marginLeft=u,this._legendRects.push(d),u=u+c/l.length/10;if(this.model.legendSettings.showLabels){var nt=u-c/l.length,ct=h-25,yt=this._createLabel(e.from,nt,ct,"e-legend-rangestartlabel");nt=u;tt=this._createLabel(e.to,nt,ct);e.legendLabel!=i&&(tt=this._createLabel(e.legendLabel,nt-e.legendLabel.length*5,ct,"e-legend-rangeendlabel"));this._isSVG()?(e==l[0]&&yt.appendTo(f),tt.appendTo(f)):(e==l[0]&&f.append(yt),f.append(tt))}}r.rightLabel==null||r.showLabels||(o=this._createLabel(r.rightLabel,u+10,h-3,"e-interactivelegend-rightlabel"),this._isSVG()?o.appendTo(f):f.append(o),u=u+r.rightLabel.length*10);it=u+10;rt=h+w+this._interactiveArrow.height();this._legendSize={width:it,height:rt};r.dockPosition=="left"?this._marginleft=it:r.dockPosition=="top"&&(this._margintop=rt)}},_trimFunction:function(t,i){var r=n('<div style="width:auto;position:absolute;" class= "e-interactivelegend-title">'+t+"<\/div>"),u;for(n(document.body).append(r),u=t;r.width()>i;)u=u.slice(0,-2),r.text(u+"...");return document.body.removeChild(r[0]),r.text()},_createLabel:function(t,i,r,u){var f=n("<div class="+u+"><\/div>");return f[0].innerHTML=t,f.css({"margin-left":i+"px","margin-top":r+"px",position:"absolute"}),f},_createInteractiveArrow:function(t,i){var r=n("<div class='e-icon1 e-interactiveArrow'><\/div>");return r[0].innerHTML="&#9650",r.css({"margin-left":t+"px","margin-top":i+"px",position:"absolute"}),r},_createGroup:function(n,t){var i;return i=document.createElement("<v:group class="+t+">"),i.style.width=this._width+"px",i.style.height=this._height+"px",i.coordorigin="0 0",i.coordsize=this._width+" "+this._height,n&&(this._rootgroup=i,i.style.left="20px",i.style.top="20px"),i},_setPaletteColor:function(n,t){n=n.sort(this._orderBycolorWeight);for(var i=0;i<n.length;i++)t.colors!=null&&t.colors.length>0&&(n[i].backgroundColor=t.colors[i%t.colors.length])},_orderBycolorWeight:function(n,t){return n.colorWeight==t.colorWeight?0:n.colorWeight<t.colorWeight?1:-1},_orderByAreaWight:function(n,t){return n.AreaByWeight==t.AreaByWeight?0:n.AreaByWeight<t.AreaByWeight?1:-1},_calculateSliceAndDiceItemSize:function(n,t,r,u,f,e,o,s,h){var a,g,l,p,nt,b,v,tt,d,c,k,y;e==""&&(e=0);a=e;g=this._getTotalWeight(n);s==i&&(s=u>f?!0:!1);l={Width:u,Height:f-h};p=o<l.Height?o:0;l.Height=l.Height-p;var rt={X:t,Y:r+p,Width:l.Width,Height:l.Height},it=l.Height*l.Width,w=n.length;if(s)for(nt=l.Height,b=0,c=0;c<w;c++)k=it/g*n[c].weight,v=k/nt,e=v>a?a:0,b<=l.Width&&(n[c].ItemWidth=c!=w-1?v-parseFloat(e):v,n[c].ItemHeight=nt,n[c].LeftPosition=b+t,n[c].TopPosition=r+o,b+=v);else for(tt=l.Width,d=0,c=0;c<w;c++)k=it/g*n[c].weight,y=k/tt,e=y>a?a:0,d<=l.Height&&(n[c].ItemWidth=tt,n[c].ItemHeight=c!=w-1?y-parseFloat(e):y,n[c].LeftPosition=t,n[c].TopPosition=d+r+p,d+=y)},_calculateSquarifiedItemSize:function(n,t,i,r,u,f,e,o){var a,s,v,y,l,g,c;f==""&&(f=0);var it=this._getTotalWeight(n),p={Width:r,Height:u-o},nt=e<p.Height?e:0;for(p.Height=p.Height-nt,a=n.length-1;a>=0;a--)l=n[a],l.AreaByWeight=p.Height*p.Width*l.weight/it,l.headerTopPosition=i;var h={X:t,Y:i+nt,Width:p.Width,Height:p.Height},b=n.sort(this._orderByAreaWight),k=0,d=0,w=0;for(a=0;a<n.length;a=w){var rt=b[a],tt=this._getGroupTotalWeight(rt,b,h,a),ut=tt.totalWeight;for(w=tt.index,s={},v=h.Width>h.Height?!0:!1,y=a;y<w;y++)l=b[y],g=ut,y==a&&(s.X=h.X,s.Y=h.Y,v?(s.Width=g/h.Height,s.Height=h.Height,h.X+=s.Width,h.Width=Math.max(0,h.Width-s.Width)):(s.Width=h.Width,s.Height=g/h.Width,h.Y+=s.Height,h.Height=Math.max(0,h.Height-s.Height)),k=s.X,d=s.Y),c={},b.indexOf(l)!=b.length-1?(c.X=0,c.Y=0,c.Width=v?s.Width-parseFloat(f):l.AreaByWeight/s.Height,c.Height=v?l.AreaByWeight/s.Width:s.Height-parseFloat(f),w-y!=1&&(v?c.Height-=parseFloat(f):c.Width-=parseFloat(f))):(c.Width=v?s.Width:l.AreaByWeight/s.Height,c.Height=v?l.AreaByWeight/s.Width:s.Height),l.ItemWidth=c.Width,l.ItemHeight=c.Height,l.LeftPosition=k,l.TopPosition=d,v?d+=w-y!=1?c.Height+parseFloat(f):c.Height:k+=w-y!=1?c.Width+parseFloat(f):c.Width}},_getGroupTotalWeight:function(n,t,i,r){for(var f=0,o=0,s,e,h;r<t.length;r++){s=this._getShortersideLength(i.Width,i.Height);e=t[r];f+=e.AreaByWeight;var u=f/s,c=n.AreaByWeight/u,l=e.AreaByWeight/u;if(r==0&&(o=this._aspectRatio(u,s)),h=Math.max(this._aspectRatio(c,u),this._aspectRatio(l,u)),f==e.AreaByWeight||h<o)o=h;else{f-=e.AreaByWeight;u=f/s;o=Math.max(this._aspectRatio(c,u),this._aspectRatio(l,u));break}}return{totalWeight:f,index:r}},_aspectRatio:function(n,t){return n>t?n/t:t/n},_getShortersideLength:function(n,t){return n>t?t:n},_getTotalWeight:function(n){for(var i=0,t=0;t<n.length;t++)i+=parseFloat(n[t].weight);return i},_getGroupitem:function(t,i,r,f){var a=[],y,h,v,e,l,o,s,d;if(f&&(i=i[0]?i[0][f]:i[f]),t==null&&(t=this.labelPath()||this.weightValuePath()),i!=null&&this.weightValuePath()!=null){for(h in i)e=i[h],(e!=null&&e.hasOwnProperty(t)?!0:this._containsProperty(e,t))&&(l=this._reflection(e,t),n.inArray(l,a)==-1&&a.push(l));for(y=[],h=0;h<a.length;h++){var c={},w=[],b=a[h],k=0,p=0,g=0;for(v=0;v<i.length;v++)e=i[v],l=this._reflection(e,t),l==b&&(o=this._reflection(e,this.weightValuePath()),o!=null&&typeof o!="number"&&(o=Number(o.replace(/[^0-9\.]+/g,""))),o<0&&(o=-1*o),s=this._reflection(e,this.colorValuePath()),s!=null&&typeof s!="number"&&(s=Number(s.replace(/[^0-9\.]+/g,""))),w.push(e),g++,o!=null&&(p+=parseFloat(o)),s!=null&&(k+=parseFloat(s)));c.header=b;c.data=w;c.weight=p;c.colorWeight=k;c.headerHeight=r;p>0&&(d=new u(c),y.push(d))}return y}return null},_getTopGroupitem:function(n,t){var s,r,y,h,p;n==null&&(n=this.labelPath());n==null&&(n=this.weightValuePath());var f={},c=0,l=0,a=[],v=[];for(s=0;s<t.length;s++){var e=t[s],w=this._reflection(e,n),o={},i=this._reflection(e,this.weightValuePath());i!=null&&typeof i!="number"&&(i=Number(i.replace(/[^0-9\.]+/g,"")));i<0&&(i=-1*i);r=this._reflection(e,this.colorValuePath());r!=null&&typeof r!="number"&&(r=Number(r.replace(/[^0-9\.]+/g,"")));i!=null&&(c+=parseFloat(i));r!=null&&(l+=parseFloat(r));v.push(e);o.weight=i;o.data=e;o.header=w;o.colorWeight=r;y=new u(o);a.push(y)}return f.header="",f.data=v,f.weight=c,f.innerItem=a,f.colorWeight=l,h=[],p=new u(f),h.push(p),h},_containsProperty:function(n,t){for(var i in n)if(i==t)return!0;return!1},_reflection:function(t,i){var r=t,u,f,e;if(i!=null&&t!=null){for(u=i.split("."),u.push(i),f=0;f<u.length;f++)r!=null&&(e=r.hasOwnProperty(u[f])?!0:this._containsProperty(r,u[f]),e&&n.each(r,function(n,t){if(n==u[f])return r=t,!1}));return r}return null}});r=function(){this.groupBackground=null;this.groupBorderColor=null;this.groupBorderThickness=1;this.groupPadding=4;this.groupPath=null;this.groupGap=1;this.headerHeight=20;this.showHeader=!0;this.showLabels=!1;this.headerTemplate=null;this.labelTemplate=null;this.labelPosition="center";this.labelVisibilityMode="visible";this.headerVisibilityMode="visible";this.treeMapItems=[]};r.prototype={};var f=function(){this.groupID=null;this.rangeColorMapping=[];this.desaturationColorMapping={from:0,to:0,color:"",rangeMinimum:0,rangeMaximum:0};this.uniColorMapping={color:null};this.paletteColorMapping={colors:[]}},e=function(){this.from=-1;this.to=-1;this.legendlabel=null;this.color=null},u=function(n){this.weight=n.weight;this.colorWeight=n.colorWeight;this.Data=n.data;this.headerHeight=n.headerHeight;this.header=n.header;this.label=n.header;this.headerLeftPosition=0;this.headerTopPosition=0;this.innerItems=n.innerItem;this.headerWidth=0;this.headerTemplate=null};u.prototype={_generateColorMappings:function(n,t){return n.rangeColorMapping!=null&&n.rangeColorMapping.length>0?this._getRangeBrushColor(n.rangeColorMapping):t.uniColor()!=null&&n.uniColorMapping!=null?t.uniColor():n.uniColorMapping.color!=null&&n.uniColorMapping!=null?this._getUniColor(n.uniColorMapping):void 0},_getUniColor:function(n){return n.color},_getRangeBrushColor:function(n){for(var i,t=0;t<n.length;t++)if(i=n[t],this.colorWeight>=i.from&&this.colorWeight<=i.to)return i.color}};t.datavisualization.TreeMap.selectionMode={Default:"default",Multiple:"multiple"};t.datavisualization.TreeMap.textOverflow={None:"none",Hide:"hide",Wrap:"wrap",WrapByWord:"wrapbyword"};t.datavisualization.TreeMap.groupSelectionMode={Default:"default",Multiple:"multiple"};t.datavisualization.TreeMap.ItemsLayoutMode={Squarified:"squarified",SliceAndDiceHorizontal:"sliceanddicehorizontal",SliceAndDiceVertical:"sliceanddicevertical",SliceAndDiceAuto:"sliceanddiceauto"};t.datavisualization.TreeMap.DockPosition={Top:"top",Bottom:"bottom",Right:"right",Left:"left"};t.datavisualization.TreeMap.LegendMode={Default:"default",Interactive:"interactive"};t.datavisualization.TreeMap.Position={TopLeft:"topleft",TopCenter:"topcenter",TopRight:"topright",CenterLeft:"centerleft",Center:"center",CenterRight:"centerright",BottomLeft:"bottomleft",BottomCenter:"bottomcenter",BottomRight:"bottomright"};t.datavisualization.TreeMap.Alignment={Near:"near",Center:"center",Far:"far"};t.datavisualization.TreeMap.VisibilityMode={Visible:"visible",HideOnExceededLength:"hideonexceededlength"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejBarcode","ej.datavisualization.Barcode",{element:{target:null},model:null,validTags:["div","span"],_rootCSS:"e-barcode",defaults:{displayText:!0,text:"",height:"",width:"",textSize:12,symbologyType:"qrbarcode",textColor:"black",lightBarColor:"white",darkBarColor:"black",quietZone:{left:1,top:1,right:1,bottom:1,all:1},narrowBarWidth:1,wideBarWidth:3,barHeight:150,barcodeToTextGapHeight:10,xDimension:4,encodeStartStopSymbol:!0,load:null,enabled:!0},dataTypes:{displayText:"boolean",text:"string",textSize:"number",enabled:"boolean",symbologyType:"enum",narrowBarWidth:"number",wideBarWidth:"number",barHeight:"number",encodeStartStopSymbol:"boolean"},_defaultScaleValues:function(){return{enabled:!0,displayText:!0,text:"",textSize:12,symbologyType:"qrbarcode",textColor:"black",lightBarColor:"white",darkBarColor:"black",quietZone:{left:1,top:1,right:1,bottom:1},narrowBarWidth:1,wideBarWidth:3,barHeight:150,barcodeToTextGapHeight:10,xDimension:4,encodeStartStopSymbol:!0}},_init:function(){this._initialize();this._renderBarcode()},_destroy:function(){this.element.empty()},_setModel:function(n){for(var t,i=0;i<n.length;i++){t=n[i];switch(t){case"enabled":this._disabled(!n[t]);break;case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"lightBarColor":this.model.lightBarColor=n[t];break;case"darkBarColor":this.model.darkBarColor=n[t];break;case"textColor":this.model.textColor=n[t];break;case"displayText":this.model.displayText=n[t];break;case"quietZone":this.model.quietZone=n[t];break;case"narrowBarWidth":this.model.narrowBarWidth=n[t];break;case"wideBarWidth":this.model.wideBarWidth=n[t];break;case"barHeight":this.model.barHeight=n[t];break;case"xDimension":this.model.xDimension=n[t];break;case"encodeStartStopSymbol":this.model.encodeStartStopSymbol=n[t];break;case"symbologyType":this.model.symbologyType=n[t];this._itemInitialize();break;case"text":this.model.text=n[t];this._itemInitialize()}}this._renderBarcode()},_initialize:function(){this.BarcodeEl=this.element;this.target=this.element[0];this._itemInitialize();this.Model=this.model},_renderBarcode:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r);n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this.model.enabled&&(this._initObject(this),this.Model.text!=null&&this._findBarcodeType())},enable:function(){this.model.enabled||(this.element.removeClass("e-disable"),this.model.enabled=!0)},height:function(n){this.Model.height=n},width:function(n){this.Model.width=n},textSize:function(n){this.Model.textSize=n},resize:function(){this.Model.text!=null&&this._findBarcodeType()},disable:function(){this.model.enabled&&(this.element.addClass("e-disable"),this.model.enabled=!1)},_disabled:function(n){n?this.disable():this.enable()},_initObject:function(t){t.BarcodeEl=n("#"+t.target.id);t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>");t.BarcodeEl.append(t.canvasEl);t.BarcodeEl.css("width",t.model.width);t.BarcodeEl.css("height",t.model.height);t.canvasEl[0].setAttribute("width",t.BarcodeEl.width());t.canvasEl[0].setAttribute("height",t.BarcodeEl.height());t.centerX=t.canvasEl[0].width/2;t.centerY=t.canvasEl[0].height/2;var r=t.canvasEl[0];(typeof G_vmlCanvasManager!="undefined"&&(r=window.G_vmlCanvasManager.initElement(r)),r&&r.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"),t.contextEl==i)},_findBarcodeType:function(){var c,l,f,y,u,e,o,p,g,nt;if(this.contextEl!=i&&this.Model.text!=""){this.textFont={size:this.model.textSize,fontFamily:"Segoe UI",fontStyle:"Regular"};this.model.quietZone.all>1&&(this.model.quietZone.left=this.model.quietZone.right=this.model.quietZone.top=this.model.quietZone.bottom=this.model.quietZone.all);var a=1,h="",w="",r=this.Model.text,b,k,v,s,n=this.Model.symbologyType,d=!0;if(t.datavisualization.Barcode.SymbologyType.dataMatrix==n||t.datavisualization.Barcode.SymbologyType.qrBarcode==n)d=!1;else if(b=t.datavisualization.Barcode.symbologySettings[n].startSymbol,k=t.datavisualization.Barcode.symbologySettings[n].stopSymbol,w=t.datavisualization.Barcode.symbologySettings[n].validatorExp,v=t.datavisualization.Barcode.symbologySettings[n].symbolTable,s=t.datavisualization.Barcode.symbologySettings[n].extendedCodes,r=this._calculateCheckDigit(r,v,n),t.datavisualization.Barcode.SymbologyType.code39Extended==n){for(c=r.split(""),l="",f=0;f<c.length;f++)for(y=c[f],u=0;u<s.length;u++)if(s[u][0]==y&&(e=s[u][1],!(e==i)))for(o=0;o<e.length;o++)l+=e[o];h=l}else if(t.datavisualization.Barcode.SymbologyType.code93Extended==n){for(c=r.split(""),l="",f=0;f<c.length;f++)for(y=c[f],u=0;u<s.length;u++)if(s[u][0]==y&&(e=s[u][1],!(e==i)))for(o=0;o<e.length;o++)l+=e[o];h=l}if(d){if(!this._validateText(this.Model.text,w)){console.log("Barcode Text contains characters that are not accepted by this barcode specification.");return}if(this.model.symbologyType=="code32"&&this.model.text.length!=8){console.log("Barcode Text Length that are not accepted by this barcode specification.");return}if(h.length>0&&(r=h),this.model.symbologyType=="ean"&&(this.Model.encodeStartStopSymbol=!0),this.model.symbologyType=="ean"&&this.model.text.length!=7&&this.model.text.length!=12){console.log("Barcode Text Length that are not accepted by this barcode specification, EAN barcode can accept only 7 or 13 characters.");return}this.Model.encodeStartStopSymbol&&(r=b.toString()+r+k.toString());p=this._getCharWidth(r,v);p-=a*r.length;g=parseInt(this.Model.displayText?this.textFont.size:0);nt=this.Model.quietZone.top+this.Model.quietZone.bottom+this.Model.barHeight+a+(this.Model.displayText?g+this.Model.barcodeToTextGapHeight:0);p+=this.Model.quietZone.left+this.Model.quietZone.right;this._draw1DBarcode(r,v,p)}else t.datavisualization.Barcode.SymbologyType.dataMatrix==n?this._buildDataMatrix():t.datavisualization.Barcode.SymbologyType.qrBarcode==n&&this._buildQRBarcode();this._raiseEvent("load")}},_calculateCheckDigit:function(n,t,i){var v=n,f,y,p,w,c,e,r,u;if(i=="code128b"||i=="code128a"){for(f=0,y=[n.split("")],r=0;r<n.split("").length;r++)p=y[0][r],w=this._findCheckDigit(p,t)[1],f+=w*(r+1);if(i=="code128b"){for(f+=104,f=f%103,c=[1],e=0;e<t.length;e++)e==f&&(c[0]=t[e][0]);n+=c.toString()}else{for(f+=103,f=f%103,c=[1],e=0;e<t.length;e++)f==t[e][1]&&(c[0]=t[e][0]);n+=c.toString()}}else{if(i=="upcbarcode"){var y=[n.split("")],l=0,o=0;for(r=0;r<n.split("").length;r++)r<11&&(o=n[r],l+=r%2==0?o*3:o*1);var a=(10-l%10)%10,s=n.split(""),h=6;for(u=0;u<s.length;u++)u==6?h+="B"+s[u]:u!=11&&(h+=s[u]);n=h;n+=a;n+=6}if(i=="ean")if(n.length==12){var y=[n.split("")],l=0,o=0;for(r=0;r<n.split("").length;r++)r<12&&(o=n[r],l+=r%2==0?o*1:o*3);var a=(10-l%10)%10,s=n.split(""),h="A";for(u=0;u<s.length;u++)u==7?h+="B"+s[u]:u!=12&&(h+=s[u]);n=h;n+=a;v+=a;n+="A"}else if(n.length==7){var y=[n.split("")],l=0,o=0;for(r=0;r<n.split("").length;r++)r<7&&(o=n[r],l+=r%2==0?o*3:o*1);var a=(10-l%10)%10,s=n.split(""),h="A";for(u=0;u<s.length;u++)u==4?h+="B"+s[u]:u!=7&&(h+=s[u]);n=h;n+=a;v+=a;n+="A"}}return n},_findCheckDigit:function(n,t){for(var i=0;i<t.length;i++)if(t[i][0]==n)return t[i]},_raiseEvent:function(n){this.model[n]&&this._trigger(n)},_buildQRBarcode:function(){var t=this.Model.text,u,i,f,n,r,e,o,s,h;for(this.m_EciAssignmentNumber=3,this.mode="numeric",this.isEci=!1,this.m_Version=1,u=[14,26,42,62,84,106,122,152,180,213,251,287,331,362,412,450,504,560,624,666,711,779,857,911,997,1059,1125,1190,1264,1370,1452,1538,1628,1722,1809,1911,1989,2099,2213,2331],n=0;n<t.length;n++)if(i=t.charCodeAt(n),!(i<58)||!(i>47))if(i<91&&i>64||t[n]=="$"||t[n]=="%"||t[n]=="*"||t[n]=="+"||t[n]=="-"||t[n]=="."||t[n]=="/"||t[n]==":"||t[n]==" ")this.mode="alphanumeric";else if(i>=65377&&i<=65439||i>=97&&i<=122){this.mode="binary";break}else{this.mode="binary";this.isEci=!0;break}for(this.mode=="numeric"?u=[34,63,101,149,202,255,293,365,432,513,604,691,796,871,991,1082,1212,1346,1500,1600,1708,1872,2059,2188,2395,2544,2701,2857,3035,3289,3486,3693,3909,4134,4343,4588,4775,5039,5313,5596]:this.mode=="alphanumeric"&&(u=[20,38,61,90,122,154,178,221,262,311,366,419,483,528,600,656,734,816,909,970,1035,1134,1248,1326,1451,1542,1637,1732,1839,1994,2113,2238,2369,2506,2632,2780,2894,3054,3220,3391]),this.isEci==!0&&(this.m_EciAssignmentNumber=this._findECINumber(t)),n=0;n<u.length;n++)if(u[n]>t.length){this.m_Version=n+1;break}for(this.qrbarcodeValues={Version:this.m_Version,ErrorCorrectionLevel:1,NumberOfDataCodeWord:this._getNumberOfDataCodeWord(),NumberOfErrorCorrectingCodeWords:this._getNumberOfErrorCorrectingCodeWords(),NumberOfErrorCorrectionBlocks:this._getNumberOfErrorCorrectionBlocks(),End:this._getEnd(),DataCapacity:this._getDataCapacity(),FormatInformation:this._getFormatInformation(),VersionInformation:this._getVersionInformation()},this.noOfModules=(this.m_Version-1)*4+21,this.moduleValue=this._create2DArray(this.noOfModules,this.noOfModules),n=0;n<this.noOfModules;n++)for(r=0;r<this.noOfModules;r++)this.moduleValue[n][r]={IsBlack:!1,IsFilled:!1,IsPDP:!1};if(this._drawPDP(0,0),this._drawPDP(this.noOfModules-7,0),this._drawPDP(0,this.noOfModules-7),this._drawTimingPattern(),this.m_Version!=1)for(f=this._getAlignmentPatternCoOrdinates(),n=0;n<f.length;n++)for(r=0;r<f.length;r++)e=f[n],o=f[r],this.moduleValue[e][o].IsPDP!=!0&&this._drawAlignmentPattern(e,o);this._allocateFormatVersionInfo();this._encodeData();this._drawFormatInformation();this._addQuietZone();s=this.moduleValue.length*this.Model.xDimension;h=this.moduleValue[0].length*this.Model.xDimension;this.contextEl.beginPath();this.contextEl.fillStyle="white";this.contextEl.fillRect(0,0,s,h);this.contextEl.closePath();this._drawQRBarcode(h,s)},_allocateFormatVersionInfo:function(){for(var i,r,t,n=0;n<9;n++)this.moduleValue[8][n].IsFilled=!0,this.moduleValue[n][8].IsFilled=!0;for(n=this.noOfModules-8;n<this.noOfModules;n++)this.moduleValue[8][n].IsFilled=!0,this.moduleValue[n][8].IsFilled=!0;if(this.m_Version>6)for(i=this.qrbarcodeValues.VersionInformation,r=0,n=0;n<6;n++)for(t=2;t>=0;t--)this.moduleValue[n][this.noOfModules-9-t].IsBlack=i[r]==1?!0:!1,this.moduleValue[n][this.noOfModules-9-t].IsFilled=!0,this.moduleValue[this.noOfModules-9-t][n].IsBlack=i[r++]==1?!0:!1,this.moduleValue[this.noOfModules-9-t][n].IsFilled=!0},_drawTimingPattern:function(){for(var n=8;n<this.noOfModules-8;n+=2)this.moduleValue[n][6].IsBlack=!0,this.moduleValue[n][6].IsFilled=!0,this.moduleValue[n+1][6].IsBlack=!1,this.moduleValue[n+1][6].IsFilled=!0,this.moduleValue[6][n].IsBlack=!0,this.moduleValue[6][n].IsFilled=!0,this.moduleValue[6][n+1].IsBlack=!1,this.moduleValue[6][n+1].IsFilled=!0;this.moduleValue[this.noOfModules-8][8].IsBlack=!0;this.moduleValue[this.noOfModules-8][8].IsFilled=!0},_drawQRBarcode:function(n,t){var u=this.Model.quietZone.all,h,i,c,r,e,l,o;u<2&&(u=2);var s=this.textFont.size,f=parseInt(this.Model.xDimension);this.Model.height!=""&&this.Model.width!=""?(this.Model.height=this._getProperValue(this.Model.height),this.Model.width=this._getProperValue(this.Model.width)):(this.Model.height=n,this.Model.height+=s+this.Model.barcodeToTextGapHeight,this.Model.width=t,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width),this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height));h=Math.min(this.Model.width,this.Model.height);h!=0&&(f=h/(this.noOfModules+2*u));var a=0,t=this.noOfModules+2*u,v=this.noOfModules+2*u;for(this.contextEl.beginPath(),i=0;i<t;i++){for(c=0,r=0;r<v;r++)e=null,e=this.moduleValue[i][r].IsBlack?this.model.darkBarColor:this.model.lightBarColor,this.dataAllocationValues[r][i].IsFilled&&this.dataAllocationValues[r][i].IsBlack&&(e="black"),this.contextEl.fillStyle=e,this.contextEl.fillRect(c,a,f,f),c+=f;a+=f}this.Model.displayText&&(l=this.textFont.fontStyle.toLowerCase()=="regular"?"":+this.textFont.fontStyle.toLowerCase()+" ",l+=this.textFont.size+"px "+this.textFont.fontFamily.toLowerCase()+",sans-serif",this.contextEl.font=l,o=this.Model.height,this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.textColor,this.contextEl.textAlign="center",o=o-s+s/2,this.contextEl.fillText(this.Model.text,this.Model.width/2,o));this.contextEl.closePath();this.contextEl.stroke()},_getProperValue:function(n){return n==""?"":typeof n=="string"?(n=n.replace("px",""),parseInt(n)):typeof n=="number"?n:0},_addQuietZone:function(){var n=this.Model.quietZone.all,t,i;n<2&&(n=2);var r=this.noOfModules+2*n,u=this.noOfModules+2*n,f=this._create2DArray(r,u),e=this._create2DArray(r,u);for(t=0;t<r;t++)for(i=0;i<u;i++)f[t][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1},e[t][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1};for(t=n;t<r-n;t++)for(i=n;i<u-n;i++)f[t][i]=this.moduleValue[t-n][i-n],e[t][i]=this.dataAllocationValues[t-n][i-n];this.moduleValue=f;this.dataAllocationValues=e},_drawFormatInformation:function(){for(var t=this.qrbarcodeValues.FormatInformation,i=0,n=0;n<7;n++)n==6?this.moduleValue[n+1][8].IsBlack=t[i]==1?!0:!1:this.moduleValue[n][8].IsBlack=t[i]==1?!0:!1,this.moduleValue[8][this.noOfModules-n-1].IsBlack=t[i++]==1?!0:!1;for(i=14,n=0;n<7;n++)n==6?this.moduleValue[8][n+1].IsBlack=t[i]==1?!0:!1:this.moduleValue[8][n].IsBlack=t[i]==1?!0:!1,this.moduleValue[this.noOfModules-n-1][8].IsBlack=t[i--]==1?!0:!1;this.moduleValue[8][8].IsBlack=t[7]==1?!0:!1;this.moduleValue[8][this.noOfModules-8].IsBlack=t[7]==1?!0:!1},_dataAllocationAndMasking:function(n){var r=this.noOfModules,u,t,i,f;for(this.dataAllocationValues=this._create2DArray(r,r),u=0,t=0;t<r;t++)for(i=0;i<r;i++)this.dataAllocationValues[t][i]={IsBlack:!1,IsFilled:!1,IsPDP:!1};for(t=r-1;t>=0;t-=2){for(i=r-1;i>=0;i--)u=this._allocateValues(n,t,i,u);for(t-=2,t==6&&t--,i=0;i<r;i++)u=this._allocateValues(n,t,i,u)}for(t=0;t<r;t++)for(i=0;i<r;i++)this.moduleValue[t][i].IsFilled||(f=this.dataAllocationValues[t][i].IsBlack,this.dataAllocationValues[t][i].IsBlack=f?!1:!0)},_allocateValues:function(n,t,i,r){return this.moduleValue[t][i].IsFilled&&this.moduleValue[t-1][i].IsFilled||(this.moduleValue[t][i].IsFilled||(r+1<n.length&&(this.dataAllocationValues[t][i].IsBlack=n[r++]),this.dataAllocationValues[t][i].IsBlack=(t+i)%3==0?this.dataAllocationValues[t][i].IsBlack?!0:!1:this.dataAllocationValues[t][i].IsBlack?!1:!0,this.dataAllocationValues[t][i].IsFilled=!0),this.moduleValue[t-1][i].IsFilled||(r+1<n.length&&(this.dataAllocationValues[t-1][i].IsBlack=n[r++]),this.dataAllocationValues[t-1][i].IsBlack=(t-1+i)%3==0?this.dataAllocationValues[t-1][i].IsBlack?!0:!1:this.dataAllocationValues[t-1][i].IsBlack?!1:!0,this.dataAllocationValues[t-1][i].IsFilled=!0)),r},_encodeData:function(){var t=[],i=-1,b,c,f,tt,w,a,e,o,d,g,nt,it,k,rt,h,y,ut,n,s,u;switch(this.mode){case"numeric":t[++i]=!1;t[++i]=!1;t[++i]=!1;t[++i]=!0;break;case"alphanumeric":t[++i]=!1;t[++i]=!1;t[++i]=!0;t[++i]=!1;break;case"binary":if(this.isEci)for(t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!0,o=this._stringToBoolArray(this.m_EciAssignmentNumber.toString(),8),b=0;b<o.length;b++)t[++i]=o[b];t[++i]=!1;t[++i]=!0;t[++i]=!1;t[++i]=!1}if(c=0,this.m_Version<10)switch(this.mode){case"numeric":c=10;break;case"alphanumeric":c=9;break;case"binary":c=8}else if(this.m_Version<27)switch(this.mode){case"numeric":c=12;break;case"alphanumeric":c=11;break;case"binary":c=16}else switch(this.mode){case"numeric":c=14;break;case"alphanumeric":c=13;break;case"binary":c=16}for(f=this.Model.text,tt=this._intToBoolArray(f.length,c),n=0;n<c;n++)t[++i]=tt[n];if(this.mode=="numeric"){for(e="",n=0;n<f.length;n++)if(o=[],e+=f[n],n%3==2&&n!=0||n==f.length-1)for(o=e.length==3?this._stringToBoolArray(e,10):e.length==2?this._stringToBoolArray(e,7):this._stringToBoolArray(e,4),e="",u=0;u<o.length;u++)t[++i]=o[u]}else if(this.mode=="alphanumeric")for(w="",e=0,n=0;n<f.length;n++){if(o=[],w+=f[n],n%2==0&&n+1!=f.length&&(e=45*this._getAlphanumericvalues(f[n])),n%2==1&&n!=0){for(e+=this._getAlphanumericvalues(f[n]),o=this._intToBoolArray(e,11),e=0,a=0;a<o.length;a++)t[++i]=o[a];w=""}if(n!=1&&w!=null&&n+1==f.length&&w.length==1)for(e=this._getAlphanumericvalues(f[n]),o=this._intToBoolArray(e,6),e=0,u=0;u<o.length;u++)t[++i]=o[u]}else if(this.mode="binary")for(n=0;n<f.length;n++){if(e=0,f.charCodeAt(n)>=32&&f.charCodeAt(n)<=126||f.charCodeAt(n)>=161&&f.charCodeAt(n)<=255)e=f.charCodeAt(n);else if(f.charCodeAt(n)>=65377&&f.charCodeAt(n)<=65439)e=f.charCodeAt(n)-65216;else{console.log("Input text contains non-convertable characters");return}for(o=this._intToBoolArray(e,8),u=0;u<o.length;u++)t[++i]=o[u]}for(n=0;n<4;n++)if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1;for(;;)if(t.length%8==0)break;else t[++i]=!1;for(;;){if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!1,t[++i]=!0,t[++i]=!0,t[++i]=!1,t[++i]=!1;if(t.length/8==this.qrbarcodeValues.NumberOfDataCodeWord)break;else t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0,t[++i]=!1,t[++i]=!1,t[++i]=!1,t[++i]=!0}var k=this.qrbarcodeValues.NumberOfDataCodeWord,r=this.qrbarcodeValues.NumberOfErrorCorrectionBlocks,v=r[0];r.length==6&&(v=r[0]+r[3]);var p=new Array(v),l=t,a=-1;if(r.length==6)for(d=r[0]*r[2]*8,l=new Array(d),n=0;n<d;n++)l[++a]=t[n];for(g=this._create2DArray(r[0],l.length/8/r[0]),g=this._createBlocks(l,r[0]),n=0;n<r[0];n++)p[n]=this._splitCodeWord(g,n,l.length/8/r[0]);if(a=-1,r.length==6){for(l=[],n=parseInt(r[0]*r[2]*8);n<t.length;n++)l[++a]=t[n];for(nt=this._create2DArray(r[0],l.length/8/r[3]),nt=this._createBlocks(l,r[3]),n=r[0],y=0;n<v;n++)p[n]=this._splitCodeWord(nt,y++,l.length/8/r[3])}for(t=[],i=-1,n=0;n<125;n++)for(s=0;s<v;s++)for(u=0;u<8;u++)n<p[s].length&&(it=p[s][n][u],t[++i]=it=="1"?!0:!1);for(this.corCodeWords={DataBits:this.qrbarcodeValues.NumberOfDataCodeWord,ECCW:this.qrbarcodeValues.NumberOfErrorCorrectingCodeWords,DC:0},k=this.corCodeWords.DataBits,rt=this.corCodeWords.ECCW,r=this.qrbarcodeValues.NumberOfErrorCorrectionBlocks,this.corCodeWords.DataBits=r.length==6?(k-r[3]*r[5])/r[0]:k/r[0],this.corCodeWords.ECCW=rt/v,h=new Array(v),y=0,n=0;n<r[0];n++)this.corCodeWords.DC=p[y],h[y++]=this._getERCW();if(r.length==6)for(this.corCodeWords.DataBits=(k-r[0]*r[2])/r[3],n=0;n<r[3];n++)this.corCodeWords.DC=p[y],h[y++]=this._getERCW();if(ut=h[0].slice(-1)[h.length-1],typeof ut=="undefined"&&(h[0].length=h[0].length-1),r.length!=6)for(n=0;n<h[0].length;n++)for(s=0;s<r[0];s++)for(u=0;u<8;u++)n<h[s].length&&(t[++i]=h[s][n][u]=="1"?!0:!1);else for(n=0;n<h[0].length;n++)for(s=0;s<v;s++)for(u=0;u<8;u++)n<h[s].length&&(t[++i]=h[s][n][u]=="1"?!0:!1);this._dataAllocationAndMasking(t)},_getERCW:function(){var i,t=new Array(this.corCodeWords.DataBits),n=[];switch(this.corCodeWords.ECCW){case 7:n=[0,87,229,146,149,238,102,21];n=this._getElement(n);break;case 10:n=[0,251,67,46,61,118,70,64,94,32,45];n=this._getElement(n);break;case 13:n=[0,74,152,176,100,86,100,106,104,130,218,206,140,78];n=this._getElement(n);break;case 15:n=[0,8,183,61,91,202,37,51,58,58,237,140,124,5,99,105];n=this._getElement(n);break;case 16:n=[0,120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120];n=this._getElement(n);break;case 17:n=[0,43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136];n=this._getElement(n);break;case 18:n=[0,215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153];n=this._getElement(n);break;case 20:n=[0,17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190];n=this._getElement(n);break;case 22:n=[0,210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231];n=this._getElement(n);break;case 24:n=[0,229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21];n=this._getElement(n);break;case 26:n=[0,173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70];n=this._getElement(n);break;case 28:n=[0,168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123];n=this._getElement(n);break;case 30:n=[0,41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180];n=this._getElement(n);break;case 32:n=[0,10,6,106,190,249,167,4,67,209,138,138,32,242,123,89,27,120,185,80,156,38,69,171,60,28,222,80,52,254,185,220,241];n=this._getElement(n);break;case 34:n=[0,111,77,146,94,26,21,108,19,105,94,113,193,86,140,163,125,58,158,229,239,218,103,56,70,114,61,183,129,167,13,98,62,129,51];n=this._getElement(n);break;case 36:n=[0,200,183,98,16,172,31,246,234,60,152,115,0,167,152,113,248,238,107,18,63,218,37,87,210,105,177,120,74,121,196,117,251,113,233,30,120];n=this._getElement(n);break;case 40:n=[0,59,116,79,161,252,98,128,205,128,161,247,57,163,56,235,106,53,26,187,174,226,104,170,7,175,35,181,114,88,41,47,163,125,134,72,20,232,53,35,15];n=this._getElement(n);break;case 42:n=[0,250,103,221,230,25,18,137,231,0,3,58,242,221,191,110,84,230,8,188,106,96,147,15,131,139,34,101,223,39,101,213,199,237,254,201,123,171,162,194,117,50,96];n=this._getElement(n);break;case 44:n=[0,190,7,61,121,71,246,69,55,168,188,89,243,191,25,72,123,9,145,14,247,1,238,44,78,143,62,224,126,118,114,68,163,52,194,217,147,204,169,37,130,113,102,73,181];n=this._getElement(n);break;case 46:n=[0,112,94,88,112,253,224,202,115,187,99,89,5,54,113,129,44,58,16,135,216,169,211,36,1,4,96,60,241,73,104,234,8,249,245,119,174,52,25,157,224,43,202,223,19,82,15];n=this._getElement(n);break;case 48:n=[0,228,25,196,130,211,146,60,24,251,90,39,102,240,61,178,63,46,123,115,18,221,111,135,160,182,205,107,206,95,150,120,184,91,21,247,156,140,238,191,11,94,227,84,50,163,39,34,108];n=this._getElement(n);break;case 50:n=[0,232,125,157,161,164,9,118,46,209,99,203,193,35,3,209,111,195,242,203,225,46,13,32,160,126,209,130,160,242,215,242,75,77,42,189,32,113,65,124,69,228,114,235,175,124,170,215,232,133,205];n=this._getElement(n);break;case 52:n=[0,116,50,86,186,50,220,251,89,192,46,86,127,124,19,184,233,151,215,22,14,59,145,37,242,203,134,254,89,190,94,59,65,124,113,100,233,235,121,22,76,86,97,39,242,200,220,101,33,239,254,116,51];n=this._getElement(n);break;case 54:n=[0,183,26,201,87,210,221,113,21,46,65,45,50,238,184,249,225,102,58,209,218,109,165,26,95,184,192,52,245,35,254,238,175,172,79,123,25,122,43,120,108,215,80,128,201,235,8,153,59,101,31,198,76,31,156];n=this._getElement(n);break;case 56:n=[0,106,120,107,157,164,216,112,116,2,91,248,163,36,201,202,229,6,144,254,155,135,208,170,209,12,139,127,142,182,249,177,174,190,28,10,85,239,184,101,124,152,206,96,23,163,61,27,196,247,151,154,202,207,20,61,10];n=this._getElement(n);break;case 58:n=[0,82,116,26,247,66,27,62,107,252,182,200,185,235,55,251,242,210,144,154,237,176,141,192,248,152,249,206,85,253,142,65,165,125,23,24,30,122,240,214,6,129,218,29,145,127,134,206,245,117,29,41,63,159,142,233,125,148,123];n=this._getElement(n);break;case 60:n=[0,107,140,26,12,9,141,243,197,226,197,219,45,211,101,219,120,28,181,127,6,100,247,2,205,198,57,115,219,101,109,160,82,37,38,238,49,160,209,121,86,11,124,30,181,84,25,194,87,65,102,190,220,70,27,209,16,89,7,33,240];n=this._getElement(n);break;case 62:n=[0,65,202,113,98,71,223,248,118,214,94,0,122,37,23,2,228,58,121,7,105,135,78,243,118,70,76,223,89,72,50,70,111,194,17,212,126,181,35,221,117,235,11,229,149,147,123,213,40,115,6,200,100,26,246,182,218,127,215,36,186,110,106];n=this._getElement(n);break;case 64:n=[0,45,51,175,9,7,158,159,49,68,119,92,123,177,204,187,254,200,78,141,149,119,26,127,53,160,93,199,212,29,24,145,156,208,150,218,209,4,216,91,47,184,146,47,140,195,195,125,242,238,63,99,108,140,230,242,31,204,11,178,243,217,156,213,231];n=this._getElement(n);break;case 66:n=[0,5,118,222,180,136,136,162,51,46,117,13,215,81,17,139,247,197,171,95,173,65,137,178,68,111,95,101,41,72,214,169,197,95,7,44,154,77,111,236,40,121,143,63,87,80,253,240,126,217,77,34,232,106,50,168,82,76,146,67,106,171,25,132,93,45,105];n=this._getElement(n);break;case 68:n=[0,247,159,223,33,224,93,77,70,90,160,32,254,43,150,84,101,190,205,133,52,60,202,165,220,203,151,93,84,15,84,253,173,160,89,227,52,199,97,95,231,52,177,41,125,137,241,166,225,118,2,54,32,82,215,175,198,43,238,235,27,101,184,127,3,5,8,163,238];n=this._getElement(n)}return t=this._toDecimal(this.corCodeWords.DC,t),i=this._divide(n,t),this._toBinary(i)},_toBinary:function(n){for(var i,r,u,f=new Array(this.corCodeWords.ECCW),t=0;t<n.length;t++){for(i=n[t].toString(2),r=new String,u=0;u<8-i.length;u++)r+="0";f[t]=r+i}return f},_divide:function(n,t){for(var r,h,u,c,e,s,o=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142],l=this.corCodeWords.ECCW,f=[],i=0;i<t.length;i++)f.push({Exponent:t.length-1-i,Coefficient:t[i]});for(r=[],i=0;i<n.length;i++)r.push({Exponent:n.length-1-i,Coefficient:this._findElement(n[i],o)});for(i=0;i<f.length;i++)f[i].Exponent=f[i].Exponent+l;for(h=f[0].Exponent-r[0].Exponent,i=0;i<r.length;i++)r[i].Coefficient=r[i].Coefficient,r[i].Exponent=r[i].Exponent+h;for(u=f,i=0;i<f.length;i++)u[0].Coefficient==0?u.splice(0,1):(c=this._convertToAlphaNotation(u,o),e=this._multiplyGeneratorPolynomByLeadterm(r,c[0],i),e=this._convertToDecNotation(e,o),e=this._XORPolynoms(u,e),u=e);for(s=[],i=0;i<u.length;i++)s.push(u[i].Coefficient);return s},_convertToAlphaNotation:function(n,t){for(var r=[],i=0;i<n.length;i++)n[i].Coefficient!=0&&r.push({Exponent:n[i].Exponent,Coefficient:this._findElement(n[i].Coefficient,t)});return r},_multiplyGeneratorPolynomByLeadterm:function(n,t,i){for(var u=[],r=0;r<n.length;r++)u.push({Exponent:n[r].Exponent-i,Coefficient:(n[r].Coefficient+t.Coefficient)%255});return u},_convertToDecNotation:function(n,t){for(var r=[],i=0;i<n.length;i++)r.push({Exponent:n[i].Exponent,Coefficient:this._getIntValFromAlphaExp(n[i].Coefficient,t)});return r},_getIntValFromAlphaExp:function(n,t){return n>255&&(n=n-255),t[n]},_XORPolynoms:function(n,t){var f=[],r=[],u=[],i;for(n.length>=t.length?(r=n,u=t):(r=t,u=n),i=0;i<r.length;i++)f.push({Exponent:n[0].Exponent-i,Coefficient:r[i].Coefficient^(u.length>i?u[i].Coefficient:0)});return f.splice(0,1),f},_findElement:function(n,t){for(var i=0;i<t.length;i++)if(n==t[i])break;return i},_getElement:function(n){for(var i=new Array(n.length),r=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142],t=0;t<n.length;t++)n[t]>255&&(n[t]=n[t]-255),i[t]=r[n[t]];return i},_toDecimal:function(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=parseInt(n[t],2);return i},_splitCodeWord:function(n,t,i){var u,r;for(i=parseInt(i),u=new Array(i),r=0;r<i;r++)u[r]=n[t][r];return u},_createBlocks:function(n,t){for(var f=this._create2DArray(t,n.length/8/t),u="",i=0,r=0,e=0;i<n.length;i++)i%8==0&&i!=0&&(f[e][r]=u,u="",r++,r==n.length/t/8&&(e++,r=0)),u+=n[i]?1:0;return f[e][r]=u,f},_getAlphanumericvalues:function(n){return["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"].indexOf(n)},_stringToBoolArray:function(n,t){for(var u=new Array(t),r=0,i=0;i<n.length;i++)r=r*10+n.charCodeAt(i)-48;for(i=0;i<t;i++)u[t-i-1]=(r>>i&1)==1;return u},_intToBoolArray:function(n,t){for(var r=new Array(t),i=0;i<t;i++)r[t-i-1]=(n>>i&1)==1;return r},_drawPDP:function(n,t){for(var i=n,r=t;i<n+7;i++,r++)this.moduleValue[i][t].IsBlack=!0,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+6].IsBlack=!0,this.moduleValue[i][t+6].IsFilled=!0,this.moduleValue[i][t+6].IsPDP=!0,t+7<this.noOfModules?(this.moduleValue[i][t+7].IsBlack=!1,this.moduleValue[i][t+7].IsFilled=!0,this.moduleValue[i][t+7].IsPDP=!0):t-1>=0&&(this.moduleValue[i][t-1].IsBlack=!1,this.moduleValue[i][t-1].IsFilled=!0,this.moduleValue[i][t-1].IsPDP=!0),this.moduleValue[n][r].IsBlack=!0,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+6][r].IsBlack=!0,this.moduleValue[n+6][r].IsFilled=!0,this.moduleValue[n+6][r].IsPDP=!0,n+7<this.noOfModules?(this.moduleValue[n+7][r].IsBlack=!1,this.moduleValue[n+7][r].IsFilled=!0,this.moduleValue[n+7][r].IsPDP=!0):n-1>=0&&(this.moduleValue[n-1][r].IsBlack=!1,this.moduleValue[n-1][r].IsFilled=!0,this.moduleValue[n-1][r].IsPDP=!0);for(n+7<this.noOfModules&&t+7<this.noOfModules?(this.moduleValue[n+7][t+7].IsBlack=!1,this.moduleValue[n+7][t+7].IsFilled=!0,this.moduleValue[n+7][t+7].IsPDP=!0):n+7<this.noOfModules&&t+7>=this.noOfModules?(this.moduleValue[n+7][t-1].IsBlack=!1,this.moduleValue[n+7][t-1].IsFilled=!0,this.moduleValue[n+7][t-1].IsPDP=!0):n+7>=this.noOfModules&&t+7<this.noOfModules&&(this.moduleValue[n-1][t+7].IsBlack=!1,this.moduleValue[n-1][t+7].IsFilled=!0,this.moduleValue[n-1][t+7].IsPDP=!0),n++,t++,i=n,r=t;i<n+5;i++,r++)this.moduleValue[i][t].IsBlack=!1,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+4].IsBlack=!1,this.moduleValue[i][t+4].IsFilled=!0,this.moduleValue[i][t+4].IsPDP=!0,this.moduleValue[n][r].IsBlack=!1,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+4][r].IsBlack=!1,this.moduleValue[n+4][r].IsFilled=!0,this.moduleValue[n+4][r].IsPDP=!0;for(n++,t++,i=n,r=t;i<n+3;i++,r++)this.moduleValue[i][t].IsBlack=!0,this.moduleValue[i][t].IsFilled=!0,this.moduleValue[i][t].IsPDP=!0,this.moduleValue[i][t+2].IsBlack=!0,this.moduleValue[i][t+2].IsFilled=!0,this.moduleValue[i][t+2].IsPDP=!0,this.moduleValue[n][r].IsBlack=!0,this.moduleValue[n][r].IsFilled=!0,this.moduleValue[n][r].IsPDP=!0,this.moduleValue[n+2][r].IsBlack=!0,this.moduleValue[n+2][r].IsFilled=!0,this.moduleValue[n+2][r].IsPDP=!0;this.moduleValue[n+1][t+1].IsBlack=!0;this.moduleValue[n+1][t+1].IsFilled=!0;this.moduleValue[n+1][t+1].IsPDP=!0},_drawAlignmentPattern:function(n,t){for(var i=n-2,r=t-2;i<n+3;i++,r++)this.moduleValue[i][t-2].IsBlack=!0,this.moduleValue[i][t-2].IsFilled=!0,this.moduleValue[i][t+2].IsBlack=!0,this.moduleValue[i][t+2].IsFilled=!0,this.moduleValue[n-2][r].IsBlack=!0,this.moduleValue[n-2][r].IsFilled=!0,this.moduleValue[n+2][r].IsBlack=!0,this.moduleValue[n+2][r].IsFilled=!0;for(i=n-1,r=t-1;i<n+2;i++,r++)this.moduleValue[i][t-1].IsBlack=!1,this.moduleValue[i][t-1].IsFilled=!0,this.moduleValue[i][t+1].IsBlack=!1,this.moduleValue[i][t+1].IsFilled=!0,this.moduleValue[n-1][r].IsBlack=!1,this.moduleValue[n-1][r].IsFilled=!0,this.moduleValue[n+1][r].IsBlack=!1,this.moduleValue[n+1][r].IsFilled=!0;this.moduleValue[n][t].IsBlack=!0;this.moduleValue[n][t].IsFilled=!0},_getAlignmentPatternCoOrdinates:function(){var n=[];switch(this.m_Version){case 2:n=[6,18];break;case 3:n=[6,22];break;case 4:n=[6,26];break;case 5:n=[6,30];break;case 6:n=[6,34];break;case 7:n=[6,22,38];break;case 8:n=[6,24,42];break;case 9:n=[6,26,46];break;case 10:n=[6,28,50];break;case 11:n=[6,30,54];break;case 12:n=[6,32,58];break;case 13:n=[6,34,62];break;case 14:n=[6,26,46,66];break;case 15:n=[6,26,48,70];break;case 16:n=[6,26,50,74];break;case 17:n=[6,30,54,78];break;case 18:n=[6,30,56,82];break;case 19:n=[6,30,58,86];break;case 20:n=[6,34,62,90];break;case 21:n=[6,28,50,72,94];break;case 22:n=[6,26,50,74,98];break;case 23:n=[6,30,54,78,102];break;case 24:n=[6,28,54,80,106];break;case 25:n=[6,32,58,84,110];break;case 26:n=[6,30,58,86,114];break;case 27:n=[6,34,62,90,118];break;case 28:n=[6,26,50,74,98,122];break;case 29:n=[6,30,54,78,102,126];break;case 30:n=[6,26,52,78,104,130];break;case 31:n=[6,30,56,82,108,134];break;case 32:n=[6,34,60,86,112,138];break;case 33:n=[6,30,58,86,114,142];break;case 34:n=[6,34,62,90,118,146];break;case 35:n=[6,30,54,78,102,126,150];break;case 36:n=[6,24,50,76,102,128,154];break;case 37:n=[6,28,54,80,106,132,158];break;case 38:n=[6,32,58,84,110,136,162];break;case 39:n=[6,26,54,82,110,138,166];break;case 40:n=[6,30,58,86,114,142,170]}return n},_findECINumber:function(n){for(var r,i=3,u=0;u<n.length;u++)if(r=n.charCodeAt(u),!(r>=32)||!(r<=255)){var t=r.toString(16);if(["2591","2592","2593","2502","2524","2561","2562","2556","2555","2563","2551","2557","255D","255C","255B","2510","2514","2534","252C","251C","2500","253C","255E","255F","255A","2554","2569","2566","2560","2550","256C","2567","2568","2564","2565","2559","2558","2552","2553","256B","256A","2518","250C","2588","2584","258C","2590","2580","25A0"].indexOf(t)!=-1){i=2;break}else if(["104","2D8","141","13D","15A","160","15E","164","179","17D","17B","105","2DB","142","13E","15B","2C7","161","15F","165","17A","2DD","17E","17C","154","102","139","106","10C","118","11A","10E","110","143","147","150","158","16E","170","162","155","103","13A","107","10D","119","11B","10F","111","144","148","151","159","16F","171","163","2D9"].indexOf(t)!=-1){i=4;break}else if(["126","124","130","15E","11E","134","17B","127","125","131","15F","11F","135","17C","10A","108","120","11C","16C","15C","10B","109","121","11D","16D","15D"].indexOf(t)!=-1){i=5;break}else if(["104","138","156","128","13B","160","112","122","166","17D","105","2DB","157","129","13C","2C7","161","113","123","167","14A","17E","14B","100","12E","10C","118","116","12A","110","145","14C","136","172","168","16A","101","12F","10D","119","117","12B","111","146","14D","137","173","169","16B"].indexOf(t)!=-1){i=6;break}else if(t>=1025&&t<=1119&&t!=1037&&t!=1104&&t!=1117){i=7;break}else if(t>=1569&&t<=1594||t>=1600&&t<=1618||t==1567||t==1563||t==1548){i=8;break}else if(t>=900&&t<=974||t==890){i=9;break}else if(t>=1488&&t<=1514){i=10;break}else if(t>=3585&&t<=3675){i=13;break}else if(["141","104","15E","17B","142","105","15F","13D","13E","17C"].indexOf(t)!=1||t>=1569&&t<=1610){i=21;break}else if(["402","403","453","409","40A","40C","40B","40F","452","459","45A","45C","45B","45F","40E","45E","408","490","401","404","407","406","456","491","451","454","458","405","455","457"].indexOf(t)!=1||t>=1040&&t<=1103){i=22;break}else if(["20AC","201A","192","201E","2026","2020","2021","2C6","2030","160","2039","152","17D","2018","2019","201C","201D","2022","2013","2014","2DC","2122","161","203A","153","17E","178"].indexOf(t)!=-1){i=23;break}else if(["67E","679","152","686","698","688","6AF","6A9","691","153","6BA","6BE","6C1"].indexOf(t)!=-1){i=24;break}}return i},_getNumberOfDataCodeWord:function(){var n=0;switch(this.m_Version){case 1:n=16;break;case 2:n=28;break;case 3:n=44;break;case 4:n=64;break;case 5:n=86;break;case 6:n=108;break;case 7:n=124;break;case 8:n=154;break;case 9:n=182;break;case 10:n=216;break;case 11:n=254;break;case 12:n=290;break;case 13:n=334;break;case 14:n=365;break;case 15:n=415;break;case 16:n=453;break;case 17:n=507;break;case 18:n=563;break;case 19:n=627;break;case 20:n=669;break;case 21:n=714;break;case 22:n=782;break;case 23:n=860;break;case 24:n=914;break;case 25:n=1e3;break;case 26:n=1062;break;case 27:n=1128;break;case 28:n=1193;break;case 29:n=1267;break;case 30:n=1373;break;case 31:n=1455;break;case 32:n=1541;break;case 33:n=1631;break;case 34:n=1725;break;case 35:n=1812;break;case 36:n=1914;break;case 37:n=1992;break;case 38:n=2102;break;case 39:n=2216;break;case 40:n=2334}return n},_getNumberOfErrorCorrectingCodeWords:function(){var n=(this.m_Version-1)*4,t;return n+=1,t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],t[n]},_getNumberOfErrorCorrectionBlocks:function(){var n=[];switch(this.m_Version){case 1:case 2:case 3:n[0]=1;break;case 4:case 5:n[0]=2;break;case 6:case 7:n[0]=4;break;case 8:n=[2,60,38,2,61,39];break;case 9:n=[3,58,36,2,59,37];break;case 10:n=[4,69,43,1,70,44];break;case 11:n=[1,80,50,4,81,51];break;case 12:n=[6,58,36,2,59,37];break;case 13:n=[8,59,37,1,60,38];break;case 14:n=[4,64,40,5,65,41];break;case 15:n=[5,65,41,5,66,42];break;case 16:n=[7,73,45,3,74,46];break;case 17:n=[10,74,46,1,75,47];break;case 18:n=[9,69,43,4,70,44];break;case 19:n=[3,70,44,11,71,45];break;case 20:n=[3,67,41,13,68,42];break;case 21:case 22:n[0]=17;break;case 23:n=[4,75,47,14,76,48];break;case 24:n=[6,73,45,14,74,46];break;case 25:n=[8,75,47,13,76,48];break;case 26:n=[19,74,46,4,75,47];break;case 27:n=[22,73,45,3,74,46];break;case 28:n=[3,73,45,23,74,46];break;case 29:n=[21,73,45,7,74,46];break;case 30:n=[19,75,47,10,76,48];break;case 31:n=[2,74,46,29,75,47];break;case 32:n=[10,74,46,23,75,47];break;case 33:n=[14,74,46,21,75,47];break;case 34:n=[14,74,46,23,75,47];break;case 35:n=[12,75,47,26,76,48];break;case 36:n=[6,75,47,34,76,48];break;case 37:n=[29,74,46,14,75,47];break;case 38:n=[13,74,46,32,75,47];break;case 39:n=[40,75,47,7,76,48];break;case 40:n=[18,75,47,31,76,48]}return n},_getEnd:function(){return[208,359,567,807,1079,1383,1568,1936,2336,2768,3232,3728,4256,4651,5243,5867,6523,7211,7931,8683,9252,10068,10916,11796,12708,13652,14628,15371,16411,17483,18587,19723,20891,22091,23008,24272,25568,26896,28256,29648][this.m_Version-1]},_getDataCapacity:function(){return[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706][this.m_Version-1]},_getFormatInformation:function(){return[1,1,0,1,0,0,1,0,1,1,0,1,1,0,1]},_getVersionInformation:function(){var n=[];switch(this.m_Version){case 7:n=[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0];break;case 8:n=[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0];break;case 9:n=[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0];break;case 10:n=[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0];break;case 11:n=[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0];break;case 12:n=[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0];break;case 13:n=[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0];break;case 14:n=[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0];break;case 15:n=[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0];break;case 16:n=[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0];break;case 17:n=[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0];break;case 18:n=[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0];break;case 19:n=[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0];break;case 20:n=[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0];break;case 21:n=[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0];break;case 22:n=[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0];break;case 23:n=[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0];break;case 24:n=[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0];break;case 25:n=[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0];break;case 26:n=[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0];break;case 27:n=[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0];break;case 28:n=[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0];break;case 29:n=[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0];break;case 30:n=[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0];break;case 31:n=[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0];break;case 32:n=[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1];break;case 33:n=[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1];break;case 34:n=[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1];break;case 35:n=[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1];break;case 36:n=[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1];break;case 37:n=[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1];break;case 38:n=[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1];break;case 39:n=[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1];break;case 40:n=[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]}return n},_getStringCodePoints:function(){function n(n,t){return((n&1023)<<10)+(t&1023)+65536}return function(t){for(var u=[],i=0,r;i<t.length;)r=t.charCodeAt(i),(r&63488)==55296?u.push(n(r,t.charCodeAt(++i))):u.push(r),++i;return u}}(),_create2DArray:function(n,t){var r,i;for(n=parseInt(n),t=parseInt(t),r=new Array(n),i=0;i<n;i++)r[i]=new Array(t);return r},_buildDataMatrix:function(){for(var f,s,h=[[10,10,1,1,3,5,1,3],[12,12,1,1,5,7,1,5],[14,14,1,1,8,10,1,8],[16,16,1,1,12,12,1,12],[18,18,1,1,18,14,1,18],[20,20,1,1,22,18,1,22],[22,22,1,1,30,20,1,30],[24,24,1,1,36,24,1,36],[26,26,1,1,44,28,1,44],[32,32,2,2,62,36,1,62],[36,36,2,2,86,42,1,86],[40,40,2,2,114,48,1,114],[44,44,2,2,144,56,1,144],[48,48,2,2,174,68,1,174],[52,52,2,2,204,84,2,102],[64,64,4,4,280,112,2,140],[72,72,4,4,368,144,4,92],[80,80,4,4,456,192,4,114],[88,88,4,4,576,224,4,144],[96,96,4,4,696,272,4,174],[104,104,4,4,816,336,6,136],[120,120,6,6,1050,408,6,175],[132,132,6,6,1304,496,8,163],[144,144,6,6,1558,620,10,156],[8,18,1,1,5,7,1,5],[8,32,2,1,10,11,1,10],[12,26,1,1,16,14,1,16],[12,36,2,1,22,18,1,22],[16,36,2,1,32,24,1,32],[16,48,2,1,49,28,1,49]],u=this._getStringCodePoints(this.Model.text),l,i,t=[],e=0,n=0;n<u.length;n++)u[n]<127?t[e]=u[n]+1:(t[e++]=235,t[e]=u[n]-127),e++;for(n=0;n<h.length;n++)if(h[n][4]>=u.length){i=h[n];break}if(i[4]>t.length){var r=t.length,o=new Array(i[4]);for(f=0;f<r;f++)o[f]=t[f];for(r<i[4]+1&&(o[r]=129),r++;r<i[4];)s=129+(r+1)*149%253+1,s>254&&(s-=254),o[r++]=s;t=o}l=i[5];var y=this._errorCorrection(l,t),p=t.concat(y),c=this._createMatrix(p,i),a=c.length*this.Model.xDimension,v=c[0].length*this.Model.xDimension;this.contextEl.beginPath();this.contextEl.fillStyle="white";this.contextEl.fillRect(0,0,a,v);this.contextEl.closePath();this._drawDataMatrix(c,a,v)},_drawDataMatrix:function(n,t,i){var r=parseInt(this.Model.xDimension),o=this.textFont.size,a,s,u,h,f,c,l,e;for(n.length==n[0].length&&this.Model.height!=""&&this.Model.width!=""?(this.Model.height=this._getProperValue(this.Model.height),this.Model.width=this._getProperValue(this.Model.width),a=Math.min(this.Model.width,this.Model.height),r=a/n.length):(this.Model.height=i,this.Model.height+=o+this.Model.barcodeToTextGapHeight,this.Model.width=t,this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width),this.canvasEl[0].setAttribute("height",this.Model.height),this.BarcodeEl.css("height",this.Model.height)),s=0,this.contextEl.beginPath(),u=0;u<n.length;u++){for(h=0,f=0;f<n[u].length;f++)c=null,c=n[u][f]==1?this.model.darkBarColor:this.model.lightBarColor,this.contextEl.fillStyle=c,this.contextEl.fillRect(h,s,r,r),h+=r;s+=r}this.Model.displayText&&(l=this.textFont.fontStyle.toLowerCase()=="regular"?"":+this.textFont.fontStyle.toLowerCase()+" ",l+=this.textFont.size+"px "+this.textFont.fontFamily.toLowerCase()+",sans-serif",this.contextEl.font=l,e=this.Model.height,this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.textColor,this.contextEl.textAlign="center",e=e-o+o/2,this.contextEl.fillText(this.Model.text,this.Model.width/2,e));this.contextEl.closePath();this.contextEl.stroke()},_createMatrix:function(n,t){var i,r,c,l,d=[],e=t[1],s=t[0],b=e/t[2],k=s/t[3],o,a,rt,p,w,g,u,f;for(c=e-2*(e/b),l=s-2*(s/k),d=new Array(c*l),this._ecc200placement(d,l,c),o=new Array(e*s),u=0;u<o.length;u++)o[u]=0;for(r=0;r<s;r+=k){for(i=0;i<e;i++)o[parseInt(r*e)+i]=1;for(i=0;i<e;i+=2)o[parseInt((r+k-1)*e)+i]=1}for(i=0;i<e;i+=b){for(r=0;r<s;r++)o[parseInt(r*e)+i]=1;for(r=0;r<s;r+=2)o[parseInt(r*e)+i+b-1]=1}for(r=0;r<l;r++)for(i=0;i<c;i++)a=d[(l-r-1)*c+i],(a==1||a>7&&(n[(a>>3)-1]&1<<(a&7))!=0)&&(rt=parseInt(parseInt(1+r+2*parseInt(r/(k-2)))*e+1+i+ +(2*parseInt(i/(b-2)))),o[rt]=1);var v=t[1],y=t[0],ut=this._create2DArray(v,y);for(p=0;p<v;p++)for(w=0;w<y;w++)ut[p][w]=o[v*w+p];for(g=this._create2DArray(y,v),u=0;u<y;u++)for(f=0;f<v;f++)g[y-1-u][f]=ut[f][u];var nt=t[0]+(this.Model.quietZone.top+this.Model.quietZone.bottom),tt=t[1]+(this.Model.quietZone.left+this.Model.quietZone.right),h=this.Model.quietZone.all,it=this._create2DArray(nt,tt);for(u=0;u<nt;u++)for(f=0;f<tt;f++)it[u][f]=0;for(u=h;u<nt-h;u++)for(f=h;f<tt-h;f++)it[u][f]=g[u-h][f-h];return it},_ecc200placement:function(n,t,i){for(var u,f,r=0;r<t;r++)for(u=0;u<i;u++)n[r*i+u]=0;f=1;r=4;u=0;do{r!=t||u!=0||this._ecc200placementcornerA(n,t,i,f++);r!=t-2||u!=0||i%4==0||this._ecc200placementcornerB(n,t,i,f++);r!=t-2||u!=0||i%8!=4||this._ecc200placementcornerC(n,t,i,f++);r!=t+4||u!=2||i%8!=0||this._ecc200placementcornerD(n,t,i,f++);do r<t&&u>=0&&!(n[r*i+u]!=0)&&this._ecc200placementblock(n,t,i,r,u,f++),r-=2,u+=2;while(r>=0&&u<i);r++;u+=3;do r>-1&&u<i&&!(n[r*i+u]!=0)&&this._ecc200placementblock(n,t,i,r,u,f++),r+=2,u-=2;while(r<t&&u>=0);r+=3;u++}while(r<t||u<i);n[t*i-1]!=0||(n[t*i-1]=n[t*i-i-2]=1)},_ecc200placementcornerA:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-1,0,r,7);this._ecc200placementbit(n,t,i,t-1,1,r,6);this._ecc200placementbit(n,t,i,t-1,2,r,5);this._ecc200placementbit(n,t,i,0,i-2,r,4);this._ecc200placementbit(n,t,i,0,i-1,r,3);this._ecc200placementbit(n,t,i,1,i-1,r,2);this._ecc200placementbit(n,t,i,2,i-1,r,1);this._ecc200placementbit(n,t,i,3,i-1,r,0)},_ecc200placementcornerB:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-3,0,r,7);this._ecc200placementbit(n,t,i,t-2,0,r,6);this._ecc200placementbit(n,t,i,t-1,0,r,5);this._ecc200placementbit(n,t,i,0,i-4,r,4);this._ecc200placementbit(n,t,i,0,i-3,r,3);this._ecc200placementbit(n,t,i,0,i-2,r,2);this._ecc200placementbit(n,t,i,0,i-1,r,1);this._ecc200placementbit(n,t,i,1,i-1,r,0)},_ecc200placementcornerC:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-3,0,r,7);this._ecc200placementbit(n,t,i,t-2,0,r,6);this._ecc200placementbit(n,t,i,t-1,0,r,5);this._ecc200placementbit(n,t,i,0,i-2,r,4);this._ecc200placementbit(n,t,i,0,i-1,r,3);this._ecc200placementbit(n,t,i,1,i-1,r,2);this._ecc200placementbit(n,t,i,2,i-1,r,1);this._ecc200placementbit(n,t,i,3,i-1,r,0)},_ecc200placementcornerD:function(n,t,i,r){this._ecc200placementbit(n,t,i,t-1,0,r,7);this._ecc200placementbit(n,t,i,t-1,i-1,r,6);this._ecc200placementbit(n,t,i,0,i-3,r,5);this._ecc200placementbit(n,t,i,0,i-2,r,4);this._ecc200placementbit(n,t,i,0,i-1,r,3);this._ecc200placementbit(n,t,i,1,i-3,r,2);this._ecc200placementbit(n,t,i,1,i-2,r,1);this._ecc200placementbit(n,t,i,1,i-1,r,0)},_ecc200placementblock:function(n,t,i,r,u,f){this._ecc200placementbit(n,t,i,r-2,u-2,f,7);this._ecc200placementbit(n,t,i,r-2,u-1,f,6);this._ecc200placementbit(n,t,i,r-1,u-2,f,5);this._ecc200placementbit(n,t,i,r-1,u-1,f,4);this._ecc200placementbit(n,t,i,r-1,+u,f,3);this._ecc200placementbit(n,t,i,+r,u-2,f,2);this._ecc200placementbit(n,t,i,+r,u-1,f,1);this._ecc200placementbit(n,t,i,+r,+u,f,0)},_ecc200placementbit:function(n,t,i,r,u,f,e){r<0&&(r+=t,u+=4-(t+4)%8);u<0&&(u+=i,r+=4-(i+4)%8);n[r*i+u]=(f<<3)+e},_errorCorrection:function(n,t){var f,a=1,h,u=new Array(n+1),e=new Array(256),r=new Array(256),l,c,o,i,s;for(e[0]=-255,r[0]=1,i=1;i<=255;i++)r[i]=r[i-1]*2,r[i]>=256&&(r[i]=r[i]^301),e[r[i]]=i;for(u[0]=1,i=1;i<=n;i++){for(u[i]=1,f=i-1;f>0;f--)u[f]!=0&&(u[f]=r[(e[u[f]]+a)%255]),u[f]^=u[f-1];u[0]=r[(e[u[0]]+a)%255];a++}for(h=new Array(n),l=0;l<h.length;l++)h[l]=u[l];for(c=0,o=new Array(n),i=0;i<n;i++)o[i]=0;for(i=0;i<t.length;i++){for(c=o[n-1]^t[i],s=n-1;s>0;s--)o[s]=c!=0&&h[s]!=0?o[s-1]^r[(e[c]+e[h[s]])%255]:o[s-1];o[0]=c!=0&&h[0]!=0?r[(e[c]+e[h[0]])%255]:0}return o.reverse()},_validateText:function(n,t){var i=new RegExp(t);return i.test(n)},_getCharWidth:function(n,t){for(var i=0,f=this.Model.narrowBarWidth,u=n.split(""),r=0;r<u.length;r++)i=i+f+this._getWidth(t,u[r]);return i},_getWidth:function(n,t){for(var u,f,e=!1,i=0,o,r=0;r<n.length;r++)if(n[r][0]==t){for(u=n[r][2],f=0;f<u.length;f++)e==!1&&u.length%2!=0&&(o=!0),i=i+u[f]*this.Model.narrowBarWidth,e=!0;return i}return i},_draw1DBarcode:function(n,t,i){var nt,at,ft,p,tt,it,rt,f,s,h,r,e,d,v,et,ot,c,w,o;if(t.length>0){var y=n.split(""),u=this.Model.quietZone.left,l=this.Model.quietZone.top,g=this.textFont.size;this.Model.height=l+this.Model.barHeight+this.Model.quietZone.bottom;this.Model.width=i;this.Model.displayText&&(this.Model.height+=g+this.Model.barcodeToTextGapHeight);this.canvasEl[0].setAttribute("width",this.Model.width);this.BarcodeEl.css("width",this.Model.width);this.canvasEl[0].setAttribute("height",this.Model.height);this.BarcodeEl.css("height",this.Model.height);var st=this.Model.width,b=this.Model.height,k=0;if(this.model.symbologyType=="ean"&&n.length==18){for(var ht=[["0",0,[3,2,1,1]],["1",1,[2,2,2,1]],["2",2,[2,1,2,2]],["3",3,[1,4,1,1]],["4",4,[1,1,3,2]],["5",5,[1,2,3,1]],["6",6,[1,1,1,4]],["7",7,[1,3,1,2]],["8",8,[1,2,1,3]],["9",9,[3,1,1,2]],["B",0,[1,1,1,1]]],ct=[["0",0,[1,1,2,3]],["1",1,[1,2,2,2]],["2",2,[2,2,1,2]],["3",3,[1,1,4,1]],["4",4,[2,3,1,1]],["5",5,[1,3,2,1]],["6",6,[4,1,1,1]],["7",7,[2,1,3,1]],["8",8,[3,1,2,1]],["9",9,[2,1,1,3]]],vt=[["0",0,[3,2,1,1]],["1",1,[2,2,2,1]],["2",2,[2,1,2,2]],["3",3,[1,4,1,1]],["4",4,[1,1,3,2]],["5",5,[1,2,3,1]],["6",6,[1,1,1,4]],["7",7,[1,3,1,2]],["8",8,[1,2,1,3]],["9",9,[3,1,1,2]]],v=n[2],lt=[["Odd","Odd","Odd","Odd","Odd","Odd"],["Odd","Odd","Even","Odd","Even","Even"],["Odd","Odd","Even","Even","Odd","Even"],["Odd","Odd","Even","Even","Even","Odd"],["Odd","Even","Odd","Odd","Even","Even"],["Odd","Even","Even","Odd","Odd","Even"],["Odd","Even","Even","Even","Odd","Odd"],["Odd","Even","Odd","Even","Odd","Even"],["Odd","Even","Odd","Even","Even","Odd"],["Odd","Even","Even","Odd","Even","Odd"]][v],c=n.split(""),a=[],r=0,ut=0,r=3;r<c.length/2;r++)lt[ut]=="Odd"?(v=c[r],a.push(ht[v])):(v=c[r],a.push(ct[v])),ut++;for(r==c.length/2&&(lt[ut]=="Odd"?(v=c[r+1],a.push(ht[v])):(v=c[r+1],a.push(ct[v]))),nt="",r=10;r<c.length-2;r++)nt+=c[r];for(r=0;r<nt.length;r++)v=nt[r],a.push(vt[v]);for(at=["A",0,[1,1,1,1]],a.push(at),a.push(t[t.length-1]),ft="",r=0;r<c.length;r++)r!=2&&(ft+=c[r]);for(f=0;f<y.length;f++)for(s=0;s<t.length;s++)if(t[s][0]==y[f]){for(h=t[s][2],r=0;r<h.length;r++)e=h[r]*this.Model.narrowBarWidth,k+=h[r];h.length%2!=0&&k++}for(p=(this._getProperValue(this.Model.width)-this.Model.quietZone.right-this.Model.quietZone.left)/k,p<1&&(p=1),this.Model.narrowBarWidth=Math.floor(p),tt=(p%1).toFixed(3),it=k*tt,u=parseInt(this.model.quietZone.left)+Math.round(it/2),this.model.barHeight=this._getProperValue(this.Model.height)-this.Model.quietZone.top-this.Model.quietZone.bottom-(g+this.Model.barcodeToTextGapHeight),this.model.barHeight<0&&(this.model.barHeight=0),rt=this.Model.narrowBarWidth,this.contextEl.fillStyle="white",this.contextEl.fillRect(0,0,st,b),y=ft.split(""),o=0,f=0;f<y.length;f++)for(s=0;s<a.length;s++)if(a[s][0]==y[f]){if(a[o][0]==y[f]||a[s][0]=="A"||a[s][0]=="B"){for(h=a[s][0]=="A"||a[s][0]=="B"?a[s][2]:a[o][2],r=0;r<h.length;r++)e=h[r]*this.Model.narrowBarWidth,f>1&&f<=7?r%2!=0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight)):r%2==0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight)),u+=e,f==1&&r==h.length-1&&(u-=e);a[s][0]!="A"&&o++}d=u;(h.length%2!=0||this.model.symbologyType=="ean"&&f==7)&&(u+=rt,v=u-d,this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(d,l,e,this.model.barHeight))}}else{for(f=0;f<y.length;f++)for(s=0;s<t.length;s++)if(t[s][0]==y[f]){for(h=t[s][2],r=0;r<h.length;r++)e=h[r]*this.Model.narrowBarWidth,k+=h[r];h.length%2!=0&&k++}for(p=(this._getProperValue(this.Model.width)-this.Model.quietZone.right-this.Model.quietZone.left)/k,p<1&&(p=1),this.Model.narrowBarWidth=Math.floor(p),tt=(p%1).toFixed(3),it=k*tt,u=parseInt(this.model.quietZone.left)+Math.round(it/2),this.model.barHeight=this._getProperValue(this.Model.height)-this.Model.quietZone.top-this.Model.quietZone.bottom-(g+this.Model.barcodeToTextGapHeight),this.model.barHeight<0&&(this.model.barHeight=0),rt=this.Model.narrowBarWidth,this.contextEl.fillStyle="white",this.contextEl.fillRect(0,0,st,b),f=0;f<y.length;f++)for(s=0;s<t.length;s++)if(t[s][0]==y[f]){if(h=t[s][2],this.model.symbologyType=="upcbarcode")for(r=0;r<h.length;r++)e=h[r]*this.Model.narrowBarWidth,f>1&&f<=7?r%2!=0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight)):r%2==0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight)),u+=e,f==1&&r==h.length-1&&(u-=e);else if(this.model.symbologyType=="ean"&&n.length==13)for(r=0;r<h.length;r++)e=h[r]*this.Model.narrowBarWidth,f>1&&f<=5?r%2!=0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight)):r%2==0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight)),u+=e,f==1&&r==h.length-1&&(u-=e);else for(r=0;r<h.length;r++)e=h[r]*this.Model.narrowBarWidth,r%2==0?(this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.darkBarColor,this.contextEl.fillRect(u,l,e,this.Model.barHeight),this.contextEl.closePath()):(this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(u,l,e,this.model.barHeight),this.contextEl.closePath()),u+=e;d=u;(h.length%2!=0||this.model.symbologyType=="upcbarcode"&&f==7||this.model.symbologyType=="ean"&&f==5)&&(u+=rt,v=u-d,this.contextEl.beginPath(),this.contextEl.fillStyle=this.model.lightBarColor,this.contextEl.fillRect(d,l,e,this.model.barHeight))}}if(this.Model.displayText){if(et=this.textFont.fontStyle.toLowerCase()=="regular"?"":+this.textFont.fontStyle.toLowerCase()+" ",et+=this.textFont.size+"px "+this.textFont.fontFamily.toLowerCase()+",sans-serif",this.contextEl.font=et,ot=0,ot=this.contextEl.measureText(this.Model.text).width,this.Model.width<ot&&(this.canvasEl[0].setAttribute("width",this.Model.width),this.BarcodeEl.css("width",this.Model.width)),this.contextEl.beginPath(),this.contextEl.fillStyle=this.Model.textColor,this.contextEl.textAlign="center",b=b-g+g/2,this.model.symbologyType=="upcbarcode"){for(c=n.split(""),w="",o=0;o<c.length;o++)(o>1&&o<=7||o>8&&o<=14)&&(w+=c[o]);this.contextEl.fillText(w,this.Model.width/2,b)}else if(this.model.symbologyType=="ean"&&n.length==18){for(c=n.split(""),w="",o=0;o<c.length;o++)(o>1&&o<=8||o>9&&o<=15)&&(w+=c[o]);this.contextEl.fillText(w,this.Model.width/2,b)}else if(this.model.symbologyType=="ean"&&n.length==13){for(c=n.split(""),w="",o=0;o<c.length;o++)(o>1&&o<=5||o>6&&o<=10)&&(w+=c[o]);this.contextEl.fillText(w,this.Model.width/2,b)}else this.contextEl.fillText(this.Model.text,this.Model.width/2,b);this.contextEl.closePath();this.contextEl.stroke()}}}});t.datavisualization.Barcode.SymbologyType={code39:"code39",code39Extended:"code39extended",code11:"code11",codabar:"codabar",code32:"code32",code93:"code93",code93Extended:"code93extended",code128A:"code128a",code128B:"code128b",code128C:"code128c",dataMatrix:"datamatrix",qrBarcode:"qrbarcode",upca:"upcbarcode",ean:"ean"};t.datavisualization.Barcode.symbologySettings={code39:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[A-Z0-9-.$/+% ]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["A",10,[3,1,1,1,1,3,1,1,3]],["B",11,[1,1,3,1,1,3,1,1,3]],["C",12,[3,1,3,1,1,3,1,1,1]],["D",13,[1,1,1,1,3,3,1,1,3]],["E",14,[3,1,1,1,3,3,1,1,1]],["F",15,[1,1,3,1,3,3,1,1,1]],["G",16,[1,1,1,1,1,3,3,1,3]],["H",17,[3,1,1,1,1,3,3,1,1]],["I",18,[1,1,3,1,1,3,3,1,1]],["J",19,[1,1,1,1,3,3,3,1,1]],["K",20,[3,1,1,1,1,1,1,3,3]],["L",21,[1,1,3,1,1,1,1,3,3]],["M",22,[3,1,3,1,1,1,1,3,1]],["N",23,[1,1,1,1,3,1,1,3,3]],["O",24,[3,1,1,1,3,1,1,3,1]],["P",25,[1,1,3,1,3,1,1,3,1]],["Q",26,[1,1,1,1,1,1,3,3,3]],["R",27,[3,1,1,1,1,1,3,3,1]],["S",28,[1,1,3,1,1,1,3,3,1]],["T",29,[1,1,1,1,3,1,3,3,1]],["U",30,[3,3,1,1,1,1,1,1,3]],["V",31,[1,3,3,1,1,1,1,1,3]],["W",32,[3,3,3,1,1,1,1,1,1]],["X",33,[1,3,1,1,3,1,1,1,3]],["Y",34,[3,3,1,1,3,1,1,1,1]],["Z",35,[1,3,3,1,3,1,1,1,1]],["-",36,[1,3,1,1,1,1,3,1,3]],[".",37,[3,3,1,1,1,1,3,1,1]],[" ",38,[1,3,3,1,1,1,3,1,1]],["$",39,[1,3,1,3,1,3,1,1,1]],["/",40,[1,3,1,3,1,1,1,3,1]],["+",41,[1,3,1,1,1,3,1,3,1]],["%",42,[1,1,1,3,1,3,1,3,1]],["*",0,[1,3,1,1,3,1,3,1,1]]]},code39extended:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[\x00-]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["A",10,[3,1,1,1,1,3,1,1,3]],["B",11,[1,1,3,1,1,3,1,1,3]],["C",12,[3,1,3,1,1,3,1,1,1]],["D",13,[1,1,1,1,3,3,1,1,3]],["E",14,[3,1,1,1,3,3,1,1,1]],["F",15,[1,1,3,1,3,3,1,1,1]],["G",16,[1,1,1,1,1,3,3,1,3]],["H",17,[3,1,1,1,1,3,3,1,1]],["I",18,[1,1,3,1,1,3,3,1,1]],["J",19,[1,1,1,1,3,3,3,1,1]],["K",20,[3,1,1,1,1,1,1,3,3]],["L",21,[1,1,3,1,1,1,1,3,3]],["M",22,[3,1,3,1,1,1,1,3,1]],["N",23,[1,1,1,1,3,1,1,3,3]],["O",24,[3,1,1,1,3,1,1,3,1]],["P",25,[1,1,3,1,3,1,1,3,1]],["Q",26,[1,1,1,1,1,1,3,3,3]],["R",27,[3,1,1,1,1,1,3,3,1]],["S",28,[1,1,3,1,1,1,3,3,1]],["T",29,[1,1,1,1,3,1,3,3,1]],["U",30,[3,3,1,1,1,1,1,1,3]],["V",31,[1,3,3,1,1,1,1,1,3]],["W",32,[3,3,3,1,1,1,1,1,1]],["X",33,[1,3,1,1,3,1,1,1,3]],["Y",34,[3,3,1,1,3,1,1,1,1]],["Z",35,[1,3,3,1,3,1,1,1,1]],["-",36,[1,3,1,1,1,1,3,1,3]],[".",37,[3,3,1,1,1,1,3,1,1]],[" ",38,[1,3,3,1,1,1,3,1,1]],["$",39,[1,3,1,3,1,3,1,1,1]],["/",40,[1,3,1,3,1,1,1,3,1]],["+",41,[1,3,1,1,1,3,1,3,1]],["%",42,[1,1,1,3,1,3,1,3,1]],["*",0,[1,3,1,1,3,1,3,1,1]]],extendedCodes:[['\0',["%","U"]],[String.fromCharCode(parseInt("0001",16)),["$","A"]],[String.fromCharCode(parseInt("0002",16)),["$","B"]],[String.fromCharCode(parseInt("0003",16)),["$","C"]],[String.fromCharCode(parseInt("0004",16)),["$","D"]],[String.fromCharCode(parseInt("0005",16)),["$","E"]],[String.fromCharCode(parseInt("0006",16)),["$","F"]],["a",["$","G"]],["\b",["$","H"]],["\t",["$","I"]],["\n",["$","J"]],['\v',["$","K"]],["\f",["$","L"]],["\r",["$","M"]],[String.fromCharCode(parseInt("000e",16)),["$","N"]],[String.fromCharCode(parseInt("000f",16)),["$","O"]],[String.fromCharCode(parseInt("0010",16)),["$","P"]],[String.fromCharCode(parseInt("0011",16)),["$","Q"]],[String.fromCharCode(parseInt("0012",16)),["$","R"]],[String.fromCharCode(parseInt("0013",16)),["$","S"]],[String.fromCharCode(parseInt("0014",16)),["$","T"]],[String.fromCharCode(parseInt("0015",16)),["$","U"]],[String.fromCharCode(parseInt("0016",16)),["$","V"]],[String.fromCharCode(parseInt("0017",16)),["$","W"]],[String.fromCharCode(parseInt("0018",16)),["$","X"]],[String.fromCharCode(parseInt("0019",16)),["$","Y"]],[String.fromCharCode(parseInt("001a",16)),["$","Z"]],[String.fromCharCode(parseInt("001b",16)),["%","A"]],[String.fromCharCode(parseInt("001c",16)),["%","B"]],[String.fromCharCode(parseInt("001d",16)),["%","C"]],[String.fromCharCode(parseInt("001e",16)),["%","D"]],[String.fromCharCode(parseInt("001f",16)),["%","E"]],[" ",[" "]],["!",["/","A"]],['"',["/","B"]],["#",["/","C"]],["$",["/","D"]],["%",["/","E"]],["&",["/","F"]],["'",["/","G"]],["(",["/","H"]],[")",["/","I"]],["*",["/","J"]],["+",["/","K"]],[",",["/","L"]],["-",["/","M"]],[".",["/","N"]],["/",["/","O"]],["0",["0"]],["1",["1"]],["2",["2"]],["3",["3"]],["4",["4"]],["5",["5"]],["6",["6"]],["7",["7"]],["8",["8"]],["9",["9"]],[":",["/","Z"]],[";",["%","F"]],["<",["%","G"]],["=",["%","H"]],[">",["%","I"]],["?",["%","J"]],["@",["%","V"]],["A",["A"]],["B",["B"]],["C",["C"]],["D",["D"]],["E",["E"]],["F",["F"]],["G",["G"]],["H",["H"]],["I",["I"]],["J",["J"]],["K",["K"]],["L",["L"]],["M",["M"]],["N",["N"]],["O",["O"]],["P",["P"]],["Q",["Q"]],["R",["R"]],["S",["S"]],["T",["T"]],["U",["U"]],["V",["V"]],["W",["W"]],["X",["X"]],["Y",["Y"]],["Z",["Z"]],["[",["%","K"]],["\\",["%","L"]],["]",["%","M"]],["^",["%","N"]],["_",["%","O"]],["`",["%","W"]],["a",["+","A"]],["b",["+","B"]],["c",["+","C"]],["d",["+","D"]],["e",["+","E"]],["f",["+","F"]],["g",["+","G"]],["h",["+","H"]],["i",["+","I"]],["j",["+","J"]],["k",["+","K"]],["l",["+","L"]],["m",["+","M"]],["n",["+","N"]],["o",["+","O"]],["p",["+","P"]],["q",["+","Q"]],["r",["+","R"]],["s",["+","S"]],["t",["+","T"]],["u",["+","U"]],["v",["+","V"]],["w",["+","W"]],["x",["+","X"]],["y",["+","Y"]],["z",["+","Z"]],["{",["%","P"]],["|",["%","Q"]],["}",["%","R"]],["~",["%","S"]],[String.fromCharCode(parseInt("007f",16)),["%","T"]]]},code11:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[0-9-]*$",symbolTable:[["0",0,[1,1,1,1,2]],["1",1,[2,1,1,1,2]],["2",2,[1,2,1,1,2]],["3",3,[2,2,1,1,1]],["4",4,[1,1,2,1,2]],["5",5,[2,1,2,1,1]],["6",6,[1,2,2,1,1]],["7",7,[1,1,1,2,2]],["8",8,[2,1,1,2,1]],["9",9,[2,1,1,1,1]],["-",10,[1,1,2,1,1]],["*",0,[1,1,2,2,1]]]},codabar:{startSymbol:"A",stopSymbol:"B",validatorExp:"^[0-9-.$/:+]*$",symbolTable:[["0",0,[1,1,1,1,1,2,2]],["1",0,[1,1,1,1,2,2,1]],["2",0,[1,1,1,2,1,1,2]],["3",0,[2,2,1,1,1,1,1]],["4",0,[1,1,2,1,1,2,1]],["5",0,[2,1,1,1,1,2,1]],["6",0,[1,2,1,1,1,1,2]],["7",0,[1,2,1,1,2,1,1]],["8",0,[1,2,2,1,1,1,1]],["9",0,[2,1,1,2,1,1,1]],["-",0,[1,1,1,2,2,1,1]],["$",0,[1,1,2,2,1,1,1]],[":",0,[2,1,1,1,2,1,2]],["/",0,[2,1,2,1,1,1,2]],[".",0,[2,1,2,1,2,1,1]],["+",0,[1,1,2,1,2,1,2]],["A",0,[1,1,2,2,1,2,1]],["B",0,[1,1,1,2,1,2,2]]]},code32:{startSymbol:"*",stopSymbol:"*",validatorExp:"^[A-Z0-9 -*.$/+%]+$",symbolTable:[["0",0,[1,1,1,3,3,1,3,1,1]],["1",1,[3,1,1,3,1,1,1,1,3]],["2",2,[1,1,3,3,1,1,1,1,3]],["3",3,[3,1,3,3,1,1,1,1,1]],["4",4,[1,1,1,3,3,1,1,1,3]],["5",5,[3,1,1,3,3,1,1,1,1]],["6",6,[1,1,3,3,3,1,1,1,1]],["7",7,[1,1,1,3,1,1,3,1,3]],["8",8,[3,1,1,3,1,1,3,1,1]],["9",9,[1,1,3,3,1,1,3,1,1]],["B",10,[1,1,3,1,1,3,1,1,3]],["C",11,[3,1,3,1,1,3,1,1,1]],["D",12,[1,1,1,1,3,3,1,1,3]],["F",13,[1,1,3,1,3,3,1,1,1]],["G",14,[1,1,1,1,1,3,3,1,3]],["H",15,[3,1,1,1,1,3,3,1,1]],["J",16,[1,1,1,1,3,3,3,1,1]],["K",17,[3,1,1,1,1,1,1,3,3]],["L",18,[1,1,3,1,1,1,1,3,3]],["M",19,[3,1,3,1,1,1,1,3,1]],["N",20,[1,1,1,1,3,1,1,3,3]],["P",21,[1,1,3,1,3,1,1,3,1]],["Q",22,[1,1,1,1,1,1,3,3,3]],["R",23,[3,1,1,1,1,1,3,3,1]],["S",24,[1,1,3,1,1,1,3,3,1]],["T",25,[1,1,1,1,3,1,3,3,1]],["U",26,[3,3,1,1,1,1,1,1,3]],["V",27,[1,3,3,1,1,1,1,1,3]],["W",28,[3,3,3,1,1,1,1,1,1]],["X",29,[1,3,1,1,3,1,1,1,3]],["Y",30,[3,3,1,1,3,1,1,1,1]],["Z",31,[1,3,3,1,3,1,1,1,1]],["*",0,[1,3,1,1,3,1,3,1,1]]]},code93:{startSymbol:"*",stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[A-Z0-9-.$/+% ]+$",symbolTable:[["0",0,[1,3,1,1,1,2]],["1",1,[1,1,1,2,1,3]],["2",2,[1,1,1,3,1,2]],["3",3,[1,1,1,4,1,1]],["4",4,[1,2,1,1,1,2]],["5",5,[1,2,1,2,1,2]],["6",6,[1,2,1,3,1,1]],["7",7,[1,1,1,1,1,4]],["8",8,[1,3,1,2,1,1]],["9",9,[1,4,1,1,1,1]],["A",10,[2,1,1,1,1,3]],["B",11,[2,1,1,2,1,2]],["C",12,[2,1,1,3,1,1]],["D",13,[2,2,1,1,1,2]],["E",14,[2,2,1,2,1,1]],["F",15,[2,3,1,1,1,1]],["G",16,[1,1,2,1,1,3]],["H",17,[1,1,2,2,1,2]],["I",18,[1,1,2,3,1,1]],["J",19,[1,2,2,1,1,2]],["K",20,[1,3,2,1,1,1]],["L",21,[1,1,1,1,2,3]],["M",22,[1,1,1,2,2,2]],["N",23,[1,1,1,3,2,1]],["O",24,[1,2,1,1,2,2]],["P",25,[1,3,1,1,2,1]],["Q",26,[2,1,2,1,1,2]],["R",27,[2,1,2,2,1,1]],["S",28,[2,1,1,1,2,2]],["T",29,[2,1,1,2,2,1]],["U",30,[2,2,1,1,2,1]],["V",31,[2,2,2,1,1,1]],["W",32,[1,1,2,1,2,2]],["X",33,[1,1,2,2,2,1]],["Y",34,[1,2,2,1,2,1]],["Z",35,[1,2,3,1,1,1]],["-",36,[1,2,1,1,3,1]],[".",37,[3,1,1,1,1,2]],[" ",38,[3,1,1,2,1,1]],["$",39,[3,2,1,1,1,1]],["/",40,[1,1,2,1,3,1]],["+",41,[1,1,3,1,2,1]],["%",42,[2,1,1,1,3,1]],["*",0,[1,1,1,1,4,1]],[String.fromCharCode(parseInt("00ff",16)),0,[1,1,1,1,4,1,1]],[String.fromCharCode(parseInt("00fb",16)),43,[1,2,1,2,2,0]],[String.fromCharCode(parseInt("00fc",16)),44,[3,1,2,1,1,1]],[String.fromCharCode(parseInt("00fd",16)),45,[3,1,1,1,2,1]],[String.fromCharCode(parseInt("00fe",16)),46,[1,2,2,2,1,1]]]},code93extended:{startSymbol:"*",stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[\x00-\x00fb\x00fd\x00fe'''''']+$",symbolTable:[["0",0,[1,3,1,1,1,2]],["1",1,[1,1,1,2,1,3]],["2",2,[1,1,1,3,1,2]],["3",3,[1,1,1,4,1,1]],["4",4,[1,2,1,1,1,2]],["5",5,[1,2,1,2,1,2]],["6",6,[1,2,1,3,1,1]],["7",7,[1,1,1,1,1,4]],["8",8,[1,3,1,2,1,1]],["9",9,[1,4,1,1,1,1]],["A",10,[2,1,1,1,1,3]],["B",11,[2,1,1,2,1,2]],["C",12,[2,1,1,3,1,1]],["D",13,[2,2,1,1,1,2]],["E",14,[2,2,1,2,1,1]],["F",15,[2,3,1,1,1,1]],["G",16,[1,1,2,1,1,3]],["H",17,[1,1,2,2,1,2]],["I",18,[1,1,2,3,1,1]],["J",19,[1,2,2,1,1,2]],["K",20,[1,3,2,1,1,1]],["L",21,[1,1,1,1,2,3]],["M",22,[1,1,1,2,2,2]],["N",23,[1,1,1,3,2,1]],["O",24,[1,2,1,1,2,2]],["P",25,[1,3,1,1,2,1]],["Q",26,[2,1,2,1,1,2]],["R",27,[2,1,2,2,1,1]],["S",28,[2,1,1,1,2,2]],["T",29,[2,1,1,2,2,1]],["U",30,[2,2,1,1,2,1]],["V",31,[2,2,2,1,1,1]],["W",32,[1,1,2,1,2,2]],["X",33,[1,1,2,2,2,1]],["Y",34,[1,2,2,1,2,1]],["Z",35,[1,2,3,1,1,1]],["-",36,[1,2,1,1,3,1]],[".",37,[3,1,1,1,1,2]],[" ",38,[3,1,1,2,1,1]],["$",39,[3,2,1,1,1,1]],["/",40,[1,1,2,1,3,1]],["+",41,[1,1,3,1,2,1]],["%",42,[2,1,1,1,3,1]],["*",0,[1,1,1,1,4,1]],[String.fromCharCode(parseInt("00ff",16)),0,[1,1,1,1,4,1,1]],[String.fromCharCode(parseInt("00fb",16)),43,[1,2,1,2,2,0]],[String.fromCharCode(parseInt("00fc",16)),44,[3,1,2,1,1,1]],[String.fromCharCode(parseInt("00fd",16)),45,[3,1,1,1,2,1]],[String.fromCharCode(parseInt("00fe",16)),46,[1,2,2,2,1,1]]],extendedCodes:[['\0',[String.fromCharCode(parseInt("00fc",16)),"U"]],[String.fromCharCode(parseInt("0001",16)),[String.fromCharCode(parseInt("00fb",16)),"A"]],[String.fromCharCode(parseInt("0002",16)),[String.fromCharCode(parseInt("00fb",16)),"B"]],[String.fromCharCode(parseInt("0003",16)),[String.fromCharCode(parseInt("00fb",16)),"C"]],[String.fromCharCode(parseInt("0004",16)),[String.fromCharCode(parseInt("00fb",16)),"D"]],[String.fromCharCode(parseInt("0005",16)),[String.fromCharCode(parseInt("00fb",16)),"E"]],[String.fromCharCode(parseInt("0006",16)),[String.fromCharCode(parseInt("00fb",16)),"F"]],["a",[String.fromCharCode(parseInt("00fb",16)),"G"]],["\b",[String.fromCharCode(parseInt("00fb",16)),"H"]],["\t",[String.fromCharCode(parseInt("00fb",16)),"I"]],["\n",[String.fromCharCode(parseInt("00fb",16)),"J"]],['\v',[String.fromCharCode(parseInt("00fb",16)),"K"]],["\f",[String.fromCharCode(parseInt("00fb",16)),"L"]],["\r",[String.fromCharCode(parseInt("00fb",16)),"M"]],[String.fromCharCode(parseInt("000e",16)),[String.fromCharCode(parseInt("00fb",16)),"N"]],[String.fromCharCode(parseInt("000f",16)),[String.fromCharCode(parseInt("00fb",16)),"O"]],[String.fromCharCode(parseInt("0010",16)),[String.fromCharCode(parseInt("00fb",16)),"P"]],[String.fromCharCode(parseInt("0011",16)),[String.fromCharCode(parseInt("00fb",16)),"Q"]],[String.fromCharCode(parseInt("0012",16)),[String.fromCharCode(parseInt("00fb",16)),"R"]],[String.fromCharCode(parseInt("0013",16)),[String.fromCharCode(parseInt("00fb",16)),"S"]],[String.fromCharCode(parseInt("0014",16)),[String.fromCharCode(parseInt("00fb",16)),"T"]],[String.fromCharCode(parseInt("0015",16)),[String.fromCharCode(parseInt("00fb",16)),"U"]],[String.fromCharCode(parseInt("0016",16)),[String.fromCharCode(parseInt("00fb",16)),"V"]],[String.fromCharCode(parseInt("0017",16)),[String.fromCharCode(parseInt("00fb",16)),"W"]],[String.fromCharCode(parseInt("0018",16)),[String.fromCharCode(parseInt("00fb",16)),"X"]],[String.fromCharCode(parseInt("0019",16)),[String.fromCharCode(parseInt("00fb",16)),"Y"]],[String.fromCharCode(parseInt("001a",16)),[String.fromCharCode(parseInt("00fb",16)),"Z"]],[String.fromCharCode(parseInt("001b",16)),[String.fromCharCode(parseInt("00fc",16)),"A"]],[String.fromCharCode(parseInt("001c",16)),[String.fromCharCode(parseInt("00fc",16)),"B"]],[String.fromCharCode(parseInt("001d",16)),[String.fromCharCode(parseInt("00fc",16)),"C"]],[String.fromCharCode(parseInt("001e",16)),[String.fromCharCode(parseInt("00fc",16)),"D"]],[String.fromCharCode(parseInt("001f",16)),[String.fromCharCode(parseInt("00fc",16)),"E"]],[" ",[" "]],["!",[String.fromCharCode(parseInt("00fd",16)),"A"]],['"',[String.fromCharCode(parseInt("00fd",16)),"B"]],["#",[String.fromCharCode(parseInt("00fd",16)),"C"]],["$",[String.fromCharCode(parseInt("00fd",16)),"D"]],["%",[String.fromCharCode(parseInt("00fd",16)),"E"]],["&",[String.fromCharCode(parseInt("00fd",16)),"F"]],["'",[String.fromCharCode(parseInt("00fd",16)),"G"]],["(",[String.fromCharCode(parseInt("00fd",16)),"H"]],[")",[String.fromCharCode(parseInt("00fd",16)),"I"]],["*",[String.fromCharCode(parseInt("00fd",16)),"J"]],["+",[String.fromCharCode(parseInt("00fd",16)),"K"]],[",",[String.fromCharCode(parseInt("00fd",16)),"L"]],["-",[String.fromCharCode(parseInt("00fd",16)),"M"]],[".",[String.fromCharCode(parseInt("00fd",16)),"N"]],["/",[String.fromCharCode(parseInt("00fd",16)),"O"]],["0",["0"]],["1",["1"]],["2",["2"]],["3",["3"]],["4",["4"]],["5",["5"]],["6",["6"]],["7",["7"]],["8",["8"]],["9",["9"]],[":",[String.fromCharCode(parseInt("00fd",16)),"Z"]],[";",[String.fromCharCode(parseInt("00fc",16)),"F"]],["<",[String.fromCharCode(parseInt("00fc",16)),"G"]],["=",[String.fromCharCode(parseInt("00fc",16)),"H"]],[">",[String.fromCharCode(parseInt("00fc",16)),"I"]],["?",[String.fromCharCode(parseInt("00fc",16)),"J"]],["@",[String.fromCharCode(parseInt("00fc",16)),"V"]],["A",["A"]],["B",["B"]],["C",["C"]],["D",["D"]],["E",["E"]],["F",["F"]],["G",["G"]],["H",["H"]],["I",["I"]],["J",["J"]],["K",["K"]],["L",["L"]],["M",["M"]],["N",["N"]],["O",["O"]],["P",["P"]],["Q",["Q"]],["R",["R"]],["S",["S"]],["T",["T"]],["U",["U"]],["V",["V"]],["W",["W"]],["X",["X"]],["Y",["Y"]],["Z",["Z"]],["[",[String.fromCharCode(parseInt("00fc",16)),"K"]],["\\",[String.fromCharCode(parseInt("00fc",16)),"L"]],["]",[String.fromCharCode(parseInt("00fc",16)),"M"]],["^",[String.fromCharCode(parseInt("00fc",16)),"N"]],["_",[String.fromCharCode(parseInt("00fc",16)),"O"]],["`",[String.fromCharCode(parseInt("00fc",16)),"W"]],["a",[String.fromCharCode(parseInt("00fe",16)),"A"]],["b",[String.fromCharCode(parseInt("00fe",16)),"B"]],["c",[String.fromCharCode(parseInt("00fe",16)),"C"]],["d",[String.fromCharCode(parseInt("00fe",16)),"D"]],["e",[String.fromCharCode(parseInt("00fe",16)),"E"]],["f",[String.fromCharCode(parseInt("00fe",16)),"F"]],["g",[String.fromCharCode(parseInt("00fe",16)),"G"]],["h",[String.fromCharCode(parseInt("00fe",16)),"H"]],["i",[String.fromCharCode(parseInt("00fe",16)),"I"]],["j",[String.fromCharCode(parseInt("00fe",16)),"J"]],["k",[String.fromCharCode(parseInt("00fe",16)),"K"]],["l",[String.fromCharCode(parseInt("00fe",16)),"L"]],["m",[String.fromCharCode(parseInt("00fe",16)),"M"]],["n",[String.fromCharCode(parseInt("00fe",16)),"N"]],["o",[String.fromCharCode(parseInt("00fe",16)),"O"]],["p",[String.fromCharCode(parseInt("00fe",16)),"P"]],["q",[String.fromCharCode(parseInt("00fe",16)),"Q"]],["r",[String.fromCharCode(parseInt("00fe",16)),"R"]],["s",[String.fromCharCode(parseInt("00fe",16)),"S"]],["t",[String.fromCharCode(parseInt("00fe",16)),"T"]],["u",[String.fromCharCode(parseInt("00fe",16)),"U"]],["v",[String.fromCharCode(parseInt("00fe",16)),"V"]],["w",[String.fromCharCode(parseInt("00fe",16)),"W"]],["x",[String.fromCharCode(parseInt("00fe",16)),"X"]],["y",[String.fromCharCode(parseInt("00fe",16)),"Y"]],["z",[String.fromCharCode(parseInt("00fe",16)),"Z"]],["{",[String.fromCharCode(parseInt("00fc",16)),"P"]],["|",[String.fromCharCode(parseInt("00fc",16)),"Q"]],["}",[String.fromCharCode(parseInt("00fc",16)),"R"]],["~",[String.fromCharCode(parseInt("00fc",16)),"S"]],[String.fromCharCode(parseInt("007f",16)),[String.fromCharCode(parseInt("00fc",16)),"T"]]]},code128a:{startSymbol:String.fromCharCode(parseInt("00f9",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[\0\x0001\x0002\x0003\x0004\x0005\x0006\a\b\t\n\v\f\r\x000e\x000f\x0010\x0011\x0012\x0013\x0014\x0015\x0016\x0017\x0018\x0019\x001a\x001b\x001c\x001d\x001e\x001f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\x00f0\x00f1\x00f2\x00f3\x00f4]",symbolTable:[["\0",64,[1,1,1,4,2,2]],[String.fromCharCode(parseInt("0001",16)),65,[1,2,1,1,2,4]],[String.fromCharCode(parseInt("0002",16)),66,[1,2,1,4,2,1]],[String.fromCharCode(parseInt("0003",16)),67,[1,4,1,1,2,2]],[String.fromCharCode(parseInt("0004",16)),68,[1,4,1,2,2,1]],[String.fromCharCode(parseInt("0005",16)),69,[1,1,2,2,1,4]],[String.fromCharCode(parseInt("0006",16)),70,[1,1,2,4,1,2]],["a",71,[1,2,2,1,1,4]],["\b",72,[1,2,2,4,1,1]],["\t",73,[1,4,2,1,1,2]],["\n",74,[1,4,2,2,1,1]],["\v",75,[2,4,1,2,1,1]],["\f",76,[2,2,1,1,1,4]],["\r",77,[4,1,3,1,1,1]],[String.fromCharCode(parseInt("000e",16)),78,[2,4,1,1,1,2]],[String.fromCharCode(parseInt("000f",16)),79,[1,3,4,1,1,1]],[String.fromCharCode(parseInt("0010",16)),80,[1,1,1,2,4,2]],[String.fromCharCode(parseInt("0011",16)),81,[1,2,1,1,4,2]],[String.fromCharCode(parseInt("0012",16)),82,[1,2,1,2,4,1]],[String.fromCharCode(parseInt("0013",16)),83,[1,1,4,2,1,2]],[String.fromCharCode(parseInt("0014",16)),84,[1,2,4,1,1,2]],[String.fromCharCode(parseInt("0015",16)),85,[1,2,4,2,1,1]],[String.fromCharCode(parseInt("0016",16)),86,[4,1,1,2,1,2]],[String.fromCharCode(parseInt("0017",16)),87,[4,2,1,1,1,2]],[String.fromCharCode(parseInt("0018",16)),88,[4,2,1,2,1,1]],[String.fromCharCode(parseInt("0019",16)),89,[2,1,2,1,4,1]],[String.fromCharCode(parseInt("001a",16)),90,[2,1,4,1,2,1]],[String.fromCharCode(parseInt("001b",16)),91,[4,1,2,1,2,1]],[String.fromCharCode(parseInt("001c",16)),92,[1,1,1,1,4,3]],[String.fromCharCode(parseInt("001d",16)),93,[1,1,1,3,4,1]],[String.fromCharCode(parseInt("001e",16)),94,[1,3,1,1,4,1]],[String.fromCharCode(parseInt("001f",16)),95,[1,1,4,1,1,3]],[" ",0,[2,1,2,2,2,2]],["!",1,[2,2,2,1,2,2]],['"',2,[2,2,2,2,2,1]],["#",3,[1,2,1,2,2,3]],["$",4,[1,2,1,3,2,2]],["%",5,[1,3,1,2,2,2]],["&",6,[1,2,2,2,1,3]],["'",7,[1,2,2,3,1,2]],["(",8,[1,3,2,2,1,2]],[")",9,[2,2,1,2,1,3]],["*",10,[2,2,1,3,1,2]],["+",11,[2,3,1,2,1,2]],[",",12,[1,1,2,2,3,2]],["-",13,[1,2,2,1,3,2]],[".",14,[1,2,2,2,3,1]],["/",15,[1,1,3,2,2,2]],["0",16,[1,2,3,1,2,2]],["1",17,[1,2,3,2,2,1]],["2",18,[2,2,3,2,1,1]],["3",19,[2,2,1,1,3,2]],["4",20,[2,2,1,2,3,1]],["5",21,[2,1,3,2,1,2]],["6",22,[2,2,3,1,1,2]],["7",23,[3,1,2,1,3,1]],["8",24,[3,1,1,2,2,2]],["9",25,[3,2,1,1,2,2]],[":",26,[3,2,1,2,2,1]],[";",27,[3,1,2,2,1,2]],["<",28,[3,2,2,1,1,2]],["=",29,[3,2,2,2,1,1]],[">",30,[2,1,2,1,2,3]],["?",31,[2,1,2,3,2,1]],["@",32,[2,3,2,1,2,1]],["A",33,[1,1,1,3,2,3]],["B",34,[1,3,1,1,2,3]],["C",35,[1,3,1,3,2,1]],["D",36,[1,1,2,3,1,3]],["E",37,[1,3,2,1,1,3]],["F",38,[1,3,2,3,1,1]],["G",39,[2,1,1,3,1,3]],["H",40,[2,3,1,1,1,3]],["I",41,[2,3,1,3,1,1]],["J",42,[1,1,2,1,3,3]],["K",43,[1,1,2,3,3,1]],["L",44,[1,3,2,1,3,1]],["M",45,[1,1,3,1,2,3]],["N",46,[1,1,3,3,2,1]],["O",47,[1,3,3,1,2,1]],["P",48,[3,1,3,1,2,1]],["Q",49,[2,1,1,3,3,1]],["R",50,[2,3,1,1,3,1]],["S",51,[2,1,3,1,1,3]],["T",52,[2,1,3,3,1,1]],["U",53,[2,1,3,1,3,1]],["V",54,[3,1,1,1,2,3]],["W",55,[3,1,1,3,2,1]],["X",56,[3,3,1,1,2,1]],["Y",57,[3,1,2,1,1,3]],["Z",58,[3,1,2,3,1,1]],["[",59,[3,3,2,1,1,1]],["\\",60,[3,1,4,1,1,1]],["]",61,[2,2,1,4,1,1]],["^",62,[4,3,1,1,1,1]],["_",63,[1,1,1,2,2,4]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00f1",16)),97,[4,1,1,1,1,3]],[String.fromCharCode(parseInt("00f2",16)),96,[1,1,4,3,1,1]],[String.fromCharCode(parseInt("00f3",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00f4",16)),98,[4,1,1,3,1,1]],[String.fromCharCode(parseInt("00fc",16)),99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00fb",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00f9",16)),103,[2,1,1,4,1,2]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},code128b:{startSymbol:String.fromCharCode(parseInt("00fd",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"^[\x00-]",symbolTable:[[" ",0,[2,1,2,2,2,2]],["!",1,[2,2,2,1,2,2]],['"',2,[2,2,2,2,2,1]],["#",3,[1,2,1,2,2,3]],["$",4,[1,2,1,3,2,2]],["%",5,[1,3,1,2,2,2]],["&",6,[1,2,2,2,1,3]],["'",7,[1,2,2,3,1,2]],["(",8,[1,3,2,2,1,2]],[")",9,[2,2,1,2,1,3]],["*",10,[2,2,1,3,1,2]],["+",11,[2,3,1,2,1,2]],[",",12,[1,1,2,2,3,2]],["-",13,[1,2,2,1,3,2]],[".",14,[1,2,2,2,3,1]],["/",15,[1,1,3,2,2,2]],["0",16,[1,2,3,1,2,2]],["1",17,[1,2,3,2,2,1]],["2",18,[2,2,3,2,1,1]],["3",19,[2,2,1,1,3,2]],["4",20,[2,2,1,2,3,1]],["5",21,[2,1,3,2,1,2]],["6",22,[2,2,3,1,1,2]],["7",23,[3,1,2,1,3,1]],["8",24,[3,1,1,2,2,2]],["9",25,[3,2,1,1,2,2]],[":",26,[3,2,1,2,2,1]],[";",27,[3,1,2,2,1,2]],["<",28,[3,2,2,1,1,2]],["=",29,[3,2,2,2,1,1]],[">",30,[2,1,2,1,2,3]],["?",31,[2,1,2,3,2,1]],["@",32,[2,3,2,1,2,1]],["A",33,[1,1,1,3,2,3]],["B",34,[1,3,1,1,2,3]],["C",35,[1,3,1,3,2,1]],["D",36,[1,1,2,3,1,3]],["E",37,[1,3,2,1,1,3]],["F",38,[1,3,2,3,1,1]],["G",39,[2,1,1,3,1,3]],["H",40,[2,3,1,1,1,3]],["I",41,[2,3,1,3,1,1]],["J",42,[1,1,2,1,3,3]],["K",43,[1,1,2,3,3,1]],["L",44,[1,3,2,1,3,1]],["M",45,[1,1,3,1,2,3]],["N",46,[1,1,3,3,2,1]],["O",47,[1,3,3,1,2,1]],["P",48,[3,1,3,1,2,1]],["Q",49,[2,1,1,3,3,1]],["R",50,[2,3,1,1,3,1]],["S",51,[2,1,3,1,1,3]],["T",52,[2,1,3,3,1,1]],["U",53,[2,1,3,1,3,1]],["V",54,[3,1,1,1,2,3]],["W",55,[3,1,1,3,2,1]],["X",56,[3,3,1,1,2,1]],["Y",57,[3,1,2,1,1,3]],["Z",58,[3,1,2,3,1,1]],["[",59,[3,3,2,1,1,1]],["\\",60,[3,1,4,1,1,1]],["]",61,[2,2,1,4,1,1]],["^",62,[4,3,1,1,1,1]],["_",63,[1,1,1,2,2,4]],["`",64,[1,1,1,4,2,2]],["a",65,[1,2,1,1,2,4]],["b",66,[1,2,1,4,2,1]],["c",67,[1,4,1,1,2,2]],["d",68,[1,4,1,2,2,1]],["e",69,[1,1,2,2,1,4]],["f",70,[1,1,2,4,1,2]],["g",71,[1,2,2,1,1,4]],["h",72,[1,2,2,4,1,1]],["i",73,[1,4,2,1,1,2]],["j",74,[1,4,2,2,1,1]],["k",75,[2,4,1,2,1,1]],["l",76,[2,2,1,1,1,4]],["m",77,[4,1,3,1,1,1]],["n",78,[2,4,1,1,1,2]],["o",79,[1,3,4,1,1,1]],["p",80,[1,1,1,2,4,2]],["q",81,[1,2,1,1,4,2]],["r",82,[1,2,1,2,4,1]],["s",83,[1,1,4,2,1,2]],["t",84,[1,2,4,1,1,2]],["u",85,[1,2,4,2,1,1]],["v",86,[4,1,1,2,1,2]],["w",87,[4,2,1,1,1,2]],["x",88,[4,2,1,2,1,1]],["y",89,[2,1,2,1,4,1]],["z",90,[2,1,4,1,2,1]],["{",91,[4,1,2,1,2,1]],["|",92,[1,1,1,1,4,3]],["}",93,[1,1,1,3,4,1]],["~",94,[1,3,1,1,4,1]],[String.fromCharCode(parseInt("007f",16)),95,[1,1,4,1,1,3]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00f1",16)),97,[4,1,1,1,1,3]],[String.fromCharCode(parseInt("00f2",16)),96,[1,1,4,3,1,1]],[String.fromCharCode(parseInt("00f3",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00f4",16)),98,[4,1,1,3,1,1]],[String.fromCharCode(parseInt("00fc",16)),99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00fa",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00fd",16)),104,[2,1,1,2,1,4]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},code128c:{startSymbol:String.fromCharCode(parseInt("00fe",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[0-9]",symbolTable:[["\0",0,[2,1,2,2,2,2]],[String.fromCharCode(parseInt("0001",16)),1,[2,2,2,1,2,2]],[String.fromCharCode(parseInt("0002",16)),2,[2,2,2,2,2,1]],[String.fromCharCode(parseInt("0003",16)),3,[1,2,1,2,2,3]],[String.fromCharCode(parseInt("0004",16)),4,[1,2,1,3,2,2]],[String.fromCharCode(parseInt("0005",16)),5,[1,3,1,2,2,2]],[String.fromCharCode(parseInt("0006",16)),6,[1,2,2,2,1,3]],["a",7,[1,2,2,3,1,2]],["\b",8,[1,3,2,2,1,2]],["\t",9,[2,2,1,2,1,3]],["\n",10,[2,2,1,3,1,2]],["\v",11,[2,3,1,2,1,2]],["\f",12,[1,1,2,2,3,2]],["\r",13,[1,2,2,1,3,2]],[String.fromCharCode(parseInt("000e",16)),14,[1,2,2,2,3,1]],[String.fromCharCode(parseInt("000f",16)),15,[1,1,3,2,2,2]],[String.fromCharCode(parseInt("0010",16)),16,[1,2,3,1,2,2]],[String.fromCharCode(parseInt("0011",16)),17,[1,2,3,2,2,1]],[String.fromCharCode(parseInt("0012",16)),18,[2,2,3,2,1,1]],[String.fromCharCode(parseInt("0013",16)),19,[2,2,1,1,3,2]],[String.fromCharCode(parseInt("0014",16)),20,[2,2,1,2,3,1]],[String.fromCharCode(parseInt("0015",16)),21,[2,1,3,2,1,2]],[String.fromCharCode(parseInt("0016",16)),22,[2,2,3,1,1,2]],[String.fromCharCode(parseInt("0017",16)),23,[3,1,2,1,3,1]],[String.fromCharCode(parseInt("0018",16)),24,[3,1,1,2,2,2]],[String.fromCharCode(parseInt("0019",16)),25,[3,2,1,1,2,2]],[String.fromCharCode(parseInt("001a",16)),26,[3,2,1,2,2,1]],[String.fromCharCode(parseInt("001b",16)),27,[3,1,2,2,1,2]],[String.fromCharCode(parseInt("001c",16)),28,[3,2,2,1,1,2]],[String.fromCharCode(parseInt("001d",16)),29,[3,2,2,2,1,1]],[String.fromCharCode(parseInt("001e",16)),30,[2,1,2,1,2,3]],[String.fromCharCode(parseInt("001f",16)),31,[2,1,2,3,2,1]],[" ",32,[2,3,2,1,2,1]],["!",33,[1,1,1,3,2,3]],['"',34,[1,3,1,1,2,3]],["#",35,[1,3,1,3,2,1]],["$",36,[1,1,2,3,1,3]],["%",37,[1,3,2,1,1,3]],["&",38,[1,3,2,3,1,1]],["'",39,[2,1,1,3,1,3]],["[",40,[2,3,1,1,1,3]],[")",41,[2,3,1,3,1,1]],["*",42,[1,1,2,1,3,3]],["+",43,[1,1,2,3,3,1]],[",",44,[1,3,2,1,3,1]],["-",45,[1,1,3,1,2,3]],[".",46,[1,1,3,3,2,1]],["/",47,[1,3,3,1,2,1]],["0",48,[3,1,3,1,2,1]],["1",49,[2,1,1,3,3,1]],["2",50,[2,3,1,1,3,1]],["3",51,[2,1,3,1,1,3]],["4",52,[2,1,3,3,1,1]],["5",53,[2,1,3,1,3,1]],["6",54,[3,1,1,1,2,3]],["7",55,[3,1,1,3,2,1]],["8",56,[3,3,1,1,2,1]],["9",57,[3,1,2,1,1,3]],[":",58,[3,1,2,3,1,1]],[";",59,[3,3,2,1,1,1]],["<",60,[3,1,4,1,1,1]],["=",61,[2,2,1,4,1,1]],[">",62,[4,3,1,1,1,1]],["?",63,[1,1,1,2,2,4]],["@",64,[1,1,1,4,2,2]],["A",65,[1,2,1,1,2,4]],["B",66,[1,2,1,4,2,1]],["C",67,[1,4,1,1,2,2]],["D",68,[1,4,1,2,2,1]],["E",69,[1,1,2,2,1,4]],["F",70,[1,1,2,4,1,2]],["G",71,[1,2,2,1,1,4]],["H",72,[1,2,2,4,1,1]],["I",73,[1,4,2,1,1,2]],["J",74,[1,4,2,2,1,1]],["K",75,[2,4,1,2,1,1]],["L",76,[2,2,1,1,1,4]],["M",77,[4,1,3,1,1,1]],["N",78,[2,4,1,1,1,2]],["O",79,[1,3,4,1,1,1]],["P",80,[1,1,1,2,4,2]],["Q",81,[1,2,1,1,4,2]],["R",82,[1,2,1,2,4,1]],["S",83,[1,1,4,2,1,2]],["T",84,[1,2,4,1,1,2]],["U",85,[1,2,4,2,1,1]],["V",86,[4,1,1,2,1,2]],["W",87,[4,2,1,1,1,2]],["X",88,[4,2,1,2,1,1]],["Y",89,[2,1,2,1,4,1]],["Z",90,[2,1,4,1,2,1]],["[",91,[4,1,2,1,2,1]],["\\",92,[1,1,1,1,4,3]],["]",93,[1,1,1,3,4,1]],["^",94,[1,3,1,1,4,1]],["_",95,[1,1,4,1,1,3]],["`",96,[1,1,4,3,1,1]],["a",97,[4,1,1,1,1,3]],["b",98,[4,1,1,3,1,1]],["c",99,[1,1,3,1,4,1]],[String.fromCharCode(parseInt("00f0",16)),102,[4,1,1,1,3,1]],[String.fromCharCode(parseInt("00fa",16)),101,[3,1,1,1,4,1]],[String.fromCharCode(parseInt("00fb",16)),100,[1,1,4,1,3,1]],[String.fromCharCode(parseInt("00fe",16)),105,[2,1,1,2,3,2]],[String.fromCharCode(parseInt("00ff",16)),-1,[2,3,3,1,1,1,2]]]},upcbarcode:{startSymbol:String.fromCharCode(parseInt("00fd",16)),stopSymbol:String.fromCharCode(parseInt("00ff",16)),validatorExp:"[0-9]",symbolTable:[["0",0,[3,2,1,1]],["1",1,[2,2,2,1]],["2",2,[2,1,2,2]],["3",3,[1,4,1,1]],["4",4,[1,1,3,2]],["5",5,[1,2,3,1]],["6",6,[1,1,1,4]],["7",7,[1,3,1,2]],["8",8,[1,2,1,3]],["9",9,[3,1,1,2]],["B",0,[1,1,1,1]]]},ean:{startSymbol:String.fromCharCode(parseInt("00fd",16)),stopSymbol:String.fromCharCode(parseInt("00fd",16)),validatorExp:"^[0-9]+$",symbolTable:[["0",0,[3,2,1,1]],["1",1,[2,2,2,1]],["2",2,[2,1,2,2]],["3",3,[1,4,1,1]],["4",4,[1,1,3,2]],["5",5,[1,2,3,1]],["6",6,[1,1,1,4]],["7",7,[1,3,1,2]],["8",8,[1,2,1,3]],["9",9,[3,1,1,2]],["A",0,[1,1,1,1]],["B",0,[1,1,1,1]]]}}}(jQuery,Syncfusion),function($,ej,wd){"use strict";var options=wd.unobtrusive={dataRole:!1,ejRole:!1,directive:!1},propMaps={};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};var div=$(document.createElement("div")),processAttrib=function(n,t,i){if(t.indexOf("-")===-1){n[t]=i;return}ej.createObject(t.replace(/-/g,"."),i,n)},processData=function(n){return n==="true"?!0:n==="false"?!1:+n+""===n?+n:n},readAttributes=function(n,t,i){for(var o=n[0].attributes,r,u={},l=i.slice(2).toLowerCase(),s="data-ej-",h=s.length,f="ej-",c=f.length,e=0;e<o.length;e++)r=o[e],t.dataRole&&r.name.startsWith(s)&&processAttrib(u,r.name.slice(h),processData(r.value)),(t.ejRole&&r.name.startsWith(f)||t.dataRole===!1&&t.ejRole===!1&&t.directive===!0&&r.name.startsWith(f))&&processAttrib(u,r.name.slice(c),processData(r.value));return u},iterateAndSetModel=function(model,data,map,type){var field="",current;for(var prop in data){if(field=map&&prop in map?map[prop]:prop,current=data[prop],type&&type[field]==="string"&&(current=current.toString()),ej.isPlainObject(current)&&(map||type)){model[field]={};iterateAndSetModel(model[field],current,map[prop+".value"]?map[prop+".value"]:map,ej.isPlainObject(type[field])?type[field]:type);continue}if(type&&(type[field]==="array"||type[field]==="parent"))try{current=JSON.parse(current)}catch(e){current=eval(current)}else type&&type[field]==="data"&&(/^\[{0,1}\{.+\}\]{0,1}$/.test(current)?current=JSON.parse(current):current.indexOf("/")===-1&&(current=ej.getObject(current.indexOf("window.")===0?current.slice(7):current,window)||current));model[field]=current}},changeTag=function(n,t){var r=$(n),u,i;if(ej.support.outerHTML)return div.insertBefore(r),u=n.tagName,i=[],i[0]="<",i[1]=n.outerHTML.trim().replace(RegExp("^<"+u+"|"+u+">$","ig"),t),i[1].endsWith(">")||(i[2]=">"),n.outerHTML=i.join(""),n=div.next()[0],div.remove(),n;var e=r.clone(),u=n.tagName,f="";return r.html(f),f+="<",f+=div.append(e).html().replace(RegExp("^<"+u+"|"+u+">$","ig"),t),f+=">",div.html(f),e=r.wrap(div.children().first()).parent(),r.remove(),div.empty(),e[0]},findAndChangeTag=function(n,t,i,r){for(var f=!1,e=n.length,u=0;u<e;u++)n[u].offsetParent?n[u]=changeTag(n[u],t):(n.splice(u--,1),f=!0,e--);return f&&n.push.apply(n,findAndChangeTag(r.find(i),t,i,r)),n},findElements=function(n,t,i,r){var u=[],f=n.replace("ej","").toLowerCase(),e={};return t.dataRole===!0&&u.push("[data-role='"+n.toLowerCase()+"']"),t.ejRole===!0&&u.push("[ej-"+f+"]"),e.role=i.find(u.join(",")),t.directive===!0&&(e.directive=findAndChangeTag(i.find(f),r.validTags&&r.validTags[0]||"div",f,i)),e},generatePropMap=function(n){var i={},r;for(var t in n)r=t.toLowerCase(),ej.isPlainObject(n[t])&&(i[r+".value"]=generatePropMap(n[t])),i[r]=t;return i},initControls=function(n,t,i,r,u){for(var e,o,s=r.dataTypes,h=n.length,f=0;f<h;f++)e=n.eq(f),o={},iterateAndSetModel(o,readAttributes(e,t,i),u,s),e[i](o)},checkUnobtrusive=function(n,t,i,r){var f=findElements(n,i,r,t),u=propMaps[n];(f.role&&f.role.length||f.directive&&f.directive.length)&&!u&&(u=generatePropMap(t.defaults),u.serverevents="serverEvents",u.clientid="clientId",u.uniqueid="uniqueId",propMaps[n]=u,t._unobtrusive&&$.extend(!0,u,t._unobtrusive));initControls(f.role,i,n,t,u);f.directive&&initControls(f.directive,i,n,t,u,!0)},readBoolAttr=function(n,t){return n.hasOwnProperty(t)?n[t]!==!1:!1};wd.init=function(n){var t,i;n=n?n.jquery?n:$(n):$(document);t=wd.registeredWidgets;for(i in t)checkUnobtrusive(t[i].name,t[i].proto,options,n)};$(function(){var n=$(document.body).data(),t,i;(options.ejRole=n.hasOwnProperty("ejrole")?readBoolAttr(n,"ejrole"):options.ejRole,options.directive=n.hasOwnProperty("directive")?readBoolAttr(n,"directive"):options.directive,options.ejRole!==!0&&options.directive!==!0&&(options.dataRole=!0),options.dataRole=n.hasOwnProperty("datarole")?readBoolAttr(n,"datarole"):options.dataRole,options.ejRole===!0||options.dataRole===!0||options.directive===!0)&&(wd.autoInit=n.hasOwnProperty("autoinit")?readBoolAttr(n,"autoinit"):!0,wd.autoInit===!0)&&(t=[],options.dataRole===!0&&t.push("[data-ej-init]"),options.ejRole===!0&&t.push("[ej-init]"),i=$(t.join(",")),i.length||(i=$(document)),wd.init(i))})}(window.jQuery,window.Syncfusion,window.Syncfusion.widget);
