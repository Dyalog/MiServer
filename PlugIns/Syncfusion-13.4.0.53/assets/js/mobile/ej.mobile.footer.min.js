/*!
*  filename: ej.mobile.footer.min.js
*  version : 13.4.0.53
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.data.min","./ej.mobile.core.min","./ej.mobile.application.min","./../common/ej.unobtrusive.min","./../common/ej.touch.min","./ej.mobile.button.min"],n):n()})(function(){(function(n,t){t.widget("ejmFooter","ej.mobile.Footer",{_setFirst:!0,_rootCSS:"e-m-footer",defaults:{hideForUnSupportedDevice:!1,leftButtonNavigationUrl:null,rightButtonNavigationUrl:null,title:"Title",showTitle:!0,position:"fixed",leftButtonCaption:"Left",rightButtonCaption:"Right",renderMode:"auto",theme:"auto",showLeftButton:!1,showRightButton:!1,enablePersistence:!1,templateId:null,cssClass:"",leftButtonTap:null,rightButtonTap:null,windows:{renderDefault:!1,leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},flat:{leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},ios7:{leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},android:{leftButtonStyle:"auto",rightButtonStyle:"auto",showLeftButton:!1,showRightButton:!1},leftButtonStyle:"back",rightButtonStyle:"header",layout:!1},dataTypes:{showTitle:"boolean",position:"enum",renderMode:"enum",theme:"enum",layout:"boolean",enablePersistence:"boolean",windows:{renderDefault:"boolean"}},_init:function(){if(App.activePage||App.createAppView(),this.model.layout&&n("#"+this.element[0].id+".e-m-layout-element").length>1){this.element.remove();return}t.setRenderMode(this);t.setTheme(this);this._caption=this.model.leftButtonCaption;(!this.model.hideForUnSupportedDevice||this.model.hideForUnSupportedDevice&&this.model.renderMode=="ios7")&&this._renderControl()},_renderFooterTemplate:function(){this._templateContainer=t.buildTag("div.e-m-footer-content");var n=t.getCurrentPage().find("#"+this.model.templateId);n.length?(this.element.empty(),t.destroyWidgets(n),this._template=n[0].nodeName&&n[0].nodeName.toLowerCase()=="script"?t.getClearString(n[0].innerHTML):n):(this._template=this.element[0].innerHTML.trim(),this.element.empty());t.widget.init(this._template);this.element.append(this._templateContainer.append(this._template));(App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(this._templateContainer)},_renderDefaultFooter:function(){this._footerContainer=t.buildTag("div.e-m-footer-content");this.element[0].innerHTML.trim()==""&&(this.element.append(this._footerContainer),this["_"+this.model.renderMode+"ButtonProperties"]&&this["_"+this.model.renderMode+"ButtonProperties"]())},_renderControl:function(){this._orgEle=n(this.element).clone();this.model.layout&&(n("body").append(this.element),this.element.addClass("e-m-layout-element "+this.model.cssClass),n(".appview").addClass("e-m-layout-element"));this.model.renderMode=="windows"&&this.model.windows.renderDefault&&t.isMobile()&&(this.model.theme="default");this.model.height>0&&n(this.element).css({height:this.model.height});this.model.width>0&&n(this.element).css({width:this.model.width});this.element.addClass("e-m-"+this.model.renderMode+" e-m-footer e-m-"+this.model.position+" e-m-"+this.model.theme);this.model.templateId==null?this._renderDefaultFooter():this._renderFooterTemplate();var i=this.element.find(".e-m-footer-text");i.length==0&&!this._template&&this.model.showTitle&&this._showFooterTitle()},_leftButtonCommon:function(){this._leftButton=t.buildTag("div.e-m-footer-left");this._renderMode=this.model.renderMode;this._theme=this.model.theme;this.model.renderMode=="windows"&&(this.model.leftButtonStyle=="back"||this.model.windows.leftButtonStyle=="back")&&(this.model.leftButtonCaption="");var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this._theme};this._leftButtonAnchorTag=t.buildTag("a",this.model.leftButtonCaption,"",n);this._leftButtonStyle=this.model[this.model.renderMode].leftButtonStyle||this.model.leftButtonStyle;this.model[this.model.renderMode].leftButtonStyle=="auto"&&(this._leftButtonStyle=this.model.leftButtonStyle);this._buttons(this._leftButton,this._leftButtonAnchorTag,this.model.leftButtonTap,this._leftButtonStyle,this.model.leftButtonNavigationUrl)},_rightButtonCommon:function(){this._rightButton=t.buildTag("div.e-m-footer-right");this._renderMode=this.model.renderMode;var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._rightButtonAnchorTag=t.buildTag("a",this.model.rightButtonCaption,"",n);this._rightButtonStyle=this.model[this.model.renderMode].rightButtonStyle||this.model.rightButtonStyle;this.model[this.model.renderMode].rightButtonStyle=="auto"&&(this._rightButtonStyle=this.model.rightButtonStyle);this._buttons(this._rightButton,this._rightButtonAnchorTag,this.model.rightButtonTap,this._rightButtonStyle,this.model.rightButtonNavigationUrl)},_buttons:function(n,i,r,u,f){r!=null?r.name?i.attr("data-ej-touchend",r.name):i.attr("data-ej-touchend",r):"";u&&i.attr("data-ej-"+this._renderMode+"-style",u);f!=null&&i.attr("href",f);n.append(i);n.hasClass("e-m-footer-left")?this.element.find(".e-m-footer-content").prepend(n):this.element.find(".e-m-footer-content").append(n);t.widget.init(n);(App.angularAppName||t.angular.defaultAppName)&&t.angular.compile(n)},_showFooterTitle:function(){this._titleSpan=t.buildTag("span.e-m-footer-text e-m-"+this.model.theme+" e-m-user-select",this.model.title,"","");titleDiv=t.buildTag("div.e-m-footer-title","","","").append(this._titleSpan);this._footerContainer.append(titleDiv);this.model.renderMode=="ios7"&&this._titleSpan.text().length>18&&((this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&this._titleSpan.css("margin-left","65px"),(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._titleSpan.css("margin-right","50px"))},_buttonProperties:function(){(this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&this._leftButtonCommon();this.model.showTitle&&this._showFooterTitle();(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._rightButtonCommon()},_ios7ButtonProperties:function(){this._buttonProperties()},_windowsButtonProperties:function(){this._buttonProperties()},_flatButtonProperties:function(){this._buttonProperties()},_androidButtonProperties:function(){if((this.model.showLeftButton||this.model[this.model.renderMode].showLeftButton)&&(this.model.android.leftButtonStyle=="back"||this.model.leftButtonStyle=="back")&&!(this.model.android.leftButtonStyle=="normal"||this.model.android.leftButtonStyle=="header")){this._leftDiv=t.buildTag("div.e-m-footer-left");this._spanTag=t.buildTag("div.e-m-footer-button e-m-fontimage");var n={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._leftDiv.append(this._spanTag);this._footerContainer.prepend(this._leftDiv);this._wireEvents(!1)}(this.model.showLeftButton||this.model.android.showLeftButton)&&this.model.android.leftButtonStyle!=="back"&&(this.model.android.leftButtonStyle=="normal"||this.model.leftButtonStyle=="normal"||this.model.android.leftButtonStyle=="header"||this.model.leftButtonStyle=="header")&&this._leftButtonCommon();this.model.showTitle&&!this.element.find(".e-m-footer-title").length&&this._showFooterTitle();(this.model.showRightButton||this.model[this.model.renderMode].showRightButton)&&this._rightButtonCommon()},_wireEvents:function(t){this._touchStartHandler=n.proxy(this._onTouchStart,this);this._touchStopHandler=n.proxy(this._onTouchEnd,this);this._androidBindEvents(t)},_androidBindEvents:function(n){this.model.renderMode=="android"&&(this.model.android.showLeftButton||this.model.showLeftButton)&&t.listenEvents([this._leftDiv,this._leftDiv],[t.startEvent(),t.endEvent(),t.startEvent(),t.endEvent()],[this._touchStartHandler,this._touchStopHandler,this._touchStartHandler,this._touchStopHandler],n)},_onTouchStart:function(){this.element.find(this._leftDiv).addClass("active")},_onTouchEnd:function(){this.element.find(this._leftDiv).removeClass("active");history.back();this.model.leftButtonTap&&this._trigger("leftButtonTap")},_showLeftButton:function(n){this.model[this.model.renderMode].showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this.model.renderMode=="android"?this._androidButtonProperties():this._leftButtonCommon()},_showAndroidLeftButton:function(n){this.model[this.model.renderMode].showLeftButton=n;this._leftDiv&&this._leftDiv[n?"show":"hide"]()},_showRightButton:function(n){this.model[this.model.renderMode].showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setShowLeftButton:function(n){this.model.showLeftButton=n;this._leftButton?this._leftButton[n?"show":"hide"]():this.model.renderMode=="android"?this._androidButtonProperties():this._leftButtonCommon()},_setShowRightButton:function(n){this.model.showRightButton=n;this._rightButton?this._rightButton[n?"show":"hide"]():this._rightButtonCommon()},_setShowTitle:function(n){this.model.showTitle=n;this._titleSpan[n?"show":"hide"]()},_setTitle:function(n){this.model.title=n;this._titleSpan.html(n)},_setLeftButtonCaption:function(n){this.model.leftButtonCaption=n;this.element.find(this._leftButtonAnchorTag).html(n)},_setRightButtonCaption:function(n){this.model.rightButtonCaption=n;this.element.find(this._rightButtonAnchorTag).html(n)},_setLeftButtonTap:function(n){this.model.leftButtonTap=n;this.element.find(this._leftButtonAnchorTag).ejmActionlink({touchEnd:n})},_setRightButtonTap:function(n){this.model.rightButtonTap=n;this.element.find(this._rightButtonAnchorTag).ejmActionlink({touchEnd:n})},_setLeftButtonStyle:function(i){if(this.model.renderMode=="ios7"&&(this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+this.model.leftButtonStyle),this.model.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage")),this.model.renderMode=="android"&&(n(".e-m-footer-left").remove(),this.model.leftButtonStyle!="back"&&this._leftButtonCommon(),this.model.leftButtonStyle=="back")){this._leftDiv=t.buildTag("div.e-m-footer-left");this._spanTag=t.buildTag("div#"+this._id+"_leftbutton .e-m-header-button e-m-fontimage");var r={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._leftDiv.append(this._spanTag);this._footerContainer.prepend(this._leftDiv);this._wireEvents(!1)}this.model.renderMode=="windows"&&(n(".e-m-footer-left").remove(),this._leftButtonCommon(),(this.model.windows.leftButtonStyle=="normal"||this.model.windows.leftButtonStyle=="header")&&(this._leftButtonAnchorTag.html(""),this._leftButtonAnchorTag.append(this._caption)));this.model.renderMode=="flat"&&this.model.leftButtonStyle&&(this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+this.model.leftButtonStyle),i.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage"))},_setRightButtonStyle:function(t){this.model.renderMode=="ios7"&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+this.model.rightButtonStyle);this.model.renderMode=="android"&&(n(".e-m-footer-right").remove(),this._rightButtonCommon());this.model.renderMode=="windows"&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+t.rightButtonStyle);this.model.renderMode=="flat"&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+t.rightButtonStyle)},_setIos7:function(n){n.leftButtonStyle=="auto"&&(n.leftButtonStyle=this.model.leftButtonStyle);n.rightButtonStyle=="auto"&&(n.rightButtonStyle=this.model.rightButtonStyle);n.leftButtonStyle&&this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+n.leftButtonStyle);n.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage");n.rightButtonStyle&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+n.rightButtonStyle);typeof n.showLeftButton=="boolean"&&this._showLeftButton(this.model.ios7.showLeftButton);typeof n.showRightButton=="boolean"&&this._showRightButton(this.model.ios7.showRightButton)},_setAndroid:function(i){if(i.leftButtonStyle=="auto"&&(i.leftButtonStyle=this.model.leftButtonStyle),i.rightButtonStyle=="auto"&&(i.rightButtonStyle=this.model.rightButtonStyle),i.leftButtonStyle&&(n(".e-m-footer-left").remove(),i.leftButtonStyle!="back"&&this._leftButtonCommon(),i.leftButtonStyle=="back")){this._leftDiv=t.buildTag("div.e-m-footer-left");this._spanTag=t.buildTag("div.e-m-footer-button e-m-fontimage");var r={"data-role":"ejmactionlink","data-ej-rendermode":this._renderMode,"data-ej-theme":this.model.theme};this._leftDiv.append(this._spanTag);this._footerContainer.prepend(this._leftDiv);this._wireEvents(!1)}i.rightButtonStyle&&(n(".e-m-footer-right").remove(),this._rightButtonCommon());typeof i.showLeftButton=="boolean"&&this._showAndroidLeftButton(this.model.android.showLeftButton);typeof i.showRightButton=="boolean"&&this._showRightButton(this.model.android.showRightButton)},_setWindows:function(t){t.leftButtonStyle=="auto"&&(t.leftButtonStyle=this.model.leftButtonStyle);t.rightButtonStyle=="auto"&&(t.rightButtonStyle=this.model.rightButtonStyle);t.leftButtonStyle&&(n(".e-m-footer-left").remove(),this._leftButtonCommon(),this.model.windows.leftButtonStyle=="normal"&&(this._leftButtonAnchorTag.html(""),this._leftButtonAnchorTag.append(this._caption)));t.rightButtonStyle&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+t.rightButtonStyle);typeof t.showLeftButton=="boolean"&&this._showLeftButton(this.model.windows.showLeftButton);typeof t.showRightButton=="boolean"&&this._showRightButton(this.model.windows.showRightButton)},_setFlat:function(n){n.leftButtonStyle=="auto"&&(n.leftButtonStyle=this.model.leftButtonStyle);n.rightButtonStyle=="auto"&&(n.rightButtonStyle=this.model.rightButtonStyle);n.leftButtonStyle&&this.element.find(this._leftButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-back e-m-btn-header").addClass("e-m-btn-"+n.leftButtonStyle);n.leftButtonStyle=="back"&&this._leftButtonAnchorTag.addClass("e-m-fontimage");n.rightButtonStyle&&this.element.find(this._rightButtonAnchorTag).parent().removeClass("e-m-btn-normal e-m-btn-header").addClass("e-m-btn-"+n.rightButtonStyle);typeof n.showLeftButton=="boolean"&&this._showLeftButton(this.model.flat.showLeftButton);typeof n.showRightButton=="boolean"&&this._showRightButton(this.model.flat.showRightButton)},_setModel:function(n){var r=!1,t,i;for(t in n)i="_set"+t.charAt(0).toUpperCase()+t.slice(1),t=="renderMode"||t=="position"?r=!0:this[i]&&this[i](n[t]);r&&this._refresh()},_setTheme:function(n){this.model.theme=n;this.element.removeClass("e-m-light e-m-dark").addClass("e-m-"+n.toLowerCase());this.element.find(".e-m-footer-left .e-m-btn").ejmActionlink({theme:n});this.element.find(".e-m-footer-right .e-m-btn").ejmActionlink({theme:n})},_refresh:function(){this._destroy();this.element.addClass("ejm-footer");this._renderControl()},_clearElement:function(){this.element.removeAttr("class");this.element.html(this._orgEle.html())},_destroy:function(){this._clearElement()},getTitle:function(){return this._titleSpan.html()}});t.mobile.Footer.Position={Normal:"normal",Fixed:"fixed"};t.mobile.Footer.IOS7={};t.mobile.Footer.IOS7.FooterLeftButtonStyle={Auto:"auto",Back:"back",Header:"header",Normal:"normal"};t.mobile.Footer.Android={};t.mobile.Footer.Android.FooterLeftButtonStyle={Auto:"auto",Back:"back",Normal:"normal",Header:"header"};t.mobile.Footer.Windows={};t.mobile.Footer.Windows.FooterLeftButtonStyle={Auto:"auto",Back:"back",Normal:"normal",Header:"header"};t.mobile.Footer.Flat={};t.mobile.Footer.Flat.FooterLeftButtonStyle={Auto:"auto",Back:"back",Normal:"normal",Header:"header"};t.mobile.Footer.IOS7.FooterRightButtonStyle={Auto:"auto",Header:"header",Normal:"normal"};t.mobile.Footer.Android.FooterRightButtonStyle={Auto:"auto",Normal:"normal",Header:"header"};t.mobile.Footer.Windows.FooterRightButtonStyle={Auto:"auto",Normal:"normal",Header:"header"};t.mobile.Footer.Flat.FooterRightButtonStyle={Auto:"auto",Header:"header",Normal:"normal"};t.mobile.Footer.FooterLeftButtonStyle={Back:"back",Header:"header",Normal:"normal"};t.mobile.Footer.FooterRightButtonStyle={Header:"header",Normal:"normal"}})(jQuery,Syncfusion)});