/*!
*  filename: ej.excelfilter.min.js
*  version : 13.4.0.53
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./ej.menu.min"],n):n()})(function(){(function(n,t,i){t.ExcelFilter=t.ExcelFilter||{};t.excelFilter=function(n){return this._ctrlInstance=n.instance,this.id=this._ctrlInstance._id,this._dialogContainer=null,this._showSort=n.showSortOptions||!1,this._interDeterminateState=n.interDeterminateState||!1,this._maxCount=n.maxFilterLimit||1e3,this._formatFiltering=!0,this._locale=this._ctrlInstance.model.locale||"en-US",this.localizedLabels=this._getLocalizedLabel(),this._filterHandler=n.filterHandler||null,this._cancelHandler=n.cancelHandler||null,this._customFilterHandler=n.customFilterHandler||null,this._cssClass=n.cssClass||null,this._matchCase=n.allowCaseSensitive||!1,this._title=n.title||this.localizedLabels.title,this.fName=n.initFilterCol||null,this._spliter=n.valueDelimiter||t.ExcelFilter.valueDelimiter,this._initialFName=this.fName,this._displayName=null,this._dataSource=null,this._isUrlAdaptor=!1,this._$tableID=null,this._$blankVal=null,this._$selectedColors=[],this._$enableColor=!1,this._$filteredByColor="",this._$colType=null,this._$key=0,this.filteredColumn=null,this.sortedColumns=null,this._chkList=null,this._listsWrap=null,this._menuWrap=null,this._localJSON=null,this._actualCount=0,this._totalRcrd=0,this._enableResponsiveRow=!1,this._searchCount=0,this._currentData=null,this._openedFltr=null,this._predicates=[],this.cFilteredCols=this.fName!=null?[this.fName]:[],this._columnsFiltered=[],this._noDlg=[],this._sepAftr=["sortDesc","notequal","between","top10","endswith","contains"],this._posType=["number","date","string","boolean","guid"],this._empties=["null","undefined",""],this._reqInProgess=!1,this._isFiltered=!1,this._onActionBegin=n.actionBegin||null,this._onActionComplete=n.actionComplete||null,this.enableNormalize=!0,this._selectAll="<div class='e-ftrchk'><input type='checkbox' class='e-selectall' value='selectall' class='e-ftrchk' /><label class='e-ftrchk'>("+this.localizedLabels.SelectAll+")<\/label><\/div>",this._blanks="<div class='e-ftrchk'><input type='checkbox' id='blanks' class='e-ftrchk' value='"+this._empties.join(this._spliter)+"' @@/><label class='e-ftrchk' for='blanks' value=''>("+this.localizedLabels.Blanks+")<\/label><\/div>",this._blank=i,this._addAtLast=!1,this.guidMenuOpt=[{id:1,text:this.localizedLabels.SortNoSmaller,sprite:"e-sortasc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortAsc"}},{id:2,text:this.localizedLabels.SortNoLarger,sprite:"e-sortdesc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortDesc"}},{id:3,text:this.localizedLabels.SortByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:4,text:this.localizedLabels.ClearFilter,sprite:"e-filternone e-icon",htmlAttribute:{ejfnrole:"clearfilter"}},{id:5,text:this.localizedLabels.FilterByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:6,text:this.localizedLabels.GuidFilter,htmlAttribute:{ejfnrole:"filterpopup"},child:this.localizedLabels.GuidMenuOptions}],this.numberMenuOpt=[{id:1,text:this.localizedLabels.SortNoSmaller,sprite:"e-sortasc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortAsc"}},{id:2,text:this.localizedLabels.SortNoLarger,sprite:"e-sortdesc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortDesc"}},{id:3,text:this.localizedLabels.SortByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:4,text:this.localizedLabels.ClearFilter,sprite:"e-filternone e-icon",htmlAttribute:{ejfnrole:"clearfilter"}},{id:5,text:this.localizedLabels.FilterByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:6,text:this.localizedLabels.NumberFilter,htmlAttribute:{ejfnrole:"filterpopup"},child:this.localizedLabels.NumberMenuOptions}],this.stringMenuOpt=this.booleanMenuOpt=[{id:1,text:this.localizedLabels.SortTextAscending,sprite:"e-sortasc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortAsc"}},{id:2,text:this.localizedLabels.SortTextDescending,sprite:"e-sortdesc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortDesc"}},{id:3,text:this.localizedLabels.SortByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:4,text:this.localizedLabels.ClearFilter,sprite:"e-filternone e-icon",htmlAttribute:{ejfnrole:"clearfilter"}},{id:5,text:this.localizedLabels.FilterByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:6,text:this.localizedLabels.TextFilter,htmlAttribute:{ejfnrole:"filterpopup"},child:this.localizedLabels.StringMenuOptions}],this.dateMenuOpt=[{id:1,text:this.localizedLabels.SortDateOldest,sprite:"e-sortasc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortAsc"}},{id:2,text:this.localizedLabels.SortDateNewest,sprite:"e-sortdesc e-icon e-fnsort",htmlAttribute:{ejfnrole:"sortDesc"}},{id:3,text:this.localizedLabels.SortByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:4,text:this.localizedLabels.ClearFilter,sprite:"e-filternone e-icon",htmlAttribute:{ejfnrole:"clearfilter"}},{id:5,text:this.localizedLabels.FilterByColor,htmlAttribute:{ejfnrole:"popup"},child:[]},{id:6,text:this.localizedLabels.DateFilter,htmlAttribute:{ejfnrole:"filterpopup"},child:this.localizedLabels.DateMenuOptions}],this};t.excelFilter.prototype={isNotBlank:function(n,i){var r=t.isNullOrUndefined(n)||n===""||n===null;return i||n!==""&&n!==null||(this._addAtLast=!0),!r},_checkBlank:function(n){if(this.isNotBlank(n))return!0;var t=this._blank==i&&!this._addAtLast;return t&&(this._blank=!0),t},_getValueData:function(n,i){var r=this._empties;return this.isNotBlank(n,!0)&&(r=t.distinct(i,this._$foreignField||this.fName,!1)),r.join(this._spliter)},getPredicate:function(n,r,u){var e,s,o,f,h;for(this._isUrlAdaptor=this._ctrlInstance._dataSource()instanceof t.DataManager&&(this._ctrlInstance._dataSource().adaptor instanceof t.UrlAdaptor||this._ctrlInstance._dataSource().adaptor instanceof t.WebMethodAdaptor),e=r!=i?[r]:t.distinct(n,"field",!1),o={},f=0,h=e.length;f<h;f++)s=new t.DataManager(n).executeLocal((new t.Query).where("field","equal",e[f])),o[e[f]]=this.generatePredicate(s),u&&(this._predicates[this._$key]=this._predicates[this._$key]||{},this._predicates[this._$key][e[f]]=o[e[f]]);return o},generatePredicate:function(n){var f=n?n.length:0,u,r,i;if(f){for(r=this._updateDateFilter(n[0]),u=r.ejpredicate?r.ejpredicate:t.Predicate(r.field,r.operator,r.value,r.ignoreCase||!r.matchcase),i=1;i<f;i++)n[i]=this._updateDateFilter(n[i]),this._isUrlAdaptor&&f>2&&i>1&&n[i].predicate=="or"?u.predicates.push(t.Predicate(n[i].field,n[i].operator,n[i].value,n[i].ignoreCase||!n[i].matchcase)):u=n[i].ejpredicate?u[n[i].predicate](n[i].ejpredicate):u[n[i].predicate](n[i].field,n[i].operator,n[i].value,n[i].ignoreCase||!n[i].matchcase);return u||null}},renderDialog:function(n){this._$colType=n;var e=this.id+n+"_excelDlg",i=t.buildTag("div#"+e+".e-excelfilter e-dlgcontainer e-shadow"),r=t.buildTag("ul#"+this.id+n+"_MenuItem"),o=this._getMenuData(n);r=this._createLiTag(r,o,!1);var f=t.buildTag("span.e-searchbox e-fields").append(t.buildTag("input#"+this.id+"_SearchBox.e-ejinputtext e-searchinput",{},{},{type:"text",placeholder:"Search"})).append(t.buildTag("span.e-search e-icon")),s=t.buildTag("div#"+this.id+n+"_CheckBoxList.e-checkboxlist e-fields").append(t.buildTag("div")),h=this._createBtn(),u=t.buildTag("div.e-searchcontainer"),c=t.buildTag("div.e-status e-fields e-hide",this.localizedLabels.CheckBoxStatusMsg);i.append(r);u.append(f);u.append(c);u.append(s);u.append(h);i.append(u);i.appendTo(this._ctrlInstance.element);i.css("display","none");this._renderCustomFDlg(n);this._dialogContainer=i;this._cssClass!=null&&i.addClass(this._cssClass);this._showSort||(r.find(".e-fnsort").closest("li").css("display","none"),r.find("li.e-separator:first").css("display","none"));this._lsitBoxTemplate();this._renderSubCtrls(n);t.browserInfo().name=="msie"&&t.browserInfo().version<10&&t.ieClearRemover(f.find("input")[0]);this._wireEvents()},_renderSubCtrls:function(i){n("#"+this.id+i+"_MenuItem").ejMenu({orientation:"vertical",width:266,click:t.proxy(this._menuHandler,this),enableRTL:this._ctrlInstance.model.enableRTL,enableSeparator:!1});n("#"+this.id+i+"_OkBtn").ejButton({text:this.localizedLabels.Ok,showRoundedCorner:!0,width:60,click:t.proxy(this._fltrBtnHandler,this),enabled:!0});n("#"+this.id+i+"_CancelBtn").ejButton({text:this.localizedLabels.Cancel,showRoundedCorner:!0,width:60,click:t.proxy(this.closeXFDialog,this)});n("#"+this.id+i+"_CheckBoxList").ejScroller({height:130,width:234,scroll:t.proxy(this._virtualize,this)});n("#"+this.id+i+"_CheckBoxList").ejWaitingPopup({showOnInit:!1})},openXFDialog:function(r){var u,f,e;(this.fName=r.field,this._dataSource=r.dataSource,this._$colType=r.type||"string",this._$format=r.format||"",this._enableResponsiveRow=r.enableResponsiveRow,this.filteredColumn=r.filteredColumns||this._ctrlInstance.model.filterSettings.filteredColumns,this.sortedColumns=r.sortedColumns||this._ctrlInstance.model.sortSettings.sortedColumns,this._displayName=r.displayName,this._$key=r.key||0,this._$tableID=r.tableID,this._$blankVal=t.isNullOrUndefined(this._$tableID)?this._$blankVal:r.blank,this._$selectedColors=r.selectedColors||[],this._$enableColor=r.enableColor||!1,this._$filteredByColor=r.filteredByColor||this._$filteredByColor,this._$foreignField=r.foreignKeyValue,this._$foreignData=r.foreignDataSource,this._$foreignKey=r.foreignKey,e={requestType:"filterbeforeopen",filterModel:this,columnName:this.fName,columnType:this._$colType},this._ctrlInstance._trigger(this._onActionBegin,e))||(this._openedFltr!=null&&this._openedFltr.is(n("#"+this.id+this._$colType+"_excelDlg"))||(this.closeXFDialog(),this._openedFltr=n("#"+this.id+this._$colType+"_excelDlg")),this._listsWrap=n("#"+this.id+this._$colType+"_CheckBoxList"),this._menuWrap=n("#"+this.id+this._$colType+"_MenuItem"),this._searchBox=this._openedFltr.find(".e-searchbox input"),this._setPosition(this._openedFltr,r.position),this._openedFltr.addClass(r.cssClass),this._openedFltr.fadeIn(300,"easeOutQuad",function(){}),f=n("#"+this.id+this._$colType+"_MenuItem").find("li[ejfnrole='popup']"),this._$enableColor?(this._createDivTag(f.eq(0).find(".e-shadow"),this._$selectedColors,!1,"sort"),this._$filteredByColor==-1||this._$filteredByColor.length<1||this._$filteredByColor===this.fName?this._createDivTag(f.eq(1).find(".e-shadow"),this._$selectedColors,!1,"filter"):f.eq(1).addClass("e-disable-item")):f.hide(),this._isFiltered=this._predicates[this._$key]!=i&&this._predicates[this._$key][this.fName]!=i,this._isFiltered=r.isFiltered||this._isFiltered,this._$format=this._$colType=="date"&&this._$format===""?"{0:MM/dd/yyyy hh:mm:ss}":this._$format,this._processListData(),u=this._listsWrap.data("ejScroller"),this._ctrlInstance.model.enableRTL&&u.isHScroll()&&(u.scrollLeft(u.content()[0].scrollWidth-u.content()[0].clientWidth),u.refresh()),this._actualCount>this._maxCount?this._openedFltr.find("div.e-status").removeClass("e-hide"):this._openedFltr.find("div.e-status").addClass("e-hide"),this._setDisable(),e={requestType:"filterafteropen",filterModel:this,columnName:this.fName,columnType:this._$colType},this._ctrlInstance._trigger(this._onActionComplete,e))},closeXFDialog:function(i){if(i!=null){var r=n(i.target);if(r.closest("#"+this.id+this._$colType+"_CustomFDlg").length)return}this._openedFltr&&(this._openedFltr.hasClass("e-dlgcustom")?this._openedFltr.ejDialog("close"):(this._openedFltr.fadeOut(300,"easeOutQuad",function(){}),this._listsWrap.ejWaitingPopup("hide")),t.isNullOrUndefined(this._cancelHandler)||this._cancelHandler(),this.resetFilterModel())},_setPosition:function(n,t){n.css("position","absolute");n.css("left",t.X).css("top",t.Y)},_setDisable:function(){var o=this._menuWrap.find("li[ejfnrole='clearfilter']"),r=this._menuWrap.find("li[ejfnrole='filterpopup']"),e=this._menuWrap.find("li[ejfnrole *= 'sort']"),s=this._listsWrap.find("input").filter(":checked:not(.e-selectall)").length,f,u,i;if(this._isFiltered?o.removeClass("e-disable-item"):o.addClass("e-disable-item"),this._showSort&&(f=t.DataManager(this.sortedColumns).executeLocal((new t.Query).where("field","equal",this.fName)),f.length&&f[0].direction=="ascending"?e.filter("[ejfnrole='sortAsc']").addClass("e-disable-item"):e.filter("[ejfnrole='sortAsc']").removeClass("e-disable-item"),f.length&&f[0].direction=="descending"?e.filter("[ejfnrole='sortDesc']").addClass("e-disable-item"):e.filter("[ejfnrole ='sortDesc']").removeClass("e-disable-item")),u=r.find(".aschild"),this.cFilteredCols.length!=0&&n.inArray(this.fName,this.cFilteredCols)!=-1){for(i=0;i<this.filteredColumn.length;i++)if(this.filteredColumn[i].field==this.fName){u.find("#ejFiltercheck").length==0&&(u.append("<input type='checkbox' id='ejFiltercheck' />"),u.find("#ejFiltercheck").ejCheckBox({checked:!0}),u.find("#ejFiltercheck").ejCheckBox("disable"));r.find(".e-shadow .e-exceltick").length>0&&r.find(".e-shadow .e-exceltick").remove();this.filteredColumn[i].field!=this.fName||t.isNullOrUndefined(this.filteredColumn[i+1])||this.filteredColumn[i+1].field!=this.fName?r.find(".e-shadow .e-list[ejvalue="+this.filteredColumn[i].operator+"]").find("a").append("<span class='e-exceltick e-icon' />"):this.filteredColumn[i].operator=="greaterthanorequal"&&this.filteredColumn[i+1].operator=="lessthanorequal"?r.find(".e-shadow .e-list[ejvalue=between]").find("a").append("<span class='e-exceltick e-icon' />"):r.find(".e-shadow .e-list[ejvalue=customfilter]").find("a").append("<span class='e-exceltick e-icon' />");break}}else for(i=0;i<this.filteredColumn.length;i++)if(this.filteredColumn[i].field==this.fName){this._removeTick(r,u);break}this._isFiltered||u.find("#ejFiltercheck").length==0||this._removeTick(r,u);this._$colType=="boolean"&&this._menuWrap.find("li[aria-haspopup=true]").addClass("e-hide");this._searchBox.val("");this._searchBox.siblings().addClass("e-search").removeClass("e-cancel")},_removeTick:function(n,t){t.find("#ejFiltercheck").ejCheckBox("destroy");n.find(".aschild #ejFiltercheck").remove();n.find(".e-shadow .e-exceltick.e-icon").remove()},_createBtn:function(n){var i=n?this.id+this._$colType+"Custom":this.id+this._$colType,u=t.buildTag("div.e-btncontainer e-fields"),r=t.buildTag("div");return r.append(t.buildTag("input#"+i+"_OkBtn.e-fltrbtn",{},{},{type:"button"})).append(t.buildTag("input#"+i+"_CancelBtn.e-fltrbtn",{},{},{type:"button"})),u.append(r)},_menuHandler:function(t){var s=n(t.element),i=s.attr("ejfnrole"),r={},h,c,f,e,o,u;if(i==="filterbgcolor"||i==="filterfgcolor")h={field:this.fName,operation:i,color:n(t.element).css("background-color")},r={originalEvent:t.event,action:"filterbycolor",filterDetails:h,tableID:this._$tableID},this._isFiltered=!1;else if(i=="clearfilter")c={field:this.fName,operator:"",value:"",predicate:"or"},r={originalEvent:t.event,fieldName:this.fName,action:"clearfiltering",filterDetails:c,tableID:this._$tableID},f=n.inArray(this.fName,this.cFilteredCols),f!=-1&&this.cFilteredCols.splice(f,1),e=n.inArray(this.fName,this._columnsFiltered),e!=-1&&this._columnsFiltered.splice(e,1),this._initialFName==this.fName&&(this._initialFName=null);else{if(i=="popup"||i=="filterpopup")return;i=="operator"?this._openCustomFilter(s.attr("ejvalue")):i=="sortAsc"||i=="sortDesc"?(o=i=="sortAsc"?"ascending":"descending",u={field:this.fName,direction:o},r={originalEvent:t.event,action:"sorting",sortDetails:u,tableID:this._$tableID}):(u={field:this.fName,direction:o,operation:i,color:n(t.element).css("background-color")},r={originalEvent:t.event,action:"sortbycolor",sortDetails:u,tableID:this._$tableID})}i!="operator"&&(this._filterHandler(r),this.closeXFDialog())},_searchBoxFocus:function(t){var i=n(t.target);i.hasClass("e-cancel")&&(i.prev().val(""),i.next().addClass("e-cancel"),i.addClass("e-search"),i.prev().trigger("keyup"));t.type=="focusin"&&(i.next().addClass("e-cancel"),i.next().removeClass("e-search"))},_search:function(r){var e=r.target.value,u,o,f=n(r.target);(u=parseFloat(e)?parseFloat(e):e,o="contains",u=u==""||u==i?i:u,this._$colType=="boolean"&&(u!=i&&this.localizedLabels.True.toLocaleLowerCase().indexOf(u.toLowerCase())!=-1?u="true":u!=i&&this.localizedLabels.False.toLocaleLowerCase().indexOf(u.toLowerCase())!=-1&&(u="false")),this._$colType!="date"&&this._$colType!="datetime"||(u=t.parseDate(e,this.replacer(this._$format,/{0:|}/g,"")),o="equal",this._previousValue!=null||u!=null))&&(this._previousValue=u,this._processListData({type:"filterchoicesearch",value:u,operator:o,matchcase:["date","datetime"].indexOf(this._$colType)!=-1?!1:this._matchCase}),f.val()==""?(f.next().addClass("e-search"),f.next().removeClass("e-cancel")):(f.next().addClass("e-cancel"),f.next().removeClass("e-search")))},_getLocalizedLabel:function(){return t.getLocalizedConstants("ej.ExcelFilter",this._locale)},_getMenuData:function(n){return n!=i?this[n+"MenuOpt"]:[]},_lsitBoxTemplate:function(){var i={},u={},r;i[this.id+"isNotBlank"]=t.proxy(this.isNotBlank,this);i[this.id+"checkBlank"]=t.proxy(this._checkBlank,this);i[this.id+"_getValueData"]=t.proxy(this._getValueData,this);i[this.id+"_checkBoxState"]=t.proxy(this._setCheckState,this);i[this.id+"_genId"]=this._genCheckID;n.views.helpers(i);r=this.id+this._$colType+"{{:~"+this.id+"_genId()}}";u[this.id+this._$colType+"_listBox_Template"]="{{if ~"+this.id+"checkBlank(key)}}<div class='e-ftrchk'><input type='checkbox' id='"+r+"' value='{{html:~"+this.id+"_getValueData(key, items)}}' class='e-ftrchk' {{:~"+this.id+"_checkBoxState(~"+this.id+"_getValueData(key, items))}}/><label class='e-ftrchk' for='"+r+"'>{{if ~"+this.id+"isNotBlank(key,'true')}} {{>key}} {{else}} (Blanks) {{/if}}<\/label><\/div>{{/if}}";n.templates(u)},_processListData:function(n){var u,r={},e=new t.Query,c={},v,h,y,s;this._searchCount=0;var p=this._predicates[this._$key],o,f=null,l=null,a=null,s=null;t.isNullOrUndefined(this._$foreignField&&this._$foreignData)?(f=this._dataSource,l=this.fName,a=this._localJSON):(f=a=this._$foreignData,this._dataSource instanceof t.DataManager&&(f=t.DataManager(f)),l=this._$foreignField);for(v in p)v!=this.fName&&(h=p[v],y=h.from,y?e.skip(y=="top"?0:f.length-(f.length-h.take)).take(h.take):o=o!=i?o.and(h):h);(r.columnName=l,e.requiresCount(),o&&e.where(o),c.requestType=n?n.type:"filterchoicerequest",c.filterModel=this,c.query=e,c.dataSource=f,this._ctrlInstance._trigger(this._onActionBegin,c))||(n&&n.type=="filterchoicesearch"?(n.value&&e.where(l,n.operator,n.value,!n.matchcase),u=t.DataManager(a).executeLocal(e),r.data=this._currentData=u.result,r.type=n.type,this._totalRcrd=this._searchCount=u.count,this._setCheckBoxList(r)):this._dataSource instanceof t.DataManager?(proxy=this,r.type="filterchoicerequest",this._listsWrap.ejWaitingPopup("show"),this._reqInProgess||(this._reqInProgess=!0,this._$foreignField&&o&&(f=this._dataSource),u=f.executeQuery(e),u.done(function(n){s=proxy._$foreignField&&o?proxy._filterForeignData(n.result):n.result;r.data=proxy._localJSON=proxy._currentData=s;proxy._totalRcrd=n.count;proxy._listsWrap.ejWaitingPopup("hide");proxy._setCheckBoxList(r);proxy._reqInProgess=!1}))):(s=[],u=t.DataManager(this._dataSource).executeLocal(e),r.type="filterchoicerequest",s=this._$foreignField?this._filterForeignData(u.result):u.result,r.data=this._localJSON=this._currentData=s,this._totalRcrd=u.count,this._setCheckBoxList(r)))},_filterForeignData:function(n){var i=[],r=this,u=t.distinct(t.DataManager(n).executeLocal(t.Query().select(this.fName)));return u.forEach(function(n){i.push(t.DataManager(r._$foreignData).executeLocal(t.Query().where(r._$foreignKey,"equal",n))[0])}),i},_setCheckBoxList:function(i){var r={},u,e,o=this._blanks,f;r.requestType=i.type;r.dataSource=this._dataSource;r.filterModel=this;this._currentData.length!=0?(u=this.getDistinct(i.data,i.columnName,!0),e=this._isFiltered,this._actualCount=u.length,u.length=this._maxCount>this._actualCount?this._actualCount:this._maxCount,this._filterdCol=t.DataManager(this.filteredColumn).executeLocal(t.Query().where("field","equal",this.fName)),this._filterdColCheck=t.DataManager(this._filterdCol).executeLocal(t.Query().where("operator","notequal","equal")).length>0?!1:!0,this._listsWrap.find("div:first").html([this._selectAll,n.render[this.id+this._$colType+"_listBox_Template"](u),this._addAtLast?this.replacer(o,/@@/g,this._setCheckState,this._empties.join(this._spliter)):""].join("")),this._chkList=this._listsWrap.find("input:checkbox").not(".e-selectall"),$inView=this._chkList.slice(0,20),$inView.ejCheckBox({change:t.proxy(this._checkHandler,this)}),$inView.siblings().height(14).width(14),this._listsWrap.find(".e-selectall").ejCheckBox({change:t.proxy(this._selectAllHandler,this),enableTriState:this._interDeterminateState}),this._listsWrap.find(".e-selectall").attr("id",this.id+this._$colType+"SelectAll"),this._listsWrap.find(".e-selectall").siblings().height(14).width(14),this._listsWrap.find(".e-selectall").closest("span").siblings("label").attr("for",this.id+this._$colType+"SelectAll")):this._listsWrap.find("div:first").html(t.buildTag("div.e-ftrchk",this.localizedLabels.NoResult,{},{}));t.isNullOrUndefined(this._chkList)||(f=this._chkList.filter(":checked").length);this._isFiltered&&this._actualCount!=f?f>0&&this._interDeterminateState&&this._listsWrap.find(".e-selectall").ejCheckBox("model.checkState","indeterminate"):this._listsWrap.find(".e-selectall").ejCheckBox({checked:!0});n("#"+this.id+this._$colType+"_OkBtn").ejButton({enabled:f!=0});this._listsWrap.ejScroller({scrollTop:0}).ejScroller("refresh");this._ctrlInstance._trigger(this._onActionComplete,r)},_createLiTag:function(r,u,f){return proxy=this,n.each(u,function(u,e){var s=t.buildTag("li",{},{},e.htmlAttribute||f&&{ejfnrole:"operator",ejvalue:e.value}||{}),h,c=f&&n.inArray(e.value,proxy._noDlg)==-1?"...":"",o=t.buildTag("a",e.text+c,{},{});e.sprite!=i&&o.append(t.buildTag("span",{},{},{"class":e.sprite}));e.child!=i&&(h=e.id!=3&&e.id!=5?proxy._createLiTag(t.buildTag("ul.e-shadow"),e.child,!0):e.id===3?proxy._createDivTag(t.buildTag("ul.e-shadow"),e.child,!0,"sort"):proxy._createDivTag(t.buildTag("ul.e-shadow"),e.child,!0,"filter"));e.child==i?r.append(s.append(o)):r.append(s.append(o).append(h));n.inArray(e.value||e.htmlAttribute&&e.htmlAttribute.ejfnrole,proxy._sepAftr)!=-1&&r.append(t.buildTag("li.e-separator"))}),r},_createDivTag:function(n,i,r,u){var e,l,s=[],h=[],c=!1,a="",v="",y="",p="",w="",b="",o,f;if(u=="sort"?(a=this.localizedLabels.SortByCellColor,v=this.localizedLabels.SortByFontColor):(a=this.localizedLabels.FilterByCellColor,v=this.localizedLabels.FilterByFontColor),y=u+"colorhdr",w=u+"fonthdr",p=u+"bgcolor",b=u+"fgcolor",n.length>0&&n.children().remove(),i.length>0){for(f=0;f<i.length;f++){for(o=0;o<s.length;o++)if(s[o]==i[f].background){c=!0;break}for(c||t.isNullOrUndefined(i[f].background)||i[f].background.startsWith("#6n")||s.push(i[f].background),c=!1,o=0;o<h.length;o++)if(h[o]==i[f].foreground){c=!0;break}c||t.isNullOrUndefined(i[f].foreground)||i[f].foreground.startsWith("#6n")||h.push(i[f].foreground);c=!1}if(s.length>0)for(e=t.buildTag("li.e-list e-bghdrcolor","","",{ejfnrole:y}),l=t.buildTag("a",a,{}),e.append(l),n.append(e),f=0;f<s.length;f++)e=t.buildTag("li.e-list e-valcolor",{},{"background-color":s[f]},{ejfnrole:p}),n.append(e);if(h.length>0)for(e=t.buildTag("li.e-list e-fghdrcolor","","",{ejfnrole:w}),l=t.buildTag("a",v,{}),e.append(l),n.append(e),f=0;f<h.length;f++)e=t.buildTag("li.e-list e-valcolor",{},{"background-color":h[f]},{ejfnrole:b}),n.append(e);s.length<1&&h.length<1?n.parent().addClass("e-disable-item"):n.parent().removeClass("e-disable-item")}else n.parent().addClass("e-disable-item");return n},_setCheckState:function(n){var i=n,f=n.split(this._spliter),e=f.length,r,o,u;if(!this._isFiltered||this._searchCount)return"checked";if(!this._filterdColCheck)return"";while(e--)if(i=this.processValue(f[e]),this._$foreignField&&(i=this._getForeignFilterData(i)),this._$colType=="date"||this._$colType=="datetime"||this._$colType=="boolean"){for(r=0,o=this._filterdCol.length;r<o;r++)if((this._$colType!="boolean"||i===this._filterdCol[r].value)&&(this._$colType!="date"&&this._$colType!="datetime"||this._dateComparer(i,this._filterdCol[r].value)))return this._filterdCol[r].isCustom===!0?"":"checked"}else if(u=t.DataManager(this._filterdCol).executeLocal(t.Query().where("value","equal",i).where("operator","equal","equal")),u.length!=0)return u[0].operator=="equal"&&u[0].isCustom==!0&&this._ctrlInstance.model.currentViewData.length>0?"checked":u[0].isCustom===!0?"":"checked"},_genCheckID:function(){return"CheckBox"+this.getIndex()},_formatting:function(n,t){if(this._$colType=="date"&&n==""&&(n="{0:MM/dd/yyyy hh:mm:ss}"),this._$colType=="boolean")return t===""?"":this.localizedLabels[t==!0?"True":t==!1?"False":""];if(this._formatFiltering||this._$colType=="date"){var i=this._ctrlInstance.formatting;return n!=""?i(n,t):t}},_dateComparer:function(n,t){return+n==+t},_updateDateFilter:function(n){return n.type!="date"&&!(n.value instanceof Date)?n:(n.value=n.value instanceof Date?n.value:t.parseJSON({val:n.value}).val,["equal","notequal"].indexOf(n.operator)==-1?n:this._setDateObject(n))},_checkHandler:function(t){n("#"+t.model.id).prop("checked",t.isChecked);var f=this._listsWrap.find("input").filter(":checked:not(.e-selectall)"),r=f.length,i=this._listsWrap.find(".e-selectall"),u;r==this._chkList.length?(i.prop("checked",!0),u=!0):r!=0&&this._interDeterminateState?i.ejCheckBox("model.checkState","indeterminate"):(i.removeProp("checked"),u=!1);i.ejCheckBox({checked:u});n("#"+this.id+this._$colType+"_OkBtn").ejButton({enabled:r!=0})},_selectAllHandler:function(t){t.checkState=="check"?(this._chkList.filter(":not(:checked)").ejCheckBox({checked:t.isChecked}),this._chkList.prop("checked",!0)):t.checkState=="uncheck"&&(this._chkList.filter(function(){if(n(this).hasClass("e-checkbox")&&n(this).prop("checked"))return this}).ejCheckBox({checked:t.isChecked}),this._chkList.removeProp("checked"),this._chkList.removeAttr("checked"));n("#"+this.id+this._$colType+"_OkBtn").ejButton({enabled:t.isChecked})},_renderCustomFDlg:function(i){var u=this.id+i+"_CustomFDlg",r;n("#"+u).length||(r=t.buildTag("div#"+u+".e-excelfilter e-dlgcustom"),r.addClass(this._cssClass),this._renderCDlgContent(r,i),r.ejDialog({showOnInit:!1,enableResize:!1,enableModal:!0,allowKeyboardNavigation:!1,title:this._title,width:370,content:"#"+this.id,enableRTL:this._ctrlInstance.model.enableRTL,closeIconTooltip:"Close"}),this._ctrlInstance.sfType=="ej.Grid"&&r.ejDialog({position:{Y:this._ctrlInstance._gridContentTable.offset().top}}),r.ejDialog("refresh"))},_renderCDlgContent:function(i,r){var k=t.buildTag("div.e-dlgfields","Show rows where",{},{}),u=this.id+this._$colType,l=t.buildTag("fieldset.e-fieldset"),a=t.buildTag("tr.e-fields"),v=t.buildTag("tr.e-fields"),y=t.buildTag("tr.e-fields e-top"),f=t.buildTag("input#"+u+"_CustomDrop1"),e=t.buildTag("input#"+u+"_CustomDrop2"),d=t.buildTag("input#"+u+"_CustomDrop3"),o=t.buildTag("input#"+u+"_CustomValue1.e-ejinputtext e-excustmfltr",{},{},{type:"text"}),s=t.buildTag("input#"+u+"_CustomValue2.e-ejinputtext e-excustmfltr",{},{},{type:"text"}),g=t.buildTag("input#"+u+"_CustomValue3.e-ejinputtext e-excustmfltr",{},{},{type:"text"}),c=t.buildTag("tr.e-predicate"),p=t.buildTag("input#"+u+"_CustomAndPredicate",{},{},{type:"radio",name:"predicate",value:"and"}),w=t.buildTag("input#"+u+"_CustomOrPredicate",{},{},{type:"radio",name:"predicate",value:"or"}),b=t.buildTag("input#"+u+"_CustomMatchPredicate",{},{},{type:"checkbox"}),h,nt;i.append(k);h=t.buildTag("table.e-optable");a.append(t.buildTag("td.e-operator").append(f)).append(t.buildTag("td.e-value").append(o));c.append(t.buildTag("td",{},{},{}).append(p).append(t.buildTag("label.e-caption",this.localizedLabels.PredicateAnd,{},{"for":u+"_CustomAndPredicate"})).append(w).append(t.buildTag("label.e-caption",this.localizedLabels.PredicateOr,{},{"for":u+"_CustomOrPredicate"})));v.append(t.buildTag("td.e-operator").append(e)).append(t.buildTag("td.e-value").append(s));h.append(a).append(c).append(v);r=="string"&&c.append(t.buildTag("td",{},{},{}).append(b).append(t.buildTag("label.e-caption",this.localizedLabels.MatchCase,{},{"for":u+"_CustomMatchPredicate"})));(r=="number"||r=="guid")&&(y.append(t.buildTag("td.e-operator").append(d)).append(t.buildTag("td.e-value").append(g)),h.append(y));l.append(t.buildTag("legend")).append(h);i.append(t.buildTag("div.e-dlgfields").append(l));i.append(t.buildTag("div.e-dlgfields").append(this._createBtn(!0)));i.appendTo("body");nt=r.replace(r.charAt(0),r.charAt(0).toUpperCase());n([f,e]).ejDropDownList({fields:{text:"text",value:"value"},height:27,width:120,enableRTL:this._ctrlInstance.model.enableRTL});r=="number"?(n([f,e]).ejDropDownList({popupWidth:"170px"}),n([o,s]).ejNumericTextbox({showSpinButton:!1,height:"27px",width:"177px",enableRTL:this._ctrlInstance.model.enableRTL,focusOut:function(){this.model.decimalPlaces==0&&this.element.prev(".e-input").val(this.model.value)}})):r=="guid"?(n([f,e]).ejDropDownList({popupWidth:"170px"}),n(o).css({height:"22px",width:"175px"}),n(s).css({height:"22px",width:"177px"})):r=="date"?(n([f,e]).ejDropDownList({popupWidth:"170px"}),n([o,s]).ejDatePicker({cssClass:this._ctrlInstance.model.cssClass,height:"27px",width:"177px",enableRTL:this._ctrlInstance.model.enableRTL,watermarkText:this.localizedLabels.DatePickerWaterMark})):r=="string"&&n([o,s]).ejAutocomplete({cssClass:this._ctrlInstance.model.cssClass,enableRTL:this._ctrlInstance.model.enableRTL,enableDistinct:!0,width:"177px",height:"27px"});n([p,w]).ejRadioButton({cssClass:this._ctrlInstance.model.cssClass,enableRTL:this._ctrlInstance.model.enableRTL});b.ejCheckBox({});n("#"+u+"Custom_OkBtn").ejButton({text:this.localizedLabels.Ok,showRoundedCorner:!0,width:"23.6%",click:t.proxy(this._fltrBtnHandler,this),enabled:!0});n("#"+u+"Custom_CancelBtn").ejButton({text:this.localizedLabels.Cancel,showRoundedCorner:!0,width:"23.6%",click:t.proxy(this.closeXFDialog,this)})},_openCustomFilter:function(i){var o=i!="top10"?this._$colType:i,s=o.replace(o.charAt(0),o.charAt(0).toUpperCase()),r=this.id+this._$colType,h,f,e,c,l,u;(this.closeXFDialog(),this._openedFltr=n("#"+r+"_CustomFDlg"),u={requestType:"filterbeforeopen",filterModel:this,columnName:this.fName,columnType:this._$colType,isCustomFilter:!0},this._ctrlInstance._trigger(this._onActionBegin,u))||(this._openedFltr.ejDialog("open"),this._openedFltr.ejDialog({open:function(){n("#"+r+"_CustomValue1").hasClass("e-autocomplete")?n("#"+r+"_CustomValue1").focus():n("#"+r+"_CustomValue1").prev().focus()}}),this._openedFltr.find("legend").html(this._displayName),h=["Number","Date"].indexOf(s)!=-1?6:5,f=this.localizedLabels[s+"MenuOptions"].slice(0,h),f.unshift({text:"",value:""}),n("#"+r+"_CustomDrop1").ejDropDownList({dataSource:f}),n("#"+r+"_CustomDrop2").ejDropDownList({dataSource:f}),this._$colType=="number"?(e=0,i=="top10"?(this._openedFltr.find(".e-optable tr").not(".e-top").addClass("e-hide"),this._openedFltr.find(".e-optable tr.e-top").removeClass("e-hide"),n("#"+r+"_CustomDrop3").ejDropDownList({dataSource:this.localizedLabels[s+"MenuOptions"]})):(e=this._$format.length!=0?parseInt(this._$format.replace(/\D/g,"")):0,this._openedFltr.find(".e-optable tr.e-top").addClass("e-hide"),this._openedFltr.find(".e-optable tr").not(".e-top").removeClass("e-hide"),n("#"+r+"_CustomValue1").ejNumericTextbox("model.decimalPlaces",e),n("#"+r+"_CustomValue2").ejNumericTextbox("model.decimalPlaces",e))):(this._openedFltr.find(".e-optable tr.e-top").addClass("e-hide"),this._openedFltr.find(".e-optable tr").not(".e-top").removeClass("e-hide")),this._$colType=="string"&&(c=this._$foreignField?this._$foreignField:this.fName,l=this._$foreignData?this._$foreignData:this._dataSource,this._openedFltr.find(".e-autocomplete").ejAutocomplete({fields:{text:c},dataSource:l,focusIn:function(){var n=this.element.closest("td").siblings().find(".e-dropdownlist").ejDropDownList("getSelectedValue"),t=this.element.closest(".e-dialog-scroller").find(".e-checkbox").prop("checked");this.model.caseSensitiveSearch=t;this.model.filterType=n==""?this.model.filterType:n}})),["date","datetime"].indexOf(this._$colType)>-1&&this._$format!=""&&this._openedFltr.find(".e-datepicker").ejDatePicker({dateFormat:this._$format.replace(/{0:|}/g,function(){return""})}),this._setFilteredData(r,i),t.isNullOrUndefined(this._customFilterHandler)||this._customFilterHandler(),u={requestType:"filterafteropen",filterModel:this,columnName:this.fName,columnType:this._$colType,isCustomFilter:!0},this._ctrlInstance._trigger(this._onActionComplete,u))},_setFilteredData:function(r,u){var o=n.inArray(this.fName,this.cFilteredCols),e=[],v=[],s,f,h,a,p,w;if(u!="top10"){o!=-1&&(e=t.DataManager(this.filteredColumn).executeLocal(t.Query().where("field","equal",this.fName)));this._initialFName!=null&&this._initialFName==this.fName&&(e[0].isCustom=!0);s=e.length;var l=this._openedFltr.find(".e-dropdownlist"),c=this._openedFltr.find(".e-value input.e-ejinputtext.e-input"),y=this._openedFltr.find(".e-predicate");for(v=o!=-1&&s&&e[0].from!=i?[u,""]:u=="between"&&o!=-1&&s?[e[0].operator,t.isNullOrUndefined(e[1])?"":e[1].operator]:o!=-1&&s&&e[0].isCustom?[u!="customfilter"&&o!=-1?u:e[0].operator,u=="customfilter"&&e[1]?e[1].operator:""]:o==-1&&u=="customfilter"?["equal",""]:u=="between"||u=="customfilter"?u!="customfilter"?["greaterthanorequal","lessthanorequal"]:["",""]:[u,""],f=0;f<(o!=-1?s:2);f++)h=/\D*/.exec(v[f])[0],n(l[f]).prop("value",h),n(l[f]).ejDropDownList("setSelectedValue",h),n(l[f]).ejDropDownList({change:function(){this.element.closest(".e-fields").find(".e-autocomplete").val("")}}),a=o!=-1&&s&&e[f].isCustom&&(h==e[f].operator||h=="customfilter"||h=="between")?e[f].value:"",n(c[f]).hasClass("e-datepicker")?n("#"+c[f].id).ejDatePicker("model.value",o!=-1&&s&&e[f].isCustom?e[f].value:null):n(c[f]).hasClass("e-numerictextbox")?n("#"+c[f].id).ejNumericTextbox("model.value",a):n(c[f]).val(a),p=o!=-1&&s&&e[f].isCustom&&e[f].predicate!=i?e[f].predicate:"and",y.find("input[value="+p+"]").ejRadioButton({checked:!0}),this._$colType=="string"&&(w=o!=-1&&s&&e[f].isCustom?e[f].matchcase:this._matchCase,y.find("input[type='checkbox']").ejCheckBox({checked:w})),this._openedFltr.find(".e-value input:visible:eq(0)").select()}},_setDateObject:function(i){var f;if(i.value!=null){var u=n.extend(!0,{},i),r=n.extend(!0,{},i),e=new Date(u.value.setSeconds(u.value.getSeconds()-1)),o=new Date(r.value.setSeconds(r.value.getSeconds()+2));return u.value=e,r.value=o,i.value=new Date(i.value.setSeconds(r.value.getSeconds()-1)),i.operator=="equal"?(u.operator="greaterthan",u.predicate="and",r.operator="lessthan",r.predicate="and"):i.operator=="notequal"&&(u.operator="lessthanorequal",u.predicate="or",r.operator="greaterthanorequal",r.predicate="or"),f=t.Predicate(u.field,u.operator,u.value,!u.matchcase),f=f[r.predicate](r.field,r.operator,r.value,!r.matchcase),i.ejpredicate=f,i.type="date",i}return i},_getCDlgFields:function(){for(var t,i,c,l,e,s=this._openedFltr.find(".e-dropdownlist:visible"),u,a=this._openedFltr.find(".e-checkbox"),h=!0,f=[],o=this._openedFltr.find(".e-value input.e-ejinputtext.e-input"),v=this._openedFltr.find(".e-value input"),r=0,y=s.length;r<y;r++)if(t=n(s[r]).ejDropDownList("getSelectedValue"),this._$colType=="number"&&(i=parseFloat(o.eq(r).ejNumericTextbox("model.value"))),this._$colType=="guid"&&(i=v.eq(r).val()),this._$colType=="string"&&(i=o.eq(r).val(),h=a.is(":checked")),this._$colType=="date"&&(i=o.eq(r).ejDatePicker("model.value")),this._$foreignField&&(i=this._getForeignFilterData(i)),u={field:this.fName,predicate:this._openedFltr.find(".e-predicate input[type='radio']:checked").val(),matchcase:h,isCustom:!0},t=="top"||t=="bottom")f.push(n.extend(!0,{value:"",operator:"notequal",take:i,from:t},u));else if(t!="")this._empties.indexOf(i+"")>-1||this._$colType=="number"&&isNaN(i)?(c=this.iterateAndGetCollection(this._empties.join(this._spliter),n.extend({},u,{predicate:t.toLowerCase()==="notequal"?"and":"or",operator:t.toLowerCase()})),l=this.generatePredicate(c),f.push(n.extend({},u,{ejpredicate:l,operator:t.toLowerCase()}))):(e={},n.extend(!0,e,{value:i,operator:t.toLowerCase(),isCustom:!0},u),this._$colType=="date"&&(e.type="date"),f.push(this._$colType=="date"&&["equal","notequal"].indexOf(t.toLowerCase())!=-1?this._setDateObject(e):e));else return f;return f},_fltrBtnHandler:function(){var r=[],c={},o,s={},h,l,u,f,y;if(this._openedFltr.hasClass("e-dlgcustom"))r=this._getCDlgFields(),n.inArray(this.fName,this.cFilteredCols)==-1&&r[0]&&this.cFilteredCols.push(this.fName);else{if(!this._isFiltered&&this._listsWrap.find(".e-selectall").ejCheckBox("model.checked")&&this._searchCount==0)return this.closeXFDialog();var a=this._listsWrap.find("input").filter(":checked:not(.e-selectall)"),p=a.length,e,w=this._colType=="string"?"startswith":"equal",b=this._colType=="string"?this._matchCase:!0,v={field:this.fName,predicate:"or",operator:w,matchcase:b};for(h=0;h<p;h++){if(e=a[h].value,e==="null,undefined,"&&this._$blankVal===""&&(e=""),this.enableNormalize&&e.indexOf(this._spliter)!=-1){t.merge(r,this.iterateAndGetCollection(e,v));continue}e=this.processValue(e,this._$colType);this._$foreignField&&(e=this._getForeignFilterData(e));n.extend(!0,s,{value:e},v);r.push(this._$colType=="date"?this._setDateObject(s):s);s={}}l=n.inArray(this.fName,this.cFilteredCols);l!=-1&&this.cFilteredCols.splice(l,1)}if(u=r[0],!t.isNullOrUndefined(u)){for(isTake=u.from,o=u.ejpredicate?u.ejpredicate:t.Predicate(u.field,u.operator,u.value,!u.matchcase),f=1,y=r.length;f<y;f++)o=r[f].ejpredicate!=i?o[r[f].predicate](r[f].ejpredicate):o[r[f].predicate](r[f].field,r[f].operator,r[f].value,!r[f].matchcase);c={action:"filtering",filterCollection:r,fieldName:this.fName,ejpredicate:o,tableID:this._$tableID};this._predicates[this._$key]==i&&(this._predicates[this._$key]={});this._predicates[this._$key][this.fName]=isTake?{from:u.from,take:u.take}:o;this._openedFltr.hasClass("e-dlgcustom")||!this._listsWrap.find(".e-selectall").ejCheckBox("model.checked")||this._searchCount||n.inArray(this.fName,this._columnsFiltered)==-1||(c={action:"clearfiltering",filterDetails:{field:this.fName,operator:"",predicate:"or",value:""},fieldName:this.fName,tableID:this._$tableID});n.inArray(this.fName,this._columnsFiltered)==-1&&this._columnsFiltered.push(this.fName);this._filterHandler(c)}this.closeXFDialog()},_getForeignFilterData:function(n){return t.DataManager(this._$foreignData).executeLocal(t.Query().where(this._$foreignField,"equal",n).select(this._$foreignKey))[0]},getDistinct:function(n,i,r){for(var o={},s=n.length,h=[],f,u,e;s--;)f=n[s],u=t.getObject(i,f),e=u,this.enableNormalize&&(e=this._formatting(this._$format,u)),f.ejvalue=e,u in o||h.push(r?f:u),o[u]=!0;return t.group(t.mergeSort(h,i),"ejvalue")},iterateAndGetCollection:function(t,i){for(var u=t.split(this._spliter),f=u.length,e=[],r;f--;)r=this.processValue(u[f]),this._$foreignField&&(r=this._getForeignFilterData(r)),e.push(n.extend(!0,{value:r},i));return e},processValue:function(n,t){t=t||this._$colType;t=this._empties.indexOf(n)!=-1?"empty":t;switch(t){case"empty":n=n=="null"?null:n=="undefined"?i:"";break;case"date":case"datetime":n=new Date(n);break;case"number":n=+n;break;case"boolean":n=n==="true"?!0:!1}return n},replacer:function(n,t,i,r){return typeof i=="function"&&(i=i.call(this,r)),n.replace(t,i)},_virtualize:function(i){var f=n("#"+this.id+this._$colType+"_CheckBoxList").height(),r=this._chkList.not(".e-checkbox").filter(function(){if(this.offsetTop>i.scrollTop-this.offsetHeight&&i.scrollTop+f+70>this.offsetTop+this.offsetHeight)return this}),u;r.length!=0&&(r.filter(":checked").ejCheckBox({checked:!0}),r.filter(":not(:checked)").ejCheckBox({checked:!1}),r.ejCheckBox({change:t.proxy(this._checkHandler,this)}),u=this._listsWrap.ejScroller("instance"),u.refresh())},resetFilterModel:function(){this._blank=i;this._addAtLast=!1;this._isFiltered=!1;this._searchCount=0},resetExcelFilter:function(){var u,i,e=this.id,f,r,t;for(this._predicates=[],this.cFilteredCols=[],this.resetFilterModel(),u=0,f=this._posType.length;u<f;u++)i=this._posType[u],r=e+i,t=n("#"+r+"_CustomFDlg"),n("#"+r+"_CheckBoxList").ejWaitingPopup("destroy"),n("#"+r+"_excelDlg").remove(),t.find(".e-dropdownlist").ejDropDownList("destroy"),t.find(".e-button").ejButton("destroy"),(i=="string"||i=="boolean")&&t.find(".e-autocomplete").ejAutocomplete("destroy"),i=="number"&&t.find(".e-numerictextbox").ejNumericTextbox("destroy"),i=="date"&&t.find(".e-datepicker").ejDatePicker("destroy"),t.ejDialog("destroy"),n("#"+r+"_CustomFDlg").remove()},_wireEvents:function(){this._ctrlInstance._on(this._dialogContainer,"focus click",".e-searchbox",t.proxy(this._searchBoxFocus,this));this._ctrlInstance._on(this._dialogContainer,"keyup",".e-searchbox input",t.proxy(this._search,this))}};t.ExcelFilter.valueDelimiter="@|@";t.ExcelFilter.Locale=t.ExcelFilter.Locale||{};t.ExcelFilter.Locale["default"]=t.ExcelFilter.Locale["en-US"]={SortNoSmaller:"Sort Smallest to Largest",SortNoLarger:"Sort Largest to Smallest",SortTextAscending:"Sort A to Z",SortTextDescending:"Sort Z to A",SortDateOldest:"Sort by Oldest",SortDateNewest:"Sort by Newest",SortByColor:"Sort By Color",SortByCellColor:"Sort by Cell Color",SortByFontColor:"Sort by Font Color",FilterByColor:"Filter By Color",CustomSort:"Custom Sort",FilterByCellColor:"Filter by Cell Color",FilterByFontColor:"Filter by Font Color",ClearFilter:"Clear Filter",NumberFilter:"Number Filters",GuidFilter:"Guid Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",SelectAll:"Select All",Blanks:"Blanks",StringMenuOptions:[{text:"Equal",value:"equal"},{text:"Not Equal",value:"notequal"},{text:"Starts With",value:"startswith"},{text:"Ends With",value:"endswith"},{text:"Contains",value:"contains"},{text:"Custom Filter",value:"customfilter"}],NumberMenuOptions:[{text:"Equal",value:"equal"},{text:"Not Equal",value:"notequal"},{text:"Less Than",value:"lessthan"},{text:"Less Than Or Equal",value:"lessthanorequal"},{text:"Greater Than",value:"greaterthan"},{text:"Greater Than Or Equal",value:"greaterthanorequal"},{text:"Between",value:"between"},{text:"Custom Filter",value:"customfilter"}],GuidMenuOptions:[{text:"Equal",value:"equal"},{text:"Not Equal",value:"notequal"},{text:"Custom Filter",value:"customfilter"}],DateMenuOptions:[{text:"Equal",value:"equal"},{text:"Not Equal",value:"notequal"},{text:"Less Than",value:"lessthan"},{text:"Less Than Or Equal",value:"lessthanorequal"},{text:"Greater Than",value:"greaterthan"},{text:"Greater Than Or Equal",value:"greaterthanorequal"},{text:"Between",value:"between"},{text:"Custom Filter",value:"customfilter"}],Top10MenuOptions:[{text:"Top",value:"top"},{text:"Bottom",value:"bottom"}],title:"Custom Filter",PredicateAnd:"AND",PredicateOr:"OR",Ok:"OK",MatchCase:"Match Case",Cancel:"Cancel",NoResult:"No Matches Found",CheckBoxStatusMsg:"Not all items showing",DatePickerWaterMark:"Select date",True:"true",False:"false"}})(jQuery,Syncfusion)});