/*!
*  filename: ej.tooltip.min.js
*  version : 14.2.0.26
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){"use strict";var n=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},t=function(t){function i(n,i){return t.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover"},this.isTrack=!0,this.arrowValue={left:0,top:0,width:0,height:0,transform:null,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos=null,this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{});this.tooltipHeader=ej.buildTag("div"," ",{},{});$(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},n&&(n.jquery||(n=$("#"+n)),n.length)?$(n).ejTooltip(i).data(this.PluginName):void 0}return n(i,t),i.prototype.setModel=function(n,t){this.setModel(n,t)},i.prototype.option=function(n,t){this.option(n,t)},i.prototype.triggerEvents=function(n,t){var i,r,u,f,e,o,s;switch(n){case"click":r=t;i=this._trigger(n,r);break;case"hover":u=t;i=this._trigger(n,u);break;case"tracking":f=t;i=this._trigger(n,f);break;case"beforeOpen":e=t;i=this._trigger(n,e);break;case"open":o=t;i=this._trigger(n,o);break;case"beforeClose":case"close":s=t;i=this._trigger(n,s)}return i},i.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},i.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},i.prototype.show=function(n,t){if(this.model.enabled){if(ej.isNullOrUndefined(n)){var i=this.model.target==null?this.element:$(this.element).find(this.model.target+":first");this._positionElement(i)}else this._positionElement(n);ej.isNullOrUndefined(t)?this._showTooltip():typeof t=="string"?$(this.tooltip).show(t):typeof t=="function"&&t.call.apply(this.tooltip)}},i.prototype.hide=function(n){this.model.enabled&&(ej.isNullOrUndefined(n)?this._hideTooltip():typeof n=="string"?$(this.tooltip).hide(n):typeof n=="function"&&n.call.apply(this.tooltip))},i.prototype._destroy=function(){$(this.tooltip).remove()},i.prototype._setModel=function(n){var t,i;for(t in n)switch(t){case"height":this._setHeight(n[t]);break;case"width":this._setWidth(n[t]);break;case"enabled":this._enabled(n[t]);break;case"content":this._setContent(n[t]);break;case"title":this.model.title=n[t];this.model.title==null?($(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():$(this.tooltipTitle).html(this.model.title);this.tooltipPos.height=$(this.tooltip).outerHeight();break;case"associate":this.model.associate=n[t];this._wireMouseEvents(!1);this._wireMouseEvents(!0);break;case"position":this._setPosition(n[t]);break;case"collision":this.model.collision=n[t];break;case"closeMode":typeof n[t]!="undefined"&&(this.model.closeMode=n[t],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():($(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=$(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(n[t]);break;case"showShadow":this._shadowEffect(n[t],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(n[t])||(this.model.isBalloon=n[t],this.model.isBalloon?this._renderArrow():($(this.tip).remove(),this.tip=null));break;case"animation":i=n[t];this.model.animation=$.extend(!0,this.model.animation,i);this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off($(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on($(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on($(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(n[t]);break;case"target":this._wireTriggerEvents(!1);this.model.target=n[t];this._wireTriggerEvents(!0);this._renderTarget();break;case"trigger":this._setTrigger(n[t]);break;case"showRoundedCorner":this.model.showRoundedCorner=n[t];this._roundedCorner(n[t]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=n[t];this.model.allowKeyboardNavigation?this._on($(window),"keydown",this._keyDown):this._off($(window),"keydown",this._keyDown)}},i.prototype._enabled=function(n){n?this.enable(n):this.disable(n);this.model.enabled=n},i.prototype._shadowEffect=function(n,t){this.model.showShadow=n;var i=null;if($(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){switch(t.stem.horizontal){case"center":i=t.stem.vertical=="top"?"e-tooltipShadowLeft":t.stem.vertical=="bottom"?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":i=t.target.horizontal=="center"&&t.stem.vertical=="top"?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":i=t.target.horizontal=="center"&&t.stem.vertical=="bottom"?"e-tooltipShadowRight":"e-tooltipShadowLeft"}$(this.tooltip).addClass(i)}},i.prototype._setContent=function(n){this.model.content=n;$(this.tooltipContent).html(this.model.content);this.tooltipPos.height=$(this.tooltip).outerHeight();this.tooltipPos.width=$(this.tooltip).outerWidth()},i.prototype._setPosition=function(n){this.model.position.stem=$.extend(!0,this.model.position.stem,n.stem);this.model.position.target=$.extend(!0,this.model.position.target,n.target)},i.prototype._setTrigger=function(n){this._wireTriggerEvents(!1);this.model.trigger=n;this._wireTriggerEvents(!0)},i.prototype._init=function(){this.id=this.element[0].id;this.positionTarget=$.extend(!0,{},this.model.position.target);this.positionTooltip=$.extend(!0,{},this.model.position.stem);this.tipSize=$.extend(!0,{},this.model.tip.size);this._initialize();this._render();this.enable(this.model.enabled);this._wireEvents(!0)},i.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},i.prototype._wireEvents=function(n){var t=n?"_on":"_off";this._wireTriggerEvents(n);this.model.target!=null?this[t](this.element,"mouseleave",this.model.target,this._onMouseOut):this[t](this.element,"mouseleave",this._onMouseOut);this.model.allowKeyboardNavigation&&this[t]($(window),"keydown",this._keyDown);this.model.target!=null?this[t](this.element,"scroll",this.model.target,this._hideTooltip):this[t](this.element,"scroll",this._hideTooltip);this[t]($(this.tooltip),"mouseenter",this._onTooltipMouseEnter);this[t]($(this.tooltip),"mouseleave",this._onTooltipMouseLeave);this[t]($(window),"resize",this._hideTooltip)},i.prototype._wireTriggerEvents=function(n){var t=n?"_on":"_off",i;this._wireMouseEvents(n);i=this.model.trigger==ej.Tooltip.Trigger.Click?"click tap":this.model.trigger==ej.Tooltip.Trigger.Focus?"focus tap":"mouseenter tap";this.model.target!=null?this[t](this.element,i,this.model.target,this._targetHover):this[t](this.element,i,this._targetHover);this.model.trigger==ej.Tooltip.Trigger.Focus&&(this.model.target!=null?this[t](this.element,"blur",this.model.target,this._hideTooltip):this[t](this.element,"blur",this._hideTooltip))},i.prototype._wireMouseEvents=function(n){var t=n?"_on":"_off";(this.model.associate==ej.Tooltip.Associate.MouseEnter||this.model.associate==ej.Tooltip.Associate.MouseFollow)&&(this.model.target!=null?this[t](this.element,"mousemove tap",this.model.target,this._tooltipMove):this[t](this.element,"mousemove tap",this._tooltipMove))},i.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"});this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{});this.tooltip.append(this.tooltipInter);this.model.isBalloon&&this._renderArrow();$(this.model.containment).append(this.tooltip);this._setHeight(this.model.height);this._setWidth(this.model.width);this._createHeader();this._tooltipContent();this.model.cssClass&&this._setSkin(this.model.cssClass);this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner);this.model.enableRTL&&this._setRTL(this.model.enableRTL);$(this.tooltip).css({top:"auto",left:"auto"});this.tooltipPos={width:$(this.tooltip).outerWidth(),height:$(this.tooltip).outerHeight(),left:$(this.tooltip).offset().left,top:$(this.tooltip).offset().top,position:"absolute"};this._positionElement(this.element)},i.prototype._setHeight=function(n){this.model.height=n;!isNaN(+n)&&isFinite(n)?$(this.tooltip).css("height",n+"px"):$(this.tooltip).css("height",n);this.tooltipPos.height=$(this.tooltip).outerHeight()},i.prototype._setWidth=function(n){this.model.width=n;this.model.width!="auto"&&(n=!isNaN(+n)&&isFinite(n)?n+"px":n,$(this.tooltip).css("max-width",n),$(this.tooltip).css("min-width","0px"));$(this.tooltip).css("width",n);this.tooltipPos.height=$(this.tooltip).outerHeight()},i.prototype._setRTL=function(n){this.model.enableRTL=n;n?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},i.prototype._setSkin=function(n){this.model.cssClass!=n&&(this.tooltip.removeClass(this.model.cssClass).addClass(n),this.model.cssClass=n)},i.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},i.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),$(this.tip).append("<div class='e-arrowTipOuter'><\/div>").append("<div class='e-arrowTipInner'><\/div>"),$(this.tip).insertBefore(this.tooltipInter))},i.prototype._adjustArrow=function(n){var i,r,u,e=$(this.tooltip).width(),f=$(this.tooltip).height(),t=n.stem,o=n.target;o.horizontal=="right"||o.horizontal=="left"?(u=t.horizontal=="left"?"rotate(90deg)":t.horizontal=="right"?"rotate(270deg)":t.vertical=="top"?"rotate(180deg)":t.vertical=="bottom"?"rotate(0deg)":"none",i=t.horizontal=="left"?-(this.tipSize.width/2+this.tipSize.height/2):t.horizontal=="right"?e-this.tipSize.height/2:this.tooltipPos.width/2-this.tipSize.width/2,r=t.horizontal!="center"?t.vertical=="top"?5:t.vertical=="center"?f/2-this.tipSize.height/2:f-5-this.tipSize.height:t.vertical=="top"?-this.tipSize.height:t.vertical=="bottom"?f:this.tooltipPos.height/2+this.tipSize.height/2-this.tipSize.width/2):(u=t.vertical=="top"?"rotate(180deg)":t.vertical=="bottom"?"rotate(0deg)":t.horizontal=="left"?"rotate(90deg)":t.horizontal=="right"?"rotate(270deg)":"none",r=t.vertical=="top"?-this.tipSize.height:t.vertical=="bottom"?f:this.tooltipPos.height/2+this.tipSize.height/2-this.tipSize.width/2,i=t.vertical=="center"?t.horizontal=="left"?-(this.tipSize.width/2+this.tipSize.height/2):e-this.tipSize.height/2:t.horizontal=="left"?10:t.horizontal=="center"?this.tooltipPos.width/2-this.tipSize.width/2:this.tooltipPos.width-10-this.tipSize.width);this.arrowValue.left=i;this.arrowValue.top=r;t.horizontal=="center"&&t.vertical=="center"?$(this.tip).css({left:i+"px",top:r+"px",transform:u,display:"none",height:this.model.tip.size.height+"px",width:this.model.tip.size.width+"px"}):$(this.tip).css({left:i+"px",top:r+"px",transform:u,display:"block",height:this.model.tip.size.height+"px",width:this.model.tip.size.width+"px"})},i.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||$(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),this.model.title!=null?$(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):$(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on($(this.tooltipClose),"click",this._hideTooltip))},i.prototype._renderTarget=function(){this.targetElement=$(this.element).find(this.model.target);for(var n=0;n<this.targetElement.length;n++)ej.isNullOrUndefined($(this.targetElement[n]).attr("title"))||(this.targetElement[n].setAttribute("data-content",this.targetElement[n].title),this.targetElement[n].removeAttribute("title"))},i.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"});$(this.tooltipContent).html(this.model.content).addClass("e-def");this.model.title!=null?$(this.tooltipContent).insertAfter(this.tooltipHeader):$(this.tooltipContent).appendTo(this.tooltipInter)},i.prototype._positionElement=function(n){this.tooltipPos.width=$(this.tooltip).outerWidth();this.tooltipPos.height=$(this.tooltip).outerHeight();this.containerSize={height:this.model.containment=="body"?$(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:$(this.model.containment).outerHeight(),width:this.model.containment=="body"?$(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:$(this.model.containment).outerWidth()};this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(n,this.model.position);this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(n,this.model.position)},i.prototype._browserPosition=function(){var t=$.extend(!0,{},this.model.position),n={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"});this.model.position.target.horizontal=="right"?n.right=0:n.left=this.model.position.target.horizontal=="left"?0:this.containerSize.width/2-this.tooltipPos.width/2;this.model.position.target.vertical=="top"?n.top=0:this.model.position.target.vertical=="center"?n.top=this.containerSize.height/2-this.tooltipPos.height/2:n.bottom=0;this.model.showShadow&&(t.stem.horizontal=t.stem.vertical="center",this._shadowEffect(this.model.showShadow,t));$(this.tooltip).css(n)},i.prototype._tooltipMove=function(n){if(this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled){var t=this;this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(n):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){t.isTrack&&t._mousePosition(n)},300))}},i.prototype._mousePosition=function(n){this.isCollision=!0;var f=0,e=0,r=0,i={left:n.pageX,top:n.pageY},t=$.extend(!0,{},this.model.position.stem),u=$.extend(!0,{},this.model.position);for(u.target.horizontal=u.target.horizontal="center";this.isCollision;){var i={left:n.pageX,top:n.pageY},s=this.model.isBalloon?t.vertical=="top"||t.vertical=="bottom"?5+this.tipSize.height/2:0:0,o=this.model.isBalloon?t.horizontal=="right"||t.horizontal=="left"?10+this.tipSize.width/2:0:0;if(f=this.model.tip.adjust.xValue!=0?this.model.tip.adjust.xValue:7,e=this.model.tip.adjust.yValue!=0?this.model.tip.adjust.yValue:10,r=this.model.isBalloon?t.horizontal!="center"?this.model.tip.size.height:t.vertical!="center"?this.model.tip.size.height:0:2,i.left+=t.horizontal=="right"?-this.tooltipPos.width:t.horizontal=="left"?0:-(this.tooltipPos.width/2),i.top+=t.vertical=="bottom"?-this.tooltipPos.height:t.vertical=="top"?0:-(this.tooltipPos.height/2),i.left+=t.vertical!="center"?t.horizontal=="right"?o:t.horizontal=="left"?-o:0:0,i.left+=t.vertical=="center"?t.horizontal=="right"?-r:t.horizontal=="left"?+(r+f):0:0,i.top+=t.vertical=="top"?+(r+e):t.vertical=="bottom"?-r:0,this.targetElement!=n.target&&(this.targetElement=n.target,(i.left<0||i.left+this.tooltipPos.width>this.containerSize.width)&&(this.positionTooltip.horizontal=i.left>=this.tooltipPos.width?"right":this.containerSize.width-i.left>=this.tooltipPos.width?"left":"center"),(i.top<0||i.top+this.tooltipPos.height>this.containerSize.height)&&(this.positionTooltip.vertical=i.top>=this.tooltipPos.height?"bottom":this.containerSize.height-i.top>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=t.horizontal||this.positionTooltip.vertical!=t.vertical)this.isCollision=!0,t=$.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,$(this.tooltip).css({top:i.top+"px",left:i.left+"px",position:"absolute",right:"auto",bottom:"auto"}),u.stem=$.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,u),this.model.isBalloon&&this._adjustArrow(u),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:n}))return}},i.prototype._axisPosition=function(){var n=$.extend(!0,{},this.model.position),r,u,t,i;typeof this.model.position.target.horizontal=="number"&&(r=this.model.position.target.horizontal.toString());typeof this.model.position.target.vertical=="number"&&(u=this.model.position.target.vertical.toString());t=parseInt(r);i=parseInt(u);ej.isNullOrUndefined(this.tip)||$(this.tip).css({display:"none"});this.model.showShadow&&(n.stem.horizontal=n.stem.vertical="center",this._shadowEffect(this.model.showShadow,n));isFinite(t)&&isFinite(i)&&$(this.tooltip).css({top:i,left:t,position:"absolute"})},i.prototype._tooltipPosition=function(n,t){this.targetPos={width:$(n).outerWidth(),height:$(n).outerHeight(),left:$(n).offset().left,top:$(n).offset().top,position:"absolute"};var u=0,e=0,h=0,i=$.extend(!0,{},t.stem),f=$.extend(!0,{},t.target),r=$.extend(!0,{},this.targetPos),o=i.vertical==="top"||i.vertical==="bottom"?5+this.tipSize.height/2:0,s=i.horizontal==="right"||i.horizontal==="left"?10+this.tipSize.width/2:0,e=i.horizontal!=="center"?this.model.tip.adjust.xValue:i.vertical!=="center"?this.model.tip.adjust.yValue:0;u=this.model.isBalloon?i.horizontal!=="center"?this.model.tip.size.height:i.vertical!=="center"?this.model.tip.size.height:0:2;h=this.model.isBalloon?u+e:e;r.left+=f.horizontal==="right"?this.targetPos.width:f.horizontal==="left"?0:this.targetPos.width/2;r.top+=f.vertical==="bottom"?this.targetPos.height:f.vertical==="top"?0:this.targetPos.height/2;r.left+=i.horizontal==="right"?-this.tooltipPos.width:i.horizontal==="left"?0:-(this.tooltipPos.width/2);r.top+=i.vertical==="bottom"?-this.tooltipPos.height:i.vertical==="top"?0:-(this.tooltipPos.height/2);r.left+=f.horizontal!=="center"?i.horizontal==="right"?-u:i.horizontal==="left"?u:0:i.vertical==="center"?i.horizontal==="right"?-u:i.horizontal==="left"?u:0:0;r.top+=f.horizontal==="center"?i.vertical==="bottom"?-u:i.vertical==="top"?u:0:i.horizontal==="center"?i.vertical==="bottom"?-u:i.vertical==="top"?u:0:0;r.left+=f.horizontal==="center"&&i.vertical!=="center"?i.horizontal==="right"?s:i.horizontal==="left"?-s:0:0;r.top+=f.horizontal!=="center"&&i.horizontal!=="center"?i.vertical==="top"?-o:i.vertical==="bottom"?o:0:0;this.tooltipPos.left=r.left;this.tooltipPos.top=r.top;this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(t),this._shadowEffect(this.model.showShadow,t),$(this.tooltip).css({top:r.top+"px",left:r.left+"px",position:"absolute"}))},i.prototype._calcCollision=function(n,t){var t=$.extend(!0,{},t),i=$.extend(!0,{},t),f=this.model.tip.size.height,r=!0,u={topSpace:parseInt(this.targetPos.top.toString()),rightSpace:this.containerSize.width-(parseInt(this.targetPos.left.toString())+this.targetPos.width),bottomSpace:this.containerSize.height-(parseInt(this.targetPos.top.toString())+this.targetPos.height),leftSpace:parseInt(this.targetPos.left.toString()),centerRight:this.containerSize.width-(parseInt(this.targetPos.left.toString())+this.targetPos.width/2),centerLeft:parseInt(this.targetPos.left.toString())+this.targetPos.width/2,centerTop:parseInt(this.targetPos.top.toString())+this.targetPos.height/2,centerBottom:this.containerSize.height-(parseInt(this.targetPos.top.toString())+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+f,tooltipHeight:this.tooltipPos.height+f};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(t,u);else{while(r)i=this._collisionFlip(i,u),i.target.horizontal!=t.target.horizontal||i.target.vertical!=t.target.vertical||i.stem.horizontal!=t.stem.horizontal||i.stem.vertical!=t.stem.vertical?(this._tooltipPosition(n,i),t=$.extend(!0,{},i)):r=!1;r||(this.model.collision==ej.Tooltip.Collision.FlipFit?(this._tooltipPosition(n,i),this._collisionFit(i,u)):(this._adjustArrow(i),this._shadowEffect(this.model.showShadow,i),$(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},i.prototype._collisionFlip=function(n,t){var r=$.extend(!0,{},this.tooltipPos),i=$.extend(!0,{},n);return(r.left+r.width>this.containerSize.width||r.left<0)&&(n.target.horizontal!="center"?i.target.horizontal=t.leftSpace>=t.tooltipWidth?"left":t.rightSpace>=t.tooltipWidth?"right":"center":i.stem.horizontal=t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center"),r.top<0&&(i.target.vertical=t.bottomSpace>=t.tooltipHeight?"bottom":"center"),r.top+r.height>this.containerSize.height&&(i.target.vertical=t.topSpace>=t.tooltipHeight?"top":"center"),(i.target.horizontal!=n.target.horizontal||i.target.vertical!=n.target.vertical)&&(i.stem.horizontal=i.target.horizontal=="center"?t.centerLeft>=t.tooltipWidth?"right":t.centerRight>=t.tooltipWidth?"left":"center":i.target.horizontal=="right"?"left":"right"),(i.target.vertical!=n.target.vertical||i.target.horizontal!=n.target.horizontal)&&(i.stem.vertical=i.target.vertical=="center"?t.centerTop>=t.tooltipHeight?"bottom":t.centerBottom>=t.tooltipHeight?"top":t.centerTop>t.centerBottom?"bottom":"top":i.target.vertical=="top"?"bottom":"top"),i},i.prototype._collisionFit=function(n,t){var i=$.extend(!0,{},this.tooltipPos),e=!1,o=!1,u=1,f=1,r=null;(i.left<0||i.left+i.width>this.containerSize.width)&&(u=i.left<0?0:i.left+i.width>this.containerSize.width?i.left-(i.left+i.width-this.containerSize.width):1,e=!0);(i.top<0||i.top+i.height>this.containerSize.height)&&(f=i.top<0?0:i.top+i.height>this.containerSize.height?i.top-(i.top+i.height-this.containerSize.height):1,o=!0);$(this.tooltip).css({top:f!=1?f+"px":i.top+"px",left:u!=1?u+"px":i.left+"px",position:"absolute"});this._adjustArrow(n);r={left:this.arrowValue.left,top:this.arrowValue.top,transform:null,height:this.model.tip.size.height,width:this.model.tip.size.width,display:$(this.tip).css("display")};this.tooltipPos.top=f=f!=1?f:i.top;this.tooltipPos.left=u=u!=1?u:i.left;r.display!="none"&&(this.model.isBalloon&&(e&&(this.arrowValue.left=this._horizontalAdjustment(n,t)),o&&(this.arrowValue.top=this._verticalAdjustment(n,t))),r.transform=this.arrowValue.left==-(this.tipSize.width/2+this.tipSize.height/2)?"rotate(90deg)":this.arrowValue.left==$(this.tooltip).width()-this.tipSize.height/2?"rotate(270deg)":"none",r.transform=="none"&&(r.transform=this.arrowValue.top==-this.tipSize.height?"rotate(180deg)":this.arrowValue.top==$(this.tooltip).height()?"rotate(0deg)":"none"),$(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",transform:r.transform==null?"rotate(0deg)":r.transform,display:r.transform=="none"?"none":"block",height:r.height,width:r.width}),this.arrowValue.transform=$(this.tip).css("transform"));this._shadowEffect(this.model.showShadow,n)},i.prototype._horizontalAdjustment=function(n,t){var r={left:this.arrowValue.left,top:this.arrowValue.top,transform:null,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display},u,i;return $(this.tooltip).css({display:"block"}),u=n.target.horizontal!="center"?this.model.tip.size.height:this.model.tip.size.width,i=n.target.horizontal!="center"&&n.stem.horizontal=="left"?$(this.tip).offset().left:n.target.horizontal!="center"&&n.stem.horizontal=="right"?$(this.tip).offset().left+u:$(this.tip).offset().left,$(this.tooltip).css({display:"none"}),i>t.leftSpace&&i+u<t.leftSpace+this.targetPos.width?r.left:((i>t.leftSpace+this.targetPos.width||i<t.leftSpace)&&(r.left=t.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),r.left)},i.prototype._verticalAdjustment=function(n,t){var r={left:this.arrowValue.left,top:this.arrowValue.top,transform:null,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display},u,i;return $(this.tooltip).css({display:"block"}),u=n.target.horizontal!="center"?this.model.tip.size.width:this.model.tip.size.height,i=n.target.horizontal=="center"&&n.stem.vertical=="top"?$(this.tip).offset().top:$(this.tip).offset().top+u,$(this.tooltip).css({display:"none"}),i>t.topSpace&&i<t.topSpace+this.targetPos.height?r.top:((i<t.topSpace||i+u>t.topSpace+this.targetPos.height)&&(r.top=t.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),r.top)},i.prototype._createHeader=function(){this.model.title!=null&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?$(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):$(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader"));this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},i.prototype._hideTooltip=function(){var n;if(n=this.model.animation.speed!=0?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this.model.enabled==!0&&$(this.tooltip).css("display")=="block"){if(this.triggerEvents("beforeClose",{}))return;if(this.model.animation.effect==ej.Tooltip.Effect.Fade?$(this.tooltip).fadeOut(n):this.model.animation.effect==ej.Tooltip.Effect.Slide?$(this.tooltip).slideUp(n):$(this.tooltip).css({display:"none"}),$(this.tooltip).css("display")=="none"&&$(this.tooltip).attr("aria-hidden","true"),this.triggerEvents("close",{}))return}},i.prototype._showTooltip=function(){var n=this.model.animation.speed!=0?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0;$(this.tooltip).css("display")=="none"&&this.model.enabled==!0&&(this.model.animation.effect==ej.Tooltip.Effect.Fade?$(this.tooltip).fadeIn(n):this.model.animation.effect==ej.Tooltip.Effect.Slide?$(this.tooltip).slideDown(n):$(this.tooltip).css({display:"block"}),$(this.tooltip).css("display")=="block"&&$(this.tooltip).attr("aria-hidden","false").css({zIndex:ej.getMaxZindex()+1}),this.triggerEvents("open",{}))},i.prototype._tooltipAuto=function(){var n=this;this.timer=setTimeout(function(){n._hideTooltip()},n.model.autoCloseTimeout)},i.prototype._beforeOpenTooltip=function(n){this.positionTooltip=$.extend(!0,{},this.model.position.stem);this.positionTarget=$.extend(!0,{},this.model.position.target);this.targetElement=this.element;ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined($(n.target).attr("data-content"))||(this.model.content=$(n.target).attr("data-content"),this._setContent(this.model.content))},i.prototype._targetHover=function(n){if(this.model.enabled){if(this.triggerEvents("beforeOpen",{event:n}))return;this._beforeOpenTooltip(n);this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(n.target),$(this.tooltip).stop(!0,!0),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),n.type=="click"?this.triggerEvents("click",{event:n}):this.triggerEvents("hover",{event:n})):this.isTrack=!0}},i.prototype._onMouseOut=function(){this.model.enabled&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer))},i.prototype._onTooltipMouseEnter=function(){var n=this;this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&$(n.tooltip).css({display:"block"})},i.prototype._onTooltipMouseLeave=function(){var n=this;this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&n.model.closeMode==ej.Tooltip.CloseMode.None&&$(n.tooltip).css({display:"none"})},i.prototype._keyDown=function(n){var t=n.keyCode?n.keyCode:n.which?n.which:n.charCode;if(this.model.enabled)switch(t){case 27:n.preventDefault();this._hideTooltip()}},i}(ej.WidgetBase);window.ej.widget("ejTooltip","ej.Tooltip",new t);window.ejTooltip=null;ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"};ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"};ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"};ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"};ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"}});
