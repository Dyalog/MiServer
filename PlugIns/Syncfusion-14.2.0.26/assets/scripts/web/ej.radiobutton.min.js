/*!
*  filename: ej.radiobutton.min.js
*  version : 14.2.0.26
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){(function(n,t){t.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,model:null,validTags:["input"],_addToPersist:["checked"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,checked:!1,cssClass:"",text:"",enableRTL:!1,htmlAttributes:{},enablePersistence:!1,idPrefix:"ej",size:"small",enabled:!0,validationRules:null,validationMessage:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",checked:"boolean",enablePersistence:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},observables:["value"],value:t.util.valueFunction("value"),_init:function(){var n=t.browserInfo();this._isIE8=n.name=="msie"&&n.version=="8.0"?!0:!1;this._setValue();this._renderControl();this.isChecked&&this._checkedHandler();this._setEnabled(this.model.enabled);this._addAttr(this.model.htmlAttributes);this.model.validationRules!=null&&(this._initValidator(),this._setValidation());this._wireEvents();this.initialRender=!1},_addAttr:function(t){var i=this;n.map(t,function(n,t){t=="class"?i.div.addClass(n):t=="name"?i.radbtn.attr(t,n):t=="required"?i.radbtn.attr(t,n):t=="disabled"&&n=="disabled"?i.disable():t=="checked"&&n=="checked"?i._checkedChange(!0,!0):i.div.attr(t,n)})},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var r,i,u,f;this.element.find("input").rules("add",this.model.validationRules);r=this.element.closest("form").data("validator");r=r?r:this.element.closest("form").validate();name=this.element.find("input").attr("name");r.settings.messages[name]={};for(i in this.model.validationRules)if(u=null,!t.isNullOrUndefined(this.model.validationRules[i])){if(t.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[i])){r.settings.messages[name][i]=n.validator.messages[i];for(f in this.model.validationMessage)i==f?u=this.model.validationMessage[i]:""}else u=this.model.validationRules.messages[i];r.settings.messages[name][i]=u!=null?u:n.validator.messages[i]}},_setModel:function(n){for(var i in n)switch(i){case"cssClass":this._changeSkin(n[i]);break;case"enableRTL":this.model.text?n[i]?this.textWrapDiv.addClass("e-rtl"):this.textWrapDiv.removeClass("e-rtl"):n[i]?this.element.closest(".e-radiobtn-wrap").addClass("e-rtl"):this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl");break;case"text":this._setText(n[i]);break;case"size":this._setSize(n[i]);break;case"validationRules":this.model.validationRules!=null&&(this.element.find("input").rules("remove"),this.model.validationMessage=null);this.model.validationRules=n[i];this.model.validationRules!=null&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=n[i];this.model.validationRules!=null&&this.model.validationMessage!=null&&(this._initValidator(),this._setValidation());break;case"checked":this.model.checked=n[i];this._checkedChange(this.model.checked);break;case"enabled":this._setEnabled(n[i]);break;case"id":this._setIdAttr(n[i]);break;case"name":this.radbtn.attr("name",n[i]);break;case"value":typeof n[i]=="function"?t.util.getVal(n[i])==this._hiddenValue&&this.model.checked==!1&&(this.model.checked=!0,this._isAngularbind=!0,this._checkedChange(!0,!1)):this.element.attr("value",n[i]);break;case"htmlAttributes":this._addAttr(n[i])}},_destroy:function(){this.radbtn.removeClass("e-radiobtn e-input");this.radbtn.insertBefore(this.element);this.element.remove();this.element=this.radbtn},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.textWrapDiv.removeClass(this.model.cssClass).addClass(n))},_setValue:function(){t.isNullOrUndefined(this.element.attr("id"))||(this.model.id=this.element.attr("id"));t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name"));this.value()==null&&this.value(this.element.attr("value"));t.isNullOrUndefined(this.element.attr("value"))||this.value()!=null||this.value(this.element.attr("value"));this.element.attr({id:this.model.id,name:this.model.name});this.model.checked||t.isNullOrUndefined(this.element.attr("checked"))?this.isChecked=this.model.checked:this.model.checked=this.isChecked=!0;this._hiddenValue=this.element.attr("value");this._isAngularbind=!1},_setIdAttr:function(t){n("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper");n("#"+this.model.idPrefix+this.model.id).attr("id",this.model.idPrefix+t);this.radbtn.attr("id",t)},_setSize:function(n){n==t.RadioButtonSize.Medium?this.span.removeClass("e-radsmaller").addClass("e-radmedium"):this.span.removeClass("e-radmedium").addClass("e-radsmaller")},_setEnabled:function(n){n?this.enable():this.disable()},_renderControl:function(){this.initialRender=!0;var i=t.browserInfo();this.div=i.name=="msie"&&i.version=="8.0"?n('<div class="e-radiobtn-wrap e-widget e-rad-outer" ><\/div>'):n('<div class="e-radiobtn-wrap e-widget" ><\/div>');this.div.attr({id:this.model.idPrefix+this.model.id,role:"radio",tabindex:0,"aria-checked":!1});this.span=n("<span><\/span>");this.span.addClass("e-spanicon");this._setSize(this.model.size);this.spanImg=n('<span class="e-rad-icon e-icon e-rad-select"><\/span>',"",{},{role:"presentation"});this.element.addClass("e-input");this.model.name=t.isNullOrUndefined(this.model.name)?this.model.id:this.model.name;this.element.attr({id:this.model.id,name:this.model.name,value:this.value()});this.div.addClass(this.model.cssClass);this.span.append(this.spanImg);this.div.insertBefore(this.element);this.div.append(this.element);this.div.append(this.span);this._setTextWrapper(this.model.text);this.radbtn=this.element;this.element=this.div;this.isChecked&&this.element.find(".e-input").attr("checked",!0)},_setTextWrapper:function(i){i!=""?(this.textWrapDiv=t.buildTag("div.e-radiobtn-wrap "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id+"_wrapper"),this.div.wrapAll(this.textWrapDiv),this.txtSpan=t.buildTag("div.e-text",i),this.textWrapDiv=n("#"+this.model.idPrefix+this.model.id+"_wrapper"),this.textWrapDiv.append(this.txtSpan),this.model.enableRTL&&this.textWrapDiv.addClass("e-rtl")):this.model.enableRTL&&this.element.closest(".e-radiobtn-wrap").addClass("e-rtl")},_setText:function(n){this.model.text==""&&n!=""?this._setTextWrapper(n):this.txtSpan.html(n)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler);this._on(this.element,"focus",this._focusIn);this._on(this.element,"focusout",this._focusOut)},_focusIn:function(){n(this.element).addClass("e-focus");n(this.element).bind("keydown",n.proxy(this._checkUnCheck,this))},_focusOut:function(){n(this.element).removeClass("e-focus");n(this.element).unbind("keydown",n.proxy(this._checkUnCheck,this))},_checkUnCheck:function(n){(n.keyCode==32||n.keyCode==37||n.keyCode==38||n.keyCode==39||n.keyCode==40)&&(n.preventDefault(),this._checkedHandler())},_checkedHandler:function(){this.element.hasClass("e-disable")||(this.isChecked=this.element.find("input.e-radiobtn:radio").attr("checked")=="checked"?!0:!1,n(this.element).find(".e-rad-icon").hasClass("e-circle_01")||this._changeEvent(!0))},_checkedChange:function(n,t){this.isChecked=n;this.isChecked&&this._changeEvent(t)},_changeEvent:function(t){var i={isChecked:this.isChecked,isInteraction:!!t};if(!this.initialRender&&!0==this._trigger("beforeChange",i))return!1;if(!n(this.element).find(".e-rad-icon").hasClass("e-circle_01")){var u=this.element.find(".e-input").attr("name"),f=n('input.e-radiobtn[name="'+u+'"]:radio'),o=this,e=this.element.find(".e-input"),r=n(e).data("ejRadioButton");i.isChecked&&(this.spanImg.addClass("e-circle_01").removeClass("e-rad-select"),this.div.attr({tabindex:0,"aria-checked":!0}));n.each(f,function(t,i){n(i).closest(".e-radiobtn-wrap").find(".e-rad-icon").removeClass("e-circle_01").addClass("e-rad-select");n(i).closest(".e-radiobtn-wrap").attr({tabindex:0,"aria-checked":!1});var r=n(i).data("ejRadioButton");r!=null&&(r.model.checked=!1)});r!=null&&(r.model.checked=!0);this.element.find(".e-rad-icon").addClass("e-circle_01").removeClass("e-rad-select");this.div.attr({tabindex:0,"aria-checked":!0});this._isAngularbind||this.element.find(".e-input").click();this.isChecked=!0}i={isChecked:this.isChecked,isInteraction:!!t};this.initialRender||this._trigger("change",i);t&&this._trigger("_change",{value:this._hiddenValue})},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable"),this.radbtn.attr("disabled","disabled"));this._isIE8&&this.span.addClass("e-disable");this.div.attr("aria-disabled",!0);this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this.radbtn.removeAttr("disabled"));this._isIE8&&this.span.removeClass("e-disable");this.div.attr("aria-disabled",!1);this.model.enabled=!0}});t.RadioButtonSize={Small:"small",Medium:"medium"}})(jQuery,Syncfusion)});
