/*!
*  filename: ej.pivot.common.min.js
*  version : 14.3.0.49
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){ej.Pivot=ej.Pivot||{},function(n,t,i){t.Pivot={addReportItem:function(n,i){if(i.isMeasuresDropped)i.droppedClass!=""?n.values[0].axis=i.droppedClass=="row"?"rows":i.droppedClass=="column"?"columns":n.values[0].axis:n.values[0].measures=[];else{var r=this.removeReportItem(n,i.droppedFieldName,i.isMeasuresDropped);t.isNullOrUndefined(r)&&(r={fieldName:i.droppedFieldName,fieldCaption:i.droppedFieldCaption});switch(i.droppedClass){case"row":i.droppedPosition.toString()!=""?n.rows.splice(i.droppedPosition,0,r):n.rows.push(r);break;case"column":i.droppedPosition.toString()!=""?n.columns.splice(i.droppedPosition,0,r):n.columns.push(r);break;case"value":n.cube==""?i.droppedPosition.toString()!=""?n.values.splice(i.droppedPosition,0,r):n.values.push(r):i.droppedPosition.toString()!=""?n.values[0].measures.splice(i.droppedPosition,0,r):n.values[0].measures.push(r);break;case"filter":i.droppedPosition.toString()!=""?n.filters.splice(i.droppedPosition,0,r):n.filters.push(r)}}},removeReportItem:function(i,r,u){var o=i.cube==""?t.Pivot.AnalysisMode.Pivot:t.Pivot.AnalysisMode.Olap,f=n.grep(i.columns,function(n){return n.fieldName==r}),e;return u?i.values[0].measures=[]:f.length>0?i.columns=n.grep(i.columns,function(n){return n.fieldName!=r}):(f=n.grep(i.rows,function(n){return n.fieldName==r}),f.length>0?i.rows=n.grep(i.rows,function(n){return n.fieldName!=r}):(e=o==t.Pivot.AnalysisMode.Olap?i.values[0].measures:i.values,f=n.grep(e,function(n){return n.fieldName==r}),f.length>0?i.values=o==t.Pivot.AnalysisMode.Olap?[{measures:n.grep(e,function(n){return n.fieldName!=r}),axis:i.values[0].axis}]:n.grep(e,function(n){return n.fieldName!=r}):(f=n.grep(i.filters,function(n){return n.fieldName==r}),f.length>0&&(i.filters=n.grep(i.filters,function(n){return n.fieldName!=r}))))),f[0]},getReportItemByFieldName:function(i,r){var f="columns",u=n.grep(r.columns,function(n){return n.fieldName.toLowerCase()==i.toLowerCase()}),e;return u.length==0&&(u=n.grep(r.rows,function(n){return n.fieldName.toLowerCase()==i.toLowerCase()}),f="rows"),u.length==0&&(e=r.cube==""?r.values:r.values.length>0&&!t.isNullOrUndefined(r.values[0].measures)?r.values[0].measures:[],u=n.grep(e,function(n){return n.fieldName.toLowerCase()==i.toLowerCase()}),f="values"),u.length==0&&(u=n.grep(r.filters,function(n){return n.fieldName.toLowerCase()==i.toLowerCase()}),f="filters"),{item:u[0],axis:f}},getReportItemByFieldCaption:function(i,r){var f="columns",u=n.grep(r.columns,function(n){return n.fieldCaption.toLowerCase()==i.toLowerCase()}),e;return u.length==0&&(u=n.grep(r.rows,function(n){return n.fieldCaption.toLowerCase()==i.toLowerCase()}),f="rows"),u.length==0&&(e=r.cube==""?r.values:r.values.length>0&&!t.isNullOrUndefined(r.values[0].measures)?r.values[0].measures:[],u=n.grep(e,function(n){return n.fieldCaption.toLowerCase()==i.toLowerCase()}),f="values"),u.length==0&&(u=n.grep(r.filters,function(n){return n.fieldCaption.toLowerCase()==i.toLowerCase()}),f="filters"),{item:u[0],axis:f}},onPreventPanelClose:function(n){n.element.find("#preventDiv").remove();t.isNullOrUndefined(n._waitingPopup)||n._waitingPopup.hide()},_createErrorDialog:function(i,r,u){var e,o;if(u._errorDialog=r,u.element.find("#preventDiv").length>0?u.element.find("#preventDiv").remove():"",u.element.find(".errorDialog:visible").length==0){e=t.isNullOrUndefined(i.Exception)?t.buildTag("div.errorDialog#ErrorDialog",t.buildTag("div.warningImg")[0].outerHTML+t.buildTag("div.warningContent action:",u.model.enableRTL?i+"--"+r:r+"--"+i)[0].outerHTML+t.buildTag("div",t.buildTag("button#ErrOKBtn.errOKBtn","OK",{margin:"20px 0 10px 165px"})[0].outerHTML)[0].outerHTML).attr("title","Warning")[0].outerHTML:t.buildTag("div.errorDialog#ErrorDialog",t.buildTag("div.warningImg")[0].outerHTML+t.buildTag("div.warningContent action:",u.model.enableRTL?i.Exception.Message+"--"+r:r+"--"+i.Exception.Message)[0].outerHTML+t.buildTag("br")[0].outerHTML+t.buildTag("div."+u._id+"stackTraceContent","Stack Trace :"+i.Exception.StackTraceString)[0].outerHTML+t.buildTag("div",t.buildTag("button#ErrOKBtn.errOKBtn","OK",{margin:"20px 0 10px 165px"})[0].outerHTML)[0].outerHTML).attr("title","Warning")[0].outerHTML;u.element.append(e);u.element.find(".errorDialog").ejDialog({target:"#"+u._id,enableResize:!1,enableRTL:u.model.enableRTL,width:"400px"});o=u.element.find(".errorDialog").data("ejDialog");n("#"+o._id+"_wrapper").css({left:"50%",top:"50%"});u.element.find(".errOKBtn").ejButton({type:t.ButtonType.Button,width:"50px"}).on(t.eventType.click,function(){u._errorDialog!="nodeCheck"||t.isNullOrUndefined(u._schemaData)||t.isNullOrUndefined(u._schemaData._selectedTreeNode)||u._schemaData._tableTreeObj.uncheckNode(u._schemaData._selectedTreeNode);u.element.find("#preventDiv").remove();(u._errorDialog=="Warning"||u._errorDialog=="Exception"||u._errorDialog=="Error")&&u.element.children("#ErrorDialog_wrapper").remove()});if(u.element.find(".e-dialog .e-close").attr("title","Close"),t.isNullOrUndefined(n("#"+u._id).data("ejWaitingPopup"))||n("#"+u._id).data("ejWaitingPopup").hide(),typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null&&oclientWaitingPopup.hide(),!t.isNullOrUndefined(i.Exception)){var f=50,h="...",s="Show more",c="Show less";n("."+u._id+"stackTraceContent").each(function(){var i=n(this).html();if(i.length>f){u._id;var r=i.substr(0,f),e=i.substr(f,i.length-f),o=r+t.buildTag("span."+u._id+"moreellipses",h)[0].outerHTML+t.buildTag("span."+u._id+"morecontent",t.buildTag("span",e).css("display","none")[0].outerHTML+t.buildTag("a."+u._id+"morelink",s).css("display","block")[0].outerHTML)[0].outerHTML;n(this).html(o)}});n("."+u._id+"morelink").click(function(){return n(this).hasClass("less")?(n(this).removeClass("less"),n(this).html(s)):(n(this).addClass("less"),n(this).html(c)),n(this).parent().prev().toggle("slow",function(){}),n(this).prev().toggle("slow",function(){}),!1})}}},_contextMenuOpen:function(i,r){var f,e,u;if(r._selectedMember=n(i.target),r.pluginName=="ejPivotGrid"?(f=r.model.analysisMode==t.Pivot.AnalysisMode.Olap?"olap":"pivot",u=n("#pivotTree").data("ejMenu")):(t.isNullOrUndefined(r.model.pivotControl)||(f=r.model.pivotControl.model.analysisMode==t.Pivot.AnalysisMode.Olap?"olap":"pivot"),u=n("#pivotTreeContextMenu").data("ejMenu")),f==t.Pivot.AnalysisMode.Olap){if(t.isNullOrUndefined(n(i.target).parent().attr("tag"))&&n(i.target).hasClass("pivotButton")&&n(i.target).children(".pvtBtn:eq(0)").length>0)return r._selectedMember=n(i.target).children(".pvtBtn:eq(0)"),!1;n(i.target).parent().attr("tag").split(":")[1].toLowerCase().startsWith("[measures]")?u.disable():r._selectedMember.parent().attr("tag").split(":")[1].toLowerCase()=="measures"?(u.disableItem(r._getLocalizedLabels("AddToValues")),u.disableItem(r._getLocalizedLabels("AddToFilter")),u.enableItem(r._getLocalizedLabels("AddToRow")),u.enableItem(r._getLocalizedLabels("AddToColumn"))):(u.disableItem(r._getLocalizedLabels("AddToValues")),n(i.target.parentElement).find(".namedSetCDB").length>0?u.disableItem(r._getLocalizedLabels("AddToFilter")):u.enableItem(r._getLocalizedLabels("AddToFilter")),u.enableItem(r._getLocalizedLabels("AddToRow")),u.enableItem(r._getLocalizedLabels("AddToColumn")))}else f==t.Pivot.AnalysisMode.Pivot&&(e=i.target.textContent,n(i.target).hasClass("e-btn")?(u.enable(),r.pluginName=="ejPivotGrid"&&(u.disableItem(r._getLocalizedLabels("CalculatedField")),n(i.target).parents(".pivotButton").attr("tag").split(":")[0].toLowerCase()=="values"&&(r.model.operationalMode==t.PivotGrid.OperationalMode.ClientMode&&n.grep(r.model.dataSource.values,function(n){return n.fieldCaption==e&&n.isCalculatedField==!0}).length>0?u.disable():r.model.operationalMode==t.PivotGrid.OperationalMode.ServerMode&&n.grep(JSON.parse(r.getOlapReport()).PivotCalculations,function(n){return n.FieldHeader==e&&n.CalculationType==8}).length>0&&u.disable(),u.enableItem(r._getLocalizedLabels("CalculatedField"))))):(u=n("#pivotTree").data("ejMenu"),u.disable()))},editorTreeNavigatee:function(i,r){var s=r._memberPageSettings.currentMemebrPage,o;if(!n(i.target).hasClass("disabled")){if(n(i.target).hasClass("nextPage"))r._memberPageSettings.startPage+=r.model.memberEditorPageSize,r._memberPageSettings.currentMemebrPage+=1,r._memberPageSettings.endPage+=r.model.memberEditorPageSize;else if(n(i.target).hasClass("prevPage"))r._memberPageSettings.currentMemebrPage-=1,r._memberPageSettings.startPage=Math.abs(r._memberPageSettings.startPage-(r._memberPageSettings.currentMemebrPage==1?r.model.memberEditorPageSize:r.model.memberEditorPageSize)),r._memberPageSettings.endPage-=r.model.memberEditorPageSize;else if(n(i.target).hasClass("firstPage"))r._memberPageSettings={currentMemebrPage:1,startPage:0,endPage:r.model.memberEditorPageSize};else if(n(i.target).hasClass("lastPage"))r._memberPageSettings.currentMemebrPage=parseInt(r.element.find(".memberPageCount").text().split("/")[1].trim()),r._memberPageSettings.endPage=r._memberPageSettings.currentMemebrPage*r.model.memberEditorPageSize,r._memberPageSettings.startPage=r._memberPageSettings.endPage-r.model.memberEditorPageSize;else{if(parseInt(n(i.target).val())>parseInt(r.element.find(".memberPageCount").text().split("/")[1].trim())||parseInt(n(i.target).val())==0)return!1;r._memberPageSettings.currentMemebrPage=parseInt(n(i.target).val());r._memberPageSettings.endPage=r._memberPageSettings.currentMemebrPage*r.model.memberEditorPageSize;r._memberPageSettings.startPage=r._memberPageSettings.currentMemebrPage==1||r._memberPageSettings.currentMemebrPage==0?0:r._memberPageSettings.endPage-r.model.memberEditorPageSize}if(r._waitingPopup.show(),r.model.operationalMode==t.Pivot.OperationalMode.ClientMode){r._isMemberPageFilter=!0;var u=t.Pivot.updateTreeView(r._pivotSchemaDesigner),f=n.map(t.Pivot.getNodesState(u).selectedNodes.split("::"),function(n){return{Id:n.split("||")[0],tag:n.split("||")[1],parentId:n.split("||")[2]}}),e=n.map(t.Pivot.getNodesState(u).unSelectedNodes.split("::"),function(n){return{Id:n.split("||")[0],tag:n.split("||")[1],parentId:n.split("||")[2]}});r._selectedNodes=t.isNullOrUndefined(r._selectedNodes)?f:n.merge(r._selectedNodes,f);r._unSelectedNodes=t.isNullOrUndefined(r._unSelectedNodes)?e:n.merge(r._unSelectedNodes,e);t.olap._mdxParser.getMembers(r.model.dataSource,r._pivotSchemaDesigner._selectedFieldName,r._pivotSchemaDesigner)}else t.isNullOrUndefined(r._memberPageSettings.filterReportCollection)&&(r._memberPageSettings.filterReportCollection={}),r._updateTreeView(),r._memberPageSettings.filterReportCollection[s]=r._getUnSelectedNodes()+"CHECKED"+r._getSelectedNodes(r._currentAxis=="Slicers"?!0:!1),r.model.beforeServiceInvoke!=null&&r._trigger("beforeServiceInvoke",{action:"fetchMemberTreeNodes",element:r.element,customObject:r.model.customObject}),o=JSON.stringify(r.model.customObject),r.doAjaxPost("POST",r.model.url+"/"+r.model.serviceMethodSettings.fetchMemberTreeNodes,JSON.stringify({action:"fetchMemberTreeNodes",dimensionName:r._dimensionName+":"+r._memberPageSettings.startPage+"-"+r.model.memberEditorPageSize+"-"+r.model.enableMemberEditorPaging,olapReport:r.currentReport,customObject:o}),r._editorTreePageInfoSuccess)}},editorTreePageInfoSuccess:function(t,r){r._memberPageSettings.currentMemebrPage>1?r.element.find(".prevPage, .firstPage").removeClass("disabled").addClass("enabled"):r.element.find(".prevPage, .firstPage").removeClass("enabled").addClass("disabled");r._memberPageSettings.currentMemebrPage==parseInt(r.element.find(".memberPageCount").text().split("/")[1].trim())?r.element.find(".nextPage, .lastPage").removeClass("enabled").addClass("disabled"):r.element.find(".nextPage, .lastPage").removeClass("disabled").addClass("enabled");var f,u;f=t[0]!=i?t[0].Value:t.d!=i?t.d[0].Value:t.EditorTreeInfo;u=n.parseJSON(f);r.element.find(".memberCurrentPage").val(r._memberPageSettings.currentMemebrPage);u.splice(-1,1);r._appendTreeViewData(u,!1);r._unWireEvents();r._wireEvents();r._waitingPopup.hide()},createErrorDialog:function(i){var r,u;i.element.find(".errorDialog").length==0?(u=t.buildTag("div.errorDialog#ErrorDialog",t.buildTag("div.warningImg")[0].outerHTML+t.buildTag("div.warningContent",i._getLocalizedLabels("AlertMsg"))[0].outerHTML+t.buildTag("div",t.buildTag("button#ErrOKBtn.errOKBtn","OK")[0].outerHTML)[0].outerHTML).attr("title",i._getLocalizedLabels("Warning"))[0].outerHTML,i.element.append(u),i.element.find(".errorDialog").ejDialog({target:"#"+i._id,enableResize:!1,enableRTL:i.model.enableRTL,width:"400px"}),r=i.element.find(".errorDialog").data("ejDialog"),n("#"+r._id+"_wrapper").css({left:"50%",top:"50%"}),i.element.find(".errOKBtn").ejButton({type:t.ButtonType.Button,click:t.proxy(t.Pivot.errOKBtnClick,i)}),i.element.find(".e-dialog .e-close").attr("title",i._getLocalizedLabels("Close"))):(r=i.element.find(".errorDialog").data("ejDialog"),r.open())},errOKBtnClick:function(){this.element.find("#preventDiv").remove();var n=this.element.find(".errorDialog").data("ejDialog");n._ejDialog.find("div.e-dialog-icon").trigger("click")},doAjaxPost:function(r,u,f,e,o,s){var h,c,l,a=!0;f.XMLA==i?(h="application/json; charset=utf-8",c="json",l=n.proxy(e,this)):(h="text/xml",c="xml",f=f.XMLA,l=n.proxy(e,t.olap.base,s),a=t.browserInfo().name=="msie"&&t.browserInfo().version<=9?!1:!t.isNullOrUndefined(s)&&s.action!="loadFieldElements"?!0:!1);n.ajax({type:r,url:u,contentType:h,async:a,dataType:c,data:f,success:l,complete:t.proxy(function(t){n.proxy(t,this);var i={action:this._currentAction,customObject:"",element:this.element}},this),error:t.proxy(function(n){typeof this._ogridWaitingPopup!="undefined"&&this._ogridWaitingPopup!=null&&this._ogridWaitingPopup.hide();typeof oclientWaitingPopup!="undefined"&&oclientWaitingPopup!=null&&oclientWaitingPopup.hide();var t={action:this._drillAction!=""?this._drillAction:"initialize",customObject:"",element:this.element,Message:n};this._trigger("renderFailure",t);this.renderControlFromJSON("");this._dataModel=="XMLA"&&this._createErrorDialog(n.statusText,this._getLocalizedLabels("Error"));n.statusText},this)})},getCubeList:function(t,i){for(var f,u=[],r=0;r<n(i).find("row").length;r++)f=n(n(i).find("row")[r]),u.push({name:n(f).children("CUBE_NAME").text()});t.pvtCtrldObj.setCubeList(u)},generateTreeViewData:function(n){var t={catalog:n.model.pivotControl.model.dataSource.catalog,cube:n.model.pivotControl.model.dataSource.cube,url:n.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_DIMENSIONS"};this._getTreeData(t,this.loadDimensionElements,{schemaData:n,action:"loadFieldElements"})},loadDimensionElements:function(r,u){var s,h={},l=t.olap.base._getConnectionInfo(r.schemaData.model.pivotControl.model.dataSource.data),e={},o;for(e={catalog:r.schemaData.model.pivotControl.model.dataSource.catalog,cube:r.schemaData.model.pivotControl.model.dataSource.cube,url:r.schemaData.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_DIMENSIONS"},r.schemaData.model.pivotControl.schemaTreeView=[],r.schemaData.model.pivotControl.reportItemNames=[],o=0;o<n(u).find("row").length;o++){var c=n(n(u).find("row")[o]),f=c.find("DIMENSION_UNIQUE_NAME").text(),s=c.find("DIMENSION_CAPTION").text();f.toLowerCase().indexOf("[measure")>=0?h={hasChildren:!0,isSelected:!1,id:f,name:s,spriteCssClass:f.toLowerCase()=="[measures]"?"folderCDB e-icon":"dimensionCDB e-icon",tag:f}:!n(n(u).find("row")[0]).find("HIERARCHY_CAPTION").length>0&&r.schemaData.model.pivotControl.schemaTreeView.push({hasChildren:!0,isSelected:!1,id:f,name:s,spriteCssClass:"dimensionCDB e-icon",tag:f,defaultHierarchy:n(n(u).find("row")[o]).children("DEFAULT_HIERARCHY").text()})}r.schemaData.model.pivotControl.schemaTreeView.splice(0,0,h);!r.schemaData.model.pivotControl.model.enableDrillThrough||r.schemaData!=i&&r.schemaData.model.olap.showNamedSets?(e.request="MDSCHEMA_SETS",t.Pivot._getTreeData(e,t.Pivot.loadNamedSetElements,r)):(e.request="MDSCHEMA_HIERARCHIES",r.schemaData.model.pivotControl._fieldData.hierarchySuccess==i?t.Pivot._getTreeData(e,r.schemaData.model.pivotControl.loadHierarchyElements,r):t.Pivot.loadHierarchyElements(r,r.schemaData.model.pivotControl._fieldData.hierarchySuccess))},loadNamedSetElements:function(r,u){var h={catalog:r.schemaData.model.pivotControl.model.dataSource.catalog,cube:r.schemaData.model.pivotControl.model.dataSource.cube,url:r.schemaData.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_HIERARCHIES"},u=r.schemaData.model.pivotControl.model.dataSource,s=[],e,o,f;for(e=n.map(u.rows,function(n){if(n.fieldName!=i)return n.fieldName}),n.merge(e,n.map(u.columns,function(n){if(n.fieldName!=i)return n.fieldName})),n.merge(e,n.map(u.filters,function(n){if(n.fieldName!=i)return n.fieldName})),o=0;o<n(u).find("row").length;o++)f=n(n(u).find("row")[o]),n.inArray(f.find("DIMENSIONS").text().split(".")[0],s)>=0||(r.schemaData.model.pivotControl.schemaTreeView.push({hasChildren:!0,isSelected:!1,pid:f.find("DIMENSIONS").text().split(".")[0],id:f.find("SET_DISPLAY_FOLDER").text()+"_"+f.find("DIMENSIONS").text().split(".")[0],name:f.find("SET_DISPLAY_FOLDER").text(),spriteCssClass:"folderCDB e-icon namedSets"}),s.push(f.find("DIMENSIONS").text().split(".")[0])),r.schemaData.model.pivotControl.schemaTreeView.push({hasChildren:!0,isSelected:n.inArray("["+n.trim(f.children("SET_NAME").text())+"]",e)>=0,pid:f.find("SET_DISPLAY_FOLDER").text()+"_"+f.find("DIMENSIONS").text().split(".")[0],id:"["+n.trim(f.children("SET_NAME").text()).replace(/\&/g,"&amp;")+"]",name:f.children("SET_CAPTION").text(),spriteCssClass:"namedSetCDB e-icon",tag:f.find("EXPRESSION").text()});t.isNullOrUndefined(r.schemaData.model.pivotControl._fieldData)||r.schemaData.model.pivotControl._fieldData.hierarchySuccess==i?t.Pivot._getTreeData(h,t.Pivot.loadHierarchyElements,r):t.Pivot.loadHierarchyElements(r,r.schemaData.model.pivotControl._fieldData.hierarchySuccess)},loadHierarchyElements:function(r,u){var l={catalog:r.schemaData.model.pivotControl.model.dataSource.catalog,cube:r.schemaData.model.pivotControl.model.dataSource.cube,url:r.schemaData.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_LEVELS"},h=r.schemaData.model.pivotControl.model.dataSource,e,o;for(e=n.map(h.rows,function(n){if(n.fieldName!=i)return n.fieldName}),n.merge(e,n.map(h.columns,function(n){if(n.fieldName!=i)return n.fieldName})),n.merge(e,n.map(h.filters,function(n){if(n.fieldName!=i)return n.fieldName})),o=0;o<n(u).find("row").length;o++){var f=n(n(u).find("row")[o]),c=f.find("DIMENSION_UNIQUE_NAME").text(),s=f.find("HIERARCHY_UNIQUE_NAME").text(),a=n(r.schemaData.model.pivotControl.schemaTreeView).filter(function(n,t){return t.tag==c}).map(function(n,t){return t});a.length>0&&c!=s&&r.schemaData.model.pivotControl.schemaTreeView.push({hasChildren:!0,isSelected:n.inArray(s,e)>=0,pid:c,id:s,name:f.find("HIERARCHY_CAPTION").text(),spriteCssClass:f.find("HIERARCHY_ORIGIN").text()!="2"&&f.find("HIERARCHY_ORIGIN").text()!="6"?"hierarchyCDB e-icon":"attributeCDB e-icon",tag:s})}t.Pivot._getTreeData(l,t.Pivot.loadLevelElements,r)},loadLevelElements:function(i,r){var f=n.map(n(r).find("row"),function(t){if(parseInt(n(t).children("LEVEL_TYPE").text())!="1"&&n(t).children("HIERARCHY_UNIQUE_NAME").text().toLowerCase()!="[measures]")return{hasChildren:!1,isChecked:!1,id:n(t).find("LEVEL_UNIQUE_NAME").text(),pid:n(t).find("HIERARCHY_UNIQUE_NAME").text(),name:n(t).find("LEVEL_CAPTION").text(),tag:n(t).find("LEVEL_UNIQUE_NAME").text(),spriteCssClass:"level"+parseInt(n(t).children("LEVEL_NUMBER").text())+" e-icon"}}),u;n.merge(i.schemaData.model.pivotControl.schemaTreeView,f);(!i.schemaData.model.pivotControl.model.enableDrillThrough||i.schemaData.model.pivotControl._fieldData.measureSuccess)&&(t.isNullOrUndefined(i.schemaData.model.pivotControl._fieldData)||!i.schemaData.model.pivotControl._fieldData.measureSuccess?(u={catalog:i.schemaData.model.pivotControl.model.dataSource.catalog,cube:i.schemaData.model.pivotControl.model.dataSource.cube,url:i.schemaData.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_MEASURES"},t.Pivot._getTreeData(u,t.Pivot.loadMeasureElements,i)):t.Pivot.loadMeasureElements(i,i.schemaData.model.pivotControl._fieldData.measureSuccess))},loadMeasureGroups:function(i,r){t.isNullOrUndefined(i.pivotControl._fieldData)&&(i.pivotControl._fieldData={});i.pivotControl._fieldData.measuresGroups=n(r).find("row")},loadMeasureElements:function(r,u){var o={catalog:r.schemaData.model.pivotControl.model.dataSource.catalog,cube:r.schemaData.model.pivotControl.model.dataSource.cube,url:r.schemaData.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_DIMENSIONS"},a=[],v=[],h,s,l;for(a=n.map(r.schemaData.model.pivotControl.model.dataSource.values,function(n){if(n.measures!=i)return n.measures}),r.schemaData.model.pivotControl.reportItemNames=n.map(a,function(n){if(n.fieldName!=i)return n.fieldName}),r.schemaData.model.pivotControl.model.locale!="en-US"&&(o={catalog:r.schemaData.model.pivotControl.model.dataSource.catalog,cube:r.schemaData.model.pivotControl.model.dataSource.cube,url:r.schemaData.model.pivotControl.model.dataSource.data,request:"MDSCHEMA_MEASUREGROUPS"},t.Pivot._getTreeData(o,t.Pivot.loadMeasureGroups,{pivotControl:r.schemaData.model.pivotControl,action:"loadFieldElements"})),s=0;s<n(u).find("row").length;s++){var c=n(n(u).find("row")[s]),f=c.children("MEASUREGROUP_NAME").text(),e=c.find("MEASURE_UNIQUE_NAME").text();n.inArray(f,v)>=0||(r.schemaData.model.pivotControl.model.locale!="en-US"?(l=n.map(r.schemaData.model.pivotControl._fieldData.measuresGroups,function(t){if(n(t).children("MEASUREGROUP_NAME").text()==f)return n(t).children("MEASUREGROUP_CAPTION").text()}),h=l.length>0?l[0]:f):h=f,r.schemaData.model.pivotControl.schemaTreeView.push({hasChildren:!0,isChecked:!1,pid:"[Measures]",id:f,name:h,spriteCssClass:"measureGroupCDB e-icon",tag:f}),v.push(f));r.schemaData.model.pivotControl.schemaTreeView.push({hasChildren:!0,isSelected:n.inArray(e,r.schemaData.model.pivotControl.reportItemNames)>=0,id:e,pid:f,name:c.children("MEASURE_CAPTION").text(),spriteCssClass:"measure",tag:e});n.inArray(e,r.schemaData.model.pivotControl.reportItemNames)>=0&&r.schemaData.model.pivotControl.reportItemNames.splice(r.schemaData.model.pivotControl.reportItemNames.indexOf(e),1)}!t.isNullOrUndefined(r.schemaData)&&r.schemaData.model.olap.showKpi?(treeNodeElement={hasChildren:!0,isChecked:!1,id:"folderStruct",name:"KPI",spriteCssClass:"KPICDB folderCDB e-icon",tag:""},r.schemaData.model.pivotControl.schemaTreeView.splice(1,0,treeNodeElement),o.request="MDSCHEMA_KPIS",r.schemaData.model.pivotControl._getTreeData(o,r.schemaData.model.pivotControl.loadKPIElements,r)):t.isNullOrUndefined(r.schemaData)||r.schemaData._createTreeView(this,r.schemaData.model.pivotControl.schemaTreeView)},loadKPIElements:function(t,i){for(var i=t.schemaData.model.pivotControl.model.dataSource,f=this.reportItemNames,l=[],e=0;e<n(i).find("row").length;e++){var u=n(n(i).find("row")[e]),r=u.children("KPI_CAPTION").text(),o=u.children("KPI_goal").text(),s=u.children("KPI_STATUS").text(),h=u.children("KPI_TREND").text(),c=u.find("KPI_VALUE").text();n.inArray(u.children("KPI_NAME").text(),l)>=0||(treeNodeElement={hasChildren:!0,isChecked:!1,pid:"folderStruct",id:r,name:r,spriteCssClass:"measureGroupCDB e-icon",tag:r},t.schemaData.model.pivotControl.schemaTreeView.push(treeNodeElement),l.push(r));treeNodeElement={hasChildren:!0,isSelected:n.inArray(o,f)>=0,id:o,pid:r,name:t.schemaData.model.pivotControl._getLocalizedLabels("Goal"),spriteCssClass:"kpiGoal e-icon",tag:o};t.schemaData.model.pivotControl.schemaTreeView.push(treeNodeElement);treeNodeElement={hasChildren:!0,isSelected:n.inArray(s,f)>=0,id:s,pid:r,name:t.schemaData.model.pivotControl._getLocalizedLabels("Status"),spriteCssClass:"kpiStatus e-icon",tag:s};t.schemaData.model.pivotControl.schemaTreeView.push(treeNodeElement);treeNodeElement={hasChildren:!0,isSelected:n.inArray(h,f)>=0,id:h,pid:r,name:t.schemaData.model.pivotControl._getLocalizedLabels("Trend"),spriteCssClass:"kpiTrend e-icon",tag:h};t.schemaData.model.pivotControl.schemaTreeView.push(treeNodeElement);treeNodeElement={hasChildren:!0,isSelected:n.inArray(c,f)>=0,id:c,pid:r,name:t.schemaData.model.pivotControl._getLocalizedLabels("Value"),spriteCssClass:"kpiValue e-icon",tag:c};t.schemaData.model.pivotControl.schemaTreeView.push(treeNodeElement)}t.schemaData._createTreeView(this,t.schemaData.model.pivotControl.schemaTreeView);delete t.schemaData.model.pivotControl.reportItemNames;delete t.schemaData.model.pivotControl.schemaTreeView},_getTreeData:function(n,i,r){var u=t.olap.base._getConnectionInfo(n.url),f='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis"><RequestType>'+n.request+"<\/RequestType><Restrictions><RestrictionList><CATALOG_NAME>"+n.catalog+"<\/CATALOG_NAME>"+(r.action=="loadcubelist"?"":"<CUBE_NAME>"+n.cube+"<\/CUBE_NAME>")+"<\/RestrictionList><\/Restrictions><Properties><PropertyList><Catalog>"+n.catalog+"<\/Catalog><LocaleIdentifier>"+u.LCID+"<\/LocaleIdentifier> <\/PropertyList><\/Properties><\/Discover><\/Body><\/Envelope>";r.action="loadFieldElements";this.doAjaxPost("POST",u.url,{XMLA:f},i,null,r)},updateTreeView:function(t){for(var o,f,e,u,r=0;r<t.element.find(".editorTreeView").find("li").length;r++)for(u=0;u<t._memberTreeObj.dataSource().length;u++)if(t.element.find(".editorTreeView").find("li")[r].id==t._memberTreeObj.dataSource()[u].id&&(n(t.element.find(".editorTreeView").find("li")[r]).find("span:first").attr("aria-checked")=="mixed"||n(t.element.find(".editorTreeView").find("li")[r]).find("span:first").attr("aria-checked")=="true")){t._memberTreeObj.dataSource()[u].checkedStatus=!0;break}else if(t.element.find(".editorTreeView").find("li")[r].id==t._memberTreeObj.dataSource()[u].id&&n(t.element.find(".editorTreeView").find("li")[r]).find("span:first").attr("aria-checked")=="false"){t._memberTreeObj.dataSource()[u].checkedStatus=!1;break}for(r=0;r<t._memberTreeObj.dataSource().length;r++)if(o=!1,t._memberTreeObj.dataSource()[r].checkedStatus==!0){for(u=0;u<t._memberTreeObj.dataSource().length;u++)if(t._memberTreeObj.dataSource()[u].hasOwnProperty("parentId")&&t._memberTreeObj.dataSource()[u].parentId==t._memberTreeObj.dataSource()[r].id&&t._memberTreeObj.dataSource()[u].checkedStatus==!0){o=!0;break}if(!o)for(f=0;f<t._memberTreeObj.dataSource().length;f++)t._memberTreeObj.dataSource()[f].hasOwnProperty("parentId")&&t._memberTreeObj.dataSource()[f].parentId==t._memberTreeObj.dataSource()[r].id&&(t._memberTreeObj.dataSource()[f].checkedStatus=!0)}else if(t._memberTreeObj.dataSource()[r].checkedStatus==!1)for(e=0;e<t._memberTreeObj.dataSource().length;e++)t._memberTreeObj.dataSource()[e].hasOwnProperty("parentId")&&t._memberTreeObj.dataSource()[e].parentId==t._memberTreeObj.dataSource()[r].id&&(t._memberTreeObj.dataSource()[e].checkedStatus=!1);for(r=0;r<t.element.find(".editorTreeView").find("li").length;r++)if(n(t.element.find(".editorTreeView").find("li")[r]).attr("tag")==null||i)for(u=0;u<t._memberTreeObj.dataSource().length;u++)if(n(t.element.find(".editorTreeView").find("li")[r])[0].id==t._memberTreeObj.dataSource()[u].id){n(t.element.find(".editorTreeView").find("li")[r]).attr("tag",t._memberTreeObj.dataSource()[u].tag);break}return t._memberTreeObj},getNodesState:function(n){for(var i="",r="",t=0;t<n.dataSource().length;t++)n.dataSource()[t].checkedStatus==!0?i+="::"+n.dataSource()[t].id+"||"+n.dataSource()[t].tag+"||"+n.dataSource()[t].parentId:r+="::"+n.dataSource()[t].parentId+"||"+n.dataSource()[t].tag;return{selectedNodes:i,unSelectedNodes:r}},removeParentSelectedNodes:function(t){for(var r,u=n.extend([],t),f=0;f<t.length;f++)for(r=0;r<u.length;r++)u[r].Id==t[f].parentId&&u.splice(r,1);return n.map(u,function(n){if(n.tag!=""&&n.tag!=i)return n.tag.replace(/\&/g,"&amp;")})},getChildNodes:function(r,u,f,e,o){var s=r.targetElement,p=e.cube,w=e.catalog,b=e.data,k=o._generateChildMembers,v=n(r.currentElement).find("li").length,h=!1,l,y,c,a;v==0&&(l=n(s).parents("li:eq(0)").attr("id"),y=n.map(f,function(r){r.fieldName!=u||t.isNullOrUndefined(r.filterItems)||n.map(r.filterItems,function(n){n.parentId!=i&&n.parentId==l.replace(/\]*\]/g,"-").replace(/\[*\[/g,"-")&&(h=!0)})}),r.isChildLoaded=h?!0:!1,h||(n(s).parents("li:eq(0)").attr("tag")==i&&(c=n.map(f,function(n){if(n.fieldName==u)return n})[0],c&&n.map(c.filterItems,function(t){t.id==n(s).parents("li:eq(0)").attr("id")&&n(s).parents("li:eq(0)").attr("tag",t.tag)})),a=n(s).parents("li:eq(0)").attr("tag").replace(/\&/g,"&amp;"),t.olap._mdxParser.getChildren(e,a,o)))},_getFilterParams:function(n,i,r){var o="",f,u,e;if(n!="schemaValue"){if(f="",!t.isNullOrUndefined(i))for(u=0;u<i.length;u++)if(!t.isNullOrUndefined(i[u][r]))for(e=0;e<i[u][r].length;e++)f+="##"+i[u][r][e];f!=""&&(o=n+"::"+r+"::FILTERED"+f)}return o},generateChildMembers:function(t,i){for(var e=n(i).find("Axis:eq(0) Tuple"),f=[],r=n("[tag='"+t.currentNode.replace(/&amp;/g,"&")+"']"),u=0;u<e.length;u++){var o=n(n(i).find("Axis:eq(0) Tuple:eq("+u+")").children().children()[0]).text(),s=n(n(i).find("Axis:eq(0) Tuple:eq("+u+")").children()).find("Caption").text(),h={hasChildren:n(e[u]).find("CHILDREN_CARDINALITY").text()!="0",checkedStatus:!1,id:o.replace(/\]*\]/g,"-").replace(/\[*\[/g,"-"),name:s,tag:o};f.push(h)}parentNode=n(r).parents("li").length>1?n(r).parents("li").first():n(r).parents("li");r.find(".e-load").removeClass("e-load");n(n(parentNode).find("input.nodecheckbox")[0]).ejCheckBox({checked:!1});this._memberTreeObj=n(".editorTreeView").data("ejTreeView");this._memberTreeObj.addNode(f,n(r));n.each(r.find("li"),function(n,t){t.setAttribute("tag",f[n].tag)})},createAdvanceFilterTag:function(i,r){var f="",u=t.buildTag("li.e-separator").css("margin-left","29px")[0].outerHTML,e,o,s,h,c,l,a;return i.action=="valueFiltering"?f=t.buildTag("ul.filterElementTag#valueFilterBtn",t.buildTag("li",t.buildTag("a",r._getLocalizedLabels("ValueFilters"))[0].outerHTML+t.buildTag("ul.elements",t.buildTag("li.clearFilter",t.buildTag("a",t.buildTag("span.e-clrFilter").addClass("e-icon").attr("aria-label","clear filter")[0].outerHTML+r._getLocalizedLabels("ClearFilter"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.equals",t.buildTag("a",r._getLocalizedLabels("Equals"))[0].outerHTML)[0].outerHTML+t.buildTag("li.notequals",t.buildTag("a",r._getLocalizedLabels("NotEquals"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.greaterthan",t.buildTag("a",r._getLocalizedLabels("GreaterThan"))[0].outerHTML)[0].outerHTML+t.buildTag("li.greaterthanorequalto",t.buildTag("a",r._getLocalizedLabels("GreaterThanOrEqualTo"))[0].outerHTML)[0].outerHTML+t.buildTag("li.lessthan",t.buildTag("a",r._getLocalizedLabels("LessThan"))[0].outerHTML)[0].outerHTML+t.buildTag("li.lessthanorequalto",t.buildTag("a",r._getLocalizedLabels("LessThanOrEqualTo"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.between",t.buildTag("a",r._getLocalizedLabels("Between"))[0].outerHTML)[0].outerHTML+t.buildTag("li.notbetween",t.buildTag("a",r._getLocalizedLabels("NotBetween"))[0].outerHTML)[0].outerHTML+(r.model.pivotControl&&r.model.pivotControl.model.operationalMode==t.Pivot.OperationalMode.ServerMode?u+t.buildTag("li.topCount",t.buildTag("a",r._getLocalizedLabels("Top10"))[0].outerHTML)[0].outerHTML:""))[0].outerHTML)[0].outerHTML)[0].outerHTML:i.action=="labelFiltering"?f=t.buildTag("ul.filterElementTag#labelFilterBtn",t.buildTag("li",t.buildTag("a",r._getLocalizedLabels("LabelFilters"))[0].outerHTML+t.buildTag("ul.elements",t.buildTag("li.clearFilter",t.buildTag("a",t.buildTag("span.e-clrFilter").addClass("e-icon").attr("aria-label","clear filter")[0].outerHTML+r._getLocalizedLabels("ClearFilter"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.equals",t.buildTag("a",r._getLocalizedLabels("Equals"))[0].outerHTML)[0].outerHTML+t.buildTag("li.notequals",t.buildTag("a",r._getLocalizedLabels("NotEquals"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.beginswith",t.buildTag("a",r._getLocalizedLabels("BeginsWith"))[0].outerHTML)[0].outerHTML+t.buildTag("li.notbeginswith",t.buildTag("a",r._getLocalizedLabels("NotBeginsWith"))[0].outerHTML)[0].outerHTML+t.buildTag("li.endswith",t.buildTag("a",r._getLocalizedLabels("EndsWith"))[0].outerHTML)[0].outerHTML+t.buildTag("li.notendswith",t.buildTag("a",r._getLocalizedLabels("NotEndsWith"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.contains",t.buildTag("a",r._getLocalizedLabels("Contains"))[0].outerHTML)[0].outerHTML+t.buildTag("li.notcontains",t.buildTag("a",r._getLocalizedLabels("NotContains"))[0].outerHTML)[0].outerHTML+u+t.buildTag("li.greaterthan",t.buildTag("a",r._getLocalizedLabels("GreaterThan"))[0].outerHTML)[0].outerHTML+t.buildTag("li.greaterthanorequalto",t.buildTag("a",r._getLocalizedLabels("GreaterThanOrEqualTo"))[0].outerHTML)[0].outerHTML+t.buildTag("li.lessthan",t.buildTag("a",r._getLocalizedLabels("LessThan"))[0].outerHTML)[0].outerHTML+t.buildTag("li.lessthanorequalto",t.buildTag("a",r._getLocalizedLabels("LessThanOrEqualTo"))[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML:i.action=="clearFilter"?f=t.buildTag("div.clearSorting",t.buildTag("span.e-clrSort","",{padding:"0px 10px 0px 4px"}).addClass("e-icon").attr("aria-label","clear sort")[0].outerHTML+t.buildTag("span.clearSortText","Clear Sorting",{padding:"5px 0px"})[0].outerHTML)[0].outerHTML+t.buildTag("div.separator",{padding:"5px 0px"})[0].outerHTML+t.buildTag("div.clearAllFilters",t.buildTag("span.e-clrFilter","",{padding:"0px 10px 0px 4px"}).addClass("e-icon").attr("aria-label"," clear filter")[0].outerHTML+t.buildTag("span.clearFltrText",'Clear Filter From "'+i.selectedLevel.text+'"',{padding:"5px 0px"})[0].outerHTML)[0].outerHTML:i.action=="sort"?f=t.buildTag("div#sortDiv.sortDiv",t.buildTag("li#ascOrder.ascOrder",t.buildTag("span.ascImage").addClass("e-icon").attr("aria-label","ascending")[0].outerHTML+r._getLocalizedLabels("Sort")+" A to Z")[0].outerHTML+t.buildTag("li#descOrder.descOrder",t.buildTag("span.descImage").addClass("e-icon").attr("aria-label","descending")[0].outerHTML+r._getLocalizedLabels("Sort")+" Z to A")[0].outerHTML)[0].outerHTML:(i.action=="labelFilterDlg"||i.action=="valueFilterDlg")&&(e="",o=[],i.action=="labelFilterDlg"?(e=t.buildTag("table.labelfilter",t.buildTag("tr",t.buildTag("td",r._getLocalizedLabels("LabelFilterLabel")).attr("colspan","2")[0].outerHTML)[0].outerHTML+t.buildTag("tr",t.buildTag("td","<input type='text' id='filterOptions' class='filterOptions'  style='width:220px'/>")[0].outerHTML+t.buildTag("td.filterValuesTd","<input type='text' id='filterValue1'  value='"+(i.filterInfo.length>0?i.filterInfo[0].value1:"")+"' style='display:inline; width:160px; height:19px; margin-left:7px;' class='filterValues'/><\/br>")[0].outerHTML)[0].outerHTML)[0].outerHTML,o=[{value:"equals",option:r._getLocalizedLabels("Equals")},{value:"not equals",option:r._getLocalizedLabels("NotEquals")},{value:"begins with",option:r._getLocalizedLabels("BeginsWith")},{value:"not begins with",option:r._getLocalizedLabels("NotBeginsWith")},{value:"ends with",option:r._getLocalizedLabels("EndsWith")},{value:"not ends with",option:r._getLocalizedLabels("NotEndsWith")},{value:"contains",option:r._getLocalizedLabels("Contains")},{value:"not contains",option:r._getLocalizedLabels("NotContains")},{value:"greater than",option:r._getLocalizedLabels("GreaterThan")},{value:"greater than or equal to",option:r._getLocalizedLabels("GreaterThanOrEqualTo")},{value:"less than",option:r._getLocalizedLabels("LessThan")},{value:"less than or equal to",option:r._getLocalizedLabels("LessThanOrEqualTo")},]):(s=[],c=n(i.selectedArgs.element).hasClass("between")||n(i.selectedArgs.element).hasClass("notbetween")||i.selectedArgs.value=="between"||i.selectedArgs.value=="not between"?"4":"3",s=n.map(r.element.find(".cubeTreeView [tag*='[Measures]'] "),function(t){return{option:n(t).text(),value:n(t).attr("tag")}}),h=n(i.selectedArgs.element).hasClass("topCount")?t.buildTag("td","<input type='text' id='filterOptions' class='filterOptions' />").attr("width","80px")[0].outerHTML+t.buildTag("td","<input type='text' id='filterValue1' class='filterValues' />").attr("width","50px")[0].outerHTML+t.buildTag("td","<input type='text' id='filterMeasures' class='filterMeasures' />").attr("width","180px")[0].outerHTML:t.buildTag("td","<input type='text' id='filterMeasures' class='filterMeasures' />").attr("width","180px")[0].outerHTML+t.buildTag("td","<input type='text' id='filterOptions' class='filterOptions'/>").attr("width","180px")[0].outerHTML+t.buildTag("td.filterValuesTd","<input type='text' id='filterValue1' value='"+(i.filterInfo.length>0?i.filterInfo[0].value1:"")+"' style='display:inline; width:190px; height:19px;' class='filterValues'/>"+(c=="4"?"<span> and <\/span><input type='text' id='filterValue2' value='"+(i.filterInfo.length>0?i.filterInfo[0].value2:"")+"' style='display:inline; width:190px; height:19px;' class='filterValues'/> <\/br>":"<\/br>"))[0].outerHTML,e=t.buildTag("table.valuefilter",t.buildTag("tr",t.buildTag("td",r._getLocalizedLabels("ValueFilterLabel")).attr("colspan",i.text=="Between"?"4":"3")[0].outerHTML)[0].outerHTML+t.buildTag("tr",h)[0].outerHTML)[0].outerHTML,o=[{value:"equals",option:r._getLocalizedLabels("Equals")},{value:"not equals",option:r._getLocalizedLabels("NotEquals")},{value:"greater than",option:r._getLocalizedLabels("GreaterThan")},{value:"greater than or equal to",option:r._getLocalizedLabels("GreaterThanOrEqualTo")},{value:"less than",option:r._getLocalizedLabels("LessThan")},{value:"less than or equal to",option:r._getLocalizedLabels("LessThanOrEqualTo")},{value:"between",option:r._getLocalizedLabels("Between")},{value:"not between",option:r._getLocalizedLabels("NotBetween")}]),l=t.buildTag("div",t.buildTag("button#filterDlgOKBtn.dialogOKBtn","OK")[0].outerHTML+t.buildTag("button#filterDlgCancelBtn.dialogCancelBtn","Cancel")[0].outerHTML,{float:"right",margin:"8px 0 6px"})[0].outerHTML,r.element.find(".e-dialog").remove(),n(t.buildTag("div#filterDialog.filterDialog",e+l,{opacity:"1"})).appendTo("#"+r._id),r.element.find(".filterDialog").ejDialog({enableResize:!1,width:"auto",content:"#"+r._id,close:r._onPreventPanelClose}),i.action=="valueFilterDlg"&&(r.element.find(".filterMeasures").ejDropDownList({dataSource:s,width:"180px",height:"25px",fields:{text:"option",value:"value"},selectedIndices:[0]}),i.filterInfo.length>0&&(a=r.element.find(".filterMeasures").data("ejDropDownList"),a.selectItemByValue(i.filterInfo[0].measure))),n(i.selectedArgs.element).hasClass("topCount")?(r.element.find("#filterOptions").ejDropDownList({dataSource:[{option:"Top",value:"topCount"},{option:"Bottom",value:"BottomCount"}],fields:{text:"option",value:"value"},value:i.filterInfo.length>0?i.filterInfo[0].operator:"topCount"}),r.element.find("#filterValue1").ejNumericTextbox({value:i.filterInfo.length>0?parseInt(i.filterInfo[0].value1):5,minValue:1})):r.element.find(".filterOptions").ejDropDownList({dataSource:o,width:"180px",height:"25px",fields:{value:"value",text:"option"},text:i.selectedArgs.text,change:t.proxy(r._filterOptionChanged,r)}),r.element.find("#filterDlgOKBtn").ejButton({click:t.proxy(r._filterElementOkBtnClick,r)}),r.element.find("#filterDlgCancelBtn").ejButton({type:t.ButtonType.Button,click:function(){n(".e-dialog").hide();var i=n(r.element).parents(".e-pivotgrid").data("ejPivotGrid");i=t.isNullOrUndefined(i)&&!t.isNullOrUndefined(r._onPreventPanelClose)?r:i;i._onPreventPanelClose()}}),r.element.find(".e-titlebar").prepend(t.buildTag("div",(i.action=="valueFilterDlg"?"Value Filter (":"Label Filter (")+r._selectedLevelUniqueName.split(".")[2].replace(/\[/g,"").replace(/\]/g,"")+")",{display:"inline"}))),f}};t.Pivot.AnalysisMode={Olap:"olap",Pivot:"pivot"};t.Pivot.OperationalMode={ClientMode:"clientmode",ServerMode:"servermode"}}(jQuery,Syncfusion)});
