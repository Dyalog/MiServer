/*!
*  filename: ej.pivotclient.min.js
*  version : 14.3.0.49
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.globalize.min","./../common/ej.core.min","./../common/ej.data.min","./../common/ej.touch.min","./../common/ej.draggable.min","./../common/ej.scroller.min","./ej.button.min","./ej.checkbox.min","./ej.dropdownlist.min","./ej.dialog.min","./ej.toolbar.min","./ej.maskedit.min","./ej.waitingpopup.min","./ej.treeview.min","./ej.tab.min","./ej.pivotchart.min","./ej.pivotgrid.min","./../datavisualization/ej.vmlrenderer.min","./../datavisualization/ej.svgrenderer.min","./../datavisualization/ej.axisrenderer.min","./../datavisualization/ej.legendrender.min","./../datavisualization/ej.seriesrender.min","./../datavisualization/ej.chart.min","./../datavisualization/ej.synchart.min","./ej.pivot.common.min"],n):n()})(function(){(function(n,t,i){t.widget("ejPivotClient","ej.PivotClient",{_rootCSS:"e-pivotclient",element:null,model:null,validTags:["div","span"],defaults:{url:"",cssClass:"",title:"",gridLayout:"normal",chartType:"column",clientExportMode:"chartandgrid",enableDeferUpdate:!1,enablePivotTreeMap:!1,enableRTL:!1,enableAdvancedFilter:!1,enablePaging:!1,enableLocalStorage:!1,enableVirtualScrolling:!1,enableMemberEditorPaging:!1,dataSource:{data:null,enableAdvancedFilter:!1,reportName:"Default",columns:[],cube:"",catalog:"",rows:[],values:[],filters:[],pagerOptions:{categoricalPageSize:0,seriesPageSize:0,categoricalCurrentPage:0,seriesCurrentPage:0}},exportSettings:{excelUrl:window.baseurl+"api/JSXLExport/ExportToExcel",wordUrl:window.baseurl+"api/JSXLExport/ExportToCsv",pdfUrl:window.baseurl+"api/JSXLExport/ExportToPdf"},displaySettings:{mode:"chartandgrid",defaultView:"grid",controlPlacement:"tab",enableTogglePanel:!1,isResponsive:!1,enableFullScreen:!1},serviceMethodSettings:{initialize:"InitializeClient",removeSplitButton:"RemoveSplitButton",filterElement:"FilterElement",nodeDropped:"NodeDropped",toggleAxis:"ToggleAxis",fetchMemberTreeNodes:"FetchMemberTreeNodes",cubeChanged:"CubeChanged",measureGroupChanged:"MeasureGroupChanged",toolbarServices:"ToolbarOperations",memberExpand:"MemberExpanded",saveReport:"SaveReportToDB",fetchReportList:"FetchReportListFromDB",loadReport:"LoadReportFromDB",updateReport:"UpdateReport",exportPivotClient:"Export",mdxQuery:"GetMDXQuery",paging:"Paging"},customObject:{},enableMeasureGroups:!1,locale:"en-US",analysisMode:"olap",operationalMode:"clientmode",renderSuccess:null,renderFailure:null,renderComplete:null,load:null,chartLoad:null,treeMapLoad:null,beforeExport:null,beforeServiceInvoke:null,afterServiceInvoke:null,saveReport:null,loadReport:null,fetchReport:null,memberEditorPageSize:100},dataTypes:{displaySettings:"data",serviceMethodSettings:"data",customObject:"data"},observables:["title","gridLayout","displaySettings.mode","displaySettings.defaultView","displaySettings.controlPlacement","displaySettings.enableTogglePanel","locale"],title:t.util.valueFunction("title"),gridLayout:t.util.valueFunction("gridLayout"),displayMode:t.util.valueFunction("displaySettings.mode"),defaultView:t.util.valueFunction("displaySettings.defaultView"),controlPlacement:t.util.valueFunction("displaySettings.controlPlacement"),enableTogglePanel:t.util.valueFunction("displaySettings.enableTogglePanel"),locale:t.util.valueFunction("locale"),_init:function(){this._initPrivateProperties();this._load()},_initPrivateProperties:function(){this._id=this.element.attr("id");oclientProxy=this;currentReport="";currentCubeName="";reports="";reportsCount=0;this._pivotGrid=null;this._pivotChart=null;this._pivotSchemaDesigner=null;otreemapObj=null;chartObj=null;this._deferReport="";this._keypress=!1;memberTreeObj=null;this._chartHeight=0;this._chartWidth=0;this._gridHeight=0;this._gridWidth=0;this._initStyles=[];this._toggleStyles=[];this._initToggle=!0;this._toggleExpand=!1;this._treemapRender=!1;this._dimensionName="";this._dllSortMeasure=null;this._selectedFieldName="";this._axis="";this._isSorted=!1;this._isFiltered=!1;this._sortOrFilterTab="";this._currentAxis="";this._parentElwidth=0;this.pNode="";this.progressPos=null;this._selectedReport="";this._isMembersFiltered=!1;this._pagerObj=null;this._dialogTitle="";this._dataModel=" ";this._clientReportCollection=[];this._drillParams=[];this._drillInfo=[];draggedSplitBtn=null;isDragging=!1;isDropped=!1;measureGroupInfo="";currentTab=this.defaultView();this._currentItem=null;this._currentReportItems=[];this._treeViewData={};this._memberPageSettings={currentMemebrPage:1,startPage:0,endPage:0};this._isNodeOrButtonDropped=!1;this._ischartTypesChanged=!1;this._isrenderTreeMap=!1;this._isRemoved=!1;this._waitingPopup=null;this._isGridDrillAction=!1;this._isChartDrillAction=!1;this._olapReport="";this._jsonRecords=null;this._excelFilterInfo=[];this._index={tab:0,icon:1,chartimg:0,button:1,dialog:0,editor:0,tree:0};this._curFocus={tab:null,icon:null,chartimg:null,button:null,dialog:null,editor:null,tree:null};this._seriesCurrentPage=1;this._categCurrentPage=1;this._isReportListAction=!0;this._pagingSavedObjects={drillEngine:[],savedHdrEngine:[],curDrilledItem:{}}},getOlapReport:function(){return JSON.parse(this._olapReport)},setOlapReport:function(n){this._olapReport=JSON.stringify(n)},getJSONRecords:function(){return JSON.parse(this._jsonRecords)},setJSONRecords:function(n){this._jsonRecords=JSON.stringify(n)},_destroy:function(){this.element.empty().removeClass("e-pivotclient"+this.model.cssClass);this._waitingPopup!=i&&this._waitingPopup._destroy();delete oclientProxy},_load:function(){var r={element:this.element,customObject:this.model.customObject},i;this._trigger("load",r);this.element.addClass(this.model.cssClass);n("#"+this._id).ejWaitingPopup({showOnInit:!0});this._waitingPopup=n("#"+this._id).data("ejWaitingPopup");this.model.dataSource.data==null&&this.model.url!=""||this.model.operationalMode==t.Pivot.OperationalMode.ServerMode?(this.model.operationalMode=t.Pivot.OperationalMode.ServerMode,t.isNullOrUndefined(this.model.beforeServiceInvoke)||this._trigger("beforeServiceInvoke",{action:"initializeClient",element:this.element,customObject:this.model.customObject}),i=JSON.stringify(this.model.customObject),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.initialize,JSON.stringify({action:"initializeClient",customObject:i,clientParams:this.model.enableMeasureGroups+"-"+this.model.chartType}),this._renderControlSuccess)):(this.model.operationalMode=t.Pivot.OperationalMode.ClientMode,this.model.analysisMode=this.model.dataSource.cube!=""?t.Pivot.AnalysisMode.Olap:t.Pivot.AnalysisMode.Pivot,this._renderLayout(),this._createControl(),this._waitingPopup.hide())},_renderClientControls:function(t){this._renderLayout();this.setOlapReport(t.PivotReport);var i=n.parseJSON(t.PivotReport);this.currentReport=this.getOlapReport()!=""?JSON.parse(this.getOlapReport()).Report:"";this.setJSONRecords({GridJSON:t.GridJSON,ChartJSON:t.ChartJSON});this._createControl()},_createControl:function(){var f="",e,s,r,i,u;if(this.element.find("#PivotSchemaDesigner").ejPivotSchemaDesigner({enableRTL:this.model.enableRTL,pivotControl:this,layout:t.PivotSchemaDesigner.Layouts.OneByOne,olap:{showKPI:!1,showNamedSets:!1},locale:this.model.locale,height:"597px",width:"416px"}),this.model.enablePaging&&this.element.find("#Pager").ejPivotPager({locale:this.model.locale,mode:t.PivotPager.Mode.Both,targetControlID:this._id}),this.model.enableMeasureGroups&&this._createMeasureGroup(),e=[{name:this.model.dataSource.reportName}],this.element.find(".reportlist").ejDropDownList({dataSource:e,enableRTL:this.model.enableRTL,fields:{text:"name",value:"name"},height:"26px"}),this.element.find(".reportlist").attr("tabindex",0),this.model.operationalMode==t.Pivot.OperationalMode.ClientMode&&this._clientReportCollection.push(oclientProxy.model.dataSource),this.model.analysisMode==t.Pivot.AnalysisMode.Olap&&this.model.operationalMode!=t.Pivot.OperationalMode.ClientMode){var o=oclientProxy.element.find(".csHeader").width()-oclientProxy.element.find(".cubeText").width()-oclientProxy.element.find(".toggleExpandButton").width()-20,h=oclientProxy.enableTogglePanel()?o-25:o,c=f==""?"":n.parseJSON(f);this.element.find(".cubeSelector").ejDropDownList({dataSource:c,enableRTL:this.model.enableRTL,fields:{text:"name",value:"name"},width:""+h+"px"});s=this.element.find(".cubeSelector").data("ejDropDownList");s.selectItemByText(this.currentCubeName)}r=this.element.find("#reportList").data("ejDropDownList");this._isReportListAction=!1;r.model.dataSource.length&&r.selectItemByText(r.model.dataSource[0].name);this._isReportListAction=!0;this._selectedReport=r._currentText;this.element.find(".cubeSelector").ejDropDownList("option","change",t.proxy(oclientProxy._cubeChanged,oclientProxy));this.element.find(".cubeSelector").attr("tabindex",0);this.element.find(".reportlist").ejDropDownList("option","change",t.proxy(this._reportChanged,oclientProxy));oclientProxy.model.enableMeasureGroups&&oclientProxy.element.find(".measureGroupSelector").ejDropDownList("option","change",t.proxy(oclientProxy._measureGroupChanged,oclientProxy));this.element.find("#clientTab").ejTab({enableRTL:this.model.enableRTL,itemActive:t.proxy(this._onTabClick,this)});oclientProxy.displayMode()!="chartonly"&&(this.element.find("#PivotGrid").ejPivotGrid({locale:this.model.locale,enableRTL:this.model.enableRTL,analysisMode:this.model.analysisMode,operationalMode:this.model.operationalMode,drillSuccess:t.proxy(this.model.operationalMode==t.Pivot.OperationalMode.ServerMode?this._gridDrillSuccess:this._clientGridDrillSuccess,this),enableCollapseByDefault:!0}),this._pivotGrid=this.element.find("#PivotGrid").data("ejPivotGrid"),this._pivotGrid._waitingPopup=this._waitingPopup,this._pivotGrid.model.url=this.model.url,this._pivotGrid.model.dataSource=this.model.dataSource);oclientProxy.displayMode()!="gridonly"&&(this.element.find("#PivotChart").ejPivotChart({locale:this.model.locale,enableRTL:this.model.enableRTL,analysisMode:this.model.analysisMode,operationalMode:this.model.operationalMode,drillSuccess:t.proxy(this.model.operationalMode==t.Pivot.OperationalMode.ServerMode?this._chartDrillSuccess:this._clientChartDrillSuccess,this),size:{height:this._chartHeight,width:this._chartWidth},commonSeriesOptions:{tooltip:{visible:!0}}}),this._pivotChart=this.element.find("#PivotChart").data("ejPivotChart"),this._pivotChart._waitingPopup=this._waitingPopup,this._pivotChart.model.url=this.model.url,this._pivotChart.model.dataSource=this.model.dataSource);this._pivotSchemaDesigner=this.element.find("#PivotSchemaDesigner").data("ejPivotSchemaDesigner");i={};this._pivotChart!=null&&(this.element.find("#PivotChart").width(this._pivotChart.model.size.width),i.chartModelWidth=this._pivotChart.model.size.width);i.controlPanelWidth=this.element.find(".controlPanel").width();i.chartOuterWidth=this._chartWidth;i.gridOuterWidth=this._gridWidth;this._initStyles.push(i);this.model.isResponsive&&(this._enableResponsive(),this._parentElwidth=n("#"+this._id).parent().width(),this._parentElwidth<850?this._rwdToggleCollapse():this._parentElwidth>850&&this._rwdToggleExpand(),this._pivotSchemaDesigner.element.width((this._pivotSchemaDesigner.element.width()-30)/this._pivotSchemaDesigner.element.width()*100+"%"));this.enableTogglePanel()&&this.element.find(".pivotFieldList").length>0&&(this.element.find(".togglePanel").height(this.element.find("#PivotSchemaDesigner").parents("td:eq(0)").height()-30).width(14),this.element.find(".toggleExpandButton,.toggleCollapseButton").css("margin-top",(this.element.find("#PivotSchemaDesigner").parents("td:eq(0)").height()-9)/2),this.element.find(".togglePanel").children().addClass("toggleButtons"));this._trigger("renderSuccess",this);this.model.analysisMode==t.Pivot.AnalysisMode.Olap?(t.olap.base.getJSONData({action:"initialLoad"},this.model.dataSource,this),this.element.find(".fieldTable").css("border","none"),this.element.find(".schemaFieldTree").addClass("olapFieldList")):this.model.operationalMode==t.Pivot.OperationalMode.ServerMode?(this.displayMode()!=t.PivotClient.DisplayMode.ChartOnly&&(this._pivotGrid.setJSONRecords(this.getJSONRecords().GridJSON),this._pivotGrid.setOlapReport(this.getOlapReport()),this.model.gridLayout=="excellikelayout"?this._pivotGrid.excelLikeLayout(this._pivotGrid.getJSONRecords()):this._pivotGrid.renderControlFromJSON()),this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&this._pivotChart.renderControlSuccess({JsonRecords:this.getJSONRecords().ChartJSON,OlapReport:this.getOlapReport()}),this.currentReport=this.getOlapReport()!=""?JSON.parse(this.getOlapReport()).Report:""):(u=t.PivotAnalysis.pivotEnginePopulate(this.model),this.displayMode()!=t.PivotClient.DisplayMode.ChartOnly&&(this._pivotGrid.setJSONRecords(JSON.stringify(u.json)),this.model.gridLayout=="excellikelayout"?this._pivotGrid.excelLikeLayout(u.json):this._pivotGrid.renderControlFromJSON()),this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(this._pivotChart.setPivotEngine(u.pivotEngine),this._pivotChart._generateData(u.pivotEngine)));this._unWireEvents();this._wireEvents()},_createMeasureGroup:function(){this.element.find(".measureGroupselector").remove();n("<div class ='measureGroupselector' style='margin:5px 5px 0px 5px'><input type='text' id='measureGroupSelector' class='measureGroupSelector' /><\/div>").prependTo(".cubeBrowser");this.element.find(".measureGroupSelector").ejDropDownList({dataSource:oclientProxy.measureGroupInfo,enableRTL:this.model.enableRTL,fields:{text:"name",value:"name"},height:"25px",width:"100%"});this.element.find(".measureGroupSelector").attr("tabindex",0);measureDropTarget=oclientProxy.element.find(".measureGroupSelector").data("ejDropDownList");measureDropTarget.selectItemByText(measureDropTarget.model.dataSource[0].name);this.element.find(".measureGroupSelector").ejDropDownList("option","change",t.proxy(oclientProxy._measureGroupChanged,oclientProxy))},refreshControl:function(r){var s,o;if(t.isNullOrUndefined(this._pivotSchemaDesigner)||this._pivotSchemaDesigner._refreshPivotButtons(),this.element.find(".chartTypesDialog").length>0&&this.element.find(".chartTypesDialog").remove(),this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(this._pivotChart._labelCurrentTags={}),this.model.operationalMode==t.Pivot.OperationalMode.ServerMode){var u=null,f=null,e=null;r[0]!=i?(u=r[0].Value,f=r[1].Value,e=r[2].Value):t.isNullOrUndefined(r.d)?(u=r.PivotReport,f=r.GridJSON,e=r.ChartJSON):(u=r.d[0].Value,f=r.d[1].Value,e=r.d[2].Value);s=this;this._clientReportCollection=n.map(this._clientReportCollection,function(n){return n.report=n.name==s._currentReportName?JSON.parse(u).Report:n.report,n});this._pivotGrid.setJSONRecords(f);this._pivotGrid.renderControlFromJSON();this._pivotChart.renderControlSuccess({OlapReport:u,JsonRecords:e})}else this.model.analysisMode==t.PivotChart.AnalysisMode.Pivot?(o=t.PivotAnalysis.pivotEnginePopulate(this.model),this.generateJSON({tranposeEngine:o.pivotEngine,jsonObj:o.json})):t.olap.base.getJSONData({action:"initialLoad"},this.model.dataSource,this)},_setFirst:!0,_setModel:function(n){for(var t in n)switch(t){case"title":this.element.find(".titleText").text(this.title());break;case"currentCubeName":this.currentCubeName=n[t];break;case"gridLayout":this._renderPivotGrid();break;case"olapReport":this.currentReport=n[t];break;case"clientReports":this.reports=n[t];break;case"customObject":this.model.customObject=n[t];break;case"locale":this.locale();(this._pivotGrid||this._pivotChart)&&this._load();break;case"displaySettings":(this._pivotGrid||this._pivotChart)&&this._load()}},_updateTreeView:function(){for(var e,u,f,r,t=0;t<n(".editorTreeView").find("li").length;t++)for(r=0;r<oclientProxy.memberTreeObj.dataSource().length;r++)if(n(".editorTreeView").find("li")[t].id==oclientProxy.memberTreeObj.dataSource()[r].id&&(n(n(".editorTreeView").find("li")[t]).find("span:first").attr("aria-checked")=="mixed"||n(n(".editorTreeView").find("li")[t]).find("span:first").attr("aria-checked")=="true")){oclientProxy.memberTreeObj.dataSource()[r].checkedStatus=!0;break}else if(n(".editorTreeView").find("li")[t].id==oclientProxy.memberTreeObj.dataSource()[r].id&&n(n(".editorTreeView").find("li")[t]).find("span:first").attr("aria-checked")=="false"){oclientProxy.memberTreeObj.dataSource()[r].checkedStatus=!1;break}for(t=0;t<oclientProxy.memberTreeObj.dataSource().length;t++)if(e=!1,oclientProxy.memberTreeObj.dataSource()[t].checkedStatus==!0){for(r=0;r<oclientProxy.memberTreeObj.dataSource().length;r++)if(oclientProxy.memberTreeObj.dataSource()[r].hasOwnProperty("pid")&&oclientProxy.memberTreeObj.dataSource()[r].pid==oclientProxy.memberTreeObj.dataSource()[t].id&&oclientProxy.memberTreeObj.dataSource()[r].checkedStatus==!0){e=!0;break}if(!e)for(u=0;u<oclientProxy.memberTreeObj.dataSource().length;u++)oclientProxy.memberTreeObj.dataSource()[u].hasOwnProperty("pid")&&oclientProxy.memberTreeObj.dataSource()[u].pid==oclientProxy.memberTreeObj.dataSource()[t].id&&(oclientProxy.memberTreeObj.dataSource()[u].checkedStatus=!0)}else if(oclientProxy.memberTreeObj.dataSource()[t].checkedStatus==!1)for(f=0;f<oclientProxy.memberTreeObj.dataSource().length;f++)oclientProxy.memberTreeObj.dataSource()[f].hasOwnProperty("pid")&&oclientProxy.memberTreeObj.dataSource()[f].pid==oclientProxy.memberTreeObj.dataSource()[t].id&&(oclientProxy.memberTreeObj.dataSource()[f].checkedStatus=!1);for(t=0;t<n(".editorTreeView").find("li").length;t++)if(n(n(".editorTreeView").find("li")[t]).attr("tag")==null||i)for(r=0;r<oclientProxy.memberTreeObj.dataSource().length;r++)if(n(n(".editorTreeView").find("li")[t])[0].id==oclientProxy.memberTreeObj.dataSource()[r].id){n(n(".editorTreeView").find("li")[t]).attr("tag",oclientProxy.memberTreeObj.dataSource()[r].tag);break}},_getMeasuresList:function(){var t="";return this.element.find(".memberEditorDiv").find("div").each(function(){t+=n(this)[0].id+","}),t},_getUnSelectedNodes:function(){var t="",n;if(oclientProxy._currentItem.indexOf("Measures")<0)for(n=0;n<oclientProxy.memberTreeObj.dataSource().length;n++)oclientProxy.memberTreeObj.dataSource()[n].checkedStatus==!1&&(t+="::"+oclientProxy.memberTreeObj.dataSource()[n].id+"||"+oclientProxy.memberTreeObj.dataSource()[n].tag);return t},_getSelectedNodes:function(t){var i,e,o,f,u,r;if(t){var h=this.element.find(".editorTreeView")[0].childNodes[0],u=[],s=n(h).children();for(r=0;r<s.length;r++){if(i=s[r],e={caption:n(i.firstChild).find("a").text(),parentId:i.parentElement.parentElement.className.indexOf("editorTreeView")>-1?"None":n(i).parents()[1].id,id:i.id,checked:n(i).find(":input.nodecheckbox")[0].checked||n(i).find("span:nth-child(1)").attr("class").indexOf("e-chk-indeter")>-1,expanded:n(i.firstChild).find(".e-minus").length>0?!0:!1,childNodes:[],tag:n(i).attr("tag")},n(i).find("ul:first").children().length>0)for(o=n(i).find("ul:first").children(),f=0;f<o.length;f++)e.childNodes.push(this._getNodeInfo(o[f]));u.push(e)}return JSON.stringify(u)}if(u="",oclientProxy._currentItem.indexOf(oclientProxy._getLocalizedLabels("Measures"))<0)for(r=0;r<oclientProxy.memberTreeObj.dataSource().length;r++)oclientProxy.memberTreeObj.dataSource()[r].checkedStatus==!0&&(u+="::"+oclientProxy.memberTreeObj.dataSource()[r].id+"||"+oclientProxy.memberTreeObj.dataSource()[r].tag);return u},_getNodeInfo:function(t){var u={caption:n(t.firstChild).find("a").text(),parentId:t.parentElement.parentElement.className.indexOf("editorTreeView")>-1?"None":n(t).parents()[1].id,id:t.id,checked:n(t).find(":input.nodecheckbox")[0].checked||n(t).find("span:nth-child(1)").attr("class").indexOf("e-chk-indeter")>-1,expanded:n(t.firstChild).find(".e-minus").length>0?!0:!1,childNodes:[],tag:n(t).attr("tag")},r,i;if(n(t).find("ul:first").children().length>0)for(r=n(t).find("ul:first").children(),i=0;i<r.length;i++)u.childNodes.push(this._getNodeInfo(r[i]));return u},_removeSplitBtn:function(){var r=n(document).find(".dragClone"),u,e=this.element.find(".splitBtn"),i,f;jQuery.each(e,function(t,i){n(n(i).children()[0]).attr("title")==n(r).attr("title")&&(u=n(i).attr("tag"),n(i).remove())});oclientProxy._currentReportItems.length!=0&&oclientProxy._treeViewData.hasOwnProperty(n(r).attr("title"))&&(delete oclientProxy._treeViewData[n(r).attr("title")],oclientProxy._currentReportItems.splice(n.inArray(n(r).attr("title"),oclientProxy._currentReportItems),1));oclientProxy.model.enableAdvancedFilter&&oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap&&oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ServerMode&&(i=u.split(":")[1].split("."),t.isNullOrUndefined(i)||i.length!=2||(oclientProxy._selectedFieldName=oclientProxy.element.find(".cubeTreeView li[tag^='["+i[0]+"'][tag$='"+i[1]+"]']").attr("tag"),oclientProxy._removeFilterTag(oclientProxy._selectedFieldName)));n(".dragClone").remove();oclientProxy._waitingPopup.show();oclientProxy.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"removeSplitButton",element:this.element,customObject:oclientProxy.model.customObject});f=JSON.stringify(oclientProxy.model.customObject);oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.removeSplitButton,JSON.stringify({action:"removeSplitButton",clientParams:u,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:f}),oclientProxy._removeSplitButtonSuccess);oclientProxy._isNodeOrButtonDropped=!0},_wireEvents:function(){oclientProxy._wireDialogEvent();oclientProxy._wireEditorRemoveEvent();oclientProxy._wireMeasureRemoveEvent();this._on(n(document),"keydown",this._keyPressDown);this._on(n(document),"keyup",this._keyPressUp);this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejDraggable({handle:"button",clone:!0,cursorAt:{top:-10,left:-10},dragStart:function(i){i.event.preventDefault();n(this.element.find(".e-txt")).off("touchstart");n(this.element.find(".e-txt")).off(t.eventType.click);isDragging=!0;this.element.find(".e-dialog").hide();draggedSplitBtn=i.event.target},dragStop:function(t){var r,f,u;this.element.find(".targetAxis").removeClass("targetAxis");isDragging=!1;r=null;f=t.event.type=="touchend"?oclientProxy._setSplitBtnTargetPos(t):oclientProxy._setSplitBtnTargetPos(t.event);oclientProxy._dropAxisClassName!=i&&oclientProxy._dropAxisClassName!=""?(oclientProxy._dropAxisClassName=="outOfAxis"?oclientProxy._removeSplitBtn():r=oclientProxy._dropAxisClassName,oclientProxy._dropAxisClassName=""):t.target!=i?n(t.target).hasClass("e-btn")||n(t.target).hasClass("removeSplitBtn")?r=n(t.target).parents("div:eq(1)").attr("class"):jQuery.type(t.target.className)!="string"?oclientProxy._removeSplitBtn():r=t.target.className.indexOf("splitBtn")>-1?n(t.target).parents("div:eq(0)").attr("class"):t.target.className:r=n(t.event.originalEvent.srcElement).hasClass("e-btn")||n(t.event.originalEvent.srcElement).hasClass("removeSplitBtn")?n(t.event.originalEvent.srcElement).parents("div:eq(1)").attr("class"):t.event.originalEvent.srcElement.className.indexOf("splitBtn")>-1?n(t.event.originalEvent.srcElement).parents("div:eq(0)").attr("class"):t.event.originalEvent.srcElement.className;r!=i&&r!=null&&(u=r.indexOf("categoricalAxis")>r.indexOf("rowAxis")?r.indexOf("categoricalAxis")>r.indexOf("slicerAxis")?"Categorical":"Slicer":r.indexOf("rowAxis")>r.indexOf("slicerAxis")?"Series":r.indexOf("slicerAxis")>=0?"Slicer":null,u!=null?oclientProxy._splitButtonDropped(u,f):oclientProxy._removeSplitBtn(),oclientProxy._setSplitBtnTitle())},helper:function(t){return t.sender.target.className.indexOf("e-btn")>-1?n(t.sender.target).clone().addClass("dragClone").appendTo(oclientProxy.element):!1}});this.element.find(".nextPage, .prevPage, .firstPage, .lastPage").click(function(n){t.Pivot.editorTreeNavigatee(n,oclientProxy)});this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").mouseover(function(){isDragging&&n(this).addClass("targetAxis")});this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").mouseleave(function(){n(this).removeClass("targetAxis")});this.element.find(".e-btn").mouseover(function(t){n(t.target.parentNode).find("span").css("display","inline")});this.element.find(".splitBtn").mouseover(function(){isDragging&&n(this).addClass("dropIndicator")});this.element.find(".splitBtn").mouseleave(function(){n(this).removeClass("dropIndicator")});this.element.find(".pivotButton").mouseover(function(){(isDragging||oclientProxy._pivotSchemaDesigner._isDragging)&&n(this).find(".dropIndicator").addClass("dropIndicatorActive")});this.element.find(".pivotButton").mouseleave(function(){n(this).find(".dropIndicator").removeClass("dropIndicatorActive")});this.element.find(".sortDisable, .sortEnable, .filterDisable, .filterEnable ").on(t.eventType.click,function(t){t.target.className=="sortDisable"?(n(".measuresList_wrapper,.radioBtnAsc, .radioBtnDesc, .preserveHrchy").attr("disabled","disabled"),n(".measureListLbl, .orderLbl, .radioBtnAscLbl, .radioBtnDescLbl, .preserveHrchyLbl").addClass("sortFilterDisable"),oclientProxy._dllSortMeasure.disable()):t.target.className=="sortEnable"?(n(".measuresList_wrapper,.radioBtnAsc, .radioBtnDesc, .preserveHrchy").removeAttr("disabled"),n(".measureListLbl, .orderLbl, .radioBtnAscLbl, .radioBtnDescLbl, .preserveHrchyLbl").removeClass("sortFilterDisable"),oclientProxy._dllSortMeasure.enable()):t.target.className=="filterDisable"?(n(".filterFrom, .filterTo").attr("disabled","disabled"),n(".filterMeasureListLbl, .conditionLbl, .filterValueLbl, .filterBtw").addClass("sortFilterDisable"),oclientProxy._dllFilterCondition.disable(),oclientProxy._dllfMeasuresList.disable()):t.target.className=="filterEnable"&&(n(".filterFrom, .filterTo").removeAttr("disabled"),n(".filterMeasureListLbl, .conditionLbl, .filterValueLbl, .filterBtw").removeClass("sortFilterDisable"),oclientProxy._dllFilterCondition.enable(),oclientProxy._dllfMeasuresList.enable())});this.element.find(".filterFrom , .filterTo").keypress(function(t){return t.which==8||t.which==0?!0:t.which<46||t.which>58?!1:t.which==46&&n(this).val().indexOf(".")!=-1||t.which==47?!1:void 0});this.element.find(".toggleExpandButton").click(function(){if(oclientProxy.model.isResponsive)oclientProxy._rwdToggleCollapse();else{if(oclientProxy._toggleExpand=!0,oclientProxy._initToggle){oclientProxy._initToggle=!1;var n={},i=(oclientProxy.element.find(".cubeTable").width()||oclientProxy.element.find(".pivotFieldList").width())+oclientProxy.element.find(".controlPanel").width()-17;n.controlPanelWidth=i-3;n.chartOuterWidth=n.chartModelWidth=n.gridOuterWidth=i-17;oclientProxy._toggleStyles.push(n)}oclientProxy.displayMode()==t.PivotClient.DisplayMode.GridOnly?oclientProxy.element.find(".gridContainer").width(960):oclientProxy.displayMode()==t.PivotClient.DisplayMode.ChartOnly?oclientProxy.element.find(".chartContainer").width(954):oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile?oclientProxy.defaultView()==t.PivotClient.DefaultView.Grid?(oclientProxy.element.find(".gridContainer").width(962),oclientProxy.element.find(".chartContainer").width(957)):(oclientProxy.element.find(".gridContainer").width(960),oclientProxy.element.find(".chartContainer").width(955)):oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&(oclientProxy.defaultView()==t.PivotClient.DefaultView.Grid?oclientProxy.element.find(".chartContainer").width(953):(oclientProxy.element.find(".gridContainer").width(960),oclientProxy.element.find(".chartContainer").width(953)));oclientProxy._performToggleAction(oclientProxy._toggleStyles);oclientProxy.element.find(".csHeader, .cubeTable,.toggleExpandButton, .pivotFieldList").hide();oclientProxy.element.find(".toggleCollapseButton").show();oclientProxy.element.find(".toggleText").show();oclientProxy.model.enablePivotTreeMap&&oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")),t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw()))}});this.element.find(".toggleCollapseButton").click(function(){oclientProxy.model.isResponsive?oclientProxy._rwdToggleExpand():(oclientProxy._toggleExpand=!1,oclientProxy._performToggleAction(oclientProxy._initStyles),oclientProxy.element.find(".csHeader, .cubeTable,.toggleExpandButton, .pivotFieldList").show(),oclientProxy.element.find(".toggleCollapseButton").hide(),oclientProxy.element.find(".toggleText").hide(),oclientProxy.displayMode()==t.PivotClient.DisplayMode.GridOnly?oclientProxy.element.find(".gridContainer").width(571):oclientProxy.displayMode()==t.PivotClient.DisplayMode.ChartOnly?oclientProxy.element.find(".chartContainer").width(565):oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile?oclientProxy.defaultView()==t.PivotClient.DefaultView.Grid?(oclientProxy.element.find(".gridContainer").width(574),oclientProxy.element.find(".chartContainer").width(569)):(oclientProxy.element.find(".gridContainer").width(571),oclientProxy.element.find(".chartContainer").width(566)):oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&(oclientProxy.defaultView()==t.PivotClient.DefaultView.Grid?oclientProxy.element.find(".chartContainer").width(564):(oclientProxy.element.find(".gridContainer").width(569),oclientProxy.element.find(".chartContainer").width(564))),oclientProxy.model.enablePivotTreeMap&&oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")),t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw())))});this.element.find(".maximizedView").click(function(){oclientProxy._maxViewBtnClick()});n(document).on("click",".winCloseBtn",function(){oclientProxy._maxViewClsBtnClick()});if(this.model.isResponsive)n(window).on("resize",n.proxy(this._reSizeHandler,this))},_keyPressUp:function(n){if(n.keyCode===93&&!this.element.find(".e-dialog:visible").length>0&&(n.preventDefault(),!t.isNullOrUndefined(this._curFocus.tab)&&this._curFocus.tab.hasClass("e-text"))){var i={x:this.element.find(".hoverCell").offset().left+this.element.find(".hoverCell").outerWidth(),y:this.element.find(".hoverCell").offset().top+this.element.find(".hoverCell").outerHeight()};this.element.find(".hoverCell").trigger({type:"mouseup",which:3,clientX:i.x,clientY:i.y,pageX:i.x,pageY:i.y})}},_keyPressDown:function(i){var u,e,f,o,r;if(t.isNullOrUndefined(this._curFocus.button)?t.isNullOrUndefined(this._curFocus.tab)||(u=this._curFocus.tab):u=this._curFocus.button,i.keyCode===93&&!t.isNullOrUndefined(u)&&!this.element.find(".e-dialog:visible").length>0&&(i.preventDefault(),e={x:n(u).offset().left+n(u).outerWidth(),y:n(u).offset().top+n(u).outerHeight()},u.trigger({type:"mouseup",which:3,clientX:e.x,clientY:e.y,pageX:e.x,pageY:e.y})),(i.which===46||i.which===82&&i.ctrlKey)&&!this.element.find(".e-dialog:visible").length>0&&!t.isNullOrUndefined(u)?(i.preventDefault(),u.parent().find(".removeSplitBtn:visible").click()):(i.which===46||i.which===82&&i.ctrlKey&&(!t.isNullOrUndefined(this._curFocus.dialog)&&this._curFocus.dialog.hasClass("measureEditor")||!t.isNullOrUndefined(this._curFocus.editor)&&this._curFocus.editor.hasClass("measureEditor")))&&(t.isNullOrUndefined(this._curFocus.editor)?t.isNullOrUndefined(this._curFocus.dialog)||this._curFocus.dialog.find(".removeMeasure:visible").click():this._curFocus.editor.find(".removeMeasure:visible").click()),i.keyCode==79&&this.element.find(".e-dialog:visible").length>0&&i.ctrlKey&&(i.preventDefault(),!t.isNullOrUndefined(this._curFocus.icon)&&this._curFocus.icon.hasClass("mdxImg")?this.element.find(".dialogCancelBtn:visible").click():this.element.find(".dialogOKBtn:visible").click(),this._curFocus.dialog=null),i.which===70&&i.ctrlKey&&!t.isNullOrUndefined(u)&&u.click(),i.keyCode==67&&this.element.find(".e-dialog:visible").length>0&&i.ctrlKey&&(i.preventDefault(),this.element.find(".dialogCancelBtn:visible").click(),this._curFocus.dialog=null),this.element.find(".e-dialog:visible").length>0&&i.keyCode==27?(t.isNullOrUndefined(this._curFocus.icon)?t.isNullOrUndefined(this._curFocus.editor)?t.isNullOrUndefined(this._curFocus.dialog)||this._curFocus.dialog.attr("tabindex","-1").addClass("hoverCell").focus().mouseover():this._curFocus.editor.attr("tabindex","-1").addClass("hoverCell").focus().mouseover():this._curFocus.icon.attr("tabindex","-1").addClass("hoverCell").focus().mouseover(),this._curFocus.dialog=null,this._index.editor=0):this.element.find(".e-dialog:visible").length==0&&i.keyCode==27&&n(".fullScreenView").length!=0?(this._maxViewClsBtnClick(),t.isNullOrUndefined(oclientProxy._pivotGrid._curFocus.cell)?this._curFocus.tab.hasClass("e-icon")||this._curFocus.tab.focus().mouseover():oclientProxy._pivotGrid._curFocus.cell.focus().mouseover()):this.element.find(".chartTypesDialog:visible").length>0&&i.which===27?(this.element.find(".chartTypesDialog").remove(),this._curFocus.chartimg=null):n(".pivotTree:visible,.pivotTreeContext:visible").length>0&&i.which===27&&(t.isNullOrUndefined(this._curFocus.tree)?t.isNullOrUndefined(u)||u.attr("tabindex","-1").focus().addClass("hoverCell"):this._curFocus.tree.attr("tabindex","-1").focus().addClass("hoverCell")),(i.which===9&&i.shiftKey||i.which===9)&&this.element.find(".e-dialog:visible").length>0?(i.preventDefault(),this._curFocus.editor=null,this.element.find(".e-dialog .hoverCell:visible").removeClass("hoverCell"),f=!t.isNullOrUndefined(oclientProxy._dllSortMeasure)&&oclientProxy._dllSortMeasure.model.enabled&&this.element.find("#measuresList_container:visible").length>0||!t.isNullOrUndefined(oclientProxy._dllfMeasuresList)&&oclientProxy._dllfMeasuresList.model.enabled&&this.element.find("#fMeasuresList_container:visible").length>0?this.element.find(".e-dialog .filterEnable:visible,#measuresList_container:visible,#fMeasuresList_container:visible,#filterCondition_container:visible,.e-dialog .filterFrom:visible:not([disabled='disabled']),.e-dialog .filterTo:visible:not([disabled='disabled']),.e-dialog .radioBtnAsc:visible:not([disabled='disabled']),.e-dialog .preserveHrchy:visible:not([disabled='disabled']),.e-dialog .dialogOKBtn:visible:not([aria-disabled='true']),.e-dialog .dialogCancelBtn:visible,.e-dialog .e-close:visible,.e-dialog .checkAll:visible,.e-dialog .unCheckAll:visible,.e-dialog .sortfiltTab .e-active:visible,.e-dialog .measureEditor:visible:first,.e-dialog .e-text:visible:first,.e-dialog .sortEnable:visible,.e-dialog .reportName:visible,#reportNameList_container:visible"):this.element.find(".e-dialog .filterEnable:visible,.e-dialog .filterFrom:visible:not([disabled='disabled']),.e-dialog .filterTo:visible:not([disabled='disabled']),.e-dialog .radioBtnAsc:visible:not([disabled='disabled']),.e-dialog .preserveHrchy:visible:not([disabled='disabled']),.e-dialog .dialogOKBtn:visible:not([aria-disabled='true']),.e-dialog .dialogCancelBtn:visible,.e-dialog .e-close:visible,.e-dialog .checkAll:visible,.e-dialog .unCheckAll:visible,.e-dialog .sortfiltTab .e-active:visible,.e-dialog .measureEditor:visible:first,.e-dialog .e-text:visible:first,.e-dialog .sortEnable:visible,.e-dialog .reportName:visible,#reportNameList_container:visible"),t.isNullOrUndefined(this._curFocus.dialog)?(this._index.dialog=f.length>4?4:2,this._curFocus.dialog=f.eq(this._index.dialog)):(this._curFocus.dialog.attr("tabindex","0").removeClass("hoverCell").mouseleave(),i.which===9&&i.shiftKey?this._index.dialog=this._index.dialog-1<0?f.length-1:this._index.dialog-1:i.which===9&&(this._index.dialog=this._index.dialog+1>f.length-1?0:this._index.dialog+1),this._curFocus.dialog=f.eq(this._index.dialog)),this._curFocus.dialog.hasClass("e-input")||this._curFocus.dialog.attr("type")=="radio"?this._curFocus.dialog.attr("tabindex","-1").focus():this._curFocus.dialog.attr("tabindex","-1").focus().addClass("hoverCell").mouseover):(i.which===9&&i.shiftKey||i.which===9)&&!n(".pivotTree:visible,.pivotTreeContext:visible").length>0&&(i.preventDefault(),this.element.find(".hoverCell").removeClass("hoverCell").mouseleave(),this.element.find(".e-node-focus").removeClass("e-node-focus"),this._index.button=1,this._index.icon=1,this._index.chartimg=0,this._index.tree=0,this._index.dialog=0,this._curFocus.button=null,this._curFocus.icon=null,this._curFocus.chartimg=null,this._curFocus.tree=null,this._curFocus.editor=null,this._curFocus.dialog=null,n(".fullScreenView").length!=0?n("[role='columnheader']:visible:not([p='0,0'])").first().length>0&&(f=n("[role='columnheader']:visible:not([p='0,0']):first")):f=this.element.find("[role='columnheader']:visible:not([p='0,0']):first,.schemaFieldTree .e-text:visible:first,.reportToolbar li:visible:first,#reportList_wrapper:visible,#cubeList_wrapper:visible,#cubeSelector_wrapper:visible,.cubeTreeView .e-text:visible:first,.categoricalAxis button:visible:first,.rowAxis button:visible:first,.slicerAxis button:visible:first,.schemaColumn button:visible:first,.schemaRow button:visible:first,.schemaFilter button:visible:first,.schemaValue button:visible:first,.toggleExpandButton:visible:first,.toggleCollapseButton:visible:first,#clientTab .e-active:visible"),t.isNullOrUndefined(this._curFocus.tab)?(this._index.tab=0,this._curFocus.tab=f.eq(this._index.tab).attr("tabindex","-1").focus().addClass("hoverCell").mouseover(),this._curFocus.tab.hasClass("e-button")&&this._curFocus.tab.parent().find(".removeSplitBtn:visible").addClass("hoverCell")):(this._curFocus.tab.attr("tabindex","0").removeClass("hoverCell").mouseleave(),i.which===9&&i.shiftKey?this._index.tab=this._index.tab-1<0?f.length-1:this._index.tab-1:i.which===9&&(this._index.tab=this._index.tab+1>f.length-1?0:this._index.tab+1),this._curFocus.tab=f.eq(this._index.tab).attr("tabindex","-1").focus().addClass("hoverCell").mouseover(),this._curFocus.tab.hasClass("e-button")&&this._curFocus.tab.parent().find(".removeSplitBtn:visible").addClass("hoverCell"))),this.element.find(".e-dialog:visible").length>0&&i.keyCode==13){if(n(i.target).hasClass("memberCurrentPage")){t.Pivot.editorTreeNavigatee(i,oclientProxy);return}i.preventDefault();t.isNullOrUndefined(this._curFocus.editor)?t.isNullOrUndefined(this._curFocus.dialog)?t.isNullOrUndefined(this._curFocus.icon)?t.isNullOrUndefined(this._curFocus.tab)||this._curFocus.tab.attr("tabindex","-1").focus().mouseover():this._curFocus.icon.attr("tabindex","-1").focus().mouseover():this._curFocus.dialog.hasClass("e-text")?this.element.find(".e-dialog .hoverCell").parent().find(".e-chkbox-small").click():(this._curFocus.dialog.click(),(this._curFocus.dialog.hasClass("dialogOKBtn")||this._curFocus.dialog.hasClass("dialogCancelBtn")||this._curFocus.dialog.hasClass("e-close"))&&(this._curFocus.dialog=null),this._index.editor=0):this._curFocus.editor.hasClass("e-text")&&this.element.find(".e-dialog .hoverCell").parent().find(".e-chkbox-small").click()}else i.keyCode!=13||t.isNullOrUndefined(this._curFocus.tab)||this._curFocus.tab.attr("role")=="columnheader"||(i.preventDefault(),(!t.isNullOrUndefined(this._curFocus.icon)||!t.isNullOrUndefined(this._curFocus.tab)&&!n(".pivotTree:visible,.pivotTreeContext:visible").length>0)&&this.element.find(".hoverCell:visible")[0].click(),t.isNullOrUndefined(this.element.find(".chartTypesDialog"))||t.isNullOrUndefined(this._curFocus.chartimg)||(this._curFocus.chartimg.click(),t.isNullOrUndefined(this._curFocus.icon)||this._curFocus.icon.attr("tabindex","-1").focus().mouseover(),this._index.chartimg=0,this._curFocus.chartimg=null));(i.which===39||i.which===37)&&this.element.find(".e-dialog:visible").length>0&&this.element.find(".e-dialog .e-text:visible").hasClass("hoverCell")?this.element.find(".e-dialog .hoverCell").parent().find(".e-plus,.e-minus").click():(i.which===39||i.which===37)&&this.element.find(".cubeTreeView .e-text:visible").hasClass("hoverCell")&&!this.element.find(".editorTreeView:visible").length>0?this.element.find(".cubeTreeView .hoverCell").parent().find(".e-plus,.e-minus").click():(i.which===37||i.which===39||i.which===38||i.which===40)&&this.element.find(".chartTypesDialog").length>0?(i.preventDefault(),o=this.element.find(".chartTypesDialog"),o.tabindex=-1,o.focus(),r=o.find(".chartTypesIcon"),t.isNullOrUndefined(this._curFocus.chartimg)?(this._index.chartimg=i.which==39?0:i.which==37?r.length-1:0,this._curFocus.chartimg=r.eq(this._index.chartimg).addClass("hoverCell").mouseover()):(this._curFocus.chartimg.removeClass("hoverCell").mouseleave(),i.which===39?this._index.chartimg=this._index.chartimg+1>r.length-1?0:this._index.chartimg+1:i.which===37?this._index.chartimg=this._index.chartimg-1<0?r.length-1:this._index.chartimg-1:i.which===40?this._index.chartimg=this._index.chartimg+5>r.length-1?(this._index.chartimg+5)%10:this._index.chartimg+5:i.which===38&&(this._index.chartimg=this._index.chartimg-5<0?r.length-1:this._index.chartimg-5),this._curFocus.chartimg=r.eq(this._index.chartimg).addClass("hoverCell").mouseover())):(i.which===37||i.which===39)&&!t.isNullOrUndefined(this._curFocus.tab)&&this._curFocus.tab.hasClass("e-icon")&&!this._curFocus.tab.hasClass("toggleCollapseButton")&&!this._curFocus.tab.hasClass("toggleExpandButton")&&!this.element.find(".e-dialog:visible").length>0&&(i.preventDefault(),this._curFocus.tab.removeClass("hoverCell").mouseleave(),r=this.element.find(".reportToolbar .e-icon:visible:not(.reportCol)"),t.isNullOrUndefined(this._curFocus.icon)?(this._index.icon=i.which==39?1:i.which==37?r.length-2:0,this._curFocus.icon=r.eq(this._index.icon).addClass("hoverCell").mouseover()):(this._curFocus.icon.removeClass("hoverCell").mouseleave(),i.which===39?this._index.icon=this._index.icon+1>r.length-2?0:this._index.icon+1:i.which===37&&(this._index.icon=this._index.icon-1<0?r.length-2:this._index.icon-1),this._curFocus.icon=r.eq(this._index.icon).addClass("hoverCell").mouseover()));(i.which===40||i.which===38)&&this.element.find(".e-dialog:visible").length>0&&!n(".pivotTree:visible,.pivotTreeContext:visible").length>0&&(this.element.find(".e-dialog .e-text").hasClass("hoverCell")||this.element.find(".e-dialog .measureEditor").hasClass("hoverCell"))?(i.preventDefault(),this.element.find(".e-dialog .hoverCell").removeClass("hoverCell"),this.element.find(".e-dialog .e-node-focus").removeClass("e-node-focus"),t.isNullOrUndefined(this._curFocus.dialog)||this._curFocus.dialog.mouseleave(),r=this.element.find(".e-dialog .measureEditor:visible,.e-dialog .e-text:visible"),t.isNullOrUndefined(this._curFocus.editor)?(this._index.editor=r.length>1?i.which==40?1:i.which==38?r.length-1:0:0,this._curFocus.editor=r.eq(this._index.editor).attr("tabindex","0").focus().addClass("hoverCell")):(this._curFocus.editor.attr("tabindex","0").removeClass("hoverCell"),i.which===40?this._index.editor=this._index.editor+1>r.length-1?0:this._index.editor+1:i.which===38&&(this._index.editor=this._index.editor-1<0?r.length-1:this._index.editor-1),this._curFocus.editor=r.eq(this._index.editor).attr("tabindex","0").focus().addClass("hoverCell"))):(i.which===40||i.which===38)&&!this.element.find(".e-dialog:visible").length>0&&!t.isNullOrUndefined(this._curFocus.tab)&&this._curFocus.tab.hasClass("e-text")&&!n(".pivotTree:visible,.pivotTreeContext:visible").length>0?(this.element.find(".hoverCell").removeClass("hoverCell"),this._curFocus.tab.mouseleave(),i.preventDefault(),r=this.element.find(".cubeTreeView .e-text:visible"),t.isNullOrUndefined(this._curFocus.tree)?(this._index.tree=i.which==40?1:i.which==38?r.length-1:0,this._curFocus.tree=r.eq(this._index.tree).attr("tabindex","-1").focus().addClass("hoverCell").mouseover(),this.element.find(".e-node-focus").removeClass("e-node-focus")):(this._curFocus.tree.attr("tabindex","0").removeClass("hoverCell").mouseleave(),i.which===40?this._index.tree=this._index.tree+1>r.length-1?0:this._index.tree+1:i.which===38&&(this._index.tree=this._index.tree-1<0?r.length-1:this._index.tree-1),this._curFocus.tree=r.eq(this._index.tree).attr("tabindex","-1").focus().addClass("hoverCell").mouseover(),this.element.find(".e-node-focus").removeClass("e-node-focus"))):(i.which===40||i.which===38)&&!t.isNullOrUndefined(this._curFocus.tab)&&this._curFocus.tab.hasClass("e-button")&&!n(".pivotTree:visible,.pivotTreeContext:visible").length>0&&!this.element.find(".e-dialog:visible").length>0&&(i.preventDefault(),r=null,(this._curFocus.tab.parent().parent().hasClass("categoricalAxis")||this._curFocus.tab.parent().parent().hasClass("rowAxis")||this._curFocus.tab.parent().parent().hasClass("slicerAxis"))&&(this._curFocus.tab.parent().parent().hasClass("categoricalAxis")?r=this.element.find(".categoricalAxis button"):this._curFocus.tab.parent().parent().hasClass("rowAxis")?r=this.element.find(".rowAxis button"):this._curFocus.tab.parent().parent().hasClass("slicerAxis")&&(r=this.element.find(".slicerAxis button")),t.isNullOrUndefined(this._curFocus.tab)||(this._curFocus.tab.removeClass("hoverCell").attr("tabindex","0").mouseleave(),this._curFocus.tab.parent().find(".removeSplitBtn:visible").focus().removeClass("hoverCell")),t.isNullOrUndefined(this._curFocus.button)?(this._index.button=i.which==40?r.length>1?1:0:i.which==38?r.length-1:0,this._curFocus.button=r.eq(this._index.button).attr("tabindex","0").focus().addClass("hoverCell"),this._curFocus.button.parent().find(".removeSplitBtn:visible").addClass("hoverCell")):(this._curFocus.button.attr("tabindex","0").removeClass("hoverCell"),this._curFocus.button.parent().find(".removeSplitBtn:visible").removeClass("hoverCell"),i.which===40?this._index.button=this._index.button+1>r.length-1?0:this._index.button+1:i.which===38&&(this._index.button=this._index.button-1<0?r.length-1:this._index.button-1),this._curFocus.button=r.eq(this._index.button).attr("tabindex","0").focus().addClass("hoverCell"),this._curFocus.button.parent().find(".removeSplitBtn:visible").addClass("hoverCell"))))},_wireMeasureRemoveEvent:function(){this.element.find(".removeMeasure").click(function(t){oclientProxy._isMembersFiltered=!0;n(n(t.target).parent()).remove()})},_wireEditorRemoveEvent:function(){this.element.find(".removeSplitBtn").click(function(i){var r,u;oclientProxy._waitingPopup.show();n(n(i.target).parent()).remove();oclientProxy._currentReportItems.length!=0&&oclientProxy._treeViewData.hasOwnProperty(n(i.target).parent().find("button").attr("title"))&&(delete oclientProxy._treeViewData[n(i.target).parent().find("button").attr("title")],oclientProxy._currentReportItems.splice(n.inArray(n(i.target).parent().find("button").attr("title"),oclientProxy._currentReportItems),1));oclientProxy._off(this.element,"click",".removeSplitBtn");oclientProxy.model.enableAdvancedFilter&&oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap&&oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ServerMode&&(r=n(n(i.target)).parent("div:eq(0)").attr("Tag").split(":")[1].split("."),t.isNullOrUndefined(r)||r.length!=2||(oclientProxy._selectedFieldName=oclientProxy.element.find(".cubeTreeView li[tag^='["+r[0]+"'][tag$='"+r[1]+"]']").attr("tag"),oclientProxy._removeFilterTag(oclientProxy._selectedFieldName)));oclientProxy.model.beforeServiceInvoke!=null&&oclientProxy._trigger("beforeServiceInvoke",{action:"removeSplitButton",element:this.element,customObject:oclientProxy.model.customObject});u=JSON.stringify(oclientProxy.model.customObject);oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.removeSplitButton,JSON.stringify({action:"removeSplitButton",clientParams:n(i.target).parent().attr("tag"),olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:u}),oclientProxy._removeSplitButtonSuccess);oclientProxy._isNodeOrButtonDropped=!0})},_wireDialogEvent:function(){oclientProxy.element.find(".newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .saveReportImg, .loadReportImg, .pvtBtn, .mdxImg,.colSortFilterImg, .rowSortFilterImg, .autoExecuteImg").on(t.eventType.click,function(i){var u,r;if(i.currentTarget.parentElement.className.indexOf("splitBtn")>-1){if(n(n(i.currentTarget).parents(".splitBtn")[0]).attr("tag").indexOf("NAMEDSET")>-1)return!1;oclientProxy._currentAxis=n(n(i.currentTarget).parents(".splitBtn")[0]).attr("tag").split(":")[0]}isDragging||isDropped||(i.preventDefault(),i.target.innerHTML!=oclientProxy._getLocalizedLabels("Cancel")&&i.target.innerHTML!=oclientProxy._getLocalizedLabels("OK")&&i.target.parentElement.innerHTML!=oclientProxy._getLocalizedLabels("Cancel")&&i.target.parentElement.innerHTML!=oclientProxy._getLocalizedLabels("OK")&&(oclientProxy._off(oclientProxy.element,"click",".newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .saveReportImg, .loadReportImg, .mdxImg, .e-txt,.colSortFilterImg, .rowSortFilterImg, .chartTypesImg, .autoExecuteImg"),i.target.className.indexOf("loadReportImg")>=0?(oclientProxy._waitingPopup.show(),oclientProxy.model.operationalMode=="servermode"?(oclientProxy.model.beforeServiceInvoke!=null&&oclientProxy._trigger("beforeServiceInvoke",{action:"FetchingReportList",element:oclientProxy.element,customObject:oclientProxy.model.customObject}),r=JSON.stringify(oclientProxy.model.customObject),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.fetchReportList,JSON.stringify({customObject:r,operationalMode:oclientProxy.model.operationalMode,analysisMode:oclientProxy.model.analysisMode}),oclientProxy._fetchReportListSuccess)):(u={url:"http://js.syncfusion.com/demos/ejservices/wcf/olapclient/olapclientservice.svc",reportCollection:oclientProxy._clientReportCollection,reportList:"",mode:oclientProxy.model.analysisMode},oclientProxy._trigger("fetchReport",{targetControl:oclientProxy,fetchReportSetting:u}),oclientProxy.model.enableLocalStorage?oclientProxy._fetchReportListSuccess({d:[{Key:"ReportNameList",Value:u.reportList}]}):(r=JSON.stringify(oclientProxy.model.customObject),oclientProxy.doAjaxPost("POST",u.url+"/"+oclientProxy.model.serviceMethodSettings.fetchReportList,JSON.stringify({customObject:r,operationalMode:oclientProxy.model.operationalMode,analysisMode:oclientProxy.model.analysisMode}),oclientProxy._fetchReportListSuccess)))):i.target.className.indexOf("colSortFilterImg")>=0||i.target.className.indexOf("rowSortFilterImg")>=0?(oclientProxy._sortOrFilterTab=i.target.className.indexOf("SortImg")>=0?"sort":"filter",i.target.className.indexOf("colSortFilterImg")>=0||i.target.className.indexOf("rowSortFilterImg")>=0||oclientProxy.element.find(".rowAxis").html()!=""||oclientProxy.element.find(".categoricalAxis").html()!=""||oclientProxy._waitingPopup.show(),oclientProxy._isSorted=!1,oclientProxy._isFiltered=!1,oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"FetchSortState",toolbarOperation:null,clientInfo:oclientProxy._axis=i.target.className.indexOf("colSortFilterImg")>=0?"Column":"Row",olapReport:oclientProxy.currentReport,clientReports:""}),oclientProxy._fetchSortState)):i.target.className.indexOf("mdx")>=0?oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap&&oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode?oclientProxy._mdxQuery(t.olap.base._getParsedMDX(oclientProxy.model.dataSource,oclientProxy.model.dataSource.cube)):oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.mdxQuery,JSON.stringify({olapReport:oclientProxy.currentReport}),oclientProxy._mdxQuery):i.target.className.indexOf("autoExecute")>=0?(oclientProxy.model.enableDeferUpdate=!1,oclientProxy._renderControls(),oclientProxy._deferReport=oclientProxy.currentReport,oclientProxy.model.enableDeferUpdate=!0):(oclientProxy.model.operationalMode!=t.Pivot.OperationalMode.ServerMode||oclientProxy.model.analysisMode!=t.Pivot.AnalysisMode.Olap)&&n(i.currentTarget).hasClass("pvtBtn")||oclientProxy._createDialogRequest(i),oclientProxy._dimensionName=n(i.currentTarget).parent().attr("tag")));isDropped=!1});this.element.find(".excelExportImg, .wordExportImg, .pdfExportImg").click(function(i){var f,e,o,u,h,c,l,r,s,a,v;(oclientProxy.model.displaySettings.mode==oclientProxy.model.clientExportMode||oclientProxy.model.displaySettings.mode==t.PivotClient.DisplayMode.ChartAndGrid||oclientProxy.model.clientExportMode==t.PivotClient.ClientExportMode.ChartAndGrid)&&(t.browserInfo().name=="msie"&&t.browserInfo().version<=8&&(oclientProxy.model.clientExportMode=t.PivotClient.ClientExportMode.GridOnly),f=i.target.className.indexOf("excel")>=0?"Excel":i.target.className.indexOf("word")>=0?"Word":"Pdf",oclientProxy.model.displaySettings.mode!=t.PivotClient.DisplayMode.GridOnly&&oclientProxy.model.clientExportMode!=t.PivotClient.ClientExportMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")),oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()!="treemap"&&(h=oclientProxy.chartObj.model.primaryXAxis.zoomFactor,c=oclientProxy.chartObj.model.primaryXAxis.labelRotation,oclientProxy.chartObj.model.primaryXAxis.zoomFactor=1,oclientProxy.chartObj.model.primaryXAxis.labelRotation=90,oclientProxy.chartObj.model.enableCanvasRendering=!0,oclientProxy.chartObj.redraw(),l=oclientProxy.chartObj["export"](),o=l.toDataURL("image/png"),oclientProxy.chartObj.model.primaryXAxis.zoomFactor=h,oclientProxy.chartObj.model.primaryXAxis.labelRotation=c,oclientProxy.chartObj.model.enableCanvasRendering=!1,oclientProxy.chartObj.redraw())),r={url:"http://js.syncfusion.com/demos/ejservices/api/JSPivotClientExport/ExportPivotClient",fileName:"PivotClient"},oclientProxy._trigger("beforeExport",r),oclientProxy.model.displaySettings.mode!=t.PivotClient.DisplayMode.ChartOnly&&oclientProxy.model.clientExportMode!=t.PivotClient.ClientExportMode.ChartOnly&&(s={valueCellColor:oclientProxy._pivotGrid.element.find(".value").css("color"),valueCellBGColor:oclientProxy._pivotGrid.element.find(".value").css("background-color"),summaryCellColor:oclientProxy._pivotGrid.element.find(".summary").css("color"),summaryCellBGColor:oclientProxy._pivotGrid.element.find(".summary").css("background-color")}),oclientProxy.model.displaySettings.mode==t.PivotClient.DisplayMode.GridOnly||oclientProxy.model.clientExportMode==t.PivotClient.ClientExportMode.GridOnly?(u=t.PivotClient.ClientExportMode.GridOnly,e=oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode||n.trim(r.url)!=""?{args:JSON.stringify({exportMode:u,exportOption:f,pGridData:oclientProxy._pivotGrid.exportRecords!=null&&oclientProxy._pivotGrid.exportRecords!=""?oclientProxy._pivotGrid.exportRecords:null,rowCount:oclientProxy._pivotGrid._excelLikeJSONRecords!=null?oclientProxy._pivotGrid._excelRowCount:oclientProxy._pivotGrid._rowCount,columnCount:oclientProxy._pivotGrid._excelLikeJSONRecords!=null?Math.floor(oclientProxy._pivotGrid._excelLikeJSONRecords.length/oclientProxy._pivotGrid._excelRowCount):oclientProxy._pivotGrid.getJSONRecords()!=null?Math.floor(oclientProxy._pivotGrid.getJSONRecords().length/oclientProxy._pivotGrid._rowCount):0,fileName:r.fileName,customObject:JSON.stringify(oclientProxy._pivotGrid.model.customObject)})}:{args:JSON.stringify({exportMode:u,exportOption:f,currentReport:oclientProxy.model.enableDeferUpdate?oclientProxy._deferReport:oclientProxy.currentReport,layout:oclientProxy.gridLayout(),colorSettings:JSON.stringify(s)})}):oclientProxy.model.displaySettings.mode==t.PivotClient.DisplayMode.ChartOnly||oclientProxy.model.clientExportMode==t.PivotClient.ClientExportMode.ChartOnly?(u=t.PivotClient.ClientExportMode.ChartOnly,e=oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode||n.trim(r.url)!=""?{args:JSON.stringify({exportMode:u,exportOption:f,fileName:r.fileName,chartdata:o.split(",")[1],bgColor:n(oclientProxy._pivotChart.element).css("background-color")})}:{args:JSON.stringify({exportMode:u,exportOption:f,currentReport:oclientProxy.model.enableDeferUpdate?oclientProxy._deferReport:oclientProxy.currentReport,chartdata:o.split(",")[1],legenddata:"",bgColor:n(oclientProxy._pivotChart.element).css("background-color")})}):(u=t.PivotClient.ClientExportMode.ChartAndGrid,e=oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode||n.trim(r.url)!=""?{args:JSON.stringify({exportMode:u,exportOption:f,pGridData:oclientProxy._pivotGrid.exportRecords!=null&&oclientProxy._pivotGrid.exportRecords!=""?oclientProxy._pivotGrid.exportRecords:null,rowCount:oclientProxy._pivotGrid._excelLikeJSONRecords!=null?oclientProxy._pivotGrid._excelRowCount:oclientProxy._pivotGrid._rowCount,columnCount:oclientProxy._pivotGrid._excelLikeJSONRecords!=null?Math.floor(oclientProxy._pivotGrid._excelLikeJSONRecords.length/oclientProxy._pivotGrid._excelRowCount):oclientProxy._pivotGrid.getJSONRecords()!=null?Math.floor(oclientProxy._pivotGrid.getJSONRecords().length/oclientProxy._pivotGrid._rowCount):0,fileName:r.fileName,customObject:JSON.stringify(oclientProxy._pivotGrid.model.customObject),chartdata:o.split(",")[1],bgColor:n(oclientProxy._pivotChart.element).css("background-color")})}:{args:JSON.stringify({exportMode:u,exportOption:f,currentReport:oclientProxy.model.enableDeferUpdate?oclientProxy._deferReport:oclientProxy.currentReport,layout:oclientProxy.gridLayout(),colorSettings:JSON.stringify(s),chartdata:o.split(",")[1],legenddata:"",bgColor:n(oclientProxy._pivotChart.element).css("background-color")})}),t.raiseWebFormsServerEvents&&r.url!=""&&r.url.indexOf("api")==-1?(a={model:oclientProxy.model,originalEventType:r.url},v=e,t.raiseWebFormsServerEvents(r.url,a,v),setTimeout(function(){t.isOnWebForms=!0},1e3)):oclientProxy.doPostBack(n.trim(r.url)!=""?r.url:oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode?"http://js.syncfusion.com/demos/ejservices/api/JSPivotClientExport/ExportPivotClient":oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.exportPivotClient,e))});this.element.find(".toggleaxisImg").click(function(){if(oclientProxy._waitingPopup.show(),oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap"))),oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode){var n=oclientProxy.model.dataSource.rows;oclientProxy.model.dataSource.rows=oclientProxy.model.dataSource.columns;oclientProxy.model.dataSource.columns=n;oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap&&oclientProxy.model.dataSource.values.length>0&&(oclientProxy.model.dataSource.values[0].axis=oclientProxy.model.dataSource.values[0].axis=="rows"?"columns":oclientProxy.model.dataSource.values[0].axis=="columns"?"rows":"columns");t.olap.base.clearDrilledItems(oclientProxy.model.dataSource,{action:"nodeDropped"},oclientProxy);oclientProxy.refreshControl();oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy._pivotChart._labelCurrentTags={})}else oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Pivot?oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"toggleAxis",args:JSON.stringify({currentReport:JSON.parse(oclientProxy.getOlapReport()).Report})}),oclientProxy._toggleAxisSuccess):(oclientProxy.element.find(".rowAxis").html()!=""||oclientProxy.element.find(".categoricalAxis").html()!="")&&oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toggleAxis,JSON.stringify({action:"toggleAxis",currentReport:oclientProxy.currentReport,clientReports:oclientProxy.reports}),oclientProxy._toggleAxisSuccess)});this.element.find(".chartTypesImg").click(function(){var i=t.buildTag("div.chartTypesDialog#chartTypesDialog",t.buildTag("table",t.buildTag("tbody",t.buildTag("tr",t.buildTag("td",t.buildTag("div.line chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Line"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.spline chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Spline"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.column chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Column"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.area chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Area"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.splinearea chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("SplineArea"),tabindex:0})[0].outerHTML)[0].outerHTML)[0].outerHTML+t.buildTag("tr",t.buildTag("td",t.buildTag("div.stepline chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("StepLine"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.steparea chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("StepArea"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.pie chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Pie"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.bar chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Bar"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.stackingarea chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("StackingArea"),tabindex:0})[0].outerHTML)[0].outerHTML)[0].outerHTML+t.buildTag("tr",t.buildTag("td",t.buildTag("div.stackingcolumn chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("StackingColumn"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.stackingbar chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("StackingBar"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.funnel chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Funnel"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.pyramid chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Pyramid"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.doughnut chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Doughnut"),tabindex:0})[0].outerHTML)[0].outerHTML)[0].outerHTML+t.buildTag("tr",t.buildTag("td",t.buildTag("div.scatter chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Scatter"),tabindex:0})[0].outerHTML)[0].outerHTML+t.buildTag("td",t.buildTag("div.bubble chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("Bubble"),tabindex:0})[0].outerHTML)[0].outerHTML+(oclientProxy.model.enablePivotTreeMap?t.buildTag("td",t.buildTag("div.treemap chartTypesIcon").attr({title:oclientProxy._getLocalizedLabels("TreeMap"),tabindex:0})[0].outerHTML)[0].outerHTML:""))[0].outerHTML)[0].outerHTML)[0].outerHTML),r=oclientProxy.element.find("div.chartTypesDialog");r.length==0&&(n(i).appendTo(oclientProxy.element),n(i).css("left",this.offsetLeft+20+"px").css("top",this.offsetTop+20+"px"),oclientProxy.element.find("."+oclientProxy._pivotChart.seriesType()).addClass("activeChartType"));n(".chartTypesIcon").click(function(r){var u,f;if(oclientProxy.element.find(".chartTypesIcon").removeClass("activeChartType"),n(i).remove(),u=r.target.className.split(" ")[0],oclientProxy.model.chartType=u,oclientProxy._pivotChart.model.type=u,oclientProxy._pivotChart.model.commonSeriesOptions.type=u,u=="funnel"&&(oclientProxy._pivotChart.model.commonSeriesOptions.marker={dataLabel:{visible:!0,shape:"none",font:{color:oclientProxy.element.css("color"),size:"12px",fontWeight:"lighter"}}}),oclientProxy._pivotChart.getJSONRecords()!=null)if(oclientProxy.model.operationalMode!=t.Pivot.OperationalMode.ClientMode){if(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")),!t.isNullOrUndefined(oclientProxy.chartObj)){if(oclientProxy._isrenderTreeMap=!0,oclientProxy.model.enableDeferUpdate)oclientProxy._ischartTypesChanged=!0,oclientProxy.model.enablePivotTreeMap&&this.title.toLocaleLowerCase()=="treemap"?oclientProxy.model.enablePivotTreeMap&&(oclientProxy.element.find("#PivotChartContainer").remove(),oclientProxy.element.find("#PivotChart").removeClass("e-pivotchart"),oclientProxy.element.find("#PivotChart").hasClass("e-pivottreemap")?oclientProxy.otreemapObj.renderTreeMapFromJSON(oclientProxy._pivotChart.getJSONRecords()):(oclientProxy.element.find("#PivotChart").ejPivotTreeMap({url:oclientProxy.model.url,canResize:oclientProxy.model.isResponsive,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},drillSuccess:t.proxy(oclientProxy._treemapDrillSuccess,oclientProxy),beforeServiceInvoke:oclientProxy.model.treeMapLoad}),oclientProxy.otreemapObj=oclientProxy.element.find("#PivotChart").data("ejPivotTreeMap"),oclientProxy._isrenderTreeMap=!0,oclientProxy.chartObj=null)):(oclientProxy.element.find("#PivotChartTreeMapContainer").remove(),oclientProxy.element.find("#PivotChart").removeClass("e-pivottreemap"),oclientProxy.element.find("#PivotChart").hasClass("e-pivotchart")?oclientProxy._pivotChart.renderControlSuccess({JsonRecords:JSON.stringify(oclientProxy._pivotChart.getJSONRecords()),OlapReport:oclientProxy._pivotChart.getOlapReport()}):(oclientProxy.element.find("#PivotChart").ejPivotChart({url:oclientProxy.model.url,enableRTL:oclientProxy.model.enableRTL,canResize:oclientProxy.model.isResponsive,currentReport:oclientProxy.currentReport,customObject:oclientProxy.model.customObject,locale:oclientProxy.locale(),showTooltip:!0,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},commonSeriesOptions:{type:oclientProxy.model.chartType,tooltip:{visible:!0}},beforeServiceInvoke:oclientProxy.model.chartLoad,drillSuccess:t.proxy(oclientProxy._chartDrillSuccess,oclientProxy)}),oclientProxy._pivotChart=oclientProxy.element.find("#PivotChart").data("ejPivotChart"),oclientProxy.chartObj=null));else if(oclientProxy.model.enablePivotTreeMap&&this.title.toLocaleLowerCase()=="treemap")oclientProxy.model.enablePivotTreeMap&&(oclientProxy.element.find("#PivotChartContainer").remove(),oclientProxy.element.find("#PivotChart").removeClass("e-pivotchart"),oclientProxy.element.find("#PivotChart").hasClass("e-pivottreemap")?oclientProxy.otreemapObj.renderControlSuccess({JsonRecords:JSON.stringify(oclientProxy._pivotChart.getJSONRecords()),OlapReport:oclientProxy._pivotChart.getOlapReport()}):(oclientProxy.element.find("#PivotChart").ejPivotTreeMap({url:oclientProxy.model.url,canResize:oclientProxy.model.isResponsive,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},drillSuccess:t.proxy(oclientProxy._treemapDrillSuccess,oclientProxy),beforeServiceInvoke:oclientProxy.model.treeMapLoad}),oclientProxy.otreemapObj=oclientProxy.element.find("#PivotChart").data("ejPivotTreeMap"),oclientProxy.chartObj=null));else{if(oclientProxy.element.find("#PivotChartTreeMapContainer").remove(),oclientProxy.element.find("#PivotChart").removeClass("e-pivottreemap"),oclientProxy.element.find("#PivotChart").hasClass("e-pivotchart"))return oclientProxy._pivotChart.renderControlSuccess({JsonRecords:JSON.stringify(oclientProxy._pivotChart.getJSONRecords()),OlapReport:oclientProxy._pivotChart.getOlapReport()}),!1;oclientProxy.element.find("#PivotChart").ejPivotChart({url:oclientProxy.model.url,enableRTL:oclientProxy.model.enableRTL,canResize:oclientProxy.model.isResponsive,currentReport:oclientProxy.currentReport,customObject:oclientProxy.model.customObject,locale:oclientProxy.locale(),showTooltip:!0,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},commonSeriesOptions:{type:oclientProxy.model.chartType,tooltip:{visible:!0}},beforeServiceInvoke:oclientProxy.model.chartLoad,drillSuccess:t.proxy(oclientProxy._chartDrillSuccess,oclientProxy)});oclientProxy._pivotChart=oclientProxy.element.find("#PivotChart").data("ejPivotChart");oclientProxy.chartObj=null}f=JSON.stringify(oclientProxy.model.customObject);oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.updateReport,JSON.stringify({action:"chartTypeChanged",clientParams:u,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:f}),oclientProxy._chartTypeChangedSuccess)}}else oclientProxy._pivotChart.renderChartFromJSON(oclientProxy._pivotChart.getJSONRecords());else oclientProxy._waitingPopup.hide()})});n(document).click(function(t){t.target.className.indexOf("chartTypesImg")==-1&&n(".chartTypesDialog").remove()});this.element.find(".dialogCancelBtn").on(t.eventType.click,function(n){n.preventDefault();oclientProxy.element.find(".e-dialog").hide();oclientProxy.element.find(".e-dialog, .clientDialog").remove();oclientProxy._onPreventPanelClose()});this.element.find(".dialogOKBtn").on(t.eventType.click,function(r){var g,l,a,w,b,k,h,d,y,tt,it,c,p,s,u,e;if(r.preventDefault(),oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap"))),g=t.browserInfo().name=="msie"&&t.browserInfo().version<=8?oclientProxy._dialogTitle:oclientProxy.element.find(".e-titlebar")[0].textContent==i?oclientProxy.element.find(".e-titlebar")[0].innerText:oclientProxy.element.find(".e-titlebar")[0].textContent,g==oclientProxy._getLocalizedLabels("LoadReport"))if(l=oclientProxy.element.find(".reportNameList")[0].value,l!="")oclientProxy._waitingPopup.show(),oclientProxy.model.operationalMode=="servermode"?(oclientProxy.model.beforeServiceInvoke!=null&&oclientProxy._trigger("beforeServiceInvoke",{action:"loadReport",element:this.element,customObject:oclientProxy.model.customObject}),s=JSON.stringify(oclientProxy.model.customObject),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.loadReport,JSON.stringify({reportName:l,operationalMode:oclientProxy.model.operationalMode,analysisMode:oclientProxy.model.analysisMode,olapReport:currentReport,clientReports:oclientProxy.reports,customObject:s,clientParams:JSON.stringify(oclientProxy.model.enableMeasureGroups)}),oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Pivot?oclientProxy._renderControlSuccess:oclientProxy._toolbarOperationSuccess)):(a={url:"http://js.syncfusion.com/demos/ejservices/wcf/olapclient/olapclientservice.svc",reportCollection:oclientProxy._clientReportCollection,selectedReport:l,mode:oclientProxy.model.analysisMode},oclientProxy._trigger("loadReport",{targetControl:oclientProxy,loadReportSetting:a}),oclientProxy.model.enableLocalStorage?(oclientProxy.model.dataSource=a.reportCollection[0],oclientProxy._currentReportCollection=a.reportCollection,oclientProxy.refreshControl(),oclientProxy._refreshReportList(),oclientProxy._pivotSchemaDesigner&&oclientProxy._pivotSchemaDesigner._refreshPivotButtons()):(s=JSON.stringify(oclientProxy.model.customObject),oclientProxy.doAjaxPost("POST",a.url+"/"+oclientProxy.model.serviceMethodSettings.loadReport,JSON.stringify({reportName:l,operationalMode:oclientProxy.model.operationalMode,analysisMode:oclientProxy.model.analysisMode,olapReport:currentReport,clientReports:oclientProxy.reports,customObject:s,clientParams:JSON.stringify(oclientProxy.model.enableMeasureGroups)}),oclientProxy._clientToolbarOperationSuccess)));else return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("LoadReportAlertMsg"),"Error",oclientProxy),!1;else if(oclientProxy.element.find(".sortingDlg").length>0){if(oclientProxy.element.find(".sortEnable")[0].checked==!0&&oclientProxy.element.find(".measuresList")[0].value=="")return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterMeasureSelectionAlertMsg"),"Error",this),!1;if(oclientProxy.element.find(".filterEnable")[0].checked==!0){if(oclientProxy.element.find(".fMeasuresList")[0].value=="")return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterMeasureSelectionAlertMsg"),"Error",this),!1;if(oclientProxy.element.find(".filterCondition")[0].value=="")return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterConditionAlertMsg"),"Error",this),!1;if(oclientProxy.element.find(".filterFrom")[0].value=="")return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterStartValueAlertMsg"),"Error",this),!1;if((oclientProxy.element.find(".filterCondition")[0].value=="Between"||oclientProxy.element.find(".filterCondition")[0].value=="NotBetween")&&oclientProxy.element.find(".filterTo")[0].value=="")return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterEndValueAlertMsg"),"Error",this),!1}if(w=null,b=null,w=(oclientProxy._isSorted==!1||oclientProxy._isSorted==!0)&&oclientProxy.element.find(".sortEnable")[0].checked==!0?n("li[tag*='"+oclientProxy.element.find(".measuresList")[0].value+"']").attr("tag")+"::"+(oclientProxy.element.find(".radioBtnAsc")[0].checked==!0?"ASC":"DESC")+"::"+oclientProxy._axis+"::"+(oclientProxy.element.find(".preserveHrchy")[0].checked==!0?"PHT":"PHF"):oclientProxy._isSorted==!0&&oclientProxy.element.find(".sortDisable")[0].checked==!0?"Disable Sorting:: ::"+oclientProxy._axis+":: ":" :: ::"+oclientProxy._axis+":: ",b=(oclientProxy._isFiltered==!1||oclientProxy._isFiltered==!0)&&oclientProxy.element.find(".filterEnable")[0].checked==!0?n("li[tag*='"+oclientProxy.element.find(".fMeasuresList")[0].value+"']").attr("tag")+"::"+oclientProxy.element.find(".filterCondition")[0].value+"::"+oclientProxy.element.find(".filterFrom")[0].value+"::"+oclientProxy.element.find(".filterTo")[0].value:oclientProxy._isFiltered==!0&&oclientProxy.element.find(".filterDisable")[0].checked==!0?"Disable Filtering":"",oclientProxy._SortFilterDetails=w+"||"+b,oclientProxy._waitingPopup.show(),oclientProxy.element.find(".sortEnable")[0].checked==!0||oclientProxy.element.find(".filterEnable")[0].checked==!0)oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"toolbarOperation",toolbarOperation:"SortOrFilter",clientInfo:oclientProxy._SortFilterDetails,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports}),oclientProxy._toolbarOperationSuccess);else if(oclientProxy.element.find(".sortDisable")[0].checked==!0||oclientProxy.element.find(".filterDisable")[0].checked==!0)if(oclientProxy._isSorted==!0||oclientProxy._isFiltered==!0)oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"toolbarOperation",toolbarOperation:"SortOrFilter",clientInfo:oclientProxy._SortFilterDetails,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports}),oclientProxy._toolbarOperationSuccess),oclientProxy._isSorted=!1;else return oclientProxy._createAlertDialog(oclientProxy._getLocalizedLabels("FilterInvalidAlertMsg")),oclientProxy._waitingPopup.hide(),!1}else{if(n(".memberEditorDiv").length>0&&r.target.id=="OKBtn"){if(oclientProxy.model.enableAdvancedFilter&&oclientProxy._excelFilterInfo.length>0&&oclientProxy._removeFilterTag(oclientProxy._selectedFieldName),oclientProxy._currentItem.indexOf(oclientProxy._getLocalizedLabels("Measures"))<0&&oclientProxy._updateTreeView(),!oclientProxy.model.enableMemberEditorPaging&&oclientProxy._getSelectedNodes()==0&&args_innerHTML!=oclientProxy._getLocalizedLabels("Measures")&&args_innerHTML!="ToolbarButtons")return!1;if(oclientProxy._currentItem.indexOf(oclientProxy._getLocalizedLabels("Measures"))<0){if(oclientProxy._currentReportItems.length!=0)for(k=!1,e=0;e<oclientProxy._currentReportItems.length;e++)if(oclientProxy._currentReportItems[e]==oclientProxy._currentItem){k=!0;break}k&&oclientProxy._currentReportItems.length!=0||oclientProxy._currentReportItems.push(oclientProxy._currentItem);oclientProxy._treeViewData[oclientProxy._currentItem]=oclientProxy.memberTreeObj.dataSource()}}if(h=null,args_innerHTML!="ToolbarButtons"){if(oclientProxy._isMembersFiltered||oclientProxy.model.enableMemberEditorPaging)args_innerHTML==oclientProxy._getLocalizedLabels("Measures")?h="Measures:"+oclientProxy._getMeasuresList():args_innerHTML!="ToolbarButtons"&&args_innerHTML!=i&&(oclientProxy._updateTreeView(),h=oclientProxy._getUnSelectedNodes()+"CHECKED"+oclientProxy._getSelectedNodes(oclientProxy._currentAxis=="Slicers"?!0:!1));else{oclientProxy.element.find(".e-dialog, .clientDialog").remove();oclientProxy._onPreventPanelClose();return}oclientProxy._waitingPopup.show();args_innerHTML==oclientProxy._getLocalizedLabels("Measures")&&h!=null&&h.split(":")[1]==""&&n(oclientProxy.element).find(".splitBtn").each(function(t,i){i.firstChild.innerHTML==oclientProxy._getLocalizedLabels("Measures")&&n(i).remove()});n(oclientProxy).find(".e-dialog").hide();oclientProxy.model.enableMemberEditorPaging&&(d=[],unCheckedNd=[],t.isNullOrUndefined(oclientProxy._memberPageSettings.filterReportCollection)&&(oclientProxy._memberPageSettings.filterReportCollection={}),oclientProxy._memberPageSettings.filterReportCollection[oclientProxy._memberPageSettings.currentMemebrPage]=h,n.map(oclientProxy._memberPageSettings.filterReportCollection,function(n){var t=n.split("CHECKED");d.push(t[1]);unCheckedNd.push(t[0])}),h=unCheckedNd.join("")+"CHECKED"+d.join(""));oclientProxy.model.beforeServiceInvoke!=null&&oclientProxy._trigger("beforeServiceInvoke",{action:"filtering",element:this.element,customObject:oclientProxy.model.customObject});s=JSON.stringify(oclientProxy.model.customObject);oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.filterElement,JSON.stringify({action:"filtering",clientParams:h,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:s}),oclientProxy._filterElementSuccess)}else if(oclientProxy.element.find(".e-titlebar").first().text()==oclientProxy._getLocalizedLabels("RemoveReport")&&reportsCount<2)oclientProxy.element.find(".e-dialog").hide();else{if(n.trim(oclientProxy.element.find(".reportName").val())===""&&oclientProxy.element.find(".reportName").val()!=i)return!1;var rt=oclientProxy.element.find("#reportList").data("ejDropDownList"),f=oclientProxy.element.find(".reportName").val()||rt.selectedTextValue,o=oclientProxy.element.find(".e-titlebar").first().attr("tag"),v=o=="New Report"?"":oclientProxy.currentReport,nt=o=="New Report"?"":oclientProxy.reports;if(oclientProxy.element.find(".e-dialog").hide(),oclientProxy._waitingPopup.show(),oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode)y={data:oclientProxy.model.dataSource.data,reportName:f,enableAdvancedFilter:oclientProxy.model.dataSource.enableAdvancedFilter,columns:[],cube:oclientProxy.model.dataSource.cube,catalog:oclientProxy.model.dataSource.catalog,reportName:f,rows:[],values:[],filters:[]},u=oclientProxy.element.find(".reportlist").data("ejDropDownList"),oclientProxy.element.find(".reportlist").ejDropDownList("option","change",t.proxy(oclientProxy._reportChanged,oclientProxy)),o=="New Report"?(oclientProxy.model.dataSource=y,oclientProxy._clientReportCollection=[y],oclientProxy.element.find(".reportlist").ejDropDownList("option","dataSource",[{name:f}]),u.selectItemByText(f)):o=="Add Report"?(oclientProxy.model.dataSource=y,oclientProxy.model.dataSource.reportName=f,tt=n.map(oclientProxy._clientReportCollection,function(n){if(n.reportName==oclientProxy.model.dataSource.reportName)return n}),oclientProxy._clientReportCollection=n.map(oclientProxy._clientReportCollection,function(n){if(n.reportName!=oclientProxy.model.dataSource.reportName)return n}),oclientProxy._clientReportCollection.push(oclientProxy.model.dataSource),tt.length==0?(u=oclientProxy.element.find(".reportlist").data("ejDropDownList"),u.model.dataSource.push({name:f}),c=JSON.stringify(u.model.dataSource),oclientProxy.element.find(".reportlist").ejDropDownList("option","dataSource",JSON.parse(c)),u.selectItemByText(f)):oclientProxy._clientReportCollection.length>0&&oclientProxy._reportChanged()):o=="Rename Report"?(oclientProxy._clientReportCollection=n.map(oclientProxy._clientReportCollection,function(n){return n.reportName==oclientProxy.model.dataSource.reportName&&(n.reportName=f),n}),c=JSON.stringify(n.map(u.model.dataSource,function(n){return n.name!=u.getValue()?n:{name:f}})),oclientProxy.model.dataSource.reportName=f,oclientProxy.element.find(".reportlist").ejDropDownList("option","dataSource",JSON.parse(c)),u.selectItemByText(f)):o=="Remove Report"?(oclientProxy._clientReportCollection=n.map(oclientProxy._clientReportCollection,function(n){if(n.reportName!=f)return n}),it=n(u.getSelectedItem()).index()>=oclientProxy._clientReportCollection.length?oclientProxy._clientReportCollection.length-1:n(u.getSelectedItem()).index(),oclientProxy.model.dataSource=oclientProxy._clientReportCollection[it],c=JSON.stringify(n.map(u.model.dataSource,function(n){if(n.name!=u.getValue())return n})),oclientProxy.element.find(".reportlist").ejDropDownList("option","dataSource",JSON.parse(c)),u.model.dataSource.length>0&&u.selectItemByText(oclientProxy.model.dataSource.reportName)):o=="Save Report"?(p={url:"http://js.syncfusion.com/demos/ejservices/wcf/olapclient/olapclientservice.svc",reportName:f,reportCollection:oclientProxy._clientReportCollection,mode:oclientProxy.model.analysisMode},oclientProxy._trigger("saveReport",{targetControl:oclientProxy,saveReportSetting:p}),oclientProxy.model.enableLocalStorage||(s=JSON.stringify(oclientProxy.model.customObject),oclientProxy.doAjaxPost("POST",p.url+"/"+oclientProxy.model.serviceMethodSettings.saveReport,JSON.stringify({reportName:p.reportName,operationalMode:oclientProxy.model.operationalMode,analysisMode:oclientProxy.model.analysisMode,olapReport:JSON.stringify(oclientProxy.model.dataSource),clientReports:JSON.stringify(oclientProxy._clientReportCollection),customObject:s}),oclientProxy._toolbarOperationSuccess))):o!="Rename Report"&&(oclientProxy.refreshControl(),oclientProxy._pivotSchemaDesigner&&oclientProxy._pivotSchemaDesigner._refreshPivotButtons()),oclientProxy._waitingPopup.hide();else if(o=="Save Report")oclientProxy.model.beforeServiceInvoke!=null&&oclientProxy._trigger("beforeServiceInvoke",{action:"saveReport",element:this.element,customObject:oclientProxy.model.customObject}),s=JSON.stringify(oclientProxy.model.customObject),oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.saveReport,JSON.stringify({reportName:f,operationalMode:oclientProxy.model.operationalMode,analysisMode:oclientProxy.model.analysisMode,olapReport:v,clientReports:oclientProxy.model.analysisMode=="pivot"?JSON.stringify(oclientProxy._clientReportCollection):nt,customObject:s}),oclientProxy._toolbarOperationSuccess);else if(oclientProxy.model.beforeServiceInvoke!=null&&oclientProxy._trigger("beforeServiceInvoke",{action:"toolbarOperation",element:this.element,customObject:oclientProxy.model.customObject}),s=JSON.stringify(oclientProxy.model.customObject),oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap)oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"toolbarOperation",toolbarOperation:o,clientInfo:f,olapReport:v,clientReports:nt,customObject:s}),oclientProxy._toolbarOperationSuccess);else{if(o==oclientProxy._getLocalizedLabels("NewReport"))oclientProxy._currentReportName=f;else if(o==oclientProxy._getLocalizedLabels("AddReport"))u=oclientProxy.element.find(".reportlist").data("ejDropDownList"),u.model.dataSource.push({name:f}),u.selectItemByText(f),oclientProxy._currentReportName=f;else if(o==oclientProxy._getLocalizedLabels("RemoveReport")){for(e=0;e<oclientProxy._clientReportCollection.length;e++)oclientProxy._clientReportCollection[e].name==oclientProxy._currentReportName&&oclientProxy._clientReportCollection.splice(e,1);for(u=oclientProxy.element.find(".reportlist").data("ejDropDownList"),e=0;e<u.model.dataSource.length;e++)u.model.dataSource[e].name==oclientProxy._currentReportName&&u.model.dataSource.splice(e,1);u.selectItemByText(u.model.dataSource[0].name);v=oclientProxy._clientReportCollection[0].report;f=oclientProxy._clientReportCollection[0].name;oclientProxy._currentReport="";oclientProxy._currentReportName=f}else if(o==oclientProxy._getLocalizedLabels("RenameReport")){for(e=0;e<oclientProxy._clientReportCollection.length;e++)oclientProxy._clientReportCollection[e].name==oclientProxy._currentReportName&&(oclientProxy._clientReportCollection[e].name=f);for(u=oclientProxy.element.find(".reportlist").data("ejDropDownList"),e=0;e<u.model.dataSource.length;e++)u.model.dataSource[e].name==oclientProxy._currentReportName&&(u.model.dataSource[e].name=f);u.selectItemByText(f);oclientProxy._currentReportName=f;oclientProxy._waitingPopup.hide();oclientProxy._onPreventPanelClose();return}oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:o,args:JSON.stringify({clientInfo:f,currentReport:v,customObject:s})}),oclientProxy._toolbarOperationSuccess)}}}oclientProxy.element.find(".e-dialog, .clientDialog").remove();oclientProxy._onPreventPanelClose()});this.element.find(".unCheckAll,.checkAll").click(function(n){n.target.className.indexOf("checkAll")>-1?(oclientProxy.element.find(".editorTreeView").ejTreeView("checkAll"),oclientProxy._isMembersFiltered=!0,oclientProxy.element.find(".dialogOKBtn").data("ejButton").enable()):(oclientProxy.element.find(".editorTreeView").ejTreeView("unCheckAll"),oclientProxy.model.enableMemberEditorPaging||oclientProxy.element.find(".dialogOKBtn").data("ejButton").disable())})},_getLocalizedLabels:function(n){return t.PivotClient.Locale[this.locale()][n]===i?t.PivotClient.Locale["en-US"][n]:t.PivotClient.Locale[this.locale()][n]},_unWireEvents:function(){n(this.element.find(".dialogCancelBtn, .dialogOKBtn, .newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .pvtBtn, .removeSplitBtn, .unCheckAll, .checkAll, .removeMeasure, .toggleCollapseButton, .toggleExpandButton, .saveReportImg, .loadReportImg,.mdxImg,.maximizedView,.colSortFilterImg, .rowSortFilterImg, .chartTypesImg, .toggleaxisImg, .autoExecuteImg, .nextPage, .prevPage, .firstPage, .lastPage")).off(t.eventType.click);n(this.element.find(".dialogCancelBtn, .dialogOKBtn, .newReportImg, .addReportImg, .removeReportImg, .renameReportImg, .pvtBtn, .removeSplitBtn, .unCheckAll, .checkAll, .removeMeasure, .toggleCollapseButton, .toggleExpandButton, .saveReportImg, .loadReportImg,.mdxImg,.maximizedView,.colSortFilterImg, .rowSortFilterImg, .chartTypesImg, .toggleaxisImg,.autoExecuteImg, .nextPage, .prevPage, .firstPage, .lastPage")).off("click");n(document).find(".winCloseBtn").off(t.eventType.click);n(document).find(".winCloseBtn").off("click");this._off(n(document),"keydown",this._keyPressDown);this._off(n(document),"keyup",this._keyPressUp);this.model.isResponsive&&n(window).off("resize",n.proxy(this._reSizeHandler,this))},_performToggleAction:function(n){this.element.find(".controlPanel").width(n[0].controlPanelWidth);(this.controlPlacement()!="horizontal"||this.controlPlacement()=="horizontal"&&this.displayMode()=="chartOnly"||this.controlPlacement()=="horizontal"&&this.displayMode()=="gridOnly")&&(this.element.find(".e-pivotchart").width(n[0].chartOuterWidth),this.element.find(".e-pivotgrid").width(n[0].gridOuterWidth),this.element.find("#PivotChart").css({width:"100%"}),t.isNullOrUndefined(this._pivotChart)&&t.isNullOrUndefined(this.otreemapObj)||(this.element.find("#"+this._pivotChart._id).ejPivotChart("option","width",n[0].chartOuterWidth+"px"),oclientProxy.chartObj=this.element.find("#"+this._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)||(this.element.find("#"+oclientProxy.chartObj._id).ejChart("option",{model:{size:{width:n[0].chartOuterWidth+"px"}}}),this.element.find("#"+oclientProxy.chartObj._id+"_svg").width(n[0].chartOuterWidth),oclientProxy.chartObj.redraw())),this.model.analysisMode==t.Pivot.AnalysisMode.Olap&&this.model.operationalMode==t.PivotGrid.OperationalMode.ClientMode&&oclientProxy._toggleExpand&&!t.isNullOrUndefined(oclientProxy.chartObj)&&(this.element.find("#PivotChartContainer").css("width",oclientProxy.chartObj.model.size.width),oclientProxy.chartObj.redraw()))},_rwdToggleExpand:function(){oclientProxy.element.find(".csHeader, .cubeTable,.e-pivotschemadesigner,.toggleExpandButton").show();oclientProxy.element.find(".toggleCollapseButton").hide();oclientProxy.element.find(".toggleText").hide();oclientProxy._parentElwidth<850&&(this.element.find(".outerTable").css({position:"absolute",float:this.model.enableRTL?"right":"left",tableLayout:"auto"}),this.element.find("table.cubeTable").css({width:"71%"}),this.element.find(".csHeader").css({width:navigator.userAgent.toLowerCase().indexOf("webkit")>0?"74%":"100%"}),this.element.find("#cubeSelector_wrapper").css({width:"100%"}),this.element.find(".controlPanelTD").css({width:this.element.find(".oClientTbl").width()-this.element.find("table.cubeTable").width(),float:this.model.enableRTL?"left":"right",left:this.model.enableRTL?"0px":"15px",right:this.model.enableRTL?"15px":"0px",position:"relative"}),this.element.find(".controlPanel").css({width:this.element.find(".controlPanelTD").width()-20}));oclientProxy._parentElwidth>850&&(this.element.find(".controlPanelTD").css({width:"56%",left:"inherit",float:"left","margin-left":"5px"}),this.element.find("table.cubeTable").css({width:"98%"}),this.element.find(".outerTable,.controlPanelTD").css({position:"inherit"}),currentTab=="grid"?n(".controlPanel").width(n("#"+oclientProxy._id).width()*55/100+"px"):currentTab=="chart"?n(".controlPanel").width(n("#"+oclientProxy._id).width()*55/100+"px"):n(".controlPanel").width("100%"),window.navigator.userAgent.indexOf("Trident")>0?(oclientProxy.element.find(".outerTable").width(n("#"+oclientProxy._id).width()*43/100),oclientProxy.element.find(".csHeader").width(n("#"+oclientProxy._id).width()*41/100+"px"),this.element.find("#cubeSelector_wrapper").width(n("#"+oclientProxy._id).width()*29/100-60+"px"),oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&oclientProxy.element.find(".gridPanel").width(n("#"+oclientProxy._id).width()*56/100+"px")):(this.element.find(".outerTable").css({width:n("#"+oclientProxy._id).width()*42/100+"px",tableLayout:"auto"}),this.element.find(".csHeader").css({width:n("#"+oclientProxy._id).width()*42/100+"px"}),this.element.find("#cubeSelector_wrapper").css({width:n("#"+oclientProxy._id).width()*32/100-60+"px"}),oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&oclientProxy.element.find(".gridPanel").css({width:n("#"+oclientProxy._id).width()*57/100+"px"})));this.displayMode()!="gridonly"&&(oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"?(oclientProxy.element.find(".gridPanel").width(n(".controlPanel").width()-7),n("#"+oclientProxy._pivotChart._id).width(n(".controlPanel").width()-7)):n("#"+oclientProxy._pivotChart._id).width(n(".controlPanel").width()),oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")),t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw()))},_rwdToggleCollapse:function(){oclientProxy._parentElwidth<850&&(this.element.find(".outerTable").css({position:"absolute"}),this.element.find(".controlPanelTD").css({left:this.model.enableRTL?"0px":"35px",right:this.model.enableRTL?"35px":"0px",position:"relative"}));currentTab=="grid"?n(".controlPanel").css({width:n("#"+oclientProxy._id).width()*94/100+"px"}):n(".controlPanel").css({width:"100%"});oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&oclientProxy.element.find(".gridPanel").css({width:n("#"+oclientProxy._id).width()*94/100+"px"});oclientProxy.element.find(".csHeader, .cubeTable, .e-pivotschemadesigner,.toggleExpandButton").hide();this.element.find(".controlPanelTD").css({left:this.model.enableRTL?"0":"4%",right:this.model.enableRTL?"4%":"0px",position:"relative",width:"95%",tableLayout:"fixed",float:""});n("#"+this._id).width("98%");this.element.find(".outerTable").css({position:"absolute",width:"0px",tableLayout:"fixed"});oclientProxy.element.find(".toggleCollapseButton").show();oclientProxy.element.find(".toggleText").show();oclientProxy.displayMode()!="gridonly"&&(oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"?n("#"+oclientProxy._pivotChart._id).width(n(".controlPanel").width()-17):n("#"+oclientProxy._pivotChart._id).width(n(".controlPanel").width()),oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap"))),t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw()))},_removeFilterTag:function(t){var i;if(t.indexOf("].")>=0&&(i=t.split("].").length>2?"levelUniqueName":"hierarchyUniqueName",this._excelFilterInfo.length>0)){var r=this.element.find(".cubeSelector").data("ejDropDownList").model.value,u=this.element.find("#reportList").data("ejDropDownList").model.value,f=this._selectedLevelUniqueName,e=this._selectedFieldName;this._excelFilterInfo=n.grep(this._excelFilterInfo,function(n){if(n.cubeName==r&&n.report==u&&!(n[i]==t))return n})}},_groupLabelChange:function(i){var r,u;if(this._selectedLevelUniqueName=i.selectedValue,r=[],this._excelFilterInfo.length>0){var f=this.element.find(".cubeSelector").data("ejDropDownList").model.value,e=this.element.find("#reportList").data("ejDropDownList").model.value,o=this._selectedLevelUniqueName,s=this._selectedFieldName;r=n.map(this._excelFilterInfo,function(n){if(n.cubeName==f&&n.report==e&&n.hierarchyUniqueName==s&&n.levelUniqueName==o)return{action:n.action,operator:n.operator,value1:n.value1}})}this.element.find(".filterElementTag .activeFilter,.filterIndicator").remove();this.element.find(".clearFilter").css("opacity","0.5").attr("disable",!0);r.length>0&&!t.isNullOrUndefined(r[0].operator)?(u=r[0].action=="valuefiltering"?"valueFilterBtn":"labelFilterBtn",this.element.find(".clientDialog").prepend("<div class='filterIndicator e-icon' style='top:"+(u=="labelFilterBtn"?"59px":"89px")+"' />"),this.element.find("#"+u+" .clearFilter").removeAttr("style disable"),r[0].operator.replace(/ /g,"")=="BottomCount"?this.element.find("#"+u+" ."+r[0].operator.replace(/ /g,"").replace("Bottom","top")+" a").append(n(t.buildTag("span.activeFilter e-icon")[0].outerHTML)):this.element.find("#"+u+" ."+r[0].operator.replace(/ /g,"")+" a").append(n(t.buildTag("span.activeFilter e-icon")[0].outerHTML))):this._getUnSelectedNodes()!=""&&this.element.find(".clientDialog").prepend("<div class='filterIndicator e-icon' />")},_filterElementClick:function(i){var u,r;if(n(i.element).hasClass("clearFilter")&&n(i.element).css("opacity")=="0.5"||n(i.element).parent(".filterElementTag").length>0)return i.Cancel;this._selectedLevelUniqueName=this.element.find(".groupLabelDrop").data("ejDropDownList").model.value||this.element.find(".groupLabelDrop").data("ejDropDownList").model.dataSource[0].value;var f=this.element.find(".cubeSelector").data("ejDropDownList").model.value,e=this.element.find("#reportList").data("ejDropDownList").model.value,o=this._selectedLevelUniqueName,s=this._selectedFieldName;n(i.element).hasClass("clearFilter")?(this._removeFilterTag(this._selectedLevelUniqueName),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.filterElement,JSON.stringify({action:"labelfiltering",clientParams:this._selectedLevelUniqueName+"--Clear Filter",olapReport:this.currentReport,clientReports:this.reports,customObject:{}}),this._filterElementSuccess)):(u=n(i.element).parents("ul.filterElementTag").attr("id").toLowerCase().indexOf("valuefilter")>=0?"valueFilterDlg":"labelFilterDlg",r=[],this._excelFilterInfo.length>0&&n(i.element).siblings("li:eq(0)").attr("disable")!="true"&&(r=n.map(this._excelFilterInfo,function(n){if(n.cubeName==f&&n.report==e&&n.hierarchyUniqueName==s&&n.levelUniqueName==o)return{value1:n.value1,value2:n.value2,operator:n.operator,measure:n.measure}}),!n(i.element).hasClass(r[0].operator.replace(/ /g,""))&&r.length>0&&(r=[])),t.Pivot.createAdvanceFilterTag({action:u,selectedArgs:i,filterInfo:r},this))},_filterOptionChanged:function(n){var i=this.element.find("#filterDialog_wrapper .e-titlebar").text().indexOf("Value")>=0?"valueFilterDlg":"labelFilterDlg";i=="valueFilterDlg"&&t.Pivot.createAdvanceFilterTag({action:i,selectedArgs:n,filterInfo:[]},this)},_filterElementOkBtnClick:function(){t.isNullOrUndefined(this._waitingPopup)||this._waitingPopup.show();var u=this.element.find("#filterOptions").data("ejDropDownList").model.value||this.element.find("#filterOptions")[0].value,f=this.element.find("#filterValue1")[0].value,e=this.element.find("#filterValue2").length>0?this.element.find("#filterValue2")[0].value:"",i,n,r="labelfiltering";n=this._selectedLevelUniqueName+"--"+u+"--"+f;this.element.find(".filterMeasures").length>0&&(this.element.find("#filterValue2").length>0&&(n=n+","+e),i=this.element.find(".filterMeasures").data("ejDropDownList").model.value,n=n+"--"+i,r="valuefiltering");this._removeFilterTag(this._selectedLevelUniqueName);this._excelFilterInfo.push({cubeName:this.element.find(".cubeSelector").data("ejDropDownList").model.value,report:this.element.find("#reportList").data("ejDropDownList").model.value,action:r,hierarchyUniqueName:this._selectedFieldName,levelUniqueName:this._selectedLevelUniqueName,operator:u,measure:i,value1:f,value2:e});this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.filterElement,JSON.stringify({action:r,clientParams:n,olapReport:this.currentReport,clientReports:this.reports,customObject:{}}),this._filterElementSuccess)},_splitButtonDropped:function(t,i){var f,o,e,r,u,s;if(isDropped=!0,f=t=="Series"?"row":t.toLowerCase(),n.trim(i)==""&&this.element.find("."+f+"Axis").find("button:last").attr("title")==this.element.find("button.dragClone").attr("title")||n.trim(i)!=""&&this.element.find(n("."+f+"Axis").find(".splitBtn")[i]).attr("tag").split(":")[1].replace("."," - ")==this.element.find("button.dragClone").attr("title"))return this.element.find("button.dragClone").remove(),!1;if(n.trim(i)==""||draggedSplitBtn!=null&&this.element.find(n("."+f+"Axis").find(".splitBtn")[i]).attr("tag").split(":")[1].replace("."," - ")!=this.element.find("button.dragClone").attr("title")){if(o=this.element.find(".cubeName").html()+"--"+n(draggedSplitBtn).parent("div:eq(0)").attr("Tag")+"--"+t+"--"+i,this.model.enableAdvancedFilter&&t=="Slicer"){if(e=n(draggedSplitBtn).parent("div:eq(0)").attr("Tag").split(":")[1].split("."),r=this.element.find(".cubeTreeView li[tag^='["+e[0]+"'][tag$='"+e[1]+"]']"),r.length>0){for(u=0;u<r.length;u++)if(n(r[u]).attr("tag").split("].").length==2){this._selectedFieldName=n(r[u]).attr("tag");break}}else this._selectedFieldName=r.attr("tag");this._removeFilterTag(this._selectedFieldName)}draggedSplitBtn=null;oclientProxy._waitingPopup.show();oclientProxy.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"nodeDropped",element:this.element,customObject:this.model.customObject});s=JSON.stringify(oclientProxy.model.customObject);oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"SplitButton",nodeInfo:o,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:s}),oclientProxy._nodeDroppedSuccess)}oclientProxy._isNodeOrButtonDropped=!0},_filterElementSuccess:function(n){n[0]!=i?(oclientProxy.currentReport=n[0].Value,oclientProxy.reports=n[1].Value,n[2]!=null&&n[2]!=i&&(oclientProxy.model.customObject=n[2].Value)):n.d!=i?(oclientProxy.currentReport=n.d[0].Value,oclientProxy.reports=n.d[1].Value,n.d[2]!=null&&n.d[2]!=i&&(oclientProxy.model.customObject=n.d[2].Value)):(oclientProxy.currentReport=n.UpdatedReport,oclientProxy.reports=n.ClientReports,n.customObject!=null&&n.customObject!=i&&(oclientProxy.model.customObject=n.customObject));this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"filtering",element:this.element,customObject:this.model.customObject});oclientProxy._renderControls();oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._successAction="Filter";oclientProxy._trigger("renderSuccess",oclientProxy)},_maxViewBtnClick:function(){var r=n(window).width()-150,u=n(window).height()-100,f=t.buildTag("div.fullScreenView","",{width:n(document).width(),height:n(document).height()}),i=t.buildTag("div#"+oclientProxy._id+"_maxView.maximumView","",{width:r,height:u}),o=t.buildTag("div#Winclose.winCloseBtn e-icon","").attr("role","button").attr("aria-label","close"),e;oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")));oclientProxy.displayMode()=="chartonly"&&(n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]||n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").children().length>0)&&(oclientProxy._fullScreenView(100,160),t.isNullOrUndefined(oclientProxy.chartObj)||oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"&&(n("#"+oclientProxy.otreemapObj._id).css({width:"99%"}),n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").css({width:"100%"})),i.append(oclientProxy.element.find("#PivotChart")));oclientProxy.displayMode()=="gridonly"&&i.append(oclientProxy.element.find("#PivotGrid").css({"max-height":u,width:r}));oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&oclientProxy.displayMode()=="chartandgrid"?currentTab=="grid"?i.append(oclientProxy.element.find("#PivotGrid").css({"max-height":u,width:r})):currentTab=="chart"&&(n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]||n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").children().length>0)&&(oclientProxy._fullScreenView(100,160),t.isNullOrUndefined(oclientProxy.chartObj)||oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"&&(n("#"+oclientProxy.otreemapObj._id).css({width:"99%"}),n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").css({width:"100%"})),i.append(oclientProxy.element.find("#PivotChart"))):oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&(e=n(window).height()/2-50,oclientProxy.element.find("#PivotGrid").css({"max-height":e,"margin-left":"0px"}),t.isNullOrUndefined(oclientProxy.chartObj)||oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"&&(n("#"+oclientProxy.otreemapObj._id).css({width:"99%"}),n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").css({width:"100%"})),oclientProxy._fullScreenView(50,160),(n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]||n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").children().length>0)&&(oclientProxy.defaultView()=="chart"?i.append(oclientProxy.element.find("#PivotChart")).append(oclientProxy.element.find("#PivotGrid").width(n(window).width()-160)):i.append(oclientProxy.element.find("#PivotGrid").width(n(window).width()-160)).append(oclientProxy.element.find("#PivotChart"))),i.append(oclientProxy.element.find("#PivotGrid").width(n(window).width()-160)));i.append(o);f.append(i);n("body").append(f);oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.model.enablePivotTreeMap&&oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw()))},_maxViewClsBtnClick:function(){var i=n(".fullScreenView");i.find("#PivotGrid").css("margin-left","7px");i.find("#PivotChart").appendTo(oclientProxy.element.find(".chartContainer"));oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")));oclientProxy.displayMode()=="chartonly"&&n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]&&oclientProxy._fullScreenViewCls(560,557);oclientProxy.displayMode()=="gridOnly"&&i.find("#PivotGrid").css({width:"inherit","max-height":""});oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&oclientProxy.displayMode()=="chartandgrid"&&(currentTab=="chart"&&n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]?oclientProxy._fullScreenViewCls(547,557):i.find("#PivotGrid").css({"max-height":"550px",width:"555px"}));oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&(n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]?(oclientProxy._fullScreenViewCls(275,555),i.find("#PivotGrid").css({"max-height":"300px",width:"555px"})):i.find("#PivotGrid").css({"max-height":"275px",width:"555px"}));oclientProxy.enableTogglePanel()&&oclientProxy.element.find(".cubeTable").is(":visible")==!1&&i.find("#PivotGrid").css("width","950px");i.find("#PivotGrid").appendTo(oclientProxy.element.find(".gridContainer"));n(".maximumView").remove();n(".fullScreenView").remove();oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.model.enablePivotTreeMap&&oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw()))},_enableResponsive:function(){oclientProxy.element.find(".outerPanel").css({width:"100%"});n(".e-pivotclient").css({width:"100%"});oclientProxy.element.find(".outerTable").css({float:this.model.enableRTL?"right":"left"});oclientProxy.element.find(".cdbHeader, .cubeBrowser").addClass("responsive");oclientProxy.element.find(".rowAxis, .slicerAxis, .categoricalAxis").width("99%");oclientProxy.element.find(".controlPanelTD").width("56%");oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&oclientProxy.element.find(".controlPanelTD").css("display","inline-block");oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode?oclientProxy.element.find(".cubeTable,.e-pivotschemadesigner").width("100%"):oclientProxy.element.find(".cubeTable").width("98%");window.navigator.userAgent.indexOf("Trident")>0?(currentTab=="grid"?n(".controlPanel").css({width:n("#"+oclientProxy._id).width()*55/100+"px"}):n(".controlPanel").css({width:"99%"}),oclientProxy.element.find(".outerTable").width(n("#"+oclientProxy._id).width()*39/100),oclientProxy.element.find(".csHeader").width(n("#"+oclientProxy._id).width()*38/100),oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"&&oclientProxy.element.find(".gridPanel").width(n("#"+oclientProxy._id).width()*55/100)):(oclientProxy.element.find(".outerTable").width(n("#"+oclientProxy._id).width()*38/100),oclientProxy.element.find(".csHeader").width(n("#"+oclientProxy._id).width()*38/100))},_fullScreenView:function(r,u){var f,e;oclientProxy._pivotChart!=null&&oclientProxy._pivotChart!=i&&n("#"+oclientProxy._pivotChart._id+"Container_svg")[0]&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),f=oclientProxy.chartObj.model.size.width=oclientProxy._pivotChart.model.size.width=n(window).width()-u+"px",e=oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&oclientProxy.displayMode()=="chartandgrid"?oclientProxy._pivotChart.model.size.height=oclientProxy.chartObj.model.size.height=n(window).height()/2-r+"px":oclientProxy._pivotChart.model.size.height=oclientProxy.chartObj.model.size.height=n(window).height()-r+"px",oclientProxy.element.find("#PivotChart").css({"min-height":e,width:f}),oclientProxy.element.find("#PivotChartContainer").css({width:f}),oclientProxy.chartObj.redraw())},_fullScreenViewCls:function(n,t){var r,u;oclientProxy._pivotChart!=null&&oclientProxy._pivotChart!=i&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),r=oclientProxy.chartObj.model.size.height=oclientProxy._pivotChart.model.size.height=n+"px",u=oclientProxy.enableTogglePanel()&&oclientProxy.element.find(".cubeTable").is(":visible")==!1?oclientProxy.chartObj.model.size.width=oclientProxy._pivotChart.model.size.width="950px":oclientProxy.chartObj.model.size.width=oclientProxy._pivotChart.model.size.width=t+"px",oclientProxy.element.find("#PivotChart").css({"min-height":r,width:u}),oclientProxy.chartObj.redraw())},_nodeDroppedSuccess:function(r){var e,o,s,c,h,u,f;if(r[0]!=i?(e=r[0].Value,o=r[1].Value,s=r[2].Value,oclientProxy.currentReport=r[3].Value,oclientProxy.reports=r[4].Value,r[5]!=null&&r[5]!=i&&(oclientProxy.model.customObject=r[5].Value)):r.d!=i?(e=r.d[0].Value,o=r.d[1].Value,s=r.d[2].Value,oclientProxy.currentReport=r.d[3].Value,oclientProxy.reports=r.d[4].Value,r.d[5]!=null&&r.d[5]!=i&&(oclientProxy.model.customObject=r.d[5].Value)):(e=r.Columns,o=r.Rows,s=r.Slicers,oclientProxy.currentReport=r.UpdatedReport,oclientProxy.reports=r.ClientReports,r.customObject!=null&&r.customObject!=i&&(oclientProxy.model.customObject=r.customObject)),oclientProxy._isRemoved&&(oclientProxy._isRemoved=!1,tempArray=[],e.length>0&&tempArray.push(e),o.length>0&&tempArray.push(o),s.length>0&&tempArray.push(s),tempArray.length>0))for(c=0;c<tempArray.length;c++)if(u=tempArray[c],!t.isNullOrUndefined(u))for(f=0;f<u.split("#").length;f++)h=u.split("#")[f]==""||u.split("#")[f]=="Measures"?null:u.split("#")[f].split(".").length>0?u.split("#")[f].replace("."," - "):u.split("#")[f],t.isNullOrUndefined(h)||oclientProxy._currentReportItems.length!=0&&oclientProxy._treeViewData.hasOwnProperty(h)&&(delete oclientProxy._treeViewData[h],oclientProxy._currentReportItems.splice(n.inArray(h,oclientProxy._currentReportItems),1));this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"nodeDropped",element:this.element,customObject:this.model.customObject});this.element.find(".splitBtn, .e-btn").remove();n(oclientProxy._createSplitButtons(e,"Columns")).appendTo(".categoricalAxis");n(oclientProxy._createSplitButtons(o,"Rows")).appendTo(".rowAxis");n(oclientProxy._createSplitButtons(s,"Slicers")).appendTo(".slicerAxis");this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px",type:t.ButtonType.Button});oclientProxy._setSplitBtnTitle();oclientProxy._renderControls();oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._successAction="NodeDrop";oclientProxy._trigger("renderSuccess",oclientProxy);this._buttonContextMenu()},_buttonContextMenu:function(){var i=t.buildTag("ul.pivotTree#pivotTree",t.buildTag("li",t.buildTag("a",oclientProxy._getLocalizedLabels("AddToColumn"))[0].outerHTML)[0].outerHTML+t.buildTag("li",t.buildTag("a",oclientProxy._getLocalizedLabels("AddToRow"))[0].outerHTML)[0].outerHTML+t.buildTag("li",t.buildTag("a",oclientProxy._getLocalizedLabels("AddToSlicer"))[0].outerHTML)[0].outerHTML)[0].outerHTML;this.element.append(i);n("#pivotTree").ejMenu({menuType:t.MenuType.ContextMenu,openOnClick:!1,contextMenuTarget:oclientProxy.element.find(".e-button"),click:t.proxy(oclientProxy._contextClick,oclientProxy),beforeOpen:t.proxy(oclientProxy._contextOpen,oclientProxy),close:t.proxy(oclientProxy._onPreventPanelClose,oclientProxy)})},_editorTreeInfoSuccess:function(n){n[0]!=i?n[2]!=null&&n[2]!=i&&(oclientProxy.model.customObject=n[2].Value):n.d!=i?n.d[2]!=null&&n.d[2]!=i&&(oclientProxy.model.customObject=n.d[2].Value):n.customObject!=null&&n.customObject!=i&&(oclientProxy.model.customObject=n.customObject);this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"fetchMemberTreeNodes",element:this.element,customObject:this.model.customObject});oclientProxy._createDialog(args_className,args_innerHTML,n);oclientProxy._waitingPopup.hide();oclientProxy._successAction="EditorTreeInfo";oclientProxy._trigger("renderSuccess",oclientProxy);this.element.find(".e-dialog .e-text:visible").first().length>0?this._curFocus.editor=this.element.find(".e-dialog .e-text:visible").first().attr("tabindex","-1").focus().addClass("hoverCell"):this.element.find(".e-dialog .measureEditor:visible").first().length>0&&(this._curFocus.editor=this.element.find(".e-dialog .measureEditor:visible").first().attr("tabindex","-1").focus().addClass("hoverCell"))},generateJSON:function(n){this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(this._pivotChart.model.analysisMode=this.model.analysisMode,this._pivotChart.model.operationalMode=this.model.operationalMode,this._pivotChart.model.dataSource=this.model.dataSource,this._pivotChart.setPivotEngine(n.tranposeEngine),this._pivotChart._drillAction="",this.displayMode()!=t.PivotClient.DisplayMode.ChartOnly&&this._pivotGrid._drillAction!=""?this._setChartDrillMembers(n.tranposeEngine,this._pivotGrid._drillAction):this._pivotChart.generateJSON(this,n.tranposeEngine),this.model.analysisMode==t.Pivot.AnalysisMode.Olap&&(this._pivotChart._drilledCellSet=this._drilledCellSet.length>0?this._drilledCellSet:[],this._pivotChart.XMLACellSet=this.XMLACellSet.length>0?this.XMLACellSet:[]),this._pivotChart._drillAction="");this.displayMode()!=t.PivotClient.DisplayMode.ChartOnly&&(this._pivotGrid.model.analysisMode=this.model.analysisMode,this._pivotGrid.model.operationalMode=this.model.operationalMode,this._pivotGrid.model.dataSource=this.model.dataSource,this._pivotGrid.setJSONRecords(JSON.stringify(n.jsonObj)),this._pivotGrid.model.collapsedMembers=null,this.model.gridLayout=="excellikelayout"?this._pivotGrid.excelLikeLayout(n.jsonObj):this._pivotGrid.renderControlFromJSON(),this.model.analysisMode==t.Pivot.AnalysisMode.Olap&&(this._pivotGrid._drilledCellSet=this._drilledCellSet.length>0?this._drilledCellSet:[],this._pivotGrid.XMLACellSet=this.XMLACellSet.length>0?this.XMLACellSet:[]),this._pivotGrid._drillAction="");oclientProxy._pivotSchemaDesigner&&this._pivotSchemaDesigner._refreshPivotButtons()},_renderLayout:function(){var r,i,u,f;this.model.isResponsive&&(this.model.displaySettings.enableTogglePanel=!0);r=t.buildTag("div.reportToolbar#reportToolbar",this._reportToolbar(),{width:"410px",height:"29px"})[0].outerHTML;this.model.isResponsive?this.model.isResponsive&&(i=this.model.operationalMode==t.Pivot.OperationalMode.ClientMode?t.buildTag("div#PivotSchemaDesigner.pivotFieldList","",{width:"360px",height:"590px"})[0].outerHTML:this._createCubeSelector()+t.buildTag("table.cubeTable",t.buildTag("tbody",t.buildTag("tr",t.buildTag("td.cubeTabletd",this._createCubeBrowser(cubeTreeInfo)).attr({valign:"bottom",width:"50%"})[0].outerHTML+t.buildTag("td.cubeTabletd",this._createAxisElementBuilder(columnElements,rowElements,slicerElements)).attr({valign:"bottom",width:"50%"})[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML,u=t.buildTag("span.outerPanel","").append(t.buildTag("div.titleText",t.buildTag("span",this.title(),{"padding-left":"10px"})[0].outerHTML)[0].outerHTML+r+t.buildTag("table.oClientTbl",t.buildTag("tr",t.buildTag("td",t.buildTag("table.outerTable",t.buildTag("tr",t.buildTag("td",i)[0].outerHTML)[0].outerHTML)[0].outerHTML+t.buildTag("table.controlPanelTD",t.buildTag("tr",t.buildTag("td",this._controlPanel())[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML,{width:"100%"})[0].outerHTML)):(i=t.buildTag("div#PivotSchemaDesigner.pivotFieldList","",{})[0].outerHTML,u=t.buildTag("span.outerPanel","",{width:"1000px",height:"600px"}).append("<div class=\"titleText\"><span style='padding-left:10px'>"+this.model.title+"<\/span><\/div>"+r+'<table class="outerTable"><tr><td>'+i+'<\/td><td class="controlPanelTD">'+this._controlPanel()+"<\/td>"+(this.model.enableVirtualScrolling?t.buildTag("td.virtualScrolling",t.buildTag("div.vScrollPanel")[0].outerHTML)[0].outerHTML:"")+"<\/tr><\/table>"));this.element.html(u);this.element.width(this.element.find(".outerPanel").width());this.element.find(".reportToolbar").ejToolbar({enableRTL:this.model.enableRTL,height:"35px"});this.model.enableRTL&&this.element.addClass("e-rtl");this.enableTogglePanel()&&(this.element.width(this.element.width()+22),n(t.buildTag("div.togglePanel",t.buildTag("div.toggleExpandButton e-icon","",{}).attr("aria-describedby","toggleexpand")[0].outerHTML+t.buildTag("div.toggleCollapseButton e-icon",{},{display:"none"}).attr("aria-describedby","togglecollapse")[0].outerHTML)[0].outerHTML).appendTo(this.element.find(".pivotFieldList").parent()));(this.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&this.defaultView()==t.PivotClient.DefaultView.Grid||this.displayMode()==t.PivotClient.DisplayMode.GridOnly)&&this.element.find(".chartTypesImg").addClass("chartTypesOnGridView");this.element.find(".controlPanel").css("right",3);f="<div class ='reportList' ><input type='text' id='reportList' class='reportlist' title='"+this._getLocalizedLabels("ReportList")+"'/><\/div>";n(f).appendTo(".reportCol")},_reportToolbar:function(){return t.buildTag("ul",t.buildTag("li.newReportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("NewReport")).attr({title:this._getLocalizedLabels("NewReport"),tabindex:0})[0].outerHTML+t.buildTag("li.addReportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("AddReport")).attr({title:this._getLocalizedLabels("AddReport"),tabindex:0})[0].outerHTML+t.buildTag("li.removeReportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("RemoveReport")).attr({title:this._getLocalizedLabels("RemoveReport"),tabindex:0})[0].outerHTML+t.buildTag("li.renameReportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("RenameReport")).attr({title:this._getLocalizedLabels("RenameReport"),tabindex:0})[0].outerHTML+t.buildTag("li.saveReportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("SaveReport")).attr({title:this._getLocalizedLabels("SaveReport"),tabindex:0})[0].outerHTML+t.buildTag("li.loadReportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("LoadReport")).attr({title:this._getLocalizedLabels("LoadReport"),tabindex:0})[0].outerHTML+(this.model.analysisMode==t.Pivot.AnalysisMode.Olap?t.buildTag("li.mdxImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("MDXQuery")).attr({title:this._getLocalizedLabels("MDXQuery"),tabindex:0})[0].outerHTML:"")+(this.model.enableDeferUpdate&&this.model.analysisMode!=t.Pivot.AnalysisMode.Pivot&&this.model.operationalMode==t.Pivot.OperationalMode.Olap?t.buildTag("li.autoExecuteImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("DeferUpdate")).attr({title:this._getLocalizedLabels("DeferUpdate"),tabindex:0})[0].outerHTML:"")+t.buildTag("li.excelExportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("ExportToExcel")).attr({title:this._getLocalizedLabels("ExportToExcel"),tabindex:0})[0].outerHTML+t.buildTag("li.wordExportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("ExportToWord")).attr({title:this._getLocalizedLabels("ExportToWord"),tabindex:0})[0].outerHTML+t.buildTag("li.pdfExportImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("ExportToPdf")).attr({title:this._getLocalizedLabels("ExportToPdf"),tabindex:0})[0].outerHTML+(oclientProxy.model.displaySettings.enableFullScreen?t.buildTag("li.maximizedView e-icon","",{}).attr("aria-label",this._getLocalizedLabels("FullScreen")).attr({title:this._getLocalizedLabels("FullScreen"),tabindex:0})[0].outerHTML:"")+(this.model.operationalMode!=t.Pivot.OperationalMode.ClientMode&&this.model.analysisMode==t.Pivot.AnalysisMode.Olap&&!this.model.enableAdvancedFilter?t.buildTag("li.colSortFilterImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("SortOrFilterColumn")).attr({title:this._getLocalizedLabels("SortOrFilterColumn"),tabindex:0})[0].outerHTML+t.buildTag("li.rowSortFilterImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("SortOrFilterRow")).attr({title:this._getLocalizedLabels("SortOrFilterRow"),tabindex:0})[0].outerHTML:"")+t.buildTag("li.toggleaxisImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("ToggleAxis")).attr({title:this._getLocalizedLabels("ToggleAxis"),tabindex:0})[0].outerHTML+t.buildTag("li.chartTypesImg e-icon","",{}).attr("aria-label",this._getLocalizedLabels("ChartTypes")).attr({title:this._getLocalizedLabels("ChartTypes"),tabindex:0})[0].outerHTML+t.buildTag("li.reportCol e-icon","",{}).attr("aria-label","report").attr({title:this._getLocalizedLabels("ReportList"),tabindex:0})[0].outerHTML)},_clientGridDrillSuccess:function(i){if(this._isChartDrillAction)this._isChartDrillAction=!1;else if(i.axis=="rowheader"&&this.displayMode()!=t.PivotClient.DisplayMode.GridOnly){i.drillAction=="drilldown"?this._drillParams.push(i.drilledMember):this._drillParams=n.grep(this._drillParams,function(n){return n.indexOf(i.drilledMember)<0});var r=i.drilledMember.split(">#>");this._pivotChart._labelCurrentTags.expandedMembers=r;i.drillAction=="drillup"&&(this.model.analysisMode==t.Pivot.AnalysisMode.Pivot?(this._pivotChart._labelCurrentTags.expandedMembers.splice(-1,1),this._pivotChart._labelCurrentTags.expandedMembers.length==0&&this._drillParams.length>0&&this._getDrilledMember(i.drillAction)):this._pivotChart._labelCurrentTags.expandedMembers.length==0&&this._drillParams.length>0&&this._getDrilledMember(i.drillAction));this._pivotChart._drillAction=i.drillAction;this._pivotChart.refreshControl()}},_getDrilledMember:function(){var o=this._drillParams[this._drillParams.length-1],r=n.grep(this._drillParams,function(n){return n.indexOf(o)>=0}),e,f,u,i;if(this.model.analysisMode==t.Pivot.AnalysisMode.Pivot)for(i=0;i<r.length;i++)r[i].split(">#>").length>this._pivotChart._labelCurrentTags.expandedMembers.length&&(this._pivotChart._labelCurrentTags.expandedMembers=r[i].split(">#>"));else{for(e=r[0].split(">#>").length,f=0,i=1;i<r.length;i++)if(r[i].split(">#>").length>e){f=i;break}for(this._drillInfo=r[f].split(">#>"),u=0,this._pivotChart._labelCurrentTags.expandedMembers=[],i=0;i<this._drillInfo.length;i++)t.isNullOrUndefined(this._pivotChart._labelCurrentTags.expandedMembers[u])&&(this._pivotChart._labelCurrentTags.expandedMembers[u]=[]),i+1<this._drillInfo.length?t.olap._mdxParser._splitCellInfo(this._drillInfo[i]).hierarchyUniqueName==t.olap._mdxParser._splitCellInfo(this._drillInfo[i+1]).hierarchyUniqueName?this._pivotChart._labelCurrentTags.expandedMembers[u].push(this._drillInfo[i]):u++:(this._pivotChart._labelCurrentTags.expandedMembers[u].push(this._drillInfo[i]),this._isChartDrillAction=!0)}},_clearSorting:function(r){if(n(r.target).parent().attr("disabled")=="disabled")return!1;this.element.find("#preventDiv").remove();var f=this.model.dataSource,e=this._schemaData._selectedFieldName.toLowerCase(),u=n.map(f.columns,function(n){if(n.fieldName!=i&&n.fieldName.toLowerCase()==e)return n});u.length==0&&(u=n.map(f.rows,function(n){if(n.fieldName!=i&&n.fieldName.toLowerCase()==e)return n}));u.length>0&&delete u[0].sortOrder;this.model.dataSource=f;this.element.find(".e-dialog").remove();this.element.find("#preventDiv").remove();this._schemaData!=null&&this._schemaData.element.find(".e-dialog").remove();this._waitingPopup.show();t.olap.base.getJSONData({action:"clearSorting"},this.model.dataSource,this)},_clientChartDrillSuccess:function(t){var r,f,e,i,o,u;for(this._isChartDrillAction=!0,r=[],t.drilledMember!=""&&(r=t.drilledMember.split(">#>")),f=0,e=this._pivotGrid._rowCount,i=0;i<r.length;i++)o=i==r.length-1&&t.drillAction=="drilldown"?this.element.find(".e-pivotgrid .pivotGridTable th.summary[p^='"+i+"']"):this.element.find(".e-pivotgrid .pivotGridTable th.rowheader[p^='"+i+"']"),u=n.grep(o,function(t){return n(t).clone().children().remove().end().text()==r[i]}),u=n.grep(u,function(t){return parseInt(n(t).attr("p").split(",")[1])>=f&&parseInt(n(t).attr("p").split(",")[1])<=e}),i==r.length-1?n(u).find("."+(t.drillAction=="drilldown"?"expand":"collapse")).trigger("click"):(f=parseInt(n(u).attr("p").split(",")[1]),e=f+u[0].rowSpan)},setChartDrillParams:function(i,r){var f,u,e;for(r=="drilldown"?this._drillParams.push(i):this._drillParams=n.grep(this._drillParams,function(n){return n.indexOf(i)<0}),this._drillInfo=i.split(">#>"),f=0,this._pivotChart._labelCurrentTags.expandedMembers=[],u=0;u<this._drillInfo.length;u++)t.isNullOrUndefined(this._pivotChart._labelCurrentTags.expandedMembers[f])&&(this._pivotChart._labelCurrentTags.expandedMembers[f]=[]),u+1<this._drillInfo.length?t.olap._mdxParser._splitCellInfo(this._drillInfo[u]).hierarchyUniqueName==t.olap._mdxParser._splitCellInfo(this._drillInfo[u+1]).hierarchyUniqueName?this._pivotChart._labelCurrentTags.expandedMembers[f].push(this._drillInfo[u]):f++:r=="drilldown"&&(this._pivotChart._labelCurrentTags.expandedMembers[f].push(this._drillInfo[u]),this._isChartDrillAction=!0);e=n.grep(this._pivotChart._labelCurrentTags.expandedMembers,function(n){return n.length>0});e.length==0&&this._drillParams.length>0&&(this._getDrilledMember(r),this._pivotGrid._drillAction="drilldown")},_setChartDrillMembers:function(n){var f,o,s,h,l,i,c,r;if(this._drillInfo.length>0){var u=this._pivotChart._cloneEngine(n),e=!1;for(i=0;i<this._pivotChart._labelCurrentTags.expandedMembers.length;i++)for(r=0;r<this._pivotChart._labelCurrentTags.expandedMembers[i].length;r++)e=!0;if(e){for(o=this._drillInfo[this._drillInfo.length-1],i=0;i<this.model.dataSource.rows.length;i++)s=t.olap._mdxParser._splitCellInfo(o).hierarchyUniqueName,this.model.dataSource.rows[i].fieldName==s&&(f=i);if(u[0][0].ColSpan>(this._drillInfo.length+this._pivotGrid._drillAction=="drilldown"?1:0))for(i=this._drillInfo.length+(this._pivotGrid._drillAction=="drilldown"?1:0)+(this.model.dataSource.rows.length-(f+1));i<u[0][0].ColSpan;i++)u.splice(i,1);for(i=0;i<this._drillInfo.length-(this._pivotGrid._drillAction=="drillup"?1:0);i++)h=t.olap._mdxParser._splitCellInfo(this._drillInfo[i]).leveName,this._pivotChart._cropData(u,h,i,!1);if(l=0,!t.isNullOrUndefined(this._pivotChart._labelCurrentTags.expandedMembers))for(i=0;i<this._pivotChart._labelCurrentTags.expandedMembers.length;i++)if(!t.isNullOrUndefined(this._pivotChart._labelCurrentTags.expandedMembers[i]))if(i>f)for(r=0;r<this._pivotChart._labelCurrentTags.expandedMembers[i].length;r++)c=this._pivotChart._labelCurrentTags.expandedMembers[i][r].split("::")[2],this._pivotChart._cropData(u,c,i,!0);else for(r=0;r<this._pivotChart._labelCurrentTags.expandedMembers[i].length;r++)u.splice(i,1)}this._drillInfo=[];this._pivotChart._generateData(u)}else this._pivotChart._generateData(n)},refreshPagedPivotClient:function(n,i){var r;if(t.isNullOrUndefined(this._waitingPopup)||this._waitingPopup.show(),n=n.indexOf("categ")!=-1?"categorical":"series",this.model.operationalMode==t.Pivot.OperationalMode.ClientMode&&this.model.analysisMode==t.Pivot.AnalysisMode.Olap)n=="categorical"?this._categCurrentPage=parseInt(i):this._seriesCurrentPage=parseInt(i),t.olap.base.getJSONData({action:"navPaging"},this.model.dataSource,this);else if(this.currentReport!=""){try{r=JSON.parse(this.currentReport)}catch(u){r=this.currentReport}this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.paging,JSON.stringify({action:"paging",pagingInfo:n+":"+i,currentReport:r,layout:t.PivotGrid.Layout.NoSummaries,customObject:null}),this.refreshPagedPivotClientSuccess)}},refreshPagedPivotClientSuccess:function(n){var r=[];n.d!=i?(r[0]=n.d[2],r[1]=n.d[1]):r=n;this.model.displaySettings.mode==t.PivotClient.DisplayMode.GridOnly?this._pivotGrid._renderControlSuccess(n):this.model.displaySettings.mode==t.PivotClient.DisplayMode.ChartOnly?this._pivotChart.renderControlSuccess(r):(this.model.displaySettings.mode=t.PivotClient.DisplayMode.ChartAndGrid)&&(this._pivotGrid._renderControlSuccess(n),this._pivotChart.renderControlSuccess(r))},_renderControlSuccess:function(r){var f,k,a,y,v,p,d,w,b,u,nt,o;oclientProxy.model.isResponsive&&(oclientProxy.model.displaySettings.enableTogglePanel=oclientProxy.model.isResponsive);eventArgs={element:this.element,customObject:this.model.customObject};oclientProxy._trigger("load",eventArgs);var s="",h="",c="",l="",e="";if(r[0]!=i)s=r[0].Value,h=r[1].Value,c=r[2].Value,l=r[3].Value,e=r[4].Value,oclientProxy.currentReport=oclientProxy._deferReport=r[5].Value,oclientProxy.reports=r[6].Value,reportsCount=r[7].Value,f=n.parseJSON(r[8].Value),oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r[9].Value)),oclientProxy.currentCubeName=r[10].Value,r[11]!=null&&r[11]!=i&&(oclientProxy.model.customObject=r[11].Value);else if(r.d!=i){if(t.isNullOrUndefined(r.d[3])||r.d[3].Value=="Pivot"){this.model.analysisMode=t.Pivot.AnalysisMode.Pivot;this._currentReportName="Default";r.d.length>4&&r.d[4].Value=="LoadReport"?(this._clientReportCollection=JSON.parse(r.d[5].Value),this._renderClientControls({PivotReport:r.d[0].Value,GridJSON:r.d[1].Value,ChartJSON:r.d[2].Value}),f=n.map(oclientProxy._clientReportCollection,function(n){if(n.name!=i)return{name:n.name}}),k=oclientProxy.element.find(".reportlist").data("ejDropDownList"),oclientProxy.element.find(".reportlist").ejDropDownList("option","dataSource",f),k.selectItemByText(f[0].name),oclientProxy._unWireEvents(),oclientProxy._wireEvents()):(this._clientReportCollection=[{name:"Default",report:n.parseJSON(r.d[0].Value).Report}],this._renderClientControls({PivotReport:r.d[0].Value,GridJSON:r.d[1].Value,ChartJSON:r.d[2].Value}));return}s=r.d[0].Value;h=r.d[1].Value;c=r.d[2].Value;l=r.d[3].Value;e=r.d[4].Value;oclientProxy.currentReport=oclientProxy._deferReport=r.d[5].Value;oclientProxy.reports=r.d[6].Value;reportsCount=r.d[7].Value;f=n.parseJSON(r.d[8].Value);oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r.d[9].Value));oclientProxy.currentCubeName=r.d[10].Value;r.d[11]!=null&&r.d[11]!=i&&(oclientProxy.model.customObject=r.d[11].Value)}else if(r!="")if(t.isNullOrUndefined(r.DataModel)||r.DataModel=="Olap")this.model.analysisMode=t.Pivot.AnalysisMode.Olap,s=r.Cubes,h=r.Columns,c=r.Rows,l=r.Slicers,e=r.CubeTreeInfo,oclientProxy.currentReport=r.CurrentReport,oclientProxy.reports=r.ClientReports,f=n.parseJSON(r.ReportList),reportsCount=r.ReportsCount,oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r.MeasureGroups)),oclientProxy.currentCubeName=r.CurrentCubeName,r.customObject!=null&&r.customObject!=i&&(oclientProxy.model.customObject=r.customObject);else{this.model.analysisMode=t.Pivot.AnalysisMode.Pivot;this._currentReportName="Default";this._clientReportCollection=[{name:"Default",report:n.parseJSON(r.PivotReport).Report}];this._renderClientControls(r);return}this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"initialize",element:this.element,customObject:this.model.customObject});a=null;r!=""&&(a=n.parseJSON(e));y=t.buildTag("div.reportToolbar#reportToolbar",oclientProxy._reportToolbar(),{width:"410px",height:"29px"})[0].outerHTML;oclientProxy.model.isResponsive?oclientProxy.model.isResponsive&&(v=oclientProxy._createCubeSelector()+t.buildTag("table.cubeTable",t.buildTag("tbody",t.buildTag("tr",t.buildTag("td.cubeTabletd",oclientProxy._createCubeBrowser(e)).attr({valign:"bottom",width:"50%"})[0].outerHTML+t.buildTag("td.cubeTabletd",oclientProxy._createAxisElementBuilder(h,c,l)).attr({valign:"bottom",width:"50%"})[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML,p=t.buildTag("span.outerPanel","").append(t.buildTag("div.titleText",t.buildTag("span",oclientProxy.title(),{"padding-left":"10px"})[0].outerHTML)[0].outerHTML+y+t.buildTag("table.oClientTbl",t.buildTag("tr",t.buildTag("td",t.buildTag("table.outerTable",t.buildTag("tr",t.buildTag("td",v)[0].outerHTML)[0].outerHTML)[0].outerHTML+t.buildTag("table.controlPanelTD",t.buildTag("tr",t.buildTag("td",oclientProxy._controlPanel())[0].outerHTML+(this.model.enableVirtualScrolling?t.buildTag("td.virtualScrolling",t.buildTag("div.vScrollPanel")[0].outerHTML)[0].outerHTML:""))[0].outerHTML)[0].outerHTML)[0].outerHTML)[0].outerHTML,{width:"100%"})[0].outerHTML)):(v=oclientProxy._createCubeSelector()+'<table class=cubeTable><tr><td valign="bottom">'+oclientProxy._createCubeBrowser(e)+'<\/td><td valign="bottom" style=\''+(oclientProxy.model.enableRTL?"padding-right:5px;":"padding-left:5px;")+"'>"+oclientProxy._createAxisElementBuilder(h,c,l)+"<\/td><\/tr><\/table>",p=t.buildTag("span.outerPanel","",{width:"1000px",height:"600px"}).append('<div class="titleText"><span>'+oclientProxy.title()+"<\/span><\/div>"+y+'<table class="outerTable"><tr><td>'+v+'<\/td><td class="controlPanelTD">'+oclientProxy._controlPanel()+"<\/td>"+(this.model.enableVirtualScrolling?t.buildTag("td.virtualScrolling",t.buildTag("div.vScrollPanel")[0].outerHTML)[0].outerHTML:"")+"<\/tr><\/table>"));oclientProxy.element.html(p).width(n(".outerPanel").width());oclientProxy.element.find(".reportToolbar").ejToolbar({enableRTL:this.model.enableRTL,height:"35px"});oclientProxy.model.enableRTL&&oclientProxy.element.addClass("e-rtl");(oclientProxy.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&oclientProxy.defaultView()==t.PivotClient.DefaultView.Grid||oclientProxy.displayMode()==t.PivotClient.DisplayMode.GridOnly)&&oclientProxy.element.find(".chartTypesImg").addClass("chartTypesOnGridView");d="<div class ='reportList' ><input type='text' id='reportList' class='reportlist' title='"+this._getLocalizedLabels("ReportList")+"'/><\/div>";oclientProxy.model.enableMeasureGroups&&oclientProxy._createMeasureGroup();n(d).appendTo(".reportCol");oclientProxy.element.find(".reportlist").ejDropDownList({dataSource:f,enableRTL:this.model.enableRTL,fields:{text:"name",value:"name"},height:"26px"});oclientProxy.element.find(".reportlist").attr("tabindex",0);var g=oclientProxy.element.find(".csHeader").width()-oclientProxy.element.find(".cubeText").width()-(oclientProxy.element.find(".toggleExpandButton").length>0?oclientProxy.element.find(".toggleExpandButton").width():0)-20,tt=oclientProxy.enableTogglePanel()?g-25:g,it=s==""?"":n.parseJSON(s);for(oclientProxy.element.find(".cubeSelector").ejDropDownList({dataSource:it,enableRTL:this.model.enableRTL,fields:{text:"name",value:"name"},width:""+tt+"px"}),ddlTarget=oclientProxy.element.find(".cubeSelector").data("ejDropDownList"),reportDropTarget=oclientProxy.element.find("#reportList").data("ejDropDownList"),r==""||t.isNullOrUndefined(ddlTarget)||(ddlTarget.selectItemByText(oclientProxy.currentCubeName),reportDropTarget.model.dataSource.length&&reportDropTarget.selectItemByText(reportDropTarget.model.dataSource[0].name),this._selectedReport=reportDropTarget.currentValue),oclientProxy.element.find(".cubeSelector").ejDropDownList("option","change",t.proxy(oclientProxy._cubeChanged,oclientProxy)),oclientProxy.element.find(".cubeSelector").attr("tabindex",0),oclientProxy.element.find(".reportlist").ejDropDownList("option","change",t.proxy(oclientProxy.reportChanged,oclientProxy)),oclientProxy.model.enableMeasureGroups&&oclientProxy.element.find(".measureGroupSelector").ejDropDownList("option","change",t.proxy(oclientProxy._measureGroupChanged,oclientProxy)),oclientProxy.element.find(".cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:a},allowDragAndDrop:!0,enableRTL:this.model.enableRTL,allowDropChild:!1,allowDropSibling:!1,dragAndDropAcrossControl:!0,nodeDragStart:function(){isDragging=!0},beforeDelete:function(){return!1},nodeDropped:t.proxy(oclientProxy._nodeDropped,oclientProxy),height:this.model.enableMeasureGroups?"464px":this.model.enablePaging?"515px":"495px"}),oclientProxy.element.find(".cubeTreeView").attr("tabindex",0),w=oclientProxy.element.find(".cubeTreeView").find("li"),u=0;u<w.length;u++)w[u].setAttribute("tag",a[u].tag);for(b=oclientProxy.element.find(".cubeTreeView .folderCDB"),u=0;u<b.length;u++)n(b[u].parentElement).removeClass("e-draggable");nt=t.buildTag("div.cubeName",oclientProxy.currentCubeName);n(nt).prependTo(".cubeBrowser");oclientProxy.element.find(".categoricalAxis, .rowAxis, .slicerAxis").ejDroppable({drop:t.proxy(oclientProxy._onDropped,oclientProxy)});oclientProxy.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px",type:t.ButtonType.Button});oclientProxy.enableTogglePanel()&&(n(t.buildTag("div.toggleExpandButton e-icon",t.buildTag("p#toggleexpand","toggle expanded",{display:"none"})[0].outerHTML).attr("aria-describedby","toggleexpand")[0].outerHTML).appendTo(oclientProxy.element.find(".csHeader")),n(oclientProxy.element.find(".outerTable").find("td")[0]).append(t.buildTag("div.toggleCollapseButton e-icon",t.buildTag("p#togglecollapse","toggle collapsed",{display:"none"})[0].outerHTML).attr("aria-describedby","togglecollapse")[0].outerHTML),n(t.buildTag("div.toggleText")[0].outerHTML).insertAfter(oclientProxy.element.find(".toggleCollapseButton")),oclientProxy.element.find(".toggleCollapseButton").hide(),oclientProxy.element.find(".toggleText").hide());oclientProxy._setSplitBtnTitle();oclientProxy.element.find("#clientTab").ejTab({enableRTL:this.model.enableRTL,itemActive:t.proxy(oclientProxy._onTabClick,oclientProxy)});oclientProxy.model.operationalMode!=t.Pivot.OperationalMode.ClientMode&&(oclientProxy.defaultView()==t.PivotClient.DefaultView.Chart?(oclientProxy.element.find("#PivotChart").ejPivotChart({url:oclientProxy.model.url,enableRTL:oclientProxy.model.enableRTL,canResize:oclientProxy.model.isResponsive,enableRTL:oclientProxy.model.enableRTL,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),showTooltip:!0,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},commonSeriesOptions:{type:oclientProxy.model.chartType,tooltip:{visible:!0}},beforeServiceInvoke:oclientProxy.model.chartLoad,drillSuccess:t.proxy(oclientProxy._chartDrillSuccess,oclientProxy)}),oclientProxy.gridLayout()!=t.PivotGrid.Layout.Normal?oclientProxy.element.find("#PivotGrid").ejPivotGrid({url:oclientProxy.model.url,isResponsive:oclientProxy.model.isResponsive,enableRTL:oclientProxy.model.enableRTL,currentReport:oclientProxy.currentReport,layout:oclientProxy.gridLayout(),locale:oclientProxy.locale(),drillSuccess:t.proxy(oclientProxy._gridDrillSuccess,oclientProxy)}):oclientProxy.element.find("#PivotGrid").ejPivotGrid({url:oclientProxy.model.url,isResponsive:oclientProxy.model.isResponsive,enableRTL:oclientProxy.model.enableRTL,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),drillSuccess:t.proxy(oclientProxy._gridDrillSuccess,oclientProxy)})):(oclientProxy.gridLayout()!=t.PivotGrid.Layout.Normal?oclientProxy.element.find("#PivotGrid").ejPivotGrid({url:oclientProxy.model.url,isResponsive:oclientProxy.model.isResponsive,enableRTL:oclientProxy.model.enableRTL,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),layout:oclientProxy.gridLayout(),drillSuccess:t.proxy(oclientProxy._gridDrillSuccess,oclientProxy)}):oclientProxy.element.find("#PivotGrid").ejPivotGrid({url:oclientProxy.model.url,isResponsive:oclientProxy.model.isResponsive,enableRTL:oclientProxy.model.enableRTL,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),drillSuccess:t.proxy(oclientProxy._gridDrillSuccess,oclientProxy)}),oclientProxy.element.find("#PivotChart").ejPivotChart({url:oclientProxy.model.url,enableRTL:oclientProxy.model.enableRTL,canResize:oclientProxy.model.isResponsive,currentReport:oclientProxy.currentReport,locale:oclientProxy.locale(),showTooltip:!0,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},commonSeriesOptions:{type:oclientProxy.model.chartType,tooltip:{visible:!0}},drillSuccess:t.proxy(oclientProxy._chartDrillSuccess,oclientProxy),beforeServiceInvoke:oclientProxy.model.chartLoad})),oclientProxy.model.enablePaging&&oclientProxy.element.find("#Pager").ejPivotPager({mode:t.PivotPager.Mode.Both,targetControlID:oclientProxy._id}),oclientProxy.displayMode()!="chartonly"&&(oclientProxy._pivotGrid=oclientProxy.element.find("#PivotGrid").data("ejPivotGrid")),oclientProxy.displayMode()!="gridOnly"&&(oclientProxy._pivotChart=oclientProxy.element.find("#PivotChart").data("ejPivotChart")),o={},oclientProxy._pivotChart!=null&&(oclientProxy.element.find("#PivotChart").width(oclientProxy._pivotChart.model.size.width),o.chartModelWidth=oclientProxy._pivotChart.model.size.width),o.controlPanelWidth=oclientProxy.element.find(".controlPanel").width(),o.chartOuterWidth=oclientProxy._chartWidth,o.gridOuterWidth=oclientProxy._gridWidth,oclientProxy._initStyles.push(o),oclientProxy._wireEvents(),oclientProxy.model.isResponsive&&(oclientProxy._enableResponsive(),oclientProxy._parentElwidth=n("#"+oclientProxy._id).parent().width(),oclientProxy._parentElwidth<850?oclientProxy._rwdToggleCollapse():oclientProxy._parentElwidth>850&&oclientProxy._rwdToggleExpand()),oclientProxy._trigger("renderSuccess",oclientProxy),oclientProxy._successAction="ClientRender",oclientProxy.progressPos=n("#"+oclientProxy._id).position(),this._treeContextMenu(),this._buttonContextMenu(),t.isNullOrUndefined(r.Exception)||this._createErrorDialog(r,"Error",this))},_contextOpen:function(t){var i=n("#pivotTree").data("ejMenu");oclientProxy._selectedMember=n(t.target);i.enableItem(oclientProxy._getLocalizedLabels("AddToColumn"));i.enableItem(oclientProxy._getLocalizedLabels("AddToRow"));i.enableItem(oclientProxy._getLocalizedLabels("AddToSlicer"))},_contextClick:function(n){var t,i,r,u;oclientProxy._onPreventPanelClose();t=n.events.text;i="";t=t==oclientProxy._getLocalizedLabels("AddToSlicer")?"Slicer":t==oclientProxy._getLocalizedLabels("AddToColumn")?"Categorical":t==oclientProxy._getLocalizedLabels("AddToRow")?"Series":"";oclientProxy._waitingPopup.show();this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"nodeDropped",element:this.element,customObject:this.model.customObject});r=JSON.stringify(this.model.customObject);u=oclientProxy.currentCubeName+"--"+this._selectedMember.parent().attr("tag")+"--"+t+"--"+i;oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"SplitButton",nodeInfo:u,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:r}),oclientProxy._nodeDroppedSuccess)},_onContextOpen:function(t){if(n(t.target).find(".folderCDB").length>0)return!1;var i=n("#pivotTreeContext").data("ejMenu");oclientProxy._selectedMember=n(t.target);i.enableItem(oclientProxy._getLocalizedLabels("AddToColumn"));i.enableItem(oclientProxy._getLocalizedLabels("AddToRow"));n(t.target.parentElement).find(".namedSetCDB").length>0?i.disableItem(oclientProxy._getLocalizedLabels("AddToSlicer")):i.enableItem(oclientProxy._getLocalizedLabels("AddToSlicer"))},_onTreeContextClick:function(n){var i,r,u,f;t.isNullOrUndefined(this._curFocus.tree)?t.isNullOrUndefined(this._curFocus.tab)||this._curFocus.tab.attr("tabindex","-1").focus().addClass("hoverCell"):this._curFocus.tree.attr("tabindex","-1").focus().addClass("hoverCell");oclientProxy._onPreventPanelClose();i=n.events.text;r="";i=i==oclientProxy._getLocalizedLabels("AddToSlicer")?"Slicer":i==oclientProxy._getLocalizedLabels("AddToColumn")?"Categorical":i==oclientProxy._getLocalizedLabels("AddToRow")?"Series":"";oclientProxy._waitingPopup.show();this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"nodeDropped",element:this.element,customObject:this.model.customObject});u=JSON.stringify(this.model.customObject);f=oclientProxy.currentCubeName+"--"+this._selectedMember.parent().parent().attr("tag")+"--"+i+"--"+r;oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"TreeNode",nodeInfo:f,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:u}),oclientProxy._nodeDroppedSuccess)},_toggleAxisSuccess:function(r){if(this.model.analysisMode==t.Pivot.AnalysisMode.Pivot)t.isNullOrUndefined(r.d)?this.setOlapReport(r.PivotReport):this.setOlapReport(n.grep(r.d,function(n){return n.Key=="PivotReport"})[0].Value),this.refreshControl(r);else{var u,f,e;r[0]!=i?(u=r[0].Value,f=r[1].Value,e=r[2].Value,oclientProxy.currentReport=r[3].Value,oclientProxy.reports=r[4].Value):r.d!=i?(u=r.d[0].Value,f=r.d[1].Value,e=r.d[2].Value,oclientProxy.currentReport=r.d[3].Value,oclientProxy.reports=r.d[4].Value):(u=r.Columns,f=r.Rows,e=r.Slicers,oclientProxy.currentReport=r.CurrentReport,oclientProxy.reports=r.ClientReports);oclientProxy.element.find(".cubeTable").find(".categoricalAxis").parent().html("").html(oclientProxy._createAxisElementBuilder(u,f,e));oclientProxy.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px",type:t.ButtonType.Button});oclientProxy.element.find(".categoricalAxis, .rowAxis, .slicerAxis").addClass("e-droppable");oclientProxy._renderControls();oclientProxy._setSplitBtnTitle();oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._trigger("renderSuccess",oclientProxy);this._buttonContextMenu()}},_measureGroupChangedSuccess:function(r){var f,r,e,o,u;for(r[0]!=i&&(f=r[0].Value),f=r.d!=i?r.d[0].Value:r.CubeTreeInfo,this.element.find(".e-treeview, .cubeTreeView").remove(),r=t.buildTag("div#cubeTreeView.cubeTreeView")[0].outerHTML,this.element.find(".cubeBrowser").append(r),e=n.parseJSON(f),this.element.find(".cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:e},allowDragAndDrop:!0,allowDropChild:!1,allowDropSibling:!1,enableRTL:this.model.enableRTL,dragAndDropAcrossControl:!0,nodeDragStart:function(){isDragging=!0},nodeDropped:t.proxy(this._nodeDropped,this),beforeDelete:function(){return!1},height:"464px"}),o=oclientProxy.element.find(".cubeTreeView").find("li"),u=0;u<o.length;u++)o[u].setAttribute("tag",e[u].tag);oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._waitingPopup.hide();oclientProxy._successAction="MeasureGroupChange"},_cubeChangedSuccess:function(r){var f,e,h,c,o,s,u;for(r[0]!=i?(oclientProxy.currentReport=r[0].Value,f=r[1].Value,oclientProxy.reports=r[2].Value,reportsCount=r[3].Value,reportList=n.parseJSON(r[4].Value),oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r[5].Value)),e=n.parseJSON(r[6].Value),r[7]!=null&&r[7]!=i&&(oclientProxy.model.customObject=r[7].Value)):r.d!=i?(oclientProxy.currentReport=r.d[0].Value,f=r.d[1].Value,oclientProxy.reports=r.d[2].Value,reportsCount=r.d[3].Value,reportList=n.parseJSON(r.d[4].Value),oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r.d[5].Value)),e=n.parseJSON(r.d[6].Value),r.d[7]!=null&&r.d[7]!=i&&(oclientProxy.model.customObject=r.d[7].Value)):(oclientProxy.currentReport=r.NewReport,f=r.CubeTreeInfo,oclientProxy.reports=r.ClientReports,reportsCount=r.ReportsCount,reportList=n.parseJSON(r.ReportList),oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r.MeasureGroups)),e=n.parseJSON(r.ControlSettings),r.customObject!=null&&r.customObject!=i&&(oclientProxy.model.customObject=r.customObject)),oclientProxy.model.chartType=e.ChartType.toLowerCase(),this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"cubeChanged",element:this.element,customObject:this.model.customObject}),this.model.enableDeferUpdate?this.element.find(".splitBtn, .e-treeview, .cubeTreeView, .cubeName").remove():this.element.find(".splitBtn, .e-pivotgrid, .e-pivotchart, .e-treeview, .cubeTreeView, .cubeName").remove(),h=t.buildTag("div#cubeTreeView.cubeTreeView")[0].outerHTML,c=t.buildTag("div.cubeName",this.currentCubeName)[0].outerHTML,this.model.enableMeasureGroups&&this._createMeasureGroup(),o=n.parseJSON(f),n(h).appendTo(".cubeBrowser"),this.element.find(".cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:o},allowDragAndDrop:!0,allowDropChild:!1,allowDropSibling:!1,enableRTL:this.model.enableRTL,dragAndDropAcrossControl:!0,nodeDragStart:function(){isDragging=!0},nodeDropped:t.proxy(this._nodeDropped,this),beforeDelete:function(){return!1},height:this.model.enableMeasureGroups?"464px":"495px"}),s=oclientProxy.element.find(".cubeTreeView").find("li"),u=0;u<s.length;u++)s[u].setAttribute("tag",o[u].tag);this.element.find(".reportlist").ejDropDownList("option","change","");this.element.find(".reportlist").ejDropDownList("option","dataSource",reportList);this.element.find(".reportlist").ejDropDownList("option","value",reportList[0].name);n(c).prependTo(".cubeBrowser");oclientProxy._renderControls();oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._waitingPopup.hide();oclientProxy._successAction="CubeChange";oclientProxy._trigger("renderSuccess",oclientProxy);this._treeContextMenu()},_createMeasureGroup:function(){this.element.find(".measureGroupselector").remove();n("<div class ='measureGroupselector' style='margin:5px 5px 0px 5px'><input type='text' id='measureGroupSelector' class='measureGroupSelector' /><\/div>").prependTo(".cubeBrowser");this.element.find(".measureGroupSelector").ejDropDownList({dataSource:oclientProxy.measureGroupInfo,enableRTL:this.model.enableRTL,fields:{text:"name",value:"name"},height:"25px",width:"100%"});this.element.find(".measureGroupSelector").attr("tabindex",0);measureDropTarget=oclientProxy.element.find(".measureGroupSelector").data("ejDropDownList");measureDropTarget.selectItemByText(measureDropTarget.model.dataSource[0].name);this.element.find(".measureGroupSelector").ejDropDownList("option","change",t.proxy(oclientProxy._measureGroupChanged,oclientProxy))},_treeContextMenu:function(){var i=t.buildTag("ul.pivotTreeContext#pivotTreeContext",t.buildTag("li",t.buildTag("a",oclientProxy._getLocalizedLabels("AddToColumn"))[0].outerHTML)[0].outerHTML+t.buildTag("li",t.buildTag("a",oclientProxy._getLocalizedLabels("AddToRow"))[0].outerHTML)[0].outerHTML+t.buildTag("li",t.buildTag("a",oclientProxy._getLocalizedLabels("AddToSlicer"))[0].outerHTML)[0].outerHTML)[0].outerHTML;n(oclientProxy.element).append(i);n("#pivotTreeContext").ejMenu({menuType:t.MenuType.ContextMenu,openOnClick:!1,contextMenuTarget:oclientProxy.element.find(".cubeTreeView")[0],click:t.proxy(oclientProxy._onTreeContextClick,oclientProxy),beforeOpen:t.proxy(oclientProxy._onContextOpen,oclientProxy),close:t.proxy(oclientProxy._onPreventPanelClose,oclientProxy)})},_removeSplitButtonSuccess:function(n){n[0]!=i?(oclientProxy.currentReport=n[0].Value,oclientProxy.reports=n[1].Value,n[2]!=null&&n[2]!=i&&(oclientProxy.model.customObject=n[2].Value)):n.d!=i?(oclientProxy.currentReport=n.d[0].Value,oclientProxy.reports=n.d[1].Value,n.d[2]!=null&&n.d[2]!=i&&(oclientProxy.model.customObject=n.d[2].Value)):(oclientProxy.currentReport=n.UpdatedReport,oclientProxy.reports=n.ClientReports,n.customObject!=null&&n.customObject!=i&&(oclientProxy.model.customObject=n.customObject));this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"removeSplitButton",element:this.element,customObject:this.model.customObject});oclientProxy._renderControls();oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._successAction="ButtonRemove";oclientProxy._trigger("renderSuccess",oclientProxy)},_chartTypeChangedSuccess:function(n){n[0]!=i?(this.currentReport=n[0].Value,this.reports=n[1].Value):n.d!=i?(this.currentReport=n.d[0].Value,this.reports=n.d[1].Value):(this.currentReport=n.CurrentReport,this.reports=n.ClientReports)},_mdxQuery:function(n){oclientProxy.element.find(".e-dialog").hide();oclientProxy.element.find(".e-dialog, .clientDialog").remove();n.d!=i?oclientProxy._createDialog("mdx",n.d,""):oclientProxy._createDialog("mdx",n,"")},_refreshReportList:function(){var t=n.map(oclientProxy._clientReportCollection,function(n){if(n.reportName!=i)return{name:n.reportName}}),r=oclientProxy.element.find(".reportlist").data("ejDropDownList");oclientProxy.element.find(".reportlist").ejDropDownList("option","dataSource",t);r.selectItemByText(oclientProxy.model.dataSource.reportName);oclientProxy._unWireEvents();oclientProxy._wireEvents()},_clientToolbarOperationSuccess:function(n){if(n!=null){var t="";n&&n.d?t=JSON.parse(n.d[0].Value):n&&n.report&&(t=JSON.parse(n.report));this.model.dataSource=t[0];this._clientReportCollection=t;this.refreshControl(oclientProxy.model.dataSource);this._refreshReportList()}},_toolbarOperationSuccess:function(r){var e,o,s,u,h,a,c,f,v,y,p,l,w,b;if(r!=null&&(r.d!=i&&r.d||r[0]!=i&&r[0]||r.CurrentReport||r.PivotReport)){if(r.length>1&&r[0]!=i)oclientProxy.currentReport=r[0].Value,oclientProxy.reports=r[1].Value,reportsCount=r[2].Value,e=r[3].Value,o=r[4].Value,s=r[5].Value,u=r[6].Value,f=n.parseJSON(r[7].Value),h=r[8].Value,a=n.parseJSON(r[9].Value),cubeTreeInfo=r[10].Value,c=r[11].Value,oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=r[12].Value),r[13]!=null&&r[13]!=i&&(oclientProxy.model.customObject=r[13].Value);else if(r.d!=i){if(this.model.analysisMode==t.Pivot.AnalysisMode.Pivot){u=n.grep(r.d,function(n){return n.Key=="CurrentAction"})[0].Value;oclientProxy.setOlapReport(n.grep(r.d,function(n){return n.Key=="PivotReport"})[0].Value);oclientProxy.currentReport=n.parseJSON(this.getOlapReport()).Report;e=n.parseJSON(this.getOlapReport()).PivotColumns;o=n.parseJSON(this.getOlapReport()).PivotRows;s=n.parseJSON(this.getOlapReport()).Filters;u=="NewReport"?(this._clientReportCollection=[{name:this._currentReportName,report:oclientProxy.currentReport}],this.refreshControl({GridJSON:JSON.stringify(""),ChartJSON:JSON.stringify(""),PivotReport:n.grep(r.d,function(n){return n.Key=="PivotReport"})[0].Value})):u=="AddReport"?(this._clientReportCollection.push({name:this._currentReportName,report:oclientProxy.currentReport}),this.refreshControl({GridJSON:JSON.stringify(""),ChartJSON:JSON.stringify(""),PivotReport:n.grep(r.d,function(n){return n.Key=="PivotReport"})[0].Value})):(u=="RemoveReport"||u=="ChangeReport")&&this.refreshControl({GridJSON:n.grep(r.d,function(n){return n.Key=="GridJSON"})[0].Value,ChartJSON:n.grep(r.d,function(n){return n.Key=="ChartJSON"})[0].Value,PivotReport:n.grep(r.d,function(n){return n.Key=="PivotReport"})[0].Value});f=n.map(this._clientReportCollection,function(n){return{name:n.name}});this.element.find(".reportlist").ejDropDownList("option","dataSource",f);v=this.element.find(".reportlist").data("ejDropDownList");this._isReportListAction=!1;v.selectItemByText(this._currentReportName);this._isReportListAction=!0;return}oclientProxy.currentReport=r.d[0].Value;oclientProxy.reports=r.d[1].Value;reportsCount=r.d[2].Value;e=r.d[3].Value;o=r.d[4].Value;s=r.d[5].Value;u=r.d[6].Value;f=n.parseJSON(r.d[7].Value);h=r.d[8].Value;a=n.parseJSON(r.d[9].Value);cubeTreeInfo=r.d[10].Value;c=r.d[11].Value;oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=r.d[12].Value);r.d[13]!=null&&r.d[13]!=i&&(oclientProxy.model.customObject=r.d[13].Value)}else{if(this.model.analysisMode==t.Pivot.AnalysisMode.Pivot){u=r.CurrentAction;oclientProxy.setOlapReport(r.PivotReport);oclientProxy.currentReport=n.parseJSON(this.getOlapReport()).Report;e=n.parseJSON(this.getOlapReport()).PivotColumns;o=n.parseJSON(this.getOlapReport()).PivotRows;s=n.parseJSON(this.getOlapReport()).Filters;u=="NewReport"?(this._clientReportCollection=[{name:this._currentReportName,report:oclientProxy.currentReport}],this.refreshControl({GridJSON:JSON.stringify(""),ChartJSON:JSON.stringify(""),PivotReport:r.PivotReport})):u=="AddReport"?(this._clientReportCollection.push({name:this._currentReportName,report:oclientProxy.currentReport}),this.refreshControl({GridJSON:JSON.stringify(""),ChartJSON:JSON.stringify(""),PivotReport:r.PivotReport})):(u=="RemoveReport"||u=="ChangeReport")&&this.refreshControl({GridJSON:r.GridJSON,ChartJSON:r.ChartJSON,PivotReport:r.PivotReport});f=n.map(this._clientReportCollection,function(n){return{name:n.name}});this.element.find(".reportlist").ejDropDownList("option","dataSource",f);v=this.element.find(".reportlist").data("ejDropDownList");this._isReportListAction=!1;v.selectItemByText(this._currentReportName);this._isReportListAction=!0;return}oclientProxy.currentReport=r.CurrentReport;oclientProxy.reports=r.Reports;reportsCount=r.ReportsCount;e=r.Columns;o=r.Rows;s=r.Slicers;u=r.CurrentAction;f=n.parseJSON(r.ReportList);h=r.RenamedReport;a=n.parseJSON(r.ControlSettings);cubeTreeInfo=r.CubeTreeInfo;c=r.CubeSelector;oclientProxy.model.enableMeasureGroups&&(oclientProxy.measureGroupInfo=n.parseJSON(r.MeasureGroups));r.customObject!=null&&r.customObject!=i&&(oclientProxy.model.customObject=r.customObject)}if(this.model.analysisMode==t.Pivot.AnalysisMode.Olap&&(oclientProxy.model.chartType=a.ChartType.toLowerCase()),this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"toolbarOperation",element:this.element,customObject:this.model.customObject}),u!="Report Change"){if(this.element.find(".reportlist").ejDropDownList("option","change",""),this.element.find(".reportlist").ejDropDownList("option","dataSource",f),u=="Load Report"){for(ddlTarget._initValue=!0,ddlTarget.selectItemByText(c),ddlTarget._initValue=!1,reportDropTarget.selectItemByText(reportDropTarget.model.dataSource[0].name),this._selectedReport=reportDropTarget.currentValue,n(".cubeName").html(c),y=n.parseJSON(cubeTreeInfo),this.element.find(".cubeTreeView").ejTreeView({fields:{id:"id",parentId:"pid",text:"name",spriteCssClass:"spriteCssClass",dataSource:y},allowDragAndDrop:!0,allowDropChild:!1,allowDropSibling:!1,enableRTL:this.model.enableRTL,dragAndDropAcrossControl:!0,nodeDragStart:function(){isDragging=!0},nodeDropped:t.proxy(this._nodeDropped,this),beforeDelete:function(){return!1},height:this.model.enableMeasureGroups?"464px":"495px"}),p=oclientProxy.element.find(".cubeTreeView").find("li"),l=0;l<p.length;l++)p[l].setAttribute("tag",y[l].tag);this.model.enableMeasureGroups&&this._createMeasureGroup()}else u!="Rename Report"?(this._isReportListAction=!1,reportDropTarget.selectItemByText(reportDropTarget.model.dataSource[f.length-1].name),this._isReportListAction=!0,this._selectedReport=reportDropTarget.currentValue):(this._excelFilterInfo.length>0&&(w=this.element.find(".cubeSelector").data("ejDropDownList").model.value,b=this.element.find("#reportList").data("ejDropDownList").model.value,this._excelFilterInfo=n.grep(this._excelFilterInfo,function(n){return n.cubeName==w&&n.report==reportDropTarget.model.itemValue&&(n.report=h),n})),this._isReportListAction=!1,reportDropTarget.selectItemByText(h),this._isReportListAction=!0,this._selectedReport=reportDropTarget.currentValue);this.element.find(".reportlist").ejDropDownList("option","change",t.proxy(this._reportChanged,this))}u!="Rename Report"&&(this.model.enableDeferUpdate?this.element.find(".splitBtn").remove():this.element.find(".splitBtn, .e-pivotgrid, .e-pivotchart").remove());(u=="Remove Report"||u=="Report Change"||u=="Load Report"||u=="SortOrFilter"||u=="Save Report")&&(n(oclientProxy._createSplitButtons(e,"Columns")).appendTo(".categoricalAxis"),n(oclientProxy._createSplitButtons(o,"Rows")).appendTo(".rowAxis"),n(oclientProxy._createSplitButtons(s,"Slicers")).appendTo(".slicerAxis"),this.element.find(".categoricalAxis, .rowAxis, .slicerAxis").find("button").ejButton({height:"20px",type:t.ButtonType.Button}),oclientProxy._renderControls());(u=="Add Report"||u=="New Report")&&oclientProxy._renderControls()}this._treeContextMenu();this._buttonContextMenu();oclientProxy._setSplitBtnTitle();oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._successAction="ToolbarOperation";oclientProxy._trigger("renderSuccess",oclientProxy);oclientProxy._waitingPopup.hide()},_fetchChildNodeSuccess:function(t){var u,r,f;u=t.length>1&&t[0]!=i?JSON.parse(t[0].Value):t.d!=i?JSON.parse(t.d[0].Value):JSON.parse(t.ChildNodes);t[0]!=i?t[2]!=null&&t[2]!=i&&(oclientProxy.model.customObject=t[2].Value):t.d!=i?t.d[2]!=null&&t.d[2]!=i&&(oclientProxy.model.customObject=t.d[2].Value):t.customObject!=null&&t.customObject!=i&&(oclientProxy.model.customObject=t.customObject);this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"memberExpanded",element:this.element,customObject:this.model.customObject});f={id:"id",parentId:"pid",hasChild:"hasChildren",text:"name",isChecked:"checkedStatus"};r=n(this.pNode).parents("li").length>1?n(this.pNode).parents("li").first():n(this.pNode).parents("li");n(n(r).find("input.nodecheckbox")[0]).ejCheckBox({checked:!1});this.memberTreeObj.addNode(u,r);n.each(n(r).children().find("li"),function(n,t){t.setAttribute("tag",u[n].tag)});oclientProxy._successAction="FetchChildNode";oclientProxy._trigger("renderSuccess",oclientProxy)},_createCubeSelector:function(){return t.buildTag("div.csHeader",t.buildTag("span.cubeText",this._getLocalizedLabels("CubeSelector"),{"padding-left":"6px",float:"left","margin-bottom":"10px"})[0].outerHTML+t.buildTag("div","<input type='text' id='cubeSelector' class ='cubeSelector' />",{display:"inline",float:"left","padding-left":"5px",position:"relative",top:"-3px"})[0].outerHTML,{width:oclientProxy.model.isResponsive?"100%":"415px",height:"20px"})[0].outerHTML},_createCubeBrowser:function(){return t.buildTag("div.cdbHeader",t.buildTag("span",this._getLocalizedLabels("CubeDimensionBrowser"))[0].outerHTML,{width:"200px",height:"30px"})[0].outerHTML+t.buildTag("div.cubeBrowser",t.buildTag("div.cubeTreeView.visibleHide")[0].outerHTML,{width:"200px",height:this.model.enablePaging?"550px":"523px"})[0].outerHTML},_createAxisElementBuilder:function(n,i,r){return t.buildTag("div.axisHeader",t.buildTag("span",this._getLocalizedLabels("Column"))[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.categoricalAxis",t.buildTag("p#categcol","colum",{display:"none"})[0].outerHTML+this._createSplitButtons(n,"Columns"),{width:this.model.isResponsive?"99%":"200px",height:this.model.enablePaging?"159px":"150px"}).attr("aria-describedby","categcol")[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span",this._getLocalizedLabels("Row"))[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.rowAxis",t.buildTag("p#categrow","row",{display:"none"})[0].outerHTML+this._createSplitButtons(i,"Rows"),{width:this.model.isResponsive?"99%":"200px",height:this.model.enablePaging?"159px":"150px"}).attr("aria-describedby","categrow")[0].outerHTML+t.buildTag("div.axisHeader",t.buildTag("span",this._getLocalizedLabels("Slicer"))[0].outerHTML,{height:"30px"})[0].outerHTML+t.buildTag("div.slicerAxis",t.buildTag("p#sliceaxis","slicer",{display:"none"})[0].outerHTML+this._createSplitButtons(r,"Slicers"),{width:this.model.isResponsive?"99%":"200px",height:this.model.enablePaging?"159px":"150px"}).attr("aria-describedby","sliceaxis")[0].outerHTML},_createSplitButtons:function(n,r){var s="",f="",u,e,o;if(n.indexOf("~")>-1)for(u=0;u<n.split("~")[0].split("#").length-1;u++)f=n.split("~")[0].split("#")[u+1].split(".")[0],f=="Measures"?f=oclientProxy._getLocalizedLabels("Measures"):n.startsWith("#Measure")?n.indexOf("#Measure")>-1&&(f=n.split("~")[u+1]):f=n.split("~")[u+2],f==i&&(f=n.split("~")[u+1]),s+=t.buildTag("div.splitBtn",t.buildTag("button.pvtBtn",f).attr({title:n.split("~")[0].split("#")[u+1].replace("."," - ")})[0].outerHTML+t.buildTag("span.removeSplitBtn e-icon").attr("role","button").attr("aria-label","remove")[0].outerHTML,"",{tag:r+":"+n.split("~")[0].split("#")[u+1]})[0].outerHTML;else for(u=0;u<n.split("#").length-1;u++)e=n.split("#")[u+1].split(".")[0]=="Measures"?oclientProxy._getLocalizedLabels("Measures"):n.split("#")[u+1].split(".")[0],e.split("::")[1]=="NAMEDSET"&&(e=e.split("::")[0]),o=n.split("#")[u+1].replace("."," - ")=="Measures"?oclientProxy._getLocalizedLabels("Measures"):n.split("#")[u+1].replace("."," - "),this.model.enableRTL&&o.indexOf("-")>0&&(o=o.split("-").reverse().join(" - ")),s+=t.buildTag("div.splitBtn",t.buildTag("button.pvtBtn",e).attr({title:o})[0].outerHTML+t.buildTag("span.removeSplitBtn e-icon").attr("role","button").attr("aria-label","remove")[0].outerHTML,"",{tag:r+":"+n.split("#")[u+1]})[0].outerHTML;return s},_setSplitBtnTitle:function(){for(var i,r,f,e=this.element.find(".splitBtn"),u=0;u<e.length;u++){var o=n(e[u]).attr("tag").split(":")[1].split("."),t="";for(i=0;i<o.length;i++)t+=o[0].toUpperCase()!="[Measures]"?"["+o[i]+"]"+(i%2==0?".":""):o[i]+(i%2==0?".":"");oclientProxy.element.find(".cubeTreeView").length>0&&!(t.indexOf("Measures")>=0)&&(t=t.indexOf("<>")>0?t.replace("<>","."):t,r=oclientProxy.element.find(".cubeTreeView").find("li[tag='"+t+"'] a:eq(0)").text(),r==""&&(r=oclientProxy.element.find(".cubeTreeView").find("li[tag='["+o[1]+"]'] a:eq(0)").text()),r.indexOf(".")>0?n(e[u]).find("button").attr("title",this.model.enableRTL?r.split(".").reverse().join(" - "):r.replace("."," - ")):(f=n(e[u]).text()+" - "+(oclientProxy.element.find(".cubeTreeView").find("li[tag='"+t+"'] a:eq(0)").text()||oclientProxy.element.find(".cubeTreeView").find("li[tag='"+t.toUpperCase()+"'] a:eq(0)").text()||r),f=this.model.enableRTL&&f.indexOf("-")>0?f.split("-").reverse().join(" - "):f,n(e[u]).find("button").attr("title",f)))}},_controlPanel:function(){var f,n,i;if(this.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&(this.displayMode()==t.PivotClient.DisplayMode.ChartAndGrid||this.displayMode()=="")?oclientProxy.model.isResponsive?(this._chartHeight="542px",this._chartWidth="98%",this._gridHeight="100%",this._gridWidth="100%"):(this._chartHeight="538px",this._chartWidth="558px",this._gridHeight="535px",this._gridWidth=555):this.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&(this.displayMode()==t.PivotClient.DisplayMode.ChartAndGrid||this.displayMode()=="")?oclientProxy.model.isResponsive?(this._chartHeight="275px",this._chartWidth="98%",this._gridHeight="550px",this._gridWidth="100%"):(this._chartHeight=this.model.enablePaging?"235px":"275px",this._chartWidth="559px",this._gridHeight="550px",this._gridWidth=555):oclientProxy.model.isResponsive?(this._chartHeight="560px",this._chartWidth="98%",this._gridHeight="550px",this._gridWidth="100%"):(this._chartHeight="571px",this._chartWidth="557px",this._gridHeight="572px",this._gridWidth=555),this.displayMode()!=t.PivotClient.DisplayMode.ChartOnly&&(n=this.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&this.displayMode()==t.PivotClient.DisplayMode.ChartAndGrid?this.defaultView()==t.PivotClient.DefaultView.Grid?t.buildTag("div#gridPanel.gridPanel",t.buildTag("div.gridContainer",t.buildTag("div#PivotGrid","",{margin:"5px 7px 7px","max-height":"290px",overflow:"auto",padding:"1px"})[0].outerHTML,{position:"relative",left:"5px",top:"5px",height:"300px",width:this.model.isResponsive?"98%":"574px"})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML:t.buildTag("div#gridPanel.gridPanel",t.buildTag("div.gridContainer",t.buildTag("div#PivotGrid","",{margin:"10px 7px 7px","max-height":"290px",padding:"1px",width:this.model.isResponsive?"auto":"554px"})[0].outerHTML,{position:"relative",left:"7px","border-top":"none","margin-top":"-7px",overflow:"auto",height:this.model.enablePaging?"277px":"297px",width:this.model.isResponsive?"98%":"571px"})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML:this.displayMode()==t.PivotClient.DisplayMode.GridOnly?t.buildTag("div#gridPanel.gridPanel",t.buildTag("div.gridContainer",t.buildTag("div#PivotGrid","",{margin:"5px 7px 7px","min-height":"300px",overflow:"auto","max-height":this._gridHeight,padding:"1px"})[0].outerHTML,{position:"absolute",left:"7px",height:"584px","padding-top":"2px",width:this.model.isResponsive?"98%":"571px",top:"3px"})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML:t.buildTag("div#gridPanel.gridPanel",t.buildTag("div.gridContainer",t.buildTag("div#PivotGrid","",{margin:"5px 7px 7px","min-height":"300px",overflow:"auto","max-height":this._gridHeight,padding:"1px"})[0].outerHTML,{position:"relative",left:window.navigator.userAgent.indexOf("Trident")>0?"0px":"7px",height:"548px","padding-top":"5px","border-top":"none"})[0].outerHTML,{width:"auto",height:"auto"})[0].outerHTML),this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(i=this.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&this.displayMode()==t.PivotClient.DisplayMode.ChartAndGrid?this.defaultView()==t.PivotClient.DefaultView.Grid?t.buildTag("div#chartPanel.chartPanel",t.buildTag("div.chartContainer",t.buildTag("div#PivotChart","",{"min-height":"285px"})[0].outerHTML,{position:"relative",left:"-2px",height:"283px",padding:"5px 0px 5px 5px",width:this.model.isResponsive?"98%":"569px","border-top":"none","margin-right":"-11px"})[0].outerHTML,{width:"98%",height:"auto"})[0].outerHTML:t.buildTag("div#chartPanel.chartPanel",t.buildTag("div.chartContainer",t.buildTag("div#PivotChart","",{"min-height":this.model.enablePaging?"255px":"275px"})[0].outerHTML,{position:"relative",height:"280px",padding:"5px 0px 5px 5px",width:this.model.isResponsive?"98%":"566px"})[0].outerHTML,{width:"98%",height:"auto"})[0].outerHTML:this.displayMode()==t.PivotClient.DisplayMode.ChartOnly?t.buildTag("div#chartPanel.chartPanel",t.buildTag("div.chartContainer",t.buildTag("div#PivotChart","",{"min-height":"275px",height:this.model.enablePaging?"537px":"576px"})[0].outerHTML,{position:"relative",height:"578px",padding:this.model.enableRTL?"5px 25px 2px 6px":"5px 0px 5px 5px","margin-right":this.model.enableRTL?"1px":"-11px"})[0].outerHTML,{width:"98%",height:"auto"})[0].outerHTML:t.buildTag("div#chartPanel.chartPanel",t.buildTag("div.chartContainer",t.buildTag("div#PivotChart","",{"min-height":"275px"})[0].outerHTML,{position:"relative",top:"-5px",left:window.navigator.userAgent.indexOf("Trident")>0?"-7px":"0px",height:"543px",padding:this.model.enableRTL?"5px 5px 0px 5px":"5px 0px 5px 5px","border-top":"none","margin-right":this.model.enableRTL?"0px":"-11px","margin-left":this.model.enableRTL?"-11px":"0px"})[0].outerHTML,{width:"98%",height:"auto"})[0].outerHTML),this.controlPlacement()==t.PivotClient.ControlPlacement.Tab&&this.displayMode()==t.PivotClient.DisplayMode.ChartAndGrid){var r,e,s="<a style='font: bold 12px Segoe UI' href='#gridPanel' tabindex='0'>"+this._getLocalizedLabels("Grid")+"<\/a>",h="<a style='font: bold 12px Segoe UI' href='#chartPanel' tabindex='0'>"+this._getLocalizedLabels("Chart")+"<\/a>",u=window.navigator.userAgent.indexOf("Trident")>0?"none":"7px",o=0;this.model.enableRTL&&(o="-"+u,u=0);this.defaultView()==t.PivotClient.DefaultView.Chart?(r=t.buildTag("ul.clientTab",t.buildTag("li",h)[0].outerHTML+t.buildTag("li",s)[0].outerHTML,{"margin-left":u,"margin-right":o})[0].outerHTML,e=t.buildTag("div#clientTab",r+i+n)[0].outerHTML):(r=t.buildTag("ul.clientTab",t.buildTag("li",s)[0].outerHTML+t.buildTag("li",h)[0].outerHTML,{"margin-left":u,"margin-right":o})[0].outerHTML,e=t.buildTag("div#clientTab",r+n+i,{height:"100%"})[0].outerHTML);f=e}else f=this._createControlContainer(this.controlPlacement(),i,n);return t.buildTag("div.controlPanel",f,{width:oclientProxy.model.isResponsive?"100%":oclientProxy.model.displaySettings.controlPlacement=="tab"?"572px":"auto",height:"600px",top:oclientProxy.model.displaySettings.mode==t.PivotClient.DisplayMode.GridOnly?"3px":"none","margin-bottom":oclientProxy.model.displaySettings.controlPlacement==t.PivotClient.ControlPlacement.Tile&&(this.model.enablePaging||this.model.enableVirtualScrolling)?"5px":"0"})[0].outerHTML+(this.model.enablePaging?t.buildTag("div#Pager")[0].outerHTML:this.model.enableVirtualScrolling?t.buildTag("div#hsVirtualScrolling.hsVirtualScrolling",t.buildTag("div.hScrollPanel")[0].outerHTML,{width:"10px"})[0].outerHTML:"")},_createControlContainer:function(n,i,r){return this.displayMode()==t.PivotClient.DisplayMode.ChartOnly?"<table style='width:100%'><tr><td>"+i+"<\/td><\/tr><\/table>":this.displayMode()==t.PivotClient.DisplayMode.GridOnly?"<table style='width:100%'><tr><td>"+r+"<\/td><\/tr><\/table>":this.controlPlacement()==t.PivotClient.ControlPlacement.Tile?this.defaultView()==t.PivotClient.DefaultView.Chart?"<table style='width:100%'><tr><td>"+i+"<\/td><\/tr><tr><td>"+r+"<\/td><\/tr><\/table>":"<table style='width:100%'><tr><td>"+r+"<\/td><\/tr><tr><td>"+i+"<\/td><\/tr><\/table>":this.defaultView()==t.PivotClient.DefaultView.Chart?"<table style='width:100%'><tr><td valign='top'>"+i+"<\/td><td valign='top'>"+r+"<\/td><\/tr><\/table>":"<table style='width:100%'><tr><td valign='top'>"+r+"<\/td><td valign='top'>"+i+"<\/td><\/tr><\/table>"},_renderPivotGrid:function(r){var f,u;if(this.element.find(".e-dialog").hide(),this.displayMode()!=t.PivotClient.DisplayMode.ChartOnly)if(this._pivotChart!=i&&this._pivotChart._startDrilldown){try{u=JSON.parse(this._pivotGrid.getOlapReport()).Report}catch(e){u=this._pivotGrid.getOlapReport()}this._pivotGrid.doAjaxPost("POST",this.model.url+"/"+this._pivotGrid.model.serviceMethodSettings.drillDown,JSON.stringify({action:"drillDownGrid",cellPosition:"",currentReport:u,clientReports:this.reports,headerInfo:r,layout:this.gridLayout(),enableRTL:this.model.enableRTL}),this._pivotGrid._drillDownSuccess)}else this.model.enableDeferUpdate?oclientProxy._waitingPopup.hide():(this.element.find(".e-pivotgrid, #PivotGrid").remove(),f=this.controlPlacement()==t.PivotClient.ControlPlacement.Tile&&this.displayMode()==t.PivotClient.DisplayMode.ChartAndGrid?t.buildTag("div#PivotGrid","",{margin:"5px 7px 7px","max-height":this.model.enablePaging?"260px":"280px",overflow:"auto",width:this.model.isResponsive?"auto":"563px",padding:"1px"})[0].outerHTML:t.buildTag("div#PivotGrid","",{margin:"5px 7px 7px","min-height":"300px",overflow:"auto","max-height":this._gridHeight,padding:"1px"})[0].outerHTML,n(f).appendTo(this.element.find(".gridContainer")),this.gridLayout()!=t.PivotGrid.Layout.Normal?this.element.find("#PivotGrid").ejPivotGrid({url:this.model.url,enableRTL:this.model.enableRTL,isResponsive:oclientProxy.model.isResponsive,currentReport:this.currentReport,locale:oclientProxy.locale(),layout:this.gridLayout(),drillSuccess:t.proxy(this._gridDrillSuccess,this)}):this.element.find("#PivotGrid").ejPivotGrid({url:this.model.url,enableRTL:this.model.enableRTL,isResponsive:oclientProxy.model.isResponsive,currentReport:this.currentReport,locale:oclientProxy.locale(),drillSuccess:t.proxy(this._gridDrillSuccess,this)}),this._pivotGrid=this.element.find("#PivotGrid").data("ejPivotGrid"))},_renderPivotChart:function(r,u){var f,e;this.element.find(".e-dialog").hide();this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(this._pivotGrid!=i&&this._pivotGrid._startDrilldown?(f=this._pivotChart.getOlapReport(),this._pivotChart.doAjaxPost("POST",this.model.url+"/"+this._pivotChart.model.serviceMethodSettings.drillDown,JSON.stringify({action:u,drilledSeries:r,olapReport:f,clientReports:this.reports}),this._pivotChart.renderControlSuccess)):this.model.enableDeferUpdate?oclientProxy._waitingPopup.hide():(this.element.find(".e-pivotchart").remove(),e=t.buildTag("div#PivotChart","",{"min-height":"271px",height:"auto"})[0].outerHTML,this.element.find(".chartContainer").children().length==0&&n(e).appendTo(this.element.find(".chartContainer")),this.element.find("#PivotChart").ejPivotChart({url:this.model.url,enableRTL:oclientProxy.model.enableRTL,canResize:oclientProxy.model.isResponsive,currentReport:this.currentReport,customObject:this.model.customObject,locale:oclientProxy.locale(),showTooltip:!0,size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},commonSeriesOptions:{type:oclientProxy.model.chartType,tooltip:{visible:!0}},beforeServiceInvoke:oclientProxy.model.chartLoad,drillSuccess:t.proxy(oclientProxy._chartDrillSuccess,oclientProxy)}),this._pivotChart=this.element.find("#PivotChart").data("ejPivotChart"),this.element.find("#PivotChart").width(this._pivotChart.model.size.width)));this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&oclientProxy._toggleExpand&&!this.model.isResponsive&&oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()!="treemap"&&this.element.find(".toggleExpandButton").click()},_renderPivotTreeMap:function(r,u){var f,e;this.element.find(".e-dialog").hide();this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(this._pivotGrid!=i&&this._pivotGrid._startDrilldown?(f=this.otreemapObj.getOlapReport(),this.otreemapObj.doAjaxPost("POST",this.model.url+"/"+this.otreemapObj.model.serviceMethodSettings.drillDown,JSON.stringify({action:u,drillInfo:r,olapReport:f,clientReports:this.reports}),this.otreemapObj.renderControlSuccess),t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.model.displaySettings.enableFullScreen||oclientProxy.enableTogglePanel()&&oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap")&&(n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").css({width:"100%"}),oclientProxy.otreemapObj._treeMap.refresh())):this.model.enableDeferUpdate?oclientProxy._waitingPopup.hide():(this.element.find(".e-pivottreemap").remove(),e=t.buildTag("div#PivotChart","",{"min-height":"271px",height:"auto"})[0].outerHTML,this.element.find(".chartContainer").children().length==0&&n(e).appendTo(this.element.find(".chartContainer")),this.element.find("#PivotChart").ejPivotTreeMap({url:this.model.url,canResize:oclientProxy.model.isResponsive,currentReport:this.currentReport,customObject:this.model.customObject,locale:oclientProxy.locale(),size:{height:oclientProxy._chartHeight,width:oclientProxy._chartWidth},beforeServiceInvoke:oclientProxy.model.treeMapLoad,drillSuccess:t.proxy(oclientProxy._treemapDrillSuccess,oclientProxy)}),this.otreemapObj=this.element.find("#PivotChart").data("ejPivotTreeMap"),this.element.find("#PivotChart").width(this.otreemapObj.model.size.width)));this.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&oclientProxy._toggleExpand&&!this.model.isResponsive&&oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"&&this.element.find(".toggleExpandButton").click()},_renderControls:function(){(oclientProxy._isNodeOrButtonDropped&&t.isNullOrUndefined(oclientProxy.chartObj)||oclientProxy._isrenderTreeMap)&&oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy._isNodeOrButtonDropped=!1,oclientProxy._isrenderTreeMap=!1,oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")));oclientProxy.displayMode()==t.PivotClient.DisplayMode.GridOnly?this.defaultView()==t.PivotClient.DefaultView.Chart?(oclientProxy._renderPivotChart(),oclientProxy._renderPivotGrid()):(oclientProxy._renderPivotGrid(),oclientProxy._renderPivotChart()):this.defaultView()==t.PivotClient.DefaultView.Chart?(t.isNullOrUndefined(oclientProxy.chartObj)?oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").length>0?oclientProxy._renderPivotChart():oclientProxy.model.enablePivotTreeMap&&oclientProxy._renderPivotTreeMap():oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()!="treemap"?oclientProxy._renderPivotChart():oclientProxy.model.enablePivotTreeMap&&oclientProxy._renderPivotTreeMap(),oclientProxy._renderPivotGrid()):(oclientProxy._renderPivotGrid(),t.isNullOrUndefined(oclientProxy.chartObj)?oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").length>0?oclientProxy._renderPivotChart():oclientProxy.model.enablePivotTreeMap&&oclientProxy._renderPivotTreeMap():oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()!="treemap"?oclientProxy._renderPivotChart():oclientProxy.model.enablePivotTreeMap&&oclientProxy._renderPivotTreeMap())},_createDialogRequest:function(r){var e,u,f,o;if(!(r.target.className.indexOf("dialogOKBtn")>=0))if(this.model.enableMemberEditorPaging&&(this._memberPageSettings.startPage=0,this._memberPageSettings.currentMemebrPage=1,this._selectedFieldName=n(r.target).parent().attr("tag"),oclientProxy._memberPageSettings.filterReportCollection={}),args_className=r.target.className,args_innerHTML=r.target.innerHTML==""?"ToolbarButtons":r.target.innerHTML,this._dialogTitle=hierarchyCaption=t.browserInfo().name=="msie"&&t.browserInfo().version<=8?n(r.currentTarget)[0].title:r.currentTarget.attributes==""?"":n(r.currentTarget).attr("title")||n(r.currentTarget).attr("aria-label"),oclientProxy._currentItem=hierarchyCaption,this.element.find(".e-dialog, .clientDialog").remove(),args_innerHTML!="ToolbarButtons"&&args_innerHTML!=i&&oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap){if(n(r.target).parent().attr("tag").indexOf(":")>=0&&n(r.target).parent().attr("tag").split(":")[1].indexOf(".")>=0)if(e=n(r.target).parent().attr("tag").split(":")[1].split("."),u=this.element.find(".cubeTreeView li[tag^='["+e[0]+"'][tag$='"+e[1]+"]']"),u.length>0){for(f=0;f<u.length;f++)if(n(u[f]).attr("tag").split("].").length==2){this._selectedFieldName=n(u[f]).attr("tag");break}}else this._selectedFieldName=u.attr("tag");else this._selectedFieldName="";oclientProxy._waitingPopup.show();this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"fetchMemberTreeNodes",element:this.element,customObject:this.model.customObject});o=JSON.stringify(this.model.customObject);this.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.fetchMemberTreeNodes,JSON.stringify({action:"fetchMemberTreeNodes",dimensionName:n(r.target).parent().attr("Tag")+":"+this._memberPageSettings.startPage+"-"+this.model.memberEditorPageSize+"-"+this.model.enableMemberEditorPaging,olapReport:oclientProxy.currentReport,customObject:o}),oclientProxy._editorTreeInfoSuccess)}else oclientProxy._createDialog(args_className,args_innerHTML,"")},_fetchReportListSuccess:function(n){n[0]!=i?n[2]!=null&&n[2]!=i&&(oclientProxy.model.customObject=n[2].Value):n.d!=i?n.d[2]!=null&&n.d[2]!=i&&(oclientProxy.model.customObject=n.d[2].Value):n.customObject!=null&&n.customObject!=i&&(oclientProxy.model.customObject=n.customObject);this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"fetchReportList",element:this.element,customObject:this.model.customObject});this.model.afterServiceInvoke!=null&&this._trigger("afterServiceInvoke",{action:"fetchReportList",element:this.element,customObject:this.model.customObject});oclientProxy.element.find(".e-dialog, .clientDialog").remove();n=n.d!=i?n.d[0].Value||(t.isNullOrUndefined(n[0])?"":n[0].Value):n.ReportNameList;oclientProxy._createDialog("LoadReport",n,"")},_fetchSortState:function(n){oclientProxy._waitingPopup.hide();n[0]!=i?oclientProxy._createDialog("SortFilterDlg",n[0].Value,""):n.d!=i?oclientProxy._createDialog("SortFilterDlg",n.d[0].Value,""):oclientProxy._createDialog("SortFilterDlg",n.FetchSortState,"")},_createDialog:function(r,u,f){var l=!1,k,y,ht,rt,ut,e,o,h,lt,at,vt,yt,pt,wt,bt,kt,dt,v,ft,g,gt,ni,ot,st,nt,ri,w,tt,c,it,ui;if(this.model.operationalMode==t.Pivot.OperationalMode.ServerMode&&(r=="SortFilterDlg"||r=="mdx")){if(k=this.element.find(".splitBtn"),y=jQuery.grep(k,function(t){return n(t).attr("tag").split(":")[1]=="Measures"}).length,ht=jQuery.grep(k,function(t){return n(t).attr("tag").split(":")[1]!="Measures"&&n(t).attr("tag").split(":")[0]=="Rows"}).length,rt=jQuery.grep(k,function(t){return n(t).attr("tag").split(":")[1]!="Measures"&&n(t).attr("tag").split(":")[0]=="Columns"}).length,r=="mdx"&&y==0&&rt==0)return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("MDXAlertMsg"),"Error",this),!1;if(y>0&&this.element.find(".categoricalAxis ")[0].childElementCount!=0){if(!ht&&document.activeElement.className.indexOf("rowSortFilterImg")>-1)return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterSortRowAlertMsg"),"Error",this),!1;if(!rt&&document.activeElement.className.indexOf("colSortFilterImg")>-1)return t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterSortColumnAlertMsg"),"Error",this),!1}else if(r!="mdx")return y||oclientProxy._axis!="Column"?y||oclientProxy._axis!="Row"?n(".categoricalAxis ")[0].childElementCount||t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterSortElementAlertMsg"),"Error",this):t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterSortrowMeasureAlertMsg"),"Error",this):t.Pivot._createErrorDialog(oclientProxy._getLocalizedLabels("FilterSortcolMeasureAlertMsg"),"Error",this),!1}oclientProxy.model.analysisMode==t.Pivot.AnalysisMode.Olap&&oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode&&(l=this.element.find(".pvtBtn").parent("[tag='Slicers:"+this._selectedFieldName.replace(/\[/g,"").replace(/\]/g,"")+"']").length>0);var p="",a="",s="",ct=[],d;if(d=f[0]!=i?f[0].Value:f.d!=i?f.d[0].Value:f.EditorTreeInfo,ut=t.buildTag("div#clientDialog.clientDialog",{opacity:"1"})[0].outerHTML,r.split(" ")[0]=="newReportImg")o=this._getLocalizedLabels("NewReport"),h="New Report",at="<p class='dialogPara'>"+this._getLocalizedLabels("ReportName")+"<\/p>",vt="<input type=text id=reportName class='reportName'/><\/br>",e=t.buildTag("div#reportDlg.reportDlg","<table><tr><td>"+at+"<\/td><td>"+vt+"<\/td><\/tr><\/table>")[0].outerHTML;else if(r.split(" ")[0]=="addReportImg")o=this._getLocalizedLabels("AddReport"),h="Add Report",yt="<p class='dialogPara'>"+this._getLocalizedLabels("ReportName")+"<\/p>",pt="<input type=text id=reportName class='reportName'/><\/br>",e=t.buildTag("div#reportDlg.reportDlg","<table><tr><td>"+yt+"<\/td><td>"+pt+"<\/td><\/tr><\/table>")[0].outerHTML;else if(r.split(" ")[0]=="removeReportImg")o=this._getLocalizedLabels("RemoveReport"),h="Remove Report",(this.model.operationalMode==t.Pivot.OperationalMode.ClientMode||this.model.analysisMode==t.Pivot.AnalysisMode.Pivot)&&(reportsCount=this._clientReportCollection.length),e=reportsCount>1?"<p>"+this._getLocalizedLabels("AreYouSureToDeleteTheReport")+"?<\/p>":"<p>"+this._getLocalizedLabels("CannotRemoveSingleReport")+"!<\/p>";else if(r.split(" ")[0]=="SortFilterDlg"){p=u.split("||");p[1]!=""&&(a=p[1].split("<<"));p[2]!=""&&(s=p[2].split("<<"));oclientProxy.element.find(".e-dialog, .clientDialog").remove();o=this._getLocalizedLabels("SortingAndFiltering");var fi=t.buildTag("label#sortingLbl.sortingLbl",this._getLocalizedLabels("Sorting"))[0].outerHTML,ei=t.buildTag("label#measureListLbl.measureListLbl",this._getLocalizedLabels("Measure"))[0].outerHTML,oi=t.buildTag("label#orderLbl.orderLbl",this._getLocalizedLabels("Order"))[0].outerHTML,si=t.buildTag("input#measuresList.measuresList","",{},{type:"text",accesskey:"M"})[0].outerHTML,hi=t.buildTag("input#sortDisable.sortDisable","",{},{name:"sort",type:"radio",checked:"checked",role:"radio",tabindex:0,accesskey:"i"})[0].outerHTML+t.buildTag("label.sortDisableLbl",this._getLocalizedLabels("Disable"))[0].outerHTML,ci=t.buildTag("input#sortEnable.sortEnable","",{},{name:"sort",type:"radio",role:"radio",tabindex:1,accesskey:"n"})[0].outerHTML+t.buildTag("label.sortEnableLbl",this._getLocalizedLabels("Enable"))[0].outerHTML+"<br/>",li=t.buildTag("input#radioBtnAsc.radioBtnAsc","",{},{name:"order",type:"radio",checked:"checked",role:"radio",tabindex:0,accesskey:"A"})[0].outerHTML+t.buildTag("label.radioBtnAscLbl",this._getLocalizedLabels("Ascending"))[0].outerHTML+"<br/>",ai=t.buildTag("input#radioBtnDesc.radioBtnDesc","",{},{name:"order",type:"radio",role:"radio",tabindex:2,accesskey:"e"})[0].outerHTML+t.buildTag("label.radioBtnDescLbl",this._getLocalizedLabels("Descending"))[0].outerHTML,vi=t.buildTag("input#preserveHrchy.preserveHrchy","",{},{type:"checkbox",checked:"checked",tabindex:0,role:"radio",accesskey:"r"})[0].outerHTML+t.buildTag("label.preserveHrchyLbl",this._getLocalizedLabels("PreserveHierarchy"))[0].outerHTML,yi=t.buildTag("label#filterLbl.filterLbl",this._getLocalizedLabels("Filtering"))[0].outerHTML,pi=t.buildTag("input#filterDisable.filterDisable","",{},{name:"filter",type:"radio",checked:"checked",role:"radio",tabindex:0,accesskey:"i"})[0].outerHTML+t.buildTag("label.filterDisableLbl",this._getLocalizedLabels("Disable"))[0].outerHTML,wi=t.buildTag("input#filterEnable.filterEnable","",{},{name:"filter",type:"radio",role:"radio",tabindex:0,accesskey:"n"})[0].outerHTML+t.buildTag("label.filterDisableLbl",this._getLocalizedLabels("Enable"))[0].outerHTML+"<br/>",bi=t.buildTag("label#conditionLbl.conditionLbl",this._getLocalizedLabels("Condition"))[0].outerHTML,ki=t.buildTag("input#filterCondition.filterCondition","",{},{type:"text",tabindex:0,accesskey:"o"})[0].outerHTML,di=t.buildTag("div#filterfrom.filterFrmDiv",t.buildTag("input#filterFrom.filterFrom","",{},{name:"inputVal",type:t.isMobile()?"number":"text",inputmode:t.isMobile()?"numeric":"",pattern:t.isMobile()?"[0-9]*":"",tabindex:0})[0].outerHTML)[0].outerHTML,gi=t.buildTag("div#filterbtw.filterBtw","<p>"+this._getLocalizedLabels("and")+"<\/p>")[0].outerHTML,nr=t.buildTag("div#filterto.filterToDiv",t.buildTag("input#filterTo.filterTo","",{},{name:"inputVal",type:t.isMobile()?"number":"text",inputmode:t.isMobile()?"numeric":"",pattern:t.isMobile()?"[0-9]*":"",tabindex:0,accesskey:"d"})[0].outerHTML)[0].outerHTML,tr=t.buildTag("label#filterMeasureListLbl.filterMeasureListLbl",this._getLocalizedLabels("Measure"))[0].outerHTML,ir=t.buildTag("input#fMeasuresList.fMeasuresList","",{},{type:"text",tabindex:0,accesskey:"M"})[0].outerHTML,rr=t.buildTag("label#filterValueLbl.filterValueLbl",this._getLocalizedLabels("Value"),{},{tabindex:0,accesskey:"a"})[0].outerHTML,ur=t.buildTag("div#sortingDlg.sortingDlg","<table class='sortReportTbl'><tr><td style='vertical-align:top;'>"+fi+"<\/td><td>"+ci+hi+"<\/td><\/tr><tr><td>"+ei+"<\/td><td>"+si+"<\/td><\/tr> <tr><td>"+oi+"<\/td><td>"+li+ai+"<\/td><\/tr><tr><td><\/td><td>"+vi+"<\/td><\/tr><\/table>")[0].outerHTML,fr=t.buildTag("div#filteringDlg.filteringDlg","<table class='sortReportTbl'><tr><td>"+yi+"<\/td><td>"+wi+pi+"<\/td><\/tr><tr><td>"+tr+"<\/td><td>"+ir+"<\/td><\/tr><tr><td>"+bi+"<\/td><td>"+ki+"<\/td><\/tr><tr><td>"+rr+"<\/td><td>"+di+gi+nr+"<\/td><\/tr><\/table>")[0].outerHTML,er="<li><a style='font: bold 12px Segoe UI' href='#sortingDlg'>"+this._getLocalizedLabels("Sorting")+"<\/a><\/li>",or="<li><a style='font: bold 12px Segoe UI' href='#filteringDlg'>"+this._getLocalizedLabels("Filtering")+"<\/a><\/li>",sr=t.buildTag("div#sortfilterTab.sortfilterTab","<ul class ='sortfiltTab'>"+(er+or+"<\/ul>"+ur+fr))[0].outerHTML;e=sr}else if(r.split(" ")[0]=="renameReportImg")o=this._getLocalizedLabels("RenameReport"),h="Rename Report",wt=oclientProxy.element.find(".reportlist").val(),bt="<p class='dialogPara'>"+oclientProxy._getLocalizedLabels("ReportName")+"<\/p>",renameReport="<input type=text id=reportName class='reportName' value='"+wt+"' /><\/br>",e=t.buildTag("div#reportDlg.reportDlg","<table><tr><td>"+bt+"<\/td><td>"+renameReport+"<\/td><\/tr><\/table>")[0].outerHTML;else if(r.split(" ")[0]=="saveReportImg")o=this._getLocalizedLabels("SaveReport"),h="Save Report",v="<p class='dialogPara'>"+oclientProxy._getLocalizedLabels("ReportName")+"<\/p>",b="<input type=text id=reportName class='reportName'/><\/br>",e=t.buildTag("div#reportDlg.reportDlg","<table><tr><td>"+v+"<\/td><td>"+b+"<\/td><\/tr><\/table>")[0].outerHTML;else if(r.split(" ")[0]=="LoadReport")o=this._getLocalizedLabels("LoadReport"),h="Load Report",v="<table class='loadReportTbl'><tr><td class='loadReportTd'>"+oclientProxy._getLocalizedLabels("ReportName")+"<\/td>",kt="<td><input type='text' id='reportNameList' class='reportNameList'/><\/td><\/tr><\/table>",e=v+kt;else if(r.split(" ")[0]=="mdx")o=this._getLocalizedLabels("MDXQuery"),h="MDX Query",dt="<textarea readonly='readonly' style='width:460px; height:180px; resize:none; margin:3px'>"+u+"<\/textarea>",e=dt;else if(r.split(" ")[0]=="chartTypesImg")o=this._getLocalizedLabels("ChartTypes"),h="Chart Types",v="<p class='dialogPara'>"+oclientProxy._getLocalizedLabels("ChartTypes")+"<\/p>",b="<input type=text id=reportName class='reportName'/><\/br>",e=v+b;else if(r.indexOf("e-txt")>-1){u==oclientProxy._getLocalizedLabels("Measures")?(o=this._getLocalizedLabels("MeasureEditor"),e="<p class='editorPara'>"+this._getLocalizedLabels("Measures")+"<\/p>"):(o=this._getLocalizedLabels("MemberEditor"),e=this.model.enableAdvancedFilter&&!l?"":"<p class='editorPara'>"+hierarchyCaption+"<\/p>");g="";n(ot).appendTo(st);u!=oclientProxy._getLocalizedLabels("Measures")&&(gt=t.buildTag("div.checkAll e-icon").attr("role","button").attr("aria-label","checkall")[0].outerHTML,ni=t.buildTag("div.unCheckAll e-icon").attr("role","button").attr("aria-label","uncheckall")[0].outerHTML,g=t.buildTag("div.checkOptions",gt+ni,{height:"19px",margin:!l&&this.model.enableAdvancedFilter?"10px 0px 0px 31px":0})[0].outerHTML);u==oclientProxy._getLocalizedLabels("Measures")?(oclientProxy._isMembersFiltered=!1,ft=oclientProxy._createMeasureEditor(f)):ft=t.buildTag("div#editorTreeView.editorTreeView")[0].outerHTML;var hr=t.buildTag("div.memberEditorDiv",(this._selectedFieldName!=""&&!l&&this.model.enableAdvancedFilter?g:"")+ft)[0].outerHTML,et="",ti="",ii="";this._selectedFieldName!=""&&!l&&this.model.enableAdvancedFilter&&(ti=t.buildTag("div.ddlGroupWrap",this._getLocalizedLabels("SelectField")+":"+t.buildTag("input#GroupLabelDrop.groupLabelDrop").attr("type","text")[0].outerHTML,{})[0].outerHTML,et=t.Pivot.createAdvanceFilterTag({action:"labelFiltering"},this),ii=t.Pivot.createAdvanceFilterTag({action:"valueFiltering"},this),ct=n.map(this.element.find(".e-treeview li[tag='"+this._selectedFieldName+"'] li"),function(t){return{text:n(t).text(),value:n(t).attr("tag")}}));ot=t.buildTag("div",(et!=""&&!l&&this.model.enableAdvancedFilter?ti+t.buildTag("div.e-seperator",{},{padding:"2px"},w)[0].outerHTML+et+t.buildTag("div.e-seperator",{},{padding:"2px"})[0].outerHTML+ii:g)+hr)[0].outerHTML;st=t.buildTag("div#EditorDiv.editorDiv",ot,{"margin-left":this.model.enableAdvancedFilter?"5px":"0px"})[0].outerHTML;e+=st;lt=t.buildTag("div",t.buildTag("div#NextpageDiv.nextPageDiv",t.buildTag("div.e-icon e-media-backward_01 firstPage",{})[0].outerHTML+t.buildTag("div.e-icon e-arrowhead-left prevPage",{})[0].outerHTML+t.buildTag("input.memberCurrentPage#memberCurrentPage",{},{width:"20px",height:"10px"})[0].outerHTML+t.buildTag("span.memberPageCount#memberPageCount")[0].outerHTML+t.buildTag("div.e-icon e-arrowhead-right nextPage",{})[0].outerHTML+t.buildTag("div.e-icon e-media-forward_01 lastPage",{})[0].outerHTML)[0].outerHTML)[0].outerHTML}if(r.split(" ")[0]=="mdx"?(w="<button id=CancelBtn class='dialogCancelBtn'>"+this._getLocalizedLabels("OK")+"<\/button>",nt=t.buildTag("div.dialogFooter",w)[0].outerHTML,n(ut).appendTo("#"+oclientProxy._id),n(e+nt).appendTo(this.element.find(".clientDialog")),this.element.find(".clientDialog").ejDialog({enableRTL:this.model.enableRTL,width:500,target:"#"+oclientProxy._id,enableResize:!1,close:oclientProxy._onPreventPanelClose})):(ri="<button id=OKBtn class='dialogOKBtn'>"+this._getLocalizedLabels("OK")+"<\/button>",w="<button id=CancelBtn class='dialogCancelBtn'>"+this._getLocalizedLabels("Cancel")+"<\/button>",nt=t.buildTag("div.dialogFooter",ri+(r.split(" ")[0]=="removeReportImg"&&reportsCount==1?"":w))[0].outerHTML,n(ut).appendTo("#"+oclientProxy._id),n(e+(!t.isNullOrUndefined(d)&&this.model.enableMemberEditorPaging&&n.parseJSON(d).length>=this.model.memberEditorPageSize?lt:"")+nt).appendTo(this.element.find(".clientDialog")),this.element.find(".clientDialog").ejDialog({enableRTL:this.model.enableRTL,width:"auto",target:"#"+oclientProxy._id,enableResize:!1,close:oclientProxy._onPreventPanelClose}),r.split(" ")[0]=="removeReportImg"&&(this.element.find(".clientDialog").css("min-height","60px"),this.element.find("#clientDialog_wrapper").css("min-height","100px"))),this.element.find(".e-titlebar").prepend(t.buildTag("div",o,{display:"inline"})[0].outerHTML)[0].setAttribute("tag",h),this.element.find(".reportName").ejMaskEdit({enableRTL:this.model.enableRTL,width:"155px"}),this.element.find(".e-mask").addClass("dialogInput"),this.element.find(".prevPage, .firstPage").addClass("disabled"),this.element.find(".nextPage, .lastPage").addClass("enabled"),this.element.find(".dialogOKBtn, .dialogCancelBtn").ejButton({type:t.ButtonType.Button}),n(".sortfilterTab").ejTab({enableRTL:this.model.enableRTL}),n(".reportNameList").ejDropDownList({dataSource:u.split("__"),enableRTL:this.model.enableRTL,width:"150px",height:"20px"}),this.element.find(".filterElementTag").ejMenu({menuType:t.MenuType.NormalMenu,width:"100%",height:"25px",enableRTL:this.model.enableRTL,orientation:t.Orientation.Vertical,click:t.proxy(this._filterElementClick,this)}),this.element.find(".groupLabelDrop").ejDropDownList({width:"100%",height:"25px",enableRTL:this.model.enableRTL,dataSource:ct,fields:{id:"id",text:"text",value:"value"},selectedIndices:[0],change:t.proxy(this._groupLabelChange,this)}),n(".filterFrom,.filterTo").ejMaskEdit({width:"80px",height:"20px"}),n(".measuresList").ejDropDownList({dataSource:u.split("||")[0].split("__"),enableRTL:this.model.enableRTL,width:"80%",height:"20px"}),n(".fMeasuresList").ejDropDownList({dataSource:u.split("||")[0].split("__"),width:"80%",enableRTL:this.model.enableRTL,height:"20px"}),n(".filterCondition").ejDropDownList({change:"_onActiveConditionChange",enableRTL:this.model.enableRTL,dataSource:[{option:"EqualTo",value:oclientProxy._getLocalizedLabels("EqualTo")},{option:"NotEquals",value:oclientProxy._getLocalizedLabels("NotEquals")},{option:"GreaterThan",value:oclientProxy._getLocalizedLabels("GreaterThan")},{option:"GreaterThanOrEqualTo",value:oclientProxy._getLocalizedLabels("GreaterThanOrEqualTo")},{option:"LessThan",value:oclientProxy._getLocalizedLabels("LessThan")},{option:"LessThanOrEqualTo",value:oclientProxy._getLocalizedLabels("LessThanOrEqualTo")},{option:"Between",value:oclientProxy._getLocalizedLabels("Between")},{option:"NotBetween",value:oclientProxy._getLocalizedLabels("NotBetween")},],fields:{text:"value",value:"option"},width:"80%",height:"20px"}),oclientProxy.element.find(".filterCondition").ejDropDownList("option","change",t.proxy(oclientProxy._onActiveConditionChange,oclientProxy)),oclientProxy._dllSortMeasure=n(".measuresList").data("ejDropDownList"),oclientProxy._dllFilterCondition=n(".filterCondition").data("ejDropDownList"),oclientProxy._dllfMeasuresList=n(".fMeasuresList").data("ejDropDownList"),a!=""&&(this.element.find(".radioBtnAsc")[0].checked=a[0]=="ASC"?!0:!1,this.element.find(".radioBtnDesc")[0].checked=a[0]=="DESC"?!0:!1,this.element.find(".sortDisable")[0].checked=!(this.element.find(".sortEnable")[0].checked=!0),this.element.find(".preserveHrchy")[0].checked=a[1]=="PH"?!0:!1,oclientProxy._isSorted=!0,oclientProxy._dllSortMeasure.setModel({value:a[2]})),s!=""&&(this.element.find(".filterEnable")[0].checked=!0,oclientProxy._dllfMeasuresList.setModel({value:s[0]}),oclientProxy._dllFilterCondition.setModel({value:s[1]}),oclientProxy.element.find(".filterFrom").val(s[2]),s[3]!=i&&s[3]!=""&&(s[1]=="Between"||s[1]=="NotBetween")?oclientProxy.element.find(".filterTo").val(s[3]):n(".filterTo").attr("disabled","disabled"),oclientProxy._isFiltered=!0),this.element.find(".sortDisable")[0]!=i&&this.element.find(".sortDisable")[0].checked==!0&&(n(".measuresList_wrapper,.radioBtnAsc, .radioBtnDesc, .preserveHrchy").attr("disabled","disabled"),n(".measureListLbl, .orderLbl, .radioBtnAscLbl, .radioBtnDescLbl, .preserveHrchyLbl").addClass("sortFilterDisable"),oclientProxy._dllSortMeasure.disable()),this.element.find(".filterDisable")[0]!=i&&this.element.find(".filterDisable")[0].checked==!0&&(n(".filterFrom, .filterTo").attr("disabled","disabled"),n(".filterMeasureListLbl, .conditionLbl, .filterValueLbl, .filterBtw").addClass("sortFilterDisable"),oclientProxy._dllFilterCondition.disable(),oclientProxy._dllfMeasuresList.disable()),this.element.find(".e-widget-content").height("auto"),tt=!1,oclientProxy._excelFilterInfo.length>0){var cr=oclientProxy.element.find(".cubeSelector").data("ejDropDownList").model.value,b=oclientProxy.element.find("#reportList").data("ejDropDownList").model.value,lr=oclientProxy._selectedLevelUniqueName,ar=oclientProxy._selectedFieldName;n.map(oclientProxy._excelFilterInfo,function(n){n.cubeName==cr&&n.report==b&&(n.hierarchyUniqueName==ar||n.levelUniqueName==lr)&&(tt=!0)})}if(f!=""&&f!=i&&u!=oclientProxy._getLocalizedLabels("Measures")){if(c=null,!tt&&oclientProxy._currentReportItems.length!=0)for(it=0;it<oclientProxy._currentReportItems.length;it++)if(oclientProxy._currentReportItems[it]==oclientProxy._currentItem){c=JSON.parse(JSON.stringify(oclientProxy._treeViewData[oclientProxy._currentItem]));break}c!=null&&tt||(c=n.parseJSON(d));this.model.enableMemberEditorPaging&&(ui=c[c.length-1],this.element.find(".memberPageCount").html("/ "+Math.round(ui/this.model.memberEditorPageSize)),this.element.find(".memberCurrentPage").val(this._memberPageSettings.currentMemebrPage),c.splice(-1,1));this._appendTreeViewData(c,l)}oclientProxy.element.find("#clientDialog_closebutton").attr("title",oclientProxy._getLocalizedLabels("Close"));oclientProxy._unWireEvents();oclientProxy._wireEvents();oclientProxy._waitingPopup.hide()},_editorTreePageInfoSuccess:function(r){var f,u;!t.isNullOrUndefined(oclientProxy)&&oclientProxy.model.enableMemberEditorPaging&&(f=r[0]!=i?r[0].Value:r.d!=i?r.d[0].Value:r.EditorTreeInfo,t.isNullOrUndefined(oclientProxy._memberPageSettings.filterReportCollection[oclientProxy._memberPageSettings.currentMemebrPage])||(u=n.grep(f,function(n){return oclientProxy._memberPageSettings.filterReportCollection[oclientProxy._memberPageSettings.currentMemebrPage].split("CHECKED")[0].indexOf(n.tag)>=0&&(n.checkedStatus=!1),n}),r[0]!=i?r[0].Value=JSON.stringify(u):r.d!=i?r.d[0].Value=JSON.stringify(u):r.EditorTreeInfo=JSON.stringify(u)));t.Pivot.editorTreePageInfoSuccess(r,this)},_appendTreeViewData:function(i,r){var f,u;for(this.element.find(".editorTreeView").ejTreeView({showCheckbox:!0,loadOnDemand:!0,enableRTL:this.model.enableRTL,nodeUncheck:function(t){oclientProxy._isMembersFiltered=!0;n(t.currentElement).parents(".e-treeview").find(".e-checkbox:checked").length==0&&oclientProxy.element.find(".dialogOKBtn").data("ejButton").disable()},nodeCheck:function(){oclientProxy._isMembersFiltered=!0;oclientProxy.element.find(".dialogOKBtn").data("ejButton").enable()},beforeDelete:function(){return!1},height:n(".memberEditorDiv").height(),fields:{id:"id",hasChild:"hasChildren",text:"name",isChecked:"checkedStatus",dataSource:i},beforeExpand:t.proxy(this._onNodeExpand,this)}),f=this.element.find(".editorTreeView").find("li"),u=0;u<f.length;u++)n(f[u]).attr("tag",i[u].tag);this.memberTreeObj=this.element.find(".editorTreeView").data("ejTreeView");r||!this.model.enableAdvancedFilter||t.isNullOrUndefined(this.memberTreeObj)||(t.isNullOrUndefined(this.element.find(".e-treeview li[tag='"+this._selectedLevelUniqueName+"']").attr("labelFiltering"))||this.memberTreeObj.element.find("."+this.element.find(".e-treeview li[tag='"+this._selectedLevelUniqueName+"']").attr("labelFiltering").split("--")[1].replace(" ","")+" a").append(t.buildTag("div.activeFilter").addClass("e-icon")[0].outerHTML),this.element.find(".e-titlebar").hide(),this._groupLabelChange({selectedValue:this.element.find(".groupLabelDrop").data("ejDropDownList").model.value||this.element.find(".groupLabelDrop").data("ejDropDownList").model.dataSource[0].value}),this.element.find(".memberEditorDiv").height(286),this.element.find(".editorTreeView").height(256))},_onPreventPanelClose:function(){oclientProxy.element.find("#preventDiv").remove()},_createMeasureEditor:function(t){var u,f,r;for(u=t[0]!=i?n.parseJSON(t[0].Value):t.d!=i?n.parseJSON(t.d[0].Value):n.parseJSON(t.EditorTreeInfo),f="",r=0;r<u.length;r++)f+='<div id="'+u[r].uniqueName+'"class=measureEditor>'+u[r].name+"<span class='removeMeasure e-icon' role='button' aria-label='remove'><\/span><\/div>";return f},_onNodeExpand:function(t){for(var e,f,o,u=t.targetElement,s=n(u).parents("li").first().children().find("li").length,r=0;r<oclientProxy.memberTreeObj.dataSource().length;r++)if(oclientProxy.memberTreeObj.dataSource()[r].parentId==t.id){t.isChildLoaded=!0;break}if(!t.isChildLoaded){if(e=n(u).parent().find("input.e-checkbox").prop("checked"),f=n(u).parents("li").first().attr("tag"),f==i)for(r=0;r<oclientProxy.memberTreeObj.dataSource().length;r++)if(oclientProxy.memberTreeObj.dataSource()[r].id==t.id){f=oclientProxy.memberTreeObj.dataSource()[r].tag;n(t.currentElement[0]).attr("tag",oclientProxy.memberTreeObj.dataSource()[r].tag);break}this.pNode=u;this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"memberExpanded",element:this.element,customObject:this.model.customObject});o=JSON.stringify(this.model.customObject);this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.memberExpand,JSON.stringify({action:"memberExpanded",checkedStatus:e,parentNode:n(u).parents("li")[0].id,tag:f,dimensionName:this._dimensionName,cubeName:this.currentCubeName,olapReport:this.currentReport,clientReports:this.reports,customObject:o}),this._fetchChildNodeSuccess)}},_onActiveConditionChange:function(t){t.selectedValue=="Between"||t.selectedValue=="NotBetween"?(n(".filterTo").removeAttr("disabled"),n(".filterBtw").removeClass("sortFilterDisable")):(n(".filterTo").attr("disabled","disabled"),oclientProxy.element.find(".filterTo").val(""),n(".filterBtw").addClass("sortFilterDisable"))},_reSizeHandler:function(){oclientProxy._parentElwidth=n("#"+oclientProxy._id).parent().width();oclientProxy._parentElwidth<850||oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode&&oclientProxy._parentElwidth<910?oclientProxy._rwdToggleCollapse():(oclientProxy._parentElwidth>850||oclientProxy.model.operationalMode==t.Pivot.OperationalMode.ClientMode&&oclientProxy._parentElwidth>910)&&oclientProxy._rwdToggleExpand()},_chartDrillSuccess:function(){oclientProxy.currentReport!=i&&(currentReport=oclientProxy.currentReport);oclientProxy.reports!=i&&(reports=oclientProxy.reports);this._pivotChart._startDrilldown&&this._pivotGrid!=null&&this._pivotGrid!=i?this._renderPivotGrid(this._pivotChart._selectedTagInfo):oclientProxy._pivotGrid!=i&&oclientProxy._pivotGrid.element.find("table")=="block"&&oclientProxy._waitingPopup.hide()},_treemapDrillSuccess:function(){oclientProxy.currentReport!=i&&(currentReport=oclientProxy.currentReport);oclientProxy.reports!=i&&(reports=oclientProxy.reports);this.otreemapObj._startDrilldown&&this._pivotGrid!=null&&this._pivotGrid!=i?this._renderPivotGrid(this.otreemapObj._selectedTagInfo):oclientProxy._pivotGrid!=i&&oclientProxy._pivotGrid.element.find("table")=="block"&&oclientProxy._waitingPopup.hide();t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.model.displaySettings.enableFullScreen||oclientProxy.enableTogglePanel()&&oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap")&&(n("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").css({width:"100%"}),oclientProxy.otreemapObj._treeMap.refresh())},_gridDrillSuccess:function(){var r,f,u,e;if(oclientProxy.currentReport!=i&&(currentReport=oclientProxy.currentReport),oclientProxy.reports!=i&&(reports=oclientProxy.reports),this._pivotGrid._startDrilldown&&!t.isNullOrUndefined(this._pivotChart)){if(f=this._pivotGrid._drillCaption,oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap"))),!t.isNullOrUndefined(oclientProxy.chartObj))if(oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()!="treemap")jQuery.each(this._pivotChart._labelCurrentTags,function(n,t){t!=i&&t.name==f&&(u=t.tag,r=t)}),oclientProxy._pivotChart._drillAction=this._pivotGrid._drillAction,oclientProxy._pivotChart._selectedItem=f,this._pivotGrid._drillAction!="drilldown"||t.isNullOrUndefined(r)?t.isNullOrUndefined(r)||(jQuery.each(this.element.find(".rowAxis").find("button"),function(n,t){t.innerHTML==r.tag.split("[")[1].split("]")[0]&&(oclientProxy._pivotChart._dimensionIndex=n)}),jQuery.each(oclientProxy._pivotChart._tagCollection,function(n,t){if(t!=i&&t.name==f)return oclientProxy._pivotChart._selectedIndex=n+oclientProxy._pivotChart._dimensionIndex,oclientProxy._pivotChart._tagCollection.splice(n,oclientProxy._pivotChart._tagCollection.length),!1})):oclientProxy._pivotChart._tagCollection.push(r),u!=null&&u!=i?oclientProxy._renderPivotChart(u,this._pivotGrid._drillAction):oclientProxy._waitingPopup.hide();else{for(e=0;e<oclientProxy.otreemapObj.getJsonRecords().labelTags.length;e++)if(oclientProxy.otreemapObj.getJsonRecords().labelTags[e].split("::")[2]==f){u=oclientProxy.otreemapObj.getJsonRecords().labelTags[e];break}oclientProxy.otreemapObj_currentAction=this._pivotGrid._drillAction;oclientProxy.otreemapObj._selectedItem=f;this._pivotGrid._drillAction!="drilldown"||t.isNullOrUndefined(r)?t.isNullOrUndefined(r)||(jQuery.each(this.element.find(".rowAxis").find("button"),function(n,t){t.innerHTML==r.tag.split("[")[1].split("]")[0]&&(oclientProxy.otreemapObj._dimensionIndex=n)}),jQuery.each(oclientProxy.otreemapObj._tagCollection,function(n,t){if(t!=i&&t.name==f)return oclientProxy.otreemapObj._selectedIndex=n+oclientProxy.otreemapObj._dimensionIndex,oclientProxy.otreemapObj._tagCollection.splice(n,oclientProxy.otreemapObj._tagCollection.length),!1})):oclientProxy.otreemapObj._tagCollection.push(r);u!=null&&u!=i?oclientProxy._renderPivotTreeMap(u,this._pivotGrid._drillAction):oclientProxy._waitingPopup.hide()}}else n("#"+oclientProxy._waitingPopup._id+"_WaitingPopup")[0].style.display=="block"&&oclientProxy._waitingPopup.hide()},_nodeDropped:function(t){var e,r,f,u,o,s;if(t.dropTarget.prevObject!=i?t.dropTarget.prevObject.removeClass("targetAxis"):n(t.dropTarget).removeClass("targetAxis"),isDragging=!1,e=this._setSplitBtnTargetPos(t.event),t.dropTarget.prevObject!=i?t.dropTarget.prevObject.parents().find(".e-dialog").hide():n(t.dropTarget).parents().find(".e-dialog").hide(),r=null,n(t.dropTarget).hasClass("splitBtn"))r=n(t.dropTarget).parents("div:eq(0)").attr("class");else if(t.event.type=="touchend")r=t.dropTarget[0].className;else if(t.event.target!=i){if(t.event.target.className==i||t.event.target.className==null||n(t.event.target).parents(".chartContainer").length>0)return!1;r=t.event.target.className.toLowerCase().indexOf("splitbtn")>-1||n(t.event.target).hasClass("e-button")?n(t.dropTarget).attr("class"):t.event.target.className}else r=t.event.originalEvent.srcElement.className.toLowerCase().indexOf("splitbtn")>-1?t.dropTarget[0].className:t.event.originalEvent.srcElement.className;f=r.indexOf("categoricalAxis")>r.indexOf("rowAxis")?r.indexOf("categoricalAxis")>r.indexOf("slicerAxis")?"Categorical":"Slicer":r.indexOf("rowAxis")>r.indexOf("slicerAxis")?"Series":r.indexOf("slicerAxis")>=0?"Slicer":null;u=n(t.droppedElement).attr("tag");f!=null&&u!="Measures"&&u.lastIndexOf(".DF")!=u.length-3&&(f=="Slicer"&&(u.indexOf("Measures")>=0||n(t.droppedElement[0].childNodes[0]).find(".namedSetCDB").length>0)||(oclientProxy._waitingPopup.show(),this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"nodeDropped",element:this.element,customObject:this.model.customObject}),o=JSON.stringify(this.model.customObject),s=oclientProxy.currentCubeName+"--"+n(t.droppedElement).attr("tag")+"--"+f+"--"+e,oclientProxy.doAjaxPost("POST",oclientProxy.model.url+"/"+oclientProxy.model.serviceMethodSettings.nodeDropped,JSON.stringify({action:"nodeDropped",dropType:"TreeNode",nodeInfo:s,olapReport:oclientProxy.currentReport,clientReports:oclientProxy.reports,customObject:o}),oclientProxy._nodeDroppedSuccess)));oclientProxy._isRemoved=!0;oclientProxy._isNodeOrButtonDropped=!0},_setSplitBtnTargetPos:function(t){var o="",e,r,u,f;if(t.event!=i&&t.event.type=="touchend"?(r=t.event.originalEvent.target!=null?n(t.event.originalEvent.target).parents(".splitBtn"):n(t.event.originalEvent.srcElement).parents(".splitBtn"),u=t.event.originalEvent.target!=null?t.event.originalEvent.target.className:t.event.originalEvent.srcElement.className):(r=t.originalEvent.target!=null?n(t.originalEvent.target).parents(".splitBtn"):n(t.originalEvent.srcElement).parents(".splitBtn"),u=t.originalEvent.target!=null?t.originalEvent.target.className:t.originalEvent.srcElement.className),r[0]||u!=i&&u!=null&&jQuery.type(u)=="string"&&u.indexOf("splitBtn")>-1)if(r=r[0]?r[0]:t.originalEvent.target!=null?t.originalEvent.target:t.originalEvent.srcElement,e=t.event!=i&&t.event.type=="touchend"?t.target:this._dropAxisClassName!=null&&this._dropAxisClassName!=i&&this._dropAxisClassName!=""?this.element.find("."+this._dropAxisClassName)[0]:r.parentNode,e!=i)for(f=0;f<n(e).find(".splitBtn").length;f++)n(e).find(".splitBtn")[f]==r&&(o=f);else oclientProxy._dropAxisClassName="";return o},_cubeChanged:function(n){if(oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=null,oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap"))),this.currentCubeName==n.text)return!1;this.currentCubeName=n.text;oclientProxy._waitingPopup.show();this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"cubeChanged",element:this.element,customObject:this.model.customObject});var i=JSON.stringify(this.model.customObject);this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.cubeChanged,JSON.stringify({action:"cubeChanged",cubeName:this.currentCubeName,customObject:i,clientParams:JSON.stringify(this.model.enableMeasureGroups)}),this._cubeChangedSuccess)},_measureGroupChanged:function(n){oclientProxy._waitingPopup.show();this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"cubeChanged",element:this.element,customObject:this.model.customObject});var t=JSON.stringify(this.model.customObject);this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.measureGroupChanged,JSON.stringify({action:"measureGroupChanged",measureGroupName:n.text,customObject:t}),this._measureGroupChangedSuccess)},_reportChanged:function(i){var f=this.element.find("#reportList").data("ejDropDownList"),r,u;if(this.model.operationalMode==t.Pivot.OperationalMode.ClientMode)r=n.map(this._clientReportCollection,function(n){if(n.reportName==f.getValue())return n}),this.model.dataSource=r[0],this.refreshControl(),this._pivotSchemaDesigner._refreshPivotButtons(),this._waitingPopup.hide();else if(this.model.analysisMode==t.Pivot.AnalysisMode.Pivot){if(!this._isReportListAction)return;this._waitingPopup.show();r=n.map(this._clientReportCollection,function(n){if(n.name==f.getValue())return n});this._currentReportName=r[0].name;this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"toolbarOperation",element:this.element,customObject:this.model.customObject});u=JSON.stringify(this.model.customObject);this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"Change Report",args:JSON.stringify({currentReport:r[0].report}),customObject:u}),this._toolbarOperationSuccess)}else i.selectedText!=this._selectedReport&&(this._waitingPopup.show(),this.model.beforeServiceInvoke!=null&&this._trigger("beforeServiceInvoke",{action:"toolbarOperation",element:this.element,customObject:this.model.customObject}),u=JSON.stringify(this.model.customObject),this.doAjaxPost("POST",this.model.url+"/"+this.model.serviceMethodSettings.toolbarServices,JSON.stringify({action:"toolbarOperation",toolbarOperation:"Report Change",clientInfo:i.text,olapReport:null,clientReports:this.reports,customObject:u}),this._toolbarOperationSuccess));this._selectedReport=f._currentText},_onDropped:function(n){if(n.target.className.indexOf("e-button")>-1){var t=this._getAxisPosition(this.element.find(".categoricalAxis")),r=this._getAxisPosition(this.element.find(".rowAxis")),u=this._getAxisPosition(this.element.find(".slicerAxis"));this._dropAxisClassName;n.pageX!=i&&n.pageY!=i&&(this._dropAxisClassName=n.pageX>t.left&&n.pageX<t.right&&n.pageY>t.top&&n.pageY<t.bottom?"categoricalAxis":n.pageX>r.left&&n.pageX<r.right&&n.pageY>r.top&&n.pageY<r.bottom?"rowAxis":n.pageX>u.left&&n.pageX<u.right&&n.pageY>u.top&&n.pageY<u.bottom?"slicerAxis":"outOfAxis")}},_getAxisPosition:function(t){var r=t.position(),i={};return i.top=r.top,i.right=r.left+n(t).width(),i.bottom=r.top+n(t).height(),i.left=r.left,i},_onTabClick:function(i){oclientProxy.displayMode()!=t.PivotClient.DisplayMode.GridOnly&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy._pivotChart._id+"Container").data("ejChart"),t.isNullOrUndefined(oclientProxy.chartObj)&&oclientProxy.model.enablePivotTreeMap&&!t.isNullOrUndefined(oclientProxy.otreemapObj)&&(oclientProxy.chartObj=oclientProxy.element.find("#"+oclientProxy.otreemapObj._id+"TreeMapContainer").data("ejTreeMap")));currentTab="chart";n(i.activeHeader).find("a").text()==this._getLocalizedLabels("Grid")?(currentTab="grid",oclientProxy.element.find(".chartTypesImg").addClass("chartTypesOnGridView"),oclientProxy.element.find(".gridPanel").css("display","inline")):t.isNullOrUndefined(oclientProxy.chartObj)||(currentTab="chart",oclientProxy.element.find(".chartTypesImg").removeClass("chartTypesOnGridView"),t.isNullOrUndefined(oclientProxy.chartObj)||(oclientProxy.chartObj.sfType.split(".").pop().toLowerCase()=="treemap"?oclientProxy.otreemapObj._treeMap.refresh():oclientProxy.chartObj.redraw()))},doAjaxPost:function(r,u,f,e,o,s){var h,c,l,a=!0;f.XMLA==i?(h="application/json; charset=utf-8",c="json",l=n.proxy(e,this)):(h="text/xml",c="xml",f=f.XMLA,l=n.proxy(e,t.olap.base,s),a=t.browserInfo().name=="msie"&&t.browserInfo().version<=9?!1:!t.isNullOrUndefined(s)&&s.action!="loadFieldElements"?!0:!1);n.ajax({type:r,url:u,contentType:h,dataType:c,async:a,data:f,success:l,complete:t.proxy(function(){var n={customObject:this.model.customObject,element:this.element};this._trigger("renderComplete",n)},this),error:t.proxy(function(t){oclientProxy._waitingPopup=n("#"+this._id).data("ejWaitingPopup");oclientProxy._waitingPopup.hide();var i={customObject:this.model.customObject,element:this.element,Message:t};this._trigger("renderFailure",i);this._renderControlSuccess("")},this)})},doPostBack:function(t,i){var r=n("<form>").attr({action:t,method:"POST",name:"export"}),f=function(t,i){var u=n('<input type="hidden" title="params">').attr({id:t,name:t,value:i}).appendTo(r)};for(var u in i)f(u,i[u]);r.appendTo(document.body).submit().remove()}});t.PivotClient.Locale={};t.PivotClient.Locale["en-US"]={Sort:"Sort",SelectField:"select Field",LabelFilterLabel:"Show the items for which the label",ValueFilterLabel:"Show the items for which",LabelFilters:"Label Filters  ",BeginsWith:"Begins With",NotBeginsWith:"Not Begins With",EndsWith:"Ends With",NotEndsWith:"Not Ends With",Contains:"Contains",NotContains:"Not Contains",ValueFilters:"Value Filters",ClearFilter:"Clear Filter",Equals:"Equals",NotEquals:"Not Equals",GreaterThan:"Greater Than ",GreaterThanOrEqualTo:"Greater Than Or Equal To ",LessThan:"Less Than ",LessThanOrEqualTo:"Less Than Or Equal To ",Between:"Between",NotBetween:"Not Between",Top10:"Top Count",DeferUpdate:"Defer Update",MDXQuery:"MDX Query",Column:"Column",Row:"Row",Slicer:"Slicer",CubeSelector:"Cube Selector",ReportName:"Report Name",NewReport:"New Report",CubeDimensionBrowser:"Cube Dimension Browser",AddReport:"Add Report",RemoveReport:"Remove Report",CannotRemoveSingleReport:"Can not remove single report",AreYouSureToDeleteTheReport:"Are you sure to delete the Report",RenameReport:"Rename Report",SaveReport:"Save Report",ChartTypes:"Chart Types",ToggleAxis:"Toggle Axis",LoadReport:"Load Report",ExportToExcel:"Export To Excel",ExportToWord:"Export To Word",ExportToPdf:"Export To Pdf",FullScreen:"Full Screen",Grid:"Grid",Chart:"Chart",OK:"<u>O<\/u>K",Cancel:"<u>C<\/u>ancel",Close:"Close",AddToColumn:"Add to Column",AddToRow:"Add to Row",AddToSlicer:"Add to Slicer",MeasureEditor:"Measure Editor",MemberEditor:"Member Editor",Measures:"Measures",SortOrFilterColumn:"Sort/Filter (Column)",SortOrFilterRow:"Sort/Filter (Row)",SortingAndFiltering:"Sorting And Filtering",Sorting:"Sorting",Measure:"<u>M<\/u>easure",Order:"Order",Filtering:"Filtering",Condition:"C<u>o<\/u>ndition",Value:"Val<u>u<\/u>e",PreserveHierarchy:"P<u>r<\/u>eserve  Hierarchy",Ascending:"<u>A<\/u>scending",Descending:"D<u>e<\/u>scending",Enable:"E<u>n<\/u>able",Disable:"D<u>i<\/u>sable",and:"<u>a<\/u>nd",EqualTo:"EqualTo",NotEquals:"NotEquals",GreaterThan:"GreaterThan",GreaterThanOrEqualTo:"GreaterThanOrEqualTo",LessThan:"LessThan",LessThanOrEqualTo:"LessThanOrEqualTo",Between:"Between",NotBetween:"NotBetween",ReportList:"Report List",Line:"Line",Spline:"Spline",Column:"Column",Area:"Area",SplineArea:"Spline Area",StepLine:"Step Line",StepArea:"Step Area",Pie:"Pie",Bar:"Bar",StackingArea:"Stacking Area",StackingColumn:"Stacking Column",StackingBar:"Stacking Bar",Pyramid:"Pyramid",Funnel:"Funnel",Doughnut:"Doughnut",Scatter:"Scatter",Bubble:"Bubble",TreeMap:"TreeMap",Alert:"Alert",MDXAlertMsg:"Please add a measure, dimension or hierarchy in an appropriate axis to view the MDX Query.",FilterSortRowAlertMsg:"Dimension not found in row axis. Please add Dimension element in row axis for sorting/filtering.",FilterSortColumnAlertMsg:"Dimension not found in column axis. Please add Dimension element in column axis for sorting/filtering.",FilterSortcolMeasureAlertMsg:"Please add measure to the Column axis",FilterSortrowMeasureAlertMsg:"Please add measure to the Row axis",FilterSortElementAlertMsg:"Element not found in column axis. Please add an element in column axis for sorting/filtering.",LoadReportAlertMsg:"Please select a valid report",FilterMeasureSelectionAlertMsg:"Please select a valid measure.",FilterConditionAlertMsg:"Please set a valid condition.",FilterStartValueAlertMsg:"Please set a start value.",FilterEndValueAlertMsg:"Please set a end value.",FilterInvalidAlertMsg:"Invalid operation !"};t.PivotClient.ControlPlacement={Tab:"tab",Tile:"tile"};t.PivotClient.DisplayMode={ChartOnly:"chartonly",GridOnly:"gridonly",ChartAndGrid:"chartandgrid"};t.PivotClient.ClientExportMode={ChartAndGrid:"chartandgrid",ChartOnly:"chartonly",GridOnly:"gridonly"};t.PivotClient.DefaultView={Chart:"chart",Grid:"grid"}})(jQuery,Syncfusion)});
