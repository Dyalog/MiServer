/*!
*  filename: ej.radialmenu.min.js
*  version : 14.1.0.46
*  Copyright Syncfusion Inc. 2001 - 2016. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.radialmenubase.min"],n):n()})(function(){(function($,ej){ej.widget("ejRadialMenu","ej.RadialMenu",{_rootCSS:"e-radialmenu",element:null,model:null,_setFirst:!0,defaults:{imageClass:"e-radialimage",backImageClass:"e-backimage",targetElementId:null,click:null,select:null,autoOpen:!1,position:{x:null,y:null}},dataTypes:{autoOpen:"boolean"},_init:function(){this._id=this.element[0].id;ej.browserInfo().name=="msie"&&ej.browserInfo().version<9||(this._initialization(),this._prefix="e-",this._renderRadial(),this._wireEvents())},_renderRadial:function(){this._radial=ej.buildTag("div.e-radial e-abs "+this.model.imageClass+"").css({left:this._startXY-22+"px",top:this._startXY-22+"px"});this._radialContainer=ej.buildTag("div.e-rel").css({height:this._diameter,width:this._diameter});this.element.append(this._radialContainer.append(this._radial)).addClass("e-radialmenu e-overlow e-user-select e-abs");this._radialInitialPosition();this._renderRadialMenu();var n=this._childArcGroup.children(),t=this._polygonGroup.children();this._on(n,"mouseenter",this._arcOverHandler);this._on(n,"mouseleave",this._arcOverHandler);this._on(t,"mouseenter",this._arcOverHandler);this._on(t,"mouseleave",this._arcOverHandler);this._itemsEvents(this._menuItemsGroup.children(),this._menuItemsPaths.children(),this._menuItemsArcGroup.children())},_wireEvents:function(){var n=$(document);this._radialClick=$.proxy(this._showMenu,this);this._targetDown=$.proxy(this._targetDownHandler,this);this._targetClick=$.proxy(this._targetClickHandler,this);this._itemClick=$.proxy(this._itemClickHandler,this);ej.listenEvents([this._radial,this._radialSVGDiv,n,n],[ej.endEvent(),ej.endEvent(),ej.endEvent(),ej.startEvent()],[this._radialClick,this._itemClick,this._targetClick,this._targetDown],!1)},_itemsEvents:function(n,t,i){this._on(n,"mouseenter",this._itemOverHandler);this._on(n,"mouseleave",this._itemOverHandler);this._on(t,"mouseenter",this._itemOverHandler);this._on(t,"mouseleave",this._itemOverHandler);this._on(i,"mouseenter",this._itemOverHandler);this._on(i,"mouseleave",this._itemOverHandler)},_showMenu:function(){this._radial.hasClass("e-backarrow")?this._windowsInnerMenuHide(this):this._radialCircleSVGDiv.hasClass("e-displaynone")?this._windowsMenuShow():this._windowsMenuHide(this);this._childTarget=!1},_itemClickHandler:function(e){var targetEle=$(e.target),currentItem;if(targetEle.attr("class")=="e-active"||e.target.tagName=="polygon")if(this._index=parseInt(targetEle.attr("index")),this._ejMenuBaseItemsRemove(),currentItem=this.model.items[this._index],currentItem.type&&currentItem.type.toLowerCase()==ej.RadialMenu.ItemType.Slider){var ticks=currentItem.sliderSettings.ticks?eval(currentItem.sliderSettings.ticks):[8,9,11,13,16,20,26,36,72],value=currentItem.badge.value?parseInt(currentItem.badge.value):10,stroke=currentItem.sliderSettings.strokeWidth?parseInt(currentItem.sliderSettings.strokeWidth):1,labelSpace=currentItem.sliderSettings.labelSpace?parseInt(currentItem.sliderSettings.labelSpace):22;this._menuChildSVGDiv.ejRadialSlider({showInnerCircle:!1,enableAnimation:!1,radius:this.model.radius-29,inline:!0,strokeWidth:stroke,labelSpace:labelSpace,value:value,ticks:ticks,change:$.proxy(this._radialSliderHandler,this)});this._radialSVGDiv.append(this._menuChildSVGDiv)}else this._renderRadialChildMenu(currentItem),this._childTarget=!0,this._itemsEvents(this._childItemsGroup.children(),this._childItemsPaths.children(),this._childItemArcGroup.children());this._eventAction(e);this._event&&(this._eventsTrigger(this._data,"click"),this._eventsTrigger(this._data,"select"));this._event=!1},_eventAction:function(n){var t=$(n.target),u=t.attr("class"),f=n.target.tagName,i,r;u=="e-itembgcolor"||u=="e-default"?(i=t.index(),r=this._childTarget?$(this._childItemsGroup.children()[t.index()]).text():$(this._menuItemsGroup.children()[t.index()]).text(),this._event=!0,this._data=this._childTarget?{index:this._index,childIndex:i,text:r}:{index:i,text:r}):(f!="text"||this._isRSText(u))&&f!="image"||(i=t.parent().index(),r=t.parent().text(),this._event=!0,this._data=this._childTarget?{index:this._index,childIndex:i,text:r}:{index:i,text:r})},_radialInitialPosition:function(){this._targetElement=$("#"+this.model.targetElementId+"");this.model.autoOpen?(this.model.position.x!=null&&this.model.position.y!=null?this.element.css({top:this.model.position.y+"px",left:this.model.position.x+"px"}):this.model.targetElementId&&this.element.css({top:this._targetElement.height()/2-this.model.radius+"px",left:this._targetElement.width()/2-this.model.radius+"px"}),this.show()):this.hide()},_radialChildAnimate:function(){var n=this;setTimeout(function(){n._radialChildSVGDiv.removeClass("e-scalehide e-scaleshow").addClass("e-displaynone")},150)},_arcOverHandler:function(n){var t=$(n.target),r=parseInt(t.attr("index")),i=$(this._childArcGroup.find("path[index="+r+"]"));n.type=="mouseenter"?t.attr("class")=="e-childdefault"?t.attr("class","e-active"):i.attr("class","e-active"):t.attr("class")=="e-active"?t.attr("class","e-childdefault"):i.attr("class","e-childdefault")},_itemOverHandler:function(n){var t=$(n.currentTarget).index(),i=this._childTarget?$(this._childItemsArcPaths.children()[t]):$(this._menuItemsArcPaths.children()[t]);n.type=="mouseenter"?i.attr("class","e-childdefault"):i.attr("class","e-arcbgcolor")},_targetDownHandler:function(n){var t=$(n.target);!t.hasClass("e-rel")&&$(t.closest(".e-radialmenu")).length&&n.preventDefault()},_targetClickHandler:function(n){var r=$(n.target),u=n.clientX,f=n.clientY,t,i,e=$(r.closest(".e-radialmenu")).length,o=this._radialCircleSVGDiv.hasClass("e-displaynone"),s,h;this.model.targetElementId?(t=this._targetElement.width(),i=this._targetElement.height()):(t=window.innerWidth,i=window.innerHeight);e==0&&$(r.closest(this._targetElement)).length==0&&this.model.targetElementId?o?this.hide():this.hideMenu():$(r.closest("div.e-radial")).length==0&&o?(s=u>t-this.model.radius?t-this._diameter:u>this.model.radius?u-this.model.radius:0,h=f>i-this.model.radius?i-this._diameter:f>this.model.radius?f-this.model.radius:0,this.element.css({top:h+"px",left:s+"px"})):e==0&&this.hideMenu()},_menuItems:function(n,t,i){this._ejMenuItem(n,t,i)},_hideMenu:function(){this._radial.hasClass("e-backarrow")?this._ejInnerMenuHide(this):this._ejMenuHide(this)},setPosition:function(n,t){this.element.css({top:t+"px",left:n+"px"});this.show()},menuHide:function(){this._hideMenu()},enableItem:function(n){this._ejMenuEnabledDisabled(n,"enabled")},disableItem:function(n){this._ejMenuEnabledDisabled(n,"disabled")},enableItems:function(n){this._ejMenuEnabledDisabled(n,"enabled")},disableItems:function(n){this._ejMenuEnabledDisabled(n,"disabled")},_ejMenuEnabledDisabled:function(n,t){var i=this,r=$.isArray(n)?n:$.makeArray(n);$.each(r,function(n,r){$.each(i.model.items,function(n,u){u.text.toLowerCase()==r.toLowerCase()&&i._menuItems(this,n,t);u.items&&$.each(u.items,function(n,i){i.text.toLowerCase()==r.toLowerCase()&&(i.enabled=t=="disabled"?!1:!0)})})})}});ej.RadialMenu.ItemType={Default:"default",Slider:"slider"};$.extend(!0,ej.RadialMenu.prototype,ej.RadialMenuBase.prototype)})(jQuery,Syncfusion)});
